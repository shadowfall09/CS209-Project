{"items":[{"tags":["java","android","android-studio","gradle"],"owner":{"account_id":25056828,"reputation":11,"user_id":18912114,"display_name":"Веня Выровой"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650658935,"creation_date":1650658935,"question_id":71974223,"body_markdown":"I&#39;m very new to Androind and Java programming and have a basic issue with loading dependencies.\r\n\r\nI want to use ZeroOneZero [android_audio_mixer library](https://github.com/ZeroOneZeroR/android_audio_mixer). I add lines to my gradle files according to the guidlines in the README. \r\n\r\n**./build.gradle**\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &#39;https://jitpack.io&#39; }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.1.1&#39;\r\n\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\n**./app/build.gradle**\r\n```\r\ndependencies {\r\n            ...\r\n\t        implementation &#39;com.github.ZeroOneZeroR:android_audio_mixer:v1.1&#39;\r\n\t}\r\n```\r\n\r\nThere&#39;s one difference - in a modern Android studio project there&#39;s no `allprojects` section while in README it was told to put `maven { url &#39;https://jitpack.io&#39; }` there ([here&#39;s the link](https://github.com/ZeroOneZeroR/android_audio_mixer#installation)).\r\n\r\n\r\nSo, having all this I want to use the library code in my activity:\r\n\r\n```java\r\nimport zeroonezero.android.audio_mixer.AudioMixer;\r\nimport zeroonezero.android.audio_mixer.input.AudioInput;\r\nimport zeroonezero.android.audio_mixer.input.BlankAudioInput;\r\nimport zeroonezero.android.audio_mixer.input.GeneralAudioInput;\r\n\r\nimport java.io.File;\r\n\r\npublic class MergeFiles extends AppCompatActivity{\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_merge_files);\r\n        \r\n        ...\r\n\r\n        AudioInput input1 = new GeneralAudioInput(uri);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nAnd I get errors - `zeroonezero` package is unknown (yes I rebuilt gradle). Hence, `AudioInput` type is unknown.\r\n\r\nWhat I do wrong and how can I load this dependency? How should I setup gradle files?","title":"How to load ZeroOneZeroR Auido Mixer Dependency in Android project","body":"<p>I'm very new to Androind and Java programming and have a basic issue with loading dependencies.</p>\n<p>I want to use ZeroOneZero <a href=\"https://github.com/ZeroOneZeroR/android_audio_mixer\" rel=\"nofollow noreferrer\">android_audio_mixer library</a>. I add lines to my gradle files according to the guidlines in the README.</p>\n<p><strong>./build.gradle</strong></p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven { url 'https://jitpack.io' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.1.1'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>./app/build.gradle</strong></p>\n<pre><code>dependencies {\n            ...\n            implementation 'com.github.ZeroOneZeroR:android_audio_mixer:v1.1'\n    }\n</code></pre>\n<p>There's one difference - in a modern Android studio project there's no <code>allprojects</code> section while in README it was told to put <code>maven { url 'https://jitpack.io' }</code> there (<a href=\"https://github.com/ZeroOneZeroR/android_audio_mixer#installation\" rel=\"nofollow noreferrer\">here's the link</a>).</p>\n<p>So, having all this I want to use the library code in my activity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import zeroonezero.android.audio_mixer.AudioMixer;\nimport zeroonezero.android.audio_mixer.input.AudioInput;\nimport zeroonezero.android.audio_mixer.input.BlankAudioInput;\nimport zeroonezero.android.audio_mixer.input.GeneralAudioInput;\n\nimport java.io.File;\n\npublic class MergeFiles extends AppCompatActivity{\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_merge_files);\n        \n        ...\n\n        AudioInput input1 = new GeneralAudioInput(uri);\n    }\n}\n\n\n</code></pre>\n<p>And I get errors - <code>zeroonezero</code> package is unknown (yes I rebuilt gradle). Hence, <code>AudioInput</code> type is unknown.</p>\n<p>What I do wrong and how can I load this dependency? How should I setup gradle files?</p>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":3410595,"reputation":647,"user_id":2860598,"accept_rate":100,"display_name":"Peter_James"},"score":6,"creation_date":1385030716,"post_id":20118743,"comment_id":29980202,"body_markdown":"Yes, if the method return types are boolean. Then use `&amp;` instead of `&amp;&amp;`. `&amp;&amp;` means if the first one is false stop, `&amp;` will continue on regardless.","body":"Yes, if the method return types are boolean. Then use <code>&amp;</code> instead of <code>&amp;&amp;</code>. <code>&amp;&amp;</code> means if the first one is false stop, <code>&amp;</code> will continue on regardless."},{"owner":{"account_id":1316894,"reputation":10675,"user_id":1263543,"display_name":"benzonico"},"score":1,"creation_date":1385030836,"post_id":20118743,"comment_id":29980293,"body_markdown":"You can also simply assign the result of your methods in a variable and evaluate those variable in your condition","body":"You can also simply assign the result of your methods in a variable and evaluate those variable in your condition"},{"owner":{"account_id":1552258,"reputation":157,"user_id":1444390,"accept_rate":100,"display_name":"venkat"},"score":0,"creation_date":1526453956,"post_id":20118743,"comment_id":87744702,"body_markdown":"@peter_James - really nice answer","body":"@peter_James - really nice answer"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1385030799,"creation_date":1385030799,"answer_id":20118784,"question_id":20118743,"body_markdown":"That’s quite simple: use the `&amp;` operator instead of `&amp;&amp;`.\r\n\r\nFrom: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.23\r\n\r\n&gt; The conditional-and operator &amp;&amp; is like &amp; ([&#167;15.22.2](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.22.2)), but evaluates its right-hand operand only if the value of its left-hand operand is true.","title":"If statement executing all conditions","body":"<p>That’s quite simple: use the <code>&amp;</code> operator instead of <code>&amp;&amp;</code>.</p>\n\n<p>From: <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.23\">http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.23</a></p>\n\n<blockquote>\n  <p>The conditional-and operator &amp;&amp; is like &amp; (<a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.22.2\">§15.22.2</a>), but evaluates its right-hand operand only if the value of its left-hand operand is true.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1385031110,"creation_date":1385030807,"answer_id":20118786,"question_id":20118743,"body_markdown":"Use the bitwise `&amp;` operator, which evaluates both sides of the condition and stops the conditional from short circuiting.  As you have noticed the `&amp;&amp;` and `||` conditional operators will short circuit once the result of the expression can be determined.\r\n\r\n    if (methodA() &amp; methodB() &amp; methodC()) {code}\r\n\r\n[Documentation][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html","title":"If statement executing all conditions","body":"<p>Use the bitwise <code>&amp;</code> operator, which evaluates both sides of the condition and stops the conditional from short circuiting.  As you have noticed the <code>&amp;&amp;</code> and <code>||</code> conditional operators will short circuit once the result of the expression can be determined.</p>\n\n<pre><code>if (methodA() &amp; methodB() &amp; methodC()) {code}\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow\">Documentation</a></p>\n"},{"tags":[],"owner":{"account_id":2794770,"reputation":4406,"user_id":2404181,"display_name":"Michael Kazarian"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1385032206,"creation_date":1385030851,"answer_id":20118804,"question_id":20118743,"body_markdown":"You should use `bitwise AND (&amp;)` operator instead of `logical AND (&amp;&amp;)`.\r\n\r\n    if (methodA() &amp; methodB() &amp; methodC()) {code}\r\nMore detail read [here][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html","title":"If statement executing all conditions","body":"<p>You should use <code>bitwise AND (&amp;)</code> operator instead of <code>logical AND (&amp;&amp;)</code>.</p>\n\n<pre><code>if (methodA() &amp; methodB() &amp; methodC()) {code}\n</code></pre>\n\n<p>More detail read <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3410595,"reputation":647,"user_id":2860598,"accept_rate":100,"display_name":"Peter_James"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1385030895,"creation_date":1385030895,"answer_id":20118817,"question_id":20118743,"body_markdown":"Your exact answer is:\r\n\r\n    if (methodA() &amp; methodB() &amp; methodC()) {code}","title":"If statement executing all conditions","body":"<p>Your exact answer is:</p>\n\n<pre><code>if (methodA() &amp; methodB() &amp; methodC()) {code}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784949,"reputation":8695,"user_id":2396624,"accept_rate":67,"display_name":"Shoaib Chikate"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1385046703,"creation_date":1385030929,"answer_id":20118827,"question_id":20118743,"body_markdown":"Use Bitwise AND instead of &amp;&amp;\r\n\r\n \r\n       if (methodA() &amp; methodB() &amp; methodC()) {code}","title":"If statement executing all conditions","body":"<p>Use Bitwise AND instead of &amp;&amp;</p>\n\n<pre><code>   if (methodA() &amp; methodB() &amp; methodC()) {code}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3499867,"reputation":679,"user_id":2926863,"display_name":"Invader"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385031111,"creation_date":1385031111,"answer_id":20118887,"question_id":20118743,"body_markdown":"try this\r\n\t\r\n\r\n    &amp; is bitwise. &amp;&amp; is logical.\r\n\r\n     &amp; evaluates both sides of the operation.\r\n     &amp;&amp; evaluates the left side of the operation, if it&#39;s true, it continues and evaluates the right side.\r\n\r\nfor fast execution use &amp;&amp;\r\nif (methodA() &amp; methodB() &amp; methodC()) {code}","title":"If statement executing all conditions","body":"<p>try this</p>\n\n<pre><code>&amp; is bitwise. &amp;&amp; is logical.\n\n &amp; evaluates both sides of the operation.\n &amp;&amp; evaluates the left side of the operation, if it's true, it continues and evaluates the right side.\n</code></pre>\n\n<p>for fast execution use &amp;&amp;\nif (methodA() &amp; methodB() &amp; methodC()) {code}</p>\n"},{"tags":[],"owner":{"account_id":3178678,"reputation":3225,"user_id":2685938,"accept_rate":50,"display_name":"david"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385031461,"creation_date":1385031461,"answer_id":20119024,"question_id":20118743,"body_markdown":"Just change `&amp;&amp;` to `&amp;`. So your answer is\r\n\r\n    if (methodA() &amp; methodB() &amp; methodC()) {code}\r\n\r\n`&amp;&amp;`is a comparison. It means the `if` statement will check the `methodA() &amp;&amp; methodB()` conditional first. If this return false, then the `methodC()` will not execute. If true, then it will check with the `methodC()` function.\r\n\r\n`&amp;` is a bitwise. It will return true if all the value is 1. `methodA() &amp; methodB() &amp; methodC()` count as one comparison. So it will run through all the function. And then check if the answer is true or false.","title":"If statement executing all conditions","body":"<p>Just change <code>&amp;&amp;</code> to <code>&amp;</code>. So your answer is</p>\n\n<pre><code>if (methodA() &amp; methodB() &amp; methodC()) {code}\n</code></pre>\n\n<p><code>&amp;&amp;</code>is a comparison. It means the <code>if</code> statement will check the <code>methodA() &amp;&amp; methodB()</code> conditional first. If this return false, then the <code>methodC()</code> will not execute. If true, then it will check with the <code>methodC()</code> function.</p>\n\n<p><code>&amp;</code> is a bitwise. It will return true if all the value is 1. <code>methodA() &amp; methodB() &amp; methodC()</code> count as one comparison. So it will run through all the function. And then check if the answer is true or false.</p>\n"},{"tags":[],"owner":{"account_id":3549806,"reputation":8516,"user_id":2964945,"display_name":"Melquiades"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1385031689,"creation_date":1385031689,"answer_id":20119125,"question_id":20118743,"body_markdown":"Another solution (but not that elegant) would be to use boolean variables:\r\n\r\n    boolean resA = methodA();\r\n    boolean resB = methodB();\r\n    boolean resC = methodC();\r\n\r\nthen do your ifs:\r\n\r\n    if (resA &amp;&amp; resB &amp;&amp; resC) { code }\r\n\r\nThat way your methods will run, and you just need to compare what they returned.","title":"If statement executing all conditions","body":"<p>Another solution (but not that elegant) would be to use boolean variables:</p>\n\n<pre><code>boolean resA = methodA();\nboolean resB = methodB();\nboolean resC = methodC();\n</code></pre>\n\n<p>then do your ifs:</p>\n\n<pre><code>if (resA &amp;&amp; resB &amp;&amp; resC) { code }\n</code></pre>\n\n<p>That way your methods will run, and you just need to compare what they returned.</p>\n"},{"tags":[],"owner":{"account_id":10482184,"reputation":378,"user_id":7726870,"display_name":"niranjan kurambhatti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650658108,"creation_date":1650658108,"answer_id":71974082,"question_id":20118743,"body_markdown":"For kotlin users \r\n   \r\n\r\n    if (methodA() and methodB() and methodC()) {code}","title":"If statement executing all conditions","body":"<p>For kotlin users</p>\n<pre><code>if (methodA() and methodB() and methodC()) {code}\n</code></pre>\n"}],"owner":{"account_id":2422126,"reputation":15525,"user_id":2114871,"accept_rate":95,"display_name":"iberbeu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9932,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":20118784,"answer_count":9,"score":12,"last_activity_date":1650658108,"creation_date":1385030696,"question_id":20118743,"body_markdown":"This may actually be a silly question but I am wondering if it is possible to have an if statement executing all conditions. I explain:\r\n\r\n    if (methodA() &amp;&amp; methodB() &amp;&amp; methodC()) {code}\r\n\r\n`code` is executed when all three methods return true. The point is that when a method returns false, the rest of the methods aren&#39;t executed. This is normally a good thing for performance but what if I really need to execute all methods independently of what they are returning and after that evaluate the expression and go into the if or not. The same is applied for OR or whatever\r\n\r\nIs there a way to tell java to behave that way?\r\nMy current work around is to split it in three ifs but this not always does the trick and looks really ugly.","title":"If statement executing all conditions","body":"<p>This may actually be a silly question but I am wondering if it is possible to have an if statement executing all conditions. I explain:</p>\n\n<pre><code>if (methodA() &amp;&amp; methodB() &amp;&amp; methodC()) {code}\n</code></pre>\n\n<p><code>code</code> is executed when all three methods return true. The point is that when a method returns false, the rest of the methods aren't executed. This is normally a good thing for performance but what if I really need to execute all methods independently of what they are returning and after that evaluate the expression and go into the if or not. The same is applied for OR or whatever</p>\n\n<p>Is there a way to tell java to behave that way?\nMy current work around is to split it in three ifs but this not always does the trick and looks really ugly.</p>\n"},{"tags":["java","spring-boot","validation","bean-validation"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650658104,"creation_date":1650658104,"answer_id":71974080,"question_id":71950604,"body_markdown":"Yes! You need to use ValidationGroups. That allows you to selectively activate certain bean validation constraints.\r\n\r\nHere&#39;s a quick tutorial on how to create a Validation Group: https://www.baeldung.com/javax-validation-groups\r\n\r\n```\r\npublic interface ApiCallGroup {\r\n}\r\n\r\npublic class User {\r\n...\r\n    @NotBlank( groups = ApiCallGroup.class )\r\n    private String email;\r\n...\r\n}\r\n```\r\n\r\nYou can then:\r\n\r\n```\r\n@Inject private Validator validator;\r\n\r\n...\r\n\r\n  validator.validate(apiCall, ApiCallGroup.class);\r\n\r\n```\r\nand run a specific group _before_ persistence, and/OR you can configure Hibernate to run a group of annotations. https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/chapter-groups.html\r\n\r\nOther reference to validator API: https://docs.oracle.com/javaee/7/api/javax/validation/Validator.html#validate-T-java.lang.Class...-\r\n\r\nHopefully that helps. If you can post a little more of your code we could probably figure out how to call the validator, but if this was useful, don&#39;t forget to upvote or accept this as an answer.","title":"Hibernate validation: Skip Constraint violation in specific situations(api calls)","body":"<p>Yes! You need to use ValidationGroups. That allows you to selectively activate certain bean validation constraints.</p>\n<p>Here's a quick tutorial on how to create a Validation Group: <a href=\"https://www.baeldung.com/javax-validation-groups\" rel=\"nofollow noreferrer\">https://www.baeldung.com/javax-validation-groups</a></p>\n<pre><code>public interface ApiCallGroup {\n}\n\npublic class User {\n...\n    @NotBlank( groups = ApiCallGroup.class )\n    private String email;\n...\n}\n</code></pre>\n<p>You can then:</p>\n<pre><code>@Inject private Validator validator;\n\n...\n\n  validator.validate(apiCall, ApiCallGroup.class);\n\n</code></pre>\n<p>and run a specific group <em>before</em> persistence, and/OR you can configure Hibernate to run a group of annotations. <a href=\"https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/chapter-groups.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/validator/5.1/reference/en-US/html/chapter-groups.html</a></p>\n<p>Other reference to validator API: <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/Validator.html#validate-T-java.lang.Class...-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/validation/Validator.html#validate-T-java.lang.Class...-</a></p>\n<p>Hopefully that helps. If you can post a little more of your code we could probably figure out how to call the validator, but if this was useful, don't forget to upvote or accept this as an answer.</p>\n"}],"owner":{"account_id":16208117,"reputation":41,"user_id":11702834,"display_name":"Arjun Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650658104,"creation_date":1650526776,"question_id":71950604,"body_markdown":"I have an object User and as part of validation I have provided something like below:\r\n\r\n```\r\nimport javax.validation.constraints.NotBlank;\r\n\r\npublic class User {\r\n\r\n    private String id;\r\n\r\n    @NotBlank\r\n    private String name;\r\n\r\n    @NotBlank\r\n    private String email;\r\n\r\n    private String archiveDate;\r\n}\r\n```\r\nin the middle, the ```email``` is changed as a required field and some of already existing users doesn&#39;t have email value at all. For these users we have options\r\n1. to fill data from the front end\r\n2. we can delete that user(soft delete =&gt; setting archive date field with current date). \r\n\r\nIn both cases, we are doing it by patch/update. Here the problem with 2nd option is it won&#39;t allow to set archiveDate fields and throws ```constraintviolationexception```.\r\n\r\nIs it possible to skip this constraint validation in a specific(API call) situation? how to handle it. ","title":"Hibernate validation: Skip Constraint violation in specific situations(api calls)","body":"<p>I have an object User and as part of validation I have provided something like below:</p>\n<pre><code>import javax.validation.constraints.NotBlank;\n\npublic class User {\n\n    private String id;\n\n    @NotBlank\n    private String name;\n\n    @NotBlank\n    private String email;\n\n    private String archiveDate;\n}\n</code></pre>\n<p>in the middle, the <code>email</code> is changed as a required field and some of already existing users doesn't have email value at all. For these users we have options</p>\n<ol>\n<li>to fill data from the front end</li>\n<li>we can delete that user(soft delete =&gt; setting archive date field with current date).</li>\n</ol>\n<p>In both cases, we are doing it by patch/update. Here the problem with 2nd option is it won't allow to set archiveDate fields and throws <code>constraintviolationexception</code>.</p>\n<p>Is it possible to skip this constraint validation in a specific(API call) situation? how to handle it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1650657162,"post_id":71973906,"comment_id":127179861,"body_markdown":"[Can&#39;t reproduce the described behaviour](https://ideone.com/2wVbO2)","body":"<a href=\"https://ideone.com/2wVbO2\" rel=\"nofollow noreferrer\">Can&#39;t reproduce the described behaviour</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1650657387,"post_id":71973906,"comment_id":127179921,"body_markdown":"Me neither, I copy and pasted your code. Ran it entering 20 numbers (1 thru 20) then 9999 and the code worked correctly. My assumption is that you must have entered a non-integer value.","body":"Me neither, I copy and pasted your code. Ran it entering 20 numbers (1 thru 20) then 9999 and the code worked correctly. My assumption is that you must have entered a non-integer value."},{"owner":{"account_id":23700479,"reputation":45,"user_id":17723710,"display_name":"R.E.F."},"score":0,"creation_date":1650657458,"post_id":71973906,"comment_id":127179937,"body_markdown":"We are using MindTap(Web IDE with auto check features)","body":"We are using MindTap(Web IDE with auto check features)"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650657529,"post_id":71973906,"comment_id":127179967,"body_markdown":"My assumption is correct. The last value you entered was not an integer. That&#39;s what an `InputMistatchException` means. I am not sure what the original `NoSuchElement` was about.","body":"My assumption is correct. The last value you entered was not an integer. That&#39;s what an <code>InputMistatchException</code> means. I am not sure what the original <code>NoSuchElement</code> was about."},{"owner":{"account_id":23700479,"reputation":45,"user_id":17723710,"display_name":"R.E.F."},"score":1,"creation_date":1650657974,"post_id":71973906,"comment_id":127180068,"body_markdown":"while(reference != 20)","body":"while(reference != 20)"},{"owner":{"account_id":23700479,"reputation":45,"user_id":17723710,"display_name":"R.E.F."},"score":0,"creation_date":1650658052,"post_id":71973906,"comment_id":127180090,"body_markdown":"We just transitioned to Java and I find this language very case sensitive. Thank You sires","body":"We just transitioned to Java and I find this language very case sensitive. Thank You sires"},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":1,"creation_date":1650659032,"post_id":71973906,"comment_id":127180331,"body_markdown":"So judging from the screenshot, the exception is not in your code, because you see it runs perfectly fine in the terminal on the right side. But the exception is on the left side which I assume is part of MindTap (which I&#39;m not familiar with). Which simply means I guess that you failed to implement it according to specification. Because it is requested to only allow 20 inputs and you allow more. Hence the `while(reference != 20)` solves it. Am I correct?","body":"So judging from the screenshot, the exception is not in your code, because you see it runs perfectly fine in the terminal on the right side. But the exception is on the left side which I assume is part of MindTap (which I&#39;m not familiar with). Which simply means I guess that you failed to implement it according to specification. Because it is requested to only allow 20 inputs and you allow more. Hence the <code>while(reference != 20)</code> solves it. Am I correct?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650660542,"post_id":71973906,"comment_id":127180734,"body_markdown":"I agree with Ivo Beckers. The `NoSuchElement` is a bug with the platform you are using. It&#39;s a bit disturbing that the &quot;Test Case&quot; pane states that it displays the mean and median of 10 input values, the framework supports 20 inputs, but you are lead to believe it can handle an unbounded amount of inputs.","body":"I agree with Ivo Beckers. The <code>NoSuchElement</code> is a bug with the platform you are using. It&#39;s a bit disturbing that the &quot;Test Case&quot; pane states that it displays the mean and median of 10 input values, the framework supports 20 inputs, but you are lead to believe it can handle an unbounded amount of inputs."}],"answers":[{"tags":[],"owner":{"account_id":23700479,"reputation":45,"user_id":17723710,"display_name":"R.E.F."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650658074,"creation_date":1650658074,"answer_id":71974075,"question_id":71973906,"body_markdown":"Change the while loop condition.\r\n\r\n     while(reference != 20){","title":"Java: Code won&#39;t run after 21 inputs in a while(true) loop after appending an ArrayList","body":"<p>Change the while loop condition.</p>\n<pre><code> while(reference != 20){\n</code></pre>\n"}],"owner":{"account_id":23700479,"reputation":45,"user_id":17723710,"display_name":"R.E.F."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650658074,"creation_date":1650656842,"question_id":71973906,"body_markdown":"We have a High School activity where we utilize ArrayList methods to create a mean and median program. However, I encounter a problem when I inputted 20 data as shown below. All answers and suggestions are appreciated.\r\n\r\n**THE PROBLEM:**\r\n\r\nCreate a  MeanMedian2 class  so that the user can enter any number of values up to 20. If the list has an even number of values, the median is the numeric average of the values in the two middle positions. Allow the user to enter 9999 to quit entering numbers.\r\n\r\n    //https://www.softwaretestinghelp.com/java-arraylist-tutorial/\r\n    //https://stackoverflow.com/questions/16242733/sum-all-the-elements-java-arraylist\r\n    //https://stackoverflow.com/questions/16242733/sum-all-the-elements-java-arraylist\r\n    //https://stackoverflow.com/questions/22023053/how-do-i-print-a-single-item-on-a-array-list\r\n    \r\n    import java.util.*;\r\n    class MeanMedian2{\r\n    \r\n       public static void main(String[] args){\r\n          Scanner input = new Scanner(System.in);\r\n          ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\r\n    \r\n          int reference = 0; \r\n          int count = 1;\r\n          int ender = 9999;\r\n          \r\n          while(true){\r\n              System.out.println(&quot;Enter number &quot; + count + &quot;:&quot; );\r\n              int num = input.nextInt();\r\n              if (num == ender){\r\n                  break;\r\n              }else{\r\n                  numbers.add(num);\r\n                  reference += 1;\r\n                  count += 1;\r\n              }\r\n          }\r\n\r\n          //Mean\r\n          double sum = 0;\r\n          for (int i = 0; i &lt; numbers.size(); i++)\r\n               sum += numbers.get(i);\r\n          double mean = sum/numbers.size();\r\n          \r\n          //Median\r\n          int median;\r\n          Collections.sort(numbers);\r\n          int length = numbers.size();\r\n          int oddOrEven = length % 2;\r\n          int Odd = (length + 1)/2;\r\n    \r\n          if (oddOrEven != 0 ){ \r\n              median = numbers.get(Odd - 1);\r\n          }else{\r\n              int a = numbers.get((length/2)-1);\r\n              int b = numbers.get(length/2);\r\n              median = (a+b)/2;\r\n    \r\n          }\r\n          \r\n          \r\n    \r\n          //Final\r\n          System.out.print(&quot;You entered: &quot;);\r\n          for(int i = 0; i &lt; numbers.size() - 1; i++){\r\n              System.out.print(numbers.get(i) + &quot;, &quot;);\r\n          }\r\n          System.out.println(numbers.get(length-1));\r\n          System.out.println(&quot;The mean is &quot; + mean + &quot; and the median is &quot; + median );\r\n          \r\n   \r\n       }\r\n    }\r\n\r\nInstance 1:\r\n\r\n    /**\r\n    Enter number 1:\r\n    25\r\n    Enter number 2:\r\n    50\r\n    Enter number 3:\r\n    500\r\n    Enter number 4:\r\n    550\r\n    Enter number 5:\r\n    450\r\n    Enter number 6:\r\n    600\r\n    Enter number 7:\r\n    200\r\n    Enter number 8:\r\n    10\r\n    Enter number 9:\r\n    700\r\n    Enter number 10:\r\n    9999\r\n    You entered: 10, 25, 50, 200, 450, 500, 550, 600, 700\r\n    The mean is 342.77777777777777 and the median is 450**/\r\n\r\nInstance 2. I inputted 20 data and 1 9999 to stop (21 in all)\r\n\r\n    /** \r\n    javac MeanMedian2.java\r\n    java MeanMedian2Exception in thread &quot;main&quot; \r\n    java.util.InputMismatchException\r\n         at java.util.Scanner.throwFor(Scanner.java:864)\r\n         at java.util.Scanner.next(Scanner.java:1485)\r\n         at java.util.Scanner.nextInt(Scanner.java:2117)\r\n         at java.util.Scanner.nextInt(Scanner.java:2076)\r\n         at MeanMedian2.main(MeanMedian2.java:19)**/\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xo5xR.png","title":"Java: Code won&#39;t run after 21 inputs in a while(true) loop after appending an ArrayList","body":"<p>We have a High School activity where we utilize ArrayList methods to create a mean and median program. However, I encounter a problem when I inputted 20 data as shown below. All answers and suggestions are appreciated.</p>\n<p><strong>THE PROBLEM:</strong></p>\n<p>Create a  MeanMedian2 class  so that the user can enter any number of values up to 20. If the list has an even number of values, the median is the numeric average of the values in the two middle positions. Allow the user to enter 9999 to quit entering numbers.</p>\n<pre><code>//https://www.softwaretestinghelp.com/java-arraylist-tutorial/\n//https://stackoverflow.com/questions/16242733/sum-all-the-elements-java-arraylist\n//https://stackoverflow.com/questions/16242733/sum-all-the-elements-java-arraylist\n//https://stackoverflow.com/questions/22023053/how-do-i-print-a-single-item-on-a-array-list\n\nimport java.util.*;\nclass MeanMedian2{\n\n   public static void main(String[] args){\n      Scanner input = new Scanner(System.in);\n      ArrayList&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n\n      int reference = 0; \n      int count = 1;\n      int ender = 9999;\n      \n      while(true){\n          System.out.println(&quot;Enter number &quot; + count + &quot;:&quot; );\n          int num = input.nextInt();\n          if (num == ender){\n              break;\n          }else{\n              numbers.add(num);\n              reference += 1;\n              count += 1;\n          }\n      }\n\n      //Mean\n      double sum = 0;\n      for (int i = 0; i &lt; numbers.size(); i++)\n           sum += numbers.get(i);\n      double mean = sum/numbers.size();\n      \n      //Median\n      int median;\n      Collections.sort(numbers);\n      int length = numbers.size();\n      int oddOrEven = length % 2;\n      int Odd = (length + 1)/2;\n\n      if (oddOrEven != 0 ){ \n          median = numbers.get(Odd - 1);\n      }else{\n          int a = numbers.get((length/2)-1);\n          int b = numbers.get(length/2);\n          median = (a+b)/2;\n\n      }\n      \n      \n\n      //Final\n      System.out.print(&quot;You entered: &quot;);\n      for(int i = 0; i &lt; numbers.size() - 1; i++){\n          System.out.print(numbers.get(i) + &quot;, &quot;);\n      }\n      System.out.println(numbers.get(length-1));\n      System.out.println(&quot;The mean is &quot; + mean + &quot; and the median is &quot; + median );\n      \n\n   }\n}\n</code></pre>\n<p>Instance 1:</p>\n<pre><code>/**\nEnter number 1:\n25\nEnter number 2:\n50\nEnter number 3:\n500\nEnter number 4:\n550\nEnter number 5:\n450\nEnter number 6:\n600\nEnter number 7:\n200\nEnter number 8:\n10\nEnter number 9:\n700\nEnter number 10:\n9999\nYou entered: 10, 25, 50, 200, 450, 500, 550, 600, 700\nThe mean is 342.77777777777777 and the median is 450**/\n</code></pre>\n<p>Instance 2. I inputted 20 data and 1 9999 to stop (21 in all)</p>\n<pre><code>/** \njavac MeanMedian2.java\njava MeanMedian2Exception in thread &quot;main&quot; \njava.util.InputMismatchException\n     at java.util.Scanner.throwFor(Scanner.java:864)\n     at java.util.Scanner.next(Scanner.java:1485)\n     at java.util.Scanner.nextInt(Scanner.java:2117)\n     at java.util.Scanner.nextInt(Scanner.java:2076)\n     at MeanMedian2.main(MeanMedian2.java:19)**/\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xo5xR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xo5xR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","database","mongodb","triggers","event-listener"],"answers":[{"tags":[],"owner":{"account_id":14870107,"reputation":121,"user_id":10737839,"display_name":"Yuriy K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650657598,"creation_date":1650657598,"answer_id":71974010,"question_id":69548806,"body_markdown":"#### Short answer: ####\r\nMongo events could be triggered with typed queries only. \r\n\r\nI&#39;ve tried `spring-data-mongodb-2.2.8` version, it handles `DomainClassRepository.delete(instanceOfDomainClass)` and `DomainClassRepository.deleteById(idOfDomainClass)` properly.\r\n\r\nMethod `onAfterDelete` can&#39;t be triggered when `DomainClassRepository.deleteAll()`  is called because it&#39;s untyped.\r\n\r\n#### Long answer (Research): ####\r\nCheck `onApplicationEvent` method in `AbstractMongoEventListener`.\r\nIt contains this code block:\r\n\r\n    if (event instanceof AbstractDeleteEvent) {\r\n\r\n\t\t\tClass&lt;?&gt; eventDomainType = ((AbstractDeleteEvent) event).getType();\r\n\r\n\t\t\tif (eventDomainType != null &amp;&amp; domainClass.isAssignableFrom(eventDomainType)) {\r\n\t\t\t\tif (event instanceof BeforeDeleteEvent) {\r\n\t\t\t\t\tonBeforeDelete((BeforeDeleteEvent&lt;E&gt;) event);\r\n\t\t\t\t}\r\n\t\t\t\tif (event instanceof AfterDeleteEvent) {\r\n\t\t\t\t\tonAfterDelete((AfterDeleteEvent&lt;E&gt;) event);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\r\n\t}\r\n\r\n\r\nAnd check `AbstractDeleteEvent` under package `org.springframework.data.mongodb.core.mapping.event`. Constructor allows to have nullable type:\r\n\r\n    /**\r\n\t * Creates a new {@link AbstractDeleteEvent} for the given {@link Document} and type.\r\n\t *\r\n\t * @param document must not be {@literal null}.\r\n\t * @param type may be {@literal null}.\r\n\t * @param collectionName must not be {@literal null}.\r\n\t * @since 1.8\r\n\t */\r\n\tpublic AbstractDeleteEvent(Document document, @Nullable Class&lt;T&gt; type, String collectionName) {\r\n\r\n\t\tsuper(document, document, collectionName);\r\n\t\tthis.type = type;\r\n\t}","title":"AfterDeleteEvent from AbstractMongoEventListener is not being triggered when entry is deleted from MongoDb","body":"<h4>Short answer:</h4>\n<p>Mongo events could be triggered with typed queries only.</p>\n<p>I've tried <code>spring-data-mongodb-2.2.8</code> version, it handles <code>DomainClassRepository.delete(instanceOfDomainClass)</code> and <code>DomainClassRepository.deleteById(idOfDomainClass)</code> properly.</p>\n<p>Method <code>onAfterDelete</code> can't be triggered when <code>DomainClassRepository.deleteAll()</code>  is called because it's untyped.</p>\n<h4>Long answer (Research):</h4>\n<p>Check <code>onApplicationEvent</code> method in <code>AbstractMongoEventListener</code>.\nIt contains this code block:</p>\n<pre><code>if (event instanceof AbstractDeleteEvent) {\n\n        Class&lt;?&gt; eventDomainType = ((AbstractDeleteEvent) event).getType();\n\n        if (eventDomainType != null &amp;&amp; domainClass.isAssignableFrom(eventDomainType)) {\n            if (event instanceof BeforeDeleteEvent) {\n                onBeforeDelete((BeforeDeleteEvent&lt;E&gt;) event);\n            }\n            if (event instanceof AfterDeleteEvent) {\n                onAfterDelete((AfterDeleteEvent&lt;E&gt;) event);\n            }\n        }\n\n        return;\n\n}\n</code></pre>\n<p>And check <code>AbstractDeleteEvent</code> under package <code>org.springframework.data.mongodb.core.mapping.event</code>. Constructor allows to have nullable type:</p>\n<pre><code>/**\n * Creates a new {@link AbstractDeleteEvent} for the given {@link Document} and type.\n *\n * @param document must not be {@literal null}.\n * @param type may be {@literal null}.\n * @param collectionName must not be {@literal null}.\n * @since 1.8\n */\npublic AbstractDeleteEvent(Document document, @Nullable Class&lt;T&gt; type, String collectionName) {\n\n    super(document, document, collectionName);\n    this.type = type;\n}\n</code></pre>\n"}],"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":452,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650657598,"creation_date":1634089712,"question_id":69548806,"body_markdown":"I have a class that extends `AbstractMongoEventListener` and overrides `onAfterSave` and `onAfterDelete`.\r\n\r\nThe `onAfterDelete` does not trigger for some reason. The `onAfterSave` works fine.\r\nIs there a different configuration that needs to be done for it?\r\n\r\n    public class ClassX extends AbstractMongoEventListener&lt;DomainClass&gt; {\r\n        @Override\r\n        public void onAfterSave(AfterSaveEvent&lt;DomainClass&gt; event) {\r\n            //dosomething\r\n        }\r\n    \r\n        @Override\r\n        public void onAfterDelete(AfterDeleteEvent&lt;DomainClass&gt; event) {\r\n            //dosomething\r\n        }\r\n    }\r\n\r\nI have already checked the database and the data is being properly deleted, but the onAfterDelete still don&#39;t get called.\r\n\r\nAny suggestion of what could be the problem?\r\n\r\nThe repository:\r\n\r\n    public interface DomainClassRepository extends MongoRepository&lt;DomainClass, String&gt; {\r\n    }\r\n\r\nI&#39;m calling the method `DomainClassRepository.delete(instanceOfDomainClass)` to delete the entry in the db.","title":"AfterDeleteEvent from AbstractMongoEventListener is not being triggered when entry is deleted from MongoDb","body":"<p>I have a class that extends <code>AbstractMongoEventListener</code> and overrides <code>onAfterSave</code> and <code>onAfterDelete</code>.</p>\n<p>The <code>onAfterDelete</code> does not trigger for some reason. The <code>onAfterSave</code> works fine.\nIs there a different configuration that needs to be done for it?</p>\n<pre><code>public class ClassX extends AbstractMongoEventListener&lt;DomainClass&gt; {\n    @Override\n    public void onAfterSave(AfterSaveEvent&lt;DomainClass&gt; event) {\n        //dosomething\n    }\n\n    @Override\n    public void onAfterDelete(AfterDeleteEvent&lt;DomainClass&gt; event) {\n        //dosomething\n    }\n}\n</code></pre>\n<p>I have already checked the database and the data is being properly deleted, but the onAfterDelete still don't get called.</p>\n<p>Any suggestion of what could be the problem?</p>\n<p>The repository:</p>\n<pre><code>public interface DomainClassRepository extends MongoRepository&lt;DomainClass, String&gt; {\n}\n</code></pre>\n<p>I'm calling the method <code>DomainClassRepository.delete(instanceOfDomainClass)</code> to delete the entry in the db.</p>\n"},{"tags":["java","tiff","javax.imageio","jai"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":1,"creation_date":1650874083,"post_id":71973916,"comment_id":127217386,"body_markdown":"31k * 31k * 4 (integer size) ~= 3844000000. This is close to the TIFF maximum file size of 4GB. My guess is that the file eventually grows larger than 4 GB with increased dimensions and the extra metadata and the TIFF container. \nIf this is the problem, then you need to use a different file format. BigTIFF or PSD are the most common options I think.","body":"31k * 31k * 4 (integer size) ~= 3844000000. This is close to the TIFF maximum file size of 4GB. My guess is that the file eventually grows larger than 4 GB with increased dimensions and the extra metadata and the TIFF container.  If this is the problem, then you need to use a different file format. BigTIFF or PSD are the most common options I think."},{"owner":{"account_id":6833683,"reputation":5657,"user_id":5256563,"accept_rate":71,"display_name":"FiReTiTi"},"score":0,"creation_date":1650907094,"post_id":71973916,"comment_id":127229547,"body_markdown":"Thank you @HaraldK. Do you happen to know which library is best for BigTIFF in Java?","body":"Thank you @HaraldK. Do you happen to know which library is best for BigTIFF in Java?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1650907785,"post_id":71973916,"comment_id":127229792,"body_markdown":"Side note: The above calculations are for uncompressed data. If your images are compressible and you use a good compression, you should be able to have larger images in TIFF, as long as the *file* size is less than 4 GB.","body":"Side note: The above calculations are for uncompressed data. If your images are compressible and you use a good compression, you should be able to have larger images in TIFF, as long as the <i>file</i> size is less than 4 GB."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1650908258,"post_id":71973916,"comment_id":127229942,"body_markdown":"I&#39;m a little biased, so I&#39;d use [TwelveMonkeys ImageIO](https://github.com/haraldk/TwelveMonkeys) obviously. &#128521; \nThere might be other/better options too, but I have never used them, so I don&#39;t know...","body":"I&#39;m a little biased, so I&#39;d use <a href=\"https://github.com/haraldk/TwelveMonkeys\" rel=\"nofollow noreferrer\">TwelveMonkeys ImageIO</a> obviously. 😉  There might be other/better options too, but I have never used them, so I don&#39;t know..."},{"owner":{"account_id":6833683,"reputation":5657,"user_id":5256563,"accept_rate":71,"display_name":"FiReTiTi"},"score":0,"creation_date":1650917707,"post_id":71973916,"comment_id":127232665,"body_markdown":"@HaraldK my images are uncompressed, so your computation works. I also used to use TwelveMonkeys, I just temporarily removed it when I switched to IntelliJ IDE as I face an issue that I didn&#39;t have time to investigate. Is the BigTIFF format automatically used when TwelveMonkeys is installed or do I have to specify something or call a specific command?","body":"@HaraldK my images are uncompressed, so your computation works. I also used to use TwelveMonkeys, I just temporarily removed it when I switched to IntelliJ IDE as I face an issue that I didn&#39;t have time to investigate. Is the BigTIFF format automatically used when TwelveMonkeys is installed or do I have to specify something or call a specific command?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1650918191,"post_id":71973916,"comment_id":127232804,"body_markdown":"You need the TIFF plugin as run-time dependency. I think your existing ImageIO code should work (assuming it’s generic), just change the format to “BigTIFF”. There’s no automatic conversion to BigTIFF when the file grows too large. For reading the BigTIFF format will be recognized automatically.","body":"You need the TIFF plugin as run-time dependency. I think your existing ImageIO code should work (assuming it’s generic), just change the format to “BigTIFF”. There’s no automatic conversion to BigTIFF when the file grows too large. For reading the BigTIFF format will be recognized automatically."},{"owner":{"account_id":6833683,"reputation":5657,"user_id":5256563,"accept_rate":71,"display_name":"FiReTiTi"},"score":0,"creation_date":1650960158,"post_id":71973916,"comment_id":127241149,"body_markdown":"Thank you, but the BigTIFF format does not seem to work. I used `javax.imageio.ImageIO.write(myBufferedImage, &quot;BigTIFF&quot;, new File(&quot;Test.tiff&quot;))` and it returns false. I double checked and in my IntelliJ project under &quot;File Structures/Modules/Dependencies/&quot; I can find image-tiff-3.8.1.jar What am I doing wrong? How can I check that the proper tiff jar/class was exported in my project jar?","body":"Thank you, but the BigTIFF format does not seem to work. I used <code>javax.imageio.ImageIO.write(myBufferedImage, &quot;BigTIFF&quot;, new File(&quot;Test.tiff&quot;))</code> and it returns false. I double checked and in my IntelliJ project under &quot;File Structures/Modules/Dependencies/&quot; I can find image-tiff-3.8.1.jar What am I doing wrong? How can I check that the proper tiff jar/class was exported in my project jar?"},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1650960351,"post_id":71973916,"comment_id":127241198,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/244213/discussion-between-harald-k-and-firetiti).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/244213/discussion-between-harald-k-and-firetiti\">continue this discussion in chat</a>."}],"owner":{"account_id":6833683,"reputation":5657,"user_id":5256563,"accept_rate":71,"display_name":"FiReTiTi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650657583,"creation_date":1650656897,"question_id":71973916,"body_markdown":"I&#39;m facing an I/O bug when using large images as a TIFF file using `javax.imageio`and `JAI`.\r\n\r\nHere is what I did:\r\n\r\n    Generate a random BufferedImage of type TYPE_CUSTOM with DataBufferInt encoding\r\n    Save the image as a TIFF file using javax.imageio or JAI\r\n    Read the image using javax.imageio or JAI\r\n    Compare the original image with the image saved/read\r\n\r\nIt turns out that everything works fine as long as the images dimensions are smaller than 31Kx31K ish, but if they are bigger then the top part of the image becomes different.\r\n\r\nI looked online and I found this [bug report][1]. If I read it correctly, it should have been fixed since java 11.0.13, see [this bug report][2]. This bug appeared while I was using OpenJDF 11.0.2, so I tried using openjdk 11.0.14.1 2022-02-08 and openjdk 17.0.2 2022-01-18, but I still have the same issue. I don&#39;t have an exception as this bug report, so it&#39;s close but might not be related.\r\n\r\nSo my questions are:\r\n - What am I not understanding correctly?\r\n - Is there another better/safer way to handle TIFF images?\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8270893\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8271885","title":"Issues while reading large TIFF file","body":"<p>I'm facing an I/O bug when using large images as a TIFF file using <code>javax.imageio</code>and <code>JAI</code>.</p>\n<p>Here is what I did:</p>\n<pre><code>Generate a random BufferedImage of type TYPE_CUSTOM with DataBufferInt encoding\nSave the image as a TIFF file using javax.imageio or JAI\nRead the image using javax.imageio or JAI\nCompare the original image with the image saved/read\n</code></pre>\n<p>It turns out that everything works fine as long as the images dimensions are smaller than 31Kx31K ish, but if they are bigger then the top part of the image becomes different.</p>\n<p>I looked online and I found this <a href=\"https://bugs.openjdk.java.net/browse/JDK-8270893\" rel=\"nofollow noreferrer\">bug report</a>. If I read it correctly, it should have been fixed since java 11.0.13, see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8271885\" rel=\"nofollow noreferrer\">this bug report</a>. This bug appeared while I was using OpenJDF 11.0.2, so I tried using openjdk 11.0.14.1 2022-02-08 and openjdk 17.0.2 2022-01-18, but I still have the same issue. I don't have an exception as this bug report, so it's close but might not be related.</p>\n<p>So my questions are:</p>\n<ul>\n<li>What am I not understanding correctly?</li>\n<li>Is there another better/safer way to handle TIFF images?</li>\n</ul>\n"},{"tags":["java","spring","jwt","microservices","keycloak"],"owner":{"account_id":5278173,"reputation":51,"user_id":4214370,"display_name":"Allteran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650656740,"creation_date":1650656740,"question_id":71973892,"body_markdown":"I&#39;m trying to re-build monolith app with microservices. Now I&#39;m trying to make in-app authorization based on JWT. Approximate diagram is next:\r\n[![Microservice diagram 1][1]][1]\r\n\r\n\r\n*RootService* uses to manage users (create, update, delete) and other different entities.\r\nSo what I want to do is make user-authorization service with **keycloak** using **RootService**, so it should look something like this:\r\n[![Microservice diagram 2][2]][2]\r\nIn keycloak I created realm and **one client** for gateway service  using next parameters:\r\n[![client params][3]][3]\r\n\r\nCurrent client gives ability to generate JWT and communicate between service, but how can I manage user access with keycloak using roles and so one? Should I create another client and generate some token for **gateway client** or I can use same created client and can create users via keycloak?\r\n\r\nIf there is any good article or guide - I&#39;ll be grateful for some resources. Thanks for replies!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LdxuB.jpg\r\n  [2]: https://i.stack.imgur.com/aif52.jpg\r\n  [3]: https://i.stack.imgur.com/sUorI.png","title":"Spring boot user authenticate with keycloak (microservices)","body":"<p>I'm trying to re-build monolith app with microservices. Now I'm trying to make in-app authorization based on JWT. Approximate diagram is next:\n<a href=\"https://i.stack.imgur.com/LdxuB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LdxuB.jpg\" alt=\"Microservice diagram 1\" /></a></p>\n<p><em>RootService</em> uses to manage users (create, update, delete) and other different entities.\nSo what I want to do is make user-authorization service with <strong>keycloak</strong> using <strong>RootService</strong>, so it should look something like this:\n<a href=\"https://i.stack.imgur.com/aif52.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aif52.jpg\" alt=\"Microservice diagram 2\" /></a>\nIn keycloak I created realm and <strong>one client</strong> for gateway service  using next parameters:\n<a href=\"https://i.stack.imgur.com/sUorI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUorI.png\" alt=\"client params\" /></a></p>\n<p>Current client gives ability to generate JWT and communicate between service, but how can I manage user access with keycloak using roles and so one? Should I create another client and generate some token for <strong>gateway client</strong> or I can use same created client and can create users via keycloak?</p>\n<p>If there is any good article or guide - I'll be grateful for some resources. Thanks for replies!</p>\n"},{"tags":["java","oracle","out-of-memory","spring-jdbc","bonecp"],"answers":[{"tags":[],"owner":{"account_id":25056696,"reputation":11,"user_id":18911996,"display_name":"user18911996"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650656378,"creation_date":1650656378,"answer_id":71973835,"question_id":71664581,"body_markdown":"We had a slightly different problem but also OOMs due to a high amount of clobs. We solved the problem by freeing the clobs manually with clob.free()\r\nWe expected them to be closed/freed after closing the resultset. So we stored the them in a list up to the part where the resulset got closed and checked the free variable of the clobs. It was still false. Our solution is to iterate throuh the list of clobs and calling .free() on each of them after closing the resultset.\r\n\r\nMaybe it will also solve your problem. ","title":"Strange memory grow in temporaryLobs while fetching CLOB with oracle jdbc driver in java app","body":"<p>We had a slightly different problem but also OOMs due to a high amount of clobs. We solved the problem by freeing the clobs manually with clob.free()\nWe expected them to be closed/freed after closing the resultset. So we stored the them in a list up to the part where the resulset got closed and checked the free variable of the clobs. It was still false. Our solution is to iterate throuh the list of clobs and calling .free() on each of them after closing the resultset.</p>\n<p>Maybe it will also solve your problem.</p>\n"}],"owner":{"account_id":15691378,"reputation":97,"user_id":11322355,"display_name":"recvfrom_ro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":434,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650656378,"creation_date":1648566588,"question_id":71664581,"body_markdown":"Goodday everyone.\r\n\r\n\r\nFaced strange OOM after switching from reading **varchar** field to **clob** from **Oracle** database in java application. \r\n\r\n(We are using oracle.jdbc.driver with bonecp connection pool + spring jdbctemplate)\r\n\r\nHeapdump shows(see picture)\r\n\r\n[![temporaryLobs in heapdump][1]][1]\r\n\r\nthat memory stays in **temporaryLobs** fields inside a **com.jolbox.bonecp.ConnectionPartition-&gt;freeConnections**\r\n\r\n\r\nMore precisely data contained in **temporaryLobs.elementData** array which constantly grows (according to jvm metrics with memory used and manual heapdumps).\r\n\r\nelementData looks like \r\n[![enter image description here][2]][2]\r\n\r\n\r\nAt moment of OOM, there was approximately 50Mb for each connection in pool (30+ actual connections), with populated **temporaryLobs** so we got 1Gb+ data only for connection pool.\r\n\r\nIt seems like some kind of clob &quot;cache&quot;?. \r\n\r\nI will try to struggle through library code on debug with breakpoins and find what is going on, but mb there can be some kind of well known configuration for such scenario or some kind of ratio between some properties and datatypes and those temp lobs.\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5CVUV.jpg\r\n  [2]: https://i.stack.imgur.com/a5gpY.png","title":"Strange memory grow in temporaryLobs while fetching CLOB with oracle jdbc driver in java app","body":"<p>Goodday everyone.</p>\n<p>Faced strange OOM after switching from reading <strong>varchar</strong> field to <strong>clob</strong> from <strong>Oracle</strong> database in java application.</p>\n<p>(We are using oracle.jdbc.driver with bonecp connection pool + spring jdbctemplate)</p>\n<p>Heapdump shows(see picture)</p>\n<p><a href=\"https://i.stack.imgur.com/5CVUV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5CVUV.jpg\" alt=\"temporaryLobs in heapdump\" /></a></p>\n<p>that memory stays in <strong>temporaryLobs</strong> fields inside a <strong>com.jolbox.bonecp.ConnectionPartition-&gt;freeConnections</strong></p>\n<p>More precisely data contained in <strong>temporaryLobs.elementData</strong> array which constantly grows (according to jvm metrics with memory used and manual heapdumps).</p>\n<p>elementData looks like\n<a href=\"https://i.stack.imgur.com/a5gpY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a5gpY.png\" alt=\"enter image description here\" /></a></p>\n<p>At moment of OOM, there was approximately 50Mb for each connection in pool (30+ actual connections), with populated <strong>temporaryLobs</strong> so we got 1Gb+ data only for connection pool.</p>\n<p>It seems like some kind of clob &quot;cache&quot;?.</p>\n<p>I will try to struggle through library code on debug with breakpoins and find what is going on, but mb there can be some kind of well known configuration for such scenario or some kind of ratio between some properties and datatypes and those temp lobs.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","sql","json"],"comments":[{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":1,"creation_date":1458019017,"post_id":36003129,"comment_id":59658625,"body_markdown":"As you see in the response..Inside the JsonArray (&quot;Details &quot;) there is the (&quot;Status&quot;) , so plz do proper parsing of the JSON","body":"As you see in the response..Inside the JsonArray (&quot;Details &quot;) there is the (&quot;Status&quot;) , so plz do proper parsing of the JSON"},{"owner":{"account_id":3741356,"reputation":3959,"user_id":3111083,"accept_rate":74,"display_name":"Sunil Sunny"},"score":0,"creation_date":1458019331,"post_id":36003129,"comment_id":59658726,"body_markdown":"&#39;Details&#39; is  a jsonArray not an object","body":"&#39;Details&#39; is  a jsonArray not an object"},{"owner":{"account_id":6159199,"reputation":2117,"user_id":4801338,"accept_rate":53,"display_name":"Vishal Thakkar"},"score":0,"creation_date":1458019392,"post_id":36003129,"comment_id":59658748,"body_markdown":"Mounika  have Posted Edited  Json Parsing Code just replce it","body":"Mounika  have Posted Edited  Json Parsing Code just replce it"},{"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"score":0,"creation_date":1458019522,"post_id":36003129,"comment_id":59658786,"body_markdown":"@sunilsunny ..look at the response &quot;Detail&quot; is the &quot;JsonArray &quot; not &quot;Jsonobject&quot;","body":"@sunilsunny ..look at the response &quot;Detail&quot; is the &quot;JsonArray &quot; not &quot;Jsonobject&quot;"},{"owner":{"account_id":3741356,"reputation":3959,"user_id":3111083,"accept_rate":74,"display_name":"Sunil Sunny"},"score":0,"creation_date":1458019837,"post_id":36003129,"comment_id":59658892,"body_markdown":"@RavindraKushwaha I didn&#39;t get you ..From my understanding It&#39;s an array containing single object.I think you and me are telling the same thing.Please read my comment one more time","body":"@RavindraKushwaha I didn&#39;t get you ..From my understanding It&#39;s an array containing single object.I think you and me are telling the same thing.Please read my comment one more time"}],"answers":[{"tags":[],"owner":{"account_id":5155637,"reputation":8128,"user_id":4128945,"accept_rate":76,"display_name":"Bhargav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458019185,"creation_date":1458019185,"answer_id":36003202,"question_id":36003129,"body_markdown":"Modift `String status = object.getString(&quot;Status&quot;).trim();` to    \r\n\r\n    String status = object.get(&quot;Details&quot;).getAsJsonArray()[0].getString(&quot;Status&quot;).trim();\r\n","title":"JSON object showing null pointer exception","body":"<p>Modift <code>String status = object.getString(\"Status\").trim();</code> to    </p>\n\n<pre><code>String status = object.get(\"Details\").getAsJsonArray()[0].getString(\"Status\").trim();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2765664,"reputation":3857,"user_id":2381453,"accept_rate":33,"display_name":"Vicky Thakor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458019212,"creation_date":1458019212,"answer_id":36003209,"question_id":36003129,"body_markdown":"You are using `getString(&quot;Status&quot;)` which may return `null` if key is not available in JSON. I&#39;d suggest you to use `optString(&quot;Status&quot;)` it&#39;ll return blank String if key is not available.\r\n\r\n    JSONObject jsonObject = new JSONObject(stringJSON);\r\n    JSONArray jsonArray = jsonObject.optJSONArray(&quot;Details&quot;);\r\n    if(jsonArray != null){\r\n       for(int i = 0; i &lt; jsonArray.length(); i++){\r\n         JSONObject jObject = jsonArray.optJSONObject(i);\r\n         if(jObject != null){\r\n           String strStatus = jObject.optString(&quot;Status&quot;);\r\n         }\r\n       }\r\n    }","title":"JSON object showing null pointer exception","body":"<p>You are using <code>getString(\"Status\")</code> which may return <code>null</code> if key is not available in JSON. I'd suggest you to use <code>optString(\"Status\")</code> it'll return blank String if key is not available.</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(stringJSON);\nJSONArray jsonArray = jsonObject.optJSONArray(\"Details\");\nif(jsonArray != null){\n   for(int i = 0; i &lt; jsonArray.length(); i++){\n     JSONObject jObject = jsonArray.optJSONObject(i);\n     if(jObject != null){\n       String strStatus = jObject.optString(\"Status\");\n     }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6159199,"reputation":2117,"user_id":4801338,"accept_rate":53,"display_name":"Vishal Thakkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458021093,"creation_date":1458019323,"answer_id":36003239,"question_id":36003129,"body_markdown":"**Try this code**\r\n\r\n    \r\n     JSONObject object = new JSONObject(jsonResult);\r\n     JSONArray array=object.getJsonarray(&quot;Details&quot;);\r\n     for(int i=0;i&lt;array.length();i++)\r\n      {\r\n \r\n       JSONObject innerObject=array.getJsonObject(i);\r\n       String s= innerObject.getString(&quot;Status&quot;);\r\n\r\n      }\r\n\r\n\r\n","title":"JSON object showing null pointer exception","body":"<p><strong>Try this code</strong></p>\n\n<pre><code> JSONObject object = new JSONObject(jsonResult);\n JSONArray array=object.getJsonarray(\"Details\");\n for(int i=0;i&lt;array.length();i++)\n  {\n\n   JSONObject innerObject=array.getJsonObject(i);\n   String s= innerObject.getString(\"Status\");\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4898014,"reputation":7936,"user_id":3946958,"accept_rate":72,"display_name":"Ravindra Kushwaha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458019326,"creation_date":1458019326,"answer_id":36003241,"question_id":36003129,"body_markdown":"Do proper parsing of the `JSON` as , you see yours response:-\r\n\r\n     { &quot;Details&quot;:[{&quot;Status&quot;:&quot;NO UPDATES&quot;}]}\r\n\r\nSo Firstly try to make the object of the `JSONObject` than after the `JSONArray` , look at below example:-\r\n\r\n    JSONObject jsonObject = new JSONObject(jsonResult);\r\n    JSONArray detailsArray = jsonObject.getJSONArray(&quot;Details&quot;);\r\n        \r\n    String status = dataArray.getJSONObject(0).getString(&quot;status&quot;);\r\n                    \r\n     Toast.makeText(getBaseContext(), &quot;Please wait...&quot;,100+status).show();","title":"JSON object showing null pointer exception","body":"<p>Do proper parsing of the <code>JSON</code> as , you see yours response:-</p>\n\n<pre><code> { \"Details\":[{\"Status\":\"NO UPDATES\"}]}\n</code></pre>\n\n<p>So Firstly try to make the object of the <code>JSONObject</code> than after the <code>JSONArray</code> , look at below example:-</p>\n\n<pre><code>JSONObject jsonObject = new JSONObject(jsonResult);\nJSONArray detailsArray = jsonObject.getJSONArray(\"Details\");\n\nString status = dataArray.getJSONObject(0).getString(\"status\");\n\n Toast.makeText(getBaseContext(), \"Please wait...\",100+status).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6593037,"reputation":2812,"user_id":5093666,"accept_rate":50,"display_name":"curiousMind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1458019340,"creation_date":1458019340,"answer_id":36003243,"question_id":36003129,"body_markdown":"your code should be like this\r\n\r\n     JSONObject object = new JSONObject(jsonResult);\r\n\r\n                JSONOArray details = object.getJSONArray(&quot;Details&quot;);\r\n\r\n               for (int i = 0; i &lt; details.length(); i++) {\r\n                 JSONObject c = details.getJSONObject(i);\r\n                \r\n                String status = c.getString(&quot;Status&quot;);\r\n                }\r\n                Toast.makeText(getBaseContext(), &quot;Please wait...&quot;,100).show();","title":"JSON object showing null pointer exception","body":"<p>your code should be like this</p>\n\n<pre><code> JSONObject object = new JSONObject(jsonResult);\n\n            JSONOArray details = object.getJSONArray(\"Details\");\n\n           for (int i = 0; i &lt; details.length(); i++) {\n             JSONObject c = details.getJSONObject(i);\n\n            String status = c.getString(\"Status\");\n            }\n            Toast.makeText(getBaseContext(), \"Please wait...\",100).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17029522,"reputation":109,"user_id":12319961,"display_name":"UdayanBKamble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650655913,"creation_date":1650655913,"answer_id":71973772,"question_id":36003129,"body_markdown":"If at any point in your code, `org.json.JSONObject json_object` becomes `null` and you wish to avoid `NullPointerException` (java.lang.NullPointerException), then simply check as following:\r\n\r\n    if(json_object == null) {\r\n       System.out.println(&quot;json_object is found as null&quot;);\r\n      }\r\n      else {\r\n           System.out.println(&quot;json_object is found as not null&quot;);\r\n      }\r\n\r\n    ","title":"JSON object showing null pointer exception","body":"<p>If at any point in your code, <code>org.json.JSONObject json_object</code> becomes <code>null</code> and you wish to avoid <code>NullPointerException</code> (java.lang.NullPointerException), then simply check as following:</p>\n<pre><code>if(json_object == null) {\n   System.out.println(&quot;json_object is found as null&quot;);\n  }\n  else {\n       System.out.println(&quot;json_object is found as not null&quot;);\n  }\n</code></pre>\n"}],"owner":{"account_id":8043644,"reputation":23,"user_id":6064488,"display_name":"Mounika"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8525,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":36003243,"answer_count":6,"score":-1,"last_activity_date":1650655913,"creation_date":1458018827,"question_id":36003129,"body_markdown":"I want to post **data** to the `url` and getting `Null pointer exception` \r\nMy `JSON` ` URL` contains \r\n\r\n    {\r\n      &quot;Details&quot;:\r\n        [\r\n          {\r\n            &quot;Status&quot;:&quot;NO UPDATES&quot;\r\n          }\r\n        ]\r\n    }\r\n\r\nI&#39;m getting the error the line:\r\n\r\n    String status = object.getString(&quot;Status&quot;).trim(); //error Line\r\n\r\nFull code:\r\n\r\n    btnPost = (Button)findViewById(R.id.btnPost);\r\n\r\n\t\tbtnPost.setOnClickListener(this);\r\n\t\tbtnPost.setOnClickListener(new OnClickListener()\r\n\t\t{\r\n\t\t\t@SuppressWarnings(&quot;null&quot;)\r\n\t\t\t@Override\r\n\t\t\tpublic void onClick(View arg0)\r\n\t\t\t{\r\n\t\t\t\ttry\r\n\t\t\t\t{\r\n\t\t\t\t\tString postReceiverUrl = &quot;http://&quot;;\r\n\t\t\t\t\tLog.v(TAG, &quot;postURL: &quot; + postReceiverUrl);\r\n\t\t\t\t\t// HttpClient\r\n\t\t\t\t\t@SuppressWarnings(&quot;resource&quot;)\r\n\t\t\t\t\tHttpClient httpClient = new DefaultHttpClient();\r\n\t\t\t\t\t// post header\r\n\t\t\t\t\tHttpPost httpPost = new HttpPost(postReceiverUrl);\r\n\t\t\t\t\t\r\n\t\t\t\t\tjsonobject.put(&quot;IDNo&quot;, IDNo.getText().toString());\r\n\t\t\t\t\tjsonobject.put(&quot;Position&quot;, Position.getText().toString());\r\n\t\t\t\t\tjsonobject.put(&quot;Data&quot;, Data.getText().toString());\r\n                 \r\n\t\t\t\t\tHttpResponse response = httpClient.execute(httpPost);\r\n\r\n\t\t\t\t\tString jsonResult = inputStreamToString(response.getEntity().getContent()).toString();\r\n\t\t\t\t\t\r\n\t\t\t\t\tLog.v(&quot;jsonResult&quot;,jsonResult);\r\n\r\n\t\t\t\t\tJSONObject object = new JSONObject(jsonResult);\r\n\r\n\t\t\t\t\tString status = object.getString(&quot;Status&quot;).trim();\r\n\r\n\t\t\t\t\tToast.makeText(getBaseContext(), &quot;Please wait...&quot;,100).show();\r\n\r\n\t\t\t\t\tif(status.toString().equals(&quot;SUCCESS&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tIntent i = new Intent(LoginPage.this,MainActivity.class);\r\n\t\t\t\t\t\ti.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\t\t\t\t\t\tstartActivity(i);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(status.toString().equals(&quot;FAILED&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tToast.makeText(getBaseContext(), &quot;Wrong Credentials&quot;,100).show();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tToast.makeText(getBaseContext(), &quot;Details Inserted&quot;,100).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t \r\n\t\t\t\t}\r\n\t\t\t\tcatch(Exception e)\r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcatch (JSONException e)\r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} \r\n\t\t\t\tcatch (ClientProtocolException e)\r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} \r\n\t\t\t\tcatch (IOException e) \r\n\t\t\t\t{\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t}\r\n\r\n\t\t});\r\n\r\n\r\n\r\n","title":"JSON object showing null pointer exception","body":"<p>I want to post <strong>data</strong> to the <code>url</code> and getting <code>Null pointer exception</code> \nMy <code>JSON</code> <code>URL</code> contains </p>\n\n<pre><code>{\n  \"Details\":\n    [\n      {\n        \"Status\":\"NO UPDATES\"\n      }\n    ]\n}\n</code></pre>\n\n<p>I'm getting the error the line:</p>\n\n<pre><code>String status = object.getString(\"Status\").trim(); //error Line\n</code></pre>\n\n<p>Full code:</p>\n\n<pre><code>btnPost = (Button)findViewById(R.id.btnPost);\n\n    btnPost.setOnClickListener(this);\n    btnPost.setOnClickListener(new OnClickListener()\n    {\n        @SuppressWarnings(\"null\")\n        @Override\n        public void onClick(View arg0)\n        {\n            try\n            {\n                String postReceiverUrl = \"http://\";\n                Log.v(TAG, \"postURL: \" + postReceiverUrl);\n                // HttpClient\n                @SuppressWarnings(\"resource\")\n                HttpClient httpClient = new DefaultHttpClient();\n                // post header\n                HttpPost httpPost = new HttpPost(postReceiverUrl);\n\n                jsonobject.put(\"IDNo\", IDNo.getText().toString());\n                jsonobject.put(\"Position\", Position.getText().toString());\n                jsonobject.put(\"Data\", Data.getText().toString());\n\n                HttpResponse response = httpClient.execute(httpPost);\n\n                String jsonResult = inputStreamToString(response.getEntity().getContent()).toString();\n\n                Log.v(\"jsonResult\",jsonResult);\n\n                JSONObject object = new JSONObject(jsonResult);\n\n                String status = object.getString(\"Status\").trim();\n\n                Toast.makeText(getBaseContext(), \"Please wait...\",100).show();\n\n                if(status.toString().equals(\"SUCCESS\"))\n                {\n                    Intent i = new Intent(LoginPage.this,MainActivity.class);\n                    i.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    startActivity(i);\n                }\n                if(status.toString().equals(\"FAILED\"))\n                {\n                    Toast.makeText(getBaseContext(), \"Wrong Credentials\",100).show();\n                }\n\n                else\n                {\n                    Toast.makeText(getBaseContext(), \"Details Inserted\",100).show();\n                }\n\n            }\n            catch(Exception e)\n            {\n                e.printStackTrace();\n            }\n\n            catch (JSONException e)\n            {\n                e.printStackTrace();\n            } \n            catch (ClientProtocolException e)\n            {\n                e.printStackTrace();\n            } \n            catch (IOException e) \n            {\n                e.printStackTrace();\n            }   \n\n\n        }\n\n    });\n</code></pre>\n"},{"tags":["java","effective-java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650654771,"post_id":71973603,"comment_id":127179167,"body_markdown":"If some other code relies on the fact that a final field is, for example, an `ArrayList` and we want to change it to another `List`-implementationn, the other code will break.","body":"If some other code relies on the fact that a final field is, for example, an <code>ArrayList</code> and we want to change it to another <code>List</code>-implementationn, the other code will break."},{"owner":{"account_id":25011141,"reputation":21,"user_id":18870657,"display_name":"pnpjunction"},"score":0,"creation_date":1650655035,"post_id":71973603,"comment_id":127179245,"body_markdown":"@Turing85 Thanks for your comments. But final field pointing to an immutable obj is something can never be changed right?","body":"@Turing85 Thanks for your comments. But final field pointing to an immutable obj is something can never be changed right?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650655165,"post_id":71973603,"comment_id":127179272,"body_markdown":"It ties other code into implementation. Were you to change the class so the field no longer exists, there would be issues.","body":"It ties other code into implementation. Were you to change the class so the field no longer exists, there would be issues."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650655190,"post_id":71973603,"comment_id":127179282,"body_markdown":"We can always change the type in the source code. That is what Josh Bloch is talking about.","body":"We can always change the type in the source code. That is what Josh Bloch is talking about."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1650655213,"post_id":71973603,"comment_id":127179289,"body_markdown":"@pnpjunction It can&#39;t be changed *while the program is running*. But when your boss comes and says &quot;hey, requirements have changed!&quot;, then someone has to go update the code. `final` won&#39;t save your variable from the backspace key of a future programmer.","body":"@pnpjunction It can&#39;t be changed <i>while the program is running</i>. But when your boss comes and says &quot;hey, requirements have changed!&quot;, then someone has to go update the code. <code>final</code> won&#39;t save your variable from the backspace key of a future programmer."}],"answers":[{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650655172,"creation_date":1650655172,"answer_id":71973661,"question_id":71973603,"body_markdown":"Unlike newer languages like Kotlin and Scala, Java makes a very clear distinction between fields and methods. So if you&#39;ve got a\r\n\r\n    public final Foo foo;\r\n\r\nThen that&#39;s always pointing to an *actual* field in memory. It can never be a method, and it can never run arbitrary code. The call `myInstance.foo` is *always* direct memory access, which is contrary to OOP principles. When I ask an instance for something, it should be the instance&#39;s decision how to handle that request, not mine.\r\n\r\nIn Kotlin, properties can have [getters and setters](https://kotlinlang.org/docs/properties.html), so even if we have something that *looks* like a field, it might call a method to access it. This allows us to future-proof our code in advance. We can implement an actual instance variable *now*,\r\n\r\n    val foo: Foo = myConcreteInstance()\r\n\r\nand then, down the road, when `foo` needs to go make a database query or something because we&#39;re scaling our application up, we can change the implementation\r\n\r\n    val foo: Foo\r\n      get() = loadFooLazily()\r\n\r\n    private fun loadFooLazily(): Foo {\r\n      // Some complicated code ...\r\n    }\r\n\r\nCrucially, this affects *nobody* downstream. Everybody else downstream still writes `myInstance.foo` and works with the new code. It&#39;s not a breaking change.\r\n\r\nWe can&#39;t do this in Java. `myInstance.foo` is *always* a variable, not a method. So Effective Java suggests always accessing instance variables through a method in order to future-proof them. If we write\r\n\r\n    private final Foo foo;\r\n\r\n    public Foo getFoo() {\r\n      return foo;\r\n    }\r\n\r\nThen we can change `getFoo` in the future without breaking other code. It&#39;s a difference in philosophy: In Java, methods are the OOP construct while instance variables are strictly an implementation detail. In most newer languages, &quot;instance variable&quot; has been replaced with a high-level construct called a &quot;property&quot; which is intended to be used in an OOP way.","title":"Why is it a good practice to make a final field pointing to an immutable obj non public?","body":"<p>Unlike newer languages like Kotlin and Scala, Java makes a very clear distinction between fields and methods. So if you've got a</p>\n<pre><code>public final Foo foo;\n</code></pre>\n<p>Then that's always pointing to an <em>actual</em> field in memory. It can never be a method, and it can never run arbitrary code. The call <code>myInstance.foo</code> is <em>always</em> direct memory access, which is contrary to OOP principles. When I ask an instance for something, it should be the instance's decision how to handle that request, not mine.</p>\n<p>In Kotlin, properties can have <a href=\"https://kotlinlang.org/docs/properties.html\" rel=\"nofollow noreferrer\">getters and setters</a>, so even if we have something that <em>looks</em> like a field, it might call a method to access it. This allows us to future-proof our code in advance. We can implement an actual instance variable <em>now</em>,</p>\n<pre><code>val foo: Foo = myConcreteInstance()\n</code></pre>\n<p>and then, down the road, when <code>foo</code> needs to go make a database query or something because we're scaling our application up, we can change the implementation</p>\n<pre><code>val foo: Foo\n  get() = loadFooLazily()\n\nprivate fun loadFooLazily(): Foo {\n  // Some complicated code ...\n}\n</code></pre>\n<p>Crucially, this affects <em>nobody</em> downstream. Everybody else downstream still writes <code>myInstance.foo</code> and works with the new code. It's not a breaking change.</p>\n<p>We can't do this in Java. <code>myInstance.foo</code> is <em>always</em> a variable, not a method. So Effective Java suggests always accessing instance variables through a method in order to future-proof them. If we write</p>\n<pre><code>private final Foo foo;\n\npublic Foo getFoo() {\n  return foo;\n}\n</code></pre>\n<p>Then we can change <code>getFoo</code> in the future without breaking other code. It's a difference in philosophy: In Java, methods are the OOP construct while instance variables are strictly an implementation detail. In most newer languages, &quot;instance variable&quot; has been replaced with a high-level construct called a &quot;property&quot; which is intended to be used in an OOP way.</p>\n"}],"owner":{"account_id":25011141,"reputation":21,"user_id":18870657,"display_name":"pnpjunction"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650655172,"creation_date":1650654693,"question_id":71973603,"body_markdown":"\r\neffective java has a statement about the access control:\r\nEven if a field is final and refers to an immutable object, by making it public you give up the flexibility to switch to a new internal data representation in which the field does not exist.\r\n\r\nI don&#39;t understand what it means. Appreciate if someone can explain.","title":"Why is it a good practice to make a final field pointing to an immutable obj non public?","body":"<p>effective java has a statement about the access control:\nEven if a field is final and refers to an immutable object, by making it public you give up the flexibility to switch to a new internal data representation in which the field does not exist.</p>\n<p>I don't understand what it means. Appreciate if someone can explain.</p>\n"},{"tags":["java","node.js","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":3755726,"reputation":5760,"user_id":3122133,"accept_rate":83,"display_name":"Madhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573080307,"creation_date":1573080307,"answer_id":58739551,"question_id":58735283,"body_markdown":"As It is clearly showing the usage error `Usage: selenium-standalone action [options]`\r\nchances are that, you might be not passing any arguments after `selenium-standalone` command. Or a newLine/linebreak is being passed\r\n\r\nTry giving or type the following in one go and then press enter\r\n\r\n    ./node_modules/.bin/selenium-standalone install\r\n\r\nIt should work fine.\r\n\r\nRefer https://www.npmjs.com/package/selenium-standalone for more info","title":"Error: not found: java Usage: selenium-standalone action [options]","body":"<p>As It is clearly showing the usage error <code>Usage: selenium-standalone action [options]</code>\nchances are that, you might be not passing any arguments after <code>selenium-standalone</code> command. Or a newLine/linebreak is being passed</p>\n\n<p>Try giving or type the following in one go and then press enter</p>\n\n<pre><code>./node_modules/.bin/selenium-standalone install\n</code></pre>\n\n<p>It should work fine.</p>\n\n<p>Refer <a href=\"https://www.npmjs.com/package/selenium-standalone\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/selenium-standalone</a> for more info</p>\n"},{"tags":[],"owner":{"account_id":14751349,"reputation":19,"user_id":10653359,"display_name":"John M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597812261,"creation_date":1597812261,"answer_id":63480111,"question_id":58735283,"body_markdown":"You mention having Java installed, but you didn&#39;t mention whether Java was in your `PATH` environment variable. Add a `JAVA_HOME` environment variable and then add `%JAVA_HOME%\\bin` to your `PATH` environment variable.","title":"Error: not found: java Usage: selenium-standalone action [options]","body":"<p>You mention having Java installed, but you didn't mention whether Java was in your <code>PATH</code> environment variable. Add a <code>JAVA_HOME</code> environment variable and then add <code>%JAVA_HOME%\\bin</code> to your <code>PATH</code> environment variable.</p>\n"},{"tags":[],"owner":{"account_id":2533697,"reputation":11,"user_id":2201372,"display_name":"marciofao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650655144,"creation_date":1650655144,"answer_id":71973657,"question_id":58735283,"body_markdown":"Just installing java worked for me.\r\nRun in the terminal this:\r\n\r\n    sudo apt update\r\n    sudo apt install default-jre\r\n\r\nthen run again \r\n\r\n    selenium-standalone install &amp;&amp; selenium-standalone start","title":"Error: not found: java Usage: selenium-standalone action [options]","body":"<p>Just installing java worked for me.\nRun in the terminal this:</p>\n<pre><code>sudo apt update\nsudo apt install default-jre\n</code></pre>\n<p>then run again</p>\n<pre><code>selenium-standalone install &amp;&amp; selenium-standalone start\n</code></pre>\n"}],"owner":{"account_id":17046705,"reputation":1,"user_id":12333379,"display_name":"user12333379"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2854,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1650655144,"creation_date":1573060136,"question_id":58735283,"body_markdown":"trying to install selenium-standalone but getting this error, any idea?\r\n\r\n    $ ./node_modules/.bin/selenium-standalone install\r\n    \r\n    not found: java\r\n    Usage: selenium-standalone action [options]\r\n\r\n\r\nI have java installed but don&#39;t know if it needs to be in a specific file location.\r\n\r\n    Bootcamp Student 2@DESKTOP-AI3C36U MINGW64 ~/Desktop/Webdriverframework\r\n    $ npm install -save-dev selenium-standalone@6.15.3                                                                      npm WARN webdriverframework@1.0.0 No repository field.\r\n    \r\n    + selenium-standalone@6.15.3\r\n    added 18 packages from 18 contributors and audited 493 packages in 6.873s\r\n    found 0 vulnerabilities\r\n    \r\n    \r\n    Bootcamp Student 2@DESKTOP-AI3C36U MINGW64 ~/Desktop/Webdriverframework\r\n    $ ./node_modules/.bin/selenium-standalone install                                                                       not found: java\r\n    Usage: selenium-standalone action [options]\r\n\r\nIt should install and then I should be able to start it.\r\n","title":"Error: not found: java Usage: selenium-standalone action [options]","body":"<p>trying to install selenium-standalone but getting this error, any idea?</p>\n\n<pre><code>$ ./node_modules/.bin/selenium-standalone install\n\nnot found: java\nUsage: selenium-standalone action [options]\n</code></pre>\n\n<p>I have java installed but don't know if it needs to be in a specific file location.</p>\n\n<pre><code>Bootcamp Student 2@DESKTOP-AI3C36U MINGW64 ~/Desktop/Webdriverframework\n$ npm install -save-dev selenium-standalone@6.15.3                                                                      npm WARN webdriverframework@1.0.0 No repository field.\n\n+ selenium-standalone@6.15.3\nadded 18 packages from 18 contributors and audited 493 packages in 6.873s\nfound 0 vulnerabilities\n\n\nBootcamp Student 2@DESKTOP-AI3C36U MINGW64 ~/Desktop/Webdriverframework\n$ ./node_modules/.bin/selenium-standalone install                                                                       not found: java\nUsage: selenium-standalone action [options]\n</code></pre>\n\n<p>It should install and then I should be able to start it.</p>\n"},{"tags":["java","string","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1650644477,"post_id":71971708,"comment_id":127176023,"body_markdown":"Can you explain the meaning of *filter a value distinct to: &quot;A&quot;*? And please share what have you tried.","body":"Can you explain the meaning of <i>filter a value distinct to: &quot;A&quot;</i>? And please share what have you tried."},{"owner":{"account_id":24266844,"reputation":13,"user_id":18215609,"display_name":"poetic do"},"score":0,"creation_date":1650646284,"post_id":71971708,"comment_id":127176595,"body_markdown":"a value distinct to: &quot;A&quot; means that if i try to filter another String diferent to the String &quot;A&quot; the program does not need to delete it from the given String, in this case the given String is: &quot;A, A, C&quot;","body":"a value distinct to: &quot;A&quot; means that if i try to filter another String diferent to the String &quot;A&quot; the program does not need to delete it from the given String, in this case the given String is: &quot;A, A, C&quot;"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1650648754,"post_id":71971708,"comment_id":127177398,"body_markdown":"I.e. if the given value is a duplicate, like `&quot;A&quot;`, which is encountered in the string multiple times, then its first occurrence has to be removed. Otherwise, the method should return the same string, correct?","body":"I.e. if the given value is a duplicate, like <code>&quot;A&quot;</code>, which is encountered in the string multiple times, then its first occurrence has to be removed. Otherwise, the method should return the same string, correct?"},{"owner":{"account_id":24266844,"reputation":13,"user_id":18215609,"display_name":"poetic do"},"score":0,"creation_date":1650649319,"post_id":71971708,"comment_id":127177593,"body_markdown":"Yes, it is, that is the way","body":"Yes, it is, that is the way"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1650650572,"post_id":71971708,"comment_id":127177972,"body_markdown":"Your two inputs are the same but you expected output is different.  Please edit the question to clarify.  And what if you had `&quot;A, B, A, B, A, B&quot;`?","body":"Your two inputs are the same but you expected output is different.  Please edit the question to clarify.  And what if you had <code>&quot;A, B, A, B, A, B&quot;</code>?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1650650817,"post_id":71971708,"comment_id":127178038,"body_markdown":"@WJS Input is not a single string, but two strings. Take a look at the couple of comment above yours.","body":"@WJS Input is not a single string, but two strings. Take a look at the couple of comment above yours."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1650651059,"post_id":71971708,"comment_id":127178112,"body_markdown":"@AlexanderIvanchenko  Well, I read the comments and it doesn&#39;t change the fact that each string in the question looks like a single string.  Both inputs are `&quot;A, A, C&quot;`.  And like you pointed out in a recent question, clarifications should be made in the question, not in the comments. :)","body":"@AlexanderIvanchenko  Well, I read the comments and it doesn&#39;t change the fact that each string in the question looks like a single string.  Both inputs are <code>&quot;A, A, C&quot;</code>.  And like you pointed out in a recent question, clarifications should be made in the question, not in the comments. :)"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1650653339,"post_id":71971708,"comment_id":127178744,"body_markdown":"@WJS Below the first input string OP specified *filter the value: &quot;A&quot;*, below the second - *filter a value distinct to &quot;A&quot;* (which definitely should be rephrased). Also, in the comment OP confirmed that they want  to **remove the first occurrence** of so-called *filter value* if *filter value* is a duplicate, and otherwise return the same *input string*.","body":"@WJS Below the first input string OP specified <i>filter the value: &quot;A&quot;</i>, below the second - <i>filter a value distinct to &quot;A&quot;</i> (which definitely should be rephrased). Also, in the comment OP confirmed that they want  to <b>remove the first occurrence</b> of so-called <i>filter value</i> if <i>filter value</i> is a duplicate, and otherwise return the same <i>input string</i>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1650891464,"post_id":71971708,"comment_id":127223289,"body_markdown":"@AlexanderIvanchenko so the “different input” that yields to different result expectations is something that does not even appear in the OP’s solution attempt?","body":"@AlexanderIvanchenko so the “different input” that yields to different result expectations is something that does not even appear in the OP’s solution attempt?"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650650378,"creation_date":1650650028,"answer_id":71972843,"question_id":71971708,"body_markdown":"If I understood your goal correctly, you need a method that expects two string arguments. \r\n\r\nAnd depending on the number of occurrences of the second string in the *first string* the method will return either the ***first string intact*** (*if the target value is unique or not present in the first string*), or will generate a ***new string*** by removing the first occurrence of the target value (*the second string*).\r\n\r\nThis problem can be addressed in the following steps:\r\n* Create a *list* by splitting the given string.\r\n* Count the number of occurrences of the target value.\r\n* If the count is `&lt;= 1` (*i.e. value is unique, or not present at all*) return the same string.\r\n* Otherwise remove the *target value* from the *list*.\r\n* Combine list elements into a string.\r\n\r\nIt might be implemented like this:\r\n\r\n    public static String removeFirstIfDuplicate(String source, String target) {\r\n        List&lt;String&gt; sourceList = new ArrayList&lt;&gt;(Arrays.asList(source.split(&quot;[\\\\p{Punct}\\\\p{Space}]+&quot;)));\r\n    \r\n        long targetCount = sourceList.stream()\r\n            .filter(str -&gt; str.equals(target))\r\n            .count();\r\n\r\n        if (targetCount &lt;= 1) {\r\n            return source;\r\n        }    \r\n        sourceList.remove(target);\r\n\r\n        return sourceList.stream().collect(Collectors.joining(&quot;, &quot;));\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(removeFirstIfDuplicate(&quot;A, A, C&quot;, &quot;A&quot;));\r\n        System.out.println(removeFirstIfDuplicate(&quot;A, A, C&quot;, &quot;C&quot;));\r\n    }\r\n\r\n**Output**\r\n```\r\nA, C\r\nA, A, C\r\n```","title":"Removing one Duplicate value from a String in Java 8 using lambdas","body":"<p>If I understood your goal correctly, you need a method that expects two string arguments.</p>\n<p>And depending on the number of occurrences of the second string in the <em>first string</em> the method will return either the <em><strong>first string intact</strong></em> (<em>if the target value is unique or not present in the first string</em>), or will generate a <em><strong>new string</strong></em> by removing the first occurrence of the target value (<em>the second string</em>).</p>\n<p>This problem can be addressed in the following steps:</p>\n<ul>\n<li>Create a <em>list</em> by splitting the given string.</li>\n<li>Count the number of occurrences of the target value.</li>\n<li>If the count is <code>&lt;= 1</code> (<em>i.e. value is unique, or not present at all</em>) return the same string.</li>\n<li>Otherwise remove the <em>target value</em> from the <em>list</em>.</li>\n<li>Combine list elements into a string.</li>\n</ul>\n<p>It might be implemented like this:</p>\n<pre><code>public static String removeFirstIfDuplicate(String source, String target) {\n    List&lt;String&gt; sourceList = new ArrayList&lt;&gt;(Arrays.asList(source.split(&quot;[\\\\p{Punct}\\\\p{Space}]+&quot;)));\n\n    long targetCount = sourceList.stream()\n        .filter(str -&gt; str.equals(target))\n        .count();\n\n    if (targetCount &lt;= 1) {\n        return source;\n    }    \n    sourceList.remove(target);\n\n    return sourceList.stream().collect(Collectors.joining(&quot;, &quot;));\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(removeFirstIfDuplicate(&quot;A, A, C&quot;, &quot;A&quot;));\n    System.out.println(removeFirstIfDuplicate(&quot;A, A, C&quot;, &quot;C&quot;));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>A, C\nA, A, C\n</code></pre>\n"}],"owner":{"account_id":24266844,"reputation":13,"user_id":18215609,"display_name":"poetic do"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650655084,"creation_date":1650643828,"question_id":71971708,"body_markdown":"I have to *remove* a duplicate value from a `String`. \r\n\r\nBut first I have to *filter* the given value that needs to be deleted. And if it&#39;s a duplicate, return a *new String* with first *duplicated value* removed. And I want to do this using lambdas.\r\n\r\n**Example**.\r\n\r\n*Input* (filter the value: `&quot;A&quot;`)\r\n``` \r\nString input = &quot;A, A, C&quot;;\r\n```\r\n*Expected output*\r\n```\r\n&quot;A, C&quot;\r\n```\r\nBut if I have this.\r\n\r\n*Input* (filter a value different to `&quot;A&quot;`)\r\n``` \r\nString input = &quot;A, A, C&quot;;\r\n```\r\n*Expected output*\r\n```\r\n&quot;A, A, C&quot;\r\n```\r\nI.e. if the given *filter-value* is a duplicate, like &quot;A&quot;, which is encountered in the string multiple times, then its *first occurrence* has to be *removed*. Otherwise, *the same string* should be returned.\r\n\r\nThe white spaces and commas has to be considered in the output too.\r\n\r\nI have been tried this code:\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String mercado = &quot;A, B, A&quot;;\r\n       mercado = mercado.replaceAll(&quot;\\\\b(A)\\\\b(?=.*\\\\b\\\\1\\\\b)&quot;, &quot;&quot;);\r\n       System.out.println( mercado );\r\n    }\r\n}\r\n```\r\nBut the output is: ` , B, A`\r\n\r\nAnd I have to remove that white space and that comma in front.","title":"Removing one Duplicate value from a String in Java 8 using lambdas","body":"<p>I have to <em>remove</em> a duplicate value from a <code>String</code>.</p>\n<p>But first I have to <em>filter</em> the given value that needs to be deleted. And if it's a duplicate, return a <em>new String</em> with first <em>duplicated value</em> removed. And I want to do this using lambdas.</p>\n<p><strong>Example</strong>.</p>\n<p><em>Input</em> (filter the value: <code>&quot;A&quot;</code>)</p>\n<pre><code>String input = &quot;A, A, C&quot;;\n</code></pre>\n<p><em>Expected output</em></p>\n<pre><code>&quot;A, C&quot;\n</code></pre>\n<p>But if I have this.</p>\n<p><em>Input</em> (filter a value different to <code>&quot;A&quot;</code>)</p>\n<pre><code>String input = &quot;A, A, C&quot;;\n</code></pre>\n<p><em>Expected output</em></p>\n<pre><code>&quot;A, A, C&quot;\n</code></pre>\n<p>I.e. if the given <em>filter-value</em> is a duplicate, like &quot;A&quot;, which is encountered in the string multiple times, then its <em>first occurrence</em> has to be <em>removed</em>. Otherwise, <em>the same string</em> should be returned.</p>\n<p>The white spaces and commas has to be considered in the output too.</p>\n<p>I have been tried this code:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        String mercado = &quot;A, B, A&quot;;\n       mercado = mercado.replaceAll(&quot;\\\\b(A)\\\\b(?=.*\\\\b\\\\1\\\\b)&quot;, &quot;&quot;);\n       System.out.println( mercado );\n    }\n}\n</code></pre>\n<p>But the output is: <code> , B, A</code></p>\n<p>And I have to remove that white space and that comma in front.</p>\n"},{"tags":["java","arrays","multithreading","caching","thread-synchronization"],"comments":[{"owner":{"account_id":5155055,"reputation":181,"user_id":4128499,"accept_rate":50,"display_name":"Murali krishna Konduru"},"score":0,"creation_date":1650618917,"post_id":71959612,"comment_id":127166621,"body_markdown":"@Dan surely I will accept your answer, it is very clear. I have added one comment please check.","body":"@Dan surely I will accept your answer, it is very clear. I have added one comment please check."}],"answers":[{"tags":[],"owner":{"account_id":5569841,"reputation":3750,"user_id":4415625,"display_name":"dani-vta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650654831,"creation_date":1650568692,"answer_id":71959846,"question_id":71959612,"body_markdown":"You could achieve this by using the `ReadWriteLock` interface implemented with a `ReentrantReadWriteLock` instance. This class can represent your case of read and write by acquiring the corresponding lock when performing the `getIds` and `loadIds` operations. In fact,\r\n\r\n&gt;A ReadWriteLock maintains a pair of associated locks, one for read-only operations and one for writing. The read lock may be held simultaneously by multiple reader threads, so long as there are no writers. The write lock is exclusive.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReadWriteLock.html\r\n\r\nBasically, your `loadIds` should acquire the write-lock before proceeding with its operations. If it succeeds, it immediately acquires the lock and carries on with its computation; otherwise it blocks the corresponding thread until the lock is obtained or an InterruptedException is thrown.\r\n\r\nOn the other hand, the `getIds` method should acquire the read-lock instead. Where the current thread immediately obtains the lock if this is available; otherwise it blocks the corresponding thread until the lock is obtained or an InterruptedException is thrown.\r\n\r\nContextManager.java\r\n```\r\npublic class ContextManager{\r\n    private List&lt;String&gt; trashCanIds;\r\n    private ReadWriteLock lock;\r\n    private Lock readLock;\r\n    private Lock writeLock;\r\n\r\n    public ContextManager(){\r\n        lock = new ReentrantReadWriteLock(true);\r\n        readLock = lock.readLock();\r\n        writeLock = lock.writeLock();    \r\n    }\r\n\r\n    public List&lt;String&gt; getIds() {\r\n        readLock.lock();\r\n        try {\r\n            List&lt;String&gt; tempTrashCanIds = new ArrayList(trashCanIds);\r\n        } finally {\r\n            readLock.unlock();\r\n        }\r\n        return tempTrashCanIds;\r\n    }\r\n\r\n    public void setIds(List&lt;String&gt; ids) {\r\n        this.ids = ids;\r\n    }\r\n\r\n    public void readLock(){\r\n        this.readLock.lock();\r\n    }\r\n\r\n    public void readUnlock(){\r\n        this.readLock.unlock();\r\n    }\r\n\r\n    public void writeLock(){\r\n        this.writeLock.lock();\r\n    }\r\n\r\n    public void writeUnlock(){\r\n        this.writeLock.unlock();\r\n    }\r\n}\r\n```\r\n\r\nConfigManager.java\r\n```\r\npublic class ConfigManager{\r\n    ContextManager ctxManager = new ContextManager();\r\n    public List&lt;String&gt; loadIds() throws Exception {\r\n        Utils utils = new Utils();\r\n        List&lt;String&gt; listIds = null;\r\n        String[] ids = utils.fetchIds();    \r\n        if(Objects.nonNull(ids) &amp;&amp; ids.length &gt; 0) {\r\n            listIds = new ArrayList&lt;&gt;(Arrays.asList(ids[0].split(&quot;,&quot;)));\r\n        }\r\n\r\n        ctxManager.writeLock();\r\n        try {\r\n            ctxManager.setIds(idsList);\r\n        } finally {\r\n            ctxManager.writeUnlock();\r\n        }\r\n        return idsList;\r\n    }\r\n}\r\n```","title":"In Java how to synchronize cache read and write operations","body":"<p>You could achieve this by using the <code>ReadWriteLock</code> interface implemented with a <code>ReentrantReadWriteLock</code> instance. This class can represent your case of read and write by acquiring the corresponding lock when performing the <code>getIds</code> and <code>loadIds</code> operations. In fact,</p>\n<blockquote>\n<p>A ReadWriteLock maintains a pair of associated locks, one for read-only operations and one for writing. The read lock may be held simultaneously by multiple reader threads, so long as there are no writers. The write lock is exclusive.</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReadWriteLock.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/locks/ReadWriteLock.html</a></p>\n<p>Basically, your <code>loadIds</code> should acquire the write-lock before proceeding with its operations. If it succeeds, it immediately acquires the lock and carries on with its computation; otherwise it blocks the corresponding thread until the lock is obtained or an InterruptedException is thrown.</p>\n<p>On the other hand, the <code>getIds</code> method should acquire the read-lock instead. Where the current thread immediately obtains the lock if this is available; otherwise it blocks the corresponding thread until the lock is obtained or an InterruptedException is thrown.</p>\n<p>ContextManager.java</p>\n<pre><code>public class ContextManager{\n    private List&lt;String&gt; trashCanIds;\n    private ReadWriteLock lock;\n    private Lock readLock;\n    private Lock writeLock;\n\n    public ContextManager(){\n        lock = new ReentrantReadWriteLock(true);\n        readLock = lock.readLock();\n        writeLock = lock.writeLock();    \n    }\n\n    public List&lt;String&gt; getIds() {\n        readLock.lock();\n        try {\n            List&lt;String&gt; tempTrashCanIds = new ArrayList(trashCanIds);\n        } finally {\n            readLock.unlock();\n        }\n        return tempTrashCanIds;\n    }\n\n    public void setIds(List&lt;String&gt; ids) {\n        this.ids = ids;\n    }\n\n    public void readLock(){\n        this.readLock.lock();\n    }\n\n    public void readUnlock(){\n        this.readLock.unlock();\n    }\n\n    public void writeLock(){\n        this.writeLock.lock();\n    }\n\n    public void writeUnlock(){\n        this.writeLock.unlock();\n    }\n}\n</code></pre>\n<p>ConfigManager.java</p>\n<pre><code>public class ConfigManager{\n    ContextManager ctxManager = new ContextManager();\n    public List&lt;String&gt; loadIds() throws Exception {\n        Utils utils = new Utils();\n        List&lt;String&gt; listIds = null;\n        String[] ids = utils.fetchIds();    \n        if(Objects.nonNull(ids) &amp;&amp; ids.length &gt; 0) {\n            listIds = new ArrayList&lt;&gt;(Arrays.asList(ids[0].split(&quot;,&quot;)));\n        }\n\n        ctxManager.writeLock();\n        try {\n            ctxManager.setIds(idsList);\n        } finally {\n            ctxManager.writeUnlock();\n        }\n        return idsList;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5155055,"reputation":181,"user_id":4128499,"accept_rate":50,"display_name":"Murali krishna Konduru"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":312,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71959846,"answer_count":1,"score":0,"last_activity_date":1650654831,"creation_date":1650567386,"question_id":71959612,"body_markdown":"I am working on implementing a simple cache using ArrayList in my application. \r\n\r\nI would like to synchronize cache update operations, while updating the cache I should not allow to perform read operations. So once cache update is completed, then only cache should allow to read.\r\n\r\nContextManager.java\r\n\r\n    public class ContextManager{\r\n        private List&lt;String&gt; trashCanIds;\r\n        public List&lt;String&gt; getIds() {\r\n    \t\treturn ids;\r\n    \t}\r\n    \r\n    \tpublic void setIds(List&lt;String&gt; ids) {\r\n    \t\tthis.ids = ids;\r\n    \t}\r\n    }\r\n\r\nConfigManager.java\r\n\r\n    public class ConfigManager{\r\n        ContextManager ctxManager = new ContextManager();\r\n        public synchronized List&lt;String&gt; loadIds() throws Exception {\r\n    \t\tUtils utils = new Utils();\r\n    \t\tList&lt;String&gt; listIds = null;\r\n    \t\tString[] ids = utils.fetchIds();\t\r\n    \t\tif(Objects.nonNull(ids) &amp;&amp; ids.length &gt; 0) {\r\n    \t\t\tlistIds = new ArrayList&lt;&gt;(Arrays.asList(ids[0].split(&quot;,&quot;)));\r\n    \t\t}\r\n    \t\tctxManager.setIds(idsList);\r\n    \t\treturn idsList;\r\n    \t}\r\n    }\r\n\r\nDeleteManager.java\r\n\r\n    public class DeleteManager {\r\n        ConfigManager configManager = new ConfigManager();\r\n        configManager.loadIds();\r\n    }\r\n\r\nTestManager.java\r\n\r\n    public class TestManager {\r\n        ContextManager contextManager = new ContextManager();\r\n        contextManager.getIds();\r\n    }\r\n\r\nIn this code I have synchronized the loadIds() method. \r\n\r\nNeed help, how to prevent reading getIds() while loadIds()  in progress.","title":"In Java how to synchronize cache read and write operations","body":"<p>I am working on implementing a simple cache using ArrayList in my application.</p>\n<p>I would like to synchronize cache update operations, while updating the cache I should not allow to perform read operations. So once cache update is completed, then only cache should allow to read.</p>\n<p>ContextManager.java</p>\n<pre><code>public class ContextManager{\n    private List&lt;String&gt; trashCanIds;\n    public List&lt;String&gt; getIds() {\n        return ids;\n    }\n\n    public void setIds(List&lt;String&gt; ids) {\n        this.ids = ids;\n    }\n}\n</code></pre>\n<p>ConfigManager.java</p>\n<pre><code>public class ConfigManager{\n    ContextManager ctxManager = new ContextManager();\n    public synchronized List&lt;String&gt; loadIds() throws Exception {\n        Utils utils = new Utils();\n        List&lt;String&gt; listIds = null;\n        String[] ids = utils.fetchIds();    \n        if(Objects.nonNull(ids) &amp;&amp; ids.length &gt; 0) {\n            listIds = new ArrayList&lt;&gt;(Arrays.asList(ids[0].split(&quot;,&quot;)));\n        }\n        ctxManager.setIds(idsList);\n        return idsList;\n    }\n}\n</code></pre>\n<p>DeleteManager.java</p>\n<pre><code>public class DeleteManager {\n    ConfigManager configManager = new ConfigManager();\n    configManager.loadIds();\n}\n</code></pre>\n<p>TestManager.java</p>\n<pre><code>public class TestManager {\n    ContextManager contextManager = new ContextManager();\n    contextManager.getIds();\n}\n</code></pre>\n<p>In this code I have synchronized the loadIds() method.</p>\n<p>Need help, how to prevent reading getIds() while loadIds()  in progress.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1650702567,"post_id":71973595,"comment_id":127186368,"body_markdown":"Since you&#39;re using Java, I think that this [article](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help.","body":"Since you&#39;re using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">article</a> will help."},{"owner":{"account_id":24870794,"reputation":3,"user_id":18745321,"display_name":"Sawon ahmed"},"score":0,"creation_date":1650706385,"post_id":71973595,"comment_id":127187004,"body_markdown":"As a beginner everything flying over the head -Alex . Anyway Thank you. If you can help me little more easier way depending on my code it will be more helpful for me.","body":"As a beginner everything flying over the head -Alex . Anyway Thank you. If you can help me little more easier way depending on my code it will be more helpful for me."}],"owner":{"account_id":24870794,"reputation":3,"user_id":18745321,"display_name":"Sawon ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650654648,"creation_date":1650654648,"question_id":71973595,"body_markdown":"I have a sign in page and after successfully sign in it&#39;s redirect into another activity.\r\nBut whenever I try to get current user in an activity by authStateListener it&#39;s returning current user null. I don&#39;t know how I got signOut automatically?\r\nIn this period my current User should be not null.\r\nHow can I solve this issue? \r\n\r\nHere is my SignIn.java\r\n``` \r\npublic class SignIn extends AppCompatActivity {\r\n\r\n    Button signIn,forgetPass;\r\n    TextView backToSignUp,number,password;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_sign_in);\r\n\r\n        signIn=findViewById(R.id.signInButtonId);\r\n        forgetPass=findViewById(R.id.forgetPassButtonId);\r\n        backToSignUp=findViewById(R.id.signUpBack);\r\n        number=findViewById(R.id.signInNumberId);\r\n        password=findViewById(R.id.signInPasswordId);\r\n\r\n\r\n        signIn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                final String _phone = &quot;+88&quot;+number.getText().toString().trim();\r\n                final String _password = password.getText().toString().trim();\r\n\r\n                if (_phone.isEmpty()) {\r\n                    number.setError(&quot;Enter Your Phone Number&quot;);\r\n                    number.requestFocus();\r\n                    return;\r\n                }\r\n                if (_password.isEmpty()) {\r\n                    password.setError(&quot;Enter a password&quot;);\r\n                    password.requestFocus();\r\n                    return;\r\n                }\r\n\r\n                DatabaseReference reference= FirebaseDatabase.getInstance().getReference(&quot;BloodBank_users&quot;);\r\n                Query checkUser=reference.orderByChild(&quot;phone&quot;).equalTo(_phone);\r\n\r\n                checkUser.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        if (snapshot.exists()) {\r\n                            number.setError(null);\r\n                            number.setEnabled(true);\r\n\r\n                            String passwordFromDB = snapshot.child(_phone).child(&quot;password&quot;).getValue(String.class);\r\n\r\n                            if (passwordFromDB.equals(_password)) {\r\n\r\n                                password.setError(null);\r\n                                password.setEnabled(true);\r\n                                \r\n                                SharedPreferences.Editor editor = getSharedPreferences(&quot;name&quot;, MODE_PRIVATE).edit();\r\n                                editor.putString(&quot;phone&quot;, _phone);\r\n                                editor.putBoolean(&quot;isLoggedIn&quot;, true);\r\n                                editor.apply();\r\n                                \r\n                                Intent intent = new Intent(SignIn.this, BloodBank.class);\r\n                                startActivity(intent);\r\n                                finish();\r\n                                \r\n                            } else {\r\n                                password.setError(&quot;Wrong Password Or User Name&quot;);\r\n                                password.requestFocus();\r\n                            }\r\n                        }\r\n                        else {\r\n                            number.setError(&quot;This Number Is Not Registered&quot;);\r\n                            number.requestFocus();\r\n                        }\r\n                    }\r\n                    \r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n            }\r\n        });\r\n        \r\n        backToSignUp.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent= new Intent(SignIn.this,SignUp.class);\r\n                startActivity(intent);\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n}\r\n ```\r\nHere is my Profile.Java\r\n\r\n``` \r\npublic class Profile extends AppCompatActivity {\r\n\r\n    NavigationView nav;\r\n    DrawerLayout drawerLayout;\r\n    Toolbar toolbar;\r\n    ActionBarDrawerToggle toggle;\r\n    TextView name,blood;\r\n    TextInputEditText name2,gender,number,address;\r\n    Button updateBtn;\r\n\r\n    private FirebaseAuth firebaseAuth;\r\n    FirebaseAuth.AuthStateListener mAuthListener;\r\n\r\n\r\n    @SuppressLint(&quot;SetTextI18n&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n\r\n        //ALl Hocks\r\n        name = findViewById(R.id.userNameId);\r\n        blood = findViewById(R.id.bloodId);\r\n        name2 = findViewById(R.id.userNameId2);\r\n        gender = findViewById(R.id.userGenderId);\r\n        number = findViewById(R.id.userPhoneId);\r\n        address = findViewById(R.id.userAddressId);\r\n        updateBtn = findViewById(R.id.updateButtonId);\r\n\r\n        firebaseAuth = FirebaseAuth.getInstance();\r\n\r\n        mAuthListener = new FirebaseAuth.AuthStateListener(){\r\n            @Override\r\n            public  void  onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth){\r\n                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n                if(user!=null){\r\n                    Toast.makeText(Profile.this, &quot;User Exist&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                else {\r\n                    Toast.makeText(Profile.this, &quot;No User Available&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n\r\n        };\r\n\r\n\r\n\r\n        //For Drawer Layout\r\n        toolbar = findViewById(R.id.toolbarId);\r\n        setSupportActionBar(toolbar);\r\n\r\n        nav = findViewById(R.id.navigationId);\r\n        drawerLayout = findViewById(R.id.drawerId);\r\n\r\n        toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open, R.string.close);\r\n        drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        nav.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\r\n                switch (item.getItemId()) {\r\n                    case R.id.menu_home:\r\n                        startActivity(new Intent(getApplicationContext(), Home.class));\r\n                        finish();\r\n                        break;\r\n\r\n                    case R.id.menu_hospital:\r\n                        startActivity(new Intent(getApplicationContext(), Hospital1.class));\r\n                        finish();\r\n                        break;\r\n\r\n                    case R.id.menu_bloodbank:\r\n                        startActivity(new Intent(getApplicationContext(), BloodBank.class));\r\n                        finish();\r\n                        break;\r\n\r\n                    case R.id.menu_ambulance:\r\n                        startActivity(new Intent(getApplicationContext(), Ambulance.class));\r\n                        finish();\r\n                        break;\r\n\r\n                    case R.id.menu_logOut:\r\n                        firebaseAuth.getInstance().signOut();\r\n                        SharedPreferences prefers =getSharedPreferences(&quot;name&quot;, Context.MODE_PRIVATE);\r\n                        SharedPreferences.Editor editor = prefers.edit();\r\n                        editor.clear();\r\n                        editor.apply();\r\n                        startActivity(new Intent(getApplicationContext(), Home.class));\r\n                        finish();\r\n                        break;\r\n\r\n\r\n\r\n                }\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n        //For Drawer Layout\r\n    }\r\n    @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        firebaseAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        firebaseAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        firebaseAuth.removeAuthStateListener(mAuthListener);\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n```\r\n","title":"FirebaseAuth Returning Null for current user even when user logged in","body":"<p>I have a sign in page and after successfully sign in it's redirect into another activity.\nBut whenever I try to get current user in an activity by authStateListener it's returning current user null. I don't know how I got signOut automatically?\nIn this period my current User should be not null.\nHow can I solve this issue?</p>\n<p>Here is my SignIn.java</p>\n<pre><code>public class SignIn extends AppCompatActivity {\n\n    Button signIn,forgetPass;\n    TextView backToSignUp,number,password;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_sign_in);\n\n        signIn=findViewById(R.id.signInButtonId);\n        forgetPass=findViewById(R.id.forgetPassButtonId);\n        backToSignUp=findViewById(R.id.signUpBack);\n        number=findViewById(R.id.signInNumberId);\n        password=findViewById(R.id.signInPasswordId);\n\n\n        signIn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                final String _phone = &quot;+88&quot;+number.getText().toString().trim();\n                final String _password = password.getText().toString().trim();\n\n                if (_phone.isEmpty()) {\n                    number.setError(&quot;Enter Your Phone Number&quot;);\n                    number.requestFocus();\n                    return;\n                }\n                if (_password.isEmpty()) {\n                    password.setError(&quot;Enter a password&quot;);\n                    password.requestFocus();\n                    return;\n                }\n\n                DatabaseReference reference= FirebaseDatabase.getInstance().getReference(&quot;BloodBank_users&quot;);\n                Query checkUser=reference.orderByChild(&quot;phone&quot;).equalTo(_phone);\n\n                checkUser.addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        if (snapshot.exists()) {\n                            number.setError(null);\n                            number.setEnabled(true);\n\n                            String passwordFromDB = snapshot.child(_phone).child(&quot;password&quot;).getValue(String.class);\n\n                            if (passwordFromDB.equals(_password)) {\n\n                                password.setError(null);\n                                password.setEnabled(true);\n                                \n                                SharedPreferences.Editor editor = getSharedPreferences(&quot;name&quot;, MODE_PRIVATE).edit();\n                                editor.putString(&quot;phone&quot;, _phone);\n                                editor.putBoolean(&quot;isLoggedIn&quot;, true);\n                                editor.apply();\n                                \n                                Intent intent = new Intent(SignIn.this, BloodBank.class);\n                                startActivity(intent);\n                                finish();\n                                \n                            } else {\n                                password.setError(&quot;Wrong Password Or User Name&quot;);\n                                password.requestFocus();\n                            }\n                        }\n                        else {\n                            number.setError(&quot;This Number Is Not Registered&quot;);\n                            number.requestFocus();\n                        }\n                    }\n                    \n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n            }\n        });\n        \n        backToSignUp.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent= new Intent(SignIn.this,SignUp.class);\n                startActivity(intent);\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p>Here is my Profile.Java</p>\n<pre><code>public class Profile extends AppCompatActivity {\n\n    NavigationView nav;\n    DrawerLayout drawerLayout;\n    Toolbar toolbar;\n    ActionBarDrawerToggle toggle;\n    TextView name,blood;\n    TextInputEditText name2,gender,number,address;\n    Button updateBtn;\n\n    private FirebaseAuth firebaseAuth;\n    FirebaseAuth.AuthStateListener mAuthListener;\n\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_profile);\n\n        //ALl Hocks\n        name = findViewById(R.id.userNameId);\n        blood = findViewById(R.id.bloodId);\n        name2 = findViewById(R.id.userNameId2);\n        gender = findViewById(R.id.userGenderId);\n        number = findViewById(R.id.userPhoneId);\n        address = findViewById(R.id.userAddressId);\n        updateBtn = findViewById(R.id.updateButtonId);\n\n        firebaseAuth = FirebaseAuth.getInstance();\n\n        mAuthListener = new FirebaseAuth.AuthStateListener(){\n            @Override\n            public  void  onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth){\n                FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n                if(user!=null){\n                    Toast.makeText(Profile.this, &quot;User Exist&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    Toast.makeText(Profile.this, &quot;No User Available&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n\n\n        };\n\n\n\n        //For Drawer Layout\n        toolbar = findViewById(R.id.toolbarId);\n        setSupportActionBar(toolbar);\n\n        nav = findViewById(R.id.navigationId);\n        drawerLayout = findViewById(R.id.drawerId);\n\n        toggle = new ActionBarDrawerToggle(this, drawerLayout, toolbar, R.string.open, R.string.close);\n        drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n\n        nav.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n                switch (item.getItemId()) {\n                    case R.id.menu_home:\n                        startActivity(new Intent(getApplicationContext(), Home.class));\n                        finish();\n                        break;\n\n                    case R.id.menu_hospital:\n                        startActivity(new Intent(getApplicationContext(), Hospital1.class));\n                        finish();\n                        break;\n\n                    case R.id.menu_bloodbank:\n                        startActivity(new Intent(getApplicationContext(), BloodBank.class));\n                        finish();\n                        break;\n\n                    case R.id.menu_ambulance:\n                        startActivity(new Intent(getApplicationContext(), Ambulance.class));\n                        finish();\n                        break;\n\n                    case R.id.menu_logOut:\n                        firebaseAuth.getInstance().signOut();\n                        SharedPreferences prefers =getSharedPreferences(&quot;name&quot;, Context.MODE_PRIVATE);\n                        SharedPreferences.Editor editor = prefers.edit();\n                        editor.clear();\n                        editor.apply();\n                        startActivity(new Intent(getApplicationContext(), Home.class));\n                        finish();\n                        break;\n\n\n\n                }\n\n                return true;\n            }\n        });\n\n        //For Drawer Layout\n    }\n    @Override\n    protected void onStart() {\n        super.onStart();\n        firebaseAuth.addAuthStateListener(mAuthListener);\n    }\n\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        firebaseAuth.addAuthStateListener(mAuthListener);\n    }\n\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        firebaseAuth.removeAuthStateListener(mAuthListener);\n    }\n\n\n\n}\n\n</code></pre>\n"},{"tags":["java","android","notifications","background-service","foreground-service"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1649907360,"post_id":71865718,"comment_id":126995427,"body_markdown":"Unclear if you are aware of: https://dontkillmyapp.com/oneplus","body":"Unclear if you are aware of: <a href=\"https://dontkillmyapp.com/oneplus\" rel=\"nofollow noreferrer\">dontkillmyapp.com/oneplus</a>"},{"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"score":0,"creation_date":1649929284,"post_id":71865718,"comment_id":127001011,"body_markdown":"@MorrisonChang Wasn&#39;t actually aware of all of these, but only some of them, and I didn&#39;t think it was mainly OnePlus&#39;s issue. After all, the device referred to in the first thread was a Samsung if I&#39;m not mistaken. and this doesn&#39;t solve my problem, I need to know how to do all these steps programmatically, make my app suitable for any device out there, or at least most of them.","body":"@MorrisonChang Wasn&#39;t actually aware of all of these, but only some of them, and I didn&#39;t think it was mainly OnePlus&#39;s issue. After all, the device referred to in the first thread was a Samsung if I&#39;m not mistaken. and this doesn&#39;t solve my problem, I need to know how to do all these steps programmatically, make my app suitable for any device out there, or at least most of them."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1650654469,"creation_date":1649911924,"answer_id":71866660,"question_id":71865718,"body_markdown":"I see that it does not work for me also. So, you can see my two classes in my Git repo which I had also provided you within [my previous answer](https://stackoverflow.com/questions/71758160/android-notification-shows-in-delay-and-stops-updating-when-app-closed-for-30-s/71840843#71840843). Also my repo link is [here](https://github.com/sambhav2358/Backgroud-Stopwatch-Android). Here you must see [this](https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/f4db90771047fbc99bff3e07a3ed888758230f5e/Stop%20watch/app/src/main/AndroidManifest.xml#L6) in my `AndroidManifest.xml` and [this](https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/f4db90771047fbc99bff3e07a3ed888758230f5e/Stop%20watch/app/src/main/java/com/sambhav2358/testing/MainActivity.java#L87) method and [this](https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/f4db90771047fbc99bff3e07a3ed888758230f5e/Stop%20watch/app/src/main/java/com/sambhav2358/testing/MainActivity.java#L148) overridden method.\r\n\r\nThere I am asking for the ignore battery optimization permission and if it is enabled, it works fine or it if not enabled, asks for that permission.\r\n\r\nAlso, you can view the result in relation to [this](https://stackoverflow.com/q/71758160/17133283) question&#39;s answer. [This](https://www.veed.io/view/f2160914-e6a9-41c6-88d5-0cb00bf0109d) is the result\r\n\r\n---\r\n\r\nIf that does not work, refer to this code:\r\n\r\n```java\r\nString packageName = getPackageName();\r\n        PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\r\nif (!pm.isIgnoringBatteryOptimizations(packageName)) {\r\n    Toast.makeText(this, &quot;no allowed&quot;, Toast.LENGTH_SHORT).show();\r\n    // it is not enabled. Ask the user to do so from the settings.\r\n}else {\r\n    Toast.makeText(this, &quot;allowed&quot;, Toast.LENGTH_SHORT).show();\r\n    // good news! It works fine even in the background.\r\n}\r\n```\r\n\r\nAnd to take the user to this setting&#39;s page, based on [this answer][1]:\r\n\r\n```\r\nIntent notificationIntent = new Intent(Settings.ACTION_APPLICATION_SETTINGS);\r\nPendingIntent pendingIntent = PendingIntent.getActivity(this,0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\r\nString expandedNotificationText = String.format(&quot;Background activity is restricted on this device.\\nPlease allow it so we can post an active notification during work sessions.\\n\\nTo do so, click on the notification to go to\\nApp management -&gt; search for %s -&gt; Battery Usage -&gt; enable &#39;Allow background activity&#39;)&quot;, getString(R.string.app_name));\r\nnotificationBuilder.setContentIntent(pendingIntent)\r\n    .setContentText(&quot;Background activity is restricted on this device.&quot;)\r\n    .setStyle(new NotificationCompat.BigTextStyle().bigText(expandedNotificationText))      \r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49098293/8099601","title":"Android: Check if my app is allowed to run background activities","body":"<p>I see that it does not work for me also. So, you can see my two classes in my Git repo which I had also provided you within <a href=\"https://stackoverflow.com/questions/71758160/android-notification-shows-in-delay-and-stops-updating-when-app-closed-for-30-s/71840843#71840843\">my previous answer</a>. Also my repo link is <a href=\"https://github.com/sambhav2358/Backgroud-Stopwatch-Android\" rel=\"nofollow noreferrer\">here</a>. Here you must see <a href=\"https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/f4db90771047fbc99bff3e07a3ed888758230f5e/Stop%20watch/app/src/main/AndroidManifest.xml#L6\" rel=\"nofollow noreferrer\">this</a> in my <code>AndroidManifest.xml</code> and <a href=\"https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/f4db90771047fbc99bff3e07a3ed888758230f5e/Stop%20watch/app/src/main/java/com/sambhav2358/testing/MainActivity.java#L87\" rel=\"nofollow noreferrer\">this</a> method and <a href=\"https://github.com/sambhav2358/Backgroud-Stopwatch-Android/blob/f4db90771047fbc99bff3e07a3ed888758230f5e/Stop%20watch/app/src/main/java/com/sambhav2358/testing/MainActivity.java#L148\" rel=\"nofollow noreferrer\">this</a> overridden method.</p>\n<p>There I am asking for the ignore battery optimization permission and if it is enabled, it works fine or it if not enabled, asks for that permission.</p>\n<p>Also, you can view the result in relation to <a href=\"https://stackoverflow.com/q/71758160/17133283\">this</a> question's answer. <a href=\"https://www.veed.io/view/f2160914-e6a9-41c6-88d5-0cb00bf0109d\" rel=\"nofollow noreferrer\">This</a> is the result</p>\n<hr />\n<p>If that does not work, refer to this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String packageName = getPackageName();\n        PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\nif (!pm.isIgnoringBatteryOptimizations(packageName)) {\n    Toast.makeText(this, &quot;no allowed&quot;, Toast.LENGTH_SHORT).show();\n    // it is not enabled. Ask the user to do so from the settings.\n}else {\n    Toast.makeText(this, &quot;allowed&quot;, Toast.LENGTH_SHORT).show();\n    // good news! It works fine even in the background.\n}\n</code></pre>\n<p>And to take the user to this setting's page, based on <a href=\"https://stackoverflow.com/a/49098293/8099601\">this answer</a>:</p>\n<pre><code>Intent notificationIntent = new Intent(Settings.ACTION_APPLICATION_SETTINGS);\nPendingIntent pendingIntent = PendingIntent.getActivity(this,0, notificationIntent, PendingIntent.FLAG_IMMUTABLE);\nString expandedNotificationText = String.format(&quot;Background activity is restricted on this device.\\nPlease allow it so we can post an active notification during work sessions.\\n\\nTo do so, click on the notification to go to\\nApp management -&gt; search for %s -&gt; Battery Usage -&gt; enable 'Allow background activity')&quot;, getString(R.string.app_name));\nnotificationBuilder.setContentIntent(pendingIntent)\n    .setContentText(&quot;Background activity is restricted on this device.&quot;)\n    .setStyle(new NotificationCompat.BigTextStyle().bigText(expandedNotificationText))      \n</code></pre>\n"}],"owner":{"account_id":11027038,"reputation":186,"user_id":8099601,"display_name":"Nitzan Daloomy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71866660,"answer_count":1,"score":1,"last_activity_date":1650654469,"creation_date":1649902335,"question_id":71865718,"body_markdown":"I have an app that runs a stopwatch service, and I run the service in the foreground.\\\r\nI have a notification showing the timer, that updates each second.\\\r\nThe notification stops updating 30 seconds after I leave the app, and I figured out that the cause is my device&#39;s battery optimization:\\\r\nInside my app&#39;s system settings, there is a battery optimization section, that contains a setting called `Allow background activity`, which can be on or off.\\\r\nI found 2 threads ([answer to thread 1][1] and [answer to thread 2][2]) trying to answer how to check the setting&#39;s state, and both of them suggest using `ActivityManager.isBackgroundRestricted`.\\\r\nFor me, it didn&#39;t work though. Whether the setting was switched On or Off, this function returned `false`.\\\r\nHow can I **check if my app is allowed to run background activities**?\r\n\r\nHere&#39;s a photo of the setting in my phone (OnePlus 8t OxygenOS 12):\r\n[![system settings of my app][3]][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/56047564/8099601\r\n  [2]: https://stackoverflow.com/a/66183449/8099601\r\n  [3]: https://i.stack.imgur.com/UYrBi.jpg","title":"Android: Check if my app is allowed to run background activities","body":"<p>I have an app that runs a stopwatch service, and I run the service in the foreground.<br />\nI have a notification showing the timer, that updates each second.<br />\nThe notification stops updating 30 seconds after I leave the app, and I figured out that the cause is my device's battery optimization:<br />\nInside my app's system settings, there is a battery optimization section, that contains a setting called <code>Allow background activity</code>, which can be on or off.<br />\nI found 2 threads (<a href=\"https://stackoverflow.com/a/56047564/8099601\">answer to thread 1</a> and <a href=\"https://stackoverflow.com/a/66183449/8099601\">answer to thread 2</a>) trying to answer how to check the setting's state, and both of them suggest using <code>ActivityManager.isBackgroundRestricted</code>.<br />\nFor me, it didn't work though. Whether the setting was switched On or Off, this function returned <code>false</code>.<br />\nHow can I <strong>check if my app is allowed to run background activities</strong>?</p>\n<p>Here's a photo of the setting in my phone (OnePlus 8t OxygenOS 12):\n<a href=\"https://i.stack.imgur.com/UYrBi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UYrBi.jpg\" alt=\"system settings of my app\" /></a></p>\n"},{"tags":["java","apache-beam"],"answers":[{"tags":[],"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650653881,"creation_date":1650653881,"answer_id":71973466,"question_id":71968655,"body_markdown":"You can implement it more simply for your use case, without the layers of indirection present there:\r\n\r\n - use `CoGroupByKey` to gather elements that have the same id\r\n - use `ParDo` on the results to filter for elements only appearing in `pkv1`\r\n\r\nThere is actually [code that does exactly this in the Beam SQL codebase](https://github.com/apache/beam/blob/master/sdks/java/extensions/sql/src/main/java/org/apache/beam/sdk/extensions/sql/impl/rel/BeamMinusRel.java) but you can do it more simply for your use case, without so much indirection.\r\n\r\nThe most efficient implementation will depend on the sizes of your collections and how many elements are likely to have hits. Another algorithm to try is\r\n\r\n - use `View.asMap()` to produce a lookup table out of `pkv2`\r\n - use `ParDo` over `pkv1` reading the map as a side input and filter out elements that show up in the map","title":"How to diff two PCollection Apache Beam","body":"<p>You can implement it more simply for your use case, without the layers of indirection present there:</p>\n<ul>\n<li>use <code>CoGroupByKey</code> to gather elements that have the same id</li>\n<li>use <code>ParDo</code> on the results to filter for elements only appearing in <code>pkv1</code></li>\n</ul>\n<p>There is actually <a href=\"https://github.com/apache/beam/blob/master/sdks/java/extensions/sql/src/main/java/org/apache/beam/sdk/extensions/sql/impl/rel/BeamMinusRel.java\" rel=\"nofollow noreferrer\">code that does exactly this in the Beam SQL codebase</a> but you can do it more simply for your use case, without so much indirection.</p>\n<p>The most efficient implementation will depend on the sizes of your collections and how many elements are likely to have hits. Another algorithm to try is</p>\n<ul>\n<li>use <code>View.asMap()</code> to produce a lookup table out of <code>pkv2</code></li>\n<li>use <code>ParDo</code> over <code>pkv1</code> reading the map as a side input and filter out elements that show up in the map</li>\n</ul>\n"}],"owner":{"account_id":11565609,"reputation":799,"user_id":8473984,"display_name":"ZZZ"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650653881,"creation_date":1650630081,"question_id":71968655,"body_markdown":"I am new to Apache Beam.\r\n\r\nBasically, I have two PCollection, each of them contains a number of DataRecords, which is defined as:\r\n\r\n\r\n    class DataRecord {\r\n        private String id;\r\n        .......\r\n    }\r\n\r\nEach record has an id and a number of data fields.\r\n\r\nI have two PCollections:\r\n\r\n    PCollection&lt;DataRecord&gt; p1 = pipeline.apply(...);\r\n    PCollection&lt;DataRecord&gt; p2 = pipeline.apply(...);\r\n\r\nI need to find out:\r\n\r\n - DataRecords that exists in p1, but not in p2\r\n - DataRecords that exists in p2, but not in p1\r\n\r\nDataRecord can be distinguished by its id field only.\r\n\r\nWhat I have done so far is to convert the two PCollection instances into PCollection&lt;KV&lt;String, DataRecord&gt;&gt;, I now have:\r\n\r\n    PCollection&lt;KV&lt;String, DataRecord&gt;&gt; pkv1\r\n    PCollection&lt;KV&lt;String, DataRecord&gt;&gt; pkv2\r\n\r\nHowever, because PCollection does not allow access by key, I don&#39;t know how to diff these two maps like we normally do in Java.\r\n\r\nCan someone point me to the right direction?","title":"How to diff two PCollection Apache Beam","body":"<p>I am new to Apache Beam.</p>\n<p>Basically, I have two PCollection, each of them contains a number of DataRecords, which is defined as:</p>\n<pre><code>class DataRecord {\n    private String id;\n    .......\n}\n</code></pre>\n<p>Each record has an id and a number of data fields.</p>\n<p>I have two PCollections:</p>\n<pre><code>PCollection&lt;DataRecord&gt; p1 = pipeline.apply(...);\nPCollection&lt;DataRecord&gt; p2 = pipeline.apply(...);\n</code></pre>\n<p>I need to find out:</p>\n<ul>\n<li>DataRecords that exists in p1, but not in p2</li>\n<li>DataRecords that exists in p2, but not in p1</li>\n</ul>\n<p>DataRecord can be distinguished by its id field only.</p>\n<p>What I have done so far is to convert the two PCollection instances into PCollection&lt;KV&lt;String, DataRecord&gt;&gt;, I now have:</p>\n<pre><code>PCollection&lt;KV&lt;String, DataRecord&gt;&gt; pkv1\nPCollection&lt;KV&lt;String, DataRecord&gt;&gt; pkv2\n</code></pre>\n<p>However, because PCollection does not allow access by key, I don't know how to diff these two maps like we normally do in Java.</p>\n<p>Can someone point me to the right direction?</p>\n"},{"tags":["java","or-tools"],"comments":[{"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"score":0,"creation_date":1650656206,"post_id":71973449,"comment_id":127179578,"body_markdown":"I would export the model, and ask the scip team. At this point, or-tools is not in control.","body":"I would export the model, and ask the scip team. At this point, or-tools is not in control."}],"owner":{"account_id":8082685,"reputation":1042,"user_id":6091258,"display_name":"epol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650653790,"creation_date":1650653790,"question_id":71973449,"body_markdown":"We are running OR-Tools to solve an MIP problem with SCIP - the Protobuf interface is being used as we need to employ indicator constraints. For smaller problems we have no issues running the solver, but for runs larger than ~200mins the execution starts to freeze with no error message.\r\n\r\nWe are working with OR-Tools version 9.0.9048. We have tried to update to version 9.2.9972 but the issue began to affect even smaller problems.\r\n\r\nThe code is being run on a AWS Linux 2 EC2 machine (x86, 32GB)\r\n\r\nThe problem is configured as below, branching indicator constraints\r\n\r\n            final MPModelRequest mpModelRequest = MPModelRequest.newBuilder()\r\n                    .setEnableInternalSolverOutput(true)\r\n                    .setSolverSpecificParameters(\r\n                            &quot;constraints/indicator/branchindicators=TRUE&quot;)\r\n                    .setSolverType(MPModelRequest.SolverType.SCIP_MIXED_INTEGER_PROGRAMMING)\r\n                    .setModel(model)\r\n                    .setSolverTimeLimitSeconds(300 * 60)\r\n                    .build();\r\n\r\n\r\nPresolve runs successfully as indicated below:\r\n```\r\npresolving (18 rounds: 18 fast, 9 medium, 9 exhaustive): 28263 deleted vars, 45689 deleted constraints, 40 added constraints, 30147 tightened bounds, 0 added holes, 90 changed sides, 0 changed coefficients 42170 implications, 13057 cliques \r\npresolved problem has 24482 variables (3780 bin, 0 int, 13892 impl, 6810 cont) and 36842 constraints \r\n19637 constraints of type &lt;linear&gt; \r\n17205 constraints of type &lt;indicator&gt;\r\nPresolving Time: 11.56\r\n```\r\nThe execution then stops after approximately 6000 seconds and no further messages are displayed\r\n```\r\ntime | node  | left  |LP iter|LP it/n|mem/heur|mdpt |vars |cons |rows |cuts |sepa|confs|strbr|  dualbound   | primalbound  |  gap   | compl.\r\n17.0s|     1 |     0 | 11748 |     - |   280M |   0 |  24k|  36k|  33k|   0 |  0 |  21 |   0 | 2.651011e+04 | 2.017194e+03 |1214.21%| unknown\r\n...\r\n587s|  1000 |   776 |236957 | 222.7 |   457M |  67 |  24k|  38k|  33k| 372 |  1 |1630 |1293 | 2.651011e+04 | 7.062428e+03 | 275.37%| unknown\r\n...\r\n1625s|  4700 |  3770 |  1050k| 220.4 |   540M | 189 |  24k|  40k|  33k| 881 |  1 |4635 |2835 | 2.651011e+04 | 2.019589e+04 |  31.26%| unknown\r\n...\r\n2612s|  8200 |  6779 |  1605k| 194.0 |   596M | 195 |  24k|  40k|  33k|2361 |  1 |7334 |3980 | 2.651011e+04 | 2.030212e+04 |  30.58%| unknown\r\nRestart triggered after 50 consecutive estimations that the remaining tree will be large\r\n(run 1, node 8279) performing user restart\r\n(restart) converted 66 cuts from the global cut pool into linear constraints\r\npresolving:\r\n(round 1, fast)       0 del vars, 41 del conss, 10 add conss, 4 chg bounds, 3 chg sides, 10 chg coeffs, 0 upgd conss, 42170 impls, 13074 clqs\r\n(round 2, exhaustive) 0 del vars, 53 del conss, 10 add conss, 10 chg bounds, 8 chg sides, 10 chg coeffs, 60 upgd conss, 42170 impls, 13074 clqs\r\n(round 3, medium)     0 del vars, 56 del conss, 46 add conss, 10 chg bounds, 8 chg sides, 10 chg coeffs, 60 upgd conss, 42170 impls, 13074 clqs\r\n(round 4, exhaustive) 0 del vars, 127 del conss, 46 add conss, 10 chg bounds, 8 chg sides, 95 chg coeffs, 60 upgd conss, 42170 impls, 13074 clqs\r\npresolving (5 rounds: 5 fast, 4 medium, 3 exhaustive):\r\n0 deleted vars, 134 deleted constraints, 46 added constraints, 10 tightened bounds, 0 added holes, 8 changed sides, 118 changed coefficients\r\n42170 implications, 13074 cliques\r\npresolved problem has 24482 variables (3780 bin, 0 int, 13892 impl, 6810 cont) and 40631 constraints\r\n6 constraints of type &lt;varbound&gt;\r\n11 constraints of type &lt;knapsack&gt;\r\n83 constraints of type &lt;setppc&gt;\r\n19663 constraints of type &lt;linear&gt;\r\n1003 constraints of type &lt;logicor&gt;\r\n2673 constraints of type &lt;bounddisjunction&gt;\r\n17192 constraints of type &lt;indicator&gt;\r\nPresolving Time: 12.22\r\ntransformed 3/15 original solutions to the transformed problem space\r\ntime | node  | left  |LP iter|LP it/n|mem/heur|mdpt |vars |cons |rows |cuts |sepa|confs|strbr|  dualbound   | primalbound  |  gap   | compl.\r\n2662s|     1 |     0 |  1630k|     - |   621M |   0 |  24k|  40k|  33k|   0 |  0 |7361 |4050 | 2.651011e+04 | 2.030212e+04 |  30.58%| unknown\r\n...\r\n6026s| 11300 |  8954 |  3452k| 174.9 |   776M | 151 |  24k|  44k|  33k|1074 |  1 |  20k|9328 | 2.650735e+04 | 2.288876e+04 |  15.81%|   2.69%\r\n```\r\n\r\nAfter this line nothing else is printed and the program did not proceed for the next 3 hours.\r\n\r\nI understand that if this was related to memory limitation an error message would be thrown. We also did not change the total available SCIP memory (which according to [the SCIP documentation][1]\r\n has a very large default value)\r\n\r\nAny ideas as what could be causing the issue and how we can resolve it?\r\n\r\n  [1]: https://www.scipopt.org/doc/html/PARAMETERS.php","title":"OR-Tools SCIP Solver freezes without error message","body":"<p>We are running OR-Tools to solve an MIP problem with SCIP - the Protobuf interface is being used as we need to employ indicator constraints. For smaller problems we have no issues running the solver, but for runs larger than ~200mins the execution starts to freeze with no error message.</p>\n<p>We are working with OR-Tools version 9.0.9048. We have tried to update to version 9.2.9972 but the issue began to affect even smaller problems.</p>\n<p>The code is being run on a AWS Linux 2 EC2 machine (x86, 32GB)</p>\n<p>The problem is configured as below, branching indicator constraints</p>\n<pre><code>        final MPModelRequest mpModelRequest = MPModelRequest.newBuilder()\n                .setEnableInternalSolverOutput(true)\n                .setSolverSpecificParameters(\n                        &quot;constraints/indicator/branchindicators=TRUE&quot;)\n                .setSolverType(MPModelRequest.SolverType.SCIP_MIXED_INTEGER_PROGRAMMING)\n                .setModel(model)\n                .setSolverTimeLimitSeconds(300 * 60)\n                .build();\n</code></pre>\n<p>Presolve runs successfully as indicated below:</p>\n<pre><code>presolving (18 rounds: 18 fast, 9 medium, 9 exhaustive): 28263 deleted vars, 45689 deleted constraints, 40 added constraints, 30147 tightened bounds, 0 added holes, 90 changed sides, 0 changed coefficients 42170 implications, 13057 cliques \npresolved problem has 24482 variables (3780 bin, 0 int, 13892 impl, 6810 cont) and 36842 constraints \n19637 constraints of type &lt;linear&gt; \n17205 constraints of type &lt;indicator&gt;\nPresolving Time: 11.56\n</code></pre>\n<p>The execution then stops after approximately 6000 seconds and no further messages are displayed</p>\n<pre><code>time | node  | left  |LP iter|LP it/n|mem/heur|mdpt |vars |cons |rows |cuts |sepa|confs|strbr|  dualbound   | primalbound  |  gap   | compl.\n17.0s|     1 |     0 | 11748 |     - |   280M |   0 |  24k|  36k|  33k|   0 |  0 |  21 |   0 | 2.651011e+04 | 2.017194e+03 |1214.21%| unknown\n...\n587s|  1000 |   776 |236957 | 222.7 |   457M |  67 |  24k|  38k|  33k| 372 |  1 |1630 |1293 | 2.651011e+04 | 7.062428e+03 | 275.37%| unknown\n...\n1625s|  4700 |  3770 |  1050k| 220.4 |   540M | 189 |  24k|  40k|  33k| 881 |  1 |4635 |2835 | 2.651011e+04 | 2.019589e+04 |  31.26%| unknown\n...\n2612s|  8200 |  6779 |  1605k| 194.0 |   596M | 195 |  24k|  40k|  33k|2361 |  1 |7334 |3980 | 2.651011e+04 | 2.030212e+04 |  30.58%| unknown\nRestart triggered after 50 consecutive estimations that the remaining tree will be large\n(run 1, node 8279) performing user restart\n(restart) converted 66 cuts from the global cut pool into linear constraints\npresolving:\n(round 1, fast)       0 del vars, 41 del conss, 10 add conss, 4 chg bounds, 3 chg sides, 10 chg coeffs, 0 upgd conss, 42170 impls, 13074 clqs\n(round 2, exhaustive) 0 del vars, 53 del conss, 10 add conss, 10 chg bounds, 8 chg sides, 10 chg coeffs, 60 upgd conss, 42170 impls, 13074 clqs\n(round 3, medium)     0 del vars, 56 del conss, 46 add conss, 10 chg bounds, 8 chg sides, 10 chg coeffs, 60 upgd conss, 42170 impls, 13074 clqs\n(round 4, exhaustive) 0 del vars, 127 del conss, 46 add conss, 10 chg bounds, 8 chg sides, 95 chg coeffs, 60 upgd conss, 42170 impls, 13074 clqs\npresolving (5 rounds: 5 fast, 4 medium, 3 exhaustive):\n0 deleted vars, 134 deleted constraints, 46 added constraints, 10 tightened bounds, 0 added holes, 8 changed sides, 118 changed coefficients\n42170 implications, 13074 cliques\npresolved problem has 24482 variables (3780 bin, 0 int, 13892 impl, 6810 cont) and 40631 constraints\n6 constraints of type &lt;varbound&gt;\n11 constraints of type &lt;knapsack&gt;\n83 constraints of type &lt;setppc&gt;\n19663 constraints of type &lt;linear&gt;\n1003 constraints of type &lt;logicor&gt;\n2673 constraints of type &lt;bounddisjunction&gt;\n17192 constraints of type &lt;indicator&gt;\nPresolving Time: 12.22\ntransformed 3/15 original solutions to the transformed problem space\ntime | node  | left  |LP iter|LP it/n|mem/heur|mdpt |vars |cons |rows |cuts |sepa|confs|strbr|  dualbound   | primalbound  |  gap   | compl.\n2662s|     1 |     0 |  1630k|     - |   621M |   0 |  24k|  40k|  33k|   0 |  0 |7361 |4050 | 2.651011e+04 | 2.030212e+04 |  30.58%| unknown\n...\n6026s| 11300 |  8954 |  3452k| 174.9 |   776M | 151 |  24k|  44k|  33k|1074 |  1 |  20k|9328 | 2.650735e+04 | 2.288876e+04 |  15.81%|   2.69%\n</code></pre>\n<p>After this line nothing else is printed and the program did not proceed for the next 3 hours.</p>\n<p>I understand that if this was related to memory limitation an error message would be thrown. We also did not change the total available SCIP memory (which according to <a href=\"https://www.scipopt.org/doc/html/PARAMETERS.php\" rel=\"nofollow noreferrer\">the SCIP documentation</a>\nhas a very large default value)</p>\n<p>Any ideas as what could be causing the issue and how we can resolve it?</p>\n"},{"tags":["java","comparable"],"comments":[{"owner":{"account_id":25029053,"reputation":11,"user_id":18887003,"display_name":"uhhsoup"},"score":0,"creation_date":1650510078,"post_id":71948396,"comment_id":127135996,"body_markdown":"I probably should say that the error is on the compareTo part of FP1.compareTo(FP2) in the second method","body":"I probably should say that the error is on the compareTo part of FP1.compareTo(FP2) in the second method"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650510901,"post_id":71948396,"comment_id":127136114,"body_markdown":"What you are doing is sort of confusing.","body":"What you are doing is sort of confusing."},{"owner":{"account_id":25029053,"reputation":11,"user_id":18887003,"display_name":"uhhsoup"},"score":0,"creation_date":1650511148,"post_id":71948396,"comment_id":127136150,"body_markdown":"should I post my entire code?","body":"should I post my entire code?"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650511221,"post_id":71948396,"comment_id":127136157,"body_markdown":"Yes. This lacks detail.","body":"Yes. This lacks detail."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1650511829,"post_id":71948396,"comment_id":127136233,"body_markdown":"Your `compareTo()` method doesn&#39;t make sense. The first test should deliver 0, not 1.","body":"Your <code>compareTo()</code> method doesn&#39;t make sense. The first test should deliver 0, not 1."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1650513386,"post_id":71948396,"comment_id":127136479,"body_markdown":"Why does your compare method print &quot;true&quot;, &quot;false&quot;,  or &quot;error&quot;?  A &#39;compareTo&#39; method is intended to indicate one value is less than, equal to, or greater than the other.","body":"Why does your compare method print &quot;true&quot;, &quot;false&quot;,  or &quot;error&quot;?  A &#39;compareTo&#39; method is intended to indicate one value is less than, equal to, or greater than the other."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":1,"creation_date":1650514299,"post_id":71948396,"comment_id":127136609,"body_markdown":"@James the method that returns a `String` is a simple wrapper to `compareTo`. There is nothing really wrong with wrapping a method in this manner. Although, in this case, the implementation was a little poor.","body":"@James the method that returns a <code>String</code> is a simple wrapper to <code>compareTo</code>. There is nothing really wrong with wrapping a method in this manner. Although, in this case, the implementation was a little poor."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650514397,"post_id":71948396,"comment_id":127136628,"body_markdown":"@user207421 that&#39;s why I commented that what the OP was doing was confusing.","body":"@user207421 that&#39;s why I commented that what the OP was doing was confusing."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650514478,"post_id":71948396,"comment_id":127136637,"body_markdown":"@uhhsoup did you read my answer? Are you clear now about what you need to do in your `FPNumber` class?","body":"@uhhsoup did you read my answer? Are you clear now about what you need to do in your <code>FPNumber</code> class?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1650514888,"post_id":71948396,"comment_id":127136698,"body_markdown":"@hfontanez Yes. But, returning &quot;error&quot; for zero implies somewhere two FPNumber objects are constrained against having the same value. I have to wonder if that is what the O/P intended.","body":"@hfontanez Yes. But, returning &quot;error&quot; for zero implies somewhere two FPNumber objects are constrained against having the same value. I have to wonder if that is what the O/P intended."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1650515195,"post_id":71948396,"comment_id":127136754,"body_markdown":"@James agreed. This is why I clarified that wrapping the method is OK, but the implementation (of the logic) was poor.","body":"@James agreed. This is why I clarified that wrapping the method is OK, but the implementation (of the logic) was poor."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1650653155,"post_id":71948396,"comment_id":127178701,"body_markdown":"@uhhsoup, the O/P, didn&#39;t actually ask a question. I assumed O/P mainly wanted to know why the error &quot;undefined for the type Object&quot; error was appearing.","body":"@uhhsoup, the O/P, didn&#39;t actually ask a question. I assumed O/P mainly wanted to know why the error &quot;undefined for the type Object&quot; error was appearing."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650515591,"creation_date":1650513398,"answer_id":71948774,"question_id":71948396,"body_markdown":"Let me start by a simple example using raw values, and then expand it to use objects.\r\n\r\nSuppose you have two variables `x` and `y` that hold integer values. If I ask you, how do you know if the values for these variables are equal? The question is answered by simple math: if the values of the two variables are equal, the difference between the two must be zero. For example, 5 - 5. In this case, the difference is zero because both variables hold the value of positive 5.\r\n\r\nWhat if they are different? Let `x = 5` and `y = 13`.\r\n\r\n1) x - y = -8 (this means that `x &lt; y`)\r\n2) y - x =  8 (same as above)\r\n\r\nAs you can see, when the values are different, it is not always going to be 1 or -1. This is important when you are comparing more than two values. Let&#39;s introduce `z = 20`. If comparing `x` to `y` and `x` to `z` and the result was -1 on both comparisons, the implication is that `y` and `z` must be equal but they are not.\r\n\r\nWhat about when comparing objects? It is the same principle. Even when an object holds multiple variables, you must decide a hierarchy to determine which variable is more or less important in the comparison. Consider the following example\r\n\r\n```\r\npublic class Person implements Comparable&lt;Person&gt; {\r\n    private String firstName;\r\n    private String lastName;\r\n    private int age;\r\n    ...\r\n    public int compareTo(Person other) {...}\r\n}\r\n``` \r\nI can decide that, for my system, when comparing two `Person` objects, I must check first the last name, then the first name, and lastly the age. \r\n\r\n```\r\npublic int compareTo(Person other) {\r\n    int i = lastName.compareTo(other.lastName);\r\n    if (i != 0) return i;\r\n\r\n    i = firstName.compareTo(other.firstName);\r\n    if (i != 0) return i;\r\n\r\n    return Integer.compare(age, other.age);\r\n}\r\n```\r\nBasically, if the last names are the same (`i == 0`), it will compare the first names. Then if the first names are the same, it will compare the ages. At any point, if the values are different, the difference will be returned. Again, not a 1 or -1. So basically, to convert the results to boolean, the logic is\r\n\r\n```\r\npublic boolean compare(Person person, Person other) {\r\n    if (person.compareTo(other) == 0) return true;\r\n    else return false;\r\n}\r\n```\r\n\r\nBy the way, your original code has a compilation error because your `compare` method should return a `String` and it returns `void`. Instead of using `System.out.print()` inside your method, like you have now, you should print out the output of the method.\r\n```\r\npublic String compare(Object FP1, Object FP2) {\r\n        if (FP1.compareTo(FP2) == 1)\r\n            return &quot;true&quot;;\r\n        else if (FP1.compareTo(FP2) == -1)\r\n            return &quot;false&quot;;\r\n        else\r\n            return &quot;error&quot;;\r\n}\r\n\r\n...\r\n\r\nSystem.out.println(compare(FP1, FP2));\r\n```\r\n\r\n**UPDATE**: I forgot to mention before that, essentially, the `compare` function I included here is serving basically the same function as the `equals()` method. Also, because this function is provided by a third party, it is sort of what a `Comparator` should do. Because of that, it should be done following best practices of what a `Comparator` should do. For my `Person` comparator, you may have two `Comparators`: one that compares age and one that compare names.","title":"Using comparable in a method in the main method","body":"<p>Let me start by a simple example using raw values, and then expand it to use objects.</p>\n<p>Suppose you have two variables <code>x</code> and <code>y</code> that hold integer values. If I ask you, how do you know if the values for these variables are equal? The question is answered by simple math: if the values of the two variables are equal, the difference between the two must be zero. For example, 5 - 5. In this case, the difference is zero because both variables hold the value of positive 5.</p>\n<p>What if they are different? Let <code>x = 5</code> and <code>y = 13</code>.</p>\n<ol>\n<li>x - y = -8 (this means that <code>x &lt; y</code>)</li>\n<li>y - x =  8 (same as above)</li>\n</ol>\n<p>As you can see, when the values are different, it is not always going to be 1 or -1. This is important when you are comparing more than two values. Let's introduce <code>z = 20</code>. If comparing <code>x</code> to <code>y</code> and <code>x</code> to <code>z</code> and the result was -1 on both comparisons, the implication is that <code>y</code> and <code>z</code> must be equal but they are not.</p>\n<p>What about when comparing objects? It is the same principle. Even when an object holds multiple variables, you must decide a hierarchy to determine which variable is more or less important in the comparison. Consider the following example</p>\n<pre><code>public class Person implements Comparable&lt;Person&gt; {\n    private String firstName;\n    private String lastName;\n    private int age;\n    ...\n    public int compareTo(Person other) {...}\n}\n</code></pre>\n<p>I can decide that, for my system, when comparing two <code>Person</code> objects, I must check first the last name, then the first name, and lastly the age.</p>\n<pre><code>public int compareTo(Person other) {\n    int i = lastName.compareTo(other.lastName);\n    if (i != 0) return i;\n\n    i = firstName.compareTo(other.firstName);\n    if (i != 0) return i;\n\n    return Integer.compare(age, other.age);\n}\n</code></pre>\n<p>Basically, if the last names are the same (<code>i == 0</code>), it will compare the first names. Then if the first names are the same, it will compare the ages. At any point, if the values are different, the difference will be returned. Again, not a 1 or -1. So basically, to convert the results to boolean, the logic is</p>\n<pre><code>public boolean compare(Person person, Person other) {\n    if (person.compareTo(other) == 0) return true;\n    else return false;\n}\n</code></pre>\n<p>By the way, your original code has a compilation error because your <code>compare</code> method should return a <code>String</code> and it returns <code>void</code>. Instead of using <code>System.out.print()</code> inside your method, like you have now, you should print out the output of the method.</p>\n<pre><code>public String compare(Object FP1, Object FP2) {\n        if (FP1.compareTo(FP2) == 1)\n            return &quot;true&quot;;\n        else if (FP1.compareTo(FP2) == -1)\n            return &quot;false&quot;;\n        else\n            return &quot;error&quot;;\n}\n\n...\n\nSystem.out.println(compare(FP1, FP2));\n</code></pre>\n<p><strong>UPDATE</strong>: I forgot to mention before that, essentially, the <code>compare</code> function I included here is serving basically the same function as the <code>equals()</code> method. Also, because this function is provided by a third party, it is sort of what a <code>Comparator</code> should do. Because of that, it should be done following best practices of what a <code>Comparator</code> should do. For my <code>Person</code> comparator, you may have two <code>Comparators</code>: one that compares age and one that compare names.</p>\n"}],"owner":{"account_id":25029053,"reputation":11,"user_id":18887003,"display_name":"uhhsoup"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650653280,"creation_date":1650509783,"question_id":71948396,"body_markdown":"I am trying to check the values of a comparable method and assign the 1 and -1 value to true and false.  I made a simple if else statement that does just that but I want to make it inside of a method so I can use it multiple times in my main method. When I try to do this I get an error that my compareTo method (in another class) is &quot;undefined for the type Object&quot;.\r\n\r\nHere is my code for both the compareTo method and my attempt of using this in my test class.  \r\n```\r\npublic int compareTo(FPNumber o) {\r\n\tif ((exp == o.exp) &amp;&amp; (fraction - o.fraction &lt; SMALL))\r\n\t\treturn 1;\r\n\telse if ((exp == o.exp) || (fraction - o.fraction &gt; SMALL))\r\n\t\treturn -1;\r\n\telse\r\n\t\treturn 0;\r\n}\r\n```\r\n```\r\npublic String compare(Object FP1, Object FP2) {\r\n\tif (FP1.compareTo(FP2) == 1)\r\n\t\tSystem.out.println(&quot;true&quot;);\r\n\telse if (FP1.compareTo(FP2) == -1)\r\n\t\tSystem.out.println(&quot;false&quot;);\r\n\telse\r\n\t\tSystem.out.println(&quot;error&quot;);\r\n}\r\n```","title":"Using comparable in a method in the main method","body":"<p>I am trying to check the values of a comparable method and assign the 1 and -1 value to true and false.  I made a simple if else statement that does just that but I want to make it inside of a method so I can use it multiple times in my main method. When I try to do this I get an error that my compareTo method (in another class) is &quot;undefined for the type Object&quot;.</p>\n<p>Here is my code for both the compareTo method and my attempt of using this in my test class.</p>\n<pre><code>public int compareTo(FPNumber o) {\n    if ((exp == o.exp) &amp;&amp; (fraction - o.fraction &lt; SMALL))\n        return 1;\n    else if ((exp == o.exp) || (fraction - o.fraction &gt; SMALL))\n        return -1;\n    else\n        return 0;\n}\n</code></pre>\n<pre><code>public String compare(Object FP1, Object FP2) {\n    if (FP1.compareTo(FP2) == 1)\n        System.out.println(&quot;true&quot;);\n    else if (FP1.compareTo(FP2) == -1)\n        System.out.println(&quot;false&quot;);\n    else\n        System.out.println(&quot;error&quot;);\n}\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":12669241,"reputation":34,"user_id":9207341,"display_name":"Ramazan Akbal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650653176,"creation_date":1650653176,"answer_id":71973360,"question_id":71960178,"body_markdown":"This is mainly because the recyclerview widget actually works with cache. That&#39;s why you should repeat the same process for things that the user will see, such as GONE or VISIBLE.\r\n\r\n    if (chats.get(position).isFromMe() &gt; 0) {\r\n                holder.txtTextFrMe.setText(chats.get(position).getMessage());\r\n                holder.txtTimeOut.setText(timeForm);\r\n                holder.relIn.setVisibility(View.GONE);\r\n                holder.relOut.setVisibility(View.VISIBLE);\r\n            } else {\r\n                holder.txtText.setText(chats.get(position).getMessage());\r\n                holder.txtTimeIn.setText(timeForm);\r\n                holder.relIn.setVisibility(View.VISIBLE);\r\n                holder.relOut.setVisibility(View.GONE);\r\n            }","title":"Using If in RecyclerView, doesnt show all the item of the list","body":"<p>This is mainly because the recyclerview widget actually works with cache. That's why you should repeat the same process for things that the user will see, such as GONE or VISIBLE.</p>\n<pre><code>if (chats.get(position).isFromMe() &gt; 0) {\n            holder.txtTextFrMe.setText(chats.get(position).getMessage());\n            holder.txtTimeOut.setText(timeForm);\n            holder.relIn.setVisibility(View.GONE);\n            holder.relOut.setVisibility(View.VISIBLE);\n        } else {\n            holder.txtText.setText(chats.get(position).getMessage());\n            holder.txtTimeIn.setText(timeForm);\n            holder.relIn.setVisibility(View.VISIBLE);\n            holder.relOut.setVisibility(View.GONE);\n        }\n</code></pre>\n"}],"owner":{"account_id":24875913,"reputation":3,"user_id":18749768,"display_name":"Szalay Gergely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71973360,"answer_count":1,"score":0,"last_activity_date":1650653176,"creation_date":1650570618,"question_id":71960178,"body_markdown":"I am trying create a RecycleView for my chat application and to align the sent and arrived messages to the left and right. I used an if state to check if that is from me, and 2 separated textview aligned to start/end and only showing the correct one. I think it isn&#39;t the best solution as sometimes after notifying the view about new data, the RecycleView doesn&#39;t show all the items. If I just use it without any if/gone etc, the list showing correct number of the items.\r\n\r\n  \r\n\r\n     if (chats.get(position).isFromMe() &gt; 0) {\r\n                    holder.txtTextFrMe.setText(chats.get(position).getMessage());\r\n                    holder.txtTimeOut.setText(timeForm);\r\n                    holder.relIn.setVisibility(View.GONE);\r\n                } else {\r\n                    holder.txtText.setText(chats.get(position).getMessage());\r\n                    holder.txtTimeIn.setText(timeForm);\r\n                    holder.relOut.setVisibility(View.GONE);\r\n                }\r\n\r\n\r\nand the xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n    \r\n        android:orientation=&quot;vertical&quot;\r\n        android:padding=&quot;5dp&quot;&gt;\r\n    \r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/chatRelIn&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/chatText&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:background=&quot;@drawable/shape_bg_incoming_bubble&quot;\r\n                android:paddingVertical=&quot;10dp&quot;\r\n                android:paddingLeft=&quot;30dp&quot;\r\n                android:text=&quot;This is a message to me&quot;\r\n                android:paddingRight=&quot;10dp&quot;\r\n                android:textSize=&quot;17sp&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/chatTextTimeIn&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;10.21&quot;\r\n                android:layout_alignBottom=&quot;@id/chatText&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;/&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/chatRelOut&quot;\r\n            android:layout_marginTop=&quot;15dp&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:gravity=&quot;right&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/chatTextFrMe&quot;\r\n                android:paddingLeft=&quot;10dp&quot;\r\n                android:paddingVertical=&quot;10dp&quot;\r\n                android:paddingRight=&quot;30dp&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/shape_bg_outgoing_bubble&quot;\r\n                android:textSize=&quot;17sp&quot;\r\n                android:layout_alignParentEnd=&quot;true&quot;\r\n                android:text=&quot;Message from me&quot;\r\n                /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/chatTextTimeOut&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;10.21&quot;\r\n                android:layout_alignBottom=&quot;@id/chatTextFrMe&quot;\r\n                android:layout_alignParentStart=&quot;true&quot;\r\n                android:layout_marginRight=&quot;10dp&quot;\r\n    \r\n                /&gt;\r\n        &lt;/RelativeLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nThanks in advance! \r\n","title":"Using If in RecyclerView, doesnt show all the item of the list","body":"<p>I am trying create a RecycleView for my chat application and to align the sent and arrived messages to the left and right. I used an if state to check if that is from me, and 2 separated textview aligned to start/end and only showing the correct one. I think it isn't the best solution as sometimes after notifying the view about new data, the RecycleView doesn't show all the items. If I just use it without any if/gone etc, the list showing correct number of the items.</p>\n<pre><code> if (chats.get(position).isFromMe() &gt; 0) {\n                holder.txtTextFrMe.setText(chats.get(position).getMessage());\n                holder.txtTimeOut.setText(timeForm);\n                holder.relIn.setVisibility(View.GONE);\n            } else {\n                holder.txtText.setText(chats.get(position).getMessage());\n                holder.txtTimeIn.setText(timeForm);\n                holder.relOut.setVisibility(View.GONE);\n            }\n</code></pre>\n<p>and the xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;5dp&quot;&gt;\n\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/chatRelIn&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/chatText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:background=&quot;@drawable/shape_bg_incoming_bubble&quot;\n            android:paddingVertical=&quot;10dp&quot;\n            android:paddingLeft=&quot;30dp&quot;\n            android:text=&quot;This is a message to me&quot;\n            android:paddingRight=&quot;10dp&quot;\n            android:textSize=&quot;17sp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/chatTextTimeIn&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;10.21&quot;\n            android:layout_alignBottom=&quot;@id/chatText&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n            android:layout_alignParentEnd=&quot;true&quot;/&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/chatRelOut&quot;\n        android:layout_marginTop=&quot;15dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:gravity=&quot;right&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/chatTextFrMe&quot;\n            android:paddingLeft=&quot;10dp&quot;\n            android:paddingVertical=&quot;10dp&quot;\n            android:paddingRight=&quot;30dp&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:background=&quot;@drawable/shape_bg_outgoing_bubble&quot;\n            android:textSize=&quot;17sp&quot;\n            android:layout_alignParentEnd=&quot;true&quot;\n            android:text=&quot;Message from me&quot;\n            /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/chatTextTimeOut&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;10.21&quot;\n            android:layout_alignBottom=&quot;@id/chatTextFrMe&quot;\n            android:layout_alignParentStart=&quot;true&quot;\n            android:layout_marginRight=&quot;10dp&quot;\n\n            /&gt;\n    &lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Thanks in advance!</p>\n"},{"tags":["java","windows","batch-file","cmd","environment-variables"],"answers":[{"tags":[],"owner":{"account_id":9041816,"reputation":453,"user_id":6735815,"display_name":"Ku Zijie"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1511541288,"creation_date":1511512707,"answer_id":47469319,"question_id":47469310,"body_markdown":"Here&#39;s my guide for Windows 10.\r\n\r\nStep 1. Go to [System Properties][2]. Click on `Environment Variables` \r\n\r\nStep 2. Add new variables, such as [JAVA_8_HOME][3]\r\n\r\n - `JAVA_8_HOME`:`%ProgramFiles%\\Java\\jdk1.8.0_152\\bin`\r\n - `JAVA_9_HOME`:`%ProgramFiles%\\Java\\jdk-9.0.1\\bin`\r\n - `JAVA_HOME`:`%JAVA_8_HOME%`\r\n\r\nIn my case, `JAVA_8_HOME`(JDK8) is pointing to `C:\\Program Files\\Java\\jdk1.8.0_152\\bin`. You can replace this with your own path to `javac`. `%JAVA_HOME%` has a default value pointing to `JAVA_8_HOME`, which is the path for JDK8. That&#39;s my preference, feel free to adjust accordingly.\r\n\r\nStep 3. Select `PATH` and click on `Edit`. [PATH][4]\r\n\r\nStep 4. Click on `New` and add [%JAVA_HOME%][5]. `%JAVA_HOME%` will be added to `PATH` automatically every time you launch a command prompt. \r\n\r\n\r\n----------\r\n\r\n\r\nIn order to switch JDK version in cmd, here&#39;s the trick.\r\nStep 5. I created a batch file with \r\n\r\n    @echo off\r\n    :: Switch JDK version\r\n    DOSKEY java8=SET PATH=%JAVA_8_HOME%;%PATH%;\r\n    DOSKEY java9=SET PATH=%JAVA_9_HOME%;%PATH%\r\n\r\nBasically, it disables echo and creates two alias. In batch file any string after `:: ` is the comments. Every time, `java8` or `java9` is called, it re-exports %PATH% with the new JDK path. Save it as `profile.bat`. You can name it whatever you want. \r\n\r\nStep 6. \r\nSearch for `regedit` (Registry Editor). Click on `Edit` &gt; `New` &gt; `String Value`. Give `AutoRun` as the `Value name` and `%USERPROFILE%\\profile.bat` as the `Value data`. Here, please put your actual path value to the `profile.bat` we just created. So, whenever a command prompt is opened, it automatically loads `profile.bat`, which creates those two alias in the script.\r\n\r\nStep 7. Close any command prompt you&#39;re using or just open a new command prompt. This is because your changes will not affect opened cmd window. Environment changes only happens to new CMD. \r\n\r\nStep 8. Verify your results [here][1]. \r\n\r\nIf you&#39;re using different Python versions, same trick applies, too. Find my python environment settings [here](https://stackoverflow.com/a/47477123/6735815).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lZZ0p.png\r\n  [2]: https://i.stack.imgur.com/QYnxM.png\r\n  [3]: https://i.stack.imgur.com/TdVmu.png\r\n  [4]: https://i.stack.imgur.com/BqLek.png\r\n  [5]: https://i.stack.imgur.com/aflze.png","title":"Switch JDK version in Windows 10 cmd","body":"<p>Here's my guide for Windows 10.</p>\n\n<p>Step 1. Go to <a href=\"https://i.stack.imgur.com/QYnxM.png\" rel=\"noreferrer\">System Properties</a>. Click on <code>Environment Variables</code> </p>\n\n<p>Step 2. Add new variables, such as <a href=\"https://i.stack.imgur.com/TdVmu.png\" rel=\"noreferrer\">JAVA_8_HOME</a></p>\n\n<ul>\n<li><code>JAVA_8_HOME</code>:<code>%ProgramFiles%\\Java\\jdk1.8.0_152\\bin</code></li>\n<li><code>JAVA_9_HOME</code>:<code>%ProgramFiles%\\Java\\jdk-9.0.1\\bin</code></li>\n<li><code>JAVA_HOME</code>:<code>%JAVA_8_HOME%</code></li>\n</ul>\n\n<p>In my case, <code>JAVA_8_HOME</code>(JDK8) is pointing to <code>C:\\Program Files\\Java\\jdk1.8.0_152\\bin</code>. You can replace this with your own path to <code>javac</code>. <code>%JAVA_HOME%</code> has a default value pointing to <code>JAVA_8_HOME</code>, which is the path for JDK8. That's my preference, feel free to adjust accordingly.</p>\n\n<p>Step 3. Select <code>PATH</code> and click on <code>Edit</code>. <a href=\"https://i.stack.imgur.com/BqLek.png\" rel=\"noreferrer\">PATH</a></p>\n\n<p>Step 4. Click on <code>New</code> and add <a href=\"https://i.stack.imgur.com/aflze.png\" rel=\"noreferrer\">%JAVA_HOME%</a>. <code>%JAVA_HOME%</code> will be added to <code>PATH</code> automatically every time you launch a command prompt. </p>\n\n<hr>\n\n<p>In order to switch JDK version in cmd, here's the trick.\nStep 5. I created a batch file with </p>\n\n<pre><code>@echo off\n:: Switch JDK version\nDOSKEY java8=SET PATH=%JAVA_8_HOME%;%PATH%;\nDOSKEY java9=SET PATH=%JAVA_9_HOME%;%PATH%\n</code></pre>\n\n<p>Basically, it disables echo and creates two alias. In batch file any string after <code>::</code> is the comments. Every time, <code>java8</code> or <code>java9</code> is called, it re-exports %PATH% with the new JDK path. Save it as <code>profile.bat</code>. You can name it whatever you want. </p>\n\n<p>Step 6. \nSearch for <code>regedit</code> (Registry Editor). Click on <code>Edit</code> > <code>New</code> > <code>String Value</code>. Give <code>AutoRun</code> as the <code>Value name</code> and <code>%USERPROFILE%\\profile.bat</code> as the <code>Value data</code>. Here, please put your actual path value to the <code>profile.bat</code> we just created. So, whenever a command prompt is opened, it automatically loads <code>profile.bat</code>, which creates those two alias in the script.</p>\n\n<p>Step 7. Close any command prompt you're using or just open a new command prompt. This is because your changes will not affect opened cmd window. Environment changes only happens to new CMD. </p>\n\n<p>Step 8. Verify your results <a href=\"https://i.stack.imgur.com/lZZ0p.png\" rel=\"noreferrer\">here</a>. </p>\n\n<p>If you're using different Python versions, same trick applies, too. Find my python environment settings <a href=\"https://stackoverflow.com/a/47477123/6735815\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":8741917,"reputation":1,"user_id":6538709,"display_name":"kn_kong"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511555184,"creation_date":1511513415,"answer_id":47469497,"question_id":47469310,"body_markdown":"In &quot;System Properties&quot; window, click “Environment Variables…” and select `PATH` by click on Edit, then &quot;New&quot; and type ;`%JAVA_HOME%\\bin`\r\n\r\nIt will write the `JAVA_HOME` defined. Just to edit one time.\r\n\r\nAnd after you define `JAVA_HOME` by the cmd commande : `set JAVA_HOME = path_of_jdk_or_jre` whenever you want.\r\n","title":"Switch JDK version in Windows 10 cmd","body":"<p>In \"System Properties\" window, click “Environment Variables…” and select <code>PATH</code> by click on Edit, then \"New\" and type ;<code>%JAVA_HOME%\\bin</code></p>\n\n<p>It will write the <code>JAVA_HOME</code> defined. Just to edit one time.</p>\n\n<p>And after you define <code>JAVA_HOME</code> by the cmd commande : <code>set JAVA_HOME = path_of_jdk_or_jre</code> whenever you want.</p>\n"},{"tags":[],"owner":{"account_id":3929075,"reputation":5785,"user_id":3248412,"accept_rate":89,"display_name":"vs97"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564084813,"creation_date":1551019494,"answer_id":54853021,"question_id":47469310,"body_markdown":"I created scripts for every version of Java that I have installed on my PC, and use those whenever I need to change the Java version through the command line. Here is an example of one, should be self-explanatory really:\r\n\r\n    @echo off\r\n    echo Setting JAVA_HOME\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk-10\r\n    echo setting PATH\r\n    set PATH=C:\\Program Files\\Java\\jdk-10\\bin;%PATH%\r\n    echo Display java version\r\n    java -version\r\n\r\n","title":"Switch JDK version in Windows 10 cmd","body":"<p>I created scripts for every version of Java that I have installed on my PC, and use those whenever I need to change the Java version through the command line. Here is an example of one, should be self-explanatory really:</p>\n\n<pre><code>@echo off\necho Setting JAVA_HOME\nset JAVA_HOME=C:\\Program Files\\Java\\jdk-10\necho setting PATH\nset PATH=C:\\Program Files\\Java\\jdk-10\\bin;%PATH%\necho Display java version\njava -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15050014,"reputation":321,"user_id":10861970,"display_name":"Ramjay Romorosa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608207567,"creation_date":1608207567,"answer_id":65340627,"question_id":47469310,"body_markdown":"Create a folder (in my case it is in C:\\devenv) and create a batch file and name it after the version (jdk8.bat, jdk9.bat, jdk10.bat, jdk11.bat etc..) then add this commands. You just need to change the set JAVA_HOME to the location of the jdk version. Add the location of the batch files (C:devenv) to the path on the environment variables\r\n\r\n    @echo off\r\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk-11.0.9\r\n    set PATH=%JAVA_HOME%\\bin;%PATH%\r\n    @echo Display Java Version\r\n    java -version\r\n\r\nYou can run it on cmd by just typing the batch name (e.g jdk11)","title":"Switch JDK version in Windows 10 cmd","body":"<p>Create a folder (in my case it is in C:\\devenv) and create a batch file and name it after the version (jdk8.bat, jdk9.bat, jdk10.bat, jdk11.bat etc..) then add this commands. You just need to change the set JAVA_HOME to the location of the jdk version. Add the location of the batch files (C:devenv) to the path on the environment variables</p>\n<pre><code>@echo off\nset JAVA_HOME=C:\\Program Files\\Java\\jdk-11.0.9\nset PATH=%JAVA_HOME%\\bin;%PATH%\n@echo Display Java Version\njava -version\n</code></pre>\n<p>You can run it on cmd by just typing the batch name (e.g jdk11)</p>\n"},{"tags":[],"owner":{"account_id":11078994,"reputation":111,"user_id":8134740,"display_name":"Vlad Palnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1612526375,"creation_date":1612526375,"answer_id":66062898,"question_id":47469310,"body_markdown":"Found a single batch file to be a simpler solution. Adding batch file location path to system environmental variables will allow you to execute it from cmd.\r\n\r\nBatch file (javaVer.bat):\r\n\r\n\t@echo off\r\n\techo.\r\n\r\n\tIF &quot;%1&quot; == &quot;&quot;\t\tGOTO NoParams\r\n\tIF &quot;%1&quot; == &quot;8&quot;\t\tGOTO J8\r\n\tIF &quot;%1&quot; == &quot;11&quot;\t\tGOTO J11\r\n\tIF &quot;%1&quot; == &quot;latest&quot;\tGOTO latest\r\n\r\n\tIF &quot;%1&quot; == &quot;-h&quot;\t\t\tGOTO help\r\n\tIF &quot;%1&quot; == &quot;--help&quot;\t\tGOTO help\r\n\r\n\t:NoParams\r\n\t\techo Enter Java version\r\n\t\tGOTO options\r\n\t\t\r\n\t:help\r\n\t\techo Usage: javaVer [java version]\r\n\t\tGOTO options\r\n\r\n\t:: available java versions\r\n\t:options\r\n\t\techo options: 8, 11, latest.\r\n\t\tGOTO exit\r\n\r\n\t:: java 8\r\n\t:J8\r\n\t\tset JAVA_HOME=C:\\Program Files\\Java\\jdk8u282-b08\r\n\t\tGOTO activate\r\n\r\n\t:: java 11\r\n\t:J11\r\n\t\tset JAVA_HOME=C:\\Program Files\\Java\\jdk-11.0.10+9\r\n\t\tGOTO activate\r\n\r\n\t:: latest java version\r\n\t:latest\r\n\t\tset JAVA_HOME=C:\\Program Files\\Java\\jdk-15.0.2+7\r\n\t\tGOTO activate\r\n\r\n\t:: activates the selected java version\r\n\t:activate\r\n\t\tset Path=%JAVA_HOME%\\bin;%Path%\r\n\t\techo Java %1 activated.\r\n\t\tGOTO exit\r\n\r\n\t:: prints java version\r\n\t:exit\r\n\t\techo.\r\n\t\techo Current Java version:\r\n\t\tjava -version\r\n\r\n\r\nUsage: javaVer [java version]\r\n\r\nexp: javaVer 8","title":"Switch JDK version in Windows 10 cmd","body":"<p>Found a single batch file to be a simpler solution. Adding batch file location path to system environmental variables will allow you to execute it from cmd.</p>\n<p>Batch file (javaVer.bat):</p>\n<pre><code>@echo off\necho.\n\nIF &quot;%1&quot; == &quot;&quot;       GOTO NoParams\nIF &quot;%1&quot; == &quot;8&quot;      GOTO J8\nIF &quot;%1&quot; == &quot;11&quot;     GOTO J11\nIF &quot;%1&quot; == &quot;latest&quot; GOTO latest\n\nIF &quot;%1&quot; == &quot;-h&quot;         GOTO help\nIF &quot;%1&quot; == &quot;--help&quot;     GOTO help\n\n:NoParams\n    echo Enter Java version\n    GOTO options\n    \n:help\n    echo Usage: javaVer [java version]\n    GOTO options\n\n:: available java versions\n:options\n    echo options: 8, 11, latest.\n    GOTO exit\n\n:: java 8\n:J8\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk8u282-b08\n    GOTO activate\n\n:: java 11\n:J11\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk-11.0.10+9\n    GOTO activate\n\n:: latest java version\n:latest\n    set JAVA_HOME=C:\\Program Files\\Java\\jdk-15.0.2+7\n    GOTO activate\n\n:: activates the selected java version\n:activate\n    set Path=%JAVA_HOME%\\bin;%Path%\n    echo Java %1 activated.\n    GOTO exit\n\n:: prints java version\n:exit\n    echo.\n    echo Current Java version:\n    java -version\n</code></pre>\n<p>Usage: javaVer [java version]</p>\n<p>exp: javaVer 8</p>\n"},{"tags":[],"owner":{"account_id":13377099,"reputation":77,"user_id":9653682,"display_name":"Titus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626679301,"creation_date":1626678081,"answer_id":68436337,"question_id":47469310,"body_markdown":"I been doing this by replacing JAVA_HOME variable in Environment variables - System Properties only.\r\n\r\nLogin as admin user if you are a domain user.\r\n\r\nEdit Environment variables -&gt; Advanced -&gt; System Variables -&gt; NEW:\r\n\r\na) Add multiple entries for **JAVA_HOME** as below:- \r\n\r\n     JAVA_HOME (in my case, its version 11 is by default),  \r\n     JAVA_HOME_6 (for version 6),  \r\n     JAVA_HOME_7 (for version 7),  \r\n     JAVA_HOME_8 (for version 8)\r\n\r\n[![system variables JAVA_HOME ][1]][1]\r\n\r\nb) now edit **Path** under same **System variables** and add **NEW** path for java as below. **Remove any existing java path entries.**\r\n[![enter image description here][2]][2]\r\n\r\nSuppose I need to change java version to 8, then i change the key value of JAVA_HOME. \r\n    i.e, JAVA_HOME renamed to JAVA_HOME_11\r\n    and JAVA_HOME_8 renames to JAVA_HOME\r\nYou need to close existing CMD and open new CMD to verify this change.\r\n*I admit its still a GUI solution only*\r\n\r\nIf some appliations are still not taking new java path set, then you need to check java configuration in start up\r\n\r\nc) Click Configure Java App in windows start up. Here you can enable required path via checkbox. This elminates path issues. \r\n[![enter image description here][3]][3]\r\n\r\nThanks\r\n\r\n  [1]: https://i.stack.imgur.com/NvO6b.png\r\n  [2]: https://i.stack.imgur.com/M6jfZ.png\r\n  [3]: https://i.stack.imgur.com/89M3b.png\r\n","title":"Switch JDK version in Windows 10 cmd","body":"<p>I been doing this by replacing JAVA_HOME variable in Environment variables - System Properties only.</p>\n<p>Login as admin user if you are a domain user.</p>\n<p>Edit Environment variables -&gt; Advanced -&gt; System Variables -&gt; NEW:</p>\n<p>a) Add multiple entries for <strong>JAVA_HOME</strong> as below:-</p>\n<pre><code> JAVA_HOME (in my case, its version 11 is by default),  \n JAVA_HOME_6 (for version 6),  \n JAVA_HOME_7 (for version 7),  \n JAVA_HOME_8 (for version 8)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/NvO6b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NvO6b.png\" alt=\"system variables JAVA_HOME \" /></a></p>\n<p>b) now edit <strong>Path</strong> under same <strong>System variables</strong> and add <strong>NEW</strong> path for java as below. <strong>Remove any existing java path entries.</strong>\n<a href=\"https://i.stack.imgur.com/M6jfZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M6jfZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Suppose I need to change java version to 8, then i change the key value of JAVA_HOME.\ni.e, JAVA_HOME renamed to JAVA_HOME_11\nand JAVA_HOME_8 renames to JAVA_HOME\nYou need to close existing CMD and open new CMD to verify this change.\n<em>I admit its still a GUI solution only</em></p>\n<p>If some appliations are still not taking new java path set, then you need to check java configuration in start up</p>\n<p>c) Click Configure Java App in windows start up. Here you can enable required path via checkbox. This elminates path issues.\n<a href=\"https://i.stack.imgur.com/89M3b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/89M3b.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":27878,"reputation":4317,"user_id":74000,"accept_rate":58,"display_name":"dudeNumber4"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650653131,"creation_date":1650556367,"answer_id":71957388,"question_id":47469310,"body_markdown":"Since I use powershell for day to day tasks, here is a function I added to my profile available for usage.  I just have two specific versions.\r\n\r\n```lang-powershell\r\nfunction JavaSetVersion([string] $v) \r\n{\r\n  $jre8 = &#39;C:\\Program Files\\Eclipse Adoptium\\jre-8.0.322.6-hotspot&#39;\r\n  $jdk8 = &#39;C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.322.6-hotspot&#39;\r\n  $jdk11 = &#39;C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.14.101-hotspot&#39;\r\n  $jdk17 = &#39;C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.2.8-hotspot&#39;\r\n  $arrToConcatToPath\r\n\r\n  # I *think* 8 requires both JRE &amp; JDK\r\n  if ($v -eq &#39;8&#39;)\r\n  {\r\n    [System.Environment]::SetEnvironmentVariable(&#39;JAVA_HOME&#39;, $jdk8, [System.EnvironmentVariableTarget]::User)\r\n    $arrToConcatToPath = &quot;$jre8\\bin&quot;,&quot;$jdk8\\bin&quot;\r\n  }\r\n  elseif ($v -eq &#39;11&#39;) {\r\n    [System.Environment]::SetEnvironmentVariable(&#39;JAVA_HOME&#39;, $jdk11, [System.EnvironmentVariableTarget]::User)\r\n    $arrToConcatToPath = &quot;$jdk11\\bin&quot;\r\n  }\r\n  elseif ($v -eq &#39;17&#39;) {\r\n    [System.Environment]::SetEnvironmentVariable(&#39;JAVA_HOME&#39;, $jdk17, [System.EnvironmentVariableTarget]::User)\r\n    $arrToConcatToPath = &quot;$jdk17\\bin&quot;\r\n  }\r\n  else \r\n  {\r\n    Write-Host &#39;Unsupported version&#39;\r\n  }\r\n\r\n  # Add to path while not continually growing path\r\n  $newPath = [Environment]::GetEnvironmentVariable(&#39;PATH&#39;, [System.EnvironmentVariableTarget]::User) -split &quot;;&quot; | Where-Object {$_ -notlike &#39;*Eclipse Adoptium*&#39;} | Where-Object {$_ -ne &#39;&#39;}\r\n  # Add appropriate version back to array\r\n  $newPath += $arrToConcatToPath\r\n  # Join array and reset path\r\n  [System.Environment]::SetEnvironmentVariable(&#39;PATH&#39;, $($newPath -join &quot;;&quot;), [System.EnvironmentVariableTarget]::User)\r\n}\r\n```\r\nUsage:\r\n`JavaSetVersion &#39;11&#39;`\r\n\r\n","title":"Switch JDK version in Windows 10 cmd","body":"<p>Since I use powershell for day to day tasks, here is a function I added to my profile available for usage.  I just have two specific versions.</p>\n<pre class=\"lang-powershell prettyprint-override\"><code>function JavaSetVersion([string] $v) \n{\n  $jre8 = 'C:\\Program Files\\Eclipse Adoptium\\jre-8.0.322.6-hotspot'\n  $jdk8 = 'C:\\Program Files\\Eclipse Adoptium\\jdk-8.0.322.6-hotspot'\n  $jdk11 = 'C:\\Program Files\\Eclipse Adoptium\\jdk-11.0.14.101-hotspot'\n  $jdk17 = 'C:\\Program Files\\Eclipse Adoptium\\jdk-17.0.2.8-hotspot'\n  $arrToConcatToPath\n\n  # I *think* 8 requires both JRE &amp; JDK\n  if ($v -eq '8')\n  {\n    [System.Environment]::SetEnvironmentVariable('JAVA_HOME', $jdk8, [System.EnvironmentVariableTarget]::User)\n    $arrToConcatToPath = &quot;$jre8\\bin&quot;,&quot;$jdk8\\bin&quot;\n  }\n  elseif ($v -eq '11') {\n    [System.Environment]::SetEnvironmentVariable('JAVA_HOME', $jdk11, [System.EnvironmentVariableTarget]::User)\n    $arrToConcatToPath = &quot;$jdk11\\bin&quot;\n  }\n  elseif ($v -eq '17') {\n    [System.Environment]::SetEnvironmentVariable('JAVA_HOME', $jdk17, [System.EnvironmentVariableTarget]::User)\n    $arrToConcatToPath = &quot;$jdk17\\bin&quot;\n  }\n  else \n  {\n    Write-Host 'Unsupported version'\n  }\n\n  # Add to path while not continually growing path\n  $newPath = [Environment]::GetEnvironmentVariable('PATH', [System.EnvironmentVariableTarget]::User) -split &quot;;&quot; | Where-Object {$_ -notlike '*Eclipse Adoptium*'} | Where-Object {$_ -ne ''}\n  # Add appropriate version back to array\n  $newPath += $arrToConcatToPath\n  # Join array and reset path\n  [System.Environment]::SetEnvironmentVariable('PATH', $($newPath -join &quot;;&quot;), [System.EnvironmentVariableTarget]::User)\n}\n</code></pre>\n<p>Usage:\n<code>JavaSetVersion '11'</code></p>\n"}],"owner":{"account_id":9041816,"reputation":453,"user_id":6735815,"display_name":"Ku Zijie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50090,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":7,"score":13,"last_activity_date":1650653131,"creation_date":1511512675,"question_id":47469310,"body_markdown":"Is there a way to change JDK version easily in cmd? like the version on mac.\r\n [Change Default JDK on Mac](https://stackoverflow.com/a/24657630/6735815).\r\n","title":"Switch JDK version in Windows 10 cmd","body":"<p>Is there a way to change JDK version easily in cmd? like the version on mac.\n <a href=\"https://stackoverflow.com/a/24657630/6735815\">Change Default JDK on Mac</a>.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1650653016,"post_id":71973326,"comment_id":127178663,"body_markdown":"What we see are not addresses, but the class names and (identity-)hash codes of the objects in hexdec. See [this question](https://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java) and its answers for details.","body":"What we see are not addresses, but the class names and (identity-)hash codes of the objects in hexdec. See <a href=\"https://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java\">this question</a> and its answers for details."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650653505,"post_id":71973326,"comment_id":127178797,"body_markdown":"There seems to be a misconception about what a lambda (in Java) actually is. A lambda is nothing else than an anonymous implementation of a functional interface. As such, each lambda definition is a new object instance.","body":"There seems to be a misconception about what a lambda (in Java) actually is. A lambda is nothing else than an anonymous implementation of a functional interface. As such, each lambda definition is a new object instance."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1650654076,"post_id":71973326,"comment_id":127178983,"body_markdown":"The first five output lines are the same, implying that the object itself was reused, and the last five lines are all different, implying that new objects were created each iteration of the loop.  I&#39;m not sure why myself, other than clearly the optimizer found some tricky way to reuse the object in the first loop.","body":"The first five output lines are the same, implying that the object itself was reused, and the last five lines are all different, implying that new objects were created each iteration of the loop.  I&#39;m not sure why myself, other than clearly the optimizer found some tricky way to reuse the object in the first loop."},{"owner":{"account_id":16549970,"reputation":2193,"user_id":11958566,"display_name":"Shlomi Katriel"},"score":0,"creation_date":1650682966,"post_id":71973326,"comment_id":127183994,"body_markdown":"In the second loop, 5 new lambda objects because the anonymous class is created with constructor that gets `j` as parameter. New object is created because each iteration have a different `j`. I wonder what&#39;ll happen if you persist `j` to be the same value every time: `final int j = 1;`","body":"In the second loop, 5 new lambda objects because the anonymous class is created with constructor that gets <code>j</code> as parameter. New object is created because each iteration have a different <code>j</code>. I wonder what&#39;ll happen if you persist <code>j</code> to be the same value every time: <code>final int j = 1;</code>"},{"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"score":0,"creation_date":1650699074,"post_id":71973326,"comment_id":127185801,"body_markdown":"Only one instance will be created in the second loop if persist j to be same value. That seems troublesome if we use lambda objects as map key or something else, for the lambda objects are not guaranteed to be either identical or not.","body":"Only one instance will be created in the second loop if persist j to be same value. That seems troublesome if we use lambda objects as map key or something else, for the lambda objects are not guaranteed to be either identical or not."}],"owner":{"account_id":9958458,"reputation":313,"user_id":7368514,"accept_rate":44,"display_name":"Master Qiao"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650652975,"creation_date":1650652975,"question_id":71973326,"body_markdown":"I&#39;m bothered by the question whether the address of anonymous inner class in Java keep invariable.\r\n\r\nI made some test codes,\r\n```\r\npublic class AnonymousInnerClass {\r\n    public static void main(final String[] args) {\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            final Runnable x = () -&gt; {\r\n            };\r\n            System.out.println(x);\r\n        }\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            final int j = i;\r\n            final Runnable x = () -&gt; {\r\n                final int k = j;\r\n                System.out.println(k);\r\n            };\r\n            System.out.println(x);\r\n        }\r\n    }\r\n}\r\n```\r\nand the outputs are not consistent. \r\n```\r\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\r\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\r\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\r\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\r\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\r\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@532760d8\r\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@57fa26b7\r\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@5f8ed237\r\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@2f410acf\r\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@47089e5f\r\n```\r\n\r\nIt seems the address is invariable if class is simple, I&#39;m wondering that&#39;s compiler optimizing behavior or language specification.\r\n\r\n--------------\r\n\r\n\r\nMore realistic scenario, I&#39;m working with Android&#39;s ```MutableLiveData```.\r\n\r\nSuppose I have a variable ```passwd```,\r\n```\r\npublic final MutableLiveData&lt;String&gt; passwd = new MutableLiveData&lt;&gt;(&quot;&quot;);\r\n```\r\nand ```passwd``` has a method ```public void observe(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super T&gt; observer)```.\r\n\r\nNormally I call it with an anonymous inner class ```passwd.observe(mLifecycleOwner, str -&gt; doSomething());```, and maybe call it several times.\r\n\r\nApi doc said the call would be ignored if the observer has been always registered, that&#39;s what I need. But this relies on the address of ```str -&gt; doSomething()``` would not change.\r\n\r\nI don&#39;t want to extract it to a named variable, so I want to know if I can get a language specification guarantee that its address would not change, or if there are some conventions or patterns to handle this situation.\r\n\r\n","title":"Would the address of anonymous inner class in Java keep invariable or not","body":"<p>I'm bothered by the question whether the address of anonymous inner class in Java keep invariable.</p>\n<p>I made some test codes,</p>\n<pre><code>public class AnonymousInnerClass {\n    public static void main(final String[] args) {\n        for (int i = 0; i &lt; 5; i++) {\n            final Runnable x = () -&gt; {\n            };\n            System.out.println(x);\n        }\n        for (int i = 0; i &lt; 5; i++) {\n            final int j = i;\n            final Runnable x = () -&gt; {\n                final int k = j;\n                System.out.println(k);\n            };\n            System.out.println(x);\n        }\n    }\n}\n</code></pre>\n<p>and the outputs are not consistent.</p>\n<pre><code>main.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\nmain.AnonymousInnerClass$$Lambda$1/0x0000000800000a00@7a46a697\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@532760d8\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@57fa26b7\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@5f8ed237\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@2f410acf\nmain.AnonymousInnerClass$$Lambda$2/0x0000000800000c18@47089e5f\n</code></pre>\n<p>It seems the address is invariable if class is simple, I'm wondering that's compiler optimizing behavior or language specification.</p>\n<hr />\n<p>More realistic scenario, I'm working with Android's <code>MutableLiveData</code>.</p>\n<p>Suppose I have a variable <code>passwd</code>,</p>\n<pre><code>public final MutableLiveData&lt;String&gt; passwd = new MutableLiveData&lt;&gt;(&quot;&quot;);\n</code></pre>\n<p>and <code>passwd</code> has a method <code>public void observe(@NonNull LifecycleOwner owner, @NonNull Observer&lt;? super T&gt; observer)</code>.</p>\n<p>Normally I call it with an anonymous inner class <code>passwd.observe(mLifecycleOwner, str -&gt; doSomething());</code>, and maybe call it several times.</p>\n<p>Api doc said the call would be ignored if the observer has been always registered, that's what I need. But this relies on the address of <code>str -&gt; doSomething()</code> would not change.</p>\n<p>I don't want to extract it to a named variable, so I want to know if I can get a language specification guarantee that its address would not change, or if there are some conventions or patterns to handle this situation.</p>\n"},{"tags":["java","cucumber","karate","bdd","gherkin"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650652923,"creation_date":1650652923,"answer_id":71973320,"question_id":71972660,"body_markdown":"You are overcomplicating it: https://github.com/karatelabs/karate#schema-validation\r\n\r\n    * def response = { abc: &#39;foo&#39; }\r\n    * match response.abc == &#39;#string&#39;\r\n\r\nIt is recommended you match JSON objects all at once, your tests will be more crisp.\r\n\r\n    * match response == { abc: &#39;#string&#39; }","title":"How do I validate in karate that a json attribute is returned as some string?","body":"<p>You are overcomplicating it: <a href=\"https://github.com/karatelabs/karate#schema-validation\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#schema-validation</a></p>\n<pre><code>* def response = { abc: 'foo' }\n* match response.abc == '#string'\n</code></pre>\n<p>It is recommended you match JSON objects all at once, your tests will be more crisp.</p>\n<pre><code>* match response == { abc: '#string' }\n</code></pre>\n"}],"owner":{"account_id":14117925,"reputation":111,"user_id":10199248,"display_name":"astar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1057,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650652923,"creation_date":1650648903,"question_id":71972660,"body_markdown":"In Karate tests, I&#39;d like to evaluate whether an attribute returned in json response is of string type.\r\nBelow is what am doing:\r\n\r\n```\r\n* def abc = response.results.abc\r\nThen match abc == &quot;#string?&quot;\r\n```\r\n\r\nBelow is the response am getting:\r\n\r\n```actual: &#39;lion&#39;, expected: &#39;#string?&#39;, reason: did not evaluate to &#39;true&#39;```\r\n\r\nPlease let me know where I am wrong.\r\nThanks.","title":"How do I validate in karate that a json attribute is returned as some string?","body":"<p>In Karate tests, I'd like to evaluate whether an attribute returned in json response is of string type.\nBelow is what am doing:</p>\n<pre><code>* def abc = response.results.abc\nThen match abc == &quot;#string?&quot;\n</code></pre>\n<p>Below is the response am getting:</p>\n<p><code>actual: 'lion', expected: '#string?', reason: did not evaluate to 'true'</code></p>\n<p>Please let me know where I am wrong.\nThanks.</p>\n"},{"tags":["java","ipc","avro","rpc"],"owner":{"account_id":14952271,"reputation":45,"user_id":10794873,"display_name":"Kirill Moskvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650652606,"creation_date":1650651911,"question_id":71973144,"body_markdown":"I&#39;m trying to implement an async server application using Avro IPC. As far as I&#39;ve researched, it is possible to make client async calls by calling the method of generated Callback protocol classes like this:\r\n\r\nMy generated protocol class:\r\n\r\n```\r\n@org.apache.avro.specific.AvroGenerated\r\npublic interface TestProtocol {\r\n  public static final org.apache.avro.Protocol PROTOCOL = /*ommited*/;\r\n  \r\n  ResponseTest send(MessageTest TestMsg);\r\n\r\n  @org.apache.avro.specific.AvroGenerated\r\n  public interface Callback extends TestProtocol {\r\n    public static final org.apache.avro.Protocol PROTOCOL = TestProtocol.PROTOCOL;\r\n\r\n    void send(MessageTest TestMsg, org.apache.avro.ipc.Callback&lt;ResponseTest&gt; callback) throws java.io.IOException;\r\n  }\r\n}\r\n```\r\n\r\nAnd implementation of this code\r\n```\r\npublic final class TestProtocolImplAsync implements TestProtocol.Callback {\r\n\r\n  @Override\r\n  public @NotNull ResponseTest send(@NotNull MessageTest TestMsg) {\r\n    return new ResponseTest(&quot;Sync call&quot;);\r\n  }\r\n\r\n  @Override\r\n  public void send(@NotNull MessageTest TestMsg,\r\n                   @NotNull org.apache.avro.ipc.Callback&lt;ResponseTest&gt; callback) {\r\n    callback.handleResult(new ResponseTest(&quot;Async call&quot;));\r\n  }\r\n}\r\n```\r\n\r\nThe implementation of TestProtocol is binded to TestProtocolImpl on server side. However, while calling it on client side this way:\r\n\r\n```\r\nSpecificRequestor.getClient(TestProtocol.Callback.class, client).send(new MessageTest(/*params*/), new Callback&lt;ResponseTest&gt;() {\r\n      @Override\r\n      public void handleResult(@NotNull ResponseTest result) {\r\n        System.out.println(result.toString());\r\n      }\r\n\r\n      @Override\r\n      public void handleError(@NotNull Throwable error) {\r\n        //whatever\r\n      }\r\n    })\r\n```\r\n\r\nI keep getting sync server method called. I haven&#39;t found any info about this in documentation, but am I right that callback method is only to be implemented on async client side, not server, and it is impossible to process request on server asyncrously this way and call callback method from server side? Or am I missing something in my server settings?","title":"Apache Avro IPC server side async","body":"<p>I'm trying to implement an async server application using Avro IPC. As far as I've researched, it is possible to make client async calls by calling the method of generated Callback protocol classes like this:</p>\n<p>My generated protocol class:</p>\n<pre><code>@org.apache.avro.specific.AvroGenerated\npublic interface TestProtocol {\n  public static final org.apache.avro.Protocol PROTOCOL = /*ommited*/;\n  \n  ResponseTest send(MessageTest TestMsg);\n\n  @org.apache.avro.specific.AvroGenerated\n  public interface Callback extends TestProtocol {\n    public static final org.apache.avro.Protocol PROTOCOL = TestProtocol.PROTOCOL;\n\n    void send(MessageTest TestMsg, org.apache.avro.ipc.Callback&lt;ResponseTest&gt; callback) throws java.io.IOException;\n  }\n}\n</code></pre>\n<p>And implementation of this code</p>\n<pre><code>public final class TestProtocolImplAsync implements TestProtocol.Callback {\n\n  @Override\n  public @NotNull ResponseTest send(@NotNull MessageTest TestMsg) {\n    return new ResponseTest(&quot;Sync call&quot;);\n  }\n\n  @Override\n  public void send(@NotNull MessageTest TestMsg,\n                   @NotNull org.apache.avro.ipc.Callback&lt;ResponseTest&gt; callback) {\n    callback.handleResult(new ResponseTest(&quot;Async call&quot;));\n  }\n}\n</code></pre>\n<p>The implementation of TestProtocol is binded to TestProtocolImpl on server side. However, while calling it on client side this way:</p>\n<pre><code>SpecificRequestor.getClient(TestProtocol.Callback.class, client).send(new MessageTest(/*params*/), new Callback&lt;ResponseTest&gt;() {\n      @Override\n      public void handleResult(@NotNull ResponseTest result) {\n        System.out.println(result.toString());\n      }\n\n      @Override\n      public void handleError(@NotNull Throwable error) {\n        //whatever\n      }\n    })\n</code></pre>\n<p>I keep getting sync server method called. I haven't found any info about this in documentation, but am I right that callback method is only to be implemented on async client side, not server, and it is impossible to process request on server asyncrously this way and call callback method from server side? Or am I missing something in my server settings?</p>\n"},{"tags":["java","ssl","ftp","apache-commons-net"],"answers":[{"tags":[],"owner":{"account_id":3701398,"reputation":116662,"user_id":3081018,"display_name":"Steffen Ullrich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650643439,"creation_date":1650643439,"answer_id":71971626,"question_id":71971102,"body_markdown":"FTPSClient implements FTPS, i.e. FTP over SSL/TLS. It is expected that you connect to an FTP server with TLS support. The error message indicates though that you connect to a SSH server, not a FTP server. This means that you are probably trying to use SFTP (file transfer over SSH) not FTPS. Thus, there is a mismatch in the protocol spoken between client and server.\r\n\r\nFor how to use SFTP instead of FTPS see for example [How to retrieve a file from a server via SFTP?](https://stackoverflow.com/questions/14617/how-to-retrieve-a-file-from-a-server-via-sftp).\r\n\r\n","title":"FTPSClient fails to connect with MalformedServerReplyException","body":"<p>FTPSClient implements FTPS, i.e. FTP over SSL/TLS. It is expected that you connect to an FTP server with TLS support. The error message indicates though that you connect to a SSH server, not a FTP server. This means that you are probably trying to use SFTP (file transfer over SSH) not FTPS. Thus, there is a mismatch in the protocol spoken between client and server.</p>\n<p>For how to use SFTP instead of FTPS see for example <a href=\"https://stackoverflow.com/questions/14617/how-to-retrieve-a-file-from-a-server-via-sftp\">How to retrieve a file from a server via SFTP?</a>.</p>\n"},{"tags":[],"owner":{"account_id":1423499,"reputation":1046,"user_id":1347608,"display_name":"F. P. Freely"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650652597,"creation_date":1650652597,"answer_id":71973265,"question_id":71971102,"body_markdown":"This finally worked for me and some of it may have to do with the way the endpoint is configured but I&#39;m not sure.\r\n\r\n```kotlin\r\nftpClient.connect(host)\r\n// This is very important!\r\nftpClient.execPROT(&quot;P&quot;)\r\nftpClient.login(username, password)\r\n// This is very important!\r\nftpClient.enterLocalPassiveMode()\r\n```","title":"FTPSClient fails to connect with MalformedServerReplyException","body":"<p>This finally worked for me and some of it may have to do with the way the endpoint is configured but I'm not sure.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>ftpClient.connect(host)\n// This is very important!\nftpClient.execPROT(&quot;P&quot;)\nftpClient.login(username, password)\n// This is very important!\nftpClient.enterLocalPassiveMode()\n</code></pre>\n"}],"owner":{"account_id":1423499,"reputation":1046,"user_id":1347608,"display_name":"F. P. Freely"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650652597,"creation_date":1650640861,"question_id":71971102,"body_markdown":"I&#39;m using the following code:\r\n\r\n```kotlin\r\nval ftpClient = FTPSClient()\r\nftpClient.connect(host, port)\r\n```\r\nAnd getting the following error:\r\n\r\n```none\r\norg.apache.commons.net.MalformedServerReplyException: Could not parse response code.\r\nServer Reply: SSH-2.0-BIS FileExchange Gateway 2.70.1\r\n```\r\n\r\nIt&#39;s as if the client is not even speaking SSL when it connects but I&#39;m stumped.\r\n\r\nAttempt to &quot;coerce&quot; SSL sockets produce no difference:\r\n\r\n```kotlin\r\nval sslContext = SSLContext.getInstance(&quot;SSL&quot;).apply {\r\n    init(null, arrayOf&lt;TrustManager&gt;(TrustManagerUtils.getAcceptAllTrustManager()), null)\r\n}\r\nval ftpClient = FTPSClient(sslContext)\r\nftpClient.connect(host, port)\r\n```\r\n\r\nSetting the socket factory produced a socket closed exception:\r\n\r\n```kotlin\r\nftpClient.setSocketFactory(sslContext.socketFactory)\r\n```\r\n\r\nI should note that I can operate the endpoint using sftp so I can infer that the endpoint works correctly.","title":"FTPSClient fails to connect with MalformedServerReplyException","body":"<p>I'm using the following code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val ftpClient = FTPSClient()\nftpClient.connect(host, port)\n</code></pre>\n<p>And getting the following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.commons.net.MalformedServerReplyException: Could not parse response code.\nServer Reply: SSH-2.0-BIS FileExchange Gateway 2.70.1\n</code></pre>\n<p>It's as if the client is not even speaking SSL when it connects but I'm stumped.</p>\n<p>Attempt to &quot;coerce&quot; SSL sockets produce no difference:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val sslContext = SSLContext.getInstance(&quot;SSL&quot;).apply {\n    init(null, arrayOf&lt;TrustManager&gt;(TrustManagerUtils.getAcceptAllTrustManager()), null)\n}\nval ftpClient = FTPSClient(sslContext)\nftpClient.connect(host, port)\n</code></pre>\n<p>Setting the socket factory produced a socket closed exception:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>ftpClient.setSocketFactory(sslContext.socketFactory)\n</code></pre>\n<p>I should note that I can operate the endpoint using sftp so I can infer that the endpoint works correctly.</p>\n"},{"tags":["java","postgresql","liquibase"],"answers":[{"tags":[],"owner":{"account_id":4329394,"reputation":1778,"user_id":3535298,"display_name":"veljkost"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649237264,"creation_date":1649237264,"answer_id":71764249,"question_id":71733711,"body_markdown":"You can update your changeset and add `validCheckSum` tag with the new value of the checksum. This way validation will pass, and changeset will still be deemed as executed on the existing databases. Check out the [docs][1] from Liquibase.\r\n\r\n\r\n  [1]: https://www.liquibase.com/blog/what-affects-changeset-checksums","title":"ValidationFailedException after Liquibase update to 4.9.1","body":"<p>You can update your changeset and add <code>validCheckSum</code> tag with the new value of the checksum. This way validation will pass, and changeset will still be deemed as executed on the existing databases. Check out the <a href=\"https://www.liquibase.com/blog/what-affects-changeset-checksums\" rel=\"nofollow noreferrer\">docs</a> from Liquibase.</p>\n"}],"owner":{"account_id":137100,"reputation":17827,"user_id":341065,"accept_rate":72,"display_name":"wilx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71764249,"answer_count":1,"score":0,"last_activity_date":1650652405,"creation_date":1649058685,"question_id":71733711,"body_markdown":"We were using older Liquibase that we now wanted to update to 4.9.1 due to vulnerabilities in older versions. However, now at least one of our old migrations fails with ValidationFailedException:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:\r\n         1 changes have validation failures\r\n              Postgresql requires constraintName on addPrimaryKey when clustered=true, config/liquibase/changelog/1580719313000-1.xml::1580719313000-1::xyz\r\n\r\nThe `constraintName` is missing from `&lt;addPrimaryKey&gt;`. However, it worked just fine with the older versions. \r\n\r\nHow can we fix this? If we change the migration, it changes its checksum and it will instead complain that there is a migration it doesn not know about.","title":"ValidationFailedException after Liquibase update to 4.9.1","body":"<p>We were using older Liquibase that we now wanted to update to 4.9.1 due to vulnerabilities in older versions. However, now at least one of our old migrations fails with ValidationFailedException:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Invocation of init method failed; nested exception is liquibase.exception.ValidationFailedException: Validation Failed:\n     1 changes have validation failures\n          Postgresql requires constraintName on addPrimaryKey when clustered=true, config/liquibase/changelog/1580719313000-1.xml::1580719313000-1::xyz\n</code></pre>\n<p>The <code>constraintName</code> is missing from <code>&lt;addPrimaryKey&gt;</code>. However, it worked just fine with the older versions.</p>\n<p>How can we fix this? If we change the migration, it changes its checksum and it will instead complain that there is a migration it doesn not know about.</p>\n"},{"tags":["java","arrays","sorting","user-interface","comparator"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":1,"creation_date":1650650205,"post_id":71972759,"comment_id":127177872,"body_markdown":"I would recommend you create a class `HockeyPlayer` with all stats as attributes and then you put them in a `List&lt;HockeyPlayer&gt;` (or array) and sort that list. The way you are doing things is not very type safe and hard to follow (-&gt; hard to maintain). For sorting you could then use something like this `Arrays.sort(hockeyPlayerArray, Comparator.comparing(HockeyPlayer::getPoints));`.","body":"I would recommend you create a class <code>HockeyPlayer</code> with all stats as attributes and then you put them in a <code>List&lt;HockeyPlayer&gt;</code> (or array) and sort that list. The way you are doing things is not very type safe and hard to follow (-&gt; hard to maintain). For sorting you could then use something like this <code>Arrays.sort(hockeyPlayerArray, Comparator.comparing(HockeyPlayer::getPoints));</code>."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650652315,"creation_date":1650652315,"answer_id":71973213,"question_id":71972759,"body_markdown":"First, I would suggest creating an object to represent your player.  Since you&#39;re using a GUI, I would then recommend creating your own `TableModel` by extending `AbstractTableModel` and then using that to build a JTable. You can then sort by any field. It should look something like this:\r\n\r\n    public class HockeyPlayer {\r\n\t\tprivate String name;\r\n\t\tprivate String team;\r\n\t\tprivate int games;\r\n\t\tprivate int goals;\r\n\t\tprivate int assists;\r\n\t\tprivate int points;\r\n\t\tprivate int shots;\r\n\t\tprivate float shotPercentage;\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\tpublic String getTeam() {\r\n\t\t\treturn team;\r\n\t\t}\r\n\t\tpublic void setTeam(String team) {\r\n\t\t\tthis.team = team;\r\n\t\t}\r\n\t\tpublic int getGames() {\r\n\t\t\treturn games;\r\n\t\t}\r\n\t\tpublic void setGames(int games) {\r\n\t\t\tthis.games = games;\r\n\t\t}\r\n\t\tpublic int getGoals() {\r\n\t\t\treturn goals;\r\n\t\t}\r\n\t\tpublic void setGoals(int goals) {\r\n\t\t\tthis.goals = goals;\r\n\t\t}\r\n\t\tpublic int getAssists() {\r\n\t\t\treturn assists;\r\n\t\t}\r\n\t\tpublic void setAssists(int assists) {\r\n\t\t\tthis.assists = assists;\r\n\t\t}\r\n\t\tpublic int getPoints() {\r\n\t\t\treturn points;\r\n\t\t}\r\n\t\tpublic void setPoints(int points) {\r\n\t\t\tthis.points = points;\r\n\t\t}\r\n\t\tpublic int getShots() {\r\n\t\t\treturn shots;\r\n\t\t}\r\n\t\tpublic void setShots(int shots) {\r\n\t\t\tthis.shots = shots;\r\n\t\t}\r\n\t\tpublic float getShotPercentage() {\r\n\t\t\treturn shotPercentage;\r\n\t\t}\r\n\t\tpublic void setShotPercentage(float shotPercentage) {\r\n\t\t\tthis.shotPercentage = shotPercentage;\r\n\t\t}\r\n\t}\r\n\r\nand\r\n\r\n    public class HockeyTableModel extends AbstractTableModel {\r\n\t\r\n\tprivate List&lt;HockeyPlayer&gt; players = new ArrayList&lt;&gt;();\r\n\t\r\n\t@Override\r\n\tpublic int getColumnCount() {\r\n\t\treturn 8;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getRowCount() {\r\n\t\treturn players.size();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getValueAt(int row, int col) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\tHockeyPlayer player = players.get(row);\r\n\t\t\t\r\n\t\t\tswitch (col) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn player.getName();\r\n\t\t\tcase 1:\r\n\t\t\t\treturn player.getTeam();\r\n\t\t\tcase 2:\r\n\t\t\t\treturn player.getGames();\r\n\t\t\tcase 3:\r\n\t\t\t\treturn player.getGoals();\r\n\t\t\tcase 4:\r\n\t\t\t\treturn player.getAssists();\r\n\t\t\tcase 5:\r\n\t\t\t\treturn player.getPoints();\r\n\t\t\tcase 6:\r\n\t\t\t\treturn player.getShots();\r\n\t\t\tcase 7:\r\n\t\t\t\treturn player.getShotPercentage();\r\n\t\t\t}\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tpublic String getColumnName(int col) {\r\n\t\tswitch (col) {\r\n\t\tcase 0:\r\n\t\t\treturn &quot;Name&quot;;\r\n\t\tcase 1:\r\n\t\t\treturn &quot;Team&quot;;\r\n\t\tcase 2:\r\n\t\t\treturn &quot;Games&quot;;\r\n\t\tcase 3:\r\n\t\t\treturn &quot;Goals&quot;;\r\n\t\tcase 4:\r\n\t\t\treturn &quot;Assists&quot;;\r\n\t\tcase 5:\r\n\t\t\treturn &quot;Points&quot;;\r\n\t\tcase 6:\r\n\t\t\treturn &quot;Shots&quot;;\r\n\t\tcase 7:\r\n\t\t\treturn &quot;Shot Percentage&quot;;\r\n\t\tdefault:\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}\r\n    }","title":"Sorting lines of a text file using a GUI (java)","body":"<p>First, I would suggest creating an object to represent your player.  Since you're using a GUI, I would then recommend creating your own <code>TableModel</code> by extending <code>AbstractTableModel</code> and then using that to build a JTable. You can then sort by any field. It should look something like this:</p>\n<pre><code>public class HockeyPlayer {\n    private String name;\n    private String team;\n    private int games;\n    private int goals;\n    private int assists;\n    private int points;\n    private int shots;\n    private float shotPercentage;\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getTeam() {\n        return team;\n    }\n    public void setTeam(String team) {\n        this.team = team;\n    }\n    public int getGames() {\n        return games;\n    }\n    public void setGames(int games) {\n        this.games = games;\n    }\n    public int getGoals() {\n        return goals;\n    }\n    public void setGoals(int goals) {\n        this.goals = goals;\n    }\n    public int getAssists() {\n        return assists;\n    }\n    public void setAssists(int assists) {\n        this.assists = assists;\n    }\n    public int getPoints() {\n        return points;\n    }\n    public void setPoints(int points) {\n        this.points = points;\n    }\n    public int getShots() {\n        return shots;\n    }\n    public void setShots(int shots) {\n        this.shots = shots;\n    }\n    public float getShotPercentage() {\n        return shotPercentage;\n    }\n    public void setShotPercentage(float shotPercentage) {\n        this.shotPercentage = shotPercentage;\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>public class HockeyTableModel extends AbstractTableModel {\n\nprivate List&lt;HockeyPlayer&gt; players = new ArrayList&lt;&gt;();\n\n@Override\npublic int getColumnCount() {\n    return 8;\n}\n\n@Override\npublic int getRowCount() {\n    return players.size();\n}\n\n@Override\npublic Object getValueAt(int row, int col) {\n    \n    try {\n        HockeyPlayer player = players.get(row);\n        \n        switch (col) {\n        case 0:\n            return player.getName();\n        case 1:\n            return player.getTeam();\n        case 2:\n            return player.getGames();\n        case 3:\n            return player.getGoals();\n        case 4:\n            return player.getAssists();\n        case 5:\n            return player.getPoints();\n        case 6:\n            return player.getShots();\n        case 7:\n            return player.getShotPercentage();\n        }           \n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return null;\n}\n\npublic String getColumnName(int col) {\n    switch (col) {\n    case 0:\n        return &quot;Name&quot;;\n    case 1:\n        return &quot;Team&quot;;\n    case 2:\n        return &quot;Games&quot;;\n    case 3:\n        return &quot;Goals&quot;;\n    case 4:\n        return &quot;Assists&quot;;\n    case 5:\n        return &quot;Points&quot;;\n    case 6:\n        return &quot;Shots&quot;;\n    case 7:\n        return &quot;Shot Percentage&quot;;\n    default:\n        return &quot;&quot;;\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":24864074,"reputation":13,"user_id":18739420,"display_name":"Jaceg22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650652315,"creation_date":1650649515,"question_id":71972759,"body_markdown":"I have a text file with 20 hockey players and their stats. Using buttons in a GUI, I want to sort players from greatest to least in a chosen stat. When I click a button, my file does not change. \r\n\r\nI&#39;m thinking there is a problem with my variable SortCol, but I can&#39;t figure out what&#39;s wrong.\r\n\r\nHere is a sample of my code:\r\n\r\n    @Override\r\n        public void actionPerformed(ActionEvent e) { //method for what will happen when the Enter button is clicked\r\n                Scanner console = new Scanner(System.in); //creates scanner named console\r\n                Object[][] statArray = new Object[20][]; //created 2-Dimensional Object array named statArray so I can store different data types from my file\r\n                for (int i = 0; i &lt; 20; i++) { //created a loop that will run 20 times\r\n                    statArray[i] = new Object[8];\r\n                }\r\n    \r\n                int lines = 0; //set variable named lines to hold a value of 0\r\n    \r\n                while (in.hasNextLine()) { //while loop that repeats until every line has been read\r\n                    String line = in.nextLine(); //creates a String Variable named line for each line\r\n                    Scanner readLine = new Scanner(line); //created Scanner named readLine\r\n    \r\n                    while (readLine.hasNext()) { //created another while loop that repeats until a each token in a line has been read\r\n                        statArray[lines][0] = readLine.next();//in these next 9 lines, I placed each token into my array, using my scanner\r\n                        statArray[lines][1] = readLine.next();\r\n                        statArray[lines][2] = readLine.nextDouble();\r\n                        statArray[lines][3] = readLine.nextDouble();\r\n                        statArray[lines][4] = readLine.nextDouble();\r\n                        statArray[lines][5] = readLine.nextDouble();\r\n                        statArray[lines][6] = readLine.nextDouble();\r\n                        statArray[lines][7] = readLine.nextDouble();\r\n                        lines++;\r\n                    }\r\n                    readLine.close(); //closes my readLine Scanner\r\n                }\r\n    \r\n                    if (e.getSource() == sortGames) {\r\n                        sortCol = 2;\r\n    \r\n                    } else if (e.getSource() == sortGoals) {\r\n                        sortCol = 3;\r\n    \r\n                    } else if (e.getSource() == sortAssists) {\r\n                        sortCol = 4;\r\n    \r\n                    } else if (e.getSource() == sortPoints) {\r\n                        sortCol = 5;\r\n    \r\n                    } else if (e.getSource() == sortShots) {\r\n                        sortCol = 6;\r\n    \r\n                    } else if (e.getSource() == sortShotPercentage) {\r\n                        sortCol = 7;\r\n    \r\n                    }\r\n                    final Comparator&lt;Object[]&gt; arrayComparator = new Comparator&lt;Object[]&gt;() { //compares a column in my array\r\n                        @Override\r\n                        public int compare(Object[] array1, Object[] array2) {\r\n                            return (((Double) array2[sortCol]).compareTo((Double) array1[sortCol])); //returns the sorted array\r\n                        }\r\n                    };\r\n    \r\n                    Arrays.sort(statArray, arrayComparator);\r\n    \r\n                    outputFile.printf(&quot;%-10s%-10s%-10s%-10s%-10s%-10s%-10s%-10s&quot;, &quot;Player&quot;, &quot;Name&quot;, &quot;GP&quot;, &quot;G&quot;, &quot;A&quot;, &quot;P&quot;, &quot;S&quot;, &quot;S%\\n&quot;);//prints the header\r\n    \r\n    \r\n                    for (int rows = 0; rows &lt; statArray.length; rows++) { //for loop used to print each row\r\n    \r\n                        outputFile.printf(&quot;\\n%-10s%-10s%-10s%-10s%-10s%-10s%-10s%-10s&quot;, statArray[rows][0], statArray[rows][1], statArray[rows][2], statArray[rows][3], statArray[rows][4], statArray[rows][5], statArray[rows][6], statArray[rows][7]);//prints the sorted stats in the file, nicely formatted\r\n                        console.close(); //closes my console Scanner\r\n                        in.close(); //closes my in Scanner\r\n                    }","title":"Sorting lines of a text file using a GUI (java)","body":"<p>I have a text file with 20 hockey players and their stats. Using buttons in a GUI, I want to sort players from greatest to least in a chosen stat. When I click a button, my file does not change.</p>\n<p>I'm thinking there is a problem with my variable SortCol, but I can't figure out what's wrong.</p>\n<p>Here is a sample of my code:</p>\n<pre><code>@Override\n    public void actionPerformed(ActionEvent e) { //method for what will happen when the Enter button is clicked\n            Scanner console = new Scanner(System.in); //creates scanner named console\n            Object[][] statArray = new Object[20][]; //created 2-Dimensional Object array named statArray so I can store different data types from my file\n            for (int i = 0; i &lt; 20; i++) { //created a loop that will run 20 times\n                statArray[i] = new Object[8];\n            }\n\n            int lines = 0; //set variable named lines to hold a value of 0\n\n            while (in.hasNextLine()) { //while loop that repeats until every line has been read\n                String line = in.nextLine(); //creates a String Variable named line for each line\n                Scanner readLine = new Scanner(line); //created Scanner named readLine\n\n                while (readLine.hasNext()) { //created another while loop that repeats until a each token in a line has been read\n                    statArray[lines][0] = readLine.next();//in these next 9 lines, I placed each token into my array, using my scanner\n                    statArray[lines][1] = readLine.next();\n                    statArray[lines][2] = readLine.nextDouble();\n                    statArray[lines][3] = readLine.nextDouble();\n                    statArray[lines][4] = readLine.nextDouble();\n                    statArray[lines][5] = readLine.nextDouble();\n                    statArray[lines][6] = readLine.nextDouble();\n                    statArray[lines][7] = readLine.nextDouble();\n                    lines++;\n                }\n                readLine.close(); //closes my readLine Scanner\n            }\n\n                if (e.getSource() == sortGames) {\n                    sortCol = 2;\n\n                } else if (e.getSource() == sortGoals) {\n                    sortCol = 3;\n\n                } else if (e.getSource() == sortAssists) {\n                    sortCol = 4;\n\n                } else if (e.getSource() == sortPoints) {\n                    sortCol = 5;\n\n                } else if (e.getSource() == sortShots) {\n                    sortCol = 6;\n\n                } else if (e.getSource() == sortShotPercentage) {\n                    sortCol = 7;\n\n                }\n                final Comparator&lt;Object[]&gt; arrayComparator = new Comparator&lt;Object[]&gt;() { //compares a column in my array\n                    @Override\n                    public int compare(Object[] array1, Object[] array2) {\n                        return (((Double) array2[sortCol]).compareTo((Double) array1[sortCol])); //returns the sorted array\n                    }\n                };\n\n                Arrays.sort(statArray, arrayComparator);\n\n                outputFile.printf(&quot;%-10s%-10s%-10s%-10s%-10s%-10s%-10s%-10s&quot;, &quot;Player&quot;, &quot;Name&quot;, &quot;GP&quot;, &quot;G&quot;, &quot;A&quot;, &quot;P&quot;, &quot;S&quot;, &quot;S%\\n&quot;);//prints the header\n\n\n                for (int rows = 0; rows &lt; statArray.length; rows++) { //for loop used to print each row\n\n                    outputFile.printf(&quot;\\n%-10s%-10s%-10s%-10s%-10s%-10s%-10s%-10s&quot;, statArray[rows][0], statArray[rows][1], statArray[rows][2], statArray[rows][3], statArray[rows][4], statArray[rows][5], statArray[rows][6], statArray[rows][7]);//prints the sorted stats in the file, nicely formatted\n                    console.close(); //closes my console Scanner\n                    in.close(); //closes my in Scanner\n                }\n</code></pre>\n"},{"tags":["java","pandas","spring-boot","dataframe","djl"],"comments":[{"owner":{"account_id":22270564,"reputation":71,"user_id":16500596,"display_name":"soheethewebdeveloper"},"score":0,"creation_date":1627528072,"post_id":68481158,"comment_id":121181766,"body_markdown":"I found that I should use **NDList**, and Tensorflow-engine converts it automatically to **TfNDArray** inside","body":"I found that I should use <b>NDList</b>, and Tensorflow-engine converts it automatically to <b>TfNDArray</b> inside"}],"answers":[{"tags":[],"owner":{"account_id":18054922,"reputation":281,"user_id":13123639,"display_name":"Frank Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650652062,"creation_date":1650652062,"answer_id":71973168,"question_id":68481158,"body_markdown":"You need create your own `Translator` to convert `DataFrame` into `NDList`:\r\n\r\n```\r\n    class MyTranslator implements NoBatchifyTranslator&lt;DataFrame, Classifcations&gt; {\r\n\r\n        @Override\r\n        public NDList processInput(TranslatorContext ctx, DataFrame input) {\r\n            // convert DataFrame columns into NDArrays\r\n            NDArray col1 = ...\r\n            NDArray col2 = ...\r\n            return new NDList(col1, col2);\r\n        }\r\n\r\n        /** {@inheritDoc} */\r\n        @Override\r\n        public Classifications processOutput(TranslatorContext ctx, NDList list) {\r\n            // implement your post processing\r\n            return new Classifications();\r\n        }\r\n    }\r\n\r\n```","title":"Which Java class is compatible with python Pandas DataFrame when using DJL(Deep Java Library)?","body":"<p>You need create your own <code>Translator</code> to convert <code>DataFrame</code> into <code>NDList</code>:</p>\n<pre><code>    class MyTranslator implements NoBatchifyTranslator&lt;DataFrame, Classifcations&gt; {\n\n        @Override\n        public NDList processInput(TranslatorContext ctx, DataFrame input) {\n            // convert DataFrame columns into NDArrays\n            NDArray col1 = ...\n            NDArray col2 = ...\n            return new NDList(col1, col2);\n        }\n\n        /** {@inheritDoc} */\n        @Override\n        public Classifications processOutput(TranslatorContext ctx, NDList list) {\n            // implement your post processing\n            return new Classifications();\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":22270564,"reputation":71,"user_id":16500596,"display_name":"soheethewebdeveloper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1380,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650652062,"creation_date":1626940604,"question_id":68481158,"body_markdown":"I&#39;m trying to import Python Tensorflow custom model to `spring-boot` using `DJL Tensorflow`, and the model gets `Pandas DataFrame` as both input and output.\r\n\r\nI&#39;m wondering if there is any particular table or dataFrame class that is applicable for Criteria&lt;I, O&gt; and ZooModel&lt;I, O&gt; since there is only Image class from `ai.djl.modality.cv.Image` in example codes. \r\n\r\nIf there is, is the class compatible with `Pandas DataFrame`? There are some codes that I wrote and error messages below.\r\n\r\nI&#39;ve already tried `tablesaw.api.Table` and `apache.spark.sql.Dataset` but it did not work. If you know any information about it, please let me know.\r\n\r\n**conditions**\r\n\r\n- Input class `I` and Output class `O` should be equivalent to ``Pandas DataFrame``\r\n- This class should be applicable for `Criteria&lt;I, O&gt;` and `ZooModel&lt;I, O&gt;`\r\n\r\n\r\n**codes**\r\n```\r\nCriteria&lt;I, O&gt; criteria = Criteria.builder()\r\n\t\t         .setTypes(I.class, O.class) // defines input and output data type\r\n\t\t         .optModelUrls(&quot;../model/mlpDemo/&quot;) // search models in specified path\r\n\t\t         .build();\r\n\t\t\r\ntry (ZooModel&lt;I, O&gt; model = criteria.loadModel(); \r\n\t\tPredictor&lt;I, O&gt; predictor = model.newPredictor();) {\r\n\tO result = predictor.predict(dataFrame); // here should be loaded dataFrame\r\n\tSystem.out.print(result);\r\n} catch (Exception e) {\r\n\te.printStackTrace();\r\n}\r\n```\r\n\r\n**error messages**\r\n```\r\nai.djl.repository.zoo.ModelNotFoundException: No matching model with specified Input/Output type found.\r\n\tat ai.djl.repository.zoo.Criteria.loadModel(Criteria.java:186)\r\n\tat com.example.demo.DemoApplication.main(DemoApplication.java:69)\r\nCaused by: ai.djl.repository.zoo.ModelNotFoundException: No matching default translator found. The valid input and output classes are: \r\n\t(ai.djl.ndarray.NDList, ai.djl.ndarray.NDList)\r\n\r\n\tat ai.djl.repository.zoo.BaseModelLoader.loadModel(BaseModelLoader.java:97)\r\n\tat ai.djl.repository.zoo.Criteria.loadModel(Criteria.java:174)\r\n\t... 1 more\r\n\r\n```","title":"Which Java class is compatible with python Pandas DataFrame when using DJL(Deep Java Library)?","body":"<p>I'm trying to import Python Tensorflow custom model to <code>spring-boot</code> using <code>DJL Tensorflow</code>, and the model gets <code>Pandas DataFrame</code> as both input and output.</p>\n<p>I'm wondering if there is any particular table or dataFrame class that is applicable for Criteria&lt;I, O&gt; and ZooModel&lt;I, O&gt; since there is only Image class from <code>ai.djl.modality.cv.Image</code> in example codes.</p>\n<p>If there is, is the class compatible with <code>Pandas DataFrame</code>? There are some codes that I wrote and error messages below.</p>\n<p>I've already tried <code>tablesaw.api.Table</code> and <code>apache.spark.sql.Dataset</code> but it did not work. If you know any information about it, please let me know.</p>\n<p><strong>conditions</strong></p>\n<ul>\n<li>Input class <code>I</code> and Output class <code>O</code> should be equivalent to <code>Pandas DataFrame</code></li>\n<li>This class should be applicable for <code>Criteria&lt;I, O&gt;</code> and <code>ZooModel&lt;I, O&gt;</code></li>\n</ul>\n<p><strong>codes</strong></p>\n<pre><code>Criteria&lt;I, O&gt; criteria = Criteria.builder()\n                 .setTypes(I.class, O.class) // defines input and output data type\n                 .optModelUrls(&quot;../model/mlpDemo/&quot;) // search models in specified path\n                 .build();\n        \ntry (ZooModel&lt;I, O&gt; model = criteria.loadModel(); \n        Predictor&lt;I, O&gt; predictor = model.newPredictor();) {\n    O result = predictor.predict(dataFrame); // here should be loaded dataFrame\n    System.out.print(result);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p><strong>error messages</strong></p>\n<pre><code>ai.djl.repository.zoo.ModelNotFoundException: No matching model with specified Input/Output type found.\n    at ai.djl.repository.zoo.Criteria.loadModel(Criteria.java:186)\n    at com.example.demo.DemoApplication.main(DemoApplication.java:69)\nCaused by: ai.djl.repository.zoo.ModelNotFoundException: No matching default translator found. The valid input and output classes are: \n    (ai.djl.ndarray.NDList, ai.djl.ndarray.NDList)\n\n    at ai.djl.repository.zoo.BaseModelLoader.loadModel(BaseModelLoader.java:97)\n    at ai.djl.repository.zoo.Criteria.loadModel(Criteria.java:174)\n    ... 1 more\n\n</code></pre>\n"},{"tags":["java","rest","exception"],"answers":[{"tags":[],"owner":{"account_id":7837673,"reputation":467,"user_id":5925075,"display_name":"balazs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650651522,"creation_date":1650651522,"answer_id":71973091,"question_id":71971654,"body_markdown":"Problem is when a class is annotated with the `@SpringBootApplication` without any attribute SpringBoot only scans the package and its subpackages where the class itself is located.\r\n\r\nIn your case it means SpringBoot only looking for any Spring components under `com.example.csmartbackend` package while you put `GlobalExceptionHandler` class in `exception.requestsexception`s package.\r\n\r\nTo fix it you have two choices:\r\n\r\n - put the `exception` package under com.example.csmartbackend, so it would be `com.example.csmartbackend.exception.requestsexception.GlobalExceptionHandler`\r\n - tell spring to scan the `exception` package as well, either by using `scanBasePackageClasses` or `scanBasePackages` attribute, e.g `@SpringBootApplication(scanBasePackageClasses = {CSmartBackEndApplication.class, GlobalExceptionHandler.class})` ","title":"Pretty message on exceptions from REST app","body":"<p>Problem is when a class is annotated with the <code>@SpringBootApplication</code> without any attribute SpringBoot only scans the package and its subpackages where the class itself is located.</p>\n<p>In your case it means SpringBoot only looking for any Spring components under <code>com.example.csmartbackend</code> package while you put <code>GlobalExceptionHandler</code> class in <code>exception.requestsexception</code>s package.</p>\n<p>To fix it you have two choices:</p>\n<ul>\n<li>put the <code>exception</code> package under com.example.csmartbackend, so it would be <code>com.example.csmartbackend.exception.requestsexception.GlobalExceptionHandler</code></li>\n<li>tell spring to scan the <code>exception</code> package as well, either by using <code>scanBasePackageClasses</code> or <code>scanBasePackages</code> attribute, e.g <code>@SpringBootApplication(scanBasePackageClasses = {CSmartBackEndApplication.class, GlobalExceptionHandler.class})</code></li>\n</ul>\n"}],"owner":{"display_name":"user18877527"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71973091,"answer_count":1,"score":0,"last_activity_date":1650651522,"creation_date":1650643564,"question_id":71971654,"body_markdown":"I have a problem with my REST app. Here is the git link to ease your burden: https://github.com/TheNiceGuy123/AstonishingBackEnd\r\n\r\nHere is the raw code also:\r\n\r\nClasses posted in order:\r\n\r\nEmployee Controller:\r\n\r\n    package com.example.csmartbackend.controller;\r\n    \r\n    import com.example.csmartbackend.model.Employee;\r\n    import com.example.csmartbackend.modeldto.EmployeeDto;\r\n    import com.example.csmartbackend.service.EmployeeService;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    import javax.validation.Valid;\r\n    import java.util.List;\r\n    import java.util.UUID;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;employee&quot;)\r\n    @RequiredArgsConstructor\r\n    public class EmployeeController\r\n    {\r\n        private final EmployeeService employeeService;\r\n    \r\n        @GetMapping(&quot;find/{Cnp}&quot;)\r\n        public ResponseEntity&lt;Employee&gt; findByCNP(@PathVariable(&quot;Cnp&quot;) String Cnp)\r\n        {\r\n            Employee employee = employeeService.findByCnp(Cnp);\r\n            HttpHeaders header = new HttpHeaders();\r\n            header.add(&quot;Desc&quot;,&quot;Getting employee by id.&quot;);\r\n            return ResponseEntity.status(HttpStatus.OK).headers(header).body(employee);\r\n        }\r\n    }\r\n\r\n\r\n\r\nEmployee Service:\r\n\r\n    package com.example.csmartbackend.service;\r\n    \r\n    import com.example.csmartbackend.mapper.EmployeeMapper;\r\n    import com.example.csmartbackend.model.Employee;\r\n    import com.example.csmartbackend.modeldto.EmployeeDto;\r\n    import com.example.csmartbackend.repository.EmployeeRepository;\r\n    import exception.general.TargetNotFoundException;\r\n    import exception.requestsexceptions.CNPNotFoundException;\r\n    import exception.requestsexceptions.EmployeeNotFoundException;\r\n    import exception.requestsexceptions.InvalidIdException;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import javax.transaction.Transactional;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    import java.util.UUID;\r\n    \r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Transactional\r\n    public class EmployeeService implements EmployeeServiceImpl\r\n    {\r\n        private final EmployeeRepository employeeRepository;\r\n        private final ContractService contractService;\r\n        private final AdressService adressService;\r\n    \r\n        public Employee findByCnp(String Cnp) throws CNPNotFoundException\r\n        {\r\n            Optional&lt;Employee&gt; employeeOptional = Optional.ofNullable(employeeRepository.findByCnp(Cnp));\r\n            if(employeeOptional.isPresent())\r\n                return employeeOptional.get();\r\n            else\r\n                throw new CNPNotFoundException(&quot;No employee found.&quot;);\r\n        }\r\n    }\r\n\r\nGlobal Exception Handler:\r\n\r\n    package exception.requestsexceptions;\r\n    \r\n    import org.springframework.beans.TypeMismatchException;\r\n    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.http.converter.HttpMessageNotReadableException;\r\n    import org.springframework.web.HttpMediaTypeNotSupportedException;\r\n    import org.springframework.web.HttpRequestMethodNotSupportedException;\r\n    import org.springframework.web.bind.MissingPathVariableException;\r\n    import org.springframework.web.bind.MissingServletRequestParameterException;\r\n    import org.springframework.web.bind.annotation.ControllerAdvice;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.context.request.WebRequest;\r\n    import org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    @ControllerAdvice\r\n    public class GlobalExceptionHandler extends ResponseEntityExceptionHandler\r\n    {\r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpRequestMethodNotSupported\r\n                (HttpRequestMethodNotSupportedException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\r\n        {\r\n            String message = ex.getMessage();\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;Request method not supported.&quot;);\r\n            ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\r\n            return ResponseEntity.status(status).body(apiErrorModel);\r\n        }\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpMediaTypeNotSupported\r\n                (HttpMediaTypeNotSupportedException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\r\n        {\r\n            String message = ex.getMessage();\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;Media method not supported.&quot;);\r\n            ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\r\n            return ResponseEntity.status(status).body(apiErrorModel);\r\n        }\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMissingPathVariable\r\n                (MissingPathVariableException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\r\n        {\r\n            String message = ex.getMessage();\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;Path variable is missing.&quot;);\r\n            ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\r\n            return ResponseEntity.status(status).body(apiErrorModel);\r\n        }\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleMissingServletRequestParameter\r\n                (MissingServletRequestParameterException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\r\n        {\r\n            String message = ex.getMessage();\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;Request parameter is missing.&quot;);\r\n            ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\r\n            return ResponseEntity.status(status).body(apiErrorModel);\r\n        }\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleTypeMismatch\r\n                (TypeMismatchException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\r\n        {\r\n            String message = ex.getMessage();\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;Mismatch of type.&quot;);\r\n            ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\r\n            return ResponseEntity.status(status).body(apiErrorModel);\r\n        }\r\n    \r\n        @Override\r\n        protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable\r\n                (HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\r\n        {\r\n            String message = ex.getMessage();\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;Request body is not readable.&quot;);\r\n            ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\r\n            return ResponseEntity.status(status).body(apiErrorModel);\r\n        }\r\n    \r\n        @ExceptionHandler(EmployeeNotFoundException.class)\r\n        public ResponseEntity&lt;Object&gt; handleEmployeeNotFoundException(EmployeeNotFoundException ex)\r\n        {\r\n            String message = ex.getMessage();\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;Employee not found.&quot;);\r\n            ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, HttpStatus.BAD_REQUEST, LocalDateTime.now());\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(apiErrorModel);\r\n        }\r\n    \r\n        @ExceptionHandler(CNPNotFoundException.class)\r\n        public ResponseEntity&lt;Object&gt; handleInvalidCNPException(CNPNotFoundException ex)\r\n        {\r\n            String message = ex.getMessage();\r\n            List&lt;String&gt; details = new ArrayList&lt;&gt;();\r\n            details.add(&quot;Employee with the given CNP not found.&quot;);\r\n            ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, HttpStatus.NOT_FOUND, LocalDateTime.now());\r\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(apiErrorModel);\r\n        }\r\n    }\r\n\r\nCNPNotFoundException class:\r\n\r\n    package exception.requestsexceptions;\r\n    \r\n    public class CNPNotFoundException extends RuntimeException\r\n    {\r\n        public CNPNotFoundException(String message) { super(message); }\r\n    }\r\n\r\nApiErrorModel class:\r\n\r\n    package exception.requestsexceptions;\r\n    \r\n    import lombok.*;\r\n    import org.springframework.http.HttpStatus;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.util.List;\r\n    \r\n    @Setter\r\n    @Getter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @ToString\r\n    public class ApiErrorModel\r\n    {\r\n        String message;\r\n        List&lt;String&gt; details;\r\n        HttpStatus status;\r\n        LocalDateTime timestamp;\r\n    }\r\n\r\n\r\nI want to give some relevant informations to the user like in the second picture but in postman everything remains at the default level to call it like that, like my code from the handler is not even there. Is any logic or annotation that I miss?\r\n\r\n[This is how it looks on my side][1]\r\n\r\n[This is how it should look like][2]\r\n\r\n\r\nThank you for your time!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nbo6K.png\r\n  [2]: https://i.stack.imgur.com/p8670.png","title":"Pretty message on exceptions from REST app","body":"<p>I have a problem with my REST app. Here is the git link to ease your burden: <a href=\"https://github.com/TheNiceGuy123/AstonishingBackEnd\" rel=\"nofollow noreferrer\">https://github.com/TheNiceGuy123/AstonishingBackEnd</a></p>\n<p>Here is the raw code also:</p>\n<p>Classes posted in order:</p>\n<p>Employee Controller:</p>\n<pre><code>package com.example.csmartbackend.controller;\n\nimport com.example.csmartbackend.model.Employee;\nimport com.example.csmartbackend.modeldto.EmployeeDto;\nimport com.example.csmartbackend.service.EmployeeService;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.util.List;\nimport java.util.UUID;\n\n@RestController\n@RequestMapping(&quot;employee&quot;)\n@RequiredArgsConstructor\npublic class EmployeeController\n{\n    private final EmployeeService employeeService;\n\n    @GetMapping(&quot;find/{Cnp}&quot;)\n    public ResponseEntity&lt;Employee&gt; findByCNP(@PathVariable(&quot;Cnp&quot;) String Cnp)\n    {\n        Employee employee = employeeService.findByCnp(Cnp);\n        HttpHeaders header = new HttpHeaders();\n        header.add(&quot;Desc&quot;,&quot;Getting employee by id.&quot;);\n        return ResponseEntity.status(HttpStatus.OK).headers(header).body(employee);\n    }\n}\n</code></pre>\n<p>Employee Service:</p>\n<pre><code>package com.example.csmartbackend.service;\n\nimport com.example.csmartbackend.mapper.EmployeeMapper;\nimport com.example.csmartbackend.model.Employee;\nimport com.example.csmartbackend.modeldto.EmployeeDto;\nimport com.example.csmartbackend.repository.EmployeeRepository;\nimport exception.general.TargetNotFoundException;\nimport exception.requestsexceptions.CNPNotFoundException;\nimport exception.requestsexceptions.EmployeeNotFoundException;\nimport exception.requestsexceptions.InvalidIdException;\nimport lombok.RequiredArgsConstructor;\nimport org.springframework.stereotype.Service;\n\nimport javax.transaction.Transactional;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.UUID;\n\n@Service\n@RequiredArgsConstructor\n@Transactional\npublic class EmployeeService implements EmployeeServiceImpl\n{\n    private final EmployeeRepository employeeRepository;\n    private final ContractService contractService;\n    private final AdressService adressService;\n\n    public Employee findByCnp(String Cnp) throws CNPNotFoundException\n    {\n        Optional&lt;Employee&gt; employeeOptional = Optional.ofNullable(employeeRepository.findByCnp(Cnp));\n        if(employeeOptional.isPresent())\n            return employeeOptional.get();\n        else\n            throw new CNPNotFoundException(&quot;No employee found.&quot;);\n    }\n}\n</code></pre>\n<p>Global Exception Handler:</p>\n<pre><code>package exception.requestsexceptions;\n\nimport org.springframework.beans.TypeMismatchException;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.http.converter.HttpMessageNotReadableException;\nimport org.springframework.web.HttpMediaTypeNotSupportedException;\nimport org.springframework.web.HttpRequestMethodNotSupportedException;\nimport org.springframework.web.bind.MissingPathVariableException;\nimport org.springframework.web.bind.MissingServletRequestParameterException;\nimport org.springframework.web.bind.annotation.ControllerAdvice;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.servlet.mvc.method.annotation.ResponseEntityExceptionHandler;\n\nimport java.time.LocalDateTime;\nimport java.util.ArrayList;\nimport java.util.List;\n\n@ControllerAdvice\npublic class GlobalExceptionHandler extends ResponseEntityExceptionHandler\n{\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpRequestMethodNotSupported\n            (HttpRequestMethodNotSupportedException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\n    {\n        String message = ex.getMessage();\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(&quot;Request method not supported.&quot;);\n        ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\n        return ResponseEntity.status(status).body(apiErrorModel);\n    }\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMediaTypeNotSupported\n            (HttpMediaTypeNotSupportedException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\n    {\n        String message = ex.getMessage();\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(&quot;Media method not supported.&quot;);\n        ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\n        return ResponseEntity.status(status).body(apiErrorModel);\n    }\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMissingPathVariable\n            (MissingPathVariableException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\n    {\n        String message = ex.getMessage();\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(&quot;Path variable is missing.&quot;);\n        ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\n        return ResponseEntity.status(status).body(apiErrorModel);\n    }\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleMissingServletRequestParameter\n            (MissingServletRequestParameterException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\n    {\n        String message = ex.getMessage();\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(&quot;Request parameter is missing.&quot;);\n        ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\n        return ResponseEntity.status(status).body(apiErrorModel);\n    }\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleTypeMismatch\n            (TypeMismatchException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\n    {\n        String message = ex.getMessage();\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(&quot;Mismatch of type.&quot;);\n        ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\n        return ResponseEntity.status(status).body(apiErrorModel);\n    }\n\n    @Override\n    protected ResponseEntity&lt;Object&gt; handleHttpMessageNotReadable\n            (HttpMessageNotReadableException ex, HttpHeaders headers, HttpStatus status, WebRequest request)\n    {\n        String message = ex.getMessage();\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(&quot;Request body is not readable.&quot;);\n        ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, status, LocalDateTime.now());\n        return ResponseEntity.status(status).body(apiErrorModel);\n    }\n\n    @ExceptionHandler(EmployeeNotFoundException.class)\n    public ResponseEntity&lt;Object&gt; handleEmployeeNotFoundException(EmployeeNotFoundException ex)\n    {\n        String message = ex.getMessage();\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(&quot;Employee not found.&quot;);\n        ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, HttpStatus.BAD_REQUEST, LocalDateTime.now());\n        return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(apiErrorModel);\n    }\n\n    @ExceptionHandler(CNPNotFoundException.class)\n    public ResponseEntity&lt;Object&gt; handleInvalidCNPException(CNPNotFoundException ex)\n    {\n        String message = ex.getMessage();\n        List&lt;String&gt; details = new ArrayList&lt;&gt;();\n        details.add(&quot;Employee with the given CNP not found.&quot;);\n        ApiErrorModel apiErrorModel = new ApiErrorModel(message, details, HttpStatus.NOT_FOUND, LocalDateTime.now());\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(apiErrorModel);\n    }\n}\n</code></pre>\n<p>CNPNotFoundException class:</p>\n<pre><code>package exception.requestsexceptions;\n\npublic class CNPNotFoundException extends RuntimeException\n{\n    public CNPNotFoundException(String message) { super(message); }\n}\n</code></pre>\n<p>ApiErrorModel class:</p>\n<pre><code>package exception.requestsexceptions;\n\nimport lombok.*;\nimport org.springframework.http.HttpStatus;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Setter\n@Getter\n@NoArgsConstructor\n@AllArgsConstructor\n@ToString\npublic class ApiErrorModel\n{\n    String message;\n    List&lt;String&gt; details;\n    HttpStatus status;\n    LocalDateTime timestamp;\n}\n</code></pre>\n<p>I want to give some relevant informations to the user like in the second picture but in postman everything remains at the default level to call it like that, like my code from the handler is not even there. Is any logic or annotation that I miss?</p>\n<p><a href=\"https://i.stack.imgur.com/nbo6K.png\" rel=\"nofollow noreferrer\">This is how it looks on my side</a></p>\n<p><a href=\"https://i.stack.imgur.com/p8670.png\" rel=\"nofollow noreferrer\">This is how it should look like</a></p>\n<p>Thank you for your time!</p>\n"},{"tags":["java","arduino","serial-port"],"answers":[{"tags":[],"owner":{"account_id":14627561,"reputation":1444,"user_id":10564458,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650651408,"creation_date":1650651408,"answer_id":71973071,"question_id":71972964,"body_markdown":"You can listen for multiple events by OR&#39;ing these together:\r\n\r\n```java\r\nreturn SerialPort.LISTENING_EVENT_DATA_WRITTEN | SerialPort.LISTENING_EVENT_DATA_RECEIVED;\r\n```\r\n\r\n---\r\n\r\n**How this works:**\r\n\r\nAssume `LISTENING_EVENT_DATA_WRITTEN` has the value `1` and `LISTENING_EVENT_DATA_RECEIVED` has the value `2`, in binary:\r\n\r\n1 = 01  \r\n2 = 10\r\n\r\nIf these two numbers are now OR&#39;ed together using the logical OR operator `|`, the result is:\r\n\r\n01 | 10 = 11\r\n\r\nThe library now checks if \r\n```\r\n11 &amp; LISTENING_EVENT_DATA_WRITTEN == LISTENING_EVENT_DATA_WRITTEN\r\n```\r\n\r\nif this is the case, this is &quot;passed on&quot; to your class","title":"Serial Comunnication between Java and Arduino","body":"<p>You can listen for multiple events by OR'ing these together:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return SerialPort.LISTENING_EVENT_DATA_WRITTEN | SerialPort.LISTENING_EVENT_DATA_RECEIVED;\n</code></pre>\n<hr />\n<p><strong>How this works:</strong></p>\n<p>Assume <code>LISTENING_EVENT_DATA_WRITTEN</code> has the value <code>1</code> and <code>LISTENING_EVENT_DATA_RECEIVED</code> has the value <code>2</code>, in binary:</p>\n<p>1 = 01<br />\n2 = 10</p>\n<p>If these two numbers are now OR'ed together using the logical OR operator <code>|</code>, the result is:</p>\n<p>01 | 10 = 11</p>\n<p>The library now checks if</p>\n<pre><code>11 &amp; LISTENING_EVENT_DATA_WRITTEN == LISTENING_EVENT_DATA_WRITTEN\n</code></pre>\n<p>if this is the case, this is &quot;passed on&quot; to your class</p>\n"}],"owner":{"account_id":20107839,"reputation":25,"user_id":14744895,"display_name":"Miguel Freytes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71973071,"answer_count":1,"score":0,"last_activity_date":1650651408,"creation_date":1650650762,"question_id":71972964,"body_markdown":"I&#39;m writing a code to send and receive data using the serial port of an arduino, for that I&#39;m using the [jserialcomm][1] library. For sending and receiving data, I&#39;m using a DataListener of the library which detect whether or not a bunch of bytes has been sent or received, the problem is that DataListener uses a method called getListneningEvents to list the events which the the DataListener will be able to use, but you can only return one of them because is overwriting an abstract method who returns only one integer, the documentation says that you can return one or more events but I trully don&#39;t know how to do it, if you can help with that pls.\r\n\r\n    public class MessageListener implements SerialPortMessageListener{\r\n    @Override\r\n    public int getListeningEvents() { \r\n        return SerialPort.LISTENING_EVENT_DATA_WRITTEN;\r\n        // return SerialPort.LISTENING_EVENT_DATA_RECEIVED;\r\n        // I want to return both methods\r\n    }\r\n\r\n\r\n    @Override\r\n    public byte[] getMessageDelimiter(){ \r\n        return new byte[] {\r\n            (byte)0x0A\r\n        }; \r\n    }\r\n\r\n    @Override\r\n    public boolean delimiterIndicatesEndOfMessage(){ \r\n        return true; \r\n    }\r\n\r\n    @Override\r\n    public void serialEvent(SerialPortEvent event){\r\n        switch (event.getEventType()) {\r\n            //Evento para datos enviados\r\n            case SerialPort.LISTENING_EVENT_DATA_WRITTEN:\r\n                System.out.println(&quot;All bytes were successfully transmitted!&quot;);\r\n                break;\r\n            \r\n            //Evento para datos recibidos\r\n            case SerialPort.LISTENING_EVENT_DATA_RECEIVED:\r\n                byte[] delimitedMessage = event.getReceivedData();\r\n                String mensaje = new String(delimitedMessage, StandardCharsets.UTF_8);\r\n                mensaje = mensaje.replace(&quot;\\n&quot;, &quot;&quot;);\r\n                System.out.println(&quot;Received the following delimited message: &quot; + mensaje);\r\n                break;\r\n        }\r\n        \r\n    }\r\n}\r\n\r\n[Documentation of that DataListener][2]\r\n\r\n\r\n  [1]: https://github.com/Fazecast/jSerialComm\r\n  [2]: http://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPortDataListener.html#getListeningEvents--","title":"Serial Comunnication between Java and Arduino","body":"<p>I'm writing a code to send and receive data using the serial port of an arduino, for that I'm using the <a href=\"https://github.com/Fazecast/jSerialComm\" rel=\"nofollow noreferrer\">jserialcomm</a> library. For sending and receiving data, I'm using a DataListener of the library which detect whether or not a bunch of bytes has been sent or received, the problem is that DataListener uses a method called getListneningEvents to list the events which the the DataListener will be able to use, but you can only return one of them because is overwriting an abstract method who returns only one integer, the documentation says that you can return one or more events but I trully don't know how to do it, if you can help with that pls.</p>\n<pre><code>public class MessageListener implements SerialPortMessageListener{\n@Override\npublic int getListeningEvents() { \n    return SerialPort.LISTENING_EVENT_DATA_WRITTEN;\n    // return SerialPort.LISTENING_EVENT_DATA_RECEIVED;\n    // I want to return both methods\n}\n\n\n@Override\npublic byte[] getMessageDelimiter(){ \n    return new byte[] {\n        (byte)0x0A\n    }; \n}\n\n@Override\npublic boolean delimiterIndicatesEndOfMessage(){ \n    return true; \n}\n\n@Override\npublic void serialEvent(SerialPortEvent event){\n    switch (event.getEventType()) {\n        //Evento para datos enviados\n        case SerialPort.LISTENING_EVENT_DATA_WRITTEN:\n            System.out.println(&quot;All bytes were successfully transmitted!&quot;);\n            break;\n        \n        //Evento para datos recibidos\n        case SerialPort.LISTENING_EVENT_DATA_RECEIVED:\n            byte[] delimitedMessage = event.getReceivedData();\n            String mensaje = new String(delimitedMessage, StandardCharsets.UTF_8);\n            mensaje = mensaje.replace(&quot;\\n&quot;, &quot;&quot;);\n            System.out.println(&quot;Received the following delimited message: &quot; + mensaje);\n            break;\n    }\n    \n}\n</code></pre>\n<p>}</p>\n<p><a href=\"http://fazecast.github.io/jSerialComm/javadoc/com/fazecast/jSerialComm/SerialPortDataListener.html#getListeningEvents--\" rel=\"nofollow noreferrer\">Documentation of that DataListener</a></p>\n"},{"tags":["java","spring","datetime","lombok"],"answers":[{"tags":[],"owner":{"account_id":3034977,"reputation":1178,"user_id":2573297,"accept_rate":64,"display_name":"PT_C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650650917,"creation_date":1650650917,"answer_id":71972986,"question_id":71972903,"body_markdown":"Added `timezone` to the annotation\r\n\r\n \r\n\r\n    @JsonFormat(pattern = &quot;EEE, dd MMM yyyy HH:mm:ss z&quot;, timezone=&quot;GMT&quot;)\r\n    private ZonedDateTime startDate;","title":"Spring @JsonFormat changing the timezone","body":"<p>Added <code>timezone</code> to the annotation</p>\n<pre><code>@JsonFormat(pattern = &quot;EEE, dd MMM yyyy HH:mm:ss z&quot;, timezone=&quot;GMT&quot;)\nprivate ZonedDateTime startDate;\n</code></pre>\n"}],"owner":{"account_id":3034977,"reputation":1178,"user_id":2573297,"accept_rate":64,"display_name":"PT_C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1748,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71972986,"answer_count":1,"score":-1,"last_activity_date":1650650917,"creation_date":1650650403,"question_id":71972903,"body_markdown":"I&#39;m sending JSON to a spring app, de-serializing it using @JsonFormat annotations and then returning it to the user. However my input specifically denotes &quot;GMT&quot; but the return data is &quot;UTC&quot;. Is there a better/different way to annotate this properly so the timezone comes through?\r\n\r\n**Request Body**\r\n\r\n    &quot;startDate&quot;: &quot;Sun, 22 May 2022 04:00:00 GMT&quot;\r\n\r\n**Object Annotation**\r\n \r\n\r\n    @JsonFormat(pattern = &quot;EEE, dd MMM yyyy HH:mm:ss z&quot;)\r\n    private ZonedDateTime startDate;\r\n\r\n**Return Data**\r\n\r\n    &quot;startDate&quot;: &quot;Sun, 22 May 2022 04:00:00 UTC&quot;,\r\n\r\n","title":"Spring @JsonFormat changing the timezone","body":"<p>I'm sending JSON to a spring app, de-serializing it using @JsonFormat annotations and then returning it to the user. However my input specifically denotes &quot;GMT&quot; but the return data is &quot;UTC&quot;. Is there a better/different way to annotate this properly so the timezone comes through?</p>\n<p><strong>Request Body</strong></p>\n<pre><code>&quot;startDate&quot;: &quot;Sun, 22 May 2022 04:00:00 GMT&quot;\n</code></pre>\n<p><strong>Object Annotation</strong></p>\n<pre><code>@JsonFormat(pattern = &quot;EEE, dd MMM yyyy HH:mm:ss z&quot;)\nprivate ZonedDateTime startDate;\n</code></pre>\n<p><strong>Return Data</strong></p>\n<pre><code>&quot;startDate&quot;: &quot;Sun, 22 May 2022 04:00:00 UTC&quot;,\n</code></pre>\n"},{"tags":["java","android","database","mvvm"],"answers":[{"tags":[],"owner":{"account_id":21018259,"reputation":1802,"user_id":15445218,"display_name":"Vaibhav Goyal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628734000,"creation_date":1628734000,"answer_id":68750776,"question_id":68749247,"body_markdown":"There&#39;s no need of the LiveData for your use case, you can simply return User from Dao. Like,\r\nMyDao:\r\n\r\n    @Query(&quot;SELECT * FROM user_table WHERE username = :username&quot;)\r\n    User getUserByName(String username);\r\n\r\nRepository:\r\n\r\n    public User getUserByName(String name) {\r\n    return myDao.getUserByName(name);\r\n    }\r\n\r\nLiveData should only be used when the underlying data changes frequently and we want to do some changes accordingly.","title":"MVVM: ViewModel logic needs info from database, but how to wait for the data?","body":"<p>There's no need of the LiveData for your use case, you can simply return User from Dao. Like,\nMyDao:</p>\n<pre><code>@Query(&quot;SELECT * FROM user_table WHERE username = :username&quot;)\nUser getUserByName(String username);\n</code></pre>\n<p>Repository:</p>\n<pre><code>public User getUserByName(String name) {\nreturn myDao.getUserByName(name);\n}\n</code></pre>\n<p>LiveData should only be used when the underlying data changes frequently and we want to do some changes accordingly.</p>\n"}],"owner":{"account_id":21525246,"reputation":39,"user_id":15865665,"display_name":"beebopbogo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650650791,"creation_date":1628718292,"question_id":68749247,"body_markdown":"I am new to MVVM and am trying to figure out how to organize my app. I made a simplified login app to help figure things out.\r\n\r\nI separated the app into layers: Activity -&gt; ViewModel -&gt; Repository -&gt; Database.&lt;br&gt;\r\nI have a few Activities, each with their specific ViewModel (i.e. LoginActivity accesses LoginViewModel.) There is one single repository for accessing the Room database through a Dao interface. All ViewModels contain a LocalRepository variable.\r\n\r\nI understand the Activity should only handle User Interface jobs. So the LoginActivity gets a username from the user through the EditText Views, displays success and failure Toasts, starts the next activity, etc. But to actually login the user, loginViewModel.login(username) is called so the ViewModel can handle all the business logic.\r\n\r\nThe LoginViewModel needs to check if the user already exists in the database. But how should the ViewModel wait for the database results? \r\n1) Observing LiveData doesn&#39;t work in a view model (`currentUser.observe(LoginActivity.this, new Observer&lt;User&gt;()` returns an error from `LoginActivity.this`: &quot;&#39;LoginActivity&#39; is not an enclosing class&quot;).\r\n2) Creating a callback seems inelegant. \r\n3) Adding a wait() line is just dumb.\r\n4) I could move the logic to the LoginActivity which would allow me to wait for the user to come back from the database. But aren&#39;t I now performing logic in the UI layer?\r\n```\r\nmyViewModel.getUserByName(username).observe(this, new Observer&lt;User&gt;() {\r\n            @Override\r\n            public void onChanged(User userFromDatabase) {\r\n                // If userFromDatabase is not null, login as this user\r\n            }\r\n        });\r\n```\r\n\r\nPerhaps I&#39;m missing something with how the architecture is structured.&lt;br&gt;\r\nOr is there a technique for accessing the database from the ViewModel?&lt;br&gt;\r\nOr I read about adding another &quot;model&quot; layer? Or a service?&lt;br&gt;\r\nSo many techniques and options, hopefully someone can straighten things out.\r\n\r\nCheers. Here&#39;s the code:&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\n\r\n\r\nLoginActivity:\r\n```\r\npublic void loginButtonClicked(View v){\r\n        // TODO: Stub. Login user\r\n        String msg = myViewModel.loginUser(splashUserInput.getText().toString());\r\n        if(msg.isEmpty()){\r\n            Intent intent = new Intent(this, DEFAULT_FIRST_ACTIVITY);\r\n            startActivity(intent);\r\n        } else {\r\n            Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n```\r\n\r\nLoginViewModel: newUser is returned null even though it DOES exist in the database.  \r\n```\r\npublic String loginUser(String username) {\r\n    if(username.isEmpty()) {\r\n        // If empty user input\r\n        return &quot;Username field missing&quot;;\r\n    } else if(currentUser.getValue() != null &amp;&amp; username.equals(currentUser.getValue().getUsername())) {\r\n        // If user is already logged on\r\n        return null; // No errors\r\n    } else {\r\n        // Else if logging on to a different user\r\n        User oldUser = currentUser.getValue();\r\n        User newUser;\r\n\r\n\r\n        newUser = localRepository.getUserByName(username).getValue();\r\n        // newUser is null since the repository&#39;s background thread is still accessing the database.\r\n\r\n        if(newUser == null) {\r\n            return &quot;Login Failed. Username does not exist.&quot;;\r\n        } else {\r\n            updateCurrentUser(oldUser, newUser);\r\n            return null; // No errors\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nRepository:\r\n```\r\npublic LiveData&lt;User&gt; getUserByName(String name) {\r\n    return myDao.getUserByName(name);\r\n}\r\n```\r\n\r\nMyDao:\r\n```\r\n@Query(&quot;SELECT * FROM user_table WHERE username = :username&quot;)\r\nLiveData&lt;User&gt; getUserByName(String username);\r\n```\r\n\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n&lt;br&gt;\r\n\r\nEdit 4/22/2022: Here are some options I&#39;ve tried, but still no solution:&lt;br&gt;\r\n&lt;br&gt;\r\nIn repository:\r\n\r\n```\r\n// getAllMarks returns LiveData&lt;List&lt;Mark&gt;&gt; from myDao\r\n// Just grabbing the value returns null since the background thread is still grabbing the data\r\nList&lt;Mark&gt; localMarks = repositoryLocal.getAllMarks.getValue(); // null\r\n\r\n\r\n// So I tried to wait for the data, but I can&#39;t find the LifecycleOwner from within the repository.\r\n// &quot;this&quot; should be the activity that called the viewModel that called the repository. (Required type: LifecycleOwner)\r\n// Is it appropriate to just pass Activity down the line through viewModel to repository?\r\nrepositoryLocal.getAllMarks.observe(this, new Observer&lt;List&lt;Mark&gt;&gt;() {\r\n        @Override\r\n        public void onChanged(List&lt;Mark&gt; marks) {\r\n                localMarks = marks;\r\n        }\r\n});\r\n\r\n\r\n\r\n// getAllMarksValue returns List&lt;Mark&gt; from myDao\r\n// IllegalStateException: will lock main thread\r\nList&lt;Mark&gt; localMarks = repositoryLocal.getAllMarksValue(); \r\n```\r\n","title":"MVVM: ViewModel logic needs info from database, but how to wait for the data?","body":"<p>I am new to MVVM and am trying to figure out how to organize my app. I made a simplified login app to help figure things out.</p>\n<p>I separated the app into layers: Activity -&gt; ViewModel -&gt; Repository -&gt; Database.<br>\nI have a few Activities, each with their specific ViewModel (i.e. LoginActivity accesses LoginViewModel.) There is one single repository for accessing the Room database through a Dao interface. All ViewModels contain a LocalRepository variable.</p>\n<p>I understand the Activity should only handle User Interface jobs. So the LoginActivity gets a username from the user through the EditText Views, displays success and failure Toasts, starts the next activity, etc. But to actually login the user, loginViewModel.login(username) is called so the ViewModel can handle all the business logic.</p>\n<p>The LoginViewModel needs to check if the user already exists in the database. But how should the ViewModel wait for the database results?</p>\n<ol>\n<li>Observing LiveData doesn't work in a view model (<code>currentUser.observe(LoginActivity.this, new Observer&lt;User&gt;()</code> returns an error from <code>LoginActivity.this</code>: &quot;'LoginActivity' is not an enclosing class&quot;).</li>\n<li>Creating a callback seems inelegant.</li>\n<li>Adding a wait() line is just dumb.</li>\n<li>I could move the logic to the LoginActivity which would allow me to wait for the user to come back from the database. But aren't I now performing logic in the UI layer?</li>\n</ol>\n<pre><code>myViewModel.getUserByName(username).observe(this, new Observer&lt;User&gt;() {\n            @Override\n            public void onChanged(User userFromDatabase) {\n                // If userFromDatabase is not null, login as this user\n            }\n        });\n</code></pre>\n<p>Perhaps I'm missing something with how the architecture is structured.<br>\nOr is there a technique for accessing the database from the ViewModel?<br>\nOr I read about adding another &quot;model&quot; layer? Or a service?<br>\nSo many techniques and options, hopefully someone can straighten things out.</p>\n<p>Cheers. Here's the code:<br>\n<br>\n<br></p>\n<p>LoginActivity:</p>\n<pre><code>public void loginButtonClicked(View v){\n        // TODO: Stub. Login user\n        String msg = myViewModel.loginUser(splashUserInput.getText().toString());\n        if(msg.isEmpty()){\n            Intent intent = new Intent(this, DEFAULT_FIRST_ACTIVITY);\n            startActivity(intent);\n        } else {\n            Toast.makeText(this, msg, Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n<p>LoginViewModel: newUser is returned null even though it DOES exist in the database.</p>\n<pre><code>public String loginUser(String username) {\n    if(username.isEmpty()) {\n        // If empty user input\n        return &quot;Username field missing&quot;;\n    } else if(currentUser.getValue() != null &amp;&amp; username.equals(currentUser.getValue().getUsername())) {\n        // If user is already logged on\n        return null; // No errors\n    } else {\n        // Else if logging on to a different user\n        User oldUser = currentUser.getValue();\n        User newUser;\n\n\n        newUser = localRepository.getUserByName(username).getValue();\n        // newUser is null since the repository's background thread is still accessing the database.\n\n        if(newUser == null) {\n            return &quot;Login Failed. Username does not exist.&quot;;\n        } else {\n            updateCurrentUser(oldUser, newUser);\n            return null; // No errors\n        }\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>public LiveData&lt;User&gt; getUserByName(String name) {\n    return myDao.getUserByName(name);\n}\n</code></pre>\n<p>MyDao:</p>\n<pre><code>@Query(&quot;SELECT * FROM user_table WHERE username = :username&quot;)\nLiveData&lt;User&gt; getUserByName(String username);\n</code></pre>\n<br>\n<br>\n<br>\n<p>Edit 4/22/2022: Here are some options I've tried, but still no solution:<br>\n<br>\nIn repository:</p>\n<pre><code>// getAllMarks returns LiveData&lt;List&lt;Mark&gt;&gt; from myDao\n// Just grabbing the value returns null since the background thread is still grabbing the data\nList&lt;Mark&gt; localMarks = repositoryLocal.getAllMarks.getValue(); // null\n\n\n// So I tried to wait for the data, but I can't find the LifecycleOwner from within the repository.\n// &quot;this&quot; should be the activity that called the viewModel that called the repository. (Required type: LifecycleOwner)\n// Is it appropriate to just pass Activity down the line through viewModel to repository?\nrepositoryLocal.getAllMarks.observe(this, new Observer&lt;List&lt;Mark&gt;&gt;() {\n        @Override\n        public void onChanged(List&lt;Mark&gt; marks) {\n                localMarks = marks;\n        }\n});\n\n\n\n// getAllMarksValue returns List&lt;Mark&gt; from myDao\n// IllegalStateException: will lock main thread\nList&lt;Mark&gt; localMarks = repositoryLocal.getAllMarksValue(); \n</code></pre>\n"},{"tags":["java","jackson","jackson-databind"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1649875888,"post_id":71859479,"comment_id":126989301,"body_markdown":"Related question: [java - Save the Configuration of a Jackson ObjectMapper - Stack Overflow](https://stackoverflow.com/questions/21292867/save-the-configuration-of-a-jackson-objectmapper).","body":"Related question: <a href=\"https://stackoverflow.com/questions/21292867/save-the-configuration-of-a-jackson-objectmapper\">java - Save the Configuration of a Jackson ObjectMapper - Stack Overflow</a>."}],"answers":[{"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1650650653,"creation_date":1650650653,"answer_id":71972942,"question_id":71859479,"body_markdown":"I ended up creating a simple utility method to return a String showing an `ObjectMapper`&#39;s modules and features:\r\n\r\n    public static String getConfigDetails(ObjectMapper mapper) {\r\n      StringBuilder sb = new StringBuilder();\r\n\r\n      sb.append(&quot;Modules:\\n&quot;);\r\n      if (mapper.getRegisteredModuleIds().isEmpty()) {\r\n        sb.append(&quot;\\t&quot;).append(&quot;-none-&quot;).append(&quot;\\n&quot;);\r\n      }\r\n      for (Object m : mapper.getRegisteredModuleIds()) {\r\n        sb.append(&quot;  &quot;).append(m).append(&quot;\\n&quot;);\r\n      }\r\n\r\n      sb.append(&quot;\\nSerialization Features:\\n&quot;);\r\n      for (SerializationFeature f : SerializationFeature.values()) {\r\n        sb.append(&quot;\\t&quot;).append(f).append(&quot; -&gt; &quot;).append(mapper.getSerializationConfig().hasSerializationFeatures(f.getMask()));\r\n        if (f.enabledByDefault()) {\r\n          sb.append(&quot; (enabled by default)&quot;);\r\n        }\r\n        sb.append(&quot;\\n&quot;);\r\n      }\r\n\r\n      sb.append(&quot;\\nDeserialization Features:\\n&quot;);\r\n      for (DeserializationFeature f : DeserializationFeature.values()) {\r\n        sb.append(&quot;\\t&quot;).append(f).append(&quot; -&gt; &quot;).append(mapper.getDeserializationConfig().hasDeserializationFeatures(f.getMask()));\r\n        if (f.enabledByDefault()) {\r\n          sb.append(&quot; (enabled by default)&quot;);\r\n        }\r\n        sb.append(&quot;\\n&quot;);\r\n      }\r\n\r\n      return sb.toString();\r\n    }\r\n\r\nHere&#39;s the output on a `new ObjectMapper()` (Jackson 2.13.2):\r\n\r\n    Modules:\r\n      -none-\r\n\r\n    Serialization Features:\r\n      WRAP_ROOT_VALUE -&gt; false\r\n      INDENT_OUTPUT -&gt; false\r\n      FAIL_ON_EMPTY_BEANS -&gt; true (enabled by default)\r\n      FAIL_ON_SELF_REFERENCES -&gt; true (enabled by default)\r\n      WRAP_EXCEPTIONS -&gt; true (enabled by default)\r\n      FAIL_ON_UNWRAPPED_TYPE_IDENTIFIERS -&gt; true (enabled by default)\r\n      WRITE_SELF_REFERENCES_AS_NULL -&gt; false\r\n      CLOSE_CLOSEABLE -&gt; false\r\n      FLUSH_AFTER_WRITE_VALUE -&gt; true (enabled by default)\r\n      WRITE_DATES_AS_TIMESTAMPS -&gt; true (enabled by default)\r\n      WRITE_DATE_KEYS_AS_TIMESTAMPS -&gt; false\r\n      WRITE_DATES_WITH_ZONE_ID -&gt; false\r\n      WRITE_DATES_WITH_CONTEXT_TIME_ZONE -&gt; true (enabled by default)\r\n      WRITE_DURATIONS_AS_TIMESTAMPS -&gt; true (enabled by default)\r\n      WRITE_CHAR_ARRAYS_AS_JSON_ARRAYS -&gt; false\r\n      WRITE_ENUMS_USING_TO_STRING -&gt; false\r\n      WRITE_ENUMS_USING_INDEX -&gt; false\r\n      WRITE_ENUM_KEYS_USING_INDEX -&gt; false\r\n      WRITE_NULL_MAP_VALUES -&gt; true (enabled by default)\r\n      WRITE_EMPTY_JSON_ARRAYS -&gt; true (enabled by default)\r\n      WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED -&gt; false\r\n      WRITE_BIGDECIMAL_AS_PLAIN -&gt; false\r\n      WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS -&gt; true (enabled by default)\r\n      ORDER_MAP_ENTRIES_BY_KEYS -&gt; false\r\n      EAGER_SERIALIZER_FETCH -&gt; true (enabled by default)\r\n      USE_EQUALITY_FOR_OBJECT_ID -&gt; false\r\n\r\n    Deserialization Features:\r\n      USE_BIG_DECIMAL_FOR_FLOATS -&gt; false\r\n      USE_BIG_INTEGER_FOR_INTS -&gt; false\r\n      USE_LONG_FOR_INTS -&gt; false\r\n      USE_JAVA_ARRAY_FOR_JSON_ARRAY -&gt; false\r\n      FAIL_ON_UNKNOWN_PROPERTIES -&gt; true (enabled by default)\r\n      FAIL_ON_NULL_FOR_PRIMITIVES -&gt; false\r\n      FAIL_ON_NUMBERS_FOR_ENUMS -&gt; false\r\n      FAIL_ON_INVALID_SUBTYPE -&gt; true (enabled by default)\r\n      FAIL_ON_READING_DUP_TREE_KEY -&gt; false\r\n      FAIL_ON_IGNORED_PROPERTIES -&gt; false\r\n      FAIL_ON_UNRESOLVED_OBJECT_IDS -&gt; true (enabled by default)\r\n      FAIL_ON_MISSING_CREATOR_PROPERTIES -&gt; false\r\n      FAIL_ON_NULL_CREATOR_PROPERTIES -&gt; false\r\n      FAIL_ON_MISSING_EXTERNAL_TYPE_ID_PROPERTY -&gt; true (enabled by default)\r\n      FAIL_ON_TRAILING_TOKENS -&gt; false\r\n      WRAP_EXCEPTIONS -&gt; true (enabled by default)\r\n      ACCEPT_SINGLE_VALUE_AS_ARRAY -&gt; false\r\n      UNWRAP_SINGLE_VALUE_ARRAYS -&gt; false\r\n      UNWRAP_ROOT_VALUE -&gt; false\r\n      ACCEPT_EMPTY_STRING_AS_NULL_OBJECT -&gt; false\r\n      ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT -&gt; false\r\n      ACCEPT_FLOAT_AS_INT -&gt; true (enabled by default)\r\n      READ_ENUMS_USING_TO_STRING -&gt; false\r\n      READ_UNKNOWN_ENUM_VALUES_AS_NULL -&gt; false\r\n      READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE -&gt; false\r\n      READ_DATE_TIMESTAMPS_AS_NANOSECONDS -&gt; true (enabled by default)\r\n      ADJUST_DATES_TO_CONTEXT_TIME_ZONE -&gt; true (enabled by default)\r\n      EAGER_DESERIALIZER_FETCH -&gt; true (enabled by default)","title":"Display Jackson ObjectMapper configuration","body":"<p>I ended up creating a simple utility method to return a String showing an <code>ObjectMapper</code>'s modules and features:</p>\n<pre><code>public static String getConfigDetails(ObjectMapper mapper) {\n  StringBuilder sb = new StringBuilder();\n\n  sb.append(&quot;Modules:\\n&quot;);\n  if (mapper.getRegisteredModuleIds().isEmpty()) {\n    sb.append(&quot;\\t&quot;).append(&quot;-none-&quot;).append(&quot;\\n&quot;);\n  }\n  for (Object m : mapper.getRegisteredModuleIds()) {\n    sb.append(&quot;  &quot;).append(m).append(&quot;\\n&quot;);\n  }\n\n  sb.append(&quot;\\nSerialization Features:\\n&quot;);\n  for (SerializationFeature f : SerializationFeature.values()) {\n    sb.append(&quot;\\t&quot;).append(f).append(&quot; -&gt; &quot;).append(mapper.getSerializationConfig().hasSerializationFeatures(f.getMask()));\n    if (f.enabledByDefault()) {\n      sb.append(&quot; (enabled by default)&quot;);\n    }\n    sb.append(&quot;\\n&quot;);\n  }\n\n  sb.append(&quot;\\nDeserialization Features:\\n&quot;);\n  for (DeserializationFeature f : DeserializationFeature.values()) {\n    sb.append(&quot;\\t&quot;).append(f).append(&quot; -&gt; &quot;).append(mapper.getDeserializationConfig().hasDeserializationFeatures(f.getMask()));\n    if (f.enabledByDefault()) {\n      sb.append(&quot; (enabled by default)&quot;);\n    }\n    sb.append(&quot;\\n&quot;);\n  }\n\n  return sb.toString();\n}\n</code></pre>\n<p>Here's the output on a <code>new ObjectMapper()</code> (Jackson 2.13.2):</p>\n<pre><code>Modules:\n  -none-\n\nSerialization Features:\n  WRAP_ROOT_VALUE -&gt; false\n  INDENT_OUTPUT -&gt; false\n  FAIL_ON_EMPTY_BEANS -&gt; true (enabled by default)\n  FAIL_ON_SELF_REFERENCES -&gt; true (enabled by default)\n  WRAP_EXCEPTIONS -&gt; true (enabled by default)\n  FAIL_ON_UNWRAPPED_TYPE_IDENTIFIERS -&gt; true (enabled by default)\n  WRITE_SELF_REFERENCES_AS_NULL -&gt; false\n  CLOSE_CLOSEABLE -&gt; false\n  FLUSH_AFTER_WRITE_VALUE -&gt; true (enabled by default)\n  WRITE_DATES_AS_TIMESTAMPS -&gt; true (enabled by default)\n  WRITE_DATE_KEYS_AS_TIMESTAMPS -&gt; false\n  WRITE_DATES_WITH_ZONE_ID -&gt; false\n  WRITE_DATES_WITH_CONTEXT_TIME_ZONE -&gt; true (enabled by default)\n  WRITE_DURATIONS_AS_TIMESTAMPS -&gt; true (enabled by default)\n  WRITE_CHAR_ARRAYS_AS_JSON_ARRAYS -&gt; false\n  WRITE_ENUMS_USING_TO_STRING -&gt; false\n  WRITE_ENUMS_USING_INDEX -&gt; false\n  WRITE_ENUM_KEYS_USING_INDEX -&gt; false\n  WRITE_NULL_MAP_VALUES -&gt; true (enabled by default)\n  WRITE_EMPTY_JSON_ARRAYS -&gt; true (enabled by default)\n  WRITE_SINGLE_ELEM_ARRAYS_UNWRAPPED -&gt; false\n  WRITE_BIGDECIMAL_AS_PLAIN -&gt; false\n  WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS -&gt; true (enabled by default)\n  ORDER_MAP_ENTRIES_BY_KEYS -&gt; false\n  EAGER_SERIALIZER_FETCH -&gt; true (enabled by default)\n  USE_EQUALITY_FOR_OBJECT_ID -&gt; false\n\nDeserialization Features:\n  USE_BIG_DECIMAL_FOR_FLOATS -&gt; false\n  USE_BIG_INTEGER_FOR_INTS -&gt; false\n  USE_LONG_FOR_INTS -&gt; false\n  USE_JAVA_ARRAY_FOR_JSON_ARRAY -&gt; false\n  FAIL_ON_UNKNOWN_PROPERTIES -&gt; true (enabled by default)\n  FAIL_ON_NULL_FOR_PRIMITIVES -&gt; false\n  FAIL_ON_NUMBERS_FOR_ENUMS -&gt; false\n  FAIL_ON_INVALID_SUBTYPE -&gt; true (enabled by default)\n  FAIL_ON_READING_DUP_TREE_KEY -&gt; false\n  FAIL_ON_IGNORED_PROPERTIES -&gt; false\n  FAIL_ON_UNRESOLVED_OBJECT_IDS -&gt; true (enabled by default)\n  FAIL_ON_MISSING_CREATOR_PROPERTIES -&gt; false\n  FAIL_ON_NULL_CREATOR_PROPERTIES -&gt; false\n  FAIL_ON_MISSING_EXTERNAL_TYPE_ID_PROPERTY -&gt; true (enabled by default)\n  FAIL_ON_TRAILING_TOKENS -&gt; false\n  WRAP_EXCEPTIONS -&gt; true (enabled by default)\n  ACCEPT_SINGLE_VALUE_AS_ARRAY -&gt; false\n  UNWRAP_SINGLE_VALUE_ARRAYS -&gt; false\n  UNWRAP_ROOT_VALUE -&gt; false\n  ACCEPT_EMPTY_STRING_AS_NULL_OBJECT -&gt; false\n  ACCEPT_EMPTY_ARRAY_AS_NULL_OBJECT -&gt; false\n  ACCEPT_FLOAT_AS_INT -&gt; true (enabled by default)\n  READ_ENUMS_USING_TO_STRING -&gt; false\n  READ_UNKNOWN_ENUM_VALUES_AS_NULL -&gt; false\n  READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE -&gt; false\n  READ_DATE_TIMESTAMPS_AS_NANOSECONDS -&gt; true (enabled by default)\n  ADJUST_DATES_TO_CONTEXT_TIME_ZONE -&gt; true (enabled by default)\n  EAGER_DESERIALIZER_FETCH -&gt; true (enabled by default)\n</code></pre>\n"}],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1867,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650650653,"creation_date":1649861098,"question_id":71859479,"body_markdown":"Before I invest energy building a utility to interrogate an `ObjectMapper` to output its configuration via methods like:\r\n\r\n    objectMapper.getRegisteredModuleIds();\r\n    objectMapper.getDeserializationConfig().hasDeserializationFeatures(...);\r\n    objectMapper.getSerializationConfig().hasSerializationFeatures(...);\r\n\r\n\r\nI&#39;d like to know if there&#39;s already some way (in Jackson itself or an existing utility) to output the configuration of a given `ObjectMapper`?  For example, if an `ObjectMapper` is setup like so:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.registerModule(new JavaTimeModule());\r\n    mapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n    mapper.enable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL);\r\n    mapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n\r\nI&#39;d like to, after the fact, examine the `ObjectMapper` and know exactly how it was configured.\r\n\r\n","title":"Display Jackson ObjectMapper configuration","body":"<p>Before I invest energy building a utility to interrogate an <code>ObjectMapper</code> to output its configuration via methods like:</p>\n<pre><code>objectMapper.getRegisteredModuleIds();\nobjectMapper.getDeserializationConfig().hasDeserializationFeatures(...);\nobjectMapper.getSerializationConfig().hasSerializationFeatures(...);\n</code></pre>\n<p>I'd like to know if there's already some way (in Jackson itself or an existing utility) to output the configuration of a given <code>ObjectMapper</code>?  For example, if an <code>ObjectMapper</code> is setup like so:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.registerModule(new JavaTimeModule());\nmapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\nmapper.enable(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL);\nmapper.disable(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n</code></pre>\n<p>I'd like to, after the fact, examine the <code>ObjectMapper</code> and know exactly how it was configured.</p>\n"},{"tags":["java","or-tools","constraint-programming"],"answers":[{"tags":[],"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650602080,"creation_date":1650602080,"answer_id":71963515,"question_id":71962117,"body_markdown":"Imagine you have a condition `cond` between two integer variables and a resulting constraint `ct`, and you want to enforce `cond implies ct`.\r\n\r\nThe best method is to create a Boolean variable `cond_is_true`, then link it to both `ct` and `cond`.\r\n\r\n```\r\n    Literal condIsTrue = model.newBoolVar(&quot;condIsTrue&quot;);\r\n    model.add(cond).onlyEnforceIf(condIsTrue);\r\n    model.add(negation_of_cond).onlyEnforceIf(condIsTrue.not());\r\n    model.add(ct).onlyEnforceIf(condIsTrue);\r\n```\r\n\r\nSee [this channeling documentation page][1].\r\n\r\n\r\n  [1]: https://github.com/google/or-tools/blob/stable/ortools/sat/docs/channeling.md","title":"Impose Constraint on CpModel only when some relation between IntVars is true","body":"<p>Imagine you have a condition <code>cond</code> between two integer variables and a resulting constraint <code>ct</code>, and you want to enforce <code>cond implies ct</code>.</p>\n<p>The best method is to create a Boolean variable <code>cond_is_true</code>, then link it to both <code>ct</code> and <code>cond</code>.</p>\n<pre><code>    Literal condIsTrue = model.newBoolVar(&quot;condIsTrue&quot;);\n    model.add(cond).onlyEnforceIf(condIsTrue);\n    model.add(negation_of_cond).onlyEnforceIf(condIsTrue.not());\n    model.add(ct).onlyEnforceIf(condIsTrue);\n</code></pre>\n<p>See <a href=\"https://github.com/google/or-tools/blob/stable/ortools/sat/docs/channeling.md\" rel=\"nofollow noreferrer\">this channeling documentation page</a>.</p>\n"}],"owner":{"account_id":11730654,"reputation":53,"user_id":8586262,"display_name":"mgupta2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71963515,"answer_count":1,"score":1,"last_activity_date":1650650635,"creation_date":1650586527,"question_id":71962117,"body_markdown":"**tl;dr**: I&#39;m using Google OR-Tools in Java. I want to add a conditional constraint to a ```CpModel``` depending on whether clause involving ```IntVar``` variables are true. Basically, something like\r\n```\r\nCpModel model = new CpModel;\r\nList&lt;Literal&gt; workers = getActiveWorkers();\r\nIntVar startTimeVar = model.newIntVar(0, 100, &quot;start&quot;);\r\nint currentTime = getCurrentTime(); //guaranteed to be &lt; 100, say.\r\nIntVar currentTimeVar = model.newConstant(currentTime);\r\n// What I&#39;d want to write but can&#39;t\r\nmodel.addExactlyOne(workers).onlyEnforceIf(currentTimeVar &gt;= startTimeVar);\r\n```\r\n\r\nTo replace ```&quot;currentTime &gt;= startTime&quot;```, I&#39;d maybe want something like ```model.addGreaterOrEqual(currentTimeVar, startTimeVar)```, but this returns (and adds to the model) a ```Constraint```, not a ```Literal``` . (I know the parameter type of ```onlyEnforceIf``` is ```Literal[]```). What can I do instead?\r\n\r\n**More Context:** I&#39;m trying to generalize the [Employee Schedule][1] and [Job Shop Scheduling][2] examples on the OR Tools site. I have *J* jobs, each with some duration called *j.duration*, to be assigned to *W* workers. There are two main constraints:\r\n1. Each job must have a unique worker, and;\r\n2. Workers can have at most one job at a time.\r\n\r\nI want to minimize the makespan, which is bounded above by *T* = (the sum of all job durations). My issue is, to enforce constraint (1), I need to enforce that for each job *j*, there is one worker assigned *only for* the times *t* satisfying *j.start &lt;= t &lt; j.end*.\r\n\r\nMy code is very similar to the two examples I linked. Like the Employee Schedule example, I keep track of an assignment array *assignment[w][j][t]* of boolean literals, representing if worker *w* is on job *j* at time *t*.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        class Job {\r\n            int duration;\r\n            String name;\r\n        }\r\n        class JobVariable {\r\n            IntVar start, end;\r\n            IntervalVar duration;\r\n        }\r\n        Loader.loadNativeLibraries();\r\n        List&lt;Job&gt; jobs = getJobData();\r\n\r\n        final int numJobs = jobs.size();\r\n        final int numWorkers = 3;\r\n        final int timeUpperBound = items.stream().mapToInt(j -&gt; j.duration).sum();\r\n\r\n        CpModel model = new CpModel();\r\n\r\n        //Initialize assignments array.\r\n        Literal[][][] assignments = new Literal[numWorkers][numJobs][timeUpperBound];\r\n        for(int w = 0; w &lt; numWorkers; w++){\r\n            for(int j = 0; j &lt; numJobs; j++){\r\n                for(int t = 0; t &lt; timeUpperBound; t++){\r\n                    assignments[w][j][t] = model.newBoolVar(&quot;Worker&quot;+w+&quot;Job&quot;+j+&quot;Time&quot;+t);\r\n                }\r\n            }\r\n        }\r\n\r\n        //Initialize IntVars and IntervalVar for each job\r\n        Map&lt;Job, JobVariable&gt; jobToVariable = new HashMap&lt;&gt;();\r\n        for(Job job : jobs){\r\n            JobVariable jobVar = new JobVariable();\r\n            jobVar.start = model.newIntVar(0, timeUpperBound, &quot;start:&quot; + job.name);\r\n            jobVar.end = model.newIntVar(0, timeUpperBound, &quot;end:&quot; + job.name);\r\n            jobVar.duration = model.newIntervalVar(jobVar.start, \r\n            LinearExpr.constant(job.duration), jobVar.end, &quot;interval:&quot; + job.name);\r\n            jobToVariable.put(job, jobVar);\r\n        }\r\n        eachWorkerHasAtMostOneTaskAtATime(assignments, numWorkers, numJobs, timeUpperBound, model);\r\n\r\n        eachTaskHasUniqueWorker(assignments, numWorkers, numJobs, timeUpperBound, model, jobToVariable);\r\n\r\n        //Solve model...\r\n        CpSolver solver = new CpSolver();\r\n        CpSolverStatus status = solver.solve(model);\r\n    }\r\n```\r\nThe method ```eachWorkerHasAtMostOneTaskAtATime``` looks just like the sample code, &quot;summing&quot; across workers for each job and time, and is identical to a snippet in the [Employee Scheduling][1] link. The other method is where my problem arises - I need to ensure that (a) each job has one worker while it is active, and (b) the same worker handles the job while it is active. The mathematical constraints for these are in the commented in the code snippet below:\r\n```\r\npublic static void eachJobHasUniqueWorker(Literal[][][] assignments,\r\n                                             int numWorkers,\r\n                                             int numJobs,\r\n                                             int timeUpperBound,\r\n                                             CpModel model,\r\n                                             Map&lt;Job, JobVariable&gt; jobToVariable,\r\n                                             List&lt;Job&gt; jobs){\r\n        // Constraint (a): \r\n        // for all jobs j,\r\n        //  and for all time t where j.start &lt;= t &lt; j.end,\r\n        //   ensure that exactly one worker is assigned to job j.\r\n\r\n        for(int j = 0; j &lt; numJobs; j++){\r\n            JobVariable jobVariable = jobToVariable.get(jobs.get(j));\r\n            for(int t = 0; t &lt; timeUpperBound; t++){\r\n                Literal timeInJobInterval = model.newBoolVar(&quot;time_&quot;+t+&quot;job_&quot;+j);\r\n                \r\n                //tie the value of timeInJobInterval\r\n                //to something reflecting j.start &lt;= t &lt; j.end\r\n                model.AddBoolAnd(timeInJobInterval, SOMETHING GOES HERE?)\r\n\r\n                List&lt;Literal&gt; workers = new ArrayList&lt;&gt;();\r\n                for(int w = 0; w &lt; numWorkers; w++){\r\n                    workers.add(assignments[w][j][t]);\r\n                }\r\n \r\n                model.addExactlyOne(workers).onlyEnforceIf(timeInJobInterval);\r\n            }\r\n        }\r\n\r\n        // Constraint (b):\r\n        // for all jobs j,\r\n        //  if assignment[w][j][t] == 1 and t &lt; j.end - 1,\r\n        //   then assignment[w][j][t+1] == 1\r\n        for(int j = 0; j &lt; numJobs; j++){\r\n            for(int t = 0; t &lt; timeUpperBound; t++){\r\n                for(int w = 0; w &lt; numWorkers; w++){\r\n                    Literal timeStrictlyBeforeStepEnd = model.newBoolVar(&quot;time&quot;+t+&quot;job&quot;+j);\r\n                    // again, tie the above value to\r\n                    // the condition t &lt; j.end - 1\r\n                    model.addBoolAnd(timeStrictlyBeforeStepEnd, SOMETHING HERE);\r\n                    model.addImplication(assignments[w][j][t], assignments[w][j][t+1]).onlyEnforceIf(timeStrictlyBeforeStepEnd);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nAs indicated, I want the ```timeInJobInterval``` Literal to reflect if the index *t* lies in the Job&#39;s range - if it does then I&#39;m set, but I don&#39;t see how to ensure that. The approach outlined in the tl;dr doesn&#39;t work either.\r\n\r\nAny help would be appreciated. Also, if you notice a cleaner approach than the one I&#39;ve outlined, please let me know.\r\n\r\n  [1]: https://developers.google.com/optimization/scheduling/employee_scheduling\r\n  [2]: https://developers.google.com/optimization/scheduling/job_shop","title":"Impose Constraint on CpModel only when some relation between IntVars is true","body":"<p><strong>tl;dr</strong>: I'm using Google OR-Tools in Java. I want to add a conditional constraint to a <code>CpModel</code> depending on whether clause involving <code>IntVar</code> variables are true. Basically, something like</p>\n<pre><code>CpModel model = new CpModel;\nList&lt;Literal&gt; workers = getActiveWorkers();\nIntVar startTimeVar = model.newIntVar(0, 100, &quot;start&quot;);\nint currentTime = getCurrentTime(); //guaranteed to be &lt; 100, say.\nIntVar currentTimeVar = model.newConstant(currentTime);\n// What I'd want to write but can't\nmodel.addExactlyOne(workers).onlyEnforceIf(currentTimeVar &gt;= startTimeVar);\n</code></pre>\n<p>To replace <code>&quot;currentTime &gt;= startTime&quot;</code>, I'd maybe want something like <code>model.addGreaterOrEqual(currentTimeVar, startTimeVar)</code>, but this returns (and adds to the model) a <code>Constraint</code>, not a <code>Literal</code> . (I know the parameter type of <code>onlyEnforceIf</code> is <code>Literal[]</code>). What can I do instead?</p>\n<p><strong>More Context:</strong> I'm trying to generalize the <a href=\"https://developers.google.com/optimization/scheduling/employee_scheduling\" rel=\"nofollow noreferrer\">Employee Schedule</a> and <a href=\"https://developers.google.com/optimization/scheduling/job_shop\" rel=\"nofollow noreferrer\">Job Shop Scheduling</a> examples on the OR Tools site. I have <em>J</em> jobs, each with some duration called <em>j.duration</em>, to be assigned to <em>W</em> workers. There are two main constraints:</p>\n<ol>\n<li>Each job must have a unique worker, and;</li>\n<li>Workers can have at most one job at a time.</li>\n</ol>\n<p>I want to minimize the makespan, which is bounded above by <em>T</em> = (the sum of all job durations). My issue is, to enforce constraint (1), I need to enforce that for each job <em>j</em>, there is one worker assigned <em>only for</em> the times <em>t</em> satisfying <em>j.start &lt;= t &lt; j.end</em>.</p>\n<p>My code is very similar to the two examples I linked. Like the Employee Schedule example, I keep track of an assignment array <em>assignment[w][j][t]</em> of boolean literals, representing if worker <em>w</em> is on job <em>j</em> at time <em>t</em>.</p>\n<pre><code>public static void main(String[] args) {\n        class Job {\n            int duration;\n            String name;\n        }\n        class JobVariable {\n            IntVar start, end;\n            IntervalVar duration;\n        }\n        Loader.loadNativeLibraries();\n        List&lt;Job&gt; jobs = getJobData();\n\n        final int numJobs = jobs.size();\n        final int numWorkers = 3;\n        final int timeUpperBound = items.stream().mapToInt(j -&gt; j.duration).sum();\n\n        CpModel model = new CpModel();\n\n        //Initialize assignments array.\n        Literal[][][] assignments = new Literal[numWorkers][numJobs][timeUpperBound];\n        for(int w = 0; w &lt; numWorkers; w++){\n            for(int j = 0; j &lt; numJobs; j++){\n                for(int t = 0; t &lt; timeUpperBound; t++){\n                    assignments[w][j][t] = model.newBoolVar(&quot;Worker&quot;+w+&quot;Job&quot;+j+&quot;Time&quot;+t);\n                }\n            }\n        }\n\n        //Initialize IntVars and IntervalVar for each job\n        Map&lt;Job, JobVariable&gt; jobToVariable = new HashMap&lt;&gt;();\n        for(Job job : jobs){\n            JobVariable jobVar = new JobVariable();\n            jobVar.start = model.newIntVar(0, timeUpperBound, &quot;start:&quot; + job.name);\n            jobVar.end = model.newIntVar(0, timeUpperBound, &quot;end:&quot; + job.name);\n            jobVar.duration = model.newIntervalVar(jobVar.start, \n            LinearExpr.constant(job.duration), jobVar.end, &quot;interval:&quot; + job.name);\n            jobToVariable.put(job, jobVar);\n        }\n        eachWorkerHasAtMostOneTaskAtATime(assignments, numWorkers, numJobs, timeUpperBound, model);\n\n        eachTaskHasUniqueWorker(assignments, numWorkers, numJobs, timeUpperBound, model, jobToVariable);\n\n        //Solve model...\n        CpSolver solver = new CpSolver();\n        CpSolverStatus status = solver.solve(model);\n    }\n</code></pre>\n<p>The method <code>eachWorkerHasAtMostOneTaskAtATime</code> looks just like the sample code, &quot;summing&quot; across workers for each job and time, and is identical to a snippet in the <a href=\"https://developers.google.com/optimization/scheduling/employee_scheduling\" rel=\"nofollow noreferrer\">Employee Scheduling</a> link. The other method is where my problem arises - I need to ensure that (a) each job has one worker while it is active, and (b) the same worker handles the job while it is active. The mathematical constraints for these are in the commented in the code snippet below:</p>\n<pre><code>public static void eachJobHasUniqueWorker(Literal[][][] assignments,\n                                             int numWorkers,\n                                             int numJobs,\n                                             int timeUpperBound,\n                                             CpModel model,\n                                             Map&lt;Job, JobVariable&gt; jobToVariable,\n                                             List&lt;Job&gt; jobs){\n        // Constraint (a): \n        // for all jobs j,\n        //  and for all time t where j.start &lt;= t &lt; j.end,\n        //   ensure that exactly one worker is assigned to job j.\n\n        for(int j = 0; j &lt; numJobs; j++){\n            JobVariable jobVariable = jobToVariable.get(jobs.get(j));\n            for(int t = 0; t &lt; timeUpperBound; t++){\n                Literal timeInJobInterval = model.newBoolVar(&quot;time_&quot;+t+&quot;job_&quot;+j);\n                \n                //tie the value of timeInJobInterval\n                //to something reflecting j.start &lt;= t &lt; j.end\n                model.AddBoolAnd(timeInJobInterval, SOMETHING GOES HERE?)\n\n                List&lt;Literal&gt; workers = new ArrayList&lt;&gt;();\n                for(int w = 0; w &lt; numWorkers; w++){\n                    workers.add(assignments[w][j][t]);\n                }\n \n                model.addExactlyOne(workers).onlyEnforceIf(timeInJobInterval);\n            }\n        }\n\n        // Constraint (b):\n        // for all jobs j,\n        //  if assignment[w][j][t] == 1 and t &lt; j.end - 1,\n        //   then assignment[w][j][t+1] == 1\n        for(int j = 0; j &lt; numJobs; j++){\n            for(int t = 0; t &lt; timeUpperBound; t++){\n                for(int w = 0; w &lt; numWorkers; w++){\n                    Literal timeStrictlyBeforeStepEnd = model.newBoolVar(&quot;time&quot;+t+&quot;job&quot;+j);\n                    // again, tie the above value to\n                    // the condition t &lt; j.end - 1\n                    model.addBoolAnd(timeStrictlyBeforeStepEnd, SOMETHING HERE);\n                    model.addImplication(assignments[w][j][t], assignments[w][j][t+1]).onlyEnforceIf(timeStrictlyBeforeStepEnd);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>As indicated, I want the <code>timeInJobInterval</code> Literal to reflect if the index <em>t</em> lies in the Job's range - if it does then I'm set, but I don't see how to ensure that. The approach outlined in the tl;dr doesn't work either.</p>\n<p>Any help would be appreciated. Also, if you notice a cleaner approach than the one I've outlined, please let me know.</p>\n"},{"tags":["java","mongodb","mongodb-query","aggregation-framework","spring-data-mongodb"],"comments":[{"owner":{"account_id":6282042,"reputation":8454,"user_id":4882692,"display_name":"Takis"},"score":2,"creation_date":1650651153,"post_id":71972867,"comment_id":127178134,"body_markdown":"commands that return cursors like `find/aggregate` is not good idea to use them with `runCommand`. The reason is that you will have to call `getMore` commands to get the rest of the documents. I think you should just use the find/aggregate method of your driver. For the projection maybe try  `{&quot;deptName&quot; : &quot;$department.deptName&quot;, &quot;department&quot; : &quot;$$REMOVE&quot;}`","body":"commands that return cursors like <code>find&#47;aggregate</code> is not good idea to use them with <code>runCommand</code>. The reason is that you will have to call <code>getMore</code> commands to get the rest of the documents. I think you should just use the find/aggregate method of your driver. For the projection maybe try  <code>{&quot;deptName&quot; : &quot;$department.deptName&quot;, &quot;department&quot; : &quot;$$REMOVE&quot;}</code>"},{"owner":{"account_id":1281523,"reputation":1546,"user_id":1235535,"accept_rate":71,"display_name":"Atul"},"score":0,"creation_date":1651091048,"post_id":71972867,"comment_id":127282994,"body_markdown":"It worked with aggregate query.","body":"It worked with aggregate query."}],"owner":{"account_id":1281523,"reputation":1546,"user_id":1235535,"accept_rate":71,"display_name":"Atul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650650171,"creation_date":1650650171,"question_id":71972867,"body_markdown":"I am trying to execute a MongoDB runCommand query and as an output I only want the value. Currently its returning nested attributes name too. \r\n\r\nSample matching record:\r\n\r\n    {\r\n       &quot;_id&quot;:&quot;123&quot;,\r\n       &quot;name&quot;: &quot;Emp1&quot;,\r\n       &quot;department&quot;: {\r\n          &quot;deptName&quot;:&quot;dept1&quot;,\r\n          &quot;type&quot;: &quot;xyz&quot;\r\n        }\r\n    }\r\n\r\nQuery I am trying:\r\n\r\n    db.employee.runCommand( {\r\n      find: db.employee.getName(),\r\n      filter: {&#39;name&#39;:&#39;Emp1&#39;,&#39;_id&#39;:&#39;123&#39;},\r\n      projection: {_id:0,&#39;department.deptName&#39;:1}\r\n    });\r\n\r\nQuery Response:\r\n\r\n    {\r\n    &quot;cursor&quot;: {\r\n        firstBatch&quot; : [\r\n          {\r\n             &quot;department&quot;:{\r\n                  &quot;deptName&quot;:&quot;dept1&quot;\r\n                }\r\n           }\r\n       ],\r\n       .\r\n       .\r\n       .\r\n       .\r\n    }\r\n\r\nIs there any way I can skip the parent name from attribute and get the department name directly like\r\n\r\n    &quot;firstBatch&quot; : [  {\r\n         &quot;deptName&quot;:&quot;dept1&quot;\r\n        }\r\n    ]\r\n\r\n\r\nAny pointers will be helpful.\r\n\r\nThanks.","title":"MongoDB runCommand value only","body":"<p>I am trying to execute a MongoDB runCommand query and as an output I only want the value. Currently its returning nested attributes name too.</p>\n<p>Sample matching record:</p>\n<pre><code>{\n   &quot;_id&quot;:&quot;123&quot;,\n   &quot;name&quot;: &quot;Emp1&quot;,\n   &quot;department&quot;: {\n      &quot;deptName&quot;:&quot;dept1&quot;,\n      &quot;type&quot;: &quot;xyz&quot;\n    }\n}\n</code></pre>\n<p>Query I am trying:</p>\n<pre><code>db.employee.runCommand( {\n  find: db.employee.getName(),\n  filter: {'name':'Emp1','_id':'123'},\n  projection: {_id:0,'department.deptName':1}\n});\n</code></pre>\n<p>Query Response:</p>\n<pre><code>{\n&quot;cursor&quot;: {\n    firstBatch&quot; : [\n      {\n         &quot;department&quot;:{\n              &quot;deptName&quot;:&quot;dept1&quot;\n            }\n       }\n   ],\n   .\n   .\n   .\n   .\n}\n</code></pre>\n<p>Is there any way I can skip the parent name from attribute and get the department name directly like</p>\n<pre><code>&quot;firstBatch&quot; : [  {\n     &quot;deptName&quot;:&quot;dept1&quot;\n    }\n]\n</code></pre>\n<p>Any pointers will be helpful.</p>\n<p>Thanks.</p>\n"},{"tags":["java","exe","processbuilder"],"comments":[{"owner":{"account_id":277279,"reputation":62850,"user_id":571189,"display_name":"Prince John Wesley"},"score":1,"creation_date":1302348260,"post_id":5604698,"comment_id":6382107,"body_markdown":"new ProcessBuilder(&quot;C:\\\\PathToExe\\\\MyExe.exe&quot;,&quot;param1&quot;,&quot;param2&quot;).start();","body":"new ProcessBuilder(&quot;C:\\\\PathToExe\\\\MyExe.exe&quot;,&quot;param1&quot;,&quot;param2&quot;)&zwnj;&#8203;.start();"},{"owner":{"account_id":89657,"reputation":18436,"user_id":247221,"accept_rate":75,"display_name":"Paweł Dyda"},"score":2,"creation_date":1302348304,"post_id":5604698,"comment_id":6382111,"body_markdown":"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html","body":"<a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">download.oracle.com/javase/6/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":82391,"reputation":33296,"user_id":231684,"accept_rate":93,"display_name":"Lorenzo B"},"score":1,"creation_date":1302352077,"post_id":5604698,"comment_id":6382455,"body_markdown":"`new ProcessBuilder(&quot;C:\\\\PathToExe\\\\MyExe.exe&quot;,&quot;param1&quot;,&quot;param2&quot;).start();` Is this snippet valuable for option arguments? For example -h that stands for help and so on..","body":"<code>new ProcessBuilder(&quot;C:\\\\PathToExe\\\\MyExe.exe&quot;,&quot;param1&quot;,&quot;param2&quot;)&zwnj;&#8203;.start();</code> Is this snippet valuable for option arguments? For example -h that stands for help and so on.."},{"owner":{"account_id":82391,"reputation":33296,"user_id":231684,"accept_rate":93,"display_name":"Lorenzo B"},"score":0,"creation_date":1302352134,"post_id":5604698,"comment_id":6382464,"body_markdown":"what about paths with blank spaces? Thank you again. Very helpful!!","body":"what about paths with blank spaces? Thank you again. Very helpful!!"},{"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":3,"creation_date":1302352883,"post_id":5604698,"comment_id":6382540,"body_markdown":"@Flex: An argument is an argument. The *meaning* of the argument is entirely up to the program being run. One program could interpret `-h` to be an option, another could interpret it as a filename. `ProcessBuilder` neither knows nor cares. Re paths with spaces: That&#39;s one of the reasons that arguments are given as discrete strings rather than as (say) a space-delimited list as on the command-line and in some poor APIs. Throw spaces in there with abandon, the whole program path will be given to the OS to treat as appropriate.","body":"@Flex: An argument is an argument. The <i>meaning</i> of the argument is entirely up to the program being run. One program could interpret <code>-h</code> to be an option, another could interpret it as a filename. <code>ProcessBuilder</code> neither knows nor cares. Re paths with spaces: That&#39;s one of the reasons that arguments are given as discrete strings rather than as (say) a space-delimited list as on the command-line and in some poor APIs. Throw spaces in there with abandon, the whole program path will be given to the OS to treat as appropriate."}],"answers":[{"tags":[],"owner":{"account_id":52616,"reputation":1042915,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1302348349,"creation_date":1302348349,"answer_id":5604719,"question_id":5604698,"body_markdown":"You&#39;re on the right track. The [two][1] [constructors][2] accept arguments, or you can specify them post-construction with [`ProcessBuilder#command(java.util.List)`][3] and [`ProcessBuilder#command(String...)`][4].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#ProcessBuilder%28java.util.List%29\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#ProcessBuilder%28java.lang.String...%29\r\n  [3]: http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#command%28java.util.List%29\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#command%28java.lang.String...%29","title":"Call an executable and pass parameters","body":"<p>You're on the right track. The <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#ProcessBuilder%28java.util.List%29\">two</a> <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#ProcessBuilder%28java.lang.String...%29\">constructors</a> accept arguments, or you can specify them post-construction with <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#command%28java.util.List%29\"><code>ProcessBuilder#command(java.util.List)</code></a> and <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html#command%28java.lang.String...%29\"><code>ProcessBuilder#command(String...)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":277279,"reputation":62850,"user_id":571189,"display_name":"Prince John Wesley"},"down_vote_count":1,"up_vote_count":125,"is_accepted":true,"score":124,"last_activity_date":1302348670,"creation_date":1302348670,"answer_id":5604756,"question_id":5604698,"body_markdown":"Pass your arguments in  constructor itself.\r\n\r\n    Process process = new ProcessBuilder(&quot;C:\\\\PathToExe\\\\MyExe.exe&quot;,&quot;param1&quot;,&quot;param2&quot;).start();","title":"Call an executable and pass parameters","body":"<p>Pass your arguments in  constructor itself.</p>\n\n<pre><code>Process process = new ProcessBuilder(\"C:\\\\PathToExe\\\\MyExe.exe\",\"param1\",\"param2\").start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9194391,"reputation":19,"user_id":6833639,"display_name":"Shikha Chauhan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1473914391,"creation_date":1473913436,"answer_id":39503086,"question_id":5604698,"body_markdown":"\timport java.io.IOException;\r\n\timport java.lang.ProcessBuilder;\r\n\t \r\n\tpublic class handlingexe {\r\n\t\tpublic static void main(String[] args) throws IOException {\r\n\t\t\tProcessBuilder p = new ProcessBuilder();\r\n\t\t\tSystem.out.println(&quot;Started EXE&quot;);\r\n\t\t\tp.command(&quot;C:\\\\Users\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe&quot;);   \r\n\t\t\t  \r\n\t\t\tp.start();\r\n\t\t\tSystem.out.println(&quot;Started EXE&quot;); \r\n\t\t}\r\n\t}","title":"Call an executable and pass parameters","body":"<pre><code>import java.io.IOException;\nimport java.lang.ProcessBuilder;\n\npublic class handlingexe {\n    public static void main(String[] args) throws IOException {\n        ProcessBuilder p = new ProcessBuilder();\n        System.out.println(\"Started EXE\");\n        p.command(\"C:\\\\Users\\\\AppData\\\\Local\\\\Google\\\\Chrome\\\\Application\\\\chrome.exe\");   \n\n        p.start();\n        System.out.println(\"Started EXE\"); \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3759314,"reputation":1,"user_id":3124811,"display_name":"user3124811"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475826384,"creation_date":1475826384,"answer_id":39912074,"question_id":5604698,"body_markdown":"Below works for me if your exe depend on some dll or certain dependency then you need to set directory path. \r\nAs mention below exePath mean folder where exe placed along with it&#39;s references files.\r\n\r\nExe application creating any temporaray file so it will create in folder mention in processBuilder.directory(...) \r\n\r\n**\r\n\r\n    ProcessBuilder processBuilder = new ProcessBuilder(arguments);\r\n    processBuilder.redirectOutput(Redirect.PIPE);\r\n    processBuilder.directory(new File(exePath));\r\n    process = processBuilder.start();\r\n    int waitFlag = process.waitFor();// Wait to finish application execution.\r\n    if (waitFlag == 0) {\r\n    ...\r\n     int returnVal = process.exitValue();\r\n    } \r\n\r\n**\r\n\r\n","title":"Call an executable and pass parameters","body":"<p>Below works for me if your exe depend on some dll or certain dependency then you need to set directory path. \nAs mention below exePath mean folder where exe placed along with it's references files.</p>\n\n<p>Exe application creating any temporaray file so it will create in folder mention in processBuilder.directory(...) </p>\n\n<p>**</p>\n\n<pre><code>ProcessBuilder processBuilder = new ProcessBuilder(arguments);\nprocessBuilder.redirectOutput(Redirect.PIPE);\nprocessBuilder.directory(new File(exePath));\nprocess = processBuilder.start();\nint waitFlag = process.waitFor();// Wait to finish application execution.\nif (waitFlag == 0) {\n...\n int returnVal = process.exitValue();\n} \n</code></pre>\n\n<p>**</p>\n"},{"tags":[],"owner":{"account_id":2086827,"reputation":81,"user_id":1857611,"display_name":"connectoram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650649263,"creation_date":1650645367,"answer_id":71972019,"question_id":5604698,"body_markdown":"I built a utility for the same, very basic one.\r\n\r\n        public class CallOsExeUtil {\r\n                public static String call(String[] args) throws IOException, InterruptedException {\r\n                        ProcessBuilder processBuilder = new ProcessBuilder(args);\r\n                        Process process = processBuilder.start();\r\n                        int waitFlag = process.waitFor();// Wait to finish application execution.\r\n                        StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n                        if (waitFlag == 0) {\r\n                                if (process.exitValue()==0) {\r\n                                        System.out.println(&quot;This is me &quot; + process.info());\r\n\r\n                                        BufferedInputStream in = (BufferedInputStream) process.getInputStream();\r\n                                        byte[] contents = new byte[1024];\r\n\r\n                                        int bytesRead = 0;\r\n\r\n                                        while ((bytesRead = in.read(contents)) != -1) {\r\n                                                sb.append(new String(contents, 0, bytesRead));\r\n                                        }\r\n                                }\r\n\r\n                        }\r\n                        return sb.toString();\r\n                }\r\n        }\r\n\r\n\r\n\r\n","title":"Call an executable and pass parameters","body":"<p>I built a utility for the same, very basic one.</p>\n<pre><code>    public class CallOsExeUtil {\n            public static String call(String[] args) throws IOException, InterruptedException {\n                    ProcessBuilder processBuilder = new ProcessBuilder(args);\n                    Process process = processBuilder.start();\n                    int waitFlag = process.waitFor();// Wait to finish application execution.\n                    StringBuilder sb = new StringBuilder(&quot;&quot;);\n                    if (waitFlag == 0) {\n                            if (process.exitValue()==0) {\n                                    System.out.println(&quot;This is me &quot; + process.info());\n\n                                    BufferedInputStream in = (BufferedInputStream) process.getInputStream();\n                                    byte[] contents = new byte[1024];\n\n                                    int bytesRead = 0;\n\n                                    while ((bytesRead = in.read(contents)) != -1) {\n                                            sb.append(new String(contents, 0, bytesRead));\n                                    }\n                            }\n\n                    }\n                    return sb.toString();\n            }\n    }\n</code></pre>\n"}],"owner":{"account_id":82391,"reputation":33296,"user_id":231684,"accept_rate":93,"display_name":"Lorenzo B"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146548,"favorite_count":0,"down_vote_count":1,"up_vote_count":91,"accepted_answer_id":5604756,"answer_count":5,"score":90,"last_activity_date":1650649263,"creation_date":1302347992,"question_id":5604698,"body_markdown":"I&#39;m figuring out a mechanism to call an exe from Java and passing in specific parameters. How can I do?\r\n\r\n    Process process = new ProcessBuilder(&quot;C:\\\\PathToExe\\\\MyExe.exe&quot;).start();\r\n    InputStream is = process.getInputStream();\r\n    InputStreamReader isr = new InputStreamReader(is);\r\n    BufferedReader br = new BufferedReader(isr);\r\n    String line;\r\n    \r\n    System.out.printf(&quot;Output of running %s is:&quot;, Arrays.toString(args));\r\n    \r\n    while ((line = br.readLine()) != null) {\r\n      System.out.println(line);\r\n    }\r\n\r\nThe previous code works. **But I&#39;m not able to pass parameters in**. MyExe.exe accepts parameters. An other problem is when PathToExe has blank spaces. ProcessBuilder seems not working. For example:\r\n\r\n    C:\\\\User\\\\My applications\\\\MyExe.exe\r\n\r\nThank you.","title":"Call an executable and pass parameters","body":"<p>I'm figuring out a mechanism to call an exe from Java and passing in specific parameters. How can I do?</p>\n\n<pre><code>Process process = new ProcessBuilder(\"C:\\\\PathToExe\\\\MyExe.exe\").start();\nInputStream is = process.getInputStream();\nInputStreamReader isr = new InputStreamReader(is);\nBufferedReader br = new BufferedReader(isr);\nString line;\n\nSystem.out.printf(\"Output of running %s is:\", Arrays.toString(args));\n\nwhile ((line = br.readLine()) != null) {\n  System.out.println(line);\n}\n</code></pre>\n\n<p>The previous code works. <strong>But I'm not able to pass parameters in</strong>. MyExe.exe accepts parameters. An other problem is when PathToExe has blank spaces. ProcessBuilder seems not working. For example:</p>\n\n<pre><code>C:\\\\User\\\\My applications\\\\MyExe.exe\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":2305894,"reputation":3340,"user_id":2025187,"display_name":"Komal12"},"score":0,"creation_date":1488272279,"post_id":42504154,"comment_id":72146236,"body_markdown":"check create_user xml is present in res-&gt;menu folder","body":"check create_user xml is present in res-&gt;menu folder"},{"owner":{"account_id":10074091,"reputation":19,"user_id":7446804,"accept_rate":50,"display_name":"G&#246;khan Polat"},"score":0,"creation_date":1488272548,"post_id":42504154,"comment_id":72146400,"body_markdown":"[link](http://i.hizliresim.com/8MkgdW.png) Not directory","body":"<a href=\"http://i.hizliresim.com/8MkgdW.png\" rel=\"nofollow noreferrer\">link</a> Not directory"},{"owner":{"account_id":2305894,"reputation":3340,"user_id":2025187,"display_name":"Komal12"},"score":0,"creation_date":1488272855,"post_id":42504154,"comment_id":72146586,"body_markdown":"If you won’t to create menu then create menu folder in res and then create create_user  xml under menu folder.\nres-&gt;meun-&gt;create_user .xml","body":"If you won’t to create menu then create menu folder in res and then create create_user  xml under menu folder. res-&gt;meun-&gt;create_user .xml"},{"owner":{"account_id":9613247,"reputation":674,"user_id":7136932,"display_name":"Hamza"},"score":0,"creation_date":1488627662,"post_id":42504154,"comment_id":72322185,"body_markdown":"if there are issues like this always try cleaning and building the project and sync project with gradle files if they cant solve that error than you should ask it.","body":"if there are issues like this always try cleaning and building the project and sync project with gradle files if they cant solve that error than you should ask it."},{"owner":{"account_id":1003933,"reputation":3792,"user_id":1018154,"display_name":"CodeToLife"},"score":0,"creation_date":1554017520,"post_id":42504154,"comment_id":97594423,"body_markdown":"in File launch invalidate cash/restart","body":"in File launch invalidate cash/restart"}],"answers":[{"tags":[],"owner":{"account_id":2305894,"reputation":3340,"user_id":2025187,"display_name":"Komal12"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566829300,"creation_date":1488273095,"answer_id":42504479,"question_id":42504154,"body_markdown":"If you won’t to create menu then create menu folder in res and then create create_user xml under menu folder.\r\n\r\nres-&gt;menu-&gt;create_user.xml \r\n\r\ncreate_user.xml like this\r\n\r\n\t\t&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;\r\n\r\n\t\t\t&lt;item\r\n\t\t\t\tandroid:showAsAction=&quot;never&quot;\r\n\t\t\t\tandroid:title=&quot;@string/action_settings&quot;/&gt;\r\n\r\n\t\t&lt;/menu&gt;","title":"Android Studio R.menu error","body":"<p>If you won’t to create menu then create menu folder in res and then create create_user xml under menu folder.</p>\n\n<p>res->menu->create_user.xml </p>\n\n<p>create_user.xml like this</p>\n\n<pre><code>    &lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n\n        &lt;item\n            android:showAsAction=\"never\"\n            android:title=\"@string/action_settings\"/&gt;\n\n    &lt;/menu&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4203553,"reputation":406,"user_id":6527244,"display_name":"vijay chhalotre"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488273694,"creation_date":1488273694,"answer_id":42504694,"question_id":42504154,"body_markdown":"try to remove menu.xml (inside res folder) errors then clean and build... it will work..","title":"Android Studio R.menu error","body":"<p>try to remove menu.xml (inside res folder) errors then clean and build... it will work..</p>\n"},{"tags":[],"owner":{"account_id":4203553,"reputation":406,"user_id":6527244,"display_name":"vijay chhalotre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488274852,"creation_date":1488274852,"answer_id":42505141,"question_id":42504154,"body_markdown":"ProjectName\\app\\src\\main\\res\\menu\r\n\r\nfollow above hierarchy and create create_user.xml file inside menu folder if menu folder in not there then create menu folder inside res.","title":"Android Studio R.menu error","body":"<p>ProjectName\\app\\src\\main\\res\\menu</p>\n\n<p>follow above hierarchy and create create_user.xml file inside menu folder if menu folder in not there then create menu folder inside res.</p>\n"},{"tags":[],"owner":{"account_id":18338014,"reputation":59,"user_id":13354986,"display_name":"james"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587308084,"creation_date":1587308084,"answer_id":61306394,"question_id":42504154,"body_markdown":"I know this post is some years old, but I was having the same problem and was unable to find the solution,  so adding the steps that helped me resolve the issue to the thread just in case anyone else stumbles across this in future. \r\n\r\n**Solution:** All you need to do is \r\n\r\n 1. click the option &quot;Invalidate Cache/Restart...&quot;\r\n 2. On the options menu that pops up, click &quot;Invalidate and Restart&quot; \r\n\r\nAnd on restart of Android Studio, R.menu will become traceable. \r\n\r\n\r\n[Android Studio 3.6.3][1]\r\n\r\n[1]: https://i.stack.imgur.com/VdEHo.png","title":"Android Studio R.menu error","body":"<p>I know this post is some years old, but I was having the same problem and was unable to find the solution,  so adding the steps that helped me resolve the issue to the thread just in case anyone else stumbles across this in future. </p>\n\n<p><strong>Solution:</strong> All you need to do is </p>\n\n<ol>\n<li>click the option \"Invalidate Cache/Restart...\"</li>\n<li>On the options menu that pops up, click \"Invalidate and Restart\" </li>\n</ol>\n\n<p>And on restart of Android Studio, R.menu will become traceable. </p>\n\n<p><a href=\"https://i.stack.imgur.com/VdEHo.png\" rel=\"nofollow noreferrer\">Android Studio 3.6.3</a></p>\n"},{"tags":[],"owner":{"account_id":20026281,"reputation":41,"user_id":14680029,"display_name":"Hassam Saeed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650648826,"creation_date":1650648826,"answer_id":71972634,"question_id":42504154,"body_markdown":"Import Proper R Library:\r\n\r\nimport com.fha.blinkbook2022.R;\r\nLike This My Error Resolve When we import proper library \r\n","title":"Android Studio R.menu error","body":"<p>Import Proper R Library:</p>\n<p>import com.fha.blinkbook2022.R;\nLike This My Error Resolve When we import proper library</p>\n"}],"owner":{"account_id":10074091,"reputation":19,"user_id":7446804,"accept_rate":50,"display_name":"G&#246;khan Polat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3451,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":5,"score":-1,"last_activity_date":1650648826,"creation_date":1488272133,"question_id":42504154,"body_markdown":"Full Code: \r\n\r\n      package restfulapiclient.tutecentral.com.restfulapiclient;\r\n        \r\n        import android.app.ActionBar;\r\n        import restfulapiclient.tutecentral.com.restfulapiclient.R;\r\n        import android.net.Uri;\r\n        import android.os.AsyncTask;\r\n        import android.os.Bundle;\r\n        import android.app.Activity;\r\n        import android.util.Log;\r\n        import android.view.Menu;\r\n        import android.view.MenuItem;\r\n        import android.view.View;\r\n        import android.widget.Button;\r\n        import android.widget.EditText;\r\n        import android.support.v4.app.NavUtils;\r\n        import android.annotation.TargetApi;\r\n        import android.content.Intent;\r\n        import android.os.Build;\r\n        \r\n       \r\n        \r\n       ......\r\n            @Override\r\n            public boolean onCreateOptionsMenu(Menu menu) {\r\n                // Inflate the menu; this adds items to the action bar if it is present.\r\n                getMenuInflater().inflate(R.menu.create_user, menu);\r\n                return true;\r\n            }\r\n        \r\n            .......\r\n\r\nError Code :\r\n\r\ngetMenuInflater().inflate(R.menu.create_user, menu);\r\n\r\nError Message :\r\n\r\nError:(150, 36) error: cannot find symbol variable menu\r\n\r\nİnfo : \r\n\r\n-Android Studio\r\n\r\n-Example project","title":"Android Studio R.menu error","body":"<p>Full Code: </p>\n\n<pre><code>  package restfulapiclient.tutecentral.com.restfulapiclient;\n\n    import android.app.ActionBar;\n    import restfulapiclient.tutecentral.com.restfulapiclient.R;\n    import android.net.Uri;\n    import android.os.AsyncTask;\n    import android.os.Bundle;\n    import android.app.Activity;\n    import android.util.Log;\n    import android.view.Menu;\n    import android.view.MenuItem;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.EditText;\n    import android.support.v4.app.NavUtils;\n    import android.annotation.TargetApi;\n    import android.content.Intent;\n    import android.os.Build;\n\n\n\n   ......\n        @Override\n        public boolean onCreateOptionsMenu(Menu menu) {\n            // Inflate the menu; this adds items to the action bar if it is present.\n            getMenuInflater().inflate(R.menu.create_user, menu);\n            return true;\n        }\n\n        .......\n</code></pre>\n\n<p>Error Code :</p>\n\n<p>getMenuInflater().inflate(R.menu.create_user, menu);</p>\n\n<p>Error Message :</p>\n\n<p>Error:(150, 36) error: cannot find symbol variable menu</p>\n\n<p>İnfo : </p>\n\n<p>-Android Studio</p>\n\n<p>-Example project</p>\n"},{"tags":["java","spring","spring-boot","spring-integration","project-reactor"],"comments":[{"owner":{"account_id":14429973,"reputation":2483,"user_id":10423604,"display_name":"Volodya Lombrozo"},"score":0,"creation_date":1649435577,"post_id":71800414,"comment_id":126883325,"body_markdown":"Can you show your `imports` section?","body":"Can you show your <code>imports</code> section?"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650648707,"creation_date":1649436753,"answer_id":71800692,"question_id":71800414,"body_markdown":"That&#39;s correct. The `ReactiveMessageHandlerAdapter` expects a lambda for the `ReactiveMessageHandler` which contract is:\r\n\r\n\r\n    Mono&lt;Void&gt; handleMessage(Message&lt;?&gt; message);\r\n\r\nI&#39;m not sure what drove you to think that input has to be a `Flux`.\r\n\r\nI assume your `someReactiveInboundChannelAdapter` is an extension of the `MessageProducerSupport` and does exactly `subscribeToPublisher(Publisher&lt;? extends Message&lt;?&gt;&gt; publisher)` logic. The point of this is to take data from the source in reactive manner, but still produce every event as a message to downstream channel. So, that should become clear that a `handle()` is going to receive a message with a single item, not the whole `Flux`.\r\n\r\nIf you want to see the flow as a flux, consider to use a `fluxTransform()` operator. \r\n\r\nAlso it is better to not subscribe yourself, but let to do that in the framework, when  configuration and startup is over.\r\n\r\nTechnically you should not think about reactive types. You just need to configure a flow respectively and write a logic only for individual item: the framework does a reactive interaction for you. The Project Reactor is a library around `Flux` and `Mono`. That&#39;s where we talk about reactive types. The Spring Integration is a messaging framework where its communication is done via messages. And in the end for every single message it must not matter if interaction between endpoints is done in reactive manner or not. Therefore your processing logic can be free from reactive types.\r\n\r\n\r\n**UDATE**\r\n\r\nIf you want the full control of the `Flux` from that `someReactiveInboundChannelAdapter`, then you need to do like this:\r\n\r\n        @Bean\r\n\t\tpublic Publisher&lt;Message&lt;Object&gt;&gt; reactiveFlow() {\r\n              return IntegrationFlows.from(someReactiveInboundChannelAdapter)\r\n              .toReactivePublisher();\r\n        }\r\n\r\nand then inject that `Publisher` whenever you need to use it. Then do `Flux.from(publisher)` and whatever reactive operators you need, including `subscribe()`.\r\n\r\nSome sample of that is here: https://github.com/spring-projects/spring-integration/blob/main/spring-integration-core/src/test/java/org/springframework/integration/dsl/reactivestreams/ReactiveStreamsTests.java\r\n\r\nThe `IntegrationFlowAdapter` cannot be used for this type of configuration since it cannot accept the `IntegrationFlow` as a result of the `buildFlow()`.\r\n\r\nThe `fluxTransform()` can do that for you as well, though:\r\n\r\n    .fluxTransform(flux -&gt; flux.as(Mono::just))\r\n\r\nSo, the payload of downstream flow is going to be a `Flux&lt;Message&lt;?&gt;&gt;`, which you can handle yourself. The returned `Mono` from that `fluxTransform()` is going to be subscribed by the framework. That `Flux` of its value is your responsibility in the downstream flow. Then you can use the plain `MessageHandler`:\r\n\r\n    .handle(m -&gt; ((Flux&lt;Message&lt;?&gt;&gt;) m.getPayload())....subscribe())","title":"How to handle reactive types within Reactive Spring Integration?","body":"<p>That's correct. The <code>ReactiveMessageHandlerAdapter</code> expects a lambda for the <code>ReactiveMessageHandler</code> which contract is:</p>\n<pre><code>Mono&lt;Void&gt; handleMessage(Message&lt;?&gt; message);\n</code></pre>\n<p>I'm not sure what drove you to think that input has to be a <code>Flux</code>.</p>\n<p>I assume your <code>someReactiveInboundChannelAdapter</code> is an extension of the <code>MessageProducerSupport</code> and does exactly <code>subscribeToPublisher(Publisher&lt;? extends Message&lt;?&gt;&gt; publisher)</code> logic. The point of this is to take data from the source in reactive manner, but still produce every event as a message to downstream channel. So, that should become clear that a <code>handle()</code> is going to receive a message with a single item, not the whole <code>Flux</code>.</p>\n<p>If you want to see the flow as a flux, consider to use a <code>fluxTransform()</code> operator.</p>\n<p>Also it is better to not subscribe yourself, but let to do that in the framework, when  configuration and startup is over.</p>\n<p>Technically you should not think about reactive types. You just need to configure a flow respectively and write a logic only for individual item: the framework does a reactive interaction for you. The Project Reactor is a library around <code>Flux</code> and <code>Mono</code>. That's where we talk about reactive types. The Spring Integration is a messaging framework where its communication is done via messages. And in the end for every single message it must not matter if interaction between endpoints is done in reactive manner or not. Therefore your processing logic can be free from reactive types.</p>\n<p><strong>UDATE</strong></p>\n<p>If you want the full control of the <code>Flux</code> from that <code>someReactiveInboundChannelAdapter</code>, then you need to do like this:</p>\n<pre><code>    @Bean\n    public Publisher&lt;Message&lt;Object&gt;&gt; reactiveFlow() {\n          return IntegrationFlows.from(someReactiveInboundChannelAdapter)\n          .toReactivePublisher();\n    }\n</code></pre>\n<p>and then inject that <code>Publisher</code> whenever you need to use it. Then do <code>Flux.from(publisher)</code> and whatever reactive operators you need, including <code>subscribe()</code>.</p>\n<p>Some sample of that is here: <a href=\"https://github.com/spring-projects/spring-integration/blob/main/spring-integration-core/src/test/java/org/springframework/integration/dsl/reactivestreams/ReactiveStreamsTests.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration/blob/main/spring-integration-core/src/test/java/org/springframework/integration/dsl/reactivestreams/ReactiveStreamsTests.java</a></p>\n<p>The <code>IntegrationFlowAdapter</code> cannot be used for this type of configuration since it cannot accept the <code>IntegrationFlow</code> as a result of the <code>buildFlow()</code>.</p>\n<p>The <code>fluxTransform()</code> can do that for you as well, though:</p>\n<pre><code>.fluxTransform(flux -&gt; flux.as(Mono::just))\n</code></pre>\n<p>So, the payload of downstream flow is going to be a <code>Flux&lt;Message&lt;?&gt;&gt;</code>, which you can handle yourself. The returned <code>Mono</code> from that <code>fluxTransform()</code> is going to be subscribed by the framework. That <code>Flux</code> of its value is your responsibility in the downstream flow. Then you can use the plain <code>MessageHandler</code>:</p>\n<pre><code>.handle(m -&gt; ((Flux&lt;Message&lt;?&gt;&gt;) m.getPayload())....subscribe())\n</code></pre>\n"}],"owner":{"account_id":22520592,"reputation":165,"user_id":16824321,"display_name":"ropes-nopes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":762,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71800692,"answer_count":1,"score":1,"last_activity_date":1650648707,"creation_date":1649435375,"question_id":71800414,"body_markdown":"I&#39;m playing a little with Reactive Spring Integration and I try to perform the following basic operation:\r\n\r\n```java\r\n    @Override\r\n    protected IntegrationFlowDefinition&lt;?&gt; buildFlow() {\r\n        return from(someReactiveInboundChannelAdapter)\r\n                .handle(new ReactiveMessageHandlerAdapter(flux -&gt; flux.subscribe(System.out::println)));\r\n    }\r\n```\r\nBut this doesn&#39;t work since the framework won&#39;t recognize that `flux` is a `Flux&lt;?&gt;` instance. The framework treats this as a `Message&lt;?&gt;` and I don&#39;t know how and where can I start to write Reactor code.","title":"How to handle reactive types within Reactive Spring Integration?","body":"<p>I'm playing a little with Reactive Spring Integration and I try to perform the following basic operation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected IntegrationFlowDefinition&lt;?&gt; buildFlow() {\n        return from(someReactiveInboundChannelAdapter)\n                .handle(new ReactiveMessageHandlerAdapter(flux -&gt; flux.subscribe(System.out::println)));\n    }\n</code></pre>\n<p>But this doesn't work since the framework won't recognize that <code>flux</code> is a <code>Flux&lt;?&gt;</code> instance. The framework treats this as a <code>Message&lt;?&gt;</code> and I don't know how and where can I start to write Reactor code.</p>\n"},{"tags":["java","mocking","bdd","xls","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":126863,"reputation":3135,"user_id":323655,"accept_rate":95,"display_name":"Mark Robinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1297186860,"creation_date":1297186860,"answer_id":4936369,"question_id":4935228,"body_markdown":"I&#39;ve never been a big fan of mocking but it does make sense in some instances.\r\n\r\nI think Apache POI is stable enough and you can properly stub it out.  The important thing to ask is if you are testing interaction with POI?  If you are, then you can&#39;t mock it out.\r\n\r\nSince you say you not testing interaction with POI then go ahead.","title":"Is it wise to use mocking in BDD test cases?","body":"<p>I've never been a big fan of mocking but it does make sense in some instances.</p>\n\n<p>I think Apache POI is stable enough and you can properly stub it out.  The important thing to ask is if you are testing interaction with POI?  If you are, then you can't mock it out.</p>\n\n<p>Since you say you not testing interaction with POI then go ahead.</p>\n"},{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1297187814,"creation_date":1297187814,"answer_id":4936527,"question_id":4935228,"body_markdown":"Defining the limit of where you mock and where you don&#39;t is definitely gray, however I think there are two general statements about mocking that offer guidance:\r\n\r\n1. [Mock only interfaces that you own][1].\r\n2. [Mocks are not stubs][2].\r\n\r\nSo although there are certainly times when you want mock a subsystem because it is slow, proper mocking is identifying that slow system as something that needs architectural separation, so you would develop interfaces that properly represent your interaction with that slow system, and mock the behavior there. Then you would have another category of tests that test implementations of those interfaces that actually interact with the slow resources to make sure that that code works.\r\n\r\nIn terms of how this applies to POI, there may or may not be good justification to mock out an abstraction to POI. It depends on the scope of the project. To me, I would do it if I felt the project may need a different spreadsheet solution over the long haul.\r\n\r\nI would certainly not mock out the actual POI classes, as the first link above makes abundantly clear how much pain can be involved in that approach.\r\n\r\n\r\n  [1]: http://www.markhneedham.com/blog/2009/12/13/tdd-only-mock-types-you-own/\r\n  [2]: http://martinfowler.com/articles/mocksArentStubs.html","title":"Is it wise to use mocking in BDD test cases?","body":"<p>Defining the limit of where you mock and where you don't is definitely gray, however I think there are two general statements about mocking that offer guidance:</p>\n\n<ol>\n<li><a href=\"http://www.markhneedham.com/blog/2009/12/13/tdd-only-mock-types-you-own/\" rel=\"nofollow\">Mock only interfaces that you own</a>.</li>\n<li><a href=\"http://martinfowler.com/articles/mocksArentStubs.html\" rel=\"nofollow\">Mocks are not stubs</a>.</li>\n</ol>\n\n<p>So although there are certainly times when you want mock a subsystem because it is slow, proper mocking is identifying that slow system as something that needs architectural separation, so you would develop interfaces that properly represent your interaction with that slow system, and mock the behavior there. Then you would have another category of tests that test implementations of those interfaces that actually interact with the slow resources to make sure that that code works.</p>\n\n<p>In terms of how this applies to POI, there may or may not be good justification to mock out an abstraction to POI. It depends on the scope of the project. To me, I would do it if I felt the project may need a different spreadsheet solution over the long haul.</p>\n\n<p>I would certainly not mock out the actual POI classes, as the first link above makes abundantly clear how much pain can be involved in that approach.</p>\n"}],"owner":{"account_id":300931,"reputation":1474,"user_id":608361,"accept_rate":83,"display_name":"Zsolt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":881,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4936369,"answer_count":2,"score":2,"last_activity_date":1650648497,"creation_date":1297180454,"question_id":4935228,"body_markdown":"We are going to implement a small java application with BDD, which reads an MS excel sheet using POI of apache.org and prints some text based on that excel to the STDOUT. We agreed that the simplest solution would be to create a test.xls for each BDD test case.\r\n\r\nThere was another idea, which is that we should mock the POI library calls and expectations for testing. The reasoning behind this idea is that we don&#39;t want to test the POI, and waste test time on using it in every test case. Additionally file access can be tricky on different operating systems.\r\n\r\nIs it wise to use mocking in such cases?","title":"Is it wise to use mocking in BDD test cases?","body":"<p>We are going to implement a small java application with BDD, which reads an MS excel sheet using POI of apache.org and prints some text based on that excel to the STDOUT. We agreed that the simplest solution would be to create a test.xls for each BDD test case.</p>\n<p>There was another idea, which is that we should mock the POI library calls and expectations for testing. The reasoning behind this idea is that we don't want to test the POI, and waste test time on using it in every test case. Additionally file access can be tricky on different operating systems.</p>\n<p>Is it wise to use mocking in such cases?</p>\n"},{"tags":["java","rabbitmq","rabbitmq-stream"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650491031,"post_id":71932072,"comment_id":127132684,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":2087535,"reputation":21959,"user_id":1858116,"display_name":"Gabriele Santomaggio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650648248,"creation_date":1650632483,"answer_id":71969187,"question_id":71932072,"body_markdown":"***EDIT***\r\nRabbitMQ stream itself sends the messages faster it can but there is a credit mechanism to avoid consumer throttling.\r\nThe client sends the credit to get more messages. \r\nAt the moment this feature is not exposed we are working on it, so atm it is something you need to do client-side when you produce/consume the messages.\r\n","title":"Add delay in consuming messages in rabbitmq stream","body":"<p><em><strong>EDIT</strong></em>\nRabbitMQ stream itself sends the messages faster it can but there is a credit mechanism to avoid consumer throttling.\nThe client sends the credit to get more messages.\nAt the moment this feature is not exposed we are working on it, so atm it is something you need to do client-side when you produce/consume the messages.</p>\n"}],"owner":{"account_id":21683420,"reputation":23,"user_id":15999204,"display_name":"Rawan AlKhalawi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71969187,"answer_count":1,"score":1,"last_activity_date":1650648248,"creation_date":1650407780,"question_id":71932072,"body_markdown":"i&#39;m using **rabbitmq stream** and i need to add a delay between messages because the stream handles messages very fast.\r\n\r\nhow can I do that?\r\n","title":"Add delay in consuming messages in rabbitmq stream","body":"<p>i'm using <strong>rabbitmq stream</strong> and i need to add a delay between messages because the stream handles messages very fast.</p>\n<p>how can I do that?</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":1,"creation_date":1438619114,"post_id":31790372,"comment_id":51512513,"body_markdown":"Why does the order matter if they are equal?","body":"Why does the order matter if they are equal?"},{"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"score":2,"creation_date":1438623745,"post_id":31790372,"comment_id":51515029,"body_markdown":"For the particular example I&#39;m using it for, it doesn&#39;t really matter, since I am only pulling the step from the returned object. However, there are other variables in the class, so being on the same step does not mean the objects are equal. So in other situations, it might matter which object is returned. The reason for my question was mainly to understand how the `max()` function works when multiple objects have the same value in the field being compared.","body":"For the particular example I&#39;m using it for, it doesn&#39;t really matter, since I am only pulling the step from the returned object. However, there are other variables in the class, so being on the same step does not mean the objects are equal. So in other situations, it might matter which object is returned. The reason for my question was mainly to understand how the <code>max()</code> function works when multiple objects have the same value in the field being compared."},{"owner":{"account_id":1443334,"reputation":41522,"user_id":1362755,"display_name":"the8472"},"score":2,"creation_date":1438624442,"post_id":31790372,"comment_id":51515401,"body_markdown":"And why not just use a chained comparator including those other variables if they matter?","body":"And why not just use a chained comparator including those other variables if they matter?"},{"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"score":0,"creation_date":1438624940,"post_id":31790372,"comment_id":51515687,"body_markdown":"I would use a custom comparator that took into account multiple variables if they mattered. They don&#39;t matter in this case. I was merely interested in how the `max()` function determined which object to return. My code works fine. I&#39;m not trying to solve a problem, rather understand what is happening.","body":"I would use a custom comparator that took into account multiple variables if they mattered. They don&#39;t matter in this case. I was merely interested in how the <code>max()</code> function determined which object to return. My code works fine. I&#39;m not trying to solve a problem, rather understand what is happening."}],"answers":[{"tags":[],"owner":{"account_id":1739263,"reputation":5294,"user_id":1591139,"accept_rate":100,"display_name":"ka4eli"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1438630374,"creation_date":1438614192,"answer_id":31790663,"question_id":31790372,"body_markdown":"`max` is implemented reducing the collection with `maxBy`:\r\n\r\n \r\n\r\n     public static &lt;T&gt; BinaryOperator&lt;T&gt; maxBy(Comparator&lt;? super T&gt; comparator) {\r\n            Objects.requireNonNull(comparator);\r\n            return (a, b) -&gt; comparator.compare(a, b) &gt;= 0 ? a : b;\r\n        }\r\n\r\nHere `comparator.compare(a, b) &gt;= 0 ? a : b` you can see that when 2 elements are equal, i.e. `compare` returns 0, then the first element is returned. Therefore in your case will be returned *first* in a collection `MyClass` object with highest `step`. \r\n\r\n**UPDATE:** As user [the8472][1] correctly mentioned in comments, you shouldn&#39;t rely on implementation which isn&#39;t explicitly specified by javadocs. But you can write unit test on `max` method to know if it&#39;s logic has changed in standard java library.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1362755/the8472","title":"Java 8 Stream - .max() with duplicates","body":"<p><code>max</code> is implemented reducing the collection with <code>maxBy</code>:</p>\n\n<pre><code> public static &lt;T&gt; BinaryOperator&lt;T&gt; maxBy(Comparator&lt;? super T&gt; comparator) {\n        Objects.requireNonNull(comparator);\n        return (a, b) -&gt; comparator.compare(a, b) &gt;= 0 ? a : b;\n    }\n</code></pre>\n\n<p>Here <code>comparator.compare(a, b) &gt;= 0 ? a : b</code> you can see that when 2 elements are equal, i.e. <code>compare</code> returns 0, then the first element is returned. Therefore in your case will be returned <em>first</em> in a collection <code>MyClass</code> object with highest <code>step</code>. </p>\n\n<p><strong>UPDATE:</strong> As user <a href=\"https://stackoverflow.com/users/1362755/the8472\">the8472</a> correctly mentioned in comments, you shouldn't rely on implementation which isn't explicitly specified by javadocs. But you can write unit test on <code>max</code> method to know if it's logic has changed in standard java library.</p>\n"},{"tags":[],"owner":{"account_id":3089665,"reputation":31308,"user_id":2616073,"display_name":"dkatzel"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1438615895,"creation_date":1438615895,"answer_id":31791241,"question_id":31790372,"body_markdown":"Since the ordering isn&#39;t specified by the documentation, then the order can be different in future versions of the JVM or in different implementations of the JVM.\r\n\r\nIf you care which one is returned then my advice is to write your own reduction operation or Collector to behave however you desire.  That way future implementations can&#39;t change it and you can explicitly say what will happen.","title":"Java 8 Stream - .max() with duplicates","body":"<p>Since the ordering isn't specified by the documentation, then the order can be different in future versions of the JVM or in different implementations of the JVM.</p>\n\n<p>If you care which one is returned then my advice is to write your own reduction operation or Collector to behave however you desire.  That way future implementations can't change it and you can explicitly say what will happen.</p>\n"}],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14483,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":31790663,"answer_count":2,"score":26,"last_activity_date":1650646942,"creation_date":1438613343,"question_id":31790372,"body_markdown":"So I have a collection of objects that have a step variable that can be 1 - 4.\r\n\r\n    public class MyClass {\r\n        private Long step;\r\n        \r\n        //other variables, getters, setters, etc.\r\n    }\r\n\r\n`Collection&lt;MyClass&gt; myOjbects = /*get collection*/;`\r\n\r\nThen I would like to get one instance of `MyClass` from the collection that has the maximum step value, so I do:\r\n\r\n    final Optional&lt;MyClass&gt; objectWithMaxStep =\r\n       myObjects.stream().max(Comparator.comparing(MyClass::getStep));\r\n\r\nHowever, there are situations where there will be multiple `MyClass` instances in the collection that have a step equal to 4. \r\n\r\nSo, my question is, how is it determined which instance is returned in the `Optional`, or does it throw an exception when multiple objects in the stream have the max value that is being compared?\r\n\r\nThe Java 8 documentation for the `max()` function does not specify what will occur in this situation.","title":"Java 8 Stream - .max() with duplicates","body":"<p>So I have a collection of objects that have a step variable that can be 1 - 4.</p>\n\n<pre><code>public class MyClass {\n    private Long step;\n\n    //other variables, getters, setters, etc.\n}\n</code></pre>\n\n<p><code>Collection&lt;MyClass&gt; myOjbects = /*get collection*/;</code></p>\n\n<p>Then I would like to get one instance of <code>MyClass</code> from the collection that has the maximum step value, so I do:</p>\n\n<pre><code>final Optional&lt;MyClass&gt; objectWithMaxStep =\n   myObjects.stream().max(Comparator.comparing(MyClass::getStep));\n</code></pre>\n\n<p>However, there are situations where there will be multiple <code>MyClass</code> instances in the collection that have a step equal to 4. </p>\n\n<p>So, my question is, how is it determined which instance is returned in the <code>Optional</code>, or does it throw an exception when multiple objects in the stream have the max value that is being compared?</p>\n\n<p>The Java 8 documentation for the <code>max()</code> function does not specify what will occur in this situation.</p>\n"},{"tags":["java","android","textview","spannablestring"],"comments":[{"owner":{"account_id":1460545,"reputation":511,"user_id":1374991,"display_name":"Alexander"},"score":0,"creation_date":1644143132,"post_id":71006050,"comment_id":125522834,"body_markdown":"I guess you can solve it via XML. Split it into 2 textView.","body":"I guess you can solve it via XML. Split it into 2 textView."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1644155188,"post_id":71006050,"comment_id":125525368,"body_markdown":"@Alexander: Thanks for your comment. How shall I solve this problem with 2 textViews? I don&#39;t know when there are linebreaks before in the 1. textview that need to be also added to the 2. textview","body":"@Alexander: Thanks for your comment. How shall I solve this problem with 2 textViews? I don&#39;t know when there are linebreaks before in the 1. textview that need to be also added to the 2. textview"},{"owner":{"account_id":1460545,"reputation":511,"user_id":1374991,"display_name":"Alexander"},"score":0,"creation_date":1644167722,"post_id":71006050,"comment_id":125528520,"body_markdown":"https://www.vetbossel.in/android-recyclerview-example/ Try to do it via recycled view . Change XML for a item. But I don&#39;t know your source and I can wrong","body":"<a href=\"https://www.vetbossel.in/android-recyclerview-example/\" rel=\"nofollow noreferrer\">vetbossel.in/android-recyclerview-example</a> Try to do it via recycled view . Change XML for a item. But I don&#39;t know your source and I can wrong"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1644520619,"post_id":71006050,"comment_id":125635515,"body_markdown":"@Alexander: I don&#39;t want to do this with a recyclerview but with a Spannable String","body":"@Alexander: I don&#39;t want to do this with a recyclerview but with a Spannable String"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1647087870,"post_id":71006050,"comment_id":126288433,"body_markdown":"I don&#39;t think spannable can do that. I&#39;d use two textviews though.","body":"I don&#39;t think spannable can do that. I&#39;d use two textviews though."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1649272118,"post_id":71006050,"comment_id":126836636,"body_markdown":"@Darkman: Thanks for your comment. I don&#39;t think that your suggested approach using two textviews works. How shall I solve this problem with 2 textViews? I don&#39;t know when there are linebreaks before in the 1. textview that need to be also added to the 2. textview.","body":"@Darkman: Thanks for your comment. I don&#39;t think that your suggested approach using two textviews works. How shall I solve this problem with 2 textViews? I don&#39;t know when there are linebreaks before in the 1. textview that need to be also added to the 2. textview."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1649953843,"post_id":71006050,"comment_id":127010148,"body_markdown":"@Darkman: Any comments to my last comment? I&#39;ll highly appreciate every further comment from you","body":"@Darkman: Any comments to my last comment? I&#39;ll highly appreciate every further comment from you"},{"owner":{"account_id":2547043,"reputation":671,"user_id":2211640,"accept_rate":43,"display_name":"Gyan Swaroop Awasthi"},"score":0,"creation_date":1688633320,"post_id":71006050,"comment_id":135100798,"body_markdown":"would you please share the whole code , we want as per your implementation","body":"would you please share the whole code , we want as per your implementation"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1688738595,"post_id":71006050,"comment_id":135118254,"body_markdown":"@GyanSwaroopAwasthi: Thanks for your comment. As this question was posted about 1,5 years ago, I meanwhile used the accepted answer given below by using two TextViews via XML.","body":"@GyanSwaroopAwasthi: Thanks for your comment. As this question was posted about 1,5 years ago, I meanwhile used the accepted answer given below by using two TextViews via XML."}],"answers":[{"tags":[],"owner":{"account_id":24063423,"reputation":102,"user_id":18040331,"display_name":"IlyaFromRussia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644143691,"creation_date":1644143691,"answer_id":71006294,"question_id":71006050,"body_markdown":"If you use fixed-space font add several spaces after \\n. \r\nIf you use monospace font adding spaces isn`t best way. In this case you can add symbols &quot;1&quot;, &quot;2&quot; etc instead of spaces and set color for this symbols like background color.","title":"Android: SpannableString with correctly formated numbers","body":"<p>If you use fixed-space font add several spaces after \\n.\nIf you use monospace font adding spaces isn`t best way. In this case you can add symbols &quot;1&quot;, &quot;2&quot; etc instead of spaces and set color for this symbols like background color.</p>\n"},{"tags":[],"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650044008,"creation_date":1650044008,"answer_id":71887140,"question_id":71006050,"body_markdown":"You can achieve that by using two TextViews via XML like the following example.\r\n\r\n**main.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;match_parent&quot;\r\n\tandroid:gravity=&quot;center&quot;\r\n\tandroid:background=&quot;#333333&quot;\r\n\tandroid:orientation=&quot;vertical&quot;\r\n\tandroid:id=&quot;@+id/main&quot;&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n**custom.xml**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n\txmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\tandroid:layout_width=&quot;match_parent&quot;\r\n\tandroid:layout_height=&quot;wrap_content&quot;\r\n\tandroid:orientation=&quot;horizontal&quot;&gt;\r\n\r\n\t&lt;TextView\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:layout_width=&quot;wrap_content&quot;\r\n\t\tandroid:gravity=&quot;right&quot;\r\n\t\tandroid:layout_marginLeft=&quot;10dp&quot;/&gt;\r\n\r\n\t&lt;TextView\r\n\t\tandroid:layout_height=&quot;wrap_content&quot;\r\n\t\tandroid:layout_width=&quot;match_parent&quot;\r\n\t\tandroid:gravity=&quot;left&quot;\r\n\t\tandroid:layout_marginRight=&quot;10dp&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\n**MainActivity.java**\r\n```\r\npublic class MainActivity extends Activity \r\n{\r\n\tprivate static final String[] str = {\r\n\t\t&quot;Instruction 1: This is the first instruction that you have to do.&quot;,\r\n\t\t&quot;Instruction 2: This is the second instruction that you have to do.&quot;,\r\n\t\t&quot;Instruction 3: This is the third instruction that you have to do.&quot;\r\n\t};\r\n\t\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n\t\trequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n        setContentView(R.layout.main);\r\n\t\t\r\n\t\tViewGroup main = findViewById(R.id.main);\r\n\t\tLayoutInflater inflator = getLayoutInflater();\r\n\t\t\r\n\t\tfor(int i=0; i&lt;3; i++) {\r\n\t\t\tViewGroup mainLayout = (ViewGroup) inflator.inflate(R.layout.custom, main, true);\r\n\t\t\tViewGroup customLayout = (ViewGroup) mainLayout.getChildAt(i);\r\n\t\t\tTextView num = (TextView) customLayout.getChildAt(0);\r\n\t\t\tTextView text = (TextView) customLayout.getChildAt(1);\r\n\t\t\tnum.setText((i+1) + &quot;.&quot;);\r\n\t\t\ttext.setText(str[i]);\r\n\t\t}\r\n    }\r\n}\r\n```\r\n\r\n**Output:**\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RLN5a.png","title":"Android: SpannableString with correctly formated numbers","body":"<p>You can achieve that by using two TextViews via XML like the following example.</p>\n<p><strong>main.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:gravity=&quot;center&quot;\n    android:background=&quot;#333333&quot;\n    android:orientation=&quot;vertical&quot;\n    android:id=&quot;@+id/main&quot;&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>custom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:gravity=&quot;right&quot;\n        android:layout_marginLeft=&quot;10dp&quot;/&gt;\n\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:gravity=&quot;left&quot;\n        android:layout_marginRight=&quot;10dp&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends Activity \n{\n    private static final String[] str = {\n        &quot;Instruction 1: This is the first instruction that you have to do.&quot;,\n        &quot;Instruction 2: This is the second instruction that you have to do.&quot;,\n        &quot;Instruction 3: This is the third instruction that you have to do.&quot;\n    };\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        setContentView(R.layout.main);\n        \n        ViewGroup main = findViewById(R.id.main);\n        LayoutInflater inflator = getLayoutInflater();\n        \n        for(int i=0; i&lt;3; i++) {\n            ViewGroup mainLayout = (ViewGroup) inflator.inflate(R.layout.custom, main, true);\n            ViewGroup customLayout = (ViewGroup) mainLayout.getChildAt(i);\n            TextView num = (TextView) customLayout.getChildAt(0);\n            TextView text = (TextView) customLayout.getChildAt(1);\n            num.setText((i+1) + &quot;.&quot;);\n            text.setText(str[i]);\n        }\n    }\n}\n</code></pre>\n<p><strong>Output:</strong>\n<a href=\"https://i.stack.imgur.com/RLN5a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RLN5a.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71887140,"answer_count":2,"score":1,"last_activity_date":1650646586,"creation_date":1644142080,"question_id":71006050,"body_markdown":"I would like to have a list of instructions that are correctly numbered in an enumeration. For that I use the SpannableString and I have the following code:\r\n\r\n    //Get string array from a sqLite Database\r\n    String [] instructions = MainActivity.sqLiteDataba.getPreparationInstructions(item);\r\n    \r\n    //Create Spannable String Builder\r\n    int numberOfCurrentInstruction = 1;\r\n    SpannableStringBuilder builderInstructions =  new SpannableStringBuilder();\r\n    for (int i =0; i&lt;instructions.length;i++) {\r\n        if(instructions[i] == null ) {\r\n            continue;\r\n        }\r\n    \r\n        builderInstructions.append(numberOfCurrentInstruction + &quot;. &quot; + instructions[i] + &quot;\\n&quot;);\r\n        numberOfCurrentInstruction++;\r\n    }\r\n\r\nThe output in a textview (called in a Fragment) does not look like the desired way, as you can see in the screenshot:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI would like the numbers to serve as &quot;bullet points&quot; meaning that if there is a linebreak in the textView, the following text should not start under the number but with a little bit of space. Any idea how I can do that?\r\n\r\n**Update**: I tried the suggested approach posted below (Darkman) with the layout inflator but unfortunately only the very first item is being displayed. Here is the code from inside a Fragment:\r\n\r\n        String [] instructions = MainActivity.sqLiteDB.getPreparationInstructions(item);\r\n\r\n        \r\n        int numberOfCurrentInstruction = 1;\r\n        ViewGroup main = getView().findViewById(R.id.main);\r\n        LayoutInflater inflator = getLayoutInflater();\r\n\r\n        for (int i =0; i&lt;instructions.length;i++) {\r\n            if(instructions[i] == null ) {\r\n                continue;\r\n\r\n            }\r\n\r\n            ViewGroup mainLayout = (ViewGroup) inflator.inflate(R.layout.custom, main, true);\r\n            ViewGroup customLayout = (ViewGroup) mainLayout.getChildAt(i);\r\n\r\n\r\n            TextView num = (TextView) customLayout.getChildAt(0);\r\n            TextView text = (TextView) customLayout.getChildAt(1);\r\n            num.setText((numberOfCurrentInstruction) + &quot;.&quot;);\r\n            text.setText(instructions[i]);\r\n            numberOfCurrentInstruction++;\r\n        }\r\n\r\nHere is the custom.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:gravity=&quot;right&quot;\r\n            android:layout_marginTop=&quot;@dimen/_2sdp&quot;\r\n            android:layout_marginLeft=&quot;@dimen/_5sdp&quot;\r\n            android:textSize=&quot;@dimen/_7ssp&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:gravity=&quot;left&quot;\r\n            android:layout_marginTop=&quot;@dimen/_2sdp&quot;\r\n            android:layout_marginLeft=&quot;@dimen/_2sdp&quot;\r\n            android:layout_marginRight=&quot;@dimen/_5sdp&quot;\r\n            android:textSize=&quot;@dimen/_7ssp&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nAnd the main.xml is inside a xml file for a fragment and looks like this:\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:id=&quot;@+id/main&quot;&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\nThe array `instructions` has 5 elements in it and none of them is null and the for loop is executed 5 times (I checked this by using LogTag). However, only the first instruction is displayed and the others not. Any idea what the problem might be?\r\n\r\n  [1]: https://i.stack.imgur.com/AN1dO.png\r\n","title":"Android: SpannableString with correctly formated numbers","body":"<p>I would like to have a list of instructions that are correctly numbered in an enumeration. For that I use the SpannableString and I have the following code:</p>\n<pre><code>//Get string array from a sqLite Database\nString [] instructions = MainActivity.sqLiteDataba.getPreparationInstructions(item);\n\n//Create Spannable String Builder\nint numberOfCurrentInstruction = 1;\nSpannableStringBuilder builderInstructions =  new SpannableStringBuilder();\nfor (int i =0; i&lt;instructions.length;i++) {\n    if(instructions[i] == null ) {\n        continue;\n    }\n\n    builderInstructions.append(numberOfCurrentInstruction + &quot;. &quot; + instructions[i] + &quot;\\n&quot;);\n    numberOfCurrentInstruction++;\n}\n</code></pre>\n<p>The output in a textview (called in a Fragment) does not look like the desired way, as you can see in the screenshot:\n<a href=\"https://i.stack.imgur.com/AN1dO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AN1dO.png\" alt=\"enter image description here\" /></a></p>\n<p>I would like the numbers to serve as &quot;bullet points&quot; meaning that if there is a linebreak in the textView, the following text should not start under the number but with a little bit of space. Any idea how I can do that?</p>\n<p><strong>Update</strong>: I tried the suggested approach posted below (Darkman) with the layout inflator but unfortunately only the very first item is being displayed. Here is the code from inside a Fragment:</p>\n<pre><code>    String [] instructions = MainActivity.sqLiteDB.getPreparationInstructions(item);\n\n    \n    int numberOfCurrentInstruction = 1;\n    ViewGroup main = getView().findViewById(R.id.main);\n    LayoutInflater inflator = getLayoutInflater();\n\n    for (int i =0; i&lt;instructions.length;i++) {\n        if(instructions[i] == null ) {\n            continue;\n\n        }\n\n        ViewGroup mainLayout = (ViewGroup) inflator.inflate(R.layout.custom, main, true);\n        ViewGroup customLayout = (ViewGroup) mainLayout.getChildAt(i);\n\n\n        TextView num = (TextView) customLayout.getChildAt(0);\n        TextView text = (TextView) customLayout.getChildAt(1);\n        num.setText((numberOfCurrentInstruction) + &quot;.&quot;);\n        text.setText(instructions[i]);\n        numberOfCurrentInstruction++;\n    }\n</code></pre>\n<p>Here is the custom.xml file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:gravity=&quot;right&quot;\n        android:layout_marginTop=&quot;@dimen/_2sdp&quot;\n        android:layout_marginLeft=&quot;@dimen/_5sdp&quot;\n        android:textSize=&quot;@dimen/_7ssp&quot;/&gt;\n\n    &lt;TextView\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:gravity=&quot;left&quot;\n        android:layout_marginTop=&quot;@dimen/_2sdp&quot;\n        android:layout_marginLeft=&quot;@dimen/_2sdp&quot;\n        android:layout_marginRight=&quot;@dimen/_5sdp&quot;\n        android:textSize=&quot;@dimen/_7ssp&quot;/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And the main.xml is inside a xml file for a fragment and looks like this:</p>\n<pre><code>    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:id=&quot;@+id/main&quot;&gt;\n\n\n    &lt;/LinearLayout&gt;\n</code></pre>\n<p>The array <code>instructions</code> has 5 elements in it and none of them is null and the for loop is executed 5 times (I checked this by using LogTag). However, only the first instruction is displayed and the others not. Any idea what the problem might be?</p>\n"},{"tags":["java","git","github","version-control","git-diff"],"answers":[{"tags":[],"owner":{"account_id":15414942,"reputation":59,"user_id":11120722,"display_name":"Oleh Samoilenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583319143,"creation_date":1583319143,"answer_id":60524413,"question_id":60522572,"body_markdown":"&gt; First of all, git works with text and isn&#39;t responsible for indexing\r\n&gt; your sources, searching for methods definitions, etc.\r\n\r\nSo, probably, the best solution is **diff**. [Here][1] is described how to use diff between specific commits.\r\n\r\nFrom myself I would like to encourage you for using diff for specific file: `git diff specific-file` and using `grep` if diff is huge:\r\n\r\n    git diff | grep -e method-name -e public -e private -e void -e etc\r\n\r\nI hope you will invent more suitable command for your goals. Good luck! \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3368590/show-diff-between-commits","title":"Git Diff at method level","body":"<blockquote>\n  <p>First of all, git works with text and isn't responsible for indexing\n  your sources, searching for methods definitions, etc.</p>\n</blockquote>\n\n<p>So, probably, the best solution is <strong>diff</strong>. <a href=\"https://stackoverflow.com/questions/3368590/show-diff-between-commits\">Here</a> is described how to use diff between specific commits.</p>\n\n<p>From myself I would like to encourage you for using diff for specific file: <code>git diff specific-file</code> and using <code>grep</code> if diff is huge:</p>\n\n<pre><code>git diff | grep -e method-name -e public -e private -e void -e etc\n</code></pre>\n\n<p>I hope you will invent more suitable command for your goals. Good luck! </p>\n"},{"tags":[],"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1583343765,"creation_date":1583343230,"answer_id":60531688,"question_id":60522572,"body_markdown":"Git is a general tool.  It does not understand your source language (in this case Java, but what if your source language were instead Swift or Python or C++ or TypeScript or, well, whatever else you can think of?).  It just understands &quot;lines of text&quot; and has simple (or sometimes, not-very-simple) regular expressions to recognize function / method / class / other such definitions, to annotate diffs.&lt;sup&gt;1&lt;/sup&gt;\r\n\r\nTo get the kind of output you want, you need a tool that *does* understand the language in question.\r\n\r\nGiven such a tool, you will give it:\r\n\r\n * an older version (a commit or a file from that commit), and\r\n * a newer version (another commit, or &quot;the same&quot; file from that commit).\r\n\r\nIt should then read those two commits&#39; files, figure out what methods you have, and produce whatever analysis you like.\r\n\r\nWhat this tool needs from *Git* is two *versions*.  When and whether it can handle just getting two *files*, or needs two entire snapshots, depends on that tool.\r\n\r\nThe `git difftool` command may, or may not, be helpful for invoking this other tool.  What `git difftool` does is compare two entire commits, then, for each differing file, feed the old and new versions of those files to another tool.  You choose that second tool, from any tool you have on your computer, anywhere.  Git merely invokes that tool, on the pair of files extracted from the pair of commits.  If this does what you need, you&#39;re now done.  If not, you may need some more steps: for instance, you might want to run `git diff --raw &lt;commit1&gt; &lt;commit2&gt;` and parse its output, or just `git checkout` each of the two commits into some temporary locations (using a temporary index for each) and work from there.\r\n\r\n---\r\n\r\n&lt;sup&gt;1&lt;/sup&gt;Note that regular expressions are not capable of proper parsing; most real languages require a grammar.  See, e.g., https://stackoverflow.com/q/11905506/1256452.  A proper CS-theoretic discussion will get into [Finite State Automata](https://en.wikipedia.org/wiki/Finite-state_machine) but is generally off topic on StackOverflow.","title":"Git Diff at method level","body":"<p>Git is a general tool.  It does not understand your source language (in this case Java, but what if your source language were instead Swift or Python or C++ or TypeScript or, well, whatever else you can think of?).  It just understands \"lines of text\" and has simple (or sometimes, not-very-simple) regular expressions to recognize function / method / class / other such definitions, to annotate diffs.<sup>1</sup></p>\n\n<p>To get the kind of output you want, you need a tool that <em>does</em> understand the language in question.</p>\n\n<p>Given such a tool, you will give it:</p>\n\n<ul>\n<li>an older version (a commit or a file from that commit), and</li>\n<li>a newer version (another commit, or \"the same\" file from that commit).</li>\n</ul>\n\n<p>It should then read those two commits' files, figure out what methods you have, and produce whatever analysis you like.</p>\n\n<p>What this tool needs from <em>Git</em> is two <em>versions</em>.  When and whether it can handle just getting two <em>files</em>, or needs two entire snapshots, depends on that tool.</p>\n\n<p>The <code>git difftool</code> command may, or may not, be helpful for invoking this other tool.  What <code>git difftool</code> does is compare two entire commits, then, for each differing file, feed the old and new versions of those files to another tool.  You choose that second tool, from any tool you have on your computer, anywhere.  Git merely invokes that tool, on the pair of files extracted from the pair of commits.  If this does what you need, you're now done.  If not, you may need some more steps: for instance, you might want to run <code>git diff --raw &lt;commit1&gt; &lt;commit2&gt;</code> and parse its output, or just <code>git checkout</code> each of the two commits into some temporary locations (using a temporary index for each) and work from there.</p>\n\n<hr>\n\n<p><sup>1</sup>Note that regular expressions are not capable of proper parsing; most real languages require a grammar.  See, e.g., <a href=\"https://stackoverflow.com/q/11905506/1256452\">Regular Expression Vs. String Parsing</a>.  A proper CS-theoretic discussion will get into <a href=\"https://en.wikipedia.org/wiki/Finite-state_machine\" rel=\"nofollow noreferrer\">Finite State Automata</a> but is generally off topic on StackOverflow.</p>\n"},{"tags":[],"owner":{"account_id":1911430,"reputation":2483,"user_id":1725151,"accept_rate":67,"display_name":"Guildenstern"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650646342,"creation_date":1650646342,"answer_id":71972201,"question_id":60522572,"body_markdown":"I don’t know of a tool that does exactly that.\r\n\r\nIn order to do something like that you need a Java-aware diff tool. [difftastic][1] supports Java. You get output like this (diff on some [random BSD-3 licensed code](https://github.com/norswap/nanoeth)):\r\n\r\n[![diffing Java changes with difftastic][3]][3]\r\n\r\n\r\n  [1]: https://github.com/Wilfred/difftastic/\r\n  [2]: https://github.com/norswap/nanoeth\r\n  [3]: https://i.stack.imgur.com/HFldl.png","title":"Git Diff at method level","body":"<p>I don’t know of a tool that does exactly that.</p>\n<p>In order to do something like that you need a Java-aware diff tool. <a href=\"https://github.com/Wilfred/difftastic/\" rel=\"nofollow noreferrer\">difftastic</a> supports Java. You get output like this (diff on some <a href=\"https://github.com/norswap/nanoeth\" rel=\"nofollow noreferrer\">random BSD-3 licensed code</a>):</p>\n<p><a href=\"https://i.stack.imgur.com/HFldl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HFldl.png\" alt=\"diffing Java changes with difftastic\" /></a></p>\n"}],"owner":{"account_id":14651169,"reputation":53,"user_id":10581148,"display_name":"anon-sAI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2304,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60531688,"answer_count":3,"score":2,"last_activity_date":1650646342,"creation_date":1583313270,"question_id":60522572,"body_markdown":"I am looking at getting information on all the methods/function **Added , Deleted and Modified** between any two commits \n\n***Notes -*** \n\n1. Code Base is in Java and on Github\n\n2. Utlimate Goal - I must be able to get all the Deleted, Modified(Both source code modification and renaming of methods) and Newly added Methods between any two commits spanning across\n    sub-packages and classes     \n3. More pleased if full method signature\n    is returned along with [fully qualified method name][1]\n\n***Things I Tried***\n\n1. `git Diff` -  [Link][2] -  but the Diff history is huge and I&#39;m really only interested in the changes of methods added, deleted or modified (ie in Java lists the class but not the function) \n\n2. `git log -L :function:path/to/file` - prints the change history of that function, doesn&#39;t do what I intend to do and watchers are on a specific function but not on whole git repo. Another limitation is of getting diff between two commits.\n\n\n**Desired Results**\n\n  Diff between any two commits should return \n\n    Methods Added -&gt; \n            myMethod12 - path/to/class\n            myMethod34 - path/to/class\n\n    Methods Deleted -&gt; \n            myMethod3 - path/to/class\n            myMethod11 - path/to/class\n\n    Methods Renamed -&gt;\n            (Previous Name)  (Revised Name)  (Path)\n            myMethod6        yourMethod32    path/to/class\n \n    Methods Modified (source code modifs) -&gt;\n            myMethod44 - path/to/class\n\n\nor ideally the fully qualified method name \n\nie \n\n    Methods Added -&gt;\n           com.example.subp.subp2.nestedpack.addMessages(Message[] msgs)\n    ...\n\n  [1]: https://stackoverflow.com/questions/11778032/fully-qualified-reference-to-java-method-signature\n  [2]: https://git-scm.com/docs/git-diff","title":"Git Diff at method level","body":"<p>I am looking at getting information on all the methods/function <strong>Added , Deleted and Modified</strong> between any two commits</p>\n<p><em><strong>Notes -</strong></em></p>\n<ol>\n<li><p>Code Base is in Java and on Github</p>\n</li>\n<li><p>Utlimate Goal - I must be able to get all the Deleted, Modified(Both source code modification and renaming of methods) and Newly added Methods between any two commits spanning across\nsub-packages and classes</p>\n</li>\n<li><p>More pleased if full method signature\nis returned along with <a href=\"https://stackoverflow.com/questions/11778032/fully-qualified-reference-to-java-method-signature\">fully qualified method name</a></p>\n</li>\n</ol>\n<p><em><strong>Things I Tried</strong></em></p>\n<ol>\n<li><p><code>git Diff</code> -  <a href=\"https://git-scm.com/docs/git-diff\" rel=\"nofollow noreferrer\">Link</a> -  but the Diff history is huge and I'm really only interested in the changes of methods added, deleted or modified (ie in Java lists the class but not the function)</p>\n</li>\n<li><p><code>git log -L :function:path/to/file</code> - prints the change history of that function, doesn't do what I intend to do and watchers are on a specific function but not on whole git repo. Another limitation is of getting diff between two commits.</p>\n</li>\n</ol>\n<p><strong>Desired Results</strong></p>\n<p>Diff between any two commits should return</p>\n<pre><code>Methods Added -&gt; \n        myMethod12 - path/to/class\n        myMethod34 - path/to/class\n\nMethods Deleted -&gt; \n        myMethod3 - path/to/class\n        myMethod11 - path/to/class\n\nMethods Renamed -&gt;\n        (Previous Name)  (Revised Name)  (Path)\n        myMethod6        yourMethod32    path/to/class\n\nMethods Modified (source code modifs) -&gt;\n        myMethod44 - path/to/class\n</code></pre>\n<p>or ideally the fully qualified method name</p>\n<p>ie</p>\n<pre><code>Methods Added -&gt;\n       com.example.subp.subp2.nestedpack.addMessages(Message[] msgs)\n...\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-sqs","rate-limiting"],"comments":[{"owner":{"account_id":3818538,"reputation":5946,"user_id":3167238,"display_name":"hephalump"},"score":0,"creation_date":1650666410,"post_id":71971977,"comment_id":127182100,"body_markdown":"Set a concurrency limit with Lambda","body":"Set a concurrency limit with Lambda"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1650700604,"post_id":71971977,"comment_id":127186051,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":19491286,"reputation":1,"user_id":14259435,"display_name":"nitin.neo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650646278,"creation_date":1650645173,"question_id":71971977,"body_markdown":"I have a use-case which requires to consume messages from a Queue with 100s of lambda consumers. But the constraint is that the consumption needs to happen at no more than x TPS, because we are dependent on a downstream service which will shed the extra load. Is it possible to do such thing with SQS?","title":"Distributed Rate limiting using SQS","body":"<p>I have a use-case which requires to consume messages from a Queue with 100s of lambda consumers. But the constraint is that the consumption needs to happen at no more than x TPS, because we are dependent on a downstream service which will shed the extra load. Is it possible to do such thing with SQS?</p>\n"},{"tags":["java","testing","junit","testng","assertions"],"comments":[{"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"score":0,"creation_date":1374552833,"post_id":17801314,"comment_id":25972069,"body_markdown":"I don&#39;t know if TestNG has support for [Hamcrest](https://code.google.com/p/hamcrest/), but it would be pretty easy to do with Hamcrest&#39;s machers. Something like `assertThat(expected, either(equalTo(value1)).or(equalTo(value2)))`.","body":"I don&#39;t know if TestNG has support for <a href=\"https://code.google.com/p/hamcrest/\" rel=\"nofollow noreferrer\">Hamcrest</a>, but it would be pretty easy to do with Hamcrest&#39;s machers. Something like <code>assertThat(expected, either(equalTo(value1)).or(equalTo(value2)))</code>."}],"answers":[{"tags":[],"owner":{"account_id":3066464,"reputation":6190,"user_id":2598037,"display_name":"Carl Mastrangelo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374555064,"creation_date":1374555064,"answer_id":17801705,"question_id":17801314,"body_markdown":"You could make a very simple wrapper around the TestNG code:\r\n\r\n    private void assertContains(Object actual, Object ... expected) {\r\n        assertTrue(Arrays.asList(expected).contains(actual));\r\n    }\r\n\r\n\r\nI briefly looked through the [TestNG source code][1] and didn&#39;t see any methods similar to the method above, but I am not very familiar with the TestNG patterns. \r\n\r\n\r\n  [1]: https://code.google.com/p/testng/source/browse/branches/alex20080113/src/main/org/testng/Assert.java","title":"How to use OR condition with TestNG assertions","body":"<p>You could make a very simple wrapper around the TestNG code:</p>\n\n<pre><code>private void assertContains(Object actual, Object ... expected) {\n    assertTrue(Arrays.asList(expected).contains(actual));\n}\n</code></pre>\n\n<p>I briefly looked through the <a href=\"https://code.google.com/p/testng/source/browse/branches/alex20080113/src/main/org/testng/Assert.java\" rel=\"nofollow\">TestNG source code</a> and didn't see any methods similar to the method above, but I am not very familiar with the TestNG patterns. </p>\n"},{"tags":[],"owner":{"account_id":9969870,"reputation":31,"user_id":7902836,"display_name":"Ricardo De Leon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650645834,"creation_date":1650645834,"answer_id":71972107,"question_id":17801314,"body_markdown":"I just did a workaround with boolean assertions:\r\n\r\n    if(condition1 || condition2){\r\n       Assert.assertTrue(true)\r\n    } else {\r\n       Assert.fail(&quot;Your Explanation here&quot;)\r\n    }\r\n","title":"How to use OR condition with TestNG assertions","body":"<p>I just did a workaround with boolean assertions:</p>\n<pre><code>if(condition1 || condition2){\n   Assert.assertTrue(true)\n} else {\n   Assert.fail(&quot;Your Explanation here&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":724774,"reputation":14026,"user_id":668650,"accept_rate":77,"display_name":"Kevin Rave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2500,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650645834,"creation_date":1374552399,"question_id":17801314,"body_markdown":"Is there a way to do assertions with `OR`  with TestNG?\r\n\r\nThis is what I am trying to find:\r\n\r\n    assertEquals(expected, value1 || value2); // Can be any number of values.\r\n\r\n\r\n","title":"How to use OR condition with TestNG assertions","body":"<p>Is there a way to do assertions with <code>OR</code>  with TestNG?</p>\n\n<p>This is what I am trying to find:</p>\n\n<pre><code>assertEquals(expected, value1 || value2); // Can be any number of values.\n</code></pre>\n"},{"tags":["java","tomcat","servlets","tomcat10"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":0,"creation_date":1650596715,"post_id":71957486,"comment_id":127161239,"body_markdown":"Fix the version of servlet-api that you depend on to the one tomcat 10 provides. https://tomcat.apache.org/whichversion.html","body":"Fix the version of servlet-api that you depend on to the one tomcat 10 provides. <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">tomcat.apache.org/whichversion.html</a>"},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1650645885,"post_id":71957486,"comment_id":127176466,"body_markdown":"You need a build tool.  This is the hardest possible way to do what you want.  Look at either [maven](https://maven.apache.org/) or [gradle](https://gradle.org/) to make your life far simpler.","body":"You need a build tool.  This is the hardest possible way to do what you want.  Look at either <a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\">maven</a> or <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">gradle</a> to make your life far simpler."}],"answers":[{"tags":[],"owner":{"account_id":20419422,"reputation":1,"user_id":14980750,"display_name":"tzzzy6"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650645724,"creation_date":1650645724,"answer_id":71972088,"question_id":71957486,"body_markdown":"Okay, turns out it was something really simple. \r\n\r\nWhen I moved the servlet from ~Tomcat/webapps/CenterStage/WEB-INF/classes/ to ~Tomcat/webapps/CenterStage/WEB-INF/classes/centerStage/ and then tried to compile with javac -cp .:~/Tomcat/lib/servlet-api.jar:~/Tomcat/lib/mysql-connector-java-8.0.28.jar ./Tomcat/webapps/CenterStage/WEB-INF/classes/centerStage/*.java everything worked fine. \r\n\r\nSo basically, I should have had the Servlet.java in the same directory as the JavaBeans and everything works fine.","title":"Tomcat 10 on Mac not Recognizing servlet-api.jar when compiling servlet","body":"<p>Okay, turns out it was something really simple.</p>\n<p>When I moved the servlet from ~Tomcat/webapps/CenterStage/WEB-INF/classes/ to ~Tomcat/webapps/CenterStage/WEB-INF/classes/centerStage/ and then tried to compile with javac -cp .:~/Tomcat/lib/servlet-api.jar:~/Tomcat/lib/mysql-connector-java-8.0.28.jar ./Tomcat/webapps/CenterStage/WEB-INF/classes/centerStage/*.java everything worked fine.</p>\n<p>So basically, I should have had the Servlet.java in the same directory as the JavaBeans and everything works fine.</p>\n"}],"owner":{"account_id":20419422,"reputation":1,"user_id":14980750,"display_name":"tzzzy6"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650645724,"creation_date":1650556755,"question_id":71957486,"body_markdown":"I&#39;m working on creating a Servlet for a tomcat webpage and the Servlet will not compile. \r\n\r\nI&#39;m using the servlet-api.jar &amp; mysql-connector.8.0.28.jar for the servlet, and there are also several JavaBeans I have created to store information being passed between the database and the page. \r\n\r\nThe directory structure for tomcat is as follows:\r\n - all .jar files are in ./Tomcat/tomcat-10/lib/\r\n - the servlet to be compiled is stored at ./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/\r\n - the beans are stored at ./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/centerStage/\r\n\r\nThis is the command I use to compile everything:\r\n\r\n```\r\njavac -cp .:./Tomcat/tomcat-10/lib/servlet-api.jar:./Tomcat/tomcat-10/lib/mysql-connector-java-8.0.28.jar -classpath ./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/:./Tomcat/tomcat-10/lib/ ./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java\r\n```\r\n\r\nWhen I try to compile the servlet I get 9 Errors pointing to the HttpServlet class:\r\n\r\n```\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:32: error: cannot find symbol\r\npublic class CenterStageServlet extends HttpServlet {\r\n                                        ^\r\n  symbol: class HttpServlet\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:25: error: cannot find symbol\r\n@WebServlet(name = &quot;CenterStageServlet&quot;, \r\n ^\r\n  symbol: class WebServlet\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:41: error: cannot find symbol\r\n   public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                     ^\r\n  symbol:   class HttpServletRequest\r\n  location: class CenterStageServlet\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:41: error: cannot find symbol\r\n   public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n                                                 ^\r\n  symbol:   class HttpServletResponse\r\n  location: class CenterStageServlet\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:42: error: cannot find symbol\r\n         throws IOException, ServletException {\r\n                             ^\r\n  symbol:   class ServletException\r\n  location: class CenterStageServlet\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:6: error: package jakarta.servlet does not exist\r\nimport jakarta.servlet.*;             // Tomcat 10\r\n^\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:7: error: package jakarta.servlet.http does not exist\r\nimport jakarta.servlet.http.*;\r\n^\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:8: error: package jakarta.servlet.annotation does not exist\r\nimport jakarta.servlet.annotation.*;  // Tomcat 10\r\n^\r\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:40: error: method does not override or implement a method from a supertype\r\n   @Override\r\n   ^\r\n9 errors\r\n```\r\n\r\nServlet Code:\r\n\r\n```\r\npackage centerStage;\r\n\r\n// To save as &quot;&lt;TOMCAT_HOME&gt;\\webapps\\CenterStage\\WEB-INF\\classes\\CenterStageServlet.java&quot;\r\nimport java.io.*;\r\nimport java.sql.*;\r\nimport jakarta.servlet.*;             // Tomcat 10\r\nimport jakarta.servlet.http.*;\r\nimport jakarta.servlet.annotation.*;  // Tomcat 10\r\n//import javax.servlet.*;             // Tomcat 9\r\n//import javax.servlet.http.*;\r\n//import javax.servlet.annotation.*;\r\nimport java.text.NumberFormat;\r\nimport java.text.SimpleDateFormat;\r\nimport java.sql.Date;\r\nimport java.time.LocalDate;\r\n\r\nimport centerStage.*;\r\n \r\n@WebServlet(name = &quot;CenterStageServlet&quot;, \r\n            urlPatterns = {&quot;/appointment&quot;, &quot;/availibility&quot;, &quot;/barber&quot;, &quot;/client&quot;, &quot;/service&quot;})    \r\n            // Configure the request URL for this servlet (Tomcat 7/Servlet 3.0 upwards)\r\n\r\n\r\npublic class CenterStageServlet extends HttpServlet {\r\n\r\n    // Variables\r\n    \r\n   // The doGet() runs once per HTTP GET request to this servlet.\r\n   @Override\r\n   public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n         throws IOException, ServletException {\r\n \r\n       // Do some processing\r\n   }\r\n\r\n   // Other Methods\r\n}\r\n```\r\n\r\nI&#39;ve verified that the .jar&#39;s that I&#39;m looking for are in that /lib/ directory. \r\n\r\nCompiling other Webapps in this Tomcat directory don&#39;t give me any issues, so I&#39;m not sure what the problem is. \r\n\r\nAny help/suggestions would be great!","title":"Tomcat 10 on Mac not Recognizing servlet-api.jar when compiling servlet","body":"<p>I'm working on creating a Servlet for a tomcat webpage and the Servlet will not compile.</p>\n<p>I'm using the servlet-api.jar &amp; mysql-connector.8.0.28.jar for the servlet, and there are also several JavaBeans I have created to store information being passed between the database and the page.</p>\n<p>The directory structure for tomcat is as follows:</p>\n<ul>\n<li>all .jar files are in ./Tomcat/tomcat-10/lib/</li>\n<li>the servlet to be compiled is stored at ./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/</li>\n<li>the beans are stored at ./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/centerStage/</li>\n</ul>\n<p>This is the command I use to compile everything:</p>\n<pre><code>javac -cp .:./Tomcat/tomcat-10/lib/servlet-api.jar:./Tomcat/tomcat-10/lib/mysql-connector-java-8.0.28.jar -classpath ./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/:./Tomcat/tomcat-10/lib/ ./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java\n</code></pre>\n<p>When I try to compile the servlet I get 9 Errors pointing to the HttpServlet class:</p>\n<pre><code>./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:32: error: cannot find symbol\npublic class CenterStageServlet extends HttpServlet {\n                                        ^\n  symbol: class HttpServlet\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:25: error: cannot find symbol\n@WebServlet(name = &quot;CenterStageServlet&quot;, \n ^\n  symbol: class WebServlet\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:41: error: cannot find symbol\n   public void doGet(HttpServletRequest request, HttpServletResponse response)\n                     ^\n  symbol:   class HttpServletRequest\n  location: class CenterStageServlet\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:41: error: cannot find symbol\n   public void doGet(HttpServletRequest request, HttpServletResponse response)\n                                                 ^\n  symbol:   class HttpServletResponse\n  location: class CenterStageServlet\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:42: error: cannot find symbol\n         throws IOException, ServletException {\n                             ^\n  symbol:   class ServletException\n  location: class CenterStageServlet\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:6: error: package jakarta.servlet does not exist\nimport jakarta.servlet.*;             // Tomcat 10\n^\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:7: error: package jakarta.servlet.http does not exist\nimport jakarta.servlet.http.*;\n^\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:8: error: package jakarta.servlet.annotation does not exist\nimport jakarta.servlet.annotation.*;  // Tomcat 10\n^\n./Tomcat/tomcat-10/webapps/CenterStage/WEB-INF/classes/CenterStageServlet.java:40: error: method does not override or implement a method from a supertype\n   @Override\n   ^\n9 errors\n</code></pre>\n<p>Servlet Code:</p>\n<pre><code>package centerStage;\n\n// To save as &quot;&lt;TOMCAT_HOME&gt;\\webapps\\CenterStage\\WEB-INF\\classes\\CenterStageServlet.java&quot;\nimport java.io.*;\nimport java.sql.*;\nimport jakarta.servlet.*;             // Tomcat 10\nimport jakarta.servlet.http.*;\nimport jakarta.servlet.annotation.*;  // Tomcat 10\n//import javax.servlet.*;             // Tomcat 9\n//import javax.servlet.http.*;\n//import javax.servlet.annotation.*;\nimport java.text.NumberFormat;\nimport java.text.SimpleDateFormat;\nimport java.sql.Date;\nimport java.time.LocalDate;\n\nimport centerStage.*;\n \n@WebServlet(name = &quot;CenterStageServlet&quot;, \n            urlPatterns = {&quot;/appointment&quot;, &quot;/availibility&quot;, &quot;/barber&quot;, &quot;/client&quot;, &quot;/service&quot;})    \n            // Configure the request URL for this servlet (Tomcat 7/Servlet 3.0 upwards)\n\n\npublic class CenterStageServlet extends HttpServlet {\n\n    // Variables\n    \n   // The doGet() runs once per HTTP GET request to this servlet.\n   @Override\n   public void doGet(HttpServletRequest request, HttpServletResponse response)\n         throws IOException, ServletException {\n \n       // Do some processing\n   }\n\n   // Other Methods\n}\n</code></pre>\n<p>I've verified that the .jar's that I'm looking for are in that /lib/ directory.</p>\n<p>Compiling other Webapps in this Tomcat directory don't give me any issues, so I'm not sure what the problem is.</p>\n<p>Any help/suggestions would be great!</p>\n"},{"tags":["java","mxnet","djl"],"answers":[{"tags":[],"owner":{"account_id":18054922,"reputation":281,"user_id":13123639,"display_name":"Frank Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650645162,"creation_date":1650645162,"answer_id":71971973,"question_id":69824818,"body_markdown":"This is due the limited support of boolean type in MXNet. You can reproduce the same issue in Python:\r\n\r\n```\r\nfrom mxnet import nd\r\narray = nd.zeros(1, dtype=&#39;bool&#39;)\r\nnd.negative(array)\r\n```\r\n\r\nYou can try to use PyTorch engine instead of MXNet engine","title":"Getting exception when code runs but no when code is being debugged on DJL","body":"<p>This is due the limited support of boolean type in MXNet. You can reproduce the same issue in Python:</p>\n<pre><code>from mxnet import nd\narray = nd.zeros(1, dtype='bool')\nnd.negative(array)\n</code></pre>\n<p>You can try to use PyTorch engine instead of MXNet engine</p>\n"}],"owner":{"account_id":6663862,"reputation":79,"user_id":5142050,"display_name":"sbd2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650645162,"creation_date":1635942376,"question_id":69824818,"body_markdown":"I am using DJL as a wrapper library for Numpy in Java to perform complex operations on matrices and I am having issues while trying to perform an `NDArray#any()` call.\r\n\r\nI am creating a matrix from a serie of operations and then I want to test if it contains any `true` value.\r\n\r\nThe code snippet that causes this issue is as follows:\r\n\r\n```\r\n      NDArray orthogonallyAccessibleMaskMax = columns.get(index).eq(maxs.get(index))\r\n          .logicalAnd(infiniteSurfaceMask.neg()).logicalAnd(\r\n              deltaNormalsPositions.dot(loopArgumentsMatrixMax.get(index)).gt(RADIUS_TOLERANCE))\r\n          .toType(DataType.FLOAT32, true);\r\n\r\n      if (orthogonallyAccessibleMaskMax.any().getBoolean()) {\r\n        infiniteSurfaceMask.add(orthogonallyAccessibleMaskMax);\r\n      }\r\n```\r\n\r\nThe exception is: \r\n\r\n```\r\nai.djl.engine.EngineException: MXNet engine call failed: MXNetError: Unknown type enum 7\r\nStack trace:\r\n  File &quot;C:\\Users\\Administrator\\kimbergz\\b4\\src\\operator\\numpy\\../tensor/elemwise_unary_op.h&quot;, line 252\r\n\r\n\r\n\tat ai.djl.mxnet.jna.JnaUtils.checkCall(JnaUtils.java:1930)\r\n\tat ai.djl.mxnet.jna.JnaUtils.waitToRead(JnaUtils.java:473)\r\n\tat ai.djl.mxnet.engine.MxNDArray.close(MxNDArray.java:1629)\r\n\tat ai.djl.mxnet.engine.MxNDArray.sum(MxNDArray.java:996)\r\n\tat ai.djl.ndarray.NDArray.any(NDArray.java:4299)\r\n\tat com.package.calculateInfiniteSurfaceMask(DeltaThicknessStep.java:137)\r\n```\r\n\r\nCurious is that, if I debug the code and go step by step, the operation is correctly performed and I get the boolean value that I am looking for. But if I let the code run without breakpoints **every** operation performed on `orthogonallyAccessibleMaskMax` will throw this exception.","title":"Getting exception when code runs but no when code is being debugged on DJL","body":"<p>I am using DJL as a wrapper library for Numpy in Java to perform complex operations on matrices and I am having issues while trying to perform an <code>NDArray#any()</code> call.</p>\n<p>I am creating a matrix from a serie of operations and then I want to test if it contains any <code>true</code> value.</p>\n<p>The code snippet that causes this issue is as follows:</p>\n<pre><code>      NDArray orthogonallyAccessibleMaskMax = columns.get(index).eq(maxs.get(index))\n          .logicalAnd(infiniteSurfaceMask.neg()).logicalAnd(\n              deltaNormalsPositions.dot(loopArgumentsMatrixMax.get(index)).gt(RADIUS_TOLERANCE))\n          .toType(DataType.FLOAT32, true);\n\n      if (orthogonallyAccessibleMaskMax.any().getBoolean()) {\n        infiniteSurfaceMask.add(orthogonallyAccessibleMaskMax);\n      }\n</code></pre>\n<p>The exception is:</p>\n<pre><code>ai.djl.engine.EngineException: MXNet engine call failed: MXNetError: Unknown type enum 7\nStack trace:\n  File &quot;C:\\Users\\Administrator\\kimbergz\\b4\\src\\operator\\numpy\\../tensor/elemwise_unary_op.h&quot;, line 252\n\n\n    at ai.djl.mxnet.jna.JnaUtils.checkCall(JnaUtils.java:1930)\n    at ai.djl.mxnet.jna.JnaUtils.waitToRead(JnaUtils.java:473)\n    at ai.djl.mxnet.engine.MxNDArray.close(MxNDArray.java:1629)\n    at ai.djl.mxnet.engine.MxNDArray.sum(MxNDArray.java:996)\n    at ai.djl.ndarray.NDArray.any(NDArray.java:4299)\n    at com.package.calculateInfiniteSurfaceMask(DeltaThicknessStep.java:137)\n</code></pre>\n<p>Curious is that, if I debug the code and go step by step, the operation is correctly performed and I get the boolean value that I am looking for. But if I let the code run without breakpoints <strong>every</strong> operation performed on <code>orthogonallyAccessibleMaskMax</code> will throw this exception.</p>\n"},{"tags":["java","spring","user-interface","collision-detection","maze"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":0,"creation_date":1649425328,"post_id":71797924,"comment_id":126879110,"body_markdown":"I am not a game programmer, but I feel like you would not want to check every wall in the game every time you move to see if you collide with anything.  I feel like you would want a class that contains the range of the play area that uses coordinates to lay \n a `GameObject`  in it, so all you would need to do is check what occupied the range of coordinates and if it is a `Wall extends GameObject` you can&#39;t move there, but again I could be off since this is not my domain.","body":"I am not a game programmer, but I feel like you would not want to check every wall in the game every time you move to see if you collide with anything.  I feel like you would want a class that contains the range of the play area that uses coordinates to lay   a <code>GameObject</code>  in it, so all you would need to do is check what occupied the range of coordinates and if it is a <code>Wall extends GameObject</code> you can&#39;t move there, but again I could be off since this is not my domain."}],"answers":[{"tags":[],"owner":{"account_id":24826229,"reputation":36,"user_id":18705979,"display_name":"Jonathan Curtis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649433360,"creation_date":1649433360,"answer_id":71800001,"question_id":71797924,"body_markdown":"I actually just made a game engine, so I&#39;ve worked with collisions quite a bit.\r\n___\r\n- First of all, you are correct, add all your walls to an ArrayList and loop through them and check if the player&#39;s rectangle collides with the other rectangle. Something like this (pseudocode):\r\n```java\r\nfor (Wall w : wallsArrayList) {\r\n   if (myRectangle.intersects(w)) {\r\n      return true;\r\n   }\r\n}\r\n```\r\n- If performance is an issue, you could try this, however I have not run into any issues in my games using the solution above:\r\n- Create a Rectangle object that follows the player around, you could make it the size of the viewport if you want, or just make it a bit larger than the player. Get all the Rectangles *inside* the larger rectangle that follows the player, then loop through those and check the collisions. As far as performance goes, I&#39;m not entirely sure if it&#39;s too much better, but in my mind, it seems like it would be.\r\n&lt;br&gt;&lt;br&gt;*this is my first answer on Stackoverflow... so lemme know if I did anything wrong :)*","title":"How to check if a player has collided with any wall Java","body":"<p>I actually just made a game engine, so I've worked with collisions quite a bit.</p>\n<hr />\n<ul>\n<li>First of all, you are correct, add all your walls to an ArrayList and loop through them and check if the player's rectangle collides with the other rectangle. Something like this (pseudocode):</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>for (Wall w : wallsArrayList) {\n   if (myRectangle.intersects(w)) {\n      return true;\n   }\n}\n</code></pre>\n<ul>\n<li>If performance is an issue, you could try this, however I have not run into any issues in my games using the solution above:</li>\n<li>Create a Rectangle object that follows the player around, you could make it the size of the viewport if you want, or just make it a bit larger than the player. Get all the Rectangles <em>inside</em> the larger rectangle that follows the player, then loop through those and check the collisions. As far as performance goes, I'm not entirely sure if it's too much better, but in my mind, it seems like it would be.\n<br><br><em>this is my first answer on Stackoverflow... so lemme know if I did anything wrong :)</em></li>\n</ul>\n"}],"owner":{"account_id":20043619,"reputation":355,"user_id":14693830,"display_name":"Jeff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71800001,"answer_count":1,"score":0,"last_activity_date":1650645039,"creation_date":1649424594,"question_id":71797924,"body_markdown":"I am making a maze game and I am trying to implement a wall feature that will restrict the movement of a player if he collides with a wall. I have created a wall class so that I can implement multiple walls manually. The problem is my intersectsWith method which detects if a circle and a rectangle are colliding(player is a circle) takes in a player of type Player and a single wall of type Wall. How would I make it so that my method can detect collision to all the walls in the game and not just one so that if my player encounters any wall it would detect it? I feel like I need to use an ArrayList of walls or something like that.","title":"How to check if a player has collided with any wall Java","body":"<p>I am making a maze game and I am trying to implement a wall feature that will restrict the movement of a player if he collides with a wall. I have created a wall class so that I can implement multiple walls manually. The problem is my intersectsWith method which detects if a circle and a rectangle are colliding(player is a circle) takes in a player of type Player and a single wall of type Wall. How would I make it so that my method can detect collision to all the walls in the game and not just one so that if my player encounters any wall it would detect it? I feel like I need to use an ArrayList of walls or something like that.</p>\n"},{"tags":["java","html","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24624651,"reputation":26,"user_id":18524483,"display_name":"Adam Chappell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650643954,"creation_date":1650643954,"answer_id":71971731,"question_id":71971186,"body_markdown":"The best way to do this is in the context of a partial. If you would like to use something like thymeleaf or jsp you can insert your navbar as one line in each HTML or JSP file and then anytime you change the particular partial file (navbar, header, footer, etc) it will be inserted into whatever page is being displayed in the web app.\r\n\r\nHere is a sample in documentation for Spring.\r\n\r\nhttps://www.baeldung.com/spring-thymeleaf-fragments","title":"Spring Boot: managing APIs over multiple html pages","body":"<p>The best way to do this is in the context of a partial. If you would like to use something like thymeleaf or jsp you can insert your navbar as one line in each HTML or JSP file and then anytime you change the particular partial file (navbar, header, footer, etc) it will be inserted into whatever page is being displayed in the web app.</p>\n<p>Here is a sample in documentation for Spring.</p>\n<p><a href=\"https://www.baeldung.com/spring-thymeleaf-fragments\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-thymeleaf-fragments</a></p>\n"},{"tags":[],"owner":{"account_id":7181840,"reputation":1565,"user_id":5485454,"display_name":"Kai-Sheng Yang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650644743,"creation_date":1650644743,"answer_id":71971875,"question_id":71971186,"body_markdown":"You can use `${@environment.getProperty(&#39;key&#39;)}` to read property in the `application.properties`\r\nand use `th:fragment` to create a reusable fragment for your pages.\r\n\r\nFirst, create a `nav.html`\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;ul th:fragment=&quot;nav&quot; class=&quot;navbar-nav mr-auto&quot;&gt;\r\n    &lt;li class=&quot;nav-item active&quot;&gt;\r\n      &lt;a th:href=&quot;${@environment.getProperty(&#39;your.home.property.here&#39;)}&quot; class=&quot;nav-link&quot;&gt;Home&lt;/a&gt;      \r\n    &lt;/li&gt;\r\n    &lt;li class=&quot;nav-item&quot;&gt;\r\n      &lt;a th:href=&quot;${@environment.getProperty(&#39;your.products.property.here&#39;)}&quot; class=&quot;nav-link&quot;&gt;All Products&lt;/a&gt;\r\n    &lt;/li&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\nand use `th:replace` in your pages.\r\n\r\n```html\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\r\n    &lt;title&gt;Hello Thymeleaf&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;div th:replace=&quot;nav :: nav&quot;&gt;&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"Spring Boot: managing APIs over multiple html pages","body":"<p>You can use <code>${@environment.getProperty('key')}</code> to read property in the <code>application.properties</code>\nand use <code>th:fragment</code> to create a reusable fragment for your pages.</p>\n<p>First, create a <code>nav.html</code></p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;&lt;/head&gt;\n&lt;body&gt;\n  &lt;ul th:fragment=&quot;nav&quot; class=&quot;navbar-nav mr-auto&quot;&gt;\n    &lt;li class=&quot;nav-item active&quot;&gt;\n      &lt;a th:href=&quot;${@environment.getProperty('your.home.property.here')}&quot; class=&quot;nav-link&quot;&gt;Home&lt;/a&gt;      \n    &lt;/li&gt;\n    &lt;li class=&quot;nav-item&quot;&gt;\n      &lt;a th:href=&quot;${@environment.getProperty('your.products.property.here')}&quot; class=&quot;nav-link&quot;&gt;All Products&lt;/a&gt;\n    &lt;/li&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>and use <code>th:replace</code> in your pages.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;/&gt;\n    &lt;title&gt;Hello Thymeleaf&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div th:replace=&quot;nav :: nav&quot;&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}],"owner":{"account_id":10545059,"reputation":23,"user_id":7769619,"display_name":"Joel Henz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71971731,"answer_count":2,"score":1,"last_activity_date":1650644743,"creation_date":1650641311,"question_id":71971186,"body_markdown":"i am building a web application using Spring Boot and HTML pages.\r\n\r\nIn multiple HTML pages I am using the same navbar:\r\n\r\n    &lt;ul class=&quot;navbar-nav mr-auto&quot;&gt; \r\n                &lt;li class=&quot;nav-item active&quot;&gt;\r\n                    &lt;a href=&quot;/home&quot; class=&quot;nav-link&quot;&gt;Home&lt;/a&gt;\r\n                &lt;/li&gt;\r\n                &lt;li class=&quot;nav-item&quot;&gt;\r\n                    &lt;a href=&quot;/user/showAllProducts&quot; class=&quot;nav-link&quot;&gt;All Products&lt;/a&gt;\r\n                &lt;/li&gt;\r\n\r\nNow I had to change the URL of the API that shows all products (/user/showAllProducts) and I had to change about 10 HTML pages.\r\n\r\nIs there an easy way to manage all API URLs in one config file (application.properties?) and directly injecting them in HTML pages?\r\nThe list item that will show all products is just one example of many other links in the navbar.\r\n\r\nThanks a lot for your help","title":"Spring Boot: managing APIs over multiple html pages","body":"<p>i am building a web application using Spring Boot and HTML pages.</p>\n<p>In multiple HTML pages I am using the same navbar:</p>\n<pre><code>&lt;ul class=&quot;navbar-nav mr-auto&quot;&gt; \n            &lt;li class=&quot;nav-item active&quot;&gt;\n                &lt;a href=&quot;/home&quot; class=&quot;nav-link&quot;&gt;Home&lt;/a&gt;\n            &lt;/li&gt;\n            &lt;li class=&quot;nav-item&quot;&gt;\n                &lt;a href=&quot;/user/showAllProducts&quot; class=&quot;nav-link&quot;&gt;All Products&lt;/a&gt;\n            &lt;/li&gt;\n</code></pre>\n<p>Now I had to change the URL of the API that shows all products (/user/showAllProducts) and I had to change about 10 HTML pages.</p>\n<p>Is there an easy way to manage all API URLs in one config file (application.properties?) and directly injecting them in HTML pages?\nThe list item that will show all products is just one example of many other links in the navbar.</p>\n<p>Thanks a lot for your help</p>\n"},{"tags":["java","lombok","functional-interface"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650644633,"creation_date":1650640654,"answer_id":71971051,"question_id":71970641,"body_markdown":"&gt; Illegal forward reference, while calling `getColumn` from `getCsvRow`\r\n\r\nQuote from the [Java language specification](https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.3):\r\n\r\n&gt; it is a **compile-time error** if all of the following are true:\r\n&gt; * The **declaration** of a class variable in a class or interface C **appears textually after a use** of the class variable;\r\n\r\nThe compiler is telling you that you are trying to use function `getColumn` before it has been declared. \r\n\r\nAny variable should be declared above the code that uses that variable. You should swap the order of functions to fix this compilation error.\r\n_________________________________________________\r\n\r\nThere are few more issues:\r\n\r\n* Apart from the mess causes by `Csv` prefix that appears randomly in the names, it&#39;s unclear how the result return the function that produces a `Column` object could be assigned to a `List&lt;Column&gt;`.\r\n\r\n* Also, it doesn&#39;t make much sense to use a function with a void argument `Function&lt;Void, CsvRow&gt;` - utilize a [`Supplier&lt;CsvRow&gt;`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html) instead. Because you are not transforming the data which is the responsibility of function instead, but you need to provide an object and that is what supplier interface is meant for.","title":"Illegal forward reference while calling one fuction from another function java 11 functional interface","body":"<blockquote>\n<p>Illegal forward reference, while calling <code>getColumn</code> from <code>getCsvRow</code></p>\n</blockquote>\n<p>Quote from the <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.3.3\" rel=\"nofollow noreferrer\">Java language specification</a>:</p>\n<blockquote>\n<p>it is a <strong>compile-time error</strong> if all of the following are true:</p>\n<ul>\n<li>The <strong>declaration</strong> of a class variable in a class or interface C <strong>appears textually after a use</strong> of the class variable;</li>\n</ul>\n</blockquote>\n<p>The compiler is telling you that you are trying to use function <code>getColumn</code> before it has been declared.</p>\n<p>Any variable should be declared above the code that uses that variable. You should swap the order of functions to fix this compilation error.</p>\n<hr />\n<p>There are few more issues:</p>\n<ul>\n<li><p>Apart from the mess causes by <code>Csv</code> prefix that appears randomly in the names, it's unclear how the result return the function that produces a <code>Column</code> object could be assigned to a <code>List&lt;Column&gt;</code>.</p>\n</li>\n<li><p>Also, it doesn't make much sense to use a function with a void argument <code>Function&lt;Void, CsvRow&gt;</code> - utilize a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Supplier.html\" rel=\"nofollow noreferrer\"><code>Supplier&lt;CsvRow&gt;</code></a> instead. Because you are not transforming the data which is the responsibility of function instead, but you need to provide an object and that is what supplier interface is meant for.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":12688704,"reputation":74,"user_id":9219612,"display_name":"MUKUL JHA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650644633,"creation_date":1650638795,"question_id":71970641,"body_markdown":"    @Getter @Setter\r\n    Class Row{\r\n      private int position;\r\n      private String name;\r\n      private List&lt;Column&gt; columns;\r\n    }\r\n    \r\n    @Getter @Setter\r\n    Class Column{\r\n      private int position;\r\n      private String name;\r\n      private String description;\r\n    }\r\n    \r\n    @UtilityClass\r\n    class CsvUtils{\r\n    \r\n       public Function&lt;Void, Row&gt; getCsvRow = (nothing) -&gt; {\r\n            Row row = new Row();\r\n            row.setPosition(1);\r\n            row.setName(&quot;Student Details&quot;);\r\n\r\n            // CE : Illegal forward reference\r\n            List&lt;Column&gt; columns = getCsvColumn.apply(null);\r\n            row.setColumns(columns);\r\n            return row;\r\n        };\r\n    \r\n        public Function&lt;Void, Column&gt; getColumn = (nothing) -&gt; {\r\n           Column csvColumn = new Column();\r\n           csvColumn.setPosition(1);\r\n           csvColumn.setName(&quot;Marks&quot;);\r\n           return csvColumn;\r\n        };\r\n    }\r\n\r\nGetting CE that is Illegal forward reference, while calling getColumn from getCsvRow. \r\nList&lt;Column&gt; columns = getCsvColumn.apply(null);\r\n\r\nNeed your help to solve this problem.\r\n\r\nOne way i know that is convert functional interface to java methods then i can call method &quot;getColumn&quot; from &quot;getCsvRow&quot;\r\n\r\nLooking for other solutions","title":"Illegal forward reference while calling one fuction from another function java 11 functional interface","body":"<pre><code>@Getter @Setter\nClass Row{\n  private int position;\n  private String name;\n  private List&lt;Column&gt; columns;\n}\n\n@Getter @Setter\nClass Column{\n  private int position;\n  private String name;\n  private String description;\n}\n\n@UtilityClass\nclass CsvUtils{\n\n   public Function&lt;Void, Row&gt; getCsvRow = (nothing) -&gt; {\n        Row row = new Row();\n        row.setPosition(1);\n        row.setName(&quot;Student Details&quot;);\n\n        // CE : Illegal forward reference\n        List&lt;Column&gt; columns = getCsvColumn.apply(null);\n        row.setColumns(columns);\n        return row;\n    };\n\n    public Function&lt;Void, Column&gt; getColumn = (nothing) -&gt; {\n       Column csvColumn = new Column();\n       csvColumn.setPosition(1);\n       csvColumn.setName(&quot;Marks&quot;);\n       return csvColumn;\n    };\n}\n</code></pre>\n<p>Getting CE that is Illegal forward reference, while calling getColumn from getCsvRow.\nList columns = getCsvColumn.apply(null);</p>\n<p>Need your help to solve this problem.</p>\n<p>One way i know that is convert functional interface to java methods then i can call method &quot;getColumn&quot; from &quot;getCsvRow&quot;</p>\n<p>Looking for other solutions</p>\n"},{"tags":["java","concurrenthashmap"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1650642726,"post_id":71971455,"comment_id":127175415,"body_markdown":"Depends on how/where `lock` is used. --- As an aside: we can use [`Map::putIfAbsent`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putIfAbsent(K,V)) to achieve the same without the need of a `synchronized` block.","body":"Depends on how/where <code>lock</code> is used. --- As an aside: we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#putIfAbsent(K,V)\" rel=\"nofollow noreferrer\"><code>Map::putIfAbsent</code></a> to achieve the same without the need of a <code>synchronized</code> block."}],"answers":[{"tags":[],"owner":{"account_id":11688295,"reputation":395,"user_id":8557336,"display_name":"Orr Benyamini"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650644480,"creation_date":1650644139,"answer_id":71971773,"question_id":71971455,"body_markdown":"When using ConcurrentHashMap, you should not synchronize as you did in the example above.\r\n\r\nBy synchronizing on the map, you are losing the benefits of using ConcurrentHashMap, that does not lock the entire table for every access.\r\n\r\nWhat you should do in your case is to use the atomic operation putIfAbsent.\r\n\r\nWhat you gain is throughput for the map when using in multi threaded manner.","title":"synchronised block for concurrent hashmap","body":"<p>When using ConcurrentHashMap, you should not synchronize as you did in the example above.</p>\n<p>By synchronizing on the map, you are losing the benefits of using ConcurrentHashMap, that does not lock the entire table for every access.</p>\n<p>What you should do in your case is to use the atomic operation putIfAbsent.</p>\n<p>What you gain is throughput for the map when using in multi threaded manner.</p>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71971773,"answer_count":1,"score":0,"last_activity_date":1650644480,"creation_date":1650642590,"question_id":71971455,"body_markdown":"When using a concurrent hashmap do i need to wrap the put around a synchronised block, is there a chance of a race condition: \r\n\r\n        synchronized(lock) {\r\n            if(this.map.get(id) != null) {\r\n                throw new Exception();\r\n            }\r\n            this.map.put(id, number);\r\n            return true;\r\n        }","title":"synchronised block for concurrent hashmap","body":"<p>When using a concurrent hashmap do i need to wrap the put around a synchronised block, is there a chance of a race condition:</p>\n<pre><code>    synchronized(lock) {\n        if(this.map.get(id) != null) {\n            throw new Exception();\n        }\n        this.map.put(id, number);\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","cron","quartz"],"comments":[{"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"score":0,"creation_date":1650607068,"post_id":71963994,"comment_id":127162840,"body_markdown":"Possibly duplicate of https://stackoverflow.com/questions/25240955/get-the-count-of-trigger-in-quartz-scheduler","body":"Possibly duplicate of <a href=\"https://stackoverflow.com/questions/25240955/get-the-count-of-trigger-in-quartz-scheduler\" title=\"get the count of trigger in quartz scheduler\">stackoverflow.com/questions/25240955/&hellip;</a>"},{"owner":{"account_id":24429399,"reputation":41,"user_id":18354539,"display_name":"LizzyMM"},"score":0,"creation_date":1650607257,"post_id":71963994,"comment_id":127162890,"body_markdown":"I know this question, it is for simpleTrigger of getTimesTriggered, and if use JobDataMap to persist the count, it will only be calculated after execution is done like the annotation PersistJobDataAfterExecution shows","body":"I know this question, it is for simpleTrigger of getTimesTriggered, and if use JobDataMap to persist the count, it will only be calculated after execution is done like the annotation PersistJobDataAfterExecution shows"}],"answers":[{"tags":[],"owner":{"account_id":1136217,"reputation":14336,"user_id":1121249,"accept_rate":86,"display_name":"rkosegi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650607684,"creation_date":1650607684,"answer_id":71964107,"question_id":71963994,"body_markdown":"&gt;for CronTriggerImpl, is there a similar way to achieve this?\r\n\r\n**TLDR no.**\r\n\r\nBut you can implement [JobListener](https://www.quartz-scheduler.org/api/2.3.0/org/quartz/JobListener.html) and register it with your scheduler like this:\r\n\r\n```java\r\nscheduler.getListenerManager().addJobListener(myJobListener);\r\n```\r\n\r\nThat way, you will be notified everytime job started and finished.\r\nYou can retrieve Trigger instance from [JobExecutionContext](https://www.quartz-scheduler.org/api/2.3.0/org/quartz/JobExecutionContext.html)\r\n\r\nOr similarly you can do with [TriggerListener](https://www.quartz-scheduler.org/api/2.3.0/org/quartz/TriggerListener.html)\r\n\r\n```java\r\nscheduler.getListenerManager().addTriggerListener(myTriggerListener);\r\n```\r\n","title":"Is there are way for CronTriggerImpl to get how many times it have been triggered","body":"<blockquote>\n<p>for CronTriggerImpl, is there a similar way to achieve this?</p>\n</blockquote>\n<p><strong>TLDR no.</strong></p>\n<p>But you can implement <a href=\"https://www.quartz-scheduler.org/api/2.3.0/org/quartz/JobListener.html\" rel=\"nofollow noreferrer\">JobListener</a> and register it with your scheduler like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>scheduler.getListenerManager().addJobListener(myJobListener);\n</code></pre>\n<p>That way, you will be notified everytime job started and finished.\nYou can retrieve Trigger instance from <a href=\"https://www.quartz-scheduler.org/api/2.3.0/org/quartz/JobExecutionContext.html\" rel=\"nofollow noreferrer\">JobExecutionContext</a></p>\n<p>Or similarly you can do with <a href=\"https://www.quartz-scheduler.org/api/2.3.0/org/quartz/TriggerListener.html\" rel=\"nofollow noreferrer\">TriggerListener</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>scheduler.getListenerManager().addTriggerListener(myTriggerListener);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7529235,"reputation":1142,"user_id":5718106,"display_name":"Sibin Muhammed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650643847,"creation_date":1650613679,"answer_id":71965193,"question_id":71963994,"body_markdown":"Here is an example program based on @rkosegi suggestion.  \r\nUsing `org.quartz.TriggerListener` or `org.quartz.JobListener`\r\n\r\n**ByeJob.java**\r\n\r\n    public class ByeJob implements Job {\r\n    \r\n    \tprivate ByeService bs = new ByeService();\r\n    \r\n    \tpublic void execute(JobExecutionContext context) throws JobExecutionException {\r\n    \t\tbs.sayGoodbye();\r\n    \t}\r\n    }\r\n\r\n**ByeService.java**\r\n    \r\n        public class ByeService {\r\n        \r\n        \tpublic void sayGoodbye() {\r\n        \t\tSystem.out.println(&quot;Testing &quot; + new Date());\r\n        \t}\r\n        }\r\n\r\nUsing **GlobalJobListner.java**\r\n\r\n    public class GlobalJobListner implements JobListener {\r\n    \r\n    \tprivate static final String TRIGGER_LISTENER_NAME = &quot;GlobalJobListner&quot;;\r\n    \tAtomicInteger count = new AtomicInteger(0);\r\n    \r\n    \t@Override\r\n    \tpublic String getName() {\r\n    \t\treturn TRIGGER_LISTENER_NAME;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void jobWasExecuted(JobExecutionContext context) {\r\n    \tString triggerName = context.getTrigger().getKey().toString();\r\n    \tString jobName = context.getJobDetail().getKey().toString();\r\n    \tcount.incrementAndGet();\r\n    \tSystem.out.println(&quot;trigger : &quot; + triggerName + &quot; is fired and &quot; + &quot;total count=&quot; + count.get());\r\n    \tSystem.out.println(&quot;job : &quot; + jobName + &quot; is fired and &quot; + &quot;total count=&quot; + count.get());\r\n    \r\n    \t}\r\n    .....................\r\n    }\r\n\r\nor Using **GlobalTriggerListener.java**\r\n\r\n        public class GlobalTriggerListener implements TriggerListener {\r\n        \r\n        \tprivate static final String TRIGGER_LISTENER_NAME = &quot;GlobalTriggerListener&quot;;\r\n        \tAtomicInteger count = new AtomicInteger(0);\r\n        \r\n        \t@Override\r\n        \tpublic String getName() {\r\n        \t\treturn TRIGGER_LISTENER_NAME;\r\n        \t}\r\n        \r\n        \t@Override\r\n        \tpublic void triggerFired(Trigger trigger, JobExecutionContext context) {\r\n        \t\tString triggerName = context.getTrigger().getKey().toString();\r\n    \t\tString jobName = context.getJobDetail().getKey().toString();\r\n    \t\tcount.incrementAndGet();\r\n    \t\tSystem.out.println(&quot;trigger : &quot; + triggerName + &quot; is fired and &quot; + &quot;total count=&quot; + count.get());\r\n    \t\tSystem.out.println(&quot;job : &quot; + jobName + &quot; is fired and &quot; + &quot;total count=&quot; + count.get());\r\n    }\r\n        ................\r\n        }\r\n\r\n**Verify**\r\n\r\n    public class Tester {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\ttry {\r\n    \t\t\tJobDetail job = JobBuilder.newJob(ByeJob.class).withIdentity(&quot;byeJob&quot;, &quot;group1&quot;).build();\r\n    \t\t\tCronTriggerImpl trigger = new CronTriggerImpl();\r\n    \t\t\ttrigger.setName(&quot;T1&quot;);\r\n    \t\t\ttrigger.setCronExpression(&quot;0/5 * * * * ?&quot;);\r\n    \r\n    \t\t\tScheduler scheduler2 = new StdSchedulerFactory().getScheduler();\r\n    \r\n    \t\t\t// register global trigger\r\n    \t\t\tscheduler2.getListenerManager().addTriggerListener(new GlobalTriggerListener());\r\n    \r\n    \t\t\t// register global listner\r\n    \t\t\tscheduler2.getListenerManager().addJobListener(new GlobalJobListner());\r\n    \r\n    \t\t\tscheduler2.start();\r\n    \t\t\tscheduler2.scheduleJob(job, trigger);\r\n    \r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n   \r\n    }\r\n\r\n**Output:**\r\n\r\n    13:46:43.402 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers\r\n    13:46:43.408 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.core.QuartzSchedulerThread - batch acquisition of 1 triggers\r\n    13:46:45.004 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.simpl.PropertySettingJobFactory - Producing instance of Job &#39;group1.byeJob&#39;, class=com.example.demo.ByeJob\r\n    trigger : DEFAULT.T1 is fired and total count=1\r\n    job : group1.byeJob is fired and total count=1\r\n    trigger : DEFAULT.T1 is fired and total count=1\r\n    job : group1.byeJob is fired and total count=1\r\n    13:46:45.009 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.core.QuartzSchedulerThread - batch acquisition of 1 triggers\r\n    13:46:45.009 [DefaultQuartzScheduler_Worker-1] DEBUG org.quartz.core.JobRunShell - Calling execute on job group1.byeJob\r\n    Testing Fri Apr 22 13:46:45 IST 2022\r\n    13:46:50.002 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.simpl.PropertySettingJobFactory - Producing instance of Job &#39;group1.byeJob&#39;, class=com.example.demo.ByeJob\r\n    13:46:50.003 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.core.QuartzSchedulerThread - batch acquisition of 1 triggers\r\n    trigger : DEFAULT.T1 is fired and total count=2\r\n    job : group1.byeJob is fired and total count=2\r\n    trigger : DEFAULT.T1 is fired and total count=2\r\n    job : group1.byeJob is fired and total count=2\r\n    13:46:50.003 [DefaultQuartzScheduler_Worker-2] DEBUG org.quartz.core.JobRunShell - Calling execute on job group1.byeJob\r\n    Testing Fri Apr 22 13:46:50 IST 2022\r\n    13:46:55.003 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.simpl.PropertySettingJobFactory - Producing instance of Job &#39;group1.byeJob&#39;, class=com.example.demo.ByeJob\r\n    trigger : DEFAULT.T1 is fired and total count=3\r\n    job : group1.byeJob is fired and total count=3\r\n    trigger : DEFAULT.T1 is fired and total count=3\r\n    job : group1.byeJob is fired and total count=3","title":"Is there are way for CronTriggerImpl to get how many times it have been triggered","body":"<p>Here is an example program based on @rkosegi suggestion.<br />\nUsing <code>org.quartz.TriggerListener</code> or <code>org.quartz.JobListener</code></p>\n<p><strong>ByeJob.java</strong></p>\n<pre><code>public class ByeJob implements Job {\n\n    private ByeService bs = new ByeService();\n\n    public void execute(JobExecutionContext context) throws JobExecutionException {\n        bs.sayGoodbye();\n    }\n}\n</code></pre>\n<p><strong>ByeService.java</strong></p>\n<pre><code>    public class ByeService {\n    \n        public void sayGoodbye() {\n            System.out.println(&quot;Testing &quot; + new Date());\n        }\n    }\n</code></pre>\n<p>Using <strong>GlobalJobListner.java</strong></p>\n<pre><code>public class GlobalJobListner implements JobListener {\n\n    private static final String TRIGGER_LISTENER_NAME = &quot;GlobalJobListner&quot;;\n    AtomicInteger count = new AtomicInteger(0);\n\n    @Override\n    public String getName() {\n        return TRIGGER_LISTENER_NAME;\n    }\n\n    @Override\n    public void jobWasExecuted(JobExecutionContext context) {\n    String triggerName = context.getTrigger().getKey().toString();\n    String jobName = context.getJobDetail().getKey().toString();\n    count.incrementAndGet();\n    System.out.println(&quot;trigger : &quot; + triggerName + &quot; is fired and &quot; + &quot;total count=&quot; + count.get());\n    System.out.println(&quot;job : &quot; + jobName + &quot; is fired and &quot; + &quot;total count=&quot; + count.get());\n\n    }\n.....................\n}\n</code></pre>\n<p>or Using <strong>GlobalTriggerListener.java</strong></p>\n<pre><code>    public class GlobalTriggerListener implements TriggerListener {\n    \n        private static final String TRIGGER_LISTENER_NAME = &quot;GlobalTriggerListener&quot;;\n        AtomicInteger count = new AtomicInteger(0);\n    \n        @Override\n        public String getName() {\n            return TRIGGER_LISTENER_NAME;\n        }\n    \n        @Override\n        public void triggerFired(Trigger trigger, JobExecutionContext context) {\n            String triggerName = context.getTrigger().getKey().toString();\n        String jobName = context.getJobDetail().getKey().toString();\n        count.incrementAndGet();\n        System.out.println(&quot;trigger : &quot; + triggerName + &quot; is fired and &quot; + &quot;total count=&quot; + count.get());\n        System.out.println(&quot;job : &quot; + jobName + &quot; is fired and &quot; + &quot;total count=&quot; + count.get());\n}\n    ................\n    }\n</code></pre>\n<p><strong>Verify</strong></p>\n<pre><code>public class Tester {\n\n    public static void main(String[] args) {\n\n        try {\n            JobDetail job = JobBuilder.newJob(ByeJob.class).withIdentity(&quot;byeJob&quot;, &quot;group1&quot;).build();\n            CronTriggerImpl trigger = new CronTriggerImpl();\n            trigger.setName(&quot;T1&quot;);\n            trigger.setCronExpression(&quot;0/5 * * * * ?&quot;);\n\n            Scheduler scheduler2 = new StdSchedulerFactory().getScheduler();\n\n            // register global trigger\n            scheduler2.getListenerManager().addTriggerListener(new GlobalTriggerListener());\n\n            // register global listner\n            scheduler2.getListenerManager().addJobListener(new GlobalJobListner());\n\n            scheduler2.start();\n            scheduler2.scheduleJob(job, trigger);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>13:46:43.402 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.core.QuartzSchedulerThread - batch acquisition of 0 triggers\n13:46:43.408 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.core.QuartzSchedulerThread - batch acquisition of 1 triggers\n13:46:45.004 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.simpl.PropertySettingJobFactory - Producing instance of Job 'group1.byeJob', class=com.example.demo.ByeJob\ntrigger : DEFAULT.T1 is fired and total count=1\njob : group1.byeJob is fired and total count=1\ntrigger : DEFAULT.T1 is fired and total count=1\njob : group1.byeJob is fired and total count=1\n13:46:45.009 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.core.QuartzSchedulerThread - batch acquisition of 1 triggers\n13:46:45.009 [DefaultQuartzScheduler_Worker-1] DEBUG org.quartz.core.JobRunShell - Calling execute on job group1.byeJob\nTesting Fri Apr 22 13:46:45 IST 2022\n13:46:50.002 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.simpl.PropertySettingJobFactory - Producing instance of Job 'group1.byeJob', class=com.example.demo.ByeJob\n13:46:50.003 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.core.QuartzSchedulerThread - batch acquisition of 1 triggers\ntrigger : DEFAULT.T1 is fired and total count=2\njob : group1.byeJob is fired and total count=2\ntrigger : DEFAULT.T1 is fired and total count=2\njob : group1.byeJob is fired and total count=2\n13:46:50.003 [DefaultQuartzScheduler_Worker-2] DEBUG org.quartz.core.JobRunShell - Calling execute on job group1.byeJob\nTesting Fri Apr 22 13:46:50 IST 2022\n13:46:55.003 [DefaultQuartzScheduler_QuartzSchedulerThread] DEBUG org.quartz.simpl.PropertySettingJobFactory - Producing instance of Job 'group1.byeJob', class=com.example.demo.ByeJob\ntrigger : DEFAULT.T1 is fired and total count=3\njob : group1.byeJob is fired and total count=3\ntrigger : DEFAULT.T1 is fired and total count=3\njob : group1.byeJob is fired and total count=3\n</code></pre>\n"}],"owner":{"account_id":24429399,"reputation":41,"user_id":18354539,"display_name":"LizzyMM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1650643847,"creation_date":1650606749,"question_id":71963994,"body_markdown":"we can use SimpleTrigger getTimesTriggered to know how many times this schedule have been triggered, for CronTriggerImpl, is there a similar way to achieve this?","title":"Is there are way for CronTriggerImpl to get how many times it have been triggered","body":"<p>we can use SimpleTrigger getTimesTriggered to know how many times this schedule have been triggered, for CronTriggerImpl, is there a similar way to achieve this?</p>\n"},{"tags":["java","protocol-buffers","wildfly","infinispan"],"answers":[{"tags":[],"owner":{"account_id":14901939,"reputation":111,"user_id":10760520,"display_name":"Paul Ferraro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650643781,"creation_date":1649872767,"answer_id":71861966,"question_id":71840371,"body_markdown":"I think the problem is that the &#39;za.co.company.Author&#39; is resolving against your deployment module rather than your custom &#39;za.co.company&#39; module.\r\nYour application should not bundle this class (nor include its jar), but instead include a dependency on the &#39;za.co.company&#39; module.\r\ne.g.\r\n\r\n/META-INF/MANIFEST.MF:\r\n\r\n    Dependencies: za.co.company services\r\n\r\nN.B. This use case should be much simpler in WildFly 27.  You will be able to marshall custom key/value types using ProtoStream without the need to bundle these types within a global module.\r\nSee: https://github.com/wildfly/wildfly/pull/15397","title":"Getting exception when trying to add entry to PROTOSTREAM based cache in Wildfly","body":"<p>I think the problem is that the 'za.co.company.Author' is resolving against your deployment module rather than your custom 'za.co.company' module.\nYour application should not bundle this class (nor include its jar), but instead include a dependency on the 'za.co.company' module.\ne.g.</p>\n<p>/META-INF/MANIFEST.MF:</p>\n<pre><code>Dependencies: za.co.company services\n</code></pre>\n<p>N.B. This use case should be much simpler in WildFly 27.  You will be able to marshall custom key/value types using ProtoStream without the need to bundle these types within a global module.\nSee: <a href=\"https://github.com/wildfly/wildfly/pull/15397\" rel=\"nofollow noreferrer\">https://github.com/wildfly/wildfly/pull/15397</a></p>\n"}],"owner":{"account_id":24910343,"reputation":1,"user_id":18779957,"display_name":"Johan Steenkamp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":580,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650643781,"creation_date":1649756338,"question_id":71840371,"body_markdown":"I want to use an Infinispan cache with a PROTOSTREAM marshaller in my app running on Wildfly 26.0.1.\r\n\r\nI found the following post on StackOverflow, where both @MyKey_ and @Paul_Ferraro gave some excellent pointers on how to do it:\r\n\r\n[How to configure a custom Protostream serialization context initializer for Wildfly Infinispan subsystem?][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71538299/how-to-configure-a-custom-protostream-serialization-context-initializer-for-wild\r\n\r\nI got quite far with this, but at the moment I am experiencing a stumbling block where I am getting an exception when trying to add an entry to this cache.\r\n\r\nBefore getting into detail about the error, I just wanted to give an overview of the stuff I have done so far.\r\n\r\nAs mentioned in the above StackOverflow post, I created a module in which I defined the Initializer as well as the annotated Java entity. For this exercise I copy and pasted from the Book/Author example provided in the Infinispan documentation.\r\n\r\nIn creating this module I used the following Gradle dependency snippet:\r\n\r\n    dependencies {\r\n        annotationProcessor &quot;org.infinispan.protostream:protostream-processor:4.4.1.Final&quot;\r\n        implementation &quot;org.infinispan.protostream:protostream-processor:4.4.1.Final&quot;\r\n        implementation &#39;org.infinispan.protostream:protostream:4.4.1.Final&#39;\r\n    }  \r\n\r\nWhen doing the gradle build to create the module jar, the annotationProcessor automatically adds the files to META-INF, which @Paul_Ferraro mentioned.\r\n\r\nI then copied the generated module to the modules folder in Wildfly, and added a module.xml, which looked as follows:\r\n\r\n    &lt;module name=&quot;za.co.company&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jboss.api&quot; value=&quot;private&quot;/&gt;\r\n        &lt;/properties&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource-root path=&quot;my-module.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;module name=&quot;org.infinispan.protostream&quot;/&gt;\r\n    \t    &lt;module name=&quot;org.jboss.logging&quot;/&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/module&gt;\r\n\r\nI found that the dependencies tag were necessary, otherwise you get some link errors when Wildfly tries to load your module.\r\n\r\nNext, I have added the following snippet to the Infinispan subsystem in my standalone-full-ha.xml:\r\n\r\n        &lt;cache-container name=&quot;company&quot; statistics-enabled=&quot;true&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.infinispan.spi za.co.company&quot;&gt;\r\n            &lt;transport/&gt;\r\n            &lt;replicated-cache name=&quot;author&quot;&gt;\r\n                &lt;off-heap-memory size=&quot;1&quot;/&gt;\r\n            &lt;/replicated-cache&gt;\r\n        &lt;/cache-container&gt;\r\n\r\nI can confirm that Wildfly indeed loads my module specified.\r\n\r\nNow, I used the following code to test the Cache:\r\n\r\n    package za.co.company;\r\n    \r\n    import org.jboss.ejb3.annotation.TransactionTimeout;\r\n    import za.co.company.Author;\r\n    \r\n    import javax.annotation.Resource;\r\n    import javax.ejb.*;\r\n    import java.util.Map;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    @Singleton\r\n    @Startup\r\n    @ConcurrencyManagement(ConcurrencyManagementType.BEAN)\r\n    @AccessTimeout(value = 1, unit = TimeUnit.HOURS)\r\n    @TransactionTimeout(value = 1, unit = TimeUnit.HOURS)\r\n    public class BookCache {\r\n        @Resource(lookup=&quot;java:jboss/infinispan/cache/company/author&quot;)\r\n        private Map&lt;String, Author&gt; cache2;\r\n    \r\n        @Schedule(hour = &quot;*&quot;, minute = &quot;*/1&quot;, persistent = false)\r\n        void testCache() {\r\n            cache2.put(&quot;entry1&quot;, new Author(&quot;Johan&quot;, &quot;Steenkamp&quot;));\r\n        }\r\n    }\r\n\r\nWhen trying to add the entry to the Cache, I get the following exception:\r\n\r\n    Caused by: org.infinispan.commons.marshall.MarshallingException: ISPN000615: Unable to unmarshall &#39;za.co.company.Author&#39; as a marshaller is not present in the user or global SerializationContext\r\n    \tat org.infinispan@12.1.7.final//org.infinispan.encoding.protostreamtranscoder.getctxformarshalling(protostreamtranscoder.java:198)\r\n    \tat org.infinispan@12.1.7.final//org.infinispan.encoding.protostreamtranscoder.marshall(protostreamtranscoder.java:127)\r\n    \tat org.infinispan@12.1.7.final//org.infinispan.encoding.protostreamtranscoder.transcode(protostreamtranscoder.java:68)\r\n    \tat org.infinispan@12.1.7.final//org.infinispan.encoding.dataconversion.tostorage(dataconversion.java:227)\r\n    \tat org.infinispan@12.1.7.final//org.infinispan.cache.impl.encodercache.valuetostorage(encodercache.java:105)\r\n    \tat org.infinispan@12.1.7.final//org.infinispan.cache.impl.encodercache.put(encodercache.java:698)\r\n    \tat org.infinispan@12.1.7.final//org.infinispan.cache.impl.abstractdelegatingcache.put(abstractdelegatingcache.java:449)\r\n    \tat deployment.Company.war//za.co.company.BookCache.testCache(BookCache.java:22)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImp\r\n\r\nIn order to debug this issue, I have added some source files from Wildfly and Infinispan, just to get an idea what was happening behind the scenes. I was debugging this in debug mode in IntelliJ, and encountered a couple of things that was strange.\r\n\r\nFirstly, I added a breakpoint at the cach2.put line, and evaluated the following:\r\n\r\n    cache2.getCacheManager().getCacheManagerConfiguration().cacheContainer().serialization.marshaller()\r\n\r\nIn the results I spotted a field *marshallersByClass*. This was a HashMap and I could see an entry with *Author.class* as the key for the entry.\r\n\r\nI also placed a breakpoint within the following method of ProtostreamTranscoder.java:\r\n\r\n       private ImmutableSerializationContext getCtxForMarshalling(Object o) {\r\n          Class&lt;?&gt; clazz = o instanceof Class&lt;?&gt; ? (Class&lt;?&gt;) o : o.getClass();\r\n          if (isWrappedMessageClass(clazz) || ctxRegistry.getUserCtx().canMarshall(clazz))\r\n             return ctxRegistry.getUserCtx();\r\n    \r\n          if (ctxRegistry.getGlobalCtx().canMarshall(clazz))\r\n             return ctxRegistry.getGlobalCtx();\r\n    \r\n          throw logger.marshallerMissingFromUserAndGlobalContext(o.getClass().getName());\r\n       }\r\n\r\nThe weird thing here is that evaluating both *ctxRegistry.getUserCtx()* and *ctxRegistry.getGlobalCtx()* and returns a HashMap that doesn&#39;t faintly resembles the HashMap I mentioned earlier.\r\n\r\nAnother thing I can also confirm is that my Initializer get registered in the class org.infinispan.protostream.impl.SerializationContextImpl upon startup via the method registerMarshaller, which adds it to the field *marshallersByClass* of that class.\r\n\r\nHowever, when I do *cache.put*, it seems that a total different list of marshallers is used, to try and find my Marshaller.\r\n\r\nCan someone try and point me in the right direction?\r\n\r\nThanks","title":"Getting exception when trying to add entry to PROTOSTREAM based cache in Wildfly","body":"<p>I want to use an Infinispan cache with a PROTOSTREAM marshaller in my app running on Wildfly 26.0.1.</p>\n<p>I found the following post on StackOverflow, where both @MyKey_ and @Paul_Ferraro gave some excellent pointers on how to do it:</p>\n<p><a href=\"https://stackoverflow.com/questions/71538299/how-to-configure-a-custom-protostream-serialization-context-initializer-for-wild\">How to configure a custom Protostream serialization context initializer for Wildfly Infinispan subsystem?</a></p>\n<p>I got quite far with this, but at the moment I am experiencing a stumbling block where I am getting an exception when trying to add an entry to this cache.</p>\n<p>Before getting into detail about the error, I just wanted to give an overview of the stuff I have done so far.</p>\n<p>As mentioned in the above StackOverflow post, I created a module in which I defined the Initializer as well as the annotated Java entity. For this exercise I copy and pasted from the Book/Author example provided in the Infinispan documentation.</p>\n<p>In creating this module I used the following Gradle dependency snippet:</p>\n<pre><code>dependencies {\n    annotationProcessor &quot;org.infinispan.protostream:protostream-processor:4.4.1.Final&quot;\n    implementation &quot;org.infinispan.protostream:protostream-processor:4.4.1.Final&quot;\n    implementation 'org.infinispan.protostream:protostream:4.4.1.Final'\n}  \n</code></pre>\n<p>When doing the gradle build to create the module jar, the annotationProcessor automatically adds the files to META-INF, which @Paul_Ferraro mentioned.</p>\n<p>I then copied the generated module to the modules folder in Wildfly, and added a module.xml, which looked as follows:</p>\n<pre><code>&lt;module name=&quot;za.co.company&quot; xmlns=&quot;urn:jboss:module:1.9&quot;&gt;\n    &lt;properties&gt;\n        &lt;property name=&quot;jboss.api&quot; value=&quot;private&quot;/&gt;\n    &lt;/properties&gt;\n    &lt;resources&gt;\n        &lt;resource-root path=&quot;my-module.jar&quot;/&gt;\n    &lt;/resources&gt;\n    &lt;dependencies&gt;\n        &lt;module name=&quot;org.infinispan.protostream&quot;/&gt;\n        &lt;module name=&quot;org.jboss.logging&quot;/&gt;\n    &lt;/dependencies&gt;\n&lt;/module&gt;\n</code></pre>\n<p>I found that the dependencies tag were necessary, otherwise you get some link errors when Wildfly tries to load your module.</p>\n<p>Next, I have added the following snippet to the Infinispan subsystem in my standalone-full-ha.xml:</p>\n<pre><code>    &lt;cache-container name=&quot;company&quot; statistics-enabled=&quot;true&quot; marshaller=&quot;PROTOSTREAM&quot; modules=&quot;org.wildfly.clustering.infinispan.spi za.co.company&quot;&gt;\n        &lt;transport/&gt;\n        &lt;replicated-cache name=&quot;author&quot;&gt;\n            &lt;off-heap-memory size=&quot;1&quot;/&gt;\n        &lt;/replicated-cache&gt;\n    &lt;/cache-container&gt;\n</code></pre>\n<p>I can confirm that Wildfly indeed loads my module specified.</p>\n<p>Now, I used the following code to test the Cache:</p>\n<pre><code>package za.co.company;\n\nimport org.jboss.ejb3.annotation.TransactionTimeout;\nimport za.co.company.Author;\n\nimport javax.annotation.Resource;\nimport javax.ejb.*;\nimport java.util.Map;\nimport java.util.concurrent.TimeUnit;\n\n@Singleton\n@Startup\n@ConcurrencyManagement(ConcurrencyManagementType.BEAN)\n@AccessTimeout(value = 1, unit = TimeUnit.HOURS)\n@TransactionTimeout(value = 1, unit = TimeUnit.HOURS)\npublic class BookCache {\n    @Resource(lookup=&quot;java:jboss/infinispan/cache/company/author&quot;)\n    private Map&lt;String, Author&gt; cache2;\n\n    @Schedule(hour = &quot;*&quot;, minute = &quot;*/1&quot;, persistent = false)\n    void testCache() {\n        cache2.put(&quot;entry1&quot;, new Author(&quot;Johan&quot;, &quot;Steenkamp&quot;));\n    }\n}\n</code></pre>\n<p>When trying to add the entry to the Cache, I get the following exception:</p>\n<pre><code>Caused by: org.infinispan.commons.marshall.MarshallingException: ISPN000615: Unable to unmarshall 'za.co.company.Author' as a marshaller is not present in the user or global SerializationContext\n    at org.infinispan@12.1.7.final//org.infinispan.encoding.protostreamtranscoder.getctxformarshalling(protostreamtranscoder.java:198)\n    at org.infinispan@12.1.7.final//org.infinispan.encoding.protostreamtranscoder.marshall(protostreamtranscoder.java:127)\n    at org.infinispan@12.1.7.final//org.infinispan.encoding.protostreamtranscoder.transcode(protostreamtranscoder.java:68)\n    at org.infinispan@12.1.7.final//org.infinispan.encoding.dataconversion.tostorage(dataconversion.java:227)\n    at org.infinispan@12.1.7.final//org.infinispan.cache.impl.encodercache.valuetostorage(encodercache.java:105)\n    at org.infinispan@12.1.7.final//org.infinispan.cache.impl.encodercache.put(encodercache.java:698)\n    at org.infinispan@12.1.7.final//org.infinispan.cache.impl.abstractdelegatingcache.put(abstractdelegatingcache.java:449)\n    at deployment.Company.war//za.co.company.BookCache.testCache(BookCache.java:22)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImp\n</code></pre>\n<p>In order to debug this issue, I have added some source files from Wildfly and Infinispan, just to get an idea what was happening behind the scenes. I was debugging this in debug mode in IntelliJ, and encountered a couple of things that was strange.</p>\n<p>Firstly, I added a breakpoint at the cach2.put line, and evaluated the following:</p>\n<pre><code>cache2.getCacheManager().getCacheManagerConfiguration().cacheContainer().serialization.marshaller()\n</code></pre>\n<p>In the results I spotted a field <em>marshallersByClass</em>. This was a HashMap and I could see an entry with <em>Author.class</em> as the key for the entry.</p>\n<p>I also placed a breakpoint within the following method of ProtostreamTranscoder.java:</p>\n<pre><code>   private ImmutableSerializationContext getCtxForMarshalling(Object o) {\n      Class&lt;?&gt; clazz = o instanceof Class&lt;?&gt; ? (Class&lt;?&gt;) o : o.getClass();\n      if (isWrappedMessageClass(clazz) || ctxRegistry.getUserCtx().canMarshall(clazz))\n         return ctxRegistry.getUserCtx();\n\n      if (ctxRegistry.getGlobalCtx().canMarshall(clazz))\n         return ctxRegistry.getGlobalCtx();\n\n      throw logger.marshallerMissingFromUserAndGlobalContext(o.getClass().getName());\n   }\n</code></pre>\n<p>The weird thing here is that evaluating both <em>ctxRegistry.getUserCtx()</em> and <em>ctxRegistry.getGlobalCtx()</em> and returns a HashMap that doesn't faintly resembles the HashMap I mentioned earlier.</p>\n<p>Another thing I can also confirm is that my Initializer get registered in the class org.infinispan.protostream.impl.SerializationContextImpl upon startup via the method registerMarshaller, which adds it to the field <em>marshallersByClass</em> of that class.</p>\n<p>However, when I do <em>cache.put</em>, it seems that a total different list of marshallers is used, to try and find my Marshaller.</p>\n<p>Can someone try and point me in the right direction?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","maven","djl"],"answers":[{"tags":[],"owner":{"account_id":18054922,"reputation":281,"user_id":13123639,"display_name":"Frank Liu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650643673,"creation_date":1650643673,"answer_id":71971675,"question_id":71442458,"body_markdown":"DJL on windows requires Visual C++ Redistributable Packages, you can install [Visual C++ 2019 Redistributable Packages](https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads) and reboot your machine.\r\n\r\nSee: https://docs.djl.ai/docs/development/troubleshooting.html#13-unsatisfiedlinkerror-issue","title":"train a model with djl","body":"<p>DJL on windows requires Visual C++ Redistributable Packages, you can install <a href=\"https://support.microsoft.com/en-us/help/2977003/the-latest-supported-visual-c-downloads\" rel=\"nofollow noreferrer\">Visual C++ 2019 Redistributable Packages</a> and reboot your machine.</p>\n<p>See: <a href=\"https://docs.djl.ai/docs/development/troubleshooting.html#13-unsatisfiedlinkerror-issue\" rel=\"nofollow noreferrer\">https://docs.djl.ai/docs/development/troubleshooting.html#13-unsatisfiedlinkerror-issue</a></p>\n"}],"owner":{"account_id":22918043,"reputation":1,"user_id":17054343,"display_name":"Judica&#235;l Ngandji Ted"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650643673,"creation_date":1647019747,"question_id":71442458,"body_markdown":"Good evening !\r\nI&#39;m starting with DJL.\r\nMy code source is here &lt;https://github.com/ngandji/green_anthill.git&gt;\r\nsomeone can tell what is wrong in my code!\r\nI learn with this &lt;https://github.com/deepjavalibrary/djl/tree/master/jupyter/tutorial&gt; tutorial.\r\nthe compilation works correctly but I&#39;m getting this error when I try to run.\r\n```\r\njava.lang.UnsatisfiedLinkError: Unable to load library &#39;C:\\Users\\Green\\.djl.ai\\mxnet\\1.8.0-mkl-win-x86_64\\mxnet.dll&#39;:\r\nThe specified module could not be found.\r\n\r\nThe specified module could not be found.\r\n\r\nNative library (win32-x86-64/C:\\Users\\Green\\.djl.ai\\mxnet\\1.8.0-mkl-win-x86_64\\mxnet.dll) not found in resource path (C:\\Users\\Green\\Documents\\NetBeansProjects\\DJLHelloWord\\target\\classes;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.6.3\\spring-boot-starter-web-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.6.3\\spring-boot-starter-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.6.3\\spring-boot-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.6.3\\spring-boot-autoconfigure-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.6.3\\spring-boot-starter-logging-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.10\\logback-classic-1.2.10.jar;C:\\Users\\Green\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.10\\logback-core-1.2.10.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.17.1\\log4j-to-slf4j-2.17.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.17.1\\log4j-api-2.17.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.33\\jul-to-slf4j-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\Green\\.m2\\repository\\org\\yaml\\snakeyaml\\1.29\\snakeyaml-1.29.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.6.3\\spring-boot-starter-json-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.1\\jackson-databind-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.1\\jackson-annotations-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.1\\jackson-core-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.1\\jackson-datatype-jdk8-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.1\\jackson-datatype-jsr310-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.1\\jackson-module-parameter-names-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.6.3\\spring-boot-starter-tomcat-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.56\\tomcat-embed-core-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.56\\tomcat-embed-websocket-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-web\\5.3.15\\spring-web-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.15\\spring-beans-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.15\\spring-webmvc-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.15\\spring-aop-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-context\\5.3.15\\spring-context-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.15\\spring-expression-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\2.6.3\\spring-boot-starter-validation-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.56\\tomcat-embed-el-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\6.2.0.Final\\hibernate-validator-6.2.0.Final.jar;C:\\Users\\Green\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\2.0.2\\jakarta.validation-api-2.0.2.jar;C:\\Users\\Green\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.3.Final\\jboss-logging-3.4.3.Final.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\Green\\.m2\\repository\\commons-cli\\commons-cli\\1.5.0\\commons-cli-1.5.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.33\\slf4j-simple-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.33\\slf4j-api-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\api\\0.16.0-SNAPSHOT\\api-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.9\\gson-2.8.9.jar;C:\\Users\\Green\\.m2\\repository\\net\\java\\dev\\jna\\jna\\5.9.0\\jna-5.9.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\commons\\commons-compress\\1.21\\commons-compress-1.21.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\basicdataset\\0.16.0-SNAPSHOT\\basicdataset-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\commons\\commons-csv\\1.8\\commons-csv-1.8.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\model-zoo\\0.16.0-SNAPSHOT\\model-zoo-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-model-zoo\\0.16.0-SNAPSHOT\\mxnet-model-zoo-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-engine\\0.16.0-SNAPSHOT\\mxnet-engine-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-native-auto\\1.8.0\\mxnet-native-auto-1.8.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.22\\lombok-1.18.22.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-core\\5.3.15\\spring-core-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.15\\spring-jcl-5.3.15.jar)\r\n\tat com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:301) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\tat com.sun.jna.NativeLibrary.getInstance(NativeLibrary.java:461) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\tat com.sun.jna.Library$Handler.&lt;init&gt;(Library.java:192) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\tat com.sun.jna.Native.load(Native.java:596) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\tat com.sun.jna.Native.load(Native.java:570) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\tat ai.djl.mxnet.jna.LibUtils.loadLibrary(LibUtils.java:73) ~[mxnet-engine-0.16.0-SNAPSHOT.jar:na]\r\n\tat ai.djl.mxnet.jna.JnaUtils.&lt;clinit&gt;(JnaUtils.java:69) ~[mxnet-engine-0.16.0-SNAPSHOT.jar:na]\r\n\tat ai.djl.mxnet.engine.MxEngine.newInstance(MxEngine.java:52) ~[mxnet-engine-0.16.0-SNAPSHOT.jar:na]\r\n\tat ai.djl.mxnet.engine.MxEngineProvider.getEngine(MxEngineProvider.java:40) ~[mxnet-engine-0.16.0-SNAPSHOT.jar:na]\r\n\tat ai.djl.engine.Engine.getEngine(Engine.java:177) ~[api-0.16.0-SNAPSHOT.jar:na]\r\n\tat ai.djl.engine.Engine.getInstance(Engine.java:132) ~[api-0.16.0-SNAPSHOT.jar:na]\r\n\tat ai.djl.Model.newInstance(Model.java:71) ~[api-0.16.0-SNAPSHOT.jar:na]\r\n\tat ai.djl.Model.newInstance(Model.java:60) ~[api-0.16.0-SNAPSHOT.jar:na]\r\n\tat com.green.DJLHelloWord.service.training.TrainModelService.trainMnist(TrainModelService.java:46) ~[classes/:na]\r\n\tat com.green.DJLHelloWord.controller.ModelController.trainMnist(ModelController.java:41) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n\tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\tSuppressed: java.lang.UnsatisfiedLinkError: The specified module could not be found.\r\n\r\n\t\tat com.sun.jna.Native.open(Native Method) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\t\tat com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:191) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\t\t... 64 common frames omitted\r\n\tSuppressed: java.lang.UnsatisfiedLinkError: The specified module could not be found.\r\n\r\n\t\tat com.sun.jna.Native.open(Native Method) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\t\tat com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:204) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\t\t... 64 common frames omitted\r\n\tSuppressed: java.io.IOException: Native library (win32-x86-64/C:\\Users\\Green\\.djl.ai\\mxnet\\1.8.0-mkl-win-x86_64\\mxnet.dll) not found in resource path (C:\\Users\\Green\\Documents\\NetBeansProjects\\DJLHelloWord\\target\\classes;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.6.3\\spring-boot-starter-web-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.6.3\\spring-boot-starter-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.6.3\\spring-boot-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.6.3\\spring-boot-autoconfigure-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.6.3\\spring-boot-starter-logging-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.10\\logback-classic-1.2.10.jar;C:\\Users\\Green\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.10\\logback-core-1.2.10.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.17.1\\log4j-to-slf4j-2.17.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.17.1\\log4j-api-2.17.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.33\\jul-to-slf4j-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\Green\\.m2\\repository\\org\\yaml\\snakeyaml\\1.29\\snakeyaml-1.29.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.6.3\\spring-boot-starter-json-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.1\\jackson-databind-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.1\\jackson-annotations-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.1\\jackson-core-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.1\\jackson-datatype-jdk8-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.1\\jackson-datatype-jsr310-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.1\\jackson-module-parameter-names-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.6.3\\spring-boot-starter-tomcat-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.56\\tomcat-embed-core-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.56\\tomcat-embed-websocket-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-web\\5.3.15\\spring-web-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.15\\spring-beans-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.15\\spring-webmvc-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.15\\spring-aop-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-context\\5.3.15\\spring-context-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.15\\spring-expression-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\2.6.3\\spring-boot-starter-validation-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.56\\tomcat-embed-el-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\6.2.0.Final\\hibernate-validator-6.2.0.Final.jar;C:\\Users\\Green\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\2.0.2\\jakarta.validation-api-2.0.2.jar;C:\\Users\\Green\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.3.Final\\jboss-logging-3.4.3.Final.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\Green\\.m2\\repository\\commons-cli\\commons-cli\\1.5.0\\commons-cli-1.5.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.33\\slf4j-simple-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.33\\slf4j-api-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\api\\0.16.0-SNAPSHOT\\api-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.9\\gson-2.8.9.jar;C:\\Users\\Green\\.m2\\repository\\net\\java\\dev\\jna\\jna\\5.9.0\\jna-5.9.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\commons\\commons-compress\\1.21\\commons-compress-1.21.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\basicdataset\\0.16.0-SNAPSHOT\\basicdataset-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\commons\\commons-csv\\1.8\\commons-csv-1.8.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\model-zoo\\0.16.0-SNAPSHOT\\model-zoo-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-model-zoo\\0.16.0-SNAPSHOT\\mxnet-model-zoo-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-engine\\0.16.0-SNAPSHOT\\mxnet-engine-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-native-auto\\1.8.0\\mxnet-native-auto-1.8.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.22\\lombok-1.18.22.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-core\\5.3.15\\spring-core-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.15\\spring-jcl-5.3.15.jar)\r\n\t\tat com.sun.jna.Native.extractFromResourcePath(Native.java:1119) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\t\tat com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:275) ~[jna-5.9.0.jar:5.9.0 (b0)]\r\n\t\t... 64 common frames omitted\r\n```\r\n","title":"train a model with djl","body":"<p>Good evening !\nI'm starting with DJL.\nMy code source is here <a href=\"https://github.com/ngandji/green_anthill.git\" rel=\"nofollow noreferrer\">https://github.com/ngandji/green_anthill.git</a>\nsomeone can tell what is wrong in my code!\nI learn with this <a href=\"https://github.com/deepjavalibrary/djl/tree/master/jupyter/tutorial\" rel=\"nofollow noreferrer\">https://github.com/deepjavalibrary/djl/tree/master/jupyter/tutorial</a> tutorial.\nthe compilation works correctly but I'm getting this error when I try to run.</p>\n<pre><code>java.lang.UnsatisfiedLinkError: Unable to load library 'C:\\Users\\Green\\.djl.ai\\mxnet\\1.8.0-mkl-win-x86_64\\mxnet.dll':\nThe specified module could not be found.\n\nThe specified module could not be found.\n\nNative library (win32-x86-64/C:\\Users\\Green\\.djl.ai\\mxnet\\1.8.0-mkl-win-x86_64\\mxnet.dll) not found in resource path (C:\\Users\\Green\\Documents\\NetBeansProjects\\DJLHelloWord\\target\\classes;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.6.3\\spring-boot-starter-web-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.6.3\\spring-boot-starter-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.6.3\\spring-boot-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.6.3\\spring-boot-autoconfigure-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.6.3\\spring-boot-starter-logging-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.10\\logback-classic-1.2.10.jar;C:\\Users\\Green\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.10\\logback-core-1.2.10.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.17.1\\log4j-to-slf4j-2.17.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.17.1\\log4j-api-2.17.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.33\\jul-to-slf4j-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\Green\\.m2\\repository\\org\\yaml\\snakeyaml\\1.29\\snakeyaml-1.29.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.6.3\\spring-boot-starter-json-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.1\\jackson-databind-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.1\\jackson-annotations-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.1\\jackson-core-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.1\\jackson-datatype-jdk8-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.1\\jackson-datatype-jsr310-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.1\\jackson-module-parameter-names-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.6.3\\spring-boot-starter-tomcat-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.56\\tomcat-embed-core-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.56\\tomcat-embed-websocket-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-web\\5.3.15\\spring-web-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.15\\spring-beans-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.15\\spring-webmvc-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.15\\spring-aop-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-context\\5.3.15\\spring-context-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.15\\spring-expression-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\2.6.3\\spring-boot-starter-validation-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.56\\tomcat-embed-el-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\6.2.0.Final\\hibernate-validator-6.2.0.Final.jar;C:\\Users\\Green\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\2.0.2\\jakarta.validation-api-2.0.2.jar;C:\\Users\\Green\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.3.Final\\jboss-logging-3.4.3.Final.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\Green\\.m2\\repository\\commons-cli\\commons-cli\\1.5.0\\commons-cli-1.5.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.33\\slf4j-simple-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.33\\slf4j-api-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\api\\0.16.0-SNAPSHOT\\api-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.9\\gson-2.8.9.jar;C:\\Users\\Green\\.m2\\repository\\net\\java\\dev\\jna\\jna\\5.9.0\\jna-5.9.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\commons\\commons-compress\\1.21\\commons-compress-1.21.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\basicdataset\\0.16.0-SNAPSHOT\\basicdataset-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\commons\\commons-csv\\1.8\\commons-csv-1.8.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\model-zoo\\0.16.0-SNAPSHOT\\model-zoo-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-model-zoo\\0.16.0-SNAPSHOT\\mxnet-model-zoo-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-engine\\0.16.0-SNAPSHOT\\mxnet-engine-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-native-auto\\1.8.0\\mxnet-native-auto-1.8.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.22\\lombok-1.18.22.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-core\\5.3.15\\spring-core-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.15\\spring-jcl-5.3.15.jar)\n    at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:301) ~[jna-5.9.0.jar:5.9.0 (b0)]\n    at com.sun.jna.NativeLibrary.getInstance(NativeLibrary.java:461) ~[jna-5.9.0.jar:5.9.0 (b0)]\n    at com.sun.jna.Library$Handler.&lt;init&gt;(Library.java:192) ~[jna-5.9.0.jar:5.9.0 (b0)]\n    at com.sun.jna.Native.load(Native.java:596) ~[jna-5.9.0.jar:5.9.0 (b0)]\n    at com.sun.jna.Native.load(Native.java:570) ~[jna-5.9.0.jar:5.9.0 (b0)]\n    at ai.djl.mxnet.jna.LibUtils.loadLibrary(LibUtils.java:73) ~[mxnet-engine-0.16.0-SNAPSHOT.jar:na]\n    at ai.djl.mxnet.jna.JnaUtils.&lt;clinit&gt;(JnaUtils.java:69) ~[mxnet-engine-0.16.0-SNAPSHOT.jar:na]\n    at ai.djl.mxnet.engine.MxEngine.newInstance(MxEngine.java:52) ~[mxnet-engine-0.16.0-SNAPSHOT.jar:na]\n    at ai.djl.mxnet.engine.MxEngineProvider.getEngine(MxEngineProvider.java:40) ~[mxnet-engine-0.16.0-SNAPSHOT.jar:na]\n    at ai.djl.engine.Engine.getEngine(Engine.java:177) ~[api-0.16.0-SNAPSHOT.jar:na]\n    at ai.djl.engine.Engine.getInstance(Engine.java:132) ~[api-0.16.0-SNAPSHOT.jar:na]\n    at ai.djl.Model.newInstance(Model.java:71) ~[api-0.16.0-SNAPSHOT.jar:na]\n    at ai.djl.Model.newInstance(Model.java:60) ~[api-0.16.0-SNAPSHOT.jar:na]\n    at com.green.DJLHelloWord.service.training.TrainModelService.trainMnist(TrainModelService.java:46) ~[classes/:na]\n    at com.green.DJLHelloWord.controller.ModelController.trainMnist(ModelController.java:41) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.15.jar:5.3.15]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n    Suppressed: java.lang.UnsatisfiedLinkError: The specified module could not be found.\n\n        at com.sun.jna.Native.open(Native Method) ~[jna-5.9.0.jar:5.9.0 (b0)]\n        at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:191) ~[jna-5.9.0.jar:5.9.0 (b0)]\n        ... 64 common frames omitted\n    Suppressed: java.lang.UnsatisfiedLinkError: The specified module could not be found.\n\n        at com.sun.jna.Native.open(Native Method) ~[jna-5.9.0.jar:5.9.0 (b0)]\n        at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:204) ~[jna-5.9.0.jar:5.9.0 (b0)]\n        ... 64 common frames omitted\n    Suppressed: java.io.IOException: Native library (win32-x86-64/C:\\Users\\Green\\.djl.ai\\mxnet\\1.8.0-mkl-win-x86_64\\mxnet.dll) not found in resource path (C:\\Users\\Green\\Documents\\NetBeansProjects\\DJLHelloWord\\target\\classes;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-web\\2.6.3\\spring-boot-starter-web-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter\\2.6.3\\spring-boot-starter-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot\\2.6.3\\spring-boot-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-autoconfigure\\2.6.3\\spring-boot-autoconfigure-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-logging\\2.6.3\\spring-boot-starter-logging-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\ch\\qos\\logback\\logback-classic\\1.2.10\\logback-classic-1.2.10.jar;C:\\Users\\Green\\.m2\\repository\\ch\\qos\\logback\\logback-core\\1.2.10\\logback-core-1.2.10.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-to-slf4j\\2.17.1\\log4j-to-slf4j-2.17.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\logging\\log4j\\log4j-api\\2.17.1\\log4j-api-2.17.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\jul-to-slf4j\\1.7.33\\jul-to-slf4j-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\jakarta\\annotation\\jakarta.annotation-api\\1.3.5\\jakarta.annotation-api-1.3.5.jar;C:\\Users\\Green\\.m2\\repository\\org\\yaml\\snakeyaml\\1.29\\snakeyaml-1.29.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-json\\2.6.3\\spring-boot-starter-json-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-databind\\2.13.1\\jackson-databind-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-annotations\\2.13.1\\jackson-annotations-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\core\\jackson-core\\2.13.1\\jackson-core-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jdk8\\2.13.1\\jackson-datatype-jdk8-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\datatype\\jackson-datatype-jsr310\\2.13.1\\jackson-datatype-jsr310-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\jackson\\module\\jackson-module-parameter-names\\2.13.1\\jackson-module-parameter-names-2.13.1.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-tomcat\\2.6.3\\spring-boot-starter-tomcat-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-core\\9.0.56\\tomcat-embed-core-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-websocket\\9.0.56\\tomcat-embed-websocket-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-web\\5.3.15\\spring-web-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-beans\\5.3.15\\spring-beans-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-webmvc\\5.3.15\\spring-webmvc-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-aop\\5.3.15\\spring-aop-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-context\\5.3.15\\spring-context-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-expression\\5.3.15\\spring-expression-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\boot\\spring-boot-starter-validation\\2.6.3\\spring-boot-starter-validation-2.6.3.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\tomcat\\embed\\tomcat-embed-el\\9.0.56\\tomcat-embed-el-9.0.56.jar;C:\\Users\\Green\\.m2\\repository\\org\\hibernate\\validator\\hibernate-validator\\6.2.0.Final\\hibernate-validator-6.2.0.Final.jar;C:\\Users\\Green\\.m2\\repository\\jakarta\\validation\\jakarta.validation-api\\2.0.2\\jakarta.validation-api-2.0.2.jar;C:\\Users\\Green\\.m2\\repository\\org\\jboss\\logging\\jboss-logging\\3.4.3.Final\\jboss-logging-3.4.3.Final.jar;C:\\Users\\Green\\.m2\\repository\\com\\fasterxml\\classmate\\1.5.1\\classmate-1.5.1.jar;C:\\Users\\Green\\.m2\\repository\\commons-cli\\commons-cli\\1.5.0\\commons-cli-1.5.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\slf4j-simple\\1.7.33\\slf4j-simple-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\org\\slf4j\\slf4j-api\\1.7.33\\slf4j-api-1.7.33.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\api\\0.16.0-SNAPSHOT\\api-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\com\\google\\code\\gson\\gson\\2.8.9\\gson-2.8.9.jar;C:\\Users\\Green\\.m2\\repository\\net\\java\\dev\\jna\\jna\\5.9.0\\jna-5.9.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\commons\\commons-compress\\1.21\\commons-compress-1.21.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\basicdataset\\0.16.0-SNAPSHOT\\basicdataset-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\org\\apache\\commons\\commons-csv\\1.8\\commons-csv-1.8.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\model-zoo\\0.16.0-SNAPSHOT\\model-zoo-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-model-zoo\\0.16.0-SNAPSHOT\\mxnet-model-zoo-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-engine\\0.16.0-SNAPSHOT\\mxnet-engine-0.16.0-SNAPSHOT.jar;C:\\Users\\Green\\.m2\\repository\\ai\\djl\\mxnet\\mxnet-native-auto\\1.8.0\\mxnet-native-auto-1.8.0.jar;C:\\Users\\Green\\.m2\\repository\\org\\projectlombok\\lombok\\1.18.22\\lombok-1.18.22.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-core\\5.3.15\\spring-core-5.3.15.jar;C:\\Users\\Green\\.m2\\repository\\org\\springframework\\spring-jcl\\5.3.15\\spring-jcl-5.3.15.jar)\n        at com.sun.jna.Native.extractFromResourcePath(Native.java:1119) ~[jna-5.9.0.jar:5.9.0 (b0)]\n        at com.sun.jna.NativeLibrary.loadLibrary(NativeLibrary.java:275) ~[jna-5.9.0.jar:5.9.0 (b0)]\n        ... 64 common frames omitted\n</code></pre>\n"},{"tags":["java","json","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650643620,"creation_date":1650643620,"answer_id":71971666,"question_id":71970432,"body_markdown":"Was able to figure it out. JSONObject was able to handle it better.\r\n\r\nHere&#39;s the answer if anyone runs into this:\r\n\r\n          JSONObject o = new JSONObject(response.getScreen().getProperties());\r\n          POJO p = mapper.readValue(o.getJSONObject(&quot;message&quot;).getJSONObject(&quot;value&quot;).getJSONObject(&quot;rawResponse&quot;).toString(), PJOO.class);","title":"Prevent JSON within a map from losingJSON formatting","body":"<p>Was able to figure it out. JSONObject was able to handle it better.</p>\n<p>Here's the answer if anyone runs into this:</p>\n<pre><code>      JSONObject o = new JSONObject(response.getScreen().getProperties());\n      POJO p = mapper.readValue(o.getJSONObject(&quot;message&quot;).getJSONObject(&quot;value&quot;).getJSONObject(&quot;rawResponse&quot;).toString(), PJOO.class);\n</code></pre>\n"}],"owner":{"account_id":67765,"reputation":5435,"user_id":198108,"accept_rate":79,"display_name":"javydreamercsw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71971666,"answer_count":1,"score":0,"last_activity_date":1650643620,"creation_date":1650637864,"question_id":71970432,"body_markdown":"I have a JSON response that looks like this:\r\n\r\n     {\r\n      &quot;id&quot;: &quot;value&quot;,\r\n      &quot;screen&quot;: {\r\n        &quot;name&quot;: &quot;Name&quot;,\r\n        &quot;properties&quot;: {\r\n          &quot;message&quot;: {\r\n            &quot;type&quot;: &quot;string&quot;,\r\n            &quot;value&quot;: {\r\n              &quot;rawResponse&quot;: {\r\n                &quot;_links&quot;: {\r\n                  &quot;self&quot;: {\r\n                    &quot;href&quot;: &quot;link&quot;\r\n                  }\r\n                },\r\n                &quot;_embedded&quot;: {},\r\n                &quot;id&quot;: &quot;id&quot;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;interactionId&quot;: &quot;id&quot;\r\n    }\r\n\r\nWith this Jackson Model:\r\n\r\n    package com.package;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.experimental.SuperBuilder;\r\n    \r\n    @Data\r\n    @SuperBuilder(toBuilder = true)\r\n    @NoArgsConstructor\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public class PolicyStartResponse  {\r\n    \r\n      private String id;\r\n      private Screen screen;\r\n    \r\n      @Data\r\n      @SuperBuilder(toBuilder = true)\r\n      @NoArgsConstructor\r\n      @JsonInclude(JsonInclude.Include.NON_NULL)\r\n      public static class Screen extends ApiModel&lt;Screen&gt; {\r\n    \r\n        private String name;\r\n        private Map&lt;String, Map&lt;String, Object&gt;&gt; properties;\r\n      }\r\n    }\r\n\r\nFor some reason when I extract the properties value it loses the quotes of the fields and the colons are replaced by equal signs.\r\n\r\n          LinkedHashMap mapValue =\r\n              (LinkedHashMap)\r\n                  response.getScreen().getProperties().get(&quot;message&quot;).get(&quot;value&quot;);\r\n          mapper = new ObjectMapper();\r\n          // For some reason retrieving the JSON from the map strips the quotes on fields.\r\n          mapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n          // For some reason the colons get translated to equal signs.\r\n          String value = mapValue.get(&quot;rawResponse&quot;).toString();\r\n          POJO p = mapper.readValue(value, POJO.class);\r\n\r\nWith this error:\r\n\r\n    JsonParseException: \r\n    Unexpected character (&#39;=&#39; (code 61)): was expecting a colon to separate field name and value\r\n     at [Source: (String)&quot;{_links={self={href=\r\n\r\nAny thoughts?","title":"Prevent JSON within a map from losingJSON formatting","body":"<p>I have a JSON response that looks like this:</p>\n<pre><code> {\n  &quot;id&quot;: &quot;value&quot;,\n  &quot;screen&quot;: {\n    &quot;name&quot;: &quot;Name&quot;,\n    &quot;properties&quot;: {\n      &quot;message&quot;: {\n        &quot;type&quot;: &quot;string&quot;,\n        &quot;value&quot;: {\n          &quot;rawResponse&quot;: {\n            &quot;_links&quot;: {\n              &quot;self&quot;: {\n                &quot;href&quot;: &quot;link&quot;\n              }\n            },\n            &quot;_embedded&quot;: {},\n            &quot;id&quot;: &quot;id&quot;\n          }\n        }\n      }\n    }\n  },\n  &quot;interactionId&quot;: &quot;id&quot;\n}\n</code></pre>\n<p>With this Jackson Model:</p>\n<pre><code>package com.package;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport java.util.List;\nimport java.util.Map;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.experimental.SuperBuilder;\n\n@Data\n@SuperBuilder(toBuilder = true)\n@NoArgsConstructor\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class PolicyStartResponse  {\n\n  private String id;\n  private Screen screen;\n\n  @Data\n  @SuperBuilder(toBuilder = true)\n  @NoArgsConstructor\n  @JsonInclude(JsonInclude.Include.NON_NULL)\n  public static class Screen extends ApiModel&lt;Screen&gt; {\n\n    private String name;\n    private Map&lt;String, Map&lt;String, Object&gt;&gt; properties;\n  }\n}\n</code></pre>\n<p>For some reason when I extract the properties value it loses the quotes of the fields and the colons are replaced by equal signs.</p>\n<pre><code>      LinkedHashMap mapValue =\n          (LinkedHashMap)\n              response.getScreen().getProperties().get(&quot;message&quot;).get(&quot;value&quot;);\n      mapper = new ObjectMapper();\n      // For some reason retrieving the JSON from the map strips the quotes on fields.\n      mapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n      // For some reason the colons get translated to equal signs.\n      String value = mapValue.get(&quot;rawResponse&quot;).toString();\n      POJO p = mapper.readValue(value, POJO.class);\n</code></pre>\n<p>With this error:</p>\n<pre><code>JsonParseException: \nUnexpected character ('=' (code 61)): was expecting a colon to separate field name and value\n at [Source: (String)&quot;{_links={self={href=\n</code></pre>\n<p>Any thoughts?</p>\n"},{"tags":["java","stream","java-stream"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1650291459,"post_id":71912857,"comment_id":127074468,"body_markdown":"Maybe you could use the [`partitioningBy`](https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate,java.util.stream.Collector)) collector? That takes a predicate and a mapping function and gives you a `Map&lt;Boolean, T&gt;` that groups your objects into &quot;matching&quot; and &quot;non-matching&quot;.","body":"Maybe you could use the <a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/util/stream/Collectors.html#partitioningBy(java.util.function.Predicate,java.util.stream.Collector)\" rel=\"nofollow noreferrer\"><code>partitioningBy</code></a> collector? That takes a predicate and a mapping function and gives you a <code>Map&lt;Boolean, T&gt;</code> that groups your objects into &quot;matching&quot; and &quot;non-matching&quot;."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1650323741,"post_id":71912857,"comment_id":127083233,"body_markdown":"*count the characters that didn&#39;t pass the filter* - if you want to it in the same stream pipeline with all the steps of your assignment, then it&#39;s **not doable** without dirty tricks like stateful `filter` that violate the guidelines listed in the documentation. Conditional logic and streams don&#39;t play well together.","body":"<i>count the characters that didn&#39;t pass the filter</i> - if you want to it in the same stream pipeline with all the steps of your assignment, then it&#39;s <b>not doable</b> without dirty tricks like stateful <code>filter</code> that violate the guidelines listed in the documentation. Conditional logic and streams don&#39;t play well together."},{"owner":{"account_id":11854454,"reputation":433,"user_id":14999427,"display_name":"Suic"},"score":0,"creation_date":1650325959,"post_id":71912857,"comment_id":127083568,"body_markdown":"Convert the Nucleotide objects to their weights, is the weight determined by the amount of times the specific char/nucleotide occurred in the DNA?","body":"Convert the Nucleotide objects to their weights, is the weight determined by the amount of times the specific char/nucleotide occurred in the DNA?"}],"answers":[{"tags":[],"owner":{"account_id":14583345,"reputation":4337,"user_id":10533011,"display_name":"Donat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650643276,"creation_date":1650634006,"answer_id":71969529,"question_id":71912857,"body_markdown":"One clean way to do the job would be to make an intermediate list:\r\n\r\n    public static double dnaToWeight(String DNA) {\r\n        List&lt;Double&gt; weights = DNA.chars()\r\n                .filter(c -&gt; c == &#39;A&#39; || c == &#39;T&#39; || c == &#39;G&#39; || c == &#39;C&#39;)\r\n                .mapToObj(c -&gt; new Nucleotide((char) c).getWeight())\r\n                .toList();\r\n        int countNonRegular = DNA.length() - weights.size(); // to be used elsewhere\r\n        return weights.stream().reduce(Double::sum).orElse(0.0);\r\n    }\r\n\r\nNote: The method ```toList``` is new in Java 16.","title":"Stream, return value of characters that didn&#39;t pass the filter","body":"<p>One clean way to do the job would be to make an intermediate list:</p>\n<pre><code>public static double dnaToWeight(String DNA) {\n    List&lt;Double&gt; weights = DNA.chars()\n            .filter(c -&gt; c == 'A' || c == 'T' || c == 'G' || c == 'C')\n            .mapToObj(c -&gt; new Nucleotide((char) c).getWeight())\n            .toList();\n    int countNonRegular = DNA.length() - weights.size(); // to be used elsewhere\n    return weights.stream().reduce(Double::sum).orElse(0.0);\n}\n</code></pre>\n<p>Note: The method <code>toList</code> is new in Java 16.</p>\n"}],"owner":{"display_name":"user18299593"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1650643276,"creation_date":1650290738,"question_id":71912857,"body_markdown":"I would like to count the characters that didn&#39;t pass the filter, and return this value too. How can i do that?\r\n\r\nMy exc:\r\nWithin class `LambdasStreamExercise`, implement method `dnaToWeight` in order to determine the molecular weight of a DNA sequence string from its nucleotides. Implement these individual steps in your stream:  \r\n     \r\n   - Start with `DNA.chars()` to initiate a Stream. This will be one of integers.\r\n   - Filter out those that do not represent regular DNA (Challenge: and count them)\r\n   - Convert to a stream of Character objects from the given DNA sequence\r\n   - Convert the Characters into Nucleotide objects\r\n   - Convert the Nucleotide objects to their weights\r\n   - Sum the weights and return the result (And report the number of rejected nucleotides)\r\n\r\n\r\n```\r\n public static double dnaToWeight(String DNA) {\r\n        double dnaWeightTotal = DNA.chars()\r\n                .filter(c -&gt; c == &#39;A&#39; || c == &#39;T&#39; || c == &#39;G&#39; || c == &#39;C&#39;)\r\n                .mapToObj(c -&gt; new Nucleotide((char) c))\r\n                .mapToDouble(c -&gt; (double) c.getWeight())\r\n                .sum();\r\n        return dnaWeightTotal;\r\n    }\r\n```","title":"Stream, return value of characters that didn&#39;t pass the filter","body":"<p>I would like to count the characters that didn't pass the filter, and return this value too. How can i do that?</p>\n<p>My exc:\nWithin class <code>LambdasStreamExercise</code>, implement method <code>dnaToWeight</code> in order to determine the molecular weight of a DNA sequence string from its nucleotides. Implement these individual steps in your stream:</p>\n<ul>\n<li>Start with <code>DNA.chars()</code> to initiate a Stream. This will be one of integers.</li>\n<li>Filter out those that do not represent regular DNA (Challenge: and count them)</li>\n<li>Convert to a stream of Character objects from the given DNA sequence</li>\n<li>Convert the Characters into Nucleotide objects</li>\n<li>Convert the Nucleotide objects to their weights</li>\n<li>Sum the weights and return the result (And report the number of rejected nucleotides)</li>\n</ul>\n<pre><code> public static double dnaToWeight(String DNA) {\n        double dnaWeightTotal = DNA.chars()\n                .filter(c -&gt; c == 'A' || c == 'T' || c == 'G' || c == 'C')\n                .mapToObj(c -&gt; new Nucleotide((char) c))\n                .mapToDouble(c -&gt; (double) c.getWeight())\n                .sum();\n        return dnaWeightTotal;\n    }\n</code></pre>\n"},{"tags":["java","json","rest-assured"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1576575023,"post_id":59371173,"comment_id":104935127,"body_markdown":"Use a `Map&lt;String, Object&gt;` instead !?","body":"Use a <code>Map&lt;String, Object&gt;</code> instead !?"},{"owner":{"account_id":5538929,"reputation":694,"user_id":4396274,"accept_rate":68,"display_name":"Dmitry"},"score":0,"creation_date":1576575167,"post_id":59371173,"comment_id":104935195,"body_markdown":"this works partially - order still incorrect","body":"this works partially - order still incorrect"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1576575197,"post_id":59371173,"comment_id":104935209,"body_markdown":"A JSON Object does not have an order =&gt; you must not EVER rely on the order of data in a JSON Object, which is basically a collection key-value pairs.","body":"A JSON Object does not have an order =&gt; you must not EVER rely on the order of data in a JSON Object, which is basically a collection key-value pairs."}],"answers":[{"tags":[],"owner":{"account_id":8358777,"reputation":1554,"user_id":6277983,"accept_rate":67,"display_name":"Suraj Gautam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1576575561,"creation_date":1576575561,"answer_id":59371347,"question_id":59371173,"body_markdown":"What you can do is use `Map&lt;String, Object&gt;` instead of `Map&lt;String,String&gt;`.\r\nAlso, the order is not preserved for the JSON Object. You cannot and should not rely on the ordering of elements within a JSON object.\r\n\r\n&gt; An object is an unordered set of name/value pairs.\r\n&gt; You can check out [JSON specification][1] for more info.\r\n\r\n\r\n  [1]: https://www.json.org/json-en.html","title":"RestAssured: posting json request having both String and Integer","body":"<p>What you can do is use <code>Map&lt;String, Object&gt;</code> instead of <code>Map&lt;String,String&gt;</code>.\nAlso, the order is not preserved for the JSON Object. You cannot and should not rely on the ordering of elements within a JSON object.</p>\n\n<blockquote>\n  <p>An object is an unordered set of name/value pairs.\n  You can check out <a href=\"https://www.json.org/json-en.html\" rel=\"nofollow noreferrer\">JSON specification</a> for more info.</p>\n</blockquote>\n"}],"owner":{"account_id":5538929,"reputation":694,"user_id":4396274,"accept_rate":68,"display_name":"Dmitry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":59371347,"answer_count":1,"score":0,"last_activity_date":1650643155,"creation_date":1576574892,"question_id":59371173,"body_markdown":"I just want to POST json request(using restassured), for such json:\r\n\r\n    {\r\n     &quot;userId&quot;: 1,\r\n     &quot;id&quot;: 111,\r\n     &quot;title&quot;:&quot;test msg&quot;\r\n     &quot;body&quot;: &quot;this is test msg&quot;\r\n    }\r\n\r\nIm defining base uri, and trying to use hashmap:\r\n\r\n    RestAssured.baseURI = &quot;http://localhost:8888&quot;;\r\n    RestAssured.basePath = &quot;/posts/&quot;;\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    map.put(&quot;userId&quot;, 1);\r\n    map.put(&quot;id&quot;, 111);\r\n    map.put(&quot;title&quot;,&quot;test Post&quot;);\r\n    map.put(&quot;body&quot;,&quot;this is test body&quot;);\r\n\r\nAnd of course its &quot;red&quot;, because of trying put integer as string.\r\n\r\nI&#39;m changing to String.valueOf() for my 1 and 111 numbers,\r\n\r\nthen successfully posting request with smth like\r\n\r\n     given()\r\n        .contentType(&quot;application/json&quot;)\r\n        .body(map)\r\n        .when()\r\n        .post(&quot;/&quot;)\r\n        .then()\r\n        .statusCode(201);\r\n\r\nBut response is incorrect(comparing with needed json):\r\n\r\n    {\r\n        &quot;id&quot;: &quot;111&quot;,\r\n        &quot;title&quot;: &quot;test Post&quot;,\r\n        &quot;body&quot;: &quot;this is test body&quot;,\r\n        &quot;userId&quot;: &quot;1&quot;\r\n    }\r\n\r\n2 points here: \r\n\r\n    - id and userId posted as Strings\r\n    - order is incorrect\r\n\r\nSo, question:\r\nwhat is the best approach in such situations, to correctly post needed request, in correct order and with int values for id and usedId?\r\n\r\nThanks!","title":"RestAssured: posting json request having both String and Integer","body":"<p>I just want to POST json request(using restassured), for such json:</p>\n\n<pre><code>{\n \"userId\": 1,\n \"id\": 111,\n \"title\":\"test msg\"\n \"body\": \"this is test msg\"\n}\n</code></pre>\n\n<p>Im defining base uri, and trying to use hashmap:</p>\n\n<pre><code>RestAssured.baseURI = \"http://localhost:8888\";\nRestAssured.basePath = \"/posts/\";\n\nMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nmap.put(\"userId\", 1);\nmap.put(\"id\", 111);\nmap.put(\"title\",\"test Post\");\nmap.put(\"body\",\"this is test body\");\n</code></pre>\n\n<p>And of course its \"red\", because of trying put integer as string.</p>\n\n<p>I'm changing to String.valueOf() for my 1 and 111 numbers,</p>\n\n<p>then successfully posting request with smth like</p>\n\n<pre><code> given()\n    .contentType(\"application/json\")\n    .body(map)\n    .when()\n    .post(\"/\")\n    .then()\n    .statusCode(201);\n</code></pre>\n\n<p>But response is incorrect(comparing with needed json):</p>\n\n<pre><code>{\n    \"id\": \"111\",\n    \"title\": \"test Post\",\n    \"body\": \"this is test body\",\n    \"userId\": \"1\"\n}\n</code></pre>\n\n<p>2 points here: </p>\n\n<pre><code>- id and userId posted as Strings\n- order is incorrect\n</code></pre>\n\n<p>So, question:\nwhat is the best approach in such situations, to correctly post needed request, in correct order and with int values for id and usedId?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","hibernate","jpa","enums"],"comments":[{"owner":{"account_id":3682343,"reputation":371,"user_id":3067018,"accept_rate":100,"display_name":"solvator"},"score":0,"creation_date":1393564852,"post_id":22080260,"comment_id":33498720,"body_markdown":"because enum did not looks like string, just make this : \n\n    &quot;DISTRICT&quot;,\n    &quot;CITY&quot;,\n    &quot;VOIVODESHIP&quot;,\n    &quot;COUNTRY&quot;","body":"because enum did not looks like string, just make this :       &quot;DISTRICT&quot;,     &quot;CITY&quot;,     &quot;VOIVODESHIP&quot;,     &quot;COUNTRY&quot;"},{"owner":{"account_id":893106,"reputation":3490,"user_id":931007,"accept_rate":89,"display_name":"kamil"},"score":0,"creation_date":1393579017,"post_id":22080260,"comment_id":33505429,"body_markdown":"I&#39;m using @Enumerated annotation to achive this effect, see java docs:  http://docs.oracle.com/javaee/6/api/javax/persistence/Enumerated.html  http://docs.oracle.com/javaee/6/api/javax/persistence/EnumType.html","body":"I&#39;m using @Enumerated annotation to achive this effect, see java docs:  <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/Enumerated.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/persistence/Enumerated.ht&zwnj;&#8203;ml</a>  <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/EnumType.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javaee/6/api/javax/persistence/EnumType.html</a>"}],"owner":{"account_id":893106,"reputation":3490,"user_id":931007,"accept_rate":89,"display_name":"kamil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":768,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650643129,"creation_date":1393534836,"question_id":22080260,"body_markdown":"I&#39;m trying to do simple thing, save with Hibernate enum value as string. My mapping looks like this:\r\n\r\n    @Entity\r\n    @Table(name = &quot;CONTRACTOR&quot;)\r\n    public class Contractor\r\n    {\r\n        //some unreleated columns...\r\n    \r\n        @OneToMany(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE}, mappedBy = &quot;contractor&quot;)\r\n        private List&lt;ContractorGeoAvailability&gt; geoAvailabilities;\r\n\r\n        //getters, setters\r\n    }\r\n\r\nEntity with anum:\r\n\r\n    @Entity\r\n    @Table(name = &quot;CONTRACTOR_GEO_AVAILABILITY&quot;)\r\n    public class ContractorGeoAvailability\r\n    {\r\n        @Id\r\n        @Column(name = &quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        @JoinColumn(name = &quot;CONTRACTOR_ID&quot;)\r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        private Contractor contractor;\r\n    \r\n        @Column(name = &quot;TYPE&quot;)\r\n        @Enumerated(EnumType.STRING)\r\n        private GeoAvailibilityType geoAvailibilityType;\r\n    \r\n        @Column(name = &quot;VALUE&quot;)\r\n        private String value;\r\n    \r\n        ....\r\n    }\r\n\r\nAnd enum:\r\n\r\n    public enum GeoAvailibilityType\r\n    {\r\n        DISTRICT,\r\n        CITY,\r\n        VOIVODESHIP,\r\n        COUNTRY\r\n    }\r\n\r\nFrom submitted form I receive correct values (HTTP POST):\r\n\r\n    ------WebKitFormBoundary1huaDyI1dvn9KGnI\r\n    Content-Disposition: form-data; name=&quot;geoAvailibilities[0].type&quot;\r\n    \r\n    CITY\r\n    ------WebKitFormBoundary1huaDyI1dvn9KGnI\r\n    Content-Disposition: form-data; name=&quot;geoAvailibilities[0].value&quot;\r\n    \r\n    test\r\n    ------WebKitFormBoundary1huaDyI1dvn9KGnI\r\n    Content-Disposition: form-data; name=&quot;geoAvailibilities[1].type&quot;\r\n    \r\n    VOIVODESHIP\r\n    ------WebKitFormBoundary1huaDyI1dvn9KGnI\r\n    Content-Disposition: form-data; name=&quot;geoAvailibilities[1].value&quot;\r\n\r\nEven value is correctly binded with DTO object:\r\n\r\n    ContractorRegisterForm{.... geoAvailibilities=[GeoAvailibility{type=CITY, value=&#39;test&#39;}, GeoAvailibility{type=VOIVODESHIP, value=&#39;test321&#39;}], profile=null}\r\n\r\n\r\n but somehow during persisting enum&#39;s value is lost:\r\n\r\n    21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3) Hibernate: \r\n    21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3)     insert \r\n    21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3)     into\r\n    21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3)         CONTRACTOR_GEO_AVAILABILITY\r\n    21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3)         (CONTRACTOR_ID, TYPE, VALUE, ID) \r\n    21:55:59,124 INFO  [stdout] (http--127.0.0.1-8080-3)     values\r\n    21:55:59,124 INFO  [stdout] (http--127.0.0.1-8080-3)         (?, ?, ?, ?)\r\n    21:55:59,124 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [1] as [BIGINT] - 19\r\n    21:55:59,124 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [3] as [VARCHAR] - test\r\n    21:55:59,124 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [4] as [BIGINT] - 20\r\n    21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3) Hibernate: \r\n    21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3)     insert \r\n    21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3)     into\r\n    21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3)         CONTRACTOR_GEO_AVAILABILITY\r\n    21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3)         (CONTRACTOR_ID, TYPE, VALUE, ID) \r\n    21:55:59,126 INFO  [stdout] (http--127.0.0.1-8080-3)     values\r\n    21:55:59,126 INFO  [stdout] (http--127.0.0.1-8080-3)         (?, ?, ?, ?)\r\n    21:55:59,126 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [1] as [BIGINT] - 19\r\n    21:55:59,126 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [3] as [VARCHAR] - test321\r\n    21:55:59,126 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [4] as [BIGINT] - 21\r\n\r\nIt looks like the enum value is completly ignored by Hibernate, as it persists 1st, 3rd and 4th parameter not 2nd one (see `binding parameter [.]`). Could someone help me with that?","title":"Hibernate not persisting enums (as String)","body":"<p>I'm trying to do simple thing, save with Hibernate enum value as string. My mapping looks like this:</p>\n\n<pre><code>@Entity\n@Table(name = \"CONTRACTOR\")\npublic class Contractor\n{\n    //some unreleated columns...\n\n    @OneToMany(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE}, mappedBy = \"contractor\")\n    private List&lt;ContractorGeoAvailability&gt; geoAvailabilities;\n\n    //getters, setters\n}\n</code></pre>\n\n<p>Entity with anum:</p>\n\n<pre><code>@Entity\n@Table(name = \"CONTRACTOR_GEO_AVAILABILITY\")\npublic class ContractorGeoAvailability\n{\n    @Id\n    @Column(name = \"ID\")\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @JoinColumn(name = \"CONTRACTOR_ID\")\n    @ManyToOne(fetch = FetchType.LAZY)\n    private Contractor contractor;\n\n    @Column(name = \"TYPE\")\n    @Enumerated(EnumType.STRING)\n    private GeoAvailibilityType geoAvailibilityType;\n\n    @Column(name = \"VALUE\")\n    private String value;\n\n    ....\n}\n</code></pre>\n\n<p>And enum:</p>\n\n<pre><code>public enum GeoAvailibilityType\n{\n    DISTRICT,\n    CITY,\n    VOIVODESHIP,\n    COUNTRY\n}\n</code></pre>\n\n<p>From submitted form I receive correct values (HTTP POST):</p>\n\n<pre><code>------WebKitFormBoundary1huaDyI1dvn9KGnI\nContent-Disposition: form-data; name=\"geoAvailibilities[0].type\"\n\nCITY\n------WebKitFormBoundary1huaDyI1dvn9KGnI\nContent-Disposition: form-data; name=\"geoAvailibilities[0].value\"\n\ntest\n------WebKitFormBoundary1huaDyI1dvn9KGnI\nContent-Disposition: form-data; name=\"geoAvailibilities[1].type\"\n\nVOIVODESHIP\n------WebKitFormBoundary1huaDyI1dvn9KGnI\nContent-Disposition: form-data; name=\"geoAvailibilities[1].value\"\n</code></pre>\n\n<p>Even value is correctly binded with DTO object:</p>\n\n<pre><code>ContractorRegisterForm{.... geoAvailibilities=[GeoAvailibility{type=CITY, value='test'}, GeoAvailibility{type=VOIVODESHIP, value='test321'}], profile=null}\n</code></pre>\n\n<p>but somehow during persisting enum's value is lost:</p>\n\n<pre><code>21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3) Hibernate: \n21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3)     insert \n21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3)     into\n21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3)         CONTRACTOR_GEO_AVAILABILITY\n21:55:59,123 INFO  [stdout] (http--127.0.0.1-8080-3)         (CONTRACTOR_ID, TYPE, VALUE, ID) \n21:55:59,124 INFO  [stdout] (http--127.0.0.1-8080-3)     values\n21:55:59,124 INFO  [stdout] (http--127.0.0.1-8080-3)         (?, ?, ?, ?)\n21:55:59,124 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [1] as [BIGINT] - 19\n21:55:59,124 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [3] as [VARCHAR] - test\n21:55:59,124 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [4] as [BIGINT] - 20\n21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3) Hibernate: \n21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3)     insert \n21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3)     into\n21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3)         CONTRACTOR_GEO_AVAILABILITY\n21:55:59,125 INFO  [stdout] (http--127.0.0.1-8080-3)         (CONTRACTOR_ID, TYPE, VALUE, ID) \n21:55:59,126 INFO  [stdout] (http--127.0.0.1-8080-3)     values\n21:55:59,126 INFO  [stdout] (http--127.0.0.1-8080-3)         (?, ?, ?, ?)\n21:55:59,126 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [1] as [BIGINT] - 19\n21:55:59,126 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [3] as [VARCHAR] - test321\n21:55:59,126 TRACE [org.hibernate.type.descriptor.sql.BasicBinder] (http--127.0.0.1-8080-3) binding parameter [4] as [BIGINT] - 21\n</code></pre>\n\n<p>It looks like the enum value is completly ignored by Hibernate, as it persists 1st, 3rd and 4th parameter not 2nd one (see <code>binding parameter [.]</code>). Could someone help me with that?</p>\n"},{"tags":["javascript","java","android","android-webview","mathjax"],"comments":[{"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"score":0,"creation_date":1650706548,"post_id":71971534,"comment_id":127187028,"body_markdown":"Can you set up a fully functional sandbox where the issue can be seen? You can check manual synchronous typesetting as described here: https://docs.mathjax.org/en/latest/web/typeset.html ... i think you should be able to find something that you can use there.","body":"Can you set up a fully functional sandbox where the issue can be seen? You can check manual synchronous typesetting as described here: <a href=\"https://docs.mathjax.org/en/latest/web/typeset.html\" rel=\"nofollow noreferrer\">docs.mathjax.org/en/latest/web/typeset.html</a> ... i think you should be able to find something that you can use there."},{"owner":{"account_id":892905,"reputation":3217,"user_id":930835,"accept_rate":57,"display_name":"P5music"},"score":0,"creation_date":1650720520,"post_id":71971534,"comment_id":127189832,"body_markdown":"@fast-reflexes The MathJax processing starts automatically after the script is added to the page as in the provided code. So I do not need to call any function. If I can avoid this I can then call those functions to start explicitly. But I see that MathJax.Hub.Queue([&#39;Typeset&#39;,MathJax.Hub]);   or   MathJax.typeset(); cause the &quot;MathJax is not defined&quot; error.","body":"@fast-reflexes The MathJax processing starts automatically after the script is added to the page as in the provided code. So I do not need to call any function. If I can avoid this I can then call those functions to start explicitly. But I see that MathJax.Hub.Queue([&#39;Typeset&#39;,MathJax.Hub]);   or   MathJax.typeset(); cause the &quot;MathJax is not defined&quot; error."},{"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"score":0,"creation_date":1650723429,"post_id":71971534,"comment_id":127190480,"body_markdown":"You can stop mathjax from typesetting automatically, just check the documentation, also, wait until Mathjax is loaded before you do any manual typesetting, set a `load` handler on the script import for this purpose. Also you&#39;re using mathjax version 2 it seems... Just so you know when you look for documentation (my link was to version 3 docs)","body":"You can stop mathjax from typesetting automatically, just check the documentation, also, wait until Mathjax is loaded before you do any manual typesetting, set a <code>load</code> handler on the script import for this purpose. Also you&#39;re using mathjax version 2 it seems... Just so you know when you look for documentation (my link was to version 3 docs)"}],"owner":{"account_id":892905,"reputation":3217,"user_id":930835,"accept_rate":57,"display_name":"P5music"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650642977,"creation_date":1650642977,"question_id":71971534,"body_markdown":"My Android app loads an XHTML file into a WebView.\r\n\r\nWhen the page is finished loading some scripts are called.\r\n\r\nThe HTML page contains MathML or other math code that is to be precessed by an injected MathJax script.\r\n\r\n    String scriptText=\r\n                        &quot;MathJax.Hub.Config({ &quot;\r\n                        + &quot;showMathMenu: false, &quot;\r\n                        + &quot;jax: [&#39;input/TeX&#39;,&#39;output/HTML-CSS&#39;], &quot;\r\n                        + &quot;showProcessingMessages: false, &quot;\r\n                        + &quot;messageStyle: &#39;none&#39;, &quot;\r\n                        + &quot;extensions: [&#39;tex2jax.js&#39;], &quot;\r\n                        + &quot;TeX: { extensions: [&#39;AMSmath.js&#39;,&#39;AMSsymbols.js&#39;,&quot;\r\n                        + &quot;&#39;noErrors.js&#39;,&#39;noUndefined.js&#39;] } &quot;\r\n                        + &quot;});&quot;;\r\n\r\n                \r\n    String js_command = &quot;var newScript = document.createElement(\\&quot;script\\&quot;);&quot;\r\n    +&quot;newScript.setAttribute(&#39;type&#39;,&#39;text/x-mathjax-config&#39;);&quot;\r\n    +&quot;var inlineScript = document.createTextNode(\\&quot;&quot;+scriptText+&quot;\\&quot;);&quot;\r\n    +&quot;newScript.appendChild(inlineScript);&quot;\r\n    +&quot;document.body.appendChild(newScript);&quot;\r\n\r\n    +&quot;newScript = document.createElement(\\&quot;script\\&quot;);&quot;\r\n    +&quot;newScript.setAttribute(&#39;type&#39;,&#39;text/javascript&#39;);&quot;\r\n    +&quot;newScript.setAttribute(&#39;src&#39;,&#39;file:///android_asset/MathJax/es5/tex-mml-svg.js&#39;);&quot;\r\n    +&quot;document.body.appendChild(newScript);&quot;;\r\n\r\nThe injection of MathJax code is successful and the code is execute, rendering the math symbols correctly.\r\n\r\nAlso refer to [My other question about the MathJax script injection][1]\r\n\r\nThe fact is that other scripts have to be executed and they have to run after the MathJax rendering.\r\n\r\nThe MathJax script has neither the async or the defer attribute because I need that the subsequent scripts are executed after the real rendering of the math symbols. But I tried adding the defer condition and nothing changes.\r\n\r\nIndeed I noticed that when the script has finished running, so the next JavaScript is going to be executed, the rendering still goes on for some elements, some of which can slightly change size, for example. This leads to some issues in my app, that is heavily based on exact positioning.\r\n\r\nI browsed the JavaScript file that is used in my app as MathJax code and I saw that it is all on one line, and nothing can be understood because it is full of boiler-plate instructions.\r\n\r\nAlso I did not find the corresponding source code in a plain form in the github repository, although the folder is there.\r\n\r\nMy question:\r\nI would like to know how to execute the MathJax operations in a real sync fashion, so that the subsequent JavaScript code is executed when all the real rendering is fixed as to positions and dimensions.\r\n\r\nI am also eager to edit the MathJax script inserting calls to other scripts inside a specific function so to be sure they are executed at the end.\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71961268/mathjax-in-android-webview-injecting-the-script-after-the-html-page-is-loaded","title":"MathJax layout adjustments still going on when subsequent scripts are executed - How to run them after the rendering is really fixed?","body":"<p>My Android app loads an XHTML file into a WebView.</p>\n<p>When the page is finished loading some scripts are called.</p>\n<p>The HTML page contains MathML or other math code that is to be precessed by an injected MathJax script.</p>\n<pre><code>String scriptText=\n                    &quot;MathJax.Hub.Config({ &quot;\n                    + &quot;showMathMenu: false, &quot;\n                    + &quot;jax: ['input/TeX','output/HTML-CSS'], &quot;\n                    + &quot;showProcessingMessages: false, &quot;\n                    + &quot;messageStyle: 'none', &quot;\n                    + &quot;extensions: ['tex2jax.js'], &quot;\n                    + &quot;TeX: { extensions: ['AMSmath.js','AMSsymbols.js',&quot;\n                    + &quot;'noErrors.js','noUndefined.js'] } &quot;\n                    + &quot;});&quot;;\n\n            \nString js_command = &quot;var newScript = document.createElement(\\&quot;script\\&quot;);&quot;\n+&quot;newScript.setAttribute('type','text/x-mathjax-config');&quot;\n+&quot;var inlineScript = document.createTextNode(\\&quot;&quot;+scriptText+&quot;\\&quot;);&quot;\n+&quot;newScript.appendChild(inlineScript);&quot;\n+&quot;document.body.appendChild(newScript);&quot;\n\n+&quot;newScript = document.createElement(\\&quot;script\\&quot;);&quot;\n+&quot;newScript.setAttribute('type','text/javascript');&quot;\n+&quot;newScript.setAttribute('src','file:///android_asset/MathJax/es5/tex-mml-svg.js');&quot;\n+&quot;document.body.appendChild(newScript);&quot;;\n</code></pre>\n<p>The injection of MathJax code is successful and the code is execute, rendering the math symbols correctly.</p>\n<p>Also refer to <a href=\"https://stackoverflow.com/questions/71961268/mathjax-in-android-webview-injecting-the-script-after-the-html-page-is-loaded\">My other question about the MathJax script injection</a></p>\n<p>The fact is that other scripts have to be executed and they have to run after the MathJax rendering.</p>\n<p>The MathJax script has neither the async or the defer attribute because I need that the subsequent scripts are executed after the real rendering of the math symbols. But I tried adding the defer condition and nothing changes.</p>\n<p>Indeed I noticed that when the script has finished running, so the next JavaScript is going to be executed, the rendering still goes on for some elements, some of which can slightly change size, for example. This leads to some issues in my app, that is heavily based on exact positioning.</p>\n<p>I browsed the JavaScript file that is used in my app as MathJax code and I saw that it is all on one line, and nothing can be understood because it is full of boiler-plate instructions.</p>\n<p>Also I did not find the corresponding source code in a plain form in the github repository, although the folder is there.</p>\n<p>My question:\nI would like to know how to execute the MathJax operations in a real sync fashion, so that the subsequent JavaScript code is executed when all the real rendering is fixed as to positions and dimensions.</p>\n<p>I am also eager to edit the MathJax script inserting calls to other scripts inside a specific function so to be sure they are executed at the end.</p>\n"},{"tags":["java","jodatime"],"answers":[{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1367569375,"creation_date":1367569375,"answer_id":16354454,"question_id":16347261,"body_markdown":"[DateTimeFormatter][1] have two usages:  \r\n\r\n - print dates;\r\n - parse dates;  \r\n  \r\nWhen you create [DateTimeFormatter instance][2], you pass to it [DateTimePrinter][3] and [DateTimeParser][4].  \r\n  \r\nIf your formatter has only **printer**, and you want **parse** date - `UnsupportedOperationException` will be thrown.  \r\n\r\nIf your formatter has only **parser**, and you want **print** date - `UnsupportedOperationException` will be thrown.   \r\n  \r\n**Example**  \r\n\r\n      DateTimeFormatter formatter = new DateTimeFormatter(new DateTimePrinter()\r\n      {\r\n         // implements all abstract methods         \r\n      }, null); // this instance has printer and hasn&#39;t parser\r\n      formatter.print(new DateTime()); // works well\r\n      formatter.parseDateTime(&quot;datetimestring&quot;); // throws exeption\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormatter.html\r\n  [2]: http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormatter.html#DateTimeFormatter%28org.joda.time.format.DateTimePrinter,%20org.joda.time.format.DateTimeParser%29\r\n  [3]: http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimePrinter.html\r\n  [4]: http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeParser.html","title":"DateTimeFormatter.parseLocalDate throws UnsupportedOperationException","body":"<p><a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormatter.html\">DateTimeFormatter</a> have two usages:  </p>\n\n<ul>\n<li>print dates;</li>\n<li>parse dates;  </li>\n</ul>\n\n<p>When you create <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormatter.html#DateTimeFormatter%28org.joda.time.format.DateTimePrinter,%20org.joda.time.format.DateTimeParser%29\">DateTimeFormatter instance</a>, you pass to it <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimePrinter.html\">DateTimePrinter</a> and <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeParser.html\">DateTimeParser</a>.  </p>\n\n<p>If your formatter has only <strong>printer</strong>, and you want <strong>parse</strong> date - <code>UnsupportedOperationException</code> will be thrown.  </p>\n\n<p>If your formatter has only <strong>parser</strong>, and you want <strong>print</strong> date - <code>UnsupportedOperationException</code> will be thrown.   </p>\n\n<p><strong>Example</strong>  </p>\n\n<pre><code>  DateTimeFormatter formatter = new DateTimeFormatter(new DateTimePrinter()\n  {\n     // implements all abstract methods         \n  }, null); // this instance has printer and hasn't parser\n  formatter.print(new DateTime()); // works well\n  formatter.parseDateTime(\"datetimestring\"); // throws exeption\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21968692,"reputation":1,"user_id":16245516,"display_name":"MarkieMark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650642884,"creation_date":1650642884,"answer_id":71971519,"question_id":16347261,"body_markdown":"Wanted to asnwer this just because I want to call out [@membersound][1] comment to [@Ilya][2] answer as it was what was wrong with my code. Basically my team inherited some legacy code and who ever wrote the serializer for Joda DateTime set the formatter using `ISODateTimeFormat.dateTimeParser()` instead of `ISODateTimeFormat.dateTime()`. \r\n\r\nIt especially confused me because the only error I saw at first was not an `UnsupportedOperationException`, but was instead logged as `com.fasterxml.jackson.databind.JsonMappingException: Printing not supported`, which I had a hard time finding when Googling it (as it was likely a recapturing of the actual error). I hope that helps someone else who spent maybe a little too long trying to figure out what was wrong like I did.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1194415/membersound\r\n  [2]: https://stackoverflow.com/users/1143825/ilya","title":"DateTimeFormatter.parseLocalDate throws UnsupportedOperationException","body":"<p>Wanted to asnwer this just because I want to call out <a href=\"https://stackoverflow.com/users/1194415/membersound\">@membersound</a> comment to <a href=\"https://stackoverflow.com/users/1143825/ilya\">@Ilya</a> answer as it was what was wrong with my code. Basically my team inherited some legacy code and who ever wrote the serializer for Joda DateTime set the formatter using <code>ISODateTimeFormat.dateTimeParser()</code> instead of <code>ISODateTimeFormat.dateTime()</code>.</p>\n<p>It especially confused me because the only error I saw at first was not an <code>UnsupportedOperationException</code>, but was instead logged as <code>com.fasterxml.jackson.databind.JsonMappingException: Printing not supported</code>, which I had a hard time finding when Googling it (as it was likely a recapturing of the actual error). I hope that helps someone else who spent maybe a little too long trying to figure out what was wrong like I did.</p>\n"}],"owner":{"account_id":921744,"reputation":14460,"user_id":953327,"accept_rate":76,"display_name":"FGreg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2106,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":16354454,"answer_count":2,"score":7,"last_activity_date":1650642884,"creation_date":1367526994,"question_id":16347261,"body_markdown":"The API for [parseLocalDate ][1] says it will throw `UnsupportedOperationException` &quot;if parsing is not supported&quot;. What does it mean by &#39;if parsing is not supported&#39;? I&#39;m looking through the source and can not find anywhere that throws `UnsupportedOperationException`. Has anyone ever been in a scenario where this exception was thrown from calling `parseLocalDate`?\r\n\r\n\r\n  [1]: http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormatter.html#parseLocalDate%28java.lang.String%29","title":"DateTimeFormatter.parseLocalDate throws UnsupportedOperationException","body":"<p>The API for <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/format/DateTimeFormatter.html#parseLocalDate%28java.lang.String%29\" rel=\"noreferrer\">parseLocalDate </a> says it will throw <code>UnsupportedOperationException</code> \"if parsing is not supported\". What does it mean by 'if parsing is not supported'? I'm looking through the source and can not find anywhere that throws <code>UnsupportedOperationException</code>. Has anyone ever been in a scenario where this exception was thrown from calling <code>parseLocalDate</code>?</p>\n"},{"tags":["java","escaping","stringescapeutils"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613486747,"creation_date":1613486278,"answer_id":66226448,"question_id":66225337,"body_markdown":"Based on your description, this should work. It uses a map to map the actual value to the letter that represents it.  Additional logic would need to be incorporated to escape backslashes since they serve a dual purpose which would need to be processed separately.\r\n```\r\nMap&lt;String,String&gt; esc = Map.of( &quot;\\t&quot;, &quot;t&quot;, &quot;\\n&quot;, &quot;n&quot;, &quot;\\f&quot;, &quot;f&quot;);\r\nString s = &quot;msg\\n msg\\\\t msg\\\\n msg\\n&quot;;\r\n\r\nfor (Entry&lt;String,String&gt; e : esc.entrySet()) {\r\n\ts = s.replace(e.getKey(), &quot;\\\\&quot;+e.getValue());\r\n}\r\n\r\nSystem.out.println(s);\r\n```\r\nPrints\r\n```\r\nmsg\\n msg\\t msg\\n msg\\n\r\n","title":"How to check if String should be escaped in Java","body":"<p>Based on your description, this should work. It uses a map to map the actual value to the letter that represents it.  Additional logic would need to be incorporated to escape backslashes since they serve a dual purpose which would need to be processed separately.</p>\n<pre><code>Map&lt;String,String&gt; esc = Map.of( &quot;\\t&quot;, &quot;t&quot;, &quot;\\n&quot;, &quot;n&quot;, &quot;\\f&quot;, &quot;f&quot;);\nString s = &quot;msg\\n msg\\\\t msg\\\\n msg\\n&quot;;\n\nfor (Entry&lt;String,String&gt; e : esc.entrySet()) {\n    s = s.replace(e.getKey(), &quot;\\\\&quot;+e.getValue());\n}\n\nSystem.out.println(s);\n</code></pre>\n<p>Prints</p>\n<pre><code>msg\\n msg\\t msg\\n msg\\n\n</code></pre>\n"}],"owner":{"account_id":10189955,"reputation":451,"user_id":7523723,"display_name":"Tal Levi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650642687,"creation_date":1613482342,"question_id":66225337,"body_markdown":"I want to check if a specific String should be escaped before really performing any escaping mechanism.\r\nfor example:\r\nif the String is `&quot;msg\\t`&quot; so I want to escape it but if the String is `&quot;msg\\\\t&quot;`  meaning it is already escaped or for example &quot;msg&quot; meaning no need to escape at all.\r\n\r\nis there a way to check is easily? \r\n\r\n\r\n","title":"How to check if String should be escaped in Java","body":"<p>I want to check if a specific String should be escaped before really performing any escaping mechanism.\nfor example:\nif the String is <code>&quot;msg\\t</code>&quot; so I want to escape it but if the String is <code>&quot;msg\\\\t&quot;</code>  meaning it is already escaped or for example &quot;msg&quot; meaning no need to escape at all.</p>\n<p>is there a way to check is easily?</p>\n"},{"tags":["java","routes","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":85487,"reputation":20822,"user_id":238303,"accept_rate":79,"display_name":"Ben ODay"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1398213657,"creation_date":1398213657,"answer_id":23232818,"question_id":23224161,"body_markdown":"you need to include the camel-cxf dependency to your project...\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;\r\n        &lt;version&gt;x.x.x&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Error running Apache Camel","body":"<p>you need to include the camel-cxf dependency to your project...</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-cxf&lt;/artifactId&gt;\n    &lt;version&gt;x.x.x&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8229771,"reputation":2191,"user_id":6190803,"accept_rate":50,"display_name":"Dylan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650642660,"creation_date":1650642660,"answer_id":71971477,"question_id":23224161,"body_markdown":"I had a similar issue but my url was just a standard http request but i needed to include\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\r\n        &lt;artifactId&gt;camel-http&lt;/artifactId&gt;\r\n        &lt;version&gt;x.x.x&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Error running Apache Camel","body":"<p>I had a similar issue but my url was just a standard http request but i needed to include</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.camel&lt;/groupId&gt;\n    &lt;artifactId&gt;camel-http&lt;/artifactId&gt;\n    &lt;version&gt;x.x.x&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2986598,"reputation":5657,"user_id":2535242,"accept_rate":48,"display_name":"La-comadreja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4643,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":23232818,"answer_count":2,"score":3,"last_activity_date":1650642660,"creation_date":1398181427,"question_id":23224161,"body_markdown":"I&#39;m going through the tutorial here: &lt;a href=&quot;https://camel.apache.org/tutorial-example-reportincident-part5.html&quot;&gt;Apache Camel Report Incident Part 5&lt;/a&gt;\r\n\r\nI&#39;ve copied and pasted the code in the tutorial but am getting this error when I type &lt;code&gt;&gt; mvn test&lt;/code&gt; or &lt;br&gt;&lt;code&gt;&gt; mvn jetty:run&lt;/code&gt;\r\n\r\n    [ERROR] Failed startup of context \r\n    org.mortbay.jetty.plugin.Jetty6PluginWebAppContext@785b38d6{\r\n    /camel-example-reportincident,C:\\Users\\RS88517\\Documents\\Gravity\\\r\n    camel-example-reportincident\\src\\main\\webapp} \r\n    org.apache.camel.NoSuchEndpointException: No endpoint could be found for: \r\n    cxf://http://localhost:8080/part-five/webservices/incident?\r\n        serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint\r\n        &amp;wsdlURL=report_incident.wsdl, \r\n    please check your classpath contains the needed camel component jar.\r\n\r\nI&#39;m not sure which JAR is meant here, and would appreciate some pointers.","title":"Error running Apache Camel","body":"<p>I'm going through the tutorial here: <a href=\"https://camel.apache.org/tutorial-example-reportincident-part5.html\" rel=\"nofollow\">Apache Camel Report Incident Part 5</a></p>\n\n<p>I've copied and pasted the code in the tutorial but am getting this error when I type <code>> mvn test</code> or <br><code>> mvn jetty:run</code></p>\n\n<pre><code>[ERROR] Failed startup of context \norg.mortbay.jetty.plugin.Jetty6PluginWebAppContext@785b38d6{\n/camel-example-reportincident,C:\\Users\\RS88517\\Documents\\Gravity\\\ncamel-example-reportincident\\src\\main\\webapp} \norg.apache.camel.NoSuchEndpointException: No endpoint could be found for: \ncxf://http://localhost:8080/part-five/webservices/incident?\n    serviceClass=org.apache.camel.example.reportincident.ReportIncidentEndpoint\n    &amp;wsdlURL=report_incident.wsdl, \nplease check your classpath contains the needed camel component jar.\n</code></pre>\n\n<p>I'm not sure which JAR is meant here, and would appreciate some pointers.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1650641006,"post_id":71971049,"comment_id":127174796,"body_markdown":"you have created yourself a big headache to allow sorting because you are storing individual student attributes in separate arrays.  You should create some sort of Container class that contains all those attributes, and manipulate/sort that.","body":"you have created yourself a big headache to allow sorting because you are storing individual student attributes in separate arrays.  You should create some sort of Container class that contains all those attributes, and manipulate/sort that."}],"answers":[{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650642453,"creation_date":1650642453,"answer_id":71971421,"question_id":71971049,"body_markdown":"Create a class to model the student data\r\n\r\n    public class Student {\r\n      private String name;\r\n      private String surname;\r\n      ... etc ...\r\n    }\r\n\r\nInstead of reading the data into the arrays, construct a `Student` for each row and add it to a `List`.  So reading your input file results in `List&lt;Student&gt;`.  Then you can execute your calculations on those objects to set the values you want to record in the output file.  Then sort the `List` based on the value you care about.  With the `List` sorted, you can write the data to the output data file.  Moving logic into methods may make your `main` method look something like..\r\n\r\n    List&lt;Student&gt; students = readInputsFile(getInputFile());\r\n    calculateStuff(students);\r\n    sortByGrade(students);\r\n    writeToFile(students, getOutputFile());\r\n\r\n\r\n\r\n","title":"I need help about sorting","body":"<p>Create a class to model the student data</p>\n<pre><code>public class Student {\n  private String name;\n  private String surname;\n  ... etc ...\n}\n</code></pre>\n<p>Instead of reading the data into the arrays, construct a <code>Student</code> for each row and add it to a <code>List</code>.  So reading your input file results in <code>List&lt;Student&gt;</code>.  Then you can execute your calculations on those objects to set the values you want to record in the output file.  Then sort the <code>List</code> based on the value you care about.  With the <code>List</code> sorted, you can write the data to the output data file.  Moving logic into methods may make your <code>main</code> method look something like..</p>\n<pre><code>List&lt;Student&gt; students = readInputsFile(getInputFile());\ncalculateStuff(students);\nsortByGrade(students);\nwriteToFile(students, getOutputFile());\n</code></pre>\n"}],"owner":{"account_id":25053689,"reputation":3,"user_id":18909309,"display_name":"Zodoath"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1650642989,"accepted_answer_id":71971421,"answer_count":1,"score":-3,"last_activity_date":1650642453,"creation_date":1650640653,"question_id":71971049,"body_markdown":"I want to sort my file&#39;s content. My file content is student names,their student no, their class, their grades.These datas are seperated by &quot;;&quot;.First I needed to calculate average and letter grade. I&#39;ve calculated them but i need to write all of the content to another file and the order must be highest grade to lowest grade. What should I do? \r\n    \r\n    Example of file content: Index;StdNo;Name;Surname;Average;Letter\r\n    \r\n    Here is what I done by so far:\r\n    \r\n    ------------------------------------------------------------------------------------------\r\n    import java.util.*;\r\n    import java.io.*;\r\n    public class project3 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tFile file= new File(&quot;Grades.csv&quot;);\r\n    \t\ttry {\r\n    \t\t\tScanner scan = new Scanner(file);\r\n    \t\t\tString[] str= new String[16];\r\n    \t\t\tStringTokenizer st;\r\n    \t\t\tString[] index= new String[16];\r\n    \t\t\tString[] stdNo= new String[16];\r\n    \t\t\tString[] name= new String[16];\r\n    \t\t\tString[] surname= new String[16];\r\n    \t\t\tString[] classYear= new String[16];\r\n    \t\t\tString[] midterm= new String[16];\r\n    \t\t\tString[] project= new String[16];\r\n    \t\t\tString[] finalExam= new String[16];\r\n    \t\twhile(scan.hasNextLine()) {\r\n    \t\t\tfor(int i=0; i&lt;str.length;i++) {\r\n    \t\t\t\tstr[i]=scan.nextLine();\r\n    \t\t\t\tst=new StringTokenizer(str[i],&quot;;&quot;);\r\n    \t\t\t\twhile(st.hasMoreTokens()) {\r\n    \t\t\t\t\tindex[i]=st.nextToken();\r\n    \t\t\t\t\tstdNo[i]=st.nextToken();\r\n    \t\t\t\t\tname[i]=st.nextToken();\r\n    \t\t\t\t\tsurname[i]=st.nextToken();\r\n    \t\t\t\t\tclassYear[i]=st.nextToken();\r\n    \t\t\t\t\tmidterm[i]=st.nextToken();\r\n    \t\t\t\t\tproject[i]=st.nextToken();\r\n    \t\t\t\t\tfinalExam[i]=st.nextToken();\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t}\r\n    \t\tString[] average= new String[16];\r\n    \t\tString[] letter= new String[16];\r\n    \t\t\r\n    \t\tfor(int i=0;i&lt;16;i++) {\r\n    \t\t\tif(i==0) {\r\n    \t\t\t\taverage[i]=&quot;Average&quot;;\r\n    \t\t\t\tletter[i]=&quot;Letter&quot;;\r\n    \t\t\t\tcontinue;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\taverage[i]=averageCalculator(midterm[i],project[i],finalExam[i]);\r\n    \t\t\tletter[i]=letterCalculator(averageCalculator(midterm[i],project[i],finalExam[i]));\r\n    \t\t}\r\n    \t\tFile f= new File(&quot;Letter.csv&quot;);\r\n    \t\ttry {\r\n    \t\t\tPrintWriter pw=new PrintWriter(new FileOutputStream(f));\r\n    \t\t\tfor(int i=0;i&lt;16;i++)\r\n    \t\t\tpw.println(index[i]+&quot;;&quot;+stdNo[i]+&quot;;&quot;+name[i]+&quot;;&quot;+surname[i]+&quot;;&quot;+average[i]+&quot;;&quot;+letter[i]);\r\n    \t\t\tpw.close();\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tFile f1=new File(&quot;Ordered.csv&quot;);\r\n    \t\t\tPrintWriter pw2=new PrintWriter(new FileOutputStream(f1));\r\n    \t\tScanner sc= new Scanner(f);\r\n    \t\t\r\n    \r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\t\r\n    \t\t} catch (FileNotFoundException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\t\t\r\n    \t\t\r\n    \t}\r\n    public static String averageCalculator(String midterm, String project, String finalExam) {\r\n    \treturn Double.toString((Double.parseDouble(midterm)*0.3)+(Double.parseDouble(project)*0.3)+(Double.parseDouble(finalExam)*0.4));\r\n    }\r\n    public static String letterCalculator(String average) {\r\n    \tString letter=&quot;FF&quot;;\r\n    \tif((Double.parseDouble(average) &gt;=90)&amp;&amp;(Double.parseDouble(average) &lt;=100)) {\r\n    \t\tletter=&quot;AA&quot;;\r\n    \t}\r\n    \telse if((Double.parseDouble(average) &gt;=85)&amp;&amp;(Double.parseDouble(average) &lt;=89)) {\r\n    \t\tletter=&quot;BA&quot;;\r\n    \t}\r\n    \telse if((Double.parseDouble(average) &gt;=75)&amp;&amp;(Double.parseDouble(average) &lt;=84)) {\r\n    \t\tletter=&quot;BB&quot;;\r\n    \t}\r\n    \telse if((Double.parseDouble(average) &gt;=70)&amp;&amp;(Double.parseDouble(average) &lt;=74)) {\r\n    \t\tletter=&quot;CB&quot;;\r\n    \t}\r\n    \telse if((Double.parseDouble(average) &gt;=60)&amp;&amp;(Double.parseDouble(average) &lt;=69)) {\r\n    \t\tletter=&quot;CC&quot;;\r\n    \t}\r\n    \telse if((Double.parseDouble(average) &gt;=55)&amp;&amp;(Double.parseDouble(average) &lt;=59)) {\r\n    \t\tletter=&quot;DC&quot;;\r\n    \t}\r\n    \telse if((Double.parseDouble(average) &gt;=50)&amp;&amp;(Double.parseDouble(average) &lt;=54)) {\r\n    \t\tletter=&quot;DD&quot;;\r\n    \t}\r\n    \t\r\n    \treturn letter;\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    }","title":"I need help about sorting","body":"<p>I want to sort my file's content. My file content is student names,their student no, their class, their grades.These datas are seperated by &quot;;&quot;.First I needed to calculate average and letter grade. I've calculated them but i need to write all of the content to another file and the order must be highest grade to lowest grade. What should I do?</p>\n<pre><code>Example of file content: Index;StdNo;Name;Surname;Average;Letter\n\nHere is what I done by so far:\n\n------------------------------------------------------------------------------------------\nimport java.util.*;\nimport java.io.*;\npublic class project3 {\n\n    public static void main(String[] args) {\n        File file= new File(&quot;Grades.csv&quot;);\n        try {\n            Scanner scan = new Scanner(file);\n            String[] str= new String[16];\n            StringTokenizer st;\n            String[] index= new String[16];\n            String[] stdNo= new String[16];\n            String[] name= new String[16];\n            String[] surname= new String[16];\n            String[] classYear= new String[16];\n            String[] midterm= new String[16];\n            String[] project= new String[16];\n            String[] finalExam= new String[16];\n        while(scan.hasNextLine()) {\n            for(int i=0; i&lt;str.length;i++) {\n                str[i]=scan.nextLine();\n                st=new StringTokenizer(str[i],&quot;;&quot;);\n                while(st.hasMoreTokens()) {\n                    index[i]=st.nextToken();\n                    stdNo[i]=st.nextToken();\n                    name[i]=st.nextToken();\n                    surname[i]=st.nextToken();\n                    classYear[i]=st.nextToken();\n                    midterm[i]=st.nextToken();\n                    project[i]=st.nextToken();\n                    finalExam[i]=st.nextToken();\n                    \n                }\n                \n            }\n        \n        }\n        String[] average= new String[16];\n        String[] letter= new String[16];\n        \n        for(int i=0;i&lt;16;i++) {\n            if(i==0) {\n                average[i]=&quot;Average&quot;;\n                letter[i]=&quot;Letter&quot;;\n                continue;\n            }\n            \n            average[i]=averageCalculator(midterm[i],project[i],finalExam[i]);\n            letter[i]=letterCalculator(averageCalculator(midterm[i],project[i],finalExam[i]));\n        }\n        File f= new File(&quot;Letter.csv&quot;);\n        try {\n            PrintWriter pw=new PrintWriter(new FileOutputStream(f));\n            for(int i=0;i&lt;16;i++)\n            pw.println(index[i]+&quot;;&quot;+stdNo[i]+&quot;;&quot;+name[i]+&quot;;&quot;+surname[i]+&quot;;&quot;+average[i]+&quot;;&quot;+letter[i]);\n            pw.close();\n        } catch (FileNotFoundException e) {\n            System.out.println(e.getMessage());\n            \n        }\n        File f1=new File(&quot;Ordered.csv&quot;);\n            PrintWriter pw2=new PrintWriter(new FileOutputStream(f1));\n        Scanner sc= new Scanner(f);\n        \n\n            \n            \n            \n            \n            \n            \n                \n        } catch (FileNotFoundException e) {\n            System.out.println(e.getMessage());\n            \n        }\n        \n            \n        \n    }\npublic static String averageCalculator(String midterm, String project, String finalExam) {\n    return Double.toString((Double.parseDouble(midterm)*0.3)+(Double.parseDouble(project)*0.3)+(Double.parseDouble(finalExam)*0.4));\n}\npublic static String letterCalculator(String average) {\n    String letter=&quot;FF&quot;;\n    if((Double.parseDouble(average) &gt;=90)&amp;&amp;(Double.parseDouble(average) &lt;=100)) {\n        letter=&quot;AA&quot;;\n    }\n    else if((Double.parseDouble(average) &gt;=85)&amp;&amp;(Double.parseDouble(average) &lt;=89)) {\n        letter=&quot;BA&quot;;\n    }\n    else if((Double.parseDouble(average) &gt;=75)&amp;&amp;(Double.parseDouble(average) &lt;=84)) {\n        letter=&quot;BB&quot;;\n    }\n    else if((Double.parseDouble(average) &gt;=70)&amp;&amp;(Double.parseDouble(average) &lt;=74)) {\n        letter=&quot;CB&quot;;\n    }\n    else if((Double.parseDouble(average) &gt;=60)&amp;&amp;(Double.parseDouble(average) &lt;=69)) {\n        letter=&quot;CC&quot;;\n    }\n    else if((Double.parseDouble(average) &gt;=55)&amp;&amp;(Double.parseDouble(average) &lt;=59)) {\n        letter=&quot;DC&quot;;\n    }\n    else if((Double.parseDouble(average) &gt;=50)&amp;&amp;(Double.parseDouble(average) &lt;=54)) {\n        letter=&quot;DD&quot;;\n    }\n    \n    return letter;\n}\n\n\n\n\n}\n</code></pre>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":0,"creation_date":1486294828,"post_id":42051568,"comment_id":71275390,"body_markdown":"Does gradle work?","body":"Does gradle work?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1486295147,"post_id":42051568,"comment_id":71275469,"body_markdown":"Have you simply tried to run Maven on command line?","body":"Have you simply tried to run Maven on command line?"},{"owner":{"account_id":9108343,"reputation":55,"user_id":6777958,"accept_rate":40,"display_name":"Maxim Fedorov"},"score":0,"creation_date":1486295410,"post_id":42051568,"comment_id":71275550,"body_markdown":"@PiotrGwiazda yes","body":"@PiotrGwiazda yes"},{"owner":{"account_id":9108343,"reputation":55,"user_id":6777958,"accept_rate":40,"display_name":"Maxim Fedorov"},"score":0,"creation_date":1486295415,"post_id":42051568,"comment_id":71275551,"body_markdown":"@khmarbaise yes, it works fine","body":"@khmarbaise yes, it works fine"},{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":0,"creation_date":1486295979,"post_id":42051568,"comment_id":71275695,"body_markdown":"Maybe hanging maven server process using port number? Anything in task manager? Update Intellij?","body":"Maybe hanging maven server process using port number? Anything in task manager? Update Intellij?"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650642339,"creation_date":1486930076,"answer_id":42192641,"question_id":42051568,"body_markdown":"[Nvidia Geforce 378.57 Hot Fix Drivers][1]:\r\n\r\n- Fixed crash in Minecraft and some other Java-based titles\r\n\r\n\r\n  [1]: https://www.guru3d.com/files-details/geforce-378-57-hotfix-driver-download.html\r\n\r\nThere were many reports of IntelliJ IDEA, Maven and user applications crashing with Nvidia driver 378.49. Downgrading to the previous version or installing the hotfix from the link above should help if your problem was also caused by this driver update.\r\n\r\nIn case the above doesn&#39;t apply to your system, [please contact JetBrains support](https://intellij-support.jetbrains.com/hc/en-us/requests/new).","title":"Intellij IDEA - Maven not working","body":"<p><a href=\"https://www.guru3d.com/files-details/geforce-378-57-hotfix-driver-download.html\" rel=\"nofollow noreferrer\">Nvidia Geforce 378.57 Hot Fix Drivers</a>:</p>\n<ul>\n<li>Fixed crash in Minecraft and some other Java-based titles</li>\n</ul>\n<p>There were many reports of IntelliJ IDEA, Maven and user applications crashing with Nvidia driver 378.49. Downgrading to the previous version or installing the hotfix from the link above should help if your problem was also caused by this driver update.</p>\n<p>In case the above doesn't apply to your system, <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">please contact JetBrains support</a>.</p>\n"}],"owner":{"account_id":9108343,"reputation":55,"user_id":6777958,"accept_rate":40,"display_name":"Maxim Fedorov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1650642339,"creation_date":1486294487,"question_id":42051568,"body_markdown":"I cannot see the list of maven archetypes (&quot;Loading archetype list...&quot;) or import an existing maven project in Intellij IDEA 2016.3.4. I tried several things:\r\n\r\n - giving more memory to maven JVM\r\n - clearing &quot;VM options for importer&quot; setting\r\n - switching between bundled and external maven directories\r\n - switching between JDK&#39;s used by maven\r\n - invalidating IDEA cache\r\n - removing .m2 directory\r\n - adding &quot;127.0.0.0 localhost&quot; line in hosts\r\n\r\nand none of it worked. Here is a fragment of IDEA log file:\r\n\r\n        ERROR - plication.impl.ApplicationImpl - Cannot reconnect. \r\n        java.lang.RuntimeException: Cannot reconnect.\r\n\t        at                 org.jetbrains.idea.maven.server.RemoteObjectWrapper.perform(RemoteObjectWrapper.        java:82)\r\n\t        at         org.jetbrains.idea.maven.server.MavenIndexerWrapper.getArchetypes(MavenIndexerWr        apper.java:175)\r\n\t        at         org.jetbrains.idea.maven.indices.MavenIndicesManager.getArchetypes(MavenIndicesM        anager.java:310)\r\n\t        at         org.jetbrains.idea.maven.wizards.MavenArchetypesStep.lambda$updateArchetypesList        $2(MavenArchetypesStep.java:237)\r\n\t        at         com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java        :309)\r\n\t        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\t        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\t        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\t        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\t        at java.lang.Thread.run(Thread.java:745)\r\n        Caused by: java.rmi.RemoteException: Cannot start maven service; nested exception is: \r\n\t        com.intellij.execution.ExecutionException: \r\n\t        at         org.jetbrains.idea.maven.server.MavenServerManager.create(MavenServerManager.java:173)\r\n\t        at org.jetbrains.idea.maven.server.MavenServerManager.create(MavenServerManager.java:78)\r\n\t        at org.jetbrains.idea.maven.server.RemoteObjectWrapper.getOrCreateWrappee(RemoteObjectWrapper.java:41)\r\n\t        at org.jetbrains.idea.maven.server.MavenServerManager$4.create(MavenServerManager.java:527)\r\n\t        at org.jetbrains.idea.maven.server.MavenServerManager$4.create(MavenServerManager.java:523)\r\n\t        at org.jetbrains.idea.maven.server.RemoteObjectWrapper.getOrCreateWrappee(RemoteObjectWrapper.java:41)\r\n\t        at org.jetbrains.idea.maven.server.MavenIndexerWrapper$7.execute(MavenIndexerWrapper.java:178)\r\n\t        at org.jetbrains.idea.maven.server.MavenIndexerWrapper$7.execute(MavenIndexerWrapper.java:175)\r\n\t        at org.jetbrains.idea.maven.server.RemoteObjectWrapper.perform(RemoteObjectWrapper.java:76)\r\n\t... 9 more\r\n        Caused by: com.intellij.execution.ExecutionException: \r\n\t        at com.intellij.execution.rmi.RemoteProcessSupport.acquire(RemoteProcessSupport.java:159)\r\n\t        at org.jetbrains.idea.maven.server.MavenServerManager.create(MavenServerManager.java:170)\r\n\t        ... 17 more\r\n        2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - IntelliJ IDEA 2016.3.4  Build #IU-163.12024.16 \r\n        2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - JDK: 1.8.0_121 \r\n        2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - VM: Java HotSpot(TM) 64-Bit Server VM \r\n        2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - Vendor: Oracle Corporation \r\n        2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - OS: Windows 10 \r\n        2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - Last Action: NewProject \r\n        2017-02-05 14:27:30,668 [ 130056]   INFO - ide.actions.ShowFilePathAction - \r\n        Exit code 1\r\n\r\nHas anyone experienced the same problem?","title":"Intellij IDEA - Maven not working","body":"<p>I cannot see the list of maven archetypes (\"Loading archetype list...\") or import an existing maven project in Intellij IDEA 2016.3.4. I tried several things:</p>\n\n<ul>\n<li>giving more memory to maven JVM</li>\n<li>clearing \"VM options for importer\" setting</li>\n<li>switching between bundled and external maven directories</li>\n<li>switching between JDK's used by maven</li>\n<li>invalidating IDEA cache</li>\n<li>removing .m2 directory</li>\n<li>adding \"127.0.0.0 localhost\" line in hosts</li>\n</ul>\n\n<p>and none of it worked. Here is a fragment of IDEA log file:</p>\n\n<pre><code>    ERROR - plication.impl.ApplicationImpl - Cannot reconnect. \n    java.lang.RuntimeException: Cannot reconnect.\n        at                 org.jetbrains.idea.maven.server.RemoteObjectWrapper.perform(RemoteObjectWrapper.        java:82)\n        at         org.jetbrains.idea.maven.server.MavenIndexerWrapper.getArchetypes(MavenIndexerWr        apper.java:175)\n        at         org.jetbrains.idea.maven.indices.MavenIndicesManager.getArchetypes(MavenIndicesM        anager.java:310)\n        at         org.jetbrains.idea.maven.wizards.MavenArchetypesStep.lambda$updateArchetypesList        $2(MavenArchetypesStep.java:237)\n        at         com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java        :309)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n    Caused by: java.rmi.RemoteException: Cannot start maven service; nested exception is: \n        com.intellij.execution.ExecutionException: \n        at         org.jetbrains.idea.maven.server.MavenServerManager.create(MavenServerManager.java:173)\n        at org.jetbrains.idea.maven.server.MavenServerManager.create(MavenServerManager.java:78)\n        at org.jetbrains.idea.maven.server.RemoteObjectWrapper.getOrCreateWrappee(RemoteObjectWrapper.java:41)\n        at org.jetbrains.idea.maven.server.MavenServerManager$4.create(MavenServerManager.java:527)\n        at org.jetbrains.idea.maven.server.MavenServerManager$4.create(MavenServerManager.java:523)\n        at org.jetbrains.idea.maven.server.RemoteObjectWrapper.getOrCreateWrappee(RemoteObjectWrapper.java:41)\n        at org.jetbrains.idea.maven.server.MavenIndexerWrapper$7.execute(MavenIndexerWrapper.java:178)\n        at org.jetbrains.idea.maven.server.MavenIndexerWrapper$7.execute(MavenIndexerWrapper.java:175)\n        at org.jetbrains.idea.maven.server.RemoteObjectWrapper.perform(RemoteObjectWrapper.java:76)\n... 9 more\n    Caused by: com.intellij.execution.ExecutionException: \n        at com.intellij.execution.rmi.RemoteProcessSupport.acquire(RemoteProcessSupport.java:159)\n        at org.jetbrains.idea.maven.server.MavenServerManager.create(MavenServerManager.java:170)\n        ... 17 more\n    2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - IntelliJ IDEA 2016.3.4  Build #IU-163.12024.16 \n    2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - JDK: 1.8.0_121 \n    2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - VM: Java HotSpot(TM) 64-Bit Server VM \n    2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - Vendor: Oracle Corporation \n    2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - OS: Windows 10 \n    2017-02-05 14:27:24,061 [ 123449]  ERROR - plication.impl.ApplicationImpl - Last Action: NewProject \n    2017-02-05 14:27:30,668 [ 130056]   INFO - ide.actions.ShowFilePathAction - \n    Exit code 1\n</code></pre>\n\n<p>Has anyone experienced the same problem?</p>\n"},{"tags":["java","android","kotlin","hashmap","android-ndk"],"owner":{"account_id":14083239,"reputation":67,"user_id":10173666,"display_name":"Juan Martin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650641985,"creation_date":1650568988,"question_id":71959899,"body_markdown":"With the following segment of code I&#39;m able to spoof certain build.prop parameters such as brand, manufactuer, device, product and model:    \r\n\r\n    data class DeviceEntries(\r\n        val deviceName: String,\r\n        val props: HashMap&lt;String, String&gt;,\r\n        val featureLevelName: String,\r\n        val androidVersion: AndroidVersion?,\r\n        val lcd_density: String,\r\n    )\r\n    \r\n    /**\r\n     * List of all devices and their build props\r\n     * GOOGLE PIXEL 6 PRO\r\n     */\r\n    val allDevices = listOf(\r\n    \r\n        DeviceEntries(&quot;None&quot;, hashMapOf(), &quot;None&quot;, null, &quot;&quot;),\r\n    \r\n        DeviceEntries(\r\n            &quot;PIXEL 6 PRO&quot;, hashMapOf(\r\n    \t\t\tPair(&quot;BRAND&quot;, &quot;google&quot;),\r\n                Pair(&quot;MANUFACTURER&quot;, &quot;Google&quot;),\r\n                Pair(&quot;DEVICE&quot;, &quot;raven&quot;),\r\n                Pair(&quot;PRODUCT&quot;, &quot;raven&quot;),\r\n                Pair(&quot;MODEL&quot;, &quot;Pixel 6 Pro&quot;),\r\n            ),\r\n            &quot;Pixel 2021&quot;,\r\n            getAndroidVersionFromLabel(&quot;S 12.0&quot;),\r\n            &quot;450&quot;,\r\n        ),\r\n    )\r\n\r\nHowever I&#39;m not able to spoof the value ro.sf.lcd_density \r\nAs far as I know, it doesn&#39;t belong to android.os.Build so I can&#39;t add it **or don&#39;t know how to add it** inside hashMapOf section. \r\nI created the variable lcd_density and added the value 450 (desired density) hoping it would do the trick... but it doesn&#39;t.\r\n\r\nAbove is just a segment of the file, the full file can be found at: https://github.com/titooo7/GFN-FPS-Unlocker/blob/main/app/src/main/java/soy_titooo/xposed/gfnfpsunlocker/DeviceProps.kt\r\n\r\n\r\nThis is the first android app that I was able to fork and modify slightly to fit my purpose. Spoofing the density is the only bit that I can&#39;t get done yet\r\n\r\nPS: I&#39;m not using executing &#39;wm density&#39; command as the purpose of the app is to spoof those props values only for certain apps and not the whole system","title":"How can I spoof prop values that don&#39;t belong to android.os.Build?","body":"<p>With the following segment of code I'm able to spoof certain build.prop parameters such as brand, manufactuer, device, product and model:</p>\n<pre><code>data class DeviceEntries(\n    val deviceName: String,\n    val props: HashMap&lt;String, String&gt;,\n    val featureLevelName: String,\n    val androidVersion: AndroidVersion?,\n    val lcd_density: String,\n)\n\n/**\n * List of all devices and their build props\n * GOOGLE PIXEL 6 PRO\n */\nval allDevices = listOf(\n\n    DeviceEntries(&quot;None&quot;, hashMapOf(), &quot;None&quot;, null, &quot;&quot;),\n\n    DeviceEntries(\n        &quot;PIXEL 6 PRO&quot;, hashMapOf(\n            Pair(&quot;BRAND&quot;, &quot;google&quot;),\n            Pair(&quot;MANUFACTURER&quot;, &quot;Google&quot;),\n            Pair(&quot;DEVICE&quot;, &quot;raven&quot;),\n            Pair(&quot;PRODUCT&quot;, &quot;raven&quot;),\n            Pair(&quot;MODEL&quot;, &quot;Pixel 6 Pro&quot;),\n        ),\n        &quot;Pixel 2021&quot;,\n        getAndroidVersionFromLabel(&quot;S 12.0&quot;),\n        &quot;450&quot;,\n    ),\n)\n</code></pre>\n<p>However I'm not able to spoof the value ro.sf.lcd_density\nAs far as I know, it doesn't belong to android.os.Build so I can't add it <strong>or don't know how to add it</strong> inside hashMapOf section.\nI created the variable lcd_density and added the value 450 (desired density) hoping it would do the trick... but it doesn't.</p>\n<p>Above is just a segment of the file, the full file can be found at: <a href=\"https://github.com/titooo7/GFN-FPS-Unlocker/blob/main/app/src/main/java/soy_titooo/xposed/gfnfpsunlocker/DeviceProps.kt\" rel=\"nofollow noreferrer\">https://github.com/titooo7/GFN-FPS-Unlocker/blob/main/app/src/main/java/soy_titooo/xposed/gfnfpsunlocker/DeviceProps.kt</a></p>\n<p>This is the first android app that I was able to fork and modify slightly to fit my purpose. Spoofing the density is the only bit that I can't get done yet</p>\n<p>PS: I'm not using executing 'wm density' command as the purpose of the app is to spoof those props values only for certain apps and not the whole system</p>\n"},{"tags":["java","logging","log4j2"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650641960,"creation_date":1650641960,"answer_id":71971311,"question_id":71969872,"body_markdown":"I believe the behaviour comes since you have two applications with their own log4j configuration each, and you are running on a Un*xish system.\r\n\r\nIn Linux, if you have one application writing to a file it opens a file handle to that item on disk. If you at the same time rename the file and create a new one with the old name, the file handle in the directory changes but not the one in memory for that application. So the application does not notice the change and keeps writing to the same item on disk - you notice it as the data is still appended to the renamed file.\r\n\r\nThat&#39;s why log rotation either requires some tricks (read more about [logrotate][1] command), or you perform log rotation on application level - in Log4j it would be done via the [RollingFileAppender][2].\r\n\r\nSince you have two applications writing to the same logfile you have the situation that whichever one of the two applications decides to rotate the logs, the other one does not notice as I described above. Better have separate logfiles for the different applications.\r\n\r\n\r\n  [1]: https://www.systutorials.com/docs/linux/man/5-logrotate/\r\n  [2]: https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.html","title":"logs getting written in backup file instead of main file","body":"<p>I believe the behaviour comes since you have two applications with their own log4j configuration each, and you are running on a Un*xish system.</p>\n<p>In Linux, if you have one application writing to a file it opens a file handle to that item on disk. If you at the same time rename the file and create a new one with the old name, the file handle in the directory changes but not the one in memory for that application. So the application does not notice the change and keeps writing to the same item on disk - you notice it as the data is still appended to the renamed file.</p>\n<p>That's why log rotation either requires some tricks (read more about <a href=\"https://www.systutorials.com/docs/linux/man/5-logrotate/\" rel=\"nofollow noreferrer\">logrotate</a> command), or you perform log rotation on application level - in Log4j it would be done via the <a href=\"https://logging.apache.org/log4j/2.x/log4j-core/apidocs/org/apache/logging/log4j/core/appender/RollingFileAppender.html\" rel=\"nofollow noreferrer\">RollingFileAppender</a>.</p>\n<p>Since you have two applications writing to the same logfile you have the situation that whichever one of the two applications decides to rotate the logs, the other one does not notice as I described above. Better have separate logfiles for the different applications.</p>\n"}],"owner":{"account_id":16535807,"reputation":57,"user_id":11947882,"display_name":"Lucazade"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71971311,"answer_count":1,"score":0,"last_activity_date":1650641960,"creation_date":1650635446,"question_id":71969872,"body_markdown":"I am using log4j2.xml in 2 applications and both to log in same info.log. Size of log file mentioned in application A and B is 100KB. When info.log exceeds 100KB info.log.1 backup file gets created. When application B tries to log, logs are getting written in info.log.1 instead of info.log. When i restart application B then logs are getting logged in info.log. Why this bizarre way of logging is observed and what&#39;s the solution for this. Below is the log4j2.xml of application B \r\n\r\n     &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n      &lt;Configuration status=&quot;INFO&quot; monitorInterval=&quot;5&quot;&gt;\r\n    &lt;!-- Logging Properties --&gt;\r\n    &lt;Properties&gt;\r\n        &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd HH:mm:ss:SSS} [%p] %c, %m%n&lt;/Property&gt;\r\n        &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;/logs&lt;/Property&gt;\r\n    &lt;/Properties&gt;\r\n    &lt;Appenders&gt;\r\n        &lt;!-- Console Appender --&gt;\r\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt; &lt;/Console&gt;\r\n        &lt;!-- File Appenders on need basis --&gt;\r\n        &lt;RollingFile name=&quot;infoLog&quot; fileName=&quot;${APP_LOG_ROOT}/info.log&quot; filePattern=&quot;${APP_LOG_ROOT}/app-info-%d{yyyy-MM-dd}%-i.log&quot;&gt;\r\n            &lt;LevelRangeFilter minLevel=&quot;INFO&quot; maxLevel=&quot;INFO&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;20KB&quot; /&gt; &lt;/Policies&gt;\r\n            &lt;ThresholdFilter level=&quot;INFO&quot; /&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;50&quot; /&gt; &lt;/RollingFile&gt;\r\n        &lt;RollingFile name=&quot;errorlog&quot; fileName=&quot;${APP_LOG_ROOT}/info.log&quot; filePattern=&quot;${APP_LOG_ROOT}/app-info-%d{yyyy-MM-dd}%-i.log&quot;&gt;\r\n            &lt;LevelRangeFilter minLevel=&quot;ERROR&quot; maxLevel=&quot;ERROR&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\r\n            &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;100KB&quot; /&gt; &lt;/Policies&gt;\r\n            &lt;ThresholdFilter level=&quot;error&quot; /&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt; &lt;/RollingFile&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot;&gt;\r\n            &lt;AppenderRef ref=&quot;infoLog&quot; /&gt;\r\n            &lt;AppenderRef ref=&quot;errorlog&quot; level=&quot;error&quot; /&gt; &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;","title":"logs getting written in backup file instead of main file","body":"<p>I am using log4j2.xml in 2 applications and both to log in same info.log. Size of log file mentioned in application A and B is 100KB. When info.log exceeds 100KB info.log.1 backup file gets created. When application B tries to log, logs are getting written in info.log.1 instead of info.log. When i restart application B then logs are getting logged in info.log. Why this bizarre way of logging is observed and what's the solution for this. Below is the log4j2.xml of application B</p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n  &lt;Configuration status=&quot;INFO&quot; monitorInterval=&quot;5&quot;&gt;\n&lt;!-- Logging Properties --&gt;\n&lt;Properties&gt;\n    &lt;Property name=&quot;LOG_PATTERN&quot;&gt;%d{yyyy-MM-dd HH:mm:ss:SSS} [%p] %c, %m%n&lt;/Property&gt;\n    &lt;Property name=&quot;APP_LOG_ROOT&quot;&gt;/logs&lt;/Property&gt;\n&lt;/Properties&gt;\n&lt;Appenders&gt;\n    &lt;!-- Console Appender --&gt;\n    &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot; follow=&quot;true&quot;&gt;\n        &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt; &lt;/Console&gt;\n    &lt;!-- File Appenders on need basis --&gt;\n    &lt;RollingFile name=&quot;infoLog&quot; fileName=&quot;${APP_LOG_ROOT}/info.log&quot; filePattern=&quot;${APP_LOG_ROOT}/app-info-%d{yyyy-MM-dd}%-i.log&quot;&gt;\n        &lt;LevelRangeFilter minLevel=&quot;INFO&quot; maxLevel=&quot;INFO&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\n        &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n        &lt;Policies&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;20KB&quot; /&gt; &lt;/Policies&gt;\n        &lt;ThresholdFilter level=&quot;INFO&quot; /&gt;\n        &lt;DefaultRolloverStrategy max=&quot;50&quot; /&gt; &lt;/RollingFile&gt;\n    &lt;RollingFile name=&quot;errorlog&quot; fileName=&quot;${APP_LOG_ROOT}/info.log&quot; filePattern=&quot;${APP_LOG_ROOT}/app-info-%d{yyyy-MM-dd}%-i.log&quot;&gt;\n        &lt;LevelRangeFilter minLevel=&quot;ERROR&quot; maxLevel=&quot;ERROR&quot; onMatch=&quot;ACCEPT&quot; onMismatch=&quot;DENY&quot; /&gt;\n        &lt;PatternLayout pattern=&quot;${LOG_PATTERN}&quot; /&gt;\n        &lt;Policies&gt;\n            &lt;SizeBasedTriggeringPolicy size=&quot;100KB&quot; /&gt; &lt;/Policies&gt;\n        &lt;ThresholdFilter level=&quot;error&quot; /&gt;\n        &lt;DefaultRolloverStrategy max=&quot;10&quot; /&gt; &lt;/RollingFile&gt;\n&lt;/Appenders&gt;\n&lt;Loggers&gt;\n    &lt;Root level=&quot;info&quot;&gt;\n        &lt;AppenderRef ref=&quot;infoLog&quot; /&gt;\n        &lt;AppenderRef ref=&quot;errorlog&quot; level=&quot;error&quot; /&gt; &lt;/Root&gt;\n&lt;/Loggers&gt;\n</code></pre>\n\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650628170,"post_id":71968197,"comment_id":127169755,"body_markdown":"What does the debugger say?","body":"What does the debugger say?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1650628253,"post_id":71968197,"comment_id":127169788,"body_markdown":"which &quot;method output is null&quot;? do we have the code for it? what is `startDate` in given test code?  ideally the question would include a [mre]","body":"which &quot;method output is null&quot;? do we have the code for it? what is <code>startDate</code> in given test code?  ideally the question would include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":5464743,"reputation":65,"user_id":4345869,"display_name":"Rob"},"score":0,"creation_date":1650632535,"post_id":71968197,"comment_id":127171403,"body_markdown":"@user16320675 startDate and endDate are parameters passed into the code from an endpoint. Its a springboot project.\n\nestimatedDate is null when today.plusDays(estimatedDays); returns a value.\n\nWhen I debugged it, it looks like in the bit of the LocalDate class plusDays \n\n   \n        long mjDay = Math.addExact(toEpochDay(), daysToAdd);\n        return LocalDate.ofEpochDay(mjDay);\n\ntoEpochDay() is null because its a mocked instance","body":"@user16320675 startDate and endDate are parameters passed into the code from an endpoint. Its a springboot project.  estimatedDate is null when today.plusDays(estimatedDays); returns a value.  When I debugged it, it looks like in the bit of the LocalDate class plusDays               long mjDay = Math.addExact(toEpochDay(), daysToAdd);         return LocalDate.ofEpochDay(mjDay);  toEpochDay() is null because its a mocked instance"},{"owner":{"account_id":5464743,"reputation":65,"user_id":4345869,"display_name":"Rob"},"score":0,"creation_date":1650640356,"post_id":71968197,"comment_id":127174509,"body_markdown":"@Kayaman I&#39;ve added an edit to show what is happening in the LocalDate plusDays method","body":"@Kayaman I&#39;ve added an edit to show what is happening in the LocalDate plusDays method"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650640867,"post_id":71968197,"comment_id":127174739,"body_markdown":"You seem to be misinterpreting the debugger. It doesn&#39;t return null, it&#39;s just referring to the unintialized `mjDays` variable because you&#39;ve stopped execution before it gets initialized. I don&#39;t know what your &quot;returns null&quot; or &quot;outputs null&quot; means. If you get a `NullPointerException`, that would be a certain indication of a `null` somewhere.","body":"You seem to be misinterpreting the debugger. It doesn&#39;t return null, it&#39;s just referring to the unintialized <code>mjDays</code> variable because you&#39;ve stopped execution before it gets initialized. I don&#39;t know what your &quot;returns null&quot; or &quot;outputs null&quot; means. If you get a <code>NullPointerException</code>, that would be a certain indication of a <code>null</code> somewhere."},{"owner":{"account_id":5464743,"reputation":65,"user_id":4345869,"display_name":"Rob"},"score":0,"creation_date":1650641566,"post_id":71968197,"comment_id":127174985,"body_markdown":"Just added another screenshot, I think it could be how it is saving it in memory? @Kayaman slot 4 has the variable but slot 3 doesnt and its using that?","body":"Just added another screenshot, I think it could be how it is saving it in memory? @Kayaman slot 4 has the variable but slot 3 doesnt and its using that?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650641753,"post_id":71968197,"comment_id":127175053,"body_markdown":"Don&#39;t start guessing. The variable `mjDay` is in `slot_3` and it&#39;s completely irrelevant to anything. You haven&#39;t shown an error message.","body":"Don&#39;t start guessing. The variable <code>mjDay</code> is in <code>slot_3</code> and it&#39;s completely irrelevant to anything. You haven&#39;t shown an error message."},{"owner":{"account_id":5464743,"reputation":65,"user_id":4345869,"display_name":"Rob"},"score":0,"creation_date":1650641991,"post_id":71968197,"comment_id":127175159,"body_markdown":"Its not an error I said that at the start? I said that the resultant variable estimatedDate is coming back as null. When I debug the code it all looks fine until it comes out the Math.exact() method which returns null. I dont really know what your issue is? @Kayaman","body":"Its not an error I said that at the start? I said that the resultant variable estimatedDate is coming back as null. When I debug the code it all looks fine until it comes out the Math.exact() method which returns null. I dont really know what your issue is? @Kayaman"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650642557,"post_id":71968197,"comment_id":127175346,"body_markdown":"Well, for one `Math.addExact()` returns a `long` which can&#39;t be `null`. Second, you can&#39;t read the debugger output so you think things are happening which aren&#39;t. You&#39;re looking at an uninitialized variable, which shows as `null` (even though it&#39;s a `long`), and that&#39;s what you were concerned about? Does your test pass? Try stepping with the debugger to the actual return statement, and you&#39;ll see the initialized value.","body":"Well, for one <code>Math.addExact()</code> returns a <code>long</code> which can&#39;t be <code>null</code>. Second, you can&#39;t read the debugger output so you think things are happening which aren&#39;t. You&#39;re looking at an uninitialized variable, which shows as <code>null</code> (even though it&#39;s a <code>long</code>), and that&#39;s what you were concerned about? Does your test pass? Try stepping with the debugger to the actual return statement, and you&#39;ll see the initialized value."},{"owner":{"account_id":5464743,"reputation":65,"user_id":4345869,"display_name":"Rob"},"score":0,"creation_date":1650642898,"post_id":71968197,"comment_id":127175470,"body_markdown":"See the first screen shot mJDay is null, I dont really understand the attack here. Stackoverflow is for helping not attacking other people who want help. No the test doesnt pass or else I wouldnt be on here asking a question? @Kayaman","body":"See the first screen shot mJDay is null, I dont really understand the attack here. Stackoverflow is for helping not attacking other people who want help. No the test doesnt pass or else I wouldnt be on here asking a question? @Kayaman"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1650647095,"post_id":71968197,"comment_id":127176884,"body_markdown":"Don&#39;t consider it a personal attack, it&#39;s more of a fight against ignorance. Like I said, `mjDay` isn&#39;t `null` since primitives can&#39;t hold null values. The debugger shows it as null because it&#39;s uninitialized. If the tests don&#39;t pass, what&#39;s the error message? Are you assuming that this is the only reason the tests can&#39;t pass?","body":"Don&#39;t consider it a personal attack, it&#39;s more of a fight against ignorance. Like I said, <code>mjDay</code> isn&#39;t <code>null</code> since primitives can&#39;t hold null values. The debugger shows it as null because it&#39;s uninitialized. If the tests don&#39;t pass, what&#39;s the error message? Are you assuming that this is the only reason the tests can&#39;t pass?"},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1650700144,"post_id":71968197,"comment_id":127185980,"body_markdown":"Instead of wasting your time on static mocking and debugging the Java API, use best practices and inject a Clock","body":"Instead of wasting your time on static mocking and debugging the Java API, use best practices and inject a Clock"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1650641313,"creation_date":1650628658,"answer_id":71968371,"question_id":71968197,"body_markdown":"# `java.time.Clock`\r\n\r\n\r\nInstead of mocking a static method (which is never a good idea really IMO) you can use the [Clock feature offered by the java.time API][1] itself. You can pass an instance of java.time.Clock, a [fixed][2] clock for example.\r\n\r\nFrom the [`Clock`][3] JavaDoc:\r\n\r\n&gt;Best practice for applications is to pass a Clock into any method that requires the current instant. A dependency injection framework is one way to achieve this:\r\n\r\n    public class MyBean {\r\n     private Clock clock;  // dependency inject\r\n     ...\r\n     public void process(LocalDate eventDate) {\r\n       if (eventDate.isBefore(LocalDate.now(clock)) {\r\n         ...\r\n       }\r\n     }\r\n    }   \r\n\r\n&gt;This approach allows an alternate clock, such as fixed or offset to be used during testing.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.Clock-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html","title":"Mocking LocalDate.now() but when using plusDays it returns null?","body":"<h1><code>java.time.Clock</code></h1>\n<p>Instead of mocking a static method (which is never a good idea really IMO) you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.Clock-\" rel=\"nofollow noreferrer\">Clock feature offered by the java.time API</a> itself. You can pass an instance of java.time.Clock, a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html#fixed-java.time.Instant-java.time.ZoneId-\" rel=\"nofollow noreferrer\">fixed</a> clock for example.</p>\n<p>From the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> JavaDoc:</p>\n<blockquote>\n<p>Best practice for applications is to pass a Clock into any method that requires the current instant. A dependency injection framework is one way to achieve this:</p>\n</blockquote>\n<pre><code>public class MyBean {\n private Clock clock;  // dependency inject\n ...\n public void process(LocalDate eventDate) {\n   if (eventDate.isBefore(LocalDate.now(clock)) {\n     ...\n   }\n }\n}   \n</code></pre>\n<blockquote>\n<p>This approach allows an alternate clock, such as fixed or offset to be used during testing.</p>\n</blockquote>\n"}],"owner":{"account_id":5464743,"reputation":65,"user_id":4345869,"display_name":"Rob"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1377,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71968371,"answer_count":1,"score":1,"last_activity_date":1650641521,"creation_date":1650627902,"question_id":71968197,"body_markdown":"In my code I need to use LocalDate.now(), then I work out an estimated date from today by using the plusDays(num). \r\n\r\nIn my unit test, when I mock the static .now() method, when it calls the plusDays() method the output is null.\r\n\r\nAny Ideas?\r\n\r\n**Code**\r\n    \r\n    LocalDate today = LocalDate.now();\r\n    int estimatedDays = fullPeriod - countSoFar;\r\n    LocalDate estimatedDate  = today.plusDays(estimatedDays);\r\n\r\n**Test**\r\n\r\n\r\n    try(MockedStatic&lt;LocalDate&gt; mockedLocalDate = Mockito.mockStatic(LocalDate.class)) {\r\n    \t\t\tmockedLocalDate.when(LocalDate::now).thenReturn(startDate);\r\n    \r\n    \t\t\tString actual = generator.generateCsv(&quot;text&quot;, &quot;text&quot;, startDate, endDate);\r\n    \r\n    \t\t\tString expected = &quot;Some text containing {Estimated Date}&quot;;\r\n    \t\t\tassertEquals(expected, actual);\r\n    }\r\n\r\nEdit:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nWhen I mock the LocalDate it looks normal in the call to LocalDate.now() but when it goes into the plusDay() method it returns null\r\n\r\nInside the Math function r is not null at this point but as soon as it comes out this method the resultant variable is?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k6CIP.png\r\n  [2]: https://i.stack.imgur.com/xnrfK.png","title":"Mocking LocalDate.now() but when using plusDays it returns null?","body":"<p>In my code I need to use LocalDate.now(), then I work out an estimated date from today by using the plusDays(num).</p>\n<p>In my unit test, when I mock the static .now() method, when it calls the plusDays() method the output is null.</p>\n<p>Any Ideas?</p>\n<p><strong>Code</strong></p>\n<pre><code>LocalDate today = LocalDate.now();\nint estimatedDays = fullPeriod - countSoFar;\nLocalDate estimatedDate  = today.plusDays(estimatedDays);\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>try(MockedStatic&lt;LocalDate&gt; mockedLocalDate = Mockito.mockStatic(LocalDate.class)) {\n            mockedLocalDate.when(LocalDate::now).thenReturn(startDate);\n\n            String actual = generator.generateCsv(&quot;text&quot;, &quot;text&quot;, startDate, endDate);\n\n            String expected = &quot;Some text containing {Estimated Date}&quot;;\n            assertEquals(expected, actual);\n}\n</code></pre>\n<p>Edit:\n<a href=\"https://i.stack.imgur.com/k6CIP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k6CIP.png\" alt=\"enter image description here\" /></a></p>\n<p>When I mock the LocalDate it looks normal in the call to LocalDate.now() but when it goes into the plusDay() method it returns null</p>\n<p>Inside the Math function r is not null at this point but as soon as it comes out this method the resultant variable is?</p>\n<p><a href=\"https://i.stack.imgur.com/xnrfK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xnrfK.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","androidx","android-tv","leanback"],"answers":[{"tags":[],"owner":{"account_id":5947826,"reputation":321,"user_id":4676836,"display_name":"JungleGenius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650641517,"creation_date":1650641517,"answer_id":71971226,"question_id":71956510,"body_markdown":"Just Following up...  \r\n\r\nI have not found a solution yet but I came across this post [Building for Android TV — Episode 4][1] that referenced this same issue and had a solution.  The only problem is this only works for **leanback-v17:22.1.1**\r\n\r\n&gt; The solution, again, must be found in Leanback’s inner working\r\n&gt; mechanisms. HeadersFragment (and its base class BaseRowFragment) is\r\n&gt; simply a wrapper around a VerticalGridView object which, in turn, is a\r\n&gt; wrapper around a RecyclerView. As we can see here, BaseRowFragment\r\n&gt; attaches a OnChildSelectedListener instance to the VerticalGridView,\r\n&gt; calling its onRowSelected() method whenever a selection occurs.\r\n&gt; HeadersFragment overrides this method and invokes the\r\n&gt; onHeaderSelected() method of its (private)\r\n&gt; OnHeaderViewSelectedListener listener.\r\n&gt; \r\n&gt; Nice. We can then take over the HeadersFragment listener by setting\r\n&gt; our own directly on the VerticalGridView. The code is pretty\r\n&gt; straightforward:\r\n&gt; \r\n\r\n\r\n```\r\n\r\nVerticalGridView grid = getActivity().getVerticalGridView(this);\r\ngrid.setOnChildSelectedListener(new OnChildSelectedListener() {\r\n   @Override\r\n   public void onChildSelected(ViewGroup viewGroup, View view, int i, long l) {\r\n      // we can now update the content accordingly!\r\n   }\r\n});\r\n\r\n```\r\n\r\nWill follow up if I can get a work around.\r\n\r\n[1]: https://medium.com/building-for-android-tv/building-for-android-tv-episode-4-476106b8cf27","title":"Android TV Leanback: Setting setOnHeaderClickedListener or setOnHeaderViewSelectedListener Breaks Normal Navigation","body":"<p>Just Following up...</p>\n<p>I have not found a solution yet but I came across this post <a href=\"https://medium.com/building-for-android-tv/building-for-android-tv-episode-4-476106b8cf27\" rel=\"nofollow noreferrer\">Building for Android TV — Episode 4</a> that referenced this same issue and had a solution.  The only problem is this only works for <strong>leanback-v17:22.1.1</strong></p>\n<blockquote>\n<p>The solution, again, must be found in Leanback’s inner working\nmechanisms. HeadersFragment (and its base class BaseRowFragment) is\nsimply a wrapper around a VerticalGridView object which, in turn, is a\nwrapper around a RecyclerView. As we can see here, BaseRowFragment\nattaches a OnChildSelectedListener instance to the VerticalGridView,\ncalling its onRowSelected() method whenever a selection occurs.\nHeadersFragment overrides this method and invokes the\nonHeaderSelected() method of its (private)\nOnHeaderViewSelectedListener listener.</p>\n<p>Nice. We can then take over the HeadersFragment listener by setting\nour own directly on the VerticalGridView. The code is pretty\nstraightforward:</p>\n</blockquote>\n<pre><code>\nVerticalGridView grid = getActivity().getVerticalGridView(this);\ngrid.setOnChildSelectedListener(new OnChildSelectedListener() {\n   @Override\n   public void onChildSelected(ViewGroup viewGroup, View view, int i, long l) {\n      // we can now update the content accordingly!\n   }\n});\n\n</code></pre>\n<p>Will follow up if I can get a work around.</p>\n"}],"owner":{"account_id":5947826,"reputation":321,"user_id":4676836,"display_name":"JungleGenius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650641517,"creation_date":1650552592,"question_id":71956510,"body_markdown":"I&#39;m hoping the wisdom of the crowd can help me solve a strange problem.  I have a very basic ATV Leanback App using **androidx.leanback.app.BrowseSupportFragment**.\r\n\r\nI have subclassed the **BrowseSupportFragment** and everything works fine.  That is until I set up either a **setOnHeaderViewSelectedListener** or a **setOnHeaderClickedListener**.  Setting either one Breaks the normal &quot;out of the box&quot; navigation. \r\n\r\nWhat I would like to accomplish is setting up either a **setOnHeaderViewSelectedListener** or a **setOnHeaderClickedListener** so I can monitor these events without breaking the normal &quot;out of the box&quot; navigation.\r\n\r\nThere is no super class to call so I can&#39;t do it that way.  I&#39;m posting the relevant code below and the full source code is readily available online.  What am I missing?\r\n\r\nNote I have checked many other issues on *Stackoverflow* but I have not found any that address this issue with an actual working fix.  e.g. Adding a listener and still have the normal &quot;out of the box&quot; navigation work exactly the same as in did before the listener was added. \r\n\r\nI&#39;m wondering if I&#39;m going to be forced to just copy the entire **androidx.leanback.app.BrowseSupportFragment** and /or **androidx.leanback.app.HeadersSupportFragment** source as a way forward but that just does not seem right.\r\n\r\nThank you for your help.\r\n\r\n**My code**\r\n```\r\n    public class WatchTVFragment extends BrowseSupportFragment {\r\n    \r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n    \r\n        if (getHeadersSupportFragment() != null){\r\n\r\n            getHeadersSupportFragment().setOnHeaderClickedListener(new HeadersSupportFragment.OnHeaderClickedListener() {\r\n                @Override\r\n                public void onHeaderClicked(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\r\n                    Log.d(&quot;WatchTVFragment&quot;, &quot;=============&gt; onHeaderClicked&quot;);\r\n    \r\n                }\r\n            });\r\n\r\n            getHeadersSupportFragment().setOnHeaderViewSelectedListener(new HeadersSupportFragment.OnHeaderViewSelectedListener() {\r\n                @Override\r\n                public void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\r\n                    // catch your item by row.getId();\r\n                    Log.d(&quot;WatchTVFragment&quot;, &quot;=============&gt; onHeaderSelected&quot;);\r\n                    //return;\r\n                }\r\n            });\r\n    }\r\n```\r\n\r\n**Snippets from androidx/leanback/app/HeadersSupportFragment.java**\r\n\r\n```\r\n\r\n    public void setOnHeaderViewSelectedListener(OnHeaderViewSelectedListener listener) {\r\n        mOnHeaderViewSelectedListener = listener;\r\n    }\r\n\r\n\r\n    /**\r\n     * Interface definition for a callback to be invoked when a header item is selected.\r\n     */\r\n    public interface OnHeaderViewSelectedListener {\r\n        /**\r\n         * Called when a header item has been selected.\r\n         *\r\n         * @param viewHolder Row ViewHolder object corresponding to the selected Header.\r\n         * @param row Row object corresponding to the selected Header.\r\n         */\r\n        void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row);\r\n    }\r\n\r\n    private OnHeaderViewSelectedListener mOnHeaderViewSelectedListener;\r\n\r\n    @Override\r\n    void onRowSelected(RecyclerView parent, RecyclerView.ViewHolder viewHolder,\r\n            int position, int subposition) {\r\n        if (mOnHeaderViewSelectedListener != null) {\r\n            if (viewHolder != null &amp;&amp; position &gt;= 0) {\r\n                ItemBridgeAdapter.ViewHolder vh = (ItemBridgeAdapter.ViewHolder) viewHolder;\r\n                mOnHeaderViewSelectedListener.onHeaderSelected(\r\n                        (RowHeaderPresenter.ViewHolder) vh.getViewHolder(), (Row) vh.getItem());\r\n            } else {\r\n                mOnHeaderViewSelectedListener.onHeaderSelected(null, null);\r\n            }\r\n        }\r\n    }\r\n\r\n```\r\n\r\n**Snippets from androidx/leanback/app/BrowseSupportFragment.java**\r\n```\r\n    HeadersSupportFragment mHeadersSupportFragment;\r\n\r\n    /**\r\n     * Get currently bound HeadersSupportFragment or null if HeadersSupportFragment has not been created yet.\r\n     * @return Currently bound HeadersSupportFragment or null if HeadersSupportFragment has not been created yet.\r\n     */\r\n    public HeadersSupportFragment getHeadersSupportFragment() {\r\n        return mHeadersSupportFragment;\r\n    }\r\n\r\n    private HeadersSupportFragment.OnHeaderViewSelectedListener mHeaderViewSelectedListener =\r\n            new HeadersSupportFragment.OnHeaderViewSelectedListener() {\r\n        @Override\r\n        public void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\r\n            int position = mHeadersSupportFragment.getSelectedPosition();\r\n            if (DEBUG) Log.v(TAG, &quot;header selected position &quot; + position);\r\n            // Layout of Headers Fragment in hidden state may triggers the onRowSelected and\r\n            // reset to 0. Skip in that case.\r\n            if (mShowingHeaders) {\r\n                onRowSelected(position);\r\n            }\r\n        }\r\n    };\r\n\r\n```","title":"Android TV Leanback: Setting setOnHeaderClickedListener or setOnHeaderViewSelectedListener Breaks Normal Navigation","body":"<p>I'm hoping the wisdom of the crowd can help me solve a strange problem.  I have a very basic ATV Leanback App using <strong>androidx.leanback.app.BrowseSupportFragment</strong>.</p>\n<p>I have subclassed the <strong>BrowseSupportFragment</strong> and everything works fine.  That is until I set up either a <strong>setOnHeaderViewSelectedListener</strong> or a <strong>setOnHeaderClickedListener</strong>.  Setting either one Breaks the normal &quot;out of the box&quot; navigation.</p>\n<p>What I would like to accomplish is setting up either a <strong>setOnHeaderViewSelectedListener</strong> or a <strong>setOnHeaderClickedListener</strong> so I can monitor these events without breaking the normal &quot;out of the box&quot; navigation.</p>\n<p>There is no super class to call so I can't do it that way.  I'm posting the relevant code below and the full source code is readily available online.  What am I missing?</p>\n<p>Note I have checked many other issues on <em>Stackoverflow</em> but I have not found any that address this issue with an actual working fix.  e.g. Adding a listener and still have the normal &quot;out of the box&quot; navigation work exactly the same as in did before the listener was added.</p>\n<p>I'm wondering if I'm going to be forced to just copy the entire <strong>androidx.leanback.app.BrowseSupportFragment</strong> and /or <strong>androidx.leanback.app.HeadersSupportFragment</strong> source as a way forward but that just does not seem right.</p>\n<p>Thank you for your help.</p>\n<p><strong>My code</strong></p>\n<pre><code>    public class WatchTVFragment extends BrowseSupportFragment {\n    \n    @Override\n    public void onViewCreated(View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n    \n        if (getHeadersSupportFragment() != null){\n\n            getHeadersSupportFragment().setOnHeaderClickedListener(new HeadersSupportFragment.OnHeaderClickedListener() {\n                @Override\n                public void onHeaderClicked(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\n                    Log.d(&quot;WatchTVFragment&quot;, &quot;=============&gt; onHeaderClicked&quot;);\n    \n                }\n            });\n\n            getHeadersSupportFragment().setOnHeaderViewSelectedListener(new HeadersSupportFragment.OnHeaderViewSelectedListener() {\n                @Override\n                public void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\n                    // catch your item by row.getId();\n                    Log.d(&quot;WatchTVFragment&quot;, &quot;=============&gt; onHeaderSelected&quot;);\n                    //return;\n                }\n            });\n    }\n</code></pre>\n<p><strong>Snippets from androidx/leanback/app/HeadersSupportFragment.java</strong></p>\n<pre><code>\n    public void setOnHeaderViewSelectedListener(OnHeaderViewSelectedListener listener) {\n        mOnHeaderViewSelectedListener = listener;\n    }\n\n\n    /**\n     * Interface definition for a callback to be invoked when a header item is selected.\n     */\n    public interface OnHeaderViewSelectedListener {\n        /**\n         * Called when a header item has been selected.\n         *\n         * @param viewHolder Row ViewHolder object corresponding to the selected Header.\n         * @param row Row object corresponding to the selected Header.\n         */\n        void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row);\n    }\n\n    private OnHeaderViewSelectedListener mOnHeaderViewSelectedListener;\n\n    @Override\n    void onRowSelected(RecyclerView parent, RecyclerView.ViewHolder viewHolder,\n            int position, int subposition) {\n        if (mOnHeaderViewSelectedListener != null) {\n            if (viewHolder != null &amp;&amp; position &gt;= 0) {\n                ItemBridgeAdapter.ViewHolder vh = (ItemBridgeAdapter.ViewHolder) viewHolder;\n                mOnHeaderViewSelectedListener.onHeaderSelected(\n                        (RowHeaderPresenter.ViewHolder) vh.getViewHolder(), (Row) vh.getItem());\n            } else {\n                mOnHeaderViewSelectedListener.onHeaderSelected(null, null);\n            }\n        }\n    }\n\n</code></pre>\n<p><strong>Snippets from androidx/leanback/app/BrowseSupportFragment.java</strong></p>\n<pre><code>    HeadersSupportFragment mHeadersSupportFragment;\n\n    /**\n     * Get currently bound HeadersSupportFragment or null if HeadersSupportFragment has not been created yet.\n     * @return Currently bound HeadersSupportFragment or null if HeadersSupportFragment has not been created yet.\n     */\n    public HeadersSupportFragment getHeadersSupportFragment() {\n        return mHeadersSupportFragment;\n    }\n\n    private HeadersSupportFragment.OnHeaderViewSelectedListener mHeaderViewSelectedListener =\n            new HeadersSupportFragment.OnHeaderViewSelectedListener() {\n        @Override\n        public void onHeaderSelected(RowHeaderPresenter.ViewHolder viewHolder, Row row) {\n            int position = mHeadersSupportFragment.getSelectedPosition();\n            if (DEBUG) Log.v(TAG, &quot;header selected position &quot; + position);\n            // Layout of Headers Fragment in hidden state may triggers the onRowSelected and\n            // reset to 0. Skip in that case.\n            if (mShowingHeaders) {\n                onRowSelected(position);\n            }\n        }\n    };\n\n</code></pre>\n"},{"tags":["java","user-interface","tableview","textarea","tablecolumn"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1650641051,"post_id":71971106,"comment_id":127174808,"body_markdown":"This does not look like Swing. Which UI framework are you using?","body":"This does not look like Swing. Which UI framework are you using?"},{"owner":{"account_id":22899754,"reputation":1,"user_id":17038686,"display_name":"Kevin"},"score":0,"creation_date":1650730439,"post_id":71971106,"comment_id":127192223,"body_markdown":"@HiranChaudhuri I am using JavaFX","body":"@HiranChaudhuri I am using JavaFX"}],"owner":{"account_id":22899754,"reputation":1,"user_id":17038686,"display_name":"Kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650640883,"creation_date":1650640883,"question_id":71971106,"body_markdown":"I am on a capstone project for school. It is working completely. I am trying to finish up a few touch up items. Basically, You create an account. Add Items to account you want to sell, and view other accounts of items they are selling. Then buy the items. Well I have a &quot;ViewPane&quot; which stores the other accounts in a VBox with some labels for info, then a TableView which has three columns, Item Name, Description, and Item Price. Well I would like to add a TextArea to the Description Column. So that way the text shown is not truncated by the width of the column. \r\n\r\n                VBox vbAccount = new VBox(10);\r\n\t\t\t\tLabel lbName = new Label(accounts.get(pageIndex).getAccountName());\r\n\t\t\t\tAccount a = accounts.get(pageIndex);\r\n\t\t\t\tLabel lbItemCount = new Label(&quot;Items: &quot; + accounts.get(pageIndex).getItemCount());\r\n\t\t\t\tvbAccount.getChildren().addAll(lbName, lbItemCount, tbvAccounts, hbButtons);\r\n\t\t\t\tvbAccount.setAlignment(Pos.TOP_CENTER);\r\n\t\t\t\tAccount current = accounts.get(pageIndex);\r\n\t\t\t\tObservableList&lt;Item&gt; itemList = \r\n                FXCollections.observableArrayList(current.getItems());\r\n\t\t\t\ttbvAccounts.setMaxSize(302, 300);\r\n\t\t\t\ttbvAccounts.setItems(itemList);\r\n\t\t\t\tTableColumn nameCol = new TableColumn(&quot;Item Name&quot;);\r\n\t\t\t\tnameCol.setMinWidth(100);\r\n\t\t\t\tnameCol.setCellValueFactory(\r\n\t\t\t\t\t\tnew PropertyValueFactory&lt;Item, String&gt;(&quot;itemName&quot;));\r\n\r\n\t\t\t\tTableColumn descriptionCol = new TableColumn(&quot;Description&quot;);\r\n\t\t\t\tdescriptionCol.setMinWidth(150);\r\n\t\t\t\tdescriptionCol.setCellValueFactory(\r\n\t\t\t\t\t\tnew PropertyValueFactory&lt;Item, String&gt;(&quot;description&quot;));\r\n\t\t\t\tTextArea taDescription = new TextArea();\r\n\t\t\t\t\r\n\t\t\t\tTableColumn priceCol = new TableColumn(&quot;Item Price&quot;);\r\n\t\t\t\tpriceCol.setMinWidth(100);\r\n\t\t\t\tpriceCol.setCellValueFactory(\r\n\t\t\t\t\t\tnew PropertyValueFactory&lt;Item, Double&gt;(&quot;itemPrice&quot;));\r\n\t\t\t\ttbvAccounts.getColumns().addAll(nameCol, descriptionCol, priceCol);\r\n\r\nI have linked the way my Table Columns are created. If anyone has an answer. Please message me, Thank you.","title":"Add TextArea to Table Column Cell, Not the header","body":"<p>I am on a capstone project for school. It is working completely. I am trying to finish up a few touch up items. Basically, You create an account. Add Items to account you want to sell, and view other accounts of items they are selling. Then buy the items. Well I have a &quot;ViewPane&quot; which stores the other accounts in a VBox with some labels for info, then a TableView which has three columns, Item Name, Description, and Item Price. Well I would like to add a TextArea to the Description Column. So that way the text shown is not truncated by the width of the column.</p>\n<pre><code>            VBox vbAccount = new VBox(10);\n            Label lbName = new Label(accounts.get(pageIndex).getAccountName());\n            Account a = accounts.get(pageIndex);\n            Label lbItemCount = new Label(&quot;Items: &quot; + accounts.get(pageIndex).getItemCount());\n            vbAccount.getChildren().addAll(lbName, lbItemCount, tbvAccounts, hbButtons);\n            vbAccount.setAlignment(Pos.TOP_CENTER);\n            Account current = accounts.get(pageIndex);\n            ObservableList&lt;Item&gt; itemList = \n            FXCollections.observableArrayList(current.getItems());\n            tbvAccounts.setMaxSize(302, 300);\n            tbvAccounts.setItems(itemList);\n            TableColumn nameCol = new TableColumn(&quot;Item Name&quot;);\n            nameCol.setMinWidth(100);\n            nameCol.setCellValueFactory(\n                    new PropertyValueFactory&lt;Item, String&gt;(&quot;itemName&quot;));\n\n            TableColumn descriptionCol = new TableColumn(&quot;Description&quot;);\n            descriptionCol.setMinWidth(150);\n            descriptionCol.setCellValueFactory(\n                    new PropertyValueFactory&lt;Item, String&gt;(&quot;description&quot;));\n            TextArea taDescription = new TextArea();\n            \n            TableColumn priceCol = new TableColumn(&quot;Item Price&quot;);\n            priceCol.setMinWidth(100);\n            priceCol.setCellValueFactory(\n                    new PropertyValueFactory&lt;Item, Double&gt;(&quot;itemPrice&quot;));\n            tbvAccounts.getColumns().addAll(nameCol, descriptionCol, priceCol);\n</code></pre>\n<p>I have linked the way my Table Columns are created. If anyone has an answer. Please message me, Thank you.</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":4403187,"reputation":182,"user_id":3588254,"display_name":"user3588254"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650621811,"creation_date":1650621811,"answer_id":71966964,"question_id":71966571,"body_markdown":"You can use *Collectors.toMap* with a *mergeFunction* for your step 2:\r\n\r\n    \r\n     Map&lt;Long, LocalDate&gt; latestOrderByCustomer = \r\n                orderList.stream()\r\n                         .collect(Collectors.toMap(Order::customerId, \r\n                                                    Order::orderDate, \r\n                                                    (order1, order2) -&gt; order1.isAfter(order2) ? order1 : order2));\r\n\r\n","title":"Java stream: How to map to a single item when using groupingBy instead of to list","body":"<p>You can use <em>Collectors.toMap</em> with a <em>mergeFunction</em> for your step 2:</p>\n<pre><code> Map&lt;Long, LocalDate&gt; latestOrderByCustomer = \n            orderList.stream()\n                     .collect(Collectors.toMap(Order::customerId, \n                                                Order::orderDate, \n                                                (order1, order2) -&gt; order1.isAfter(order2) ? order1 : order2));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19492409,"reputation":424,"user_id":14260355,"display_name":"BrunoT"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1650626349,"creation_date":1650622362,"answer_id":71967084,"question_id":71966571,"body_markdown":"Use `Collectors.toMap` collector to have a map of listed orders by customer id. After that, you can filter only those orders which are older than 6 months. \r\n\r\nSee the implementation below:\r\n\r\n```java\r\nimport java.time.LocalDate;\r\nimport java.time.chrono.ChronoLocalDate;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.Collections;\r\nimport java.util.Objects;\r\nimport java.util.Comparator;\r\nimport java.util.function.BinaryOperator;\r\nimport java.util.function.Function;\r\nimport java.util.stream.Collectors;\r\n```\r\n\r\n```java\r\npublic static List&lt;Long&gt; getCustomerIdsOfOrdersOlderThanSixMonths(final List&lt;Order&gt; orderList) {\r\n    return Optional.ofNullable(orderList)\r\n            .orElse(Collections.emptyList())\r\n            .stream()\r\n            .filter(o -&gt; Objects.nonNull(o) &amp;&amp; Objects.nonNull(o.getOrderDate()))\r\n            .collect(Collectors.toMap(\r\n                  Order::getCustomerId,\r\n                  Function.identity(),\r\n                  BinaryOperator.maxBy(Comparator.comparing(Order::getOrderDate))))\r\n            .values()\r\n            .stream()\r\n            .filter(o -&gt; o.getOrderDate()\r\n                  .plusMonths(6)\r\n                  .isBefore(ChronoLocalDate.from(LocalDate.now())))\r\n            .map(Order::getCustomerId)\r\n            .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nList&lt;Long&gt; customerIds = getCustomerIdsOfOrdersOlderThanSixMonths(orderList);\r\n// [2, 4]","title":"Java stream: How to map to a single item when using groupingBy instead of to list","body":"<p>Use <code>Collectors.toMap</code> collector to have a map of listed orders by customer id. After that, you can filter only those orders which are older than 6 months.</p>\n<p>See the implementation below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\nimport java.time.chrono.ChronoLocalDate;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.Collections;\nimport java.util.Objects;\nimport java.util.Comparator;\nimport java.util.function.BinaryOperator;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Long&gt; getCustomerIdsOfOrdersOlderThanSixMonths(final List&lt;Order&gt; orderList) {\n    return Optional.ofNullable(orderList)\n            .orElse(Collections.emptyList())\n            .stream()\n            .filter(o -&gt; Objects.nonNull(o) &amp;&amp; Objects.nonNull(o.getOrderDate()))\n            .collect(Collectors.toMap(\n                  Order::getCustomerId,\n                  Function.identity(),\n                  BinaryOperator.maxBy(Comparator.comparing(Order::getOrderDate))))\n            .values()\n            .stream()\n            .filter(o -&gt; o.getOrderDate()\n                  .plusMonths(6)\n                  .isBefore(ChronoLocalDate.from(LocalDate.now())))\n            .map(Order::getCustomerId)\n            .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; customerIds = getCustomerIdsOfOrdersOlderThanSixMonths(orderList);\n// [2, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650624931,"creation_date":1650623307,"answer_id":71967262,"question_id":71966571,"body_markdown":"You can use `groupingBy()` with a downstream `maxBy()` collector, and then filter the results to just those dates that are older than six months:\r\n\r\n```java\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.Comparator;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Demo {\r\n    private record Order(long customerId, LocalDate orderDate) {}\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Order&gt; orderList =\r\n            List.of(new Order(1, LocalDate.of(2020,Month.APRIL,21)),\r\n                    new Order(1, LocalDate.of(2021,Month.APRIL,21)),\r\n                    new Order(1, LocalDate.of(2022,Month.APRIL,21)),\r\n                    new Order(2, LocalDate.of(2020,Month.APRIL,21)),\r\n                    new Order(2, LocalDate.of(2021,Month.APRIL,21)),\r\n                    new Order(3, LocalDate.of(2020,Month.APRIL,21)),\r\n                    new Order(3, LocalDate.of(2022,Month.APRIL,21)),\r\n                    new Order(4, LocalDate.of(2020,Month.APRIL,21)));\r\n\r\n        final LocalDate sixMonthsAgo = LocalDate.now().minusMonths(6);\r\n\r\n        List&lt;Order&gt; mostRecentOrders =\r\n            orderList.stream()\r\n            .collect(Collectors.groupingBy(Order::customerId,\r\n                                           Collectors.maxBy(Comparator.comparing(Order::orderDate))))\r\n            .values().stream()\r\n            .filter(opt -&gt; opt.filter(o -&gt; o.orderDate().isBefore(sixMonthsAgo)).isPresent())\r\n            .map(Optional::orElseThrow)\r\n            .collect(Collectors.toList());\r\n\r\n        System.out.println(oldOrders);\r\n    }\r\n}\r\n```\r\n\r\noutputs\r\n\r\n```none\r\n[Order[customerId=2, orderDate=2021-04-21], Order[customerId=4, orderDate=2020-04-21]]\r\n```\r\n\r\nFirst you get a map of customer ids and (Wrapped in an `Optional` due to the way `Collectors.maxBy()` works) the most recent order by date. Then filter out the entries where that most recent date is within the last six months. Then extract the remaining orders from the `Optional`s and return them in a `List`. If you just want the customer IDs and don&#39;t care about the rest of the `Order` object, modify the final `map()` and returned type appropriately.","title":"Java stream: How to map to a single item when using groupingBy instead of to list","body":"<p>You can use <code>groupingBy()</code> with a downstream <code>maxBy()</code> collector, and then filter the results to just those dates that are older than six months:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\nimport java.time.Month;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.Optional;\nimport java.util.stream.Collectors;\n\npublic class Demo {\n    private record Order(long customerId, LocalDate orderDate) {}\n\n    public static void main(String[] args) {\n        List&lt;Order&gt; orderList =\n            List.of(new Order(1, LocalDate.of(2020,Month.APRIL,21)),\n                    new Order(1, LocalDate.of(2021,Month.APRIL,21)),\n                    new Order(1, LocalDate.of(2022,Month.APRIL,21)),\n                    new Order(2, LocalDate.of(2020,Month.APRIL,21)),\n                    new Order(2, LocalDate.of(2021,Month.APRIL,21)),\n                    new Order(3, LocalDate.of(2020,Month.APRIL,21)),\n                    new Order(3, LocalDate.of(2022,Month.APRIL,21)),\n                    new Order(4, LocalDate.of(2020,Month.APRIL,21)));\n\n        final LocalDate sixMonthsAgo = LocalDate.now().minusMonths(6);\n\n        List&lt;Order&gt; mostRecentOrders =\n            orderList.stream()\n            .collect(Collectors.groupingBy(Order::customerId,\n                                           Collectors.maxBy(Comparator.comparing(Order::orderDate))))\n            .values().stream()\n            .filter(opt -&gt; opt.filter(o -&gt; o.orderDate().isBefore(sixMonthsAgo)).isPresent())\n            .map(Optional::orElseThrow)\n            .collect(Collectors.toList());\n\n        System.out.println(oldOrders);\n    }\n}\n</code></pre>\n<p>outputs</p>\n<pre class=\"lang-none prettyprint-override\"><code>[Order[customerId=2, orderDate=2021-04-21], Order[customerId=4, orderDate=2020-04-21]]\n</code></pre>\n<p>First you get a map of customer ids and (Wrapped in an <code>Optional</code> due to the way <code>Collectors.maxBy()</code> works) the most recent order by date. Then filter out the entries where that most recent date is within the last six months. Then extract the remaining orders from the <code>Optional</code>s and return them in a <code>List</code>. If you just want the customer IDs and don't care about the rest of the <code>Order</code> object, modify the final <code>map()</code> and returned type appropriately.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650640722,"creation_date":1650640722,"answer_id":71971069,"question_id":71966571,"body_markdown":"Here&#39;s another approach on doing this.  Use `Collectors.partioningBy` to segregate the dates. Set up a couple variables to help keep things straight in the partitioning and printing process.\r\n```\r\nstatic boolean WITHIN_LAST_SIX_MONTHS = false;\r\nstatic boolean BEFORE_SIX_MONTHS_AGO = true;\r\n```\r\n- partition the Order based on if it was issued before 6 months ago (true) or within the last 6 months (false).\r\n- then map the Order to just the `CustomerId` and return as a `Set` (no need for duplicates)\r\n- And that&#39;s it.\r\n```\r\nMap&lt;Boolean, Set&lt;Long&gt;&gt; result = orderList.stream()\r\n\t\t\t\t.collect(Collectors.partitioningBy(\r\n\t\t\t\t\t\torder -&gt; order.getOrderDate()\r\n\t\t\t\t\t\t\t\t.isBefore(LocalDate.now()\r\n\t\t\t\t\t\t\t\t\t\t.minusMonths(6)),\r\n\t\t\t\t\t\tCollectors.mapping(\r\n\t\t\t\t\t\t\t\tOrder::getCustomerId,\r\n\t\t\t\t\t\t\t\tCollectors.toSet())));\r\n\r\nSystem.out.println(&quot;BEFORE_SIX_MONTHS_AGO=&quot;+result.get(BEFORE_SIX_MONTHS_AGO));\r\nSystem.out.println(&quot;WITHIN_LAST_SIX_MONTHS=&quot;+result.get(WITHIN_LAST_SIX_MONTHS));\r\n\t\t\r\n```\r\nprints\r\n```\r\nBEFORE_SIX_MONTHS_AGO=[1, 2, 3, 4]\r\nWITHIN_LAST_SIX_MONTHS=[1, 3]\r\n\r\n```\r\nNow just remove those ID&#39;s of recent orders from those that occurred over six months ago.\r\n```\r\nresult.get(BEFORE_SIX_MONTHS_AGO).removeAll(result.get(WITHIN_LAST_SIX_MONTHS));\r\nSystem.out.println(result.get(BEFORE_SIX_MONTHS_AGO));\r\n```\r\nprints\r\n```\r\n[2, 4]\r\n```\r\nNote that the final set could be returned directly from the `stream` by using `collectingAndThen` for the partitioning collector. The finisher would look like this.\r\n```\r\nthismap -&gt; {\r\n    Set&lt;Long&gt; retSet = new HashSet&lt;&gt;(thismap.get(BEFORE_SIX_MONTHS_AGO));\r\n\tretSet.removeAll(thismap.get(WITHIN_LAST_SIX_MONTHS));\r\n\treturn retSet;\r\n}\r\n```\r\nBut imo, this is rather busy and actually complicates matters. \r\n","title":"Java stream: How to map to a single item when using groupingBy instead of to list","body":"<p>Here's another approach on doing this.  Use <code>Collectors.partioningBy</code> to segregate the dates. Set up a couple variables to help keep things straight in the partitioning and printing process.</p>\n<pre><code>static boolean WITHIN_LAST_SIX_MONTHS = false;\nstatic boolean BEFORE_SIX_MONTHS_AGO = true;\n</code></pre>\n<ul>\n<li>partition the Order based on if it was issued before 6 months ago (true) or within the last 6 months (false).</li>\n<li>then map the Order to just the <code>CustomerId</code> and return as a <code>Set</code> (no need for duplicates)</li>\n<li>And that's it.</li>\n</ul>\n<pre><code>Map&lt;Boolean, Set&lt;Long&gt;&gt; result = orderList.stream()\n                .collect(Collectors.partitioningBy(\n                        order -&gt; order.getOrderDate()\n                                .isBefore(LocalDate.now()\n                                        .minusMonths(6)),\n                        Collectors.mapping(\n                                Order::getCustomerId,\n                                Collectors.toSet())));\n\nSystem.out.println(&quot;BEFORE_SIX_MONTHS_AGO=&quot;+result.get(BEFORE_SIX_MONTHS_AGO));\nSystem.out.println(&quot;WITHIN_LAST_SIX_MONTHS=&quot;+result.get(WITHIN_LAST_SIX_MONTHS));\n        \n</code></pre>\n<p>prints</p>\n<pre><code>BEFORE_SIX_MONTHS_AGO=[1, 2, 3, 4]\nWITHIN_LAST_SIX_MONTHS=[1, 3]\n\n</code></pre>\n<p>Now just remove those ID's of recent orders from those that occurred over six months ago.</p>\n<pre><code>result.get(BEFORE_SIX_MONTHS_AGO).removeAll(result.get(WITHIN_LAST_SIX_MONTHS));\nSystem.out.println(result.get(BEFORE_SIX_MONTHS_AGO));\n</code></pre>\n<p>prints</p>\n<pre><code>[2, 4]\n</code></pre>\n<p>Note that the final set could be returned directly from the <code>stream</code> by using <code>collectingAndThen</code> for the partitioning collector. The finisher would look like this.</p>\n<pre><code>thismap -&gt; {\n    Set&lt;Long&gt; retSet = new HashSet&lt;&gt;(thismap.get(BEFORE_SIX_MONTHS_AGO));\n    retSet.removeAll(thismap.get(WITHIN_LAST_SIX_MONTHS));\n    return retSet;\n}\n</code></pre>\n<p>But imo, this is rather busy and actually complicates matters.</p>\n"}],"owner":{"account_id":24515002,"reputation":179,"user_id":18428894,"display_name":"bbKing"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":504,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":71967084,"answer_count":4,"score":1,"last_activity_date":1650640722,"creation_date":1650620180,"question_id":71966571,"body_markdown":"Given an order class like:\r\n\r\n    @ToString\r\n    @AllArgsConstructor\r\n    @Getter\r\n    static class Order {\r\n        long customerId;\r\n        LocalDate orderDate;\r\n    }\r\n\r\nand a list of orders:\r\n\r\n    List&lt;Order&gt; orderList = List.of(new Order(1, LocalDate.of(2020,Month.APRIL,21)),\r\n                                    new Order(1, LocalDate.of(2021,Month.APRIL,21)),\r\n                                    new Order(1, LocalDate.of(2022,Month.APRIL,21)),\r\n                                    new Order(2, LocalDate.of(2020,Month.APRIL,21)),\r\n                                    new Order(2, LocalDate.of(2021,Month.APRIL,21)),\r\n                                    new Order(3, LocalDate.of(2020,Month.APRIL,21)),\r\n                                    new Order(3, LocalDate.of(2022,Month.APRIL,21)),\r\n                                    new Order(4, LocalDate.of(2020,Month.APRIL,21)));\r\n\r\nI need to get a list of `customerId` where last `orderDate` is older than 6 months. So for above example `[2,4]`. My idea is to first to group by `customerId`, second map to last `orderDate` and third to filter those which are older than 6 months. I am stuck at second step on how to map to a single order with the recent `orderDate`\r\n\r\nFirst step\r\n\r\n    Map&lt;Long, List&lt;Order&gt;&gt; grouped =\r\n            orderList.stream()\r\n                    .collect(Collectors.groupingBy(Order::getCustomerId));\r\n\r\nSecond step (stuck here how to change the above to get only one item as value)\r\n\r\n    Map&lt;Long, Order&gt; grouped =\r\n            orderList.stream()\r\n                    .collect(Collectors.groupingBy(Order::getCustomerId, ???));\r\n\r\nor even better\r\n\r\n    Map&lt;Long, LocalDate&gt; grouped =\r\n            orderList.stream()\r\n                    .collect(Collectors.groupingBy(Order::getCustomerId, ???));\r\n\r\nI have tried to use `Collectors.mapping()` , `Collectors.reducing()` and `Collectors.maxBy()` but having a lot of compile errors. ","title":"Java stream: How to map to a single item when using groupingBy instead of to list","body":"<p>Given an order class like:</p>\n<pre><code>@ToString\n@AllArgsConstructor\n@Getter\nstatic class Order {\n    long customerId;\n    LocalDate orderDate;\n}\n</code></pre>\n<p>and a list of orders:</p>\n<pre><code>List&lt;Order&gt; orderList = List.of(new Order(1, LocalDate.of(2020,Month.APRIL,21)),\n                                new Order(1, LocalDate.of(2021,Month.APRIL,21)),\n                                new Order(1, LocalDate.of(2022,Month.APRIL,21)),\n                                new Order(2, LocalDate.of(2020,Month.APRIL,21)),\n                                new Order(2, LocalDate.of(2021,Month.APRIL,21)),\n                                new Order(3, LocalDate.of(2020,Month.APRIL,21)),\n                                new Order(3, LocalDate.of(2022,Month.APRIL,21)),\n                                new Order(4, LocalDate.of(2020,Month.APRIL,21)));\n</code></pre>\n<p>I need to get a list of <code>customerId</code> where last <code>orderDate</code> is older than 6 months. So for above example <code>[2,4]</code>. My idea is to first to group by <code>customerId</code>, second map to last <code>orderDate</code> and third to filter those which are older than 6 months. I am stuck at second step on how to map to a single order with the recent <code>orderDate</code></p>\n<p>First step</p>\n<pre><code>Map&lt;Long, List&lt;Order&gt;&gt; grouped =\n        orderList.stream()\n                .collect(Collectors.groupingBy(Order::getCustomerId));\n</code></pre>\n<p>Second step (stuck here how to change the above to get only one item as value)</p>\n<pre><code>Map&lt;Long, Order&gt; grouped =\n        orderList.stream()\n                .collect(Collectors.groupingBy(Order::getCustomerId, ???));\n</code></pre>\n<p>or even better</p>\n<pre><code>Map&lt;Long, LocalDate&gt; grouped =\n        orderList.stream()\n                .collect(Collectors.groupingBy(Order::getCustomerId, ???));\n</code></pre>\n<p>I have tried to use <code>Collectors.mapping()</code> , <code>Collectors.reducing()</code> and <code>Collectors.maxBy()</code> but having a lot of compile errors.</p>\n"},{"tags":["java","date","server"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1650631350,"post_id":71968882,"comment_id":127170981,"body_markdown":"And what is wrong with this approach? --- A remark: instead of [`java.util.Date`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html), I&#39;d suggest corresponding classes from the [`java.time` package](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html).","body":"And what is wrong with this approach? --- A remark: instead of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, I&#39;d suggest corresponding classes from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code> package</a>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1650656802,"post_id":71968882,"comment_id":127179768,"body_markdown":"Be careful with using the term &quot;real-time&quot;. That term has a [specific meaning in computing](https://en.wikipedia.org/wiki/Real-time_computing).","body":"Be careful with using the term &quot;real-time&quot;. That term has a <a href=\"https://en.wikipedia.org/wiki/Real-time_computing\" rel=\"nofollow noreferrer\">specific meaning in computing</a>."}],"answers":[{"tags":[],"owner":{"account_id":1989735,"reputation":57,"user_id":1784049,"display_name":"MELS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650633912,"creation_date":1650633912,"answer_id":71969515,"question_id":71968882,"body_markdown":"Try the following and adapt it to your needs:\r\n\r\n\t Date remoteDate = null;\r\n\t URL url = new URL(REMOTE_SERVER_URL);\r\n\t URLConnection urlConnection = url.openConnection();\r\n\t HttpURLConnection connection = (HttpURLConnection) urlConnection;\r\n\t connection.setConnectTimeout(10000);\r\n\t connection.setReadTimeout(10000);\r\n\t connection.setInstanceFollowRedirects( true );\r\n\t connection.setRequestProperty( &quot;User-agent&quot;, &quot;spider&quot; );\r\n\t connection.connect();\r\n\t \r\n\t Map&lt;String,List&lt;String&gt;&gt; header = connection.getHeaderFields();\r\n\t for (String key : header.keySet()) {\r\n\t     if (key != null &amp;&amp; &quot;Date&quot;.equals(key)) {\r\n\t         List&lt;String&gt; data = header.get(key);\r\n\t         String dateString = data.get(0);\r\n\t         SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss&quot;);\r\n\t         remoteDate = sdf.parse(dateString);\r\n\t         break;\r\n\t     }\r\n\t }","title":"real-time date from server on java?","body":"<p>Try the following and adapt it to your needs:</p>\n<pre><code> Date remoteDate = null;\n URL url = new URL(REMOTE_SERVER_URL);\n URLConnection urlConnection = url.openConnection();\n HttpURLConnection connection = (HttpURLConnection) urlConnection;\n connection.setConnectTimeout(10000);\n connection.setReadTimeout(10000);\n connection.setInstanceFollowRedirects( true );\n connection.setRequestProperty( &quot;User-agent&quot;, &quot;spider&quot; );\n connection.connect();\n \n Map&lt;String,List&lt;String&gt;&gt; header = connection.getHeaderFields();\n for (String key : header.keySet()) {\n     if (key != null &amp;&amp; &quot;Date&quot;.equals(key)) {\n         List&lt;String&gt; data = header.get(key);\n         String dateString = data.get(0);\n         SimpleDateFormat sdf = new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss&quot;);\n         remoteDate = sdf.parse(dateString);\n         break;\n     }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1650640717,"creation_date":1650640717,"answer_id":71971067,"question_id":71968882,"body_markdown":"# tl;dr\r\n\r\n    java.time.Instant.now().toString() \r\n\r\n# Details\r\n\r\n\r\nNever use `Date` and `SimpleDateFormat`. These legacy classes are terribly flawed in design. They were years ago supplanted by the modern *java.time* classes defined in JSR 310. \r\n\r\nCapture the current moment as seen in UTC, an offset of zero hours-minutes-seconds. \r\n\r\n    Instant instant = Instant.now() ;\r\n\r\nSerialize to text using standard format from ISO 8601. \r\n\r\n    String output = instant.toString() ;\r\n\r\nParse such strings. \r\n\r\n    Instant instant = Instant.parse( input ) ;\r\n\r\n","title":"real-time date from server on java?","body":"<h1>tl;dr</h1>\n<pre><code>java.time.Instant.now().toString() \n</code></pre>\n<h1>Details</h1>\n<p>Never use <code>Date</code> and <code>SimpleDateFormat</code>. These legacy classes are terribly flawed in design. They were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Capture the current moment as seen in UTC, an offset of zero hours-minutes-seconds.</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<p>Serialize to text using standard format from ISO 8601.</p>\n<pre><code>String output = instant.toString() ;\n</code></pre>\n<p>Parse such strings.</p>\n<pre><code>Instant instant = Instant.parse( input ) ;\n</code></pre>\n"}],"owner":{"account_id":19557722,"reputation":29,"user_id":14311628,"display_name":"Meriem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":220,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1650640717,"creation_date":1650631195,"question_id":71968882,"body_markdown":"how to take the real-time date and time from the server where my jar is deployed on java?\r\n\r\nI want to set the creation date of my orders to the date-time when the server received the request, how can I do that in java?\r\n\r\nI tried:\r\n\r\n      Date newDate = new Date();\r\n      Date createdDate = DATE_FORMATTER_SERVER.parse(DATE_FORMATTER_SERVER.format(newDate));\r\n\r\n         \r\n","title":"real-time date from server on java?","body":"<p>how to take the real-time date and time from the server where my jar is deployed on java?</p>\n<p>I want to set the creation date of my orders to the date-time when the server received the request, how can I do that in java?</p>\n<p>I tried:</p>\n<pre><code>  Date newDate = new Date();\n  Date createdDate = DATE_FORMATTER_SERVER.parse(DATE_FORMATTER_SERVER.format(newDate));\n\n     \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":1,"creation_date":1650637613,"post_id":71970337,"comment_id":127173426,"body_markdown":"and where is the code that calls this function?  Please post a [mcve] that someone can compile if possible","body":"and where is the code that calls this function?  Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that someone can compile if possible"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1650637621,"post_id":71970337,"comment_id":127173429,"body_markdown":"Please see [mcve] and enhance your question accordingly. And hint: give us your classes without &quot;explanations&quot; in between. That makes it easier to read, and esp. COPY them in case we want to fetch the content and run it locally. Plus: be diligent about your code. Every character matters! Don&#39;t add newlines for no reasons, use them to GROUP things that belong together. Dont use 5 empty lines for no reason On the other hand: use spaces, like `} while (Math....)`","body":"Please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and enhance your question accordingly. And hint: give us your classes without &quot;explanations&quot; in between. That makes it easier to read, and esp. COPY them in case we want to fetch the content and run it locally. Plus: be diligent about your code. Every character matters! Don&#39;t add newlines for no reasons, use them to GROUP things that belong together. Dont use 5 empty lines for no reason On the other hand: use spaces, like <code>} while (Math....)</code>"},{"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":0,"creation_date":1650639167,"post_id":71970337,"comment_id":127174061,"body_markdown":"If it works from 0 to PI/2, you can use the equality sin(PI-x) = sin(x) and map everything into the range from 0 to PI/2.","body":"If it works from 0 to PI/2, you can use the equality sin(PI-x) = sin(x) and map everything into the range from 0 to PI/2."}],"answers":[{"tags":[],"owner":{"account_id":288478,"reputation":17040,"user_id":588916,"accept_rate":60,"display_name":"collapsar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650640118,"creation_date":1650640118,"answer_id":71970933,"question_id":71970337,"body_markdown":"The error is most likely a ripple effect of numerical over/undeflows. Note that the values of the factorial function, that you use as intermediate results in your computation, grow rather quickly. Using standard floating point number representations you will lose accuracy in computations rather quickly.\r\n\r\nHowever, each of your summation terms can be computed by multiplying the previous term in the series with a suitable factor. This way you avoid overly large or small interim results.\r\n\r\nAny text on numerical analysis should provide a much more detailed and stringent discussion.\r\n\r\nIn your code, replace the loop with the following code: \r\n\r\n        double asummandj = x;\r\n        do {\r\n            d1 = nmu;\r\n\r\n            nmu = nmu + Math.pow(-1,j) * asummandj;\r\n\r\n            d2 = nmu;\r\n\r\n            j = j+1;\r\n            asummandj = asummandj * (x / (2*j)) * (x / (2*j+1));\r\n        } while(Math.abs( d2 - d1 ) &gt; 0.0001);\r\n","title":"Divergence of Taylor series expansion of sin(x) in Java","body":"<p>The error is most likely a ripple effect of numerical over/undeflows. Note that the values of the factorial function, that you use as intermediate results in your computation, grow rather quickly. Using standard floating point number representations you will lose accuracy in computations rather quickly.</p>\n<p>However, each of your summation terms can be computed by multiplying the previous term in the series with a suitable factor. This way you avoid overly large or small interim results.</p>\n<p>Any text on numerical analysis should provide a much more detailed and stringent discussion.</p>\n<p>In your code, replace the loop with the following code:</p>\n<pre><code>    double asummandj = x;\n    do {\n        d1 = nmu;\n\n        nmu = nmu + Math.pow(-1,j) * asummandj;\n\n        d2 = nmu;\n\n        j = j+1;\n        asummandj = asummandj * (x / (2*j)) * (x / (2*j+1));\n    } while(Math.abs( d2 - d1 ) &gt; 0.0001);\n</code></pre>\n"}],"owner":{"account_id":18222406,"reputation":1,"user_id":13262895,"display_name":"Eduardo V. Kuri"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1650640118,"creation_date":1650637419,"question_id":71970337,"body_markdown":"I&#39;m trying to do the Taylor expansion of the sine of x, but given x greater than 150 degrees, the function diverges.\r\n\r\nHere&#180;s my code:\r\n\r\n    package TaylorJ;\r\n    import java.math.*;\r\n\r\n\r\n    public class SeriesSin {\r\nHere I bound the Dominion to be [0, 2pi].\r\n\t\r\n\tpublic static double Dominion(double x) {\r\n\t\tdouble dpi = 2*Math.PI;\r\n\t\tdouble dmx = 0;\r\n\t\tif((x&gt;=0 &amp;&amp; x&lt;=dpi)) {\r\n\t\t\tdmx = x;\r\n\t\t}\r\n\t\t\r\n\t\telse if(x&lt;0) {\r\n\t\t\tdmx = dpi+(x%dpi);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tdmx = x%dpi;\r\n\t\t}\r\n\t\t\r\n\t\treturn dmx;\r\n\t}\r\nHere, I defined a factorial function\r\n\t\r\n\tpublic static int Factorial(int n) {\r\n\t\tn = Math.abs(n);\r\n\t\tint a = 1;\r\n\t\tint b = 1;\r\n\t\tif(n==0 || n == 1) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor(int i=n; i&gt;1;i--) {\r\n\t\t\t\tb *=i;\r\n\t\t\t}\r\n\t\t\treturn b;\r\n\t\t}\r\n\t}\r\n\r\nHere&#39;s the Taylor (Maclaurin) series expansion for sin(x)\r\n\t\r\n\tpublic static double Sin(double x) {\r\n\t\tif(x%Math.PI == 0) {\r\n\t\t\tx = Dominion(x);\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tx = Dominion(Math.abs(Math.toRadians(x)));\r\n\t\t}\r\n\t\tint j = 0;\r\n\t\tdouble nmu = 0;\r\n\t\tdouble d1 = 10;\r\n\t\tdouble d2 = 0;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tdo {\r\n\t\t\td1 = nmu;\r\n\r\n\t\t\tnmu = nmu+ Math.pow(-1,j)*((Math.pow(x, ((2*j)+1)))/(Factorial((2*j)+1)));\r\n\t\t\td2 = nmu;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tj = j+1;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\r\n\t\t\r\n\t\t}while((Math.abs(Math.abs(d2)-Math.abs(d1))&gt;0.0001));\r\n\t\treturn nmu;\r\n\t}\r\n\r\n}\r\n\r\nThe thing is that it has to be defined for x in [0, 2pi], so I don&#39;t know what to do. \r\n\r\nThanks","title":"Divergence of Taylor series expansion of sin(x) in Java","body":"<p>I'm trying to do the Taylor expansion of the sine of x, but given x greater than 150 degrees, the function diverges.</p>\n<p>Here´s my code:</p>\n<pre><code>package TaylorJ;\nimport java.math.*;\n\n\npublic class SeriesSin {\n</code></pre>\n<p>Here I bound the Dominion to be [0, 2pi].</p>\n<pre><code>public static double Dominion(double x) {\n    double dpi = 2*Math.PI;\n    double dmx = 0;\n    if((x&gt;=0 &amp;&amp; x&lt;=dpi)) {\n        dmx = x;\n    }\n    \n    else if(x&lt;0) {\n        dmx = dpi+(x%dpi);\n    }\n    else {\n        dmx = x%dpi;\n    }\n    \n    return dmx;\n}\n</code></pre>\n<p>Here, I defined a factorial function</p>\n<pre><code>public static int Factorial(int n) {\n    n = Math.abs(n);\n    int a = 1;\n    int b = 1;\n    if(n==0 || n == 1) {\n        return 1;\n    }\n    else {\n        for(int i=n; i&gt;1;i--) {\n            b *=i;\n        }\n        return b;\n    }\n}\n</code></pre>\n<p>Here's the Taylor (Maclaurin) series expansion for sin(x)</p>\n<pre><code>public static double Sin(double x) {\n    if(x%Math.PI == 0) {\n        x = Dominion(x);\n    }\n    else {\n\n        x = Dominion(Math.abs(Math.toRadians(x)));\n    }\n    int j = 0;\n    double nmu = 0;\n    double d1 = 10;\n    double d2 = 0;\n    \n    \n    \n    \n    do {\n        d1 = nmu;\n\n        nmu = nmu+ Math.pow(-1,j)*((Math.pow(x, ((2*j)+1)))/(Factorial((2*j)+1)));\n        d2 = nmu;\n        \n        \n        j = j+1;\n        \n        \n    \n    \n    }while((Math.abs(Math.abs(d2)-Math.abs(d1))&gt;0.0001));\n    return nmu;\n}\n</code></pre>\n<p>}</p>\n<p>The thing is that it has to be defined for x in [0, 2pi], so I don't know what to do.</p>\n<p>Thanks</p>\n"},{"tags":["java","java-17","java-18"],"answers":[{"tags":[],"owner":{"account_id":19414262,"reputation":2186,"user_id":17939455,"display_name":"Darth-CodeX"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650640086,"creation_date":1650639052,"answer_id":71970697,"question_id":71970617,"body_markdown":"You need to reinstall Oracle JDK-17 but with an additional configuration file.\r\n\r\nCreate a file named `config.txt`.\r\n\r\n*In that file write this line:*\r\n```none\r\nAUTO_UPDATE=Disable\r\n```\r\n\r\n1. Open your terminal with administrator privileges.\r\n2. Go to the directory where installer is present, using `cd` command.\r\n3. Run this command `installer.exe INSTALLCFG=config.txt`, NOTE: `installer.exe` is the installer file which you have downloaded\r\n4. Install Oracle JDK as normal\r\n\r\nHere&#39;s more details from official oracle [docs](https://docs.oracle.com/javase/8/docs/technotes/guides/install/config.html#using_config_file)","title":"How to stop the Java Auto Upgrade from JDK 17 to JDK 18","body":"<p>You need to reinstall Oracle JDK-17 but with an additional configuration file.</p>\n<p>Create a file named <code>config.txt</code>.</p>\n<p><em>In that file write this line:</em></p>\n<pre class=\"lang-none prettyprint-override\"><code>AUTO_UPDATE=Disable\n</code></pre>\n<ol>\n<li>Open your terminal with administrator privileges.</li>\n<li>Go to the directory where installer is present, using <code>cd</code> command.</li>\n<li>Run this command <code>installer.exe INSTALLCFG=config.txt</code>, NOTE: <code>installer.exe</code> is the installer file which you have downloaded</li>\n<li>Install Oracle JDK as normal</li>\n</ol>\n<p>Here's more details from official oracle <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/install/config.html#using_config_file\" rel=\"nofollow noreferrer\">docs</a></p>\n"}],"owner":{"account_id":22976721,"reputation":37,"user_id":17104228,"display_name":"pradeep3009"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":866,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1650640086,"creation_date":1650638690,"question_id":71970617,"body_markdown":"I am using oracle JDK 17 in my cloud desktop and it is upgrading to oracle JDK 18 automatically. Since we are using Java 17 in our project, I had to reinstall the JDK 17 on every time it is upgrading to JDK 18. I want to turn off the auto update of Java. is there a way to turn off the Auto upgrade of Java 17 to 18.\r\n\r\nAny suggestions would be highly appreciated.\r\n\r\nThank You.","title":"How to stop the Java Auto Upgrade from JDK 17 to JDK 18","body":"<p>I am using oracle JDK 17 in my cloud desktop and it is upgrading to oracle JDK 18 automatically. Since we are using Java 17 in our project, I had to reinstall the JDK 17 on every time it is upgrading to JDK 18. I want to turn off the auto update of Java. is there a way to turn off the Auto upgrade of Java 17 to 18.</p>\n<p>Any suggestions would be highly appreciated.</p>\n<p>Thank You.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"score":1,"creation_date":1576201274,"post_id":59312171,"comment_id":104831600,"body_markdown":"I see you&#39;ve got a commented out `@StepScope` annotation on every Bean except the `Job` Bean.  Only your `RepositoryItemReader` needs to be newly instantiated with each run, correct?  Have you tried only annotating the `RepositoryItemReader` Bean with `@StepScope` while attempting to obtain the job ID from `jobParameters`?","body":"I see you&#39;ve got a commented out <code>@StepScope</code> annotation on every Bean except the <code>Job</code> Bean.  Only your <code>RepositoryItemReader</code> needs to be newly instantiated with each run, correct?  Have you tried only annotating the <code>RepositoryItemReader</code> Bean with <code>@StepScope</code> while attempting to obtain the job ID from <code>jobParameters</code>?"}],"answers":[{"tags":[],"owner":{"account_id":16847163,"reputation":21,"user_id":12181071,"display_name":"Manuel Eveno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650640026,"creation_date":1650640026,"answer_id":71970916,"question_id":59312171,"body_markdown":"I&#39;ve managed to use jobParameter as an argument to my RepositoryItemReader by extending it :\r\n\r\n```java\r\n\r\npublic class EntityReader extends RepositoryItemReader&lt;Entity&gt; {\r\n\r\n  @Value(&quot;#{jobParameters[&#39;lastSync&#39;]}&quot;)\r\n  private Date lastSync;\r\n\r\n  @Autowired\r\n  private EntityRepository EntityRepository;\r\n\r\n  @Override\r\n  public void afterPropertiesSet() throws Exception {\r\n    setName(getClass().getSimpleName());\r\n    setRepository(entityRepository);\r\n    setMethodName(&quot;findAllSince&quot;);\r\n    setArguments(List.of(lastSync.toInstant()\r\n                                 .atZone(ZoneId.systemDefault())\r\n                                 .toLocalDateTime()));\r\n    setPageSize(10);\r\n    setSort(Collections.singletonMap(&quot;modifiedDate&quot;, Sort.Direction.ASC));\r\n    setSaveState(true);\r\n    super.afterPropertiesSet();\r\n  }\r\n}\r\n```\r\n\r\nand using it as a bean annotated with @StepScope\r\n\r\n```java\r\n  @Bean\r\n  public Step jobStep() {\r\n    return stepBuilderFactory.get(&quot;step-entity-sync&quot;)\r\n                             .&lt;Entity, TagetEntity&gt;chunk(10)\r\n                             .reader(entityReader())\r\n                             .processor(...)\r\n                             .writer(...)\r\n                             .build();\r\n  }\r\n\r\n  @Bean\r\n  @StepScope\r\n  public EntityReader entityReader() {\r\n    return new EntityReader();\r\n  }\r\n```\r\n\r\n","title":"Get JobParameters on RepositoryItemReader","body":"<p>I've managed to use jobParameter as an argument to my RepositoryItemReader by extending it :</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class EntityReader extends RepositoryItemReader&lt;Entity&gt; {\n\n  @Value(&quot;#{jobParameters['lastSync']}&quot;)\n  private Date lastSync;\n\n  @Autowired\n  private EntityRepository EntityRepository;\n\n  @Override\n  public void afterPropertiesSet() throws Exception {\n    setName(getClass().getSimpleName());\n    setRepository(entityRepository);\n    setMethodName(&quot;findAllSince&quot;);\n    setArguments(List.of(lastSync.toInstant()\n                                 .atZone(ZoneId.systemDefault())\n                                 .toLocalDateTime()));\n    setPageSize(10);\n    setSort(Collections.singletonMap(&quot;modifiedDate&quot;, Sort.Direction.ASC));\n    setSaveState(true);\n    super.afterPropertiesSet();\n  }\n}\n</code></pre>\n<p>and using it as a bean annotated with @StepScope</p>\n<pre class=\"lang-java prettyprint-override\"><code>  @Bean\n  public Step jobStep() {\n    return stepBuilderFactory.get(&quot;step-entity-sync&quot;)\n                             .&lt;Entity, TagetEntity&gt;chunk(10)\n                             .reader(entityReader())\n                             .processor(...)\n                             .writer(...)\n                             .build();\n  }\n\n  @Bean\n  @StepScope\n  public EntityReader entityReader() {\n    return new EntityReader();\n  }\n</code></pre>\n"}],"owner":{"account_id":5219847,"reputation":103,"user_id":4173645,"accept_rate":0,"display_name":"Marco Osorio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":950,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650640026,"creation_date":1576182198,"question_id":59312171,"body_markdown":"I have a problem with the execution of the batch process that I am developing.\r\nIt comprises several steps.\r\n\r\nThe first one recovers data and inserts it into a table to keep track. So far, everything is correct.\r\nThe problem is the next step, where the reader is a RepositoryItemReader and needs as a parameter the id of the job that has been assigned to it, not the one that is automatically generated by the ramework.\r\nI have seen several examples, which indicate that you can retrieve parameters with the @Value annotation.\r\n\r\nIf I assign @StepScope, the bean is not instantiated and an error is generated, but if I remove the annotation, the bean is instantiated correctly, but cannot find the property.\r\nI appreciate the help they can give me. I&#39;ve been looking for a solution for several days, but I can&#39;t find it.\r\n\r\nThanks in advance!\r\n\r\n**Method**\r\n```\r\n\tprivate static JobResultDTO runJob(ApplicationContext context, String jobName, JobParameters jobParameters)\r\n\t\t\tthrows DarwinException {\r\n\t\tLOGGER.info(&quot;Starting the batch job: {}&quot;, jobName);\r\n\t\tfinal JobLauncher jobLauncher = (JobLauncher) context.getBean(&quot;jobLauncher&quot;);\r\n\t\tfinal Job job = (Job) context.getBean(jobName);\r\n\t\tBatchStatus status = null;\r\n\t\tJobResultDTO jobResultDTO = null;\r\n\t\ttry {\r\n\t\t\t// To enable multiple execution of a job with the same parameters\r\n\t\t\tJobParameters jobParams = new JobParametersBuilder()\r\n\t\t\t\t\t.addJobParameters(jobParameters)\r\n\t\t\t\t\t.toJobParameters();\r\n\t\t\tfinal JobExecution jobExecution = jobLauncher.run(job, jobParams);\r\n\r\n\t\t\t// Setting result\r\n\t\t\tjobResultDTO = settingJobResult(jobExecution, jobParameters);\r\n\t\t\t\r\n\t\t\tstatus = jobExecution.getStatus();\r\n\t\t\tLOGGER.info(&quot;Job Status : {}&quot;, status);\r\n\r\n\t\t} catch (final Exception e) {\r\n\t\t\tstatus = BatchStatus.FAILED;\r\n\t\t\tLOGGER.error(&quot;Job failed {}&quot;, e);\r\n\t\t}\r\n\t\treturn jobResultDTO;\r\n\t}\r\n```\r\n\r\n\r\n**Job process**\r\n```\r\n@Component\r\npublic class JobMigrationProcess extends JobBase {\r\n\tstatic final Logger LOGGER = LoggerFactory.getLogger(JobMigrationProcess.class);\r\n\t@Value(&quot;${job.migration.concurrency.limit}&quot;)\r\n\tint concurrencyLimit;\r\n\t\r\n\t@Autowired\r\n\tJobBuilderFactory jobBuilderFactory;\r\n\t@Autowired\r\n\tStepBuilderFactory stepBuilderFactory;\r\n\t@Autowired\r\n\tDocumentStateTasklet documentStateTasklet;\r\n\t@Autowired\r\n\tSelectDocumentTasklet selectDocumentTasklet;\r\n\t@Autowired\r\n\tDocumentMigratorRepository documentMigratorRepository;\r\n\t\r\n    @Bean(name = &quot;JobMigrationProcess&quot;)\r\n    public Job migrationProcessJob(Step selectionDocumentsStep, Step migrationSteps/*, Step updateDocumentStateStep*/) {\r\n\r\n        Job job = jobBuilderFactory.get(&quot;jobMigrationProcess&quot; + LocalDateTime.now())\r\n                .incrementer(new RunIdIncrementer())\r\n                .listener(protocolListener())\r\n                .start(selectionDocumentsStep)\r\n                .next(migrationSteps)\r\n                .build();\r\n        return job;\r\n    }\r\n    \r\n    @Bean\r\n//    @StepScope\r\n    public Step selectionDocumentsStep(StepBuilderFactory stepBuilderFactory) {\r\n        return stepBuilderFactory.get(&quot;step-select-documents&quot;)\r\n                .tasklet(selectDocumentTasklet)\r\n                .listener(logProcessListener())\r\n                .build();\r\n\t}\r\n\r\n    @Bean\r\n//    @StepScope\r\n    public Step updateDocumentStateStep(StepBuilderFactory stepBuilderFactory){\r\n        return stepBuilderFactory.get(&quot;step-update-document-state&quot;)\r\n            .tasklet(documentStateTasklet)\r\n            .listener(logProcessListener())\r\n            .build();\r\n    }\r\n\r\n\t// MIGRATION STEP\r\n    @Bean\r\n//    @StepScope\r\n    public Step migrationSteps(StepBuilderFactory stepBuilderFactory) {\r\n    \t//String jobId = jobExecution.getJobParameters().getString(&quot;jobID&quot;);\r\n        return stepBuilderFactory.get(&quot;step-migration-proc&quot;)\r\n            .&lt;DocumentMigrator, FilenetObjectVO&gt;chunk(1000) //important to be one in this case to commit after every line read\r\n            .reader(itemReaderMigration()).faultTolerant().skipPolicy(migrationSkipper())\r\n            .processor(migrationProcessor())\r\n            .writer(migrationWriter())\r\n            .listener(logProcessListener())\r\n            .faultTolerant()\r\n            .build();\r\n    }\r\n    \r\n\t@Bean\r\n//\t@StepScope\r\n    public SkipPolicy migrationSkipper() {\r\n\t\treturn new DocumentMigrationSkipper();\r\n\t}\r\n\r\n\t@Bean\r\n//\t@StepScope\r\n\tpublic ItemProcessor&lt;DocumentMigrator, FilenetObjectVO&gt; migrationProcessor() {\r\n\t\ttry {\r\n\t\t\treturn new MigrationItemProcessor();\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Error on processor&quot;, e);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t@Bean\r\n//\t@StepScope\r\n\tpublic RepositoryItemReader&lt;DocumentMigrator&gt; itemReaderMigration(/*@Value(&quot;#{jobParameters[&#39;jobID&#39;]}&quot;) String jobId*/) {\r\n\t\tList&lt;Object&gt; arguments = new ArrayList&lt;&gt;(0);\r\n        //arguments.add(jobId);\r\n        arguments.add(&quot;S&quot;);\r\n        RepositoryItemReader&lt;DocumentMigrator&gt; reader = new RepositoryItemReader&lt;&gt;();\r\n        reader.setRepository(documentMigratorRepository);\r\n        reader.setMethodName(&quot;findByJobIdEqualsAndProcessEstateEquals&quot;);\r\n        reader.setArguments(arguments);\r\n        reader.setPageSize(1);\r\n        reader.setSort(Collections.singletonMap(&quot;id&quot;, Sort.Direction.ASC));\r\n        return reader;\r\n\t}\r\n\r\n\t@Bean\r\n//\t@StepScope\r\n\tpublic ItemWriter&lt;FilenetObjectVO&gt; migrationWriter() {\r\n\t\ttry {\r\n\t\t\treturn new MigrationItemWriter();\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Error on writer&quot;, e);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\r\n```\r\nThis is the stack trace with the @Value enabled\r\n\r\n```\r\n\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;JobMigrationProcess&#39; defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method &#39;migrationProcessJob&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;migrationSteps&#39; defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method &#39;migrationSteps&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;itemReaderMigration&#39; defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method &#39;itemReaderMigration&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;jobParameters&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:847)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\r\n\tat com.darwin.migrator.DarwinMigratorApplication.main(DarwinMigratorApplication.java:89)\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;migrationSteps&#39; defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method &#39;migrationSteps&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;itemReaderMigration&#39; defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method &#39;itemReaderMigration&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;jobParameters&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1255)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\r\n\t... 18 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;itemReaderMigration&#39; defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method &#39;itemReaderMigration&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;jobParameters&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1255)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\r\n\t... 32 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;jobParameters&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\tat org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:164)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString(AbstractBeanFactory.java:1481)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1199)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\r\n\t... 46 common frames omitted\r\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;jobParameters&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\r\n\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:53)\r\n\tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:89)\r\n\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:109)\r\n\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:265)\r\n\tat org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:161)\r\n\t... 51 common frames omitted\r\n\r\n```\r\n","title":"Get JobParameters on RepositoryItemReader","body":"<p>I have a problem with the execution of the batch process that I am developing.\nIt comprises several steps.</p>\n\n<p>The first one recovers data and inserts it into a table to keep track. So far, everything is correct.\nThe problem is the next step, where the reader is a RepositoryItemReader and needs as a parameter the id of the job that has been assigned to it, not the one that is automatically generated by the ramework.\nI have seen several examples, which indicate that you can retrieve parameters with the @Value annotation.</p>\n\n<p>If I assign @StepScope, the bean is not instantiated and an error is generated, but if I remove the annotation, the bean is instantiated correctly, but cannot find the property.\nI appreciate the help they can give me. I've been looking for a solution for several days, but I can't find it.</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>Method</strong></p>\n\n<pre><code>    private static JobResultDTO runJob(ApplicationContext context, String jobName, JobParameters jobParameters)\n            throws DarwinException {\n        LOGGER.info(\"Starting the batch job: {}\", jobName);\n        final JobLauncher jobLauncher = (JobLauncher) context.getBean(\"jobLauncher\");\n        final Job job = (Job) context.getBean(jobName);\n        BatchStatus status = null;\n        JobResultDTO jobResultDTO = null;\n        try {\n            // To enable multiple execution of a job with the same parameters\n            JobParameters jobParams = new JobParametersBuilder()\n                    .addJobParameters(jobParameters)\n                    .toJobParameters();\n            final JobExecution jobExecution = jobLauncher.run(job, jobParams);\n\n            // Setting result\n            jobResultDTO = settingJobResult(jobExecution, jobParameters);\n\n            status = jobExecution.getStatus();\n            LOGGER.info(\"Job Status : {}\", status);\n\n        } catch (final Exception e) {\n            status = BatchStatus.FAILED;\n            LOGGER.error(\"Job failed {}\", e);\n        }\n        return jobResultDTO;\n    }\n</code></pre>\n\n<p><strong>Job process</strong></p>\n\n<pre><code>@Component\npublic class JobMigrationProcess extends JobBase {\n    static final Logger LOGGER = LoggerFactory.getLogger(JobMigrationProcess.class);\n    @Value(\"${job.migration.concurrency.limit}\")\n    int concurrencyLimit;\n\n    @Autowired\n    JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    StepBuilderFactory stepBuilderFactory;\n    @Autowired\n    DocumentStateTasklet documentStateTasklet;\n    @Autowired\n    SelectDocumentTasklet selectDocumentTasklet;\n    @Autowired\n    DocumentMigratorRepository documentMigratorRepository;\n\n    @Bean(name = \"JobMigrationProcess\")\n    public Job migrationProcessJob(Step selectionDocumentsStep, Step migrationSteps/*, Step updateDocumentStateStep*/) {\n\n        Job job = jobBuilderFactory.get(\"jobMigrationProcess\" + LocalDateTime.now())\n                .incrementer(new RunIdIncrementer())\n                .listener(protocolListener())\n                .start(selectionDocumentsStep)\n                .next(migrationSteps)\n                .build();\n        return job;\n    }\n\n    @Bean\n//    @StepScope\n    public Step selectionDocumentsStep(StepBuilderFactory stepBuilderFactory) {\n        return stepBuilderFactory.get(\"step-select-documents\")\n                .tasklet(selectDocumentTasklet)\n                .listener(logProcessListener())\n                .build();\n    }\n\n    @Bean\n//    @StepScope\n    public Step updateDocumentStateStep(StepBuilderFactory stepBuilderFactory){\n        return stepBuilderFactory.get(\"step-update-document-state\")\n            .tasklet(documentStateTasklet)\n            .listener(logProcessListener())\n            .build();\n    }\n\n    // MIGRATION STEP\n    @Bean\n//    @StepScope\n    public Step migrationSteps(StepBuilderFactory stepBuilderFactory) {\n        //String jobId = jobExecution.getJobParameters().getString(\"jobID\");\n        return stepBuilderFactory.get(\"step-migration-proc\")\n            .&lt;DocumentMigrator, FilenetObjectVO&gt;chunk(1000) //important to be one in this case to commit after every line read\n            .reader(itemReaderMigration()).faultTolerant().skipPolicy(migrationSkipper())\n            .processor(migrationProcessor())\n            .writer(migrationWriter())\n            .listener(logProcessListener())\n            .faultTolerant()\n            .build();\n    }\n\n    @Bean\n//  @StepScope\n    public SkipPolicy migrationSkipper() {\n        return new DocumentMigrationSkipper();\n    }\n\n    @Bean\n//  @StepScope\n    public ItemProcessor&lt;DocumentMigrator, FilenetObjectVO&gt; migrationProcessor() {\n        try {\n            return new MigrationItemProcessor();\n        } catch (Exception e) {\n            LOGGER.error(\"Error on processor\", e);\n        }\n        return null;\n    }\n\n    @Bean\n//  @StepScope\n    public RepositoryItemReader&lt;DocumentMigrator&gt; itemReaderMigration(/*@Value(\"#{jobParameters['jobID']}\") String jobId*/) {\n        List&lt;Object&gt; arguments = new ArrayList&lt;&gt;(0);\n        //arguments.add(jobId);\n        arguments.add(\"S\");\n        RepositoryItemReader&lt;DocumentMigrator&gt; reader = new RepositoryItemReader&lt;&gt;();\n        reader.setRepository(documentMigratorRepository);\n        reader.setMethodName(\"findByJobIdEqualsAndProcessEstateEquals\");\n        reader.setArguments(arguments);\n        reader.setPageSize(1);\n        reader.setSort(Collections.singletonMap(\"id\", Sort.Direction.ASC));\n        return reader;\n    }\n\n    @Bean\n//  @StepScope\n    public ItemWriter&lt;FilenetObjectVO&gt; migrationWriter() {\n        try {\n            return new MigrationItemWriter();\n        } catch (Exception e) {\n            LOGGER.error(\"Error on writer\", e);\n        }\n        return null;\n    }\n\n}\n\n</code></pre>\n\n<p>This is the stack trace with the @Value enabled</p>\n\n<pre><code>\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'JobMigrationProcess' defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method 'migrationProcessJob' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'migrationSteps' defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method 'migrationSteps' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'itemReaderMigration' defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method 'itemReaderMigration' parameter 0; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'jobParameters' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:847)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:877)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:549)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1204)\n    at com.darwin.migrator.DarwinMigratorApplication.main(DarwinMigratorApplication.java:89)\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'migrationSteps' defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method 'migrationSteps' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'itemReaderMigration' defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method 'itemReaderMigration' parameter 0; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'jobParameters' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1255)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\n    ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'itemReaderMigration' defined in class path resource [com/darwin/migrator/jobs/JobMigrationProcess.class]: Unsatisfied dependency expressed through method 'itemReaderMigration' parameter 0; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'jobParameters' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:769)\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:509)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1321)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1160)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:515)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:320)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:318)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199)\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:277)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1255)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\n    ... 32 common frames omitted\nCaused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'jobParameters' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n    at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:164)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString(AbstractBeanFactory.java:1481)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1199)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1175)\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:857)\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:760)\n    ... 46 common frames omitted\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'jobParameters' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\n    at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:53)\n    at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:89)\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:109)\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:265)\n    at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:161)\n    ... 51 common frames omitted\n\n</code></pre>\n"},{"tags":["java","eclipse","swing","jar","executable-jar"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1331182225,"post_id":9612918,"comment_id":12197192,"body_markdown":"What is the fully qualified name of the main class?  Is it `package.MainClassName` or something else?","body":"What is the fully qualified name of the main class?  Is it <code>package.MainClassName</code> or something else?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1331184465,"post_id":9612918,"comment_id":12197541,"body_markdown":"[`Manifesto`](http://sites.google.com/site/drjohnbmatthews/manifesto) is a convenient way to examine your manifest in place.","body":"<a href=\"http://sites.google.com/site/drjohnbmatthews/manifesto\" rel=\"nofollow noreferrer\"><code>Manifesto</code></a> is a convenient way to examine your manifest in place."},{"owner":{"account_id":382042,"reputation":4031,"user_id":737040,"accept_rate":80,"display_name":"scaevity"},"score":1,"creation_date":1331186813,"post_id":9612918,"comment_id":12197901,"body_markdown":"@trashgod what exactly does Manifesto do that just looking at the manifest does not?","body":"@trashgod what exactly does Manifesto do that just looking at the manifest does not?"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1331206271,"post_id":9612918,"comment_id":12202506,"body_markdown":"@scae: Just convenience; it shows the manifest as it actually appears in the JAR, without having to extract the contents.","body":"@scae: Just convenience; it shows the manifest as it actually appears in the JAR, without having to extract the contents."},{"owner":{"account_id":73470,"reputation":95570,"user_id":211563,"accept_rate":100,"display_name":"Andrew Marshall"},"score":0,"creation_date":1331442720,"post_id":9612918,"comment_id":12257043,"body_markdown":"possible duplicate of [&quot;Could not find the main class&quot; when double-clicking .jar file](http://stackoverflow.com/questions/5428079/could-not-find-the-main-class-when-double-clicking-jar-file)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5428079/could-not-find-the-main-class-when-double-clicking-jar-file\">&quot;Could not find the main class&quot; when double-clicking .jar file</a>"},{"owner":{"account_id":4130925,"reputation":4808,"user_id":3388884,"accept_rate":64,"display_name":"user3388884"},"score":0,"creation_date":1400181903,"post_id":9612918,"comment_id":36393985,"body_markdown":"where do you view the manifest?","body":"where do you view the manifest?"}],"answers":[{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1331188353,"creation_date":1331185326,"answer_id":9613393,"question_id":9612918,"body_markdown":"Verify that you can start your application like that:\r\n\r\n    java -cp myjarfile.jar snake.Controller\r\n\r\n---\r\n\r\nI just read *when I double click on it* - this sounds like a configuration issue with your operating system. You&#39;re double-clicking the file on a windows explorer window? Try to run it from a console/terminal with the command\r\n\r\n    java -jar myjarfile.jar\r\n\r\n**Further Reading**\r\n\r\n- https://stackoverflow.com/questions/394616/running-jar-file-in-windows\r\n\r\n---\r\n\r\n\r\nThe manifest has to end with a new line. Please check your file, a missing new line will cause trouble.","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>Verify that you can start your application like that:</p>\n\n<pre><code>java -cp myjarfile.jar snake.Controller\n</code></pre>\n\n<hr>\n\n<p>I just read <em>when I double click on it</em> - this sounds like a configuration issue with your operating system. You're double-clicking the file on a windows explorer window? Try to run it from a console/terminal with the command</p>\n\n<pre><code>java -jar myjarfile.jar\n</code></pre>\n\n<p><strong>Further Reading</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/394616/running-jar-file-in-windows\">Running JAR file on Windows</a></li>\n</ul>\n\n<hr>\n\n<p>The manifest has to end with a new line. Please check your file, a missing new line will cause trouble.</p>\n"},{"tags":[],"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1331188260,"creation_date":1331188260,"answer_id":9613766,"question_id":9612918,"body_markdown":"Had you tried creating a .jar file manually instead of using Eclipse. Try the following steps, hopefully that might help :\r\n\r\nConsidering that your directory structure looks like this : \r\n\r\n     TicTacToe(Your Project Name I mean)\r\n     |              |                  |\r\n    src            bin             manifest.txt\r\n                 |    |\r\n               icons  tictactoe\r\n\r\n\r\nNow suppose that my main class is `BeginGame` inside package `tictactoe`, so I will write inside my manifest.txt file this thing : \r\n\r\n    Main-Class: tictactoe.BeginGame\r\n\r\nDo remember the space between colons `:` and package name i.e. `tictactoe`, and immediately after `BeginGame` press Enter and save the file.\r\n\r\nNow on your command prompt go to the location of bin folder, I am describing my side as follows : \r\n\r\n    C:\\Mine\\Eclipse\\TicTacToe\\bin&gt;jar -cfm ..\\tictactoe.jar ..\\manifest.txt tictactoe icons\r\n\r\n - Here the first argument i.e. `..\\tictactoe.jar` is used to tell that create tictactoe.jar one level up, i.e. inside `TicTacToe Folder`.\r\n - Second argument `..\\manifest.txt` means that the manifest.txt file is located one level up, i.e. inside `TicTacToe Folder`.\r\n - Third and Fourth arguments `tictactoe` and `icons` means, that add both these folders to the `.jar` file, since they are placed inside `bin` Folder so they are used as it is. Now Press Enter.\r\n\r\nNow try to run your .jar file so created inside the `Project Folder` (TicTacToe Folder, in my case). \r\n\r\nHopefully this will work.","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>Had you tried creating a .jar file manually instead of using Eclipse. Try the following steps, hopefully that might help :</p>\n\n<p>Considering that your directory structure looks like this : </p>\n\n<pre><code> TicTacToe(Your Project Name I mean)\n |              |                  |\nsrc            bin             manifest.txt\n             |    |\n           icons  tictactoe\n</code></pre>\n\n<p>Now suppose that my main class is <code>BeginGame</code> inside package <code>tictactoe</code>, so I will write inside my manifest.txt file this thing : </p>\n\n<pre><code>Main-Class: tictactoe.BeginGame\n</code></pre>\n\n<p>Do remember the space between colons <code>:</code> and package name i.e. <code>tictactoe</code>, and immediately after <code>BeginGame</code> press Enter and save the file.</p>\n\n<p>Now on your command prompt go to the location of bin folder, I am describing my side as follows : </p>\n\n<pre><code>C:\\Mine\\Eclipse\\TicTacToe\\bin&gt;jar -cfm ..\\tictactoe.jar ..\\manifest.txt tictactoe icons\n</code></pre>\n\n<ul>\n<li>Here the first argument i.e. <code>..\\tictactoe.jar</code> is used to tell that create tictactoe.jar one level up, i.e. inside <code>TicTacToe Folder</code>.</li>\n<li>Second argument <code>..\\manifest.txt</code> means that the manifest.txt file is located one level up, i.e. inside <code>TicTacToe Folder</code>.</li>\n<li>Third and Fourth arguments <code>tictactoe</code> and <code>icons</code> means, that add both these folders to the <code>.jar</code> file, since they are placed inside <code>bin</code> Folder so they are used as it is. Now Press Enter.</li>\n</ul>\n\n<p>Now try to run your .jar file so created inside the <code>Project Folder</code> (TicTacToe Folder, in my case). </p>\n\n<p>Hopefully this will work.</p>\n"},{"tags":[],"owner":{"account_id":382042,"reputation":4031,"user_id":737040,"accept_rate":80,"display_name":"scaevity"},"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1331188900,"creation_date":1331188900,"answer_id":9613849,"question_id":9612918,"body_markdown":"Ok, so I finally got it to work. If I use the JRE 6 instead of 7 everything works great. No idea why, but it works.","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>Ok, so I finally got it to work. If I use the JRE 6 instead of 7 everything works great. No idea why, but it works.</p>\n"},{"tags":[],"owner":{"account_id":54558,"reputation":2587,"user_id":163231,"accept_rate":75,"display_name":"count0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444893729,"creation_date":1344950045,"answer_id":11953072,"question_id":9612918,"body_markdown":"Have you renamed your project/main class (e.g. through refactoring) ? If yes your **Launch Configuration** might be set up incorrectly (e.g. refering to the **old** main class or configuration). Even though the project name appears in the &#39;export runnable jar&#39; dialog, a closer inspection might reveal an unmatched main class name.\r\n\r\nGo to &#39;Properties-&gt;Run/Debug Settings&#39; of your project and make sure your Launch Configuration (the same used to export runnable jar) is set to the right name of project **AND** your main class is set to `name.space.of.your.project/YouMainClass`.","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>Have you renamed your project/main class (e.g. through refactoring) ? If yes your <strong>Launch Configuration</strong> might be set up incorrectly (e.g. refering to the <strong>old</strong> main class or configuration). Even though the project name appears in the 'export runnable jar' dialog, a closer inspection might reveal an unmatched main class name.</p>\n\n<p>Go to 'Properties->Run/Debug Settings' of your project and make sure your Launch Configuration (the same used to export runnable jar) is set to the right name of project <strong>AND</strong> your main class is set to <code>name.space.of.your.project/YouMainClass</code>.</p>\n"},{"tags":[],"owner":{"account_id":1091117,"reputation":8451,"user_id":1085736,"accept_rate":64,"display_name":"MobileMon"},"down_vote_count":8,"up_vote_count":16,"is_accepted":false,"score":8,"last_activity_date":1398859847,"creation_date":1398859847,"answer_id":23387738,"question_id":9612918,"body_markdown":"Run it like this on the command line:\r\n\r\n    java -jar /path/to/your/jar/jarFile.jar","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>Run it like this on the command line:</p>\n\n<pre><code>java -jar /path/to/your/jar/jarFile.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4112253,"reputation":45,"user_id":3374766,"display_name":"user3374766"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444631587,"creation_date":1444631587,"answer_id":33074581,"question_id":9612918,"body_markdown":"Right click on the project. Go to properties. Click on Run/Debug Settings. Now delete the run config of your main class that you are trying to run.\r\nNow, when you hit run again, things would work just fine.","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>Right click on the project. Go to properties. Click on Run/Debug Settings. Now delete the run config of your main class that you are trying to run.\nNow, when you hit run again, things would work just fine.</p>\n"},{"tags":[],"owner":{"account_id":11320647,"reputation":67,"user_id":8301073,"display_name":"kegs Production"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504163902,"creation_date":1504163902,"answer_id":45975510,"question_id":9612918,"body_markdown":"For netbeans user that having this problem is as simply:\r\n\r\n1.Go to your Project and Right Click and Select Properties\r\n\r\n2.Click Run and also click browser.\r\n\r\n3.Select your frames you want to first appear.","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>For netbeans user that having this problem is as simply:</p>\n\n<p>1.Go to your Project and Right Click and Select Properties</p>\n\n<p>2.Click Run and also click browser.</p>\n\n<p>3.Select your frames you want to first appear.</p>\n"},{"tags":[],"owner":{"account_id":1179097,"reputation":183,"user_id":1154425,"accept_rate":60,"display_name":"feng63600"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517555930,"creation_date":1517555930,"answer_id":48577586,"question_id":9612918,"body_markdown":"I ran into the same issues the other day and it took me days to make it work.\r\nThe error message was &quot;Could not find the main class&quot;, but I can run the executable jar exported from Eclipse in other Windows machines without any problem.\r\n\r\nThe solution was to install both x64 and x86 version of the same version of JRE. The path environment variable was pointed to the x64 version. No idea why, but it worked for me.","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>I ran into the same issues the other day and it took me days to make it work.\nThe error message was \"Could not find the main class\", but I can run the executable jar exported from Eclipse in other Windows machines without any problem.</p>\n\n<p>The solution was to install both x64 and x86 version of the same version of JRE. The path environment variable was pointed to the x64 version. No idea why, but it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":25053735,"reputation":1,"user_id":18909350,"display_name":"Aishwarya Katkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650640000,"creation_date":1650640000,"answer_id":71970908,"question_id":9612918,"body_markdown":"you are just missing static keyword. that&#39;s all.","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>you are just missing static keyword. that's all.</p>\n"}],"owner":{"account_id":382042,"reputation":4031,"user_id":737040,"accept_rate":80,"display_name":"scaevity"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123873,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":9613849,"answer_count":9,"score":32,"last_activity_date":1650640000,"creation_date":1331181133,"question_id":9612918,"body_markdown":"I have a java project that works perfectly fine when running it from within Eclipse. When I try to export it to either a `&quot;JAR file&quot;` or `&quot;Runnable JAR file&quot;` the .jar file is created, but when I double click on it to try to run the program it gives me an error that says \r\n\r\n    &quot;Could not find the main class: package.MainClassName. Program will exit.&quot;\r\n\r\nAs I mentioned, I tried exporting to both JAR options, I specified the correct class that the main method is in, and when I look through the actual files in the `.jar` file everything seems to be in order -- the manifest looks something like:\r\n\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: package.MainClassName\r\n    (blank line)\r\n\r\nand is in the `META-INF` folder. There is a folder with my package name, which contains all the .class files, including the class that contains the main method. A few image and text files that I use also appear in the jar file.\r\n\r\nThe actual program isn&#39;t anything too complicated -- it&#39;s a simple &quot;snake&quot; game using Swing (plus the code all works when run from inside Eclipse).\r\n\r\nAny ideas what is causing this error and how I can fix it? Let me know if there&#39;s any other information I should provide.\r\n","title":"&quot;Could not find the main class&quot; error when running jar exported by Eclipse","body":"<p>I have a java project that works perfectly fine when running it from within Eclipse. When I try to export it to either a <code>\"JAR file\"</code> or <code>\"Runnable JAR file\"</code> the .jar file is created, but when I double click on it to try to run the program it gives me an error that says </p>\n\n<pre><code>\"Could not find the main class: package.MainClassName. Program will exit.\"\n</code></pre>\n\n<p>As I mentioned, I tried exporting to both JAR options, I specified the correct class that the main method is in, and when I look through the actual files in the <code>.jar</code> file everything seems to be in order -- the manifest looks something like:</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: package.MainClassName\n(blank line)\n</code></pre>\n\n<p>and is in the <code>META-INF</code> folder. There is a folder with my package name, which contains all the .class files, including the class that contains the main method. A few image and text files that I use also appear in the jar file.</p>\n\n<p>The actual program isn't anything too complicated -- it's a simple \"snake\" game using Swing (plus the code all works when run from inside Eclipse).</p>\n\n<p>Any ideas what is causing this error and how I can fix it? Let me know if there's any other information I should provide.</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":17115735,"reputation":171,"user_id":12385278,"display_name":"Leo Tapia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648942565,"creation_date":1648941752,"answer_id":71721866,"question_id":71721194,"body_markdown":"The problem could probably be that your query specifies the column `task` in the select clause, but you&#39;re expecting a `List&lt;Item&gt;` as return type in the `findItemsByUserId` method.\r\n\r\nIf you want the entire `Item` to be returned, then you should change your query to `&quot;SELECT * FROM item WHERE userid = ?1&quot;` in order to select all columns.\r\n\r\nBut, if what you want is the field `task` only, then you must change the method return type because you want a projection (specific columns selection).\r\nThat could be done by defining an interface like:\r\n```\r\npublic interface TaskDto {\r\n    String getTask();\r\n}\r\n```\r\nThen you have to choose between:\r\n```\r\n@Query(value = &quot;SELECT task FROM item WHERE userid = ?1&quot;, nativeQuery = true)\r\nList&lt;TaskDto&gt; findItemsByUserId(Integer userid);\r\n```\r\nand\r\n```\r\n@Query(value = &quot;SELECT * FROM item WHERE userid = ?1&quot;, nativeQuery = true)\r\nList&lt;Item&gt; findItemsByUserId(Integer userid);\r\n```","title":"java.sql.SQLException: Column &#39;serialnumber&#39; not found. (spring boot)","body":"<p>The problem could probably be that your query specifies the column <code>task</code> in the select clause, but you're expecting a <code>List&lt;Item&gt;</code> as return type in the <code>findItemsByUserId</code> method.</p>\n<p>If you want the entire <code>Item</code> to be returned, then you should change your query to <code>&quot;SELECT * FROM item WHERE userid = ?1&quot;</code> in order to select all columns.</p>\n<p>But, if what you want is the field <code>task</code> only, then you must change the method return type because you want a projection (specific columns selection).\nThat could be done by defining an interface like:</p>\n<pre><code>public interface TaskDto {\n    String getTask();\n}\n</code></pre>\n<p>Then you have to choose between:</p>\n<pre><code>@Query(value = &quot;SELECT task FROM item WHERE userid = ?1&quot;, nativeQuery = true)\nList&lt;TaskDto&gt; findItemsByUserId(Integer userid);\n</code></pre>\n<p>and</p>\n<pre><code>@Query(value = &quot;SELECT * FROM item WHERE userid = ?1&quot;, nativeQuery = true)\nList&lt;Item&gt; findItemsByUserId(Integer userid);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650639581,"creation_date":1650639581,"answer_id":71970815,"question_id":71721194,"body_markdown":"    @Query(value = &quot;SELECT task FROM item WHERE userid = ?1&quot;, nativeQuery = true)\r\n    List&lt;Item&gt; findItemsByUserId(Integer userid);\r\n\r\nClearly your query is returning a List of String values and you are trying to cast them to List of your Item entity.\r\n\r\nIf you want to fetch your result as List of item, use\r\n\r\n    @Query(value = &quot;SELECT * FROM item WHERE userid = ?1&quot;, nativeQuery = true)\r\n    List&lt;Item&gt; findItemsByUserId(Integer userid);\r\n\r\nor if you want just the String list of tasks, use\r\n\r\n    @Query(value = &quot;SELECT task FROM item WHERE userid = ?1&quot;, nativeQuery = true)\r\n    List&lt;String&gt; findItemsByUserId(Integer userid);\r\n\r\nChange the caller methods accordingly.\r\nAs per your error &quot;serialnumber not found&quot;, while JPA/Hibernate use reflection API for mapping individual columns from table to their appropriate fields in entity.\r\nSince you are specifically fetching &quot;task&quot;, all the other columns are missing. Hence &quot;serialnumber not found&quot;.","title":"java.sql.SQLException: Column &#39;serialnumber&#39; not found. (spring boot)","body":"<pre><code>@Query(value = &quot;SELECT task FROM item WHERE userid = ?1&quot;, nativeQuery = true)\nList&lt;Item&gt; findItemsByUserId(Integer userid);\n</code></pre>\n<p>Clearly your query is returning a List of String values and you are trying to cast them to List of your Item entity.</p>\n<p>If you want to fetch your result as List of item, use</p>\n<pre><code>@Query(value = &quot;SELECT * FROM item WHERE userid = ?1&quot;, nativeQuery = true)\nList&lt;Item&gt; findItemsByUserId(Integer userid);\n</code></pre>\n<p>or if you want just the String list of tasks, use</p>\n<pre><code>@Query(value = &quot;SELECT task FROM item WHERE userid = ?1&quot;, nativeQuery = true)\nList&lt;String&gt; findItemsByUserId(Integer userid);\n</code></pre>\n<p>Change the caller methods accordingly.\nAs per your error &quot;serialnumber not found&quot;, while JPA/Hibernate use reflection API for mapping individual columns from table to their appropriate fields in entity.\nSince you are specifically fetching &quot;task&quot;, all the other columns are missing. Hence &quot;serialnumber not found&quot;.</p>\n"}],"owner":{"account_id":22164340,"reputation":11,"user_id":16410811,"display_name":"ne1234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":625,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1650639581,"creation_date":1648933899,"question_id":71721194,"body_markdown":"I am writing to-do list web app with spring boot. \r\nI Have 2 entities: \r\nUser (fields: userid (ID), username, password\r\nItem (fields: serialnumber (ID), task, userid.\r\nI want to allow each user to see only his tasks. So I try to pull all the tasks from &quot;task&quot; table. When I try to retrieve information by a custom query, (I think) hibernate fails to read the table. But when I use a built-in method like findAll() from the Repository interface it&#39;s works.\r\n\r\n```\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\npublic class Item {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Integer serialnumber;\r\n    private int userid;\r\n    private String task;\r\n\r\n    public Item() {\r\n\r\n    }\r\n\r\n    public Item(int userid, String task) {\r\n        this.userid = userid;\r\n        this.task = task;\r\n    }\r\n\r\n    public Integer getSerialnumber() {\r\n        return serialnumber;\r\n    }\r\n\r\n    public void setSerialnumber(Integer serialnumber) {\r\n        this.serialnumber = serialnumber;\r\n    }\r\n\r\n    public int getUserid() {\r\n        return userid;\r\n    }\r\n\r\n    public void setUserid(int userid) {\r\n        this.userid = userid;\r\n    }\r\n\r\n    public String getTask() {\r\n        return task;\r\n    }\r\n\r\n    public void setTask(String task) {\r\n        this.task = task;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Item{&quot; +\r\n                &quot;serialnumber=&quot; + serialnumber +\r\n                &quot;, userid=&quot; + userid +\r\n                &quot;, task=&#39;&quot; + task + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n```\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.servlet.http.Cookie;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.servlet.http.HttpSession;\r\nimport java.util.List;\r\n\r\n@Controller\r\npublic class MainController {\r\n\r\n\r\n    @Autowired\r\n    private ItemRepository itemRepository;\r\n\r\n.....\r\n\r\n@PostMapping(&quot;/addItem&quot;)\r\n    public String addItem(@RequestParam String task,\r\n                          @CookieValue(name = &quot;id&quot;) String id,\r\n                          Model model) {\r\n\r\n        Item item = new Item(Integer.valueOf(id), task);\r\n        itemRepository.save(item);\r\n        print(item.toString());\r\n        model.addAttribute(&quot;items&quot;, itemRepository.findItemsByUserId(Integer.valueOf(id)));\r\n        return &quot;list&quot;;\r\n    } \r\n......\r\n}\r\n```\r\n```import org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\nimport java.util.List;\r\n\r\npublic interface ItemRepository extends CrudRepository&lt;Item, Integer&gt; {\r\n\r\n    @Query(value = &quot;SELECT task FROM item WHERE userid = ?1&quot;, nativeQuery = true)\r\n    List&lt;Item&gt; findItemsByUserId(Integer userid);\r\n\r\n}\r\n```\r\n```\r\nHibernate: SELECT task FROM item WHERE userid = ?\r\n2022-04-02 23:23:45.733  WARN 36504 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S0022\r\n2022-04-02 23:23:45.733 ERROR 36504 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column &#39;serialnumber&#39; not found.\r\n2022-04-02 23:23:45.743 ERROR 36504 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute query; SQL [SELECT task FROM item WHERE userid = ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute query] with root cause\r\n\r\njava.sql.SQLException: Column &#39;serialnumber&#39; not found.\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.28.jar:8.0.28]\r\n```","title":"java.sql.SQLException: Column &#39;serialnumber&#39; not found. (spring boot)","body":"<p>I am writing to-do list web app with spring boot.\nI Have 2 entities:\nUser (fields: userid (ID), username, password\nItem (fields: serialnumber (ID), task, userid.\nI want to allow each user to see only his tasks. So I try to pull all the tasks from &quot;task&quot; table. When I try to retrieve information by a custom query, (I think) hibernate fails to read the table. But when I use a built-in method like findAll() from the Repository interface it's works.</p>\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\n\n@Entity\npublic class Item {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer serialnumber;\n    private int userid;\n    private String task;\n\n    public Item() {\n\n    }\n\n    public Item(int userid, String task) {\n        this.userid = userid;\n        this.task = task;\n    }\n\n    public Integer getSerialnumber() {\n        return serialnumber;\n    }\n\n    public void setSerialnumber(Integer serialnumber) {\n        this.serialnumber = serialnumber;\n    }\n\n    public int getUserid() {\n        return userid;\n    }\n\n    public void setUserid(int userid) {\n        this.userid = userid;\n    }\n\n    public String getTask() {\n        return task;\n    }\n\n    public void setTask(String task) {\n        this.task = task;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Item{&quot; +\n                &quot;serialnumber=&quot; + serialnumber +\n                &quot;, userid=&quot; + userid +\n                &quot;, task='&quot; + task + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.servlet.http.Cookie;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.servlet.http.HttpSession;\nimport java.util.List;\n\n@Controller\npublic class MainController {\n\n\n    @Autowired\n    private ItemRepository itemRepository;\n\n.....\n\n@PostMapping(&quot;/addItem&quot;)\n    public String addItem(@RequestParam String task,\n                          @CookieValue(name = &quot;id&quot;) String id,\n                          Model model) {\n\n        Item item = new Item(Integer.valueOf(id), task);\n        itemRepository.save(item);\n        print(item.toString());\n        model.addAttribute(&quot;items&quot;, itemRepository.findItemsByUserId(Integer.valueOf(id)));\n        return &quot;list&quot;;\n    } \n......\n}\n</code></pre>\n<pre><code>import org.springframework.data.repository.CrudRepository;\n\nimport java.util.List;\n\npublic interface ItemRepository extends CrudRepository&lt;Item, Integer&gt; {\n\n    @Query(value = &quot;SELECT task FROM item WHERE userid = ?1&quot;, nativeQuery = true)\n    List&lt;Item&gt; findItemsByUserId(Integer userid);\n\n}\n</code></pre>\n<pre><code>Hibernate: SELECT task FROM item WHERE userid = ?\n2022-04-02 23:23:45.733  WARN 36504 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: S0022\n2022-04-02 23:23:45.733 ERROR 36504 --- [nio-8080-exec-6] o.h.engine.jdbc.spi.SqlExceptionHelper   : Column 'serialnumber' not found.\n2022-04-02 23:23:45.743 ERROR 36504 --- [nio-8080-exec-6] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute query; SQL [SELECT task FROM item WHERE userid = ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute query] with root cause\n\njava.sql.SQLException: Column 'serialnumber' not found.\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:129) ~[mysql-connector-java-8.0.28.jar:8.0.28]\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1650639476,"creation_date":1650632174,"answer_id":71969118,"question_id":71969077,"body_markdown":"hatdog.length = 15, so the largest index is 14. You are looping up to index 15, which causes the error.\r\n\r\nYou should compare strings using String.equals() instead of `==`\r\n\r\nYou could simplify the condition as:\r\n\r\n    if(words.equals(&quot;zzz&quot;) {\r\n        break;\r\n    }\r\n    hatdog[i] = words;\r\n\r\nEDIT: If you want to be a boss, you could do it using streams in a single line\r\n\r\n        new BufferedReader(new InputStreamReader(System.in)) {\r\n\r\n            @Override\r\n            public String readLine() throws IOException {\r\n                String line = super.readLine();\r\n                if (line.equals(&quot;zzz&quot;)) {\r\n                    line = null;\r\n                }\r\n                return line;\r\n            }\r\n        }.lines().limit(5).sorted().forEach(System.out::println);\r\n\r\nEDIT 2: Explanation\r\n\r\n       // System.in is an InputStream\r\n       // InputStreamReader can read it\r\n       // BufferedReader buffers the reading\r\n       // By adding a class body with &#39;{&#39; I make this an anonymous\r\n       // inner class (AIC), and can override methods\r\n       new BufferedReader(new InputStreamReader(System.in)) {\r\n\r\n            // the AIC overrides readLine to intercept when &quot;zzz&quot; \r\n            // is entered\r\n            @Override\r\n            public String readLine() throws IOException {\r\n                // super.readLine() is the original implementation \r\n                // of this method in the super class\r\n                String line = super.readLine();\r\n\r\n                // once null is returned, the inputstream terminates\r\n                if (line.equals(&quot;zzz&quot;)) {                   \r\n                    line = null;\r\n                }\r\n                return line;\r\n            }\r\n        }\r\n        // a convenience method which returns the contents \r\n        // of a BufferedReader as a stream\r\n        .lines()\r\n        // limits the items in the stream to 15\r\n        .limit(15)\r\n        // sorts the stream by its natural order\r\n        .sorted()\r\n        // iterates over each stream item to print it\r\n        .forEach(System.out::println);\r\n\r\nEDIT 3: A slightly more mainstream solution\r\n\r\n        List&lt;String&gt; lines = new ArrayList&lt;&gt;();\r\n        Scanner input = new Scanner(System.in);\r\n        String line = null;\r\n        while (lines.size() &lt; 15 &amp;&amp; !&quot;zzz&quot;.equals(line)) {\r\n            line = input.nextLine();\r\n            lines.add(line);\r\n        }\r\n        lines.sort(Comparator.naturalOrder());\r\n        lines.forEach(System.out::println);","title":"Java: Appending and Sorting Empty Array by an inputted data in a loop","body":"<p>hatdog.length = 15, so the largest index is 14. You are looping up to index 15, which causes the error.</p>\n<p>You should compare strings using String.equals() instead of <code>==</code></p>\n<p>You could simplify the condition as:</p>\n<pre><code>if(words.equals(&quot;zzz&quot;) {\n    break;\n}\nhatdog[i] = words;\n</code></pre>\n<p>EDIT: If you want to be a boss, you could do it using streams in a single line</p>\n<pre><code>    new BufferedReader(new InputStreamReader(System.in)) {\n\n        @Override\n        public String readLine() throws IOException {\n            String line = super.readLine();\n            if (line.equals(&quot;zzz&quot;)) {\n                line = null;\n            }\n            return line;\n        }\n    }.lines().limit(5).sorted().forEach(System.out::println);\n</code></pre>\n<p>EDIT 2: Explanation</p>\n<pre><code>   // System.in is an InputStream\n   // InputStreamReader can read it\n   // BufferedReader buffers the reading\n   // By adding a class body with '{' I make this an anonymous\n   // inner class (AIC), and can override methods\n   new BufferedReader(new InputStreamReader(System.in)) {\n\n        // the AIC overrides readLine to intercept when &quot;zzz&quot; \n        // is entered\n        @Override\n        public String readLine() throws IOException {\n            // super.readLine() is the original implementation \n            // of this method in the super class\n            String line = super.readLine();\n\n            // once null is returned, the inputstream terminates\n            if (line.equals(&quot;zzz&quot;)) {                   \n                line = null;\n            }\n            return line;\n        }\n    }\n    // a convenience method which returns the contents \n    // of a BufferedReader as a stream\n    .lines()\n    // limits the items in the stream to 15\n    .limit(15)\n    // sorts the stream by its natural order\n    .sorted()\n    // iterates over each stream item to print it\n    .forEach(System.out::println);\n</code></pre>\n<p>EDIT 3: A slightly more mainstream solution</p>\n<pre><code>    List&lt;String&gt; lines = new ArrayList&lt;&gt;();\n    Scanner input = new Scanner(System.in);\n    String line = null;\n    while (lines.size() &lt; 15 &amp;&amp; !&quot;zzz&quot;.equals(line)) {\n        line = input.nextLine();\n        lines.add(line);\n    }\n    lines.sort(Comparator.naturalOrder());\n    lines.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":23700479,"reputation":45,"user_id":17723710,"display_name":"R.E.F."},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1650632121,"accepted_answer_id":71969118,"answer_count":1,"score":-2,"last_activity_date":1650639476,"creation_date":1650632052,"question_id":71969077,"body_markdown":"**INSTRUCTIONS:**\r\n\r\nWrite an application that accepts any number of String values from a user until they enter zzz or have entered 15 strings, and display them in ascending order (alphabetical order).\r\n\r\nCase should be a factor when ordering the values. For example, uppercase &#39;B&#39; comes before lowercase &#39;a&#39;.\r\n\r\n\r\n**PROBLEM:**\r\n\r\nThe loop won&#39;t stop when I input &quot;zzz&quot;\r\n\r\nAfter filling 15 strings: The console will prompt &quot;Array Index OutOfBoundsException:15\r\n\r\n    import java.util.*;\r\n    public class StringSort2 {\r\n        public static void main(String[] args) {\r\n    \r\n            String[] hatdog = new String[15]; \r\n            Scanner input = new Scanner(System.in);\r\n            \r\n            for (int i = 0; i &lt;= hatdog.length; i++){\r\n                String words = input.nextLine();\r\n                if(words != &quot;zzz&quot;)\r\n                     hatdog[i] = words;\r\n                else if (words == &quot;zzz&quot;)\r\n                    break;\r\n                    }\r\n    \r\n            Arrays.sort(hatdog);\r\n            for(int j=0; j&lt;hatdog.length; j++)\r\n                 System.out.println(hatdog[j]);\r\n                 \r\n        }\r\n    }\r\n\r\n","title":"Java: Appending and Sorting Empty Array by an inputted data in a loop","body":"<p><strong>INSTRUCTIONS:</strong></p>\n<p>Write an application that accepts any number of String values from a user until they enter zzz or have entered 15 strings, and display them in ascending order (alphabetical order).</p>\n<p>Case should be a factor when ordering the values. For example, uppercase 'B' comes before lowercase 'a'.</p>\n<p><strong>PROBLEM:</strong></p>\n<p>The loop won't stop when I input &quot;zzz&quot;</p>\n<p>After filling 15 strings: The console will prompt &quot;Array Index OutOfBoundsException:15</p>\n<pre><code>import java.util.*;\npublic class StringSort2 {\n    public static void main(String[] args) {\n\n        String[] hatdog = new String[15]; \n        Scanner input = new Scanner(System.in);\n        \n        for (int i = 0; i &lt;= hatdog.length; i++){\n            String words = input.nextLine();\n            if(words != &quot;zzz&quot;)\n                 hatdog[i] = words;\n            else if (words == &quot;zzz&quot;)\n                break;\n                }\n\n        Arrays.sort(hatdog);\n        for(int j=0; j&lt;hatdog.length; j++)\n             System.out.println(hatdog[j]);\n             \n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","server","swagger","springdoc"],"owner":{"account_id":7821459,"reputation":73,"user_id":5914510,"accept_rate":50,"display_name":"serkelion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":916,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1650639348,"creation_date":1650639348,"question_id":71970762,"body_markdown":"I have a project made by four different microservices. Each service is implemented using SpringBoot  and documented with SpringDoc (Open Api Swagger 3). I can happly reach all APIs documentation by opening different URLs, such as:\r\n\r\n`http://localhost:8080/swagger-ui/index.html`\r\n\r\n`http://localhost:8081/swagger-ui/index.html`\r\n\r\n`http://localhost:8082/swagger-ui/index.html`\r\n\r\netc...\r\n\r\nAssuming that all microservices are running on the same host, I&#39;d like to have the &quot;servers&quot; drop-down menu allowing to switch between the URLs. I tried something like this (for just 2 components):\r\n\r\n```Bean\r\npublic OpenAPI initOpenAPI() {\r\n\t\r\n\tOpenAPI defaultOpenAPI = new OpenAPI();\r\n\t\r\n\tdefaultOpenAPI.info(new Info()\r\n\t\t\t\t\t.title(&quot;My repository&quot;)\r\n\t\t\t\t\t.description(&quot;Repository APIs to store my data&quot;)\r\n\t\t\t\t\t.version(&quot;v1.0.0&quot;)\r\n\r\n\tServer server_1 = new Server();\r\n\tserver_1.setDescription(&quot;Component 1&quot;);\r\n\tserver_1.setUrl(&quot;http://localhost:8080/swagger-ui/index.html&quot;);\r\n\r\n\tServer server_2 = new Server();\r\n\tserver_1.setDescription(&quot;Component 2&quot;);\r\n\tserver_2.setUrl(&quot;http://localhost:8081/spider/swagger-ui/index.html&quot;);\r\n\t\r\n\tdefaultOpenAPI.setServers(Arrays.asList(server_1, server_2));\r\n\r\n\treturn defaultOpenAPI;\r\n}\r\n```\r\n\r\nAnd indeed I have all URL in the &quot;servers&quot; drop-down, but when I click on them nothing happens.\r\nHow can allow to switch from one URL to another by choosing the target URL in the &quot;servers&quot; combo-box?\r\n\r\n","title":"How to expose different swagger APIs (on different ports) on same local server","body":"<p>I have a project made by four different microservices. Each service is implemented using SpringBoot  and documented with SpringDoc (Open Api Swagger 3). I can happly reach all APIs documentation by opening different URLs, such as:</p>\n<p><code>http://localhost:8080/swagger-ui/index.html</code></p>\n<p><code>http://localhost:8081/swagger-ui/index.html</code></p>\n<p><code>http://localhost:8082/swagger-ui/index.html</code></p>\n<p>etc...</p>\n<p>Assuming that all microservices are running on the same host, I'd like to have the &quot;servers&quot; drop-down menu allowing to switch between the URLs. I tried something like this (for just 2 components):</p>\n<pre><code>public OpenAPI initOpenAPI() {\n    \n    OpenAPI defaultOpenAPI = new OpenAPI();\n    \n    defaultOpenAPI.info(new Info()\n                    .title(&quot;My repository&quot;)\n                    .description(&quot;Repository APIs to store my data&quot;)\n                    .version(&quot;v1.0.0&quot;)\n\n    Server server_1 = new Server();\n    server_1.setDescription(&quot;Component 1&quot;);\n    server_1.setUrl(&quot;http://localhost:8080/swagger-ui/index.html&quot;);\n\n    Server server_2 = new Server();\n    server_1.setDescription(&quot;Component 2&quot;);\n    server_2.setUrl(&quot;http://localhost:8081/spider/swagger-ui/index.html&quot;);\n    \n    defaultOpenAPI.setServers(Arrays.asList(server_1, server_2));\n\n    return defaultOpenAPI;\n}\n</code></pre>\n<p>And indeed I have all URL in the &quot;servers&quot; drop-down, but when I click on them nothing happens.\nHow can allow to switch from one URL to another by choosing the target URL in the &quot;servers&quot; combo-box?</p>\n"},{"tags":["java","spring-boot","enums"],"comments":[{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1650866733,"post_id":71970734,"comment_id":127215294,"body_markdown":"With Java enums, if the value of an enum is not null, then you are guaranteed to have an enum value. This does not seem to be a problem with the enum, but with the rest controller. It seems that the rest controller is doing some work behind the scenes - if the enum string is empty, it treats it like null.","body":"With Java enums, if the value of an enum is not null, then you are guaranteed to have an enum value. This does not seem to be a problem with the enum, but with the rest controller. It seems that the rest controller is doing some work behind the scenes - if the enum string is empty, it treats it like null."}],"owner":{"account_id":21036567,"reputation":155,"user_id":15459894,"display_name":"Ricardo Petronilho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650639247,"creation_date":1650639247,"question_id":71970734,"body_markdown":"There&#39;s a PATCH method that updates many fields of an item. One of the (optional) fields is the status (an Enum).\r\n\r\n```java\r\npublic class ItemUpdate {\r\n    // ...\r\n    public enum Status {\r\n        A(&quot;a&quot;),\r\n        B(&quot;b&quot;);\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nHowever I want to be able to distinguish if the Enum was incorrectly given (e.g. &quot;c&quot;) or it wasn&#39;t even sent in the request body. In both scenarios the log.info() writes null. \r\n\r\n```java\r\n@RequestMapping(\r\n    value = &quot;/item/{id}&quot;,\r\n    method = RequestMethod.PATCH\r\n)\r\npublic ResponseEntity&lt;Item&gt; patchItem(\r\n    @PathVariable(&quot;id&quot;) String id, \r\n    @RequestBody ItemUpdate itemUpdate\r\n) {\r\n    log.info( String.format(&quot;status enum = %s&quot;, itemUpdate.getStatus()) );\r\n    // ...\r\n}\r\n```","title":"How to distinguish if a Java Enum exists or was incorrectly given in Spring Boot","body":"<p>There's a PATCH method that updates many fields of an item. One of the (optional) fields is the status (an Enum).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ItemUpdate {\n    // ...\n    public enum Status {\n        A(&quot;a&quot;),\n        B(&quot;b&quot;);\n        // ...\n    }\n}\n</code></pre>\n<p>However I want to be able to distinguish if the Enum was incorrectly given (e.g. &quot;c&quot;) or it wasn't even sent in the request body. In both scenarios the log.info() writes null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(\n    value = &quot;/item/{id}&quot;,\n    method = RequestMethod.PATCH\n)\npublic ResponseEntity&lt;Item&gt; patchItem(\n    @PathVariable(&quot;id&quot;) String id, \n    @RequestBody ItemUpdate itemUpdate\n) {\n    log.info( String.format(&quot;status enum = %s&quot;, itemUpdate.getStatus()) );\n    // ...\n}\n</code></pre>\n"},{"tags":["java","spring","kotlin","aspectj","spring-transactions"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649851590,"post_id":71855704,"comment_id":126979657,"body_markdown":"So if you have a minimal example reproducing the problem, where is it? A GitHub link would be helpful. Nobody can debug a wall of text. BTW, my assumption is that your tests are not independent but bleed side effects into each other. In that case, the problem would sit in front of the keyboard. But I need to see for myself in order to be sure, I am just speculating.","body":"So if you have a minimal example reproducing the problem, where is it? A GitHub link would be helpful. Nobody can debug a wall of text. BTW, my assumption is that your tests are not independent but bleed side effects into each other. In that case, the problem would sit in front of the keyboard. But I need to see for myself in order to be sure, I am just speculating."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649864287,"post_id":71855704,"comment_id":126985128,"body_markdown":"Recap: You had time to prepare your own minimal test case, but did not find the solution and are close to giving up. But you had time to ask a question here. If you wish to get help, you should make the problem reproducible. Or just give up, up to you. Less work for me. Your choice. Just saying _&quot;`@Transactional` is not working&quot;_ and expecting anyone to know why - that is asking a bit too much.","body":"Recap: You had time to prepare your own minimal test case, but did not find the solution and are close to giving up. But you had time to ask a question here. If you wish to get help, you should make the problem reproducible. Or just give up, up to you. Less work for me. Your choice. Just saying <i>&quot;<code>@Transactional</code> is not working&quot;</i> and expecting anyone to know why - that is asking a bit too much."},{"owner":{"account_id":3248807,"reputation":530,"user_id":2739647,"display_name":"moreginger"},"score":0,"creation_date":1649885669,"post_id":71855704,"comment_id":126992135,"body_markdown":"Thanks for taking the time to look @kriegaex, it wasn&#39;t an easy one to reproduce in isolation but I&#39;ve created a sample project now. Really interested to see what people make of it!","body":"Thanks for taking the time to look @kriegaex, it wasn&#39;t an easy one to reproduce in isolation but I&#39;ve created a sample project now. Really interested to see what people make of it!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649904700,"post_id":71855704,"comment_id":126995079,"body_markdown":"Thank you very much. It may surprise you, but I am not using Docker. I would have to install (500 MB download) it and learn its basic usage just so as to be able to use the sample project. Would changing it to using an in-memory H2 be an option? I am an AOP expert, but not a big champ in frameworks (EE, Spring) or fan of setting up lots of RDBMS in order to be able to support users on SO. The 500 GB SSD on my laptop is almost full, too, after using the laptop for 3 years.","body":"Thank you very much. It may surprise you, but I am not using Docker. I would have to install (500 MB download) it and learn its basic usage just so as to be able to use the sample project. Would changing it to using an in-memory H2 be an option? I am an AOP expert, but not a big champ in frameworks (EE, Spring) or fan of setting up lots of RDBMS in order to be able to support users on SO. The 500 GB SSD on my laptop is almost full, too, after using the laptop for 3 years."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649913893,"post_id":71855704,"comment_id":126996433,"body_markdown":"I can reproduce the problem, having installed Docker (which I hope not to forget to uninstall later). But I do not why it happens. I think this is not an AspectJ problem. I do not know this Jooq thingy, but AFAIK you need to explicitly configure it in order to support Spring&#39;s declarative transactions. I cannot see such configuration in your project. Could that be the reason why it is not working (or half working, after you remove the transaction from the first service)? Anyway, good reproducer project. I am sure someone else can help you, if I cannot.","body":"I can reproduce the problem, having installed Docker (which I hope not to forget to uninstall later). But I do not why it happens. I think this is not an AspectJ problem. I do not know this Jooq thingy, but AFAIK you need to explicitly configure it in order to support Spring&#39;s declarative transactions. I cannot see such configuration in your project. Could that be the reason why it is not working (or half working, after you remove the transaction from the first service)? Anyway, good reproducer project. I am sure someone else can help you, if I cannot."},{"owner":{"account_id":3248807,"reputation":530,"user_id":2739647,"display_name":"moreginger"},"score":1,"creation_date":1649929868,"post_id":71855704,"comment_id":127001217,"body_markdown":"I&#39;ve now removed jooq from the project and reproduced it with plain jdbc.\nI agree it&#39;s a weird Spring+AspectJ interaction - I&#39;ve done more debug and I can see the code going through the correct AspectJ transaction interceptor layers in the failure case, but somehow the configured JdbcTemplate doesn&#39;t participate in the transaction.","body":"I&#39;ve now removed jooq from the project and reproduced it with plain jdbc. I agree it&#39;s a weird Spring+AspectJ interaction - I&#39;ve done more debug and I can see the code going through the correct AspectJ transaction interceptor layers in the failure case, but somehow the configured JdbcTemplate doesn&#39;t participate in the transaction."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1649930958,"post_id":71855704,"comment_id":127001581,"body_markdown":"I am on the road and cannot check now, but if you don&#39;t get help here, at least you have a clean reproducer for a Spring issue. Reproducibility is king. I am almost certain that someone can help you.","body":"I am on the road and cannot check now, but if you don&#39;t get help here, at least you have a clean reproducer for a Spring issue. Reproducibility is king. I am almost certain that someone can help you."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1650011364,"post_id":71855704,"comment_id":127021706,"body_markdown":"I have tried a similar sequence of transactions in the application&#39;s main method. It works as expected. Your problem must be related to Spring testing, which I have zero experience with. I am not assuming any problem with the transactional aspect as such, rather with the test setup. But an experienced Spring user should evaluate that assumption.","body":"I have tried a similar sequence of transactions in the application&#39;s main method. It works as expected. Your problem must be related to Spring testing, which I have zero experience with. I am not assuming any problem with the transactional aspect as such, rather with the test setup. But an experienced Spring user should evaluate that assumption."}],"owner":{"account_id":3248807,"reputation":530,"user_id":2739647,"display_name":"moreginger"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1650639199,"creation_date":1649844652,"question_id":71855704,"body_markdown":"TLDR: this project reproduces the issue: https://github.com/moreginger/aspectj-no-tx\r\n\r\nEdit: Above now reproduced without jooq i.e. using plain JDBC.\r\n\r\nEdit: Spring bug - https://github.com/spring-projects/spring-framework/issues/28368\r\n\r\n---\r\n\r\nI&#39;ve been trying to use AspectJ to weave Spring `@Transactional` for a Kotlin codebase. I&#39;ve seen it working with both load-time and compile-time weaving (the latter using `io.freefair.aspectj.post-compile-weaving`). However, when I wrote a test that the transaction would be unwound after an exception something strange happened: the test would *sometimes* fail. It turned out that it always failed on the first test suite run, then the second time around it would *run first* (due to failing the first time) and pass. After much investigation, a &quot;minimal&quot; case in my codebase is (**in the same suite run**):\r\n * Runs a test which calls a method marked `@Transactional` on an `@Autowired` bean.\r\n * Runs a test *in a different class* that calls another method marked `@Transactional` on a different `@Autowired` bean, which will make some changes and then throw an exception. Assert that the changes made aren&#39;t visible. This fails.\r\n\r\nThen if you run this suite again it runs the second test first due to failing the first time and passes. It continues to run in this order and pass until something else fails or `gradle clean` is run. (Note that to avoid the order swapping you can make the first test also fail).\r\n\r\nThe same thing happens whether I use load-time or compile-time weaving.\r\n\r\nHow can this be? Especially with compile-time weaving the transactions have been incorporated into the class files. How can accessing a different `@Transactional` method cause one that we access later to stop being `@Transactional` o_O ? I&#39;ve verified that simply removing `@Transactional` from the first &quot;fixes&quot; the issue.","title":"Why is Spring @Transactional unreliable with AspectJ?","body":"<p>TLDR: this project reproduces the issue: <a href=\"https://github.com/moreginger/aspectj-no-tx\" rel=\"nofollow noreferrer\">https://github.com/moreginger/aspectj-no-tx</a></p>\n<p>Edit: Above now reproduced without jooq i.e. using plain JDBC.</p>\n<p>Edit: Spring bug - <a href=\"https://github.com/spring-projects/spring-framework/issues/28368\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/28368</a></p>\n<hr />\n<p>I've been trying to use AspectJ to weave Spring <code>@Transactional</code> for a Kotlin codebase. I've seen it working with both load-time and compile-time weaving (the latter using <code>io.freefair.aspectj.post-compile-weaving</code>). However, when I wrote a test that the transaction would be unwound after an exception something strange happened: the test would <em>sometimes</em> fail. It turned out that it always failed on the first test suite run, then the second time around it would <em>run first</em> (due to failing the first time) and pass. After much investigation, a &quot;minimal&quot; case in my codebase is (<strong>in the same suite run</strong>):</p>\n<ul>\n<li>Runs a test which calls a method marked <code>@Transactional</code> on an <code>@Autowired</code> bean.</li>\n<li>Runs a test <em>in a different class</em> that calls another method marked <code>@Transactional</code> on a different <code>@Autowired</code> bean, which will make some changes and then throw an exception. Assert that the changes made aren't visible. This fails.</li>\n</ul>\n<p>Then if you run this suite again it runs the second test first due to failing the first time and passes. It continues to run in this order and pass until something else fails or <code>gradle clean</code> is run. (Note that to avoid the order swapping you can make the first test also fail).</p>\n<p>The same thing happens whether I use load-time or compile-time weaving.</p>\n<p>How can this be? Especially with compile-time weaving the transactions have been incorporated into the class files. How can accessing a different <code>@Transactional</code> method cause one that we access later to stop being <code>@Transactional</code> o_O ? I've verified that simply removing <code>@Transactional</code> from the first &quot;fixes&quot; the issue.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":462194,"reputation":5746,"user_id":864369,"accept_rate":100,"display_name":"Dan W"},"score":1,"creation_date":1650638457,"post_id":71970514,"comment_id":127173751,"body_markdown":"How do you declare `nameList` and `toSearch`?","body":"How do you declare <code>nameList</code> and <code>toSearch</code>?"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1650638714,"post_id":71970514,"comment_id":127173875,"body_markdown":"Please post the error message as text instead of image.","body":"Please post the error message as text instead of image."},{"owner":{"account_id":24836581,"reputation":3,"user_id":18715150,"display_name":"Aina Eguchi"},"score":0,"creation_date":1650638726,"post_id":71970514,"comment_id":127173882,"body_markdown":"nameList is made from a list of objects and toSearch is taken via user input\nList&lt;String&gt;nameList=new ArrayList&lt;&gt;();\n            for(Employee employee:employeeList){\n                nameList.add(employee.getName());\n            }\n            System.out.println(&quot;Enter name: &quot;);\n            String toSearch=sc.nextLine();","body":"nameList is made from a list of objects and toSearch is taken via user input List&lt;String&gt;nameList=new ArrayList&lt;&gt;();             for(Employee employee:employeeList){                 nameList.add(employee.getName());             }             System.out.println(&quot;Enter name: &quot;);             String toSearch=sc.nextLine();"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1650639577,"post_id":71970514,"comment_id":127174193,"body_markdown":"Bear in mind method names in Java begin lower case and are in camel case","body":"Bear in mind method names in Java begin lower case and are in camel case"}],"answers":[{"tags":[],"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650639090,"creation_date":1650638606,"answer_id":71970604,"question_id":71970514,"body_markdown":"You probably need to loosen up the type for the `list` parameter. You don&#39;t necessarily need an `ArrayList`; any old `List` will do. So a method definition like this might help:\r\n\r\n    public static &lt;E&gt; int Search(List&lt;E&gt; list, E key) {\r\n\r\nAs a side-note, returning 0 if the element isn&#39;t found makes it look like the element actually *was* found (at index 0). Consider returning something like `-1` (the convention for many `indexOf` functions) instead.","title":"Linear Search method using generics not working","body":"<p>You probably need to loosen up the type for the <code>list</code> parameter. You don't necessarily need an <code>ArrayList</code>; any old <code>List</code> will do. So a method definition like this might help:</p>\n<pre><code>public static &lt;E&gt; int Search(List&lt;E&gt; list, E key) {\n</code></pre>\n<p>As a side-note, returning 0 if the element isn't found makes it look like the element actually <em>was</em> found (at index 0). Consider returning something like <code>-1</code> (the convention for many <code>indexOf</code> functions) instead.</p>\n"}],"owner":{"account_id":24836581,"reputation":3,"user_id":18715150,"display_name":"Aina Eguchi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650639090,"creation_date":1650638238,"question_id":71970514,"body_markdown":"I am a newbie in java. I tried to make a Linear Search class which can take any type and find it in a list.\r\n```\r\npackage Client.LinearSearch;\r\n\r\n    \r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class LinearSearch&lt;E&gt; {\r\n    public static &lt;E&gt; int Search(ArrayList&lt;E&gt; list, E key) {\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            if (list.get(i).equals(key)) {\r\n                return i;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n```\r\nBut when i tried to search using this method, it shows method cannot be applied to the following types.Linear Search was taken from a list of objects and toSearch is user defined\r\n```\r\nList&lt;String&gt;nameList=new ArrayList&lt;&gt;();\r\n            for(Employee employee:employeeList){\r\n                nameList.add(employee.getName());\r\n            }\r\n            System.out.println(&quot;Enter name: &quot;);\r\n            String toSearch=sc.nextLine();\r\nLinearSearch&lt;String&gt; stringLinearSearch=new LinearSearch&lt;String&gt;();\r\nint index=stringLinearSearch.Search(nameList,toSearch);\r\n```\r\n![enter image description here][1]\r\n\r\n\r\nThe error message: \r\n```\r\njava: method Search in class Client.LinearSearch.LinearSearch&lt;E&gt; cannot be applied to given types;\r\n required: java.util.ArrayList&lt;E&gt;,E\r\n  found:    java.util.List&lt;java.lang.String&gt;,java.lang.String\r\n  reason: cannot infer type-variable(s) E\r\n    (argument mismatch; java.util.List&lt;java.lang.String&gt; cannot be converted to java.util.ArrayList&lt;E&gt;)\r\n```","title":"Linear Search method using generics not working","body":"<p>I am a newbie in java. I tried to make a Linear Search class which can take any type and find it in a list.</p>\n<pre><code>package Client.LinearSearch;\n\n    \nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class LinearSearch&lt;E&gt; {\n    public static &lt;E&gt; int Search(ArrayList&lt;E&gt; list, E key) {\n        for (int i = 0; i &lt; list.size(); i++) {\n            if (list.get(i).equals(key)) {\n                return i;\n            }\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>But when i tried to search using this method, it shows method cannot be applied to the following types.Linear Search was taken from a list of objects and toSearch is user defined</p>\n<pre><code>List&lt;String&gt;nameList=new ArrayList&lt;&gt;();\n            for(Employee employee:employeeList){\n                nameList.add(employee.getName());\n            }\n            System.out.println(&quot;Enter name: &quot;);\n            String toSearch=sc.nextLine();\nLinearSearch&lt;String&gt; stringLinearSearch=new LinearSearch&lt;String&gt;();\nint index=stringLinearSearch.Search(nameList,toSearch);\n</code></pre>\n<p>![enter image description here][1]</p>\n<p>The error message:</p>\n<pre><code>java: method Search in class Client.LinearSearch.LinearSearch&lt;E&gt; cannot be applied to given types;\n required: java.util.ArrayList&lt;E&gt;,E\n  found:    java.util.List&lt;java.lang.String&gt;,java.lang.String\n  reason: cannot infer type-variable(s) E\n    (argument mismatch; java.util.List&lt;java.lang.String&gt; cannot be converted to java.util.ArrayList&lt;E&gt;)\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":17058236,"reputation":1,"user_id":18658994,"display_name":"St.Padre"},"score":0,"creation_date":1649251549,"post_id":71767067,"comment_id":126828404,"body_markdown":"I didn&#39;t ask the right question. &quot;Why hibernate cant create a table?&quot; - right question. I have DB &quot;orderdb&quot; and i wanna create 3 tables","body":"I didn&#39;t ask the right question. &quot;Why hibernate cant create a table?&quot; - right question. I have DB &quot;orderdb&quot; and i wanna create 3 tables"}],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650639024,"creation_date":1650639024,"answer_id":71970691,"question_id":71767067,"body_markdown":"I went through your code. The only fishy part is\r\n\r\n    private String desc; \r\n\r\n&quot;DESC&quot; is  reserved keyword in databases. \r\nIf you look closely at the syntax(query) issued in your database,\r\nit will show you\r\n\r\n    CREATE TABLE goods (ID INTEGER NOT NULL,brand VARCHAR (255),DESC VARCHAR(255), model VARCHAR (255), price FLOAT (53) NOT NULL,TYPE VARCHAR(255), PRIMARY KEY (ID)) ENGINE = INNODB \r\n\r\n\r\nYou can see the &quot;DESC&quot;  turns blue and shows that it is reserved keyword for &quot;descending&quot;.\r\nTry changing it to something else like &quot;descs&quot; or you can define column and change it to something else like`\r\n\r\n    @Column(name=&quot;descs&quot;)\r\n    private String desc;\r\n\r\nIt will work.`\r\n\r\n","title":"Why Hibernate cant create DB? SQLSyntaxErrorException and CommandAcceptanceException","body":"<p>I went through your code. The only fishy part is</p>\n<pre><code>private String desc; \n</code></pre>\n<p>&quot;DESC&quot; is  reserved keyword in databases.\nIf you look closely at the syntax(query) issued in your database,\nit will show you</p>\n<pre><code>CREATE TABLE goods (ID INTEGER NOT NULL,brand VARCHAR (255),DESC VARCHAR(255), model VARCHAR (255), price FLOAT (53) NOT NULL,TYPE VARCHAR(255), PRIMARY KEY (ID)) ENGINE = INNODB \n</code></pre>\n<p>You can see the &quot;DESC&quot;  turns blue and shows that it is reserved keyword for &quot;descending&quot;.\nTry changing it to something else like &quot;descs&quot; or you can define column and change it to something else like`</p>\n<pre><code>@Column(name=&quot;descs&quot;)\nprivate String desc;\n</code></pre>\n<p>It will work.`</p>\n"}],"owner":{"account_id":17058236,"reputation":1,"user_id":18658994,"display_name":"St.Padre"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650639024,"creation_date":1649249403,"question_id":71767067,"body_markdown":"I have three DBs, of which hibernate can only create 2/3. Can someone explain why hibernate can not create a third table &quot;goods&quot;\r\n\r\n1: org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table goods (ID integer not null, brand varchar(255), desc varchar(255), model varchar(255), price float(53) not null, type varchar(255), primary key (ID)) engine=InnoDB&quot; via JDBC Statement\r\n---&gt; at Models.Main.main(Main.java:18) &lt;---\r\n2: Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &#39;desc varchar(255), model varchar(255), price float(53) not null, type varchar(25&#39; at line 1\r\n\r\n    &lt;persistence\r\n            xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\r\n            version=&quot;3.0&quot;&gt;\r\n        &lt;persistence-unit name=&quot;OrderDB&quot;&gt;\r\n            &lt;properties&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/orderdb&quot;/&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n                &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;qwer1234&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/persistence-unit&gt;\r\n    &lt;/persistence&gt;\r\n\r\nMAIN:\r\n\r\n    package Models;\r\n    \r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.EntityManagerFactory;\r\n    import jakarta.persistence.Persistence;\r\n    import jakarta.persistence.Query;\r\n    \r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        static EntityManagerFactory emf;\r\n        static EntityManager em;\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            try {\r\n                emf = Persistence.createEntityManagerFactory(&quot;OrderDB&quot;);\r\n    \r\n                while (true) {\r\n                    System.out.println(&quot;1: add user&quot;);\r\n                    System.out.println(&quot;2: add goods&quot;);\r\n                    System.out.println(&quot;3: create order&quot;);\r\n                    System.out.println(&quot;4: view users&quot;);\r\n                    System.out.println(&quot;5: view goods&quot;);\r\n                    System.out.println(&quot;6: view orders&quot;);\r\n                    System.out.print(&quot;-&gt; &quot;);\r\n    \r\n                    String s = sc.nextLine();\r\n                    switch (s) {\r\n                        case &quot;1&quot;:\r\n                            addUser(sc);\r\n                            break;\r\n                        case &quot;2&quot;:\r\n                            addGoods(sc);\r\n                            break;\r\n                        case &quot;3&quot;:\r\n                            createOrder(sc);\r\n                            break;\r\n                        case &quot;4&quot;:\r\n                            viewUsers();\r\n                            break;\r\n                        case &quot;5&quot;:\r\n                            viewGoods();\r\n                            break;\r\n                        case &quot;6&quot;:\r\n                            viewOrders();\r\n                            break;\r\n                        default:\r\n                            return;\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                em.close();\r\n                emf.close();\r\n            }\r\n        }\r\n    \r\n        private static void addUser(Scanner sc) {\r\n            System.out.println(&quot;Enter information about user:&quot;);\r\n            System.out.print(&quot;Enter name: &quot;);\r\n            String name = sc.nextLine();\r\n            System.out.print(&quot;Enter last name: &quot;);\r\n            String lastName = sc.nextLine();\r\n            System.out.print(&quot;Enter age: &quot;);\r\n            String strAge = sc.nextLine();\r\n            int age = Integer.parseInt(strAge);\r\n            System.out.print(&quot;Enter email: &quot;);\r\n            String email = sc.nextLine();\r\n            System.out.print(&quot;Enter phone: &quot;);\r\n            String phone = sc.nextLine();\r\n    \r\n            try {\r\n                em = emf.createEntityManager();\r\n                em.getTransaction().begin();\r\n                User user = new User(name, lastName, age, email, phone);\r\n                em.persist(user);\r\n                em.getTransaction().commit();\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        private static void addGoods(Scanner sc) {\r\n            System.out.println(&quot;Enter information about product:&quot;);\r\n            System.out.print(&quot;Enter type: &quot;);\r\n            String type = sc.nextLine();\r\n            System.out.print(&quot;Enter brand: &quot;);\r\n            String brand = sc.nextLine();\r\n            System.out.print(&quot;Enter model: &quot;);\r\n            String model = sc.nextLine();\r\n            System.out.print(&quot;Enter price: &quot;);\r\n            double price = Double.parseDouble(sc.nextLine());\r\n            System.out.print(&quot;Enter description: &quot;);\r\n            String desc = sc.nextLine();\r\n    \r\n            try {\r\n                em = emf.createEntityManager();\r\n                em.getTransaction().begin();\r\n                Good good = new Good(type, brand, model, price, desc);\r\n                em.persist(good);\r\n                em.getTransaction().commit();\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        private static void createOrder(Scanner sc) {\r\n            System.out.println(&quot;Enter information about order:&quot;);\r\n            System.out.print(&quot;Enter goods id: &quot;);\r\n            int goodID = Integer.parseInt(sc.nextLine());\r\n            System.out.print(&quot;Enter user id: &quot;);\r\n            int userID = Integer.parseInt(sc.nextLine());\r\n            System.out.print(&quot;Enter order name: &quot;);\r\n            String orderName = sc.nextLine();\r\n    \r\n            try {\r\n                em = emf.createEntityManager();\r\n                em.getTransaction().begin();\r\n                Order order = new Order(goodID, userID, orderName);\r\n                em.persist(order);\r\n                em.getTransaction().commit();\r\n            } catch (Exception ex) {\r\n                ex.printStackTrace();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        private static void viewUsers() {\r\n            try {\r\n                em = emf.createEntityManager();\r\n                Query query = em.createQuery(&quot;SELECT u FROM User u&quot;, User.class);\r\n                List&lt;User&gt; list = (List&lt;User&gt;) query.getResultList();\r\n    \r\n                for (User u : list)\r\n                    System.out.println(u);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        private static void viewGoods() {\r\n            try {\r\n                em = emf.createEntityManager();\r\n                Query query = em.createQuery(&quot;SELECT g FROM Good g&quot;, Good.class);\r\n                List&lt;Good&gt; list = (List&lt;Good&gt;) query.getResultList();\r\n    \r\n                for (Good g : list)\r\n                    System.out.println(g);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    \r\n        private static void viewOrders() {\r\n            try {\r\n                em = emf.createEntityManager();\r\n                Query query = em.createQuery(&quot;SELECT o FROM Order o&quot;, Order.class);\r\n                List&lt;Order&gt; list = (List&lt;Order&gt;) query.getResultList();\r\n    \r\n                for (Order o : list)\r\n                    System.out.println(o);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                em.close();\r\n            }\r\n        }\r\n    }\r\n    enter code here\r\n\r\nGOODS:\r\n\r\n    package Models;\r\n    \r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;goods&quot;)\r\n    public class Good {\r\n        private int ID;\r\n        private String type;\r\n        private String brand;\r\n        private String model;\r\n        private double price;\r\n        private String desc;\r\n    \r\n        public Good(String type, String brand, String model, double price, String desc) {\r\n            this.type = type;\r\n            this.brand = brand;\r\n            this.model = model;\r\n            this.price = price;\r\n            this.desc = desc;\r\n        }\r\n    \r\n        public Good() {\r\n        }\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        public int getID() {\r\n            return ID;\r\n        }\r\n    \r\n        public void setID(int ID) {\r\n            this.ID = ID;\r\n        }\r\n    \r\n        public String getType() {\r\n            return type;\r\n        }\r\n    \r\n        public void setType(String type) {\r\n            this.type = type;\r\n        }\r\n    \r\n        public String getBrand() {\r\n            return brand;\r\n        }\r\n    \r\n        public void setBrand(String brand) {\r\n            this.brand = brand;\r\n        }\r\n    \r\n        public String getModel() {\r\n            return model;\r\n        }\r\n    \r\n        public void setModel(String model) {\r\n            this.model = model;\r\n        }\r\n    \r\n        public double getPrice() {\r\n            return price;\r\n        }\r\n    \r\n        public void setPrice(double price) {\r\n            this.price = price;\r\n        }\r\n    \r\n        public String getDesc() {\r\n            return desc;\r\n        }\r\n    \r\n        public void setDesc(String desc) {\r\n            this.desc = desc;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Good ID: &quot; + ID + System.lineSeparator()\r\n                    + &quot;Type: &quot; + type + &quot; &quot; + brand + &quot; &quot; + model + System.lineSeparator()\r\n                    + &quot;Price: &quot; + price + System.lineSeparator()\r\n                    + &quot;Description: &quot; + desc;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oILid.png","title":"Why Hibernate cant create DB? SQLSyntaxErrorException and CommandAcceptanceException","body":"<p>I have three DBs, of which hibernate can only create 2/3. Can someone explain why hibernate can not create a third table &quot;goods&quot;</p>\n<p>1: org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table goods (ID integer not null, brand varchar(255), desc varchar(255), model varchar(255), price float(53) not null, type varchar(255), primary key (ID)) engine=InnoDB&quot; via JDBC Statement\n---&gt; at Models.Main.main(Main.java:18) &lt;---\n2: Caused by: java.sql.SQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'desc varchar(255), model varchar(255), price float(53) not null, type varchar(25' at line 1</p>\n<pre><code>&lt;persistence\n        xmlns=&quot;https://jakarta.ee/xml/ns/persistence&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/persistence https://jakarta.ee/xml/ns/persistence/persistence_3_0.xsd&quot;\n        version=&quot;3.0&quot;&gt;\n    &lt;persistence-unit name=&quot;OrderDB&quot;&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3306/orderdb&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;qwer1234&quot;/&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot;/&gt;\n            &lt;property name=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot;/&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>MAIN:</p>\n<pre><code>package Models;\n\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.EntityManagerFactory;\nimport jakarta.persistence.Persistence;\nimport jakarta.persistence.Query;\n\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n    static EntityManagerFactory emf;\n    static EntityManager em;\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        try {\n            emf = Persistence.createEntityManagerFactory(&quot;OrderDB&quot;);\n\n            while (true) {\n                System.out.println(&quot;1: add user&quot;);\n                System.out.println(&quot;2: add goods&quot;);\n                System.out.println(&quot;3: create order&quot;);\n                System.out.println(&quot;4: view users&quot;);\n                System.out.println(&quot;5: view goods&quot;);\n                System.out.println(&quot;6: view orders&quot;);\n                System.out.print(&quot;-&gt; &quot;);\n\n                String s = sc.nextLine();\n                switch (s) {\n                    case &quot;1&quot;:\n                        addUser(sc);\n                        break;\n                    case &quot;2&quot;:\n                        addGoods(sc);\n                        break;\n                    case &quot;3&quot;:\n                        createOrder(sc);\n                        break;\n                    case &quot;4&quot;:\n                        viewUsers();\n                        break;\n                    case &quot;5&quot;:\n                        viewGoods();\n                        break;\n                    case &quot;6&quot;:\n                        viewOrders();\n                        break;\n                    default:\n                        return;\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            em.close();\n            emf.close();\n        }\n    }\n\n    private static void addUser(Scanner sc) {\n        System.out.println(&quot;Enter information about user:&quot;);\n        System.out.print(&quot;Enter name: &quot;);\n        String name = sc.nextLine();\n        System.out.print(&quot;Enter last name: &quot;);\n        String lastName = sc.nextLine();\n        System.out.print(&quot;Enter age: &quot;);\n        String strAge = sc.nextLine();\n        int age = Integer.parseInt(strAge);\n        System.out.print(&quot;Enter email: &quot;);\n        String email = sc.nextLine();\n        System.out.print(&quot;Enter phone: &quot;);\n        String phone = sc.nextLine();\n\n        try {\n            em = emf.createEntityManager();\n            em.getTransaction().begin();\n            User user = new User(name, lastName, age, email, phone);\n            em.persist(user);\n            em.getTransaction().commit();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            em.close();\n        }\n    }\n\n    private static void addGoods(Scanner sc) {\n        System.out.println(&quot;Enter information about product:&quot;);\n        System.out.print(&quot;Enter type: &quot;);\n        String type = sc.nextLine();\n        System.out.print(&quot;Enter brand: &quot;);\n        String brand = sc.nextLine();\n        System.out.print(&quot;Enter model: &quot;);\n        String model = sc.nextLine();\n        System.out.print(&quot;Enter price: &quot;);\n        double price = Double.parseDouble(sc.nextLine());\n        System.out.print(&quot;Enter description: &quot;);\n        String desc = sc.nextLine();\n\n        try {\n            em = emf.createEntityManager();\n            em.getTransaction().begin();\n            Good good = new Good(type, brand, model, price, desc);\n            em.persist(good);\n            em.getTransaction().commit();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            em.close();\n        }\n    }\n\n    private static void createOrder(Scanner sc) {\n        System.out.println(&quot;Enter information about order:&quot;);\n        System.out.print(&quot;Enter goods id: &quot;);\n        int goodID = Integer.parseInt(sc.nextLine());\n        System.out.print(&quot;Enter user id: &quot;);\n        int userID = Integer.parseInt(sc.nextLine());\n        System.out.print(&quot;Enter order name: &quot;);\n        String orderName = sc.nextLine();\n\n        try {\n            em = emf.createEntityManager();\n            em.getTransaction().begin();\n            Order order = new Order(goodID, userID, orderName);\n            em.persist(order);\n            em.getTransaction().commit();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n        } finally {\n            em.close();\n        }\n    }\n\n    private static void viewUsers() {\n        try {\n            em = emf.createEntityManager();\n            Query query = em.createQuery(&quot;SELECT u FROM User u&quot;, User.class);\n            List&lt;User&gt; list = (List&lt;User&gt;) query.getResultList();\n\n            for (User u : list)\n                System.out.println(u);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            em.close();\n        }\n    }\n\n    private static void viewGoods() {\n        try {\n            em = emf.createEntityManager();\n            Query query = em.createQuery(&quot;SELECT g FROM Good g&quot;, Good.class);\n            List&lt;Good&gt; list = (List&lt;Good&gt;) query.getResultList();\n\n            for (Good g : list)\n                System.out.println(g);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            em.close();\n        }\n    }\n\n    private static void viewOrders() {\n        try {\n            em = emf.createEntityManager();\n            Query query = em.createQuery(&quot;SELECT o FROM Order o&quot;, Order.class);\n            List&lt;Order&gt; list = (List&lt;Order&gt;) query.getResultList();\n\n            for (Order o : list)\n                System.out.println(o);\n        } catch (Exception e) {\n            e.printStackTrace();\n        } finally {\n            em.close();\n        }\n    }\n}\nenter code here\n</code></pre>\n<p>GOODS:</p>\n<pre><code>package Models;\n\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n\n@Entity\n@Table(name = &quot;goods&quot;)\npublic class Good {\n    private int ID;\n    private String type;\n    private String brand;\n    private String model;\n    private double price;\n    private String desc;\n\n    public Good(String type, String brand, String model, double price, String desc) {\n        this.type = type;\n        this.brand = brand;\n        this.model = model;\n        this.price = price;\n        this.desc = desc;\n    }\n\n    public Good() {\n    }\n\n    @Id\n    @GeneratedValue\n    public int getID() {\n        return ID;\n    }\n\n    public void setID(int ID) {\n        this.ID = ID;\n    }\n\n    public String getType() {\n        return type;\n    }\n\n    public void setType(String type) {\n        this.type = type;\n    }\n\n    public String getBrand() {\n        return brand;\n    }\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public String getModel() {\n        return model;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public double getPrice() {\n        return price;\n    }\n\n    public void setPrice(double price) {\n        this.price = price;\n    }\n\n    public String getDesc() {\n        return desc;\n    }\n\n    public void setDesc(String desc) {\n        this.desc = desc;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Good ID: &quot; + ID + System.lineSeparator()\n                + &quot;Type: &quot; + type + &quot; &quot; + brand + &quot; &quot; + model + System.lineSeparator()\n                + &quot;Price: &quot; + price + System.lineSeparator()\n                + &quot;Description: &quot; + desc;\n    }\n}\n</code></pre>\n"},{"tags":["java","jsp","servlets","model-view-controller","jdbc"],"answers":[{"tags":[],"owner":{"account_id":288703,"reputation":962,"user_id":589268,"accept_rate":50,"display_name":"Aba Dov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1297772336,"creation_date":1297770631,"answer_id":5003269,"question_id":5003142,"body_markdown":"You can **use the** `&lt;c:forEach &gt;` **tag**\r\n\r\nyou can find a **detailed example** in the following link [example use][1]\r\n\r\n\r\n  [1]: http://forums.devx.com/showthread.php?t=168255","title":"Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern","body":"<p>You can <strong>use the</strong> <code>&lt;c:forEach &gt;</code> <strong>tag</strong></p>\n\n<p>you can find a <strong>detailed example</strong> in the following link <a href=\"http://forums.devx.com/showthread.php?t=168255\" rel=\"nofollow\">example use</a></p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1297770715,"creation_date":1297770715,"answer_id":5003284,"question_id":5003142,"body_markdown":"MVC, in a web application context, doesn&#39;t consist in using a class from a JSP. It consists in using the following model :\r\n\r\n1. browser sends a request to a web server\r\n2. the web server is configured so that the request is handled by a servlet or a filter (the controller : Java code, not JSP code)\r\n3. The servlet/filter usually dispatches the request to a specific class (called an Action, the specific part of the controller), based on configuration/annotations\r\n4. The action executes the business logic (i.e. fetch the data from the database in your example : the model)\r\n5. The action forwards the request to a JSP. The role of the JSP is only to generate HTML code (i.e. display your data : the view)\r\n\r\nSince the JSP usually uses JSP tags (the JSTL, for example) and the JSP expression language, and since JSP tags and the EL are designed to get information from JavaBeans, you&#39;d better have your data available in the form of JavaBeans or collections of JavaBeans. \r\n\r\nThe role of the controller (the action class) is thus to fetch the data, to create JavaBean instances containing the data, in a suitable format for the JSP, to put them in request attributes, and then to dispatch to the JSP. The JSP will then iterate through the JavaBean instances and display what they contain.\r\n\r\nYou should not implement the MVC framework yourself. Use existing ones (Stripes, Struts, etc.)","title":"Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern","body":"<p>MVC, in a web application context, doesn't consist in using a class from a JSP. It consists in using the following model :</p>\n\n<ol>\n<li>browser sends a request to a web server</li>\n<li>the web server is configured so that the request is handled by a servlet or a filter (the controller : Java code, not JSP code)</li>\n<li>The servlet/filter usually dispatches the request to a specific class (called an Action, the specific part of the controller), based on configuration/annotations</li>\n<li>The action executes the business logic (i.e. fetch the data from the database in your example : the model)</li>\n<li>The action forwards the request to a JSP. The role of the JSP is only to generate HTML code (i.e. display your data : the view)</li>\n</ol>\n\n<p>Since the JSP usually uses JSP tags (the JSTL, for example) and the JSP expression language, and since JSP tags and the EL are designed to get information from JavaBeans, you'd better have your data available in the form of JavaBeans or collections of JavaBeans. </p>\n\n<p>The role of the controller (the action class) is thus to fetch the data, to create JavaBean instances containing the data, in a suitable format for the JSP, to put them in request attributes, and then to dispatch to the JSP. The JSP will then iterate through the JavaBean instances and display what they contain.</p>\n\n<p>You should not implement the MVC framework yourself. Use existing ones (Stripes, Struts, etc.)</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":131,"is_accepted":false,"score":131,"last_activity_date":1526200890,"creation_date":1297773271,"answer_id":5003701,"question_id":5003142,"body_markdown":"In a well designed MVC approach, the JSP file should not contain any line of Java code and the servlet class should not contain any line of JDBC code.\r\n\r\nAssuming that you want to show a list of products in a webshop, the following code needs to be created.\r\n\r\n* A `Product` class representing a real world entity of a product, it should be just a [Javabean][1].\r\n\r\n        public class Product {\r\n\r\n            private Long id; \r\n            private String name;\r\n            private String description;\r\n            private BigDecimal price;\r\n\r\n            // Add/generate getters/setters/c&#39;tors/equals/hashcode boilerplate.\r\n        }\r\n\r\n* A [DAO][2] class which does all the nasty JDBC work and returns a nice `List&lt;Product&gt;`.\r\n\r\n        public class ProductDAO {\r\n\r\n            private DataSource dataSource;\r\n\r\n            public ProductDAO(DataSource dataSource) {\r\n                this.dataSource = dataSource;\r\n            }\r\n\r\n            public List&lt;Product&gt; list() throws SQLException {\r\n                List&lt;Product&gt; products = new ArrayList&lt;Product&gt;();\r\n                \r\n                try (\r\n                    Connection connection = dataSource.getConnection();\r\n                    PreparedStatement statement = connection.prepareStatement(&quot;SELECT id, name, description, price FROM product&quot;);\r\n                    ResultSet resultSet = statement.executeQuery();\r\n                ) {\r\n                    while (resultSet.next()) {\r\n                        Product product = new Product();\r\n                        product.setId(resultSet.getLong(&quot;id&quot;));\r\n                        product.setName(resultSet.getString(&quot;name&quot;));\r\n                        product.setDescription(resultSet.getString(&quot;description&quot;));\r\n                        product.setPrice(resultSet.getBigDecimal(&quot;price&quot;));\r\n                        products.add(product);\r\n                    }\r\n                }\r\n\r\n                return products;\r\n            }\r\n\r\n        }\r\n\r\n* A [servlet][3] class which obtains the list and puts it in the request scope.\r\n\r\n        @WebServlet(&quot;/products&quot;)\r\n        public class ProductsServlet extends HttpServlet {\r\n    \r\n            @Resource(name=&quot;jdbc/YourDB&quot;) // For Tomcat, define as &lt;Resource&gt; in context.xml and declare as &lt;resource-ref&gt; in web.xml.\r\n            private DataSource dataSource;\r\n            private ProductDAO productDAO;\r\n    \r\n            @Override\r\n            public void init() {\r\n                productDAO = new ProductDAO(dataSource);\r\n            }\r\n    \r\n            @Override\r\n            protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n                try {\r\n                    List&lt;Product&gt; products = productDAO.list();\r\n                    request.setAttribute(&quot;products&quot;, products); // Will be available as ${products} in JSP\r\n                    request.getRequestDispatcher(&quot;/WEB-INF/products.jsp&quot;).forward(request, response);\r\n                } catch (SQLException e) {\r\n                    throw new ServletException(&quot;Cannot obtain products from DB&quot;, e);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n* Finally a [JSP][4] file in `/WEB-INF/products.jsp` which uses [JSTL][5] `&lt;c:forEach&gt;` to iterate over `List&lt;Product&gt;` which is made available in [EL][6] by `${products}`, and uses JSTL `&lt;c:out&gt;` to escape string properties in order to avoid [XSS][7] holes when it concerns user-controlled input.\r\n\r\n    &lt;!-- language: xml --&gt;\r\n\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;c&quot; %&gt;\r\n        &lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/format&quot; prefix=&quot;fmt&quot; %&gt;\r\n        ...\r\n        &lt;table&gt;\r\n            &lt;c:forEach items=&quot;${products}&quot; var=&quot;product&quot;&gt;\r\n                &lt;tr&gt;\r\n                    &lt;td&gt;${product.id}&lt;/td&gt;\r\n                    &lt;td&gt;&lt;c:out value=&quot;${product.name}&quot; /&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;c:out value=&quot;${product.description}&quot; /&gt;&lt;/td&gt;\r\n                    &lt;td&gt;&lt;fmt:formatNumber value=&quot;${product.price}&quot; type=&quot;currency&quot; currencyCode=&quot;USD&quot; /&gt;&lt;/td&gt;\r\n                &lt;/tr&gt;\r\n            &lt;/c:forEach&gt;\r\n        &lt;/table&gt;\r\n\r\nTo get it to work, just call the servlet by its URL. Provided that the servlet is annotated `@WebServlet(&quot;/products&quot;)` or mapped in `web.xml` with `&lt;url-pattern&gt;/products&lt;/url-pattern&gt;`, then you can call it by `http://example.com/contextname/products`\r\n\r\n###See also:\r\n\r\n- https://stackoverflow.com/questions/3177733\r\n- https://stackoverflow.com/questions/2349633\r\n- https://stackoverflow.com/questions/2299469\r\n- https://stackoverflow.com/questions/3541077\r\n- https://stackoverflow.com/questions/2047122/requestdispatcher-forward-vs-httpservletresponse-sendredirect/2048640#2048640\r\n- https://stackoverflow.com/questions/9201128/how-to-map-a-resultset-with-unknown-amount-of-columns-to-a-list-and-display-it-i\r\n- https://stackoverflow.com/questions/3078701/how-do-i-pass-current-item-to-java-method-by-clicking-a-hyperlink-or-button-in-j/\r\n\r\n  [1]: https://stackoverflow.com/questions/1727603\r\n  [2]: http://balusc.omnifaces.org/2008/07/dao-tutorial-data-layer.html\r\n  [3]: https://stackoverflow.com/tags/servlets/info\r\n  [4]: https://stackoverflow.com/tags/jsp/info\r\n  [5]: https://stackoverflow.com/tags/jstl/info\r\n  [6]: https://stackoverflow.com/tags/el/info\r\n  [7]: https://stackoverflow.com/questions/2658922","title":"Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern","body":"<p>In a well designed MVC approach, the JSP file should not contain any line of Java code and the servlet class should not contain any line of JDBC code.</p>\n\n<p>Assuming that you want to show a list of products in a webshop, the following code needs to be created.</p>\n\n<ul>\n<li><p>A <code>Product</code> class representing a real world entity of a product, it should be just a <a href=\"https://stackoverflow.com/questions/1727603\">Javabean</a>.</p>\n\n<pre><code>public class Product {\n\n    private Long id; \n    private String name;\n    private String description;\n    private BigDecimal price;\n\n    // Add/generate getters/setters/c'tors/equals/hashcode boilerplate.\n}\n</code></pre></li>\n<li><p>A <a href=\"http://balusc.omnifaces.org/2008/07/dao-tutorial-data-layer.html\" rel=\"noreferrer\">DAO</a> class which does all the nasty JDBC work and returns a nice <code>List&lt;Product&gt;</code>.</p>\n\n<pre><code>public class ProductDAO {\n\n    private DataSource dataSource;\n\n    public ProductDAO(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    public List&lt;Product&gt; list() throws SQLException {\n        List&lt;Product&gt; products = new ArrayList&lt;Product&gt;();\n\n        try (\n            Connection connection = dataSource.getConnection();\n            PreparedStatement statement = connection.prepareStatement(\"SELECT id, name, description, price FROM product\");\n            ResultSet resultSet = statement.executeQuery();\n        ) {\n            while (resultSet.next()) {\n                Product product = new Product();\n                product.setId(resultSet.getLong(\"id\"));\n                product.setName(resultSet.getString(\"name\"));\n                product.setDescription(resultSet.getString(\"description\"));\n                product.setPrice(resultSet.getBigDecimal(\"price\"));\n                products.add(product);\n            }\n        }\n\n        return products;\n    }\n\n}\n</code></pre></li>\n<li><p>A <a href=\"https://stackoverflow.com/tags/servlets/info\">servlet</a> class which obtains the list and puts it in the request scope.</p>\n\n<pre><code>@WebServlet(\"/products\")\npublic class ProductsServlet extends HttpServlet {\n\n    @Resource(name=\"jdbc/YourDB\") // For Tomcat, define as &lt;Resource&gt; in context.xml and declare as &lt;resource-ref&gt; in web.xml.\n    private DataSource dataSource;\n    private ProductDAO productDAO;\n\n    @Override\n    public void init() {\n        productDAO = new ProductDAO(dataSource);\n    }\n\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        try {\n            List&lt;Product&gt; products = productDAO.list();\n            request.setAttribute(\"products\", products); // Will be available as ${products} in JSP\n            request.getRequestDispatcher(\"/WEB-INF/products.jsp\").forward(request, response);\n        } catch (SQLException e) {\n            throw new ServletException(\"Cannot obtain products from DB\", e);\n        }\n    }\n\n}\n</code></pre></li>\n<li><p>Finally a <a href=\"https://stackoverflow.com/tags/jsp/info\">JSP</a> file in <code>/WEB-INF/products.jsp</code> which uses <a href=\"https://stackoverflow.com/tags/jstl/info\">JSTL</a> <code>&lt;c:forEach&gt;</code> to iterate over <code>List&lt;Product&gt;</code> which is made available in <a href=\"https://stackoverflow.com/tags/el/info\">EL</a> by <code>${products}</code>, and uses JSTL <code>&lt;c:out&gt;</code> to escape string properties in order to avoid <a href=\"https://stackoverflow.com/questions/2658922\">XSS</a> holes when it concerns user-controlled input.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/core\" prefix=\"c\" %&gt;\n&lt;%@ taglib uri=\"http://java.sun.com/jsp/jstl/format\" prefix=\"fmt\" %&gt;\n...\n&lt;table&gt;\n    &lt;c:forEach items=\"${products}\" var=\"product\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;${product.id}&lt;/td&gt;\n            &lt;td&gt;&lt;c:out value=\"${product.name}\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;c:out value=\"${product.description}\" /&gt;&lt;/td&gt;\n            &lt;td&gt;&lt;fmt:formatNumber value=\"${product.price}\" type=\"currency\" currencyCode=\"USD\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/c:forEach&gt;\n&lt;/table&gt;\n</code></pre></li>\n</ul>\n\n<p>To get it to work, just call the servlet by its URL. Provided that the servlet is annotated <code>@WebServlet(\"/products\")</code> or mapped in <code>web.xml</code> with <code>&lt;url-pattern&gt;/products&lt;/url-pattern&gt;</code>, then you can call it by <code>http://example.com/contextname/products</code></p>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/3177733\">How to avoid Java code in JSP files?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2349633\">doGet and doPost in Servlets</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2299469\">How should I connect to JDBC database / datasource in a servlet based application?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3541077\">Design Patterns web based applications</a></li>\n<li><a href=\"https://stackoverflow.com/questions/2047122/requestdispatcher-forward-vs-httpservletresponse-sendredirect/2048640#2048640\">RequestDispatcher.forward() vs HttpServletResponse.sendRedirect()</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9201128/how-to-map-a-resultset-with-unknown-amount-of-columns-to-a-list-and-display-it-i\">How to map a ResultSet with unknown amount of columns to a List and display it in a HTML table?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3078701/how-do-i-pass-current-item-to-java-method-by-clicking-a-hyperlink-or-button-in-j/\">How do I pass current item to Java method by clicking a hyperlink or button in JSP page?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1297773328,"creation_date":1297773328,"answer_id":5003717,"question_id":5003142,"body_markdown":"*I don&#39;t know how should I return the ResultSet from the class file to the JSP page*\r\n\r\nWell, you don&#39;t. \r\n\r\nThe point of **MVC** is to separate your model ( the **M** DB info in this case ) from your view ( **V** a jsp, in this case ) in such a way you can change the view without braking to application. \r\n\r\nTo do this you might use an intermediate object to represent your data ( usually called DTO - after Data Transfer Object -, don&#39;t know how they call it these days ), and other object to fetch it ( usually a DAO ).\r\n\r\n\r\nSo basically you have your JSP file, get the request parameters, and then invoke a method from the DAO. The dao, internally has the means to connect to the db and fetch the data  and builds a collections of DTO&#39;s which are returned to the JSP for rendering. \r\n\r\n\r\nSomething like this extremely simplified ( and insecure ) code:\r\n\r\nEmployee.java\r\n\r\n    class Employee {\r\n       String name;\r\n       int emplid;\r\n    }\r\n\r\nEmployeeDAO.java\r\n\r\n    class EmployeeDAO { \r\n       ... method to connect \r\n       etc. \r\n       List&lt;Employee&gt; getAllNamed( String name ) { \r\n           String query = &quot;SELECT name, emplid FROM employee where name like ?&quot;;\r\n           ResultSet rs = preparedStatement.executeQuery etc etc.\r\n           List&lt;Employee&gt; results = ....\r\n           while( rs.hasNext() ) { \r\n              results.add( new Employee( rs.getString(&quot;name&quot;), rs.getInt(&quot;emplid&quot;)));\r\n           }\r\n           // close resources etc \r\n           return results;\r\n        }\r\n    }\r\n\r\nemployee.jsp\r\n\r\n    &lt;%\r\n       request.setAttribute(&quot;employees&quot;, dao.getAllNamed( request.getParameter(&quot;name&quot;) );\r\n    %&gt;\r\n    &lt;table&gt;\r\n    &lt;c:forEach items=&quot;${employees}&quot; var=&quot;employee&quot;&gt;\r\n    &lt;tr&gt;&lt;td&gt;${employee.emplid}&lt;/td&gt;&lt;td&gt;${employee.name}&lt;/td&gt;&lt;/tr&gt;\r\n    &lt;/c:forEach&gt;\r\n    &lt;/table&gt;\r\n\r\nI hope this give you a better idea.","title":"Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern","body":"<p><em>I don't know how should I return the ResultSet from the class file to the JSP page</em></p>\n\n<p>Well, you don't. </p>\n\n<p>The point of <strong>MVC</strong> is to separate your model ( the <strong>M</strong> DB info in this case ) from your view ( <strong>V</strong> a jsp, in this case ) in such a way you can change the view without braking to application. </p>\n\n<p>To do this you might use an intermediate object to represent your data ( usually called DTO - after Data Transfer Object -, don't know how they call it these days ), and other object to fetch it ( usually a DAO ).</p>\n\n<p>So basically you have your JSP file, get the request parameters, and then invoke a method from the DAO. The dao, internally has the means to connect to the db and fetch the data  and builds a collections of DTO's which are returned to the JSP for rendering. </p>\n\n<p>Something like this extremely simplified ( and insecure ) code:</p>\n\n<p>Employee.java</p>\n\n<pre><code>class Employee {\n   String name;\n   int emplid;\n}\n</code></pre>\n\n<p>EmployeeDAO.java</p>\n\n<pre><code>class EmployeeDAO { \n   ... method to connect \n   etc. \n   List&lt;Employee&gt; getAllNamed( String name ) { \n       String query = \"SELECT name, emplid FROM employee where name like ?\";\n       ResultSet rs = preparedStatement.executeQuery etc etc.\n       List&lt;Employee&gt; results = ....\n       while( rs.hasNext() ) { \n          results.add( new Employee( rs.getString(\"name\"), rs.getInt(\"emplid\")));\n       }\n       // close resources etc \n       return results;\n    }\n}\n</code></pre>\n\n<p>employee.jsp</p>\n\n<pre><code>&lt;%\n   request.setAttribute(\"employees\", dao.getAllNamed( request.getParameter(\"name\") );\n%&gt;\n&lt;table&gt;\n&lt;c:forEach items=\"${employees}\" var=\"employee\"&gt;\n&lt;tr&gt;&lt;td&gt;${employee.emplid}&lt;/td&gt;&lt;td&gt;${employee.name}&lt;/td&gt;&lt;/tr&gt;\n&lt;/c:forEach&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>I hope this give you a better idea.</p>\n"},{"tags":[],"owner":{"account_id":1209792,"reputation":255,"user_id":1178575,"accept_rate":44,"display_name":"Sonoo Jaiswal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1336676697,"creation_date":1336674059,"answer_id":10539978,"question_id":5003142,"body_markdown":"I think it will be better for you to contain the data of the table into a collection such as list and return the list from the Java class and reuse this collection in the JSP.","title":"Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern","body":"<p>I think it will be better for you to contain the data of the table into a collection such as list and return the list from the Java class and reuse this collection in the JSP.</p>\n"},{"tags":[],"owner":{"account_id":22988968,"reputation":11,"user_id":17114761,"display_name":"Lorenzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650638651,"creation_date":1650638651,"answer_id":71970609,"question_id":5003142,"body_markdown":"I have a problem. I don&#39;t understand clearly the code. I have a similar problem with my code. \r\n\r\nI have created database SQL and filled up. Then I want to implement a MainServlet (code below) that richieve data from database and in a different jsp page, I want to insert that data in section like h1, h2 ecc... I must use the ${} sintax but I don&#39;t know how do that.\r\n\r\nBriefly, In jsp file (code below, I MUST USE ${} SINTAX) I want to &quot;call&quot; MainServlet and there I want to richieve data from database and view in jsp file.\r\n\r\nI hope I have explained correctly, thank you very much!\r\n\r\nMainServlet.java\r\n    \r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n    \r\n    import javax.servlet.ServletConfig;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.annotation.WebServlet;\r\n    import javax.servlet.http.HttpServlet;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    \r\n    /**\r\n     * Servlet implementation class MainServlet\r\n     */\r\n    @WebServlet({ &quot;/MainServlet&quot; })\r\n    public class MainServlet extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate static final String PATH_JSP = &quot;/WEB-INF/&quot;;\r\n           \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public MainServlet() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n    \t * @see Servlet#init(ServletConfig)\r\n    \t */\r\n    \tpublic void init(ServletConfig config) throws ServletException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see Servlet#destroy()\r\n    \t */\r\n    \tpublic void destroy() {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tString doveAndare = request.getParameter(&quot;azione&quot;);\r\n    \t\tif(doveAndare==null)\r\n    \t\t\tdoveAndare = &quot;index&quot;;\r\n    \t\ttry {\r\n    \t\t\tString driverString = &quot;com.mysql.cj.jdbc.Driver&quot;;\r\n    \t\t\tClass.forName(driverString);\r\n    \t\t\tString connString = &quot;jdbc:mysql://localhost:3306/ldd_jewels?user=root&amp;password=&quot;;\r\n    \t\t\tConnection conn = DriverManager.getConnection(connString);\r\n    \t\t\tStatement stmt = conn.createStatement();\r\n    \t\t\tResultSet rs = stmt.executeQuery(&quot;SELECT * FROM JEWEL&quot;);\r\n    \t\t\twhile (rs.next() == true) {\r\n    \t\t\t\tSystem.out.println(rs.getString(&quot;Category&quot;) + &quot;\\t&quot; + rs.getString(&quot;Name&quot;));\r\n    \t\t\t\t\r\n    \t\t\t\t/* I try that but does not work\r\n    \t\t\t\trequest.setAttribute(&quot;name&quot;, rs.getString(&quot;Name&quot;));\r\n    \t\t\t\tjavax.servlet.RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;/WEB-INF/widering_male.jsp&quot;);\r\n    \t\t\t\tdispatcher.forward(request, response); */\r\n    \t\t\t}\r\n    \t\t\tstmt.close();\r\n    \t\t\tconn.close();\r\n    \t\t} catch(Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\trequest.getRequestDispatcher(PATH_JSP+doveAndare+&quot;.jsp&quot;).forward(request, response);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tdoGet(request, response);\r\n    \t}\r\n    \r\n    }\r\n\r\ndoublerow.jsp\r\n\r\n   \r\n\r\n       &lt;section id=&quot;portfolio-details&quot; class=&quot;portfolio-details&quot;&gt;\r\n            &lt;div class=&quot;container&quot;&gt;\r\n              &lt;div class=&quot;row gy-4&quot;&gt;\r\n                &lt;div class=&quot;col-lg-8&quot;&gt;\r\n                  &lt;div class=&quot;portfolio-details-slider swiper&quot;&gt;\r\n                    &lt;div class=&quot;swiper-wrapper align-items-center&quot;&gt;\r\n                      &lt;div class=&quot;swiper-slide&quot;&gt;\r\n                        &lt;img src=&quot;assets/img/jewels/doublerow_1.jpg&quot; alt=&quot;&quot; /&gt;\r\n                      &lt;/div&gt;\r\n    \r\n                      &lt;div class=&quot;swiper-slide&quot;&gt;\r\n                        &lt;img src=&quot;assets/img/jewels/doublerow_2.jpg&quot; alt=&quot;&quot; /&gt;\r\n                      &lt;/div&gt;\r\n    \r\n                      &lt;div class=&quot;swiper-slide&quot;&gt;\r\n                        &lt;img src=&quot;assets/img/jewels/doublerow_3.jpg&quot; alt=&quot;&quot; /&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;swiper-pagination&quot;&gt;&lt;/div&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n    \r\n                &lt;div class=&quot;col-lg-4&quot;&gt;\r\n                  &lt;div class=&quot;portfolio-info&quot;&gt;\r\n                    &lt;h3&gt;Product details&lt;/h3&gt;\r\n                    &lt;ul&gt;\r\n                      &lt;li&gt;&lt;strong&gt;Code&lt;/strong&gt;: 1S3D5&lt;/li&gt;\r\n                      &lt;li&gt;&lt;strong&gt;Category&lt;/strong&gt;: Bracelets&lt;/li&gt;\r\n                      &lt;li&gt;&lt;strong&gt;Name&lt;/strong&gt;: Double Row Hinged Bangle&lt;/li&gt;\r\n                      &lt;li&gt;&lt;strong&gt;Gender&lt;/strong&gt;: Female&lt;/li&gt;\r\n                      &lt;li&gt;&lt;strong&gt;Material&lt;/strong&gt;: Yellow gold&lt;/li&gt;\r\n                      &lt;li&gt;&lt;strong&gt;Size&lt;/strong&gt;: 121mm&lt;/li&gt;\r\n                      &lt;li&gt;&lt;strong&gt;Price&lt;/strong&gt;: €5500&lt;/li&gt;\r\n                    &lt;/ul&gt;\r\n                  &lt;/div&gt;\r\n                  &lt;div class=&quot;portfolio-description&quot;&gt;\r\n                    &lt;h2&gt;Description of product&lt;/h2&gt;\r\n                    &lt;p&gt;\r\n                      The entwined ends of Tiffany Knot’s signature motif symbolize\r\n                      the power of connections between people. Balancing strength\r\n                      and elegance, each Tiffany Knot design is a complex feat of\r\n                      craftsmanship. This bangle is crafted with yellow gold and\r\n                      polished by hand for high shine. Wear on its own or partnered\r\n                      with classic silhouettes for an unexpected pairing.\r\n                    &lt;/p&gt;\r\n                  &lt;/div&gt;\r\n                &lt;/div&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n          &lt;/section&gt;\r\n\r\nThis is my database:\r\n[![Database][1]][1]\r\nI want to insert each jewel in different pages (each jewel have a jsp file)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Uwif5.png","title":"Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern","body":"<p>I have a problem. I don't understand clearly the code. I have a similar problem with my code.</p>\n<p>I have created database SQL and filled up. Then I want to implement a MainServlet (code below) that richieve data from database and in a different jsp page, I want to insert that data in section like h1, h2 ecc... I must use the ${} sintax but I don't know how do that.</p>\n<p>Briefly, In jsp file (code below, I MUST USE ${} SINTAX) I want to &quot;call&quot; MainServlet and there I want to richieve data from database and view in jsp file.</p>\n<p>I hope I have explained correctly, thank you very much!</p>\n<p>MainServlet.java</p>\n<pre><code>import java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\nimport javax.servlet.ServletConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n\n/**\n * Servlet implementation class MainServlet\n */\n@WebServlet({ &quot;/MainServlet&quot; })\npublic class MainServlet extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n    private static final String PATH_JSP = &quot;/WEB-INF/&quot;;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public MainServlet() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see Servlet#init(ServletConfig)\n     */\n    public void init(ServletConfig config) throws ServletException {\n        // TODO Auto-generated method stub\n    }\n\n    /**\n     * @see Servlet#destroy()\n     */\n    public void destroy() {\n        // TODO Auto-generated method stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String doveAndare = request.getParameter(&quot;azione&quot;);\n        if(doveAndare==null)\n            doveAndare = &quot;index&quot;;\n        try {\n            String driverString = &quot;com.mysql.cj.jdbc.Driver&quot;;\n            Class.forName(driverString);\n            String connString = &quot;jdbc:mysql://localhost:3306/ldd_jewels?user=root&amp;password=&quot;;\n            Connection conn = DriverManager.getConnection(connString);\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM JEWEL&quot;);\n            while (rs.next() == true) {\n                System.out.println(rs.getString(&quot;Category&quot;) + &quot;\\t&quot; + rs.getString(&quot;Name&quot;));\n                \n                /* I try that but does not work\n                request.setAttribute(&quot;name&quot;, rs.getString(&quot;Name&quot;));\n                javax.servlet.RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;/WEB-INF/widering_male.jsp&quot;);\n                dispatcher.forward(request, response); */\n            }\n            stmt.close();\n            conn.close();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n        request.getRequestDispatcher(PATH_JSP+doveAndare+&quot;.jsp&quot;).forward(request, response);\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        doGet(request, response);\n    }\n\n}\n</code></pre>\n<p>doublerow.jsp</p>\n<pre><code>   &lt;section id=&quot;portfolio-details&quot; class=&quot;portfolio-details&quot;&gt;\n        &lt;div class=&quot;container&quot;&gt;\n          &lt;div class=&quot;row gy-4&quot;&gt;\n            &lt;div class=&quot;col-lg-8&quot;&gt;\n              &lt;div class=&quot;portfolio-details-slider swiper&quot;&gt;\n                &lt;div class=&quot;swiper-wrapper align-items-center&quot;&gt;\n                  &lt;div class=&quot;swiper-slide&quot;&gt;\n                    &lt;img src=&quot;assets/img/jewels/doublerow_1.jpg&quot; alt=&quot;&quot; /&gt;\n                  &lt;/div&gt;\n\n                  &lt;div class=&quot;swiper-slide&quot;&gt;\n                    &lt;img src=&quot;assets/img/jewels/doublerow_2.jpg&quot; alt=&quot;&quot; /&gt;\n                  &lt;/div&gt;\n\n                  &lt;div class=&quot;swiper-slide&quot;&gt;\n                    &lt;img src=&quot;assets/img/jewels/doublerow_3.jpg&quot; alt=&quot;&quot; /&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;swiper-pagination&quot;&gt;&lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=&quot;col-lg-4&quot;&gt;\n              &lt;div class=&quot;portfolio-info&quot;&gt;\n                &lt;h3&gt;Product details&lt;/h3&gt;\n                &lt;ul&gt;\n                  &lt;li&gt;&lt;strong&gt;Code&lt;/strong&gt;: 1S3D5&lt;/li&gt;\n                  &lt;li&gt;&lt;strong&gt;Category&lt;/strong&gt;: Bracelets&lt;/li&gt;\n                  &lt;li&gt;&lt;strong&gt;Name&lt;/strong&gt;: Double Row Hinged Bangle&lt;/li&gt;\n                  &lt;li&gt;&lt;strong&gt;Gender&lt;/strong&gt;: Female&lt;/li&gt;\n                  &lt;li&gt;&lt;strong&gt;Material&lt;/strong&gt;: Yellow gold&lt;/li&gt;\n                  &lt;li&gt;&lt;strong&gt;Size&lt;/strong&gt;: 121mm&lt;/li&gt;\n                  &lt;li&gt;&lt;strong&gt;Price&lt;/strong&gt;: €5500&lt;/li&gt;\n                &lt;/ul&gt;\n              &lt;/div&gt;\n              &lt;div class=&quot;portfolio-description&quot;&gt;\n                &lt;h2&gt;Description of product&lt;/h2&gt;\n                &lt;p&gt;\n                  The entwined ends of Tiffany Knot’s signature motif symbolize\n                  the power of connections between people. Balancing strength\n                  and elegance, each Tiffany Knot design is a complex feat of\n                  craftsmanship. This bangle is crafted with yellow gold and\n                  polished by hand for high shine. Wear on its own or partnered\n                  with classic silhouettes for an unexpected pairing.\n                &lt;/p&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/section&gt;\n</code></pre>\n<p>This is my database:\n<a href=\"https://i.stack.imgur.com/Uwif5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uwif5.png\" alt=\"Database\" /></a>\nI want to insert each jewel in different pages (each jewel have a jsp file)</p>\n"}],"owner":{"account_id":712038,"reputation":629,"user_id":617676,"display_name":"Ashwani Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63330,"favorite_count":0,"down_vote_count":2,"up_vote_count":63,"answer_count":6,"score":61,"last_activity_date":1650638651,"creation_date":1297769877,"question_id":5003142,"body_markdown":"I&#39;m implementing MVC using JSP and JDBC. I have imported a database class file to my JSP file and I would like to show the data of a DB table. I don&#39;t know how I should return the `ResultSet` from the Java class to the JSP page and embed it in HTML.\r\n\r\nHow can I achieve this?","title":"Show JDBC ResultSet in HTML in JSP page using MVC and DAO pattern","body":"<p>I'm implementing MVC using JSP and JDBC. I have imported a database class file to my JSP file and I would like to show the data of a DB table. I don't know how I should return the <code>ResultSet</code> from the Java class to the JSP page and embed it in HTML.</p>\n\n<p>How can I achieve this?</p>\n"},{"tags":["java","ip","master-slave","modbus","modbus-tcp"],"answers":[{"tags":[],"owner":{"account_id":139205,"reputation":974,"user_id":344661,"accept_rate":60,"display_name":"Julie in Austin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1442148498,"creation_date":1442148498,"answer_id":32549837,"question_id":32432548,"body_markdown":"I&#39;m the maintainer for j2mod, so my answer is going to suggest you look at the test programs which are included with j2mod.  You can find j2mod on SourceForge at this URL --\r\n\r\nhttps://sourceforge.net/projects/j2mod/\r\n\r\nI&#39;m pretty good about answering questions there, but I also follow stackoverflow, so I can explain more here as well.  There are a LOT of questions in here, so I apologize in advance if I&#39;ve missed anything.\r\n\r\nThe Schneider device is the slave, or &quot;server&quot; and your application is the master or &quot;client&quot;.  Modbus is a master/slave protocol, with the master initiating all requests.  Your application will be the master and responsible for making all requests of your device.\r\n\r\nThe exact communications will be provided by the device documentation.  In this instance, you indicate that the device uses 38400 baud, and so forth.  Those are the parameters you will use to update SerialParameters with the RXTX library (which just so happens to also be used by j2mod).\r\n\r\nThe value passed to setCommPortId() is the Windows COM port identifier - you should be able to pass any value which is associated with an actual COM port -- &quot;COM1&quot;, &quot;COM2&quot;, etc.  Note that some USB converters change their COM port each time they are used, so you may be chasing port names.\r\n\r\nYou mentioned that your device also has an IP address.  You cannot use the RTU classes and methods to access a Modbus/TCP device.  The same is true for jamod and j2mod - most Modbus libraries have different classes for RTU and TCP transports (as well as ASCII and UDP, for libraries which support those other transports).","title":"Modbus4J Modbus RTU master","body":"<p>I'm the maintainer for j2mod, so my answer is going to suggest you look at the test programs which are included with j2mod.  You can find j2mod on SourceForge at this URL --</p>\n\n<p><a href=\"https://sourceforge.net/projects/j2mod/\" rel=\"nofollow\">https://sourceforge.net/projects/j2mod/</a></p>\n\n<p>I'm pretty good about answering questions there, but I also follow stackoverflow, so I can explain more here as well.  There are a LOT of questions in here, so I apologize in advance if I've missed anything.</p>\n\n<p>The Schneider device is the slave, or \"server\" and your application is the master or \"client\".  Modbus is a master/slave protocol, with the master initiating all requests.  Your application will be the master and responsible for making all requests of your device.</p>\n\n<p>The exact communications will be provided by the device documentation.  In this instance, you indicate that the device uses 38400 baud, and so forth.  Those are the parameters you will use to update SerialParameters with the RXTX library (which just so happens to also be used by j2mod).</p>\n\n<p>The value passed to setCommPortId() is the Windows COM port identifier - you should be able to pass any value which is associated with an actual COM port -- \"COM1\", \"COM2\", etc.  Note that some USB converters change their COM port each time they are used, so you may be chasing port names.</p>\n\n<p>You mentioned that your device also has an IP address.  You cannot use the RTU classes and methods to access a Modbus/TCP device.  The same is true for jamod and j2mod - most Modbus libraries have different classes for RTU and TCP transports (as well as ASCII and UDP, for libraries which support those other transports).</p>\n"}],"owner":{"account_id":6628847,"reputation":155,"user_id":5118111,"display_name":"ameruddin jamil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8502,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650638586,"creation_date":1441608143,"question_id":32432548,"body_markdown":"Currently I am working with the Schneider Power Logic electrical device. I want to read the data from the device and show the value in my system. So far, I discover J2mod, Jamod and Modbus4Java library. I used all modbus4java to connect and get the device&#39;s data. \r\n\r\nActually I still confuse whether I suppose to create Master side or Slave side. Based on my understanding, the device will be Slave and my system will be Master (1st question). \r\n\r\nBelow is the setting AT MY DEVICE. It indicate that the device in slave mode and its protocol is Modbus RTU. So, I need to create a master apps to communicate with it right which is using the ModbusRTU protocol right ? (2nd question)\r\n\r\n - Mode: Slave\r\n - Protocol: Modbus RTU\r\n - Address: 1\r\n - Baud Rate: 38400\r\n - Parity: None\r\n\r\nBelow is the code of my apps act as the Master and using the ModbusRTU protocol\r\n\r\n    public static void main(String[] args) throws ModbusTransportException, ErrorResponseException {\r\n\t\tModbusFactory factory = new ModbusFactory();  \r\n        \r\n\t\tSerialParameters params = new SerialParameters();  \r\n        params.setCommPortId(&quot;COM6&quot;);  \r\n        params.setBaudRate(9600);  \r\n        params.setDataBits(8);  \r\n        params.setStopBits(1);  \r\n        params.setParity(0); \r\n        \r\n        ModbusMaster master = factory.createRtuMaster(params);  \r\n        \r\n        master.setTimeout(1000);  \r\n        master.setRetries(0);  \r\n        long start = System.currentTimeMillis(); \r\n        \r\n        try {\r\n        \tmaster.init();\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println( &quot;Modbus Master Init Error: &quot; + e.getMessage());  \r\n\t          return; \r\n\t\t}\r\n\t\t\r\n\t\ttry {  \r\n            System.out.println(&quot;Reg. 1001 Value:&quot; + master.getValue(1, RegisterRange.HOLDING_REGISTER, 3110, DataType.FOUR_BYTE_FLOAT_SWAPPED));  \r\n\t\t}  \r\n        finally {  \r\n            master.destroy();  \r\n        }  \r\n  \r\n        System.out.println(&quot;Time elapsed: &quot; + (System.currentTimeMillis() - start) + &quot;ms&quot;); \r\n\t}\r\n\r\nThis is the code that I get from the sample code provide by the Modbus4Java page. The other thing that concern me is the value of `params.setCommPortId(&quot;COM6&quot;);` What other value than &quot;COM6&quot; that I can put there. Because basically it receive a String value. So am I able to put any String value to it ? And what is the function of this particular setCommPortID. (3rd question)\r\n\r\nLooking at the sample code provide by the Modbus4Java page, it does not put the IP address of the device. But in my case, my device got an IP address. And the IP address only use in the Slave apps only. How should my system recognize the IP address of the device ? (4th question).\r\n\r\nAnd after I run this code snippet, I got an error: \r\n\r\n    Stable Library\r\n=========================================\r\nNative lib Version = RXTX-2.1-7\r\n\r\nJava lib Version   = RXTX-2.1-7\r\n\r\nModbus Master Init Error: com.serotonin.io.serial.SerialPortException: gnu.io.NoSuchPortException\r\n\r\n\r\nPlease, please and please help me. I been stuck with this almost a month. Really hope someone out there will be able to help me. Thank you in advance for any kind of help and suggestion. ","title":"Modbus4J Modbus RTU master","body":"<p>Currently I am working with the Schneider Power Logic electrical device. I want to read the data from the device and show the value in my system. So far, I discover J2mod, Jamod and Modbus4Java library. I used all modbus4java to connect and get the device's data. </p>\n\n<p>Actually I still confuse whether I suppose to create Master side or Slave side. Based on my understanding, the device will be Slave and my system will be Master (1st question). </p>\n\n<p>Below is the setting AT MY DEVICE. It indicate that the device in slave mode and its protocol is Modbus RTU. So, I need to create a master apps to communicate with it right which is using the ModbusRTU protocol right ? (2nd question)</p>\n\n<ul>\n<li>Mode: Slave</li>\n<li>Protocol: Modbus RTU</li>\n<li>Address: 1</li>\n<li>Baud Rate: 38400</li>\n<li>Parity: None</li>\n</ul>\n\n<p>Below is the code of my apps act as the Master and using the ModbusRTU protocol</p>\n\n<pre><code>public static void main(String[] args) throws ModbusTransportException, ErrorResponseException {\n    ModbusFactory factory = new ModbusFactory();  \n\n    SerialParameters params = new SerialParameters();  \n    params.setCommPortId(\"COM6\");  \n    params.setBaudRate(9600);  \n    params.setDataBits(8);  \n    params.setStopBits(1);  \n    params.setParity(0); \n\n    ModbusMaster master = factory.createRtuMaster(params);  \n\n    master.setTimeout(1000);  \n    master.setRetries(0);  \n    long start = System.currentTimeMillis(); \n\n    try {\n        master.init();\n    } catch (Exception e) {\n        System.out.println( \"Modbus Master Init Error: \" + e.getMessage());  \n          return; \n    }\n\n    try {  \n        System.out.println(\"Reg. 1001 Value:\" + master.getValue(1, RegisterRange.HOLDING_REGISTER, 3110, DataType.FOUR_BYTE_FLOAT_SWAPPED));  \n    }  \n    finally {  \n        master.destroy();  \n    }  \n\n    System.out.println(\"Time elapsed: \" + (System.currentTimeMillis() - start) + \"ms\"); \n}\n</code></pre>\n\n<p>This is the code that I get from the sample code provide by the Modbus4Java page. The other thing that concern me is the value of <code>params.setCommPortId(\"COM6\");</code> What other value than \"COM6\" that I can put there. Because basically it receive a String value. So am I able to put any String value to it ? And what is the function of this particular setCommPortID. (3rd question)</p>\n\n<p>Looking at the sample code provide by the Modbus4Java page, it does not put the IP address of the device. But in my case, my device got an IP address. And the IP address only use in the Slave apps only. How should my system recognize the IP address of the device ? (4th question).</p>\n\n<p>And after I run this code snippet, I got an error: </p>\n\n<h1>    Stable Library</h1>\n\n<p>Native lib Version = RXTX-2.1-7</p>\n\n<p>Java lib Version   = RXTX-2.1-7</p>\n\n<p>Modbus Master Init Error: com.serotonin.io.serial.SerialPortException: gnu.io.NoSuchPortException</p>\n\n<p>Please, please and please help me. I been stuck with this almost a month. Really hope someone out there will be able to help me. Thank you in advance for any kind of help and suggestion. </p>\n"},{"tags":["java","pdf"],"comments":[{"owner":{"account_id":10891,"reputation":30989,"user_id":20770,"accept_rate":74,"display_name":"cdeszaq"},"score":2,"creation_date":1326916616,"post_id":8916471,"comment_id":11154368,"body_markdown":"Umm...what library are you using? What have you tried? What didn&#39;t work?","body":"Umm...what library are you using? What have you tried? What didn&#39;t work?"},{"owner":{"account_id":124206,"reputation":3205,"user_id":319149,"accept_rate":0,"display_name":"mark stephens"},"score":1,"creation_date":1326960939,"post_id":8916471,"comment_id":127184470,"body_markdown":"Text manipulation in PDF can be very fiddly because there is no text structure in a PDF file.","body":"Text manipulation in PDF can be very fiddly because there is no text structure in a PDF file."},{"owner":{"account_id":13791765,"reputation":77,"user_id":9954018,"display_name":"stucklucky"},"score":1,"creation_date":1650638362,"post_id":8916471,"comment_id":127184469,"body_markdown":"Try looking into the iText api for Java. This tool will allow you to create PDF and add text and images and other fun things to any project you might be working on. Without more details it is hard to know exactly what you are looking to do but here is a link to the documentation so you can get started. https://api.itextpdf.com/iText7/java/7.2.2/","body":"Try looking into the iText api for Java. This tool will allow you to create PDF and add text and images and other fun things to any project you might be working on. Without more details it is hard to know exactly what you are looking to do but here is a link to the documentation so you can get started. <a href=\"https://api.itextpdf.com/iText7/java/7.2.2/\" rel=\"nofollow noreferrer\">api.itextpdf.com/iText7/java/7.2.2</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1650806989,"post_id":8916471,"comment_id":127204561,"body_markdown":"If you need to show parts of a source PDF page on some target PDF page, you might want to have a look at [this answer](https://stackoverflow.com/a/29078954/1729265) showing how to do a dense merge using iText 5 for Java; here the source pages are copied as form XObjects and sections of them are displayed on different target pages. Ports to iText 5 /.NET and iText 7 / Java exist.","body":"If you need to show parts of a source PDF page on some target PDF page, you might want to have a look at <a href=\"https://stackoverflow.com/a/29078954/1729265\">this answer</a> showing how to do a dense merge using iText 5 for Java; here the source pages are copied as form XObjects and sections of them are displayed on different target pages. Ports to iText 5 /.NET and iText 7 / Java exist."}],"owner":{"account_id":426038,"reputation":31,"user_id":807018,"display_name":"Robin Banner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650638362,"creation_date":1326916353,"question_id":8916471,"body_markdown":"For ex:In one page of pdf consist of two paragraph. One lays on the left and the other lays on the right. Now i want to move left side paragraph to right and right side paragraph to left.Any advice will be appreciated. \r\n","title":"How to change the position of paragraph in pdf using java?","body":"<p>For ex:In one page of pdf consist of two paragraph. One lays on the left and the other lays on the right. Now i want to move left side paragraph to right and right side paragraph to left.Any advice will be appreciated. </p>\n"},{"tags":["java","state-machine"],"comments":[{"owner":{"account_id":6078,"reputation":61187,"user_id":10077,"accept_rate":90,"display_name":"Fred Larson"},"score":0,"creation_date":1650639303,"post_id":71970545,"comment_id":127174106,"body_markdown":"I don&#39;t see that you actually verify the result of each state transition. Seems to me that you should have two lists of states, one for valid transitions and one for invalid transitions. The valid transitions should have some verification of success. The invalid ones should have a verification that they throw.","body":"I don&#39;t see that you actually verify the result of each state transition. Seems to me that you should have two lists of states, one for valid transitions and one for invalid transitions. The valid transitions should have some verification of success. The invalid ones should have a verification that they throw."},{"owner":{"account_id":6334442,"reputation":315,"user_id":5095638,"display_name":"Forumpy"},"score":0,"creation_date":1650640120,"post_id":71970545,"comment_id":127174409,"body_markdown":"Yep, this is just an example test for invalid State0 transitions (should&#39;ve named the test better for this example!). The tests themselves run as expected. But my problem is that if I omit a state from either list, the tests still pass which I don&#39;t want. Although I don&#39;t know if there&#39;s any way around it with the way I&#39;ve designed it.","body":"Yep, this is just an example test for invalid State0 transitions (should&#39;ve named the test better for this example!). The tests themselves run as expected. But my problem is that if I omit a state from either list, the tests still pass which I don&#39;t want. Although I don&#39;t know if there&#39;s any way around it with the way I&#39;ve designed it."},{"owner":{"account_id":6078,"reputation":61187,"user_id":10077,"accept_rate":90,"display_name":"Fred Larson"},"score":0,"creation_date":1650640397,"post_id":71970545,"comment_id":127174526,"body_markdown":"That sort of thing would probably be caught by using a coverage tool with your unit test.","body":"That sort of thing would probably be caught by using a coverage tool with your unit test."}],"owner":{"account_id":6334442,"reputation":315,"user_id":5095638,"display_name":"Forumpy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650638356,"creation_date":1650638356,"question_id":71970545,"body_markdown":"I have a state machine implemented as this data structure under the hood:\r\n\r\n```\r\nMap&lt;State, Map&lt;State, boolean&gt;&gt;\r\n```\r\n\r\nThe idea being you use the original state as the input to lookup the list of possible target states. Then you lookup the target state in that embedded map, and if it&#39;s there, a possible transition exists. \r\n\r\nMy problem is unit testing all possible transitions, such that if you give the test some input that will throw an error (an invalid state transition), then the test should fail if you have not included *all* of the states. \r\n\r\nMy test looks something like this:\r\n\r\n```\r\npublic void invalid_state_transition() {\r\n    State originalState = State0;\r\n    List&lt;State&gt; targetStates = List.of(\r\n        State1, \r\n        State2, \r\n        ...\r\n    )\r\n\r\n    for (targetState : targetStates) {\r\n        TransitionToTargetState(originalState, targetState)\r\n    }\r\n}\r\n```\r\n\r\nHow would I go about doing this? Or am I thinking about the problem in the wrong way? ","title":"Unit testing a state machine with all possible transitions?","body":"<p>I have a state machine implemented as this data structure under the hood:</p>\n<pre><code>Map&lt;State, Map&lt;State, boolean&gt;&gt;\n</code></pre>\n<p>The idea being you use the original state as the input to lookup the list of possible target states. Then you lookup the target state in that embedded map, and if it's there, a possible transition exists.</p>\n<p>My problem is unit testing all possible transitions, such that if you give the test some input that will throw an error (an invalid state transition), then the test should fail if you have not included <em>all</em> of the states.</p>\n<p>My test looks something like this:</p>\n<pre><code>public void invalid_state_transition() {\n    State originalState = State0;\n    List&lt;State&gt; targetStates = List.of(\n        State1, \n        State2, \n        ...\n    )\n\n    for (targetState : targetStates) {\n        TransitionToTargetState(originalState, targetState)\n    }\n}\n</code></pre>\n<p>How would I go about doing this? Or am I thinking about the problem in the wrong way?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1650630201,"post_id":71968668,"comment_id":127170552,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19635311,"reputation":1574,"user_id":14372685,"display_name":"tbjorch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1650638248,"creation_date":1650630496,"answer_id":71968758,"question_id":71968668,"body_markdown":"The interface itself is not registered as a bean. spring framework provides existing implementation of a repository bean (default impl is the class SimpleJpaRepository), which gets injected based on the specifications you provide in your interface. This specific class has the @Repository annotation and will be picked up by spring as a bean.\r\n\r\nA simple overview:\r\n\r\n```java\r\n@Repository\r\npublic class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepositoryImplementation&lt;T, ID&gt;  {\r\n    // code\r\n}\r\n\r\npublic interface MyRepository extends CrudRepository&lt;T, ID&gt; {}\r\n\r\n\r\n@Service\r\npublic MyService() {\r\n    @Autowired private MyRepository myRepository;\r\n}\r\n```\r\n\r\nIn the example above, our own repository interface extends CrudRepository, which has an implementation class named SimpleJpaRepository (provided in the framework), and SimpleJpaRepository is registered as a bean. In MyService, we just tell that we want a bean of type MyRepository, and Spring will inject an instance of SimpleJpaRepository.","title":"Is it possible to register with Container without using @Repository or @Bean?","body":"<p>The interface itself is not registered as a bean. spring framework provides existing implementation of a repository bean (default impl is the class SimpleJpaRepository), which gets injected based on the specifications you provide in your interface. This specific class has the @Repository annotation and will be picked up by spring as a bean.</p>\n<p>A simple overview:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepositoryImplementation&lt;T, ID&gt;  {\n    // code\n}\n\npublic interface MyRepository extends CrudRepository&lt;T, ID&gt; {}\n\n\n@Service\npublic MyService() {\n    @Autowired private MyRepository myRepository;\n}\n</code></pre>\n<p>In the example above, our own repository interface extends CrudRepository, which has an implementation class named SimpleJpaRepository (provided in the framework), and SimpleJpaRepository is registered as a bean. In MyService, we just tell that we want a bean of type MyRepository, and Spring will inject an instance of SimpleJpaRepository.</p>\n"},{"tags":[],"owner":{"display_name":"user14687465"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1650633401,"creation_date":1650633401,"answer_id":71969397,"question_id":71968668,"body_markdown":"You created interface called `AccountRepository` and extended (thus **inherited**) `CrudRepository`.\r\n\r\nNow just do `Ctrl + Left mouse click` on `CrudRepository`, you will end up in it:\r\n\r\n    @NoRepositoryBean\r\n    public interface CrudRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt; {\r\n        &lt;S extends T&gt; S save(S entity);\r\n    \r\n        &lt;S extends T&gt; Iterable&lt;S&gt; saveAll(Iterable&lt;S&gt; entities);\r\n    \r\n        Optional&lt;T&gt; findById(ID id);\r\n    \r\n        boolean existsById(ID id);\r\n    \r\n        Iterable&lt;T&gt; findAll();\r\n    \r\n        Iterable&lt;T&gt; findAllById(Iterable&lt;ID&gt; ids);\r\n    \r\n        long count();\r\n    \r\n        void deleteById(ID id);\r\n    \r\n        void delete(T entity);\r\n    \r\n        void deleteAllById(Iterable&lt;? extends ID&gt; ids);\r\n    \r\n        void deleteAll(Iterable&lt;? extends T&gt; entities);\r\n    \r\n        void deleteAll();\r\n    }\r\n\r\n\r\nIntellij actually gives you oportunity to find the implementations of all those methods with arrow down mark on the left side. [![Look][1]][1]\r\n\r\nSo there is a huge class called `SimpleJpaRepository` that has all the implementations, the actual code.\r\n\r\n**AND THE THING IS**...\r\n\r\nSimpleJpaRepository.class does have `@Repository` in it:\r\n\r\n    @Repository\r\n    @Transactional(\r\n        readOnly = true\r\n    )\r\n    public class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepositoryImplementation&lt;T, ID&gt; {\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/p9iAY.png","title":"Is it possible to register with Container without using @Repository or @Bean?","body":"<p>You created interface called <code>AccountRepository</code> and extended (thus <strong>inherited</strong>) <code>CrudRepository</code>.</p>\n<p>Now just do <code>Ctrl + Left mouse click</code> on <code>CrudRepository</code>, you will end up in it:</p>\n<pre><code>@NoRepositoryBean\npublic interface CrudRepository&lt;T, ID&gt; extends Repository&lt;T, ID&gt; {\n    &lt;S extends T&gt; S save(S entity);\n\n    &lt;S extends T&gt; Iterable&lt;S&gt; saveAll(Iterable&lt;S&gt; entities);\n\n    Optional&lt;T&gt; findById(ID id);\n\n    boolean existsById(ID id);\n\n    Iterable&lt;T&gt; findAll();\n\n    Iterable&lt;T&gt; findAllById(Iterable&lt;ID&gt; ids);\n\n    long count();\n\n    void deleteById(ID id);\n\n    void delete(T entity);\n\n    void deleteAllById(Iterable&lt;? extends ID&gt; ids);\n\n    void deleteAll(Iterable&lt;? extends T&gt; entities);\n\n    void deleteAll();\n}\n</code></pre>\n<p>Intellij actually gives you oportunity to find the implementations of all those methods with arrow down mark on the left side. <a href=\"https://i.stack.imgur.com/p9iAY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p9iAY.png\" alt=\"Look\" /></a></p>\n<p>So there is a huge class called <code>SimpleJpaRepository</code> that has all the implementations, the actual code.</p>\n<p><strong>AND THE THING IS</strong>...</p>\n<p>SimpleJpaRepository.class does have <code>@Repository</code> in it:</p>\n<pre><code>@Repository\n@Transactional(\n    readOnly = true\n)\npublic class SimpleJpaRepository&lt;T, ID&gt; implements JpaRepositoryImplementation&lt;T, ID&gt; {\n</code></pre>\n"}],"owner":{"account_id":23342440,"reputation":37,"user_id":17417169,"display_name":"Coding Baby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71969397,"answer_count":2,"score":0,"last_activity_date":1650638248,"creation_date":1650630121,"question_id":71968668,"body_markdown":"```\r\npublic interface AccountRepository extends CrudRepository&lt;AccountDBModel, Long&gt; {\r\n\r\n  @Modifying\r\n  @Query(value = PortfolioQuery.ACCOUNT_INSERT)\r\n  void insert(@Param(&quot;exchangeId&quot;) Long exchangeId, @Param(&quot;name&quot;) String name, @Param(&quot;siteAccount&quot;) String siteAccount,\r\n      @Param(&quot;memo&quot;) String memo, @Param(&quot;createdAt&quot;) Long createdAt, @Param(&quot;updatedAt&quot;) Long updatedAt,\r\n      @Param(&quot;isActive&quot;) Boolean isActive);\r\n\r\n  @Modifying\r\n  @Query(value = PortfolioQuery.ACCOUNT_UPDATE)\r\n  void update(@Param(&quot;id&quot;) Long id, @Param(&quot;exchangeId&quot;) Long exchangeId, @Param(&quot;name&quot;) String name,\r\n      @Param(&quot;siteAccount&quot;) String siteAccount, @Param(&quot;memo&quot;) String memo, @Param(&quot;updatedAt&quot;) Long updatedAt,\r\n      @Param(&quot;isActive&quot;) Boolean isActive);\r\n\r\n  @Query\r\n  Optional&lt;AccountDBModel&gt; findByName(@Param(&quot;name&quot;) String name);\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class AccountService {\r\n\r\n  private final AccountRepository repository;\r\n\r\n  @Autowired\r\n  public AccountService(AccountRepository repository) {\r\n    this.repository = repository;\r\n  }\r\n\r\n  public void postAccount(AccountBaseModel baseModel) throws Exception {\r\n    Long now = System.currentTimeMillis();\r\n    this.repository.insert(baseModel.getExchangeId(), baseModel.getName(), baseModel.getSiteAccount(),\r\n        baseModel.getMemo(), now, now, baseModel.getIsActive());\r\n  }\r\n}\r\n```\r\n\r\n```\r\n@SpringBootTest\r\nclass WaveBackofficeApiApplicationTests {\r\n\r\n  @Autowired\r\n  private ApplicationContext applicationContext;\r\n\r\n  @Test\r\n  public void contextLoads() throws Exception {\r\n    if (applicationContext != null) {\r\n      String[] beans = applicationContext.getBeanDefinitionNames();\r\n\r\n      for (String bean : beans) {\r\n        System.out.println(&quot;bean : &quot; + bean);\r\n\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n[![bean : accountRepository][1]][1]\r\n\r\nAs you can see in AccountRepository interface I didn&#39;t use @Repository in AccountRepository interface. \r\n\r\nBut why is it registered as a bean in Spring Container?\r\n\r\nThere are no other class like AppConfig.\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nGJxn.png","title":"Is it possible to register with Container without using @Repository or @Bean?","body":"<pre><code>public interface AccountRepository extends CrudRepository&lt;AccountDBModel, Long&gt; {\n\n  @Modifying\n  @Query(value = PortfolioQuery.ACCOUNT_INSERT)\n  void insert(@Param(&quot;exchangeId&quot;) Long exchangeId, @Param(&quot;name&quot;) String name, @Param(&quot;siteAccount&quot;) String siteAccount,\n      @Param(&quot;memo&quot;) String memo, @Param(&quot;createdAt&quot;) Long createdAt, @Param(&quot;updatedAt&quot;) Long updatedAt,\n      @Param(&quot;isActive&quot;) Boolean isActive);\n\n  @Modifying\n  @Query(value = PortfolioQuery.ACCOUNT_UPDATE)\n  void update(@Param(&quot;id&quot;) Long id, @Param(&quot;exchangeId&quot;) Long exchangeId, @Param(&quot;name&quot;) String name,\n      @Param(&quot;siteAccount&quot;) String siteAccount, @Param(&quot;memo&quot;) String memo, @Param(&quot;updatedAt&quot;) Long updatedAt,\n      @Param(&quot;isActive&quot;) Boolean isActive);\n\n  @Query\n  Optional&lt;AccountDBModel&gt; findByName(@Param(&quot;name&quot;) String name);\n}\n</code></pre>\n<pre><code>@Service\npublic class AccountService {\n\n  private final AccountRepository repository;\n\n  @Autowired\n  public AccountService(AccountRepository repository) {\n    this.repository = repository;\n  }\n\n  public void postAccount(AccountBaseModel baseModel) throws Exception {\n    Long now = System.currentTimeMillis();\n    this.repository.insert(baseModel.getExchangeId(), baseModel.getName(), baseModel.getSiteAccount(),\n        baseModel.getMemo(), now, now, baseModel.getIsActive());\n  }\n}\n</code></pre>\n<pre><code>@SpringBootTest\nclass WaveBackofficeApiApplicationTests {\n\n  @Autowired\n  private ApplicationContext applicationContext;\n\n  @Test\n  public void contextLoads() throws Exception {\n    if (applicationContext != null) {\n      String[] beans = applicationContext.getBeanDefinitionNames();\n\n      for (String bean : beans) {\n        System.out.println(&quot;bean : &quot; + bean);\n\n      }\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/nGJxn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nGJxn.png\" alt=\"bean : accountRepository\" /></a></p>\n<p>As you can see in AccountRepository interface I didn't use @Repository in AccountRepository interface.</p>\n<p>But why is it registered as a bean in Spring Container?</p>\n<p>There are no other class like AppConfig.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":340839,"reputation":2531,"user_id":671084,"accept_rate":100,"display_name":"Ali Ferhat"},"score":5,"creation_date":1328144650,"post_id":9105699,"comment_id":11438475,"body_markdown":"&quot;how many path are there?&quot;, this is a mathematical not programming question. And what will you implement in Java? Count the number of paths? Output all the paths themselves? Is this a homework?","body":"&quot;how many path are there?&quot;, this is a mathematical not programming question. And what will you implement in Java? Count the number of paths? Output all the paths themselves? Is this a homework?"},{"owner":{"account_id":1201626,"reputation":663,"user_id":1172175,"accept_rate":71,"display_name":"Periastron"},"score":0,"creation_date":1328145602,"post_id":9105699,"comment_id":11438651,"body_markdown":"@Ali : This is an interview question. And this is the exact text for the question, hence the difficulty in understanding it. For now I am trying to solve how to find all the paths to reach the bottom-right corner and the program would print those paths.","body":"@Ali : This is an interview question. And this is the exact text for the question, hence the difficulty in understanding it. For now I am trying to solve how to find all the paths to reach the bottom-right corner and the program would print those paths."},{"owner":{"account_id":340839,"reputation":2531,"user_id":671084,"accept_rate":100,"display_name":"Ali Ferhat"},"score":1,"creation_date":1328146107,"post_id":9105699,"comment_id":11438726,"body_markdown":"I cannot see any effort on your part that you actually tried to solve the problem, so just two suggestions in case you are a beginner: read a chapter on recursion in a good beginner level data structures / algorithms book and think about how you could solve the problem using recursion. Then, if run-time efficiency is important, read a chapter on dynamic programming and think how you could apply what you&#39;ve learned to the problem at hand.","body":"I cannot see any effort on your part that you actually tried to solve the problem, so just two suggestions in case you are a beginner: read a chapter on recursion in a good beginner level data structures / algorithms book and think about how you could solve the problem using recursion. Then, if run-time efficiency is important, read a chapter on dynamic programming and think how you could apply what you&#39;ve learned to the problem at hand."},{"owner":{"account_id":1014615,"reputation":81400,"user_id":1026459,"accept_rate":92,"display_name":"Travis J"},"score":1,"creation_date":1328146179,"post_id":9105699,"comment_id":11438740,"body_markdown":"@Ali - This is an O(1) operation because of the constraints &quot;only right or down&quot;.","body":"@Ali - This is an O(1) operation because of the constraints &quot;only right or down&quot;."},{"owner":{"account_id":1127937,"reputation":1314,"user_id":1114749,"display_name":"blahman"},"score":1,"creation_date":1328146356,"post_id":9105699,"comment_id":11438761,"body_markdown":"Before you read the answer TravisJ has given, Periastron, I would recommend you try working out the pattern for this yourself. Why not see how many paths you can make on a 2x2 grid? A 3x3? Now, see if you can find some process or relationship between how many paths you get and *N*. Try mucking around with it and make some observations, and when you&#39;ve made some headway or even found a solution, *then* come back and see the answer. Because really, as it is now, all you&#39;ve asked is whether you can have code.","body":"Before you read the answer TravisJ has given, Periastron, I would recommend you try working out the pattern for this yourself. Why not see how many paths you can make on a 2x2 grid? A 3x3? Now, see if you can find some process or relationship between how many paths you get and <i>N</i>. Try mucking around with it and make some observations, and when you&#39;ve made some headway or even found a solution, <i>then</i> come back and see the answer. Because really, as it is now, all you&#39;ve asked is whether you can have code."},{"owner":{"account_id":1014615,"reputation":81400,"user_id":1026459,"accept_rate":92,"display_name":"Travis J"},"score":1,"creation_date":1328146579,"post_id":9105699,"comment_id":11438793,"body_markdown":"In regards to the update, this is definitely more complex because each path must now be defined and therefore constructed. Visiting each path will take very long, O(n^n), probably not possible on grids larger than 15 without waiting for a very, very, long time.","body":"In regards to the update, this is definitely more complex because each path must now be defined and therefore constructed. Visiting each path will take very long, O(n^n), probably not possible on grids larger than 15 without waiting for a very, very, long time."},{"owner":{"account_id":1201626,"reputation":663,"user_id":1172175,"accept_rate":71,"display_name":"Periastron"},"score":0,"creation_date":1328146630,"post_id":9105699,"comment_id":11438804,"body_markdown":"@Blahman I already tried the 2x2 and 3x3 scenario and solved it to some extent. Found the general formula for finding the number of paths, before I posted the question. But somewhere in the middle I got little confused and wanted to know how to approach such a problem. Haven&#39;t read any of the solutions yet. My intention was not to just ask for code. I want to understand the logic behind it so that I could apply it to this and similar problems.","body":"@Blahman I already tried the 2x2 and 3x3 scenario and solved it to some extent. Found the general formula for finding the number of paths, before I posted the question. But somewhere in the middle I got little confused and wanted to know how to approach such a problem. Haven&#39;t read any of the solutions yet. My intention was not to just ask for code. I want to understand the logic behind it so that I could apply it to this and similar problems."},{"owner":{"account_id":1127937,"reputation":1314,"user_id":1114749,"display_name":"blahman"},"score":0,"creation_date":1328146903,"post_id":9105699,"comment_id":11438854,"body_markdown":"In this case, if you can find the general formula I think you&#39;d be fine. It just sounded like you were after getting code for how to find the number of paths. Your update to the question, as the other posters have noted, makes it significantly more difficult and I don&#39;t think you can get an efficient solution to print every path. TravisJ&#39;s explanation for how many paths there are is pretty sufficient though ^^","body":"In this case, if you can find the general formula I think you&#39;d be fine. It just sounded like you were after getting code for how to find the number of paths. Your update to the question, as the other posters have noted, makes it significantly more difficult and I don&#39;t think you can get an efficient solution to print every path. TravisJ&#39;s explanation for how many paths there are is pretty sufficient though ^^"},{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1328185579,"post_id":9105699,"comment_id":11447679,"body_markdown":"total paths? or only paths to reach the down down corner? [In other words, can the robot &quot;stop&quot; if there is still &quot;legal&quot; move it can make]?","body":"total paths? or only paths to reach the down down corner? [In other words, can the robot &quot;stop&quot; if there is still &quot;legal&quot; move it can make]?"},{"owner":{"account_id":1036703,"reputation":4765,"user_id":1043773,"accept_rate":84,"display_name":"bashrc"},"score":0,"creation_date":1354892543,"post_id":9105699,"comment_id":18922421,"body_markdown":"@TravisJ Are you sure we can do it in O(1)? The best I can think of in case of finding the number of ways of reaching the right most cell is O(n)","body":"@TravisJ Are you sure we can do it in O(1)? The best I can think of in case of finding the number of ways of reaching the right most cell is O(n)"},{"owner":{"account_id":1014615,"reputation":81400,"user_id":1026459,"accept_rate":92,"display_name":"Travis J"},"score":0,"creation_date":1354903938,"post_id":9105699,"comment_id":18928022,"body_markdown":"@bashrc - That comment was in relation to an earlier version of this question. O(1) was no longer possible after the update was made.","body":"@bashrc - That comment was in relation to an earlier version of this question. O(1) was no longer possible after the update was made."},{"owner":{"account_id":52240,"reputation":9134,"user_id":156060,"accept_rate":77,"display_name":"Adam Monsen"},"score":1,"creation_date":1359483249,"post_id":9105699,"comment_id":20364909,"body_markdown":"Sounds like question 9.2 on page 109 of &quot;Cracking the Coding Interview&quot; (Fifth Edition) by Gale Laakmann McDowell. Is that the original source?","body":"Sounds like question 9.2 on page 109 of &quot;Cracking the Coding Interview&quot; (Fifth Edition) by Gale Laakmann McDowell. Is that the original source?"},{"owner":{"account_id":6623404,"reputation":3712,"user_id":5114342,"display_name":"Aziuth"},"score":0,"creation_date":1480955874,"post_id":9105699,"comment_id":69167281,"body_markdown":"If it&#39;s an interview question, be aware that they might ask you an ongoing question, like: &quot;We have this somewhat similar problem, you described how you solved the old one, now, what would you change in your old solution to...&quot;. At least that&#39;s what I&#39;d do, especially if I gave you enough time to search for an answer on the web.","body":"If it&#39;s an interview question, be aware that they might ask you an ongoing question, like: &quot;We have this somewhat similar problem, you described how you solved the old one, now, what would you change in your old solution to...&quot;. At least that&#39;s what I&#39;d do, especially if I gave you enough time to search for an answer on the web."}],"answers":[{"tags":[],"owner":{"account_id":1213919,"reputation":2727,"user_id":1181919,"accept_rate":75,"display_name":"everconfusedGuy"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1328168927,"creation_date":1328150253,"answer_id":9106427,"question_id":9105699,"body_markdown":"    int N;\r\n    function num_paths(intx,int y)\r\n    {\r\n        int[][] arr = new int[N][N];\r\n\tarr[N-1][N-1] = 0;\r\n\tfor(int i =0;i&lt;N;i++)\r\n\t{\r\n\t\tarr[N-1][i]=1;\r\n\t\tarr[i][N-1]=1;\r\n\t}\r\n\tfor(int i = N-2;i&gt;=0;i--)\r\n\t{\r\n\t\tfor(int j=N-2;j&gt;=0;j--)\r\n\t\t{\r\n\t\t\tarr[i][j]= arr[i+1][j]+arr[i][j+1];\r\n\t\t}\r\n\t}\r\n\treturn arr[0][0];\r\n     }","title":"Algorithm for finding all paths in a NxN grid","body":"<pre><code>int N;\nfunction num_paths(intx,int y)\n{\n    int[][] arr = new int[N][N];\narr[N-1][N-1] = 0;\nfor(int i =0;i&lt;N;i++)\n{\n    arr[N-1][i]=1;\n    arr[i][N-1]=1;\n}\nfor(int i = N-2;i&gt;=0;i--)\n{\n    for(int j=N-2;j&gt;=0;j--)\n    {\n        arr[i][j]= arr[i+1][j]+arr[i][j+1];\n    }\n}\nreturn arr[0][0];\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"down_vote_count":1,"up_vote_count":20,"is_accepted":true,"score":19,"last_activity_date":1557520883,"creation_date":1328190490,"answer_id":9113434,"question_id":9105699,"body_markdown":"I see no indications for obstacles in your question so we can assume there are none.\n\nNote that for an n+1 by n+1 grid, a robot needs to take exactly `2n` steps in order to reach the lower right corner. Thus, it cannot make any more than `2n` moves.\n\n**Let&#39;s start with a simpler case:** [find all paths to the right down corner]\n\nThe robot can make exactly [`choose(n,2n)`][1]`= (2n)!/(n!*n!)` paths: It only needs to choose which of the `2n` moves will be right, with the rest being down (there are exactly `n` of these).\n&lt;br&gt; **To generate the possible paths:** just generate all **binary vectors** of size `2n` with exactly `n` 1&#39;s. The 1&#39;s indicate right moves, the 0&#39;s, down moves.\n\n**Now, let&#39;s expand it to all paths:**\n&lt;br&gt;First choose the length of the path. To do so, iterate over all possibilities: `0 &lt;= i &lt;= 2n`, where `i` is the length of the path. In this path there are `max(0,i-n) &lt;= j &lt;= min(i,n)` right steps.\n&lt;br&gt;To generate all possibilities, implement the following pseudo-code:\n\n    for each i in [0,2n]:\n      for each j in [max(0,i-n),min(i,n)]:\n        print all binary vectors of size i with exactly j bits set to 1\n\n**Note 1:** printing all binary vectors of size i with j bits set to 1 could be computationally expensive. That is expected since there are an exponential number of solutions.\n&lt;br&gt;**Note 2:** For the case `i=2n`, you get `j in [n,n]`, as expected (the simpler case described above). \n\n  [1]: http://en.wikipedia.org/wiki/Combination","title":"Algorithm for finding all paths in a NxN grid","body":"<p>I see no indications for obstacles in your question so we can assume there are none.</p>\n<p>Note that for an n+1 by n+1 grid, a robot needs to take exactly <code>2n</code> steps in order to reach the lower right corner. Thus, it cannot make any more than <code>2n</code> moves.</p>\n<p><strong>Let's start with a simpler case:</strong> [find all paths to the right down corner]</p>\n<p>The robot can make exactly <a href=\"http://en.wikipedia.org/wiki/Combination\" rel=\"noreferrer\"><code>choose(n,2n)</code></a><code>= (2n)!/(n!*n!)</code> paths: It only needs to choose which of the <code>2n</code> moves will be right, with the rest being down (there are exactly <code>n</code> of these).\n<br> <strong>To generate the possible paths:</strong> just generate all <strong>binary vectors</strong> of size <code>2n</code> with exactly <code>n</code> 1's. The 1's indicate right moves, the 0's, down moves.</p>\n<p><strong>Now, let's expand it to all paths:</strong>\n<br>First choose the length of the path. To do so, iterate over all possibilities: <code>0 &lt;= i &lt;= 2n</code>, where <code>i</code> is the length of the path. In this path there are <code>max(0,i-n) &lt;= j &lt;= min(i,n)</code> right steps.\n<br>To generate all possibilities, implement the following pseudo-code:</p>\n<pre><code>for each i in [0,2n]:\n  for each j in [max(0,i-n),min(i,n)]:\n    print all binary vectors of size i with exactly j bits set to 1\n</code></pre>\n<p><strong>Note 1:</strong> printing all binary vectors of size i with j bits set to 1 could be computationally expensive. That is expected since there are an exponential number of solutions.\n<br><strong>Note 2:</strong> For the case <code>i=2n</code>, you get <code>j in [n,n]</code>, as expected (the simpler case described above).</p>\n"},{"tags":[],"owner":{"account_id":484503,"reputation":8609,"user_id":900214,"display_name":"OleGG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1328204257,"creation_date":1328204257,"answer_id":9117090,"question_id":9105699,"body_markdown":"https://math.stackexchange.com/questions/104032/finding-points-in-a-grid-with-exactly-k-paths-to-them - look here at my solution. Seems that it is exactly what you need (yes, statements are slightly different, but in general case they are just the same).","title":"Algorithm for finding all paths in a NxN grid","body":"<p><a href=\"https://math.stackexchange.com/questions/104032/finding-points-in-a-grid-with-exactly-k-paths-to-them\">https://math.stackexchange.com/questions/104032/finding-points-in-a-grid-with-exactly-k-paths-to-them</a> - look here at my solution. Seems that it is exactly what you need (yes, statements are slightly different, but in general case they are just the same).</p>\n"},{"tags":[],"owner":{"account_id":2014539,"reputation":481,"user_id":1802150,"display_name":"Ethan"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1459366879,"creation_date":1352198021,"answer_id":13249139,"question_id":9105699,"body_markdown":"    public static int computePaths(int n){\r\n    \treturn recursive(n, 1, 1);\t\t\r\n    }\t\r\n    \r\n    public static int recursive(int n, int i, int j){\r\n    \tif( i == n || j == n){\r\n            //reach either border, only one path\r\n            return 1;\r\n    \t}\r\n    \treturn recursive(n, i + 1, j) + recursive(n, i, j + 1);\r\n    }\r\n\r\n**To find all possible paths:**&lt;br&gt;\r\nstill using a recursive method. A path variable is assigned &quot;&quot; in the beginning, then add each point visited to &#39;path&#39;. A possible path is formed when reaching the (n,n) point, then add it to the list.&lt;br&gt;&lt;br&gt;\r\nEach path is denoted as a string, such as &quot; (1,1) (2,1) (3,1) (4,1) (4,2) (4,3) (4,4)&quot;. All possible paths are stored in a string list. \r\n\r\n    public static List&lt;String&gt; robotPaths(int n){\r\n    \tList&lt;String&gt; pathList = new ArrayList&lt;String&gt;();\r\n    \tgetPaths(n, 1,1, &quot;&quot;, pathList);\r\n    \treturn pathList;\r\n    }\r\n    public static void getPaths(int n, int i, int j, String path, List&lt;String&gt; pathList){\r\n    \tpath += String.format(&quot; (%d,%d)&quot;, i , j);\r\n    \tif( i ==n &amp;&amp; j == n){ //reach the (n,n) point\r\n    \t\tpathList.add(path);\r\n    \t}else if( i &gt; n || j &gt; n){//wrong way\r\n    \t\treturn;\r\n    \t}else {\r\n    \t\tgetPaths(n, i +1, j , path, pathList);\r\n    \t\tgetPaths(n, i , j +1, path, pathList);\r\n    \t}\r\n    }","title":"Algorithm for finding all paths in a NxN grid","body":"<pre><code>public static int computePaths(int n){\n    return recursive(n, 1, 1);      \n}   \n\npublic static int recursive(int n, int i, int j){\n    if( i == n || j == n){\n        //reach either border, only one path\n        return 1;\n    }\n    return recursive(n, i + 1, j) + recursive(n, i, j + 1);\n}\n</code></pre>\n\n<p><strong>To find all possible paths:</strong><br>\nstill using a recursive method. A path variable is assigned \"\" in the beginning, then add each point visited to 'path'. A possible path is formed when reaching the (n,n) point, then add it to the list.<br><br>\nEach path is denoted as a string, such as \" (1,1) (2,1) (3,1) (4,1) (4,2) (4,3) (4,4)\". All possible paths are stored in a string list. </p>\n\n<pre><code>public static List&lt;String&gt; robotPaths(int n){\n    List&lt;String&gt; pathList = new ArrayList&lt;String&gt;();\n    getPaths(n, 1,1, \"\", pathList);\n    return pathList;\n}\npublic static void getPaths(int n, int i, int j, String path, List&lt;String&gt; pathList){\n    path += String.format(\" (%d,%d)\", i , j);\n    if( i ==n &amp;&amp; j == n){ //reach the (n,n) point\n        pathList.add(path);\n    }else if( i &gt; n || j &gt; n){//wrong way\n        return;\n    }else {\n        getPaths(n, i +1, j , path, pathList);\n        getPaths(n, i , j +1, path, pathList);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2613963,"reputation":79,"user_id":2263483,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1382164356,"creation_date":1382144132,"answer_id":19461115,"question_id":9105699,"body_markdown":"Scenario:&lt;br&gt;\r\n1. Imagine there is NxN zero indexed matrix.&lt;br&gt;\r\n2. Initial position of robot is upper-left corner i.e. (N-1, N-1) &lt;br&gt;\r\n3. Robot wants to reach lower right corner i.e. at (0,0)&lt;br&gt;\r\n&lt;br&gt;\r\nSolution:&lt;br&gt;\r\n-- In any possible solution robot will move N rights steps and N down steps to reach (0,0), or we can say that initial robot has permission to move N rights steps and N down steps.&lt;br&gt;\r\n-- When ever robot moves right we reduce its remaining number of right steps by 1, same is for down movement.&lt;br&gt;\r\n-- At every position(except at boundary, where it will have only one option) robot have two options, one is it can go down or other is it can go right.&lt;br&gt;\r\n-- It will terminate when robot will have no remaining down of right steps.&lt;br&gt;\r\n\r\n**Below code also have driver method main(), you can change the value of N. N can be &gt;=1&lt;br&gt;\r\n\r\n    public class RobotPaths {\r\n\r\n\tpublic static int robotPaths(int down, int right, String path)\r\n\t{\r\n\t\tpath = path+ down +&quot;,&quot;+ right +&quot;  &quot;;\r\n\t\tif(down==0 &amp;&amp; right==0)\r\n\t\t{\r\n\t\t\tSystem.out.println(path);\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\t\r\n\t\tint counter = 0;\r\n\t\t\r\n\t\tif(down==0)\r\n\t\t\tcounter = robotPaths(down, right-1, path);\r\n\t\telse if(right==0)\r\n\t\t\tcounter = robotPaths(down-1, right, path);\r\n\t\telse\r\n\t\t\tcounter = robotPaths(down, right-1, path) + robotPaths(down-1, right, path);\r\n\t\t\t\t\r\n\t\treturn counter;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tint N = 1;\r\n\t\tSystem.out.println(&quot;Total possible paths: &quot;+RobotPaths.robotPaths(N-1, N-1, &quot;&quot;));\r\n\t\r\n\t}\r\n\r\n}\r\n\r\n\r\n","title":"Algorithm for finding all paths in a NxN grid","body":"<p>Scenario:<br>\n1. Imagine there is NxN zero indexed matrix.<br>\n2. Initial position of robot is upper-left corner i.e. (N-1, N-1) <br>\n3. Robot wants to reach lower right corner i.e. at (0,0)<br>\n<br>\nSolution:<br>\n-- In any possible solution robot will move N rights steps and N down steps to reach (0,0), or we can say that initial robot has permission to move N rights steps and N down steps.<br>\n-- When ever robot moves right we reduce its remaining number of right steps by 1, same is for down movement.<br>\n-- At every position(except at boundary, where it will have only one option) robot have two options, one is it can go down or other is it can go right.<br>\n-- It will terminate when robot will have no remaining down of right steps.<br></p>\n\n<p>**Below code also have driver method main(), you can change the value of N. N can be >=1<br></p>\n\n<pre><code>public class RobotPaths {\n\npublic static int robotPaths(int down, int right, String path)\n{\n    path = path+ down +\",\"+ right +\"  \";\n    if(down==0 &amp;&amp; right==0)\n    {\n        System.out.println(path);\n        return 1;\n    }\n\n    int counter = 0;\n\n    if(down==0)\n        counter = robotPaths(down, right-1, path);\n    else if(right==0)\n        counter = robotPaths(down-1, right, path);\n    else\n        counter = robotPaths(down, right-1, path) + robotPaths(down-1, right, path);\n\n    return counter;\n}\n\npublic static void main(String[] args) \n{\n    int N = 1;\n    System.out.println(\"Total possible paths: \"+RobotPaths.robotPaths(N-1, N-1, \"\"));\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":976746,"reputation":3401,"user_id":997661,"accept_rate":40,"display_name":"NNP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406996791,"creation_date":1406989045,"answer_id":25095973,"question_id":9105699,"body_markdown":"Here is c# version (just for reference) to find unique paths (note here is the version which returns number of paths using dynamic programming (memorization - lazy) - https://stackoverflow.com/questions/10468779/calculating-number-of-moves-from-top-left-corner-to-bottom-right-with-move-in-an/25095898#25095898) (you may refer to my blog for more details: http://codingworkout.blogspot.com/2014/08/robot-in-grid-unique-paths.html)\r\n\r\n    Tuple&lt;int, int&gt;[][] GetUniquePaths(int N)\r\n            {\r\n                var r = this.GetUniquePaths(1, 1, N);\r\n                return r;\r\n            }\r\n            private Tuple&lt;int, int&gt;[][] GetUniquePaths(int row, int column, int N)\r\n            {\r\n                if ((row == N) &amp;&amp; (column == N))\r\n                {\r\n                    var r = new Tuple&lt;int, int&gt;[1][];\r\n                    r[0] = new Tuple&lt;int, int&gt;[] { new Tuple&lt;int,int&gt;(row, column) };\r\n                    return r;\r\n                }\r\n                if ((row &gt; N) || (column &gt; N))\r\n                {\r\n                    return new Tuple&lt;int, int&gt;[0][];\r\n                }\r\n                var uniquePathsByMovingDown = this.GetUniquePaths(row + 1, column, N);\r\n                var uniquePathsByMovingRight = this.GetUniquePaths(row, column + 1, N);\r\n                List&lt;Tuple&lt;int, int&gt;[]&gt; paths = this.MergePaths(uniquePathsByMovingDown,\r\n                    row, column).ToList();\r\n                paths.AddRange(this.MergePaths(uniquePathsByMovingRight, row, column));\r\n                return paths.ToArray();\r\n            }\r\n\r\n\r\n\r\n**where** \r\n\r\n    private Tuple&lt;int, int&gt;[][] MergePaths(Tuple&lt;int, int&gt;[][] paths, \r\n                int row, int column)\r\n            {\r\n                Tuple&lt;int, int&gt;[][] mergedPaths = new Tuple&lt;int, int&gt;[paths.Length][];\r\n                if (paths.Length &gt; 0)\r\n                {\r\n                    Assert.IsTrue(paths.All(p =&gt; p.Length &gt; 0));\r\n                    for (int i = 0; i &lt; paths.Length; i++)\r\n                    {\r\n                        List&lt;Tuple&lt;int, int&gt;&gt; mergedPath = new List&lt;Tuple&lt;int, int&gt;&gt;();\r\n                        mergedPath.Add(new Tuple&lt;int, int&gt;(row, column));\r\n                        mergedPath.AddRange(paths[i]);\r\n                        mergedPaths[i] = mergedPath.ToArray();\r\n                    }\r\n                }\r\n                return mergedPaths;\r\n            }\r\n\r\n**Unit Tests**\r\n\r\n\r\n    [TestCategory(Constants.DynamicProgramming)]\r\n            public void RobotInGridTests()\r\n            {\r\n                int p = this.GetNumberOfUniquePaths(3);\r\n                Assert.AreEqual(p, 6);\r\n                int p1 = this.GetUniquePaths_DP_Memoization_Lazy(3);\r\n                Assert.AreEqual(p, p1);\r\n                var p2 = this.GetUniquePaths(3);\r\n                Assert.AreEqual(p1, p2.Length);\r\n                foreach (var path in p2)\r\n                {\r\n                    Debug.WriteLine(&quot;===================================================================&quot;);\r\n                    foreach (Tuple&lt;int, int&gt; t in path)\r\n                    {\r\n                        Debug.Write(string.Format(&quot;({0}, {1}), &quot;, t.Item1, t.Item2));\r\n                    }\r\n                }\r\n                p = this.GetNumberOfUniquePaths(4);\r\n                Assert.AreEqual(p, 20);\r\n                p1 = this.GetUniquePaths_DP_Memoization_Lazy(4);\r\n                Assert.AreEqual(p, p1);\r\n                p2 = this.GetUniquePaths(4);\r\n                Assert.AreEqual(p1, p2.Length);\r\n                foreach (var path in p2)\r\n                {\r\n                    Debug.WriteLine(&quot;===================================================================&quot;);\r\n                    foreach (Tuple&lt;int, int&gt; t in path)\r\n                    {\r\n                        Debug.Write(string.Format(&quot;({0}, {1}), &quot;, t.Item1, t.Item2));\r\n                    }\r\n                }\r\n            }","title":"Algorithm for finding all paths in a NxN grid","body":"<p>Here is c# version (just for reference) to find unique paths (note here is the version which returns number of paths using dynamic programming (memorization - lazy) - <a href=\"https://stackoverflow.com/questions/10468779/calculating-number-of-moves-from-top-left-corner-to-bottom-right-with-move-in-an/25095898#25095898\">Calculating number of moves from top left corner to bottom right with move in any direction</a>) (you may refer to my blog for more details: <a href=\"http://codingworkout.blogspot.com/2014/08/robot-in-grid-unique-paths.html\" rel=\"nofollow noreferrer\">http://codingworkout.blogspot.com/2014/08/robot-in-grid-unique-paths.html</a>)</p>\n\n<pre><code>Tuple&lt;int, int&gt;[][] GetUniquePaths(int N)\n        {\n            var r = this.GetUniquePaths(1, 1, N);\n            return r;\n        }\n        private Tuple&lt;int, int&gt;[][] GetUniquePaths(int row, int column, int N)\n        {\n            if ((row == N) &amp;&amp; (column == N))\n            {\n                var r = new Tuple&lt;int, int&gt;[1][];\n                r[0] = new Tuple&lt;int, int&gt;[] { new Tuple&lt;int,int&gt;(row, column) };\n                return r;\n            }\n            if ((row &gt; N) || (column &gt; N))\n            {\n                return new Tuple&lt;int, int&gt;[0][];\n            }\n            var uniquePathsByMovingDown = this.GetUniquePaths(row + 1, column, N);\n            var uniquePathsByMovingRight = this.GetUniquePaths(row, column + 1, N);\n            List&lt;Tuple&lt;int, int&gt;[]&gt; paths = this.MergePaths(uniquePathsByMovingDown,\n                row, column).ToList();\n            paths.AddRange(this.MergePaths(uniquePathsByMovingRight, row, column));\n            return paths.ToArray();\n        }\n</code></pre>\n\n<p><strong>where</strong> </p>\n\n<pre><code>private Tuple&lt;int, int&gt;[][] MergePaths(Tuple&lt;int, int&gt;[][] paths, \n            int row, int column)\n        {\n            Tuple&lt;int, int&gt;[][] mergedPaths = new Tuple&lt;int, int&gt;[paths.Length][];\n            if (paths.Length &gt; 0)\n            {\n                Assert.IsTrue(paths.All(p =&gt; p.Length &gt; 0));\n                for (int i = 0; i &lt; paths.Length; i++)\n                {\n                    List&lt;Tuple&lt;int, int&gt;&gt; mergedPath = new List&lt;Tuple&lt;int, int&gt;&gt;();\n                    mergedPath.Add(new Tuple&lt;int, int&gt;(row, column));\n                    mergedPath.AddRange(paths[i]);\n                    mergedPaths[i] = mergedPath.ToArray();\n                }\n            }\n            return mergedPaths;\n        }\n</code></pre>\n\n<p><strong>Unit Tests</strong></p>\n\n<pre><code>[TestCategory(Constants.DynamicProgramming)]\n        public void RobotInGridTests()\n        {\n            int p = this.GetNumberOfUniquePaths(3);\n            Assert.AreEqual(p, 6);\n            int p1 = this.GetUniquePaths_DP_Memoization_Lazy(3);\n            Assert.AreEqual(p, p1);\n            var p2 = this.GetUniquePaths(3);\n            Assert.AreEqual(p1, p2.Length);\n            foreach (var path in p2)\n            {\n                Debug.WriteLine(\"===================================================================\");\n                foreach (Tuple&lt;int, int&gt; t in path)\n                {\n                    Debug.Write(string.Format(\"({0}, {1}), \", t.Item1, t.Item2));\n                }\n            }\n            p = this.GetNumberOfUniquePaths(4);\n            Assert.AreEqual(p, 20);\n            p1 = this.GetUniquePaths_DP_Memoization_Lazy(4);\n            Assert.AreEqual(p, p1);\n            p2 = this.GetUniquePaths(4);\n            Assert.AreEqual(p1, p2.Length);\n            foreach (var path in p2)\n            {\n                Debug.WriteLine(\"===================================================================\");\n                foreach (Tuple&lt;int, int&gt; t in path)\n                {\n                    Debug.Write(string.Format(\"({0}, {1}), \", t.Item1, t.Item2));\n                }\n            }\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7416864,"reputation":11,"user_id":5642347,"display_name":"SirVineyard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459464879,"creation_date":1459464879,"answer_id":36345193,"question_id":9105699,"body_markdown":"Here is a full implementation that works for both rectangular and square grids. I will leave you to figure out how to take care of the excess &quot;=&gt;&quot; at the end of each path.  \r\n\r\n\r\n       import java.util.Arraylist;\r\n\r\n       public class PrintPath\r\n       {\r\n        static ArrayList&lt;String&gt; paths = new ArrayList&lt;String&gt;(); \r\n\r\n\t\tpublic static long getUnique(int m, int n, int i, int j, String pathlist)\r\n\t\t{\r\n\t\t\t\r\n\t\t\tpathlist += (&quot;(&quot; + i + &quot;, &quot; + (j) + &quot;) =&gt; &quot;);\r\n\t\t\t\r\n\t\t\tif(m == i &amp;&amp; n == j)\r\n\t\t\t{\t\t\r\n\t\t\t\tpaths.add(pathlist); \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif( i &gt; m || j &gt; n)\r\n\t\t\t{\r\n\t\t\t\treturn 0;\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\treturn getUnique(m, n, i+1, j, pathlist)+getUnique(m, n, i, j+1, pathlist); \r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void printPaths()\r\n\t\t{\r\n\t\t\tint count = 1;\r\n\t\t\tSystem.out.println(&quot;There are &quot;+paths.size() + &quot; unique paths: \\n&quot;);\r\n\t \t\t\t\r\n\t\t\tfor (int i = paths.size()-1; i&gt;=0; i--)\r\n\t\t\t{\r\n\t\t\t\r\n\t\t\t System.out.println( &quot;path &quot; + count + &quot;:   &quot; + paths.get(i));\r\n\t\t\t count++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic static void main(String args[])\r\n\t\t{\r\n\t\t\tfinal int start_Point = 1;\r\n\t\t\tint grid_Height = 2; \r\n\t\t\tint grid_Width = 2; \r\n\t\t\r\n\t\t\tgetUnique(grid_Height, grid_Width, start_Point, start_Point, &quot;&quot;);\r\n\t\t\tprintPaths(); \r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\r\n","title":"Algorithm for finding all paths in a NxN grid","body":"<p>Here is a full implementation that works for both rectangular and square grids. I will leave you to figure out how to take care of the excess \"=>\" at the end of each path.  </p>\n\n<pre><code>   import java.util.Arraylist;\n\n   public class PrintPath\n   {\n    static ArrayList&lt;String&gt; paths = new ArrayList&lt;String&gt;(); \n\n    public static long getUnique(int m, int n, int i, int j, String pathlist)\n    {\n\n        pathlist += (\"(\" + i + \", \" + (j) + \") =&gt; \");\n\n        if(m == i &amp;&amp; n == j)\n        {       \n            paths.add(pathlist); \n        }\n\n        if( i &gt; m || j &gt; n)\n        {\n            return 0;               \n        }\n\n        return getUnique(m, n, i+1, j, pathlist)+getUnique(m, n, i, j+1, pathlist); \n\n    }\n\n    public static void printPaths()\n    {\n        int count = 1;\n        System.out.println(\"There are \"+paths.size() + \" unique paths: \\n\");\n\n        for (int i = paths.size()-1; i&gt;=0; i--)\n        {\n\n         System.out.println( \"path \" + count + \":   \" + paths.get(i));\n         count++;\n        }\n\n    }\n\n    public static void main(String args[])\n    {\n        final int start_Point = 1;\n        int grid_Height = 2; \n        int grid_Width = 2; \n\n        getUnique(grid_Height, grid_Width, start_Point, start_Point, \"\");\n        printPaths(); \n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7559182,"reputation":121,"user_id":5737451,"display_name":"Muhammad Naqvi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467422452,"creation_date":1461616163,"answer_id":36850460,"question_id":9105699,"body_markdown":"This is for if the robot can go 4 directions rather than just 2, but the recursive solution below (in Javascript) works and I&#39;ve tried to make it as legible as possible:\r\n\r\n    //first make a function to create the board as an array of arrays\r\n    var makeBoard = function(n) {\r\n      var board = [];\r\n      for (var i = 0; i &lt; n; i++) {\r\n        board.push([]);\r\n        for (var j = 0; j &lt; n; j++) {\r\n          board[i].push(false);\r\n        }\r\n      }\r\n      board.togglePiece = function(i, j) {\r\n        this[i][j] = !this[i][j];\r\n      }\r\n      board.hasBeenVisited = function(i, j) {\r\n        return !!this[i][j];\r\n      }\r\n      board.exists = function(i, j) {\r\n        return i &lt; n &amp;&amp; i &gt; -1 &amp;&amp; j &lt; n &amp;&amp; j &gt; -1;\r\n      }\r\n      board.viablePosition = function(i, j) {\r\n        return board.exists(i, j) &amp;&amp; !board.hasBeenVisited(i,j);\r\n      }\r\n      return board;\r\n    };\r\n    \r\n\r\n    var robotPaths = function(n) {\r\n      var numPaths = 0;\r\n      //call our recursive function (defined below) with a blank board of nxn, with the starting position as (0, 0)\r\n      traversePaths(makeBoard(n), 0, 0);\r\n\r\n      //define the recursive function we&#39;ll use\r\n      function traversePaths(board, i, j) {\r\n        //BASE CASE: if reached (n - 1, n - 1), count as solution and stop doing work\r\n        if (i === (n - 1) &amp;&amp; j === (n - 1)) {\r\n          numPaths++;\r\n          return;\r\n        }\r\n        //mark the current position as having been visited. Doing this after the check for BASE CASE because you don&#39;t want to turn the target position (i.e. when you&#39;ve found a solution) to true or else future paths will see it as an unviable position\r\n        board.togglePiece(i, j);\r\n\r\n        //RECURSIVE CASE: if next point is a viable position, go there and make the same decision\r\n\r\n        //go right if possible\r\n        if (board.viablePosition(i, j + 1)) {\r\n          traversePaths(board, i, j + 1);\r\n        }\r\n\r\n        //go left if possible\r\n        if (board.viablePosition(i, j - 1)) {\r\n          traversePaths(board, i, j - 1);\r\n        }\r\n\r\n        //go down if possible\r\n        if (board.viablePosition(i + 1, j)) {\r\n          traversePaths(board, i + 1, j);\r\n        }\r\n\r\n        //go up if possible\r\n        if (board.viablePosition(i - 1, j)) {\r\n          traversePaths(board, i - 1, j);\r\n        }\r\n\r\n        //reset the board back to the way you found it after you&#39;ve gone forward so that other paths can see it as a viable position for their routes\r\n        board.togglePiece(i, j);\r\n      }\r\n      return numPaths;\r\n    };\r\n\r\nA cleaner version:\r\n\r\n    var robotPaths = function(n, board, i, j) {\r\n        board = board || makeBoard(n),\r\n        i = i || 0,\r\n        j = j || 0;\r\n\r\n        // If current cell has been visited on this path or doesn&#39;t exist, can&#39;t go there, so do nothing (no need to return since there are no more recursive calls below this)\r\n        if (!board.viablePosition(i, j)) return 0;\r\n        // If reached the end, add to numPaths and stop recursing\r\n        if (i === (n - 1) &amp;&amp; j === (n - 1)) return 1;\r\n        // Mark current cell as having been visited for this path\r\n        board.togglePiece(i, j);\r\n        // Check each of the four possible directions\r\n        var numPaths = robotPaths(n, board, i + 1, j) + robotPaths(n, board, i - 1, j) + robotPaths(n, board, i, j + 1) + robotPaths(n, board, i, j - 1);\r\n        // Reset current cell so other paths can go there (since board is a pointer to an array that every path is accessing)\r\n        board.togglePiece(i, j);\r\n        return numPaths;\r\n    }\r\n\r\nSo:\r\n    \r\n    robotPaths(5); //returns 8512","title":"Algorithm for finding all paths in a NxN grid","body":"<p>This is for if the robot can go 4 directions rather than just 2, but the recursive solution below (in Javascript) works and I've tried to make it as legible as possible:</p>\n\n<pre><code>//first make a function to create the board as an array of arrays\nvar makeBoard = function(n) {\n  var board = [];\n  for (var i = 0; i &lt; n; i++) {\n    board.push([]);\n    for (var j = 0; j &lt; n; j++) {\n      board[i].push(false);\n    }\n  }\n  board.togglePiece = function(i, j) {\n    this[i][j] = !this[i][j];\n  }\n  board.hasBeenVisited = function(i, j) {\n    return !!this[i][j];\n  }\n  board.exists = function(i, j) {\n    return i &lt; n &amp;&amp; i &gt; -1 &amp;&amp; j &lt; n &amp;&amp; j &gt; -1;\n  }\n  board.viablePosition = function(i, j) {\n    return board.exists(i, j) &amp;&amp; !board.hasBeenVisited(i,j);\n  }\n  return board;\n};\n\n\nvar robotPaths = function(n) {\n  var numPaths = 0;\n  //call our recursive function (defined below) with a blank board of nxn, with the starting position as (0, 0)\n  traversePaths(makeBoard(n), 0, 0);\n\n  //define the recursive function we'll use\n  function traversePaths(board, i, j) {\n    //BASE CASE: if reached (n - 1, n - 1), count as solution and stop doing work\n    if (i === (n - 1) &amp;&amp; j === (n - 1)) {\n      numPaths++;\n      return;\n    }\n    //mark the current position as having been visited. Doing this after the check for BASE CASE because you don't want to turn the target position (i.e. when you've found a solution) to true or else future paths will see it as an unviable position\n    board.togglePiece(i, j);\n\n    //RECURSIVE CASE: if next point is a viable position, go there and make the same decision\n\n    //go right if possible\n    if (board.viablePosition(i, j + 1)) {\n      traversePaths(board, i, j + 1);\n    }\n\n    //go left if possible\n    if (board.viablePosition(i, j - 1)) {\n      traversePaths(board, i, j - 1);\n    }\n\n    //go down if possible\n    if (board.viablePosition(i + 1, j)) {\n      traversePaths(board, i + 1, j);\n    }\n\n    //go up if possible\n    if (board.viablePosition(i - 1, j)) {\n      traversePaths(board, i - 1, j);\n    }\n\n    //reset the board back to the way you found it after you've gone forward so that other paths can see it as a viable position for their routes\n    board.togglePiece(i, j);\n  }\n  return numPaths;\n};\n</code></pre>\n\n<p>A cleaner version:</p>\n\n<pre><code>var robotPaths = function(n, board, i, j) {\n    board = board || makeBoard(n),\n    i = i || 0,\n    j = j || 0;\n\n    // If current cell has been visited on this path or doesn't exist, can't go there, so do nothing (no need to return since there are no more recursive calls below this)\n    if (!board.viablePosition(i, j)) return 0;\n    // If reached the end, add to numPaths and stop recursing\n    if (i === (n - 1) &amp;&amp; j === (n - 1)) return 1;\n    // Mark current cell as having been visited for this path\n    board.togglePiece(i, j);\n    // Check each of the four possible directions\n    var numPaths = robotPaths(n, board, i + 1, j) + robotPaths(n, board, i - 1, j) + robotPaths(n, board, i, j + 1) + robotPaths(n, board, i, j - 1);\n    // Reset current cell so other paths can go there (since board is a pointer to an array that every path is accessing)\n    board.togglePiece(i, j);\n    return numPaths;\n}\n</code></pre>\n\n<p>So:</p>\n\n<pre><code>robotPaths(5); //returns 8512\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6518989,"reputation":5077,"user_id":5043802,"accept_rate":50,"display_name":"elnygren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1487951643,"creation_date":1487951643,"answer_id":42442939,"question_id":9105699,"body_markdown":"If you just need a count of the valid paths:\r\n\r\nLet&#39;s say you have a matrix n*m matrix and you set all cells to zero and the &quot;offlimit&quot; cells to -1.\r\n\r\nYou can then solve the problem with dynamic programming:\r\n\r\n\r\n    // a is a matrix with 0s and -1s\r\n    // n, m are the dimensions\r\n    // M is 10^9-7 incase you have a large matrix\r\n\r\n    if (a[0][0] == 0) a[0][0] = 1;\r\n    for (int i = 0; i &lt; n; i++) {\r\n        for (int j = 0; j &lt; m; j++) {\r\n            if (a[i][j] == -1) continue;\r\n            if (i &gt; 0) a[i][j] = (a[i][j] + max(a[i-1][j], 0LL)) % M;\r\n            if (j &gt; 0) a[i][j] = (a[i][j] + max(a[i][j-1], 0LL)) % M;\r\n        }\r\n    }\r\n\r\n    // answer at lower right corner\r\n    cout &lt;&lt; a[n-1][m-1];\r\n\r\nBlazing fast without recursion or bloaty data structures.\r\n\r\nNOTE: this was deleted due to being duplicate but since this is the best thread on this topic, I&#39;ve deleted my answer from elsewhere and will add this here.","title":"Algorithm for finding all paths in a NxN grid","body":"<p>If you just need a count of the valid paths:</p>\n\n<p>Let's say you have a matrix n*m matrix and you set all cells to zero and the \"offlimit\" cells to -1.</p>\n\n<p>You can then solve the problem with dynamic programming:</p>\n\n<pre><code>// a is a matrix with 0s and -1s\n// n, m are the dimensions\n// M is 10^9-7 incase you have a large matrix\n\nif (a[0][0] == 0) a[0][0] = 1;\nfor (int i = 0; i &lt; n; i++) {\n    for (int j = 0; j &lt; m; j++) {\n        if (a[i][j] == -1) continue;\n        if (i &gt; 0) a[i][j] = (a[i][j] + max(a[i-1][j], 0LL)) % M;\n        if (j &gt; 0) a[i][j] = (a[i][j] + max(a[i][j-1], 0LL)) % M;\n    }\n}\n\n// answer at lower right corner\ncout &lt;&lt; a[n-1][m-1];\n</code></pre>\n\n<p>Blazing fast without recursion or bloaty data structures.</p>\n\n<p>NOTE: this was deleted due to being duplicate but since this is the best thread on this topic, I've deleted my answer from elsewhere and will add this here.</p>\n"},{"tags":[],"owner":{"account_id":9218248,"reputation":367,"user_id":6848655,"display_name":"Shashi Kiran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1512548877,"creation_date":1512548877,"answer_id":47669848,"question_id":9105699,"body_markdown":"Below is the code in Java to count all the possible paths from top left corner to bottom right corner of a NXN matrix.\r\n\r\n\tpublic class paths_in_matrix {\r\n\r\n\t\t/**\r\n\t\t * @param args\r\n\t\t */\r\n\t\tstatic int n=5;\r\n\t\tprivate boolean[][] board=new boolean[n][n];\r\n\t\tint numPaths=0;\r\n\t\tpaths_in_matrix(){\r\n\t\t\tfor (int i = 0; i &lt; n; i++) {\r\n\t\t\t\tfor (int j = 0; j &lt; n; j++) {\r\n\t\t\t\t\tboard[i][j]=false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate void togglePiece(int i,int j){\r\n\t\t\tthis.board[i][j]=!this.board[i][j];\r\n\t\t}\r\n\t\tprivate boolean hasBeenVisited(int i,int j){\r\n\t\t\treturn this.board[i][j];\r\n\t\t}\r\n\t\tprivate boolean exists(int i,int j){\r\n\t\t\treturn i &lt; n &amp;&amp; i &gt; -1 &amp;&amp; j &lt; n &amp;&amp; j &gt; -1;\r\n\t\t}\r\n\t\tprivate boolean viablePosition(int i,int j){\r\n\t\t\treturn exists(i, j) &amp;&amp; !hasBeenVisited(i,j);\r\n\t\t}\r\n\t\tprivate void traversePaths(int i,int j){\r\n\t\t\t//BASE CASE: if reached (n - 1, n - 1), count as path and stop. \r\n\t\t\tif (i == (n - 1) &amp;&amp; j == (n - 1)) {\r\n\t\t\t  this.numPaths++;\r\n\t\t\t  return;\r\n\t\t\t}\r\n\t\t\tthis.togglePiece(i, j);\r\n\t\t\t//RECURSIVE CASE: if next point is a viable position, go there and make the same decision\r\n\r\n\t\t\t//go right if possible\r\n\t\t\tif (this.viablePosition(i, j + 1)) {\r\n\t\t\t  traversePaths(i, j + 1);\r\n\t\t\t}\r\n\t\t  //go left if possible\r\n\t\t\tif (this.viablePosition(i, j - 1)) {\r\n\t\t\t  traversePaths( i, j - 1);\r\n\t\t\t}\r\n\r\n\t\t\t//go down if possible\r\n\t\t\tif (this.viablePosition(i + 1, j)) {\r\n\t\t\t  traversePaths( i + 1, j);\r\n\t\t\t}\r\n\r\n\t\t\t//go up if possible\r\n\t\t\tif (this.viablePosition(i - 1, j)) {\r\n\t\t\t  traversePaths(i - 1, j);\r\n\t\t\t}\r\n\r\n\t\t\t//reset the board back to the way you found it after you&#39;ve gone forward so that other paths can see it as a viable position for their routes\r\n\t\t\tthis.togglePiece(i, j);\r\n\r\n\t\t}\r\n\t\tprivate int robotPaths(){\r\n\t\t\t\r\n\t\t\ttraversePaths(0,0);\r\n\t\t\treturn this.numPaths;\r\n\t\t}\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tpaths_in_matrix mat=new paths_in_matrix();\r\n\t\t\tSystem.out.println(mat.robotPaths());\r\n\t\t}\r\n\r\n\t}","title":"Algorithm for finding all paths in a NxN grid","body":"<p>Below is the code in Java to count all the possible paths from top left corner to bottom right corner of a NXN matrix.</p>\n\n<pre><code>public class paths_in_matrix {\n\n    /**\n     * @param args\n     */\n    static int n=5;\n    private boolean[][] board=new boolean[n][n];\n    int numPaths=0;\n    paths_in_matrix(){\n        for (int i = 0; i &lt; n; i++) {\n            for (int j = 0; j &lt; n; j++) {\n                board[i][j]=false;\n            }\n        }\n    }\n    private void togglePiece(int i,int j){\n        this.board[i][j]=!this.board[i][j];\n    }\n    private boolean hasBeenVisited(int i,int j){\n        return this.board[i][j];\n    }\n    private boolean exists(int i,int j){\n        return i &lt; n &amp;&amp; i &gt; -1 &amp;&amp; j &lt; n &amp;&amp; j &gt; -1;\n    }\n    private boolean viablePosition(int i,int j){\n        return exists(i, j) &amp;&amp; !hasBeenVisited(i,j);\n    }\n    private void traversePaths(int i,int j){\n        //BASE CASE: if reached (n - 1, n - 1), count as path and stop. \n        if (i == (n - 1) &amp;&amp; j == (n - 1)) {\n          this.numPaths++;\n          return;\n        }\n        this.togglePiece(i, j);\n        //RECURSIVE CASE: if next point is a viable position, go there and make the same decision\n\n        //go right if possible\n        if (this.viablePosition(i, j + 1)) {\n          traversePaths(i, j + 1);\n        }\n      //go left if possible\n        if (this.viablePosition(i, j - 1)) {\n          traversePaths( i, j - 1);\n        }\n\n        //go down if possible\n        if (this.viablePosition(i + 1, j)) {\n          traversePaths( i + 1, j);\n        }\n\n        //go up if possible\n        if (this.viablePosition(i - 1, j)) {\n          traversePaths(i - 1, j);\n        }\n\n        //reset the board back to the way you found it after you've gone forward so that other paths can see it as a viable position for their routes\n        this.togglePiece(i, j);\n\n    }\n    private int robotPaths(){\n\n        traversePaths(0,0);\n        return this.numPaths;\n    }\n    public static void main(String[] args) {\n        paths_in_matrix mat=new paths_in_matrix();\n        System.out.println(mat.robotPaths());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3128444,"reputation":123,"user_id":2646880,"accept_rate":86,"display_name":"eral"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1650637886,"creation_date":1650637886,"answer_id":71970443,"question_id":9105699,"body_markdown":"Here you go (python):\r\n\r\n    def numPathsFromULtoRD(m,n):\r\n        return factorial(m+n-2)//(factorial(m-1)*factorial(n-1))\r\n    \r\n    \r\n    def solution(m,n):\r\n    \r\n        result = 0\r\n        for i in range(m):\r\n            for j in range(n):\r\n                if i == 0 and j == 0:\r\n                    continue\r\n                result += numPathsFromULtoRD(i+1,j+1)\r\n    \r\n        return result","title":"Algorithm for finding all paths in a NxN grid","body":"<p>Here you go (python):</p>\n<pre><code>def numPathsFromULtoRD(m,n):\n    return factorial(m+n-2)//(factorial(m-1)*factorial(n-1))\n\n\ndef solution(m,n):\n\n    result = 0\n    for i in range(m):\n        for j in range(n):\n            if i == 0 and j == 0:\n                continue\n            result += numPathsFromULtoRD(i+1,j+1)\n\n    return result\n</code></pre>\n"}],"owner":{"account_id":1201626,"reputation":663,"user_id":1172175,"accept_rate":71,"display_name":"Periastron"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69567,"favorite_count":0,"down_vote_count":4,"up_vote_count":25,"accepted_answer_id":9113434,"answer_count":11,"score":21,"last_activity_date":1650637886,"creation_date":1328144332,"question_id":9105699,"body_markdown":"Imagine a robot sitting on the upper left hand corner of an NxN grid. The robot can only move in two directions: right and down. How many possible paths are there for the robot?\r\n\r\nI could find solution to this problem on Google, but I am not very clear with the explanations. I am trying to clearly understand the logic on how to solve this and implement in Java. Any help is appreciated.\r\n\r\nUpdate: This is an interview question. For now, I am trying to reach the bottom-right end and print the possible paths.","title":"Algorithm for finding all paths in a NxN grid","body":"<p>Imagine a robot sitting on the upper left hand corner of an NxN grid. The robot can only move in two directions: right and down. How many possible paths are there for the robot?</p>\n\n<p>I could find solution to this problem on Google, but I am not very clear with the explanations. I am trying to clearly understand the logic on how to solve this and implement in Java. Any help is appreciated.</p>\n\n<p>Update: This is an interview question. For now, I am trying to reach the bottom-right end and print the possible paths.</p>\n"},{"tags":["java","spring","spring-mvc","integration-testing","spring-boot-test"],"comments":[{"owner":{"account_id":139109,"reputation":7472,"user_id":344480,"accept_rate":92,"display_name":"Matthias"},"score":1,"creation_date":1649424256,"post_id":71797633,"comment_id":126878685,"body_markdown":"In your test you are expecting a HTTP 200 status code although you are returning a `redirect:` in your controller which leads to a redirect, here HTTP 302. Just try returning `null` to see the difference.","body":"In your test you are expecting a HTTP 200 status code although you are returning a <code>redirect:</code> in your controller which leads to a redirect, here HTTP 302. Just try returning <code>null</code> to see the difference."},{"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"score":0,"creation_date":1649424796,"post_id":71797633,"comment_id":126878909,"body_markdown":"Yes, it works that way, but I had other tests that returned views (not redirects, but direclty a view like `return &quot;home&quot;` and in those tests the status was indeed 200 and that&#39;s why I didn&#39;t get it when I came to this situation.","body":"Yes, it works that way, but I had other tests that returned views (not redirects, but direclty a view like <code>return &quot;home&quot;</code> and in those tests the status was indeed 200 and that&#39;s why I didn&#39;t get it when I came to this situation."},{"owner":{"account_id":139109,"reputation":7472,"user_id":344480,"accept_rate":92,"display_name":"Matthias"},"score":1,"creation_date":1649513330,"post_id":71797633,"comment_id":126897255,"body_markdown":"That&#39;s the expected behavior. A &quot;home&quot; return value serves your rendered template (HTTP 200), a HTTP 302 redirect is a response to the client (browser) telling that the resource has (temporarily) moved. This response almost only contains the new URL. A browser normally follows this new URL automatically, your test does not. For a better understanding, investigate the response headers using `curl -I` or the network tab of your browser.","body":"That&#39;s the expected behavior. A &quot;home&quot; return value serves your rendered template (HTTP 200), a HTTP 302 redirect is a response to the client (browser) telling that the resource has (temporarily) moved. This response almost only contains the new URL. A browser normally follows this new URL automatically, your test does not. For a better understanding, investigate the response headers using <code>curl -I</code> or the network tab of your browser."},{"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"score":0,"creation_date":1649613398,"post_id":71797633,"comment_id":126914619,"body_markdown":"I got it, it&#39;s really clearer now, thanks so much!!","body":"I got it, it&#39;s really clearer now, thanks so much!!"},{"owner":{"account_id":139109,"reputation":7472,"user_id":344480,"accept_rate":92,"display_name":"Matthias"},"score":0,"creation_date":1650637957,"post_id":71797633,"comment_id":127173553,"body_markdown":"Thanks for your feedback. I have just summarized my comments in an answer.","body":"Thanks for your feedback. I have just summarized my comments in an answer."}],"answers":[{"tags":[],"owner":{"account_id":139109,"reputation":7472,"user_id":344480,"accept_rate":92,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650637883,"creation_date":1650637883,"answer_id":71970440,"question_id":71797633,"body_markdown":"The integration test works correctly. For example, a &quot;home&quot; return value serves your rendered template with a HTTP 200 _Ok_ status. Here, a redirect leads to a HTTP 302 _Found_ status. This response tells the client (browser) that the resource has (temporarily) moved. \r\n\r\nChanging the test to `.andExpect(status().isFound())` would make it succeed.","title":"Spring Mvc integration test fails","body":"<p>The integration test works correctly. For example, a &quot;home&quot; return value serves your rendered template with a HTTP 200 <em>Ok</em> status. Here, a redirect leads to a HTTP 302 <em>Found</em> status. This response tells the client (browser) that the resource has (temporarily) moved.</p>\n<p>Changing the test to <code>.andExpect(status().isFound())</code> would make it succeed.</p>\n"}],"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71970440,"answer_count":1,"score":0,"last_activity_date":1650637883,"creation_date":1649423448,"question_id":71797633,"body_markdown":"I want to write an integration test for a delete method in my controller, but no matter how many times I tried rewriting it, I am still getting different errors.\r\nThis is the method in my controller:\r\n```\r\n@Controller\r\npublic class AgencyController {\r\n\r\n    @Autowired\r\n    private AgencyService agencyService;\r\n\r\n    @Autowired\r\n    private AgencyMapper agencyMapper;\r\n@GetMapping(&quot;/deleteAgencyPage/{id}&quot;)\r\n    public String deleteAgencyPage(@PathVariable(value = &quot;id&quot;) Long id) {\r\n        agencyService.deleteById(id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\nAnd this is the test, plain and simple, only a call to the method and checking a status:\r\n```\r\n@SpringBootTest\r\n@TestPropertySource(locations = &quot;classpath:application-h2.properties&quot;)\r\n@AutoConfigureMockMvc\r\n@WithMockUser(username = &quot;user1@gmail.com&quot;)\r\n@ActiveProfiles(&quot;H2&quot;)\r\npublic class AgencyControllerTest {\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    AgencyService agencyService;\r\n\r\n    @MockBean\r\n    AgencyMapper agencyMapper;\r\n\r\n    @MockBean\r\n    Model model;\r\n\r\n @Test\r\n    public void deleteAgency() throws Exception {\r\n        mockMvc.perform(get(&quot;/deleteAgencyPage/{id}&quot;,1L))\r\n                .andExpect(status().isOk());\r\n    }\r\n}\r\n```\r\nThis is what I get:\r\n```\r\nMockHttpServletRequest:\r\n      HTTP Method = GET\r\n      Request URI = /deleteAgencyPage/1\r\n       Parameters = {}\r\n          Headers = []\r\n             Body = &lt;no character encoding set&gt;\r\n    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}\r\n\r\nHandler:\r\n             Type = com.example.awbdproject.controllers.AgencyController\r\n           Method = com.example.awbdproject.controllers.AgencyController#deleteAgencyPage(Long)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = redirect:/\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 302\r\n    Error message = null\r\n          Headers = [Content-Language:&quot;en&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;, Location:&quot;/&quot;]\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = /\r\n          Cookies = []\r\n\r\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;302&gt;\r\nExpected :200\r\nActual   :302\r\n```\r\nWhat am I not doing correct? It seems a simple test to me, but I am obviously missing something.","title":"Spring Mvc integration test fails","body":"<p>I want to write an integration test for a delete method in my controller, but no matter how many times I tried rewriting it, I am still getting different errors.\nThis is the method in my controller:</p>\n<pre><code>@Controller\npublic class AgencyController {\n\n    @Autowired\n    private AgencyService agencyService;\n\n    @Autowired\n    private AgencyMapper agencyMapper;\n@GetMapping(&quot;/deleteAgencyPage/{id}&quot;)\n    public String deleteAgencyPage(@PathVariable(value = &quot;id&quot;) Long id) {\n        agencyService.deleteById(id);\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>And this is the test, plain and simple, only a call to the method and checking a status:</p>\n<pre><code>@SpringBootTest\n@TestPropertySource(locations = &quot;classpath:application-h2.properties&quot;)\n@AutoConfigureMockMvc\n@WithMockUser(username = &quot;user1@gmail.com&quot;)\n@ActiveProfiles(&quot;H2&quot;)\npublic class AgencyControllerTest {\n    @Autowired\n    MockMvc mockMvc;\n\n    @MockBean\n    AgencyService agencyService;\n\n    @MockBean\n    AgencyMapper agencyMapper;\n\n    @MockBean\n    Model model;\n\n @Test\n    public void deleteAgency() throws Exception {\n        mockMvc.perform(get(&quot;/deleteAgencyPage/{id}&quot;,1L))\n                .andExpect(status().isOk());\n    }\n}\n</code></pre>\n<p>This is what I get:</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = GET\n      Request URI = /deleteAgencyPage/1\n       Parameters = {}\n          Headers = []\n             Body = &lt;no character encoding set&gt;\n    Session Attrs = {SPRING_SECURITY_CONTEXT=SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=org.springframework.security.core.userdetails.User [Username=user1@gmail.com, Password=[PROTECTED], Enabled=true, AccountNonExpired=true, credentialsNonExpired=true, AccountNonLocked=true, Granted Authorities=[ROLE_USER]], Credentials=[PROTECTED], Authenticated=true, Details=null, Granted Authorities=[ROLE_USER]]]}\n\nHandler:\n             Type = com.example.awbdproject.controllers.AgencyController\n           Method = com.example.awbdproject.controllers.AgencyController#deleteAgencyPage(Long)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = redirect:/\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 302\n    Error message = null\n          Headers = [Content-Language:&quot;en&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-XSS-Protection:&quot;1; mode=block&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Frame-Options:&quot;DENY&quot;, Location:&quot;/&quot;]\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = /\n          Cookies = []\n\njava.lang.AssertionError: Status expected:&lt;200&gt; but was:&lt;302&gt;\nExpected :200\nActual   :302\n</code></pre>\n<p>What am I not doing correct? It seems a simple test to me, but I am obviously missing something.</p>\n"},{"tags":["java","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":1,"creation_date":1650638174,"post_id":71970383,"comment_id":127173634,"body_markdown":"As the error Message indicates, with `GenerationType.IDENTITY` JPA expects the database to take care of assigning an unique id. How this is achieved depends on your database... (i.e. column definition with auto increment)","body":"As the error Message indicates, with <code>GenerationType.IDENTITY</code> JPA expects the database to take care of assigning an unique id. How this is achieved depends on your database... (i.e. column definition with auto increment)"},{"owner":{"account_id":10363660,"reputation":1677,"user_id":8867721,"accept_rate":80,"display_name":"OD1995"},"score":0,"creation_date":1650638647,"post_id":71970383,"comment_id":127173842,"body_markdown":"@Turo so even though `PlayerGoalsPrediction.player.playerID` does already have an assigned value, when saving the `PlayerGoalsPrediciton` object to the db, it&#39;s not used? I am using MySQL, is a different `GenerationType` needed for `Player.playerID`?","body":"@Turo so even though <code>PlayerGoalsPrediction.player.playerID</code> does already have an assigned value, when saving the <code>PlayerGoalsPrediciton</code> object to the db, it&#39;s not used? I am using MySQL, is a different <code>GenerationType</code> needed for <code>Player.playerID</code>?"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":1,"creation_date":1650639567,"post_id":71970383,"comment_id":127174188,"body_markdown":"You&#39;d log the sql to see the failing statement, from your error message it&#39;s not absolutely clear what PlayerID field is meant, as I saw the fields exists twice...","body":"You&#39;d log the sql to see the failing statement, from your error message it&#39;s not absolutely clear what PlayerID field is meant, as I saw the fields exists twice..."},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":1,"creation_date":1650639991,"post_id":71970383,"comment_id":127174350,"body_markdown":"Um, the assignment of the player is missing, at least in your shown code, from the text it should be in the cinstructor, but ....","body":"Um, the assignment of the player is missing, at least in your shown code, from the text it should be in the cinstructor, but ...."},{"owner":{"account_id":10363660,"reputation":1677,"user_id":8867721,"accept_rate":80,"display_name":"OD1995"},"score":0,"creation_date":1650640229,"post_id":71970383,"comment_id":127174457,"body_markdown":"@Turo is the line `playerRepository.findByPlayerID(playerGoalsPredictionRequest.getPlayerID())` not assigning the player when constructing the `PlayerGoalsPrediction` object?","body":"@Turo is the line <code>playerRepository.findByPlayerID(playerGoalsPredictionRequest&zwnj;&#8203;.getPlayerID())</code> not assigning the player when constructing the <code>PlayerGoalsPrediction</code> object?"},{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":1,"creation_date":1650640347,"post_id":71970383,"comment_id":127174504,"body_markdown":"You should check the result of the search, I think, requests can be bad!.\nAnd show the constructor to be sure... :-)","body":"You should check the result of the search, I think, requests can be bad!. And show the constructor to be sure... :-)"},{"owner":{"account_id":10363660,"reputation":1677,"user_id":8867721,"accept_rate":80,"display_name":"OD1995"},"score":0,"creation_date":1650641195,"post_id":71970383,"comment_id":127174851,"body_markdown":"@Turo turns out the problem was coming from a rogue `@MapsId(&quot;PlayerID&quot;)` just above `private Player player` which I had forgotten to include in the original code. Thank you very much for your help!","body":"@Turo turns out the problem was coming from a rogue <code>@MapsId(&quot;PlayerID&quot;)</code> just above <code>private Player player</code> which I had forgotten to include in the original code. Thank you very much for your help!"}],"owner":{"account_id":10363660,"reputation":1677,"user_id":8867721,"accept_rate":80,"display_name":"OD1995"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1650637624,"creation_date":1650637624,"question_id":71970383,"body_markdown":"I have two classes, `Player` and `PlayerGoalsPrediction`.\r\n\r\nRequests are sent in, from the frontend, containing a `playerID` and `goals` value. The `playerID` is used to find the `Player` using the `playerRepository` and then the `Player` object is used in the constructor of a `PlayerGoalsPrediction`, along with the `goals`.\r\n\r\nHowever, when save the object to the db, an error (`java.sql.SQLException: Field &#39;PlayerID&#39; doesn&#39;t have a default value`) is returned.\r\n\r\nI assume it must be coming from the `PlayerGoalsPrediction.player` attribute, but that object does have a `playerID` value assigned to it, so I am unsure where the issue is coming from?\r\n\r\n\r\n*Player.java*\r\n```\r\n@Entity\r\n@Table(name = &quot;Players&quot;)\r\npublic class Player {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;PlayerID&quot;)\r\n\tprivate long playerID;\r\n\t\r\n\t@Column(name = &quot;Name&quot;)\r\n\tprivate String name;\r\n\r\n    @OneToMany(\r\n        targetEntity=PlayerGoalsPrediction.class,\r\n        fetch=FetchType.LAZY,\r\n        mappedBy=&quot;player&quot;\r\n    )\r\n    private List&lt;PlayerGoalsPrediction&gt; predictions;\r\n\r\n    // constructors, getters and setters\r\n}\r\n```\r\n\r\n*PlayerGoalsPrediction.java*\r\n```\r\n@Entity\r\n@Table(name = &quot;PlayerGoalsPredictions&quot;)\r\npublic class PlayerGoalsPrediction {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name = &quot;PlayerGoalsPredictionID&quot;)\r\n\tprivate long playerGoalsPredictionID;\r\n\r\n    @ManyToOne(\r\n        targetEntity=Player.class,\r\n        fetch=FetchType.EAGER\r\n    )\r\n    @Column(name = &quot;PlayerID&quot;)\r\n    private Player player;\r\n\r\n    @Column(name = &quot;Goals&quot;)\r\n    private long goals;\r\n\r\n    // constructors, getters and setters\r\n}\r\n```\r\n\r\n*PlayerRepository.java*\r\n```\r\n@Repository\r\npublic interface PlayerRepository extends JpaRepository&lt;Player, String&gt;{\r\n\t\r\n\tpublic Player findByPlayerID(long playerID);\r\n}\r\n```\r\n\r\n*PlayerGoalsPredictionController.java*\r\n\r\n```\r\n@CrossOrigin(origins = &quot;*&quot;)\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/playergoalsprediction&quot;)\r\npublic class PlayerGoalsPredictionController {\r\n\r\n\t@Autowired\r\n\tprivate PlayerRepository playerRepository;\r\n\r\n\t@Autowired\r\n\tprivate PlayerGoalsPredictionRepository playerGoalsPredictionRepository;\r\n\r\n    @PostMapping(&quot;/postprediction&quot;)\r\n\tpublic void postPredictions(\r\n\t\t\t@Valid @RequestBody PlayerGoalsPredictionRequest playerGoalsPredictionRequest \r\n\t) {\r\n        PlayerGoalsPrediction playerGoalsPrediction = new PlayerGoalsPrediction(\r\n            playerRepository.findByPlayerID(playerGoalsPredictionRequest.getPlayerID()),\r\n            playerGoalsPredictionRequest.getGoals()\r\n        );\r\n        playerGoalsPredictionRepository.save(playerGoalsPrediction);\r\n    }\r\n}\r\n```\r\n","title":"Field &#39;PlayerID&#39; doesn&#39;t have a default value","body":"<p>I have two classes, <code>Player</code> and <code>PlayerGoalsPrediction</code>.</p>\n<p>Requests are sent in, from the frontend, containing a <code>playerID</code> and <code>goals</code> value. The <code>playerID</code> is used to find the <code>Player</code> using the <code>playerRepository</code> and then the <code>Player</code> object is used in the constructor of a <code>PlayerGoalsPrediction</code>, along with the <code>goals</code>.</p>\n<p>However, when save the object to the db, an error (<code>java.sql.SQLException: Field 'PlayerID' doesn't have a default value</code>) is returned.</p>\n<p>I assume it must be coming from the <code>PlayerGoalsPrediction.player</code> attribute, but that object does have a <code>playerID</code> value assigned to it, so I am unsure where the issue is coming from?</p>\n<p><em>Player.java</em></p>\n<pre><code>@Entity\n@Table(name = &quot;Players&quot;)\npublic class Player {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;PlayerID&quot;)\n    private long playerID;\n    \n    @Column(name = &quot;Name&quot;)\n    private String name;\n\n    @OneToMany(\n        targetEntity=PlayerGoalsPrediction.class,\n        fetch=FetchType.LAZY,\n        mappedBy=&quot;player&quot;\n    )\n    private List&lt;PlayerGoalsPrediction&gt; predictions;\n\n    // constructors, getters and setters\n}\n</code></pre>\n<p><em>PlayerGoalsPrediction.java</em></p>\n<pre><code>@Entity\n@Table(name = &quot;PlayerGoalsPredictions&quot;)\npublic class PlayerGoalsPrediction {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;PlayerGoalsPredictionID&quot;)\n    private long playerGoalsPredictionID;\n\n    @ManyToOne(\n        targetEntity=Player.class,\n        fetch=FetchType.EAGER\n    )\n    @Column(name = &quot;PlayerID&quot;)\n    private Player player;\n\n    @Column(name = &quot;Goals&quot;)\n    private long goals;\n\n    // constructors, getters and setters\n}\n</code></pre>\n<p><em>PlayerRepository.java</em></p>\n<pre><code>@Repository\npublic interface PlayerRepository extends JpaRepository&lt;Player, String&gt;{\n    \n    public Player findByPlayerID(long playerID);\n}\n</code></pre>\n<p><em>PlayerGoalsPredictionController.java</em></p>\n<pre><code>@CrossOrigin(origins = &quot;*&quot;)\n@RestController\n@RequestMapping(&quot;/api/v1/playergoalsprediction&quot;)\npublic class PlayerGoalsPredictionController {\n\n    @Autowired\n    private PlayerRepository playerRepository;\n\n    @Autowired\n    private PlayerGoalsPredictionRepository playerGoalsPredictionRepository;\n\n    @PostMapping(&quot;/postprediction&quot;)\n    public void postPredictions(\n            @Valid @RequestBody PlayerGoalsPredictionRequest playerGoalsPredictionRequest \n    ) {\n        PlayerGoalsPrediction playerGoalsPrediction = new PlayerGoalsPrediction(\n            playerRepository.findByPlayerID(playerGoalsPredictionRequest.getPlayerID()),\n            playerGoalsPredictionRequest.getGoals()\n        );\n        playerGoalsPredictionRepository.save(playerGoalsPrediction);\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse","junit"],"answers":[{"tags":[],"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1650636965,"creation_date":1549531407,"answer_id":54570006,"question_id":54569946,"body_markdown":"You are setting [show failures only][1] (the red and blue Xs), click on it to show all JUnit runs\r\n\r\n[![][2]][2]\r\n\r\n&gt;Show Failures Only Shows only failed tests. \r\n\r\n[1]:https://help.eclipse.org/latest/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/views/ref-view-junit.htm\n [2]: https://i.stack.imgur.com/SVBED.png","title":"JUnit GUI doesn&#39;t show executed test methods","body":"<p>You are setting <a href=\"https://help.eclipse.org/latest/index.jsp?topic=/org.eclipse.jdt.doc.user/reference/views/ref-view-junit.htm\" rel=\"nofollow noreferrer\">show failures only</a> (the red and blue Xs), click on it to show all JUnit runs</p>\n<p><a href=\"https://i.stack.imgur.com/SVBED.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SVBED.png\" alt=\"\" /></a></p>\n<blockquote>\n<p>Show Failures Only Shows only failed tests.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8572447,"reputation":119,"user_id":6422831,"display_name":"Isi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549531583,"creation_date":1549531583,"answer_id":54570057,"question_id":54569946,"body_markdown":"Toggle the &quot;Show Failures Only&quot; button:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6LD1F.png\r\n  [2]: https://i.stack.imgur.com/KykTi.png","title":"JUnit GUI doesn&#39;t show executed test methods","body":"<p>Toggle the \"Show Failures Only\" button:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6LD1F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6LD1F.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/KykTi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KykTi.png\" alt=\"enter image description here\"></a></p>\n"}],"owner":{"account_id":8572447,"reputation":119,"user_id":6422831,"display_name":"Isi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1650636965,"creation_date":1549531179,"question_id":54569946,"body_markdown":"I run a test class, the outprint in console is correct, but the list of the @Test methods doesn&#39;t appear in the JUnit tab:\r\n\r\n[![Test class executed][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vS4pI.png\r\nHow to fix it?\r\nDoes the asterisk of the icon of the tab of the JUnit indicate  any kind of problem (the same problem)? ","title":"JUnit GUI doesn&#39;t show executed test methods","body":"<p>I run a test class, the outprint in console is correct, but the list of the @Test methods doesn't appear in the JUnit tab:</p>\n\n<p><a href=\"https://i.stack.imgur.com/vS4pI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vS4pI.png\" alt=\"Test class executed\"></a></p>\n\n<p>How to fix it?\nDoes the asterisk of the icon of the tab of the JUnit indicate  any kind of problem (the same problem)? </p>\n"},{"tags":["java","maven","tomcat","wsdl","jax-ws"],"owner":{"account_id":6296579,"reputation":304,"user_id":4892577,"display_name":"Fledgling Pidgeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1650636872,"creation_date":1522644659,"question_id":49605462,"body_markdown":"I have a JAX-WS server that I package with Maven and deploy on Tomcat. The pom.xml generates the WSDL file automatically with the trick from https://stackoverflow.com/questions/2158175/use-maven-to-trigger-a-wsgen-wsimport-in-a-row-using-wsdllocation. I only use the first part, that is:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;generate-wsdl&lt;/id&gt;\r\n                &lt;phase&gt;process-classes&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsgen&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sei&gt;packageName.endpointName&lt;/sei&gt;\r\n                    &lt;genWsdl&gt;true&lt;/genWsdl&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis is the generated WSDL:\r\n\r\n    &lt;wsp:Policy wsu:Id=&quot;NAMEServerPortBinding_MTOM_Policy&quot;&gt;\r\n        &lt;ns1:OptimizedMimeSerialization wsp:Optional=&quot;true&quot; xmlns:ns1=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy/optimizedmimeserialization&quot;/&gt;\r\n    &lt;/wsp:Policy&gt;\r\n    &lt;types&gt;\r\n        &lt;xsd:schema&gt;\r\n            &lt;xsd:import namespace=&quot;http://PACKAGE/&quot; schemaLocation=&quot;SERVER_schema1.xsd&quot;/&gt;\r\n        &lt;/xsd:schema&gt;\r\n    &lt;/types&gt;\r\n    &lt;etc...&gt;\r\n    &lt;service name=&quot;NAME&quot;&gt;\r\n        &lt;port name=&quot;NAMEPort&quot; binding=&quot;tns:NAMEPortBinding&quot;&gt;\r\n            &lt;soap:address location=&quot;REPLACE_WITH_ACTUAL_URL&quot;/&gt;\r\n        &lt;/port&gt;\r\n    &lt;/service&gt;\r\n    &lt;/definitions&gt;\r\n\r\nMy web.xml:\r\n\r\n    &lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t    xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n\t    version=&quot;3.1&quot;&gt;\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;\r\n                com.sun.xml.ws.transport.http.servlet.WSServletContextListener\r\n            &lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;serverName&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;\r\n                com.sun.xml.ws.transport.http.servlet.WSServlet\r\n            &lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;serverName&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/serverName/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n\t    &lt;session-config&gt;\r\n\t    \t&lt;session-timeout&gt;120&lt;/session-timeout&gt;\r\n\t    &lt;/session-config&gt;\r\n    &lt;/web-app&gt;\r\n\r\nAnd my sun-jaxws.xml:\r\n\r\n    &lt;endpoints version=&quot;2.0&quot;\r\n        xmlns=&quot;http://java.sun.com/xml/ns/jax-ws/ri/runtime&quot;&gt;\r\n        &lt;endpoint implementation=&quot;package.ServerEndpoint&quot; name=&quot;serverName&quot;\r\n            url-pattern=&quot;/serverLink&quot;/&gt;\r\n    &lt;/endpoints&gt;\r\n\r\nI have made sure that Tomcat did deploy and start the webserver, I have checked that the WSDL is indeed inside the server in Tomcat, and yet I cannot figure out how to access it so I can go on to finishing the client and testing the whole thing. I&#39;ve looked at over a dozen tutorials and most of them seem to get to this point and then say &quot;and here some magic happens, you open a browser and this shows up:&quot;\r\n\r\nhttps://www.java2blog.com/wp-content/uploads/2013/03/WebserviceOutput.gif\r\n\r\nThe image used is always the same, and indeed I have seen this when working on Glassfish, but I cannot for the life of me figure out what I must do to make it happen on Tomcat. Both the link http://localhost:8080/server-1.0/serverName/serverLink and http://localhost:8080/server-1.0/serverName return a &quot;404 Not Found: Invalid Request&quot;. Appending ?wsdl to either one does not change the result. The answer to https://stackoverflow.com/questions/2396468/accessing-wsdl-on-tomcat suggests installing Metro, which I did, unfortunately to no avail.\r\n\r\nAll code shown is summarized and has variable names changed. If more information is required, I will be happy to provide it.","title":"Generating and accessing WSDL on Tomcat with Maven","body":"<p>I have a JAX-WS server that I package with Maven and deploy on Tomcat. The pom.xml generates the WSDL file automatically with the trick from <a href=\"https://stackoverflow.com/questions/2158175/use-maven-to-trigger-a-wsgen-wsimport-in-a-row-using-wsdllocation\">Use Maven to trigger a wsgen &amp; wsimport in a row, using wsdlLocation</a>. I only use the first part, that is:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxws-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-wsdl&lt;/id&gt;\n            &lt;phase&gt;process-classes&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsgen&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;sei&gt;packageName.endpointName&lt;/sei&gt;\n                &lt;genWsdl&gt;true&lt;/genWsdl&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This is the generated WSDL:</p>\n\n<pre><code>&lt;wsp:Policy wsu:Id=\"NAMEServerPortBinding_MTOM_Policy\"&gt;\n    &lt;ns1:OptimizedMimeSerialization wsp:Optional=\"true\" xmlns:ns1=\"http://schemas.xmlsoap.org/ws/2004/09/policy/optimizedmimeserialization\"/&gt;\n&lt;/wsp:Policy&gt;\n&lt;types&gt;\n    &lt;xsd:schema&gt;\n        &lt;xsd:import namespace=\"http://PACKAGE/\" schemaLocation=\"SERVER_schema1.xsd\"/&gt;\n    &lt;/xsd:schema&gt;\n&lt;/types&gt;\n&lt;etc...&gt;\n&lt;service name=\"NAME\"&gt;\n    &lt;port name=\"NAMEPort\" binding=\"tns:NAMEPortBinding\"&gt;\n        &lt;soap:address location=\"REPLACE_WITH_ACTUAL_URL\"/&gt;\n    &lt;/port&gt;\n&lt;/service&gt;\n&lt;/definitions&gt;\n</code></pre>\n\n<p>My web.xml:</p>\n\n<pre><code>&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n    version=\"3.1\"&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;\n            com.sun.xml.ws.transport.http.servlet.WSServletContextListener\n        &lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;serverName&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;\n            com.sun.xml.ws.transport.http.servlet.WSServlet\n        &lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;serverName&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/serverName/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;session-config&gt;\n        &lt;session-timeout&gt;120&lt;/session-timeout&gt;\n    &lt;/session-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>And my sun-jaxws.xml:</p>\n\n<pre><code>&lt;endpoints version=\"2.0\"\n    xmlns=\"http://java.sun.com/xml/ns/jax-ws/ri/runtime\"&gt;\n    &lt;endpoint implementation=\"package.ServerEndpoint\" name=\"serverName\"\n        url-pattern=\"/serverLink\"/&gt;\n&lt;/endpoints&gt;\n</code></pre>\n\n<p>I have made sure that Tomcat did deploy and start the webserver, I have checked that the WSDL is indeed inside the server in Tomcat, and yet I cannot figure out how to access it so I can go on to finishing the client and testing the whole thing. I've looked at over a dozen tutorials and most of them seem to get to this point and then say \"and here some magic happens, you open a browser and this shows up:\"</p>\n\n<p><a href=\"https://www.java2blog.com/wp-content/uploads/2013/03/WebserviceOutput.gif\" rel=\"nofollow noreferrer\">https://www.java2blog.com/wp-content/uploads/2013/03/WebserviceOutput.gif</a></p>\n\n<p>The image used is always the same, and indeed I have seen this when working on Glassfish, but I cannot for the life of me figure out what I must do to make it happen on Tomcat. Both the link <a href=\"http://localhost:8080/server-1.0/serverName/serverLink\" rel=\"nofollow noreferrer\">http://localhost:8080/server-1.0/serverName/serverLink</a> and <a href=\"http://localhost:8080/server-1.0/serverName\" rel=\"nofollow noreferrer\">http://localhost:8080/server-1.0/serverName</a> return a \"404 Not Found: Invalid Request\". Appending ?wsdl to either one does not change the result. The answer to <a href=\"https://stackoverflow.com/questions/2396468/accessing-wsdl-on-tomcat\">accessing wsdl on Tomcat</a> suggests installing Metro, which I did, unfortunately to no avail.</p>\n\n<p>All code shown is summarized and has variable names changed. If more information is required, I will be happy to provide it.</p>\n"},{"tags":["java","image-processing","sobel"],"comments":[{"owner":{"account_id":9897892,"reputation":57148,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":0,"creation_date":1649815028,"post_id":71850568,"comment_id":126969282,"body_markdown":"Well, maybe threshold at a higher level?","body":"Well, maybe threshold at a higher level?"},{"owner":{"account_id":3933264,"reputation":103331,"user_id":3250829,"display_name":"rayryeng"},"score":0,"creation_date":1649862844,"post_id":71850568,"comment_id":126984521,"body_markdown":"What are `grayscale` and `threshold` doing exactly? `tmp` is assigned the output of a supposed grayscale operation, but you&#39;re treating the image as if it has RGB channels. Can you show us this code too?","body":"What are <code>grayscale</code> and <code>threshold</code> doing exactly? <code>tmp</code> is assigned the output of a supposed grayscale operation, but you&#39;re treating the image as if it has RGB channels. Can you show us this code too?"},{"owner":{"account_id":24919571,"reputation":1,"user_id":18788011,"display_name":"Lucas Paties"},"score":0,"creation_date":1649973164,"post_id":71850568,"comment_id":127015655,"body_markdown":"@rayryeng sure, but these aint the problem, the results are weird even if I don&#39;t turn it to greyscale.","body":"@rayryeng sure, but these aint the problem, the results are weird even if I don&#39;t turn it to greyscale."},{"owner":{"account_id":9897892,"reputation":57148,"user_id":7328782,"accept_rate":86,"display_name":"Cris Luengo"},"score":0,"creation_date":1649974329,"post_id":71850568,"comment_id":127015884,"body_markdown":"Oh, you read from `tmp` **and** you write to `tmp`? That cannot work. Read from `img`. /// Why do you clone `img` into `original`? You use neither in your code!","body":"Oh, you read from <code>tmp</code> <b>and</b> you write to <code>tmp</code>? That cannot work. Read from <code>img</code>. /// Why do you clone <code>img</code> into <code>original</code>? You use neither in your code!"}],"answers":[{"tags":[],"owner":{"account_id":3933264,"reputation":103331,"user_id":3250829,"display_name":"rayryeng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636760,"creation_date":1650636760,"answer_id":71970177,"question_id":71850568,"body_markdown":"I don&#39;t see any issues. Your threshold may be too low. The largest value to be expected is `sqrt((5 * 255) ^ 2) = 1275` for a single channel. Assuming that we&#39;re right at an edge (horizontal or vertical) between intensities 0 and 255, the weights of 1, 2 and 1 when all added together will be `(5 * 255)` and so the dynamic range of expected values can be high. 100 is probably too low. You should play around with this threshold and make it higher. ","title":"Sobel edge implementation issue","body":"<p>I don't see any issues. Your threshold may be too low. The largest value to be expected is <code>sqrt((5 * 255) ^ 2) = 1275</code> for a single channel. Assuming that we're right at an edge (horizontal or vertical) between intensities 0 and 255, the weights of 1, 2 and 1 when all added together will be <code>(5 * 255)</code> and so the dynamic range of expected values can be high. 100 is probably too low. You should play around with this threshold and make it higher.</p>\n"}],"owner":{"account_id":24919571,"reputation":1,"user_id":18788011,"display_name":"Lucas Paties"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650636760,"creation_date":1649810365,"question_id":71850568,"body_markdown":"For a class I have to implement the sobel edge detector in java, and do I did. But something isnt right, and after 3 hours trying to figure it out I still havent.\r\n\r\n\r\n```\r\npublic static Color[][] sobelBorder (Color[][] img) {\r\n        Color[][] original = ImageUtils.cloneArray(img);\r\n        Color[][] tmp = grayscale(original);\r\n\r\n\r\n        int[][] kernel1 = {\r\n                {1,0,-1},\r\n                {2,0,-2},\r\n                {1,0,-1}\r\n        };\r\n\r\n        int[][] kernel2 = {\r\n                {1,2,1},\r\n                {0,0,0},\r\n                {-1,-2,-1}\r\n        };\r\n\r\n        for( int i = 1; i &lt; tmp.length -1; i++) {\r\n            for( int j = 1; j &lt; tmp[0].length -1; j++) {\r\n\r\n                int r1 = 0;\r\n                int r2 = 0;\r\n\r\n                int g1 = 0;\r\n                int g2 = 0;\r\n\r\n                int b1 = 0;\r\n                int b2 = 0;\r\n\r\n                for( int x = 0; x &lt; 3; x++) {\r\n                    for( int y = 0; y &lt; 3; y++) {\r\n\r\n                        int aR = (tmp[i + (x - 1)][j + (y - 1)].getRed());\r\n                        int aG = (tmp[i + (x - 1)][j + (y - 1)].getGreen());\r\n                        int aB = (tmp[i + (x - 1)][j + (y - 1)].getBlue());\r\n\r\n                        r1 = r1 + (aR * kernel1[x][y]);\r\n                        r2 = r2 + (aR * kernel2[x][y]);\r\n\r\n                        g1 = g1 + (aG * kernel1[x][y]);\r\n                        g2 = g2 + (aG * kernel2[x][y]);\r\n\r\n                        b1 = b1 + (aB * kernel1[x][y]);\r\n                        b2 = b2 + (aB * kernel2[x][y]);\r\n\r\n                    }\r\n                }\r\n\r\n                int finalR = (int) Math.sqrt((r1 * r1) + (r2 * r2));\r\n                int finalG = (int) Math.sqrt((g1 * g1) + (g2 * g2));\r\n                int finalB = (int) Math.sqrt((b1 * b1) + (b2 * b2));\r\n\r\n                finalR = threshold(finalR, 100);\r\n                finalG = threshold(finalG, 100);\r\n                finalB = threshold(finalB, 100);\r\n\r\n                tmp[i][j] = new Color(finalR, finalG, finalB);\r\n            }\r\n        }\r\n\r\n        return tmp;\r\n    }\r\n```\r\nThe final RBG values are coming way to high, and the result always come mostly white.\r\n\r\nWhat I am doing wrong?\r\n\r\n***Edit:**\r\n**Here are the threshold and greyscale funcs:**\r\n```\r\npublic static Color[][]grayscale(Color[][] img) {\r\n        Color[][] tmp = ImageUtils.cloneArray(img);\r\n\r\n        for( int i = 0; i &lt; tmp.length; i++)\r\n        {\r\n            for( int j = 0; j&lt; tmp[i].length;j++) {\r\n\r\n                Color pixel = tmp[i][j];\r\n                int r = pixel.getRed();\r\n                int g = pixel.getGreen();\r\n                int b = pixel.getBlue();\r\n\r\n                int grayNum = (r + g + b)/3;\r\n                tmp[i][j] = new Color (grayNum, grayNum, grayNum);\r\n            }\r\n        }\r\n        return tmp;\r\n    }\r\n\r\n    public static int threshold (int pixel, int threshold) {\r\n        if(pixel &gt; threshold){\r\n            return 255;\r\n        }else return 0;\r\n\r\n    }\r\n```","title":"Sobel edge implementation issue","body":"<p>For a class I have to implement the sobel edge detector in java, and do I did. But something isnt right, and after 3 hours trying to figure it out I still havent.</p>\n<pre><code>public static Color[][] sobelBorder (Color[][] img) {\n        Color[][] original = ImageUtils.cloneArray(img);\n        Color[][] tmp = grayscale(original);\n\n\n        int[][] kernel1 = {\n                {1,0,-1},\n                {2,0,-2},\n                {1,0,-1}\n        };\n\n        int[][] kernel2 = {\n                {1,2,1},\n                {0,0,0},\n                {-1,-2,-1}\n        };\n\n        for( int i = 1; i &lt; tmp.length -1; i++) {\n            for( int j = 1; j &lt; tmp[0].length -1; j++) {\n\n                int r1 = 0;\n                int r2 = 0;\n\n                int g1 = 0;\n                int g2 = 0;\n\n                int b1 = 0;\n                int b2 = 0;\n\n                for( int x = 0; x &lt; 3; x++) {\n                    for( int y = 0; y &lt; 3; y++) {\n\n                        int aR = (tmp[i + (x - 1)][j + (y - 1)].getRed());\n                        int aG = (tmp[i + (x - 1)][j + (y - 1)].getGreen());\n                        int aB = (tmp[i + (x - 1)][j + (y - 1)].getBlue());\n\n                        r1 = r1 + (aR * kernel1[x][y]);\n                        r2 = r2 + (aR * kernel2[x][y]);\n\n                        g1 = g1 + (aG * kernel1[x][y]);\n                        g2 = g2 + (aG * kernel2[x][y]);\n\n                        b1 = b1 + (aB * kernel1[x][y]);\n                        b2 = b2 + (aB * kernel2[x][y]);\n\n                    }\n                }\n\n                int finalR = (int) Math.sqrt((r1 * r1) + (r2 * r2));\n                int finalG = (int) Math.sqrt((g1 * g1) + (g2 * g2));\n                int finalB = (int) Math.sqrt((b1 * b1) + (b2 * b2));\n\n                finalR = threshold(finalR, 100);\n                finalG = threshold(finalG, 100);\n                finalB = threshold(finalB, 100);\n\n                tmp[i][j] = new Color(finalR, finalG, finalB);\n            }\n        }\n\n        return tmp;\n    }\n</code></pre>\n<p>The final RBG values are coming way to high, and the result always come mostly white.</p>\n<p>What I am doing wrong?</p>\n<p>*<strong>Edit:</strong>\n<strong>Here are the threshold and greyscale funcs:</strong></p>\n<pre><code>public static Color[][]grayscale(Color[][] img) {\n        Color[][] tmp = ImageUtils.cloneArray(img);\n\n        for( int i = 0; i &lt; tmp.length; i++)\n        {\n            for( int j = 0; j&lt; tmp[i].length;j++) {\n\n                Color pixel = tmp[i][j];\n                int r = pixel.getRed();\n                int g = pixel.getGreen();\n                int b = pixel.getBlue();\n\n                int grayNum = (r + g + b)/3;\n                tmp[i][j] = new Color (grayNum, grayNum, grayNum);\n            }\n        }\n        return tmp;\n    }\n\n    public static int threshold (int pixel, int threshold) {\n        if(pixel &gt; threshold){\n            return 255;\n        }else return 0;\n\n    }\n</code></pre>\n"},{"tags":["java","ignite"],"comments":[{"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"score":0,"creation_date":1623666443,"post_id":53511785,"comment_id":120134638,"body_markdown":"Does this answer your question? [Apache Ignite: How to get all items from named cached](https://stackoverflow.com/questions/42296027/apache-ignite-how-to-get-all-items-from-named-cached)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42296027/apache-ignite-how-to-get-all-items-from-named-cached\">Apache Ignite: How to get all items from named cached</a>"}],"answers":[{"tags":[],"owner":{"account_id":11294182,"reputation":275,"user_id":8282171,"accept_rate":30,"display_name":"Rhishi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1594814394,"creation_date":1543383751,"answer_id":53512850,"question_id":53511785,"body_markdown":"By using **Iterator** you can get all values and key from cache. below are the sample code to retrieve all values from cache.\r\n```JAVA\r\nIterator&lt;Entry&lt;Integer, BinaryObject&gt;&gt; itr = cache.iterator();\t\t\t      \r\nwhile(itr.hasNext()) {\r\n    BinaryObject object = itr.next().getValue();\r\n    System.out.println(object);\r\n}\r\n```","title":"Apache Ignite - get all from cache","body":"<p>By using <strong>Iterator</strong> you can get all values and key from cache. below are the sample code to retrieve all values from cache.</p>\n<pre><code>Iterator&lt;Entry&lt;Integer, BinaryObject&gt;&gt; itr = cache.iterator();                \nwhile(itr.hasNext()) {\n    BinaryObject object = itr.next().getValue();\n    System.out.println(object);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6790700,"reputation":833,"user_id":5227954,"display_name":"Amrith Raj Herle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594806289,"creation_date":1594805192,"answer_id":62911711,"question_id":53511785,"body_markdown":"The following may help you to iterate over all the records in the cache.\r\n\r\n    import javax.cache.Cache.Entry;\r\n\r\n    import org.apache.ignite.Ignite;\r\n    import org.apache.ignite.IgniteCache;\r\n    import org.apache.ignite.Ignition;\r\n    import org.apache.ignite.binary.BinaryObject;\r\n\r\n    public class App5BinaryObject {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tIgnition.setClientMode(true);\r\n\r\n\t\ttry (Ignite client = Ignition\r\n\t\t\t\t.start(&quot;/Users/amritharajherle/git_new/ignite-learning-by-examples/complete/cfg/ignite-config.xml&quot;)) {\r\n\r\n\t\t\tIgniteCache&lt;BinaryObject, BinaryObject&gt; cities = client.cache(&quot;City&quot;).withKeepBinary();\r\n\t\t\tint count = 0;\r\n\t\t\tfor (Entry&lt;BinaryObject, BinaryObject&gt; entry : cities) {\r\n\t\t\t\tcount++;\r\n\t\t\t\tBinaryObject key = entry.getKey();\r\n\t\t\t\tBinaryObject value = entry.getValue();\r\n\r\n\t\t\t\tSystem.out.println(&quot;CountyCode=&quot; + key.field(&quot;COUNTRYCODE&quot;) + &quot;, DISTRICT = &quot; + value.field(&quot;DISTRICT&quot;)\r\n\t\t\t\t\t\t+ &quot;, POPULATION = &quot; + value.field(&quot;POPULATION&quot;) + &quot;, NAME = &quot; + value.field(&quot;NAME&quot;));\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;total cities count = &quot; + count);\r\n\r\n\t\t}\r\n\r\n\t  }\r\n\r\n    }","title":"Apache Ignite - get all from cache","body":"<p>The following may help you to iterate over all the records in the cache.</p>\n<pre><code>import javax.cache.Cache.Entry;\n\nimport org.apache.ignite.Ignite;\nimport org.apache.ignite.IgniteCache;\nimport org.apache.ignite.Ignition;\nimport org.apache.ignite.binary.BinaryObject;\n\npublic class App5BinaryObject {\n\npublic static void main(String[] args) {\n    Ignition.setClientMode(true);\n\n    try (Ignite client = Ignition\n            .start(&quot;/Users/amritharajherle/git_new/ignite-learning-by-examples/complete/cfg/ignite-config.xml&quot;)) {\n\n        IgniteCache&lt;BinaryObject, BinaryObject&gt; cities = client.cache(&quot;City&quot;).withKeepBinary();\n        int count = 0;\n        for (Entry&lt;BinaryObject, BinaryObject&gt; entry : cities) {\n            count++;\n            BinaryObject key = entry.getKey();\n            BinaryObject value = entry.getValue();\n\n            System.out.println(&quot;CountyCode=&quot; + key.field(&quot;COUNTRYCODE&quot;) + &quot;, DISTRICT = &quot; + value.field(&quot;DISTRICT&quot;)\n                    + &quot;, POPULATION = &quot; + value.field(&quot;POPULATION&quot;) + &quot;, NAME = &quot; + value.field(&quot;NAME&quot;));\n        }\n        System.out.println(&quot;total cities count = &quot; + count);\n\n    }\n\n  }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2938635,"reputation":1860,"user_id":2517035,"display_name":"Rajeev Rathor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636693,"creation_date":1650636693,"answer_id":71970163,"question_id":53511785,"body_markdown":"Using Ignite Rest API we can fetch certain Number of records[Size]. I strive a lot and finally found API.\r\n\r\n**http://&lt;Server_IP&gt;:8080/ignite?cmd=qryscanexe&amp;pageSize=10&amp;cacheName=&lt;CacheName&gt;**\r\n\r\nAdd Auth Header As per Ignite Cluster User.\r\n","title":"Apache Ignite - get all from cache","body":"<p>Using Ignite Rest API we can fetch certain Number of records[Size]. I strive a lot and finally found API.</p>\n<p><strong>http://&lt;Server_IP&gt;:8080/ignite?cmd=qryscanexe&amp;pageSize=10&amp;cacheName=</strong></p>\n<p>Add Auth Header As per Ignite Cluster User.</p>\n"}],"owner":{"account_id":97808,"reputation":4702,"user_id":265119,"accept_rate":31,"display_name":"Magick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4586,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53512850,"answer_count":3,"score":2,"last_activity_date":1650636693,"creation_date":1543376573,"question_id":53511785,"body_markdown":"I&#39;m trying to get all items from a Apache Ignite cache.\r\n\r\nCurrently I can get an individual item using\r\n``` JAVA\r\nClientCache&lt;Integer, BinaryObject&gt; cache = igniteClient.cache(&quot;myCache&quot;).withKeepBinary();\r\n\r\nBinaryObject temp = cache.get(1);\r\n```\r\n\r\nTo get all keys, Ive tried the following:\r\n``` JAVA\r\ntry(QueryCursor&lt;Entry&lt;Integer,BinaryObject&gt;&gt; cursor = cache.query(new ScanQuery&lt;Integer, BinaryObject&gt;(null))) {\r\n    for (Object p : cursor)\r\n    \tSystem.out.println(p.toString());\r\n}\r\n```\r\nThis returns a list of `org.apache.ignite.internal.client.thin.ClientCacheEntry` which is internal, and I cannot call `getValue`.\r\n\r\nHow can I get all items for this cache?","title":"Apache Ignite - get all from cache","body":"<p>I'm trying to get all items from a Apache Ignite cache.</p>\n<p>Currently I can get an individual item using</p>\n<pre><code>ClientCache&lt;Integer, BinaryObject&gt; cache = igniteClient.cache(&quot;myCache&quot;).withKeepBinary();\n\nBinaryObject temp = cache.get(1);\n</code></pre>\n<p>To get all keys, Ive tried the following:</p>\n<pre><code>try(QueryCursor&lt;Entry&lt;Integer,BinaryObject&gt;&gt; cursor = cache.query(new ScanQuery&lt;Integer, BinaryObject&gt;(null))) {\n    for (Object p : cursor)\n        System.out.println(p.toString());\n}\n</code></pre>\n<p>This returns a list of <code>org.apache.ignite.internal.client.thin.ClientCacheEntry</code> which is internal, and I cannot call <code>getValue</code>.</p>\n<p>How can I get all items for this cache?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":3,"creation_date":1402249655,"post_id":24108998,"comment_id":37191072,"body_markdown":"Be more specific.  *What* about it isn&#39;t working?","body":"Be more specific.  <i>What</i> about it isn&#39;t working?"},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":0,"creation_date":1402249827,"post_id":24108998,"comment_id":37191134,"body_markdown":"MyPhoneStateListener is a custom class?","body":"MyPhoneStateListener is a custom class?"},{"owner":{"account_id":3682104,"reputation":53,"user_id":3066835,"display_name":"nuhin"},"score":0,"creation_date":1402250151,"post_id":24108998,"comment_id":37191224,"body_markdown":"if (isPhoneCalling) {\n\n                Handler handler = new Handler();\n                handler.postDelayed(new Runnable() {\n@Override\n public void run() {\n String[] projection = new String[]{Calls.NUMBER};\n Cursor cur = getContentResolver().query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);\n                }\n}\n       \nhere &quot;Cursor cur = getContentResolver()\n         .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);&quot; line shows error &amp; that is &quot;The method getContentResolver() is undefined for the type new Runnable(){}&quot;","body":"if (isPhoneCalling) {                  Handler handler = new Handler();                 handler.postDelayed(new Runnable() { @Override  public void run() {  String[] projection = new String[]{Calls.NUMBER};  Cursor cur = getContentResolver().query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);                 } }         here &quot;Cursor cur = getContentResolver()          .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);&quot; line shows error &amp; that is &quot;The method getContentResolver() is undefined for the type new Runnable(){}&quot;"},{"owner":{"account_id":3682104,"reputation":53,"user_id":3066835,"display_name":"nuhin"},"score":0,"creation_date":1402250324,"post_id":24108998,"comment_id":37191275,"body_markdown":"yes this is custom class.  Marco Acierno","body":"yes this is custom class.  Marco Acierno"}],"answers":[{"tags":[],"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1402250758,"creation_date":1402250343,"answer_id":24109131,"question_id":24108998,"body_markdown":"To use `getContentResolver` inside another class which doesn&#39;t extends `Activity`/`Service` you should have a [`Context`][1] object.\r\n\r\nInside your `MyPhoneStateListener` class, in your constructor ask for a `Context` and save it, then when you need the `content resolver` use `context.getContentResolver()`\r\n\r\nExample:\r\n\r\n    public class MyPhoneStateListener {\r\n     private Context context;\r\n     public MyPhoneStateListener(Context context) {\r\n       this.context = context;\r\n     }\r\n \r\n     public void someMethod() {\r\n        Cursor cur = context.getContentResolver()\r\n         .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);\r\n     }\r\n    }\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/content/Context.html","title":"getContentResolver() is not working","body":"<p>To use <code>getContentResolver</code> inside another class which doesn't extends <code>Activity</code>/<code>Service</code> you should have a <a href=\"http://developer.android.com/reference/android/content/Context.html\" rel=\"nofollow\"><code>Context</code></a> object.</p>\n\n<p>Inside your <code>MyPhoneStateListener</code> class, in your constructor ask for a <code>Context</code> and save it, then when you need the <code>content resolver</code> use <code>context.getContentResolver()</code></p>\n\n<p>Example:</p>\n\n<pre><code>public class MyPhoneStateListener {\n private Context context;\n public MyPhoneStateListener(Context context) {\n   this.context = context;\n }\n\n public void someMethod() {\n    Cursor cur = context.getContentResolver()\n     .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +\" desc\");\n }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23207769,"reputation":1,"user_id":18612049,"display_name":"Andrea Gomez De Pablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636427,"creation_date":1650636427,"answer_id":71970106,"question_id":24108998,"body_markdown":"Cursor cur = this.getActivity().getContentResolver()\r\n         .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);","title":"getContentResolver() is not working","body":"<p>Cursor cur = this.getActivity().getContentResolver()\n.query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);</p>\n"}],"owner":{"account_id":3682104,"reputation":53,"user_id":3066835,"display_name":"nuhin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5492,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":24109131,"answer_count":2,"score":1,"last_activity_date":1650636427,"creation_date":1402249538,"question_id":24108998,"body_markdown":"I have a class name `MyPhoneStateListener`. Here, I want to use `getContentResolver`, but there is some problem in the class. It&#39;s not my main activity.\r\n\r\n    Cursor cur = getContentResolver()\r\n             .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +&quot; desc&quot;);\r\n","title":"getContentResolver() is not working","body":"<p>I have a class name <code>MyPhoneStateListener</code>. Here, I want to use <code>getContentResolver</code>, but there is some problem in the class. It's not my main activity.</p>\n\n<pre><code>Cursor cur = getContentResolver()\n         .query(Calls.CONTENT_URI, projection, null, null, Calls.DATE +\" desc\");\n</code></pre>\n"},{"tags":["java","memory-leaks","java-8","okhttp"],"answers":[{"tags":[],"owner":{"account_id":16048766,"reputation":1,"user_id":11583249,"display_name":"iFlyinq"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1559307498,"creation_date":1559307498,"answer_id":56395576,"question_id":56395158,"body_markdown":"You didn&#39;t close the connection, use response.close(); \r\n\r\n```Java\r\n            final OkHttpClient client = new OkHttpClient().newBuilder()\r\n                    .connectTimeout(5, TimeUnit.SECONDS)\r\n                    .writeTimeout(5, TimeUnit.SECONDS)\r\n                    .build();\r\n\r\n            Request request = new Request.Builder()\r\n                    .url(&quot;https://api.ipify.org&quot;)\r\n                    .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\r\n                    .build();\r\n\r\n            try (Response response = client.newCall(request).execute()) {\r\n                ResponseBody reponseBody = response.body();\r\n                assert reponseBody != null;\r\n\r\n                String ip = reponseBody.string();\r\n                System.out.println(ip);\r\n                response.close();\r\n                reponseBody.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }```","title":"Getting memory leaks with okhttp","body":"<p>You didn't close the connection, use response.close(); </p>\n\n<pre><code>            final OkHttpClient client = new OkHttpClient().newBuilder()\n                    .connectTimeout(5, TimeUnit.SECONDS)\n                    .writeTimeout(5, TimeUnit.SECONDS)\n                    .build();\n\n            Request request = new Request.Builder()\n                    .url(\"https://api.ipify.org\")\n                    .addHeader(\"User-Agent\", \"Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36\")\n                    .build();\n\n            try (Response response = client.newCall(request).execute()) {\n                ResponseBody reponseBody = response.body();\n                assert reponseBody != null;\n\n                String ip = reponseBody.string();\n                System.out.println(ip);\n                response.close();\n                reponseBody.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2737829,"reputation":1,"user_id":2360084,"display_name":"jsaludas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636403,"creation_date":1650353196,"answer_id":71921097,"question_id":56395158,"body_markdown":"It&#39;s an old question, but perhaps it can help someone. You can put the `ResponseBody` inside try-with-resources.\r\n\r\n```\r\n    final OkHttpClient client = new OkHttpClient().newBuilder()\r\n            .connectTimeout(5, TimeUnit.SECONDS)\r\n            .writeTimeout(5, TimeUnit.SECONDS)\r\n            .build();\r\n    \r\n    Request request = new Request.Builder()\r\n            .url(&quot;https://api.ipify.org?format=json&quot;)\r\n            .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\r\n            .build();\r\n    \r\n    try (Response response = client.newCall(request).execute();\r\n        ResponseBody s = response.body()) {\r\n        System.out.println(s);\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n```","title":"Getting memory leaks with okhttp","body":"<p>It's an old question, but perhaps it can help someone. You can put the <code>ResponseBody</code> inside try-with-resources.</p>\n<pre><code>    final OkHttpClient client = new OkHttpClient().newBuilder()\n            .connectTimeout(5, TimeUnit.SECONDS)\n            .writeTimeout(5, TimeUnit.SECONDS)\n            .build();\n    \n    Request request = new Request.Builder()\n            .url(&quot;https://api.ipify.org?format=json&quot;)\n            .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\n            .build();\n    \n    try (Response response = client.newCall(request).execute();\n        ResponseBody s = response.body()) {\n        System.out.println(s);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5850578,"reputation":1170,"user_id":4609353,"display_name":"Oleg Ushakov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650583674,"creation_date":1650583674,"answer_id":71961870,"question_id":56395158,"body_markdown":"**TL;DR** I think you had the problem because you were creating a new instance OkHttp for every new request. \r\n\r\nOkHttp performs best when you create a single OkHttpClient instance and reuse it for all of your HTTP calls. This is because each client holds its own connection pool and thread pools. Reusing connections and threads reduces latency and saves memory. Conversely, creating a client for each request wastes resources on idle pools.\r\n\r\nThe shutdown isn’t necessary too. The threads and connections that are held will be released automatically if they remain idle. But if you are writing an application that needs to aggressively release unused resources you may do so.\r\n\r\nSo you can change your code e.g. in a next syncronious way:\r\n    \r\n    private final OkHttpClient client = new OkHttpClient().newBuilder()\r\n        .connectTimeout(5, TimeUnit.SECONDS)\r\n        .writeTimeout(5, TimeUnit.SECONDS)\r\n        .build();\r\n\r\n    public void run() throws Exception {\r\n      Request request = new Request.Builder()\r\n            .url(&quot;https://api.ipify.org?format=json&quot;)\r\n            .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\r\n            .build();\r\n    \r\n      try (Response response = client.newCall(request).execute()) {\r\n        if (!response.isSuccessful()) {\r\n          throw new IOException(&quot;Unexpected code &quot; + response);\r\n        }\r\n        System.out.println(response.body().string());\r\n      }\r\n\r\n    }","title":"Getting memory leaks with okhttp","body":"<p><strong>TL;DR</strong> I think you had the problem because you were creating a new instance OkHttp for every new request.</p>\n<p>OkHttp performs best when you create a single OkHttpClient instance and reuse it for all of your HTTP calls. This is because each client holds its own connection pool and thread pools. Reusing connections and threads reduces latency and saves memory. Conversely, creating a client for each request wastes resources on idle pools.</p>\n<p>The shutdown isn’t necessary too. The threads and connections that are held will be released automatically if they remain idle. But if you are writing an application that needs to aggressively release unused resources you may do so.</p>\n<p>So you can change your code e.g. in a next syncronious way:</p>\n<pre><code>private final OkHttpClient client = new OkHttpClient().newBuilder()\n    .connectTimeout(5, TimeUnit.SECONDS)\n    .writeTimeout(5, TimeUnit.SECONDS)\n    .build();\n\npublic void run() throws Exception {\n  Request request = new Request.Builder()\n        .url(&quot;https://api.ipify.org?format=json&quot;)\n        .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\n        .build();\n\n  try (Response response = client.newCall(request).execute()) {\n    if (!response.isSuccessful()) {\n      throw new IOException(&quot;Unexpected code &quot; + response);\n    }\n    System.out.println(response.body().string());\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":16048549,"reputation":11,"user_id":11583087,"display_name":"WolfyCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3743,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1650636403,"creation_date":1559305682,"question_id":56395158,"body_markdown":"When I make a get request to an API, over and over again I see that every request the memory goes up and up until 1gb of ram usage.\r\n\r\n\r\n\r\nclosing the response\r\nand autoclosable\r\n\r\n    final OkHttpClient client = new OkHttpClient().newBuilder()\r\n            .connectTimeout(5, TimeUnit.SECONDS)\r\n            .writeTimeout(5, TimeUnit.SECONDS)\r\n            .build();\r\n\r\n    Request request = new Request.Builder()\r\n            .url(&quot;https://api.ipify.org?format=json&quot;)\r\n            .addHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36&quot;)\r\n            .build();\r\n\r\n    try (Response response = client.newCall(request).execute()) {\r\n        ResponseBody s = response.body();\r\n        assert s != null;\r\n        System.out.println(s.toString());\r\n        s.close();\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n","title":"Getting memory leaks with okhttp","body":"<p>When I make a get request to an API, over and over again I see that every request the memory goes up and up until 1gb of ram usage.</p>\n\n<p>closing the response\nand autoclosable</p>\n\n<pre><code>final OkHttpClient client = new OkHttpClient().newBuilder()\n        .connectTimeout(5, TimeUnit.SECONDS)\n        .writeTimeout(5, TimeUnit.SECONDS)\n        .build();\n\nRequest request = new Request.Builder()\n        .url(\"https://api.ipify.org?format=json\")\n        .addHeader(\"User-Agent\", \"Mozilla/5.0 (Linux; Android 8.0.0; SM-G960F Build/R16NW) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/64.0.3282.137 Mobile Safari/537.36\")\n        .build();\n\ntry (Response response = client.newCall(request).execute()) {\n    ResponseBody s = response.body();\n    assert s != null;\n    System.out.println(s.toString());\n    s.close();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","object","subclass"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1650611707,"post_id":71964757,"comment_id":127164127,"body_markdown":"if you initialize it when declaring it, when you create a new `ODrawPanel`, it will create a new `ODrawPanel` as an attribute, that will itself create a new `ODrawPanel`, that will also create a new `ODrawPanel`, etc. leading to a stackoverflow","body":"if you initialize it when declaring it, when you create a new <code>ODrawPanel</code>, it will create a new <code>ODrawPanel</code> as an attribute, that will itself create a new <code>ODrawPanel</code>, that will also create a new <code>ODrawPanel</code>, etc. leading to a stackoverflow"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1650612662,"post_id":71964757,"comment_id":127164442,"body_markdown":"&quot;in that case I cannot use it in the other methods&quot; - normally you&#39;d just use `this` within the other instance methods. It&#39;s not really clear to me what you&#39;re trying to do...","body":"&quot;in that case I cannot use it in the other methods&quot; - normally you&#39;d just use <code>this</code> within the other instance methods. It&#39;s not really clear to me what you&#39;re trying to do..."},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1650613157,"post_id":71964757,"comment_id":127164575,"body_markdown":"side note: [Why is it frowned upon to use a null layout in Swing?](https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing)","body":"side note: <a href=\"https://stackoverflow.com/questions/6592468/why-is-it-frowned-upon-to-use-a-null-layout-in-swing\">Why is it frowned upon to use a null layout in Swing?</a>"},{"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"score":0,"creation_date":1650634000,"post_id":71964757,"comment_id":127172000,"body_markdown":"@JonSkeet. I want to create an object of ODrawPanel within the class ODrawPanel itself in the fields area like a global variable and then use this object in any method of ODrawPanel subclass. I am a beginner Java programmer, so please excuse me if I am asking for strange functionalities.","body":"@JonSkeet. I want to create an object of ODrawPanel within the class ODrawPanel itself in the fields area like a global variable and then use this object in any method of ODrawPanel subclass. I am a beginner Java programmer, so please excuse me if I am asking for strange functionalities."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1650634955,"post_id":71964757,"comment_id":127172331,"body_markdown":"&quot;like a global variable&quot; suggests it should be a static field, which would avoid the stack overflow... but I would suggest reorganizing your code to avoid needing that at all.","body":"&quot;like a global variable&quot; suggests it should be a static field, which would avoid the stack overflow... but I would suggest reorganizing your code to avoid needing that at all."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650612452,"creation_date":1650612452,"answer_id":71964936,"question_id":71964757,"body_markdown":"I would create different classes for the main(), the JFrame, the JPanel. \r\n\r\nIn Main:\r\nnew JFrame();\r\n\r\nIn JFrame:\r\nadd(new JPanel());\r\n... \r\n\r\nIn JPanel:\r\nDo not create JPanels here.\r\n...","title":"In Java can we create an object of a subclass in the subclass itself and outside the methods of the subclass?","body":"<p>I would create different classes for the main(), the JFrame, the JPanel.</p>\n<p>In Main:\nnew JFrame();</p>\n<p>In JFrame:\nadd(new JPanel());\n...</p>\n<p>In JPanel:\nDo not create JPanels here.\n...</p>\n"},{"tags":[],"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1650613279,"creation_date":1650613279,"answer_id":71965106,"question_id":71964757,"body_markdown":"You may declare a `JPanel` supplier with lazy initialization as a field of the class: \r\n\r\n    private Point p1 = new Point(100, 300);\r\n    private Point p2 = new Point(380, 300);\r\n    private final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;&gt;() {\r\n\r\n        private JPanel panel;\r\n\r\n        @Override\r\n        public JPanel get() {\r\n            if (panel == null) {\r\n                panel = new ODrawPanel();\r\n            }\r\n            return panel;\r\n        }\r\n    };\r\n\r\n... and then use it all over the class by `.get()`ting the value from the supplier (the first time you use it, the `ODrawPanel` will be created but it won&#39;t cause an overflow since you&#39;re not recursively initializing it: \r\n\r\n    public void display() {\r\n        JPanel panel = panelSupplier.get(); //the first time you call get() it will create the panel, the next times it will reuse it\r\n        JFrame f = new JFrame();\r\n\r\n        panel.setBounds(40, 40, 400, 400);\r\n        //...rest of the code\r\n","title":"In Java can we create an object of a subclass in the subclass itself and outside the methods of the subclass?","body":"<p>You may declare a <code>JPanel</code> supplier with lazy initialization as a field of the class:</p>\n<pre><code>private Point p1 = new Point(100, 300);\nprivate Point p2 = new Point(380, 300);\nprivate final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;&gt;() {\n\n    private JPanel panel;\n\n    @Override\n    public JPanel get() {\n        if (panel == null) {\n            panel = new ODrawPanel();\n        }\n        return panel;\n    }\n};\n</code></pre>\n<p>... and then use it all over the class by <code>.get()</code>ting the value from the supplier (the first time you use it, the <code>ODrawPanel</code> will be created but it won't cause an overflow since you're not recursively initializing it:</p>\n<pre><code>public void display() {\n    JPanel panel = panelSupplier.get(); //the first time you call get() it will create the panel, the next times it will reuse it\n    JFrame f = new JFrame();\n\n    panel.setBounds(40, 40, 400, 400);\n    //...rest of the code\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636192,"creation_date":1650636192,"answer_id":71970048,"question_id":71964757,"body_markdown":"Matteo, thank you for the code. When I tried it, I got the following compiler error for the line:\r\n\r\n```\r\nprivate final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;&gt;()\r\n{\r\n   // some code here.\r\n};\r\n```\r\n\r\n```\r\n&quot;cannot infer type arguments for Supplier&lt;T&gt;\r\n  reason: &#39;&lt;&gt;&#39; with anonymous inner classes is not supported in -source 8\r\n    (use -source 9 or higher to enable &#39;&lt;&gt;&#39; with anonymous inner classes)\r\n  where T is a type-variable:\r\n    T extends Object declared in interface Supplier&quot;\r\n```\r\n\r\nAfter changing the code to:\r\n\r\n```\r\nprivate final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;JPanel&gt;()\r\n{\r\n  // some code here.\r\n}\r\n```\r\n\r\nI did not receive an error. It works, for example, in a method like:\r\n\r\n``` \r\npublic void Test()\r\n{\r\n  JPanel panel = panelSupplier.get();\r\n  panel.setBackground(Color.RED);\r\n}\r\n```\r\n\r\nBut it has no effect in the method:\r\n\r\n``` \r\nprotected void paintComponent(Graphics g) \r\n{\r\n   super.paintComponent(g);\r\n   g.setColor(Color.BLUE);       \r\n   g.drawLine(p1.x, p1.y, p2.x, p2.y);\r\n            \r\n   JPanel panel = panelSupplier.get();\r\n   panel.setBackground(Color.CYAN); \r\n}\r\n```    ","title":"In Java can we create an object of a subclass in the subclass itself and outside the methods of the subclass?","body":"<p>Matteo, thank you for the code. When I tried it, I got the following compiler error for the line:</p>\n<pre><code>private final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;&gt;()\n{\n   // some code here.\n};\n</code></pre>\n<pre><code>&quot;cannot infer type arguments for Supplier&lt;T&gt;\n  reason: '&lt;&gt;' with anonymous inner classes is not supported in -source 8\n    (use -source 9 or higher to enable '&lt;&gt;' with anonymous inner classes)\n  where T is a type-variable:\n    T extends Object declared in interface Supplier&quot;\n</code></pre>\n<p>After changing the code to:</p>\n<pre><code>private final Supplier&lt;JPanel&gt; panelSupplier = new Supplier&lt;JPanel&gt;()\n{\n  // some code here.\n}\n</code></pre>\n<p>I did not receive an error. It works, for example, in a method like:</p>\n<pre><code>public void Test()\n{\n  JPanel panel = panelSupplier.get();\n  panel.setBackground(Color.RED);\n}\n</code></pre>\n<p>But it has no effect in the method:</p>\n<pre><code>protected void paintComponent(Graphics g) \n{\n   super.paintComponent(g);\n   g.setColor(Color.BLUE);       \n   g.drawLine(p1.x, p1.y, p2.x, p2.y);\n            \n   JPanel panel = panelSupplier.get();\n   panel.setBackground(Color.CYAN); \n}\n</code></pre>\n"}],"owner":{"account_id":25048022,"reputation":15,"user_id":18904244,"display_name":"Ozgur"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71965106,"answer_count":3,"score":0,"last_activity_date":1650636192,"creation_date":1650611448,"question_id":71964757,"body_markdown":"I need to create an object of a subclass in the subclass itself but outside of all the methods of the subclass.\r\n\r\nIn the code below, I want to create an object of ODrawPanel at the specified location (commented part in the code) but when I do this, I get a StackOverflowError. However, I can create the object ODrawPanel inside the display() method with no problem but in that case I cannot use it in the other methods. I need to do some drawing on the panel and the panel must be available anywhere in the code.\r\n\r\nHow can I make the panel object available anywhere in the code?\r\n\r\nThanks for helping.\r\n\r\n```\r\npackage odrawpanel;\r\n\r\nimport java.awt.*; \r\nimport javax.swing.*; \r\nimport java.awt.event.ComponentEvent;\r\nimport java.awt.event.ComponentAdapter;\r\n\r\npublic class ODrawPanel extends JPanel\r\n{ \r\n    \r\n        private Point p1 = new Point(100, 300);\r\n        private Point p2 = new Point(380, 300);\r\n\r\n        // Either\r\n        // JPanel panel = new ODrawPanel();     I want to create the object of the subclass here.\r\n        // or\r\n        // ODrawPanel panel = new ODrawPanel();\r\n\r\n        @Override\r\n        protected void paintComponent(Graphics g) \r\n        {\r\n            super.paintComponent(g);\r\n            g.setColor(Color.BLUE);       \r\n            g.drawLine(p1.x, p1.y, p2.x, p2.y);\r\n                        \r\n        }\r\n         \r\n        public void display() \r\n        {   \r\n            JPanel panel = new ODrawPanel(); \r\n            JFrame f = new JFrame();\r\n \r\n            panel.setBounds(40, 40, 400, 400);    \r\n            panel.setBackground(Color.white); \r\n            \r\n            f.add(panel);  \r\n            f.setSize(800,600);    \r\n            f.setLayout(null);    \r\n            f.setLocationRelativeTo(null);\r\n            f.setVisible(true); \r\n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n            f.addComponentListener(new ComponentAdapter() \r\n            {           \r\n                @Override\r\n                public void componentResized(ComponentEvent e) \r\n                {\r\n                  panel.setSize(f.getWidth()-100,f.getHeight()-100);                                 \r\n                }\r\n        \r\n            });\r\n         \r\n        }\r\n        \r\n        public static void main(String args[])  \r\n        {          \r\n                EventQueue.invokeLater(new Runnable() \r\n                  {\r\n                      @Override\r\n                      public void run() \r\n                      {\r\n                         new ODrawPanel().display();                        \r\n                      }\r\n                  });  \r\n        }\r\n        \r\n}  \r\n\r\n\r\n\r\n```\r\n\r\n  ","title":"In Java can we create an object of a subclass in the subclass itself and outside the methods of the subclass?","body":"<p>I need to create an object of a subclass in the subclass itself but outside of all the methods of the subclass.</p>\n<p>In the code below, I want to create an object of ODrawPanel at the specified location (commented part in the code) but when I do this, I get a StackOverflowError. However, I can create the object ODrawPanel inside the display() method with no problem but in that case I cannot use it in the other methods. I need to do some drawing on the panel and the panel must be available anywhere in the code.</p>\n<p>How can I make the panel object available anywhere in the code?</p>\n<p>Thanks for helping.</p>\n<pre><code>package odrawpanel;\n\nimport java.awt.*; \nimport javax.swing.*; \nimport java.awt.event.ComponentEvent;\nimport java.awt.event.ComponentAdapter;\n\npublic class ODrawPanel extends JPanel\n{ \n    \n        private Point p1 = new Point(100, 300);\n        private Point p2 = new Point(380, 300);\n\n        // Either\n        // JPanel panel = new ODrawPanel();     I want to create the object of the subclass here.\n        // or\n        // ODrawPanel panel = new ODrawPanel();\n\n        @Override\n        protected void paintComponent(Graphics g) \n        {\n            super.paintComponent(g);\n            g.setColor(Color.BLUE);       \n            g.drawLine(p1.x, p1.y, p2.x, p2.y);\n                        \n        }\n         \n        public void display() \n        {   \n            JPanel panel = new ODrawPanel(); \n            JFrame f = new JFrame();\n \n            panel.setBounds(40, 40, 400, 400);    \n            panel.setBackground(Color.white); \n            \n            f.add(panel);  \n            f.setSize(800,600);    \n            f.setLayout(null);    \n            f.setLocationRelativeTo(null);\n            f.setVisible(true); \n            f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n            f.addComponentListener(new ComponentAdapter() \n            {           \n                @Override\n                public void componentResized(ComponentEvent e) \n                {\n                  panel.setSize(f.getWidth()-100,f.getHeight()-100);                                 \n                }\n        \n            });\n         \n        }\n        \n        public static void main(String args[])  \n        {          \n                EventQueue.invokeLater(new Runnable() \n                  {\n                      @Override\n                      public void run() \n                      {\n                         new ODrawPanel().display();                        \n                      }\n                  });  \n        }\n        \n}  \n\n\n\n</code></pre>\n"},{"tags":["java","spring","activiti"],"answers":[{"tags":[],"owner":{"account_id":1416182,"reputation":168,"user_id":1341814,"display_name":"3omar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650636129,"creation_date":1650636129,"answer_id":71970031,"question_id":69039204,"body_markdown":"You can use DelegateTask to set task name dynamically, with method: [setName][1]\r\n\r\nexample:\r\n\r\n```java\r\n    @Component(&quot;CustomTaskListener&quot;)\r\n    public class CustomTaskListener implements TaskListener {\r\n    \r\n        @Override\r\n        public void notify(DelegateTask task) {\r\n                        \r\n            task.setName(&quot;newTaskName&quot;);\r\n        }\r\n    }\r\n```\r\n\r\n  [1]: https://www.activiti.org/javadocs/org/activiti/engine/delegate/DelegateTask.html#setName-java.lang.String-\r\n","title":"How to set activiti task name dynamically?","body":"<p>You can use DelegateTask to set task name dynamically, with method: <a href=\"https://www.activiti.org/javadocs/org/activiti/engine/delegate/DelegateTask.html#setName-java.lang.String-\" rel=\"nofollow noreferrer\">setName</a></p>\n<p>example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Component(&quot;CustomTaskListener&quot;)\n    public class CustomTaskListener implements TaskListener {\n    \n        @Override\n        public void notify(DelegateTask task) {\n                        \n            task.setName(&quot;newTaskName&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20578656,"reputation":13,"user_id":15105296,"display_name":"Kelvin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650636129,"creation_date":1630640343,"question_id":69039204,"body_markdown":"I need to set task name dynamically for activiti 7, just like below snippt code:\r\n```\r\n  &lt;userTask id=&#39;theTask&#39; name=&#39;${taskNameDynamically}&#39; &gt;\r\n    ...\r\n  &lt;/userTask&gt;\r\n```\r\nI&#39;ve search for this problem, but still cannot find any workaround yet","title":"How to set activiti task name dynamically?","body":"<p>I need to set task name dynamically for activiti 7, just like below snippt code:</p>\n<pre><code>  &lt;userTask id='theTask' name='${taskNameDynamically}' &gt;\n    ...\n  &lt;/userTask&gt;\n</code></pre>\n<p>I've search for this problem, but still cannot find any workaround yet</p>\n"},{"tags":["java","vaadin","vaadin-flow","vaadin-grid"],"answers":[{"tags":[],"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650635506,"creation_date":1650086987,"answer_id":71891362,"question_id":71887623,"body_markdown":"You&#39;d need a comparator that always first orders based on the category (folder vs item in your case) and then order by the actual column value to resolve ties. To make things slightly more complicated, the same comparator is used regardless of whether the sort order is ascending or descending. You would need to compensate for this by making the category comparison order compensate for the sort order of the column to ensure that reverse ordering wouldn&#39;t put the folders last.\r\n\r\nI implemented a simple proof of concept for this idea below, but you might need to make some tweaks to the concept in case you could have null values there or if you need to support sorting on multiple columns at the same time.\r\n\r\n```\r\n@Route\r\npublic class View1 extends VerticalLayout {\r\n    record Item(String category, String name) { }\r\n\r\n    public View1() {\r\n        Grid&lt;Item&gt; grid = new Grid&lt;Item&gt;();\r\n        grid.addColumn(Item::category).setHeader(&quot;Category&quot;);\r\n        grid.addColumn(Item::name).setHeader(&quot;Name&quot;).setSortable(true).setComparator((a, b) -&gt; {\r\n            int categoryOrder = a.category.compareTo(b.category);\r\n            if (categoryOrder == 0) {\r\n                return a.name.compareTo(b.name);\r\n            }\r\n            return grid.getSortOrder().get(0).getDirection() == SortDirection.ASCENDING ? categoryOrder\r\n                    : -categoryOrder;\r\n        });\r\n        grid.setItems(new Item(&quot;a&quot;, &quot;a&quot;), new Item(&quot;a&quot;, &quot;c&quot;), new Item(&quot;a&quot;, &quot;b&quot;), new Item(&quot;b&quot;, &quot;a&quot;),\r\n                new Item(&quot;b&quot;, &quot;c&quot;), new Item(&quot;b&quot;, &quot;b&quot;));\r\n\r\n        add(grid);\r\n    }\r\n}\r\n```\r\n","title":"Vaadin Grid - specific rows always on top","body":"<p>You'd need a comparator that always first orders based on the category (folder vs item in your case) and then order by the actual column value to resolve ties. To make things slightly more complicated, the same comparator is used regardless of whether the sort order is ascending or descending. You would need to compensate for this by making the category comparison order compensate for the sort order of the column to ensure that reverse ordering wouldn't put the folders last.</p>\n<p>I implemented a simple proof of concept for this idea below, but you might need to make some tweaks to the concept in case you could have null values there or if you need to support sorting on multiple columns at the same time.</p>\n<pre><code>@Route\npublic class View1 extends VerticalLayout {\n    record Item(String category, String name) { }\n\n    public View1() {\n        Grid&lt;Item&gt; grid = new Grid&lt;Item&gt;();\n        grid.addColumn(Item::category).setHeader(&quot;Category&quot;);\n        grid.addColumn(Item::name).setHeader(&quot;Name&quot;).setSortable(true).setComparator((a, b) -&gt; {\n            int categoryOrder = a.category.compareTo(b.category);\n            if (categoryOrder == 0) {\n                return a.name.compareTo(b.name);\n            }\n            return grid.getSortOrder().get(0).getDirection() == SortDirection.ASCENDING ? categoryOrder\n                    : -categoryOrder;\n        });\n        grid.setItems(new Item(&quot;a&quot;, &quot;a&quot;), new Item(&quot;a&quot;, &quot;c&quot;), new Item(&quot;a&quot;, &quot;b&quot;), new Item(&quot;b&quot;, &quot;a&quot;),\n                new Item(&quot;b&quot;, &quot;c&quot;), new Item(&quot;b&quot;, &quot;b&quot;));\n\n        add(grid);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15805840,"reputation":131,"user_id":11404383,"display_name":"Marcus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71891362,"answer_count":1,"score":0,"last_activity_date":1650635506,"creation_date":1650047266,"question_id":71887623,"body_markdown":"I have two classes, one named &quot;Folder&quot; and the second one &quot;Item&quot;. I&#39;m using an interface to show folders and items together in one Vaadin Grid. I wrote a custom comparator to have folders and items sorted correctly (folders on top). But the problem is that users are able to change the sort order and then the folders are on bottom. \r\nMy question is how to have folders always on top? Is it possible to detect the selected order in the comparator?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\ngrid.addColumn(e -&gt; e.getName())\r\n        .setHeader(&quot;Name&quot;)\r\n        .setSortable(true)\r\n        .setComparator((item1, item2) -&gt; {\r\n            if (item1 instanceof Folder &amp;&amp; item2 instanceof Item) {\r\n                return -1;\r\n            } else if (item1 instanceof Item &amp;&amp; item2 instanceof Folder) {\r\n                return 1;\r\n            } else {\r\n                return item1.getName().compareTo(item2.getName());\r\n            }\r\n        })\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9n5If.png","title":"Vaadin Grid - specific rows always on top","body":"<p>I have two classes, one named &quot;Folder&quot; and the second one &quot;Item&quot;. I'm using an interface to show folders and items together in one Vaadin Grid. I wrote a custom comparator to have folders and items sorted correctly (folders on top). But the problem is that users are able to change the sort order and then the folders are on bottom.\nMy question is how to have folders always on top? Is it possible to detect the selected order in the comparator?</p>\n<p><a href=\"https://i.stack.imgur.com/9n5If.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9n5If.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>grid.addColumn(e -&gt; e.getName())\n        .setHeader(&quot;Name&quot;)\n        .setSortable(true)\n        .setComparator((item1, item2) -&gt; {\n            if (item1 instanceof Folder &amp;&amp; item2 instanceof Item) {\n                return -1;\n            } else if (item1 instanceof Item &amp;&amp; item2 instanceof Folder) {\n                return 1;\n            } else {\n                return item1.getName().compareTo(item2.getName());\n            }\n        })\n</code></pre>\n"},{"tags":["java","cmd","process","system-properties"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1650634865,"post_id":71969609,"comment_id":127172294,"body_markdown":"*a high amount of the system properties* Those can be placed in a properties file and read by the app","body":"<i>a high amount of the system properties</i> Those can be placed in a properties file and read by the app"},{"owner":{"account_id":15576867,"reputation":69,"user_id":11237764,"display_name":"aslanj"},"score":0,"creation_date":1650640686,"post_id":71969609,"comment_id":127174669,"body_markdown":"How can I fill for example this String: &quot;-DpropKey1=value&quot; without constructing it with the StringBuilder? I mean System.getProperty(&quot;propKey1&quot;) only returns value, but I still need &quot;-D&quot; and the key &quot;propkey1=&quot; in the string.","body":"How can I fill for example this String: &quot;-DpropKey1=value&quot; without constructing it with the StringBuilder? I mean System.getProperty(&quot;propKey1&quot;) only returns value, but I still need &quot;-D&quot; and the key &quot;propkey1=&quot; in the string."}],"answers":[{"tags":[],"owner":{"account_id":21741636,"reputation":1166,"user_id":16048914,"display_name":"David Weber"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650635066,"creation_date":1650634760,"answer_id":71969702,"question_id":71969609,"body_markdown":"**Try this:**\r\n\r\n    String[] params=... \r\n\r\n    new ProcessBuilder(params).start()\r\n\r\n \r\n\r\nParams is an array of parameters as String. \r\n\r\n\r\n\r\n**Old:**\r\n\r\nWrite a method, which does the trick. As argument it could get a Map&lt;String, String&gt;.\r\n\r\nThe key of an entry is the parameter name, and the value of an entry is the parameter value.\r\n\r\nThe method builds the String in a loop, which is iterating over the entry set of the map.\r\n\r\nSorry, I read false! This will not work this way with processbuilder! \r\n","title":"Run a jar file out of java programm with many system properties","body":"<p><strong>Try this:</strong></p>\n<pre><code>String[] params=... \n\nnew ProcessBuilder(params).start()\n</code></pre>\n<p>Params is an array of parameters as String.</p>\n<p><strong>Old:</strong></p>\n<p>Write a method, which does the trick. As argument it could get a Map&lt;String, String&gt;.</p>\n<p>The key of an entry is the parameter name, and the value of an entry is the parameter value.</p>\n<p>The method builds the String in a loop, which is iterating over the entry set of the map.</p>\n<p>Sorry, I read false! This will not work this way with processbuilder!</p>\n"}],"owner":{"account_id":15576867,"reputation":69,"user_id":11237764,"display_name":"aslanj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1650635066,"creation_date":1650634368,"question_id":71969609,"body_markdown":"I want to start a .jar File out of my java program using the Process Builder like this:\r\n\r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;,  &quot;-Xdebug&quot;, &quot;-DpropKey1=value&quot;, &quot;-DpropKey2=value&quot;, &quot;MyJar.jar&quot;);\r\n    Process p = pb.start();\r\n    \r\nI am looking for a smart way to pass a high amount of the system properties my java program is using to the ProcessBuilder. Right at this moment I am doing it like this:\r\n\r\n    StringBuilder d1 = new StringBuilder(100);\r\n    d1.append(&quot;-DpropKey1=&quot;);\r\n    d1.append(System.getProperty(&quot;propKey1&quot;));\r\n    String d1Str = d1.toString();\r\n    \r\n    StringBuilder d2 = new StringBuilder(100);\r\n    d2.append(&quot;-DpropKey2=&quot;);\r\n    d2.append(System.getProperty(&quot;propKey2&quot;));\r\n    String d2Str = d2.toString();\r\n    \r\n    ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;,  &quot;-Xdebug&quot;, d1Str, d2Str, &quot;MyJar.jar&quot;);\r\n    Process p = pb.start();\r\n\r\n\r\nBut this way doesn&#39;t seem very smart to me. It&#39;s just I have a lot of system properties I want to pass out of the java programm (more than 10). It doesn&#39;t feel right to use a StringBuilder for every system property I want to pass. ","title":"Run a jar file out of java programm with many system properties","body":"<p>I want to start a .jar File out of my java program using the Process Builder like this:</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder(&quot;java&quot;,  &quot;-Xdebug&quot;, &quot;-DpropKey1=value&quot;, &quot;-DpropKey2=value&quot;, &quot;MyJar.jar&quot;);\nProcess p = pb.start();\n</code></pre>\n<p>I am looking for a smart way to pass a high amount of the system properties my java program is using to the ProcessBuilder. Right at this moment I am doing it like this:</p>\n<pre><code>StringBuilder d1 = new StringBuilder(100);\nd1.append(&quot;-DpropKey1=&quot;);\nd1.append(System.getProperty(&quot;propKey1&quot;));\nString d1Str = d1.toString();\n\nStringBuilder d2 = new StringBuilder(100);\nd2.append(&quot;-DpropKey2=&quot;);\nd2.append(System.getProperty(&quot;propKey2&quot;));\nString d2Str = d2.toString();\n\nProcessBuilder pb = new ProcessBuilder(&quot;java&quot;,  &quot;-Xdebug&quot;, d1Str, d2Str, &quot;MyJar.jar&quot;);\nProcess p = pb.start();\n</code></pre>\n<p>But this way doesn't seem very smart to me. It's just I have a lot of system properties I want to pass out of the java programm (more than 10). It doesn't feel right to use a StringBuilder for every system property I want to pass.</p>\n"},{"tags":["java","java-native-interface","version","migrating"],"answers":[{"tags":[],"owner":{"account_id":25003476,"reputation":31,"user_id":18863663,"display_name":"bencomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650634684,"creation_date":1650634684,"answer_id":71969683,"question_id":71925069,"body_markdown":"Well i found my own answer. In java 11, theres no jre directory inside the /usr/lib/jvm/java-{integer}openjdk-amd64/ directory. So, my relatives path were wrong.","title":"Can any on help me to fin find my javac and jni.h in java 11?","body":"<p>Well i found my own answer. In java 11, theres no jre directory inside the /usr/lib/jvm/java-{integer}openjdk-amd64/ directory. So, my relatives path were wrong.</p>\n"}],"owner":{"account_id":25003476,"reputation":31,"user_id":18863663,"display_name":"bencomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1650634684,"creation_date":1650371779,"question_id":71925069,"body_markdown":"Im working on the new release of a software who moves from java 8 to java 11. I have installed both javas. In my .bashrc file i have the following lines for when im working with java 8:\r\n\r\n - export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/\r\n - export PATH=$JAVA_HOME/bin:$PATH\r\n - export LD_LIBRARY_PATH=$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/amd64:$JAVA_HOME/jre/lib/amd64/server:$LD_LIBRARY_PATH\r\n\r\nwhen im working with java 11:\r\n\r\n - export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/\r\n - export PATH=$JAVA_HOME/bin:$PATH\r\n - export LD_LIBRARY_PATH=$JAVA_HOME/:$JAVA_HOME/lib:$JAVA_HOME/lib/server:$LD_LIBRARY_PATH\r\n\r\n\r\nAnd I after comment or un-comment those lines (when changing between javas)\r\nI use:\r\n\r\n - sudo update-alternatives --config java\r\nTo change java default\r\n\r\nBut i can&#39;t use \r\n - sudo update-alternatives --config javac\r\nbecause I dont know where is javac \r\n\r\nAll of these is just the debugging of finding where is my JNI_VERSION_10, because in the software in which im working, when running the following line\r\n\r\n - vm_args.version = JNI_VERSION_10;\r\nit returns me\r\n&gt;&gt;invoke.c:163:20: error: &#39;JNI_VERSION_10&#39; undeclared (first use in this function); did you mean &#39;JNI_VERSION_1_6&#39;?\r\n  163 |  vm_args.version = JNI_VERSION_10;\r\n      |                    ^~~~~~~~~~~~~~\r\n      |                    JNI_VERSION_1_6\r\n\r\n\r\nThanks for any help!!!!\r\n\r\n","title":"Can any on help me to fin find my javac and jni.h in java 11?","body":"<p>Im working on the new release of a software who moves from java 8 to java 11. I have installed both javas. In my .bashrc file i have the following lines for when im working with java 8:</p>\n<ul>\n<li>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/</li>\n<li>export PATH=$JAVA_HOME/bin:$PATH</li>\n<li>export LD_LIBRARY_PATH=$JAVA_HOME/jre/lib:$JAVA_HOME/jre/lib/amd64:$JAVA_HOME/jre/lib/amd64/server:$LD_LIBRARY_PATH</li>\n</ul>\n<p>when im working with java 11:</p>\n<ul>\n<li>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/</li>\n<li>export PATH=$JAVA_HOME/bin:$PATH</li>\n<li>export LD_LIBRARY_PATH=$JAVA_HOME/:$JAVA_HOME/lib:$JAVA_HOME/lib/server:$LD_LIBRARY_PATH</li>\n</ul>\n<p>And I after comment or un-comment those lines (when changing between javas)\nI use:</p>\n<ul>\n<li>sudo update-alternatives --config java\nTo change java default</li>\n</ul>\n<p>But i can't use</p>\n<ul>\n<li>sudo update-alternatives --config javac\nbecause I dont know where is javac</li>\n</ul>\n<p>All of these is just the debugging of finding where is my JNI_VERSION_10, because in the software in which im working, when running the following line</p>\n<ul>\n<li>vm_args.version = JNI_VERSION_10;\nit returns me</li>\n</ul>\n<blockquote>\n<blockquote>\n<p>invoke.c:163:20: error: 'JNI_VERSION_10' undeclared (first use in this function); did you mean 'JNI_VERSION_1_6'?\n163 |  vm_args.version = JNI_VERSION_10;\n|                    ^~~~~~~~~~~~~~\n|                    JNI_VERSION_1_6</p>\n</blockquote>\n</blockquote>\n<p>Thanks for any help!!!!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8583,"page":1409,"page_size":100}
