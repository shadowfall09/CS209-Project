{"items":[{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":2317394,"reputation":600,"user_id":2034128,"display_name":"etnguyen03"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586380156,"creation_date":1586380156,"answer_id":61110072,"question_id":61110033,"body_markdown":"This is because your `Family` class only has a six-argument constructor requiring all of the six fields to be provided. Your call:\r\n\r\n    Family person = new Family(&quot;CHRIS&quot;, &quot;PEREZ&quot;, 31);\r\n\r\nonly provides three of the six required. You could override the constructor, for instance:\r\n\r\n    public Family(String firstName, String lastName, int age) {\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        ...\r\n    }\r\n\r\nbut you should do something with the rest of the fields that you didn&#39;t provide here that you provide in the other constructor.","title":"Error The constructor Family(String, String, int) is undefined","body":"<p>This is because your <code>Family</code> class only has a six-argument constructor requiring all of the six fields to be provided. Your call:</p>\n\n<pre><code>Family person = new Family(\"CHRIS\", \"PEREZ\", 31);\n</code></pre>\n\n<p>only provides three of the six required. You could override the constructor, for instance:</p>\n\n<pre><code>public Family(String firstName, String lastName, int age) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n    ...\n}\n</code></pre>\n\n<p>but you should do something with the rest of the fields that you didn't provide here that you provide in the other constructor.</p>\n"},{"comments":[{"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"score":0,"creation_date":1586381068,"post_id":61110088,"comment_id":108111760,"body_markdown":"Thank you. I included the rest the parameters but still getting that error.","body":"Thank you. I included the rest the parameters but still getting that error."},{"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"score":0,"creation_date":1586382405,"post_id":61110088,"comment_id":108112251,"body_markdown":"Same exact error.  Does it matter i have to different files? a Family and a Main one?","body":"Same exact error.  Does it matter i have to different files? a Family and a Main one?"},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1586382941,"post_id":61110088,"comment_id":108112425,"body_markdown":"So you&#39;re getting an error that says `Family(String, String, int) is undefined` from a line of code that calls the 6-parameter constructor? That&#39;s unlikely. The very least the error is different","body":"So you&#39;re getting an error that says <code>Family(String, String, int) is undefined</code> from a line of code that calls the 6-parameter constructor? That&#39;s unlikely. The very least the error is different"},{"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"score":0,"creation_date":1586383423,"post_id":61110088,"comment_id":108112601,"body_markdown":"The constructor Family(String, String, int, String, String, String) is undefined. It added the extra three parameters i was missing.","body":"The constructor Family(String, String, int, String, String, String) is undefined. It added the extra three parameters i was missing."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1586383729,"post_id":61110088,"comment_id":108112696,"body_markdown":"You&#39;re passing `String` for phone number, like `&quot;(555) 123-456&quot;` but the method declaration has `int` so it can only accept numbers like 555123456. It probably should be string","body":"You&#39;re passing <code>String</code> for phone number, like <code>&quot;(555) 123-456&quot;</code> but the method declaration has <code>int</code> so it can only accept numbers like 555123456. It probably should be string"},{"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"score":0,"creation_date":1586383872,"post_id":61110088,"comment_id":108112754,"body_markdown":"Yea i changed that when i replied. I made them all a string except age but didnt make a difference. Im probably making some newbie error somewhere.","body":"Yea i changed that when i replied. I made them all a string except age but didnt make a difference. Im probably making some newbie error somewhere."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1586384493,"post_id":61110088,"comment_id":108112948,"body_markdown":"Try deleting all compiled class files, it&#39;s possible one of the classes is not getting recompiled despite having changed the source file","body":"Try deleting all compiled class files, it&#39;s possible one of the classes is not getting recompiled despite having changed the source file"}],"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586381544,"creation_date":1586380216,"answer_id":61110088,"question_id":61110033,"body_markdown":"You&#39;re calling the `Family` class constructor like this:\r\n\r\n    Family person = new Family(&quot;CHRIS&quot;, &quot;PEREZ&quot;, 31);\r\n\r\nBut the only constructor in the class is defined like this:\r\n\r\n    public Family(String firstName, String lastName, int age, int phoneNumber,\r\n        String dob, String married) {\r\n\r\nSee that it has more parameters than you&#39;re passing in: `phoneNumber, dob, married`. In Java you have to give values to all parameters:\r\n\r\n    Family person = new Family(&quot;CHRIS&quot;, &quot;PEREZ&quot;, 31, 123456, &quot;5/Apr/1975&quot;, &quot;who&#39;s asking&quot;);\r\n\r\nOr, you need to define a new constructor that needs only firstName, lastName and age.","title":"Error The constructor Family(String, String, int) is undefined","body":"<p>You're calling the <code>Family</code> class constructor like this:</p>\n\n<pre><code>Family person = new Family(\"CHRIS\", \"PEREZ\", 31);\n</code></pre>\n\n<p>But the only constructor in the class is defined like this:</p>\n\n<pre><code>public Family(String firstName, String lastName, int age, int phoneNumber,\n    String dob, String married) {\n</code></pre>\n\n<p>See that it has more parameters than you're passing in: <code>phoneNumber, dob, married</code>. In Java you have to give values to all parameters:</p>\n\n<pre><code>Family person = new Family(\"CHRIS\", \"PEREZ\", 31, 123456, \"5/Apr/1975\", \"who's asking\");\n</code></pre>\n\n<p>Or, you need to define a new constructor that needs only firstName, lastName and age.</p>\n"},{"tags":[],"owner":{"account_id":27366898,"reputation":11,"user_id":20873584,"display_name":"gideb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680713414,"creation_date":1680703311,"answer_id":75940390,"question_id":61110033,"body_markdown":"This can also happen when calling the constructor arguments in the wrong order that you specified them in.","title":"Error The constructor Family(String, String, int) is undefined","body":"<p>This can also happen when calling the constructor arguments in the wrong order that you specified them in.</p>\n"}],"owner":{"account_id":17920535,"reputation":53,"user_id":13020524,"display_name":"iampython2134"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2020,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":61110088,"answer_count":3,"score":-1,"last_activity_date":1680713414,"creation_date":1586380000,"question_id":61110033,"body_markdown":"I am fairly new to Java. I am getting an error &quot;The constructor Family(String, String, int) is undefined&quot;. Im not sure what this means. Need a bit of help here please.\r\n\r\nEDIT: I was missing the extra 3 parameters and also was missing quotes around 31.\r\n\r\nMain.java\r\n\r\n    public class Main {\r\n\t\r\n\r\n    public static void main(String[] args){\r\n        Family person = new Family(&quot;CHRIS&quot;, &quot;PEREZ&quot;, 31);\r\n        String person1 = person.getPerson();\r\n\t\tSystem.out.println(person1);\t\r\n    }\r\n\r\n    }\r\n\r\n\r\nFamily.java\r\n\r\n    public class Family {\r\n\t\r\n\tString firstName;\r\n\tString lastName;\r\n\tint age;\r\n\tint phoneNumber;\r\n\tString dob;\r\n\tString married;\r\n\t\r\n\tpublic Family(String firstName, String lastName, int age, int phoneNumber,\r\n\t\t\tString dob, String married) {\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t\tthis.age = age;\r\n\t\tthis.phoneNumber = phoneNumber;\r\n\t\tthis.dob = dob;\r\n\t\tthis.married =  married;\r\n\t\t\r\n\t\r\n\tpublic String getPerson() {\r\n\t\treturn (&quot;Hi my name is&quot;+this.firstName+&quot; &quot;+ this.lastName+&quot;.&quot;+&quot;I am &quot;+this.age+&quot; years old.&quot;);\r\n\t}\r\n\t\r\n    }\r\n\r\n","title":"Error The constructor Family(String, String, int) is undefined","body":"<p>I am fairly new to Java. I am getting an error \"The constructor Family(String, String, int) is undefined\". Im not sure what this means. Need a bit of help here please.</p>\n\n<p>EDIT: I was missing the extra 3 parameters and also was missing quotes around 31.</p>\n\n<p>Main.java</p>\n\n<pre><code>public class Main {\n\n\npublic static void main(String[] args){\n    Family person = new Family(\"CHRIS\", \"PEREZ\", 31);\n    String person1 = person.getPerson();\n    System.out.println(person1);    \n}\n\n}\n</code></pre>\n\n<p>Family.java</p>\n\n<pre><code>public class Family {\n\nString firstName;\nString lastName;\nint age;\nint phoneNumber;\nString dob;\nString married;\n\npublic Family(String firstName, String lastName, int age, int phoneNumber,\n        String dob, String married) {\n    this.firstName = firstName;\n    this.lastName = lastName;\n    this.age = age;\n    this.phoneNumber = phoneNumber;\n    this.dob = dob;\n    this.married =  married;\n\n\npublic String getPerson() {\n    return (\"Hi my name is\"+this.firstName+\" \"+ this.lastName+\".\"+\"I am \"+this.age+\" years old.\");\n}\n\n}\n</code></pre>\n"},{"tags":["java","arraylist","mouseevent","jlabel","mouselistener"],"comments":[{"owner":{"account_id":2818344,"reputation":10518,"user_id":2422778,"display_name":"Mike Szyndel"},"score":0,"creation_date":1680711029,"post_id":75941718,"comment_id":133945585,"body_markdown":"Welcome to StackOverflow, please take a look at [How to create a Minimal, Reproducible Example\n](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Welcome to StackOverflow, please take a look at [How to create a Minimal, Reproducible Example ](<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>)"},{"owner":{"account_id":10667736,"reputation":909,"user_id":7942383,"display_name":"luckydog32"},"score":0,"creation_date":1680712071,"post_id":75941718,"comment_id":133945898,"body_markdown":"OK cool. So it looks like your square knows when it got clicked on, but it doesn&#39;t know what&#39;s in the rest of the game panel. The GamePanel does though, so the next step is to create a method in GamePanel that Square can call that says &quot;hey I&#39;m square at i/j and I&#39;ve been clicked on. Then from game panel run a &quot;Flood Fill&quot; algorithm. You can Google that term if you get stuck on that part.","body":"OK cool. So it looks like your square knows when it got clicked on, but it doesn&#39;t know what&#39;s in the rest of the game panel. The GamePanel does though, so the next step is to create a method in GamePanel that Square can call that says &quot;hey I&#39;m square at i/j and I&#39;ve been clicked on. Then from game panel run a &quot;Flood Fill&quot; algorithm. You can Google that term if you get stuck on that part."},{"owner":{"account_id":28219078,"reputation":1,"user_id":21570112,"display_name":"c o m a"},"score":0,"creation_date":1680713707,"post_id":75941718,"comment_id":133946306,"body_markdown":"@luckydog32 thanku, i will learn about this algorithm and will update my code later as soon as possible, thank u again for ur advise!","body":"@luckydog32 thanku, i will learn about this algorithm and will update my code later as soon as possible, thank u again for ur advise!"},{"owner":{"account_id":28219078,"reputation":1,"user_id":21570112,"display_name":"c o m a"},"score":0,"creation_date":1680766115,"post_id":75941718,"comment_id":133954451,"body_markdown":"i have complete my code, thank u guys again very muchhh","body":"i have complete my code, thank u guys again very muchhh"}],"owner":{"account_id":28219078,"reputation":1,"user_id":21570112,"display_name":"c o m a"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680713322,"creation_date":1680710799,"question_id":75941718,"body_markdown":"I&#39;m a beginner at Java, here I&#39;m trying to create a Minesweeper game (I still have to learn a lot, so I&#39;m challenging myself by making this game with JLabel, not JButton or any things that is the same kind, by the way, the code is all by myself :&gt; proudly I can say, haha). Anyway, I&#39;m at the part where I need to detect if a slot contains a bomb, or a number, or none. You know, when playing, if you click on a slot that contains nothing, the game will automatically open all the nearby slot (which also contain nothing). My idea is to use MouseAdapter, so I can use MouseEvent.getSource(), or getButton(). But I&#39;m literally stuck! Can someone figure out what do I need to do? It will be very thankful! (and so for my bad English, I&#39;m not a native speaker)\r\n\r\nFirst, I have to inform that I make two package in the same folder, one is for the display, or UI, and one is all the values that connects to the other one.\r\n\r\n(Sorry I don&#39;t have enough reputation! So you would mind click the link to see my image)\r\n\r\n[PACKAGES](https://i.stack.imgur.com/Xcluh.png)\r\n\r\nThis is the &quot;Square&quot; class, which is a JLabel, I want each of the slot inside the game to interact with player&#39;s mouse, so I implement the MouseListener here.\r\n\r\n```java\r\npackage Graphics;\r\n\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\n\r\nimport javax.swing.*;\r\n\r\npublic class Square extends JLabel implements MouseListener {\t\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tpublic int squareWidth = 50, squareLength = 50;\r\n\tColor foreGround;\r\n\t\r\n\tColor grass1 = new Color(170, 215, 80);\r\n\tColor grass2 = new Color(165, 210, 75);\r\n\tColor dirt1 = new Color(230, 195, 160);\r\n\tColor dirt2 = new Color(215, 185, 155);\r\n\r\n\tpublic Square(int x, int y, Color fg, Color bg) {\r\n\t\tforeGround = fg;\r\n\t\tthis.setForeground(bg);\r\n\t\tthis.setFont(new Font(&quot;ArcadeClassic&quot;, Font.BOLD, 40));\r\n\t\tthis.setHorizontalAlignment(JLabel.CENTER);\r\n\t\tthis.setPreferredSize(getPreferredSize());\r\n\t\tthis.setBounds(x, y, squareWidth, squareLength);\r\n\t\tthis.setBackground(bg);\r\n\t\tthis.setOpaque(true);\r\n\t\tthis.addMouseListener(this);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {}\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {}\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\tthis.setForeground(foreGround);\r\n\t\tif(this.getBackground().getRed() == 170) this.setBackground(dirt1);\r\n\t\tif(this.getBackground().getRed() == 165) this.setBackground(dirt2);\r\n\t\tSystem.out.println(&quot;&quot; + this.getX() + &quot; - &quot;  + this.getY());\r\n\t}\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {}\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {}\r\n\t\r\n}\r\n```\r\n\r\nThis is inside the &quot;GamePanel&quot; class, &quot;extends JPanel&quot;, I&#39;m just trying to initialize a 2-D ArrayList with datatype is Square, set the x-coord, y-coord, background color and foreground color for the slot.\r\n\r\n```java\r\npackage Graphics;\r\n\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\nimport Logics.Field;\r\n\r\npublic class GamePanel extends JPanel {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tColor grass1 = new Color(170, 215, 80);\r\n\tColor grass2 = new Color(165, 210, 75);\r\n\tColor dirt1 = new Color(230, 195, 160);\r\n\tColor dirt2 = new Color(215, 185, 155);\r\n\t\r\n\tint row = 5, col = 5;\r\n\tSquare square[][] = new Square[row][col];\r\n\tField field = new Field(row, col);\r\n\t\r\n\tpublic GamePanel() {\r\n\t\tthis.setBackground(new Color(75, 120, 45));\t\t\r\n\t\tfield.createBomb(3);\r\n\t\tfield.printValue();\t\t\r\n\t\tint x = 20, y = 5;\r\n\t\tint len = 0;\r\n\t\tbyte step = 0;\t\t\r\n\t\tfor(int i = 0; i &lt; row; i++) {\r\n\t\t\tfor(int j = 0; j &lt; col; j++) {\r\n\t\t\t\tColor temp = null;\r\n\t\t\t\tswitch(field.getValue(i, j)) {\r\n\t\t\t\t\tcase 1: {\r\n\t\t\t\t\t\ttemp = Color.blue; break;}\r\n\t\t\t\t\tcase 2: {\r\n\t\t\t\t\t\ttemp = new Color(75, 120, 45); break;}\r\n\t\t\t\t\tcase 3: {\r\n\t\t\t\t\t\ttemp = Color.red; break;}\r\n\t\t\t\t\tcase 4: {\r\n\t\t\t\t\t\ttemp = new Color(125, 30, 165); break;}\r\n\t\t\t\t\tcase 5: {\r\n\t\t\t\t\t\ttemp = new Color(255, 145, 0); break;}\r\n\t\t\t\t\tcase 6: {\r\n\t\t\t\t\t\ttemp = new Color(0, 150, 170); break;}}\r\n\t\t\t\tif(step == 0) {\r\n\t\t\t\t\tsquare[i][j] = new Square(x, y, temp, grass1);\r\n\t\t\t\t\tstep = 1;}\r\n\t\t\t\telse {\r\n\t\t\t\t\tsquare[i][j] = new Square(x, y, temp, grass2);\r\n\t\t\t\t\tstep = 0;}\r\n\t\t\t\tthis.add(square[i][j]);\r\n\t\t\t\tx += square[i][j].squareWidth;\r\n\t\t\t\tlen = square[i][j].squareLength;}\r\n\t\t\ty += len;\r\n\t\t\tx = 20;}\r\n\t\tthis.setSquareText();\r\n\t\tthis.setLayout(null);\r\n\t}\r\n\t\r\n\tpublic void setSquareText() {\r\n\t\tfor(int i = 0; i &lt; row; i++) {\r\n\t\t\tfor(int j = 0; j &lt; col; j++) {\r\n\t\t\t\tif(field.getValue(i, j) == 0) square[i][j].setText(&quot;&quot;);\r\n\t\t\t\telse if(field.getValue(i, j) == -1) square[i][j].setText(&quot;x&quot;);\r\n\t\t\t\telse square[i][j].setText(Integer.toString(field.getValue(i, j)));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nIf needed, I will capture the Logics package for you guys! (Sorry if the code is hard to watch, I have to shorten it down so that I can capture it!)","title":"Is there a way to detect a mouse action which is a &quot;isReleased&quot; on a JLabel?","body":"<p>I'm a beginner at Java, here I'm trying to create a Minesweeper game (I still have to learn a lot, so I'm challenging myself by making this game with JLabel, not JButton or any things that is the same kind, by the way, the code is all by myself :&gt; proudly I can say, haha). Anyway, I'm at the part where I need to detect if a slot contains a bomb, or a number, or none. You know, when playing, if you click on a slot that contains nothing, the game will automatically open all the nearby slot (which also contain nothing). My idea is to use MouseAdapter, so I can use MouseEvent.getSource(), or getButton(). But I'm literally stuck! Can someone figure out what do I need to do? It will be very thankful! (and so for my bad English, I'm not a native speaker)</p>\n<p>First, I have to inform that I make two package in the same folder, one is for the display, or UI, and one is all the values that connects to the other one.</p>\n<p>(Sorry I don't have enough reputation! So you would mind click the link to see my image)</p>\n<p><a href=\"https://i.stack.imgur.com/Xcluh.png\" rel=\"nofollow noreferrer\">PACKAGES</a></p>\n<p>This is the &quot;Square&quot; class, which is a JLabel, I want each of the slot inside the game to interact with player's mouse, so I implement the MouseListener here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Graphics;\n\nimport java.awt.*;\nimport java.awt.event.*;\n\nimport javax.swing.*;\n\npublic class Square extends JLabel implements MouseListener {   \n    \n    private static final long serialVersionUID = 1L;\n    \n    public int squareWidth = 50, squareLength = 50;\n    Color foreGround;\n    \n    Color grass1 = new Color(170, 215, 80);\n    Color grass2 = new Color(165, 210, 75);\n    Color dirt1 = new Color(230, 195, 160);\n    Color dirt2 = new Color(215, 185, 155);\n\n    public Square(int x, int y, Color fg, Color bg) {\n        foreGround = fg;\n        this.setForeground(bg);\n        this.setFont(new Font(&quot;ArcadeClassic&quot;, Font.BOLD, 40));\n        this.setHorizontalAlignment(JLabel.CENTER);\n        this.setPreferredSize(getPreferredSize());\n        this.setBounds(x, y, squareWidth, squareLength);\n        this.setBackground(bg);\n        this.setOpaque(true);\n        this.addMouseListener(this);\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {}\n    @Override\n    public void mousePressed(MouseEvent e) {}\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        this.setForeground(foreGround);\n        if(this.getBackground().getRed() == 170) this.setBackground(dirt1);\n        if(this.getBackground().getRed() == 165) this.setBackground(dirt2);\n        System.out.println(&quot;&quot; + this.getX() + &quot; - &quot;  + this.getY());\n    }\n    @Override\n    public void mouseEntered(MouseEvent e) {}\n    @Override\n    public void mouseExited(MouseEvent e) {}\n    \n}\n</code></pre>\n<p>This is inside the &quot;GamePanel&quot; class, &quot;extends JPanel&quot;, I'm just trying to initialize a 2-D ArrayList with datatype is Square, set the x-coord, y-coord, background color and foreground color for the slot.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package Graphics;\n\nimport java.awt.*;\nimport javax.swing.*;\n\nimport Logics.Field;\n\npublic class GamePanel extends JPanel {\n\n    private static final long serialVersionUID = 1L;\n    \n    Color grass1 = new Color(170, 215, 80);\n    Color grass2 = new Color(165, 210, 75);\n    Color dirt1 = new Color(230, 195, 160);\n    Color dirt2 = new Color(215, 185, 155);\n    \n    int row = 5, col = 5;\n    Square square[][] = new Square[row][col];\n    Field field = new Field(row, col);\n    \n    public GamePanel() {\n        this.setBackground(new Color(75, 120, 45));     \n        field.createBomb(3);\n        field.printValue();     \n        int x = 20, y = 5;\n        int len = 0;\n        byte step = 0;      \n        for(int i = 0; i &lt; row; i++) {\n            for(int j = 0; j &lt; col; j++) {\n                Color temp = null;\n                switch(field.getValue(i, j)) {\n                    case 1: {\n                        temp = Color.blue; break;}\n                    case 2: {\n                        temp = new Color(75, 120, 45); break;}\n                    case 3: {\n                        temp = Color.red; break;}\n                    case 4: {\n                        temp = new Color(125, 30, 165); break;}\n                    case 5: {\n                        temp = new Color(255, 145, 0); break;}\n                    case 6: {\n                        temp = new Color(0, 150, 170); break;}}\n                if(step == 0) {\n                    square[i][j] = new Square(x, y, temp, grass1);\n                    step = 1;}\n                else {\n                    square[i][j] = new Square(x, y, temp, grass2);\n                    step = 0;}\n                this.add(square[i][j]);\n                x += square[i][j].squareWidth;\n                len = square[i][j].squareLength;}\n            y += len;\n            x = 20;}\n        this.setSquareText();\n        this.setLayout(null);\n    }\n    \n    public void setSquareText() {\n        for(int i = 0; i &lt; row; i++) {\n            for(int j = 0; j &lt; col; j++) {\n                if(field.getValue(i, j) == 0) square[i][j].setText(&quot;&quot;);\n                else if(field.getValue(i, j) == -1) square[i][j].setText(&quot;x&quot;);\n                else square[i][j].setText(Integer.toString(field.getValue(i, j)));\n            }\n        }\n    }\n    \n}\n</code></pre>\n<p>If needed, I will capture the Logics package for you guys! (Sorry if the code is hard to watch, I have to shorten it down so that I can capture it!)</p>\n"},{"tags":["python","java","json","mongodb","gridfs"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680713601,"post_id":75941480,"comment_id":133946283,"body_markdown":"Are you really Java serialization and writing to MongoDB with that? Don&#39;t do that. Java serialization is specific to Java, it is not generic. Why aren&#39;t you writing `list.toJSONString()` directly to MongoDB instead?","body":"Are you really Java serialization and writing to MongoDB with that? Don&#39;t do that. Java serialization is specific to Java, it is not generic. Why aren&#39;t you writing <code>list.toJSONString()</code> directly to MongoDB instead?"},{"owner":{"account_id":3078546,"reputation":687,"user_id":2607331,"accept_rate":55,"display_name":"Tushar Saurabh"},"score":0,"creation_date":1680720008,"post_id":75941480,"comment_id":133947745,"body_markdown":"@MarkRotteveel - Thanks for your response. I had a doubt that Java serialization is specific to Java,  but tutorialspoint mentions it as &quot;JVM independent&quot;. Java doc also doesnt mention anything, hence I thought I am doing it wrong. Any way, thanks for confirming. I tried and tested what you said and output is as expected. Thanks again!!","body":"@MarkRotteveel - Thanks for your response. I had a doubt that Java serialization is specific to Java,  but tutorialspoint mentions it as &quot;JVM independent&quot;. Java doc also doesnt mention anything, hence I thought I am doing it wrong. Any way, thanks for confirming. I tried and tested what you said and output is as expected. Thanks again!!"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1680766637,"post_id":75941480,"comment_id":133954553,"body_markdown":"&quot;JVM independent&quot; means that you can serialize from one JVM to another JVM, even between different JVM versions and released by different vendors. JVM stands for Java Virtual Machine. Java serialization is a binary protocol, which is what trips you up now. Of course, in theory, you could deserialize in a different language, but then you need to write a deserializer which implements the right binary processing, and you didn&#39;t (and there are additional issues even then). If you want to serialize between platforms, you need to use a generic serialization format (e.g. XML, JSON, protobuf, etc).","body":"&quot;JVM independent&quot; means that you can serialize from one JVM to another JVM, even between different JVM versions and released by different vendors. JVM stands for Java Virtual Machine. Java serialization is a binary protocol, which is what trips you up now. Of course, in theory, you could deserialize in a different language, but then you need to write a deserializer which implements the right binary processing, and you didn&#39;t (and there are additional issues even then). If you want to serialize between platforms, you need to use a generic serialization format (e.g. XML, JSON, protobuf, etc)."}],"owner":{"account_id":3078546,"reputation":687,"user_id":2607331,"accept_rate":55,"display_name":"Tushar Saurabh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680713152,"creation_date":1680709424,"question_id":75941480,"body_markdown":"Context - On daily basis application log files are generated for external REST calls. I am trying to parse the log files and extract information related to external REST call. The information extracted are StartTime of Rest Call, EndTime when response was received, payloads etc. This information is collected and collated for a particular session in a waterfall diagram so as to visualize how much time is spent in each call.\r\n\r\nProblem - For one of the log files, the collated information for a particular session is more than 16MB and hence I have to use GridFS. The REST call information is collected in a custom object. I serialised the object and uploaded to GridFS. On Jupyter Notebook, I am extracting the data, however the data has some additional characters. In the below example, I have converted the object to a string (idea was to use json.loads in Python), but when I extract in Python, I get the following.\r\n\r\nExtraction:\r\n```python\r\nimport javaobj.v2 as javaobj\r\npObj = javaobj.loads(fs.get(record[&#39;calls&#39;]).read())\r\npObj.dump()\r\n```\r\n\r\nThe output of dump instruction is:\r\n\r\n```none\r\n&#39;[String 7e0000: \\&#39;[{&quot;tokenId&quot;:&quot;a6fc52b3-0c60-4332-b866-09f3fe8b243f&quot;,&quot;responseTime&quot;:540.2587,&quot;requestPayload&quot;:null,&quot;responsePayload&quot;:&quot;{\\\\\\\\&quot;Identifiers\\\\\\\\&quot;:[{\\\\\\\\&quot;Name\\\\\\\\&quot;:\\\\\\\\&quot;XXXX MANAGEMENT LLC-CISA\\\\\\\\&quot;,\\\\\\\\&quot;Number\\\\\\\\&quot;:\\\\\\\\&quot;0012345\\\\\\\\&quot;,\\\\\\\\&quot;SubNumber\\\\\\\\&quot;:\\\\\\\\&quot;00099\\\\\\\\&quot;,\\\\\\\\&quot;Sourceode\\\\\\\\&quot;:null,\\\\\\\\&quot;SourceGroups\\\\\\\\&quot;:null,\\\\\\\\&quot;IsPrimary\\\\\\\\&quot;:false}],\\\\\\\\&quot;serviceConsumerId\\\\\\\\&quot;:\\\\\\\\&quot;YYY\\\\\\\\&quot;,\\\\\\\\&quot;serviceConsumerSystemId\\\\\\\\&quot;:\\\\\\\\&quot;001\\\\\\\\&quot;,\\\\\\\\&quot;service ....\r\n```\r\nThe string has too many slash as escape character, then it starts with text &quot;String 7e0000&quot;. Obviously json.loads in Python will fail.\r\n\r\nBelow is the code that I used to serialize the object and store: \r\n\r\nMethod to convert the custom object to String\r\n\r\n```java\r\npublic static String convertToString(ArrayList&lt;LogStructure&gt; logs){\r\n    StringBuilder sBuilder = new StringBuilder();\r\n    sBuilder.append(&quot;[&quot;);\r\n    for (LogStructure log: logs){\r\n        sBuilder.append(getString(log));\r\n        sBuilder.append(&quot;,&quot;);\r\n    }\r\n    return sBuilder.toString();\r\n}\r\n\r\npublic static String getString(LogStructure log){\r\n    StringBuilder sBuilder = new StringBuilder();\r\n    sBuilder.append(&quot;{logLevel:&quot;);\r\n    sBuilder.append(log.logLevel);\r\n    sBuilder.append(&quot;,logInjestionDateTime:&quot;);\r\n    sBuilder.append(log.logInjestionDateTime);\r\n    sBuilder.append(&quot;,serverName:&quot;);\r\n    sBuilder.append(log.serverName);\r\n\r\n    sBuilder.append(&quot;,serviceName:&quot;);\r\n    sBuilder.append(log.serviceName);\r\n\r\n    sBuilder.append(&quot;,serviceEndPoint:&quot;);\r\n    sBuilder.append(log.serviceEndPoint);\r\n\r\n    sBuilder.append(&quot;,startTime:&quot;);\r\n    sBuilder.append(log.startTime);\r\n\r\n    sBuilder.append(&quot;,endTime:&quot;);\r\n    sBuilder.append(log.endTime);\r\n\r\n    sBuilder.append(&quot;,responseTime:&quot;);\r\n    sBuilder.append(log.responseTime);\r\n\r\n    sBuilder.append(&quot;,message:&quot;);\r\n    sBuilder.append(log.message);\r\n\r\n    sBuilder.append(&quot;,endTime:&quot;);\r\n    sBuilder.append(log.endTime);\r\n\r\n    sBuilder.append(&quot;,requestId:&quot;);\r\n    sBuilder.append(log.requestId);\r\n\r\n    sBuilder.append(&quot;,tokenId:&quot;);\r\n    sBuilder.append(log.tokenId);\r\n\r\n    sBuilder.append(&quot;,userId:&quot;);\r\n    sBuilder.append(log.userId);\r\n\r\n    sBuilder.append(&quot;,requestPayload:&quot;);\r\n    sBuilder.append(log.requestPayload);\r\n\r\n    sBuilder.append(&quot;,responsePayload:&quot;);\r\n    sBuilder.append(log.responsePayload);\r\n\r\n    sBuilder.append(&quot;,payloadType:&quot;);\r\n    sBuilder.append(log.payloadType);\r\n    sBuilder.append(&quot;}&quot;);\r\n\r\n    return sBuilder.toString();\r\n}\r\n```\r\n\r\nUpload to GridFs in App.java\r\n\r\n\r\n```\r\nJSONArray list = new JSONArray();\r\nfor(LogStructure temp: tempObject){\r\n    totalCalls++;\r\n    JSONObject obj = new JSONObject();\r\n    //BasicDBObject basicDBObject = new BasicDBObject();\r\n    obj.put(&quot;logLevel&quot;, temp.logLevel);\r\n    obj.put(&quot;logInjestionDateTime&quot;, temp.logInjestionDateTime);\r\n    obj.put(&quot;serverName&quot;, temp.serverName);\r\n    obj.put(&quot;serviceName&quot;, temp.serviceName);\r\n    obj.put(&quot;serviceEndPoint&quot;, temp.serviceEndPoint);\r\n    obj.put(&quot;startTime&quot;, temp.startTime);\r\n    obj.put(&quot;endTime&quot;, temp.endTime);\r\n    obj.put(&quot;responseTime&quot;, temp.responseTime);\r\n    obj.put(&quot;message&quot;, temp.message);\r\n    obj.put(&quot;requestId&quot;, temp.requestId);\r\n    obj.put(&quot;tokenId&quot;, temp.tokenId);\r\n    obj.put(&quot;requestPayload&quot;, temp.requestPayload);\r\n    obj.put(&quot;responsePayload&quot;, temp.responsePayload);\r\n    obj.put(&quot;payloadType&quot;, temp.payloadType);\r\n    list.add(obj);\r\n}\r\n\r\nByteArrayOutputStream baos = new ByteArrayOutputStream();\r\nObjectOutputStream oos;\r\ntry {\r\n     oos = new ObjectOutputStream(baos);\r\n     oos.writeObject(list.toJSONString());\r\n     oos.flush();\r\n     oos.close();\r\n} catch (IOException e) {\r\n    // TODO Auto-generated catch block\r\n    e.printStackTrace();\r\n}\r\nInputStream is = new ByteArrayInputStream(baos.toByteArray());\r\n// ObjectOutputStream is = new ObjectOutputStream(null);\r\n                       \r\n\r\nGridFSBucket gridFSBucket = mongo.getGridFsBucket(mDb, &quot;Logs&quot;);\r\nObjectId objectId = mongo.uploadToGrid(is, gridFSBucket);\r\ndoc.append(&quot;totalCalls&quot;, totalCalls);\r\ndoc.append(&quot;calls&quot;, objectId);\r\nmongo.insertDocument(mCollection, doc);\r\n```\r\n\r\nI referred to the below links to understand about GridFs and serialization of object.\r\n\r\nhttps://mongodb.github.io/mongo-java-driver/3.5/driver/tutorials/gridfs/\r\nhttps://howtodoinjava.com/java/serialization/custom-serialization-readobject-writeobject/\r\nhttps://www.baeldung.com/java-serialization\r\n\r\nCurrently, the way Java is storing in MongoDB and extracting it, has some specific texts related to Java. For example, the first attempt was to serialize the ArrayList object as it is, however when I extracted the data in python, the string had &quot;System.*.ArrayList&quot;. Then I tried storing the data as JsonObject using simple.json library. Default serialization had object&#39;s memory address. Then I used toJsonString method and tried to save as string expecting that the final string will be of pattern \r\n\r\n&gt; &quot;{\\&quot;key\\&quot;: [{\\&quot;key1\\&quot;:value},{\\&quot;key2\\&quot;:value}]}&quot;\r\n\r\nThis will allow me to use json.loads function and get a dictionary.\r\n\r\n","title":"Writing large objects in MongoDB&#39;s GridFS &amp; extracting it in Python","body":"<p>Context - On daily basis application log files are generated for external REST calls. I am trying to parse the log files and extract information related to external REST call. The information extracted are StartTime of Rest Call, EndTime when response was received, payloads etc. This information is collected and collated for a particular session in a waterfall diagram so as to visualize how much time is spent in each call.</p>\n<p>Problem - For one of the log files, the collated information for a particular session is more than 16MB and hence I have to use GridFS. The REST call information is collected in a custom object. I serialised the object and uploaded to GridFS. On Jupyter Notebook, I am extracting the data, however the data has some additional characters. In the below example, I have converted the object to a string (idea was to use json.loads in Python), but when I extract in Python, I get the following.</p>\n<p>Extraction:</p>\n<pre class=\"lang-py prettyprint-override\"><code>import javaobj.v2 as javaobj\npObj = javaobj.loads(fs.get(record['calls']).read())\npObj.dump()\n</code></pre>\n<p>The output of dump instruction is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>'[String 7e0000: \\'[{&quot;tokenId&quot;:&quot;a6fc52b3-0c60-4332-b866-09f3fe8b243f&quot;,&quot;responseTime&quot;:540.2587,&quot;requestPayload&quot;:null,&quot;responsePayload&quot;:&quot;{\\\\\\\\&quot;Identifiers\\\\\\\\&quot;:[{\\\\\\\\&quot;Name\\\\\\\\&quot;:\\\\\\\\&quot;XXXX MANAGEMENT LLC-CISA\\\\\\\\&quot;,\\\\\\\\&quot;Number\\\\\\\\&quot;:\\\\\\\\&quot;0012345\\\\\\\\&quot;,\\\\\\\\&quot;SubNumber\\\\\\\\&quot;:\\\\\\\\&quot;00099\\\\\\\\&quot;,\\\\\\\\&quot;Sourceode\\\\\\\\&quot;:null,\\\\\\\\&quot;SourceGroups\\\\\\\\&quot;:null,\\\\\\\\&quot;IsPrimary\\\\\\\\&quot;:false}],\\\\\\\\&quot;serviceConsumerId\\\\\\\\&quot;:\\\\\\\\&quot;YYY\\\\\\\\&quot;,\\\\\\\\&quot;serviceConsumerSystemId\\\\\\\\&quot;:\\\\\\\\&quot;001\\\\\\\\&quot;,\\\\\\\\&quot;service ....\n</code></pre>\n<p>The string has too many slash as escape character, then it starts with text &quot;String 7e0000&quot;. Obviously json.loads in Python will fail.</p>\n<p>Below is the code that I used to serialize the object and store:</p>\n<p>Method to convert the custom object to String</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String convertToString(ArrayList&lt;LogStructure&gt; logs){\n    StringBuilder sBuilder = new StringBuilder();\n    sBuilder.append(&quot;[&quot;);\n    for (LogStructure log: logs){\n        sBuilder.append(getString(log));\n        sBuilder.append(&quot;,&quot;);\n    }\n    return sBuilder.toString();\n}\n\npublic static String getString(LogStructure log){\n    StringBuilder sBuilder = new StringBuilder();\n    sBuilder.append(&quot;{logLevel:&quot;);\n    sBuilder.append(log.logLevel);\n    sBuilder.append(&quot;,logInjestionDateTime:&quot;);\n    sBuilder.append(log.logInjestionDateTime);\n    sBuilder.append(&quot;,serverName:&quot;);\n    sBuilder.append(log.serverName);\n\n    sBuilder.append(&quot;,serviceName:&quot;);\n    sBuilder.append(log.serviceName);\n\n    sBuilder.append(&quot;,serviceEndPoint:&quot;);\n    sBuilder.append(log.serviceEndPoint);\n\n    sBuilder.append(&quot;,startTime:&quot;);\n    sBuilder.append(log.startTime);\n\n    sBuilder.append(&quot;,endTime:&quot;);\n    sBuilder.append(log.endTime);\n\n    sBuilder.append(&quot;,responseTime:&quot;);\n    sBuilder.append(log.responseTime);\n\n    sBuilder.append(&quot;,message:&quot;);\n    sBuilder.append(log.message);\n\n    sBuilder.append(&quot;,endTime:&quot;);\n    sBuilder.append(log.endTime);\n\n    sBuilder.append(&quot;,requestId:&quot;);\n    sBuilder.append(log.requestId);\n\n    sBuilder.append(&quot;,tokenId:&quot;);\n    sBuilder.append(log.tokenId);\n\n    sBuilder.append(&quot;,userId:&quot;);\n    sBuilder.append(log.userId);\n\n    sBuilder.append(&quot;,requestPayload:&quot;);\n    sBuilder.append(log.requestPayload);\n\n    sBuilder.append(&quot;,responsePayload:&quot;);\n    sBuilder.append(log.responsePayload);\n\n    sBuilder.append(&quot;,payloadType:&quot;);\n    sBuilder.append(log.payloadType);\n    sBuilder.append(&quot;}&quot;);\n\n    return sBuilder.toString();\n}\n</code></pre>\n<p>Upload to GridFs in App.java</p>\n<pre><code>JSONArray list = new JSONArray();\nfor(LogStructure temp: tempObject){\n    totalCalls++;\n    JSONObject obj = new JSONObject();\n    //BasicDBObject basicDBObject = new BasicDBObject();\n    obj.put(&quot;logLevel&quot;, temp.logLevel);\n    obj.put(&quot;logInjestionDateTime&quot;, temp.logInjestionDateTime);\n    obj.put(&quot;serverName&quot;, temp.serverName);\n    obj.put(&quot;serviceName&quot;, temp.serviceName);\n    obj.put(&quot;serviceEndPoint&quot;, temp.serviceEndPoint);\n    obj.put(&quot;startTime&quot;, temp.startTime);\n    obj.put(&quot;endTime&quot;, temp.endTime);\n    obj.put(&quot;responseTime&quot;, temp.responseTime);\n    obj.put(&quot;message&quot;, temp.message);\n    obj.put(&quot;requestId&quot;, temp.requestId);\n    obj.put(&quot;tokenId&quot;, temp.tokenId);\n    obj.put(&quot;requestPayload&quot;, temp.requestPayload);\n    obj.put(&quot;responsePayload&quot;, temp.responsePayload);\n    obj.put(&quot;payloadType&quot;, temp.payloadType);\n    list.add(obj);\n}\n\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nObjectOutputStream oos;\ntry {\n     oos = new ObjectOutputStream(baos);\n     oos.writeObject(list.toJSONString());\n     oos.flush();\n     oos.close();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nInputStream is = new ByteArrayInputStream(baos.toByteArray());\n// ObjectOutputStream is = new ObjectOutputStream(null);\n                       \n\nGridFSBucket gridFSBucket = mongo.getGridFsBucket(mDb, &quot;Logs&quot;);\nObjectId objectId = mongo.uploadToGrid(is, gridFSBucket);\ndoc.append(&quot;totalCalls&quot;, totalCalls);\ndoc.append(&quot;calls&quot;, objectId);\nmongo.insertDocument(mCollection, doc);\n</code></pre>\n<p>I referred to the below links to understand about GridFs and serialization of object.</p>\n<p><a href=\"https://mongodb.github.io/mongo-java-driver/3.5/driver/tutorials/gridfs/\" rel=\"nofollow noreferrer\">https://mongodb.github.io/mongo-java-driver/3.5/driver/tutorials/gridfs/</a>\n<a href=\"https://howtodoinjava.com/java/serialization/custom-serialization-readobject-writeobject/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/serialization/custom-serialization-readobject-writeobject/</a>\n<a href=\"https://www.baeldung.com/java-serialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-serialization</a></p>\n<p>Currently, the way Java is storing in MongoDB and extracting it, has some specific texts related to Java. For example, the first attempt was to serialize the ArrayList object as it is, however when I extracted the data in python, the string had &quot;System.*.ArrayList&quot;. Then I tried storing the data as JsonObject using simple.json library. Default serialization had object's memory address. Then I used toJsonString method and tried to save as string expecting that the final string will be of pattern</p>\n<blockquote>\n<p>&quot;{&quot;key&quot;: [{&quot;key1&quot;:value},{&quot;key2&quot;:value}]}&quot;</p>\n</blockquote>\n<p>This will allow me to use json.loads function and get a dictionary.</p>\n"},{"tags":["java","string","substring"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680636564,"creation_date":1680636564,"answer_id":75933141,"question_id":75933114,"body_markdown":"Regex to the rescue:\r\n\r\n    String start = sentence.replaceAll(&quot;(?&lt;=Administrator).*&quot;, &quot;&quot;);\r\n\r\nThis works by matching everything after `Administrator` and replacing it with nothing (effectively &quot;deleting&quot; it).\r\n\r\nThe key part of the regex is the look behind `(?&lt;=Administrator)`, which matches immediately after `Administrator` - *between* the `r` and the space.\r\n","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p>Regex to the rescue:</p>\n<pre><code>String start = sentence.replaceAll(&quot;(?&lt;=Administrator).*&quot;, &quot;&quot;);\n</code></pre>\n<p>This works by matching everything after <code>Administrator</code> and replacing it with nothing (effectively &quot;deleting&quot; it).</p>\n<p>The key part of the regex is the look behind <code>(?&lt;=Administrator)</code>, which matches immediately after <code>Administrator</code> - <em>between</em> the <code>r</code> and the space.</p>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1680640103,"post_id":75933149,"comment_id":133931920,"body_markdown":"This isn&#39;t really helpful because you don&#39;t explain how to choose the `21` - if you&#39;re going to have a hard-coded value, you may as well just hard-code `&quot;I am an Administrator&quot;`, because at least you can easily see what that means. You should explain how to choose the 21 at runtime.","body":"This isn&#39;t really helpful because you don&#39;t explain how to choose the <code>21</code> - if you&#39;re going to have a hard-coded value, you may as well just hard-code <code>&quot;I am an Administrator&quot;</code>, because at least you can easily see what that means. You should explain how to choose the 21 at runtime."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1681040048,"post_id":75933149,"comment_id":133992136,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75933149/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":24155011,"reputation":31,"user_id":18119367,"display_name":"kerolos William"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680636607,"creation_date":1680636607,"answer_id":75933149,"question_id":75933114,"body_markdown":"use substring method \r\nex \r\nString s = &quot;hello&quot;\r\n\r\n    s.substring(0,2)\r\n\r\noutput = he\r\nin your example it will be \r\n\r\n    sentence.substring(0,21)\r\n\r\n","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p>use substring method\nex\nString s = &quot;hello&quot;</p>\n<pre><code>s.substring(0,2)\n</code></pre>\n<p>output = he\nin your example it will be</p>\n<pre><code>sentence.substring(0,21)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1680636838,"post_id":75933173,"comment_id":133931181,"body_markdown":"(Except with `&quot;` instead of smart quotes)","body":"(Except with <code>&quot;</code> instead of smart quotes)"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1680636896,"creation_date":1680636781,"answer_id":75933173,"question_id":75933114,"body_markdown":"`indexOf` is what you need. Try:\r\n\r\n    sentence.substring(0, sentence.indexOf(“Administrator”) + ”Administrator”.length())","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p><code>indexOf</code> is what you need. Try:</p>\n<pre><code>sentence.substring(0, sentence.indexOf(“Administrator”) + ”Administrator”.length())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680637325,"creation_date":1680637325,"answer_id":75933231,"question_id":75933114,"body_markdown":"You can use `String#indexOf(str:String):int` in various ways to grab parts of string efficiently.\r\n\r\n```java\r\npublic class StringUtils {\r\n    public static final String sentence = &quot;I am an Administrator of my building&quot;;\r\n    public static final String term = &quot;Administrator&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        // &quot;I am an Administrator&quot;\r\n        System.out.println(headStringInclusive(sentence, term));\r\n\r\n        // &quot;Administrator of my building&quot;\r\n        System.out.println(tailStringInclusive(sentence, term));\r\n\r\n        // &quot;I am an &quot;\r\n        System.out.println(headStringExclusive(sentence, term));\r\n\r\n        // &quot; of my building&quot;\r\n        System.out.println(tailStringExclusive(sentence, term));\r\n    }\r\n\r\n    public static String headStringInclusive(String str, String term) {\r\n        int index = str.indexOf(term);\r\n        return index != -1 ? str.substring(0, index + term.length()) : str;\r\n    }\r\n\r\n    public static String tailStringInclusive(String str, String term) {\r\n        int index = str.lastIndexOf(term);\r\n        return index != -1 ? str.substring(index) : str;\r\n    }\r\n\r\n    public static String headStringExclusive(String str, String term) {\r\n        int index = str.indexOf(term);\r\n        return index != -1 ? str.substring(0, index) : str;\r\n    }\r\n\r\n    public static String tailStringExclusive(String str, String term) {\r\n        int index = str.lastIndexOf(term);\r\n        return index != -1 ? str.substring(index + term.length()) : str;\r\n    }\r\n}\r\n\r\n```","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p>You can use <code>String#indexOf(str:String):int</code> in various ways to grab parts of string efficiently.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class StringUtils {\n    public static final String sentence = &quot;I am an Administrator of my building&quot;;\n    public static final String term = &quot;Administrator&quot;;\n\n    public static void main(String[] args) {\n        // &quot;I am an Administrator&quot;\n        System.out.println(headStringInclusive(sentence, term));\n\n        // &quot;Administrator of my building&quot;\n        System.out.println(tailStringInclusive(sentence, term));\n\n        // &quot;I am an &quot;\n        System.out.println(headStringExclusive(sentence, term));\n\n        // &quot; of my building&quot;\n        System.out.println(tailStringExclusive(sentence, term));\n    }\n\n    public static String headStringInclusive(String str, String term) {\n        int index = str.indexOf(term);\n        return index != -1 ? str.substring(0, index + term.length()) : str;\n    }\n\n    public static String tailStringInclusive(String str, String term) {\n        int index = str.lastIndexOf(term);\n        return index != -1 ? str.substring(index) : str;\n    }\n\n    public static String headStringExclusive(String str, String term) {\n        int index = str.indexOf(term);\n        return index != -1 ? str.substring(0, index) : str;\n    }\n\n    public static String tailStringExclusive(String str, String term) {\n        int index = str.lastIndexOf(term);\n        return index != -1 ? str.substring(index + term.length()) : str;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680712904,"creation_date":1680712375,"answer_id":75941955,"question_id":75933114,"body_markdown":"I would write a method to take a sentence and its replacement.  The following also preserves end of sentence punctuation.\r\n```\r\nString[][] sentences = {\r\n        {&quot;I am an Administrator of my building.&quot;, &quot;Administrator&quot;},\r\n        {&quot;I am a teacher of math students.&quot;, &quot;teacher&quot;},\r\n        {&quot;I am a parent of two children!!&quot;, &quot;parent&quot;}};\r\n\r\nfor(String[] info : sentences) {\r\n    String result = trimAfterWord(info[0], info[1]);\r\n    System.out.println(result);\r\n}\r\n```\r\nprints\r\n```\r\nI am an Administrator.\r\nI am a teacher.\r\nI am a parent!!\r\n```\r\n- `(?i)` - do case independent matching for word.  Existing case of word will be kept in result.\r\n- `(.*?)` - do a reluctant match to ensure grabbing all punctuation if it exists.\r\n- `$` - only preserve punctuation at end of sentence.\r\n- `$1$2` - back references to captured `word` and `Punct`\r\n```\r\npublic static String trimAfterWord(String sentence, String word) {\r\n    return sentence.replaceFirst(&quot;(?i)(&quot;+word+&quot;).*?(\\\\p{Punct}*)$&quot;, &quot;$1$2&quot;);\r\n}\r\n```\r\nFor more useful information on regular expressions and pattern matching check out [Pattern](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#sum).","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p>I would write a method to take a sentence and its replacement.  The following also preserves end of sentence punctuation.</p>\n<pre><code>String[][] sentences = {\n        {&quot;I am an Administrator of my building.&quot;, &quot;Administrator&quot;},\n        {&quot;I am a teacher of math students.&quot;, &quot;teacher&quot;},\n        {&quot;I am a parent of two children!!&quot;, &quot;parent&quot;}};\n\nfor(String[] info : sentences) {\n    String result = trimAfterWord(info[0], info[1]);\n    System.out.println(result);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>I am an Administrator.\nI am a teacher.\nI am a parent!!\n</code></pre>\n<ul>\n<li><code>(?i)</code> - do case independent matching for word.  Existing case of word will be kept in result.</li>\n<li><code>(.*?)</code> - do a reluctant match to ensure grabbing all punctuation if it exists.</li>\n<li><code>$</code> - only preserve punctuation at end of sentence.</li>\n<li><code>$1$2</code> - back references to captured <code>word</code> and <code>Punct</code></li>\n</ul>\n<pre><code>public static String trimAfterWord(String sentence, String word) {\n    return sentence.replaceFirst(&quot;(?i)(&quot;+word+&quot;).*?(\\\\p{Punct}*)$&quot;, &quot;$1$2&quot;);\n}\n</code></pre>\n<p>For more useful information on regular expressions and pattern matching check out <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/regex/Pattern.html#sum\" rel=\"nofollow noreferrer\">Pattern</a>.</p>\n"}],"owner":{"account_id":7073901,"reputation":558,"user_id":5414637,"accept_rate":50,"display_name":"AutoTester999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75933141,"answer_count":5,"score":1,"last_activity_date":1680712904,"creation_date":1680636261,"question_id":75933114,"body_markdown":"**Input string:**\r\n\r\n    String sentence = &quot;I am an Administrator of my building&quot;;\r\n\r\n**Desired Output String** = `&quot;I am an Administrator&quot;`\r\n\r\nPattern for extracting the substring: Get the substring starting from the beginning of the &#39;`sentence`&#39; string and until the end of the word &#39;`Administrator`&#39;.\r\n\r\nI could get the `endIndex` of &#39;Administrator&#39; and then use `substring(int beginIndex, int endIndex)`\r\n\r\nNot sure if this is the most efficient way to do it.\r\nWhat would the efficient or short way to achieve this?","title":"Java - How to extract a substring from start until the end of a particular word in a string?","body":"<p><strong>Input string:</strong></p>\n<pre><code>String sentence = &quot;I am an Administrator of my building&quot;;\n</code></pre>\n<p><strong>Desired Output String</strong> = <code>&quot;I am an Administrator&quot;</code></p>\n<p>Pattern for extracting the substring: Get the substring starting from the beginning of the '<code>sentence</code>' string and until the end of the word '<code>Administrator</code>'.</p>\n<p>I could get the <code>endIndex</code> of 'Administrator' and then use <code>substring(int beginIndex, int endIndex)</code></p>\n<p>Not sure if this is the most efficient way to do it.\nWhat would the efficient or short way to achieve this?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1301014,"reputation":8110,"user_id":1250929,"accept_rate":72,"display_name":"Kristy Welsh"},"score":0,"creation_date":1680696748,"post_id":75939201,"comment_id":133941161,"body_markdown":"I think we need a screen shot or some code in order to help you.","body":"I think we need a screen shot or some code in order to help you."},{"owner":{"account_id":27808716,"reputation":122,"user_id":21231507,"display_name":"Bhavyesh Patel"},"score":0,"creation_date":1680701420,"post_id":75939201,"comment_id":133942642,"body_markdown":"Provide screenshot so anyone can understand your problem.","body":"Provide screenshot so anyone can understand your problem."}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680712862,"creation_date":1680712862,"answer_id":75942015,"question_id":75939201,"body_markdown":"Users can set their own font size preferences on the device, and that scaling factor is used in *sp* units, which is *dp* multiplied by the current font scaling. That&#39;s why you (usually) use *sp* when setting font sizes instead of *dp*, so it adapts to the user&#39;s preferences and looks consistent with other apps.\r\n\r\nWhich means it&#39;s something you have to test when you&#39;re designing your layout! Set the emulator/device&#39;s text size to the largest and smallest values, and make sure it looks ok. And do the same on the smallest screen size you support (the layout editor lets you preview other screen sizes too). If you&#39;re [building your layout as a responsive design][1] then you can make sure the layout adapts nicely to the available space, and that includes when `TextView`s get bigger.\r\n\r\nThis is an accessibility feature, and you need to cater for those larger sizes in case some of your users need it, so this is something you need to handle. Space is always at a premium on mobile devices, and *personally* I feel like it&#39;s ok to let the extremely large sizes look a little less slick - if the user needs huge text they probably care more about functionality than aesthetics, right? So I feel like it&#39;s ok to let the huge sizes fill space, eat into margins etc. *if necessary*.\r\n\r\nAnother thing you can do is look at your writing - if a text label is a problem when it&#39;s at a larger text size, maybe the label&#39;s text is too long anyway? Short, concise labels don&#39;t need to grow as much, and you&#39;ll have more space to work with. [Here&#39;s the Material style guide][2] if it helps (don&#39;t forget this applies to translations too!)\r\n\r\nAnd finally, I said for text you *mostly* use *sp* - but if you have any elements that *shouldn&#39;t* resize, you can use *dp* to get a fixed real-world size on every screen. This only applies to elements that are **large enough that everyone can read them**, and that don&#39;t need to scale relative to the other text. Graphical elements, basically - like how a clock app displays the digits at a fixed size. If that applies in your design anywhere, you can use *dp* to get a fixed size that works for everyone\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes#responsive_design\r\n  [2]: https://m2.material.io/design/communication/writing.html","title":"After change font size in device setting app ui is deformed","body":"<p>Users can set their own font size preferences on the device, and that scaling factor is used in <em>sp</em> units, which is <em>dp</em> multiplied by the current font scaling. That's why you (usually) use <em>sp</em> when setting font sizes instead of <em>dp</em>, so it adapts to the user's preferences and looks consistent with other apps.</p>\n<p>Which means it's something you have to test when you're designing your layout! Set the emulator/device's text size to the largest and smallest values, and make sure it looks ok. And do the same on the smallest screen size you support (the layout editor lets you preview other screen sizes too). If you're <a href=\"https://developer.android.com/guide/topics/large-screens/support-different-screen-sizes#responsive_design\" rel=\"nofollow noreferrer\">building your layout as a responsive design</a> then you can make sure the layout adapts nicely to the available space, and that includes when <code>TextView</code>s get bigger.</p>\n<p>This is an accessibility feature, and you need to cater for those larger sizes in case some of your users need it, so this is something you need to handle. Space is always at a premium on mobile devices, and <em>personally</em> I feel like it's ok to let the extremely large sizes look a little less slick - if the user needs huge text they probably care more about functionality than aesthetics, right? So I feel like it's ok to let the huge sizes fill space, eat into margins etc. <em>if necessary</em>.</p>\n<p>Another thing you can do is look at your writing - if a text label is a problem when it's at a larger text size, maybe the label's text is too long anyway? Short, concise labels don't need to grow as much, and you'll have more space to work with. <a href=\"https://m2.material.io/design/communication/writing.html\" rel=\"nofollow noreferrer\">Here's the Material style guide</a> if it helps (don't forget this applies to translations too!)</p>\n<p>And finally, I said for text you <em>mostly</em> use <em>sp</em> - but if you have any elements that <em>shouldn't</em> resize, you can use <em>dp</em> to get a fixed real-world size on every screen. This only applies to elements that are <strong>large enough that everyone can read them</strong>, and that don't need to scale relative to the other text. Graphical elements, basically - like how a clock app displays the digits at a fixed size. If that applies in your design anywhere, you can use <em>dp</em> to get a fixed size that works for everyone</p>\n"}],"owner":{"account_id":14151957,"reputation":390,"user_id":10223665,"display_name":"mmfarzaneh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75942015,"answer_count":1,"score":0,"last_activity_date":1680712862,"creation_date":1680696182,"question_id":75939201,"body_markdown":"My application was working without problems until the user changed the font size of the phone and increased its size\r\nWith this font change, all the software became bigger and I don&#39;t know what changes I should make in the app to be able to manage this change.\r\nThank you for your guidance.","title":"After change font size in device setting app ui is deformed","body":"<p>My application was working without problems until the user changed the font size of the phone and increased its size\nWith this font change, all the software became bigger and I don't know what changes I should make in the app to be able to manage this change.\nThank you for your guidance.</p>\n"},{"tags":["java","maven","security","dependencies","maven-dependency-check-plugin"],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680712583,"creation_date":1680712583,"answer_id":75941981,"question_id":75887918,"body_markdown":"Well, so far I have found no better way, then to clone project again,\r\nupdate some dependencis and run `mvn dependency-check:check` again,\r\nand then copy 1st and 2nd reports in one place and compare.","title":"security issues analysis via mvn dependency-check:check and better report","body":"<p>Well, so far I have found no better way, then to clone project again,\nupdate some dependencis and run <code>mvn dependency-check:check</code> again,\nand then copy 1st and 2nd reports in one place and compare.</p>\n"}],"owner":{"account_id":223484,"reputation":61176,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680712583,"creation_date":1680177180,"question_id":75887918,"body_markdown":"Within maven project, I can do\r\n\r\n    mvn dependency-check:check\r\n\r\nfor the tools to download NVD CVE security issues database, analyze\r\nand show report, what dependencies have known security issues.\r\n\r\n\r\nHowever, as solution would be update several dependencies e.g. via Spring Boot update,\r\nI would like to see how many security issues would be solved that one.\r\nE.g. updating from x.y.5 to x.y.10 will solve n security issues:\r\n\r\nOr better for every security issue, what is version that solves it.","title":"security issues analysis via mvn dependency-check:check and better report","body":"<p>Within maven project, I can do</p>\n<pre><code>mvn dependency-check:check\n</code></pre>\n<p>for the tools to download NVD CVE security issues database, analyze\nand show report, what dependencies have known security issues.</p>\n<p>However, as solution would be update several dependencies e.g. via Spring Boot update,\nI would like to see how many security issues would be solved that one.\nE.g. updating from x.y.5 to x.y.10 will solve n security issues:</p>\n<p>Or better for every security issue, what is version that solves it.</p>\n"},{"tags":["java","tomcat","exception"],"answers":[{"tags":[],"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410260583,"creation_date":1410260583,"answer_id":25743004,"question_id":25742913,"body_markdown":"If you have some process listening on port 8080 then you can always configure tomcat to listen on a different port. To change the listener port by editing your `server.xml` located under tomcat server `conf` directory.\r\n\r\nSearch for `Connector port=&quot;8080&quot;` in server.xml and change the port number to some other port.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>If you have some process listening on port 8080 then you can always configure tomcat to listen on a different port. To change the listener port by editing your <code>server.xml</code> located under tomcat server <code>conf</code> directory.</p>\n\n<p>Search for <code>Connector port=\"8080\"</code> in server.xml and change the port number to some other port.</p>\n"},{"tags":[],"owner":{"account_id":317980,"reputation":11814,"user_id":634958,"accept_rate":100,"display_name":"S1LENT WARRIOR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410260652,"creation_date":1410260652,"answer_id":25743025,"question_id":25742913,"body_markdown":"The error: \r\n\r\n&gt; Tomcat: java.net.BindException: Address already in use: JVM_Bind\r\n&gt; &lt;null&gt;:80\r\n\r\n suggests that the port 80 is already in use.  \r\nYou may either: \r\n\r\n - Try searching for that process and stop it OR\r\n - Make your tomcat to run on different (free) port\r\n\r\nSee also: https://stackoverflow.com/questions/5310945/deployment-errorstarting-of-tomcat-failed-the-server-port-8080-is-already-in-u","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>The error: </p>\n\n<blockquote>\n  <p>Tomcat: java.net.BindException: Address already in use: JVM_Bind\n  :80</p>\n</blockquote>\n\n<p>suggests that the port 80 is already in use.<br>\nYou may either: </p>\n\n<ul>\n<li>Try searching for that process and stop it OR</li>\n<li>Make your tomcat to run on different (free) port</li>\n</ul>\n\n<p>See also: <a href=\"https://stackoverflow.com/questions/5310945/deployment-errorstarting-of-tomcat-failed-the-server-port-8080-is-already-in-u\">Deployment error:Starting of Tomcat failed, the server port 8080 is already in use</a></p>\n"},{"comments":[{"owner":{"account_id":369935,"reputation":4762,"user_id":717584,"accept_rate":87,"display_name":"iamjustcoder"},"score":0,"creation_date":1410343367,"post_id":25743055,"comment_id":40286486,"body_markdown":"i did the same command to find port &quot;80&quot;.\n&quot;TCP    172.25.164.79:49767    172.25.172.6:80        TIME_WAIT       0&quot;","body":"i did the same command to find port &quot;80&quot;. &quot;TCP    172.25.164.79:49767    172.25.172.6:80        TIME_WAIT       0&quot;"}],"tags":[],"owner":{"account_id":428654,"reputation":1900,"user_id":811117,"display_name":"csaba.sulyok"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1410260727,"creation_date":1410260727,"answer_id":25743055,"question_id":25742913,"body_markdown":"PID 0 is the System Idle Process, which is surely not listening to port 80. How did you check which process was using the port?\r\n\r\nYou can use\r\n\r\n    netstat /nao | findstr &quot;80&quot;\r\n\r\nto find the PID and check what process it is.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>PID 0 is the System Idle Process, which is surely not listening to port 80. How did you check which process was using the port?</p>\n\n<p>You can use</p>\n\n<pre><code>netstat /nao | findstr \"80\"\n</code></pre>\n\n<p>to find the PID and check what process it is.</p>\n"},{"tags":[],"owner":{"account_id":1713170,"reputation":1549,"user_id":1570793,"accept_rate":44,"display_name":"George Papatheodorou"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1410261279,"creation_date":1410261279,"answer_id":25743238,"question_id":25742913,"body_markdown":"Setting Tomcat to listen to port 80 is **WRONG** , for development the 8080 is a good port to use. For production use, just set up an apache that shall forward your requests to your tomcat. [Here][1] is a how to. \r\n\r\n\r\n  [1]: http://www.ntu.edu.sg/home/ehchua/programming/howto/ApachePlusTomcat_HowTo.html","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>Setting Tomcat to listen to port 80 is <strong>WRONG</strong> , for development the 8080 is a good port to use. For production use, just set up an apache that shall forward your requests to your tomcat. <a href=\"http://www.ntu.edu.sg/home/ehchua/programming/howto/ApachePlusTomcat_HowTo.html\" rel=\"noreferrer\">Here</a> is a how to. </p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158143,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1500541671,"creation_date":1428354587,"answer_id":29479742,"question_id":25742913,"body_markdown":"The error:\r\n\r\n&gt; java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80\r\n\r\nmeans that another application is listening on port 80.\r\n\r\nYou can check which process is using this port by `lsof` command, e.g. `sudo lsof -i:80`. Then stop or kill it.\r\n\r\nIf won&#39;t help finding application running on the same port, the common mistake is the Tomcat misconfiguration.\r\n\r\nFor example by default Tomcat listens on port 8005 for SHUTDOWN command and if you set another Connector to listen on the same port, you&#39;ll get port conflict.\r\n\r\nSo please double check in `server.xml` whether these ports are different:\r\n\r\n    &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n        &lt;Connector port=&quot;8983&quot; protocol=&quot;HTTP/1.1&quot;","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>The error:</p>\n\n<blockquote>\n  <p>java.net.BindException: Address already in use: JVM_Bind :80</p>\n</blockquote>\n\n<p>means that another application is listening on port 80.</p>\n\n<p>You can check which process is using this port by <code>lsof</code> command, e.g. <code>sudo lsof -i:80</code>. Then stop or kill it.</p>\n\n<p>If won't help finding application running on the same port, the common mistake is the Tomcat misconfiguration.</p>\n\n<p>For example by default Tomcat listens on port 8005 for SHUTDOWN command and if you set another Connector to listen on the same port, you'll get port conflict.</p>\n\n<p>So please double check in <code>server.xml</code> whether these ports are different:</p>\n\n<pre><code>&lt;Server port=\"8005\" shutdown=\"SHUTDOWN\"&gt;\n    &lt;Connector port=\"8983\" protocol=\"HTTP/1.1\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1565791224,"post_id":32045417,"comment_id":101462242,"body_markdown":"Both works for me. It basically tells you the port which is in use already. So that it will be listed in the prompt.","body":"Both works for me. It basically tells you the port which is in use already. So that it will be listed in the prompt."}],"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1565791170,"creation_date":1439798675,"answer_id":32045417,"question_id":25742913,"body_markdown":"Use the following command to find if your tomcat port is already in use,\r\n\r\n    netstat -a -b\r\n\r\n    netstat -a -o | findstr :port\r\n\r\nFor example\r\n\r\n    netstat -a -o | findstr :8080\r\n\r\n**Exception**:\r\n`java.net.BindException: Address already in use: JVM_Bind:80`\r\n\r\nmeans that port 80 is configured by your Tomcat server and it is already used by some other application running on your computer. Please quit Skype if open or change the default port in Skype or other application&#39;s port to something other than 80. Or change the tomcat port to something else than 80(e.g. 8080 or 9090) in the server.xml file under the config folder of your tomcat installation directory.\r\n\r\n**Exception**:\r\n`java.net.BindException: Address already in use: JVM_Bind`\r\n\r\nmeans you din&#39;t stop the tomcat server properly and you are trying to start the server again. In Eclipse, the solution for me was to remove the project from the servers tab and right click and run the project as Run on server. This added the project back to the Tomcat 7 and I din&#39;t get the BindException error. This was due to closing eclipse the last time you used without stopping the Tomcat server.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>Use the following command to find if your tomcat port is already in use,</p>\n\n<pre><code>netstat -a -b\n\nnetstat -a -o | findstr :port\n</code></pre>\n\n<p>For example</p>\n\n<pre><code>netstat -a -o | findstr :8080\n</code></pre>\n\n<p><strong>Exception</strong>:\n<code>java.net.BindException: Address already in use: JVM_Bind:80</code></p>\n\n<p>means that port 80 is configured by your Tomcat server and it is already used by some other application running on your computer. Please quit Skype if open or change the default port in Skype or other application's port to something other than 80. Or change the tomcat port to something else than 80(e.g. 8080 or 9090) in the server.xml file under the config folder of your tomcat installation directory.</p>\n\n<p><strong>Exception</strong>:\n<code>java.net.BindException: Address already in use: JVM_Bind</code></p>\n\n<p>means you din't stop the tomcat server properly and you are trying to start the server again. In Eclipse, the solution for me was to remove the project from the servers tab and right click and run the project as Run on server. This added the project back to the Tomcat 7 and I din't get the BindException error. This was due to closing eclipse the last time you used without stopping the Tomcat server.</p>\n"},{"tags":[],"owner":{"account_id":1445425,"reputation":1080,"user_id":1364101,"accept_rate":12,"display_name":"ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446728023,"creation_date":1446728023,"answer_id":33545082,"question_id":25742913,"body_markdown":"I do a goofy mistake and It take me 2 hour to solve It.I mentioned it here for other persons may be help them.The mistake was I enable ssl connector and changed both https and http ports to same number .","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I do a goofy mistake and It take me 2 hour to solve It.I mentioned it here for other persons may be help them.The mistake was I enable ssl connector and changed both https and http ports to same number .</p>\n"},{"tags":[],"owner":{"account_id":7304266,"reputation":561,"user_id":5565746,"display_name":"Vineela Thonupunuri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474995211,"creation_date":1474995211,"answer_id":39730309,"question_id":25742913,"body_markdown":"I deleted my server and added it back. IT happened because I shut down the eclipse manually via task manager and it did not shut down the tomcat. ","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I deleted my server and added it back. IT happened because I shut down the eclipse manually via task manager and it did not shut down the tomcat. </p>\n"},{"tags":[],"owner":{"account_id":10896323,"reputation":1,"user_id":8010162,"display_name":"selvan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494765207,"creation_date":1494765207,"answer_id":43963935,"question_id":25742913,"body_markdown":"C:\\Program Files (x86)\\Apache Software Foundation\\Tomcat 7.0\\conf\r\n\r\n\r\nYour Port ID in Server.xml File in Source folder is 8080. change the Port Number to 8081...etc \r\n","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>C:\\Program Files (x86)\\Apache Software Foundation\\Tomcat 7.0\\conf</p>\n\n<p>Your Port ID in Server.xml File in Source folder is 8080. change the Port Number to 8081...etc </p>\n"},{"tags":[],"owner":{"account_id":11856768,"reputation":11,"user_id":8676583,"display_name":"mahesh Y"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1527612008,"creation_date":1506431951,"answer_id":46427704,"question_id":25742913,"body_markdown":"I faced this problem while working in a spring project with tomcat:\r\n\r\n&gt; Address already in use: JVM_Bind &lt;null&gt;\r\n\r\n[![screenshot of bin folder][1]][1]\r\n\r\nTo resolve the issue I ran a shutdown.bat file in tomcat/bin folder.\r\n\r\n  [1]: https://i.stack.imgur.com/S44Dx.png","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I faced this problem while working in a spring project with tomcat:</p>\n\n<blockquote>\n  <p>Address already in use: JVM_Bind </p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/S44Dx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S44Dx.png\" alt=\"screenshot of bin folder\"></a></p>\n\n<p>To resolve the issue I ran a shutdown.bat file in tomcat/bin folder.</p>\n"},{"tags":[],"owner":{"account_id":7637556,"reputation":789,"user_id":5790669,"display_name":"Yash P Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508806889,"creation_date":1508806889,"answer_id":46900644,"question_id":25742913,"body_markdown":"I completely forgot that I had previously installed another version of Apache Tomcat, which was causing this problem. So, just try uninstalling the previous version. Hope it helps.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I completely forgot that I had previously installed another version of Apache Tomcat, which was causing this problem. So, just try uninstalling the previous version. Hope it helps.</p>\n"},{"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545149438,"creation_date":1545149438,"answer_id":53837000,"question_id":25742913,"body_markdown":"Make sure &lt;apache-tomcat-directory&gt;/webapps/ROOT file is there and it has all the icons, WEB-INF, and index.jsp is in the folder. \r\n\r\nWhen you startup Tomcat, it will run this code in `&lt;Tomcat-Directory&gt;/conf/web.xml` directory: \r\n\r\n    &lt;welcome-file-list&gt;\r\n       &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n\r\nThe location of index.jsp is in `&lt;Tomcat-Directory&gt;/webapps/ROOT/index.jsp`\r\n\r\n\r\nAlso, try running tomcat from the &lt;Tomcat-Directory&gt;/bin directory using `./catalina.sh start` instead of `./startup.sh`. For some reason, `./startup.sh` isn&#39;t as reliable. ","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>Make sure /webapps/ROOT file is there and it has all the icons, WEB-INF, and index.jsp is in the folder. </p>\n\n<p>When you startup Tomcat, it will run this code in <code>&lt;Tomcat-Directory&gt;/conf/web.xml</code> directory: </p>\n\n<pre><code>&lt;welcome-file-list&gt;\n   &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n</code></pre>\n\n<p>The location of index.jsp is in <code>&lt;Tomcat-Directory&gt;/webapps/ROOT/index.jsp</code></p>\n\n<p>Also, try running tomcat from the /bin directory using <code>./catalina.sh start</code> instead of <code>./startup.sh</code>. For some reason, <code>./startup.sh</code> isn't as reliable. </p>\n"},{"tags":[],"owner":{"account_id":1414740,"reputation":471,"user_id":1340615,"display_name":"ganesh phirke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565705498,"creation_date":1565705498,"answer_id":57479599,"question_id":25742913,"body_markdown":"I came across same issue. I was getting error  **Unable to open debugger port (127.0.0.1:63936): java.net.BindException &quot;Address already in use: JVM_Bind&quot;** \r\nI tried above all option but any how its not resolved. Solution which worked for me is, I started the server and then stopped and again started in debug mode. then the server got started in debug mode.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I came across same issue. I was getting error  <strong>Unable to open debugger port (127.0.0.1:63936): java.net.BindException \"Address already in use: JVM_Bind\"</strong> \nI tried above all option but any how its not resolved. Solution which worked for me is, I started the server and then stopped and again started in debug mode. then the server got started in debug mode.</p>\n"},{"tags":[],"owner":{"account_id":12292851,"reputation":21,"user_id":8969454,"display_name":"Eric Bulgrin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680712391,"creation_date":1680712391,"answer_id":75941959,"question_id":25742913,"body_markdown":"It is possible, like in my case, that a Windows update could cause this issue.\r\n\r\nAs pointed out in another answer, tomcat listens for the SHUTDOWN command on port 8005 by default. A Windows update caused this port to be reserved by a vital Windows process that was not appearing when I searched for running processes on port 8005 through the command prompt.\r\n\r\nTo fix this, I simply needed to change the port in my server.xml:\r\n```\r\n&lt;Server port=&quot;8006&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n```\r\n","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>It is possible, like in my case, that a Windows update could cause this issue.</p>\n<p>As pointed out in another answer, tomcat listens for the SHUTDOWN command on port 8005 by default. A Windows update caused this port to be reserved by a vital Windows process that was not appearing when I searched for running processes on port 8005 through the command prompt.</p>\n<p>To fix this, I simply needed to change the port in my server.xml:</p>\n<pre><code>&lt;Server port=&quot;8006&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":369935,"reputation":4762,"user_id":717584,"accept_rate":87,"display_name":"iamjustcoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137899,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":25743238,"answer_count":14,"score":10,"last_activity_date":1680712391,"creation_date":1410260336,"question_id":25742913,"body_markdown":"I am getting binding exception while starting the Tomcat server. \r\nI tried to kill the process that which is using &#39;80&#39; as couple of processes are using it.\r\n\r\nGetting error, while killing process id is &#39;0&#39;:\r\n\r\n&gt; ERROR: The process with PID 0 could not be terminated. Reason: This is\r\n&gt; critical system process. Taskkill cannot end this process.\r\n\r\nHow to fix this?\r\n\r\nI don&#39;t need to use another port to run the tomcat server.","title":"java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:80","body":"<p>I am getting binding exception while starting the Tomcat server. \nI tried to kill the process that which is using '80' as couple of processes are using it.</p>\n\n<p>Getting error, while killing process id is '0':</p>\n\n<blockquote>\n  <p>ERROR: The process with PID 0 could not be terminated. Reason: This is\n  critical system process. Taskkill cannot end this process.</p>\n</blockquote>\n\n<p>How to fix this?</p>\n\n<p>I don't need to use another port to run the tomcat server.</p>\n"},{"tags":["java","selenium-webdriver","winappdriver"],"comments":[{"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"score":0,"creation_date":1681238324,"post_id":75941856,"comment_id":134023456,"body_markdown":"sorry about the formatting:\n\nI looked at other constructors and ended up having to do it this way, which worked:\n\n  HttpCommandExecutor exec = new HttpCommandExecutor(new URL(&quot;http://127.0.0.1:4723/&quot;));\n  DesiredCapabilities dcaps = new DesiredCapabilities();\n  // code to set capabilities\n  WindowsDriver app = new WindowsDriver(exec, dcaps);\n\ninstead of\n\n  DesiredCapabilities dcaps = new DesiredCapabilities();\n  // code to set capabilities\n  WindowsDriver app = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723/&quot;), dcaps);","body":"sorry about the formatting:  I looked at other constructors and ended up having to do it this way, which worked:    HttpCommandExecutor exec = new HttpCommandExecutor(new URL(&quot;<a href=\"http://127.0.0.1:4723/&quot;\" rel=\"nofollow noreferrer\">127.0.0.1:4723/&quot;</a>));   DesiredCapabilities dcaps = new DesiredCapabilities();   // code to set capabilities   WindowsDriver app = new WindowsDriver(exec, dcaps);  instead of    DesiredCapabilities dcaps = new DesiredCapabilities();   // code to set capabilities   WindowsDriver app = new WindowsDriver(new URL(&quot;<a href=\"http://127.0.0.1:4723/&quot;\" rel=\"nofollow noreferrer\">127.0.0.1:4723/&quot;</a>), dcaps);"}],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680712206,"creation_date":1680711706,"question_id":75941856,"body_markdown":"This is referring to a previous post,\r\nhttps://stackoverflow.com/questions/75939992/winappdriver-could-not-start-a-new-session-response-code-400-message-missing , where I mentioned that I start WinAppDriver and even though I specified appId as a desired capability it said it was missing.  I am using Selenium and WinAppDriver with Java in Eclipse.\r\n\r\nAfter a lot of debugging, I noticed when I started WinAppDriver the init code takes all the capability names and prefixes an &quot;appium:&quot; to them to make w3c safe apparently.  When WinAppDriver starts up it gets an appium:appId, not appId, so it says it is missing.\r\n\r\nI am not sure how to keep it from appending &quot;winium:&quot; or how to have the session strip off the &quot;appium:&quot;.  Any sugegstions?\r\n\r\nI will repeat some startup code here from my data provider.\r\n\r\n    WindowsDriver app = null;\r\n    try {\r\n        DesiredCapabilities caps = new DesiredCapabilities();\r\n        caps.setCapability(&quot;appId&quot;, &quot;src\\\\main\\\\respurces\\\\dummy.bat&quot;);\r\n        caps.setCapability(&quot;platformName&quot;, &quot;Windows&quot;);\r\n        caps.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\r\n        app = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), caps);\r\n        app.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\r\n        testData.drv = app;\r\n    } catch (Exception e) {\r\n        throw new AssertionError(e.getMessage(), e);\r\n    }\r\n\r\n\r\n","title":"winappdriver capabilities being changed","body":"<p>This is referring to a previous post,\n<a href=\"https://stackoverflow.com/questions/75939992/winappdriver-could-not-start-a-new-session-response-code-400-message-missing\">WinAppDriver: Could not start a new session. Response code 400. Message: Missing command parameter: appId</a> , where I mentioned that I start WinAppDriver and even though I specified appId as a desired capability it said it was missing.  I am using Selenium and WinAppDriver with Java in Eclipse.</p>\n<p>After a lot of debugging, I noticed when I started WinAppDriver the init code takes all the capability names and prefixes an &quot;appium:&quot; to them to make w3c safe apparently.  When WinAppDriver starts up it gets an appium:appId, not appId, so it says it is missing.</p>\n<p>I am not sure how to keep it from appending &quot;winium:&quot; or how to have the session strip off the &quot;appium:&quot;.  Any sugegstions?</p>\n<p>I will repeat some startup code here from my data provider.</p>\n<pre><code>WindowsDriver app = null;\ntry {\n    DesiredCapabilities caps = new DesiredCapabilities();\n    caps.setCapability(&quot;appId&quot;, &quot;src\\\\main\\\\respurces\\\\dummy.bat&quot;);\n    caps.setCapability(&quot;platformName&quot;, &quot;Windows&quot;);\n    caps.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\n    app = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), caps);\n    app.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\n    testData.drv = app;\n} catch (Exception e) {\n    throw new AssertionError(e.getMessage(), e);\n}\n</code></pre>\n"},{"tags":["java","encryption","ssh","cryptography","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1679898327,"creation_date":1459935589,"answer_id":36447225,"question_id":36445272,"body_markdown":"See [JSch change log](http://www.jcraft.com/jsch/ChangeLog) for *&quot;Changes since version 0.1.52&quot;*:\r\n\r\n&gt; - change: Logjam: diffie-hellman-group-exchange-sha256 and\r\n          diffie-hellman-group-exchange-sha1 will use 2048-bit key on\r\n          Java8&#39;s SunJCE, thanks to JDK-6521495 and JDK-7044060.\r\n\r\nSo you are correct that you need JSch 0.1.53, but you also need these fixes in your JDK:\r\n\r\n- https://bugs.java.com/bugdatabase/view_bug?bug_id=6521495\r\n- https://bugs.openjdk.org/browse/JDK-7044060","title":"Using 2048 bit primes in JSch","body":"<p>See <a href=\"http://www.jcraft.com/jsch/ChangeLog\" rel=\"nofollow noreferrer\">JSch change log</a> for <em>&quot;Changes since version 0.1.52&quot;</em>:</p>\n<blockquote>\n<ul>\n<li>change: Logjam: diffie-hellman-group-exchange-sha256 and\ndiffie-hellman-group-exchange-sha1 will use 2048-bit key on\nJava8's SunJCE, thanks to JDK-6521495 and JDK-7044060.</li>\n</ul>\n</blockquote>\n<p>So you are correct that you need JSch 0.1.53, but you also need these fixes in your JDK:</p>\n<ul>\n<li><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6521495\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6521495</a></li>\n<li><a href=\"https://bugs.openjdk.org/browse/JDK-7044060\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-7044060</a></li>\n</ul>\n"}],"owner":{"account_id":2277428,"reputation":91,"user_id":5011702,"accept_rate":25,"display_name":"Vino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4714,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680711933,"creation_date":1459930558,"question_id":36445272,"body_markdown":"I am trying to attempt SSH connection from my Java application to an external server of client. The client has enhanced the security and they are not accepting 1024 bit primes but my JSch is sending only 1024 bit primes.\r\n\r\nPlease find verbose error output from my application below:\r\n\r\n&lt;!-- language-all: lang-none --&gt;\r\n\r\n    INFO  |: Launching [sftp] handler\r\n    INFO  |: Creating SFTP session to host [server1] with logger for JSch\r\n    INFO  |: Connecting via public/private key.\r\n    INFO  |: Session created.\r\n    INFO  |: Connecting to server1 port 22\r\n    INFO  |: Connection established\r\n    INFO  |: Remote version string: SSH-2.0-VShell_4_1_1_862 VShell\r\n    INFO  |: Local version string: SSH-2.0-JSCH-0.1.53\r\n    INFO  |: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n    INFO  |: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n    INFO  |: SSH_MSG_KEXINIT sent\r\n    INFO  |: SSH_MSG_KEXINIT received\r\n    INFO  |: kex: server: diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,ecdh-sha2-nistp521,ecdh-sha2-nistp384,ecdh-sha2-nistp256,diffie-hellman-group-exchange-sha256\r\n    INFO  |: kex: server: ecdsa-sha2-nistp256,ssh-dss,ssh-rsa\r\n    INFO  |: kex: server: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\r\n    INFO  |: kex: server: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\r\n    INFO  |: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\r\n    INFO  |: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\r\n    INFO  |: kex: server: zlib@openssh.com,zlib,none\r\n    INFO  |: kex: server: zlib@openssh.com,zlib,none\r\n    INFO  |: kex: client: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\r\n    INFO  |: kex: client: ssh-rsa,ssh-dss\r\n    INFO  |: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\r\n    INFO  |: kex: client: aes128-cbc,3des-cbc\r\n    INFO  |: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO  |: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO  |: kex: server-&gt;client aes128-cbc hmac-sha1 none\r\n    INFO  |: kex: client-&gt;server aes128-ctr hmac-sha1 none\r\n    INFO  |: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;1024) sent\r\n    INFO  |: expecting SSH_MSG_KEX_DH_GEX_GROUP\r\n    INFO  |: Disconnecting from server1 port 22\r\n    ERROR |: Unable to connect to SFTP server. com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 No appropriate prime between 1024 and 1024 is available.  en\r\n    INFO  |: -----------------------------------------------------------------------------------------------\r\n\r\nFew other blogs suggested upgrading to JSch version 0.1.53 would fix the issue but I am already using 0.1.53 version in my application.\r\n\r\nWhen I try to connect from command line using verbose option I am able to connect:\r\n\r\n    $ sftp -v username@server1\r\n    Connecting to server1...\r\n    OpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013\r\n    debug1: Reading configuration data /etc/ssh/ssh_config\r\n    debug1: Applying options for *\r\n    debug1: Connecting to server1 [10.XX.XXX.XXX] port 22.\r\n    debug1: Connection established.\r\n    debug1: identity file /.ssh/id_rsa type 1\r\n    debug1: identity file /.ssh/id_rsa-cert type -1\r\n    debug1: identity file /.ssh/id_dsa type -1\r\n    debug1: identity file /.ssh/id_dsa-cert type -1\r\n    debug1: identity file /.ssh/id_ecdsa type -1\r\n    debug1: identity file /.ssh/id_ecdsa-cert type -1\r\n    debug1: Remote protocol version 2.0, remote software version VShell_4_1_1_862 VShell\r\n    debug1: no match: VShell_4_1_1_862 VShell\r\n    debug1: Enabling compatibility mode for protocol 2.0\r\n    debug1: Local version string SSH-2.0-OpenSSH_5.3\r\n    debug1: SSH2_MSG_KEXINIT sent\r\n    debug1: SSH2_MSG_KEXINIT received\r\n    debug1: kex: server-&gt;client aes128-ctr hmac-sha1 none\r\n    debug1: kex: client-&gt;server aes128-ctr hmac-sha1 none\r\n    debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\r\n    debug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\r\n    debug1: SSH2_MSG_KEX_DH_GEX_INIT sent\r\n    debug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\r\n    debug1: Host &#39;server1&#39; is known and matches the RSA host key.\r\n    debug1: Found key in /.ssh/known_hosts:155\r\n    debug1: ssh_rsa_verify: signature correct\r\n    debug1: SSH2_MSG_NEWKEYS sent\r\n    debug1: expecting SSH2_MSG_NEWKEYS\r\n    debug1: SSH2_MSG_NEWKEYS received\r\n    debug1: SSH2_MSG_SERVICE_REQUEST sent\r\n    debug1: SSH2_MSG_SERVICE_ACCEPT received\r\n    debug1: Authentications that can continue: publickey,password\r\n    debug1: Next authentication method: publickey\r\n    debug1: Offering public key: /.ssh/id_rsa\r\n    debug1: Server accepts key: pkalg ssh-rsa blen 277\r\n    debug1: read PEM private key done: type RSA\r\n    debug1: Authentication succeeded (publickey).\r\n    debug1: channel 0: new [client-session]\r\n    debug1: Entering interactive session.\r\n    debug1: Sending environment.\r\n    debug1: Sending env LANG = en_GB\r\n    debug1: Sending subsystem: sftp\r\n    sftp&gt;\r\n\r\nNote: I am using SSH-2 RSA 2048 bit keys for connectivity using my application and in command line as well. The only difference I could observe using my application and command line is:\r\n\r\nMy application is sending the below information when connecting:\r\n\r\n    INFO  |: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;1024) sent\r\n\r\nWhereas command line connectivity is sending below information when connecting:\r\n\r\n    debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\r\n\r\nAny suggestion on how to change my application to send SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) would be much helpful.","title":"Using 2048 bit primes in JSch","body":"<p>I am trying to attempt SSH connection from my Java application to an external server of client. The client has enhanced the security and they are not accepting 1024 bit primes but my JSch is sending only 1024 bit primes.</p>\n\n<p>Please find verbose error output from my application below:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO  |: Launching [sftp] handler\nINFO  |: Creating SFTP session to host [server1] with logger for JSch\nINFO  |: Connecting via public/private key.\nINFO  |: Session created.\nINFO  |: Connecting to server1 port 22\nINFO  |: Connection established\nINFO  |: Remote version string: SSH-2.0-VShell_4_1_1_862 VShell\nINFO  |: Local version string: SSH-2.0-JSCH-0.1.53\nINFO  |: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO  |: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO  |: SSH_MSG_KEXINIT sent\nINFO  |: SSH_MSG_KEXINIT received\nINFO  |: kex: server: diffie-hellman-group14-sha1,diffie-hellman-group-exchange-sha1,ecdh-sha2-nistp521,ecdh-sha2-nistp384,ecdh-sha2-nistp256,diffie-hellman-group-exchange-sha256\nINFO  |: kex: server: ecdsa-sha2-nistp256,ssh-dss,ssh-rsa\nINFO  |: kex: server: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\nINFO  |: kex: server: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-cbc\nINFO  |: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\nINFO  |: kex: server: hmac-sha2-512,hmac-sha2-256,hmac-sha1\nINFO  |: kex: server: zlib@openssh.com,zlib,none\nINFO  |: kex: server: zlib@openssh.com,zlib,none\nINFO  |: kex: client: diffie-hellman-group-exchange-sha256,diffie-hellman-group-exchange-sha1,diffie-hellman-group1-sha1\nINFO  |: kex: client: ssh-rsa,ssh-dss\nINFO  |: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\nINFO  |: kex: client: aes128-cbc,3des-cbc\nINFO  |: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO  |: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO  |: kex: server-&gt;client aes128-cbc hmac-sha1 none\nINFO  |: kex: client-&gt;server aes128-ctr hmac-sha1 none\nINFO  |: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;1024) sent\nINFO  |: expecting SSH_MSG_KEX_DH_GEX_GROUP\nINFO  |: Disconnecting from server1 port 22\nERROR |: Unable to connect to SFTP server. com.jcraft.jsch.JSchException: SSH_MSG_DISCONNECT: 11 No appropriate prime between 1024 and 1024 is available.  en\nINFO  |: -----------------------------------------------------------------------------------------------\n</code></pre>\n\n<p>Few other blogs suggested upgrading to JSch version 0.1.53 would fix the issue but I am already using 0.1.53 version in my application.</p>\n\n<p>When I try to connect from command line using verbose option I am able to connect:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ sftp -v username@server1\nConnecting to server1...\nOpenSSH_5.3p1, OpenSSL 1.0.1e-fips 11 Feb 2013\ndebug1: Reading configuration data /etc/ssh/ssh_config\ndebug1: Applying options for *\ndebug1: Connecting to server1 [10.XX.XXX.XXX] port 22.\ndebug1: Connection established.\ndebug1: identity file /.ssh/id_rsa type 1\ndebug1: identity file /.ssh/id_rsa-cert type -1\ndebug1: identity file /.ssh/id_dsa type -1\ndebug1: identity file /.ssh/id_dsa-cert type -1\ndebug1: identity file /.ssh/id_ecdsa type -1\ndebug1: identity file /.ssh/id_ecdsa-cert type -1\ndebug1: Remote protocol version 2.0, remote software version VShell_4_1_1_862 VShell\ndebug1: no match: VShell_4_1_1_862 VShell\ndebug1: Enabling compatibility mode for protocol 2.0\ndebug1: Local version string SSH-2.0-OpenSSH_5.3\ndebug1: SSH2_MSG_KEXINIT sent\ndebug1: SSH2_MSG_KEXINIT received\ndebug1: kex: server-&gt;client aes128-ctr hmac-sha1 none\ndebug1: kex: client-&gt;server aes128-ctr hmac-sha1 none\ndebug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_GROUP\ndebug1: SSH2_MSG_KEX_DH_GEX_INIT sent\ndebug1: expecting SSH2_MSG_KEX_DH_GEX_REPLY\ndebug1: Host 'server1' is known and matches the RSA host key.\ndebug1: Found key in /.ssh/known_hosts:155\ndebug1: ssh_rsa_verify: signature correct\ndebug1: SSH2_MSG_NEWKEYS sent\ndebug1: expecting SSH2_MSG_NEWKEYS\ndebug1: SSH2_MSG_NEWKEYS received\ndebug1: SSH2_MSG_SERVICE_REQUEST sent\ndebug1: SSH2_MSG_SERVICE_ACCEPT received\ndebug1: Authentications that can continue: publickey,password\ndebug1: Next authentication method: publickey\ndebug1: Offering public key: /.ssh/id_rsa\ndebug1: Server accepts key: pkalg ssh-rsa blen 277\ndebug1: read PEM private key done: type RSA\ndebug1: Authentication succeeded (publickey).\ndebug1: channel 0: new [client-session]\ndebug1: Entering interactive session.\ndebug1: Sending environment.\ndebug1: Sending env LANG = en_GB\ndebug1: Sending subsystem: sftp\nsftp&gt;\n</code></pre>\n\n<p>Note: I am using SSH-2 RSA 2048 bit keys for connectivity using my application and in command line as well. The only difference I could observe using my application and command line is:</p>\n\n<p>My application is sending the below information when connecting:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO  |: SSH_MSG_KEX_DH_GEX_REQUEST(1024&lt;1024&lt;1024) sent\n</code></pre>\n\n<p>Whereas command line connectivity is sending below information when connecting:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>debug1: SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) sent\n</code></pre>\n\n<p>Any suggestion on how to change my application to send SSH2_MSG_KEX_DH_GEX_REQUEST(1024&lt;2048&lt;8192) would be much helpful.</p>\n"},{"tags":["java","string","printf","newline"],"answers":[{"comments":[{"owner":{"account_id":1924671,"reputation":94541,"user_id":1735406,"accept_rate":95,"display_name":"Maroun"},"score":1,"creation_date":1353580727,"post_id":13510743,"comment_id":18493397,"body_markdown":"Doesn&#39;t `%n` tell the compiler to go to `System.getProperty(&quot;line.separator&quot;)` which supposed to be a new line?","body":"Doesn&#39;t <code>%n</code> tell the compiler to go to <code>System.getProperty(&quot;line.separator&quot;)</code> which supposed to be a new line?"},{"owner":{"account_id":1335455,"reputation":181,"user_id":1278336,"accept_rate":0,"display_name":"Beth Ann Meredith"},"score":0,"creation_date":1353580768,"post_id":13510743,"comment_id":18493422,"body_markdown":"Hey Rohit,  I tried and it doesn&#39;t even print out her name or who she is compatible with at all.","body":"Hey Rohit,  I tried and it doesn&#39;t even print out her name or who she is compatible with at all."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":1,"creation_date":1353580991,"post_id":13510743,"comment_id":18493520,"body_markdown":"@Maroun85.. Yeah you are right. Forgot that. Re-checked the OP to get what exactly he got wrong. Thanks :)","body":"@Maroun85.. Yeah you are right. Forgot that. Re-checked the OP to get what exactly he got wrong. Thanks :)"},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1353581024,"post_id":13510743,"comment_id":18493540,"body_markdown":"@BethAnnMeredith.. I think it should work. Can you post what you tried? May be you missed somthing.","body":"@BethAnnMeredith.. I think it should work. Can you post what you tried? May be you missed somthing."},{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1353581573,"post_id":13510743,"comment_id":18493810,"body_markdown":"@BethAnnMeredith.. Do remember to mark the answer as accepted by clicking the arrow besides it.","body":"@BethAnnMeredith.. Do remember to mark the answer as accepted by clicking the arrow besides it."},{"owner":{"account_id":15525540,"reputation":587,"user_id":11211041,"display_name":"Snostorp"},"score":0,"creation_date":1680424587,"post_id":13510743,"comment_id":133893557,"body_markdown":"Don&#39;t use \\n, %n is safer: https://stackoverflow.com/a/31981167/11211041","body":"Don&#39;t use \\n, %n is safer: <a href=\"https://stackoverflow.com/a/31981167/11211041\">stackoverflow.com/a/31981167/11211041</a>"}],"tags":[],"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"comment_count":6,"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1353581684,"creation_date":1353580430,"answer_id":13510743,"question_id":13510661,"body_markdown":"`%n` should have worked. But the problem is, you have just used it at the end in your format string. You need to insert it at appropriate places: -\r\n\r\n    &quot;%-15s %15s %15s %n %45s %n %45s&quot;\r\n\r\n\r\n----------\r\n\r\n\r\nYou can also use `&quot;\\n&quot;` between your format specifiers to print a newline: -\r\n\r\n    System.out.printf (&quot;%-15s %15s %15s \\n %45s \\n %45s&quot;, \r\n                         n, &quot; is compatible with &quot;, dates[k],dates[k+1],dates[k+2]);\r\n\r\nAlso, I have increased the `length` of last two names from `15` to `45`, to format them just below the previous names.\r\n\r\n\r\n","title":"Is &quot;%n&quot; correct as a newline using printf in Java?","body":"<p><code>%n</code> should have worked. But the problem is, you have just used it at the end in your format string. You need to insert it at appropriate places: -</p>\n\n<pre><code>\"%-15s %15s %15s %n %45s %n %45s\"\n</code></pre>\n\n<hr>\n\n<p>You can also use <code>\"\\n\"</code> between your format specifiers to print a newline: -</p>\n\n<pre><code>System.out.printf (\"%-15s %15s %15s \\n %45s \\n %45s\", \n                     n, \" is compatible with \", dates[k],dates[k+1],dates[k+2]);\n</code></pre>\n\n<p>Also, I have increased the <code>length</code> of last two names from <code>15</code> to <code>45</code>, to format them just below the previous names.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1353580710,"creation_date":1353580710,"answer_id":13510852,"question_id":13510661,"body_markdown":"Yes, `%n` is a newline in printf. See the documentation of [java.util.Formatter][1], specifically the conversion table which specifies:\r\n\r\n&gt; &#39;`n`&#39; \tline separator \tThe result is the platform-specific line separator \r\n\r\nYour output currently only has a linebreak at the end, not at the points that you seem to want them. You would need to use a format like:\r\n\r\n    &quot;%-15s %15s %15s %n %15s %n %15s %n&quot;\r\n\r\n(and maybe some tabs thrown in there for alignment).\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html","title":"Is &quot;%n&quot; correct as a newline using printf in Java?","body":"<p>Yes, <code>%n</code> is a newline in printf. See the documentation of <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">java.util.Formatter</a>, specifically the conversion table which specifies:</p>\n\n<blockquote>\n  <p>'<code>n</code>'     line separator  The result is the platform-specific line separator </p>\n</blockquote>\n\n<p>Your output currently only has a linebreak at the end, not at the points that you seem to want them. You would need to use a format like:</p>\n\n<pre><code>\"%-15s %15s %15s %n %15s %n %15s %n\"\n</code></pre>\n\n<p>(and maybe some tabs thrown in there for alignment).</p>\n"},{"tags":[],"owner":{"account_id":1587724,"reputation":1822,"user_id":1471699,"accept_rate":29,"display_name":"Srinivas B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680710936,"creation_date":1353580712,"answer_id":13510853,"question_id":13510661,"body_markdown":"You can try this:\r\n\r\n    if (count == 3) {\r\n        System.out.printf(&quot;%-15s %15s %15s %15s %15s %n&quot;, n, &quot; is compatible with&quot;,\r\n                dates[k],dates[k+1],dates[k+2]+&quot;\\n&quot;);\r\n    }","title":"Is &quot;%n&quot; correct as a newline using printf in Java?","body":"<p>You can try this:</p>\n<pre><code>if (count == 3) {\n    System.out.printf(&quot;%-15s %15s %15s %15s %15s %n&quot;, n, &quot; is compatible with&quot;,\n            dates[k],dates[k+1],dates[k+2]+&quot;\\n&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":1335455,"reputation":181,"user_id":1278336,"accept_rate":0,"display_name":"Beth Ann Meredith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55493,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":3,"score":16,"last_activity_date":1680710936,"creation_date":1353580157,"question_id":13510661,"body_markdown":"I&#39;m new to Java and I&#39;m at my wits&#39; end.  \r\n\r\nI have got my program to work, but I need help with the formatting when printing out.\r\n\r\n    if(count == 3)\r\n        System.out.printf (&quot;%-15s %15s %15s %15s %15s %n&quot;, n, &quot; is compatible with &quot;,dates[k],dates[k+1],dates[k+2]);\r\n\r\nMy output is:\r\n \r\n    Stacey Francis   is compatible with     Owen Farrell   Jack Clifford  Joshua Watkins \r\n\r\nI would like my output to be (without repeating stacey francis name or &quot;is compatible with&quot;:\r\n\r\n    Stacey Francis   is compatible with  Owen Farrell\r\n                                     \r\n                              Jack Clifford\r\n                                     \r\n                              Joshua Watkins\r\n\r\nJust wondering how to go about this?","title":"Is &quot;%n&quot; correct as a newline using printf in Java?","body":"<p>I'm new to Java and I'm at my wits' end.</p>\n<p>I have got my program to work, but I need help with the formatting when printing out.</p>\n<pre><code>if(count == 3)\n    System.out.printf (&quot;%-15s %15s %15s %15s %15s %n&quot;, n, &quot; is compatible with &quot;,dates[k],dates[k+1],dates[k+2]);\n</code></pre>\n<p>My output is:</p>\n<pre><code>Stacey Francis   is compatible with     Owen Farrell   Jack Clifford  Joshua Watkins \n</code></pre>\n<p>I would like my output to be (without repeating stacey francis name or &quot;is compatible with&quot;:</p>\n<pre><code>Stacey Francis   is compatible with  Owen Farrell\n                                 \n                          Jack Clifford\n                                 \n                          Joshua Watkins\n</code></pre>\n<p>Just wondering how to go about this?</p>\n"},{"tags":["java","spring-boot","generics"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680709211,"post_id":75941410,"comment_id":133945049,"body_markdown":"Can you show a compilation output?","body":"Can you show a compilation output?"},{"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1680709274,"post_id":75941410,"comment_id":133945072,"body_markdown":"Please see my updates @RomanC","body":"Please see my updates @RomanC"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1680714319,"post_id":75941410,"comment_id":133946437,"body_markdown":"Don&#39;t use raw types (not that adding a generic type will help here, though)","body":"Don&#39;t use raw types (not that adding a generic type will help here, though)"}],"answers":[{"tags":[],"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680710696,"creation_date":1680710057,"answer_id":75941592,"question_id":75941410,"body_markdown":"The compiler error is caused by the fruitExecutorMap field being defined as a Map that can hold any AbstractFruitExecutor instance. When calling fruitExecutorMap.get(fruit.getClass()), the returned value is of an unknown type that extends AbstractFruit, causing a compatibility issue. To fix this, use a bounded wildcard for the fruitExecutorMap field to only accept AbstractFruitExecutor instances that can handle a specific subtype of AbstractFruit. This guarantees compatibility between the type of fruitExecutor and fruit, resolving the error.\r\n```java\r\nprivate Map&lt;Class&lt;? extends AbstractFruit&gt;, AbstractFruitExecutor&lt;? extends AbstractFruit&gt;&gt; fruitExecutorMap;\r\n\r\n```\r\nAlternate solution is to use Visitor Design pattern\r\n```java\r\npublic interface FruitVisitor {\r\n    void visit(Apple apple);\r\n    void visit(Pear pear);\r\n    void visit(Orange orange);\r\n    // Add visit methods for other concrete subclasses of AbstractFruit as needed\r\n}\r\n\r\npublic abstract class AbstractFruit {\r\n    // ...\r\n    public abstract void accept(FruitVisitor visitor);\r\n}\r\n\r\npublic class Apple extends AbstractFruit {\r\n    // ...\r\n    @Override\r\n    public void accept(FruitVisitor visitor) {\r\n        visitor.visit(this);\r\n    }\r\n}\r\n\r\npublic class Pear extends AbstractFruit {\r\n    // ...\r\n    @Override\r\n    public void accept(FruitVisitor visitor) {\r\n        visitor.visit(this);\r\n    }\r\n}\r\n\r\npublic class Orange extends AbstractFruit {\r\n    // ...\r\n    @Override\r\n    public void accept(FruitVisitor visitor) {\r\n        visitor.visit(this);\r\n    }\r\n}\r\n\r\npublic class FruitProcessingContext {\r\n    // Define any context information needed for fruit processing\r\n}\r\n\r\n@Service\r\npublic class FruitExecutionDispatch implements FruitVisitor {\r\n\r\n    @Autowired\r\n    private FruitProcessingContext fpc;\r\n\r\n    public void executeAll(List&lt;AbstractFruit&gt; fruits) {\r\n        fruits.forEach(fruit -&gt; fruit.accept(this));\r\n    }\r\n\r\n    @Override\r\n    public void visit(Apple apple) {\r\n        // Logic for processing an apple goes here\r\n    }\r\n\r\n    @Override\r\n    public void visit(Pear pear) {\r\n        // Logic for processing a pear goes here\r\n    }\r\n\r\n    @Override\r\n    public void visit(Orange orange) {\r\n        // Logic for processing an orange goes here\r\n    }\r\n\r\n    // Implement additional visit methods for other concrete subclasses of AbstractFruit as needed\r\n}\r\n\r\n```","title":"Dispatching subclasses to their respective executor in Spring Boot","body":"<p>The compiler error is caused by the fruitExecutorMap field being defined as a Map that can hold any AbstractFruitExecutor instance. When calling fruitExecutorMap.get(fruit.getClass()), the returned value is of an unknown type that extends AbstractFruit, causing a compatibility issue. To fix this, use a bounded wildcard for the fruitExecutorMap field to only accept AbstractFruitExecutor instances that can handle a specific subtype of AbstractFruit. This guarantees compatibility between the type of fruitExecutor and fruit, resolving the error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Map&lt;Class&lt;? extends AbstractFruit&gt;, AbstractFruitExecutor&lt;? extends AbstractFruit&gt;&gt; fruitExecutorMap;\n\n</code></pre>\n<p>Alternate solution is to use Visitor Design pattern</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface FruitVisitor {\n    void visit(Apple apple);\n    void visit(Pear pear);\n    void visit(Orange orange);\n    // Add visit methods for other concrete subclasses of AbstractFruit as needed\n}\n\npublic abstract class AbstractFruit {\n    // ...\n    public abstract void accept(FruitVisitor visitor);\n}\n\npublic class Apple extends AbstractFruit {\n    // ...\n    @Override\n    public void accept(FruitVisitor visitor) {\n        visitor.visit(this);\n    }\n}\n\npublic class Pear extends AbstractFruit {\n    // ...\n    @Override\n    public void accept(FruitVisitor visitor) {\n        visitor.visit(this);\n    }\n}\n\npublic class Orange extends AbstractFruit {\n    // ...\n    @Override\n    public void accept(FruitVisitor visitor) {\n        visitor.visit(this);\n    }\n}\n\npublic class FruitProcessingContext {\n    // Define any context information needed for fruit processing\n}\n\n@Service\npublic class FruitExecutionDispatch implements FruitVisitor {\n\n    @Autowired\n    private FruitProcessingContext fpc;\n\n    public void executeAll(List&lt;AbstractFruit&gt; fruits) {\n        fruits.forEach(fruit -&gt; fruit.accept(this));\n    }\n\n    @Override\n    public void visit(Apple apple) {\n        // Logic for processing an apple goes here\n    }\n\n    @Override\n    public void visit(Pear pear) {\n        // Logic for processing a pear goes here\n    }\n\n    @Override\n    public void visit(Orange orange) {\n        // Logic for processing an orange goes here\n    }\n\n    // Implement additional visit methods for other concrete subclasses of AbstractFruit as needed\n}\n\n</code></pre>\n"}],"owner":{"account_id":6802882,"reputation":175,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75941592,"answer_count":1,"score":0,"last_activity_date":1680710696,"creation_date":1680709032,"question_id":75941410,"body_markdown":"Java 11 and Spring Boot here (if that makes a difference). I have the following POJOs:\r\n```\r\npublic abstract class AbstractFruit {\r\n    private String name;\r\n    private String description;\r\n    private Integer quantity;\r\n    // ...etc.\r\n    // getters, setters &amp; ctor omitted for brevity\r\n}\r\n\r\npublic class Apple extends AbstractFruit {\r\n    private AppleType appleType;\r\n    // etc.\r\n}\r\n\r\npublic class Pear extends AbstractFruit { ... }\r\n\r\npublic class Orange extends AbstractFruit { ... }\r\n\r\n// etc., dozens more\r\n```\r\n\r\nAnd for each of these `AbstractFruit` subclasses, there is a respective `AbstractFruitExecutor` class that executes instances of that fruit:\r\n```\r\npublic abstract class AbstractFruitExecutor&lt;E extends AbstractFruit&gt; {\r\n\r\n    protected abstract void execute(FruitProcessingContext fpc, E fruit);\r\n\r\n    // other stuff, omitted for brevity\r\n}\r\n\r\npublic class AppleExecutor extends AbstractFruitExecutor&lt;Apple&gt; { ... }\r\npublic class PearExecutor extends AbstractFruitExecutor&lt;Pear&gt; { ... }\r\npublic class OrangeExecutor extends AbstractFruitExecutor&lt;Orange&gt; { ... }\r\n```\r\n\r\nI will be given a `List&lt;AbstractFruit&gt;` and need to send each element in the list to its respective executor:\r\n```\r\n@Service\r\npublic class FruitExecutionDispatch {\r\n\r\n    @Autowired\r\n    private Map&lt;Class&lt;? extends AbstractFruit&gt;, AbstractFruitExecutor&gt; fruitExecutorMap;\r\n\r\n    public void executeAll(List&lt;AbstractFruit&gt; fruits, FruitProcessingContext fpc) {\r\n\r\n        fruits.forEach(fruit -&gt; {\r\n            AbstractFruitExecutor&lt;?&gt; fruitExecutor = findFruitExecutor(fruit).orElseThrow();\r\n            fruitExecutor.execute(fpc, fruit);\r\n        });\r\n\r\n    }\r\n\r\n    private Optional&lt;AbstractFruitExecutor&lt;?&gt;&gt; findFruitExecutor(AbstractFruit fruit) {\r\n        return Optional.ofNullable(fruitExecutorMap.get(fruit.getClass()));\r\n    }\r\n\r\n}\r\n```\r\n\r\nUnfortunately the above code produces a compiler error:\r\n&gt; &quot;_Required type: capture of ?, Provided: AbstractFruit_&quot;\r\n\r\nThe above is IntelliJ IDE error. On the command line when I try to run the app I get:\r\n```\r\n  where CAP#1 is a fresh type-variable:\r\n    CAP#1 extends AbstractFruit from capture of ?\r\n```\r\n\r\nCan someone spot where I&#39;m going awry and explain how I can fix this compiler error? Also if there are any better design patterns or utilities that Spring/Boot offers to help with this, I&#39;m all ears. Thanks in advance!","title":"Dispatching subclasses to their respective executor in Spring Boot","body":"<p>Java 11 and Spring Boot here (if that makes a difference). I have the following POJOs:</p>\n<pre><code>public abstract class AbstractFruit {\n    private String name;\n    private String description;\n    private Integer quantity;\n    // ...etc.\n    // getters, setters &amp; ctor omitted for brevity\n}\n\npublic class Apple extends AbstractFruit {\n    private AppleType appleType;\n    // etc.\n}\n\npublic class Pear extends AbstractFruit { ... }\n\npublic class Orange extends AbstractFruit { ... }\n\n// etc., dozens more\n</code></pre>\n<p>And for each of these <code>AbstractFruit</code> subclasses, there is a respective <code>AbstractFruitExecutor</code> class that executes instances of that fruit:</p>\n<pre><code>public abstract class AbstractFruitExecutor&lt;E extends AbstractFruit&gt; {\n\n    protected abstract void execute(FruitProcessingContext fpc, E fruit);\n\n    // other stuff, omitted for brevity\n}\n\npublic class AppleExecutor extends AbstractFruitExecutor&lt;Apple&gt; { ... }\npublic class PearExecutor extends AbstractFruitExecutor&lt;Pear&gt; { ... }\npublic class OrangeExecutor extends AbstractFruitExecutor&lt;Orange&gt; { ... }\n</code></pre>\n<p>I will be given a <code>List&lt;AbstractFruit&gt;</code> and need to send each element in the list to its respective executor:</p>\n<pre><code>@Service\npublic class FruitExecutionDispatch {\n\n    @Autowired\n    private Map&lt;Class&lt;? extends AbstractFruit&gt;, AbstractFruitExecutor&gt; fruitExecutorMap;\n\n    public void executeAll(List&lt;AbstractFruit&gt; fruits, FruitProcessingContext fpc) {\n\n        fruits.forEach(fruit -&gt; {\n            AbstractFruitExecutor&lt;?&gt; fruitExecutor = findFruitExecutor(fruit).orElseThrow();\n            fruitExecutor.execute(fpc, fruit);\n        });\n\n    }\n\n    private Optional&lt;AbstractFruitExecutor&lt;?&gt;&gt; findFruitExecutor(AbstractFruit fruit) {\n        return Optional.ofNullable(fruitExecutorMap.get(fruit.getClass()));\n    }\n\n}\n</code></pre>\n<p>Unfortunately the above code produces a compiler error:</p>\n<blockquote>\n<p>&quot;<em>Required type: capture of ?, Provided: AbstractFruit</em>&quot;</p>\n</blockquote>\n<p>The above is IntelliJ IDE error. On the command line when I try to run the app I get:</p>\n<pre><code>  where CAP#1 is a fresh type-variable:\n    CAP#1 extends AbstractFruit from capture of ?\n</code></pre>\n<p>Can someone spot where I'm going awry and explain how I can fix this compiler error? Also if there are any better design patterns or utilities that Spring/Boot offers to help with this, I'm all ears. Thanks in advance!</p>\n"},{"tags":["java","lambda","foreach","java-stream","indexof"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1446124215,"post_id":33415089,"comment_id":54619884,"body_markdown":"How about replacing `day` at the end with nothing, i.e. apply `String#replaceAll(&quot;day$&quot;, &quot;&quot;)` to all elements. Just an idea how to get rid of the condition. If you can&#39;t write the changed elements back to the list (I don&#39;t know that API that well yet but &quot;forEach&quot; indicates it is not possible) you could collect them into a new list.","body":"How about replacing <code>day</code> at the end with nothing, i.e. apply <code>String#replaceAll(&quot;day$&quot;, &quot;&quot;)</code> to all elements. Just an idea how to get rid of the condition. If you can&#39;t write the changed elements back to the list (I don&#39;t know that API that well yet but &quot;forEach&quot; indicates it is not possible) you could collect them into a new list."},{"owner":{"account_id":3883582,"reputation":32684,"user_id":3215527,"accept_rate":40,"display_name":"wero"},"score":0,"creation_date":1446124274,"post_id":33415089,"comment_id":54619930,"body_markdown":"why don&#39;t you simply iterate over the list with a for loop?","body":"why don&#39;t you simply iterate over the list with a for loop?"},{"owner":{"account_id":5155415,"reputation":337,"user_id":4156963,"accept_rate":33,"display_name":"Pavan"},"score":0,"creation_date":1446124401,"post_id":33415089,"comment_id":54620004,"body_markdown":"@Thanigaiarasu I have done the same thing, you can see that in question. my question is after this operation my list should have elements without &quot;day&quot;","body":"@Thanigaiarasu I have done the same thing, you can see that in question. my question is after this operation my list should have elements without &quot;day&quot;"},{"owner":{"account_id":2403437,"reputation":1315,"user_id":2100584,"display_name":"Tomas"},"score":1,"creation_date":1446130673,"post_id":33415089,"comment_id":54624850,"body_markdown":"@wero Because he wants to know how to do this using a lambda?","body":"@wero Because he wants to know how to do this using a lambda?"}],"answers":[{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1446124533,"post_id":33415274,"comment_id":54620112,"body_markdown":"Funny, my solution looked like yours :D. So I don&#39;t need to post it.","body":"Funny, my solution looked like yours :D. So I don&#39;t need to post it."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1446124767,"post_id":33415274,"comment_id":54620285,"body_markdown":"I think your `s.substring(0, s.indexOf(&quot;day&quot;))` would be better written as `s.substring(0, s.length()-3)`; that way you don&#39;t run the risk of hitting an earlier occurrence of `&quot;day&quot;` in the string.","body":"I think your <code>s.substring(0, s.indexOf(&quot;day&quot;))</code> would be better written as <code>s.substring(0, s.length()-3)</code>; that way you don&#39;t run the risk of hitting an earlier occurrence of <code>&quot;day&quot;</code> in the string."},{"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"score":0,"creation_date":1446124901,"post_id":33415274,"comment_id":54620376,"body_markdown":"@khelwood Or better yet `lastIndexOf`. But thanks for the heads up.","body":"@khelwood Or better yet <code>lastIndexOf</code>. But thanks for the heads up."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1446125104,"post_id":33415274,"comment_id":54620528,"body_markdown":"@TNT better yet why? you&#39;re just performing an extra search that you already know the result of.","body":"@TNT better yet why? you&#39;re just performing an extra search that you already know the result of."},{"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"score":0,"creation_date":1446125510,"post_id":33415274,"comment_id":54620836,"body_markdown":"@khelwood You have a point. I was thinking more in terms of readability as if it would be easier to note that the range of the substring ends at the index of the last occurrence of &quot;day&quot;. But like you said, that&#39;s already known, and that seems like a better solution as well.","body":"@khelwood You have a point. I was thinking more in terms of readability as if it would be easier to note that the range of the substring ends at the index of the last occurrence of &quot;day&quot;. But like you said, that&#39;s already known, and that seems like a better solution as well."}],"tags":[],"owner":{"account_id":4127389,"reputation":2900,"user_id":3386144,"accept_rate":73,"display_name":"TNT"},"comment_count":5,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1446125568,"creation_date":1446124461,"answer_id":33415274,"question_id":33415089,"body_markdown":"Iterating over the stream using `forEach` won&#39;t work; you need to map each of the elements you modified to a new stream using `map`. Then you can collect the results back to your list.\r\n\r\n    daysList = daysList.stream()\r\n\t\t\t.map(s -&gt; s.endsWith(&quot;day&quot;) ? s.substring(0, s.length()-3) : s)\r\n\t\t\t.collect(Collectors.toList());","title":"How to do substring in some elements of string list using lambda","body":"<p>Iterating over the stream using <code>forEach</code> won't work; you need to map each of the elements you modified to a new stream using <code>map</code>. Then you can collect the results back to your list.</p>\n\n<pre><code>daysList = daysList.stream()\n        .map(s -&gt; s.endsWith(\"day\") ? s.substring(0, s.length()-3) : s)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":376033,"reputation":716,"user_id":4088809,"display_name":"Tahar Bakir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1446124997,"creation_date":1446124997,"answer_id":33415458,"question_id":33415089,"body_markdown":"    List&lt;String&gt; daysList = Arrays.asList(&quot;sunday&quot;, &quot;monday&quot;, \r\n                                          &quot;tuesday&quot;, &quot;wednesday&quot;,\r\n                                           &quot;fri&quot;, &quot;satur&quot; \r\n                                          );\r\n\r\n\r\n    List&lt;String&gt; res = daysList.stream()\r\n                                .map(s -&gt; s.replace(&quot;day&quot;,&quot;&quot;))\r\n                                .collect(Collectors.toList());","title":"How to do substring in some elements of string list using lambda","body":"<pre><code>List&lt;String&gt; daysList = Arrays.asList(\"sunday\", \"monday\", \n                                      \"tuesday\", \"wednesday\",\n                                       \"fri\", \"satur\" \n                                      );\n\n\nList&lt;String&gt; res = daysList.stream()\n                            .map(s -&gt; s.replace(\"day\",\"\"))\n                            .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1446124998,"creation_date":1446124998,"answer_id":33415459,"question_id":33415089,"body_markdown":"Most of the answers here make use of a Stream, but you should not be using a Stream at all:\r\n\r\n    daysList.replaceAll(s -&gt; s.replaceFirst(&quot;day$&quot;, &quot;&quot;));\r\n","title":"How to do substring in some elements of string list using lambda","body":"<p>Most of the answers here make use of a Stream, but you should not be using a Stream at all:</p>\n\n<pre><code>daysList.replaceAll(s -&gt; s.replaceFirst(\"day$\", \"\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213972,"reputation":13,"user_id":467660,"display_name":"Rintu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531391094,"creation_date":1531391094,"answer_id":51303191,"question_id":33415089,"body_markdown":"**Sub String with decimal points sorting** .\r\n\r\nString arr[]=  {&quot;2.4&quot;,&quot;4.2&quot;,&quot;3.1&quot;,&quot;5.7&quot;,&quot;3.0&quot;,&quot;2.01&quot;,&quot;7.06&quot;,&quot;6.003&quot;};\r\n\t\t\r\nList&lt;String&gt; newList =Arrays.asList(arr);\r\nnewList.stream().map(n -&gt; n.substring(n.indexOf(&#39;.&#39;)) ).collect(Collectors.toList()).stream().sorted().forEach(n -&gt; System.out.println(n));;","title":"How to do substring in some elements of string list using lambda","body":"<p><strong>Sub String with decimal points sorting</strong> .</p>\n\n<p>String arr[]=  {\"2.4\",\"4.2\",\"3.1\",\"5.7\",\"3.0\",\"2.01\",\"7.06\",\"6.003\"};</p>\n\n<p>List newList =Arrays.asList(arr);\nnewList.stream().map(n -> n.substring(n.indexOf('.')) ).collect(Collectors.toList()).stream().sorted().forEach(n -> System.out.println(n));;</p>\n"}],"owner":{"account_id":5155415,"reputation":337,"user_id":4156963,"accept_rate":33,"display_name":"Pavan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19392,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":33415459,"answer_count":4,"score":8,"last_activity_date":1680710659,"creation_date":1446123943,"question_id":33415089,"body_markdown":"Below is my list of String.\r\n\r\n    [&quot;sunday&quot;, &quot;monday&quot;, &quot;tuesday&quot;, &quot;wednesday&quot;, &quot;thurs&quot;, &quot;fri&quot;, &quot;satur&quot;]\r\n\r\nI want to do remove &quot;**day**&quot; from the elements, if it is ending with &quot;day&quot;.  \r\n\r\nExpected Output in the list:\r\n\r\n    [&quot;sun&quot;, &quot;mon&quot;, &quot;tues&quot;, &quot;wednes&quot;, &quot;thurs&quot;, &quot;fri&quot;, &quot;satur&quot;]\r\n\r\n**How to do this using Lambda?**\r\n\r\nI have tried the below code, but was unable to assign the value to the list:\r\n\r\n    daysList.stream().forEach(s -&gt; {\r\n        if (s.endsWith(&quot;day&quot;)) {\r\n            s = s.substring(0, s.indexOf(&quot;day&quot;));\r\n        }\r\n    });\r\n","title":"How to do substring in some elements of string list using lambda","body":"<p>Below is my list of String.</p>\n<pre><code>[&quot;sunday&quot;, &quot;monday&quot;, &quot;tuesday&quot;, &quot;wednesday&quot;, &quot;thurs&quot;, &quot;fri&quot;, &quot;satur&quot;]\n</code></pre>\n<p>I want to do remove &quot;<strong>day</strong>&quot; from the elements, if it is ending with &quot;day&quot;.</p>\n<p>Expected Output in the list:</p>\n<pre><code>[&quot;sun&quot;, &quot;mon&quot;, &quot;tues&quot;, &quot;wednes&quot;, &quot;thurs&quot;, &quot;fri&quot;, &quot;satur&quot;]\n</code></pre>\n<p><strong>How to do this using Lambda?</strong></p>\n<p>I have tried the below code, but was unable to assign the value to the list:</p>\n<pre><code>daysList.stream().forEach(s -&gt; {\n    if (s.endsWith(&quot;day&quot;)) {\n        s = s.substring(0, s.indexOf(&quot;day&quot;));\n    }\n});\n</code></pre>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1680789187,"post_id":75938725,"comment_id":133959770,"body_markdown":"What Camel version?\nHow do you call the rest endpoint? Note that you have declared the rest as a GET which mean there is no payload, so if you want to upload a file, then you likely want to use POST instead","body":"What Camel version? How do you call the rest endpoint? Note that you have declared the rest as a GET which mean there is no payload, so if you want to upload a file, then you likely want to use POST instead"},{"owner":{"account_id":27794050,"reputation":1,"user_id":21219951,"display_name":"Adwaita"},"score":0,"creation_date":1680790141,"post_id":75938725,"comment_id":133960009,"body_markdown":"@Claus Ibsen, I am using 3.3.0 as Camel version. I want to use this rest end point as Producer, so that it can be processed to produce the json.","body":"@Claus Ibsen, I am using 3.3.0 as Camel version. I want to use this rest end point as Producer, so that it can be processed to produce the json."},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1681019867,"post_id":75938725,"comment_id":133990205,"body_markdown":"Camel 3.3.0 is very old, if you can try with latest 3.x release like 3.20.3, or 3.14.x if you must stay on Java 8.","body":"Camel 3.3.0 is very old, if you can try with latest 3.x release like 3.20.3, or 3.14.x if you must stay on Java 8."}],"owner":{"account_id":27794050,"reputation":1,"user_id":21219951,"display_name":"Adwaita"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680710519,"creation_date":1680693154,"question_id":75938725,"body_markdown":"I want to read an Excel file and convert it to a json file through camel REST. But when I tried to access the API inside my route it&#39;s saying:\r\n\r\n&gt; Route: route1 started and consuming from: servlet: /api/convertFile\r\n\r\nAfter this no progress is happening.\r\n\r\nI have tried as below:\r\n\r\n```\r\npublic void configure() throws Exception {\r\n    from(&quot;rest:get:/api/convertFile?host=http://localhost:8080&quot;).autoStartup(false).setHeader(Exchange.HTTP_QUERY, simple(queryparams).process(jsonProcessor);\r\n}\r\n```\r\n\r\nI am expecting after hitting the rest endpoint, it will process the Excel file to json file.\r\n\r\nAny help is highly appreciated.","title":"camel producer is not working while processing a json","body":"<p>I want to read an Excel file and convert it to a json file through camel REST. But when I tried to access the API inside my route it's saying:</p>\n<blockquote>\n<p>Route: route1 started and consuming from: servlet: /api/convertFile</p>\n</blockquote>\n<p>After this no progress is happening.</p>\n<p>I have tried as below:</p>\n<pre><code>public void configure() throws Exception {\n    from(&quot;rest:get:/api/convertFile?host=http://localhost:8080&quot;).autoStartup(false).setHeader(Exchange.HTTP_QUERY, simple(queryparams).process(jsonProcessor);\n}\n</code></pre>\n<p>I am expecting after hitting the rest endpoint, it will process the Excel file to json file.</p>\n<p>Any help is highly appreciated.</p>\n"},{"tags":["java","kubernetes","fabric8-kubernetes-client"],"comments":[{"owner":{"account_id":19088824,"reputation":50,"user_id":13939499,"display_name":"Parneet Raghuvanshi"},"score":0,"creation_date":1680718493,"post_id":75941664,"comment_id":133947402,"body_markdown":"this feature is under implementation, https://github.com/fabric8io/kubernetes-client/pull/4712/files#diff-b95b04f298d96edfaaefd6c00f835dba2dd308eee090ba0c8ea35c22610b2851R80\n\nso any work around till then?","body":"this feature is under implementation, <a href=\"https://github.com/fabric8io/kubernetes-client/pull/4712/files#diff-b95b04f298d96edfaaefd6c00f835dba2dd308eee090ba0c8ea35c22610b2851R80\" rel=\"nofollow noreferrer\">github.com/fabric8io/kubernetes-client/pull/4712/&hellip;</a>  so any work around till then?"}],"owner":{"account_id":19088824,"reputation":50,"user_id":13939499,"display_name":"Parneet Raghuvanshi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680710518,"creation_date":1680710518,"question_id":75941664,"body_markdown":"I am trying to create a config-map form a file, using k8s client.\r\n\r\ncontent of application.properties, I have this file as File java object.\r\n\r\n```\r\npropertyOne=&quot;Something_One&quot;\r\npropertyTwo=&quot;Something_Two&quot;\r\n```\r\n\r\nnow I have no clue, how I should create a config-map.\r\n**ConfigMapBuilder** has few options for **.withData()** or **.addToData()** but these consumes only **Map\\&lt;String, String\\&gt;**\r\n\r\nMy goal is to create this config-map, and assign this to a Pod using **EnvFromSourceBuilder**, by using config-map name and assigning that to my **ContainerBuilder**, and only blocker is creating Config-Map.\r\n\r\nCan anyone please help me out, thanks in advance :)","title":"Create Config-Map from my properties file, using k8s client","body":"<p>I am trying to create a config-map form a file, using k8s client.</p>\n<p>content of application.properties, I have this file as File java object.</p>\n<pre><code>propertyOne=&quot;Something_One&quot;\npropertyTwo=&quot;Something_Two&quot;\n</code></pre>\n<p>now I have no clue, how I should create a config-map.\n<strong>ConfigMapBuilder</strong> has few options for <strong>.withData()</strong> or <strong>.addToData()</strong> but these consumes only <strong>Map&lt;String, String&gt;</strong></p>\n<p>My goal is to create this config-map, and assign this to a Pod using <strong>EnvFromSourceBuilder</strong>, by using config-map name and assigning that to my <strong>ContainerBuilder</strong>, and only blocker is creating Config-Map.</p>\n<p>Can anyone please help me out, thanks in advance :)</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1680699319,"post_id":75939554,"comment_id":133942010,"body_markdown":"Where do you deploy your artifacts to?","body":"Where do you deploy your artifacts to?"},{"owner":{"account_id":12400527,"reputation":425,"user_id":9038008,"display_name":"Shikhar Chaudhary"},"score":0,"creation_date":1681283781,"post_id":75939554,"comment_id":134029697,"body_markdown":"in nexus repository","body":"in nexus repository"}],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680710348,"creation_date":1680710348,"answer_id":75941636,"question_id":75939554,"body_markdown":"If you execute `mvn install` first on &quot;Customer&quot; project and then also on &quot;PROJECT 2&quot; (on the same machine!), it will work.\r\n\r\nIf you want to build &quot;PROJECT 2&quot; on a different machine you must configure a server where you deploy (using `mvn deploy`) the jars of &quot;Customer&quot; so that they are available to everyone without recompiling them each time.","title":"Could not resolve dependencies for maven project with a dependency (which is a child in a multi maven module project)","body":"<p>If you execute <code>mvn install</code> first on &quot;Customer&quot; project and then also on &quot;PROJECT 2&quot; (on the same machine!), it will work.</p>\n<p>If you want to build &quot;PROJECT 2&quot; on a different machine you must configure a server where you deploy (using <code>mvn deploy</code>) the jars of &quot;Customer&quot; so that they are available to everyone without recompiling them each time.</p>\n"}],"owner":{"account_id":12400527,"reputation":425,"user_id":9038008,"display_name":"Shikhar Chaudhary"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680710348,"creation_date":1680698513,"question_id":75939554,"body_markdown":"I have a multi maven module **project** name customer which has 2 modules in it\r\n\r\n 1.  common-module (it contains DTO, enums)\r\n 2.  service-module (service logic)\r\n\r\nBoth, have customer as it&#39;s parent and the module uses Maven inheritance.\r\nSo hierarchy is\r\n\r\n - Customer pom.xml\r\n    \r\n      - common-module pom.xml\r\n      - service-module pom.xml\r\n\r\n\r\n**Problem** : When i try to use the dependency of common-module in another **project**  name PROJECT 2 i get below exception \r\n\r\n\r\n    [ERROR] Failed to execute goal on project PROJECT 2: Could not resolve dependencies \r\n     for project PROJECT 2:jar:1.0-SNAPSHOT: Failed to collect dependencies at \r\n     com.test:common-module:jar:0.0.2-SNAPSHOT: Failed to read artifact descriptor for \r\n     Could not find artifact com.test:common-module:jar:customer:pom:0.0.2-SNAPSHOT\r\n\r\n\r\nHow can i resolve common-module dependency in another project when the common-module uses maven inheritance?","title":"Could not resolve dependencies for maven project with a dependency (which is a child in a multi maven module project)","body":"<p>I have a multi maven module <strong>project</strong> name customer which has 2 modules in it</p>\n<ol>\n<li>common-module (it contains DTO, enums)</li>\n<li>service-module (service logic)</li>\n</ol>\n<p>Both, have customer as it's parent and the module uses Maven inheritance.\nSo hierarchy is</p>\n<ul>\n<li><p>Customer pom.xml</p>\n<ul>\n<li>common-module pom.xml</li>\n<li>service-module pom.xml</li>\n</ul>\n</li>\n</ul>\n<p><strong>Problem</strong> : When i try to use the dependency of common-module in another <strong>project</strong>  name PROJECT 2 i get below exception</p>\n<pre><code>[ERROR] Failed to execute goal on project PROJECT 2: Could not resolve dependencies \n for project PROJECT 2:jar:1.0-SNAPSHOT: Failed to collect dependencies at \n com.test:common-module:jar:0.0.2-SNAPSHOT: Failed to read artifact descriptor for \n Could not find artifact com.test:common-module:jar:customer:pom:0.0.2-SNAPSHOT\n</code></pre>\n<p>How can i resolve common-module dependency in another project when the common-module uses maven inheritance?</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1652363836,"post_id":72216566,"comment_id":127592316,"body_markdown":"Sorry, but this is very hard to follow. Show us details of the project such as the MANIFEST.MF and the .project file.","body":"Sorry, but this is very hard to follow. Show us details of the project such as the MANIFEST.MF and the .project file."},{"owner":{"account_id":3733432,"reputation":43,"user_id":3105059,"display_name":"Toms Teteris"},"score":0,"creation_date":1652367771,"post_id":72216566,"comment_id":127593997,"body_markdown":"Here is [MANIFEST.MF](https://github.com/Mafioziks/JEB__Extension/blob/update-and-fix/META-INF/MANIFEST.MF) file and here is [.project](https://github.com/Mafioziks/JEB__Extension/blob/update-and-fix/.project) file. @greg-449","body":"Here is <a href=\"https://github.com/Mafioziks/JEB__Extension/blob/update-and-fix/META-INF/MANIFEST.MF\" rel=\"nofollow noreferrer\">MANIFEST.MF</a> file and here is <a href=\"https://github.com/Mafioziks/JEB__Extension/blob/update-and-fix/.project\" rel=\"nofollow noreferrer\">.project</a> file. @greg-449"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1652397397,"post_id":72216566,"comment_id":127603027,"body_markdown":"Your question tells the project is not shown as plugin project, your `.project` it&#39;s a non-Java plugin project and your `MANIFEST.MF` tells it&#39;s a Java plugin project. If the `MANIFEST.MF` is right, in `.project` the `org.eclipse.jdt.core.javabuilder` builder and `org.eclipse.jdt.core.javanature` nature is missing.","body":"Your question tells the project is not shown as plugin project, your <code>.project</code> it&#39;s a non-Java plugin project and your <code>MANIFEST.MF</code> tells it&#39;s a Java plugin project. If the <code>MANIFEST.MF</code> is right, in <code>.project</code> the <code>org.eclipse.jdt.core.javabuilder</code> builder and <code>org.eclipse.jdt.core.javanature</code> nature is missing."},{"owner":{"account_id":3733432,"reputation":43,"user_id":3105059,"display_name":"Toms Teteris"},"score":0,"creation_date":1652442022,"post_id":72216566,"comment_id":127613038,"body_markdown":"@howlger I tried to add both natures, refresh project and even restarted eclipse but it did not made any changes for me.","body":"@howlger I tried to add both natures, refresh project and even restarted eclipse but it did not made any changes for me."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1652444099,"post_id":72216566,"comment_id":127613782,"body_markdown":"Add it as a builder and a nature: `&lt;buildCommand&gt;&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;&lt;arguments/&gt;&lt;/buildCommand&gt;` and `&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;/nature&gt;`","body":"Add it as a builder and a nature: <code>&lt;buildCommand&gt;&lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;&#47;name&gt;&lt;&zwnj;&#8203;arguments&#47;&gt;&lt;&#47;buildCo&zwnj;&#8203;mmand&gt;</code> and <code>&lt;nature&gt;org.eclipse.jdt.core.javanature&lt;&#47;nature&gt;</code>"}],"answers":[{"tags":[],"owner":{"account_id":20927372,"reputation":113,"user_id":15407307,"display_name":"hrdom"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680710013,"creation_date":1680710013,"answer_id":75941582,"question_id":72216566,"body_markdown":"The reason for me why it not showing it in the export list is because I selected &quot;**Binary projects**&quot; in **Import As-Import Plug-ins and Fragments**.\r\nI change it to &quot;**Projects with source folders**&quot;. This can then be displayed in &quot;Deployable plug-ins and fragments&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FyH7R.png\r\n  [2]: https://i.stack.imgur.com/FaiSV.png","title":"Exporting Eclipse plugin not able to see project as plugin project","body":"<p>The reason for me why it not showing it in the export list is because I selected &quot;<strong>Binary projects</strong>&quot; in <strong>Import As-Import Plug-ins and Fragments</strong>.\nI change it to &quot;<strong>Projects with source folders</strong>&quot;. This can then be displayed in &quot;Deployable plug-ins and fragments&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/FyH7R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FyH7R.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/FaiSV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FaiSV.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3733432,"reputation":43,"user_id":3105059,"display_name":"Toms Teteris"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680710013,"creation_date":1652362348,"question_id":72216566,"body_markdown":"I am working on Eclipse plugin. At the beginning exporting of it worked fine but I guess that after updating Eclipse it broke down. Eclipse started to mentioned that I have uninstalled some equinox packages. It took time till I understood that version of Eclipse made a problems and I reinstalled older version of Eclipse. Now I am again able to run sample environment with plugin but I still am not able to export plugin. In export form where I need to select deployable plugin and/or fragments I don&#39;t have listed anything. From what I found I understand that it might be problem with importing project in Eclipse as it might not remove information that project is external and thus not listing as project that could be exported. But I did not find any way to prove this case.\r\n\r\nIs there anybody having any idea how to solve this kind of issue?","title":"Exporting Eclipse plugin not able to see project as plugin project","body":"<p>I am working on Eclipse plugin. At the beginning exporting of it worked fine but I guess that after updating Eclipse it broke down. Eclipse started to mentioned that I have uninstalled some equinox packages. It took time till I understood that version of Eclipse made a problems and I reinstalled older version of Eclipse. Now I am again able to run sample environment with plugin but I still am not able to export plugin. In export form where I need to select deployable plugin and/or fragments I don't have listed anything. From what I found I understand that it might be problem with importing project in Eclipse as it might not remove information that project is external and thus not listing as project that could be exported. But I did not find any way to prove this case.</p>\n<p>Is there anybody having any idea how to solve this kind of issue?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1680715260,"post_id":75941566,"comment_id":133946636,"body_markdown":"How is it programmed to send data? Show some code.","body":"How is it programmed to send data? Show some code."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680722392,"post_id":75941566,"comment_id":133948258,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28224413,"reputation":1,"user_id":21574656,"display_name":"Electro Rent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680709927,"creation_date":1680709927,"question_id":75941566,"body_markdown":"Hello fellow developers,\r\n\r\nI am having trouble with an Android app I am working on that is programmed to send GPS data to a web service every 2 hours. The issue is that after about a day or two, the service appears to be interrupted on the phone, and data is no longer sent. The data starts sending again either when one touches the phone or the service is started again from the app or the phone is switched off and turned back on.\r\n\r\nAll Android settings are set to not let the app go to sleep and to ignore battery optimization for my app, and it is also a foreground service.\r\n\r\nI am wondering if anyone has any insight into what could be causing this issue and how to fix it? I appreciate any help or advice you can offer!\r\n\r\nTo troubleshoot this issue, I have tried the following with no success:\r\n\r\nI have checked the app for error messages or exceptions, but none are being thrown when it stops sending data to the web service.\r\nI have set an alarm to see that keeps the app working in non-interactive mode. It works for a few days and then stops again even with the alarm set and going off everyday.\r\nI have checked the web service logs, but there are no errors or issues on that side that would prevent the data from being received.\r\nI have tested the app on multiple devices, and the issue occurs mostly in Sony Xperia, Samsung S22 etc.\r\nI have tried different intervals for sending the GPS data to the web service (e.g., every 10 mins), but the issue persists.\r\nI have tried wakelock/caffeine apps to keep the CPU running.","title":"My Android app stops sending data to the web service after a day or two","body":"<p>Hello fellow developers,</p>\n<p>I am having trouble with an Android app I am working on that is programmed to send GPS data to a web service every 2 hours. The issue is that after about a day or two, the service appears to be interrupted on the phone, and data is no longer sent. The data starts sending again either when one touches the phone or the service is started again from the app or the phone is switched off and turned back on.</p>\n<p>All Android settings are set to not let the app go to sleep and to ignore battery optimization for my app, and it is also a foreground service.</p>\n<p>I am wondering if anyone has any insight into what could be causing this issue and how to fix it? I appreciate any help or advice you can offer!</p>\n<p>To troubleshoot this issue, I have tried the following with no success:</p>\n<p>I have checked the app for error messages or exceptions, but none are being thrown when it stops sending data to the web service.\nI have set an alarm to see that keeps the app working in non-interactive mode. It works for a few days and then stops again even with the alarm set and going off everyday.\nI have checked the web service logs, but there are no errors or issues on that side that would prevent the data from being received.\nI have tested the app on multiple devices, and the issue occurs mostly in Sony Xperia, Samsung S22 etc.\nI have tried different intervals for sending the GPS data to the web service (e.g., every 10 mins), but the issue persists.\nI have tried wakelock/caffeine apps to keep the CPU running.</p>\n"},{"tags":["java","android","google-play-services","android-location"],"answers":[{"tags":[],"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680709902,"creation_date":1680709902,"answer_id":75941563,"question_id":75838826,"body_markdown":"Also [`LocationRequest.setPriority()`][1] has become deprecated and been replaced by [`LocationRequest.Builder.setPriority()`][2] where\r\n\r\n&gt; The default value is [`Priority.PRIORITY_BALANCED_POWER_ACCURACY`][3].\r\n\r\nSo in your case you don&#39;t need to call `setPriority()` at all.\r\n\r\nFurther note, that `PRIORITY_BALANCED_POWER_ACCURACY` has been moved from **class** [`LocationRequest`][4] to **interface** [`Priority`][5].\r\n\r\n  [1]: https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest#setPriority(int)\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.Builder#setPriority(int)\r\n  [3]: https://developers.google.com/android/reference/com/google/android/gms/location/Priority#PRIORITY_BALANCED_POWER_ACCURACY\r\n  [4]: https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest\r\n  [5]: https://developers.google.com/android/reference/com/google/android/gms/location/Priority","title":"where is declared the constante Priority.PRIORITY_BALANCED_POWER_ACCURACY?","body":"<p>Also <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest#setPriority(int)\" rel=\"nofollow noreferrer\"><code>LocationRequest.setPriority()</code></a> has become deprecated and been replaced by <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest.Builder#setPriority(int)\" rel=\"nofollow noreferrer\"><code>LocationRequest.Builder.setPriority()</code></a> where</p>\n<blockquote>\n<p>The default value is <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/Priority#PRIORITY_BALANCED_POWER_ACCURACY\" rel=\"nofollow noreferrer\"><code>Priority.PRIORITY_BALANCED_POWER_ACCURACY</code></a>.</p>\n</blockquote>\n<p>So in your case you don't need to call <code>setPriority()</code> at all.</p>\n<p>Further note, that <code>PRIORITY_BALANCED_POWER_ACCURACY</code> has been moved from <strong>class</strong> <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest\" rel=\"nofollow noreferrer\"><code>LocationRequest</code></a> to <strong>interface</strong> <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/Priority\" rel=\"nofollow noreferrer\"><code>Priority</code></a>.</p>\n"}],"owner":{"account_id":1127005,"reputation":12375,"user_id":1114043,"accept_rate":51,"display_name":"zeus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75941563,"answer_count":1,"score":2,"last_activity_date":1680709902,"creation_date":1679700696,"question_id":75838826,"body_markdown":"When I read the doc : https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest then say that `PRIORITY_BALANCED_POWER_ACCURACY` is deprecated and that we must use instead `Priority.PRIORITY_BALANCED_POWER_ACCURACY`. but when i do so i receive :\r\n\r\n&gt; error: cannot find symbol                                             \r\n&gt; .setPriority(Priority.PRIORITY_BALANCED_POWER_ACCURACY)\r\n\r\nWhat did I miss ?","title":"where is declared the constante Priority.PRIORITY_BALANCED_POWER_ACCURACY?","body":"<p>When I read the doc : <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest\" rel=\"nofollow noreferrer\">https://developers.google.com/android/reference/com/google/android/gms/location/LocationRequest</a> then say that <code>PRIORITY_BALANCED_POWER_ACCURACY</code> is deprecated and that we must use instead <code>Priority.PRIORITY_BALANCED_POWER_ACCURACY</code>. but when i do so i receive :</p>\n<blockquote>\n<p>error: cannot find symbol<br />\n.setPriority(Priority.PRIORITY_BALANCED_POWER_ACCURACY)</p>\n</blockquote>\n<p>What did I miss ?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1680709802,"post_id":75938482,"comment_id":133945230,"body_markdown":"Welcome to stackoverflow. This is not a free code-writing service. We can help with problems in your code, but we don&#39;t do your homework for you. See [ask].","body":"Welcome to stackoverflow. This is not a free code-writing service. We can help with problems in your code, but we don&#39;t do your homework for you. See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":10761390,"reputation":97,"user_id":7917687,"display_name":"Ashad0203"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1680692894,"creation_date":1680692424,"answer_id":75938603,"question_id":75938482,"body_markdown":"Below code should work\r\n\r\n```java\r\n@Autowired\r\n    private AddressRepository addressRepository;\r\n\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n\r\n        if (addressRepository.findByAddress(s).isPresent()) {\r\n            return false; // address already exists\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\nBelow is the AddressRepository Code\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface AddressRepository extends CrudRepository&lt;Address, Long&gt; {\r\n\r\n    Optional&lt;Address&gt; findByAddress(String address);\r\n}","title":"Logic to check unique constraints in springboot using custom validator","body":"<p>Below code should work</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\n    private AddressRepository addressRepository;\n\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n\n        if (addressRepository.findByAddress(s).isPresent()) {\n            return false; // address already exists\n        }\n\n        return true;\n    }\n\n\nBelow is the AddressRepository Code\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface AddressRepository extends CrudRepository&lt;Address, Long&gt; {\n\n    Optional&lt;Address&gt; findByAddress(String address);\n}\n</code></pre>\n"}],"owner":{"account_id":25882721,"reputation":21,"user_id":19611476,"display_name":"Abdullaah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1680761930,"accepted_answer_id":75938603,"answer_count":1,"score":0,"last_activity_date":1680709854,"creation_date":1680691552,"question_id":75938482,"body_markdown":"```\r\npackage com.assessment.crud.validate;\r\n\r\nimport jakarta.validation.ConstraintValidator;\r\nimport jakarta.validation.ConstraintValidatorContext;\r\n\r\npublic class AddressValidator implements ConstraintValidator&lt;AddressValid,String&gt; {\r\n    @Override\r\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\r\n        // logic\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nIn above spring boot code I want to write logic to check if address field is unique.","title":"Logic to check unique constraints in springboot using custom validator","body":"<pre><code>package com.assessment.crud.validate;\n\nimport jakarta.validation.ConstraintValidator;\nimport jakarta.validation.ConstraintValidatorContext;\n\npublic class AddressValidator implements ConstraintValidator&lt;AddressValid,String&gt; {\n    @Override\n    public boolean isValid(String s, ConstraintValidatorContext constraintValidatorContext) {\n        // logic\n        return false;\n    }\n}\n</code></pre>\n<p>In above spring boot code I want to write logic to check if address field is unique.</p>\n"},{"tags":["java","http-get","okhttp","query-string"],"comments":[{"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"score":0,"creation_date":1431207737,"post_id":30142626,"comment_id":48399022,"body_markdown":"What&#39;s preventing you from simply including it into the URL? new Request.Builder()\n        .url(&quot;http://publicobject.com?param1=value1&amp;param2=value2&quot;)\n        .build();","body":"What&#39;s preventing you from simply including it into the URL? new Request.Builder()         .url(&quot;<a href=\"http://publicobject.com?param1=value1&amp;param2=value2&quot;\" rel=\"nofollow noreferrer\">publicobject.com?param1=value1&amp;param2=value2&quot;</a>)         .build();"}],"answers":[{"comments":[{"owner":{"account_id":17735,"reputation":39493,"user_id":40013,"accept_rate":75,"display_name":"Jesse Wilson"},"score":2,"creation_date":1431196003,"post_id":30143238,"comment_id":48395634,"body_markdown":"We&#39;re adding a new HttpUrl class that can do this in the next release.","body":"We&#39;re adding a new HttpUrl class that can do this in the next release."},{"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"score":0,"creation_date":1431196051,"post_id":30143238,"comment_id":48395648,"body_markdown":"@JesseWilson that is a nice improvemend :-)","body":"@JesseWilson that is a nice improvemend :-)"}],"tags":[],"owner":{"account_id":2068268,"reputation":42279,"user_id":1843331,"accept_rate":100,"display_name":"Tim"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1450087807,"creation_date":1431194054,"answer_id":30143238,"question_id":30142626,"body_markdown":"As mentioned in the other answer, okhttp v2.4 offers new functionality that does make this possible.\r\n\r\nSee http://square.github.io/okhttp/2.x/okhttp/com/squareup/okhttp/HttpUrl.Builder.html#addQueryParameter-java.lang.String-java.lang.String-\r\n\r\n----------\r\n\r\n\r\n----------\r\n\r\n\r\nThis is not possible with the current version of okhttp, [there is no method provided that will handle this for you][1]. \r\n\r\nThe next best thing is building an url string or an `URL` object (found in `java.net.URL`) with the query included yourself, and pass that to the request builder of okhttp.\r\n\r\n![enter image description here][2]\r\n\r\nAs you can see, the Request.Builder can take either a String or an URL.\r\n\r\nExamples on how to build an url can be found at https://stackoverflow.com/questions/883136/is-there-a-good-url-builder-for-java\r\n\r\n  [1]: http://square.github.io/okhttp/javadoc/com/squareup/okhttp/Request.Builder.html\r\n  [2]: http://i.stack.imgur.com/VWZC0.png","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>As mentioned in the other answer, okhttp v2.4 offers new functionality that does make this possible.</p>\n\n<p>See <a href=\"http://square.github.io/okhttp/2.x/okhttp/com/squareup/okhttp/HttpUrl.Builder.html#addQueryParameter-java.lang.String-java.lang.String-\" rel=\"noreferrer\">http://square.github.io/okhttp/2.x/okhttp/com/squareup/okhttp/HttpUrl.Builder.html#addQueryParameter-java.lang.String-java.lang.String-</a></p>\n\n<hr>\n\n<hr>\n\n<p>This is not possible with the current version of okhttp, <a href=\"http://square.github.io/okhttp/javadoc/com/squareup/okhttp/Request.Builder.html\" rel=\"noreferrer\">there is no method provided that will handle this for you</a>. </p>\n\n<p>The next best thing is building an url string or an <code>URL</code> object (found in <code>java.net.URL</code>) with the query included yourself, and pass that to the request builder of okhttp.</p>\n\n<p><img src=\"https://i.stack.imgur.com/VWZC0.png\" alt=\"enter image description here\"></p>\n\n<p>As you can see, the Request.Builder can take either a String or an URL.</p>\n\n<p>Examples on how to build an url can be found at <a href=\"https://stackoverflow.com/questions/883136/is-there-a-good-url-builder-for-java\">What is the idiomatic way to compose a URL or URI in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":174525,"reputation":3879,"user_id":403950,"accept_rate":75,"display_name":"Sofi Software LLC"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1434569995,"creation_date":1434569995,"answer_id":30900889,"question_id":30142626,"body_markdown":"As of right now (okhttp 2.4), HttpUrl.Builder now has methods addQueryParameter and addEncodedQueryParameter.","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>As of right now (okhttp 2.4), HttpUrl.Builder now has methods addQueryParameter and addEncodedQueryParameter.</p>\n"},{"tags":[],"owner":{"account_id":6819840,"reputation":4881,"user_id":5247331,"accept_rate":77,"display_name":"Vitaly Zinchenko"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1440181984,"creation_date":1440181984,"answer_id":32147187,"question_id":30142626,"body_markdown":"Use HttpUrl class&#39;s functions:\r\n\r\n    //adds the pre-encoded query parameter to this URL&#39;s query string\r\n    addEncodedQueryParameter(String encodedName, String encodedValue)\r\n    \r\n    //encodes the query parameter using UTF-8 and adds it to this URL&#39;s query string\r\n    addQueryParameter(String name, String value)\r\n\r\n\r\nmore detailed: https://stackoverflow.com/a/32146909/5247331","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>Use HttpUrl class's functions:</p>\n\n<pre><code>//adds the pre-encoded query parameter to this URL's query string\naddEncodedQueryParameter(String encodedName, String encodedValue)\n\n//encodes the query parameter using UTF-8 and adds it to this URL's query string\naddQueryParameter(String name, String value)\n</code></pre>\n\n<p>more detailed: <a href=\"https://stackoverflow.com/a/32146909/5247331\">https://stackoverflow.com/a/32146909/5247331</a></p>\n"},{"tags":[],"owner":{"account_id":5595387,"reputation":11077,"user_id":4433326,"accept_rate":67,"display_name":"Louis CAD"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1672936798,"creation_date":1444565446,"answer_id":33064793,"question_id":30142626,"body_markdown":"Here&#39;s my interceptor\r\n\r\n        private static class AuthInterceptor implements Interceptor {\r\n\r\n        private String mApiKey;\r\n\r\n        public AuthInterceptor(String apiKey) {\r\n            mApiKey = apiKey;\r\n        }\r\n\r\n        @Override\r\n        public Response intercept(Chain chain) throws IOException {\r\n            HttpUrl url = chain.request().url()\r\n                    .newBuilder()\r\n                    .addQueryParameter(&quot;api_key&quot;, mApiKey)\r\n                    .build();\r\n            Request request = chain.request().newBuilder().url(url).build();\r\n            return chain.proceed(request);\r\n        }\r\n    }","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>Here's my interceptor</p>\n<pre><code>    private static class AuthInterceptor implements Interceptor {\n\n    private String mApiKey;\n\n    public AuthInterceptor(String apiKey) {\n        mApiKey = apiKey;\n    }\n\n    @Override\n    public Response intercept(Chain chain) throws IOException {\n        HttpUrl url = chain.request().url()\n                .newBuilder()\n                .addQueryParameter(&quot;api_key&quot;, mApiKey)\n                .build();\n        Request request = chain.request().newBuilder().url(url).build();\n        return chain.proceed(request);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3660223,"reputation":6093,"user_id":3050249,"display_name":"Miha_x64"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484302043,"creation_date":1484302043,"answer_id":41631981,"question_id":30142626,"body_markdown":"You can create a newBuilder from existing HttoUrl and add query parameters there. Sample interceptor code:\r\n\r\n        Request req = it.request()\r\n        return chain.proceed(\r\n            req.newBuilder()\r\n                .url(\r\n                    req.url().newBuilder()\r\n                    .addQueryParameter(&quot;v&quot;, &quot;5.60&quot;)\r\n                    .build());\r\n        .build());","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>You can create a newBuilder from existing HttoUrl and add query parameters there. Sample interceptor code:</p>\n\n<pre><code>    Request req = it.request()\n    return chain.proceed(\n        req.newBuilder()\n            .url(\n                req.url().newBuilder()\n                .addQueryParameter(\"v\", \"5.60\")\n                .build());\n    .build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1990391,"reputation":6498,"user_id":1784529,"display_name":"Yun CHEN"},"comment_count":0,"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1574932397,"creation_date":1490533230,"answer_id":43029045,"question_id":30142626,"body_markdown":"For okhttp3:\r\n    \r\n    private static final OkHttpClient client = new OkHttpClient().newBuilder()\r\n        .connectTimeout(10, TimeUnit.SECONDS)\r\n        .readTimeout(30, TimeUnit.SECONDS)\r\n        .build();\r\n    \r\n    public static void get(String url, Map&lt;String,String&gt;params, Callback responseCallback) {\r\n        HttpUrl.Builder httpBuilder = HttpUrl.parse(url).newBuilder();\r\n        if (params != null) {\r\n           for(Map.Entry&lt;String, String&gt; param : params.entrySet()) {\r\n               httpBuilder.addQueryParameter(param.getKey(),param.getValue());\r\n           }\r\n        }\r\n        Request request = new Request.Builder().url(httpBuilder.build()).build();\r\n        client.newCall(request).enqueue(responseCallback);\r\n    }","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>For okhttp3:</p>\n\n<pre><code>private static final OkHttpClient client = new OkHttpClient().newBuilder()\n    .connectTimeout(10, TimeUnit.SECONDS)\n    .readTimeout(30, TimeUnit.SECONDS)\n    .build();\n\npublic static void get(String url, Map&lt;String,String&gt;params, Callback responseCallback) {\n    HttpUrl.Builder httpBuilder = HttpUrl.parse(url).newBuilder();\n    if (params != null) {\n       for(Map.Entry&lt;String, String&gt; param : params.entrySet()) {\n           httpBuilder.addQueryParameter(param.getKey(),param.getValue());\n       }\n    }\n    Request request = new Request.Builder().url(httpBuilder.build()).build();\n    client.newCall(request).enqueue(responseCallback);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":211039,"reputation":444,"user_id":2566313,"accept_rate":60,"display_name":"marcode_ely"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1516203419,"creation_date":1516203419,"answer_id":48304760,"question_id":30142626,"body_markdown":"I finally did my code, hope the following code can help you guys. I build the URL first using \r\n\r\n&gt; `HttpUrl httpUrl = new HttpUrl.Builder()`\r\n\r\nThen pass the URL to `Request requesthttp` hope it helps .\r\n\r\n    public class NetActions {\r\n    \r\n        OkHttpClient client = new OkHttpClient();\r\n    \r\n        public String getStudentById(String code) throws IOException, NullPointerException {\r\n    \r\n            HttpUrl httpUrl = new HttpUrl.Builder()\r\n                    .scheme(&quot;https&quot;)\r\n                    .host(&quot;subdomain.apiweb.com&quot;)\r\n                    .addPathSegment(&quot;api&quot;)\r\n                    .addPathSegment(&quot;v1&quot;)\r\n                    .addPathSegment(&quot;students&quot;)\r\n                    .addPathSegment(code) // &lt;- 8873 code passthru parameter on method\r\n                    .addQueryParameter(&quot;auth_token&quot;, &quot;71x23768234hgjwqguygqew&quot;)\r\n                    // Each addPathSegment separated add a / symbol to the final url\r\n                    // finally my Full URL is: \r\n                    // https://subdomain.apiweb.com/api/v1/students/8873?auth_token=71x23768234hgjwqguygqew\r\n                    .build();\r\n    \r\n            System.out.println(httpUrl.toString());\r\n    \r\n            Request requesthttp = new Request.Builder()\r\n                    .addHeader(&quot;accept&quot;, &quot;application/json&quot;)\r\n                    .url(httpUrl) // &lt;- Finally put httpUrl in here\r\n                    .build();\r\n    \r\n            Response response = client.newCall(requesthttp).execute();\r\n            return response.body().string();\r\n        }\r\n    }","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>I finally did my code, hope the following code can help you guys. I build the URL first using </p>\n\n<blockquote>\n  <p><code>HttpUrl httpUrl = new HttpUrl.Builder()</code></p>\n</blockquote>\n\n<p>Then pass the URL to <code>Request requesthttp</code> hope it helps .</p>\n\n<pre><code>public class NetActions {\n\n    OkHttpClient client = new OkHttpClient();\n\n    public String getStudentById(String code) throws IOException, NullPointerException {\n\n        HttpUrl httpUrl = new HttpUrl.Builder()\n                .scheme(\"https\")\n                .host(\"subdomain.apiweb.com\")\n                .addPathSegment(\"api\")\n                .addPathSegment(\"v1\")\n                .addPathSegment(\"students\")\n                .addPathSegment(code) // &lt;- 8873 code passthru parameter on method\n                .addQueryParameter(\"auth_token\", \"71x23768234hgjwqguygqew\")\n                // Each addPathSegment separated add a / symbol to the final url\n                // finally my Full URL is: \n                // https://subdomain.apiweb.com/api/v1/students/8873?auth_token=71x23768234hgjwqguygqew\n                .build();\n\n        System.out.println(httpUrl.toString());\n\n        Request requesthttp = new Request.Builder()\n                .addHeader(\"accept\", \"application/json\")\n                .url(httpUrl) // &lt;- Finally put httpUrl in here\n                .build();\n\n        Response response = client.newCall(requesthttp).execute();\n        return response.body().string();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6829513,"reputation":3942,"user_id":5254103,"accept_rate":0,"display_name":"BaiJiFeiLong"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1678261899,"creation_date":1678261899,"answer_id":75670483,"question_id":30142626,"body_markdown":"One-line example:\r\n```java\r\nassert HttpUrl.parse(&quot;https://httpbin.org/get&quot;)\r\n        .newBuilder()\r\n        .addQueryParameter(&quot;hello&quot;, &quot;world&quot;)\r\n        .build()\r\n        .equals(&quot;https://httpbin.org/get?hello=world&quot;);\r\n```","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>One-line example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assert HttpUrl.parse(&quot;https://httpbin.org/get&quot;)\n        .newBuilder()\n        .addQueryParameter(&quot;hello&quot;, &quot;world&quot;)\n        .build()\n        .equals(&quot;https://httpbin.org/get?hello=world&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25500409,"reputation":11,"user_id":19293776,"display_name":"nitro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680709724,"creation_date":1680709724,"answer_id":75941532,"question_id":30142626,"body_markdown":"Beased on https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial\r\n\r\n    HttpUrl.Builder urlBuilder = HttpUrl.parse(&quot;https://example.COM/\r\n    /** we are creating a url*/\r\n    THE_API_PATH&quot;).newBuilder();\r\n\r\n     /**Adding parameters*/\r\n    urlBuilder.addQueryParameter(&quot;website&quot;, &quot;www.example.com&quot;);\r\n    urlBuilder.addQueryParameter(&quot;tutorials&quot;, &quot;android&quot;);\r\n\r\n    /** building url and converting it to string */\r\n    String url = urlBuilder.build().toString();\r\n\r\n\r\n    /** creating request so we could give it to OkHTTP */\r\n    Request request = new Request.Builder()\r\n                     .url(url)\r\n                     .build();\r\n\r\n\r\n    OkHttpClient client = new OkHttpClient();\r\n     client.newCall(request).enqueue(new Callback() {\r\n      @Override\r\n      public void onFailure(Call call, IOException e) {\r\n        Log.i(&quot;HTTP &quot; ,  &quot; &quot; +  e.toString() );\r\n        call.cancel();\r\n      }\r\n\r\n      @Override\r\n      public void onResponse(Call call, Response response) throws IOException {\r\n\r\n        final String myResponse = response.body().string();\r\n\r\n        MainActivity.this.runOnUiThread(new Runnable() {\r\n          @Override\r\n          public void run() {\r\n            Log.i(&quot;HTTP &quot; , &quot;Response it&#39;s :&quot; + myResponse );\r\n           /** this it&#39;s your Response to String \r\n            if you are using json , convert your string .\r\n             better to not do that in main thread*/\r\n          }\r\n        });\r\n\r\n      }\r\n    });","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>Beased on <a href=\"https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/tutorials/okhttp-android-example-tutorial</a></p>\n<pre><code>HttpUrl.Builder urlBuilder = HttpUrl.parse(&quot;https://example.COM/\n/** we are creating a url*/\nTHE_API_PATH&quot;).newBuilder();\n\n /**Adding parameters*/\nurlBuilder.addQueryParameter(&quot;website&quot;, &quot;www.example.com&quot;);\nurlBuilder.addQueryParameter(&quot;tutorials&quot;, &quot;android&quot;);\n\n/** building url and converting it to string */\nString url = urlBuilder.build().toString();\n\n\n/** creating request so we could give it to OkHTTP */\nRequest request = new Request.Builder()\n                 .url(url)\n                 .build();\n\n\nOkHttpClient client = new OkHttpClient();\n client.newCall(request).enqueue(new Callback() {\n  @Override\n  public void onFailure(Call call, IOException e) {\n    Log.i(&quot;HTTP &quot; ,  &quot; &quot; +  e.toString() );\n    call.cancel();\n  }\n\n  @Override\n  public void onResponse(Call call, Response response) throws IOException {\n\n    final String myResponse = response.body().string();\n\n    MainActivity.this.runOnUiThread(new Runnable() {\n      @Override\n      public void run() {\n        Log.i(&quot;HTTP &quot; , &quot;Response it's :&quot; + myResponse );\n       /** this it's your Response to String \n        if you are using json , convert your string .\n         better to not do that in main thread*/\n      }\n    });\n\n  }\n});\n</code></pre>\n"}],"owner":{"account_id":1977136,"reputation":3547,"user_id":1774679,"accept_rate":84,"display_name":"Jerikc XIONG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109623,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":30143238,"answer_count":9,"score":61,"last_activity_date":1680709724,"creation_date":1431190428,"question_id":30142626,"body_markdown":"I am using the latest okhttp version: **okhttp-2.3.0.jar**\r\n\r\nHow to add query parameters to GET request in okhttp in java ?\r\n\r\nI found a [related question][1] about android, but no answer here!\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29875325/add-query-params-to-a-get-request-in-okhttp-in-android","title":"How to add query parameters to a HTTP GET request by OkHttp?","body":"<p>I am using the latest okhttp version: <strong>okhttp-2.3.0.jar</strong></p>\n\n<p>How to add query parameters to GET request in okhttp in java ?</p>\n\n<p>I found a <a href=\"https://stackoverflow.com/questions/29875325/add-query-params-to-a-get-request-in-okhttp-in-android\">related question</a> about android, but no answer here!</p>\n"},{"tags":["java","graphql","graphql-java"],"owner":{"account_id":5121316,"reputation":2890,"user_id":4104760,"accept_rate":36,"display_name":"George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680708866,"creation_date":1680708866,"question_id":75941386,"body_markdown":"The libraries I am using are [GraphQL Java Tools][1] and [Java Dataloader][2]\r\n\r\nMy schema looks like this:\r\n\r\n```\r\ntype Query {\r\n  internals(ids: [String!]!): [Internal]\r\n}\r\n\r\ntype Internal {\r\n  fieldA: String\r\n  fieldB: Int\r\n}\r\n```\r\n\r\nAnd the graphQL API I&#39;m querying has a schema like this:\r\n\r\n```\r\ntype Query {\r\n  externals(ids: [String!]!): External\r\n}\r\n\r\ntype External {\r\n  field1: String\r\n  nested: Nested\r\n}\r\n\r\ntype Nested {\r\n  field2: String\r\n}\r\n```\r\n\r\nWhen I receive a query, I want to generate a query with only the requested fields.\r\n\r\nFor example, I receive a query like this:\r\n\r\n```\r\nquery Example {\r\n  internals(ids: [&quot;id1&quot;, &quot;id2&quot;]) {\r\n    fieldA\r\n  }\r\n}\r\n```\r\n\r\nI should send a request to the other API this:\r\n\r\n```\r\nquery External {\r\n  externals(ids: [&quot;id1&quot;, &quot;id2&quot;]) {\r\n    field1\r\n  }\r\n}\r\n```\r\n\r\nCurrently I am thinking of having `InternalResolver` with the methods for each field, but that means sending 1 request per field (example, not actual code):\r\n\r\n```\r\npublic class InternalResolver implements GraphQLResolver&lt;Internal&gt; {\r\n  public String fieldA() {\r\n    return httpResponseFromExternal().getField1();\r\n  }\r\n\r\n  public Integer fieldB() {\r\n    return httpResponseFromExternal().getNested().getField2();\r\n  }\r\n}\r\n```\r\n\r\nHow do I get all the fields together and sent all at once?\r\n\r\n  [1]: https://www.graphql-java-kickstart.com/tools/\r\n  [2]: https://github.com/graphql-java/java-dataloader","title":"Java GraphQL fields map to another GraphQL API","body":"<p>The libraries I am using are <a href=\"https://www.graphql-java-kickstart.com/tools/\" rel=\"nofollow noreferrer\">GraphQL Java Tools</a> and <a href=\"https://github.com/graphql-java/java-dataloader\" rel=\"nofollow noreferrer\">Java Dataloader</a></p>\n<p>My schema looks like this:</p>\n<pre><code>type Query {\n  internals(ids: [String!]!): [Internal]\n}\n\ntype Internal {\n  fieldA: String\n  fieldB: Int\n}\n</code></pre>\n<p>And the graphQL API I'm querying has a schema like this:</p>\n<pre><code>type Query {\n  externals(ids: [String!]!): External\n}\n\ntype External {\n  field1: String\n  nested: Nested\n}\n\ntype Nested {\n  field2: String\n}\n</code></pre>\n<p>When I receive a query, I want to generate a query with only the requested fields.</p>\n<p>For example, I receive a query like this:</p>\n<pre><code>query Example {\n  internals(ids: [&quot;id1&quot;, &quot;id2&quot;]) {\n    fieldA\n  }\n}\n</code></pre>\n<p>I should send a request to the other API this:</p>\n<pre><code>query External {\n  externals(ids: [&quot;id1&quot;, &quot;id2&quot;]) {\n    field1\n  }\n}\n</code></pre>\n<p>Currently I am thinking of having <code>InternalResolver</code> with the methods for each field, but that means sending 1 request per field (example, not actual code):</p>\n<pre><code>public class InternalResolver implements GraphQLResolver&lt;Internal&gt; {\n  public String fieldA() {\n    return httpResponseFromExternal().getField1();\n  }\n\n  public Integer fieldB() {\n    return httpResponseFromExternal().getNested().getField2();\n  }\n}\n</code></pre>\n<p>How do I get all the fields together and sent all at once?</p>\n"},{"tags":["java","spring","jpa","jdbc"],"comments":[{"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"score":1,"creation_date":1566398202,"post_id":57591764,"comment_id":101645434,"body_markdown":"Try removing the hyphens from the UUID string values.","body":"Try removing the hyphens from the UUID string values."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1566401759,"post_id":57591764,"comment_id":101647421,"body_markdown":"What is the datatype of `user_id`?","body":"What is the datatype of <code>user_id</code>?"},{"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"score":0,"creation_date":1566456098,"post_id":57591764,"comment_id":101663093,"body_markdown":"@MarkRotteveel, uuid","body":"@MarkRotteveel, uuid"},{"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"score":0,"creation_date":1566456340,"post_id":57591764,"comment_id":101663204,"body_markdown":"@GordThompson, then I get MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.UUID&#39;; nested exception is java.lang.IllegalArgumentException: Invalid UUID string: e7485042b46b11e9986ab74e614de0b0","body":"@GordThompson, then I get MethodArgumentTypeMismatchException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.util.UUID&#39;; nested exception is java.lang.IllegalArgumentException: Invalid UUID string: e7485042b46b11e9986ab74e614de0b0"},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":1,"creation_date":1575030621,"post_id":57591764,"comment_id":104441467,"body_markdown":"Removing the hyphens means you&#39;ll end up with a String that does not respect the UUID format conventions. Reconversion from a binary format into a valid UUID thus results in a type mismatch.","body":"Removing the hyphens means you&#39;ll end up with a String that does not respect the UUID format conventions. Reconversion from a binary format into a valid UUID thus results in a type mismatch."},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1578058260,"post_id":57591764,"comment_id":105325125,"body_markdown":"@kateswerg did you eventually sort it out?","body":"@kateswerg did you eventually sort it out?"},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1578304126,"post_id":57591764,"comment_id":105383067,"body_markdown":"@EnricoGiurin I did sort it out. Please read my answer thoroughly to understand what exactly is causing it and how to solve it.","body":"@EnricoGiurin I did sort it out. Please read my answer thoroughly to understand what exactly is causing it and how to solve it."}],"answers":[{"comments":[{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1575022884,"post_id":57603664,"comment_id":104437950,"body_markdown":"How is this even possible? ddl-auto=none will prevent tables from being created in your h2 database and thus no entry can be inserted.... Furthermore: if you&#39;re working with spring boot and have h2 on your classpath (scope test), h2 is automatically configured for you making your configuration redundant (except for the console enabled = true)","body":"How is this even possible? ddl-auto=none will prevent tables from being created in your h2 database and thus no entry can be inserted.... Furthermore: if you&#39;re working with spring boot and have h2 on your classpath (scope test), h2 is automatically configured for you making your configuration redundant (except for the console enabled = true)"},{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1578058351,"post_id":57603664,"comment_id":105325171,"body_markdown":"this is fully unrelated to the subject of the question","body":"this is fully unrelated to the subject of the question"}],"tags":[],"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"comment_count":2,"down_vote_count":5,"up_vote_count":0,"is_accepted":true,"score":-5,"last_activity_date":1566457194,"creation_date":1566457194,"answer_id":57603664,"question_id":57591764,"body_markdown":"I resolved this problem by adding `spring.jpa.hibernate.ddl-auto=none` to my `application.properties` file","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>I resolved this problem by adding <code>spring.jpa.hibernate.ddl-auto=none</code> to my <code>application.properties</code> file</p>\n"},{"tags":[],"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1633096532,"creation_date":1575029506,"answer_id":59104565,"question_id":57591764,"body_markdown":"The actual cause of this problem is the mapping between your object and the generated `create table` statement by hibernate (`ddl-auto:create`) used to create your h2 database schema. \r\n\r\nIf you enable the output of the those `ddl` statements using:\r\n\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.use_sql_comments=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    logging.level.org.hibernate.type=TRACE\r\n\r\nyou will most likely see that your `UUID` class has been mapped to a **binary** column in your database. \r\n\r\n\r\n    Hibernate: \r\n        create table &lt;your_table&gt; (\r\n            id bigint generated by default as identity,\r\n            ...,\r\n            &lt;your_object&gt; binary(255),\r\n            ...\r\n            primary key (id)\r\n        )\r\n\r\nThis means that your uuid-string is mapped onto a binary column and thus contains illegal characters. You need a  `varchar(&lt;uuid-length&gt;)` column to store a uuid. There are several solution strategies, one of them is defining a type, see this [StackOverflow answer][1]. You can read on `binary` columns on the official [MySQL reference site][2].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4346898/problems-mapping-uuid-in-jpa-hibernate\r\n  [2]: https://dev.mysql.com/doc/refman/8.0/en/binary-varbinary.html","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>The actual cause of this problem is the mapping between your object and the generated <code>create table</code> statement by hibernate (<code>ddl-auto:create</code>) used to create your h2 database schema.</p>\n<p>If you enable the output of the those <code>ddl</code> statements using:</p>\n<pre><code>spring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.use_sql_comments=true\nspring.jpa.properties.hibernate.format_sql=true\nlogging.level.org.hibernate.type=TRACE\n</code></pre>\n<p>you will most likely see that your <code>UUID</code> class has been mapped to a <strong>binary</strong> column in your database.</p>\n<pre><code>Hibernate: \n    create table &lt;your_table&gt; (\n        id bigint generated by default as identity,\n        ...,\n        &lt;your_object&gt; binary(255),\n        ...\n        primary key (id)\n    )\n</code></pre>\n<p>This means that your uuid-string is mapped onto a binary column and thus contains illegal characters. You need a  <code>varchar(&lt;uuid-length&gt;)</code> column to store a uuid. There are several solution strategies, one of them is defining a type, see this <a href=\"https://stackoverflow.com/questions/4346898/problems-mapping-uuid-in-jpa-hibernate\">StackOverflow answer</a>. You can read on <code>binary</code> columns on the official <a href=\"https://dev.mysql.com/doc/refman/8.0/en/binary-varbinary.html\" rel=\"nofollow noreferrer\">MySQL reference site</a>.</p>\n"},{"comments":[{"owner":{"account_id":6358143,"reputation":8730,"user_id":4934640,"accept_rate":88,"display_name":"Evandro Coan"},"score":0,"creation_date":1595020933,"post_id":59591355,"comment_id":111341330,"body_markdown":"Can you explain what this do?","body":"Can you explain what this do?"},{"owner":{"account_id":5665550,"reputation":1596,"user_id":4481818,"display_name":"skubski"},"score":0,"creation_date":1604412823,"post_id":59591355,"comment_id":114335882,"body_markdown":"My answer, actually explains what causes this and does not provide a copy paste answer. ;-)","body":"My answer, actually explains what causes this and does not provide a copy paste answer. ;-)"}],"tags":[],"owner":{"account_id":3260083,"reputation":1087,"user_id":2745810,"accept_rate":71,"display_name":"kmarabet"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1578146251,"creation_date":1578146251,"answer_id":59591355,"question_id":57591764,"body_markdown":"Using **spring.datasource.url=jdbc:h2:mem:testdb;MODE=MYSQL** fixed it for me.\r\n\r\nOr adding an annotation @Type to the UUID field should fix the issue:\r\n\r\n    @Id\r\n    @Type(type=&quot;uuid-char&quot;)\r\n    private UUID user_id;\r\n","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>Using <strong>spring.datasource.url=jdbc:h2:mem:testdb;MODE=MYSQL</strong> fixed it for me.</p>\n\n<p>Or adding an annotation @Type to the UUID field should fix the issue:</p>\n\n<pre><code>@Id\n@Type(type=\"uuid-char\")\nprivate UUID user_id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680708682,"creation_date":1680708682,"answer_id":75941351,"question_id":57591764,"body_markdown":"This can also be caused by having a foreign key constraint on a table, that is incorrect (ie one table has UUID as the key, and the other has varchar as the key).\r\n\r\nexample:\r\n\r\nImagine you have\r\n\r\n    user.id =&gt; UUID\r\n    some_table.user_id =&gt; varchar(255)\r\n\r\nYou will get this error if you have the following constraint on `some_table` \r\n\r\n     constraint fk_user_id foreign key (user_id) references user,\r\n\r\n\r\n\r\n\r\n\r\n","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>This can also be caused by having a foreign key constraint on a table, that is incorrect (ie one table has UUID as the key, and the other has varchar as the key).</p>\n<p>example:</p>\n<p>Imagine you have</p>\n<pre><code>user.id =&gt; UUID\nsome_table.user_id =&gt; varchar(255)\n</code></pre>\n<p>You will get this error if you have the following constraint on <code>some_table</code></p>\n<pre><code> constraint fk_user_id foreign key (user_id) references user,\n</code></pre>\n"}],"owner":{"account_id":14251843,"reputation":269,"user_id":10295271,"display_name":"annswerg"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13668,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":57603664,"answer_count":4,"score":7,"last_activity_date":1680708682,"creation_date":1566390929,"question_id":57591764,"body_markdown":"I&#39;m trying to write tests using in-memory DB. \r\nI wrote an sql to clean and store data to DB. But I have an exception:\r\n\r\n    Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character: &quot;e7485042-b46b-11e9-986a-b74e614de0b0&quot;; SQL statement:\r\n    insert into users (user_id, name, created_on, modified_on) values (&#39;e7485042-b46b-11e9-986a-b74e614de0b0&#39;, &#39;Ann&#39;, null, null) -- (&#39;e7485042-b46b-11e9-986a-b74e614de0b0&#39;, &#39;Ann&#39;, NULL, NULL) [90004-199]\r\n\r\nMy sql:\r\n    \r\n    insert into users (user_id, name, created_on, modified_on) values (&#39;e7485042-b46b-11e9-986a-b74e614de0b0&#39;, &#39;Ann&#39;, null, null);\r\n    \r\n    insert into product(product_id, name, created_on, modified_on) VALUES (&#39;f3a775de-b46b-11e9-95e4-af440b6044e6&#39;, &#39;product1&#39;, &#39;2019-08-01 17:51:51.000000&#39;, &#39;2019-08-01 17:51:51.000000&#39;);\r\n    \r\n    insert into products_users(user_id, product_id) VALUES (&#39;e7485042-b46b-11e9-986a-b74e614de0b0&#39;, &#39;f3a775de-b46b-11e9-95e4-af440b6044e6&#39;);\r\n\r\nMy application.properties:\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=\r\n    \r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\n","title":"Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character","body":"<p>I'm trying to write tests using in-memory DB. \nI wrote an sql to clean and store data to DB. But I have an exception:</p>\n\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLDataException: Hexadecimal string contains non-hex character: \"e7485042-b46b-11e9-986a-b74e614de0b0\"; SQL statement:\ninsert into users (user_id, name, created_on, modified_on) values ('e7485042-b46b-11e9-986a-b74e614de0b0', 'Ann', null, null) -- ('e7485042-b46b-11e9-986a-b74e614de0b0', 'Ann', NULL, NULL) [90004-199]\n</code></pre>\n\n<p>My sql:</p>\n\n<pre><code>insert into users (user_id, name, created_on, modified_on) values ('e7485042-b46b-11e9-986a-b74e614de0b0', 'Ann', null, null);\n\ninsert into product(product_id, name, created_on, modified_on) VALUES ('f3a775de-b46b-11e9-95e4-af440b6044e6', 'product1', '2019-08-01 17:51:51.000000', '2019-08-01 17:51:51.000000');\n\ninsert into products_users(user_id, product_id) VALUES ('e7485042-b46b-11e9-986a-b74e614de0b0', 'f3a775de-b46b-11e9-95e4-af440b6044e6');\n</code></pre>\n\n<p>My application.properties:</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.datasource.url=jdbc:h2:mem:db;DB_CLOSE_DELAY=-1\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=\n\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n</code></pre>\n"},{"tags":["java","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1680715501,"post_id":75941312,"comment_id":133946695,"body_markdown":"Calling a resource server with an access token is OAuth2 client job. No surprise that Spring Security repositories for tokens are in OAuth2 client lib. what is the front-end written with? Is your spring application exposing a REST API? a templated UI (Thymeleaf or alike)? both?","body":"Calling a resource server with an access token is OAuth2 client job. No surprise that Spring Security repositories for tokens are in OAuth2 client lib. what is the front-end written with? Is your spring application exposing a REST API? a templated UI (Thymeleaf or alike)? both?"}],"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680708493,"creation_date":1680708493,"question_id":75941312,"body_markdown":"I have a spring boot application that must call a OAuth2 Authentication server then cache the access token to be used with Retrofit (for java) to call several endpoints of a remote OAuth2 Resource Server, I succeeded to create the Authentication and Resource server but I&#39;m not able to cache the token returned by the Authentication server to pass it to Retrofit (with HttOk) in order to call the resource server. I&#39;m using Spring Boot 3.0.5 and the last features introduced for the OAuth2 security protocol, I cannot intercept the token to be used with Retrofit when I call the Authentication  Server. The Authentication  server code is very simple (and it works):\r\n\r\n     \r\n    \r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.List;\r\n    import org.apache.commons.logging.Log;\r\n    import org.apache.commons.logging.LogFactory;\r\n    import org.springframework.beans.factory.InitializingBean;\r\n    import org.springframework.context.MessageSource;\r\n    import org.springframework.context.MessageSourceAware;\r\n    import org.springframework.context.support.MessageSourceAccessor;\r\n    import org.springframework.core.log.LogMessage;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.security.core.CredentialsContainer;\r\n    import org.springframework.security.core.SpringSecurityMessageSource;\r\n    import org.springframework.util.Assert;\r\n    import org.springframework.util.CollectionUtils;\r\n    \r\n    public class ProviderManager implements AuthenticationManager, MessageSourceAware, InitializingBean {\r\n        private static final Log logger = LogFactory.getLog(ProviderManager.class);\r\n        private AuthenticationEventPublisher eventPublisher;\r\n        private List&lt;AuthenticationProvider&gt; providers;\r\n        protected MessageSourceAccessor messages;\r\n        private AuthenticationManager parent;\r\n        private boolean eraseCredentialsAfterAuthentication;\r\n    \r\n        public ProviderManager(AuthenticationProvider... providers) {\r\n            this(Arrays.asList(providers), (AuthenticationManager)null);\r\n        }\r\n    \r\n        public ProviderManager(List&lt;AuthenticationProvider&gt; providers) {\r\n            this(providers, (AuthenticationManager)null);\r\n        }\r\n    \r\n        public ProviderManager(List&lt;AuthenticationProvider&gt; providers, AuthenticationManager parent) {\r\n            this.eventPublisher = new NullEventPublisher();\r\n            this.providers = Collections.emptyList();\r\n            this.messages = SpringSecurityMessageSource.getAccessor();\r\n            this.eraseCredentialsAfterAuthentication = true;\r\n            Assert.notNull(providers, &quot;providers list cannot be null&quot;);\r\n            this.providers = providers;\r\n            this.parent = parent;\r\n            this.checkState();\r\n        }\r\n    \r\n        public void afterPropertiesSet() {\r\n            this.checkState();\r\n        }\r\n    \r\n        private void checkState() {\r\n            Assert.isTrue(this.parent != null || !this.providers.isEmpty(), &quot;A parent AuthenticationManager or a list of AuthenticationProviders is required&quot;);\r\n            Assert.isTrue(!CollectionUtils.contains(this.providers.iterator(), (Object)null), &quot;providers list cannot contain null values&quot;);\r\n        }\r\n    \r\n        public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            Class&lt;? extends Authentication&gt; toTest = authentication.getClass();\r\n            AuthenticationException lastException = null;\r\n            AuthenticationException parentException = null;\r\n            Authentication result = null;\r\n            Authentication parentResult = null;\r\n            int currentPosition = 0;\r\n            int size = this.providers.size();\r\n            Iterator var9 = this.getProviders().iterator();\r\n    \r\n            while(var9.hasNext()) {\r\n                AuthenticationProvider provider = (AuthenticationProvider)var9.next();\r\n                if (provider.supports(toTest)) {\r\n                    if (logger.isTraceEnabled()) {\r\n                        Log var10000 = logger;\r\n                        String var10002 = provider.getClass().getSimpleName();\r\n                        ++currentPosition;\r\n                        var10000.trace(LogMessage.format(&quot;Authenticating request with %s (%d/%d)&quot;, var10002, currentPosition, size));\r\n                    }\r\n    \r\n                    try {\r\n                        result = provider.authenticate(authentication);\r\n                        if (result != null) {\r\n                            this.copyDetails(authentication, result);\r\n                            break;\r\n                        }\r\n                    } catch (InternalAuthenticationServiceException | AccountStatusException var14) {\r\n                        this.prepareException(var14, authentication);\r\n                        throw var14;\r\n                    } catch (AuthenticationException var15) {\r\n                        lastException = var15;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            if (result == null &amp;&amp; this.parent != null) {\r\n                try {\r\n                    parentResult = this.parent.authenticate(authentication);\r\n                    result = parentResult;\r\n                } catch (ProviderNotFoundException var12) {\r\n                } catch (AuthenticationException var13) {\r\n                    parentException = var13;\r\n                    lastException = var13;\r\n                }\r\n            }\r\n    \r\n            if (result != null) {\r\n                if (this.eraseCredentialsAfterAuthentication &amp;&amp; result instanceof CredentialsContainer) {\r\n                    ((CredentialsContainer)result).eraseCredentials();\r\n                }\r\n    \r\n                if (parentResult == null) {\r\n                    this.eventPublisher.publishAuthenticationSuccess(result);\r\n                }\r\n    \r\n                return result;\r\n            } else {\r\n                if (lastException == null) {\r\n                    lastException = new ProviderNotFoundException(this.messages.getMessage(&quot;ProviderManager.providerNotFound&quot;, new Object[]{toTest.getName()}, &quot;No AuthenticationProvider found for {0}&quot;));\r\n                }\r\n    \r\n                if (parentException == null) {\r\n                    this.prepareException((AuthenticationException)lastException, authentication);\r\n                }\r\n    \r\n                throw lastException;\r\n            }\r\n        }\r\n    \r\n        private void prepareException(AuthenticationException ex, Authentication auth) {\r\n            this.eventPublisher.publishAuthenticationFailure(ex, auth);\r\n        }\r\n    \r\n        private void copyDetails(Authentication source, Authentication dest) {\r\n            if (dest instanceof AbstractAuthenticationToken token &amp;&amp; dest.getDetails() == null) {\r\n                token.setDetails(source.getDetails());\r\n            }\r\n    \r\n        }\r\n    \r\n        public List&lt;AuthenticationProvider&gt; getProviders() {\r\n            return this.providers;\r\n        }\r\n    \r\n        public void setMessageSource(MessageSource messageSource) {\r\n            this.messages = new MessageSourceAccessor(messageSource);\r\n        }\r\n    \r\n        public void setAuthenticationEventPublisher(AuthenticationEventPublisher eventPublisher) {\r\n            Assert.notNull(eventPublisher, &quot;AuthenticationEventPublisher cannot be null&quot;);\r\n            this.eventPublisher = eventPublisher;\r\n        }\r\n    \r\n        public void setEraseCredentialsAfterAuthentication(boolean eraseSecretData) {\r\n            this.eraseCredentialsAfterAuthentication = eraseSecretData;\r\n        }\r\n    \r\n        public boolean isEraseCredentialsAfterAuthentication() {\r\n            return this.eraseCredentialsAfterAuthentication;\r\n        }\r\n    \r\n        private static final class NullEventPublisher implements AuthenticationEventPublisher {\r\n            private NullEventPublisher() {\r\n            }\r\n    \r\n            public void publishAuthenticationFailure(AuthenticationException exception, Authentication authentication) {\r\n            }\r\n    \r\n            public void publishAuthenticationSuccess(Authentication authentication) {\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nI need to have the possibility to cache the access token generated by the code above and then use it when I call the remote endpoints with Retrofit. The problem is that I don&#39;t know where to catch the returned access token. The code above works with INSOMNIA, but I&#39;m not able to replicate the Java code to emulate INSOMNIA&#39;S call.\r\n\r\nPlease Help\r\n","title":"Spring Boot OAuth2 access token and resource server","body":"<p>I have a spring boot application that must call a OAuth2 Authentication server then cache the access token to be used with Retrofit (for java) to call several endpoints of a remote OAuth2 Resource Server, I succeeded to create the Authentication and Resource server but I'm not able to cache the token returned by the Authentication server to pass it to Retrofit (with HttOk) in order to call the resource server. I'm using Spring Boot 3.0.5 and the last features introduced for the OAuth2 security protocol, I cannot intercept the token to be used with Retrofit when I call the Authentication  Server. The Authentication  server code is very simple (and it works):</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.List;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.springframework.beans.factory.InitializingBean;\nimport org.springframework.context.MessageSource;\nimport org.springframework.context.MessageSourceAware;\nimport org.springframework.context.support.MessageSourceAccessor;\nimport org.springframework.core.log.LogMessage;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.core.CredentialsContainer;\nimport org.springframework.security.core.SpringSecurityMessageSource;\nimport org.springframework.util.Assert;\nimport org.springframework.util.CollectionUtils;\n\npublic class ProviderManager implements AuthenticationManager, MessageSourceAware, InitializingBean {\n    private static final Log logger = LogFactory.getLog(ProviderManager.class);\n    private AuthenticationEventPublisher eventPublisher;\n    private List&lt;AuthenticationProvider&gt; providers;\n    protected MessageSourceAccessor messages;\n    private AuthenticationManager parent;\n    private boolean eraseCredentialsAfterAuthentication;\n\n    public ProviderManager(AuthenticationProvider... providers) {\n        this(Arrays.asList(providers), (AuthenticationManager)null);\n    }\n\n    public ProviderManager(List&lt;AuthenticationProvider&gt; providers) {\n        this(providers, (AuthenticationManager)null);\n    }\n\n    public ProviderManager(List&lt;AuthenticationProvider&gt; providers, AuthenticationManager parent) {\n        this.eventPublisher = new NullEventPublisher();\n        this.providers = Collections.emptyList();\n        this.messages = SpringSecurityMessageSource.getAccessor();\n        this.eraseCredentialsAfterAuthentication = true;\n        Assert.notNull(providers, &quot;providers list cannot be null&quot;);\n        this.providers = providers;\n        this.parent = parent;\n        this.checkState();\n    }\n\n    public void afterPropertiesSet() {\n        this.checkState();\n    }\n\n    private void checkState() {\n        Assert.isTrue(this.parent != null || !this.providers.isEmpty(), &quot;A parent AuthenticationManager or a list of AuthenticationProviders is required&quot;);\n        Assert.isTrue(!CollectionUtils.contains(this.providers.iterator(), (Object)null), &quot;providers list cannot contain null values&quot;);\n    }\n\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        Class&lt;? extends Authentication&gt; toTest = authentication.getClass();\n        AuthenticationException lastException = null;\n        AuthenticationException parentException = null;\n        Authentication result = null;\n        Authentication parentResult = null;\n        int currentPosition = 0;\n        int size = this.providers.size();\n        Iterator var9 = this.getProviders().iterator();\n\n        while(var9.hasNext()) {\n            AuthenticationProvider provider = (AuthenticationProvider)var9.next();\n            if (provider.supports(toTest)) {\n                if (logger.isTraceEnabled()) {\n                    Log var10000 = logger;\n                    String var10002 = provider.getClass().getSimpleName();\n                    ++currentPosition;\n                    var10000.trace(LogMessage.format(&quot;Authenticating request with %s (%d/%d)&quot;, var10002, currentPosition, size));\n                }\n\n                try {\n                    result = provider.authenticate(authentication);\n                    if (result != null) {\n                        this.copyDetails(authentication, result);\n                        break;\n                    }\n                } catch (InternalAuthenticationServiceException | AccountStatusException var14) {\n                    this.prepareException(var14, authentication);\n                    throw var14;\n                } catch (AuthenticationException var15) {\n                    lastException = var15;\n                }\n            }\n        }\n\n        if (result == null &amp;&amp; this.parent != null) {\n            try {\n                parentResult = this.parent.authenticate(authentication);\n                result = parentResult;\n            } catch (ProviderNotFoundException var12) {\n            } catch (AuthenticationException var13) {\n                parentException = var13;\n                lastException = var13;\n            }\n        }\n\n        if (result != null) {\n            if (this.eraseCredentialsAfterAuthentication &amp;&amp; result instanceof CredentialsContainer) {\n                ((CredentialsContainer)result).eraseCredentials();\n            }\n\n            if (parentResult == null) {\n                this.eventPublisher.publishAuthenticationSuccess(result);\n            }\n\n            return result;\n        } else {\n            if (lastException == null) {\n                lastException = new ProviderNotFoundException(this.messages.getMessage(&quot;ProviderManager.providerNotFound&quot;, new Object[]{toTest.getName()}, &quot;No AuthenticationProvider found for {0}&quot;));\n            }\n\n            if (parentException == null) {\n                this.prepareException((AuthenticationException)lastException, authentication);\n            }\n\n            throw lastException;\n        }\n    }\n\n    private void prepareException(AuthenticationException ex, Authentication auth) {\n        this.eventPublisher.publishAuthenticationFailure(ex, auth);\n    }\n\n    private void copyDetails(Authentication source, Authentication dest) {\n        if (dest instanceof AbstractAuthenticationToken token &amp;&amp; dest.getDetails() == null) {\n            token.setDetails(source.getDetails());\n        }\n\n    }\n\n    public List&lt;AuthenticationProvider&gt; getProviders() {\n        return this.providers;\n    }\n\n    public void setMessageSource(MessageSource messageSource) {\n        this.messages = new MessageSourceAccessor(messageSource);\n    }\n\n    public void setAuthenticationEventPublisher(AuthenticationEventPublisher eventPublisher) {\n        Assert.notNull(eventPublisher, &quot;AuthenticationEventPublisher cannot be null&quot;);\n        this.eventPublisher = eventPublisher;\n    }\n\n    public void setEraseCredentialsAfterAuthentication(boolean eraseSecretData) {\n        this.eraseCredentialsAfterAuthentication = eraseSecretData;\n    }\n\n    public boolean isEraseCredentialsAfterAuthentication() {\n        return this.eraseCredentialsAfterAuthentication;\n    }\n\n    private static final class NullEventPublisher implements AuthenticationEventPublisher {\n        private NullEventPublisher() {\n        }\n\n        public void publishAuthenticationFailure(AuthenticationException exception, Authentication authentication) {\n        }\n\n        public void publishAuthenticationSuccess(Authentication authentication) {\n        }\n    }\n}\n</code></pre>\n<p>I need to have the possibility to cache the access token generated by the code above and then use it when I call the remote endpoints with Retrofit. The problem is that I don't know where to catch the returned access token. The code above works with INSOMNIA, but I'm not able to replicate the Java code to emulate INSOMNIA'S call.</p>\n<p>Please Help</p>\n"},{"tags":["java","mongodb","deserialization"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1680766763,"post_id":75941151,"comment_id":133954576,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28223201,"reputation":1,"user_id":21573618,"display_name":"vin_081990"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680707564,"creation_date":1680707564,"question_id":75941151,"body_markdown":"I have a java Object \r\nModel, with attributes.\r\n- id\r\n- type\r\n-data \r\nThe data attribute is of type ModelData which can have two child classes ModelA, ModelB.\r\n\r\nThe Model object is received as an input to a REST API Post call and is persisted directly to a ModelRepository in MongoDB.\r\nBut while reading the persisted object, I need to identify if the data object is of type ModelA or ModelB. How do i add a custom deserializing logic to the MongoDB read \r\n\r\nI tried to save the object to Mongo and read. While reading I need to identify if the data object is of type ModelA or ModelB. How do i add a custom deserializing logic to the MongoDB read  ","title":"Custom Deserialization during MongoDB read","body":"<p>I have a java Object\nModel, with attributes.</p>\n<ul>\n<li>id</li>\n<li>type\n-data\nThe data attribute is of type ModelData which can have two child classes ModelA, ModelB.</li>\n</ul>\n<p>The Model object is received as an input to a REST API Post call and is persisted directly to a ModelRepository in MongoDB.\nBut while reading the persisted object, I need to identify if the data object is of type ModelA or ModelB. How do i add a custom deserializing logic to the MongoDB read</p>\n<p>I tried to save the object to Mongo and read. While reading I need to identify if the data object is of type ModelA or ModelB. How do i add a custom deserializing logic to the MongoDB read</p>\n"},{"tags":["java","spring-boot","flyway"],"answers":[{"comments":[{"owner":{"account_id":1746128,"reputation":2925,"user_id":1596308,"accept_rate":78,"display_name":"Adam"},"score":0,"creation_date":1681201070,"post_id":75941128,"comment_id":134013990,"body_markdown":"Perfect! The table was not named exactly like that, but it was easy enough to find, thank you.","body":"Perfect! The table was not named exactly like that, but it was easy enough to find, thank you."}],"tags":[],"owner":{"display_name":"user15773347"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680707453,"creation_date":1680707453,"answer_id":75941128,"question_id":75940590,"body_markdown":"Try something like this:\r\n\r\n        try (PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM foobar.flyway_schema_history&quot;)) {\r\n        ResultSet rs = statement.executeQuery();\r\n        if (!(rs.next() &amp;&amp; rs.getInt(1) &gt; 0)) {\r\n            // metadata table does not exist, run script to resolve the issue\r\n            // run your script\r\n        }\r\n        // start Spring Boot application\r\n    }\r\n\r\nThis code checks if your metadata table exists. `If` not, run your script.","title":"Detect if sql database has the following: Found non-empty schema &#39;foobar&#39; without metadata table","body":"<p>Try something like this:</p>\n<pre><code>    try (PreparedStatement statement = connection.prepareStatement(&quot;SELECT COUNT(*) FROM foobar.flyway_schema_history&quot;)) {\n    ResultSet rs = statement.executeQuery();\n    if (!(rs.next() &amp;&amp; rs.getInt(1) &gt; 0)) {\n        // metadata table does not exist, run script to resolve the issue\n        // run your script\n    }\n    // start Spring Boot application\n}\n</code></pre>\n<p>This code checks if your metadata table exists. <code>If</code> not, run your script.</p>\n"}],"owner":{"account_id":1746128,"reputation":2925,"user_id":1596308,"accept_rate":78,"display_name":"Adam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75941128,"answer_count":1,"score":1,"last_activity_date":1680707453,"creation_date":1680704390,"question_id":75940590,"body_markdown":"If I run a certain test suite in our codebase, I end up with the this error when I try to start our spring boot app:\r\n\r\n    Caused by: com.googlecode.flyway.core.api.FlywayException: Found non-empty schema &#39;foobar&#39; without metadata table! Use init() first to initialize the metadata table.\r\n\r\nI have a script which resolves this and makes the db be in a good state. Then I can start the app.\r\n\r\nI want to detect this state and run this script automatically as part of the run configuration for the app.\r\n\r\nIn the java code I have access to java.sql.Connection. \r\n\r\nCan I with this connection object detect this issue?\r\n\r\nI tried inspecting connection.getMetadata() and connection.getSchema(). And also connection.getMetadata.getSchemas(). But everything I&#39;ve checked so far seem to be the same for the state when everything is fine and when I receive the FlyWay error.\r\n\r\n","title":"Detect if sql database has the following: Found non-empty schema &#39;foobar&#39; without metadata table","body":"<p>If I run a certain test suite in our codebase, I end up with the this error when I try to start our spring boot app:</p>\n<pre><code>Caused by: com.googlecode.flyway.core.api.FlywayException: Found non-empty schema 'foobar' without metadata table! Use init() first to initialize the metadata table.\n</code></pre>\n<p>I have a script which resolves this and makes the db be in a good state. Then I can start the app.</p>\n<p>I want to detect this state and run this script automatically as part of the run configuration for the app.</p>\n<p>In the java code I have access to java.sql.Connection.</p>\n<p>Can I with this connection object detect this issue?</p>\n<p>I tried inspecting connection.getMetadata() and connection.getSchema(). And also connection.getMetadata.getSchemas(). But everything I've checked so far seem to be the same for the state when everything is fine and when I receive the FlyWay error.</p>\n"},{"tags":["java","android","java-io","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624011083,"post_id":68032841,"comment_id":120246602,"body_markdown":"`folder.listfiles() is returning null` For which directory?","body":"<code>folder.listfiles() is returning null</code> For which directory?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624011564,"post_id":68032841,"comment_id":120246770,"body_markdown":"Try `File file = Environment.getExternalStorageDirectory();` As on an Android 11 device one can list root of external storage and you will obtain all public directories. (Also Download).\n` And you do not need any permission doing so.","body":"Try <code>File file = Environment.getExternalStorageDirectory();</code> As on an Android 11 device one can list root of external storage and you will obtain all public directories. (Also Download). ` And you do not need any permission doing so."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624011707,"post_id":68032841,"comment_id":120246828,"body_markdown":"You are sure null is returned and not an empty array? As i would rather expect an empty array.","body":"You are sure null is returned and not an empty array? As i would rather expect an empty array."},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624035865,"post_id":68032841,"comment_id":120256866,"body_markdown":"folder.listfiles() is returning for every directory","body":"folder.listfiles() is returning for every directory"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624037587,"post_id":68032841,"comment_id":120257401,"body_markdown":"????????????????????? Is returning what?","body":"????????????????????? Is returning what?"},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624067734,"post_id":68032841,"comment_id":120263862,"body_markdown":"Listen\nwhen we call folder.listfiles() method so also it return an array of file objects okay\nbut now folder.listfiles() method is returning null values in place of file object&#39;s array\ndid you get? You can see in Mainactivity.java oncreate method&#39;s else block third line.","body":"Listen when we call folder.listfiles() method so also it return an array of file objects okay but now folder.listfiles() method is returning null values in place of file object&#39;s array did you get? You can see in Mainactivity.java oncreate method&#39;s else block third line."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624084359,"post_id":68032841,"comment_id":120266048,"body_markdown":"You did not get me. And you did not answer my questions. And returning a null is something different as returning null values. The subject of your post still states that null is returned which i do not believe. And i did not hear you about empty array.","body":"You did not get me. And you did not answer my questions. And returning a null is something different as returning null values. The subject of your post still states that null is returned which i do not believe. And i did not hear you about empty array."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624084531,"post_id":68032841,"comment_id":120266070,"body_markdown":"So know the difference between allfiles==null and allfiles.length==0. The latter would be an empty array.","body":"So know the difference between allfiles==null and allfiles.length==0. The latter would be an empty array."},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624290891,"post_id":68032841,"comment_id":120312593,"body_markdown":"Sir it is not executing the code\nfolder.listFiles()\nso nothing is happening that was I mean ghat is not returning any pointer or array or list anything","body":"Sir it is not executing the code folder.listFiles() so nothing is happening that was I mean ghat is not returning any pointer or array or list anything"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624291307,"post_id":68032841,"comment_id":120312775,"body_markdown":"Do you mean that your app hangs on that statement?","body":"Do you mean that your app hangs on that statement?"},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624342211,"post_id":68032841,"comment_id":120325028,"body_markdown":"Yes my app terminate because of NullpointerExceprion on line MainActivity.java:\non line this this this and did you get that","body":"Yes my app terminate because of NullpointerExceprion on line MainActivity.java: on line this this this and did you get that"},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1624342582,"post_id":68032841,"comment_id":120325129,"body_markdown":"actually I was creating an App which saves whatsapp status and I successfully created it but It was working till android 9 not on 10 and 11 so I got this error so that&#39;s why I was looking for","body":"actually I was creating an App which saves whatsapp status and I successfully created it but It was working till android 9 not on 10 and 11 so I got this error so that&#39;s why I was looking for"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624347942,"post_id":68032841,"comment_id":120327120,"body_markdown":"I did not get it. How would that be possible?Please post the logcat.","body":"I did not get it. How would that be possible?Please post the logcat."},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1637680637,"post_id":68032841,"comment_id":123887989,"body_markdown":"@blackapps returning null for every directory not returning empty array","body":"@blackapps returning null for every directory not returning empty array"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1637683635,"post_id":68032841,"comment_id":123889375,"body_markdown":"Before you do the listing add `if ( !file.exists()) return;` listFiles() returns null for non existing directories.","body":"Before you do the listing add <code>if ( !file.exists()) return;</code> listFiles() returns null for non existing directories."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1637683680,"post_id":68032841,"comment_id":123889397,"body_markdown":"And `if ( ! file.isDirectory()) return;`. Also please remove all import lines and all code concerning permissions. All obscures your problem. We do believe you have the permissions.","body":"And <code>if ( ! file.isDirectory()) return;</code>. Also please remove all import lines and all code concerning permissions. All obscures your problem. We do believe you have the permissions."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648447268,"post_id":68032841,"comment_id":126616771,"body_markdown":"`File.listFiles()` returns `null` under several documented circumstances, including doesn&#39;t exist, not a directory, and no read permissions. *Ergo* at least one of those conditions applies.","body":"<code>File.listFiles()</code> returns <code>null</code> under several documented circumstances, including doesn&#39;t exist, not a directory, and no read permissions. <i>Ergo</i> at least one of those conditions applies."}],"answers":[{"comments":[{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":1,"creation_date":1624342492,"post_id":68062240,"comment_id":120325104,"body_markdown":"okay but if I give the path /storage/emulated/0/whatsapp/Media/.statuses then????\nactually I was creating an App which saves whatsapp status and I successfully created it but It was working till android 9 not on 10 and 11 so I got this error so that&#39;s why I was looking for","body":"okay but if I give the path /storage/emulated/0/whatsapp/Media/.statuses then???? actually I was creating an App which saves whatsapp status and I successfully created it but It was working till android 9 not on 10 and 11 so I got this error so that&#39;s why I was looking for"},{"owner":{"account_id":1823661,"reputation":115,"user_id":1657093,"accept_rate":50,"display_name":"Vivek"},"score":0,"creation_date":1633596459,"post_id":68062240,"comment_id":122803474,"body_markdown":"hi did you resolve it?","body":"hi did you resolve it?"},{"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"score":0,"creation_date":1637680743,"post_id":68062240,"comment_id":123888026,"body_markdown":"No I did not resolve it till now","body":"No I did not resolve it till now"}],"tags":[],"owner":{"account_id":15881907,"reputation":1502,"user_id":11459434,"display_name":"Dharmender Manral"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661874531,"creation_date":1624248918,"answer_id":68062240,"question_id":68032841,"body_markdown":"Try with the following code it&#39;s working.\r\n  \r\n     //Add below permission in your manifest file\r\n     &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n\r\n    //Add below attribute in manifest application tag\r\n     android:requestLegacyExternalStorage=&quot;true&quot;\r\n\r\n    //Activity code, ask file read/write runtime permission\r\n    public class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        requestForPermission();\r\n        getFile();\r\n    }\r\n\r\n    private void getFile() {\r\n        File file;\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n            file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString());\r\n        } else {\r\n            file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Download/&quot;);\r\n        }\r\n        File[] allfiles = null;\r\n        allfiles = file.listFiles();\r\n        if (file.exists()) {\r\n            tv.setText(&quot;Exist&quot;);\r\n        }\r\n        if (allfiles != null) {\r\n            Toast.makeText(this, &quot;length is &quot; + allfiles.length, Toast.LENGTH_SHORT).show();\r\n        } else {\r\n            Toast.makeText(this, &quot;Array is null&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n    private void requestForPermission() {\r\n        ActivityCompat.requestPermissions(\r\n                this,\r\n                new String[]{\r\n                        android.Manifest.permission.READ_EXTERNAL_STORAGE,\r\n                        android.Manifest.permission.WRITE_EXTERNAL_STORAGE\r\n                },\r\n                101\r\n        );\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        switch (requestCode) {\r\n            case 101:\r\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    getFile();\r\n                } else {\r\n                    //not granted\r\n                }\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    }","title":"File.listFiles() is returning null in android 11","body":"<p>Try with the following code it's working.</p>\n<pre><code> //Add below permission in your manifest file\n &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n\n\n//Add below attribute in manifest application tag\n android:requestLegacyExternalStorage=&quot;true&quot;\n\n//Activity code, ask file read/write runtime permission\npublic class MainActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main2);\n    requestForPermission();\n    getFile();\n}\n\nprivate void getFile() {\n    File file;\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n        file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString());\n    } else {\n        file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Download/&quot;);\n    }\n    File[] allfiles = null;\n    allfiles = file.listFiles();\n    if (file.exists()) {\n        tv.setText(&quot;Exist&quot;);\n    }\n    if (allfiles != null) {\n        Toast.makeText(this, &quot;length is &quot; + allfiles.length, Toast.LENGTH_SHORT).show();\n    } else {\n        Toast.makeText(this, &quot;Array is null&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n\nprivate void requestForPermission() {\n    ActivityCompat.requestPermissions(\n            this,\n            new String[]{\n                    android.Manifest.permission.READ_EXTERNAL_STORAGE,\n                    android.Manifest.permission.WRITE_EXTERNAL_STORAGE\n            },\n            101\n    );\n}\n\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    switch (requestCode) {\n        case 101:\n            if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                getFile();\n            } else {\n                //not granted\n            }\n            break;\n        default:\n            break;\n    }\n}\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9022334,"reputation":53,"user_id":6722975,"accept_rate":60,"display_name":"Djen Nik"},"score":0,"creation_date":1673534298,"post_id":70527486,"comment_id":132524728,"body_markdown":"Thanks, you save my day. Your source code works but it remains validating use of MANAGE_EXTERNAL_STORAGE by Google Play Console :)","body":"Thanks, you save my day. Your source code works but it remains validating use of MANAGE_EXTERNAL_STORAGE by Google Play Console :)"}],"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1680707134,"creation_date":1640838642,"answer_id":70527486,"question_id":68032841,"body_markdown":"&gt; According to your requirement you were trying to access list of files under  a directory by using ***listfiles()*** method. And want check\r\n&gt; it is working or not. But this returning ***null***.\r\n&gt; \r\n**First, Declare the *MANAGE_EXTERNAL_STORAGE* permission in the manifest.**\r\n\r\n    // For 30 and after\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\r\n        tools:ignore=&quot;ScopedStorage&quot; /&gt;\r\n    \r\n    // For before 30\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\r\n        tools:node=&quot;merge&quot; /&gt;\r\n    &lt;uses-permission\r\n        android:name=&quot;android.permission.STORAGE&quot;\r\n        tools:node=&quot;merge&quot; /&gt;\r\n\r\n// For 30 and after\r\n&gt; Second, Use the ***ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION*** intent\r\n&gt; action to direct users to a system settings page where they can enable\r\n&gt; the following option for your app: Allow access to manage all files.\r\n\r\n**Write the code on your onCreate Method:**\r\n    \r\n    if (Build.VERSION.SDK_INT &lt; 30) {\r\n        if (!checkBefore30()) {\r\n            requestBefore30();\r\n        } else { \r\n          // User granted file permission, Access your file\r\n          readFiles();\r\n        }\r\n      } else if (Build.VERSION.SDK_INT &gt;= 30) {\r\n        check30AndAfter();\r\n      } else {\r\n        // User already has file access permission\r\n        readFiles();\r\n    }\r\n\r\n**Write those methods on your Activity:**\r\n\r\n    private boolean checkBefore30() {\r\n         return ContextCompat.checkSelfPermission(YourActivity.this,\r\n             Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\r\n    }\r\n\r\n\r\n    private void requestBefore30() {\r\n       if(ActivityCompat.shouldShowRequestPermissionRationale(YourActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\r\n                        Toast.makeText(LoginActivity.this, &quot;Storage permission required. Please allow this permission&quot;, Toast.LENGTH_LONG).show();\r\n                        ActivityCompat.requestPermissions(YourActivity.this, \r\n                                new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 100);\r\n                    } else {\r\n                        ActivityCompat.requestPermissions(YourActivity.this, \r\n                                new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 100);\r\n       }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        switch (requestCode) {\r\n            case 100:\r\n                if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    // Permission for storage access successful!\r\n                    // Read your files now\r\n                } else {\r\n                    // Allow permission for storage access!\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.R)\r\n    private void check30AndAfter() {\r\n        if (!Environment.isExternalStorageManager()) {\r\n            try {\r\n                Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\r\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\r\n                startActivityForResult(intent, 200);\r\n            } catch (Exception e) {\r\n                Intent intent = new Intent();\r\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                startActivityForResult(intent, 200);\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.R)\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 200) {\r\n            if (30 &gt;= Build.VERSION_CODES.R) {\r\n                if (Environment.isExternalStorageManager()) {\r\n                    // Permission for storage access successful!\r\n                    // Read your files now\r\n                } else {\r\n                    // Allow permission for storage access!\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void readFiles() {\r\n            File file;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString());\r\n            } else {\r\n                file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Download/&quot;);\r\n            }\r\n            File[] files= null;\r\n            files= file.listFiles();\r\n            if (file.exists()) {\r\n                //  files exist\r\n            }\r\n            if (allfiles != null) {\r\n                Toast.makeText(this, &quot; file length is&quot; + files.length, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n                Toast.makeText(this, &quot;No files&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n\r\n\r\n**Hopefully your problem will be solved.**","title":"File.listFiles() is returning null in android 11","body":"<blockquote>\n<p>According to your requirement you were trying to access list of files under  a directory by using <em><strong>listfiles()</strong></em> method. And want check\nit is working or not. But this returning <em><strong>null</strong></em>.</p>\n</blockquote>\n<p><strong>First, Declare the <em>MANAGE_EXTERNAL_STORAGE</em> permission in the manifest.</strong></p>\n<pre><code>// For 30 and after\n&lt;uses-permission\n    android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;\n    tools:ignore=&quot;ScopedStorage&quot; /&gt;\n\n// For before 30\n&lt;uses-permission\n    android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;\n    tools:node=&quot;merge&quot; /&gt;\n&lt;uses-permission\n    android:name=&quot;android.permission.STORAGE&quot;\n    tools:node=&quot;merge&quot; /&gt;\n</code></pre>\n<p>// For 30 and after</p>\n<blockquote>\n<p>Second, Use the <em><strong>ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION</strong></em> intent\naction to direct users to a system settings page where they can enable\nthe following option for your app: Allow access to manage all files.</p>\n</blockquote>\n<p><strong>Write the code on your onCreate Method:</strong></p>\n<pre><code>if (Build.VERSION.SDK_INT &lt; 30) {\n    if (!checkBefore30()) {\n        requestBefore30();\n    } else { \n      // User granted file permission, Access your file\n      readFiles();\n    }\n  } else if (Build.VERSION.SDK_INT &gt;= 30) {\n    check30AndAfter();\n  } else {\n    // User already has file access permission\n    readFiles();\n}\n</code></pre>\n<p><strong>Write those methods on your Activity:</strong></p>\n<pre><code>private boolean checkBefore30() {\n     return ContextCompat.checkSelfPermission(YourActivity.this,\n         Manifest.permission.READ_EXTERNAL_STORAGE) == PackageManager.PERMISSION_GRANTED;\n}\n\n\nprivate void requestBefore30() {\n   if(ActivityCompat.shouldShowRequestPermissionRationale(YourActivity.this, Manifest.permission.READ_EXTERNAL_STORAGE)) {\n                    Toast.makeText(LoginActivity.this, &quot;Storage permission required. Please allow this permission&quot;, Toast.LENGTH_LONG).show();\n                    ActivityCompat.requestPermissions(YourActivity.this, \n                            new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 100);\n                } else {\n                    ActivityCompat.requestPermissions(YourActivity.this, \n                            new String[]{android.Manifest.permission.READ_EXTERNAL_STORAGE}, 100);\n   }\n}\n\n@Override\npublic void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n    switch (requestCode) {\n        case 100:\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                // Permission for storage access successful!\n                // Read your files now\n            } else {\n                // Allow permission for storage access!\n            }\n            break;\n    }\n}\n\n\n@RequiresApi(api = Build.VERSION_CODES.R)\nprivate void check30AndAfter() {\n    if (!Environment.isExternalStorageManager()) {\n        try {\n            Intent intent = new Intent(Settings.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION);\n            intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n            intent.setData(Uri.parse(String.format(&quot;package:%s&quot;, getApplicationContext().getPackageName())));\n            startActivityForResult(intent, 200);\n        } catch (Exception e) {\n            Intent intent = new Intent();\n            intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n            startActivityForResult(intent, 200);\n        }\n    }\n}\n\n@RequiresApi(api = Build.VERSION_CODES.R)\n@Override\nprotected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 200) {\n        if (30 &gt;= Build.VERSION_CODES.R) {\n            if (Environment.isExternalStorageManager()) {\n                // Permission for storage access successful!\n                // Read your files now\n            } else {\n                // Allow permission for storage access!\n            }\n        }\n    }\n}\n\n\nprivate void readFiles() {\n        File file;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString());\n        } else {\n            file = new File(Environment.getExternalStorageDirectory().toString() + &quot;/Download/&quot;);\n        }\n        File[] files= null;\n        files= file.listFiles();\n        if (file.exists()) {\n            //  files exist\n        }\n        if (allfiles != null) {\n            Toast.makeText(this, &quot; file length is&quot; + files.length, Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(this, &quot;No files&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n<p><strong>Hopefully your problem will be solved.</strong></p>\n"}],"owner":{"account_id":21985368,"reputation":89,"user_id":16259725,"display_name":"Rajkumar"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4642,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1680707134,"creation_date":1624009116,"question_id":68032841,"body_markdown":"I was  creating an application to test whether `File.listFiles()` method is working or not. To check this I made an application and I used it there but this returning null in place of an array.\r\nThis is my full code please help and I have granted all permissions for android 11\r\n\r\n\r\n**MainActivity.java**\r\n\r\n    package com.rajkumarcreations.file;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.app.ActivityCompat;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.net.Uri;\r\n    import android.os.Build;\r\n    import android.os.Bundle;\r\n    import android.os.Environment;\r\n    import android.provider.Settings;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import org.w3c.dom.Text;\r\n    \r\n    import java.io.File;\r\n    \r\n    import static android.Manifest.permission.READ_EXTERNAL_STORAGE;\r\n    import static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\r\n    import static android.os.Build.VERSION.SDK_INT;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    TextView tv;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            tv = (TextView) findViewById(R.id.btn);\r\n            if(!checkPermission()){\r\n                requestPermission();\r\n            }else{\r\n                File file = new File(Environment.getExternalStorageDirectory()+&quot;/Download/&quot;);\r\n                File[] allfiles = null;\r\n                allfiles = file.listFiles();\r\n                if(file.exists()){\r\n                    tv.setText(&quot;Exist&quot;);\r\n                }\r\n                if(allfiles!=null){\r\n                    Toast.makeText(this, &quot;length is &quot;+allfiles.length, Toast.LENGTH_SHORT).show();\r\n                }else{\r\n                    Toast.makeText(this, &quot;Array is null&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private boolean checkPermission() {\r\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                return Environment.isExternalStorageManager();\r\n            } else {\r\n                int write = ContextCompat.checkSelfPermission(MainActivity.this, WRITE_EXTERNAL_STORAGE);\r\n                int read = ContextCompat.checkSelfPermission(MainActivity.this, READ_EXTERNAL_STORAGE);\r\n                return write == PackageManager.PERMISSION_GRANTED &amp;&amp; read == PackageManager.PERMISSION_GRANTED;\r\n            }\r\n        }\r\n    \r\n        private void requestPermission() {\r\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                try {\r\n                    Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                    intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\r\n                    intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,new Object[]{getApplicationContext().getPackageName()})));\r\n                    startActivityForResult(intent, 2000);\r\n                } catch (Exception e) {\r\n                    Intent intent = new Intent();\r\n                    intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\r\n                    startActivityForResult(intent, 2000);\r\n                }\r\n            } else {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE}, 333);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            if (requestCode == 2000) {\r\n                if (SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                    if (Environment.isExternalStorageManager()) {\r\n    \r\n                        Toast.makeText(this, &quot;Allow permissions granted&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    } else {\r\n                        Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\r\n            super.onRequestPermissionsResult(requestCode,permissions,grantResults);\r\n            if (requestCode==333){\r\n                if (grantResults.length &gt; 0) {\r\n                    boolean WRITE_EXTERNAL_STORAGE = grantResults[0] == PackageManager.PERMISSION_GRANTED;\r\n                    boolean READ_EXTERNAL_STORAGE = grantResults[1] == PackageManager.PERMISSION_GRANTED;\r\n                    if (READ_EXTERNAL_STORAGE &amp;&amp; WRITE_EXTERNAL_STORAGE) {\r\n    \r\n                        Toast.makeText(this, &quot;All permissions granted&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    } else {\r\n                        Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n**Manifest File**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.rajkumarcreations.file&quot;&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:requestLegacyExternalStorage=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\n\r\n**XML File**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Hello World!&quot;\r\n            android:id=&quot;@+id/btn&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n","title":"File.listFiles() is returning null in android 11","body":"<p>I was  creating an application to test whether <code>File.listFiles()</code> method is working or not. To check this I made an application and I used it there but this returning null in place of an array.\nThis is my full code please help and I have granted all permissions for android 11</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.rajkumarcreations.file;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Build;\nimport android.os.Bundle;\nimport android.os.Environment;\nimport android.provider.Settings;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport org.w3c.dom.Text;\n\nimport java.io.File;\n\nimport static android.Manifest.permission.READ_EXTERNAL_STORAGE;\nimport static android.Manifest.permission.WRITE_EXTERNAL_STORAGE;\nimport static android.os.Build.VERSION.SDK_INT;\n\npublic class MainActivity extends AppCompatActivity {\nTextView tv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        tv = (TextView) findViewById(R.id.btn);\n        if(!checkPermission()){\n            requestPermission();\n        }else{\n            File file = new File(Environment.getExternalStorageDirectory()+&quot;/Download/&quot;);\n            File[] allfiles = null;\n            allfiles = file.listFiles();\n            if(file.exists()){\n                tv.setText(&quot;Exist&quot;);\n            }\n            if(allfiles!=null){\n                Toast.makeText(this, &quot;length is &quot;+allfiles.length, Toast.LENGTH_SHORT).show();\n            }else{\n                Toast.makeText(this, &quot;Array is null&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n\n    private boolean checkPermission() {\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n            return Environment.isExternalStorageManager();\n        } else {\n            int write = ContextCompat.checkSelfPermission(MainActivity.this, WRITE_EXTERNAL_STORAGE);\n            int read = ContextCompat.checkSelfPermission(MainActivity.this, READ_EXTERNAL_STORAGE);\n            return write == PackageManager.PERMISSION_GRANTED &amp;&amp; read == PackageManager.PERMISSION_GRANTED;\n        }\n    }\n\n    private void requestPermission() {\n        if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n            try {\n                Intent intent = new Intent(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                intent.addCategory(&quot;android.intent.category.DEFAULT&quot;);\n                intent.setData(Uri.parse(String.format(&quot;package:%s&quot;,new Object[]{getApplicationContext().getPackageName()})));\n                startActivityForResult(intent, 2000);\n            } catch (Exception e) {\n                Intent intent = new Intent();\n                intent.setAction(Settings.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION);\n                startActivityForResult(intent, 2000);\n            }\n        } else {\n            ActivityCompat.requestPermissions(MainActivity.this, new String[]{WRITE_EXTERNAL_STORAGE,READ_EXTERNAL_STORAGE}, 333);\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (requestCode == 2000) {\n            if (SDK_INT &gt;= Build.VERSION_CODES.R) {\n                if (Environment.isExternalStorageManager()) {\n\n                    Toast.makeText(this, &quot;Allow permissions granted&quot;, Toast.LENGTH_SHORT).show();\n\n                } else {\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, String[] permissions, int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode,permissions,grantResults);\n        if (requestCode==333){\n            if (grantResults.length &gt; 0) {\n                boolean WRITE_EXTERNAL_STORAGE = grantResults[0] == PackageManager.PERMISSION_GRANTED;\n                boolean READ_EXTERNAL_STORAGE = grantResults[1] == PackageManager.PERMISSION_GRANTED;\n                if (READ_EXTERNAL_STORAGE &amp;&amp; WRITE_EXTERNAL_STORAGE) {\n\n                    Toast.makeText(this, &quot;All permissions granted&quot;, Toast.LENGTH_SHORT).show();\n\n                } else {\n                    Toast.makeText(this, &quot;Allow permission for storage access!&quot;, Toast.LENGTH_SHORT).show();\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Manifest File</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.rajkumarcreations.file&quot;&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:requestLegacyExternalStorage=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;&gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>XML File</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello World!&quot;\n        android:id=&quot;@+id/btn&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","annotations"],"owner":{"account_id":19128152,"reputation":1,"user_id":13970687,"display_name":"gyspar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680707053,"creation_date":1680707053,"question_id":75941052,"body_markdown":"I want to hide `@EnabledIf` annotation in my custom annotation named `@ServiceEnabled` annotation in Java. It&#39;s something like proxy.\r\n\r\nLike this:\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ElementType.TYPE, ElementType.METHOD})\r\n@EnabledIf(value = &quot;#{services.isEnabled(&#39;&quot; + \r\n                                          value // &lt;-- How inject value here ? \r\n                                            + &quot;&#39;)}&quot;, loadContext = true)\r\npublic @interface ServiceEnabled {\r\n    \r\n    String value();\r\n}\r\n```\r\nAnd i want to use in class like this.\r\n```\r\n@ServiceEnabled(&quot;MyService&quot;)\r\npublic class ServicesChecker {}\r\n```\r\nthen value in `@EnabledIf` should be equal to `&quot;#{services.isEnabled(&#39;MyService&#39;)}&quot;`\r\n\r\nIs any way to do it in Java ? ","title":"Is it possible to create annotation which is proxy of another annotation?","body":"<p>I want to hide <code>@EnabledIf</code> annotation in my custom annotation named <code>@ServiceEnabled</code> annotation in Java. It's something like proxy.</p>\n<p>Like this:</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.TYPE, ElementType.METHOD})\n@EnabledIf(value = &quot;#{services.isEnabled('&quot; + \n                                          value // &lt;-- How inject value here ? \n                                            + &quot;')}&quot;, loadContext = true)\npublic @interface ServiceEnabled {\n    \n    String value();\n}\n</code></pre>\n<p>And i want to use in class like this.</p>\n<pre><code>@ServiceEnabled(&quot;MyService&quot;)\npublic class ServicesChecker {}\n</code></pre>\n<p>then value in <code>@EnabledIf</code> should be equal to <code>&quot;#{services.isEnabled('MyService')}&quot;</code></p>\n<p>Is any way to do it in Java ?</p>\n"},{"tags":["java","ssl-certificate","buildpack","kpack"],"answers":[{"tags":[],"owner":{"account_id":12270,"reputation":4865,"user_id":24069,"accept_rate":89,"display_name":"Anthony Dahanne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680706846,"creation_date":1680706846,"answer_id":75941010,"question_id":75927220,"body_markdown":"First, I assume you are using Paketo buildpacks, and [the documentation](https://paketo.io/docs/howto/configuration/#ca-certificates) explains how you can provide a CA certificate to your JVM Truststore, either at\r\n* buildtime (if you use the same CA certificate for your image across your environments; that&#39;s the easiest solution since you just need to provide your CA cert during buildtime and the image is ready to be deployed) or at \r\n* runtime (if your CA cert is going to be different across environments; that&#39;s a more complicated option since at deployment time, in kpack, you will need to provide and bind the CA certificate)\r\n\r\nIf you choose runtime, then you would need to create a [service binding](https://github.com/pivotal/kpack/blob/main/docs/servicebindings.md) that would link to your CA certificate\r\n\r\nHope that helps!","title":"Kpack: How to add a custom certificate into JVM truststore of a kpack generated Image","body":"<p>First, I assume you are using Paketo buildpacks, and <a href=\"https://paketo.io/docs/howto/configuration/#ca-certificates\" rel=\"nofollow noreferrer\">the documentation</a> explains how you can provide a CA certificate to your JVM Truststore, either at</p>\n<ul>\n<li>buildtime (if you use the same CA certificate for your image across your environments; that's the easiest solution since you just need to provide your CA cert during buildtime and the image is ready to be deployed) or at</li>\n<li>runtime (if your CA cert is going to be different across environments; that's a more complicated option since at deployment time, in kpack, you will need to provide and bind the CA certificate)</li>\n</ul>\n<p>If you choose runtime, then you would need to create a <a href=\"https://github.com/pivotal/kpack/blob/main/docs/servicebindings.md\" rel=\"nofollow noreferrer\">service binding</a> that would link to your CA certificate</p>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":347517,"reputation":5454,"user_id":681671,"accept_rate":59,"display_name":"Dojo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75941010,"answer_count":1,"score":0,"last_activity_date":1680706846,"creation_date":1680597488,"question_id":75927220,"body_markdown":"I am using kpack to generate container images of a Java - Spring Boot app. I need the JVM in the generated container image to trust a custom self-signed certificate. How do I construct the required YAML(s) for this?","title":"Kpack: How to add a custom certificate into JVM truststore of a kpack generated Image","body":"<p>I am using kpack to generate container images of a Java - Spring Boot app. I need the JVM in the generated container image to trust a custom self-signed certificate. How do I construct the required YAML(s) for this?</p>\n"},{"tags":["java","serialization","deserialization"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1680706959,"post_id":75940994,"comment_id":133944317,"body_markdown":"Your json is an object, which should not be deserialised to `String.class`. Simple way is to readValue as Map, and that call `get(&quot;id&quot;)`","body":"Your json is an object, which should not be deserialised to <code>String.class</code>. Simple way is to readValue as Map, and that call <code>get(&quot;id&quot;)</code>"},{"owner":{"account_id":1588685,"reputation":1941,"user_id":1472493,"accept_rate":42,"display_name":"R11G"},"score":0,"creation_date":1680707741,"post_id":75940994,"comment_id":133944574,"body_markdown":"@samabcde Even when I do `mapper.readValue(byteInput, Map.class)`, the resulting map from it doesn&#39;t contain any ID","body":"@samabcde Even when I do <code>mapper.readValue(byteInput, Map.class)</code>, the resulting map from it doesn&#39;t contain any ID"},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1680709128,"post_id":75940994,"comment_id":133945023,"body_markdown":"Not sure which lib you are using for `JSONObject`, but since the byte array is from writing `JSONObject`, you should read it also as `JSONObject`.","body":"Not sure which lib you are using for <code>JSONObject</code>, but since the byte array is from writing <code>JSONObject</code>, you should read it also as <code>JSONObject</code>."}],"owner":{"account_id":1588685,"reputation":1941,"user_id":1472493,"accept_rate":42,"display_name":"R11G"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1657,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680706747,"creation_date":1680706747,"question_id":75940994,"body_markdown":"I&#39;m trying to serialize an object then write it into a cache. And plan to read it after de-serializing it. But running into this error - \r\n`com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type java.lang.String from Object value (token JsonToken.START_OBJECT)\r\n at [Source: (ByteArrayInputStream); line: 1, column: 1]`\r\n\r\nThe two methods look like below. Fwiw, this is the value written into cache: {&quot;id&quot;:&quot;abcdefg&quot;}\r\n\r\n    private void writeInCache (Account account) {\r\n    JSONObject bankObject = new JSONObject();\r\n    Object object = account.getBank().getId();\r\n    bankObject.put(&quot;id&quot; ,account.getBank().getId());\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    byte[] jsonBytes = mapper.writeValueAsBytes(bankObject);\r\n    CacheResponse cacheResponse = cacheClient.create(account.getAccountNumber().\r\n                               getBytes(StandardCharsets.UTF_8), jsonBytes);}\r\n\r\n\r\n\r\n    public readFromCache(){\r\n    CacheResponse cacheResponse = cacheClient.get(account.getAccountNumber().getBytes(StandardCharsets.UTF_8));\r\n    if(null != cacheResponse.getValue()){\r\n          ByteArrayInputStream byteInput = new ByteArrayInputStream(cacheResponse.getValue());\r\n           bank.setId(mapper.readValue(byteInput, String.class));\r\n    .......//rest code\r\n    }\r\n\r\n","title":"Facing error - Cannot deserialize value of type `java.lang.String` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>I'm trying to serialize an object then write it into a cache. And plan to read it after de-serializing it. But running into this error -\n<code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize value of type java.lang.String from Object value (token JsonToken.START_OBJECT) at [Source: (ByteArrayInputStream); line: 1, column: 1]</code></p>\n<p>The two methods look like below. Fwiw, this is the value written into cache: {&quot;id&quot;:&quot;abcdefg&quot;}</p>\n<pre><code>private void writeInCache (Account account) {\nJSONObject bankObject = new JSONObject();\nObject object = account.getBank().getId();\nbankObject.put(&quot;id&quot; ,account.getBank().getId());\nObjectMapper mapper = new ObjectMapper();\nbyte[] jsonBytes = mapper.writeValueAsBytes(bankObject);\nCacheResponse cacheResponse = cacheClient.create(account.getAccountNumber().\n                           getBytes(StandardCharsets.UTF_8), jsonBytes);}\n\n\n\npublic readFromCache(){\nCacheResponse cacheResponse = cacheClient.get(account.getAccountNumber().getBytes(StandardCharsets.UTF_8));\nif(null != cacheResponse.getValue()){\n      ByteArrayInputStream byteInput = new ByteArrayInputStream(cacheResponse.getValue());\n       bank.setId(mapper.readValue(byteInput, String.class));\n.......//rest code\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1680768121,"post_id":75940968,"comment_id":133954871,"body_markdown":"I don&#39;t think there is an automated mechanism, you have to do it by hand. Whenever you insert a child find the max version of the children of the same parent and add one.","body":"I don&#39;t think there is an automated mechanism, you have to do it by hand. Whenever you insert a child find the max version of the children of the same parent and add one."}],"owner":{"account_id":28223819,"reputation":1,"user_id":21574147,"display_name":"janthoXO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680706551,"creation_date":1680706551,"question_id":75940968,"body_markdown":"I have the problem that i have a one to many mapping. I want on the many-side to have a version per each one-object (parent). To be more clear lets look at the following example:\r\n\r\n\r\n```\r\n@Entity\r\n@EntityListeners(AuditingEntityListener.class)\r\nclass Parent{\r\n\r\n@Id\r\n    @GeneratedValue\r\n    @Column(name = &quot;parent_id&quot;)\r\n    private UUID parent_id;\r\n\r\n@OneToMany(mappedBy = &quot;parent_fk&quot;, cascade = {CascadeType.ALL}, orphanRemoval = true)\r\n    @OrderBy(&quot;version ASC&quot;)\r\n    private List&lt;Child&gt; versions = new ArrayList&lt;&gt;();\r\n}\r\n\r\n\r\n@Entity\r\n@IdClass(ChildKey.class)\r\nclass Child{\r\n\r\n@Id\r\n@Version // not possible, throws an compile error\r\n    @Column(name = &quot;version&quot;)\r\n    private int version;\r\n\r\n@Id\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;parent_fk&quot;, nullable = false)\r\n    private Parent parent_fk;\r\n}\r\n\r\nclass ChildKey implements Serializable {\r\n    private Parent parent_fk;\r\n    private int version;\r\n}\r\n```\r\n\r\nIm only addressing the Parent entity with a CRUD Repository. \r\nNow i want the behaviour that if i add a new Child in a Parent, that the newly added childs version is incremented. \r\nBut I only want the version incremented per Parent. Meaning if i have two different parents and each has a child, then version of both children should be 1.\r\nI couldnt find anything in the Internet, so maybe someone can help?","title":"JPA version only for same foreign key","body":"<p>I have the problem that i have a one to many mapping. I want on the many-side to have a version per each one-object (parent). To be more clear lets look at the following example:</p>\n<pre><code>@Entity\n@EntityListeners(AuditingEntityListener.class)\nclass Parent{\n\n@Id\n    @GeneratedValue\n    @Column(name = &quot;parent_id&quot;)\n    private UUID parent_id;\n\n@OneToMany(mappedBy = &quot;parent_fk&quot;, cascade = {CascadeType.ALL}, orphanRemoval = true)\n    @OrderBy(&quot;version ASC&quot;)\n    private List&lt;Child&gt; versions = new ArrayList&lt;&gt;();\n}\n\n\n@Entity\n@IdClass(ChildKey.class)\nclass Child{\n\n@Id\n@Version // not possible, throws an compile error\n    @Column(name = &quot;version&quot;)\n    private int version;\n\n@Id\n    @ManyToOne\n    @JoinColumn(name = &quot;parent_fk&quot;, nullable = false)\n    private Parent parent_fk;\n}\n\nclass ChildKey implements Serializable {\n    private Parent parent_fk;\n    private int version;\n}\n</code></pre>\n<p>Im only addressing the Parent entity with a CRUD Repository.\nNow i want the behaviour that if i add a new Child in a Parent, that the newly added childs version is incremented.\nBut I only want the version incremented per Parent. Meaning if i have two different parents and each has a child, then version of both children should be 1.\nI couldnt find anything in the Internet, so maybe someone can help?</p>\n"},{"tags":["java","spring-boot","kotlin","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":11931142,"reputation":35,"user_id":8730984,"display_name":"protenhan"},"score":0,"creation_date":1680718814,"post_id":75940961,"comment_id":133947476,"body_markdown":"Thank you for the catch with the ConnectOptions vs ConnectionOptions. You are right with the signature. I changed my code and then also found that I had the wrong IMqttAsyncClient imported. Because I used the same class to experiment with MQTT v3 connections before.","body":"Thank you for the catch with the ConnectOptions vs ConnectionOptions. You are right with the signature. I changed my code and then also found that I had the wrong IMqttAsyncClient imported. Because I used the same class to experiment with MQTT v3 connections before."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680706526,"creation_date":1680706526,"answer_id":75940961,"question_id":75940889,"body_markdown":"Your problem is with a `MqttConnectOptions` which is essentially this class:\r\n\r\n    org.eclipse.paho.client.mqttv3.MqttConnectOptions\r\n\r\nfor MQTT v5 it has to be this:\r\n\r\n    org.eclipse.paho.mqttv5.client.MqttConnectionOptions\r\n\r\nTherefore your bean definition must be like this:\r\n\r\n    fun clientManager(): ClientManager&lt;IMqttAsyncClient, MqttConnectionOptions&gt; {\r\n\r\nSee `Mqttv5ClientManager` class source code.","title":"Spring Mqtt integration - type mismatch in Kotlin while the same types work in Java","body":"<p>Your problem is with a <code>MqttConnectOptions</code> which is essentially this class:</p>\n<pre><code>org.eclipse.paho.client.mqttv3.MqttConnectOptions\n</code></pre>\n<p>for MQTT v5 it has to be this:</p>\n<pre><code>org.eclipse.paho.mqttv5.client.MqttConnectionOptions\n</code></pre>\n<p>Therefore your bean definition must be like this:</p>\n<pre><code>fun clientManager(): ClientManager&lt;IMqttAsyncClient, MqttConnectionOptions&gt; {\n</code></pre>\n<p>See <code>Mqttv5ClientManager</code> class source code.</p>\n"}],"owner":{"account_id":11931142,"reputation":35,"user_id":8730984,"display_name":"protenhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75940961,"answer_count":1,"score":0,"last_activity_date":1680706526,"creation_date":1680706091,"question_id":75940889,"body_markdown":"I&#39;m relatively new to Kotlin. Currently I&#39;m working on a spring boot (v 3.0.5) application that also uses MQTT via the spring-integration-mqtt lib (v 6.0.4). So fare everything works fine I can send and receive messages via MQTTS. Now I need handle messages to-and-from more topics and wanted to configure a shared client for this, as explained here: https://docs.spring.io/spring-integration/reference/html/mqtt.html#mqtt-shared-client\r\n\r\nHowever, when I transfer that exact example to Kotlin\r\n\r\n\r\n```kotlin\r\n@Bean\r\nfun clientManager(): ClientManager&lt;IMqttAsyncClient, MqttConnectOptions&gt; {\r\n    val connectionOptions = MqttConnectionOptions()\r\n    connectionOptions.serverURIs = arrayOf(brokerUrl)\r\n    connectionOptions.userName = username\r\n    connectionOptions.password = password.toByteArray()\r\n    connectionOptions.connectionTimeout = 30000;\r\n    connectionOptions.maxReconnectDelay = 1000;\r\n    connectionOptions.isAutomaticReconnect = true;\r\n\r\n    val clientManager = Mqttv5ClientManager(connectionOptions, clientId)\r\n    clientManager.setPersistence(MqttDefaultFilePersistence())\r\n    return clientManager\r\n}\r\n```\r\n\r\nI get the following error:\r\n```shell\r\nType mismatch: inferred type is Mqttv5ClientManager but ClientManager&lt;IMqttAsyncClient, MqttConnectOptions&gt; was expected\r\n```\r\n\r\n\r\nWhen I do the same thing in Java, as shown in the Spring documentation, then it works just fine. To me it seems that Kotlin is not able to resolve the class hierarchy for the ClientManager Interface. The [Javadoc](https://docs.spring.io/spring-integration/api/org/springframework/integration/mqtt/core/ClientManager.html) clearly indicates that Mqttv5ClientManager is a known Implementation for ClientManager. \r\n\r\nWhat am I doing wrong?\r\n","title":"Spring Mqtt integration - type mismatch in Kotlin while the same types work in Java","body":"<p>I'm relatively new to Kotlin. Currently I'm working on a spring boot (v 3.0.5) application that also uses MQTT via the spring-integration-mqtt lib (v 6.0.4). So fare everything works fine I can send and receive messages via MQTTS. Now I need handle messages to-and-from more topics and wanted to configure a shared client for this, as explained here: <a href=\"https://docs.spring.io/spring-integration/reference/html/mqtt.html#mqtt-shared-client\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/mqtt.html#mqtt-shared-client</a></p>\n<p>However, when I transfer that exact example to Kotlin</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Bean\nfun clientManager(): ClientManager&lt;IMqttAsyncClient, MqttConnectOptions&gt; {\n    val connectionOptions = MqttConnectionOptions()\n    connectionOptions.serverURIs = arrayOf(brokerUrl)\n    connectionOptions.userName = username\n    connectionOptions.password = password.toByteArray()\n    connectionOptions.connectionTimeout = 30000;\n    connectionOptions.maxReconnectDelay = 1000;\n    connectionOptions.isAutomaticReconnect = true;\n\n    val clientManager = Mqttv5ClientManager(connectionOptions, clientId)\n    clientManager.setPersistence(MqttDefaultFilePersistence())\n    return clientManager\n}\n</code></pre>\n<p>I get the following error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>Type mismatch: inferred type is Mqttv5ClientManager but ClientManager&lt;IMqttAsyncClient, MqttConnectOptions&gt; was expected\n</code></pre>\n<p>When I do the same thing in Java, as shown in the Spring documentation, then it works just fine. To me it seems that Kotlin is not able to resolve the class hierarchy for the ClientManager Interface. The <a href=\"https://docs.spring.io/spring-integration/api/org/springframework/integration/mqtt/core/ClientManager.html\" rel=\"nofollow noreferrer\">Javadoc</a> clearly indicates that Mqttv5ClientManager is a known Implementation for ClientManager.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","elasticsearch","kibana","elastic-stack"],"answers":[{"comments":[{"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"score":0,"creation_date":1529921852,"post_id":51020999,"comment_id":89034717,"body_markdown":"I did that change in `elasticsearch.yml` file `http.max_content_length: 200mb` , then i restarted elasticsearch via services.msc., but still am getting the same error message. Do i need to do any thing else.?","body":"I did that change in <code>elasticsearch.yml</code> file <code>http.max_content_length: 200mb</code> , then i restarted elasticsearch via services.msc., but still am getting the same error message. Do i need to do any thing else.?"},{"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"score":0,"creation_date":1529922761,"post_id":51020999,"comment_id":89035258,"body_markdown":"This entry is not available in `elasticsearch.yml` file. I have added this line `http.max_content_length: 200MB` manually at the end of the file. (as last line). Eventhough its not working.","body":"This entry is not available in <code>elasticsearch.yml</code> file. I have added this line <code>http.max_content_length: 200MB</code> manually at the end of the file. (as last line). Eventhough its not working."},{"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"score":0,"creation_date":1529929353,"post_id":51020999,"comment_id":89039184,"body_markdown":"Do you have any idea., how to configure `http.max_content_length: 200mb` from `elasticsearch.yml` file is not working for ES versiion 6.2.3","body":"Do you have any idea., how to configure <code>http.max_content_length: 200mb</code> from <code>elasticsearch.yml</code> file is not working for ES versiion 6.2.3"},{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1529929745,"post_id":51020999,"comment_id":89039425,"body_markdown":"It&#39;s actually a different issue, I&#39;m looking into it.","body":"It&#39;s actually a different issue, I&#39;m looking into it."},{"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"score":0,"creation_date":1529998560,"post_id":51020999,"comment_id":89066216,"body_markdown":"Do we have any work around for this issue., Right now am using `RestHighLevelClient` , do we have anyother client for communication.","body":"Do we have any work around for this issue., Right now am using <code>RestHighLevelClient</code> , do we have anyother client for communication."},{"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"score":0,"creation_date":1530006855,"post_id":51020999,"comment_id":89071062,"body_markdown":"am able to form request using `RestClient` thanks for your help. But am not getting response or expected response. I have raised as separate question for this. https://stackoverflow.com/questions/51039930/elasticsearch-javaapi-restclient-not-giving-response","body":"am able to form request using <code>RestClient</code> thanks for your help. But am not getting response or expected response. I have raised as separate question for this. <a href=\"https://stackoverflow.com/questions/51039930/elasticsearch-javaapi-restclient-not-giving-response\" title=\"elasticsearch javaapi restclient not giving response\">stackoverflow.com/questions/51039930/&hellip;</a>"}],"tags":[],"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"comment_count":6,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1530002919,"creation_date":1529921580,"answer_id":51020999,"question_id":51020646,"body_markdown":"You need to increase the `http.max_content_length` in your `elasticsearch.yml` config file. \r\n\r\nBy default, it is set at 100MB (100*1024*1024 = 104857600), so you probably need to set it a little higher than that.\r\n\r\n**UPDATE**\r\n\r\nIt is actually a different issue, which is explained [here](https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-low-usage-requests.html). Basically, the default `HttpAsyncResponseConsumerFactory` buffers the whole response body in the heap memory, but only up to 100mb by default. The workaround is to configure another size for that buffer, but your only option is to work with the low-level REST client instead. In ES 7, you&#39;ll be able to do this on the High-level REST client using a class called `RequestOptions`, but it&#39;s not released yet.\r\n\r\n    long BUFFER_SIZE = 120 * 1024 * 1024;     &lt;---- set buffer to 120MB instead of 100MB\r\n    Map&lt;String, String&gt; params = Collections.emptyMap();\r\n    HttpEntity entity = new NStringEntity(contentSearchSourceBuilder.toString(), ContentType.APPLICATION_JSON);\r\n    HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory consumerFactory =\r\n            new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(BUFFER_SIZE);\r\n    Response response = restClient.performRequest(&quot;GET&quot;, &quot;/document_attachment/doc/_search&quot;, params, entity, consumerFactory); \r\n\r\n","title":"org.apache.http.ContentTooLongException: entity content is too long [105539255] for the configured buffer limit [104857600]","body":"<p>You need to increase the <code>http.max_content_length</code> in your <code>elasticsearch.yml</code> config file. </p>\n\n<p>By default, it is set at 100MB (100*1024*1024 = 104857600), so you probably need to set it a little higher than that.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>It is actually a different issue, which is explained <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-low-usage-requests.html\" rel=\"noreferrer\">here</a>. Basically, the default <code>HttpAsyncResponseConsumerFactory</code> buffers the whole response body in the heap memory, but only up to 100mb by default. The workaround is to configure another size for that buffer, but your only option is to work with the low-level REST client instead. In ES 7, you'll be able to do this on the High-level REST client using a class called <code>RequestOptions</code>, but it's not released yet.</p>\n\n<pre><code>long BUFFER_SIZE = 120 * 1024 * 1024;     &lt;---- set buffer to 120MB instead of 100MB\nMap&lt;String, String&gt; params = Collections.emptyMap();\nHttpEntity entity = new NStringEntity(contentSearchSourceBuilder.toString(), ContentType.APPLICATION_JSON);\nHttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory consumerFactory =\n        new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(BUFFER_SIZE);\nResponse response = restClient.performRequest(\"GET\", \"/document_attachment/doc/_search\", params, entity, consumerFactory); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663860845,"creation_date":1663860845,"answer_id":73817295,"question_id":51020646,"body_markdown":"This is what I did to get it working for ES 7 using RestHighLevelClient.\r\n  HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory.DEFAULT_BUFFER_LIMIT = 104857600\r\n\r\n\r\n\t\tRequestOptions.Builder options = RequestOptions.DEFAULT.toBuilder();\r\n\t\toptions.setHttpAsyncResponseConsumerFactory(\r\n\t\t\t\tnew HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(2 * 104857600));\r\n\t\tresponse = client.search(searchRequest, options.build());","title":"org.apache.http.ContentTooLongException: entity content is too long [105539255] for the configured buffer limit [104857600]","body":"<p>This is what I did to get it working for ES 7 using RestHighLevelClient.\nHttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory.DEFAULT_BUFFER_LIMIT = 104857600</p>\n<pre><code>    RequestOptions.Builder options = RequestOptions.DEFAULT.toBuilder();\n    options.setHttpAsyncResponseConsumerFactory(\n            new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(2 * 104857600));\n    response = client.search(searchRequest, options.build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17945185,"reputation":122,"user_id":13039638,"display_name":"uma mahesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679912540,"creation_date":1679912540,"answer_id":75854611,"question_id":51020646,"body_markdown":"    Replace your code\r\n    \r\n    from \r\n    SearchResponse searchResponse =\r\n                restHighLevelClient.search(searchRequestWithScroll, RequestOptions.DEFAULT);\r\n    \r\n    to\r\n       \r\n     RequestOptions.Builder options = RequestOptions.DEFAULT.toBuilder();\r\n        \t\toptions.setHttpAsyncResponseConsumerFactory(\r\n        \t\t\t\tnew HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(2 * 104857600));//set buffer limit to 200mb\r\n                SearchResponse searchResponse =\r\n                    restHighLevelClient.search(searchRequestWithScroll, options.build());","title":"org.apache.http.ContentTooLongException: entity content is too long [105539255] for the configured buffer limit [104857600]","body":"<pre><code>Replace your code\n\nfrom \nSearchResponse searchResponse =\n            restHighLevelClient.search(searchRequestWithScroll, RequestOptions.DEFAULT);\n\nto\n   \n RequestOptions.Builder options = RequestOptions.DEFAULT.toBuilder();\n            options.setHttpAsyncResponseConsumerFactory(\n                    new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(2 * 104857600));//set buffer limit to 200mb\n            SearchResponse searchResponse =\n                restHighLevelClient.search(searchRequestWithScroll, options.build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28223876,"reputation":11,"user_id":21574199,"display_name":"Marc Reichman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680706503,"creation_date":1680706187,"answer_id":75940907,"question_id":51020646,"body_markdown":"To follow up on a [previous](https://stackoverflow.com/a/51020999/21574199) answer, this is a method for working with the newer (2022+) Elasticsearch Java client, for all responses. To use the [`RestClientOptions`](https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.0/co/elastic/clients/transport/rest_client/RestClientOptions.html) class with an individual request, look at the [`withTransportOptions`](https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.0/co/elastic/clients/elasticsearch/ElasticsearchAsyncClient.html#withTransportOptions(co.elastic.clients.transport.TransportOptions)) method, which will create a new client with the adjusted options that can be used on-demand and garbage collected afterwards.\r\n\r\n```java\r\nfinal int MAX_RESPONSE_ENTITY_SIZE = 200 * 1048576; // 200 MB\r\nRestClientTransport transport = ....;\r\n\r\nRequestOptions.Builder requestOptionsBuilder = RequestOptions.DEFAULT.toBuilder();\r\nrequestOptionsBuilder.setHttpAsyncResponseConsumerFactory(\r\n                new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(MAX_RESPONSE_ENTITY_SIZE));\r\nRestClientOptions myOptions = new RestClientOptions(requestOptionsBuilder.build());\r\nElasticsearchAsyncClient esJavaClient = new ElasticsearchAsyncClient(transport, myOptions);\r\n```","title":"org.apache.http.ContentTooLongException: entity content is too long [105539255] for the configured buffer limit [104857600]","body":"<p>To follow up on a <a href=\"https://stackoverflow.com/a/51020999/21574199\">previous</a> answer, this is a method for working with the newer (2022+) Elasticsearch Java client, for all responses. To use the <a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.0/co/elastic/clients/transport/rest_client/RestClientOptions.html\" rel=\"nofollow noreferrer\"><code>RestClientOptions</code></a> class with an individual request, look at the <a href=\"https://artifacts.elastic.co/javadoc/co/elastic/clients/elasticsearch-java/8.7.0/co/elastic/clients/elasticsearch/ElasticsearchAsyncClient.html#withTransportOptions(co.elastic.clients.transport.TransportOptions)\" rel=\"nofollow noreferrer\"><code>withTransportOptions</code></a> method, which will create a new client with the adjusted options that can be used on-demand and garbage collected afterwards.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int MAX_RESPONSE_ENTITY_SIZE = 200 * 1048576; // 200 MB\nRestClientTransport transport = ....;\n\nRequestOptions.Builder requestOptionsBuilder = RequestOptions.DEFAULT.toBuilder();\nrequestOptionsBuilder.setHttpAsyncResponseConsumerFactory(\n                new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(MAX_RESPONSE_ENTITY_SIZE));\nRestClientOptions myOptions = new RestClientOptions(requestOptionsBuilder.build());\nElasticsearchAsyncClient esJavaClient = new ElasticsearchAsyncClient(transport, myOptions);\n</code></pre>\n"}],"owner":{"account_id":12019463,"reputation":1937,"user_id":8793412,"accept_rate":88,"display_name":"Karthikeyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18078,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":51020999,"answer_count":4,"score":9,"last_activity_date":1680706503,"creation_date":1529920340,"question_id":51020646,"body_markdown":"Am trying to fetch the indexed PDF documents from my index (ElasticSearch). I have indexed my pdf documents using ingest-attachment processor plugin. Totally its 2500 documents has been indexed along with PDF attachment.\r\n\r\nNow am fetching those PDF by searching with the contents of the PDF and am gettig the below error.\r\n\r\n\r\n\torg.apache.http.ContentTooLongException: entity content is too long [105539255] for the configured buffer limit [104857600]\r\n\t\tat org.elasticsearch.client.HeapBufferedAsyncResponseConsumer.onEntityEnclosed(HeapBufferedAsyncResponseConsumer.java:76)\r\n\t\tat org.apache.http.nio.protocol.AbstractAsyncResponseConsumer.responseReceived(AbstractAsyncResponseConsumer.java:131)\r\n\t\tat org.apache.http.impl.nio.client.MainClientExec.responseReceived(MainClientExec.java:315)\r\n\t\tat org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseReceived(DefaultClientExchangeHandlerImpl.java:147)\r\n\t\tat org.apache.http.nio.protocol.HttpAsyncRequestExecutor.responseReceived(HttpAsyncRequestExecutor.java:303)\r\n\t\tat org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:255)\r\n\t\tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81)\r\n\t\tat org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39)\r\n\t\tat org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114)\r\n\t\tat org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162)\r\n\t\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337)\r\n\t\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315)\r\n\t\tat org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276)\r\n\t\tat org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\r\n\t\tat org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588)\r\n\t\tat java.lang.Thread.run(Thread.java:748)\r\n\tException in thread &quot;main&quot; java.lang.NullPointerException\r\n\t\tat com.es.utility.DocumentSearch.main(DocumentSearch.java:88)\r\n\t\t\r\n\r\nPlease find my Java API code to fetch documents from ElasticSearch\r\n\r\n\r\n\tprivate final static String ATTACHMENT = &quot;document_attachment&quot;;\r\n\tprivate final static String TYPE = &quot;doc&quot;;\r\n\t\r\n\tpublic static void main(String args[])\r\n\t{\r\n\t\tRestHighLevelClient restHighLevelClient = null;\r\n\t\t\r\n\t\ttry {\r\n\t\t\trestHighLevelClient = new RestHighLevelClient(RestClient.builder(new HttpHost(&quot;localhost&quot;, 9200, &quot;http&quot;),\r\n\t\t\t\t\tnew HttpHost(&quot;localhost&quot;, 9201, &quot;http&quot;)));\r\n\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t\r\n\r\n\t\t\r\n\t\tSearchRequest contentSearchRequest = new SearchRequest(ATTACHMENT); \r\n    \tSearchSourceBuilder contentSearchSourceBuilder = new SearchSourceBuilder();\r\n    \tcontentSearchRequest.types(TYPE);\r\n    \tQueryBuilder attachmentQB = QueryBuilders.matchQuery(&quot;attachment.content&quot;, &quot;activa&quot;);\r\n   \t   \tcontentSearchSourceBuilder.query(attachmentQB);\r\n    \tcontentSearchSourceBuilder.size(50);\r\n    \tcontentSearchRequest.source(contentSearchSourceBuilder);\r\n    \tSearchResponse contentSearchResponse = null;\r\n    \tSystem.out.println(&quot;Request ---&gt;&quot;+contentSearchRequest.toString());\r\n    \ttry {\r\n    \t\tcontentSearchResponse = restHighLevelClient.search(contentSearchRequest);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.getLocalizedMessage();\r\n\t\t}\r\n    \t\r\n    \ttry {\r\n\t\t\tSystem.out.println(&quot;Response ---&gt;&quot;+restHighLevelClient.search(contentSearchRequest)); // am printing the mentioned error from this line.\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n       \tSearchHit[] contentSearchHits = contentSearchResponse.getHits().getHits();\r\n    \tlong contenttotalHits=contentSearchResponse.getHits().totalHits;\r\n    \tSystem.out.println(&quot;condition Total Hits ---&gt;&quot;+contenttotalHits);\r\n\t\t\r\nAm using ElasticSearch version 6.2.3","title":"org.apache.http.ContentTooLongException: entity content is too long [105539255] for the configured buffer limit [104857600]","body":"<p>Am trying to fetch the indexed PDF documents from my index (ElasticSearch). I have indexed my pdf documents using ingest-attachment processor plugin. Totally its 2500 documents has been indexed along with PDF attachment.</p>\n\n<p>Now am fetching those PDF by searching with the contents of the PDF and am gettig the below error.</p>\n\n<pre><code>org.apache.http.ContentTooLongException: entity content is too long [105539255] for the configured buffer limit [104857600]\n    at org.elasticsearch.client.HeapBufferedAsyncResponseConsumer.onEntityEnclosed(HeapBufferedAsyncResponseConsumer.java:76)\n    at org.apache.http.nio.protocol.AbstractAsyncResponseConsumer.responseReceived(AbstractAsyncResponseConsumer.java:131)\n    at org.apache.http.impl.nio.client.MainClientExec.responseReceived(MainClientExec.java:315)\n    at org.apache.http.impl.nio.client.DefaultClientExchangeHandlerImpl.responseReceived(DefaultClientExchangeHandlerImpl.java:147)\n    at org.apache.http.nio.protocol.HttpAsyncRequestExecutor.responseReceived(HttpAsyncRequestExecutor.java:303)\n    at org.apache.http.impl.nio.DefaultNHttpClientConnection.consumeInput(DefaultNHttpClientConnection.java:255)\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:81)\n    at org.apache.http.impl.nio.client.InternalIODispatch.onInputReady(InternalIODispatch.java:39)\n    at org.apache.http.impl.nio.reactor.AbstractIODispatch.inputReady(AbstractIODispatch.java:114)\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.readable(BaseIOReactor.java:162)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:337)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:315)\n    at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:276)\n    at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:104)\n    at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:588)\n    at java.lang.Thread.run(Thread.java:748)\nException in thread \"main\" java.lang.NullPointerException\n    at com.es.utility.DocumentSearch.main(DocumentSearch.java:88)\n</code></pre>\n\n<p>Please find my Java API code to fetch documents from ElasticSearch</p>\n\n<pre><code>private final static String ATTACHMENT = \"document_attachment\";\nprivate final static String TYPE = \"doc\";\n\npublic static void main(String args[])\n{\n    RestHighLevelClient restHighLevelClient = null;\n\n    try {\n        restHighLevelClient = new RestHighLevelClient(RestClient.builder(new HttpHost(\"localhost\", 9200, \"http\"),\n                new HttpHost(\"localhost\", 9201, \"http\")));\n\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n\n\n\n    SearchRequest contentSearchRequest = new SearchRequest(ATTACHMENT); \n    SearchSourceBuilder contentSearchSourceBuilder = new SearchSourceBuilder();\n    contentSearchRequest.types(TYPE);\n    QueryBuilder attachmentQB = QueryBuilders.matchQuery(\"attachment.content\", \"activa\");\n    contentSearchSourceBuilder.query(attachmentQB);\n    contentSearchSourceBuilder.size(50);\n    contentSearchRequest.source(contentSearchSourceBuilder);\n    SearchResponse contentSearchResponse = null;\n    System.out.println(\"Request ---&gt;\"+contentSearchRequest.toString());\n    try {\n        contentSearchResponse = restHighLevelClient.search(contentSearchRequest);\n    } catch (IOException e) {\n        e.getLocalizedMessage();\n    }\n\n    try {\n        System.out.println(\"Response ---&gt;\"+restHighLevelClient.search(contentSearchRequest)); // am printing the mentioned error from this line.\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    SearchHit[] contentSearchHits = contentSearchResponse.getHits().getHits();\n    long contenttotalHits=contentSearchResponse.getHits().totalHits;\n    System.out.println(\"condition Total Hits ---&gt;\"+contenttotalHits);\n</code></pre>\n\n<p>Am using ElasticSearch version 6.2.3</p>\n"},{"tags":["java","algorithm","salesforce","apex","apex-code"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1680707078,"post_id":75940401,"comment_id":133944354,"body_markdown":"Not an answer, just a suggestion: I would write a very small, completely separate piece of code from scratch, which focuses purely on the rules needed to distribute a number (&quot;opportunities&quot;) into different buckets (&quot;users&quot;). Write some tests for that. Then enhance that to deal with your surplus/shortfall scenarios, with tests. Then enhance to add the concept of ownership, etc... I suggest this because as you say, the current code is long and messy - and when I find myself in this situation (and maybe feel desparate), this starting over often helps me. See also [mre].","body":"Not an answer, just a suggestion: I would write a very small, completely separate piece of code from scratch, which focuses purely on the rules needed to distribute a number (&quot;opportunities&quot;) into different buckets (&quot;users&quot;). Write some tests for that. Then enhance that to deal with your surplus/shortfall scenarios, with tests. Then enhance to add the concept of ownership, etc... I suggest this because as you say, the current code is long and messy - and when I find myself in this situation (and maybe feel desparate), this starting over often helps me. See also <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":25383997,"reputation":107,"user_id":19598807,"display_name":"whytili"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680706484,"creation_date":1680703370,"question_id":75940401,"body_markdown":"I am trying to write code to assign opportunities to users while changing the original opportunity owner, but it is not working well. What I want to do is as follows:\r\n\r\n1. I want to assign opportunities to users if the keys of the regionOppMap and regionUserMap match.\r\n\r\n2. If the number of opportunities is less than the number of users, I want to assign all opportunities to the admin2 user.\r\n\r\n3. If the number of opportunities is greater than or equal to the number of users, I want to assign opportunities evenly to all users and assign the remaining opportunities to the admin2 user. For example, if there are 50 opportunities and 16 users, each user is assigned 3 opportunities. The remaining 2 opportunities are assigned to admin2.\r\n\r\n\r\nThe problem I am facing is as follows:\r\n\r\nIn the case where the number of opportunities is greater than or equal to the number of users, all users should be assigned opportunities evenly. However, some users are assigned more opportunities, and as a result, some users do not get any opportunities. For example, when there are 22 opportunities and 17 users, 2 out of 15 users are assigned 2 opportunities, and the remaining 2 users do not get any opportunities.\r\n\r\nThe code I have written is as follows:\r\n\r\nI will show you each part one by one.\r\n\r\nThe following code adds the original opportunity owner to a list.\r\n\r\n\r\n    global void execute(Database.BatchableContext bc, List&lt;Opportunity&gt; scope) {\r\n      \r\n        Map&lt;List&lt;String&gt;,List&lt;Id&gt;&gt; regionUserMap = GetRegionUserMap.getMap(UserSort,tier);\r\n        Id adminUserId = getAdminUserId();\r\n        List&lt;Opportunity&gt; oppsToUpdate = new List&lt;Opportunity&gt;();\r\n     \tList&lt;Opportunity&gt; unoppsToUpdate = new List&lt;Opportunity&gt;();\r\n        \r\n        \r\n    \tMap&lt;Id, Id&gt; originalOppOwners = new Map&lt;Id, Id&gt;();\r\n      \tfor (Set&lt;Id&gt; oppIds : regionOppMap.values()) {\r\n    \t\r\n    \tList&lt;Opportunity&gt; oppList = [SELECT Id, OwnerId FROM Opportunity WHERE Id IN :oppIds];\r\n    \t\tfor (Opportunity opp : oppList) {\r\n        \t\toriginalOppOwners.put(opp.Id, opp.OwnerId);\r\n    \t\t}\r\n\t\t}\r\n\r\n\r\n\r\nThe following code iterates through the opportunities and compares the owner of each opportunity with the users. If the owner of the opportunity and the user do not match, the user is assigned as the new owner of the opportunity, thereby changing the ownership of the opportunity.\r\n\r\n\r\nIn addition, if the number of opportunities is less than the number of users, the opportunities will be assigned to admin2 user.\r\n\r\n    for(List&lt;String&gt; regionKey : regionOppMap.keySet()) {\r\n            if(regionUserMap.containsKey(regionKey)) { \r\n                List&lt;Id&gt; userIds = regionUserMap.get(regionKey);\r\n                Set&lt;Id&gt; oppIds = regionOppMap.get(regionKey);\r\n                \r\n                // Initialize maps to track the number of opportunities per user\r\n                Map&lt;Id, Integer&gt; userOppCount = new Map&lt;Id, Integer&gt;();\r\n                for (Id userId : userIds) {\r\n                    userOppCount.put(userId, 0);\r\n                }\r\n                \r\n\r\n                Map&lt;Id, Id&gt; unassignedOpps = new Map&lt;Id, Id&gt;();\r\n                \r\n                Integer userIndex = 0;\r\n                Integer adminAssignedOpps = 1;\r\n               \r\n                if(userIds != null &amp;&amp; !userIds.isEmpty() ) {\r\n                    for(Id oppId : oppIds) {\r\n                        if (!processedOpportunities.contains(oppId)) {\r\n                        Opportunity opp = new Opportunity();\r\n                        opp.Id = oppId;\r\n                        \r\n    \t\t\t\t\t\tif (oppIds.size() &lt; userIds.size()){  \r\n    \t\t\t\t\t\t\topp.OwnerId = adminUserId;\r\n                           \r\n                        \t}else if(oppIds.size() &gt;= userIds.size()) {  \r\n                            \tInteger resetShare = (Integer)Math.floor(oppIds.size()/userIds.size());\r\n                                Integer totalNum = resetShare * userIds.size();\r\n                            \r\n\t\t\t\t\t\t\t\r\n                                if(adminAssignedOpps &lt;= totalNum){\r\n                                    if(userIndex &gt;= userIds.size()){\r\n                                        userIndex = 0;\r\n                                    }\r\n                                        \r\n                                    \r\n                                    if (userIds.get(userIndex) != originalOppOwners.get(oppId)) {\r\n                                       \r\n                                        opp.OwnerId = userIds.get(userIndex);\r\n                                        //system.debug(&#39;oppOwnerId:::&#39; + userIds.get(userIndex));\r\n                                        userOppCount.put(userIds.get(userIndex), userOppCount.get(userIds.get(userIndex)) + 1);\r\n                                        \r\n                                        adminAssignedOpps++; \r\n                                        userIndex++; \r\n                                       \r\n                                        \r\n    \t\t\t\t\t\t\t\t\t\r\n                                    } else {    \r\n\t\t\t\t\t\t\t\t\t\t\r\n                                        //opp.OwnerId = userIds.get(userIndex);\r\n                                        unassignedOpps.put(oppId, originalOppOwners.get(oppId));\r\n                                        adminAssignedOpps++;\r\n                                    }\r\n                                    \r\n                                    \r\n    \r\n                                }else{\r\n     \r\n                                    opp.OwnerId = adminUserId;\r\n                                \r\n                                }    \r\n                            }\r\n                            \r\n                            for(Id userId : userIds){\r\n                                 if (!userOppCount.containsKey(userId)) {\r\n                \t\t\t\t\tuserOppCount.put(userId, 0);\r\n           \t\t\t\t\t\t }\r\n                            }\r\n\r\n\r\nThe following code assigns unassigned opportunities, which are the ones where the owner is the same as the user. \r\n\r\nIt compares the number of opportunities assigned to each user and assigns opportunities to the user who has been assigned fewer opportunities, in order to make sure that all users have an equal number of assigned opportunities.\r\n\r\n    while (!unassignedOpps.isEmpty()) {\r\n    \t\t\t\t\t\tfor (Id unoppId : unassignedOpps.keySet()) {\r\n                                \r\n        \t\t\t\t\t\tId originalOwnerId = unassignedOpps.get(unoppId);\r\n        \t\t\t\t\t\tInteger targetUserIndex = -1;\r\n                            \r\n                            \tInteger resetShare2 = (Integer)Math.floor(oppIds.size()/userIds.size());\r\n                            \tInteger totalNum2 = resetShare2 * userIds.size();    \r\n\t\t\t\t\t\t\t\tInteger oppPerUser = totalNum2/userIds.size();\r\n   \r\n        \t\t\t\t\t\tfor (Integer i = 0; i &lt; userIds.size(); i++) {\r\n            \t\t\t\t\t\tId currentUserId = userIds.get(i);\r\n                                    \r\n            \t\t\t\t\t\tif (userOppCount.get(currentUserId) &lt; oppPerUser &amp;&amp; currentUserId != originalOwnerId) {\r\n                \t\t\t\t\t\ttargetUserIndex = i;\r\n                \t\t\t\t\t\tbreak;\r\n            \t\t\t\t\t\t}\r\n        \t\t\t\t\t\t}\r\n                                \r\n                              \r\n                                \r\n                                if (targetUserIndex != -1) {\r\n            \t\t\t\t\t\tId targetUserId = userIds.get(targetUserIndex);\r\n            \t\t\t\t\t\tOpportunity unopp = new Opportunity(Id = unoppId, OwnerId = targetUserId);\r\n                                    //userOppCount.put(targetUserId, userOppCount.get(targetUserId) + 1);\r\n            \t\t\t\t\t\tunoppsToUpdate.add(unopp);  \r\n            \t\t\t\t\t\tuserOppCount.put(targetUserId, userOppCount.get(targetUserId) + 1);\r\n            \t\t\t\t\t\tunassignedOpps.remove(unoppId);\r\n        \t\t\t\t\t\t\r\n                                } else {\r\n           \t\t\t\t\t\t\t break;\r\n        \t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n                        \r\n\t\t\t\t\t\t\t\r\n                            opp.StageName = &#39;미컨택&#39;;\r\n                        \toppsToUpdate.add(opp);\r\n                        \tprocessedOpportunities.add(oppId);\r\n      \r\n                       }    \r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n        \t}\r\n       }   \r\n\r\n\r\nFinally, after checking for duplicate Ids, the code updates the opportunity. It also ensures that the owner of the updated opportunity matches the owner of the account that owns the opportunity.\r\n\r\n\r\n    //Duplicate check.\r\n        Set&lt;Opportunity&gt; oppsToUpdateSet = new Set&lt;Opportunity&gt;();\r\n        oppsToUpdateSet.addAll(oppsToUpdate);\r\n        oppsToUpdate.clear();\r\n        oppsToUpdate.addAll(oppsToUpdateSet);\r\n\t\t\r\n       \r\n        \r\n        // Combine the oppsToUpdate and unoppsToUpdate lists without duplicates\r\n\t\tMap&lt;Id, Opportunity&gt; combinedOppsMap = new Map&lt;Id, Opportunity&gt;();\r\n        Map&lt;Id, Opportunity&gt; unAssingedOppMap = new Map&lt;Id, Opportunity&gt;();\r\n\r\n\t\tfor (Opportunity opp : oppsToUpdate) {\r\n    \t\tcombinedOppsMap.put(opp.Id, opp);\r\n\t\t}\r\n                \r\n    \r\n\t\tfor (Opportunity unopp : unoppsToUpdate) {\r\n    \t\tunAssingedOppMap.put(unopp.Id, unopp);\r\n\t\t}\r\n        \r\n        for (Id oppId : combinedOppsMap.keySet()) {\r\n    \t\tif (unAssingedOppMap.containsKey(oppId)) {\r\n        \t\tOpportunity combinedOpp = combinedOppsMap.get(oppId);\r\n        \t\tOpportunity unAssignedOpp = unAssingedOppMap.get(oppId);\r\n        \t\tSystem.debug(&#39;Overlapping Opportunity Id: &#39; + oppId + &#39;, CombinedOppsMap OwnerId: &#39; + combinedOpp.OwnerId + &#39;, UnAssignedOppMap OwnerId: &#39; + unAssignedOpp.OwnerId);\r\n    \t\t}\r\n\t\t}\r\n       \r\n\r\n\t\tList&lt;Opportunity&gt; combinedOppsToUpdate = combinedOppsMap.values();\r\n\t\tDatabase.update(combinedOppsToUpdate, false);\r\n       \r\n\t\t//for (Opportunity com : combinedOppsToUpdate) {\r\n    \t\t//System.debug(&#39;ComOpportunity Id: &#39; + com.Id + &#39;, ComOwnerId: &#39; + com.OwnerId);\r\n\t\t//}\r\n       \r\n\r\n        \r\n        \r\n        Set&lt;Id&gt; exOppIds = new Set&lt;Id&gt;();\r\n        for(Opportunity opp : combinedOppsToUpdate){\r\n            exOppIds.add(opp.id);\r\n        }\r\n        \r\n        \r\n       \tList&lt;Account&gt; accountsToUpdate = new List&lt;Account&gt;();\r\n        List&lt;Opportunity&gt; exOppList = [SELECT Id,AccountId,OwnerId FROM Opportunity WHERE Id IN :exOppIds];\r\n\r\n\t\t// Create a Map to store unique Accounts\r\n    \tMap&lt;Id, Account&gt; accountsToUpdateMap = new Map&lt;Id, Account&gt;();        \r\n\t\t\r\n        for (Opportunity exOpp : exOppList) {\r\n    \t\tif (exOpp.AccountId != null) {\r\n                // Update the Account OwnerId in the Map, if it&#39;s not already there\r\n\t\t\t\tif (!accountsToUpdateMap.containsKey(exOpp.AccountId)) {\r\n                     accountsToUpdateMap.put(exOpp.AccountId, new Account(Id = exOpp.AccountId, OwnerId = exOpp.OwnerId));\r\n    \t\t\t}\r\n\t\t\t}\r\n        }    \r\n\t\t\t\r\n        Set&lt;Account&gt; accToUpdateSet = new Set&lt;Account&gt;();\r\n        accToUpdateSet.addAll(accountsToUpdate);\r\n        accountsToUpdate.clear();\r\n        accountsToUpdate.addAll(accToUpdateSet);\r\n        \r\n\r\n        List&lt;Account&gt; deduplicatedAccountsToUpdate = accountsToUpdateMap.values();  \r\n        Database.update(deduplicatedAccountsToUpdate, false);\r\n\r\n        \r\n \t}\r\n\r\n    global void finish(Database.BatchableContext bc) {\r\n        \r\n\r\n    }\r\n\r\n    private static Id getAdminUserId() {\r\n        User adminUser = [SELECT Id FROM User WHERE Name = &#39;admin2&#39; LIMIT 1];\r\n        if(adminUser != null) {\r\n            return adminUser.Id;\r\n        }\r\n        return null;\r\n        \r\n    }\r\n    }\r\n\r\n\r\nI think that all functions should work properly, \r\nbut I don&#39;t understand why some users are assigned more opportunities while others are assigned less or not assigned at all. \r\n\r\nThe code is long and messy, but I am desperate for help. Thank you.","title":"Assign an opportunity to change the owner","body":"<p>I am trying to write code to assign opportunities to users while changing the original opportunity owner, but it is not working well. What I want to do is as follows:</p>\n<ol>\n<li><p>I want to assign opportunities to users if the keys of the regionOppMap and regionUserMap match.</p>\n</li>\n<li><p>If the number of opportunities is less than the number of users, I want to assign all opportunities to the admin2 user.</p>\n</li>\n<li><p>If the number of opportunities is greater than or equal to the number of users, I want to assign opportunities evenly to all users and assign the remaining opportunities to the admin2 user. For example, if there are 50 opportunities and 16 users, each user is assigned 3 opportunities. The remaining 2 opportunities are assigned to admin2.</p>\n</li>\n</ol>\n<p>The problem I am facing is as follows:</p>\n<p>In the case where the number of opportunities is greater than or equal to the number of users, all users should be assigned opportunities evenly. However, some users are assigned more opportunities, and as a result, some users do not get any opportunities. For example, when there are 22 opportunities and 17 users, 2 out of 15 users are assigned 2 opportunities, and the remaining 2 users do not get any opportunities.</p>\n<p>The code I have written is as follows:</p>\n<p>I will show you each part one by one.</p>\n<p>The following code adds the original opportunity owner to a list.</p>\n<pre><code>global void execute(Database.BatchableContext bc, List&lt;Opportunity&gt; scope) {\n  \n    Map&lt;List&lt;String&gt;,List&lt;Id&gt;&gt; regionUserMap = GetRegionUserMap.getMap(UserSort,tier);\n    Id adminUserId = getAdminUserId();\n    List&lt;Opportunity&gt; oppsToUpdate = new List&lt;Opportunity&gt;();\n    List&lt;Opportunity&gt; unoppsToUpdate = new List&lt;Opportunity&gt;();\n    \n    \n    Map&lt;Id, Id&gt; originalOppOwners = new Map&lt;Id, Id&gt;();\n    for (Set&lt;Id&gt; oppIds : regionOppMap.values()) {\n    \n    List&lt;Opportunity&gt; oppList = [SELECT Id, OwnerId FROM Opportunity WHERE Id IN :oppIds];\n        for (Opportunity opp : oppList) {\n            originalOppOwners.put(opp.Id, opp.OwnerId);\n        }\n    }\n</code></pre>\n<p>The following code iterates through the opportunities and compares the owner of each opportunity with the users. If the owner of the opportunity and the user do not match, the user is assigned as the new owner of the opportunity, thereby changing the ownership of the opportunity.</p>\n<p>In addition, if the number of opportunities is less than the number of users, the opportunities will be assigned to admin2 user.</p>\n<pre><code>for(List&lt;String&gt; regionKey : regionOppMap.keySet()) {\n        if(regionUserMap.containsKey(regionKey)) { \n            List&lt;Id&gt; userIds = regionUserMap.get(regionKey);\n            Set&lt;Id&gt; oppIds = regionOppMap.get(regionKey);\n            \n            // Initialize maps to track the number of opportunities per user\n            Map&lt;Id, Integer&gt; userOppCount = new Map&lt;Id, Integer&gt;();\n            for (Id userId : userIds) {\n                userOppCount.put(userId, 0);\n            }\n            \n\n            Map&lt;Id, Id&gt; unassignedOpps = new Map&lt;Id, Id&gt;();\n            \n            Integer userIndex = 0;\n            Integer adminAssignedOpps = 1;\n           \n            if(userIds != null &amp;&amp; !userIds.isEmpty() ) {\n                for(Id oppId : oppIds) {\n                    if (!processedOpportunities.contains(oppId)) {\n                    Opportunity opp = new Opportunity();\n                    opp.Id = oppId;\n                    \n                        if (oppIds.size() &lt; userIds.size()){  \n                            opp.OwnerId = adminUserId;\n                       \n                        }else if(oppIds.size() &gt;= userIds.size()) {  \n                            Integer resetShare = (Integer)Math.floor(oppIds.size()/userIds.size());\n                            Integer totalNum = resetShare * userIds.size();\n                        \n                        \n                            if(adminAssignedOpps &lt;= totalNum){\n                                if(userIndex &gt;= userIds.size()){\n                                    userIndex = 0;\n                                }\n                                    \n                                \n                                if (userIds.get(userIndex) != originalOppOwners.get(oppId)) {\n                                   \n                                    opp.OwnerId = userIds.get(userIndex);\n                                    //system.debug('oppOwnerId:::' + userIds.get(userIndex));\n                                    userOppCount.put(userIds.get(userIndex), userOppCount.get(userIds.get(userIndex)) + 1);\n                                    \n                                    adminAssignedOpps++; \n                                    userIndex++; \n                                   \n                                    \n                                    \n                                } else {    \n                                    \n                                    //opp.OwnerId = userIds.get(userIndex);\n                                    unassignedOpps.put(oppId, originalOppOwners.get(oppId));\n                                    adminAssignedOpps++;\n                                }\n                                \n                                \n\n                            }else{\n \n                                opp.OwnerId = adminUserId;\n                            \n                            }    \n                        }\n                        \n                        for(Id userId : userIds){\n                             if (!userOppCount.containsKey(userId)) {\n                                userOppCount.put(userId, 0);\n                             }\n                        }\n</code></pre>\n<p>The following code assigns unassigned opportunities, which are the ones where the owner is the same as the user.</p>\n<p>It compares the number of opportunities assigned to each user and assigns opportunities to the user who has been assigned fewer opportunities, in order to make sure that all users have an equal number of assigned opportunities.</p>\n<pre><code>while (!unassignedOpps.isEmpty()) {\n                        for (Id unoppId : unassignedOpps.keySet()) {\n                            \n                            Id originalOwnerId = unassignedOpps.get(unoppId);\n                            Integer targetUserIndex = -1;\n                        \n                            Integer resetShare2 = (Integer)Math.floor(oppIds.size()/userIds.size());\n                            Integer totalNum2 = resetShare2 * userIds.size();    \n                            Integer oppPerUser = totalNum2/userIds.size();\n\n                            for (Integer i = 0; i &lt; userIds.size(); i++) {\n                                Id currentUserId = userIds.get(i);\n                                \n                                if (userOppCount.get(currentUserId) &lt; oppPerUser &amp;&amp; currentUserId != originalOwnerId) {\n                                    targetUserIndex = i;\n                                    break;\n                                }\n                            }\n                            \n                          \n                            \n                            if (targetUserIndex != -1) {\n                                Id targetUserId = userIds.get(targetUserIndex);\n                                Opportunity unopp = new Opportunity(Id = unoppId, OwnerId = targetUserId);\n                                //userOppCount.put(targetUserId, userOppCount.get(targetUserId) + 1);\n                                unoppsToUpdate.add(unopp);  \n                                userOppCount.put(targetUserId, userOppCount.get(targetUserId) + 1);\n                                unassignedOpps.remove(unoppId);\n                            \n                            } else {\n                                 break;\n                            }\n                        }\n                    }\n                    \n                        \n                        opp.StageName = '미컨택';\n                        oppsToUpdate.add(opp);\n                        processedOpportunities.add(oppId);\n  \n                   }    \n                }\n            }\n        }\n   }   \n</code></pre>\n<p>Finally, after checking for duplicate Ids, the code updates the opportunity. It also ensures that the owner of the updated opportunity matches the owner of the account that owns the opportunity.</p>\n<pre><code>//Duplicate check.\n    Set&lt;Opportunity&gt; oppsToUpdateSet = new Set&lt;Opportunity&gt;();\n    oppsToUpdateSet.addAll(oppsToUpdate);\n    oppsToUpdate.clear();\n    oppsToUpdate.addAll(oppsToUpdateSet);\n    \n   \n    \n    // Combine the oppsToUpdate and unoppsToUpdate lists without duplicates\n    Map&lt;Id, Opportunity&gt; combinedOppsMap = new Map&lt;Id, Opportunity&gt;();\n    Map&lt;Id, Opportunity&gt; unAssingedOppMap = new Map&lt;Id, Opportunity&gt;();\n\n    for (Opportunity opp : oppsToUpdate) {\n        combinedOppsMap.put(opp.Id, opp);\n    }\n            \n\n    for (Opportunity unopp : unoppsToUpdate) {\n        unAssingedOppMap.put(unopp.Id, unopp);\n    }\n    \n    for (Id oppId : combinedOppsMap.keySet()) {\n        if (unAssingedOppMap.containsKey(oppId)) {\n            Opportunity combinedOpp = combinedOppsMap.get(oppId);\n            Opportunity unAssignedOpp = unAssingedOppMap.get(oppId);\n            System.debug('Overlapping Opportunity Id: ' + oppId + ', CombinedOppsMap OwnerId: ' + combinedOpp.OwnerId + ', UnAssignedOppMap OwnerId: ' + unAssignedOpp.OwnerId);\n        }\n    }\n   \n\n    List&lt;Opportunity&gt; combinedOppsToUpdate = combinedOppsMap.values();\n    Database.update(combinedOppsToUpdate, false);\n   \n    //for (Opportunity com : combinedOppsToUpdate) {\n        //System.debug('ComOpportunity Id: ' + com.Id + ', ComOwnerId: ' + com.OwnerId);\n    //}\n   \n\n    \n    \n    Set&lt;Id&gt; exOppIds = new Set&lt;Id&gt;();\n    for(Opportunity opp : combinedOppsToUpdate){\n        exOppIds.add(opp.id);\n    }\n    \n    \n    List&lt;Account&gt; accountsToUpdate = new List&lt;Account&gt;();\n    List&lt;Opportunity&gt; exOppList = [SELECT Id,AccountId,OwnerId FROM Opportunity WHERE Id IN :exOppIds];\n\n    // Create a Map to store unique Accounts\n    Map&lt;Id, Account&gt; accountsToUpdateMap = new Map&lt;Id, Account&gt;();        \n    \n    for (Opportunity exOpp : exOppList) {\n        if (exOpp.AccountId != null) {\n            // Update the Account OwnerId in the Map, if it's not already there\n            if (!accountsToUpdateMap.containsKey(exOpp.AccountId)) {\n                 accountsToUpdateMap.put(exOpp.AccountId, new Account(Id = exOpp.AccountId, OwnerId = exOpp.OwnerId));\n            }\n        }\n    }    \n        \n    Set&lt;Account&gt; accToUpdateSet = new Set&lt;Account&gt;();\n    accToUpdateSet.addAll(accountsToUpdate);\n    accountsToUpdate.clear();\n    accountsToUpdate.addAll(accToUpdateSet);\n    \n\n    List&lt;Account&gt; deduplicatedAccountsToUpdate = accountsToUpdateMap.values();  \n    Database.update(deduplicatedAccountsToUpdate, false);\n\n    \n}\n\nglobal void finish(Database.BatchableContext bc) {\n    \n\n}\n\nprivate static Id getAdminUserId() {\n    User adminUser = [SELECT Id FROM User WHERE Name = 'admin2' LIMIT 1];\n    if(adminUser != null) {\n        return adminUser.Id;\n    }\n    return null;\n    \n}\n}\n</code></pre>\n<p>I think that all functions should work properly,\nbut I don't understand why some users are assigned more opportunities while others are assigned less or not assigned at all.</p>\n<p>The code is long and messy, but I am desperate for help. Thank you.</p>\n"},{"tags":["java","ms-access-2007","jdbc-odbc"],"answers":[{"comments":[{"owner":{"account_id":2351699,"reputation":163,"user_id":2060340,"display_name":"Sunil"},"score":0,"creation_date":1407649848,"post_id":25222122,"comment_id":39292678,"body_markdown":"How to replace special character \\ by \\\\. I am creating System DSN under &#39;ODBC Data Source Administrator&#39; window.","body":"How to replace special character \\ by \\\\. I am creating System DSN under &#39;ODBC Data Source Administrator&#39; window."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1407688539,"post_id":25222122,"comment_id":39301979,"body_markdown":"You aren&#39;t going to get a Java exception from the Microsoft control panel. Please clarify your question, and specify your java version.","body":"You aren&#39;t going to get a Java exception from the Microsoft control panel. Please clarify your question, and specify your java version."},{"owner":{"account_id":2351699,"reputation":163,"user_id":2060340,"display_name":"Sunil"},"score":1,"creation_date":1407737843,"post_id":25222122,"comment_id":39314372,"body_markdown":"I have created a simple java program for accessing *.accdb database. When this database is on same machine there is no error. But when the database in remote system it throw **&#39;[Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is not a valid path&#39;** exception. For accessing remote database I have created a mapped drive for *.accdb file. Then I created dsn for this mapped file. Please see the image I have attached with this question.","body":"I have created a simple java program for accessing *.accdb database. When this database is on same machine there is no error. But when the database in remote system it throw <b>&#39;[Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is not a valid path&#39;</b> exception. For accessing remote database I have created a mapped drive for *.accdb file. Then I created dsn for this mapped file. Please see the image I have attached with this question."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1407611819,"creation_date":1407611819,"answer_id":25222122,"question_id":25222061,"body_markdown":"Use a valid PATH, the problem with this\r\n\r\n    Y:\\\\192.168.2.5\\data\\db.accdb\r\n\r\nIs that `\\` is a special character. You need,\r\n\r\n    Y:\\\\192.168.2.5\\\\data\\\\db.accdb\r\n\r\nor\r\n\r\n    Y:/192.168.2.5/data/db.accdb","title":"[Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is not a valid path","body":"<p>Use a valid PATH, the problem with this</p>\n\n<pre><code>Y:\\\\192.168.2.5\\data\\db.accdb\n</code></pre>\n\n<p>Is that <code>\\</code> is a special character. You need,</p>\n\n<pre><code>Y:\\\\192.168.2.5\\\\data\\\\db.accdb\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Y:/192.168.2.5/data/db.accdb\n</code></pre>\n"},{"tags":[],"owner":{"account_id":422761,"reputation":1668,"user_id":801726,"display_name":"ggenglish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445969250,"creation_date":1445969250,"answer_id":33375438,"question_id":25222061,"body_markdown":"To summarize I bet this was a permission problem.  \r\n\r\nWas having the exact same error message and was baffled because it was working earlier.  It was because I was changing versions of Tomcat on my end and it was running without permission to access my db resource.","title":"[Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is not a valid path","body":"<p>To summarize I bet this was a permission problem.  </p>\n\n<p>Was having the exact same error message and was baffled because it was working earlier.  It was because I was changing versions of Tomcat on my end and it was running without permission to access my db resource.</p>\n"},{"tags":[],"owner":{"account_id":10620057,"reputation":11,"user_id":7821455,"display_name":"Chas Callaway"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491404245,"creation_date":1491404245,"answer_id":43234817,"question_id":25222061,"body_markdown":"I have discovered, it seems, that a mapped network drive is not available to IIS as it runs as a service.  In addition, I have been unable to create a DSN entry with a UNC path.  So, I created the DSN with a local database, then changed the path in Regedit.  What a pain.  Be sure to provide proper credentials (UID and PWD).\r\n","title":"[Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is not a valid path","body":"<p>I have discovered, it seems, that a mapped network drive is not available to IIS as it runs as a service.  In addition, I have been unable to create a DSN entry with a UNC path.  So, I created the DSN with a local database, then changed the path in Regedit.  What a pain.  Be sure to provide proper credentials (UID and PWD).</p>\n"},{"tags":[],"owner":{"account_id":10722477,"reputation":17,"user_id":8824805,"display_name":"dhuvvamundha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514356710,"creation_date":1514356710,"answer_id":47987520,"question_id":25222061,"body_markdown":"so I had a similar, if not the same, issue.\r\n\r\nhad installed wamp. \r\nwas using php to access a mdb file on the network. and I got the msg saying path not found.\r\n\r\nso what I did was, created a normal dsn configuration and then how it looked like was something like this:\r\nY:\\mydata.mdb\r\n\r\nI searched for &quot;y:\\mydata.mdb&quot; on regedit and found it.\r\nchanged it to full path for example like &quot;\\\\serverip\\serverfolder\\mydata.mdb&quot;\r\n\r\nThis was done on administrative user.\r\n\r\nI refreshed the web page and it worked.\r\nHope this helps somebody. \r\n\r\np.s.\r\nwritten on a rush. sorry if I wasn&#39;t clear.\r\n","title":"[Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is not a valid path","body":"<p>so I had a similar, if not the same, issue.</p>\n\n<p>had installed wamp. \nwas using php to access a mdb file on the network. and I got the msg saying path not found.</p>\n\n<p>so what I did was, created a normal dsn configuration and then how it looked like was something like this:\nY:\\mydata.mdb</p>\n\n<p>I searched for \"y:\\mydata.mdb\" on regedit and found it.\nchanged it to full path for example like \"\\serverip\\serverfolder\\mydata.mdb\"</p>\n\n<p>This was done on administrative user.</p>\n\n<p>I refreshed the web page and it worked.\nHope this helps somebody. </p>\n\n<p>p.s.\nwritten on a rush. sorry if I wasn't clear.</p>\n"},{"tags":[],"owner":{"account_id":3003350,"reputation":327,"user_id":2548379,"display_name":"Todd Harvey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561995924,"creation_date":1561992716,"answer_id":56837822,"question_id":25222061,"body_markdown":"I just fixed this connection string by spelling out the fully qualified dns name, instead of using the mapped drive name `&quot;H:&quot;:`\r\n\r\nBAD\r\n\r\n    sCN_ODBC = @&quot;Driver={Microsoft Access Driver (*.mdb)}; Dbq=H:\\vol01\\IIT\\Apps\\Applications\\MFG\\User.mdb;Trusted_Connection=yes&quot;;\r\n\r\nGOOD\r\n\r\n    sCN_ODBC = @&quot;Driver={Microsoft Access Driver (*.mdb)}; Dbq=\\\\tstorage.iit.edu\\depts$\\vol01\\IIT\\Apps\\Applications\\MFG\\User.mdb;Trusted_Connection=yes&quot;;\r\n\r\n\r\nI&#39;m using C# dotnet , other posts on this thread are java and php\r\n","title":"[Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is not a valid path","body":"<p>I just fixed this connection string by spelling out the fully qualified dns name, instead of using the mapped drive name <code>\"H:\":</code></p>\n\n<p>BAD</p>\n\n<pre><code>sCN_ODBC = @\"Driver={Microsoft Access Driver (*.mdb)}; Dbq=H:\\vol01\\IIT\\Apps\\Applications\\MFG\\User.mdb;Trusted_Connection=yes\";\n</code></pre>\n\n<p>GOOD</p>\n\n<pre><code>sCN_ODBC = @\"Driver={Microsoft Access Driver (*.mdb)}; Dbq=\\\\tstorage.iit.edu\\depts$\\vol01\\IIT\\Apps\\Applications\\MFG\\User.mdb;Trusted_Connection=yes\";\n</code></pre>\n\n<p>I'm using C# dotnet , other posts on this thread are java and php</p>\n"}],"owner":{"account_id":2351699,"reputation":163,"user_id":2060340,"display_name":"Sunil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14505,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1680706333,"creation_date":1407611364,"question_id":25222061,"body_markdown":"I have created DSN for Mapped drive like this:-\r\n         \r\n     Y:\\\\192.168.2.5\\data\\db.accdb\r\n\r\nNow i am accessing this database from java application using sun jdbc odbc drivers. Application is running on Window 2008 64-bit system and database is running on Window Server 2012 64-bit system.\r\n\r\nWhen I ran this application with Java 64-bit it throw error of architecture mismatch.\r\n\r\nThen i install java of 32-bit and the above problem is resolved. But getting another problem as\r\n\r\n      java.sql.SQLException: [Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is\r\n      not a valid path. Make sure that the path name is spelled correctly and that yo\r\n      u are connected to the server on which the file resides. \r\n\r\nHow to resolve this problem?\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/2qb2N.png\r\n\r\nSee the database path witch is not valid for my program. This path is mapped with **Y:\\\\192.168.2.5\\shared** drive.","title":"[Microsoft][ODBC Microsoft Access Driver] &#39;(unknown)&#39; is not a valid path","body":"<p>I have created DSN for Mapped drive like this:-</p>\n\n<pre><code> Y:\\\\192.168.2.5\\data\\db.accdb\n</code></pre>\n\n<p>Now i am accessing this database from java application using sun jdbc odbc drivers. Application is running on Window 2008 64-bit system and database is running on Window Server 2012 64-bit system.</p>\n\n<p>When I ran this application with Java 64-bit it throw error of architecture mismatch.</p>\n\n<p>Then i install java of 32-bit and the above problem is resolved. But getting another problem as</p>\n\n<pre><code>  java.sql.SQLException: [Microsoft][ODBC Microsoft Access Driver] '(unknown)' is\n  not a valid path. Make sure that the path name is spelled correctly and that yo\n  u are connected to the server on which the file resides. \n</code></pre>\n\n<p>How to resolve this problem?</p>\n\n<p><img src=\"https://i.stack.imgur.com/2qb2N.png\" alt=\"enter image description here\"></p>\n\n<p>See the database path witch is not valid for my program. This path is mapped with <strong>Y:\\192.168.2.5\\shared</strong> drive.</p>\n"},{"tags":["java","quarkus","openapi-generator","graalvm"],"owner":{"account_id":14046066,"reputation":117,"user_id":10146295,"display_name":"Saddex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680706225,"creation_date":1680706225,"question_id":75940914,"body_markdown":"I have a Quarkus application which has three modules: *api*, *app* and *ext*. *api* is a module that contains an Openapi file which specifies the API for the application itself and which Openapi-generator uses to generate interfaces which are implemented within *app*. *ext* on the other hand contains Openapi contracts for external APIs which my service connects to, and generates interfaces that are injected as REST clients in *app*. The generated interfaces are only annotated with `@Generated` and `@Path(&lt;PATH&gt;)` but are still injectable as Quarkus REST clients and this works without issues in a jar build. However, with a native build, the issues seems to be that the request body never is properly attached. I&#39;ve tried debugging it using these logs (in the app module):\r\n\r\n```\r\nvar request = orc.acme.ext.modell.&lt;EXTERNALAPI&gt;.Input.builder()\r\n                .dto(List.of(DTO.builder().id(id).category(1L).build())).build();\r\nlog.debug(((Integer) request.getDTO().size()).toString());\r\nlog.debug(request.getDTO().get(0).toString());\r\n```\r\n\r\nThis has verified that the request body POJO that is built using a generated DTO class is working correctly, which makes sense because if it weren&#39;t included somehow, it would likely give a compile error.\r\n\r\nLater, the request object is used this way\r\n\r\n```\r\nvar response = &lt;EXTERNALAPI&gt;.fetch(&quot;&quot;, &quot;88880001&quot;, &quot;&quot;, 0, request);\r\n```\r\n\r\nI can see in the container logs that the hardcoded `8880001` is correctly included as a header, but the request payload only seems to appear as an empty object `{}`.\r\n\r\nI have tried a few things, for example one of the things that were suggested in [this post][1] in application.properties:\r\n\r\n```\r\nquarkus.native.enable-http-url-handler=true\r\nquarkus.native.enable-https-url-handler=true\r\n```\r\n\r\nI have also verified that the proxy which is supposed to pass the requests from this service works correctly, and we don&#39;t use custom application.properties files. What could possibly be wrong? Thanks in advance.\r\n\r\n  [1]: https://stackoverflow.com/questions/60787675/quarkus-rest-client-cant-be-used-with-applicationscoped-beans-for-native-image","title":"REST-Client generated with Openapi not working correctly with native builds using GraalVM","body":"<p>I have a Quarkus application which has three modules: <em>api</em>, <em>app</em> and <em>ext</em>. <em>api</em> is a module that contains an Openapi file which specifies the API for the application itself and which Openapi-generator uses to generate interfaces which are implemented within <em>app</em>. <em>ext</em> on the other hand contains Openapi contracts for external APIs which my service connects to, and generates interfaces that are injected as REST clients in <em>app</em>. The generated interfaces are only annotated with <code>@Generated</code> and <code>@Path(&lt;PATH&gt;)</code> but are still injectable as Quarkus REST clients and this works without issues in a jar build. However, with a native build, the issues seems to be that the request body never is properly attached. I've tried debugging it using these logs (in the app module):</p>\n<pre><code>var request = orc.acme.ext.modell.&lt;EXTERNALAPI&gt;.Input.builder()\n                .dto(List.of(DTO.builder().id(id).category(1L).build())).build();\nlog.debug(((Integer) request.getDTO().size()).toString());\nlog.debug(request.getDTO().get(0).toString());\n</code></pre>\n<p>This has verified that the request body POJO that is built using a generated DTO class is working correctly, which makes sense because if it weren't included somehow, it would likely give a compile error.</p>\n<p>Later, the request object is used this way</p>\n<pre><code>var response = &lt;EXTERNALAPI&gt;.fetch(&quot;&quot;, &quot;88880001&quot;, &quot;&quot;, 0, request);\n</code></pre>\n<p>I can see in the container logs that the hardcoded <code>8880001</code> is correctly included as a header, but the request payload only seems to appear as an empty object <code>{}</code>.</p>\n<p>I have tried a few things, for example one of the things that were suggested in <a href=\"https://stackoverflow.com/questions/60787675/quarkus-rest-client-cant-be-used-with-applicationscoped-beans-for-native-image\">this post</a> in application.properties:</p>\n<pre><code>quarkus.native.enable-http-url-handler=true\nquarkus.native.enable-https-url-handler=true\n</code></pre>\n<p>I have also verified that the proxy which is supposed to pass the requests from this service works correctly, and we don't use custom application.properties files. What could possibly be wrong? Thanks in advance.</p>\n"},{"tags":["java","gradle","openapi","openapi-generator"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1680693302,"post_id":75938614,"comment_id":133940289,"body_markdown":"your classes names are very error prone. You would better rename them","body":"your classes names are very error prone. You would better rename them"},{"owner":{"account_id":8647374,"reputation":3,"user_id":6474205,"display_name":"kevin"},"score":0,"creation_date":1680703449,"post_id":75938614,"comment_id":133943258,"body_markdown":"I know, I would like to but it&#39;s not my API. I just have to use it somehow","body":"I know, I would like to but it&#39;s not my API. I just have to use it somehow"}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680705422,"creation_date":1680705422,"answer_id":75940772,"question_id":75938614,"body_markdown":"# Don&#39;t Do This\r\n\r\n### Changing property case\r\nYour `ExtendedBasicdata` class contains an arrayList of `Extendedbasicdata` called `ExtendedBasicData`.  It sounds like you are hoping for something like this.\r\n```java\r\npublic class ExtendedBasicdata {\r\n\r\n  private List&lt;Extendedbasicdata&gt; ExtendedBasicData;\r\n\r\n}\r\n```\r\n\r\nAs the title of this section says, &quot;Don&#39;t do this&quot;.  This is horrible design, and as another commenter said, it is also very error prone.  I&#39;m also going to assume that you made these names for the purpose of the question and that they aren&#39;t actually the names used, just the same basic concept.\r\n\r\nSecond, property names should be named in camelCase.  This is just a standard naming convention.  However, the generator also knows this and converts the field names to camelCase for you.\r\n\r\nFinally, to actually answer your question, you can definitely affect the way the names are generated via the [mustache templates][1].  Specifically, you can identify the classes and methods you want and apply a [lambda][2] to them to change their case.\r\n\r\n### Overriding Objects\r\nAs for the issue with `Objects`, you can also modify all of the templates to use the fully qualified path name of Objects and delete the import.\r\n\r\nFor example, in the `model.mustache`, you can delete the line [`import java.util.Objects;`][3]  And in `pojo.mustache`, modify [`line311`](https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/Java/pojo.mustache#L311) to use the fully qualified name.   So, it would look like this.\r\n```\r\nreturn a == b || (a != null &amp;&amp; b != null &amp;&amp; a.isPresent() &amp;&amp; b.isPresent() &amp;&amp; java.util.Objects.deepEquals(a.get(), b.get()));\r\n```\r\n\r\nYou would have to delete every single import statement in every mustache template, and fully spell out the path at every implementation of Object throughout the code.  This is a lot of work that could easily be fixed by renaming your property.\r\n\r\n# A Much Better Option\r\n\r\nI want to reiterate that I don&#39;t recommend doing any of this.  I understand that you are using a 3rd party api, but if that is true, and this is just a small example of their api, I can only imagine what other problems exist in it.  \r\n\r\nOne option is to use your own api definition, and reference the other definition when it is needed.  For example,\r\n\r\n```yaml\r\nRenamedFromExtendedBasicData:\r\n  type: object\r\n  properties:\r\n    anotherNewName:\r\n      type: array\r\n      items:\r\n        $ref: &#39;./bad3rdpartyspecification.yaml#/definitions/Extendedbasicdata`\r\n```\r\n\r\nThis allows you to use good naming conventions while still relying on the other specification for the objects that matter.\r\n\r\n  [1]: https://openapi-generator.tech/docs/templating\r\n  [2]: https://openapi-generator.tech/docs/templating#mustache-lambdas\r\n  [3]: https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/Java/model.mustache#L9","title":"OpenAPI Java generator Casesensitve definitions name and reserved words","body":"<h1>Don't Do This</h1>\n<h3>Changing property case</h3>\n<p>Your <code>ExtendedBasicdata</code> class contains an arrayList of <code>Extendedbasicdata</code> called <code>ExtendedBasicData</code>.  It sounds like you are hoping for something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ExtendedBasicdata {\n\n  private List&lt;Extendedbasicdata&gt; ExtendedBasicData;\n\n}\n</code></pre>\n<p>As the title of this section says, &quot;Don't do this&quot;.  This is horrible design, and as another commenter said, it is also very error prone.  I'm also going to assume that you made these names for the purpose of the question and that they aren't actually the names used, just the same basic concept.</p>\n<p>Second, property names should be named in camelCase.  This is just a standard naming convention.  However, the generator also knows this and converts the field names to camelCase for you.</p>\n<p>Finally, to actually answer your question, you can definitely affect the way the names are generated via the <a href=\"https://openapi-generator.tech/docs/templating\" rel=\"nofollow noreferrer\">mustache templates</a>.  Specifically, you can identify the classes and methods you want and apply a <a href=\"https://openapi-generator.tech/docs/templating#mustache-lambdas\" rel=\"nofollow noreferrer\">lambda</a> to them to change their case.</p>\n<h3>Overriding Objects</h3>\n<p>As for the issue with <code>Objects</code>, you can also modify all of the templates to use the fully qualified path name of Objects and delete the import.</p>\n<p>For example, in the <code>model.mustache</code>, you can delete the line <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/Java/model.mustache#L9\" rel=\"nofollow noreferrer\"><code>import java.util.Objects;</code></a>  And in <code>pojo.mustache</code>, modify <a href=\"https://github.com/OpenAPITools/openapi-generator/blob/master/modules/openapi-generator/src/main/resources/Java/pojo.mustache#L311\" rel=\"nofollow noreferrer\"><code>line311</code></a> to use the fully qualified name.   So, it would look like this.</p>\n<pre><code>return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.isPresent() &amp;&amp; b.isPresent() &amp;&amp; java.util.Objects.deepEquals(a.get(), b.get()));\n</code></pre>\n<p>You would have to delete every single import statement in every mustache template, and fully spell out the path at every implementation of Object throughout the code.  This is a lot of work that could easily be fixed by renaming your property.</p>\n<h1>A Much Better Option</h1>\n<p>I want to reiterate that I don't recommend doing any of this.  I understand that you are using a 3rd party api, but if that is true, and this is just a small example of their api, I can only imagine what other problems exist in it.</p>\n<p>One option is to use your own api definition, and reference the other definition when it is needed.  For example,</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>RenamedFromExtendedBasicData:\n  type: object\n  properties:\n    anotherNewName:\n      type: array\n      items:\n        $ref: './bad3rdpartyspecification.yaml#/definitions/Extendedbasicdata`\n</code></pre>\n<p>This allows you to use good naming conventions while still relying on the other specification for the objects that matter.</p>\n"}],"owner":{"account_id":8647374,"reputation":3,"user_id":6474205,"display_name":"kevin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75940772,"answer_count":1,"score":0,"last_activity_date":1680705422,"creation_date":1680692499,"question_id":75938614,"body_markdown":"I&#39;m having problems with the OpenAPI java generator when having a definition which is containing a schema like (unfortunatly I get this definition from 3rd party)\r\n\r\n\r\n```\r\n&quot;ExtendedBasicdata&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;ExtendedBasicData&quot;: {\r\n          &quot;type&quot;: &quot;array&quot;,\r\n          &quot;items&quot;: {\r\n            &quot;$ref&quot;: &quot;#/definitions/Extendedbasicdata&quot;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    &quot;Extendedbasicdata&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;ID&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        &quot;Country&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        }\r\n      }\r\n    },\r\n   &quot;objects&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;id&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        &quot;label&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        },\r\n        &quot;entityId&quot;: {\r\n          &quot;type&quot;: &quot;string&quot;\r\n        }\r\n      }\r\n    },\r\n```\r\n\r\n\r\n\r\n\r\n\r\nThe first problem is that the 2 objects ExtendedBasicdata and Extendedbasicdata have the only difference in  the case. The generator only creates a java file with name Extendedbasicdata but with classname ExtendedBasicdata which results in error `Class &#39;Extendedbasicdata&#39; is public, should be declared in a file named &#39;Extendedbasicdata.java&#39;`. Is there any possibility to make the generator case sensitive?\r\n\r\nThe second problem is that generator is importing java.util.Objects; by default and therefor a class Objects cannot exist. Is there a way to override the name during generation?","title":"OpenAPI Java generator Casesensitve definitions name and reserved words","body":"<p>I'm having problems with the OpenAPI java generator when having a definition which is containing a schema like (unfortunatly I get this definition from 3rd party)</p>\n<pre><code>&quot;ExtendedBasicdata&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {\n        &quot;ExtendedBasicData&quot;: {\n          &quot;type&quot;: &quot;array&quot;,\n          &quot;items&quot;: {\n            &quot;$ref&quot;: &quot;#/definitions/Extendedbasicdata&quot;\n          }\n        }\n      }\n    },\n    &quot;Extendedbasicdata&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {\n        &quot;ID&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;Country&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        }\n      }\n    },\n   &quot;objects&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;properties&quot;: {\n        &quot;id&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;label&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;entityId&quot;: {\n          &quot;type&quot;: &quot;string&quot;\n        }\n      }\n    },\n</code></pre>\n<p>The first problem is that the 2 objects ExtendedBasicdata and Extendedbasicdata have the only difference in  the case. The generator only creates a java file with name Extendedbasicdata but with classname ExtendedBasicdata which results in error <code>Class 'Extendedbasicdata' is public, should be declared in a file named 'Extendedbasicdata.java'</code>. Is there any possibility to make the generator case sensitive?</p>\n<p>The second problem is that generator is importing java.util.Objects; by default and therefor a class Objects cannot exist. Is there a way to override the name during generation?</p>\n"},{"tags":["java","warnings","slf4j"],"answers":[{"comments":[{"owner":{"account_id":363226,"reputation":5180,"user_id":706838,"accept_rate":42,"display_name":"user706838"},"score":0,"creation_date":1361203014,"post_id":14837640,"comment_id":20967436,"body_markdown":"No, I am not trying to run a unit test for this application; I am just trying to run the application itself. At the end, I will probably ignore it, may I ask you about further ideas on how to get rid of it, preferably without touching the other jar file at all?","body":"No, I am not trying to run a unit test for this application; I am just trying to run the application itself. At the end, I will probably ignore it, may I ask you about further ideas on how to get rid of it, preferably without touching the other jar file at all?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1361228756,"post_id":14837640,"comment_id":20979194,"body_markdown":"This is clearly a runtime classpath issue.  You need to make sure that the IntelliJIDEA is not putting both JARs on the classpath when launching your application.  I&#39;d start by looking at the POM file and the dependencies that it specifies.","body":"This is clearly a runtime classpath issue.  You need to make sure that the IntelliJIDEA is not putting both JARs on the classpath when launching your application.  I&#39;d start by looking at the POM file and the dependencies that it specifies."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1360688036,"creation_date":1360688036,"answer_id":14837640,"question_id":14837429,"body_markdown":"It is presumably happening because IntelliJIDEA is adding one of those slf4j binding JARs itself.  My guess is happening when you run unit tests.  So one approach would see if you can exclude the other JAR in the launcher configs for the the Unit test runner.\r\n\r\nBut at the end of the day, this warning is harmless, and you could simply ignore it.","title":"How to get rid of the &quot;Class path contains multiple SLF4J bindings&quot; warning?","body":"<p>It is presumably happening because IntelliJIDEA is adding one of those slf4j binding JARs itself.  My guess is happening when you run unit tests.  So one approach would see if you can exclude the other JAR in the launcher configs for the the Unit test runner.</p>\n\n<p>But at the end of the day, this warning is harmless, and you could simply ignore it.</p>\n"},{"tags":[],"owner":{"account_id":202922,"reputation":611,"user_id":450271,"display_name":"Snapman"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1407260646,"creation_date":1407260646,"answer_id":25145133,"question_id":14837429,"body_markdown":"SLF4J expects only one version of StaticLoggerBinder to be present in any application runtime.  If there is more than one, SLF4J cannot guarantee that log messages will be routed to the appropriate logger.\r\n\r\nThe architecture of SLF4J requires that only one library be used to route log messages (e.g. `slf4j-&lt;logging framework&gt;.jar`).  When multiple classpath&#39;s are in play via application servers, IDE&#39;s, startup scripts, etc., SLF4J libraries can get included multiple times.  You may have to hunt and peck to find where classpath&#39;s are either being added or modified in IntelliJIDEA (such as in the configured Java compilers or in any startup configurations).","title":"How to get rid of the &quot;Class path contains multiple SLF4J bindings&quot; warning?","body":"<p>SLF4J expects only one version of StaticLoggerBinder to be present in any application runtime.  If there is more than one, SLF4J cannot guarantee that log messages will be routed to the appropriate logger.</p>\n\n<p>The architecture of SLF4J requires that only one library be used to route log messages (e.g. <code>slf4j-&lt;logging framework&gt;.jar</code>).  When multiple classpath's are in play via application servers, IDE's, startup scripts, etc., SLF4J libraries can get included multiple times.  You may have to hunt and peck to find where classpath's are either being added or modified in IntelliJIDEA (such as in the configured Java compilers or in any startup configurations).</p>\n"},{"comments":[{"owner":{"account_id":19970,"reputation":13080,"user_id":47278,"accept_rate":80,"display_name":"Matt McCormick"},"score":0,"creation_date":1530549257,"post_id":41761421,"comment_id":89264849,"body_markdown":"Thanks.  I got this error after upgrading IntelliJ and this fixed it.","body":"Thanks.  I got this error after upgrading IntelliJ and this fixed it."}],"tags":[],"owner":{"account_id":37565,"reputation":77454,"user_id":107409,"accept_rate":83,"display_name":"Contango"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1484908254,"creation_date":1484908254,"answer_id":41761421,"question_id":14837429,"body_markdown":"In my particular case, I got this error in `IntelliJ IDEA`, and refreshing Gradle fixed this error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can find this window from `View..Tool Windows..Gradle`.\r\n\r\nOur setup is:\r\n\r\n- IntelliJ IDEA v15\r\n- Gradle\r\n- Jenkins\r\n- SVN\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yDMHs.png","title":"How to get rid of the &quot;Class path contains multiple SLF4J bindings&quot; warning?","body":"<p>In my particular case, I got this error in <code>IntelliJ IDEA</code>, and refreshing Gradle fixed this error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yDMHs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yDMHs.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can find this window from <code>View..Tool Windows..Gradle</code>.</p>\n\n<p>Our setup is:</p>\n\n<ul>\n<li>IntelliJ IDEA v15</li>\n<li>Gradle</li>\n<li>Jenkins</li>\n<li>SVN</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15429207,"reputation":52,"user_id":11131109,"display_name":"Mad Calm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680705381,"creation_date":1580144263,"answer_id":59935630,"question_id":14837429,"body_markdown":"In the project&#39;s pom.xml file, set the needed logging backend by default in the list of found dependencies by adding to your project as a direct dependency on it, for example :\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupid&gt;ch.qos.logback&lt;/groupid&gt;\r\n    &lt;artifactid&gt;logback-classic&lt;/artifactid&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to get rid of the &quot;Class path contains multiple SLF4J bindings&quot; warning?","body":"<p>In the project's pom.xml file, set the needed logging backend by default in the list of found dependencies by adding to your project as a direct dependency on it, for example :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupid&gt;ch.qos.logback&lt;/groupid&gt;\n    &lt;artifactid&gt;logback-classic&lt;/artifactid&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":363226,"reputation":5180,"user_id":706838,"accept_rate":42,"display_name":"user706838"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20681,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":25145133,"answer_count":4,"score":5,"last_activity_date":1680705381,"creation_date":1360687357,"question_id":14837429,"body_markdown":"This is more-or-less a &quot;common&quot; question, however, I haven&#39;t managed to find a good answer yet. So, again, here is the warning:\r\n\r\n    SLF4J: Class path contains multiple SLF4J bindings.\r\n    SLF4J: Found binding in [jar:file:/home/eualin/.m2/repository/org/slf4j/slf4j-jcl/1.6.0/slf4j-jcl-1.6.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: Found binding in [jar:file:/home/eualin/.m2/repository/org/slf4j/slf4j-log4j12/1.5.11/slf4j-log4j12-1.5.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\n    SLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\n\r\nAnd here are two potential solutions to the problem [\\[1\\]][1][\\[2\\]][2].\r\n\r\nAssuming that they will both work for me, obviously, they are just hacks, and I am not sure if I should rely on any of them at all. What would you recommend me? Keep in mind that the warning does not appear when in terminal; only when I run the application through IntelliJIDEA.\r\n\r\nAny suggestion is highly appreciated.\r\n\r\n  [1]: https://issues.apache.org/jira/browse/BIGTOP-583\r\n  [2]: https://stackoverflow.com/questions/14024756/slf4j-class-path-contains-multiple-slf4j-bindings","title":"How to get rid of the &quot;Class path contains multiple SLF4J bindings&quot; warning?","body":"<p>This is more-or-less a \"common\" question, however, I haven't managed to find a good answer yet. So, again, here is the warning:</p>\n\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/home/eualin/.m2/repository/org/slf4j/slf4j-jcl/1.6.0/slf4j-jcl-1.6.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/home/eualin/.m2/repository/org/slf4j/slf4j-log4j12/1.5.11/slf4j-log4j12-1.5.11.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\n</code></pre>\n\n<p>And here are two potential solutions to the problem <a href=\"https://issues.apache.org/jira/browse/BIGTOP-583\" rel=\"noreferrer\">[1]</a><a href=\"https://stackoverflow.com/questions/14024756/slf4j-class-path-contains-multiple-slf4j-bindings\">[2]</a>.</p>\n\n<p>Assuming that they will both work for me, obviously, they are just hacks, and I am not sure if I should rely on any of them at all. What would you recommend me? Keep in mind that the warning does not appear when in terminal; only when I run the application through IntelliJIDEA.</p>\n\n<p>Any suggestion is highly appreciated.</p>\n"},{"tags":["java","filter","url-rewriting","request","struts2"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1680547350,"post_id":75920856,"comment_id":133913874,"body_markdown":"Can you show me a web.xml?","body":"Can you show me a web.xml?"},{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":0,"creation_date":1680585484,"post_id":75920856,"comment_id":133918734,"body_markdown":"Dear @RomanC I have add it in the question","body":"Dear @RomanC I have add it in the question"}],"answers":[{"comments":[{"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"score":1,"creation_date":1680677492,"post_id":75927718,"comment_id":133936641,"body_markdown":"It worked, as i am adding struts filter dynamically I used this code `filter.addMappingForUrlPatterns(  EnumSet.of( DispatcherType.FORWARD, DispatcherType.REQUEST), false, &quot;/*&quot;);`","body":"It worked, as i am adding struts filter dynamically I used this code <code>filter.addMappingForUrlPatterns(  EnumSet.of( DispatcherType.FORWARD, DispatcherType.REQUEST), false, &quot;&#47;*&quot;);</code>"}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680600426,"creation_date":1680600426,"answer_id":75927718,"question_id":75920856,"body_markdown":"The urlrewrite filter stands in front of the struts2 filter and it handles the request firstly. Then it forwards the request to the rewritten URL. You have to configure struts2 filter to accept `FORWARD` request by the dispatcher. You can see this answer to the similar problem [How to forward request from servlet to action of struts2][1]:\r\n\r\n&gt;You have also configure struts2 filter to accept forward requests\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n  \t  &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n  \t  &lt;filter-class&gt;\r\n  \t\torg.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\r\n  \t  &lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n      &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n  \t  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n      &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n      &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n    &lt;/filter-mapping&gt; \r\n [1]: https://stackoverflow.com/a/16119978/573032","title":"UrlRewrite is not working in Struts 2 and the actions are not found","body":"<p>The urlrewrite filter stands in front of the struts2 filter and it handles the request firstly. Then it forwards the request to the rewritten URL. You have to configure struts2 filter to accept <code>FORWARD</code> request by the dispatcher. You can see this answer to the similar problem <a href=\"https://stackoverflow.com/a/16119978/573032\">How to forward request from servlet to action of struts2</a>:</p>\n<blockquote>\n<p>You have also configure struts2 filter to accept forward requests</p>\n</blockquote>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n  &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n  &lt;filter-class&gt;\n    org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter\n  &lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n  &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n  &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n  &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n  &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt; \n</code></pre>\n"}],"owner":{"account_id":3130088,"reputation":43207,"user_id":2648077,"accept_rate":80,"display_name":"Alireza Fattahi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75927718,"answer_count":1,"score":1,"last_activity_date":1680705255,"creation_date":1680533818,"question_id":75920856,"body_markdown":"In Struts 6.2 I am using urlrewrite 4.0.3 with below config. ( explained at [How to map a friendly URL to the action in Struts 2](https://stackoverflow.com/a/75784128/2648077) answer)\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;urlrewrite&gt;\r\n    \t&lt;rule match-type=&quot;regex&quot;&gt;\r\n    \t   &lt;from&gt;/callback/hamoon-handler.ib/sign/(\\w+)&lt;/from&gt;\r\n    \t   &lt;to&gt;/callback/hamoon-handler.ib?sign=$1&lt;/to&gt;\r\n    \t&lt;/rule&gt;\r\n    &lt;/urlrewrite&gt;\r\n\r\nThis will not work. To test I used curl to make some tests.\r\n\r\nBelow curl works ( which shows the struts action is mapped corretly):\r\n\r\n    curl &quot;https://localhost/callback/hamoon-handler.ib?sign/v1&quot; --header &quot;Content-Type: application/json&quot; --data &quot;{ \\&quot;test\\&quot;: \\&quot;1\\&quot;}&quot;\r\n\r\nbut below ( which goes throw urlrewrite does not) and I get the error `The requested resource [/callback/hamoon-handler.ib] is not available`:\r\n\r\n    curl &quot;https://localhost/callback/hamoon-handler.ib/sign/v1&quot; --header &quot;Content-Type: application/json&quot; --data &quot;{ \\&quot;test\\&quot;: \\&quot;1\\&quot;}&quot;\r\n\r\nI see this in the log ( which shows that the rewriting is done correctly) :\r\n\r\n    utils.ServerNameMatcher DEBUG: looking for hostname match on current server name localhost\r\n    UrlRewriteFilter DEBUG: checking for status path on /callback/hamoon-handler.ib/sign/v1\r\n    UrlRewriter DEBUG: processing request for /callback/hamoon-handler.ib/sign/v1\r\n    RuleBase DEBUG: Rule 0 run called with /callback/hamoon-handler.ib/sign/v1\r\n    RuleBase DEBUG: matched &quot;from&quot;\r\n    substitution.MatcherReplacer DEBUG: found 1\r\n    substitution.MatcherReplacer DEBUG: replaced sb is /callback/hamoon-handler.ib?sign=v1\r\n    RuleExecutionOutput DEBUG: needs to be redirected to /callback/hamoon-handler.ib?sign=v1\r\n    UrlRewriter TRACE: got a rewritten url\r\n    RewrittenUrl TRACE: doRewrite called\r\n    RewrittenUrl TRACE: redirected to /callback/hamoon-handler.ib?sign=v1\r\n\r\n\r\nTo make a test I have change `&lt;to&gt;` to `&lt;to type=&quot;redirect&quot;&gt;`. and add `-L` to `curl` to follow redirects, by this change the action is found. (But I can not use this as my caller does not support redirect)\r\n\r\nThe `UrlRewriteFilter` is defined before `StrutsPrepareAndExecuteFilter` \r\n\r\nThe `web.xml` is:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;\r\n         &lt;init-param&gt;\r\n            &lt;param-name&gt;logLevel&lt;/param-name&gt;\r\n            &lt;param-value&gt;TRACE&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n     &lt;filter&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n    \t&lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\r\n\t    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n\t    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\r\n\t    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\r\n\t&lt;/filter-mapping&gt;\r\n\t&lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;struts2&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\nIs there any way I can fix it.","title":"UrlRewrite is not working in Struts 2 and the actions are not found","body":"<p>In Struts 6.2 I am using urlrewrite 4.0.3 with below config. ( explained at <a href=\"https://stackoverflow.com/a/75784128/2648077\">How to map a friendly URL to the action in Struts 2</a> answer)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;urlrewrite&gt;\n    &lt;rule match-type=&quot;regex&quot;&gt;\n       &lt;from&gt;/callback/hamoon-handler.ib/sign/(\\w+)&lt;/from&gt;\n       &lt;to&gt;/callback/hamoon-handler.ib?sign=$1&lt;/to&gt;\n    &lt;/rule&gt;\n&lt;/urlrewrite&gt;\n</code></pre>\n<p>This will not work. To test I used curl to make some tests.</p>\n<p>Below curl works ( which shows the struts action is mapped corretly):</p>\n<pre><code>curl &quot;https://localhost/callback/hamoon-handler.ib?sign/v1&quot; --header &quot;Content-Type: application/json&quot; --data &quot;{ \\&quot;test\\&quot;: \\&quot;1\\&quot;}&quot;\n</code></pre>\n<p>but below ( which goes throw urlrewrite does not) and I get the error <code>The requested resource [/callback/hamoon-handler.ib] is not available</code>:</p>\n<pre><code>curl &quot;https://localhost/callback/hamoon-handler.ib/sign/v1&quot; --header &quot;Content-Type: application/json&quot; --data &quot;{ \\&quot;test\\&quot;: \\&quot;1\\&quot;}&quot;\n</code></pre>\n<p>I see this in the log ( which shows that the rewriting is done correctly) :</p>\n<pre><code>utils.ServerNameMatcher DEBUG: looking for hostname match on current server name localhost\nUrlRewriteFilter DEBUG: checking for status path on /callback/hamoon-handler.ib/sign/v1\nUrlRewriter DEBUG: processing request for /callback/hamoon-handler.ib/sign/v1\nRuleBase DEBUG: Rule 0 run called with /callback/hamoon-handler.ib/sign/v1\nRuleBase DEBUG: matched &quot;from&quot;\nsubstitution.MatcherReplacer DEBUG: found 1\nsubstitution.MatcherReplacer DEBUG: replaced sb is /callback/hamoon-handler.ib?sign=v1\nRuleExecutionOutput DEBUG: needs to be redirected to /callback/hamoon-handler.ib?sign=v1\nUrlRewriter TRACE: got a rewritten url\nRewrittenUrl TRACE: doRewrite called\nRewrittenUrl TRACE: redirected to /callback/hamoon-handler.ib?sign=v1\n</code></pre>\n<p>To make a test I have change <code>&lt;to&gt;</code> to <code>&lt;to type=&quot;redirect&quot;&gt;</code>. and add <code>-L</code> to <code>curl</code> to follow redirects, by this change the action is found. (But I can not use this as my caller does not support redirect)</p>\n<p>The <code>UrlRewriteFilter</code> is defined before <code>StrutsPrepareAndExecuteFilter</code></p>\n<p>The <code>web.xml</code> is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;\n    &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.tuckey.web.filters.urlrewrite.UrlRewriteFilter&lt;/filter-class&gt;\n     &lt;init-param&gt;\n        &lt;param-name&gt;logLevel&lt;/param-name&gt;\n        &lt;param-value&gt;TRACE&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n &lt;filter&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;filter-class&gt;org.apache.struts2.dispatcher.filter.StrutsPrepareAndExecuteFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;UrlRewriteFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;dispatcher&gt;REQUEST&lt;/dispatcher&gt;\n    &lt;dispatcher&gt;FORWARD&lt;/dispatcher&gt;\n&lt;/filter-mapping&gt;\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;struts2&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n<p>Is there any way I can fix it.</p>\n"},{"tags":["java","textpad"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1680704215,"post_id":75940526,"comment_id":133943491,"body_markdown":"While *we* know that `1 &lt; 10` is always true, I wouldn&#39;t expect the compiler to know that and use it to determine reachability. Why do you even if that condition of `if (1 &lt; 10)`? Don&#39;t you *always* want to return `&quot;cold&quot;` if you&#39;ve already decided not to return &quot;hot&quot;? You could just have `else return &quot;cold&quot;;` or remove the &quot;else&quot; (and condition) entirely. (Or better, use a conditional, but that&#39;s a larger change...)","body":"While <i>we</i> know that <code>1 &lt; 10</code> is always true, I wouldn&#39;t expect the compiler to know that and use it to determine reachability. Why do you even if that condition of <code>if (1 &lt; 10)</code>? Don&#39;t you <i>always</i> want to return <code>&quot;cold&quot;</code> if you&#39;ve already decided not to return &quot;hot&quot;? You could just have <code>else return &quot;cold&quot;;</code> or remove the &quot;else&quot; (and condition) entirely. (Or better, use a conditional, but that&#39;s a larger change...)"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1680704285,"post_id":75940526,"comment_id":133943517,"body_markdown":"Admittedly I&#39;d also say it&#39;s an odd design for a method called `celsius` to return a string value, and for that value to just be &quot;hot&quot; or &quot;cold&quot;, but that&#39;s a different matter...","body":"Admittedly I&#39;d also say it&#39;s an odd design for a method called <code>celsius</code> to return a string value, and for that value to just be &quot;hot&quot; or &quot;cold&quot;, but that&#39;s a different matter..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1680723232,"post_id":75940526,"comment_id":133948417,"body_markdown":"Poor title. Rewrite to summarize your specific technical issue.","body":"Poor title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680704327,"creation_date":1680704327,"answer_id":75940573,"question_id":75940526,"body_markdown":"What if the temperature is higher than 10 but lower than 30? What does it return then?\r\n\r\nAnswer that question and you know why you get the compiler error you&#39;re getting.","title":"Code not running ,I need help to find problem in code","body":"<p>What if the temperature is higher than 10 but lower than 30? What does it return then?</p>\n<p>Answer that question and you know why you get the compiler error you're getting.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680705205,"creation_date":1680704774,"answer_id":75940656,"question_id":75940526,"body_markdown":"Your issue is that you are not returning either in an `else` or at the very end.\r\n\r\nAlso, please adhere to the [Java naming conventions](https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html).\r\n\r\n```java\r\npublic class Quiz {\r\n    public static String calculateCelsius(double fahrenheit) {\r\n        double celcius = 5.0 / 9.0 * (fahrenheit - 32);\r\n\r\n        if (celcius &gt; 30)\r\n            return &quot;hot&quot;;\r\n        else if (celcius &lt; 10) // I think you want to compare celsius, not 1\r\n            return &quot;cold&quot;;\r\n        else\r\n            return &quot;acceptable&quot;; // You need an else,\r\n\r\n        // ...or you need to return at the very end.\r\n        // return &quot;acceptable&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(calculateCelsius(70.0)); // acceptable\r\n        System.out.println(calculateCelsius(14.5)); // cold\r\n    }\r\n}\r\n```\r\n\r\nI would break this into two separate functions: one that converts temperature, and another that takes the converted temperature and priduces a string.\r\n\r\n```java\r\npublic class Quiz {\r\n    public static double calculateCelsius(double fahrenheit) {\r\n        return 5.0 / 9.0 * (fahrenheit - 32);\r\n    }\r\n\r\n    public static String determineClimate(double temperatureInCelcius) {\r\n        if (temperatureInCelcius &gt; 30)\r\n            return &quot;hot&quot;;\r\n        else if (temperatureInCelcius &lt; 10) // I think you want to compare celsius, not 1\r\n            return &quot;cold&quot;;\r\n        else\r\n            return &quot;acceptable&quot;; // You need an else,\r\n\r\n        // ...or you need to return at the very end.\r\n        // return &quot;acceptable&quot;;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(determineClimate(calculateCelsius(70.0))); // acceptable\r\n        System.out.println(determineClimate(calculateCelsius(14.5))); // cold\r\n    }\r\n}\r\n```","title":"Code not running ,I need help to find problem in code","body":"<p>Your issue is that you are not returning either in an <code>else</code> or at the very end.</p>\n<p>Also, please adhere to the <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Quiz {\n    public static String calculateCelsius(double fahrenheit) {\n        double celcius = 5.0 / 9.0 * (fahrenheit - 32);\n\n        if (celcius &gt; 30)\n            return &quot;hot&quot;;\n        else if (celcius &lt; 10) // I think you want to compare celsius, not 1\n            return &quot;cold&quot;;\n        else\n            return &quot;acceptable&quot;; // You need an else,\n\n        // ...or you need to return at the very end.\n        // return &quot;acceptable&quot;;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(calculateCelsius(70.0)); // acceptable\n        System.out.println(calculateCelsius(14.5)); // cold\n    }\n}\n</code></pre>\n<p>I would break this into two separate functions: one that converts temperature, and another that takes the converted temperature and priduces a string.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Quiz {\n    public static double calculateCelsius(double fahrenheit) {\n        return 5.0 / 9.0 * (fahrenheit - 32);\n    }\n\n    public static String determineClimate(double temperatureInCelcius) {\n        if (temperatureInCelcius &gt; 30)\n            return &quot;hot&quot;;\n        else if (temperatureInCelcius &lt; 10) // I think you want to compare celsius, not 1\n            return &quot;cold&quot;;\n        else\n            return &quot;acceptable&quot;; // You need an else,\n\n        // ...or you need to return at the very end.\n        // return &quot;acceptable&quot;;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(determineClimate(calculateCelsius(70.0))); // acceptable\n        System.out.println(determineClimate(calculateCelsius(14.5))); // cold\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19864118,"reputation":15,"user_id":14551819,"display_name":"Tripple1ZRO"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1680705089,"creation_date":1680705089,"answer_id":75940718,"question_id":75940526,"body_markdown":"here is the corrected code that should work\r\n\r\n    public class Quiz {\r\n        public static String celsius(double F) {\r\n            String hot = &quot;hot&quot;;\r\n            String cold = &quot;cold&quot;;\r\n            double C = 5.0 / 9.0 * (F - 32);\r\n    \r\n            if (C &gt; 30) {\r\n                return hot;\r\n            } else if (C &lt; 10) {\r\n                return cold;\r\n            } else {\r\n                return &quot;Neither hot nor cold&quot;;\r\n            }\r\n        }\r\n            public static void main(String args[]) {\r\n            System.out.println(celsius(70.0));\r\n            System.out.println(celsius(14.5));\r\n        }\r\n    }","title":"Code not running ,I need help to find problem in code","body":"<p>here is the corrected code that should work</p>\n<pre><code>public class Quiz {\n    public static String celsius(double F) {\n        String hot = &quot;hot&quot;;\n        String cold = &quot;cold&quot;;\n        double C = 5.0 / 9.0 * (F - 32);\n\n        if (C &gt; 30) {\n            return hot;\n        } else if (C &lt; 10) {\n            return cold;\n        } else {\n            return &quot;Neither hot nor cold&quot;;\n        }\n    }\n        public static void main(String args[]) {\n        System.out.println(celsius(70.0));\n        System.out.println(celsius(14.5));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27376561,"reputation":1,"user_id":20881803,"display_name":"ahmed abu awwad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1680705205,"creation_date":1680704077,"question_id":75940526,"body_markdown":"I need find the error .\r\n\r\nthe output must to &quot;hot&quot; or &quot;cold&quot; .\r\n\r\nthe compile it appears that there are curly brackets missing .\r\n\r\nlike these :\r\n  error: missing return statement\r\n\t\t}\r\n\t\t^\r\n\r\n```\r\npublic class quiz{\r\n\r\n\tpublic static String celsius (double F){\r\n\r\n\t\tdouble C = 5.0 / 9.0 *(F - 32) ;\r\n\r\n\t\tif(C &gt; 30)\r\n\t\t\treturn &quot;hot&quot;;\r\n\r\n\t\telse if(1 &lt; 10)\r\n\t\t\treturn &quot;cold&quot;;\r\n\r\n\r\n\t\t}//end method\r\n\r\n\tpublic static void main(String args[]){\r\n\r\n\t\tSystem.out.println(celsius(70.0));\r\n\t\tSystem.out.println(celsius(14.5));\r\n\r\n\r\n\r\n\t}//end main\r\n}//end class\r\n```\r\n\r\n\r\n","title":"Code not running ,I need help to find problem in code","body":"<p>I need find the error .</p>\n<p>the output must to &quot;hot&quot; or &quot;cold&quot; .</p>\n<p>the compile it appears that there are curly brackets missing .</p>\n<p>like these :\nerror: missing return statement\n}\n^</p>\n<pre><code>public class quiz{\n\n    public static String celsius (double F){\n\n        double C = 5.0 / 9.0 *(F - 32) ;\n\n        if(C &gt; 30)\n            return &quot;hot&quot;;\n\n        else if(1 &lt; 10)\n            return &quot;cold&quot;;\n\n\n        }//end method\n\n    public static void main(String args[]){\n\n        System.out.println(celsius(70.0));\n        System.out.println(celsius(14.5));\n\n\n\n    }//end main\n}//end class\n</code></pre>\n"},{"tags":["java","typescript","bouncycastle","jsencrypt"],"comments":[{"owner":{"account_id":3315185,"reputation":774,"user_id":3076107,"display_name":"Egl"},"score":0,"creation_date":1491497177,"post_id":43256712,"comment_id":73591016,"body_markdown":"The exception is not related to decryption. The exception is thrown by Hex.decodeHex()","body":"The exception is not related to decryption. The exception is thrown by Hex.decodeHex()"},{"owner":{"account_id":10619866,"reputation":73,"user_id":7821308,"display_name":"acys"},"score":1,"creation_date":1491585814,"post_id":43256712,"comment_id":73635897,"body_markdown":"Thanks, but the solution provided by @Hugo was spot on","body":"Thanks, but the solution provided by @Hugo was spot on"}],"answers":[{"comments":[{"owner":{"display_name":"user7605325"},"score":1,"creation_date":1491585870,"post_id":43261687,"comment_id":73635942,"body_markdown":"Great! If it worked and you found it useful, you can upvote and/or accept the answer (it&#39;s not mandatory, although a good practice)","body":"Great! If it worked and you found it useful, you can upvote and/or accept the answer (it&#39;s not mandatory, although a good practice)"},{"owner":{"account_id":10619866,"reputation":73,"user_id":7821308,"display_name":"acys"},"score":1,"creation_date":1491812609,"post_id":43261687,"comment_id":73700635,"body_markdown":"I tried upvoting, but it says I do not have enough reputation points :(","body":"I tried upvoting, but it says I do not have enough reputation points :("}],"tags":[],"owner":{"display_name":"user7605325"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1491498645,"creation_date":1491498645,"answer_id":43261687,"question_id":43256712,"body_markdown":"The error occurs in `Hex.decodeHex()` method, which means that your data is not a Hex encoded string.\r\n\r\n`JSEncrypt.encrypt()` method returns the encrypted data in Base64 (instead of Hex string). In order to decrypt it, you must decode it from base64 format.\r\n\r\nSo instead of:\r\n\r\n    byte[] cipherText = cipher.doFinal(Hex.decodeHex(encrypted.toCharArray()));\r\n\r\nDo this:\r\n\r\n    byte[] cipherText = cipher.doFinal(Base64.decodeBase64(encrypted.toCharArray()));","title":"RSA encrypt using JSEncrypt and decrypt using BouncyCastle (Java)","body":"<p>The error occurs in <code>Hex.decodeHex()</code> method, which means that your data is not a Hex encoded string.</p>\n\n<p><code>JSEncrypt.encrypt()</code> method returns the encrypted data in Base64 (instead of Hex string). In order to decrypt it, you must decode it from base64 format.</p>\n\n<p>So instead of:</p>\n\n<pre><code>byte[] cipherText = cipher.doFinal(Hex.decodeHex(encrypted.toCharArray()));\n</code></pre>\n\n<p>Do this:</p>\n\n<pre><code>byte[] cipherText = cipher.doFinal(Base64.decodeBase64(encrypted.toCharArray()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10685304,"reputation":527,"user_id":7866019,"display_name":"Realdo Dias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537429658,"creation_date":1537429658,"answer_id":52420115,"question_id":43256712,"body_markdown":"You can also solve this problem just from the client side. See the code below:\r\n\r\n    let encrypt = new Encrypt.JSEncrypt(); \r\n    encrypt.setPublicKey(this.publicKey);\r\n    encrypt.getKey().encrypt(password);\r\n\r\nJust add `getKey()` after `encrypt`. It worked for me! I encrypted my password into Hex string using this approach.","title":"RSA encrypt using JSEncrypt and decrypt using BouncyCastle (Java)","body":"<p>You can also solve this problem just from the client side. See the code below:</p>\n\n<pre><code>let encrypt = new Encrypt.JSEncrypt(); \nencrypt.setPublicKey(this.publicKey);\nencrypt.getKey().encrypt(password);\n</code></pre>\n\n<p>Just add <code>getKey()</code> after <code>encrypt</code>. It worked for me! I encrypted my password into Hex string using this approach.</p>\n"}],"owner":{"account_id":10619866,"reputation":73,"user_id":7821308,"display_name":"acys"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5839,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":43261687,"answer_count":2,"score":7,"last_activity_date":1680705128,"creation_date":1491485484,"question_id":43256712,"body_markdown":"This might be a duplicate of [this answered question](https://stackoverflow.com/questions/36696854/rsa-encrypt-using-jsencrypt-and-decrypt-using-bouncy-castle), but I can&#39;t seem to get the same results. Hoping for some guidance here.\r\n\r\nJSEncrypt (client)\r\n\r\n    let encrypt = new Encrypt.JSEncrypt();\r\n    encrypt.setPublicKey(this.publicKey);  // retrieved from server\r\n    encrypt.encrypt(password);\r\n\r\nBouncyCastle (server) - RSA key generation\r\n\r\n    KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    generator.initialize(1024);\r\n    KeyPair pair = generator.generateKeyPair();\r\n    PublicKey pubKey = pair.getPublic();\r\n    PrivateKey privKey = pair.getPrivate();\r\n    \r\n    // returned to client\r\n    String publicKeyStr = new String(Base64.encodeBase64(pubKey.getEncoded()));\r\n    String privateKeyStr = new String(Base64.encodeBase64(privKey.getEncoded()));\r\n\r\nBouncyCastle (server) - Decryption\r\n\r\n    Cipher cipher = Cipher.getInstance(&quot;RSA/None/PKCS1Padding&quot;);\r\n\tcipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n    // org.apache.commons.codec.binary.Hex\r\n\r\n    byte[] cipherText = cipher.doFinal(Hex.decodeHex(encrypted.toCharArray()));\r\n    decrypted = new String(cipherText, BaseConstant.ENC_UTF8);\r\n\r\nError\r\n\r\n&gt; org.apache.commons.codec.DecoderException: Illegal hexadecimal character I at index 0\r\n        at org.apache.commons.codec.binary.Hex.toDigit(Hex.java:178)\r\n        at org.apache.commons.codec.binary.Hex.decodeHex(Hex.java:89)\r\n\r\nOne thing I noticed is the length of encrypted text by JSEncrypt, which is 172, while encryption at server side produces 256.\r\n\r\nThe answered question mentioned to use RSA/None/PKCS1Padding, which I had already set. What else could I be missing?","title":"RSA encrypt using JSEncrypt and decrypt using BouncyCastle (Java)","body":"<p>This might be a duplicate of <a href=\"https://stackoverflow.com/questions/36696854/rsa-encrypt-using-jsencrypt-and-decrypt-using-bouncy-castle\">this answered question</a>, but I can't seem to get the same results. Hoping for some guidance here.</p>\n\n<p>JSEncrypt (client)</p>\n\n<pre><code>let encrypt = new Encrypt.JSEncrypt();\nencrypt.setPublicKey(this.publicKey);  // retrieved from server\nencrypt.encrypt(password);\n</code></pre>\n\n<p>BouncyCastle (server) - RSA key generation</p>\n\n<pre><code>KeyPairGenerator generator = KeyPairGenerator.getInstance(\"RSA\");\ngenerator.initialize(1024);\nKeyPair pair = generator.generateKeyPair();\nPublicKey pubKey = pair.getPublic();\nPrivateKey privKey = pair.getPrivate();\n\n// returned to client\nString publicKeyStr = new String(Base64.encodeBase64(pubKey.getEncoded()));\nString privateKeyStr = new String(Base64.encodeBase64(privKey.getEncoded()));\n</code></pre>\n\n<p>BouncyCastle (server) - Decryption</p>\n\n<pre><code>Cipher cipher = Cipher.getInstance(\"RSA/None/PKCS1Padding\");\ncipher.init(Cipher.DECRYPT_MODE, privateKey);\n// org.apache.commons.codec.binary.Hex\n\nbyte[] cipherText = cipher.doFinal(Hex.decodeHex(encrypted.toCharArray()));\ndecrypted = new String(cipherText, BaseConstant.ENC_UTF8);\n</code></pre>\n\n<p>Error</p>\n\n<blockquote>\n  <p>org.apache.commons.codec.DecoderException: Illegal hexadecimal character I at index 0\n          at org.apache.commons.codec.binary.Hex.toDigit(Hex.java:178)\n          at org.apache.commons.codec.binary.Hex.decodeHex(Hex.java:89)</p>\n</blockquote>\n\n<p>One thing I noticed is the length of encrypted text by JSEncrypt, which is 172, while encryption at server side produces 256.</p>\n\n<p>The answered question mentioned to use RSA/None/PKCS1Padding, which I had already set. What else could I be missing?</p>\n"},{"tags":["java","android","rx-android"],"comments":[{"owner":{"account_id":3275466,"reputation":3705,"user_id":2757664,"accept_rate":38,"display_name":"Saeed Entezari"},"score":0,"creation_date":1529567170,"post_id":50962961,"comment_id":88922805,"body_markdown":"In filter write this: return location != null;","body":"In filter write this: return location != null;"},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1529567252,"post_id":50962961,"comment_id":88922842,"body_markdown":"that doesn&#39;t help. The problem is before that : when the PublishSubject send null in onNext, it crashes, without even making it till the `filter`","body":"that doesn&#39;t help. The problem is before that : when the PublishSubject send null in onNext, it crashes, without even making it till the <code>filter</code>"},{"owner":{"account_id":3275466,"reputation":3705,"user_id":2757664,"accept_rate":38,"display_name":"Saeed Entezari"},"score":0,"creation_date":1529567296,"post_id":50962961,"comment_id":88922877,"body_markdown":"Can u add the body of method getLocationObservable() ?","body":"Can u add the body of method getLocationObservable() ?"},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1529567501,"post_id":50962961,"comment_id":88923017,"body_markdown":"of course, I edited my post.","body":"of course, I edited my post."},{"owner":{"account_id":3275466,"reputation":3705,"user_id":2757664,"accept_rate":38,"display_name":"Saeed Entezari"},"score":0,"creation_date":1529567673,"post_id":50962961,"comment_id":88923115,"body_markdown":"Do you need to receive null in your filter method? Or just ignoring null values by the publishSubject is enough?","body":"Do you need to receive null in your filter method? Or just ignoring null values by the publishSubject is enough?"},{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1529567736,"post_id":50962961,"comment_id":88923151,"body_markdown":"I need to receive null, in order to know I had found a Location or failed","body":"I need to receive null, in order to know I had found a Location or failed"}],"answers":[{"comments":[{"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"score":0,"creation_date":1529567483,"post_id":50963143,"comment_id":88923002,"body_markdown":"I&#39;ve edited the post with all my relevant code, could you please help and elaborate more on how to do that in Java?","body":"I&#39;ve edited the post with all my relevant code, could you please help and elaborate more on how to do that in Java?"}],"tags":[],"owner":{"account_id":4376692,"reputation":5272,"user_id":3569545,"display_name":"Demigod"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1529568279,"creation_date":1529567377,"answer_id":50963143,"question_id":50962961,"body_markdown":"Rx do not work with `null` eventually throwing an exception.\r\nYou can use here a `Wrapper` pattern.\r\n\r\n**Example in Kotlin**\r\n\r\n    class Wrapper&lt;T&gt;(val value: T?)\r\n\r\nModify your subject to emit location wrapped in the wrapper class. In the filtering option check if it contains `null` or not, like\r\n\r\n    .filter{ it.value != null }\r\n\r\n**Example in Java**\r\n\r\nAdd class `Wrapper`\r\n\r\n    public class Wrapper&lt;T&gt; {\r\n        public final T value;\r\n\r\n        public Wrapper(T value) {\r\n             this.value = value;\r\n        } \r\n    }\r\n\r\nThen use it when emitting new location and filtering it.\r\n\r\n    public Observable&lt;Location&gt; getLocationObservable() {\r\n            return locationPublishSubject;\r\n    }\r\n    and then...\r\n    locationPublishSubject.onNext(new Wrapper(foundLocation));\r\n\r\n    .filter(wrapper -&gt; {\r\n        wrapper.value != null;\r\n    })\r\n\r\nAlternatively you can skip emitting location if it is `null`, if it&#39;s possible.","title":"passing null in onNext through PublishSubject and filtering that response in RxJava","body":"<p>Rx do not work with <code>null</code> eventually throwing an exception.\nYou can use here a <code>Wrapper</code> pattern.</p>\n\n<p><strong>Example in Kotlin</strong></p>\n\n<pre><code>class Wrapper&lt;T&gt;(val value: T?)\n</code></pre>\n\n<p>Modify your subject to emit location wrapped in the wrapper class. In the filtering option check if it contains <code>null</code> or not, like</p>\n\n<pre><code>.filter{ it.value != null }\n</code></pre>\n\n<p><strong>Example in Java</strong></p>\n\n<p>Add class <code>Wrapper</code></p>\n\n<pre><code>public class Wrapper&lt;T&gt; {\n    public final T value;\n\n    public Wrapper(T value) {\n         this.value = value;\n    } \n}\n</code></pre>\n\n<p>Then use it when emitting new location and filtering it.</p>\n\n<pre><code>public Observable&lt;Location&gt; getLocationObservable() {\n        return locationPublishSubject;\n}\nand then...\nlocationPublishSubject.onNext(new Wrapper(foundLocation));\n\n.filter(wrapper -&gt; {\n    wrapper.value != null;\n})\n</code></pre>\n\n<p>Alternatively you can skip emitting location if it is <code>null</code>, if it's possible.</p>\n"},{"tags":[],"owner":{"account_id":3275466,"reputation":3705,"user_id":2757664,"accept_rate":38,"display_name":"Saeed Entezari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529568414,"creation_date":1529568414,"answer_id":50963454,"question_id":50962961,"body_markdown":"You can achieve this by doing something like this:\r\n\r\nI assume your foundLocation variable is of type Location which contains 2 properties lat and lng.\r\n\r\nIn this case you can check your found location if it is null and if so, replace it with an object with lat and lng that has impossible values:\r\n\r\n    if(foundLocation == null) {\r\n       foundLocation  = new Location(-1000, -1000);\r\n    }\r\n    locationPublishSubject.onNext( foundLocation);\r\n\r\nAnd then in your onNext of your code you can check if lat and lng are both equal to -1000:\r\n\r\n    if(foundLocation.getLatitude() == -1000 &amp;&amp; foundLocation.getLongitude() == -1000) {\r\n        // here you have a null location\r\n    }","title":"passing null in onNext through PublishSubject and filtering that response in RxJava","body":"<p>You can achieve this by doing something like this:</p>\n\n<p>I assume your foundLocation variable is of type Location which contains 2 properties lat and lng.</p>\n\n<p>In this case you can check your found location if it is null and if so, replace it with an object with lat and lng that has impossible values:</p>\n\n<pre><code>if(foundLocation == null) {\n   foundLocation  = new Location(-1000, -1000);\n}\nlocationPublishSubject.onNext( foundLocation);\n</code></pre>\n\n<p>And then in your onNext of your code you can check if lat and lng are both equal to -1000:</p>\n\n<pre><code>if(foundLocation.getLatitude() == -1000 &amp;&amp; foundLocation.getLongitude() == -1000) {\n    // here you have a null location\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":390867,"reputation":3923,"user_id":751200,"accept_rate":56,"display_name":"kolobok"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680705063,"creation_date":1680705063,"answer_id":75940707,"question_id":50962961,"body_markdown":"Just use Optional in `map` method:\r\n\r\n    yourObservable.map(msg -&gt; {\r\n        /// business logic that transforms msg into smth else\r\n        return Optional.ofNullable(transformedMsg);\r\n    })\r\n\r\nAnd if you don&#39;t need those empty Optionals add:\r\n\r\n    .filter(Optional::isPresent).map(Optional::get);","title":"passing null in onNext through PublishSubject and filtering that response in RxJava","body":"<p>Just use Optional in <code>map</code> method:</p>\n<pre><code>yourObservable.map(msg -&gt; {\n    /// business logic that transforms msg into smth else\n    return Optional.ofNullable(transformedMsg);\n})\n</code></pre>\n<p>And if you don't need those empty Optionals add:</p>\n<pre><code>.filter(Optional::isPresent).map(Optional::get);\n</code></pre>\n"}],"owner":{"account_id":5375842,"reputation":2338,"user_id":4970126,"accept_rate":43,"display_name":"BVtp"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1767,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50963143,"answer_count":3,"score":0,"last_activity_date":1680705063,"creation_date":1529566783,"question_id":50962961,"body_markdown":"I have a code like this:\r\n\r\n\r\n      getLocationObservable() //this observable returns via PublishSubject the location\r\n              .filter(location -&gt; {\r\n                  .....\r\n                  Here I want to be able to get a null value for the location\r\n              })\r\n             .flatMap(location -&gt; anotherObservable()\r\n                                 .subscribeOn(Schedulers.io())\r\n                                 .observeOn(AndroidSchedulers.mainThread()))\r\n              .subscribeOn(Schedulers.io())\r\n              .observeOn(AndroidSchedulers.mainThread())\r\n              .subscribe( new Observer&lt;........\r\n\r\n\r\n\r\nIn the Location class is it like this :\r\n\r\n     private PublishSubject&lt;Location&gt; locationPublishSubject = PublishSubject.create();\r\n    \r\n        public Observable&lt;Location&gt; getLocationObservable() {\r\n            return locationPublishSubject;\r\n        }\r\n\r\n        and then...\r\n        locationPublishSubject.onNext( foundLocation);\r\n\r\nnow, the `getLocationObservable` is based on a `PublishSubject`, that returns the Location via `onNext`. and then I analyze it inside the `filter` operator. However, sometimes the Location is not found, and it passes null. But passing null in onNext results in a crash. \r\nMore specifically, I get : `UndeliverableException: java.lang.Throwable`\r\nHow can that be solved?","title":"passing null in onNext through PublishSubject and filtering that response in RxJava","body":"<p>I have a code like this:</p>\n\n<pre><code>  getLocationObservable() //this observable returns via PublishSubject the location\n          .filter(location -&gt; {\n              .....\n              Here I want to be able to get a null value for the location\n          })\n         .flatMap(location -&gt; anotherObservable()\n                             .subscribeOn(Schedulers.io())\n                             .observeOn(AndroidSchedulers.mainThread()))\n          .subscribeOn(Schedulers.io())\n          .observeOn(AndroidSchedulers.mainThread())\n          .subscribe( new Observer&lt;........\n</code></pre>\n\n<p>In the Location class is it like this :</p>\n\n<pre><code> private PublishSubject&lt;Location&gt; locationPublishSubject = PublishSubject.create();\n\n    public Observable&lt;Location&gt; getLocationObservable() {\n        return locationPublishSubject;\n    }\n\n    and then...\n    locationPublishSubject.onNext( foundLocation);\n</code></pre>\n\n<p>now, the <code>getLocationObservable</code> is based on a <code>PublishSubject</code>, that returns the Location via <code>onNext</code>. and then I analyze it inside the <code>filter</code> operator. However, sometimes the Location is not found, and it passes null. But passing null in onNext results in a crash. \nMore specifically, I get : <code>UndeliverableException: java.lang.Throwable</code>\nHow can that be solved?</p>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1468496332,"post_id":38372981,"comment_id":64156770,"body_markdown":"Please have a look at [this](http://gitlab.itextsupport.com/itext7/samples/blob/develop/samples/src/test/java/com/itextpdf/samples/sandbox/acroforms/CheckboxCell.java) and [this](http://gitlab.itextsupport.com/itext7/samples/blob/develop/samples/src/test/java/com/itextpdf/samples/sandbox/acroforms/CheckboxCell2.java) sample from iText7 sandbox repository (note: the links may change), which are essentially the ported samples from Bruno&#39;s answer to the question you refer to.","body":"Please have a look at <a href=\"http://gitlab.itextsupport.com/itext7/samples/blob/develop/samples/src/test/java/com/itextpdf/samples/sandbox/acroforms/CheckboxCell.java\" rel=\"nofollow noreferrer\">this</a> and <a href=\"http://gitlab.itextsupport.com/itext7/samples/blob/develop/samples/src/test/java/com/itextpdf/samples/sandbox/acroforms/CheckboxCell2.java\" rel=\"nofollow noreferrer\">this</a> sample from iText7 sandbox repository (note: the links may change), which are essentially the ported samples from Bruno&#39;s answer to the question you refer to."},{"owner":{"account_id":8818329,"reputation":33,"user_id":6589040,"display_name":"P.S."},"score":0,"creation_date":1468504886,"post_id":38372981,"comment_id":64162854,"body_markdown":"Sorry, I need only picture &quot;check&quot; or &quot;uncheck&quot;, no iteractive form, do you have any solution?","body":"Sorry, I need only picture &quot;check&quot; or &quot;uncheck&quot;, no iteractive form, do you have any solution?"}],"answers":[{"comments":[{"owner":{"account_id":8818329,"reputation":33,"user_id":6589040,"display_name":"P.S."},"score":0,"creation_date":1468570668,"post_id":38378860,"comment_id":64191071,"body_markdown":"Thank you, but I am using iTexpdf 7.0.0 in Java... This solution not work.","body":"Thank you, but I am using iTexpdf 7.0.0 in Java... This solution not work."},{"owner":{"account_id":8818329,"reputation":33,"user_id":6589040,"display_name":"P.S."},"score":0,"creation_date":1468571599,"post_id":38378860,"comment_id":64191627,"body_markdown":"I just need shows in pdf this symilar two icons: https://cdn3.iconfinder.com/data/icons/ico-nic-lists/128/Checklist_Check_Checkmark_Checked_Unchecked_Checkbox_Properties_Property_Options_Preferences_Choose_Choice_Select_Selected_Mark_Marked_Todo_To_Do_To-do-512.png","body":"I just need shows in pdf this symilar two icons: <a href=\"https://cdn3.iconfinder.com/data/icons/ico-nic-lists/128/Checklist_Check_Checkmark_Checked_Unchecked_Checkbox_Properties_Property_Options_Preferences_Choose_Choice_Select_Selected_Mark_Marked_Todo_To_Do_To-do-512.png\" rel=\"nofollow noreferrer\">cdn3.iconfinder.com/data/icons/ico-nic-lists/128/&hellip;</a>"},{"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"score":0,"creation_date":1468598003,"post_id":38378860,"comment_id":64208997,"body_markdown":"See the answer by @AlexeySubach if you need iText 7 (read [my chapter of fonts](http://developers.itextpdf.com/content/itext-7-building-blocks/chapter-1-introducing-pdffont-class) for more info).","body":"See the answer by @AlexeySubach if you need iText 7 (read <a href=\"http://developers.itextpdf.com/content/itext-7-building-blocks/chapter-1-introducing-pdffont-class\" rel=\"nofollow noreferrer\">my chapter of fonts</a> for more info)."}],"tags":[],"owner":{"account_id":1779372,"reputation":76342,"user_id":1622493,"display_name":"Bruno Lowagie"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1468511699,"creation_date":1468511699,"answer_id":38378860,"question_id":38372981,"body_markdown":"You already know how to check a check box field in an interactive PDF. You now want to know how to add a check box *character* to a PDF (not an interactive form).\r\n\r\nPlease take a look at the [TickboxCharacter](http://developers.itextpdf.com/examples/font-examples/showing-special-characters#1960-tickboxcharacter.java) example in the official documentation. This example was written in answer to https://stackoverflow.com/questions/37991675 (a totally different question in which the OP broke the rules and asked a new question in the comments of a correct answer to his original question).\r\n\r\nAs you can tell from this example, you need a font that knows how to draw a check box. ZapfDingbats is such a font:\r\n\r\n    Paragraph p = new Paragraph(&quot;This is a tick box character: &quot;);\r\n    Font zapfdingbats = new Font(Font.FontFamily.ZAPFDINGBATS, 14);\r\n    Chunk chunk = new Chunk(&quot;o&quot;, zapfdingbats);\r\n    p.add(chunk);\r\n    document.add(p);\r\n\r\nAnother example, putting a check mark at an absolute position, can be found here: https://stackoverflow.com/questions/16370428/how-to-write-in-a-specific-location-the-zapfdingbatslist-in-a-pdf-document-using","title":"How to add a check box in a PDF file using iText 7?","body":"<p>You already know how to check a check box field in an interactive PDF. You now want to know how to add a check box <em>character</em> to a PDF (not an interactive form).</p>\n\n<p>Please take a look at the <a href=\"http://developers.itextpdf.com/examples/font-examples/showing-special-characters#1960-tickboxcharacter.java\" rel=\"nofollow noreferrer\">TickboxCharacter</a> example in the official documentation. This example was written in answer to <a href=\"https://stackoverflow.com/questions/37991675\">Remove left and right side borders in itextshap and want a rectanglur box</a> (a totally different question in which the OP broke the rules and asked a new question in the comments of a correct answer to his original question).</p>\n\n<p>As you can tell from this example, you need a font that knows how to draw a check box. ZapfDingbats is such a font:</p>\n\n<pre><code>Paragraph p = new Paragraph(\"This is a tick box character: \");\nFont zapfdingbats = new Font(Font.FontFamily.ZAPFDINGBATS, 14);\nChunk chunk = new Chunk(\"o\", zapfdingbats);\np.add(chunk);\ndocument.add(p);\n</code></pre>\n\n<p>Another example, putting a check mark at an absolute position, can be found here: <a href=\"https://stackoverflow.com/questions/16370428/how-to-write-in-a-specific-location-the-zapfdingbatslist-in-a-pdf-document-using\">How to write in a specific location the zapfdingbatslist in a pdf document using iTextSharp</a></p>\n"},{"tags":[],"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1468590856,"creation_date":1468590856,"answer_id":38397900,"question_id":38372981,"body_markdown":"Adapting Bruno&#39;s answer to iText 7:\r\n\r\n    Paragraph p = new Paragraph(&quot;This is a tick box character: &quot;);\r\n    PdfFont zapfdingbats = PdfFontFactory.createFont(FontConstants.ZAPFDINGBATS);\r\n    Text chunk = new Text(&quot;4&quot;).setFont(zapfdingbats).setFontSize(14);\r\n    p.add(chunk);\r\n    document.add(p);","title":"How to add a check box in a PDF file using iText 7?","body":"<p>Adapting Bruno's answer to iText 7:</p>\n\n<pre><code>Paragraph p = new Paragraph(\"This is a tick box character: \");\nPdfFont zapfdingbats = PdfFontFactory.createFont(FontConstants.ZAPFDINGBATS);\nText chunk = new Text(\"4\").setFont(zapfdingbats).setFontSize(14);\np.add(chunk);\ndocument.add(p);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5350815,"reputation":4694,"user_id":4264996,"accept_rate":0,"display_name":"madhu527"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680704965,"creation_date":1680704965,"answer_id":75940688,"question_id":38372981,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QSgTl.png\r\n\r\n        Paragraph p = new Paragraph(&quot;&quot;);\r\n        PdfFont font = PdfFontFactory.createFont(StandardFonts.ZAPFDINGBATS);\r\n        Text chunk = new Text(&quot;4&quot;).setFont(font).setFontSize(14);\r\n        p.add(chunk);\r\n        Table tableSection = new Table(1);\r\n\r\n        p.setFontColor(WebColors.getRGBColor(&quot;#ffffff&quot;));\r\n        Cell cell = new Cell();\r\n        cell.add(p);\r\n        cell.setPaddingLeft(10f);\r\n        cell.setPaddingRight(10f);\r\n        cell.setBackgroundColor(WebColors.getRGBColor(&quot;#000000&quot;));\r\n        tableSection.addCell(cell);\r\n        document.add(tableSection);","title":"How to add a check box in a PDF file using iText 7?","body":"<p><a href=\"https://i.stack.imgur.com/QSgTl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QSgTl.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>    Paragraph p = new Paragraph(&quot;&quot;);\n    PdfFont font = PdfFontFactory.createFont(StandardFonts.ZAPFDINGBATS);\n    Text chunk = new Text(&quot;4&quot;).setFont(font).setFontSize(14);\n    p.add(chunk);\n    Table tableSection = new Table(1);\n\n    p.setFontColor(WebColors.getRGBColor(&quot;#ffffff&quot;));\n    Cell cell = new Cell();\n    cell.add(p);\n    cell.setPaddingLeft(10f);\n    cell.setPaddingRight(10f);\n    cell.setBackgroundColor(WebColors.getRGBColor(&quot;#000000&quot;));\n    tableSection.addCell(cell);\n    document.add(tableSection);\n</code></pre>\n"}],"owner":{"account_id":8818329,"reputation":33,"user_id":6589040,"display_name":"P.S."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7642,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38397900,"answer_count":3,"score":3,"last_activity_date":1680704965,"creation_date":1468495690,"question_id":38372981,"body_markdown":"How can I add a checkobox into a Pdf file like it is done in [this][1] question, but using iText 7?\r\n\r\nI want the result to look like this:\r\n\r\n[![expected result][2]][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34439850/itextsharp-5-5-6-enters-a-cross-symbol-when-check-type-style-is-check-mark\r\n  [2]: http://i.stack.imgur.com/H8Lil.png","title":"How to add a check box in a PDF file using iText 7?","body":"<p>How can I add a checkobox into a Pdf file like it is done in <a href=\"https://stackoverflow.com/questions/34439850/itextsharp-5-5-6-enters-a-cross-symbol-when-check-type-style-is-check-mark\">this</a> question, but using iText 7?</p>\n\n<p>I want the result to look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/H8Lil.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H8Lil.png\" alt=\"expected result\"></a></p>\n"},{"tags":["java","memory","java-mission-control"],"comments":[{"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"score":0,"creation_date":1680703282,"post_id":75940312,"comment_id":133943191,"body_markdown":"my current assumption - it&#39;s because char[] is a reference variable, therefore is not shown under String class itself","body":"my current assumption - it&#39;s because char[] is a reference variable, therefore is not shown under String class itself"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1680703349,"post_id":75940312,"comment_id":133943221,"body_markdown":"1 instance of String contains 1 instance of char[]. You see both because Mission Control lists all instances of everything.","body":"1 instance of String contains 1 instance of char[]. You see both because Mission Control lists all instances of everything."},{"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"score":0,"creation_date":1680703447,"post_id":75940312,"comment_id":133943256,"body_markdown":"@Michael, what does String size show? is it primitives only which do seat in String?","body":"@Michael, what does String size show? is it primitives only which do seat in String?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1680703676,"post_id":75940312,"comment_id":133943334,"body_markdown":"It contains a primitive int (to memo the hashCode); that&#39;s 4 bytes per instance = 24K bytes. It contains a reference to the char[]. That&#39;s 8 bytes (on 64bit jvm) = 48K bytes. The rest, I suppose, might be the stuff related to object identity: the monitor lock, etc.","body":"It contains a primitive int (to memo the hashCode); that&#39;s 4 bytes per instance = 24K bytes. It contains a reference to the char[]. That&#39;s 8 bytes (on 64bit jvm) = 48K bytes. The rest, I suppose, might be the stuff related to object identity: the monitor lock, etc."}],"owner":{"account_id":101412,"reputation":5107,"user_id":272869,"accept_rate":96,"display_name":"VextoR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680704438,"creation_date":1680702857,"question_id":75940312,"body_markdown":"In Java mission control we can see memory usage.\r\nIf we have many String objects, we can see many\r\n\r\n    char[]\r\n\r\nbut we also see `java.lang.String`\r\n\r\nArrays of chars are shown because internally String uses them, but what then does represent when [Mission Control][1] shows `java.lang.String`?\r\n\r\nexample https://i.stack.imgur.com/rUSIQ.png\r\n\r\n\r\n  [1]: https://en.m.wikipedia.org/wiki/JDK_Mission_Control","title":"Java mission control memory information for classes","body":"<p>In Java mission control we can see memory usage.\nIf we have many String objects, we can see many</p>\n<pre><code>char[]\n</code></pre>\n<p>but we also see <code>java.lang.String</code></p>\n<p>Arrays of chars are shown because internally String uses them, but what then does represent when <a href=\"https://en.m.wikipedia.org/wiki/JDK_Mission_Control\" rel=\"nofollow noreferrer\">Mission Control</a> shows <code>java.lang.String</code>?</p>\n<p>example <a href=\"https://i.stack.imgur.com/rUSIQ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/rUSIQ.png</a></p>\n"},{"tags":["java","android","webview","chrome-custom-tabs","android-customtabs"],"comments":[{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":2,"creation_date":1620676590,"post_id":67476856,"comment_id":119266383,"body_markdown":"Does this answer your question? [Chrome Custom Tabs throwing an error when chrome is not installed : No Activity found to handle Intent](https://stackoverflow.com/questions/34823420/chrome-custom-tabs-throwing-an-error-when-chrome-is-not-installed-no-activity)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34823420/chrome-custom-tabs-throwing-an-error-when-chrome-is-not-installed-no-activity\">Chrome Custom Tabs throwing an error when chrome is not installed : No Activity found to handle Intent</a>"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":2,"creation_date":1620676653,"post_id":67476856,"comment_id":119266415,"body_markdown":"There&#39;s nothing stopping a user from disabling all browser apps and you must handle that, yes. What exactly is your question?","body":"There&#39;s nothing stopping a user from disabling all browser apps and you must handle that, yes. What exactly is your question?"},{"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"score":0,"creation_date":1620676690,"post_id":67476856,"comment_id":119266434,"body_markdown":"@javdromero No it&#39;s not a chrome issue. I just try to open url with customtabs but it doesn&#39;t have to be chrome-custom-tabs. I just looking any app to open http but no app found because exception triggered.","body":"@javdromero No it&#39;s not a chrome issue. I just try to open url with customtabs but it doesn&#39;t have to be chrome-custom-tabs. I just looking any app to open http but no app found because exception triggered."},{"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"score":0,"creation_date":1620676723,"post_id":67476856,"comment_id":119266447,"body_markdown":"@ianhanniballake How can I open url even user disabled all browsers? I have to open link in one way or another.","body":"@ianhanniballake How can I open url even user disabled all browsers? I have to open link in one way or another."},{"owner":{"account_id":17253839,"reputation":1872,"user_id":15298643,"display_name":"javdromero"},"score":0,"creation_date":1620677611,"post_id":67476856,"comment_id":119266782,"body_markdown":"https://developers.google.com/web/updates/2020/07/custom-tabs-android-11","body":"<a href=\"https://developers.google.com/web/updates/2020/07/custom-tabs-android-11\" rel=\"nofollow noreferrer\">developers.google.com/web/updates/2020/07/&hellip;</a>"},{"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"score":0,"creation_date":1620677869,"post_id":67476856,"comment_id":119266863,"body_markdown":"@javdromero Also if I know correctly, if the browser doesn&#39;t support custom-tabs, it have to open in normal browser. I checked it on Tor browser and url opened without custom-tabs in Tor.","body":"@javdromero Also if I know correctly, if the browser doesn&#39;t support custom-tabs, it have to open in normal browser. I checked it on Tor browser and url opened without custom-tabs in Tor."}],"answers":[{"comments":[{"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"score":0,"creation_date":1620755489,"post_id":67485825,"comment_id":119293338,"body_markdown":"I will try with PackageManager.MATCH_ALL options. I hope it works. Thanks!","body":"I will try with PackageManager.MATCH_ALL options. I hope it works. Thanks!"},{"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"score":1,"creation_date":1620755636,"post_id":67485825,"comment_id":119293395,"body_markdown":"PackageManager.MATCH_ALL requires Android 6.0 so I implemented as following:     ResolveInfo resolveInfo;\n                    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n                        resolveInfo = getPackageManager().resolveActivity(browserIntent, PackageManager.MATCH_ALL);\n                    } else {\n                        resolveInfo = getPackageManager().resolveActivity(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);\n                    }","body":"PackageManager.MATCH_ALL requires Android 6.0 so I implemented as following:     ResolveInfo resolveInfo;                     if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {                         resolveInfo = getPackageManager().resolveActivity(browserIntent, PackageManager.MATCH_ALL);                     } else {                         resolveInfo = getPackageManager().resolveActivity(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);                     }"},{"owner":{"account_id":1299840,"reputation":4691,"user_id":1249994,"display_name":"andreban"},"score":0,"creation_date":1620762422,"post_id":67485825,"comment_id":119296054,"body_markdown":"Remember to change how you are building the browser Intent. That&#39;s the most likely thing to be causing problems (I&#39;ve had that in the past).","body":"Remember to change how you are building the browser Intent. That&#39;s the most likely thing to be causing problems (I&#39;ve had that in the past)."}],"tags":[],"owner":{"account_id":1299840,"reputation":4691,"user_id":1249994,"display_name":"andreban"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620732478,"creation_date":1620732478,"answer_id":67485825,"question_id":67476856,"body_markdown":"A few notes on this issue:\r\n\r\n## Detecting non-browser apps as browsers\r\n\r\nThey query for browsers can detect non-browser applications, which will lead the an `ActivityNotFoundException` when launching the Custom Tab. See [this issue](https://github.com/GoogleChrome/android-browser-helper/issues/89) for an example. \r\n\r\nWhen querying for packages that can handle browser intents, I recommend using the below:\r\n\r\n```java\r\n\r\nIntent browserIntent = new Intent()\r\n        .setAction(Intent.ACTION_VIEW)\r\n        .addCategory(Intent.CATEGORY_BROWSABLE)\r\n        .setData(Uri.fromParts(&quot;http&quot;, &quot;&quot;, null));\r\n```\r\n\r\nThis is also how the [Android framework itself detects browsers](https://cs.android.com/android/platform/superproject/+/master:packages/modules/Permission/PermissionController/src/com/android/permissioncontroller/role/model/BrowserRoleBehavior.java;l=47-50?q=BrowserRoleBehavior&amp;ss=android%2Fplatform%2Fsuperproject).\r\n\r\nThe following shouldn&#39;t be a problem as the the Custom Tab will still work, but the behaviour of `PackageManager.MATCH_DEFAULT_ONLY` changed on Android M and only the default browser is returned - I&#39;m not sure what happens if a default browser is not set, but this may mean the returned list will be empty instead. This will mean users will get the disambiguation dialog when a default browser is not set. From Android M and above you may also want additionally query the package manager using `PackageManager.MATCH_ALL` if you want to get all browsers avoid the disambiguation dialog.\r\n\r\nCheck out [this snippet](https://github.com/andreban/android-browser-helper/blob/e0fd36cbf4f2d7e77616981568dd614b25be177d/androidbrowserhelper/src/main/java/com/google/androidbrowserhelper/trusted/TwaProviderPicker.java#L103-L172) in the `android-browser-helper` library for detecting Custom Tabs and Trusted Web Activity.\r\n\r\n\r\n## Preparing for Android 11\r\n\r\nAndroid 11 introduced [package visibility](https://developer.android.com/about/versions/11/privacy/package-visibility) and applications must now declare which packages they are querying for. If your application is not implementing this, the list returned when querying the package manage will be empty, even with a browser installed. \r\n\r\n```java\r\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n    possibleProviders.addAll(pm.queryIntentActivities(queryBrowsersIntent,\r\n                    PackageManager.MATCH_ALL));\r\n}\r\n```\r\n\r\nAgain, this shouldn&#39;t cause an `ActivityNotFoundException` as it would just cause the Custom Tab to launch without a package set.\r\n\r\n\r\n## Disabled browsers\r\n\r\n&gt; Note: Before I upgraded to custom-tabs in the live version, I used following code to open url but I always get the ActivityNotFoundException:\r\n&gt;\r\n&gt;```java\r\n&gt;Intent browserIntent = new Intent(Intent.ACTION_VIEW, uri);\r\n&gt;startActivity(browserIntent);\r\n&gt;```\r\n\r\nIt is possible for users to disable all browser applications, but I wouldn&#39;t expect this to be common.\r\n\r\nAnother thing to be aware of is that Android TV and Android Auto devices don&#39;t have a browser installed. If your application is targeting those devices you won&#39;t be able to open these URLs. But this is only a problem if your app is targeting these platforms.\r\n","title":"Fatal Exception: android.content.ActivityNotFoundException: No Activity found to handle Intent","body":"<p>A few notes on this issue:</p>\n<h2>Detecting non-browser apps as browsers</h2>\n<p>They query for browsers can detect non-browser applications, which will lead the an <code>ActivityNotFoundException</code> when launching the Custom Tab. See <a href=\"https://github.com/GoogleChrome/android-browser-helper/issues/89\" rel=\"nofollow noreferrer\">this issue</a> for an example.</p>\n<p>When querying for packages that can handle browser intents, I recommend using the below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nIntent browserIntent = new Intent()\n        .setAction(Intent.ACTION_VIEW)\n        .addCategory(Intent.CATEGORY_BROWSABLE)\n        .setData(Uri.fromParts(&quot;http&quot;, &quot;&quot;, null));\n</code></pre>\n<p>This is also how the <a href=\"https://cs.android.com/android/platform/superproject/+/master:packages/modules/Permission/PermissionController/src/com/android/permissioncontroller/role/model/BrowserRoleBehavior.java;l=47-50?q=BrowserRoleBehavior&amp;ss=android%2Fplatform%2Fsuperproject\" rel=\"nofollow noreferrer\">Android framework itself detects browsers</a>.</p>\n<p>The following shouldn't be a problem as the the Custom Tab will still work, but the behaviour of <code>PackageManager.MATCH_DEFAULT_ONLY</code> changed on Android M and only the default browser is returned - I'm not sure what happens if a default browser is not set, but this may mean the returned list will be empty instead. This will mean users will get the disambiguation dialog when a default browser is not set. From Android M and above you may also want additionally query the package manager using <code>PackageManager.MATCH_ALL</code> if you want to get all browsers avoid the disambiguation dialog.</p>\n<p>Check out <a href=\"https://github.com/andreban/android-browser-helper/blob/e0fd36cbf4f2d7e77616981568dd614b25be177d/androidbrowserhelper/src/main/java/com/google/androidbrowserhelper/trusted/TwaProviderPicker.java#L103-L172\" rel=\"nofollow noreferrer\">this snippet</a> in the <code>android-browser-helper</code> library for detecting Custom Tabs and Trusted Web Activity.</p>\n<h2>Preparing for Android 11</h2>\n<p>Android 11 introduced <a href=\"https://developer.android.com/about/versions/11/privacy/package-visibility\" rel=\"nofollow noreferrer\">package visibility</a> and applications must now declare which packages they are querying for. If your application is not implementing this, the list returned when querying the package manage will be empty, even with a browser installed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n    possibleProviders.addAll(pm.queryIntentActivities(queryBrowsersIntent,\n                    PackageManager.MATCH_ALL));\n}\n</code></pre>\n<p>Again, this shouldn't cause an <code>ActivityNotFoundException</code> as it would just cause the Custom Tab to launch without a package set.</p>\n<h2>Disabled browsers</h2>\n<blockquote>\n<p>Note: Before I upgraded to custom-tabs in the live version, I used following code to open url but I always get the ActivityNotFoundException:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent browserIntent = new Intent(Intent.ACTION_VIEW, uri);\nstartActivity(browserIntent);\n</code></pre>\n</blockquote>\n<p>It is possible for users to disable all browser applications, but I wouldn't expect this to be common.</p>\n<p>Another thing to be aware of is that Android TV and Android Auto devices don't have a browser installed. If your application is targeting those devices you won't be able to open these URLs. But this is only a problem if your app is targeting these platforms.</p>\n"},{"comments":[{"owner":{"account_id":4851581,"reputation":2569,"user_id":3913732,"accept_rate":53,"display_name":"Sudheesh Mohan"},"score":0,"creation_date":1670826099,"post_id":67977965,"comment_id":131954646,"body_markdown":"If the only browser Google Chrome is disabled, this will throw                                                                                                     android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW at the last line         mContext.startActivity(browserIntent2);","body":"If the only browser Google Chrome is disabled, this will throw                                                                                                     android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW at the last line         mContext.startActivity(browserIntent2);"}],"tags":[],"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1623710367,"creation_date":1623710367,"answer_id":67977965,"question_id":67476856,"body_markdown":"I create a method which based on @andreban&#39;s answer. I believe it will open url %99.99 times.\r\n\r\n    public static void openURL(Context mContext, Uri uri) {\r\n        CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\r\n        builder.setShowTitle(true);\r\n        CustomTabsIntent customTabsIntent = builder.build();\r\n        Intent browserIntent = new Intent()\r\n                .setAction(Intent.ACTION_VIEW)\r\n                .addCategory(Intent.CATEGORY_BROWSABLE)\r\n                .setType(&quot;text/plain&quot;)\r\n                .setData(Uri.fromParts(&quot;http&quot;, &quot;&quot;, null));\r\n\r\n        List&lt;ResolveInfo&gt; possibleBrowsers;\r\n        if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n            possibleBrowsers = mContext.getPackageManager().queryIntentActivities(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);\r\n            if (possibleBrowsers.size() == 0) {\r\n                possibleBrowsers = mContext.getPackageManager().queryIntentActivities(browserIntent, PackageManager.MATCH_ALL);\r\n            }\r\n        } else {\r\n            possibleBrowsers = mContext.getPackageManager().queryIntentActivities(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);\r\n        }\r\n\r\n        if (possibleBrowsers.size() &gt; 0) {\r\n            customTabsIntent.intent.setPackage(possibleBrowsers.get(0).activityInfo.packageName);\r\n            customTabsIntent.launchUrl(mContext, uri);\r\n        } else {\r\n            Intent browserIntent2 = new Intent(Intent.ACTION_VIEW, uri);\r\n            mContext.startActivity(browserIntent2);\r\n        }\r\n    }","title":"Fatal Exception: android.content.ActivityNotFoundException: No Activity found to handle Intent","body":"<p>I create a method which based on @andreban's answer. I believe it will open url %99.99 times.</p>\n<pre><code>public static void openURL(Context mContext, Uri uri) {\n    CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\n    builder.setShowTitle(true);\n    CustomTabsIntent customTabsIntent = builder.build();\n    Intent browserIntent = new Intent()\n            .setAction(Intent.ACTION_VIEW)\n            .addCategory(Intent.CATEGORY_BROWSABLE)\n            .setType(&quot;text/plain&quot;)\n            .setData(Uri.fromParts(&quot;http&quot;, &quot;&quot;, null));\n\n    List&lt;ResolveInfo&gt; possibleBrowsers;\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n        possibleBrowsers = mContext.getPackageManager().queryIntentActivities(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);\n        if (possibleBrowsers.size() == 0) {\n            possibleBrowsers = mContext.getPackageManager().queryIntentActivities(browserIntent, PackageManager.MATCH_ALL);\n        }\n    } else {\n        possibleBrowsers = mContext.getPackageManager().queryIntentActivities(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);\n    }\n\n    if (possibleBrowsers.size() &gt; 0) {\n        customTabsIntent.intent.setPackage(possibleBrowsers.get(0).activityInfo.packageName);\n        customTabsIntent.launchUrl(mContext, uri);\n    } else {\n        Intent browserIntent2 = new Intent(Intent.ACTION_VIEW, uri);\n        mContext.startActivity(browserIntent2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20321377,"reputation":39,"user_id":14905999,"display_name":"Hadym Varan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680704380,"creation_date":1680704380,"answer_id":75940587,"question_id":67476856,"body_markdown":"I also create a method which based on @andreban&#39;s answer, but I had a problem with url because it contained a query parameter.\r\n\r\n**ActivityNotFoundException when:**\r\n\r\n    val url = &quot;https://somesite.com/page?num=4&quot;\r\n    val uri = Uri.parse(url)\r\n\r\n**Custom Tabs opened when:**\r\n\r\n    val uri = Uri.Builder()\r\n            .scheme(&quot;https&quot;)\r\n            .authority(&quot;somesite.com&quot;)\r\n            .appendPath(&quot;page&quot;)\r\n            .appendQueryParameter(&quot;num&quot;, 4)\r\n            .build()\r\n[This discussion helped create a uri][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/19167954/14905999","title":"Fatal Exception: android.content.ActivityNotFoundException: No Activity found to handle Intent","body":"<p>I also create a method which based on @andreban's answer, but I had a problem with url because it contained a query parameter.</p>\n<p><strong>ActivityNotFoundException when:</strong></p>\n<pre><code>val url = &quot;https://somesite.com/page?num=4&quot;\nval uri = Uri.parse(url)\n</code></pre>\n<p><strong>Custom Tabs opened when:</strong></p>\n<pre><code>val uri = Uri.Builder()\n        .scheme(&quot;https&quot;)\n        .authority(&quot;somesite.com&quot;)\n        .appendPath(&quot;page&quot;)\n        .appendQueryParameter(&quot;num&quot;, 4)\n        .build()\n</code></pre>\n<p><a href=\"https://stackoverflow.com/q/19167954/14905999\">This discussion helped create a uri</a></p>\n"}],"owner":{"account_id":2912207,"reputation":1996,"user_id":4606368,"accept_rate":29,"display_name":"Aykut Uludağ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67977965,"answer_count":3,"score":0,"last_activity_date":1680704380,"creation_date":1620676199,"question_id":67476856,"body_markdown":"I&#39;m getting following error on some devices while opening url. I don&#39;t get any error on my devices but many devices are.\r\n\r\n    Fatal Exception: android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=https://google.com/... }\r\n       at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2076)\r\n       at android.app.Instrumentation.execStartActivity(Instrumentation.java:1720)\r\n       at android.app.Activity.startActivityForResult(Activity.java:5258)\r\n       at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:574)\r\n       at android.app.Activity.startActivityForResult(Activity.java:5203)\r\n       at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:560)\r\n       at android.app.Activity.startActivity(Activity.java:5587)\r\n       at android.app.Activity.startActivity(Activity.java:5555)\r\n\r\nThe code where error occurs is pretty straight-forward.\r\n\r\n    Uri uri = Uri.parse(&quot;https://google.com&quot;);\r\n\r\n    try {\r\n         CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\r\n         builder.setShowTitle(true);\r\n         CustomTabsIntent customTabsIntent = builder.build();\r\n         Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://&quot;));\r\n\r\n         ResolveInfo resolveInfo = getPackageManager().resolveActivity(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);\r\n         if (resolveInfo != null &amp;&amp; resolveInfo.activityInfo.packageName.length() &gt; 0) {\r\n             customTabsIntent.intent.setPackage(resolveInfo.activityInfo.packageName);\r\n         }\r\n\r\n         customTabsIntent.launchUrl(this, uri);\r\n    } catch (ActivityNotFoundException e) {\r\n              // Do nothing\r\n    }\r\n\r\nIn some devices (not old devices, mostly newest device), exception triggered but how can it be possible? This means devices has **0 browser**? If so, my question is how can I open url even user **disabled all browsers**? Thanks in advance.\r\n\r\n**Note:** Before I upgraded to custom-tabs in the live version, I used following code to open url but I always get the *ActivityNotFoundException*:\r\n\r\n    Intent browserIntent = new Intent(Intent.ACTION_VIEW, uri);\r\n    startActivity(browserIntent);\r\n\r\nIt is the simplest code the open any url but without usage of try/catch causes crashes. It doesn&#39;t matter to use normal way or custom-tabs, it always causes *ActivityNotFoundException*. I&#39;m looking a solution which opening url whatever happens. I&#39;m not sure whether it is possible or not.\r\n\r\n**Note2:** MinApi is Android 5.0 (Lollipop)\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ikU1Z.png","title":"Fatal Exception: android.content.ActivityNotFoundException: No Activity found to handle Intent","body":"<p>I'm getting following error on some devices while opening url. I don't get any error on my devices but many devices are.</p>\n<pre><code>Fatal Exception: android.content.ActivityNotFoundException: No Activity found to handle Intent { act=android.intent.action.VIEW dat=https://google.com/... }\n   at android.app.Instrumentation.checkStartActivityResult(Instrumentation.java:2076)\n   at android.app.Instrumentation.execStartActivity(Instrumentation.java:1720)\n   at android.app.Activity.startActivityForResult(Activity.java:5258)\n   at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:574)\n   at android.app.Activity.startActivityForResult(Activity.java:5203)\n   at androidx.activity.ComponentActivity.startActivityForResult(ComponentActivity.java:560)\n   at android.app.Activity.startActivity(Activity.java:5587)\n   at android.app.Activity.startActivity(Activity.java:5555)\n</code></pre>\n<p>The code where error occurs is pretty straight-forward.</p>\n<pre><code>Uri uri = Uri.parse(&quot;https://google.com&quot;);\n\ntry {\n     CustomTabsIntent.Builder builder = new CustomTabsIntent.Builder();\n     builder.setShowTitle(true);\n     CustomTabsIntent customTabsIntent = builder.build();\n     Intent browserIntent = new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://&quot;));\n\n     ResolveInfo resolveInfo = getPackageManager().resolveActivity(browserIntent, PackageManager.MATCH_DEFAULT_ONLY);\n     if (resolveInfo != null &amp;&amp; resolveInfo.activityInfo.packageName.length() &gt; 0) {\n         customTabsIntent.intent.setPackage(resolveInfo.activityInfo.packageName);\n     }\n\n     customTabsIntent.launchUrl(this, uri);\n} catch (ActivityNotFoundException e) {\n          // Do nothing\n}\n</code></pre>\n<p>In some devices (not old devices, mostly newest device), exception triggered but how can it be possible? This means devices has <strong>0 browser</strong>? If so, my question is how can I open url even user <strong>disabled all browsers</strong>? Thanks in advance.</p>\n<p><strong>Note:</strong> Before I upgraded to custom-tabs in the live version, I used following code to open url but I always get the <em>ActivityNotFoundException</em>:</p>\n<pre><code>Intent browserIntent = new Intent(Intent.ACTION_VIEW, uri);\nstartActivity(browserIntent);\n</code></pre>\n<p>It is the simplest code the open any url but without usage of try/catch causes crashes. It doesn't matter to use normal way or custom-tabs, it always causes <em>ActivityNotFoundException</em>. I'm looking a solution which opening url whatever happens. I'm not sure whether it is possible or not.</p>\n<p><strong>Note2:</strong> MinApi is Android 5.0 (Lollipop)</p>\n<p><a href=\"https://i.stack.imgur.com/ikU1Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ikU1Z.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","gwt","frontend","uibinder"],"answers":[{"tags":[],"owner":{"account_id":23489944,"reputation":26,"user_id":17541087,"display_name":"collder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680704189,"creation_date":1680704189,"answer_id":75940547,"question_id":75469473,"body_markdown":"GWT has `DebugInfo` class which creates `dbg` attribute where you can add your custom information.\r\nSo you can do like this for example:\r\n\r\n    String dataGridId = &quot;custom id for element&quot;;\r\n    someWidget.setAttribute(DebugInfo.getDebugIdAttribute(), dataGridId));\r\nAnd your selenium can find element:\r\n\r\n    webDriver.findElement(By.cssSelector(&quot;*[dbg=&#39;&quot; + dataGridId + &quot;&#39;]&quot;))\r\n\r\nThis way will work for whole data grid.\r\nTo search headers with selenium you can just compare text from header itself the same way\r\n\r\n    webDriver.findElement(By.anyMethod())).getText()\r\nActually you can `.getText()` from any `WebElement`","title":"GWT add ids to the datagrids as a whole, its headers and rows","body":"<p>GWT has <code>DebugInfo</code> class which creates <code>dbg</code> attribute where you can add your custom information.\nSo you can do like this for example:</p>\n<pre><code>String dataGridId = &quot;custom id for element&quot;;\nsomeWidget.setAttribute(DebugInfo.getDebugIdAttribute(), dataGridId));\n</code></pre>\n<p>And your selenium can find element:</p>\n<pre><code>webDriver.findElement(By.cssSelector(&quot;*[dbg='&quot; + dataGridId + &quot;']&quot;))\n</code></pre>\n<p>This way will work for whole data grid.\nTo search headers with selenium you can just compare text from header itself the same way</p>\n<pre><code>webDriver.findElement(By.anyMethod())).getText()\n</code></pre>\n<p>Actually you can <code>.getText()</code> from any <code>WebElement</code></p>\n"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680704189,"creation_date":1676535489,"question_id":75469473,"body_markdown":"I&#39;m struggling to give several ids to my data grids using gwt in order to ease the frontend testing using robotframework with selenium library.\r\n\r\nHow can I add an id to each header and row of the data grid or cell grid?\r\n\r\nAnd to the whole datagrid? \r\n\r\nThanks in advance.","title":"GWT add ids to the datagrids as a whole, its headers and rows","body":"<p>I'm struggling to give several ids to my data grids using gwt in order to ease the frontend testing using robotframework with selenium library.</p>\n<p>How can I add an id to each header and row of the data grid or cell grid?</p>\n<p>And to the whole datagrid?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","cmake","telegram","tdlib"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1680722429,"post_id":75940528,"comment_id":133948265,"body_markdown":"related: https://github.com/tdlib/td/blob/1dec0e203ca8110ea53f57830eb5d890a648d0e0/example/java/CMakeLists.txt#L67 This might(?) be a bug in tdlib&#39;s CMake config. I notice that they don&#39;t pass [the `-sourcepath` option](https://docs.oracle.com/javase/9/javadoc/javadoc-command.htm#JSJAV-GUID-3051737B-FFF9-45F9-85D1-5F07D6703592:~:text=%2D%2Dsource%2Dpath%20path%20OR%20%2Dsourcepath%20path) in their call to `javadoc`.","body":"related: <a href=\"https://github.com/tdlib/td/blob/1dec0e203ca8110ea53f57830eb5d890a648d0e0/example/java/CMakeLists.txt#L67\" rel=\"nofollow noreferrer\">github.com/tdlib/td/blob/&hellip;</a> This might(?) be a bug in tdlib&#39;s CMake config. I notice that they don&#39;t pass <a href=\"https://docs.oracle.com/javase/9/javadoc/javadoc-command.htm#JSJAV-GUID-3051737B-FFF9-45F9-85D1-5F07D6703592:~:text=%2D%2Dsource%2Dpath%20path%20OR%20%2Dsourcepath%20path\" rel=\"nofollow noreferrer\">the <code>-sourcepath</code> option</a> in their call to <code>javadoc</code>."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1680722813,"post_id":75940528,"comment_id":133948344,"body_markdown":"You can additionally [create an issue ticket](https://github.com/tdlib/td/issues/new/choose) describing your issue to get more eyes on this problem. If you do so, please [edit] your post to include a link to it so I can subscribe to it as well.","body":"You can additionally <a href=\"https://github.com/tdlib/td/issues/new/choose\" rel=\"nofollow noreferrer\">create an issue ticket</a> describing your issue to get more eyes on this problem. If you do so, please <a href=\"https://stackoverflow.com/posts/75940528/edit\">edit</a> your post to include a link to it so I can subscribe to it as well."},{"owner":{"account_id":4022838,"reputation":2676,"user_id":3312425,"accept_rate":24,"display_name":"Davoud"},"score":0,"creation_date":1687602791,"post_id":75940528,"comment_id":134962034,"body_markdown":"https://tdlib.github.io/td/build.html?language=Java","body":"<a href=\"https://tdlib.github.io/td/build.html?language=Java\" rel=\"nofollow noreferrer\">tdlib.github.io/td/build.html?language=Java</a>"}],"owner":{"account_id":26009492,"reputation":1,"user_id":19718797,"display_name":"Kikx"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680704171,"creation_date":1680704086,"question_id":75940528,"body_markdown":"when i try to build a java project i get the following error: \r\n\r\nMSBuild version 17.5.1+f6fdcf537 for .NET Framework\r\n\r\n  \r\n```\r\nGenerating Java TDLib API source files\r\n  Building Java code\r\n  C:\\Users\\T\\Desktop\\t\\td\\example\\java\\org\\drinkless\\tdlib\\Client.java:229: warning: [removal] finalize() in Obje\r\n  ct has been deprecated and marked for removal\r\n      protected void finalize() throws Throwable {\r\n                     ^\r\n  1 warning\r\n  Generating Javadoc documentation\r\n  Loading source files for package org.drinkless.tdlib...\r\n\r\nCUSTOMBUILD : error : No source files for package org.drinkless.tdlib [C:\\Users\\T\\Desktop\\t\\td\\example\\java\\build\r\n\\generate_javadoc.vcxproj] D:\\N\\MSBuild\\Microsoft\\VC\\v170\\Microsoft.CppCommon.targets(247,5): error MSB8066: custom assembly for &quot;C:\\Users\\T\\Desktop\\t\\td\\example\\java\\build\\CMakeFiles\\38a1aee34003018bfa3f2a5c470b9fa0\\generate_javadoc.rul\r\ne;C:\\Users\\T\\Desktop\\t\\td\\example\\java\\CMakeLists.txt&quot; exited with code 2.\r\n [C:\\Users\\T\\Desktop\\t\\td\r\n\\example\\java\\build\\generate_javadoc.vcxproj]\r\n```\r\n\r\nthis happens after trying to enter \r\n```\r\netc\\td\\example\\java\\build&gt; cmake --build . --target install\r\n```\r\n\r\nHere&#39;s a link to the instructions I&#39;m following https://github.com/tdlib/td/tree/master/example/java\r\n\r\n\r\n\r\nI tried a lot of things from what Google gave out, nothing helped","title":"building the tdlib project in java","body":"<p>when i try to build a java project i get the following error:</p>\n<p>MSBuild version 17.5.1+f6fdcf537 for .NET Framework</p>\n<pre><code>Generating Java TDLib API source files\n  Building Java code\n  C:\\Users\\T\\Desktop\\t\\td\\example\\java\\org\\drinkless\\tdlib\\Client.java:229: warning: [removal] finalize() in Obje\n  ct has been deprecated and marked for removal\n      protected void finalize() throws Throwable {\n                     ^\n  1 warning\n  Generating Javadoc documentation\n  Loading source files for package org.drinkless.tdlib...\n\nCUSTOMBUILD : error : No source files for package org.drinkless.tdlib [C:\\Users\\T\\Desktop\\t\\td\\example\\java\\build\n\\generate_javadoc.vcxproj] D:\\N\\MSBuild\\Microsoft\\VC\\v170\\Microsoft.CppCommon.targets(247,5): error MSB8066: custom assembly for &quot;C:\\Users\\T\\Desktop\\t\\td\\example\\java\\build\\CMakeFiles\\38a1aee34003018bfa3f2a5c470b9fa0\\generate_javadoc.rul\ne;C:\\Users\\T\\Desktop\\t\\td\\example\\java\\CMakeLists.txt&quot; exited with code 2.\n [C:\\Users\\T\\Desktop\\t\\td\n\\example\\java\\build\\generate_javadoc.vcxproj]\n</code></pre>\n<p>this happens after trying to enter</p>\n<pre><code>etc\\td\\example\\java\\build&gt; cmake --build . --target install\n</code></pre>\n<p>Here's a link to the instructions I'm following <a href=\"https://github.com/tdlib/td/tree/master/example/java\" rel=\"nofollow noreferrer\">https://github.com/tdlib/td/tree/master/example/java</a></p>\n<p>I tried a lot of things from what Google gave out, nothing helped</p>\n"},{"tags":["java","android","android-studio","layout","screen"],"owner":{"account_id":25929375,"reputation":69,"user_id":19650731,"display_name":"Eldestornillador"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680703980,"creation_date":1680703980,"question_id":75940509,"body_markdown":"I have an element that is in a ConstraintLayout. Its constraints are:\r\n\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/guideline&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n\r\nthe guideline has the following attributes:\r\n\r\n    &lt;androidx.constraintlayout.widget.Guideline\r\n        android:id=&quot;@+id/guideline&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        app:layout_constraintGuide_percent=&quot;0.6&quot; /&gt;\r\n\r\nOkay so we know that the height of the element will be the usable screen height * (1-0.6), so the result should be usable screen height * 0.4\r\n\r\nTo calculate the usable screen height I use the following:\r\n\r\n        Configuration configuration = getResources().getConfiguration();\r\n\r\n        float screenHeightDp = configuration.screenHeightDp;\r\n        float screenHeightPx = DptoPx(screenHeightDp, this)\r\n\r\nDptoPx method:\r\n\r\n    public static float DptoPx(float dp, Context context){\r\n        return dp * ((float) context.getResources().getDisplayMetrics().densityDpi / \r\n        DisplayMetrics.DENSITY_DEFAULT);\r\n    }\r\n\r\nFinally I calculate the element&#39;s height as I have said before:\r\n\r\n         double finalemenetheight = Math.round(screenHeightPx*0.4)\r\n\r\n\r\nNow to check that the result is okay, I am calculating the height of the element after the drawing phase:\r\n\r\n        element.post(() -&gt; {\r\n                   double realelementheight=element.getHeight();\r\n        });\r\n\r\nSupposedly, *finalelementheight* should be exatly equal to *realelementheight* but they differ in one pixel, and I need them to be equal as one pixel of difference can cause a huge problem in my project. I think that the problem is that Android calculates the height in a special way, I would appreciate some help.\r\n","title":"Calculated height of element differs by 1 pixel from the real height","body":"<p>I have an element that is in a ConstraintLayout. Its constraints are:</p>\n<pre><code>    app:layout_constraintTop_toBottomOf=&quot;@id/guideline&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n</code></pre>\n<p>the guideline has the following attributes:</p>\n<pre><code>&lt;androidx.constraintlayout.widget.Guideline\n    android:id=&quot;@+id/guideline&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:orientation=&quot;horizontal&quot;\n    app:layout_constraintGuide_percent=&quot;0.6&quot; /&gt;\n</code></pre>\n<p>Okay so we know that the height of the element will be the usable screen height * (1-0.6), so the result should be usable screen height * 0.4</p>\n<p>To calculate the usable screen height I use the following:</p>\n<pre><code>    Configuration configuration = getResources().getConfiguration();\n\n    float screenHeightDp = configuration.screenHeightDp;\n    float screenHeightPx = DptoPx(screenHeightDp, this)\n</code></pre>\n<p>DptoPx method:</p>\n<pre><code>public static float DptoPx(float dp, Context context){\n    return dp * ((float) context.getResources().getDisplayMetrics().densityDpi / \n    DisplayMetrics.DENSITY_DEFAULT);\n}\n</code></pre>\n<p>Finally I calculate the element's height as I have said before:</p>\n<pre><code>     double finalemenetheight = Math.round(screenHeightPx*0.4)\n</code></pre>\n<p>Now to check that the result is okay, I am calculating the height of the element after the drawing phase:</p>\n<pre><code>    element.post(() -&gt; {\n               double realelementheight=element.getHeight();\n    });\n</code></pre>\n<p>Supposedly, <em>finalelementheight</em> should be exatly equal to <em>realelementheight</em> but they differ in one pixel, and I need them to be equal as one pixel of difference can cause a huge problem in my project. I think that the problem is that Android calculates the height in a special way, I would appreciate some help.</p>\n"},{"tags":["java","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1653047560,"post_id":72315717,"comment_id":127761416,"body_markdown":"that method is in spring-data-commons:2.7.0 which should be pulled in from Spring Boot 2.7.0 and spring-data-elasticsearch:4.4.0\n\n\nCan you check which versions are _really_ used in your project. It seems that an older version of spring-data-commons is used.","body":"that method is in spring-data-commons:2.7.0 which should be pulled in from Spring Boot 2.7.0 and spring-data-elasticsearch:4.4.0   Can you check which versions are <i>really</i> used in your project. It seems that an older version of spring-data-commons is used."}],"owner":{"account_id":25301058,"reputation":11,"user_id":19125285,"display_name":"Rakesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1211,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680703835,"creation_date":1653034906,"question_id":72315717,"body_markdown":"I am using &quot;spring-data-elasticsearch&quot; but\r\ngetting the below error while using **findById(id)** in spring data elasticsearch.\r\n\r\nNote: save/update is working fine.\r\n\r\nCan someone please help me here?\r\n\r\n**Error:**\r\n\r\n    java.lang.NoSuchMethodError: &#39;org.springframework.data.mapping.InstanceCreatorMetadata org.springframework.data.elasticsearch.core.mapping.ElasticsearchPersistentEntity.getInstanceCreatorMetadata()&#39;\r\n\tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readEntity(MappingElasticsearchConverter.java:311)\r\n\tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.read(MappingElasticsearchConverter.java:258)\r\n\tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.read(MappingElasticsearchConverter.java:217)\r\n\tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter.read(MappingElasticsearchConverter.java:161)\r\n\tat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter.read(MappingElasticsearchConverter.java:83)\r\n\tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadDocumentCallback.doWith(AbstractElasticsearchTemplate.java:745)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\r\n\tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadSearchDocumentResponseCallback.doWith(AbstractElasticsearchTemplate.java:778)\r\n\tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadSearchDocumentResponseCallback.doWith(AbstractElasticsearchTemplate.java:763)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.search(ElasticsearchRestTemplate.java:404)\r\n\tat org.springframework.data.elasticsearch.core.SearchOperations.searchOne(SearchOperations.java:123)\r\n\tat org.springframework.data.elasticsearch.repository.query.ElasticsearchPartQuery.execute(ElasticsearchPartQuery.java:132)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat com.sun.proxy.$Proxy106.findByDataSourceId(Unknown Source)\r\n\r\n\r\n**please find the maven dependency that I am using**\r\n\r\n    &lt;!-- Elastic Search --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.7.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.4.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;transport&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.17.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.17.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"NoSuchMethodError: org.springframework.data.elasticsearch.core.mapping.ElasticsearchPersistentEntity.getInstanceCreatorMetadata()&#39;","body":"<p>I am using &quot;spring-data-elasticsearch&quot; but\ngetting the below error while using <strong>findById(id)</strong> in spring data elasticsearch.</p>\n<p>Note: save/update is working fine.</p>\n<p>Can someone please help me here?</p>\n<p><strong>Error:</strong></p>\n<pre><code>java.lang.NoSuchMethodError: 'org.springframework.data.mapping.InstanceCreatorMetadata org.springframework.data.elasticsearch.core.mapping.ElasticsearchPersistentEntity.getInstanceCreatorMetadata()'\nat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.readEntity(MappingElasticsearchConverter.java:311)\nat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.read(MappingElasticsearchConverter.java:258)\nat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter$Reader.read(MappingElasticsearchConverter.java:217)\nat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter.read(MappingElasticsearchConverter.java:161)\nat org.springframework.data.elasticsearch.core.convert.MappingElasticsearchConverter.read(MappingElasticsearchConverter.java:83)\nat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadDocumentCallback.doWith(AbstractElasticsearchTemplate.java:745)\nat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\nat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655)\nat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\nat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\nat java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:913)\nat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:578)\nat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadSearchDocumentResponseCallback.doWith(AbstractElasticsearchTemplate.java:778)\nat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate$ReadSearchDocumentResponseCallback.doWith(AbstractElasticsearchTemplate.java:763)\nat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.search(ElasticsearchRestTemplate.java:404)\nat org.springframework.data.elasticsearch.core.SearchOperations.searchOne(SearchOperations.java:123)\nat org.springframework.data.elasticsearch.repository.query.ElasticsearchPartQuery.execute(ElasticsearchPartQuery.java:132)\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\nat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:152)\nat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\nat com.sun.proxy.$Proxy106.findByDataSourceId(Unknown Source)\n</code></pre>\n<p><strong>please find the maven dependency that I am using</strong></p>\n<pre><code>&lt;!-- Elastic Search --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;4.4.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;transport&lt;/artifactId&gt;\n                &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n        &lt;version&gt;7.17.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n        &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n        &lt;version&gt;7.17.3&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","swing","filter","jide"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1680611851,"post_id":75929210,"comment_id":133924577,"body_markdown":"Are you referring to a [JIDE] [grid](http://www.jidesoft.com/products/grids.htm)?","body":"Are you referring to a [JIDE] <a href=\"http://www.jidesoft.com/products/grids.htm\" rel=\"nofollow noreferrer\">grid</a>?"},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1680612158,"post_id":75929210,"comment_id":133924667,"body_markdown":"@Abra I am using com.jidesoft.filter.* . Thanks","body":"@Abra I am using com.jidesoft.filter.* . Thanks"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680614660,"post_id":75929210,"comment_id":133925320,"body_markdown":"don&#39;t they support chaining similar to core predicates?","body":"don&#39;t they support chaining similar to core predicates?"},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1680616134,"post_id":75929210,"comment_id":133925771,"body_markdown":"@kleopatra I am currently learning about swing. Can you please elaborate or share a link. Thank you","body":"@kleopatra I am currently learning about swing. Can you please elaborate or share a link. Thank you"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1680617729,"post_id":75929210,"comment_id":133926194,"body_markdown":"see java.util.Predicate and compare the api of jidesoft Filter with it (don&#39;t know whether or not the latter has something similar, it&#39;s rather oldish afair - but you can implement something similar yourself, probably :)","body":"see java.util.Predicate and compare the api of jidesoft Filter with it (don&#39;t know whether or not the latter has something similar, it&#39;s rather oldish afair - but you can implement something similar yourself, probably :)"},{"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"score":0,"creation_date":1680703412,"post_id":75929210,"comment_id":133943243,"body_markdown":"I was able to make it work using AndFilter.","body":"I was able to make it work using AndFilter."}],"answers":[{"tags":[],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680703520,"creation_date":1680703520,"answer_id":75940423,"question_id":75929210,"body_markdown":"I was able to combine Multiple filters using AndFilter.","title":"How to apply multiple filters to the column","body":"<p>I was able to combine Multiple filters using AndFilter.</p>\n"}],"owner":{"account_id":15801712,"reputation":1288,"user_id":11402025,"display_name":"Tanu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75940423,"answer_count":1,"score":0,"last_activity_date":1680703520,"creation_date":1680609988,"question_id":75929210,"body_markdown":"I have a filter applied to my column, which is considering a single filter option. How can I apply multiple filters to the same column. \r\n\r\n```\r\nAbstractFilter filter;\r\nWildcardFilter&lt;Object&gt; filter = new WildcardFilter&lt;Object&gt;(filterValue) {\r\n                        @Override\r\n                        @SuppressWarnings(value = &quot;unchecked&quot;)\r\n                        public boolean isValueFiltered(final Object result) {\r\n                            boolean isValueFiltered = super.isValueFiltered(s);\r\n                            isValueFiltered;\r\n                        }\r\n                    };\r\n                       filter.setBeginWith(false);\r\n                       filter.setEndWith(false);\r\n                       filter = filter;\r\n```\r\n","title":"How to apply multiple filters to the column","body":"<p>I have a filter applied to my column, which is considering a single filter option. How can I apply multiple filters to the same column.</p>\n<pre><code>AbstractFilter filter;\nWildcardFilter&lt;Object&gt; filter = new WildcardFilter&lt;Object&gt;(filterValue) {\n                        @Override\n                        @SuppressWarnings(value = &quot;unchecked&quot;)\n                        public boolean isValueFiltered(final Object result) {\n                            boolean isValueFiltered = super.isValueFiltered(s);\n                            isValueFiltered;\n                        }\n                    };\n                       filter.setBeginWith(false);\n                       filter.setEndWith(false);\n                       filter = filter;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680693895,"post_id":75938776,"comment_id":133940441,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1680703571,"post_id":75938776,"comment_id":133943293,"body_markdown":"The code looks fine to me at first glance, so likely the problem is elsewhere. I recommend debugging the code locally, and telling us the result. So set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line. With this, what is the **first** line that doesn&#39;t do what you expect it to do?","body":"The code looks fine to me at first glance, so likely the problem is elsewhere. I recommend debugging the code locally, and telling us the result. So set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line. With this, what is the <b>first</b> line that doesn&#39;t do what you expect it to do?"}],"owner":{"account_id":27841709,"reputation":3,"user_id":21258064,"display_name":"Donny"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680703483,"creation_date":1680693567,"question_id":75938776,"body_markdown":"I am creating a route planner app in Android Studio using OpenStreetMap for the map and Firebase database which has &quot;category&quot;, &quot;latitude&quot;, and &quot;longitude&quot; I want to be able to retrieve this information and show the locations on my mapview \r\nThis is the code I am using in my MainActivity where my mapview is:\r\n```\r\n// Retrieve data from Firebase Realtime Database\r\nDatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;locations&quot;);\r\nref.addValueEventListener(new ValueEventListener() {\r\n    @Override\r\n    public void onDataChange(DataSnapshot dataSnapshot) {\r\n        List&lt;VanCameraLocations&gt; locationList = new ArrayList&lt;&gt;();\r\n        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\r\n            String category = snapshot.child(&quot;category&quot;).getValue(String.class);\r\n            double latitude = snapshot.child(&quot;latitude&quot;).getValue(Double.class);\r\n            double longitude = snapshot.child(&quot;longitude&quot;).getValue(Double.class);\r\n            VanCameraLocations location = new VanCameraLocations(category, latitude, longitude);\r\n            locationList.add(location);\r\n        }\r\n        // Display markers on mapview\r\n        Drawable markerIcon = getResources().getDrawable(R.drawable.marker_icon);\r\n        for (VanCameraLocations location : locationList) {\r\n            Marker marker = new Marker(mapView);\r\n            marker.setPosition(new GeoPoint(location.getLatitude(), location.getLongitude()));\r\n            marker.setTitle(location.getCategory());\r\n            marker.setIcon(markerIcon);\r\n            mapView.getOverlays().add(marker);\r\n        }\r\n    }\r\n    @Override\r\n    public void onCancelled(DatabaseError databaseError) {\r\n        Log.e(TAG, &quot;onCancelled&quot;, databaseError.toException());\r\n    }\r\n});\r\n```\r\nI&#39;m not sure how to add the JSON file to this question but here is what one location I have in my firebase look like\r\n```\r\n{\r\n  &quot;locations&quot;: {\r\n    &quot;location1&quot;: {\r\n      &quot;Category&quot;: &quot;Speed Van&quot;,\r\n      &quot;latitude&quot;: 52.519345,\r\n      &quot;longitude&quot;: -6.610428\r\n    }\r\n```\r\n\r\nI&#39;m not sure how this doesn&#39;t work can someone help me please","title":"Retrieving latitude and longitude from Firebase database and show markers on the map in Android Studio","body":"<p>I am creating a route planner app in Android Studio using OpenStreetMap for the map and Firebase database which has &quot;category&quot;, &quot;latitude&quot;, and &quot;longitude&quot; I want to be able to retrieve this information and show the locations on my mapview\nThis is the code I am using in my MainActivity where my mapview is:</p>\n<pre><code>// Retrieve data from Firebase Realtime Database\nDatabaseReference ref = FirebaseDatabase.getInstance().getReference(&quot;locations&quot;);\nref.addValueEventListener(new ValueEventListener() {\n    @Override\n    public void onDataChange(DataSnapshot dataSnapshot) {\n        List&lt;VanCameraLocations&gt; locationList = new ArrayList&lt;&gt;();\n        for (DataSnapshot snapshot : dataSnapshot.getChildren()) {\n            String category = snapshot.child(&quot;category&quot;).getValue(String.class);\n            double latitude = snapshot.child(&quot;latitude&quot;).getValue(Double.class);\n            double longitude = snapshot.child(&quot;longitude&quot;).getValue(Double.class);\n            VanCameraLocations location = new VanCameraLocations(category, latitude, longitude);\n            locationList.add(location);\n        }\n        // Display markers on mapview\n        Drawable markerIcon = getResources().getDrawable(R.drawable.marker_icon);\n        for (VanCameraLocations location : locationList) {\n            Marker marker = new Marker(mapView);\n            marker.setPosition(new GeoPoint(location.getLatitude(), location.getLongitude()));\n            marker.setTitle(location.getCategory());\n            marker.setIcon(markerIcon);\n            mapView.getOverlays().add(marker);\n        }\n    }\n    @Override\n    public void onCancelled(DatabaseError databaseError) {\n        Log.e(TAG, &quot;onCancelled&quot;, databaseError.toException());\n    }\n});\n</code></pre>\n<p>I'm not sure how to add the JSON file to this question but here is what one location I have in my firebase look like</p>\n<pre><code>{\n  &quot;locations&quot;: {\n    &quot;location1&quot;: {\n      &quot;Category&quot;: &quot;Speed Van&quot;,\n      &quot;latitude&quot;: 52.519345,\n      &quot;longitude&quot;: -6.610428\n    }\n</code></pre>\n<p>I'm not sure how this doesn't work can someone help me please</p>\n"},{"tags":["java","sql-server","stored-procedures","mssql-jdbc"],"comments":[{"owner":{"account_id":4726205,"reputation":12248,"user_id":4420967,"display_name":"James Z"},"score":0,"creation_date":1680685731,"post_id":75937548,"comment_id":133938498,"body_markdown":"What does your procedure look like? Sounds pretty strange to use cursor for outputting data from a procedure.","body":"What does your procedure look like? Sounds pretty strange to use cursor for outputting data from a procedure."},{"owner":{"account_id":22367804,"reputation":1,"user_id":16583314,"display_name":"Dhinesh Mathiyalagan"},"score":0,"creation_date":1680687848,"post_id":75937548,"comment_id":133939011,"body_markdown":"Hi James, below is the procedure that I call using Java code.\n\nCREATE PROCEDURE get_employee_by_name\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; @p_name varchar(max),\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; @CUR_OUT cursor VARYING&#160; OUTPUT\n&#160;&#160;&#160; AS\n&#160;&#160;&#160; BEGIN\n&#160;&#160;&#160;&#160;&#160;&#160;&#160; SET @CUR_OUT = CURSOR FORWARD_ONLY&#160; FOR\n&#160;&#160;&#160;&#160;&#160; SELECT * FROM EMPLOYEE WHERE NAME LIKE @p_name + &#39;%&#39;;\n\n&#160;\n\n&#160;&#160;&#160; END\nGO\n```","body":"Hi James, below is the procedure that I call using Java code.  CREATE PROCEDURE get_employee_by_name         @p_name varchar(max),         @CUR_OUT cursor VARYING  OUTPUT     AS     BEGIN         SET @CUR_OUT = CURSOR FORWARD_ONLY  FOR       SELECT * FROM EMPLOYEE WHERE NAME LIKE @p_name + &#39;%&#39;;         END GO ```"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1680688749,"post_id":75937548,"comment_id":133939225,"body_markdown":"Ref cursor is an oracle thing. Why do you need cursor, just output the result itself","body":"Ref cursor is an oracle thing. Why do you need cursor, just output the result itself"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1680695052,"post_id":75937548,"comment_id":133940714,"body_markdown":"Well, [Support cursor out parameters #98](https://github.com/microsoft/mssql-jdbc/issues/98) from the mssql-jdbc team says &quot;nope.&quot;","body":"Well, <a href=\"https://github.com/microsoft/mssql-jdbc/issues/98\" rel=\"nofollow noreferrer\">Support cursor out parameters #98</a> from the mssql-jdbc team says &quot;nope.&quot;"}],"owner":{"account_id":22367804,"reputation":1,"user_id":16583314,"display_name":"Dhinesh Mathiyalagan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680703017,"creation_date":1680685407,"question_id":75937548,"body_markdown":"We have a requirement in our project to call the stored procedure created in SQL Server with one input parameter and one cursor output parameter. \r\nWhen I tried to call the stored procedure from Java code (code given below) using tyes.REF_CURSOR for cursor output parameter, we get error on running the server as &#39;REF_CURSOR&#39; is not supported. \r\n\r\nWe are using the latest JDBC driver for SQL Server (version 12.2).\r\n\r\nJava sample code:\r\n\r\n```\r\n CallableStatement cs = conn.prepareCall(&quot;{ call get_employee_by_name(?,?) }&quot;);\r\n cs.setString(1, &quot;mk&quot;);\r\n cs.registerOutParameter(2, Types.REF_CURSOR);\r\n cs.execute();\r\n ResultSet resultSet = (ResultSet) cs.getObject(2);\r\nwhile (resultSet.next()) {\r\n}\r\n```\r\n\r\nGetting following error on running the server:\r\n\r\n```\r\nREF_CURSOR is not supported.com.microsoft.sqlserver.jdbc.SQLServerException: REF_CURSOR is not supported.\r\n```\r\n\r\nI tried the ideas suggested in various stackoverflow questions but no luck.\r\n\r\nThe procedure:\r\n\r\n```\r\nCREATE PROCEDURE get_employee_by_name\r\n    @p_name varchar(max), \r\n    @CUR_OUT cursor VARYING OUTPUT\r\nAS\r\nBEGIN\r\n    SET @CUR_OUT = CURSOR FORWARD_ONLY \r\n    FOR SELECT * FROM EMPLOYEE\r\n    WHERE NAME LIKE @p_name + &#39;%&#39;;\r\nEND\r\nGO\r\n```","title":"REF_CURSOR type is not supported when used in Java code to call stored procedures with cursor output parameter in SQL Server","body":"<p>We have a requirement in our project to call the stored procedure created in SQL Server with one input parameter and one cursor output parameter.\nWhen I tried to call the stored procedure from Java code (code given below) using tyes.REF_CURSOR for cursor output parameter, we get error on running the server as 'REF_CURSOR' is not supported.</p>\n<p>We are using the latest JDBC driver for SQL Server (version 12.2).</p>\n<p>Java sample code:</p>\n<pre><code> CallableStatement cs = conn.prepareCall(&quot;{ call get_employee_by_name(?,?) }&quot;);\n cs.setString(1, &quot;mk&quot;);\n cs.registerOutParameter(2, Types.REF_CURSOR);\n cs.execute();\n ResultSet resultSet = (ResultSet) cs.getObject(2);\nwhile (resultSet.next()) {\n}\n</code></pre>\n<p>Getting following error on running the server:</p>\n<pre><code>REF_CURSOR is not supported.com.microsoft.sqlserver.jdbc.SQLServerException: REF_CURSOR is not supported.\n</code></pre>\n<p>I tried the ideas suggested in various stackoverflow questions but no luck.</p>\n<p>The procedure:</p>\n<pre><code>CREATE PROCEDURE get_employee_by_name\n    @p_name varchar(max), \n    @CUR_OUT cursor VARYING OUTPUT\nAS\nBEGIN\n    SET @CUR_OUT = CURSOR FORWARD_ONLY \n    FOR SELECT * FROM EMPLOYEE\n    WHERE NAME LIKE @p_name + '%';\nEND\nGO\n</code></pre>\n"},{"tags":["java","spring","spring-boot","h2","dbeaver"],"comments":[{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1680702858,"post_id":75940222,"comment_id":133943051,"body_markdown":"H2 is an in-memory database. It exists only locally in the JVM that created it.  It is entirely unclear to me how you &quot;connect&quot; to the database via DBeaver or IntelliJ IDEA, but I suspect what is in fact happening in each case is that ***another*** in-memory database is being created, locally to either DBeaver or IntelliJ IDEA, and it is of course empty, because it is not the same as the one that your JVM created and populated.","body":"H2 is an in-memory database. It exists only locally in the JVM that created it.  It is entirely unclear to me how you &quot;connect&quot; to the database via DBeaver or IntelliJ IDEA, but I suspect what is in fact happening in each case is that <b><i>another</i></b> in-memory database is being created, locally to either DBeaver or IntelliJ IDEA, and it is of course empty, because it is not the same as the one that your JVM created and populated."},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680703746,"post_id":75940222,"comment_id":133943362,"body_markdown":"Yes, I know and it is possible to connect to in memory database and see tables as I have done before.","body":"Yes, I know and it is possible to connect to in memory database and see tables as I have done before."},{"owner":{"account_id":1415841,"reputation":4086,"user_id":1341535,"accept_rate":78,"display_name":"Vsevolod Golovanov"},"score":0,"creation_date":1696611089,"post_id":75940222,"comment_id":136180099,"body_markdown":"@jonathan, did you ever figure it out? Having the same issue.","body":"@jonathan, did you ever figure it out? Having the same issue."}],"answers":[{"comments":[{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680703845,"post_id":75940298,"comment_id":133943390,"body_markdown":"Thanks for reply. I do not need to connect via both of them, Dbeaver would be enough. But the problem is table data is not seen. I want to use memory and connect in server mode as I used to before. So, any idea?","body":"Thanks for reply. I do not need to connect via both of them, Dbeaver would be enough. But the problem is table data is not seen. I want to use memory and connect in server mode as I used to before. So, any idea?"},{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":0,"creation_date":1680704011,"post_id":75940298,"comment_id":133943437,"body_markdown":"@jonathan This might be useful: https://stackoverflow.com/questions/7309359/view-content-of-h2-or-hsqldb-in-memory-database . You can try to connect to your `mem` h2 instance by specifying url like `jdbc:h2:tcp://localhost:9092/~/default`","body":"@jonathan This might be useful: <a href=\"https://stackoverflow.com/questions/7309359/view-content-of-h2-or-hsqldb-in-memory-database\" title=\"view content of h2 or hsqldb in memory database\">stackoverflow.com/questions/7309359/&hellip;</a> . You can try to connect to your <code>mem</code> h2 instance by specifying url like <code>jdbc:h2:tcp:&#47;&#47;localhost:9092&#47;~&#47;default</code>"},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680704297,"post_id":75940298,"comment_id":133943521,"body_markdown":"Thanks for help, actually I could connect there is no problem for connection. But I do not see any data. On the other hand, I checked that page, but unfortunately the approaches too old and most of them cannot be applicable.","body":"Thanks for help, actually I could connect there is no problem for connection. But I do not see any data. On the other hand, I checked that page, but unfortunately the approaches too old and most of them cannot be applicable."},{"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"score":0,"creation_date":1680704901,"post_id":75940298,"comment_id":133943685,"body_markdown":"Check this, http://www.h2database.com/html/tutorial.html#using_server . You should make sure the server started on specific port in Server mode.","body":"Check this, <a href=\"http://www.h2database.com/html/tutorial.html#using_server\" rel=\"nofollow noreferrer\">h2database.com/html/tutorial.html#using_server</a> . You should make sure the server started on specific port in Server mode."},{"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"score":0,"creation_date":1680705614,"post_id":75940298,"comment_id":133943911,"body_markdown":"Thanks, voted up. But I tried everything and still not seem (but when I send request I fetch the data).","body":"Thanks, voted up. But I tried everything and still not seem (but when I send request I fetch the data)."}],"tags":[],"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680702778,"creation_date":1680702778,"answer_id":75940298,"question_id":75940222,"body_markdown":"You are using a memory-based `h2` instance, your connection from `DBeaver` or `IntellijIDEA` might not connected to the same instance.\r\n\r\nIf you want to make sure your `DBeaver` or `IntellijIDEA` connected to the same `h2` instance, you&#39;d better use `file` mode instead of `mem` mode for you `h2` instance.\r\n\r\nUsing `file` mode for your `h2` database, you can checkout https://stackoverflow.com/questions/44085130/h2-database-file-mode for more information.\r\n\r\nJust for simple, you can change `spring.datasource.url` from `jdbc:h2:mem:${db_name};DATABASE_TO_UPPER=FALSE;DB_CLOSE_ON_EXIT=false` to `jdbc:h2:file:/path/to/${db_name};DATABASE_TO_UPPER=FALSE;DB_CLOSE_ON_EXIT=false`. Now you can connect to your `h2` instance in `DBeaver` or `IntellijIDEA` with new connection URL `jdbc:h2:file:/path/to/${db_name};DATABASE_TO_UPPER=FALSE;DB_CLOSE_ON_EXIT=false`.","title":"Cannot see H2 database tables and data via DBeaver or IntelliJ IDEA","body":"<p>You are using a memory-based <code>h2</code> instance, your connection from <code>DBeaver</code> or <code>IntellijIDEA</code> might not connected to the same instance.</p>\n<p>If you want to make sure your <code>DBeaver</code> or <code>IntellijIDEA</code> connected to the same <code>h2</code> instance, you'd better use <code>file</code> mode instead of <code>mem</code> mode for you <code>h2</code> instance.</p>\n<p>Using <code>file</code> mode for your <code>h2</code> database, you can checkout <a href=\"https://stackoverflow.com/questions/44085130/h2-database-file-mode\">H2 database - file mode</a> for more information.</p>\n<p>Just for simple, you can change <code>spring.datasource.url</code> from <code>jdbc:h2:mem:${db_name};DATABASE_TO_UPPER=FALSE;DB_CLOSE_ON_EXIT=false</code> to <code>jdbc:h2:file:/path/to/${db_name};DATABASE_TO_UPPER=FALSE;DB_CLOSE_ON_EXIT=false</code>. Now you can connect to your <code>h2</code> instance in <code>DBeaver</code> or <code>IntellijIDEA</code> with new connection URL <code>jdbc:h2:file:/path/to/${db_name};DATABASE_TO_UPPER=FALSE;DB_CLOSE_ON_EXIT=false</code>.</p>\n"}],"owner":{"account_id":28175191,"reputation":1,"user_id":21533070,"display_name":"jonathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75940298,"answer_count":1,"score":1,"last_activity_date":1680702778,"creation_date":1680702286,"question_id":75940222,"body_markdown":"In a Spring Boot app, I am trying to read data via DBeaver as I generally did before **in SERVER Mode**:\r\n\r\nHere is my app props:\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.h2.Driver\r\n    url: jdbc:h2:mem:${db_name};DATABASE_TO_UPPER=FALSE;DB_CLOSE_ON_EXIT=false\r\n    username: ${db_username}\r\n    password: # leave password field empty for H2 database Server Mode connection\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: create\r\n    show-sql: true\r\n    open-in-view: false\r\n    properties:\r\n      hibernate.format_sql: true\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.H2Dialect\r\n\r\n    h2:\r\n      console:\r\n        enabled: &#39;true&#39;\r\n        path: /h2-console\r\n```\r\n\r\nand pom.xml:\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.4.193&lt;/version&gt;\r\n\t&lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nAlthough the data is inserted to the database when running my app and I can query the data via Postman, I cannot see anything under PUBLIC &gt; Tables when connecting to the database via DBeaver or IntelliJ IDEA. \r\n\r\nSo, what is the reason, do you have an idea? I tried some workarounds but not worked.  ","title":"Cannot see H2 database tables and data via DBeaver or IntelliJ IDEA","body":"<p>In a Spring Boot app, I am trying to read data via DBeaver as I generally did before <strong>in SERVER Mode</strong>:</p>\n<p>Here is my app props:</p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.h2.Driver\n    url: jdbc:h2:mem:${db_name};DATABASE_TO_UPPER=FALSE;DB_CLOSE_ON_EXIT=false\n    username: ${db_username}\n    password: # leave password field empty for H2 database Server Mode connection\n  jpa:\n    hibernate:\n      ddl-auto: create\n    show-sql: true\n    open-in-view: false\n    properties:\n      hibernate.format_sql: true\n      hibernate:\n        dialect: org.hibernate.dialect.H2Dialect\n\n    h2:\n      console:\n        enabled: 'true'\n        path: /h2-console\n</code></pre>\n<p>and pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n    &lt;artifactId&gt;h2&lt;/artifactId&gt;\n    &lt;version&gt;1.4.193&lt;/version&gt;\n    &lt;!--&lt;scope&gt;runtime&lt;/scope&gt;--&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Although the data is inserted to the database when running my app and I can query the data via Postman, I cannot see anything under PUBLIC &gt; Tables when connecting to the database via DBeaver or IntelliJ IDEA.</p>\n<p>So, what is the reason, do you have an idea? I tried some workarounds but not worked.</p>\n"},{"tags":["java","maven","maven-surefire-plugin","junit5"],"comments":[{"owner":{"account_id":8716718,"reputation":1674,"user_id":6521058,"display_name":"John"},"score":0,"creation_date":1527866042,"post_id":50645927,"comment_id":88303456,"body_markdown":"Running fine for me. Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-04T03:39:06+08:00)\nMaven home: C:\\Users\\xxx\\.m2\\wrapper\\dists\\apache-maven-3.5.0-bin\\6ps54u5pnnbbpr6ds9rppcc7iv\\apache-maven-3.5.0\nJava version: 1.8.0_60, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk1.8.0_60\\jre\nDefault locale: zh_CN, platform encoding: GBK\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;","body":"Running fine for me. Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-04T03:39:06+08:00) Maven home: C:\\Users\\xxx\\.m2\\wrapper\\dists\\apache-maven-3.5.0-bin\\6ps54u&zwnj;&#8203;5pnnbbpr6ds9rppcc7iv&zwnj;&#8203;\\apache-maven-3.5.0 Java version: 1.8.0_60, vendor: Oracle Corporation Java home: C:\\Program Files\\Java\\jdk1.8.0_60\\jre Default locale: zh_CN, platform encoding: GBK OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;"}],"answers":[{"comments":[{"owner":{"account_id":6145482,"reputation":1570,"user_id":4791599,"display_name":"Markus Mitterauer"},"score":0,"creation_date":1527873540,"post_id":50646631,"comment_id":88307143,"body_markdown":"yes. thanks. that was it. still need to get used to that maven thingy. ;-)","body":"yes. thanks. that was it. still need to get used to that maven thingy. ;-)"}],"tags":[],"owner":{"account_id":8716718,"reputation":1674,"user_id":6521058,"display_name":"John"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1527866892,"creation_date":1527866526,"answer_id":50646631,"question_id":50645927,"body_markdown":"Since the error is \r\n\r\n`[ERROR] java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory\r\n`\r\n\r\nI suggest to check the `junit-platform-launcher` jar file. Maybe it is corrupted. \r\n\r\nIt should be the one of`\\.m2\\repository\\org\\junit\\platform\\junit-platform-launcher\\1.2.0\\junit-platform-launcher-1.2.0.jar`","title":"maven: Unable to run junit5-jupiter-starter-maven?","body":"<p>Since the error is </p>\n\n<p><code>[ERROR] java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory\n</code></p>\n\n<p>I suggest to check the <code>junit-platform-launcher</code> jar file. Maybe it is corrupted. </p>\n\n<p>It should be the one of<code>\\.m2\\repository\\org\\junit\\platform\\junit-platform-launcher\\1.2.0\\junit-platform-launcher-1.2.0.jar</code></p>\n"},{"tags":[],"owner":{"account_id":1072085,"reputation":95,"user_id":1071113,"display_name":"polarfish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676290610,"creation_date":1676290610,"answer_id":75435757,"question_id":50645927,"body_markdown":"For my it was a different problem. Multimodule maven project has two modules A and B, where A is using `junit-pioneer:1.9.1` (having transitive dependency from `junit-platform-launcher:1.8.2`) when module B doesn&#39;t use `junit-pioneer` but fails to build because of `java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory` when building the whole project with `mvn clean install`. \r\n\r\nMy solution was to add (unused) test dependency from `junit-pioneer` to module B.","title":"maven: Unable to run junit5-jupiter-starter-maven?","body":"<p>For my it was a different problem. Multimodule maven project has two modules A and B, where A is using <code>junit-pioneer:1.9.1</code> (having transitive dependency from <code>junit-platform-launcher:1.8.2</code>) when module B doesn't use <code>junit-pioneer</code> but fails to build because of <code>java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory</code> when building the whole project with <code>mvn clean install</code>.</p>\n<p>My solution was to add (unused) test dependency from <code>junit-pioneer</code> to module B.</p>\n"},{"tags":[],"owner":{"account_id":2332911,"reputation":522,"user_id":2045854,"accept_rate":50,"display_name":"Remy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680702618,"creation_date":1680702618,"answer_id":75940277,"question_id":50645927,"body_markdown":"I had to update maven-surefire-plugin to v3.0.0, see https://issues.apache.org/jira/browse/SUREFIRE-1679.\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;","title":"maven: Unable to run junit5-jupiter-starter-maven?","body":"<p>I had to update maven-surefire-plugin to v3.0.0, see <a href=\"https://issues.apache.org/jira/browse/SUREFIRE-1679\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/SUREFIRE-1679</a>.</p>\n<pre><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":6145482,"reputation":1570,"user_id":4791599,"display_name":"Markus Mitterauer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2346,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50646631,"answer_count":3,"score":3,"last_activity_date":1680702618,"creation_date":1527864089,"question_id":50645927,"body_markdown":"I downloaded the current version of the JUnit 5 sample code from https://github.com/junit-team/junit5-samples/tree/r5.2.0/ and extracted the subfolder [junit5-jupiter-starter-maven](https://github.com/junit-team/junit5-samples/tree/r5.2.0/junit5-jupiter-starter-maven) to a local temp folder.\r\n\r\nThen I openend a console window and tried to run that sample with `mvnw clean test`, but all I got was an **`java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory`**\r\n\r\nFull maven output (of re-run without downloads):\r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Building junit5-vanilla-maven 1.0-SNAPSHOT\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ junit5-vanilla-maven ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\temp\\junit5-jupiter-starter-maven\\src\\main\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ junit5-vanilla-maven ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ junit5-vanilla-maven ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] skip non existing resourceDirectory C:\\temp\\junit5-jupiter-starter-maven\\src\\test\\resources\r\n    [INFO]\r\n    [INFO] --- maven-compiler-plugin:3.7.0:testCompile (default-testCompile) @ junit5-vanilla-maven ---\r\n    [INFO] Nothing to compile - all classes are up to date\r\n    [INFO]\r\n    [INFO] --- maven-surefire-plugin:2.21.0:test (default-test) @ junit5-vanilla-maven ---\r\n    [INFO]\r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO]\r\n    [INFO] Results:\r\n    [INFO]\r\n    [INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\r\n    [INFO]\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 3.245 s\r\n    [INFO] Finished at: 2018-06-01T16:31:25+02:00\r\n    [INFO] Final Memory: 11M/306M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21.0:test (default-test) on project junit5-vanilla-maven: There are test failures.\r\n    [ERROR]\r\n    [ERROR] Please refer to C:\\temp\\junit5-jupiter-starter-maven\\target\\surefire-reports for the individual test results.\r\n    [ERROR] Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.\r\n    [ERROR] There was an error in the forked process\r\n    [ERROR] java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory\r\n    [ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\r\n    [ERROR] java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory\r\n    [ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:658)\r\n    [ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:533)\r\n    [ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:278)\r\n    [ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:244)\r\n    [ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1149)\r\n    [ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:978)\r\n    [ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:854)\r\n    [ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\r\n    [ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    [ERROR]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [ERROR]         at java.lang.reflect.Method.invoke(Method.java:498)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\r\n    [ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    [ERROR]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [ERROR]         at java.lang.reflect.Method.invoke(Method.java:498)\r\n    [ERROR]         at org.apache.maven.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:39)\r\n    [ERROR]         at org.apache.maven.wrapper.WrapperExecutor.execute(WrapperExecutor.java:122)\r\n    [ERROR]         at org.apache.maven.wrapper.MavenWrapperMain.main(MavenWrapperMain.java:50)\r\n    [ERROR]\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n```mvnw --version```:\r\n\r\n    Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T21:39:06+02:00)\r\n    Maven home: C:\\Users\\&lt;XXX&gt;\\.m2\\wrapper\\dists\\apache-maven-3.5.0-bin\\6ps54u5pnnbbpr6ds9rppcc7iv\\apache-maven-3.5.0\r\n    Java version: 1.8.0_171, vendor: Oracle Corporation\r\n    Java home: C:\\Program Files\\Java\\jdk1.8.0_171\\jre\r\n    Default locale: de_AT, platform encoding: Cp1252\r\n    OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;\r\n\r\n\r\nDid I do something wrong, or can you reproduce this problem?\r\n","title":"maven: Unable to run junit5-jupiter-starter-maven?","body":"<p>I downloaded the current version of the JUnit 5 sample code from <a href=\"https://github.com/junit-team/junit5-samples/tree/r5.2.0/\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5-samples/tree/r5.2.0/</a> and extracted the subfolder <a href=\"https://github.com/junit-team/junit5-samples/tree/r5.2.0/junit5-jupiter-starter-maven\" rel=\"nofollow noreferrer\">junit5-jupiter-starter-maven</a> to a local temp folder.</p>\n\n<p>Then I openend a console window and tried to run that sample with <code>mvnw clean test</code>, but all I got was an <strong><code>java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory</code></strong></p>\n\n<p>Full maven output (of re-run without downloads):</p>\n\n<pre><code>[INFO] Scanning for projects...\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Building junit5-vanilla-maven 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ junit5-vanilla-maven ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\temp\\junit5-jupiter-starter-maven\\src\\main\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.7.0:compile (default-compile) @ junit5-vanilla-maven ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ junit5-vanilla-maven ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory C:\\temp\\junit5-jupiter-starter-maven\\src\\test\\resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.7.0:testCompile (default-testCompile) @ junit5-vanilla-maven ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO]\n[INFO] --- maven-surefire-plugin:2.21.0:test (default-test) @ junit5-vanilla-maven ---\n[INFO]\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO]\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 0, Failures: 0, Errors: 0, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 3.245 s\n[INFO] Finished at: 2018-06-01T16:31:25+02:00\n[INFO] Final Memory: 11M/306M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.21.0:test (default-test) on project junit5-vanilla-maven: There are test failures.\n[ERROR]\n[ERROR] Please refer to C:\\temp\\junit5-jupiter-starter-maven\\target\\surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.\n[ERROR] There was an error in the forked process\n[ERROR] java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: There was an error in the forked process\n[ERROR] java.lang.NoClassDefFoundError: org/junit/platform/launcher/core/LauncherFactory\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:658)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:533)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:278)\n[ERROR]         at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:244)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1149)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:978)\n[ERROR]         at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:854)\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:154)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:146)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:309)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:194)\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:107)\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:993)\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:345)\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:191)\n[ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[ERROR]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]         at java.lang.reflect.Method.invoke(Method.java:498)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n[ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]         at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[ERROR]         at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]         at java.lang.reflect.Method.invoke(Method.java:498)\n[ERROR]         at org.apache.maven.wrapper.BootstrapMainStarter.start(BootstrapMainStarter.java:39)\n[ERROR]         at org.apache.maven.wrapper.WrapperExecutor.execute(WrapperExecutor.java:122)\n[ERROR]         at org.apache.maven.wrapper.MavenWrapperMain.main(MavenWrapperMain.java:50)\n[ERROR]\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n\n<p><code>mvnw --version</code>:</p>\n\n<pre><code>Apache Maven 3.5.0 (ff8f5e7444045639af65f6095c62210b5713f426; 2017-04-03T21:39:06+02:00)\nMaven home: C:\\Users\\&lt;XXX&gt;\\.m2\\wrapper\\dists\\apache-maven-3.5.0-bin\\6ps54u5pnnbbpr6ds9rppcc7iv\\apache-maven-3.5.0\nJava version: 1.8.0_171, vendor: Oracle Corporation\nJava home: C:\\Program Files\\Java\\jdk1.8.0_171\\jre\nDefault locale: de_AT, platform encoding: Cp1252\nOS name: \"windows 10\", version: \"10.0\", arch: \"amd64\", family: \"windows\"\n</code></pre>\n\n<p>Did I do something wrong, or can you reproduce this problem?</p>\n"},{"tags":["java","sql-server","spring-boot","hibernate","mssql-jdbc"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675505120,"post_id":75344259,"comment_id":132946378,"body_markdown":"It all looks ok. To get a little more info ‘profile’ by putting code around fsaggService.getActualsTotalGesamt(jahr); to see it that is using most of the time.","body":"It all looks ok. To get a little more info ‘profile’ by putting code around fsaggService.getActualsTotalGesamt(jahr); to see it that is using most of the time."},{"owner":{"account_id":15544830,"reputation":117,"user_id":11214411,"display_name":"sebk"},"score":0,"creation_date":1675505522,"post_id":75344259,"comment_id":132946427,"body_markdown":"Hi John, can you pls edit your comment? I dont get what you mean by that. The method getActualsTotalGesamt(jahr) wont be used anywhere else in my project.","body":"Hi John, can you pls edit your comment? I dont get what you mean by that. The method getActualsTotalGesamt(jahr) wont be used anywhere else in my project."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675509641,"post_id":75344259,"comment_id":132946980,"body_markdown":"Difficult to explain in comment. I have explained in “Answer”","body":"Difficult to explain in comment. I have explained in “Answer”"},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":1,"creation_date":1675525454,"post_id":75344259,"comment_id":132949651,"body_markdown":"@sebk, add the nativeQuery=true attribute to the Query annotation. Without it, it&#39;s not a native query even though it may look like it is.","body":"@sebk, add the nativeQuery=true attribute to the Query annotation. Without it, it&#39;s not a native query even though it may look like it is."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":1,"creation_date":1675533761,"post_id":75344259,"comment_id":132951412,"body_markdown":"Check out activity monitor or put a trace and compare query AND query plan between query from the app and just from SSMS","body":"Check out activity monitor or put a trace and compare query AND query plan between query from the app and just from SSMS"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675509594,"creation_date":1675509594,"answer_id":75344718,"question_id":75344259,"body_markdown":"Rewrite the service method getActualsTotalGesamt to confirm that the slow query is the issue rather than something else in spring boot. \r\n\r\n    public List&lt;FSAGGTInterface&gt; getActualsTotalGesamt(String jahr) {\r\n        Date start = new Date();\r\n        List&lt;FSAGGTInterface&gt; retVal = fsaggRepository.getActualsTotalGesamt(jahr);\r\n        System.out.println(“repo call duration ms: “ + ((new Date()).getTime() - start.getTime()));\r\n        return retVal;\r\n         }\r\n\r\n","title":"Performance issue in Spring Boot Java app with SQL Server","body":"<p>Rewrite the service method getActualsTotalGesamt to confirm that the slow query is the issue rather than something else in spring boot.</p>\n<pre><code>public List&lt;FSAGGTInterface&gt; getActualsTotalGesamt(String jahr) {\n    Date start = new Date();\n    List&lt;FSAGGTInterface&gt; retVal = fsaggRepository.getActualsTotalGesamt(jahr);\n    System.out.println(“repo call duration ms: “ + ((new Date()).getTime() - start.getTime()));\n    return retVal;\n     }\n</code></pre>\n"}],"owner":{"account_id":15544830,"reputation":117,"user_id":11214411,"display_name":"sebk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":648,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680702228,"creation_date":1675504202,"question_id":75344259,"body_markdown":"I am facing performance issues with a Spring Boot Java App which gets data from a SQL Server database. A simple query like:\r\n```sql\r\nSELECT a, b, SUM(c)\r\nFROM table\r\nWHERE date = &#39;2023-02-01&#39; AND year = 2023\r\nGROUP BY a, b\r\n```\r\nis executed. The result of the query is 12 rows. When I execute this query in SSMS, the result is there immediately. If the query gets executed via the Spring Boot app in a browser window or with Postman, it takes randomly 3.5 to 10 seconds to get the result.\r\n\r\nThe table contains roughly 8 million rows and 14 columns:\r\n- 1 PK INT column\r\n- 1 DATE column\r\n- 2 DECIMAL(12,2)\r\n- 10 NVARCHAR(x)\r\n\r\nThe query in the Spring Boot app is written in Native SQL annotated with `@Query`. All my colleagues use ASP.NET as back-end, and they are taking the same SQL Server. Their performance is great. It looks like there are configuration issues.\r\n\r\nWhat I have tried so far:\r\n1. I added ```sendParametersAsUnicode=false``` to application.properties\r\n2. I copied the entire table: instead of NVARCHAR(x) I took VARCHAR(x) for all string-related columns.\r\n3. I tracked the execution time with Postman: &gt;99% of execution time falls in the category transfer time.\r\n4. I tried to annotate NVARCHAR(x) columns to annotate with @Nationalized\r\n5. I read about this: &lt;https://vladmihalcea.com/sql-server-jdbc-sendstringparametersasunicode/&gt; to understand the difference between NVARCHAR(x) and VARCHAR(x) in terms of Spring Boot and SQL Server.\r\n\r\nAny ideas what might be the game changer to decrease execution time from multiple seconds to far less than a second?\r\n\r\nHere is more code of my project:\r\n\r\napplication.properties:\r\n```\r\nspring.datasource.url=jdbc:sqlserver://10.191.144.180:1433;database=Spring;encrypt=true;trustServerCertificate=true;sendStringParametersAsUnicode=false\r\nspring.datasource.username=username\r\nspring.datasource.password=pw123456\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\nspring.jpa.open-in-view=false\r\n```\r\n\r\n[![Postman][1]][1]\r\n\r\nTable Class:\r\n```java\r\n@Entity\r\n@Table(name=&quot;Fact_Snapshots_Agg&quot;)\r\npublic class FSAGG {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tLong id;\r\n\tDate filedate;\r\n\tString jahr;\r\n\tString a;\r\n\tString b;\r\n\tString d;\r\n\tString e;\r\n\tString f;\r\n\tString g;\r\n\tString h;\r\n\tfloat c;\r\n\tfloat i;\r\n\tString j;\r\n\tString k;\r\n}\r\nplus constructors and getters and setters\r\n```\r\nResource File:\r\n```java\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.analytics_test.model.FSAGGTInterface;\r\nimport com.analytics_test.service.FSAGGService;\r\n\r\n@RestController\r\n@CrossOrigin\r\n@RequestMapping(&quot;/FSAGG&quot;)\r\npublic class FSAGGResource {\r\n\tprivate final FSAGGService fsaggService;\r\n\t\r\n\t@Autowired\r\n\tpublic FSAGGResource(FSAGGService fsaggService) { this.fsaggService = fsaggService; }\r\n\t\r\n\t@GetMapping(&quot;/Actuals/Total/{jahr}/gesamt&quot;)\r\n\tpublic List&lt;FSAGGTInterface&gt; getActualsTotalGesamt(@PathVariable(&quot;jahr&quot;) String jahr) { return fsaggService.getActualsTotalGesamt(jahr); }\r\n\r\n}\r\n```\r\n\r\nRepository File:\r\n```java\r\npackage com.analytics_test.repository;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\n\r\nimport com.analytics_test.model.FSAGG;\r\nimport com.analytics_test.model.FSAGGTInterface;\r\n\r\npublic interface FSAGGRepository extends JpaRepository&lt;FSAGG, Long&gt; {\r\n\t\r\n\t@Query(value = &quot;a as a, b as b, SELECT SUM(c) as c &quot;\r\n\t\t\t+ &quot;FROM FSAGG WHERE filedate = &#39;2023-02-01&#39; AND year = :year &quot;\r\n\t\t\t+ &quot;GROUP BY a, b&quot;\r\n\t\t\t)\r\n\tList&lt;FSAGGTInterface&gt; getActualsTotalGesamt(@Param(&quot;year&quot;) String year);\r\n\t\r\n}\r\n```\r\nService Class:\r\n```java\r\npackage com.analytics_test.service;\r\n\r\nimport java.util.List;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.analytics_test.model.FSAGGTInterface;\r\nimport com.analytics_test.repository.FSAGGRepository;\r\n\r\n@Component\r\n@Service\r\npublic class FSAGGService {\r\n\r\n\tprivate final FSAGGRepository fsaggRepository;\r\n\t\r\n\t@Autowired\r\n\tpublic FSAGGService(FSAGGRepository fsaggRepository) { this.fsaggRepository = fsaggRepository; }\r\n\t\r\n\tpublic List&lt;FSAGGTInterface&gt; getStuff() { return fsaggRepository.getStuff(); }\r\n\t\r\n\tpublic List&lt;FSAGGTInterface&gt; getActualsTotalGesamt(String jahr) { return fsaggRepository.getActualsTotalGesamt(jahr); }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ahSlc.png","title":"Performance issue in Spring Boot Java app with SQL Server","body":"<p>I am facing performance issues with a Spring Boot Java App which gets data from a SQL Server database. A simple query like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT a, b, SUM(c)\nFROM table\nWHERE date = '2023-02-01' AND year = 2023\nGROUP BY a, b\n</code></pre>\n<p>is executed. The result of the query is 12 rows. When I execute this query in SSMS, the result is there immediately. If the query gets executed via the Spring Boot app in a browser window or with Postman, it takes randomly 3.5 to 10 seconds to get the result.</p>\n<p>The table contains roughly 8 million rows and 14 columns:</p>\n<ul>\n<li>1 PK INT column</li>\n<li>1 DATE column</li>\n<li>2 DECIMAL(12,2)</li>\n<li>10 NVARCHAR(x)</li>\n</ul>\n<p>The query in the Spring Boot app is written in Native SQL annotated with <code>@Query</code>. All my colleagues use ASP.NET as back-end, and they are taking the same SQL Server. Their performance is great. It looks like there are configuration issues.</p>\n<p>What I have tried so far:</p>\n<ol>\n<li>I added <code>sendParametersAsUnicode=false</code> to application.properties</li>\n<li>I copied the entire table: instead of NVARCHAR(x) I took VARCHAR(x) for all string-related columns.</li>\n<li>I tracked the execution time with Postman: &gt;99% of execution time falls in the category transfer time.</li>\n<li>I tried to annotate NVARCHAR(x) columns to annotate with @Nationalized</li>\n<li>I read about this: <a href=\"https://vladmihalcea.com/sql-server-jdbc-sendstringparametersasunicode/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/sql-server-jdbc-sendstringparametersasunicode/</a> to understand the difference between NVARCHAR(x) and VARCHAR(x) in terms of Spring Boot and SQL Server.</li>\n</ol>\n<p>Any ideas what might be the game changer to decrease execution time from multiple seconds to far less than a second?</p>\n<p>Here is more code of my project:</p>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:sqlserver://10.191.144.180:1433;database=Spring;encrypt=true;trustServerCertificate=true;sendStringParametersAsUnicode=false\nspring.datasource.username=username\nspring.datasource.password=pw123456\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\nspring.jpa.show-sql=true\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\nspring.jpa.open-in-view=false\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ahSlc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ahSlc.png\" alt=\"Postman\" /></a></p>\n<p>Table Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name=&quot;Fact_Snapshots_Agg&quot;)\npublic class FSAGG {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    Long id;\n    Date filedate;\n    String jahr;\n    String a;\n    String b;\n    String d;\n    String e;\n    String f;\n    String g;\n    String h;\n    float c;\n    float i;\n    String j;\n    String k;\n}\nplus constructors and getters and setters\n</code></pre>\n<p>Resource File:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.analytics_test.model.FSAGGTInterface;\nimport com.analytics_test.service.FSAGGService;\n\n@RestController\n@CrossOrigin\n@RequestMapping(&quot;/FSAGG&quot;)\npublic class FSAGGResource {\n    private final FSAGGService fsaggService;\n    \n    @Autowired\n    public FSAGGResource(FSAGGService fsaggService) { this.fsaggService = fsaggService; }\n    \n    @GetMapping(&quot;/Actuals/Total/{jahr}/gesamt&quot;)\n    public List&lt;FSAGGTInterface&gt; getActualsTotalGesamt(@PathVariable(&quot;jahr&quot;) String jahr) { return fsaggService.getActualsTotalGesamt(jahr); }\n\n}\n</code></pre>\n<p>Repository File:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.analytics_test.repository;\n\nimport java.util.List;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\nimport com.analytics_test.model.FSAGG;\nimport com.analytics_test.model.FSAGGTInterface;\n\npublic interface FSAGGRepository extends JpaRepository&lt;FSAGG, Long&gt; {\n    \n    @Query(value = &quot;a as a, b as b, SELECT SUM(c) as c &quot;\n            + &quot;FROM FSAGG WHERE filedate = '2023-02-01' AND year = :year &quot;\n            + &quot;GROUP BY a, b&quot;\n            )\n    List&lt;FSAGGTInterface&gt; getActualsTotalGesamt(@Param(&quot;year&quot;) String year);\n    \n}\n</code></pre>\n<p>Service Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.analytics_test.service;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Component;\nimport org.springframework.stereotype.Service;\n\nimport com.analytics_test.model.FSAGGTInterface;\nimport com.analytics_test.repository.FSAGGRepository;\n\n@Component\n@Service\npublic class FSAGGService {\n\n    private final FSAGGRepository fsaggRepository;\n    \n    @Autowired\n    public FSAGGService(FSAGGRepository fsaggRepository) { this.fsaggRepository = fsaggRepository; }\n    \n    public List&lt;FSAGGTInterface&gt; getStuff() { return fsaggRepository.getStuff(); }\n    \n    public List&lt;FSAGGTInterface&gt; getActualsTotalGesamt(String jahr) { return fsaggRepository.getActualsTotalGesamt(jahr); }\n\n}\n</code></pre>\n"},{"tags":["java","arrays","optimization"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":6,"creation_date":1326023395,"post_id":8777217,"comment_id":10943554,"body_markdown":"The simplest solution is to avoid adding them in the first place.","body":"The simplest solution is to avoid adding them in the first place."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1326023587,"post_id":8777217,"comment_id":10943590,"body_markdown":"You need a new array with a new length, so you will need to do the copy anyway.  Working with a collection will save you the need to find the final size up front.","body":"You need a new array with a new length, so you will need to do the copy anyway.  Working with a collection will save you the need to find the final size up front."},{"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"score":0,"creation_date":1326023643,"post_id":8777217,"comment_id":10943605,"body_markdown":"My situation: the array is a board, of a game. There are many possibilities when there exist no &#39;items&#39; in one or more holes. So the zeros will be there, that is why I am asking...","body":"My situation: the array is a board, of a game. There are many possibilities when there exist no &#39;items&#39; in one or more holes. So the zeros will be there, that is why I am asking..."},{"owner":{"account_id":212481,"reputation":4165,"user_id":465323,"accept_rate":94,"display_name":"Z&#233;ychin"},"score":0,"creation_date":1326023656,"post_id":8777217,"comment_id":10943609,"body_markdown":"Where it is possible to avoid adding zeroes, Peter&#39;s comment to avoid adding them in the first place is the best method. Where it is not possible to avoid adding zeroes, in instances such as a client&#39;s output, your algorithm is optimal.","body":"Where it is possible to avoid adding zeroes, Peter&#39;s comment to avoid adding them in the first place is the best method. Where it is not possible to avoid adding zeroes, in instances such as a client&#39;s output, your algorithm is optimal."},{"owner":{"account_id":65010,"reputation":7757,"user_id":191588,"accept_rate":86,"display_name":"echo"},"score":0,"creation_date":1326024764,"post_id":8777217,"comment_id":10943820,"body_markdown":"I apologize in advance for the smartassed-ness of my answer, but if you were coding C# you&#39;d do sumpin like int[] filtered = (from i in array where i != 0 select i).ToArray(); and be done with it.","body":"I apologize in advance for the smartassed-ness of my answer, but if you were coding C# you&#39;d do sumpin like int[] filtered = (from i in array where i != 0 select i).ToArray(); and be done with it."},{"owner":{"account_id":212481,"reputation":4165,"user_id":465323,"accept_rate":94,"display_name":"Z&#233;ychin"},"score":0,"creation_date":1326024852,"post_id":8777217,"comment_id":10943844,"body_markdown":"If the O.P. were coding in C#, I don&#39;t know that he or she would be as worried about optimizing code like this. :P.","body":"If the O.P. were coding in C#, I don&#39;t know that he or she would be as worried about optimizing code like this. :P."},{"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"score":2,"creation_date":1326025408,"post_id":8777217,"comment_id":10943951,"body_markdown":"This particular problem is in Java, and that&#39;s why I am asking this with the Java tag.","body":"This particular problem is in Java, and that&#39;s why I am asking this with the Java tag."}],"answers":[{"comments":[{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":1,"creation_date":1326023525,"post_id":8777239,"comment_id":10943575,"body_markdown":"But then you end with an `Integer[]` and not an `int[]`","body":"But then you end with an <code>Integer[]</code> and not an <code>int[]</code>"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":3,"creation_date":1326023587,"post_id":8777239,"comment_id":10943589,"body_markdown":"@Robin No you don&#39;t. How is that?","body":"@Robin No you don&#39;t. How is that?"},{"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"score":0,"creation_date":1326023687,"post_id":8777239,"comment_id":10943614,"body_markdown":"Performance is not really a problem here, I was looking for shorter ways to write the above. I like ArrayLists, but hoped there would be a shorter way just using arrays.","body":"Performance is not really a problem here, I was looking for shorter ways to write the above. I like ArrayLists, but hoped there would be a shorter way just using arrays."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1326023888,"post_id":8777239,"comment_id":10943652,"body_markdown":"Hidde, I amended my answer. I think this solution is the best.","body":"Hidde, I amended my answer. I think this solution is the best."},{"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"score":0,"creation_date":1326023984,"post_id":8777239,"comment_id":10943681,"body_markdown":"Won&#39;t you end up with [0, 5, 6, 0] in your example?","body":"Won&#39;t you end up with [0, 5, 6, 0] in your example?"},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1326024160,"post_id":8777239,"comment_id":10943721,"body_markdown":"@MikeNakis since you cannot have a `List&lt;int&gt;`. So you would have to manually convert the resulting `Integer[]` (which you get from `List#toArray`) to an `int[]`","body":"@MikeNakis since you cannot have a <code>List&lt;int&gt;</code>. So you would have to manually convert the resulting <code>Integer[]</code> (which you get from <code>List#toArray</code>) to an <code>int[]</code>"},{"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"score":0,"creation_date":1326024259,"post_id":8777239,"comment_id":10943741,"body_markdown":"I&#39;m sorry, I have read it wrongly. I didn&#39;t see the value of array[i] was put into array[j].","body":"I&#39;m sorry, I have read it wrongly. I didn&#39;t see the value of array[i] was put into array[j]."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":2,"creation_date":1326024726,"post_id":8777239,"comment_id":10943817,"body_markdown":"@Robin I took a look at the documentation, and it appears that you are right. It has been a long time since I last wrote a line of code in Java, and I have been using C# since then, in which it is possible to have an array-list of primitive `int`s.  I will correct my answer, thank you.","body":"@Robin I took a look at the documentation, and it appears that you are right. It has been a long time since I last wrote a line of code in Java, and I have been using C# since then, in which it is possible to have an array-list of primitive <code>int</code>s.  I will correct my answer, thank you."},{"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"score":0,"creation_date":1326025216,"post_id":8777239,"comment_id":10943911,"body_markdown":"It is true a Integer[] will result from an list.toArray(), however you can harmlessly cast an Integer to int (in Java), to there is no problem there.","body":"It is true a Integer[] will result from an list.toArray(), however you can harmlessly cast an Integer to int (in Java), to there is no problem there."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1326025315,"post_id":8777239,"comment_id":10943933,"body_markdown":"Yes, but then you will need another `int` array allocation, and another loop in order to perform these casts, because toArray() will give you an array of `Integer`s, not an array of `int`s.","body":"Yes, but then you will need another <code>int</code> array allocation, and another loop in order to perform these casts, because toArray() will give you an array of <code>Integer</code>s, not an array of <code>int</code>s."}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":10,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1680702202,"creation_date":1326023443,"answer_id":8777239,"question_id":8777217,"body_markdown":"One loop to either count or filter out the zeros cannot be avoided; however, the second loop can be avoided with the use of `System.arraycopy()`.\r\n\r\nThis function will make a copy of an existing array into an array of different length, which means that before we use it our array must already be free from zeros. Therefore, in the first loop we cannot just count the zeros, we have to also filter them out. Here is how to actually do it:\r\n\r\n    int targetIndex = 0;\r\n    for( int sourceIndex = 0;  sourceIndex &lt; array.length;  sourceIndex++ )\r\n        if( array[sourceIndex] != 0 )\r\n            array[targetIndex++] = array[sourceIndex];\r\n    int[] newArray = new int[targetIndex];\r\n    System.arraycopy( array, 0, newArray, 0, targetIndex );\r\n    return newArray;\r\n","title":"Remove all zeros from array ","body":"<p>One loop to either count or filter out the zeros cannot be avoided; however, the second loop can be avoided with the use of <code>System.arraycopy()</code>.</p>\n<p>This function will make a copy of an existing array into an array of different length, which means that before we use it our array must already be free from zeros. Therefore, in the first loop we cannot just count the zeros, we have to also filter them out. Here is how to actually do it:</p>\n<pre><code>int targetIndex = 0;\nfor( int sourceIndex = 0;  sourceIndex &lt; array.length;  sourceIndex++ )\n    if( array[sourceIndex] != 0 )\n        array[targetIndex++] = array[sourceIndex];\nint[] newArray = new int[targetIndex];\nSystem.arraycopy( array, 0, newArray, 0, targetIndex );\nreturn newArray;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":51914,"reputation":67911,"user_id":155137,"accept_rate":91,"display_name":"Martijn Courteaux"},"score":0,"creation_date":1326023704,"post_id":8777250,"comment_id":10943620,"body_markdown":"I prefer using an ArrayList, since it uses generics.","body":"I prefer using an ArrayList, since it uses generics."},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1326024526,"post_id":8777250,"comment_id":10943785,"body_markdown":"@MartijnCourteaux `Vector` can make use of generics as well. There are far better reasons to opt for an `ArrayList` instead of a `Vector` (see for example [this question on SO](http://stackoverflow.com/questions/2986296/what-are-the-differences-between-arraylist-and-vector))","body":"@MartijnCourteaux <code>Vector</code> can make use of generics as well. There are far better reasons to opt for an <code>ArrayList</code> instead of a <code>Vector</code> (see for example <a href=\"http://stackoverflow.com/questions/2986296/what-are-the-differences-between-arraylist-and-vector\">this question on SO</a>)"}],"tags":[],"owner":{"account_id":56993,"reputation":14308,"user_id":170713,"accept_rate":79,"display_name":"Guy"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326023513,"creation_date":1326023513,"answer_id":8777250,"question_id":8777217,"body_markdown":"You can use a `Vector`:\r\n\r\n    Vector vec = new Vector();\r\n    for (int i=0; i&lt;array.length; i++){\r\n       if (array[i] != 0)\r\n          vec.add(array[i]);\r\n    }\r\n    vec.toArray()\r\n\r\n(this isn&#39;t the precise syntax, but you get the idea..)","title":"Remove all zeros from array ","body":"<p>You can use a <code>Vector</code>:</p>\n\n<pre><code>Vector vec = new Vector();\nfor (int i=0; i&lt;array.length; i++){\n   if (array[i] != 0)\n      vec.add(array[i]);\n}\nvec.toArray()\n</code></pre>\n\n<p>(this isn't the precise syntax, but you get the idea..)</p>\n"},{"comments":[{"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"score":0,"creation_date":1326024311,"post_id":8777298,"comment_id":10943751,"body_markdown":"Kind of a duplicate of Mike&#39;s answer.","body":"Kind of a duplicate of Mike&#39;s answer."},{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1326024431,"post_id":8777298,"comment_id":10943770,"body_markdown":"Yups, although it wasn&#39;t present in his original one and that was the only one I saw before starting with this answer","body":"Yups, although it wasn&#39;t present in his original one and that was the only one I saw before starting with this answer"}],"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1432727197,"creation_date":1326023990,"answer_id":8777298,"question_id":8777217,"body_markdown":"You can achieve this with one loop only. Whether this is better or more clear is a matter of personal taste I am afraid.\r\n\r\n    int[] array = {0, 5, 6, 0, 0, 2, 5};\r\n    int[] temp = new int[array.length];\r\n    int numberOfZeros = 0;\r\n    for (int i=0; i&lt;array.length; i++){\r\n      if (array[i] != 0){\r\n        temp[i-numberOfZeros] = array[i];\r\n      } else {\r\n        numberOfZeros++;\r\n      }\r\n    }\r\n    int[] result = new int[temp.length-numberOfZeros];\r\n    System.arraycopy(temp, 0, result, 0, result.length);\r\n\r\nAnother option would be to use a `List` implementation like `ArrayList` from which you can just remove elements, but then you will have to work with `Integer` instances and not with `int`s\r\n\r\n    List&lt;Integer&gt; originalList = ....;\r\n    Iterator&lt;Integer&gt; iterator = originalList.iterator();\r\n    while ( iterator.hasNext() ) {\r\n      Integer next = iterator.next();\r\n      if ( next == 0 ){\r\n        iterator.remove();\r\n      }\r\n    }\r\n    //convert to array if needed\r\n    Integer[] result = originalList.toArray( new Integer[originalList.size()]);","title":"Remove all zeros from array ","body":"<p>You can achieve this with one loop only. Whether this is better or more clear is a matter of personal taste I am afraid.</p>\n\n<pre><code>int[] array = {0, 5, 6, 0, 0, 2, 5};\nint[] temp = new int[array.length];\nint numberOfZeros = 0;\nfor (int i=0; i&lt;array.length; i++){\n  if (array[i] != 0){\n    temp[i-numberOfZeros] = array[i];\n  } else {\n    numberOfZeros++;\n  }\n}\nint[] result = new int[temp.length-numberOfZeros];\nSystem.arraycopy(temp, 0, result, 0, result.length);\n</code></pre>\n\n<p>Another option would be to use a <code>List</code> implementation like <code>ArrayList</code> from which you can just remove elements, but then you will have to work with <code>Integer</code> instances and not with <code>int</code>s</p>\n\n<pre><code>List&lt;Integer&gt; originalList = ....;\nIterator&lt;Integer&gt; iterator = originalList.iterator();\nwhile ( iterator.hasNext() ) {\n  Integer next = iterator.next();\n  if ( next == 0 ){\n    iterator.remove();\n  }\n}\n//convert to array if needed\nInteger[] result = originalList.toArray( new Integer[originalList.size()]);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3571260,"reputation":3582,"user_id":2981518,"accept_rate":65,"display_name":"Manish Giri"},"score":1,"creation_date":1427776657,"post_id":8777325,"comment_id":46905245,"body_markdown":"I understood most of this answer, except in the line `numbers = list.toArray(new Integer[0]);`, what does `new Integer[0]` help in? I understand that it initializes a new Integer array with size 0, but how does it help?","body":"I understood most of this answer, except in the line <code>numbers = list.toArray(new Integer[0]);</code>, what does <code>new Integer[0]</code> help in? I understand that it initializes a new Integer array with size 0, but how does it help?"},{"owner":{"account_id":14912600,"reputation":151,"user_id":10767572,"display_name":"Nikita Kobtsev"},"score":2,"creation_date":1635626379,"post_id":8777325,"comment_id":123347902,"body_markdown":"@ManishGiri sorry to reply to a comment from six years ago, you probably already figured it out. Perhaps it will be useful to someone else. Creating a zero-sized array allows the toArray() method to find the type of the returned array using the reflection.  You have to do this in order to explicitly determine the type of the returned array at compile time. By the way such array creation is pretty well optimized in the latest versions of JVM and works fast.","body":"@ManishGiri sorry to reply to a comment from six years ago, you probably already figured it out. Perhaps it will be useful to someone else. Creating a zero-sized array allows the toArray() method to find the type of the returned array using the reflection.  You have to do this in order to explicitly determine the type of the returned array at compile time. By the way such array creation is pretty well optimized in the latest versions of JVM and works fast."}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1427779733,"creation_date":1326024182,"answer_id":8777325,"question_id":8777217,"body_markdown":"How about this:\r\n\r\n    Integer[] numbers = {1, 3, 6, 0, 4, 0, 3};\r\n    List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(Arrays.asList(numbers));\r\n    list.removeAll(Arrays.asList(Integer.valueOf(0)));\r\n    numbers = list.toArray(new Integer[list.size()]);\r\n    System.out.println(Arrays.toString(numbers));\r\n\r\n**OUTPUT:**\r\n\r\n    [1, 3, 6, 4, 3]","title":"Remove all zeros from array ","body":"<p>How about this:</p>\n\n<pre><code>Integer[] numbers = {1, 3, 6, 0, 4, 0, 3};\nList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(Arrays.asList(numbers));\nlist.removeAll(Arrays.asList(Integer.valueOf(0)));\nnumbers = list.toArray(new Integer[list.size()]);\nSystem.out.println(Arrays.toString(numbers));\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>[1, 3, 6, 4, 3]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":247338,"reputation":4069,"user_id":521996,"accept_rate":75,"display_name":"George"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1326026745,"creation_date":1326026745,"answer_id":8777606,"question_id":8777217,"body_markdown":"If you are allowed to user List instead of array, you can do actually nothing but create a new Iteratable interface and apply a method to it like [google-collections][1] Collections2.filter() does, you can check it out.\r\n \r\n\r\n\r\n  [1]: http://code.google.com/p/guava-libraries/","title":"Remove all zeros from array ","body":"<p>If you are allowed to user List instead of array, you can do actually nothing but create a new Iteratable interface and apply a method to it like <a href=\"http://code.google.com/p/guava-libraries/\" rel=\"nofollow\">google-collections</a> Collections2.filter() does, you can check it out.</p>\n"},{"comments":[{"owner":{"account_id":4327531,"reputation":662,"user_id":3533913,"display_name":"GriffinG"},"score":1,"creation_date":1496798972,"post_id":24261819,"comment_id":75803838,"body_markdown":"Apache commons lang 3.5 now contains removeAllOccurences(T[] array, T element) which does exactly what the OP wants and what you suggested, but without having to loop.","body":"Apache commons lang 3.5 now contains removeAllOccurences(T[] array, T element) which does exactly what the OP wants and what you suggested, but without having to loop."}],"tags":[],"owner":{"account_id":4576295,"reputation":114,"user_id":3714652,"display_name":"Harshit Thacker"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1403002006,"creation_date":1403002006,"answer_id":24261819,"question_id":8777217,"body_markdown":"This example uses **Apache Commons** library , I hope this will be useful to you\r\n\r\n\timport org.apache.commons.lang.ArrayUtils;\r\n\t\r\n\tpublic class Test {\r\n\t\tpublic static void main(String args[]) {\r\n\t\t\tint[] array = {0, 5, 6, 0, 0, 2, 5};\r\n\t\t\t\r\n            // this loop is to remove all zeros\r\n\t\t\twhile(ArrayUtils.contains(array, 0))\r\n\t\t\t\tarray = ArrayUtils.removeElement(array, 0);\r\n\r\n            // this loop will print the array elemnents\r\n\t\t\tfor(int i : array)\r\n\t\t\t\tSystem.out.println(i);\r\n\t\t\t\r\n\t\t}\r\n\t}","title":"Remove all zeros from array ","body":"<p>This example uses <strong>Apache Commons</strong> library , I hope this will be useful to you</p>\n\n<pre><code>import org.apache.commons.lang.ArrayUtils;\n\npublic class Test {\n    public static void main(String args[]) {\n        int[] array = {0, 5, 6, 0, 0, 2, 5};\n\n        // this loop is to remove all zeros\n        while(ArrayUtils.contains(array, 0))\n            array = ArrayUtils.removeElement(array, 0);\n\n        // this loop will print the array elemnents\n        for(int i : array)\n            System.out.println(i);\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3093276,"reputation":1601,"user_id":4883632,"accept_rate":96,"display_name":"zardon"},"score":0,"creation_date":1502167423,"post_id":45559422,"comment_id":78078230,"body_markdown":"Perhaps the programming language you use has a Underscore library or Lo-Dash","body":"Perhaps the programming language you use has a Underscore library or Lo-Dash"}],"tags":[],"owner":{"account_id":3093276,"reputation":1601,"user_id":4883632,"accept_rate":96,"display_name":"zardon"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502167333,"creation_date":1502167333,"answer_id":45559422,"question_id":8777217,"body_markdown":"Does the programming language you use employ .map or .reduce functions, or is there an extension that allows you to do this?\r\n\r\nIn Swift, you can do this via .filter; observe\r\n\r\n    var orders = [0, 5, 6, 0, 0, 2, 5]\r\n    \r\n    orders = orders.filter({ $0 != 0 })\r\n    \r\n    print (orders)\r\n\r\nThis returns `[5, 6, 2, 5]`, retaining your order\r\n","title":"Remove all zeros from array ","body":"<p>Does the programming language you use employ .map or .reduce functions, or is there an extension that allows you to do this?</p>\n\n<p>In Swift, you can do this via .filter; observe</p>\n\n<pre><code>var orders = [0, 5, 6, 0, 0, 2, 5]\n\norders = orders.filter({ $0 != 0 })\n\nprint (orders)\n</code></pre>\n\n<p>This returns <code>[5, 6, 2, 5]</code>, retaining your order</p>\n"},{"tags":[],"owner":{"account_id":431465,"reputation":89,"user_id":815523,"display_name":"Akis"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1577914176,"creation_date":1577914176,"answer_id":59556265,"question_id":8777217,"body_markdown":"With Java 8 you can make a stream out of the array, apply .filter() and then convert it back into an array : \r\n\r\n    int[] array = {0, 5, 6, 0, 0, 2, 5};\r\n\r\n    int[] filteredArray = Arrays.stream(array).filter(num -&gt; num != 0).toArray();    \r\n\r\n    // filteredArray = {5, 6, 2, 5};","title":"Remove all zeros from array ","body":"<p>With Java 8 you can make a stream out of the array, apply .filter() and then convert it back into an array : </p>\n\n<pre><code>int[] array = {0, 5, 6, 0, 0, 2, 5};\n\nint[] filteredArray = Arrays.stream(array).filter(num -&gt; num != 0).toArray();    \n\n// filteredArray = {5, 6, 2, 5};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19077586,"reputation":11,"user_id":13930539,"display_name":"Navonil Ghosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595342676,"creation_date":1595327905,"answer_id":63012685,"question_id":8777217,"body_markdown":"Try the basic way:\r\n\r\n    public int[] convert(int[] data) {\r\n\t\tint count =0;\r\n\t\tfor (int i =0; i&lt; data.length; i++) {\r\n\t\t\tif(data[i]==0)\r\n\t\t\t\tcount++;\r\n\t\t}\r\n\t\tint[] nonZero = new int[data.length-count];\r\n\t\tint j =0;\r\n\t\tfor(int i = 0; i&lt;data.length; i++) {\r\n\t\t\tif(data[i]!=0) {\r\n\t\t\t\tnonZero[j] = data[i];\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn nonZero;\r\n\t}","title":"Remove all zeros from array ","body":"<p>Try the basic way:</p>\n<pre><code>public int[] convert(int[] data) {\n    int count =0;\n    for (int i =0; i&lt; data.length; i++) {\n        if(data[i]==0)\n            count++;\n    }\n    int[] nonZero = new int[data.length-count];\n    int j =0;\n    for(int i = 0; i&lt;data.length; i++) {\n        if(data[i]!=0) {\n            nonZero[j] = data[i];\n            j++;\n        }\n    }\n    return nonZero;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18553680,"reputation":31,"user_id":13519340,"display_name":"Rupa Dosapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619651648,"creation_date":1619612584,"answer_id":67300185,"question_id":8777217,"body_markdown":"You can remove zeros in O(1) extra space.  Instead of copying the elements into another array you can just return the size and print the same array:\r\n\r\n```\r\npublic class RemoveZeros {\r\n\t\r\n\tstatic int removeZeros(int[] a){\r\n\t\tint j =0;\r\n\t\t\r\n\t\tfor(int i =0;i&lt;a.length;i++) {\r\n\t\t\tif(a[i] !=0) {\r\n\t\t\t\ta[j] = a[i];\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn j;\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] a = new int[]{0, 5, 6, 0, 0, 2, 5};\r\n\t\tint val = removeZeros(a);\r\n\t\tfor(int i =0;i&lt;val;i++)\r\n\t\t\tSystem.out.println(a[i]);\r\n\t}\r\n}\r\n```\r\n\r\n","title":"Remove all zeros from array ","body":"<p>You can remove zeros in O(1) extra space.  Instead of copying the elements into another array you can just return the size and print the same array:</p>\n<pre><code>public class RemoveZeros {\n    \n    static int removeZeros(int[] a){\n        int j =0;\n        \n        for(int i =0;i&lt;a.length;i++) {\n            if(a[i] !=0) {\n                a[j] = a[i];\n                j++;\n            }\n            \n        }\n        \n        return j;\n    }\n    public static void main(String[] args) {\n        int[] a = new int[]{0, 5, 6, 0, 0, 2, 5};\n        int val = removeZeros(a);\n        for(int i =0;i&lt;val;i++)\n            System.out.println(a[i]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23807610,"reputation":11,"user_id":17816874,"display_name":"Yori"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649496471,"creation_date":1649496471,"answer_id":71806780,"question_id":8777217,"body_markdown":"    public class RemoveZeros {\r\n\t    public static void main(String[] args) {\r\n\t\t    int arr[] = {1,0,0,1,0,0,1,0,0,0,0,1,2,0,5};\r\n\t\t    int n = arr.length;\r\n\t\t    for(int i=0; i&lt;n; i++) {\r\n\t\t\t    if(arr[i]!=0) {\r\n\t\t\t\t    System.out.print(arr[i]+ &quot; &quot;);\r\n\t\t\t    }\r\n\t\t    }\r\n\t    }\r\n    }","title":"Remove all zeros from array ","body":"<pre><code>public class RemoveZeros {\n    public static void main(String[] args) {\n        int arr[] = {1,0,0,1,0,0,1,0,0,0,0,1,2,0,5};\n        int n = arr.length;\n        for(int i=0; i&lt;n; i++) {\n            if(arr[i]!=0) {\n                System.out.print(arr[i]+ &quot; &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":365916,"reputation":11573,"user_id":711129,"accept_rate":97,"display_name":"Hidde"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72277,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":8777239,"answer_count":11,"score":18,"last_activity_date":1680702202,"creation_date":1326023252,"question_id":8777217,"body_markdown":"I have an array:\r\n\r\n    [0, 5, 6, 0, 0, 2, 5]\r\nI would like to remove all zeros from it, so that this returns (keeping the same order):\r\n\r\n    [5, 6, 2, 5]\r\nIs there any easier way to remove all zeros than the following?\r\n\r\n    int[] array = {0, 5, 6, 0, 0, 2, 5};\r\n    \t\tint len = 0;\r\n    \t\tfor (int i=0; i&lt;array.length; i++){\r\n    \t\t\tif (array[i] != 0)\r\n    \t\t\t\tlen++;\r\n    \t\t}\r\n    \t\tint [] newArray = new int[len];\r\n    \t\tfor (int i=0, j=0; i&lt;array.length; i++){\r\n    \t\t\tif (array[i] != 0) {\r\n    \t\t\t\tnewArray[j] = array[i];\r\n    \t\t\t\tj++;\r\n    \t\t\t}\r\n    \t\t}\r\n\r\nI haven&#39;t been able to find any method in the Arrays class, and Google/SO searches didn&#39;t give me any good answers. ","title":"Remove all zeros from array ","body":"<p>I have an array:</p>\n\n<pre><code>[0, 5, 6, 0, 0, 2, 5]\n</code></pre>\n\n<p>I would like to remove all zeros from it, so that this returns (keeping the same order):</p>\n\n<pre><code>[5, 6, 2, 5]\n</code></pre>\n\n<p>Is there any easier way to remove all zeros than the following?</p>\n\n<pre><code>int[] array = {0, 5, 6, 0, 0, 2, 5};\n        int len = 0;\n        for (int i=0; i&lt;array.length; i++){\n            if (array[i] != 0)\n                len++;\n        }\n        int [] newArray = new int[len];\n        for (int i=0, j=0; i&lt;array.length; i++){\n            if (array[i] != 0) {\n                newArray[j] = array[i];\n                j++;\n            }\n        }\n</code></pre>\n\n<p>I haven't been able to find any method in the Arrays class, and Google/SO searches didn't give me any good answers. </p>\n"},{"tags":["java","spring-boot","hibernate","uuid"],"answers":[{"tags":[],"owner":{"account_id":229715,"reputation":1804,"user_id":492867,"accept_rate":96,"display_name":"tanasi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680701915,"creation_date":1680701915,"answer_id":75940147,"question_id":75938606,"body_markdown":"Actually, I did it this way:\r\n\r\n    public class EntityClass {\r\n    \r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n    \r\n       @Column(unique = true, nullable = false)\r\n       private UUID uuid = UUID.randomUUID();\r\n    }\r\n\r\nOn initial save, UUID will be set, and it should be unique and not null.","title":"UUID column autogenerated without @Id anotation","body":"<p>Actually, I did it this way:</p>\n<pre><code>public class EntityClass {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   @Column(unique = true, nullable = false)\n   private UUID uuid = UUID.randomUUID();\n}\n</code></pre>\n<p>On initial save, UUID will be set, and it should be unique and not null.</p>\n"}],"owner":{"account_id":229715,"reputation":1804,"user_id":492867,"accept_rate":96,"display_name":"tanasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75940147,"answer_count":1,"score":0,"last_activity_date":1680701915,"creation_date":1680692450,"question_id":75938606,"body_markdown":"I have a table and there is already id defined, but for some reason I need the uuid column to be auto generated and unique.\r\n\r\nI tried all kind of annotations like this, but nothing seems to work:\r\n\r\n    @Column(columnDefinition = &quot;BINARY(16)&quot;)\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\r\n\r\nIs it possible without defining uuid as @Id?\r\nThanks.\r\n\r\n    public class EntityClass {\r\n    \r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n       private Long id;\r\n    \r\n       private UUID uuid;\r\n    }","title":"UUID column autogenerated without @Id anotation","body":"<p>I have a table and there is already id defined, but for some reason I need the uuid column to be auto generated and unique.</p>\n<p>I tried all kind of annotations like this, but nothing seems to work:</p>\n<pre><code>@Column(columnDefinition = &quot;BINARY(16)&quot;)\n@GeneratedValue(generator = &quot;uuid2&quot;)\n@GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;org.hibernate.id.UUIDGenerator&quot;)\n</code></pre>\n<p>Is it possible without defining uuid as @Id?\nThanks.</p>\n<pre><code>public class EntityClass {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.IDENTITY)\n   private Long id;\n\n   private UUID uuid;\n}\n</code></pre>\n"},{"tags":["java","docker","amazon-ecs","open-telemetry","aws-xray"],"comments":[{"owner":{"account_id":170085,"reputation":13397,"user_id":396567,"accept_rate":83,"display_name":"Michael Hausenblas"},"score":0,"creation_date":1680687535,"post_id":75937264,"comment_id":133938941,"body_markdown":"Hard to tell what exactly is going on. Out of interest, did you have a look at our native OpenTelemetry support in ECS (https://docs.aws.amazon.com/AmazonECS/latest/developerguide/trace-data.html)?","body":"Hard to tell what exactly is going on. Out of interest, did you have a look at our native OpenTelemetry support in ECS (<a href=\"https://docs.aws.amazon.com/AmazonECS/latest/developerguide/trace-data.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonECS/latest/developerguide/&hellip;</a>)?"},{"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"score":1,"creation_date":1680692220,"post_id":75937264,"comment_id":133940047,"body_markdown":"@MichaelHausenblas Thank you. In the end I solved using the aws-opentelemetry-agent instead of the aws-xray-java-agent implemented on the &quot;Disco&quot; Library.","body":"@MichaelHausenblas Thank you. In the end I solved using the aws-opentelemetry-agent instead of the aws-xray-java-agent implemented on the &quot;Disco&quot; Library."},{"owner":{"account_id":170085,"reputation":13397,"user_id":396567,"accept_rate":83,"display_name":"Michael Hausenblas"},"score":0,"creation_date":1680700168,"post_id":75937264,"comment_id":133942303,"body_markdown":"Excellent! I&#39;d recommend to answer your own question here, below so that others can also benefit from your insight.","body":"Excellent! I&#39;d recommend to answer your own question here, below so that others can also benefit from your insight."}],"answers":[{"tags":[],"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680701770,"creation_date":1680701770,"answer_id":75940124,"question_id":75937264,"body_markdown":"In the end I solved using the [aws-opentelemetry-agent][1] instead of the [aws-xray-java-agent][2] implemented on the &quot;Disco&quot; Library\r\n\r\n\r\n  [1]: https://github.com/aws-observability/aws-otel-java-instrumentation\r\n  [2]: https://github.com/aws/aws-xray-java-agent","title":"Error using the AWS X-Ray agent in a Spring Boot Application on ECS Fargate","body":"<p>In the end I solved using the <a href=\"https://github.com/aws-observability/aws-otel-java-instrumentation\" rel=\"nofollow noreferrer\">aws-opentelemetry-agent</a> instead of the <a href=\"https://github.com/aws/aws-xray-java-agent\" rel=\"nofollow noreferrer\">aws-xray-java-agent</a> implemented on the &quot;Disco&quot; Library</p>\n"}],"owner":{"account_id":23996629,"reputation":47,"user_id":17982071,"display_name":"HK15"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":319,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680701770,"creation_date":1680683454,"question_id":75937264,"body_markdown":"I&#39;m having difficulty figuring out how to properly set up the AWS X-Ray Agent for a dockerized &quot;Spring Boot&quot; application.\r\n\r\nI&#39;m deploying this application on AWS ECS (Fargate) and together with the main container with the application there is the X-Ray daemon &quot;aws-otel-collector&quot; which should be listening on UDP port 2000.\r\n\r\n\r\nI&#39;m using the &quot;[Disco][1]&quot; Agent with the following configuration JSON file in the application resources.\r\n\r\n    {\r\n    \t&quot;serviceName&quot;: &quot;XRayInstrumentedService&quot;, \r\n    \t&quot;contextMissingStrategy&quot;: &quot;LOG_ERROR&quot;, \r\n    \t&quot;daemonAddress&quot;: &quot;127.0.0.1:2000&quot;, \r\n    \t&quot;tracingEnabled&quot;: true,\r\n    \t&quot;samplingStrategy&quot;: &quot;CENTRAL&quot;, \r\n    \t&quot;traceIdInjectionPrefix&quot;: &quot;prefix&quot;,\r\n    \t&quot;awsSdkVersion&quot;: 2,\r\n    \t&quot;maxStackTraceLength&quot;: 50, \r\n    \t&quot;streamingThreshold&quot;: 100, \r\n    \t&quot;traceIdInjection&quot;: true, \r\n    \t&quot;pluginsEnabled&quot;: true, \r\n    \t&quot;collectSqlQueries&quot;: false\r\n    }\r\n\r\n  [1]: https://docs.aws.amazon.com/xray/latest/devguide/aws-x-ray-auto-instrumentation-agent-for-java.html#XRayAutoInstrumentationAgent-Configuration\r\n\r\nThis is my Dockerfile:\r\n\r\n    FROM amazoncorretto:11\r\n    \r\n    ADD target/*.jar application.jar\r\n    \r\n    ADD xray-agent/disco/disco-java-agent.jar /opt/xray-agent/disco/disco-java-agent.jar\r\n    ADD xray-agent/disco/disco-plugins/aws-xray-agent-plugin.jar /opt/xray-agent/disco/disco-plugins/aws-xray-agent-plugin.jar\r\n    ADD xray-agent/disco/disco-plugins/disco-java-agent-aws-plugin.jar /opt/xray-agent/disco/disco-plugins/disco-java-agent-aws-plugin.jar \r\n    ADD xray-agent/disco/disco-plugins/disco-java-agent-sql-plugin.jar /opt/xray-agent/disco/disco-plugins/disco-java-agent-sql-plugin.jar\r\n    ADD xray-agent/disco/disco-plugins/disco-java-agent-web-plugin.jar /opt/xray-agent/disco/disco-plugins/disco-java-agent-web-plugin.jar\r\n    \r\n    ENV AWS_XRAY_TRACING_NAME=myapp\r\n    ENV JAVA_TOOL_OPTIONS=-javaagent:/opt/xray-agent/disco/disco-java-agent.jar=pluginPath=/opt/xray-agent/disco/disco-plugins\r\n    \r\n    CMD [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-Xms512m&quot;, &quot;-Xmx1g&quot;, &quot;-jar&quot;, &quot;application.jar&quot;]\r\n\r\nWhen the ECS Task starts I always get the same error:\r\n\r\n    c.a.x.s.sampling.pollers.RulePoller : Encountered error polling GetSamplingRules:\r\n    com.amazonaws.xray.internal.XrayClientException: Could not serialize and send request.\r\n    at com.amazonaws.xray.internal.UnsignedXrayClient.sendRequest(UnsignedXrayClient.java:142) ~[aws-xray-agent-plugin.jar:na]\r\n    at com.amazonaws.xray.internal.UnsignedXrayClient.getSamplingRules(UnsignedXrayClient.java:112) ~[aws-xray-agent-plugin.jar:na]\r\n    at com.amazonaws.xray.strategy.sampling.pollers.RulePoller.pollRule(RulePoller.java:100) ~[aws-xray-agent-plugin.jar:na]\r\n    at com.amazonaws.xray.strategy.sampling.pollers.RulePoller.lambda$start$0(RulePoller.java:72) ~[aws-xray-agent-plugin.jar:na]\r\n\r\nthe X-Ray deamon seems running fine as a sidecar container.\r\n\r\nI&#39;m confused about what&#39;s the exact problem here.","title":"Error using the AWS X-Ray agent in a Spring Boot Application on ECS Fargate","body":"<p>I'm having difficulty figuring out how to properly set up the AWS X-Ray Agent for a dockerized &quot;Spring Boot&quot; application.</p>\n<p>I'm deploying this application on AWS ECS (Fargate) and together with the main container with the application there is the X-Ray daemon &quot;aws-otel-collector&quot; which should be listening on UDP port 2000.</p>\n<p>I'm using the &quot;<a href=\"https://docs.aws.amazon.com/xray/latest/devguide/aws-x-ray-auto-instrumentation-agent-for-java.html#XRayAutoInstrumentationAgent-Configuration\" rel=\"nofollow noreferrer\">Disco</a>&quot; Agent with the following configuration JSON file in the application resources.</p>\n<pre><code>{\n    &quot;serviceName&quot;: &quot;XRayInstrumentedService&quot;, \n    &quot;contextMissingStrategy&quot;: &quot;LOG_ERROR&quot;, \n    &quot;daemonAddress&quot;: &quot;127.0.0.1:2000&quot;, \n    &quot;tracingEnabled&quot;: true,\n    &quot;samplingStrategy&quot;: &quot;CENTRAL&quot;, \n    &quot;traceIdInjectionPrefix&quot;: &quot;prefix&quot;,\n    &quot;awsSdkVersion&quot;: 2,\n    &quot;maxStackTraceLength&quot;: 50, \n    &quot;streamingThreshold&quot;: 100, \n    &quot;traceIdInjection&quot;: true, \n    &quot;pluginsEnabled&quot;: true, \n    &quot;collectSqlQueries&quot;: false\n}\n</code></pre>\n<p>This is my Dockerfile:</p>\n<pre><code>FROM amazoncorretto:11\n\nADD target/*.jar application.jar\n\nADD xray-agent/disco/disco-java-agent.jar /opt/xray-agent/disco/disco-java-agent.jar\nADD xray-agent/disco/disco-plugins/aws-xray-agent-plugin.jar /opt/xray-agent/disco/disco-plugins/aws-xray-agent-plugin.jar\nADD xray-agent/disco/disco-plugins/disco-java-agent-aws-plugin.jar /opt/xray-agent/disco/disco-plugins/disco-java-agent-aws-plugin.jar \nADD xray-agent/disco/disco-plugins/disco-java-agent-sql-plugin.jar /opt/xray-agent/disco/disco-plugins/disco-java-agent-sql-plugin.jar\nADD xray-agent/disco/disco-plugins/disco-java-agent-web-plugin.jar /opt/xray-agent/disco/disco-plugins/disco-java-agent-web-plugin.jar\n\nENV AWS_XRAY_TRACING_NAME=myapp\nENV JAVA_TOOL_OPTIONS=-javaagent:/opt/xray-agent/disco/disco-java-agent.jar=pluginPath=/opt/xray-agent/disco/disco-plugins\n\nCMD [&quot;java&quot;, &quot;-Djava.security.egd=file:/dev/./urandom&quot;, &quot;-Xms512m&quot;, &quot;-Xmx1g&quot;, &quot;-jar&quot;, &quot;application.jar&quot;]\n</code></pre>\n<p>When the ECS Task starts I always get the same error:</p>\n<pre><code>c.a.x.s.sampling.pollers.RulePoller : Encountered error polling GetSamplingRules:\ncom.amazonaws.xray.internal.XrayClientException: Could not serialize and send request.\nat com.amazonaws.xray.internal.UnsignedXrayClient.sendRequest(UnsignedXrayClient.java:142) ~[aws-xray-agent-plugin.jar:na]\nat com.amazonaws.xray.internal.UnsignedXrayClient.getSamplingRules(UnsignedXrayClient.java:112) ~[aws-xray-agent-plugin.jar:na]\nat com.amazonaws.xray.strategy.sampling.pollers.RulePoller.pollRule(RulePoller.java:100) ~[aws-xray-agent-plugin.jar:na]\nat com.amazonaws.xray.strategy.sampling.pollers.RulePoller.lambda$start$0(RulePoller.java:72) ~[aws-xray-agent-plugin.jar:na]\n</code></pre>\n<p>the X-Ray deamon seems running fine as a sidecar container.</p>\n<p>I'm confused about what's the exact problem here.</p>\n"},{"tags":["java","android","kotlin","android-layout","gradient"],"answers":[{"tags":[],"owner":{"account_id":27829354,"reputation":186,"user_id":21248085,"display_name":"Shivrajsinh Sarvaiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680701431,"creation_date":1680700542,"answer_id":75939909,"question_id":75937826,"body_markdown":"You can do that programmatically using AnimationDrawable(),\r\n\r\n\r\n    val animDrawable = AnimationDrawable()\r\n    animDrawable.isOneShot = false  //Is set false make animation run infinitely \r\n\r\n    val gradient = GradientDrawable(\r\n        GradientDrawable.Orientation.TOP_BOTTOM,\r\n        intArrayOf(\r\n            Color.argb(255, Random.nextInt(256), Random.nextInt(256), Random.nextInt(256)),\r\n            Color.argb(255, Random.nextInt(256), Random.nextInt(256), Random.nextInt(256))\r\n        )\r\n    )\r\n\r\n    val gradient2 = GradientDrawable(\r\n        GradientDrawable.Orientation.RIGHT_LEFT,\r\n        intArrayOf(\r\n            Color.argb(255, Random.nextInt(256), Random.nextInt(256), Random.nextInt(256)),\r\n            Color.argb(255, Random.nextInt(256), Random.nextInt(256), Random.nextInt(256))\r\n        )\r\n    )\r\n\r\n    animDrawable.addFrame(gradient,3000) // Added gradientDrawable to animDrawable\r\n    animDrawable.addFrame(gradient2,1500)\r\n\r\n    animDrawable.apply {  //To make it more smooth setting enter fade duration and exit fade duration\r\n                    setEnterFadeDuration(1000)\r\n                    setExitFadeDuration(1000)\r\n                }\r\n\r\n    linearLayout.setBackgroundDrawable(animDrawable) //set animDrawable to linearLayouot background\r\n    animDrawable.start() //start Animation\r\n\r\nYou can change duration according to your requirement to make it look more interesting.\r\n\r\n\r\n","title":"How do I Animate Linear Layout Background Gradient Progmatically?","body":"<p>You can do that programmatically using AnimationDrawable(),</p>\n<pre><code>val animDrawable = AnimationDrawable()\nanimDrawable.isOneShot = false  //Is set false make animation run infinitely \n\nval gradient = GradientDrawable(\n    GradientDrawable.Orientation.TOP_BOTTOM,\n    intArrayOf(\n        Color.argb(255, Random.nextInt(256), Random.nextInt(256), Random.nextInt(256)),\n        Color.argb(255, Random.nextInt(256), Random.nextInt(256), Random.nextInt(256))\n    )\n)\n\nval gradient2 = GradientDrawable(\n    GradientDrawable.Orientation.RIGHT_LEFT,\n    intArrayOf(\n        Color.argb(255, Random.nextInt(256), Random.nextInt(256), Random.nextInt(256)),\n        Color.argb(255, Random.nextInt(256), Random.nextInt(256), Random.nextInt(256))\n    )\n)\n\nanimDrawable.addFrame(gradient,3000) // Added gradientDrawable to animDrawable\nanimDrawable.addFrame(gradient2,1500)\n\nanimDrawable.apply {  //To make it more smooth setting enter fade duration and exit fade duration\n                setEnterFadeDuration(1000)\n                setExitFadeDuration(1000)\n            }\n\nlinearLayout.setBackgroundDrawable(animDrawable) //set animDrawable to linearLayouot background\nanimDrawable.start() //start Animation\n</code></pre>\n<p>You can change duration according to your requirement to make it look more interesting.</p>\n"}],"owner":{"account_id":28220163,"reputation":1,"user_id":21571017,"display_name":"thatt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":433,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680701431,"creation_date":1680687089,"question_id":75937826,"body_markdown":"How do I change the background image of a LinearLayout progmatically? \r\n\r\n\r\nWhat I am trying to achieve is to animate the tranisiton between two gradients as shown below to add to the background of a `LinearLayout`.\r\n\r\n![enter image description here](https://webartdevelopers.com/blog/wp-content/uploads/2019/02/Pure-CSS3-Gradient-Background-Animation.gif)\r\n\r\n\r\n\r\nI have two gradients that i built progrmatically,\r\n\r\n    val gradient = GradientDrawable(\r\n        GradientDrawable.Orientation.TOP_BOTTOM,\r\n        intArrayOf(\r\n            Color.argb(255, Random().nextInt(256), Random().nextInt(256), Random().nextInt(256)),\r\n            Color.argb(255, Random().nextInt(256), Random().nextInt(256), Random().nextInt(256)),\r\n        )\r\n    )\r\n\r\n    val gradient2 = GradientDrawable(\r\n        GradientDrawable.Orientation.RIGHT_LEFT,\r\n        intArrayOf(\r\n            Color.argb(255, Random().nextInt(256), Random().nextInt(256), Random().nextInt(256)),\r\n            Color.argb(255, Random().nextInt(256), Random().nextInt(256), Random().nextInt(256)),\r\n        )\r\n    )\r\n\r\nI would like to animate the background of a linear layout as transition from one gradient to another. I know with xml we can animate using `animation-list`\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;animation-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;item android:duration=&quot;5000&quot;\r\n          android:drawable=&quot;@drawable/gradient_start&quot;/&gt;\r\n\r\n    &lt;item android:duration=&quot;5000&quot;\r\n          android:drawable=&quot;@drawable/gradient_center&quot;/&gt;\r\n\r\n    &lt;item android:duration=&quot;5000&quot;\r\n          android:drawable=&quot;@drawable/gradient_end&quot;/&gt;\r\n\r\n&lt;/animation-list&gt;\r\n```\r\n\r\nbut I am looking for a progmatic way with kotlin code, also I know there existed this project https://github.com/dynamitechetan/Flowing-Gradient which is not supported as of now. how can I achieve this? \r\n \r\n","title":"How do I Animate Linear Layout Background Gradient Progmatically?","body":"<p>How do I change the background image of a LinearLayout progmatically?</p>\n<p>What I am trying to achieve is to animate the tranisiton between two gradients as shown below to add to the background of a <code>LinearLayout</code>.</p>\n<p><img src=\"https://webartdevelopers.com/blog/wp-content/uploads/2019/02/Pure-CSS3-Gradient-Background-Animation.gif\" alt=\"enter image description here\" /></p>\n<p>I have two gradients that i built progrmatically,</p>\n<pre><code>val gradient = GradientDrawable(\n    GradientDrawable.Orientation.TOP_BOTTOM,\n    intArrayOf(\n        Color.argb(255, Random().nextInt(256), Random().nextInt(256), Random().nextInt(256)),\n        Color.argb(255, Random().nextInt(256), Random().nextInt(256), Random().nextInt(256)),\n    )\n)\n\nval gradient2 = GradientDrawable(\n    GradientDrawable.Orientation.RIGHT_LEFT,\n    intArrayOf(\n        Color.argb(255, Random().nextInt(256), Random().nextInt(256), Random().nextInt(256)),\n        Color.argb(255, Random().nextInt(256), Random().nextInt(256), Random().nextInt(256)),\n    )\n)\n</code></pre>\n<p>I would like to animate the background of a linear layout as transition from one gradient to another. I know with xml we can animate using <code>animation-list</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;animation-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;item android:duration=&quot;5000&quot;\n          android:drawable=&quot;@drawable/gradient_start&quot;/&gt;\n\n    &lt;item android:duration=&quot;5000&quot;\n          android:drawable=&quot;@drawable/gradient_center&quot;/&gt;\n\n    &lt;item android:duration=&quot;5000&quot;\n          android:drawable=&quot;@drawable/gradient_end&quot;/&gt;\n\n&lt;/animation-list&gt;\n</code></pre>\n<p>but I am looking for a progmatic way with kotlin code, also I know there existed this project <a href=\"https://github.com/dynamitechetan/Flowing-Gradient\" rel=\"nofollow noreferrer\">https://github.com/dynamitechetan/Flowing-Gradient</a> which is not supported as of now. how can I achieve this?</p>\n"},{"tags":["java","jmeter"],"comments":[{"owner":{"account_id":121797,"reputation":2346,"user_id":3059685,"display_name":"Joman68"},"score":0,"creation_date":1680689380,"post_id":75937893,"comment_id":133939381,"body_markdown":"Does this answer your question? [How can I fix this error : non supported SQL92?](https://stackoverflow.com/questions/12244591/how-can-i-fix-this-error-non-supported-sql92)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12244591/how-can-i-fix-this-error-non-supported-sql92\">How can I fix this error : non supported SQL92?</a>"}],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680690661,"creation_date":1680690661,"answer_id":75938351,"question_id":75937893,"body_markdown":"It looks like your `OrderIDA` [JMeter Variable][1] is not defined hence JMeter is sending it as `${OrderIDA}` instead of the respective value. \r\n\r\nYou can double check it using [Debug Sampler and View Results Tree listener combination][2]\r\n\r\nRe-visit the place where you declare the variable and amend JMeter configuration accordingly. \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/functions.html\r\n  [2]: https://www.blazemeter.com/blog/debug-jmeter","title":"How to fix &quot;Response message: java.sql.SQLException: Non supported SQL92 token at position: 48&quot; Jmeter testing","body":"<p>It looks like your <code>OrderIDA</code> <a href=\"https://jmeter.apache.org/usermanual/functions.html\" rel=\"nofollow noreferrer\">JMeter Variable</a> is not defined hence JMeter is sending it as <code>${OrderIDA}</code> instead of the respective value.</p>\n<p>You can double check it using <a href=\"https://www.blazemeter.com/blog/debug-jmeter\" rel=\"nofollow noreferrer\">Debug Sampler and View Results Tree listener combination</a></p>\n<p>Re-visit the place where you declare the variable and amend JMeter configuration accordingly.</p>\n"}],"owner":{"account_id":28221111,"reputation":13,"user_id":21571828,"display_name":"GAURAV V JAIN"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680701283,"creation_date":1680687547,"question_id":75937893,"body_markdown":"in the given jdbc request i have the query as &quot;select fo_ide from order_info where order_id=${OrderIDA}&quot; and variable name as OrderIDA.\r\n\r\nafter some checking around its the issues with using &quot;{&quot; and &quot;}&quot; what else can I use instead? as I need parameter to be used.","title":"How to fix &quot;Response message: java.sql.SQLException: Non supported SQL92 token at position: 48&quot; Jmeter testing","body":"<p>in the given jdbc request i have the query as &quot;select fo_ide from order_info where order_id=${OrderIDA}&quot; and variable name as OrderIDA.</p>\n<p>after some checking around its the issues with using &quot;{&quot; and &quot;}&quot; what else can I use instead? as I need parameter to be used.</p>\n"},{"tags":["java","api","design-patterns","api-design","apigee"],"answers":[{"tags":[],"owner":{"account_id":15787381,"reputation":68,"user_id":11391727,"display_name":"Komo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680510410,"creation_date":1680510410,"answer_id":75917412,"question_id":75862542,"body_markdown":"How I have approached this before is by having an access token proxy. This endpoint generates an access token that is consumed by your APIs.You just add the token proxy while configuring the product for your API.","title":"Apigee OAuth flow","body":"<p>How I have approached this before is by having an access token proxy. This endpoint generates an access token that is consumed by your APIs.You just add the token proxy while configuring the product for your API.</p>\n"},{"comments":[{"owner":{"account_id":5920917,"reputation":341,"user_id":4658283,"display_name":"Ram"},"score":0,"creation_date":1681103025,"post_id":75940011,"comment_id":133998911,"body_markdown":"I think the ask is how to call the APIs from frontend without having to store the client id/secret and not how to call a target from Apigee. \nBasic authentication policy is used to perform base64 encode/decode of credentials. And use of basic auth as a bearer token is not secure.","body":"I think the ask is how to call the APIs from frontend without having to store the client id/secret and not how to call a target from Apigee.  Basic authentication policy is used to perform base64 encode/decode of credentials. And use of basic auth as a bearer token is not secure."}],"tags":[],"owner":{"account_id":15694476,"reputation":105,"user_id":11324471,"display_name":"Pranav"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680701221,"creation_date":1680701221,"answer_id":75940011,"question_id":75862542,"body_markdown":"You can use Basic Authentication Policy for this use case. Refer this code:\r\n\r\n    &lt;BasicAuthentication continueOnError=&quot;false&quot; enabled=&quot;true&quot; name=&quot;Set-AuthToken&quot;&gt;\r\n        &lt;DisplayName&gt;Set-AuthToken&lt;/DisplayName&gt;\r\n        &lt;Operation&gt;Encode&lt;/Operation&gt;\r\n        &lt;IgnoreUnresolvedVariables&gt;false&lt;/IgnoreUnresolvedVariables&gt;\r\n        &lt;User ref=&quot;client_key&quot;/&gt;\r\n        &lt;Password ref=&quot;client_secret&quot;/&gt;\r\n        &lt;AssignTo createNew=&quot;false&quot;&gt;accessToken&lt;/AssignTo&gt;\r\n    &lt;/BasicAuthentication&gt;\r\n\r\nThis policy will generate the token and store it into the accessToken variable as mentioned in the config above. Now you can use this accessToken to set in the headers of the request as a bearer Token using AssignMessage Policy like this:\r\n\r\n    &lt;AssignMessage name=&quot;AddAuthHeader&quot;&gt;\r\n        &lt;Add&gt;\r\n            &lt;Headers&gt;\r\n                &lt;Header name=&quot;Authorization&quot;&gt;Bearer {accessToken}&lt;/Header&gt;\r\n            &lt;/Headers&gt;\r\n        &lt;/Add&gt;\r\n        &lt;AssignTo createNew=&quot;false&quot; type=&quot;request&quot; /&gt;\r\n    &lt;/AssignMessage&gt;\r\n\r\n\r\nAbout storing the client secret and key, we can store them in KVMs and access them in runtime while executing the proxy. The *client_key* and *client_secret* in this code can be fetched through KVMs. For more information on KVM policies, please refer [this link]\r\n\r\n\r\n  [this link]: https://cloud.google.com/apigee/docs/api-platform/reference/policies/key-value-map-operations-policy","title":"Apigee OAuth flow","body":"<p>You can use Basic Authentication Policy for this use case. Refer this code:</p>\n<pre><code>&lt;BasicAuthentication continueOnError=&quot;false&quot; enabled=&quot;true&quot; name=&quot;Set-AuthToken&quot;&gt;\n    &lt;DisplayName&gt;Set-AuthToken&lt;/DisplayName&gt;\n    &lt;Operation&gt;Encode&lt;/Operation&gt;\n    &lt;IgnoreUnresolvedVariables&gt;false&lt;/IgnoreUnresolvedVariables&gt;\n    &lt;User ref=&quot;client_key&quot;/&gt;\n    &lt;Password ref=&quot;client_secret&quot;/&gt;\n    &lt;AssignTo createNew=&quot;false&quot;&gt;accessToken&lt;/AssignTo&gt;\n&lt;/BasicAuthentication&gt;\n</code></pre>\n<p>This policy will generate the token and store it into the accessToken variable as mentioned in the config above. Now you can use this accessToken to set in the headers of the request as a bearer Token using AssignMessage Policy like this:</p>\n<pre><code>&lt;AssignMessage name=&quot;AddAuthHeader&quot;&gt;\n    &lt;Add&gt;\n        &lt;Headers&gt;\n            &lt;Header name=&quot;Authorization&quot;&gt;Bearer {accessToken}&lt;/Header&gt;\n        &lt;/Headers&gt;\n    &lt;/Add&gt;\n    &lt;AssignTo createNew=&quot;false&quot; type=&quot;request&quot; /&gt;\n&lt;/AssignMessage&gt;\n</code></pre>\n<p>About storing the client secret and key, we can store them in KVMs and access them in runtime while executing the proxy. The <em>client_key</em> and <em>client_secret</em> in this code can be fetched through KVMs. For more information on KVM policies, please refer <a href=\"https://cloud.google.com/apigee/docs/api-platform/reference/policies/key-value-map-operations-policy\" rel=\"nofollow noreferrer\">this link</a></p>\n"}],"owner":{"account_id":6427963,"reputation":35,"user_id":4982336,"display_name":"Sandy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1680701221,"creation_date":1679980519,"question_id":75862542,"body_markdown":"I have few apis which are onboarded to APIGEE. We are securing the access to these onboarded APIs with bearer token which is generated using client key and secret.\r\n\r\nNeed suggestions to know what is the best way to invoke the APIs from the client side without storing the client key and secret in the front end. \r\n\r\nIs it we need another backend service to generate the bearer access token from this new backend service to give it back to client? If so how we secure this new service?\r\n\r\nOr is there any other approach we can take?\r\n\r\nAppreciate any sort of help or suggestions. \r\n\r\nThanks in advance\r\nSandy","title":"Apigee OAuth flow","body":"<p>I have few apis which are onboarded to APIGEE. We are securing the access to these onboarded APIs with bearer token which is generated using client key and secret.</p>\n<p>Need suggestions to know what is the best way to invoke the APIs from the client side without storing the client key and secret in the front end.</p>\n<p>Is it we need another backend service to generate the bearer access token from this new backend service to give it back to client? If so how we secure this new service?</p>\n<p>Or is there any other approach we can take?</p>\n<p>Appreciate any sort of help or suggestions.</p>\n<p>Thanks in advance\nSandy</p>\n"},{"tags":["java","selenium-webdriver","winappdriver"],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680701109,"creation_date":1680701109,"question_id":75939992,"body_markdown":"IT downloaded and installed WinAppDriver for me.  I built it into Selenium with a testng application I had.  The dataprovider (part of) is like this:\r\n\r\n\t\tWindowsDriver app = null;\r\n\t\ttry {\r\n\t\t\tDesiredCapabilities caps = new DesiredCapabilities();\r\n\t\t\tcaps.setCapability(&quot;appId&quot;, &quot;src\\\\main\\\\respurces\\\\dummy.bat&quot;);\r\n\t\t\tcaps.setCapability(&quot;platformName&quot;, &quot;Windows&quot;);\r\n\t\t\tcaps.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\r\n\t\t\tapp = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), caps);\r\n\t\t\tapp.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\r\n\t\t\ttestData.drv = app;\r\n\t\t} catch (Exception e) {\r\n\t\t\tthrow new AssertionError(e.getMessage(), e);\r\n\t\t}\r\n\r\nThe appId line was not originally there.  I ran it and when it got to the point where it created the driver, I got the error &quot; Response code 400. Message: Missing command parameter: appId &quot;, so I added it as shown above.  Perhaps the ID is not correct but I still get the same error about missing appId.  I did some searches and found similar problems but they were either for apple or mobile with Google.  I am using Windows 10 Enterprise with Selenium and Java.  I am running WinAppDriver in the background.\r\n\r\nAs an aside, if possible I do not want to specify an app name as the app  (Edge) will already be up and running.  I need this only to enter windows login and password into boxes, as http://user:password@url.com does not seem to work.\r\n\r\nAny idea about this error?","title":"WinAppDriver: Could not start a new session. Response code 400. Message: Missing command parameter: appId","body":"<p>IT downloaded and installed WinAppDriver for me.  I built it into Selenium with a testng application I had.  The dataprovider (part of) is like this:</p>\n<pre><code>    WindowsDriver app = null;\n    try {\n        DesiredCapabilities caps = new DesiredCapabilities();\n        caps.setCapability(&quot;appId&quot;, &quot;src\\\\main\\\\respurces\\\\dummy.bat&quot;);\n        caps.setCapability(&quot;platformName&quot;, &quot;Windows&quot;);\n        caps.setCapability(&quot;deviceName&quot;, &quot;WindowsPC&quot;);\n        app = new WindowsDriver(new URL(&quot;http://127.0.0.1:4723&quot;), caps);\n        app.manage().timeouts().implicitlyWait(2, TimeUnit.SECONDS);\n        testData.drv = app;\n    } catch (Exception e) {\n        throw new AssertionError(e.getMessage(), e);\n    }\n</code></pre>\n<p>The appId line was not originally there.  I ran it and when it got to the point where it created the driver, I got the error &quot; Response code 400. Message: Missing command parameter: appId &quot;, so I added it as shown above.  Perhaps the ID is not correct but I still get the same error about missing appId.  I did some searches and found similar problems but they were either for apple or mobile with Google.  I am using Windows 10 Enterprise with Selenium and Java.  I am running WinAppDriver in the background.</p>\n<p>As an aside, if possible I do not want to specify an app name as the app  (Edge) will already be up and running.  I need this only to enter windows login and password into boxes, as http://user:password@url.com does not seem to work.</p>\n<p>Any idea about this error?</p>\n"},{"tags":["java","sql-server","spring","hibernate"],"comments":[{"owner":{"account_id":15138451,"reputation":460,"user_id":12083015,"display_name":"Erwin"},"score":0,"creation_date":1680236425,"post_id":75894471,"comment_id":133867486,"body_markdown":"is [this](https://stackoverflow.com/questions/51310878/how-select-distinct-value-with-pageable-spring-data-jpa) related?","body":"is <a href=\"https://stackoverflow.com/questions/51310878/how-select-distinct-value-with-pageable-spring-data-jpa\">this</a> related?"},{"owner":{"account_id":3835102,"reputation":116,"user_id":3179639,"display_name":"knoppix"},"score":0,"creation_date":1680249200,"post_id":75894471,"comment_id":133869387,"body_markdown":"@Erwin, I am using JPQL and not native SQL query","body":"@Erwin, I am using JPQL and not native SQL query"}],"owner":{"account_id":3835102,"reputation":116,"user_id":3179639,"display_name":"knoppix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680700879,"creation_date":1680230984,"question_id":75894471,"body_markdown":"I am creating a pageable query over SQL Server using JPA with Spring Data\r\nusing this repository call:\r\n```java\r\n    @Query(&quot;select distinct nat from TABE1 nat &quot; +\r\n            &quot;left join TABLE2 natr on natr.ID= nat.ID&quot; +\r\n            &quot;left join TABLE3 rec on rec.ID= natr.ID_&quot; +\r\n            &quot;left join TABLE4 ew on ew.ID= rec.ID_ &quot; +\r\n            &quot;where (ew.status = &#39;VA&#39; or nat.isM = true) &quot; +\r\n            &quot;and nat.expDate = :endTime &quot; +\r\n            &quot;and nat.dDate = :endTime&quot;\r\n    )\r\n    Page&lt;Entity1&gt; findAllActiveH(@Param(&quot;endTime&quot;) LocalDateTime endOfTime,\r\n                                                     Pageable pageable);\r\n```\r\nNext is the generated query with hibernate \r\n\r\n```SQL \r\n    select\r\n        distinct t.id as id1_47_,\r\n        t.creation_date as...\r\n        ...ALL column\r\n    from\r\n        TABLE t \r\n    left outer join\r\n     ..... ALL Joint \r\n    where\r\n       Conditions...\r\n    order by 1,\r\n        case \r\n            when t.creation_date is null then 1 \r\n            else 0 \r\n        end,\r\n        t.creation_date desc,\r\n        case \r\n            when lower(t.id) is null then 1 \r\n            else 0 \r\n        end,\r\n        lower(t.id) asc offset 0 rows fetch next 10 rows only\r\n```\r\nThe generated query append several &#39;order by&#39; regarding the pageable object but that throw the following exception \r\n\r\n&gt; ORDER BY items must appear in the select list if SELECT DISTINCT is specified\r\n\r\nand I can&#39;t remove the distinct to avoid data duplication \r\nany idea how to deal with pagination and distinct in spring data / hibernate and SQL Server?\r\n\r\nThanks","title":"Pagination with distinct clause using hibernate and SQL Server","body":"<p>I am creating a pageable query over SQL Server using JPA with Spring Data\nusing this repository call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(&quot;select distinct nat from TABE1 nat &quot; +\n            &quot;left join TABLE2 natr on natr.ID= nat.ID&quot; +\n            &quot;left join TABLE3 rec on rec.ID= natr.ID_&quot; +\n            &quot;left join TABLE4 ew on ew.ID= rec.ID_ &quot; +\n            &quot;where (ew.status = 'VA' or nat.isM = true) &quot; +\n            &quot;and nat.expDate = :endTime &quot; +\n            &quot;and nat.dDate = :endTime&quot;\n    )\n    Page&lt;Entity1&gt; findAllActiveH(@Param(&quot;endTime&quot;) LocalDateTime endOfTime,\n                                                     Pageable pageable);\n</code></pre>\n<p>Next is the generated query with hibernate</p>\n<pre><code>    select\n        distinct t.id as id1_47_,\n        t.creation_date as...\n        ...ALL column\n    from\n        TABLE t \n    left outer join\n     ..... ALL Joint \n    where\n       Conditions...\n    order by 1,\n        case \n            when t.creation_date is null then 1 \n            else 0 \n        end,\n        t.creation_date desc,\n        case \n            when lower(t.id) is null then 1 \n            else 0 \n        end,\n        lower(t.id) asc offset 0 rows fetch next 10 rows only\n</code></pre>\n<p>The generated query append several 'order by' regarding the pageable object but that throw the following exception</p>\n<blockquote>\n<p>ORDER BY items must appear in the select list if SELECT DISTINCT is specified</p>\n</blockquote>\n<p>and I can't remove the distinct to avoid data duplication\nany idea how to deal with pagination and distinct in spring data / hibernate and SQL Server?</p>\n<p>Thanks</p>\n"},{"tags":["java","winapi","progress-bar","nio","jna"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1680699245,"post_id":75939515,"comment_id":133941997,"body_markdown":"IMHO the usage of the `CopyFileEx` function is an implementation detail of the current JVM. I don&#39;t expect this to be exposed through any public API that you can access because any such API would be non-portable between Windows and probably all other platforms that the JVM can run on.","body":"IMHO the usage of the <code>CopyFileEx</code> function is an implementation detail of the current JVM. I don&#39;t expect this to be exposed through any public API that you can access because any such API would be non-portable between Windows and probably all other platforms that the JVM can run on."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680699434,"post_id":75939515,"comment_id":133942044,"body_markdown":"Maybe something like `InputStream in = new BufferedInputStream(\nnew ProgressMonitorInputStream(\nparentComponent,\n&quot;Reading &quot; + fileName,\nFiles.newInputStream(Path.of(fileName))));` See `ProgressMonitorInputStream` javadoc You can probably get more nio into that call too","body":"Maybe something like <code>InputStream in = new BufferedInputStream( new ProgressMonitorInputStream( parentComponent, &quot;Reading &quot; + fileName, Files.newInputStream(Path.of(fileName))));</code> See <code>ProgressMonitorInputStream</code> javadoc You can probably get more nio into that call too"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680699520,"post_id":75939515,"comment_id":133942074,"body_markdown":"@ThomasKl&#228;ger I was afraid that may be the case.","body":"@ThomasKl&#228;ger I was afraid that may be the case."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680700897,"post_id":75939515,"comment_id":133942500,"body_markdown":"What is the problem? `JProgressBar` can be used using the kind of thing I posted above","body":"What is the problem? <code>JProgressBar</code> can be used using the kind of thing I posted above"},{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":0,"creation_date":1680702252,"post_id":75939515,"comment_id":133942857,"body_markdown":"@g00se I want to use the native copy function because the target directory is on a remote SMB server and the native functions performed better than using Java input/output streams. I like your solution and will use it for local file operations, but it&#39;s not optimal for remote file operations. Also, it monitors how many bytes have been *read*, but not how many have been *transferred* to the remote filesystem.","body":"@g00se I want to use the native copy function because the target directory is on a remote SMB server and the native functions performed better than using Java input/output streams. I like your solution and will use it for local file operations, but it&#39;s not optimal for remote file operations. Also, it monitors how many bytes have been <i>read</i>, but not how many have been <i>transferred</i> to the remote filesystem."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1680702988,"post_id":75939515,"comment_id":133943083,"body_markdown":"Are you sure that callback parameter `CALLBACK_CHUNK_FINISHED` is effectively telling you the size of your target? It&#39;s possible that it might be no different from calculating from the copying end. Also, since we&#39;re talking about the context of a single thread, the difference between what has been read and what has been copied will narrow, since blocking on write will occur if the destination is slow to transfer","body":"Are you sure that callback parameter <code>CALLBACK_CHUNK_FINISHED</code> is effectively telling you the size of your target? It&#39;s possible that it might be no different from calculating from the copying end. Also, since we&#39;re talking about the context of a single thread, the difference between what has been read and what has been copied will narrow, since blocking on write will occur if the destination is slow to transfer"}],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680700569,"creation_date":1680698230,"question_id":75939515,"body_markdown":"I read [here][1] that Java NIO&#39;s [`Files.copy(Path, Path, CopyOption...)`][2] method uses the Windows function [`CopyFileEx`][3] on Windows machines. The documentation for this function describes a `lpProgressRoutine` parameter:\r\n\r\n&gt; The address of a callback function of type LPPROGRESS_ROUTINE that is\r\n&gt; called each time another portion of the file has been copied. This\r\n&gt; parameter can be NULL. For more information on the progress callback\r\n&gt; function, see the [CopyProgressRoutine][4] function.\r\n\r\nI want to leverage this callback to use with a [`JProgressBar`][5]. Is there a way to do this with Java NIO or JNA?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/34774495/5645656\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\r\n  [3]: https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-copyfileexa?redirectedfrom=MSDN\r\n  [4]: https://learn.microsoft.com/en-us/windows/desktop/api/winbase/nc-winbase-lpprogress_routine\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html","title":"Can Java copy files with the lpProgressRoutine callback?","body":"<p>I read <a href=\"https://stackoverflow.com/a/34774495/5645656\">here</a> that Java NIO's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#copy-java.nio.file.Path-java.nio.file.Path-java.nio.file.CopyOption...-\" rel=\"nofollow noreferrer\"><code>Files.copy(Path, Path, CopyOption...)</code></a> method uses the Windows function <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/winbase/nf-winbase-copyfileexa?redirectedfrom=MSDN\" rel=\"nofollow noreferrer\"><code>CopyFileEx</code></a> on Windows machines. The documentation for this function describes a <code>lpProgressRoutine</code> parameter:</p>\n<blockquote>\n<p>The address of a callback function of type LPPROGRESS_ROUTINE that is\ncalled each time another portion of the file has been copied. This\nparameter can be NULL. For more information on the progress callback\nfunction, see the <a href=\"https://learn.microsoft.com/en-us/windows/desktop/api/winbase/nc-winbase-lpprogress_routine\" rel=\"nofollow noreferrer\">CopyProgressRoutine</a> function.</p>\n</blockquote>\n<p>I want to leverage this callback to use with a <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/JProgressBar.html\" rel=\"nofollow noreferrer\"><code>JProgressBar</code></a>. Is there a way to do this with Java NIO or JNA?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":682692,"reputation":49061,"user_id":535275,"accept_rate":91,"display_name":"Scott Hunter"},"score":1,"creation_date":1680700122,"post_id":75939799,"comment_id":133942293,"body_markdown":"There Are Many Ways To Do This; What Have You Tried To Accomplish It?","body":"There Are Many Ways To Do This; What Have You Tried To Accomplish It?"},{"owner":{"account_id":36137,"reputation":178799,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1680700204,"post_id":75939799,"comment_id":133942312,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNext%28java.lang.String%29","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNext%28java.lang.String%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1680700205,"post_id":75939799,"comment_id":133942313,"body_markdown":"use trim() then read","body":"use trim() then read"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1680700283,"post_id":75939799,"comment_id":133942327,"body_markdown":"Just check if the character you&#39;re at is a space, and if it is, return space instead of encoding it?","body":"Just check if the character you&#39;re at is a space, and if it is, return space instead of encoding it?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680700313,"post_id":75939799,"comment_id":133942338,"body_markdown":"Simply test input char by ASCII number to see if it is a letter or not. But at least show us your own attempt to solve this issue in your question. Without this, it&#39;s nothing but a code writing request and not of help to future visitors.","body":"Simply test input char by ASCII number to see if it is a letter or not. But at least show us your own attempt to solve this issue in your question. Without this, it&#39;s nothing but a code writing request and not of help to future visitors."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1680700501,"post_id":75939799,"comment_id":133942395,"body_markdown":"Please check this link on: [How to search for similar questions on this site](https://www.google.com/search?q=site%3Astackoverflow.com+java+caesar+cipher+ignore+whitespace)","body":"Please check this link on: <a href=\"https://www.google.com/search?q=site%3Astackoverflow.com+java+caesar+cipher+ignore+whitespace\" rel=\"nofollow noreferrer\">How to search for similar questions on this site</a>"}],"answers":[{"tags":[],"owner":{"account_id":28216867,"reputation":84,"user_id":21568247,"display_name":"InvstIA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680700103,"creation_date":1680700103,"answer_id":75939831,"question_id":75939799,"body_markdown":"When the input string contains spaces, indexOf return -1\r\n\r\nThis causes the encryption loop to skip the space character entirely, an produce incorrect output\r\n\r\nI propose to modify the encryption func\r\n\r\n```java\r\npublic static String encyption(int shiftnumber, int EncrDecrpt, String plainText, String encryptStr,\r\n        String ALPHABET) {\r\n    int encryptPos = 0;\r\n    for (int i = 0; i &lt; plainText.length(); i++) {\r\n        char c = plainText.charAt(i);\r\n        if (c == &#39; &#39;) {\r\n            // If the current character is a space, skip it and continue to the next one\r\n            encryptStr += &quot; &quot;;\r\n            continue;\r\n        }\r\n        // get position of each character of inputStr in ALPHABET\r\n        int pos = ALPHABET.indexOf(c);\r\n\r\n        // get encrypted char for each char of inputStr\r\n\r\n        encryptPos = (shiftnumber + pos) % 29;\r\n        \r\n        \r\n        char encryptChar = ALPHABET.charAt(encryptPos);\r\n\r\n        // add encrypted char to encrypted string\r\n        encryptStr += encryptChar;\r\n\r\n    }\r\n    System.out.println(encryptStr);\r\n    return encryptStr;\r\n}\r\n```","title":"is there someone who can help to escape space in a string","body":"<p>When the input string contains spaces, indexOf return -1</p>\n<p>This causes the encryption loop to skip the space character entirely, an produce incorrect output</p>\n<p>I propose to modify the encryption func</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String encyption(int shiftnumber, int EncrDecrpt, String plainText, String encryptStr,\n        String ALPHABET) {\n    int encryptPos = 0;\n    for (int i = 0; i &lt; plainText.length(); i++) {\n        char c = plainText.charAt(i);\n        if (c == ' ') {\n            // If the current character is a space, skip it and continue to the next one\n            encryptStr += &quot; &quot;;\n            continue;\n        }\n        // get position of each character of inputStr in ALPHABET\n        int pos = ALPHABET.indexOf(c);\n\n        // get encrypted char for each char of inputStr\n\n        encryptPos = (shiftnumber + pos) % 29;\n        \n        \n        char encryptChar = ALPHABET.charAt(encryptPos);\n\n        // add encrypted char to encrypted string\n        encryptStr += encryptChar;\n\n    }\n    System.out.println(encryptStr);\n    return encryptStr;\n}\n</code></pre>\n"}],"owner":{"account_id":18548599,"reputation":95,"user_id":13515295,"display_name":"jonathan pascal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1680700403,"accepted_answer_id":75939831,"answer_count":1,"score":-1,"last_activity_date":1680700457,"creation_date":1680699859,"question_id":75939799,"body_markdown":"I&#39;ve got a simple caesar cipher program that takes input from a text file based on the same parameters. The problem I have is that when I use an input string with spaces, when my loop is going through the alphabet variable, it does not consider the space in the input file. What I would Like to Know Is If There Is A Way The Program Can&#39;t Consider The Space And If It Finds A Space In The Input File, It Will Pass To The Next Letter.\r\ndown is my code  \r\n\r\n    public static int shiftnumber = 0;\r\n\tpublic static int EncrDecrpt = 0;\r\n\r\n\tpublic static String plainText = &quot;&quot;;\r\n\tpublic static String encryptStr = &quot;&quot;;\r\n\tpublic static int languageInteger = 0;\r\n\tpublic static boolean turkish = false;\r\n\tpublic static boolean spanish = false;\r\n\tpublic static boolean english = false;\r\n\r\n\r\n\tpublic static void main(String[] args) throws FileNotFoundException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tFile inputFile = new File(&quot;filename.txt&quot;);\r\n\t\tScanner scan = new Scanner(inputFile);\r\n\r\n\t\twhile (scan.hasNext()) {\r\n\r\n\t\t\tString line = scan.nextLine();\r\n\t\t\tString[] words = line.split(&quot;:&quot;);\r\n\r\n\t\t\tshiftnumber = Integer.parseInt(words[0]);\r\n\t\t\tEncrDecrpt = Integer.parseInt(words[1]);\r\n\t\t\tlanguageInteger = Integer.parseInt(words[2]);\r\n\t\t\tplainText = words[3].toLowerCase();\r\n\t\t\t\r\n\t\t\tSystem.out.println(line);\r\n\t\t\t// System.out.println(secondParameter);\r\n\r\n\t\t}\r\n\t\tencyption(shiftnumber, EncrDecrpt, plainText, encryptStr, ALPHABET);\r\n\r\n    public static String encyption(int shiftnumber, int EncrDecrpt, String plainText, String encryptStr,\r\n\t\t\tString ALPHABET) {\r\n\t\tint encryptPos = 0;\r\n\t\tfor (int i = 0; i &lt; plainText.length(); i++) {\r\n\t\t\t// get position of each character of inputStr in ALPHABET\r\n\t\t\tint pos = ALPHABET.indexOf(plainText.charAt(i));\r\n\r\n\t\t\t// get encrypted char for each char of inputStr\r\n\t\r\n\t\t\tencryptPos = (shiftnumber + pos) % 29;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tchar encryptChar = ALPHABET.charAt(encryptPos);\r\n\r\n\t\t\t// add encrypted char to encrypted string\r\n\t\t\tencryptStr += encryptChar;\r\n\r\n\t\t}\r\n\t\tSystem.out.println(encryptStr);\r\n\t\treturn encryptStr;\r\n\r\n\t}\r\n\r\n in the input file i have hello world with a shift 4 i get the output `lippsdasvh` instead of `LIPPS ASVPH`\r\n","title":"is there someone who can help to escape space in a string","body":"<p>I've got a simple caesar cipher program that takes input from a text file based on the same parameters. The problem I have is that when I use an input string with spaces, when my loop is going through the alphabet variable, it does not consider the space in the input file. What I would Like to Know Is If There Is A Way The Program Can't Consider The Space And If It Finds A Space In The Input File, It Will Pass To The Next Letter.\ndown is my code</p>\n<pre><code>public static int shiftnumber = 0;\npublic static int EncrDecrpt = 0;\n\npublic static String plainText = &quot;&quot;;\npublic static String encryptStr = &quot;&quot;;\npublic static int languageInteger = 0;\npublic static boolean turkish = false;\npublic static boolean spanish = false;\npublic static boolean english = false;\n\n\npublic static void main(String[] args) throws FileNotFoundException {\n    // TODO Auto-generated method stub\n    File inputFile = new File(&quot;filename.txt&quot;);\n    Scanner scan = new Scanner(inputFile);\n\n    while (scan.hasNext()) {\n\n        String line = scan.nextLine();\n        String[] words = line.split(&quot;:&quot;);\n\n        shiftnumber = Integer.parseInt(words[0]);\n        EncrDecrpt = Integer.parseInt(words[1]);\n        languageInteger = Integer.parseInt(words[2]);\n        plainText = words[3].toLowerCase();\n        \n        System.out.println(line);\n        // System.out.println(secondParameter);\n\n    }\n    encyption(shiftnumber, EncrDecrpt, plainText, encryptStr, ALPHABET);\n\npublic static String encyption(int shiftnumber, int EncrDecrpt, String plainText, String encryptStr,\n        String ALPHABET) {\n    int encryptPos = 0;\n    for (int i = 0; i &lt; plainText.length(); i++) {\n        // get position of each character of inputStr in ALPHABET\n        int pos = ALPHABET.indexOf(plainText.charAt(i));\n\n        // get encrypted char for each char of inputStr\n\n        encryptPos = (shiftnumber + pos) % 29;\n        \n        \n        char encryptChar = ALPHABET.charAt(encryptPos);\n\n        // add encrypted char to encrypted string\n        encryptStr += encryptChar;\n\n    }\n    System.out.println(encryptStr);\n    return encryptStr;\n\n}\n</code></pre>\n<p>in the input file i have hello world with a shift 4 i get the output <code>lippsdasvh</code> instead of <code>LIPPS ASVPH</code></p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680674727,"post_id":75934193,"comment_id":133936104,"body_markdown":"Are you sure you&#39;re authenticated with a Google account on the device where you&#39;re launching the app?","body":"Are you sure you&#39;re authenticated with a Google account on the device where you&#39;re launching the app?"},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1680694193,"post_id":75934193,"comment_id":133940521,"body_markdown":"I&#39;m not authenticated with a Google account on the device. That&#39;s why `setFilterByAuthorizedAccounts` is set to `false`, so I could choose an account I want to log in with.","body":"I&#39;m not authenticated with a Google account on the device. That&#39;s why <code>setFilterByAuthorizedAccounts</code> is set to <code>false</code>, so I could choose an account I want to log in with."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":4,"creation_date":1680696207,"post_id":75934193,"comment_id":133941009,"body_markdown":"To choose an account, you have to be authenticated with the account first on the device. Have you even tried it? When you&#39;re using `.setFilterByAuthorizedAccounts(false)` it means that you want to show all accounts on the device. If you aren&#39;t authenticated, then there is nothing to show.","body":"To choose an account, you have to be authenticated with the account first on the device. Have you even tried it? When you&#39;re using <code>.setFilterByAuthorizedAccounts(false)</code> it means that you want to show all accounts on the device. If you aren&#39;t authenticated, then there is nothing to show."},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":0,"creation_date":1680697811,"post_id":75934193,"comment_id":133941505,"body_markdown":"Oh, alright, so I have to have every google account authenticated on the device? Because, now, that I&#39;ve authenticated my main google account on the device the authentication inside my app works, but it only shows the main account. I&#39;ve used other applications and there&#39;s almost always an option to authenticate with a new account without adding it to the device.","body":"Oh, alright, so I have to have every google account authenticated on the device? Because, now, that I&#39;ve authenticated my main google account on the device the authentication inside my app works, but it only shows the main account. I&#39;ve used other applications and there&#39;s almost always an option to authenticate with a new account without adding it to the device."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1680700382,"post_id":75934193,"comment_id":133942360,"body_markdown":"Aside from my answer, since you&#39;re using Java, I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336) will help. Here is the corresponding [repo](https://github.com/alexmamo/FirebaseAuthentication).","body":"Aside from my answer, since you&#39;re using Java, I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-create-a-clean-firebase-authentication-using-mvvm-37f9b8eb7336\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/FirebaseAuthentication\" rel=\"nofollow noreferrer\">repo</a>."},{"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"score":1,"creation_date":1680701516,"post_id":75934193,"comment_id":133942669,"body_markdown":"I&#39;ve already read it. It&#39;s a nice resource, I need to read more about the differences between the one tap auth and the &quot;old&quot; way. But now, I have to find out why registerForActivityResult gives Activity.RESULT_CANCEL instead of RESULT_OK... eh.. why it cannot just work hahaha. Thanks for help, though","body":"I&#39;ve already read it. It&#39;s a nice resource, I need to read more about the differences between the one tap auth and the &quot;old&quot; way. But now, I have to find out why registerForActivityResult gives Activity.RESULT_CANCEL instead of RESULT_OK... eh.. why it cannot just work hahaha. Thanks for help, though"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1680700350,"creation_date":1680700350,"answer_id":75939878,"question_id":75934193,"body_markdown":"To be able to choose an account when you authenticate with Google in your app, you have to be authenticated first with that account on the device where you&#39;re launching the app. \r\n\r\nIf you&#39;re using in your code `.setFilterByAuthorizedAccounts(false)` it means that you want to show all accounts on the device. If you are not authenticated with any account, then there is nothing to show but an Exception.\r\n\r\nIf you want to be able to choose between multiple accounts, then you have to sign in with each account on the device.\r\n\r\n&gt; I&#39;ve used other applications and there&#39;s almost always an option to authenticate with a new account without adding it to the device.\r\n\r\nAll devices with Android have associated at least a Google account. So in order to be able to sign in with Google inside your app, you have to be authenticated on your device first or asked to sign in with a Google account.","title":"Firebase google one tap sign in Cannot find a matching credential","body":"<p>To be able to choose an account when you authenticate with Google in your app, you have to be authenticated first with that account on the device where you're launching the app.</p>\n<p>If you're using in your code <code>.setFilterByAuthorizedAccounts(false)</code> it means that you want to show all accounts on the device. If you are not authenticated with any account, then there is nothing to show but an Exception.</p>\n<p>If you want to be able to choose between multiple accounts, then you have to sign in with each account on the device.</p>\n<blockquote>\n<p>I've used other applications and there's almost always an option to authenticate with a new account without adding it to the device.</p>\n</blockquote>\n<p>All devices with Android have associated at least a Google account. So in order to be able to sign in with Google inside your app, you have to be authenticated on your device first or asked to sign in with a Google account.</p>\n"}],"owner":{"account_id":28069603,"reputation":45,"user_id":21442434,"display_name":"Edziu Kowalski"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":562,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75939878,"answer_count":1,"score":3,"last_activity_date":1680700423,"creation_date":1680645885,"question_id":75934193,"body_markdown":"I want to implement signing in to my application using a Google account. I use Firebase to authenticate the user.\r\n\r\nI&#39;ve already read the documentation like million times. I&#39;ve added SH1 debug key to Firebase project as a fingerprint and I use `Web SDK configuration` from the Firebase as a web client id:\r\n[![this thing](https://i.stack.imgur.com/OoPSi.png)](https://i.stack.imgur.com/OoPSi.png)\r\n\r\nI&#39;ve got it set up in strings.xml file\r\n\r\n`&lt;string name=&quot;web_client_id&quot;&gt;**HERE**&lt;/string&gt;`\r\n\r\nthe rest of my code looks like this:\r\n\r\n```java\r\npublic class AuthFragment extends Fragment {\r\n    private FragmentAuthBinding binding;\r\n    private SignInClient oneTapClient;\r\n    ActivityResultLauncher&lt;Intent&gt; oneTapLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\r\n        result -&gt; {\r\n            if (result.getResultCode() == Activity.RESULT_OK) {\r\n                Intent data = result.getData();\r\n                try {\r\n                    var credential = oneTapClient.getSignInCredentialFromIntent(data);\r\n                    String idToken = credential.getGoogleIdToken();\r\n                } catch (ApiException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n        });\r\n    public AuthFragment() {}\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = FragmentAuthBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        \r\n        HandleGoogleLogin();\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n\r\n    void HandleGoogleLogin()\r\n    {\r\n        oneTapClient = Identity.getSignInClient(requireActivity());\r\n        var signInRequest = BeginSignInRequest.builder()\r\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\r\n                        .setSupported(true)\r\n                        .setServerClientId(getString(R.string.web_client_id))\r\n                        .setFilterByAuthorizedAccounts(false)\r\n                        .build())\r\n                .build();\r\n\r\n        var googleLoginButton = binding.googleLoginButton;\r\n        googleLoginButton.setOnClickListener(v -&gt; {\r\n            oneTapClient.beginSignIn(signInRequest)\r\n                    .addOnSuccessListener(requireActivity(), result -&gt; {\r\n                        var intentSenderRequest = new IntentSenderRequest\r\n                                .Builder(result.getPendingIntent().getIntentSender())\r\n                                .build();\r\n                        oneTapLauncher.launch(intentSenderRequest.getFillInIntent());\r\n                    })\r\n                    .addOnFailureListener(requireActivity(), e -&gt; {\r\n                        Log.d(&quot;googleLoginButton&quot;, &quot;oneTapClient.beginSignIn:onError - &quot; + e.getMessage());\r\n                        // Handle errors or continue presenting the signed-out UI\r\n                    });\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nthis is not the only way I&#39;ve tried to implement it. I&#39;ve also tried adding sh1 key to https://console.cloud.google.com/ and configuring OAuth 2.0 from the https://console.cloud.google.com/apis/credentials?project=myproject site:\r\n\r\n[![cloud.google](https://i.stack.imgur.com/1wGuh.png)](https://i.stack.imgur.com/1wGuh.png)\r\n\r\nbut nothing actually works.\r\n\r\nAll I always get is `Log.d(&quot;googleLoginButton&quot;, &quot;oneTapClient.beginSignIn:onError - &quot; + e.getMessage());` -&gt; `Cannot find a matching credential.`\r\n\r\nI don&#39;t know what I do wrong. Note that I&#39;ve got `setFilterByAuthorizedAccounts` set to `false`. \r\n\r\nHow can I make it work? What do I do wrong?\r\n\r\nI&#39;ve already read:\r\n\r\nhttps://stackoverflow.com/questions/61768804/getting-16-cannot-find-a-matching-credential-when-doing-one-tap-sign-in-and-s\r\n\r\nhttps://stackoverflow.com/questions/72175934/google-one-tap-sign-in\r\n\r\nhttps://stackoverflow.com/questions/70101036/firebase-google-auth-signing-out-and-logging-in-again-will-log-in-with-the-last\r\n\r\nhttps://stackoverflow.com/questions/42312758/when-users-signout-of-my-firebase-app-why-doesnt-it-also-signout-from-the-auth\r\n\r\nhttps://stackoverflow.com/questions/38707133/google-firebase-sign-out-and-forget-user-in-android-app\r\n\r\nhttps://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\r\n\r\nnothing helps.\r\n","title":"Firebase google one tap sign in Cannot find a matching credential","body":"<p>I want to implement signing in to my application using a Google account. I use Firebase to authenticate the user.</p>\n<p>I've already read the documentation like million times. I've added SH1 debug key to Firebase project as a fingerprint and I use <code>Web SDK configuration</code> from the Firebase as a web client id:\n<a href=\"https://i.stack.imgur.com/OoPSi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OoPSi.png\" alt=\"this thing\" /></a></p>\n<p>I've got it set up in strings.xml file</p>\n<p><code>&lt;string name=&quot;web_client_id&quot;&gt;**HERE**&lt;/string&gt;</code></p>\n<p>the rest of my code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AuthFragment extends Fragment {\n    private FragmentAuthBinding binding;\n    private SignInClient oneTapClient;\n    ActivityResultLauncher&lt;Intent&gt; oneTapLauncher = registerForActivityResult(new ActivityResultContracts.StartActivityForResult(),\n        result -&gt; {\n            if (result.getResultCode() == Activity.RESULT_OK) {\n                Intent data = result.getData();\n                try {\n                    var credential = oneTapClient.getSignInCredentialFromIntent(data);\n                    String idToken = credential.getGoogleIdToken();\n                } catch (ApiException e) {\n                    throw new RuntimeException(e);\n                }\n            }\n        });\n    public AuthFragment() {}\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        binding = FragmentAuthBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    public void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        \n        HandleGoogleLogin();\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n\n    void HandleGoogleLogin()\n    {\n        oneTapClient = Identity.getSignInClient(requireActivity());\n        var signInRequest = BeginSignInRequest.builder()\n                .setGoogleIdTokenRequestOptions(BeginSignInRequest.GoogleIdTokenRequestOptions.builder()\n                        .setSupported(true)\n                        .setServerClientId(getString(R.string.web_client_id))\n                        .setFilterByAuthorizedAccounts(false)\n                        .build())\n                .build();\n\n        var googleLoginButton = binding.googleLoginButton;\n        googleLoginButton.setOnClickListener(v -&gt; {\n            oneTapClient.beginSignIn(signInRequest)\n                    .addOnSuccessListener(requireActivity(), result -&gt; {\n                        var intentSenderRequest = new IntentSenderRequest\n                                .Builder(result.getPendingIntent().getIntentSender())\n                                .build();\n                        oneTapLauncher.launch(intentSenderRequest.getFillInIntent());\n                    })\n                    .addOnFailureListener(requireActivity(), e -&gt; {\n                        Log.d(&quot;googleLoginButton&quot;, &quot;oneTapClient.beginSignIn:onError - &quot; + e.getMessage());\n                        // Handle errors or continue presenting the signed-out UI\n                    });\n        });\n    }\n}\n</code></pre>\n<p>this is not the only way I've tried to implement it. I've also tried adding sh1 key to <a href=\"https://console.cloud.google.com/\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/</a> and configuring OAuth 2.0 from the <a href=\"https://console.cloud.google.com/apis/credentials?project=myproject\" rel=\"nofollow noreferrer\">https://console.cloud.google.com/apis/credentials?project=myproject</a> site:</p>\n<p><a href=\"https://i.stack.imgur.com/1wGuh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1wGuh.png\" alt=\"cloud.google\" /></a></p>\n<p>but nothing actually works.</p>\n<p>All I always get is <code>Log.d(&quot;googleLoginButton&quot;, &quot;oneTapClient.beginSignIn:onError - &quot; + e.getMessage());</code> -&gt; <code>Cannot find a matching credential.</code></p>\n<p>I don't know what I do wrong. Note that I've got <code>setFilterByAuthorizedAccounts</code> set to <code>false</code>.</p>\n<p>How can I make it work? What do I do wrong?</p>\n<p>I've already read:</p>\n<p><a href=\"https://stackoverflow.com/questions/61768804/getting-16-cannot-find-a-matching-credential-when-doing-one-tap-sign-in-and-s\">Getting &quot;16: Cannot find a matching credential&quot; when doing One Tap sign-in and sign-up on Android</a></p>\n<p><a href=\"https://stackoverflow.com/questions/72175934/google-one-tap-sign-in\">Google One Tap Sign In</a></p>\n<p><a href=\"https://stackoverflow.com/questions/70101036/firebase-google-auth-signing-out-and-logging-in-again-will-log-in-with-the-last\">Firebase Google auth, signing out and logging in again will log in with the last signed account</a></p>\n<p><a href=\"https://stackoverflow.com/questions/42312758/when-users-signout-of-my-firebase-app-why-doesnt-it-also-signout-from-the-auth\">When users SignOut of my Firebase app, why doesn&#39;t it also SignOut from the auth provider, say Google?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/38707133/google-firebase-sign-out-and-forget-user-in-android-app\">Google Firebase sign out and forget user in Android app</a></p>\n<p><a href=\"https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d\" rel=\"nofollow noreferrer\">https://medium.com/firebase-developers/how-to-authenticate-to-firebase-using-google-one-tap-in-jetpack-compose-60b30e621d0d</a></p>\n<p>nothing helps.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1680697411,"post_id":75939348,"comment_id":133941375,"body_markdown":"Are you watching the variable while the debugger is still on that line? Because if that&#39;s the case the value has not been set yet. You&#39;ll have to wait till the line is executed (i.e., step to the next instruction).","body":"Are you watching the variable while the debugger is still on that line? Because if that&#39;s the case the value has not been set yet. You&#39;ll have to wait till the line is executed (i.e., step to the next instruction)."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1680697576,"post_id":75939348,"comment_id":133941431,"body_markdown":"No, I did step to the next function and profileId remained as &quot;&quot;. I was investigating it because I pass profileID into another method later and its &quot;&quot; at that point too.","body":"No, I did step to the next function and profileId remained as &quot;&quot;. I was investigating it because I pass profileID into another method later and its &quot;&quot; at that point too."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680698224,"post_id":75939348,"comment_id":133941659,"body_markdown":"*I did step to the next function* - did profileId go out of scope?   But assuming the statement actually completes, it is vanishingly improbable that the right-hand side of an assignment does not set the left-hand variable, so the conclusion is there&#39;s something wrong with your tools or the way you&#39;re using them.","body":"<i>I did step to the next function</i> - did profileId go out of scope?   But assuming the statement actually completes, it is vanishingly improbable that the right-hand side of an assignment does not set the left-hand variable, so the conclusion is there&#39;s something wrong with your tools or the way you&#39;re using them."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1680698362,"post_id":75939348,"comment_id":133941701,"body_markdown":"Sorry i mistyped, I meant &quot;I did step to the next line&quot; . And no the profileId did not go out of scope.","body":"Sorry i mistyped, I meant &quot;I did step to the next line&quot; . And no the profileId did not go out of scope."},{"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"score":0,"creation_date":1680698758,"post_id":75939348,"comment_id":133941812,"body_markdown":"Its not about the tools, because profileId gets persisted in my database where it is &quot;&quot; at that point too.","body":"Its not about the tools, because profileId gets persisted in my database where it is &quot;&quot; at that point too."}],"answers":[{"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1680702707,"post_id":75939723,"comment_id":133943001,"body_markdown":"Ah, so a good old race condition. Nice :)","body":"Ah, so a good old race condition. Nice :)"}],"tags":[],"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680699503,"creation_date":1680699503,"answer_id":75939723,"question_id":75939348,"body_markdown":"I figured out what was the problem. I will post the answer in case anyone in future encounters a similar problem. But after that particular line of code, I then executed a code that would be run on a different thread. \r\n\r\nUpon debugging the debugger wasn&#39;t able to properly step over the population of profileId because it would step to the code block that would execute on a different thread. \r\n\r\nWhen that thread would try to use profileId, it would take it as &quot;&quot; because that would be the value of it when the thread started running and the value of it when the code in the thread would need to use it. \r\n\r\nThe solution would be to start the thread once profileId is populated. ","title":"Function is returning value but variable it returns it into doesn&#39;t hold that value. Why?","body":"<p>I figured out what was the problem. I will post the answer in case anyone in future encounters a similar problem. But after that particular line of code, I then executed a code that would be run on a different thread.</p>\n<p>Upon debugging the debugger wasn't able to properly step over the population of profileId because it would step to the code block that would execute on a different thread.</p>\n<p>When that thread would try to use profileId, it would take it as &quot;&quot; because that would be the value of it when the thread started running and the value of it when the code in the thread would need to use it.</p>\n<p>The solution would be to start the thread once profileId is populated.</p>\n"}],"owner":{"account_id":12235231,"reputation":79,"user_id":8929879,"display_name":"k1r4n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75939723,"answer_count":1,"score":0,"last_activity_date":1680699503,"creation_date":1680697097,"question_id":75939348,"body_markdown":"When debugging I found that on this line of code: \r\n\r\n    String profileId = ((GlobalApplicationClass) getApplication()).getProfileId();\r\n \r\nOn the watch tab, `((GlobalApplicationClass) getApplication()).getProfileId()` returned the right value.\r\nHowever, on the watch tab , profileId was `&quot;&quot;`  (as is its initialised value in the GlobalApplicationClass).\r\n\r\nThis code was working fine and profileId was being populated with the correct value. \r\n\r\nNow, I do not understand why it&#39;s not getting populated. Why would calling the function return the right value but then it passes its initialised value into the profileId variable?","title":"Function is returning value but variable it returns it into doesn&#39;t hold that value. Why?","body":"<p>When debugging I found that on this line of code:</p>\n<pre><code>String profileId = ((GlobalApplicationClass) getApplication()).getProfileId();\n</code></pre>\n<p>On the watch tab, <code>((GlobalApplicationClass) getApplication()).getProfileId()</code> returned the right value.\nHowever, on the watch tab , profileId was <code>&quot;&quot;</code>  (as is its initialised value in the GlobalApplicationClass).</p>\n<p>This code was working fine and profileId was being populated with the correct value.</p>\n<p>Now, I do not understand why it's not getting populated. Why would calling the function return the right value but then it passes its initialised value into the profileId variable?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1409067498,"post_id":25509763,"comment_id":39821742,"body_markdown":"Are you sure you&#39;re importing this class in a class in your tests and not in your main code, right?","body":"Are you sure you&#39;re importing this class in a class in your tests and not in your main code, right?"},{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":0,"creation_date":1409067524,"post_id":25509763,"comment_id":39821760,"body_markdown":"@LuiggiMendoza yes, because it doesn&#39;t work only on my PC! ((","body":"@LuiggiMendoza yes, because it doesn&#39;t work only on my PC! (("},{"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"score":0,"creation_date":1409067637,"post_id":25509763,"comment_id":39821839,"body_markdown":"In such cases for me helps reimporting project (create as new maven project)","body":"In such cases for me helps reimporting project (create as new maven project)"},{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":0,"creation_date":1409067690,"post_id":25509763,"comment_id":39821870,"body_markdown":"@Natalia step-by-step please","body":"@Natalia step-by-step please"},{"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"score":0,"creation_date":1409068011,"post_id":25509763,"comment_id":39822066,"body_markdown":"@V_B I mean : Project -&gt; Import Project. As it works when you run from command line, than it is problem in idea.","body":"@V_B I mean : Project -&gt; Import Project. As it works when you run from command line, than it is problem in idea."},{"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"score":0,"creation_date":1409068400,"post_id":25509763,"comment_id":39822291,"body_markdown":"@SparkOn that&#39;s work! Still Have no idea why it works for other people with hamcrest-core","body":"@SparkOn that&#39;s work! Still Have no idea why it works for other people with hamcrest-core"}],"answers":[{"tags":[],"owner":{"account_id":138907,"reputation":10999,"user_id":344155,"accept_rate":84,"display_name":"Paul Sanwald"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1409067823,"creation_date":1409067823,"answer_id":25509929,"question_id":25509763,"body_markdown":"The way to figure this out is to run your tests from the command line, via `mvn verify`, and ensure that things compile and run correctly. This will allow you to determine whether the problem is in your POM configuration, or something unique to Intellij.\r\n\r\nIf it&#39;s a problem in Intellij, it is very likely to be something around folder configuration: generally only folders marked as &quot;Test Source Root&quot; will have access to things in the test scope. ","title":"Maven: test dependencies","body":"<p>The way to figure this out is to run your tests from the command line, via <code>mvn verify</code>, and ensure that things compile and run correctly. This will allow you to determine whether the problem is in your POM configuration, or something unique to Intellij.</p>\n\n<p>If it's a problem in Intellij, it is very likely to be something around folder configuration: generally only folders marked as \"Test Source Root\" will have access to things in the test scope. </p>\n"},{"tags":[],"owner":{"account_id":2993414,"reputation":12019,"user_id":2540471,"display_name":"Robert Scholte"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409068236,"creation_date":1409068236,"answer_id":25510069,"question_id":25509763,"body_markdown":"Ensure that the dependency is at least specified under `&lt;project&gt;&lt;dependencies&gt;` on not only under `&lt;project&gt;&lt;dependencyManagement&gt;&lt;dependencies&gt;`.","title":"Maven: test dependencies","body":"<p>Ensure that the dependency is at least specified under <code>&lt;project&gt;&lt;dependencies&gt;</code> on not only under <code>&lt;project&gt;&lt;dependencyManagement&gt;&lt;dependencies&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680699326,"creation_date":1680699326,"answer_id":75939692,"question_id":25509763,"body_markdown":"You might need to (re)load Maven dependencies. From the [docs](https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#maven_reimport):\r\n&quot; Every time you manually change the pom.xml file in the editor, you need to load the changes. IntelliJ IDEA displays a notification icon in the right part of the editor suggesting to Load Maven Changes made to the project (⌘⇧I).&quot;\r\n(Note this is the macOs shortcut, as I use macOS)\r\n\r\nAlternatively / in addition you might want to se auto-reload.\r\nFind how to in the [docs](https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#auto_reload_maven).\r\n","title":"Maven: test dependencies","body":"<p>You might need to (re)load Maven dependencies. From the <a href=\"https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#maven_reimport\" rel=\"nofollow noreferrer\">docs</a>:\n&quot; Every time you manually change the pom.xml file in the editor, you need to load the changes. IntelliJ IDEA displays a notification icon in the right part of the editor suggesting to Load Maven Changes made to the project (⌘⇧I).&quot;\n(Note this is the macOs shortcut, as I use macOS)</p>\n<p>Alternatively / in addition you might want to se auto-reload.\nFind how to in the <a href=\"https://www.jetbrains.com/help/idea/delegate-build-and-run-actions-to-maven.html#auto_reload_maven\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"}],"owner":{"account_id":2568689,"reputation":45222,"user_id":2761509,"accept_rate":67,"display_name":"VB_"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3081,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1680699326,"creation_date":1409067275,"question_id":25509763,"body_markdown":"**Problem:** Maven can&#39;t find some dependencies inside my tests\r\n\r\n    import org.hamcrest.core.StringStartsWith; // HIGHLIGHTED AS RED IN INTELLIJ\r\n\r\nIt&#39;s imported like this in my pom.xml:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI already tried:\r\n\r\n1. mvn test-compile\r\n2. Invalidate Intellij caches\r\n3. Restart Intellij\r\n4. Clear .m2 and rebuild project\r\n","title":"Maven: test dependencies","body":"<p><strong>Problem:</strong> Maven can't find some dependencies inside my tests</p>\n\n<pre><code>import org.hamcrest.core.StringStartsWith; // HIGHLIGHTED AS RED IN INTELLIJ\n</code></pre>\n\n<p>It's imported like this in my pom.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-core&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I already tried:</p>\n\n<ol>\n<li>mvn test-compile</li>\n<li>Invalidate Intellij caches</li>\n<li>Restart Intellij</li>\n<li>Clear .m2 and rebuild project</li>\n</ol>\n"},{"tags":["java","soap","wsdl"],"owner":{"account_id":13971674,"reputation":59,"user_id":10103160,"display_name":"KROGOT88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680699276,"creation_date":1680699276,"question_id":75939686,"body_markdown":"I have spring SOAP service on Kotlin. With wsdl file, I generated java classes for SOAP requests and responses. Is there any way to print Java primitive double types (it is &lt;xs:simpleType name=&quot;double&quot; id=&quot;double&quot;&gt;  in schema http://www.w3.org/2001/XMLSchema) without points?\r\n\r\nWhat I have now:\r\n\r\n&lt;field_tag&gt;1002775.0&lt;/field_tag&gt;\r\n\r\nWhat I want:\r\n\r\n&lt;field_tag&gt;1002775&lt;/field_tag&gt;\r\n\r\nI saw this nearest question\r\nhttps://stackoverflow.com/questions/7182533/using-jaxb-generated-class-for-an-element-that-requires-an-integer-with-a-patter/7194004#7194004\r\n\r\nBut do not understand how exactly in my case I must write the binds.xml file","title":"WSDL SOAP marshall double type without points","body":"<p>I have spring SOAP service on Kotlin. With wsdl file, I generated java classes for SOAP requests and responses. Is there any way to print Java primitive double types (it is &lt;xs:simpleType name=&quot;double&quot; id=&quot;double&quot;&gt;  in schema <a href=\"http://www.w3.org/2001/XMLSchema\" rel=\"nofollow noreferrer\">http://www.w3.org/2001/XMLSchema</a>) without points?</p>\n<p>What I have now:</p>\n<p>&lt;field_tag&gt;1002775.0&lt;/field_tag&gt;</p>\n<p>What I want:</p>\n<p>&lt;field_tag&gt;1002775&lt;/field_tag&gt;</p>\n<p>I saw this nearest question\n<a href=\"https://stackoverflow.com/questions/7182533/using-jaxb-generated-class-for-an-element-that-requires-an-integer-with-a-patter/7194004#7194004\">Using JAXB generated class for an element that requires an integer with a pattern</a></p>\n<p>But do not understand how exactly in my case I must write the binds.xml file</p>\n"},{"tags":["java","json","kotlin","jackson","redisson"],"comments":[{"owner":{"account_id":13980097,"reputation":85,"user_id":10096472,"display_name":"Simon Mitchell"},"score":0,"creation_date":1638230396,"post_id":70162687,"comment_id":124028601,"body_markdown":"&quot;&quot;@class&quot;: &quot;net.superiormc.user.UserProfileProvider&quot;&quot; this is the tag I am missing, Jackson used to add this automatically but no longer does.","body":"&quot;&quot;@class&quot;: &quot;net.superiormc.user.UserProfileProvider&quot;&quot; this is the tag I am missing, Jackson used to add this automatically but no longer does."}],"answers":[{"comments":[{"owner":{"account_id":5299598,"reputation":1176,"user_id":4229716,"accept_rate":12,"display_name":"JITHIN_PATHROSE"},"score":0,"creation_date":1642168073,"post_id":70163324,"comment_id":125005506,"body_markdown":"Is there any other solution? The annotation can expose the data object","body":"Is there any other solution? The annotation can expose the data object"}],"tags":[],"owner":{"account_id":13980097,"reputation":85,"user_id":10096472,"display_name":"Simon Mitchell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638236776,"creation_date":1638236776,"answer_id":70163324,"question_id":70162687,"body_markdown":"Fixed this by adding `@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS)` to the implementation class","title":"JsonJackson not adding @class","body":"<p>Fixed this by adding <code>@JsonTypeInfo(use = JsonTypeInfo.Id.CLASS)</code> to the implementation class</p>\n"},{"tags":[],"owner":{"account_id":2156431,"reputation":7634,"user_id":1911548,"display_name":"Sergey Gornostaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680699077,"creation_date":1680699077,"answer_id":75939655,"question_id":70162687,"body_markdown":"If you don&#39;t want to annotate classes, it can be configured globally\r\n\r\n    var codec = new org.redisson.codec.JsonJacksonCodec(new ObjectMapper()\r\n        .enableDefaultTypingAsProperty(ObjectMapper.DefaultTyping.NON_FINAL, &quot;@class&quot;));\r\n\r\n    var config = new org.redisson.config.Config()\r\n        .setCodec(codec);","title":"JsonJackson not adding @class","body":"<p>If you don't want to annotate classes, it can be configured globally</p>\n<pre><code>var codec = new org.redisson.codec.JsonJacksonCodec(new ObjectMapper()\n    .enableDefaultTypingAsProperty(ObjectMapper.DefaultTyping.NON_FINAL, &quot;@class&quot;));\n\nvar config = new org.redisson.config.Config()\n    .setCodec(codec);\n</code></pre>\n"}],"owner":{"account_id":13980097,"reputation":85,"user_id":10096472,"display_name":"Simon Mitchell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":346,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1680699077,"creation_date":1638230188,"question_id":70162687,"body_markdown":"I am using kotlin with redisson and jsonjackson as the serializer. Previously when I used jackson in java, it would automatically add a &#39;@class&#39; tag to the json so when I came to deserialize it, it would work fine and redisson would know what class to use. Now it no longer does this and when I try to get something out of an RMap&lt;UUID, UserProfile&gt; (UserProfile is an interface&quot;, it gives an error which says &quot;jacksonjson missing type id property &#39;@class&#39;&quot; which is obvisouly due to the json missing the &#39;@class&#39; tag.\r\n\r\nAnyone know how I can fix this and have jackson automatically add the @class tag like it previously did? Thank you ","title":"JsonJackson not adding @class","body":"<p>I am using kotlin with redisson and jsonjackson as the serializer. Previously when I used jackson in java, it would automatically add a '@class' tag to the json so when I came to deserialize it, it would work fine and redisson would know what class to use. Now it no longer does this and when I try to get something out of an RMap&lt;UUID, UserProfile&gt; (UserProfile is an interface&quot;, it gives an error which says &quot;jacksonjson missing type id property '@class'&quot; which is obvisouly due to the json missing the '@class' tag.</p>\n<p>Anyone know how I can fix this and have jackson automatically add the @class tag like it previously did? Thank you</p>\n"},{"tags":["java","jooq","jooq-codegen"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1680682694,"post_id":75930129,"comment_id":133937762,"body_markdown":"Do you have to use MySQL&#39;s encryption/decryption functions, or can you work with client side encryption/decryption as well? And what&#39;s the rationale for this decision?","body":"Do you have to use MySQL&#39;s encryption/decryption functions, or can you work with client side encryption/decryption as well? And what&#39;s the rationale for this decision?"},{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680697058,"post_id":75930129,"comment_id":133941267,"body_markdown":"To not deviate from existing conventions in the system, I&#39;ve to use the MySQL&#39;s encryption/decryption methods.","body":"To not deviate from existing conventions in the system, I&#39;ve to use the MySQL&#39;s encryption/decryption methods."},{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680697188,"post_id":75930129,"comment_id":133941307,"body_markdown":"I couldn&#39;t actually figure out the way to access current ```org.jooq.RecordContext``` inside ```Converter```","body":"I couldn&#39;t actually figure out the way to access current <code>org.jooq.RecordContext</code> inside <code>Converter</code>"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1680697698,"post_id":75930129,"comment_id":133941474,"body_markdown":"Yeah, because that&#39;s already possible today. There&#39;s a pending feature request for the server side implementation, but it&#39;s not ready yet for jOOQ 3.18.","body":"Yeah, because that&#39;s already possible today. There&#39;s a pending feature request for the server side implementation, but it&#39;s not ready yet for jOOQ 3.18."},{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680698024,"post_id":75930129,"comment_id":133941580,"body_markdown":"@LukasEder\nI&#39;ve updated my question, do you see any other possibility to achieve my goal in Jooq v.3.17.8 ?\nThanks.","body":"@LukasEder I&#39;ve updated my question, do you see any other possibility to achieve my goal in Jooq v.3.17.8 ? Thanks."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1680698155,"post_id":75930129,"comment_id":133941635,"body_markdown":"Couldn&#39;t find the feature request, so I created a new one, just in case: https://github.com/jOOQ/jOOQ/issues/14913","body":"Couldn&#39;t find the feature request, so I created a new one, just in case: <a href=\"https://github.com/jOOQ/jOOQ/issues/14913\" rel=\"nofollow noreferrer\">github.com/jOOQ/jOOQ/issues/14913</a>"}],"answers":[{"comments":[{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680699367,"post_id":75939555,"comment_id":133942023,"body_markdown":"Even in case of client side encrypt/decrypt, how to access the secret key from the same table in ```Converter``` ? Could you please point me to that?","body":"Even in case of client side encrypt/decrypt, how to access the secret key from the same table in <code>Converter</code> ? Could you please point me to that?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1680701026,"post_id":75939555,"comment_id":133942534,"body_markdown":"@introvertkernel: A converter cannot access other columns. But that doesn&#39;t sound like a good idea anyway, why encrypt stuff and store the key along with it?","body":"@introvertkernel: A converter cannot access other columns. But that doesn&#39;t sound like a good idea anyway, why encrypt stuff and store the key along with it?"},{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680701940,"post_id":75939555,"comment_id":133942772,"body_markdown":"I agree it doesn&#39;t add any substantial value to data security. But however in this case it is used to prevent insider&#39;s from viewing the plain text data.","body":"I agree it doesn&#39;t add any substantial value to data security. But however in this case it is used to prevent insider&#39;s from viewing the plain text data."},{"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"score":0,"creation_date":1680702094,"post_id":75939555,"comment_id":133942806,"body_markdown":"Is there any other way where atleast these two methods can be used to achieve the same? ```org.jooq.util.mysql.MySQLDSL.aesEncrypt``` and ```org.jooq.util.mysql.MySQLDSL.aesDecrypt```.    \n\n\n\nThe problem, how do I customise/alter a Field with the help of the other Field from the same table.\n\n@Lukas","body":"Is there any other way where atleast these two methods can be used to achieve the same? <code>org.jooq.util.mysql.MySQLDSL.aesEncrypt</code> and <code>org.jooq.util.mysql.MySQLDSL.aesDecrypt</code>.        The problem, how do I customise/alter a Field with the help of the other Field from the same table.  @Lukas"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1680703603,"post_id":75939555,"comment_id":133943304,"body_markdown":"@introvertkernel: I think my answer contains all the info you need? If you have any specific questions regarding the replacement feature, please ask a new question.","body":"@introvertkernel: I think my answer contains all the info you need? If you have any specific questions regarding the replacement feature, please ask a new question."}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680698518,"creation_date":1680698518,"answer_id":75939555,"question_id":75930129,"body_markdown":"## An out of the box feature\r\n\r\nAs of jOOQ 3.18, there isn&#39;t an out of the box feature for this sort of computation. I&#39;ve created a feature request, as this isn&#39;t the first time someone was looking for it:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/14913\r\n\r\n## Custom implementation on the server side\r\n\r\nIf you must encrypt / decrypt on the server side using SQL expressions, perhaps you can get away with the new experimental [query object model][1] [traversal][2] and [replacement][3] features.\r\n\r\nThe idea is that you:\r\n\r\n- Specify which columns or types are supposed to be encrypted (either in a configuration or using a custom data type)\r\n- Then transform all SQL queries to always\r\n  - Replace `Field&lt;MyType&gt;` by `Field&lt;byte[]&gt;` using encryption in contexts where a bind variable is written\r\n  - Replace generated SQL for all `Field&lt;MyType&gt;` to decryption in contexts where a projection is made\r\n  - Leave other expressions untouched\r\n\r\n## Custom implementation on the client side\r\n\r\nAll of this seems much easier to achieve with a simple `Converter`, if you can encrypt / decrypt on the client instead of the server.\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-traversal/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-replacement/","title":"How to apply MySQL cryptography functions in Jooq custom Converter?","body":"<h2>An out of the box feature</h2>\n<p>As of jOOQ 3.18, there isn't an out of the box feature for this sort of computation. I've created a feature request, as this isn't the first time someone was looking for it:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/14913\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/14913</a></li>\n</ul>\n<h2>Custom implementation on the server side</h2>\n<p>If you must encrypt / decrypt on the server side using SQL expressions, perhaps you can get away with the new experimental <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/\" rel=\"nofollow noreferrer\">query object model</a> <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-traversal/\" rel=\"nofollow noreferrer\">traversal</a> and <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/model-api/model-api-replacement/\" rel=\"nofollow noreferrer\">replacement</a> features.</p>\n<p>The idea is that you:</p>\n<ul>\n<li>Specify which columns or types are supposed to be encrypted (either in a configuration or using a custom data type)</li>\n<li>Then transform all SQL queries to always\n<ul>\n<li>Replace <code>Field&lt;MyType&gt;</code> by <code>Field&lt;byte[]&gt;</code> using encryption in contexts where a bind variable is written</li>\n<li>Replace generated SQL for all <code>Field&lt;MyType&gt;</code> to decryption in contexts where a projection is made</li>\n<li>Leave other expressions untouched</li>\n</ul>\n</li>\n</ul>\n<h2>Custom implementation on the client side</h2>\n<p>All of this seems much easier to achieve with a simple <code>Converter</code>, if you can encrypt / decrypt on the client instead of the server.</p>\n"}],"owner":{"account_id":12199095,"reputation":57,"user_id":8903828,"display_name":"introvertkernel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75939555,"answer_count":1,"score":2,"last_activity_date":1680698518,"creation_date":1680615873,"question_id":75930129,"body_markdown":"I&#39;m trying to achieve below using Jooq library,\r\n\r\n - Encrypt and decrypt specified column using org.jooq.util.mysql.MySQLDSL methods\r\n - This must be a jooq global configuration, so that whenever a new query method return fetch/insert/update the record encryption/decryption should be automatically taken care.\r\n - Secret key for encryption/decryption will be value from the another column in the same table\r\n - I&#39;m trying to avoid Spring framework here.\r\n\r\nCurrently I&#39;m trying to do this using ```org.jooq.Converter``` and ```org.jooq.meta.jaxb.ForcedType``` But\r\n\r\n - Not able to access ```org.jooq.RecordContext``` in the CustomConverter class to get the secret key\r\n - Also I&#39;m not able to make this generic configuration\r\n\r\nLinks I&#39;m referring to:\r\n - https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html\r\n - https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html\r\n - https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-converter/\r\n - https://www.jooq.org/doc/latest/manual/sql-execution/fetching/data-type-conversion/\r\n\r\n\r\n\r\n\r\nUpdate:\r\nIn short this is what I&#39;m trying to achieve through Jooq:\r\n\r\n```\r\nCREATE TABLE TESTCRYPT(\r\nId mediumint AUTO_INCREMENT,\r\nSecret int NOT NULL,\r\nencrypteddata BLOB,\r\nPRIMARY KEY(Id)\r\n);\r\n\r\nINSERT INTO TESTCRYPT(Secret,encrypteddata) VALUE (&#39;1234&#39;,AES_ENCRYPT(&#39;my-data&#39;,&#39;1234&#39;));\r\n\r\nSELECT Secret ,AES_DECRYPT(encrypteddata,Secret) from TESTCRYPT t ;\r\n\r\n```","title":"How to apply MySQL cryptography functions in Jooq custom Converter?","body":"<p>I'm trying to achieve below using Jooq library,</p>\n<ul>\n<li>Encrypt and decrypt specified column using org.jooq.util.mysql.MySQLDSL methods</li>\n<li>This must be a jooq global configuration, so that whenever a new query method return fetch/insert/update the record encryption/decryption should be automatically taken care.</li>\n<li>Secret key for encryption/decryption will be value from the another column in the same table</li>\n<li>I'm trying to avoid Spring framework here.</li>\n</ul>\n<p>Currently I'm trying to do this using <code>org.jooq.Converter</code> and <code>org.jooq.meta.jaxb.ForcedType</code> But</p>\n<ul>\n<li>Not able to access <code>org.jooq.RecordContext</code> in the CustomConverter class to get the secret key</li>\n<li>Also I'm not able to make this generic configuration</li>\n</ul>\n<p>Links I'm referring to:</p>\n<ul>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html\" rel=\"nofollow noreferrer\">https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html</a></li>\n<li><a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html\" rel=\"nofollow noreferrer\">https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/util/mysql/MySQLDSL.html</a></li>\n<li><a href=\"https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-converter/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/3.18/manual/code-generation/codegen-advanced/codegen-config-database/codegen-database-forced-types/codegen-database-forced-types-converter/</a></li>\n<li><a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/data-type-conversion/\" rel=\"nofollow noreferrer\">https://www.jooq.org/doc/latest/manual/sql-execution/fetching/data-type-conversion/</a></li>\n</ul>\n<p>Update:\nIn short this is what I'm trying to achieve through Jooq:</p>\n<pre><code>CREATE TABLE TESTCRYPT(\nId mediumint AUTO_INCREMENT,\nSecret int NOT NULL,\nencrypteddata BLOB,\nPRIMARY KEY(Id)\n);\n\nINSERT INTO TESTCRYPT(Secret,encrypteddata) VALUE ('1234',AES_ENCRYPT('my-data','1234'));\n\nSELECT Secret ,AES_DECRYPT(encrypteddata,Secret) from TESTCRYPT t ;\n\n</code></pre>\n"},{"tags":["java","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":15768058,"reputation":191,"user_id":11377832,"display_name":"Mahendra D"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1677344070,"creation_date":1599570360,"answer_id":63794586,"question_id":63786440,"body_markdown":"Figured out the solution.\r\n\r\n    DynamoDbIndex&lt;Entity_Class_Name&gt; secIndex = enhancedClient.table(\r\n        &quot;table_name&quot;, \r\n    \tTableSchema.fromBean(Entity_Class_Name.class)\r\n    ).index(&quot;secondary-index-name&quot;);\r\n\r\n    QueryConditional queryConditional = QueryConditional.keyEqualTo(\r\n        Key.builder()\r\n           .partitionValue(:value_to_query)\r\n           .build()\r\n    );\r\n\r\n    Iterable&lt;Page&lt;Entity_Class_Name&gt;&gt; results = (Iterable&lt;Page&lt;Entity_Class_Name&gt;&gt;) \r\n    secIndex.query(\r\n        QueryEnhancedRequest.builder()\r\n            .queryConditional(queryConditional)\r\n            .build()\r\n    );\r\n\r\n","title":"dynamodb enhanced : how to query using SecondaryIndex in java(spring-boot)","body":"<p>Figured out the solution.</p>\n<pre><code>DynamoDbIndex&lt;Entity_Class_Name&gt; secIndex = enhancedClient.table(\n    &quot;table_name&quot;, \n    TableSchema.fromBean(Entity_Class_Name.class)\n).index(&quot;secondary-index-name&quot;);\n\nQueryConditional queryConditional = QueryConditional.keyEqualTo(\n    Key.builder()\n       .partitionValue(:value_to_query)\n       .build()\n);\n\nIterable&lt;Page&lt;Entity_Class_Name&gt;&gt; results = (Iterable&lt;Page&lt;Entity_Class_Name&gt;&gt;) \nsecIndex.query(\n    QueryEnhancedRequest.builder()\n        .queryConditional(queryConditional)\n        .build()\n);\n</code></pre>\n"}],"owner":{"account_id":15768058,"reputation":191,"user_id":11377832,"display_name":"Mahendra D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5657,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1680697664,"creation_date":1599532986,"question_id":63786440,"body_markdown":"\r\nI just started with spring-boot-dynamodb enhanced.&lt;br/&gt;\r\n[aws-skd-java2][1] has examples to query with partitionkey but I couldn&#39;t find examples to query with secondaryIndex. &lt;br/&gt;\r\nPlease suggest how to query using secondaryIndex with dynamodb-enhanced client.\r\n\r\n\r\n  [1]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/dynamodb/src/main/java/com/example/enhanced/dynamodb","title":"dynamodb enhanced : how to query using SecondaryIndex in java(spring-boot)","body":"<p>I just started with spring-boot-dynamodb enhanced.<br/>\n<a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/master/javav2/example_code/dynamodb/src/main/java/com/example/enhanced/dynamodb\" rel=\"nofollow noreferrer\">aws-skd-java2</a> has examples to query with partitionkey but I couldn't find examples to query with secondaryIndex. <br/>\nPlease suggest how to query using secondaryIndex with dynamodb-enhanced client.</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1680697799,"post_id":75934699,"comment_id":133941499,"body_markdown":"I think for the `null` case, it&#39;s be cleaner to `verify(mock).method(null)`.","body":"I think for the <code>null</code> case, it&#39;s be cleaner to <code>verify(mock).method(null)</code>."}],"answers":[{"tags":[],"owner":{"account_id":16729724,"reputation":546,"user_id":12092416,"display_name":"Sergei"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680681242,"creation_date":1680681242,"answer_id":75936926,"question_id":75934699,"body_markdown":"You can use `winCaptor.getAllValues()` method. It will not throw an exception if the `accept()` method was not called. Instead, it will return an empty list.","title":"Mockito Nullable ArgumentCaptor Value","body":"<p>You can use <code>winCaptor.getAllValues()</code> method. It will not throw an exception if the <code>accept()</code> method was not called. Instead, it will return an empty list.</p>\n"}],"owner":{"account_id":14964196,"reputation":398,"user_id":10803013,"display_name":"andresmonc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75936926,"answer_count":1,"score":1,"last_activity_date":1680697599,"creation_date":1680652676,"question_id":75934699,"body_markdown":"Is it possible to have a nullable ArgumentCaptor?\r\n\r\nI&#39;m trying to use the below method\r\n```\r\n    public Win getWin() {\r\n        ArgumentCaptor&lt;Win&gt; winCaptor = ArgumentCaptor\r\n                .forClass(Win.class);\r\n        Mockito.verify(producer, Mockito.atMostOnce()).accept(winCaptor.capture());\r\n        return winCaptor.getValue();\r\n    }\r\n```\r\n\r\nthis works fine when `producer.accept(win)` is called but I&#39;d like it to return null if it&#39;s not. Is this possible?\r\n\r\nI&#39;m currently getting this error\r\n```\r\nNo argument value was captured!\r\nYou might have forgotten to use argument.capture() in verify()...\r\n...or you used capture() in stubbing but stubbed method was not called.\r\nBe aware that it is recommended to use capture() only with verify()\r\n```","title":"Mockito Nullable ArgumentCaptor Value","body":"<p>Is it possible to have a nullable ArgumentCaptor?</p>\n<p>I'm trying to use the below method</p>\n<pre><code>    public Win getWin() {\n        ArgumentCaptor&lt;Win&gt; winCaptor = ArgumentCaptor\n                .forClass(Win.class);\n        Mockito.verify(producer, Mockito.atMostOnce()).accept(winCaptor.capture());\n        return winCaptor.getValue();\n    }\n</code></pre>\n<p>this works fine when <code>producer.accept(win)</code> is called but I'd like it to return null if it's not. Is this possible?</p>\n<p>I'm currently getting this error</p>\n<pre><code>No argument value was captured!\nYou might have forgotten to use argument.capture() in verify()...\n...or you used capture() in stubbing but stubbed method was not called.\nBe aware that it is recommended to use capture() only with verify()\n</code></pre>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1493888199,"post_id":43776916,"comment_id":74597038,"body_markdown":"You can base64 encode the file bytes and then send them as string.","body":"You can base64 encode the file bytes and then send them as string."},{"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"score":0,"creation_date":1493893777,"post_id":43776916,"comment_id":74600988,"body_markdown":"after encoding can I  decode it to retrieve the original file ?","body":"after encoding can I  decode it to retrieve the original file ?"}],"answers":[{"tags":[],"owner":{"account_id":8183552,"reputation":43,"user_id":6159971,"accept_rate":20,"display_name":"Vishal Garg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493886166,"creation_date":1493886166,"answer_id":43777548,"question_id":43776916,"body_markdown":"You can directly send bytes of the file or you can convert file into stream and then send.","title":"How to transfer files (PDF, images etc) in JSON?","body":"<p>You can directly send bytes of the file or you can convert file into stream and then send.</p>\n"}],"owner":{"account_id":7001651,"reputation":471,"user_id":5367503,"accept_rate":50,"display_name":"Wassim Makni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1680697449,"creation_date":1493884164,"question_id":43776916,"body_markdown":"How to send file from my backend project to my frontend using `JSONObject` in Java so I want to know if it is possible and how? (I&#39;m using Spring framework)","title":"How to transfer files (PDF, images etc) in JSON?","body":"<p>How to send file from my backend project to my frontend using <code>JSONObject</code> in Java so I want to know if it is possible and how? (I'm using Spring framework)</p>\n"},{"tags":["java","c#","java-8"],"answers":[{"comments":[{"owner":{"account_id":127032,"reputation":42759,"user_id":323924,"accept_rate":77,"display_name":"Cheng Chen"},"score":0,"creation_date":1463023837,"post_id":37176697,"comment_id":61887939,"body_markdown":"But `.Select(GetName)` is a syntax sugar that looks like a method reference, essentially it&#39;s still `.Select(x =&gt; GetName(x))`.","body":"But <code>.Select(GetName)</code> is a syntax sugar that looks like a method reference, essentially it&#39;s still <code>.Select(x =&gt; GetName(x))</code>."},{"owner":{"account_id":295,"reputation":101689,"user_id":369,"accept_rate":93,"display_name":"Blorgbeard"},"score":1,"creation_date":1463024347,"post_id":37176697,"comment_id":61888079,"body_markdown":"Pretty sure it&#39;s a method reference. But so what if it&#39;s sugar? OP just wants shorter code. What&#39;s the difference?","body":"Pretty sure it&#39;s a method reference. But so what if it&#39;s sugar? OP just wants shorter code. What&#39;s the difference?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":8,"creation_date":1463042576,"post_id":37176697,"comment_id":61896573,"body_markdown":"@Danny Chen: “essentially” Java&#160;8’s method reference also is syntactic sugar for a lambda expression invoking the specified method. Though, technically, it’s the other way round, a lambda expression is syntactic sugar for a method reference to an additional method holding the lambda’s body.","body":"@Danny Chen: “essentially” Java 8’s method reference also is syntactic sugar for a lambda expression invoking the specified method. Though, technically, it’s the other way round, a lambda expression is syntactic sugar for a method reference to an additional method holding the lambda’s body."}],"tags":[],"owner":{"account_id":295,"reputation":101689,"user_id":369,"accept_rate":93,"display_name":"Blorgbeard"},"comment_count":3,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1463023305,"creation_date":1463023305,"answer_id":37176697,"question_id":37175297,"body_markdown":"You would have to declare a method outside of `Thing` (or a static `Thing` method), then you could pass a method-group reference to it:\r\n\r\n    private string GetName(Thing thing)\r\n    {\r\n        return thing.Name;\r\n    }\r\n\r\n    ...\r\n\r\n    List&lt;String&gt; nameList1 = thingList.Select(GetName).ToList();\r\n\r\nIn C# 6, you can also use an expression-bodied function to save a couple of lines:\r\n\r\n    private string GetName(Thing thing) =&gt; thing.Name;","title":"C# equivalent to Java 8 &quot;method reference&quot;","body":"<p>You would have to declare a method outside of <code>Thing</code> (or a static <code>Thing</code> method), then you could pass a method-group reference to it:</p>\n\n<pre><code>private string GetName(Thing thing)\n{\n    return thing.Name;\n}\n\n...\n\nList&lt;String&gt; nameList1 = thingList.Select(GetName).ToList();\n</code></pre>\n\n<p>In C# 6, you can also use an expression-bodied function to save a couple of lines:</p>\n\n<pre><code>private string GetName(Thing thing) =&gt; thing.Name;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3939508,"reputation":165,"user_id":3254545,"display_name":"Adriano Moreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1680697262,"creation_date":1551186172,"answer_id":54886170,"question_id":37175297,"body_markdown":"**C#** has an equivalent feature called **Method Group**.\r\n\r\nSee more:  \r\nhttps://stackoverflow.com/questions/886822/what-is-a-method-group-in-c\r\n\r\n\r\nSample:\r\n\r\n    private static int[] ParseInt(string s)\r\n    {\r\n        var t = ParseString(s);\r\n        var i = t.Select(x =&gt; int.Parse(x));\r\n        return i.ToArray();\r\n    }\r\n\r\n\r\nWith metod group:\r\n\r\n    private static int[] ParseInt(string s)\r\n    {\r\n        var t = ParseString(s);\r\n        var i = t.Select(int.Parse);\r\n        return i.ToArray();\r\n    }\r\n\r\n","title":"C# equivalent to Java 8 &quot;method reference&quot;","body":"<p><strong>C#</strong> has an equivalent feature called <strong>Method Group</strong>.</p>\n<p>See more:<br />\n<a href=\"https://stackoverflow.com/questions/886822/what-is-a-method-group-in-c\">What is a method group in C#?</a></p>\n<p>Sample:</p>\n<pre><code>private static int[] ParseInt(string s)\n{\n    var t = ParseString(s);\n    var i = t.Select(x =&gt; int.Parse(x));\n    return i.ToArray();\n}\n</code></pre>\n<p>With metod group:</p>\n<pre><code>private static int[] ParseInt(string s)\n{\n    var t = ParseString(s);\n    var i = t.Select(int.Parse);\n    return i.ToArray();\n}\n</code></pre>\n"}],"owner":{"account_id":2460030,"reputation":118398,"user_id":2144390,"accept_rate":100,"display_name":"Gord Thompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12729,"favorite_count":0,"down_vote_count":2,"up_vote_count":40,"accepted_answer_id":37176697,"answer_count":2,"score":38,"last_activity_date":1680697262,"creation_date":1463012537,"question_id":37175297,"body_markdown":"I recently had the opportunity to tweak some Java code and was able to take advantage of some new Java 8 features. In one particular case I needed to get a List of (String) `.Name` properties from a List of objects. A simplified example of what I did was:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    // sample data: &lt;Thing&gt; objects have a single String property called &quot;Name&quot; \r\n    List&lt;Thing&gt; thingList =\r\n        new ArrayList&lt;&gt;(Arrays.asList(new Thing(&quot;Thing1&quot;), new Thing(&quot;Thing2&quot;)));\r\n\r\n    // first pass\r\n    List&lt;String&gt; nameList = new ArrayList&lt;&gt;();\r\n    thingList.forEach(x -&gt; nameList.add(x.getName()));\r\n\r\n    // refinement 1: use stream, map, and collect\r\n    List&lt;String&gt; nameList1 =\r\n        thingList.stream().map(x -&gt; x.getName()).collect(Collectors.toList());\r\n\r\n    // refinement 2: use &quot;Thing::getName&quot; method reference\r\n    List&lt;String&gt; nameList2 =\r\n        thingList.stream().map(Thing::getName).collect(Collectors.toList());\r\n\r\nI was curious to see how those approaches would translate to C#, and I got\r\n\r\n&lt;!-- language: lang-cs --&gt;\r\n\r\n    // sample data: &lt;Thing&gt; objects have a single String property called &quot;Name&quot;\r\n    var thingList = new List&lt;Thing&gt; { new Thing(&quot;Thing1&quot;), new Thing(&quot;Thing2&quot;) };\r\n\r\n    // first pass\r\n    var nameList = new List&lt;String&gt;();\r\n    thingList.ForEach(x =&gt; nameList.Add(x.Name));\r\n\r\n    // refinement 1: use Select and ToList\r\n    List&lt;String&gt; nameList1 = thingList.Select(x =&gt; x.Name).ToList();\r\n\r\nWhat I haven&#39;t found (yet?) is a C# equivalent of &quot;refinement 2&quot; to replace the Lambda expression with something (a little bit) more concise. Is there a C# equivalent to the Java 8 &quot;method reference&quot; in this case, given that I&#39;m trying to get a *property* of each object (which in Java is done using a `getProperty` *method*)?\r\n","title":"C# equivalent to Java 8 &quot;method reference&quot;","body":"<p>I recently had the opportunity to tweak some Java code and was able to take advantage of some new Java 8 features. In one particular case I needed to get a List of (String) <code>.Name</code> properties from a List of objects. A simplified example of what I did was:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// sample data: &lt;Thing&gt; objects have a single String property called \"Name\" \nList&lt;Thing&gt; thingList =\n    new ArrayList&lt;&gt;(Arrays.asList(new Thing(\"Thing1\"), new Thing(\"Thing2\")));\n\n// first pass\nList&lt;String&gt; nameList = new ArrayList&lt;&gt;();\nthingList.forEach(x -&gt; nameList.add(x.getName()));\n\n// refinement 1: use stream, map, and collect\nList&lt;String&gt; nameList1 =\n    thingList.stream().map(x -&gt; x.getName()).collect(Collectors.toList());\n\n// refinement 2: use \"Thing::getName\" method reference\nList&lt;String&gt; nameList2 =\n    thingList.stream().map(Thing::getName).collect(Collectors.toList());\n</code></pre>\n\n<p>I was curious to see how those approaches would translate to C#, and I got</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// sample data: &lt;Thing&gt; objects have a single String property called \"Name\"\nvar thingList = new List&lt;Thing&gt; { new Thing(\"Thing1\"), new Thing(\"Thing2\") };\n\n// first pass\nvar nameList = new List&lt;String&gt;();\nthingList.ForEach(x =&gt; nameList.Add(x.Name));\n\n// refinement 1: use Select and ToList\nList&lt;String&gt; nameList1 = thingList.Select(x =&gt; x.Name).ToList();\n</code></pre>\n\n<p>What I haven't found (yet?) is a C# equivalent of \"refinement 2\" to replace the Lambda expression with something (a little bit) more concise. Is there a C# equivalent to the Java 8 \"method reference\" in this case, given that I'm trying to get a <em>property</em> of each object (which in Java is done using a <code>getProperty</code> <em>method</em>)?</p>\n"},{"tags":["java","string","chararray"],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1680696879,"creation_date":1680696879,"answer_id":75939316,"question_id":75938888,"body_markdown":"C and C++ use the `char` type to represent a single byte.  However, `byte` and `char` are not the same thing in Java.  Unicode has [over 100,000 codepoints](https://unicode.org/faq/basic_q.html#2a), so obviously a single byte is not capable of representing all characters.  There is no choice other than using multiple bytes to represent some characters.\r\n\r\nThe exact method for using multiple bytes to represent a single character is known as a [Charset](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/package-summary.html), also known as a character encoding (or sometimes just “encoding”).\r\n\r\nThe most popular charset is [UTF-8](https://en.wikipedia.org/wiki/UTF-8), because it is a compact representation of Latin languages and because it is compatible with ASCII.  Your C++ library returned &quot;&#231;ap&quot; as a UTF-8 byte sequence.\r\n\r\nWhen your code does `new String(byteArray)`, it is using a Charset to translate the bytes to characters.  In modern versions of Java, that Charset is always UTF-8.  (Older versions of Java will use the system’s default charset, which happens to be UTF-8 on all systems other than Windows.)\r\n\r\nWhen your code does `(char) byteArray[i]`, it is forcing each byte to act as its own character, ignoring the possibility of multi-byte sequences.  `&#231;` is represented in UTF-8 as the two bytes 0xc3 0xa7.  The two bytes are not separate characters;  together they represent a single char.\r\n\r\nIt is almost never correct to assume one byte is equivalent to one character.\r\n\r\n(Also, feel free to read the [obligatory Joel blog](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/) on the subject.)\r\n","title":"Encoding behavior difference either using char buffer alone or by converting to byte array char-by-char","body":"<p>C and C++ use the <code>char</code> type to represent a single byte.  However, <code>byte</code> and <code>char</code> are not the same thing in Java.  Unicode has <a href=\"https://unicode.org/faq/basic_q.html#2a\" rel=\"nofollow noreferrer\">over 100,000 codepoints</a>, so obviously a single byte is not capable of representing all characters.  There is no choice other than using multiple bytes to represent some characters.</p>\n<p>The exact method for using multiple bytes to represent a single character is known as a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/charset/package-summary.html\" rel=\"nofollow noreferrer\">Charset</a>, also known as a character encoding (or sometimes just “encoding”).</p>\n<p>The most popular charset is <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a>, because it is a compact representation of Latin languages and because it is compatible with ASCII.  Your C++ library returned &quot;çap&quot; as a UTF-8 byte sequence.</p>\n<p>When your code does <code>new String(byteArray)</code>, it is using a Charset to translate the bytes to characters.  In modern versions of Java, that Charset is always UTF-8.  (Older versions of Java will use the system’s default charset, which happens to be UTF-8 on all systems other than Windows.)</p>\n<p>When your code does <code>(char) byteArray[i]</code>, it is forcing each byte to act as its own character, ignoring the possibility of multi-byte sequences.  <code>ç</code> is represented in UTF-8 as the two bytes 0xc3 0xa7.  The two bytes are not separate characters;  together they represent a single char.</p>\n<p>It is almost never correct to assume one byte is equivalent to one character.</p>\n<p>(Also, feel free to read the <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\">obligatory Joel blog</a> on the subject.)</p>\n"}],"owner":{"account_id":28220679,"reputation":3,"user_id":21571457,"display_name":"hltu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75939316,"answer_count":1,"score":0,"last_activity_date":1680696879,"creation_date":1680694349,"question_id":75938888,"body_markdown":"I am developing a Java application where I get a value of type `char[]` from an external C++ dll.\r\nThere are cases in which non-ASCII values are expected to be input.\r\nIn such a case, it works normally when I construct a `String` by only passing it a `byte[]` which is converted from the hex-string interpretation of the input value.\r\nOn the other hand, I had problem when I construct a `String` by passing a character array which is made up from a for-loop in which each `byte` is cast to `char`, one-by-one.\r\n\r\nIn the example below, a `char[]` variable is obtained from the aforementioned dll where the input is a string with the value &quot;&#231;ap&quot; but comes with a hex-string  value of `C3A76170`.\r\n\r\n```java\r\n// the StringUtil.toByteArray function converts hex-string to a byte array\r\nbyte[] byteArray = StringUtil.toByteArray(&quot;C3A76170&quot;);\r\n```\r\n\r\nBelow example yields the expected result:\r\n\r\n```java\r\nString s1 = new String(byteArray);\r\n\r\n// print\r\nSystem.out.println(s1)\r\n```\r\n\r\n```\r\n&#231;ap\r\n```\r\n\r\nBelow example **does not** yield the expected result:\r\n\r\n```java\r\nchar[] chars = new char[byteArray.length];\r\nfor (int i = 0; i &lt; chars.length; i++) {\r\n\tchars[i] = (char) byteArray[i];\r\n}\r\nString s2 = new String(chars);\r\n\r\n// print\r\nSystem.out.println(s2);\r\n```\r\n\r\n```\r\nￃﾧap\r\n```\r\n\r\nIn the second example, the output is `&quot;ￃﾧap&quot;` (where the character &quot;&#231;&quot; is apparently misinterpret as a different character).\r\n\r\nWhat can cause this discrepancy between outputs? What is the reasoning behind this behavior?","title":"Encoding behavior difference either using char buffer alone or by converting to byte array char-by-char","body":"<p>I am developing a Java application where I get a value of type <code>char[]</code> from an external C++ dll.\nThere are cases in which non-ASCII values are expected to be input.\nIn such a case, it works normally when I construct a <code>String</code> by only passing it a <code>byte[]</code> which is converted from the hex-string interpretation of the input value.\nOn the other hand, I had problem when I construct a <code>String</code> by passing a character array which is made up from a for-loop in which each <code>byte</code> is cast to <code>char</code>, one-by-one.</p>\n<p>In the example below, a <code>char[]</code> variable is obtained from the aforementioned dll where the input is a string with the value &quot;çap&quot; but comes with a hex-string  value of <code>C3A76170</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// the StringUtil.toByteArray function converts hex-string to a byte array\nbyte[] byteArray = StringUtil.toByteArray(&quot;C3A76170&quot;);\n</code></pre>\n<p>Below example yields the expected result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s1 = new String(byteArray);\n\n// print\nSystem.out.println(s1)\n</code></pre>\n<pre><code>çap\n</code></pre>\n<p>Below example <strong>does not</strong> yield the expected result:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] chars = new char[byteArray.length];\nfor (int i = 0; i &lt; chars.length; i++) {\n    chars[i] = (char) byteArray[i];\n}\nString s2 = new String(chars);\n\n// print\nSystem.out.println(s2);\n</code></pre>\n<pre><code>ￃﾧap\n</code></pre>\n<p>In the second example, the output is <code>&quot;ￃﾧap&quot;</code> (where the character &quot;ç&quot; is apparently misinterpret as a different character).</p>\n<p>What can cause this discrepancy between outputs? What is the reasoning behind this behavior?</p>\n"},{"tags":["java","eclipse","eclipse-plugin"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680672030,"post_id":75935648,"comment_id":133935643,"body_markdown":"Where a view should be placed by default has to be defined for each perspective: https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/reference/extension-points/org_eclipse_ui_perspectiveExtensions.html#e.view","body":"Where a view should be placed by default has to be defined for each perspective: <a href=\"https://help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/reference/extension-points/org_eclipse_ui_perspectiveExtensions.html#e.view\" rel=\"nofollow noreferrer\">help.eclipse.org/latest/topic/org.eclipse.platform.doc.isv/&hellip;</a>"}],"owner":{"account_id":23886461,"reputation":1,"user_id":17886581,"display_name":"Carl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680696867,"creation_date":1680668881,"question_id":75935648,"body_markdown":"I create a `org.eclipse.ui.IWorkbenchWindowActionDelegate` to open a `org.eclipse.ui.part.ViewPart`.\r\n\r\nViewPart seems always stay on the right, I want to let it stay on the bottom of perspective:\r\n\r\n[![this is right][1]][1]\r\n\r\nThis is my action code:\r\n```\r\npackage com.plugin.blog.demo.actions;\r\n\r\nimport org.eclipse.jface.action.IAction;\r\nimport org.eclipse.jface.viewers.ISelection;\r\nimport org.eclipse.swt.widgets.Layout;\r\nimport org.eclipse.swt.widgets.MessageBox;\r\nimport org.eclipse.ui.IWorkbenchPage;\r\nimport org.eclipse.ui.IWorkbenchWindow;\r\nimport org.eclipse.ui.IWorkbenchWindowActionDelegate;\r\nimport org.eclipse.ui.PartInitException;\r\nimport org.eclipse.ui.internal.Perspective;\r\n\r\npublic class OpenViewAction implements IWorkbenchWindowActionDelegate {\r\n    private IWorkbenchWindow mWindow;\r\n\t\r\n    @Override\r\n    public void run(IAction action) {\r\n        IWorkbenchPage page = mWindow.getActivePage();\r\n        if (page != null) {\r\n            try {\r\n                page.showView(&quot;com.plugin.blog.demo.view.DemoViewPart&quot;);\r\n                } catch (PartInitException e) {\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nI want to let ViewPart stay on the bottom.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7AMdF.png","title":"How to change the position of the ViewPart in perspective? (org.eclipse.ui.part.ViewPart)","body":"<p>I create a <code>org.eclipse.ui.IWorkbenchWindowActionDelegate</code> to open a <code>org.eclipse.ui.part.ViewPart</code>.</p>\n<p>ViewPart seems always stay on the right, I want to let it stay on the bottom of perspective:</p>\n<p><a href=\"https://i.stack.imgur.com/7AMdF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7AMdF.png\" alt=\"this is right\" /></a></p>\n<p>This is my action code:</p>\n<pre><code>package com.plugin.blog.demo.actions;\n\nimport org.eclipse.jface.action.IAction;\nimport org.eclipse.jface.viewers.ISelection;\nimport org.eclipse.swt.widgets.Layout;\nimport org.eclipse.swt.widgets.MessageBox;\nimport org.eclipse.ui.IWorkbenchPage;\nimport org.eclipse.ui.IWorkbenchWindow;\nimport org.eclipse.ui.IWorkbenchWindowActionDelegate;\nimport org.eclipse.ui.PartInitException;\nimport org.eclipse.ui.internal.Perspective;\n\npublic class OpenViewAction implements IWorkbenchWindowActionDelegate {\n    private IWorkbenchWindow mWindow;\n    \n    @Override\n    public void run(IAction action) {\n        IWorkbenchPage page = mWindow.getActivePage();\n        if (page != null) {\n            try {\n                page.showView(&quot;com.plugin.blog.demo.view.DemoViewPart&quot;);\n                } catch (PartInitException e) {\n            }\n        }\n    }\n</code></pre>\n<p>I want to let ViewPart stay on the bottom.</p>\n"},{"tags":["java","arrays","for-loop","random"],"comments":[{"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"score":0,"creation_date":1396605344,"post_id":22859324,"comment_id":34874196,"body_markdown":"You don&#39;t want to print the same number twice,hence everytime you&#39;ll have to decrease the range of Random number created","body":"You don&#39;t want to print the same number twice,hence everytime you&#39;ll have to decrease the range of Random number created"},{"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"score":0,"creation_date":1396605431,"post_id":22859324,"comment_id":34874259,"body_markdown":"Also, you are not removing the number from Array after you&#39;ve picked it. You are just printing it on the console.","body":"Also, you are not removing the number from Array after you&#39;ve picked it. You are just printing it on the console."},{"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"score":0,"creation_date":1396605539,"post_id":22859324,"comment_id":34874327,"body_markdown":"And since we don&#39;t live in caves, we don&#39;t wear human skins, please don&#39;t use Array. Cheers","body":"And since we don&#39;t live in caves, we don&#39;t wear human skins, please don&#39;t use Array. Cheers"}],"answers":[{"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1396605245,"post_id":22859396,"comment_id":34874144,"body_markdown":"Set and Map don&#39;t have indices. A List would be more appropriate.","body":"Set and Map don&#39;t have indices. A List would be more appropriate."},{"owner":{"account_id":3361883,"reputation":1231,"user_id":2823515,"accept_rate":100,"display_name":"Lukas Warsitz"},"score":0,"creation_date":1396605306,"post_id":22859396,"comment_id":34874176,"body_markdown":"Also maybe the OP does this for exercise, so it would be great to give him an answer for his code.","body":"Also maybe the OP does this for exercise, so it would be great to give him an answer for his code."}],"tags":[],"owner":{"account_id":4255535,"reputation":2091,"user_id":3481325,"accept_rate":42,"display_name":"Sanjay Rabari"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396605213,"creation_date":1396605213,"answer_id":22859396,"question_id":22859324,"body_markdown":"You better use Set or Map to hold the data and then create random number which belongs in the length of the set/map and remove with that (random) index.","title":"how select randomly from an int array, then remove the selected element","body":"<p>You better use Set or Map to hold the data and then create random number which belongs in the length of the set/map and remove with that (random) index.</p>\n"},{"comments":[{"owner":{"account_id":2078183,"reputation":3320,"user_id":1850925,"display_name":"Arjit"},"score":0,"creation_date":1396605870,"post_id":22859434,"comment_id":34874511,"body_markdown":"it will throw exception if you are using list as final.","body":"it will throw exception if you are using list as final."},{"owner":{"account_id":4237053,"reputation":1725,"user_id":3467940,"display_name":"enterbios"},"score":0,"creation_date":1396606966,"post_id":22859434,"comment_id":34875231,"body_markdown":"The exception was not due to final, Arrays.asList(colm) creates fixed size List which do not support removing, fixed that :)","body":"The exception was not due to final, Arrays.asList(colm) creates fixed size List which do not support removing, fixed that :)"}],"tags":[],"owner":{"account_id":4237053,"reputation":1725,"user_id":3467940,"display_name":"enterbios"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396606889,"creation_date":1396605295,"answer_id":22859434,"question_id":22859324,"body_markdown":"You are missing the remove part. Try something like this:\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Integer [] colm = {1,2,3,4,5,67,87};\r\n        final List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;(Arrays.asList(colm));\r\n        Random rand =  new Random();\r\n\r\n        for(int i = 0; (i&lt;5) &amp;&amp; (ints.size() &gt; 0); i ++) {\r\n            final int randomIndex = rand.nextInt(ints.size());\r\n            System.out.println(&quot; &quot; +  ints.get(randomIndex));\r\n            ints.remove(randomIndex);\r\n        }\r\n    }","title":"how select randomly from an int array, then remove the selected element","body":"<p>You are missing the remove part. Try something like this:</p>\n\n<pre><code>public static void main(String[] args)\n{\n    Integer [] colm = {1,2,3,4,5,67,87};\n    final List&lt;Integer&gt; ints = new ArrayList&lt;Integer&gt;(Arrays.asList(colm));\n    Random rand =  new Random();\n\n    for(int i = 0; (i&lt;5) &amp;&amp; (ints.size() &gt; 0); i ++) {\n        final int randomIndex = rand.nextInt(ints.size());\n        System.out.println(\" \" +  ints.get(randomIndex));\n        ints.remove(randomIndex);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2078805,"reputation":465,"user_id":1851386,"accept_rate":82,"display_name":"Gabrer"},"score":1,"creation_date":1493053949,"post_id":22859478,"comment_id":74237782,"body_markdown":"More elegant than others, but you didn&#39;t remove elements. Am I right?","body":"More elegant than others, but you didn&#39;t remove elements. Am I right?"},{"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"score":1,"creation_date":1493057822,"post_id":22859478,"comment_id":74239952,"body_markdown":"@Gabrer. yes I didn&#39;t remove that. Because although the title asked to remove from array but the main goal of OP was to avoid printing duplicate entries.","body":"@Gabrer. yes I didn&#39;t remove that. Because although the title asked to remove from array but the main goal of OP was to avoid printing duplicate entries."},{"owner":{"account_id":2078805,"reputation":465,"user_id":1851386,"accept_rate":82,"display_name":"Gabrer"},"score":1,"creation_date":1493058080,"post_id":22859478,"comment_id":74240106,"body_markdown":"Ok! I understand. \nBut actually, I chose this answer on Google because in the title there was the &quot;remove&quot;.\nIt&#39;s up to you if improve the answer (anyway, it needs only to call the &quot;remove()&quot; method).","body":"Ok! I understand.  But actually, I chose this answer on Google because in the title there was the &quot;remove&quot;. It&#39;s up to you if improve the answer (anyway, it needs only to call the &quot;remove()&quot; method)."}],"tags":[],"owner":{"account_id":297962,"reputation":54236,"user_id":603742,"accept_rate":33,"display_name":"stinepike"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1396605405,"creation_date":1396605405,"answer_id":22859478,"question_id":22859324,"body_markdown":"Random doesn&#39;t give gurranty of unique number. you can do following instead.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] colm = { 1, 2, 3, 4, 5, 67, 87 };\r\n\t\tList l = new ArrayList();\r\n\t\tfor(int i: colm)\r\n\t\t\tl.add(i);\r\n\t\t\r\n\t\tCollections.shuffle(l);\r\n\r\n\t\tfor (int i = 0; i &lt; 5; i++)\r\n\t\t\tSystem.out.println(l.get(i));\r\n\r\n\t}","title":"how select randomly from an int array, then remove the selected element","body":"<p>Random doesn't give gurranty of unique number. you can do following instead.</p>\n\n<pre><code>public static void main(String[] args) {\n    int[] colm = { 1, 2, 3, 4, 5, 67, 87 };\n    List l = new ArrayList();\n    for(int i: colm)\n        l.add(i);\n\n    Collections.shuffle(l);\n\n    for (int i = 0; i &lt; 5; i++)\n        System.out.println(l.get(i));\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7246067,"reputation":783,"user_id":5527914,"accept_rate":75,"display_name":"Harleen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599595155,"creation_date":1599595155,"answer_id":63800793,"question_id":22859324,"body_markdown":"    public static void removeElements(int[] arr) {\r\n    \t\tRandom random = new Random();\r\n    \r\n    \t\tList&lt;Integer&gt; list = Arrays.stream(arr).boxed().collect(Collectors.toList());\r\n    \r\n    \t\tint length = arr.length;\r\n    \t\twhile (length &gt; 0) {\r\n    \r\n    \t\t\tSystem.out.println(&quot;Size: &quot; + list.size());\r\n    \t\t\tif (list.size() == 1) {\r\n    \t\t\t\tint randomIndex = random.nextInt(list.size());\r\n    \t\t\t\tlist.remove(randomIndex);\r\n    \t\t\t\tSystem.out.println(&quot;Size:--&gt; &quot; + list.size());\r\n    \t\t\t\tbreak;\r\n    \t\t\t}else {\r\n    \t\t\t\tint randomIndex = random.nextInt(list.size() - 1);\r\n    \t\t\t\tif (arr == null || randomIndex &gt; arr.length) {\r\n    \t\t\t\t\tSystem.out.println(&quot;No Elements to be deleted&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t\tlist.remove(randomIndex);\r\n    \t\t\t\tSystem.out.println(&quot;Removed Element: &quot; + list.get(randomIndex));\r\n    \t\t\t\tlength--;\r\n    \r\n    \t\t\t\tif (length == 0)\r\n    \t\t\t\t\tbreak;\r\n    \r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n","title":"how select randomly from an int array, then remove the selected element","body":"<pre><code>public static void removeElements(int[] arr) {\n        Random random = new Random();\n\n        List&lt;Integer&gt; list = Arrays.stream(arr).boxed().collect(Collectors.toList());\n\n        int length = arr.length;\n        while (length &gt; 0) {\n\n            System.out.println(&quot;Size: &quot; + list.size());\n            if (list.size() == 1) {\n                int randomIndex = random.nextInt(list.size());\n                list.remove(randomIndex);\n                System.out.println(&quot;Size:--&gt; &quot; + list.size());\n                break;\n            }else {\n                int randomIndex = random.nextInt(list.size() - 1);\n                if (arr == null || randomIndex &gt; arr.length) {\n                    System.out.println(&quot;No Elements to be deleted&quot;);\n                }\n                list.remove(randomIndex);\n                System.out.println(&quot;Removed Element: &quot; + list.get(randomIndex));\n                length--;\n\n                if (length == 0)\n                    break;\n\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28208843,"reputation":1,"user_id":21561456,"display_name":"Jan Phillip Dacallos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680696502,"creation_date":1680695222,"answer_id":75939034,"question_id":22859324,"body_markdown":"    public static void main(String[] args) {\r\n    int[] colm = { 1, 2, 3, 4, 5, 67, 87 };\r\n    List l = new ArrayList();\r\n    for(int i: colm)\r\n        l.add(i);\r\n\r\n    Collections.shuffle(l);\r\n\r\n    for (int i = 0; i &lt; 5; i++)\r\n        System.out.println(l.get(i));\r\n\r\n    }","title":"how select randomly from an int array, then remove the selected element","body":"<pre><code>public static void main(String[] args) {\nint[] colm = { 1, 2, 3, 4, 5, 67, 87 };\nList l = new ArrayList();\nfor(int i: colm)\n    l.add(i);\n\nCollections.shuffle(l);\n\nfor (int i = 0; i &lt; 5; i++)\n    System.out.println(l.get(i));\n\n}\n</code></pre>\n"}],"owner":{"account_id":3570432,"reputation":113,"user_id":2980885,"accept_rate":60,"display_name":"user2980885"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7308,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":22859478,"answer_count":5,"score":4,"last_activity_date":1680696502,"creation_date":1396604989,"question_id":22859324,"body_markdown":"im trying to select randomly from an array to print it, then remove it from the array, to avoid printing out the same number twice. i am a bit of a java novice so was wondering if someone could point me where im going wrong. \r\n\r\n\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\tint[] colm = { 1, 2, 3, 4, 5, 67, 87 };\r\n\t\tRandom rand = new Random();\r\n\r\n\t\tfor (int i = 0; i &lt; 5; i++)\r\n\t\t\tSystem.out.println(&quot; &quot; + colm[rand.nextInt(colm.length)]);\r\n\r\n\t}\r\n\r\nthanks\r\n\r\n","title":"how select randomly from an int array, then remove the selected element","body":"<p>im trying to select randomly from an array to print it, then remove it from the array, to avoid printing out the same number twice. i am a bit of a java novice so was wondering if someone could point me where im going wrong. </p>\n\n<pre><code>public static void main(String[] args) {\n    int[] colm = { 1, 2, 3, 4, 5, 67, 87 };\n    Random rand = new Random();\n\n    for (int i = 0; i &lt; 5; i++)\n        System.out.println(\" \" + colm[rand.nextInt(colm.length)]);\n\n}\n</code></pre>\n\n<p>thanks</p>\n"},{"tags":["java","command-line","ide","vscode-extensions"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1670185038,"post_id":74680482,"comment_id":131811352,"body_markdown":"Eclipse has a &quot;launch&quot; parameter dialog.  Surely VSCode has something similar in the &quot;Run&quot; and &quot;Debug&quot; menus?","body":"Eclipse has a &quot;launch&quot; parameter dialog.  Surely VSCode has something similar in the &quot;Run&quot; and &quot;Debug&quot; menus?"}],"answers":[{"tags":[],"owner":{"account_id":13287766,"reputation":332,"user_id":9593286,"display_name":"KijeviGombooc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680696471,"creation_date":1680696471,"answer_id":75939242,"question_id":74680482,"body_markdown":"You need to add args parameter to a launch configuration:\r\nhttps://code.visualstudio.com/docs/java/java-debugging#_configuration-options","title":"Debugging Java programs with command line arguments from Visual Studio Code","body":"<p>You need to add args parameter to a launch configuration:\n<a href=\"https://code.visualstudio.com/docs/java/java-debugging#_configuration-options\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/java/java-debugging#_configuration-options</a></p>\n"}],"owner":{"account_id":9458657,"reputation":63,"user_id":7033131,"display_name":"mijen67"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1680696471,"creation_date":1670184546,"question_id":74680482,"body_markdown":"I&#39;m using the &quot;Extension Pack for Java&quot; by Microsoft. \r\nIt works fine, I can add new class files, compile, run and debug them. \r\nIf I run extension command &quot;Java: Create Java Project&quot; I get a nice setup with subfolders for libraries, &quot;binaries&quot; and source, i.e. ./lib, ./bin, ./src. \r\n\r\nHowever, now I need to call a program with command line arguments. \r\n\r\nI can go to the terminal and run the program with command line arguments: \r\n\r\njava .\\src\\HelloWorld.java Argument1 Argument2 \r\n\r\nor compile it in VSC and run it from terminal using: \r\n\r\njava .\\bin\\ HelloWorld Argument1 Argument2 \r\n\r\nHowever, how can I add the arguments when starting the application from VSC? (running and/or debugging). \r\n\r\nI&#39;ve seen and tried quite a few guides on setting up various .json &quot;settings&quot; files for VSC but none of them seem to match the Java Extension pack setup. \r\n\r\nWhat is the simplest possible solution? (simple as in fewest possible text lines in .json file). \r\n","title":"Debugging Java programs with command line arguments from Visual Studio Code","body":"<p>I'm using the &quot;Extension Pack for Java&quot; by Microsoft.\nIt works fine, I can add new class files, compile, run and debug them.\nIf I run extension command &quot;Java: Create Java Project&quot; I get a nice setup with subfolders for libraries, &quot;binaries&quot; and source, i.e. ./lib, ./bin, ./src.</p>\n<p>However, now I need to call a program with command line arguments.</p>\n<p>I can go to the terminal and run the program with command line arguments:</p>\n<p>java .\\src\\HelloWorld.java Argument1 Argument2</p>\n<p>or compile it in VSC and run it from terminal using:</p>\n<p>java .\\bin\\ HelloWorld Argument1 Argument2</p>\n<p>However, how can I add the arguments when starting the application from VSC? (running and/or debugging).</p>\n<p>I've seen and tried quite a few guides on setting up various .json &quot;settings&quot; files for VSC but none of them seem to match the Java Extension pack setup.</p>\n<p>What is the simplest possible solution? (simple as in fewest possible text lines in .json file).</p>\n"},{"tags":["java","spring-boot","logging","rollingfileappender"],"owner":{"account_id":24276143,"reputation":31,"user_id":18223427,"display_name":"pryakks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680696095,"creation_date":1680696095,"question_id":75939187,"body_markdown":"ch.qos.logback.core.rolling.sizeandtimebasedrollingpolicy with 10MB size is not generating new file after the size limit reached to 10MB. \r\nsometimes it roll file at 12912KB and sometimes it goes upto 17216KB and sometimes at 10780KB.\r\n\r\nWhy there is inconsistency in the file size?\r\n\r\nI am trying to add logger to my spring boot application which will give log file of 10MB size and it will achieve the file once it reaches size &gt;10MB which results in creating a achieved file of 10MB","title":"ch.qos.logback.core.rolling.sizeandtimebasedrollingpolicy not honoring maxfilesize given","body":"<p>ch.qos.logback.core.rolling.sizeandtimebasedrollingpolicy with 10MB size is not generating new file after the size limit reached to 10MB.\nsometimes it roll file at 12912KB and sometimes it goes upto 17216KB and sometimes at 10780KB.</p>\n<p>Why there is inconsistency in the file size?</p>\n<p>I am trying to add logger to my spring boot application which will give log file of 10MB size and it will achieve the file once it reaches size &gt;10MB which results in creating a achieved file of 10MB</p>\n"},{"tags":["java","spring-boot","webserver","spring-webflux","http2"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1680705669,"post_id":75939162,"comment_id":133943928,"body_markdown":"Have you looked at the percentiles of the response times ? Maybe at 12K, responses took more time ? And what about memory ? Webflux is designed to manage back-pressure. Having a few thousand requests waiting should not be a problem. But, they might take more time to be answered, and while waiting, they should also consume memory. P.S there have been a video about that by Spring not long ago, you should find it on Spring channel on youtube.","body":"Have you looked at the percentiles of the response times ? Maybe at 12K, responses took more time ? And what about memory ? Webflux is designed to manage back-pressure. Having a few thousand requests waiting should not be a problem. But, they might take more time to be answered, and while waiting, they should also consume memory. P.S there have been a video about that by Spring not long ago, you should find it on Spring channel on youtube."},{"owner":{"account_id":18877730,"reputation":21,"user_id":13770876,"display_name":"shetty sharath"},"score":0,"creation_date":1680717485,"post_id":75939162,"comment_id":133947166,"body_markdown":"@amanin Yes, you are right. There is an increase in latency but did not observe an increase in memory.","body":"@amanin Yes, you are right. There is an increase in latency but did not observe an increase in memory."}],"owner":{"account_id":18877730,"reputation":21,"user_id":13770876,"display_name":"shetty sharath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680695899,"creation_date":1680695899,"question_id":75939162,"body_markdown":"I have  implemented a RestFul service using spring boot webflux reactive framework. Server has an endpoint with the GET method and with the resource /home/getData, which simply accepts the request and responds with http2 200 OK. There is no CPU intensive computation such as IO operation or DB access etc. But the CPU utilization of the server application goes up to 99.9%, if the TPS crosses beyond a certain level as given below. \r\n\r\nCPU utilization while pumping traffic to the server with two http2 client connection\r\n1. Pushed 1K traffic, CPU consumption was 25% \r\n2. Pushed 10K traffic, CPU computation was 99.9% \r\n3. Pushed 12K traffic, CPU consumption was 99.9%\r\n\r\nFrom above traffic pattern, I could see that the cpu utilization reached 99.9% at 10 tps (i.e. #2), further increasing the traffic rate to 12K tps(i.e. In #3), the server is able to successfully handle extra 2K traffic even though the CPU utilization reached the peak.\r\n \r\nHow is the server able to process extra 2K traffic in #3 when the cpu utilization is already at 99.9% in #2, Can someone please help me understand?","title":"How can Spring Boot Webflux process a little more data when CPU usage is already at 99.9%?","body":"<p>I have  implemented a RestFul service using spring boot webflux reactive framework. Server has an endpoint with the GET method and with the resource /home/getData, which simply accepts the request and responds with http2 200 OK. There is no CPU intensive computation such as IO operation or DB access etc. But the CPU utilization of the server application goes up to 99.9%, if the TPS crosses beyond a certain level as given below.</p>\n<p>CPU utilization while pumping traffic to the server with two http2 client connection</p>\n<ol>\n<li>Pushed 1K traffic, CPU consumption was 25%</li>\n<li>Pushed 10K traffic, CPU computation was 99.9%</li>\n<li>Pushed 12K traffic, CPU consumption was 99.9%</li>\n</ol>\n<p>From above traffic pattern, I could see that the cpu utilization reached 99.9% at 10 tps (i.e. #2), further increasing the traffic rate to 12K tps(i.e. In #3), the server is able to successfully handle extra 2K traffic even though the CPU utilization reached the peak.</p>\n<p>How is the server able to process extra 2K traffic in #3 when the cpu utilization is already at 99.9% in #2, Can someone please help me understand?</p>\n"},{"tags":["java","collections","immutability"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1680292173,"post_id":75901821,"comment_id":133879666,"body_markdown":"It is safe to assume a List is always ordered.  Set.of does not return a NavigableSet and Map.of does not return a NavigableMap, so **no,** you cannot safely assume they will have any particular ordering.  (And you shouldn’t even assume a non-public class like ImmutableCollections exists;  the next version of Java may or may not choose to provide immutable collections and Maps in an entirely different manner.)","body":"It is safe to assume a List is always ordered.  Set.of does not return a NavigableSet and Map.of does not return a NavigableMap, so <b>no,</b> you cannot safely assume they will have any particular ordering.  (And you shouldn’t even assume a non-public class like ImmutableCollections exists;  the next version of Java may or may not choose to provide immutable collections and Maps in an entirely different manner.)"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":2,"creation_date":1680299617,"post_id":75901821,"comment_id":133881004,"body_markdown":"Does it say &quot;ImmutableCollections are always ordered&quot; in the doc?  If not, it&#39;s not safe to assume they are.","body":"Does it say &quot;ImmutableCollections are always ordered&quot; in the doc?  If not, it&#39;s not safe to assume they are."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680510251,"post_id":75901821,"comment_id":133904619,"body_markdown":"It’s not even safe to assume that the class `java.util.ImmutableCollections.MapN` exists. What do you even mean with “ordered”? The order has entirely different semantics for `LinkedHashMap` and `SortedMap`. What is your actual requirement? By the way, there’s no point in the type parameter `T` here, it does not add anything to the method compared to just declare the parameter as `Object t`. Further, don’t write expressions like `condition? true: false`. Just use `condition`.","body":"It’s not even safe to assume that the class <code>java.util.ImmutableCollections.MapN</code> exists. What do you even mean with “ordered”? The order has entirely different semantics for <code>LinkedHashMap</code> and <code>SortedMap</code>. What is your actual requirement? By the way, there’s no point in the type parameter <code>T</code> here, it does not add anything to the method compared to just declare the parameter as <code>Object t</code>. Further, don’t write expressions like <code>condition? true: false</code>. Just use <code>condition</code>."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1680543337,"post_id":75901821,"comment_id":133912922,"body_markdown":"@ArfurNarf : doc doesn&#39;t state that the resulting `ImmutableCollection` is unordered. It doesn&#39;t is tell anything about the ordering, from what I see.\n\n@Holger : by &quot;ordered&quot; I mean whether or not the `Iterator` from the resulting `Map` or `Set` will iterate elements in the order they were added to the Collection with e.g. `Set.of()`, or `Map.of()`. Lists should always be ordered, that&#39;s understood.","body":"@ArfurNarf : doc doesn&#39;t state that the resulting <code>ImmutableCollection</code> is unordered. It doesn&#39;t is tell anything about the ordering, from what I see.  @Holger : by &quot;ordered&quot; I mean whether or not the <code>Iterator</code> from the resulting <code>Map</code> or <code>Set</code> will iterate elements in the order they were added to the Collection with e.g. <code>Set.of()</code>, or <code>Map.of()</code>. Lists should always be ordered, that&#39;s understood."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1680548314,"post_id":75901821,"comment_id":133914087,"body_markdown":"@VGR : I&#39;d like to determine, whether a given `EntrySet` from a `Map` or a `Set` is ordered, meaning, an `Iterator` from it will return elements in the order they were added - whithout creating a `Spliterator` from it just for the sake of getting the `Spliterator.ORDERED` characteristic. There&#39;re also other types, like `EnumMap` or `Attributes` that are ordered. In particular, I&#39;m in the unclear about the outcomes of static methods like `Set.of(E... elements)`, `Map.ofEntries(Entry... entries)`.","body":"@VGR : I&#39;d like to determine, whether a given <code>EntrySet</code> from a <code>Map</code> or a <code>Set</code> is ordered, meaning, an <code>Iterator</code> from it will return elements in the order they were added - whithout creating a <code>Spliterator</code> from it just for the sake of getting the <code>Spliterator.ORDERED</code> characteristic. There&#39;re also other types, like <code>EnumMap</code> or <code>Attributes</code> that are ordered. In particular, I&#39;m in the unclear about the outcomes of static methods like <code>Set.of(E... elements)</code>, <code>Map.ofEntries(Entry... entries)</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1680559823,"post_id":75901821,"comment_id":133916166,"body_markdown":"Then check [the documentation](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#unmodifiable).  It’s very clear about such collections:  “The iteration order of set elements is unspecified and is subject to change.”  So the answer is, **the objects returned by Set.of and Map.of will never have a consistent order.**  Honestly, when I need a consisting ordering, I just use `new ArrayList&lt;&gt;(existingCollection)`.  The new List contains references, not copies of the objects, so it’s not expensive.","body":"Then check <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Set.html#unmodifiable\" rel=\"nofollow noreferrer\">the documentation</a>.  It’s very clear about such collections:  “The iteration order of set elements is unspecified and is subject to change.”  So the answer is, <b>the objects returned by Set.of and Map.of will never have a consistent order.</b>  Honestly, when I need a consisting ordering, I just use <code>new ArrayList&lt;&gt;(existingCollection)</code>.  The new List contains references, not copies of the objects, so it’s not expensive."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1680561596,"post_id":75901821,"comment_id":133916399,"body_markdown":"re *It doesn&#39;t is tell anything about the ordering, from what I see.*    &quot;The iteration order .. is unspecified and is subject to change.&quot; [Set interface](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html).  [Map interface](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html).   But ultimately it&#39;s your code; you can decide what undocumented assumptions you are willing to rely on.","body":"re <i>It doesn&#39;t is tell anything about the ordering, from what I see.</i>    &quot;The iteration order .. is unspecified and is subject to change.&quot; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html\" rel=\"nofollow noreferrer\">Set interface</a>.  <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Map.html\" rel=\"nofollow noreferrer\">Map interface</a>.   But ultimately it&#39;s your code; you can decide what undocumented assumptions you are willing to rely on."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1680592409,"post_id":75901821,"comment_id":133919883,"body_markdown":"the documentation does not guarantee any order, it even specifies explicitly that there is none. even worse (for you), same `Set` created via `of` methods, will differ in the output from run to run, and this is [on purpose](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ImmutableCollections.java#L53..L59)","body":"the documentation does not guarantee any order, it even specifies explicitly that there is none. even worse (for you), same <code>Set</code> created via <code>of</code> methods, will differ in the output from run to run, and this is <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ImmutableCollections.java#L53..L59\" rel=\"nofollow noreferrer\">on purpose</a>"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1681388176,"post_id":75901821,"comment_id":134050183,"body_markdown":"@Eugene TLDR; where in the source code does the non-ordering purpose manifest exactly?","body":"@Eugene TLDR; where in the source code does the non-ordering purpose manifest exactly?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1681458771,"post_id":75901821,"comment_id":134062659,"body_markdown":"@fozzybear everywhere where you iterate the elements.","body":"@fozzybear everywhere where you iterate the elements."},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1682090078,"post_id":75901821,"comment_id":134165851,"body_markdown":"@Eugene I meant: where in the source code of `ImmutableCollections`, which you&#39;ve linked here, is the (non-ordered) &#39;on purpose&#39; aspect explicitly documented?","body":"@Eugene I meant: where in the source code of <code>ImmutableCollections</code>, which you&#39;ve linked here, is the (non-ordered) &#39;on purpose&#39; aspect explicitly documented?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1682093214,"post_id":75901821,"comment_id":134166537,"body_markdown":"this has already been told you by VGR: &quot;the objects returned by Set.of and Map.of will never have a consistent order&quot;","body":"this has already been told you by VGR: &quot;the objects returned by Set.of and Map.of will never have a consistent order&quot;"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1682420561,"post_id":75901821,"comment_id":134208934,"body_markdown":"Oh alright, sorry - I missed the obvious.","body":"Oh alright, sorry - I missed the obvious."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680773166,"post_id":75930106,"comment_id":133956002,"body_markdown":"An `Iterator` has no characteristics. This lambda construct is just an obfuscated way to call [`Spliterators.spliteratorUnknownSize(…)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Spliterators.html#spliteratorUnknownSize(java.util.Iterator,int)) and the resulting characteristics are the ones passed to that method, which in this case, are none, as none are known. There is no magic that could inject characteristics when the characteristics are not known.","body":"An <code>Iterator</code> has no characteristics. This lambda construct is just an obfuscated way to call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Spliterators.html#spliteratorUnknownSize(java.util.Iterator,int)\" rel=\"nofollow noreferrer\"><code>Spliterators.spliteratorUnknownSize(…)</code></a> and the resulting characteristics are the ones passed to that method, which in this case, are none, as none are known. There is no magic that could inject characteristics when the characteristics are not known."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1680773448,"post_id":75930106,"comment_id":133956056,"body_markdown":"But anyway, you said in [this comment](https://stackoverflow.com/questions/75901821#comment133912922_75901821) that you want to know whether it “*will iterate elements in the order they were added to the Collection*” but the `ORDERED` characteristic only implies that there might be *some meaning* to the iteration order, not that it is the insertion order. Most notably, a `SortedSet`’s iteration order is *not* the insertion order. Even a `List` does not always reflect the insertion order; it only does when you always added at the end. But you still could call `Collections.shuffle(list)` anytime","body":"But anyway, you said in <a href=\"https://stackoverflow.com/questions/75901821#comment133912922_75901821\">this comment</a> that you want to know whether it “<i>will iterate elements in the order they were added to the Collection</i>” but the <code>ORDERED</code> characteristic only implies that there might be <i>some meaning</i> to the iteration order, not that it is the insertion order. Most notably, a <code>SortedSet</code>’s iteration order is <i>not</i> the insertion order. Even a <code>List</code> does not always reflect the insertion order; it only does when you always added at the end. But you still could call <code>Collections.shuffle(list)</code> anytime"},{"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"score":0,"creation_date":1681387826,"post_id":75930106,"comment_id":134050108,"body_markdown":"You&#39;re right, of course, I&#39;ve only referenced to the most basic/obvious ordering. Because the `Iterator` in the example is created from an `Array`, internally it&#39;s based on `ArrayItr`, which is ordered. I figured that the standard `Spliterator` implementations would check for such obvious cases and add the appropriate characteristics. Too bad.","body":"You&#39;re right, of course, I&#39;ve only referenced to the most basic/obvious ordering. Because the <code>Iterator</code> in the example is created from an <code>Array</code>, internally it&#39;s based on <code>ArrayItr</code>, which is ordered. I figured that the standard <code>Spliterator</code> implementations would check for such obvious cases and add the appropriate characteristics. Too bad."}],"tags":[],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1680695603,"creation_date":1680615734,"answer_id":75930106,"question_id":75901821,"body_markdown":"It seems I&#39;ve been looking in the wrong place of the documentation - in the method&#39;s documentations instead of the `Interface` specifications, where the immutable variants are explicitly described - and indeed the `ImmutableCollections`&#39; static methods mentioned above generate `Sets` and  `Maps` without explicit ordering, which can be verified, e. g.:\r\n\r\n      final Map&lt;String, String&gt; map1 = Map.of(&quot;&quot;,&quot;&quot;, &quot; &quot;, &quot; &quot;);\r\n      final boolean isOrderedM1a = map1.keySet().spliterator().hasCharacteristics(ORDERED);\r\n      final boolean isOrderedM1b = map1.values().spliterator().hasCharacteristics(ORDERED);\r\n      final boolean isOrderedM1c = map1.entrySet().spliterator().hasCharacteristics(ORDERED);\r\n      final Map map2 = Map.ofEntries(new SimpleEntry(&quot;&quot;,&quot;&quot;), new SimpleEntry(&quot; &quot;, &quot; &quot;));\r\n      final boolean isOrderedM2a = map2.keySet().spliterator().hasCharacteristics(ORDERED);\r\n      final boolean isOrderedM2b = map2.values().spliterator().hasCharacteristics(ORDERED);\r\n      final boolean isOrderedM2c = map2.entrySet().spliterator().hasCharacteristics(ORDERED);\r\n      final Set set1 = Set.of(&quot;&quot;,&quot; &quot;);\r\n      final boolean isOrderedS1 = set1.spliterator().hasCharacteristics(ORDERED);\r\n      final Set set2 = Set.of(&quot;&quot;);\r\n      final boolean isOrderedS2 = set2.spliterator().hasCharacteristics(ORDERED);\r\n\r\nThe results all are `false`, as to be expected. In contrast, immutable Collections generated from `List.of()` are always ordered, which wasn&#39;t questioned here, though. Thanks for the clarification.\r\n\r\nInitially, I&#39;ve spotted a `Spliterator` result of `true` in the code somewhere while looking for an answer, which made me believe that these static methods might produce ordered results in general. Perhaps that was due to mixing up wrapped results of `Collections.unmodifiableSet()` and similar generated test data from already ordered Collections.\r\n\r\n**EDIT:**\r\n\r\nWhile working on the problem, I came across a solution how to create a `Spliterator` from an `Iterator`, by converting it into an `Iterable` via `Lambda` first and get the `ORDERED` characteristic from that like so:\r\n\r\n    Iterator iter = new ArrayList().iterator();\r\n    boolean isOrdered = ((Iterable)() -&gt; ((Iterator)t1)).spliterator().hasCharacteristics(ORDERED);\r\n\r\nUnfortunately, this won&#39;t preserve the `ORDERED` nature from the original `ArrayItr` and `isOrdered` will be `false`.\r\n\r\nI&#39;d have expected it to give the same result (`true`) as\r\n\r\n    boolean isOrdered = new ArrayList().spliterator().hasCharacteristics(ORDERED);\r\n\r\nbut it doesn&#39;t. Why is that and how to prevent losing the ordering in the first case - and is creating a spliterator &#39;expensive&#39;?\r\n\r\n**EDIT:** \r\nFrom what I see in the `Spliterator` doc, the reason should be:\r\n\r\n*Impl Note: The default implementation should usually be overridden. The spliterator returned by the default implementation [...] does not report any spliterator characteristics.*\r\n\r\nSo then the question would boil down to: \r\n&quot;Is it possible to create a Spliterator with preserved characteristics from the first case, whithout a custom overridden implementation?&quot;.","title":"Is it safe to assume &quot;java.util.ImmutableCollections&quot; are always ordered?","body":"<p>It seems I've been looking in the wrong place of the documentation - in the method's documentations instead of the <code>Interface</code> specifications, where the immutable variants are explicitly described - and indeed the <code>ImmutableCollections</code>' static methods mentioned above generate <code>Sets</code> and  <code>Maps</code> without explicit ordering, which can be verified, e. g.:</p>\n<pre><code>  final Map&lt;String, String&gt; map1 = Map.of(&quot;&quot;,&quot;&quot;, &quot; &quot;, &quot; &quot;);\n  final boolean isOrderedM1a = map1.keySet().spliterator().hasCharacteristics(ORDERED);\n  final boolean isOrderedM1b = map1.values().spliterator().hasCharacteristics(ORDERED);\n  final boolean isOrderedM1c = map1.entrySet().spliterator().hasCharacteristics(ORDERED);\n  final Map map2 = Map.ofEntries(new SimpleEntry(&quot;&quot;,&quot;&quot;), new SimpleEntry(&quot; &quot;, &quot; &quot;));\n  final boolean isOrderedM2a = map2.keySet().spliterator().hasCharacteristics(ORDERED);\n  final boolean isOrderedM2b = map2.values().spliterator().hasCharacteristics(ORDERED);\n  final boolean isOrderedM2c = map2.entrySet().spliterator().hasCharacteristics(ORDERED);\n  final Set set1 = Set.of(&quot;&quot;,&quot; &quot;);\n  final boolean isOrderedS1 = set1.spliterator().hasCharacteristics(ORDERED);\n  final Set set2 = Set.of(&quot;&quot;);\n  final boolean isOrderedS2 = set2.spliterator().hasCharacteristics(ORDERED);\n</code></pre>\n<p>The results all are <code>false</code>, as to be expected. In contrast, immutable Collections generated from <code>List.of()</code> are always ordered, which wasn't questioned here, though. Thanks for the clarification.</p>\n<p>Initially, I've spotted a <code>Spliterator</code> result of <code>true</code> in the code somewhere while looking for an answer, which made me believe that these static methods might produce ordered results in general. Perhaps that was due to mixing up wrapped results of <code>Collections.unmodifiableSet()</code> and similar generated test data from already ordered Collections.</p>\n<p><strong>EDIT:</strong></p>\n<p>While working on the problem, I came across a solution how to create a <code>Spliterator</code> from an <code>Iterator</code>, by converting it into an <code>Iterable</code> via <code>Lambda</code> first and get the <code>ORDERED</code> characteristic from that like so:</p>\n<pre><code>Iterator iter = new ArrayList().iterator();\nboolean isOrdered = ((Iterable)() -&gt; ((Iterator)t1)).spliterator().hasCharacteristics(ORDERED);\n</code></pre>\n<p>Unfortunately, this won't preserve the <code>ORDERED</code> nature from the original <code>ArrayItr</code> and <code>isOrdered</code> will be <code>false</code>.</p>\n<p>I'd have expected it to give the same result (<code>true</code>) as</p>\n<pre><code>boolean isOrdered = new ArrayList().spliterator().hasCharacteristics(ORDERED);\n</code></pre>\n<p>but it doesn't. Why is that and how to prevent losing the ordering in the first case - and is creating a spliterator 'expensive'?</p>\n<p><strong>EDIT:</strong>\nFrom what I see in the <code>Spliterator</code> doc, the reason should be:</p>\n<p><em>Impl Note: The default implementation should usually be overridden. The spliterator returned by the default implementation [...] does not report any spliterator characteristics.</em></p>\n<p>So then the question would boil down to:\n&quot;Is it possible to create a Spliterator with preserved characteristics from the first case, whithout a custom overridden implementation?&quot;.</p>\n"}],"owner":{"account_id":7072149,"reputation":91,"user_id":5413405,"display_name":"fozzybear"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75930106,"answer_count":1,"score":0,"last_activity_date":1680695603,"creation_date":1680288473,"question_id":75901821,"body_markdown":"`java.util.ImmutableCollections` provides implementations for immutable `Collections`, as generated by static methods like `List.of()`, `Set.of()`, `Map.of()`; it&#39;s array-based internally. Is it safe to assume that Collections produced by said methods are always ordered?\r\n\r\nIf I have e. g. a method argument `T t` of Class type `java.util.ImmutableCollections.MapN`, can I (since it&#39;s a hidden internal Class) rely on \r\n\r\n    public static &lt;T&gt; boolean isOrderedMap(final T t) {\r\n        final boolean isOrderedMap = &quot;java.util.ImmutableCollections.MapN&quot;.equals(t.getClass().getCanonicalName()) \r\n           || t instanceof LinkedHashMap \r\n           || t instanceof SortedMap\r\n           || t instanceof EnumMap\r\n           || t instanceof Attributes\r\n        return isOrderedMap ? true : false;\r\n    }\r\nand assume that the result is indeed always true for such standard `Maps`, if they&#39;re supposed to be ordered (and similar for `Sets` and `Lists`)?","title":"Is it safe to assume &quot;java.util.ImmutableCollections&quot; are always ordered?","body":"<p><code>java.util.ImmutableCollections</code> provides implementations for immutable <code>Collections</code>, as generated by static methods like <code>List.of()</code>, <code>Set.of()</code>, <code>Map.of()</code>; it's array-based internally. Is it safe to assume that Collections produced by said methods are always ordered?</p>\n<p>If I have e. g. a method argument <code>T t</code> of Class type <code>java.util.ImmutableCollections.MapN</code>, can I (since it's a hidden internal Class) rely on</p>\n<pre><code>public static &lt;T&gt; boolean isOrderedMap(final T t) {\n    final boolean isOrderedMap = &quot;java.util.ImmutableCollections.MapN&quot;.equals(t.getClass().getCanonicalName()) \n       || t instanceof LinkedHashMap \n       || t instanceof SortedMap\n       || t instanceof EnumMap\n       || t instanceof Attributes\n    return isOrderedMap ? true : false;\n}\n</code></pre>\n<p>and assume that the result is indeed always true for such standard <code>Maps</code>, if they're supposed to be ordered (and similar for <code>Sets</code> and <code>Lists</code>)?</p>\n"},{"tags":["java","runnable"],"comments":[{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":21,"creation_date":1551120565,"post_id":5853167,"comment_id":96515767,"body_markdown":"Now you can use `Consumer&lt;T&gt;`.","body":"Now you can use <code>Consumer&lt;T&gt;</code>."},{"owner":{"account_id":1334496,"reputation":6147,"user_id":1277576,"display_name":"Francesco Galgani"},"score":2,"creation_date":1557320826,"post_id":5853167,"comment_id":98724960,"body_markdown":"I&#39;ve read the various answers to this question. It seems me strange that nobody told that you can add to your project the Runnables that you need (with one, two, three or more args) simply adding an appropriate interface. I created a commented gist here for who is interested: https://gist.github.com/jsfan3/3a66e711fd0fd233c5e4c467184adb7a","body":"I&#39;ve read the various answers to this question. It seems me strange that nobody told that you can add to your project the Runnables that you need (with one, two, three or more args) simply adding an appropriate interface. I created a commented gist here for who is interested: <a href=\"https://gist.github.com/jsfan3/3a66e711fd0fd233c5e4c467184adb7a\" rel=\"nofollow noreferrer\">gist.github.com/jsfan3/3a66e711fd0fd233c5e4c467184adb7a</a>"},{"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"score":0,"creation_date":1578560180,"post_id":5853167,"comment_id":105480290,"body_markdown":"This is NOT a duplicate to &quot;How can I pass a parameter to a Java thread&quot;. And the modern answer is, like @Alex78191 says: use `Consumer&lt;T&gt;`","body":"This is NOT a duplicate to &quot;How can I pass a parameter to a Java thread&quot;. And the modern answer is, like @Alex78191 says: use <code>Consumer&lt;T&gt;</code>"},{"owner":{"account_id":4394608,"reputation":341,"user_id":3582079,"accept_rate":0,"display_name":"musterjunk"},"score":0,"creation_date":1672937126,"post_id":5853167,"comment_id":132390407,"body_markdown":"I usually create a class that implements run() and pass what ever data I need into the constructor or accesser/setter.","body":"I usually create a class that implements run() and pass what ever data I need into the constructor or accesser/setter."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1675756272,"post_id":5853167,"comment_id":132991754,"body_markdown":"@Alex78191, can you further elaborate what you mean by use Consumer&lt;T&gt;?","body":"@Alex78191, can you further elaborate what you mean by use Consumer&lt;T&gt;?"},{"owner":{"account_id":6241436,"reputation":2512,"user_id":4854931,"accept_rate":33,"display_name":"Alex78191"},"score":0,"creation_date":1675797725,"post_id":5853167,"comment_id":133005023,"body_markdown":"@experimentunit1998X https://stackoverflow.com/a/59660705/4854931","body":"@experimentunit1998X <a href=\"https://stackoverflow.com/a/59660705/4854931\">stackoverflow.com/a/59660705/4854931</a>"}],"answers":[{"comments":[{"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"score":0,"creation_date":1304309371,"post_id":5853198,"comment_id":6725448,"body_markdown":"Thank you all! All of the suggested solution point to the same approach but I can only accept one. I must be very tired not being able to come up with this myself. +1 to all.","body":"Thank you all! All of the suggested solution point to the same approach but I can only accept one. I must be very tired not being able to come up with this myself. +1 to all."},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":21,"creation_date":1304311210,"post_id":5853198,"comment_id":6725605,"body_markdown":"Actually, most people don&#39;t know you can declare a class inside a method. Some would consider it to be poor style. I guess it&#39;s a matter of taste. :)","body":"Actually, most people don&#39;t know you can declare a class inside a method. Some would consider it to be poor style. I guess it&#39;s a matter of taste. :)"},{"owner":{"account_id":4780786,"reputation":490,"user_id":3862615,"display_name":"Roman M"},"score":3,"creation_date":1533082954,"post_id":5853198,"comment_id":90212590,"body_markdown":"public interface ResultRunnable&lt;T&gt; {\n    public void run(T result);\n}","body":"public interface ResultRunnable&lt;T&gt; {     public void run(T result); }"},{"owner":{"account_id":2392816,"reputation":2925,"user_id":2092322,"accept_rate":88,"display_name":"BairDev"},"score":0,"creation_date":1685096853,"post_id":5853198,"comment_id":134617126,"body_markdown":"I don&#39;t get the more modern approach. OK, there is no `Runnable` anymore. Any change to use it in a `Scheduler`? E.g. `Scheduling scheduling = new Scheduling(1); scheduling.startScheduler(new MyRunnable(), TimeUnit.DAYS, 1);`","body":"I don&#39;t get the more modern approach. OK, there is no <code>Runnable</code> anymore. Any change to use it in a <code>Scheduler</code>? E.g. <code>Scheduling scheduling = new Scheduling(1); scheduling.startScheduler(new MyRunnable(), TimeUnit.DAYS, 1);</code>"}],"tags":[],"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"comment_count":4,"down_vote_count":1,"up_vote_count":258,"is_accepted":true,"score":257,"last_activity_date":1578627679,"creation_date":1304306272,"answer_id":5853198,"question_id":5853167,"body_markdown":"Well it&#39;s been almost 9 years since I originally posted this and to be honest, Java has made a couple improvements since then. I&#39;ll leave my original answer below, but there&#39;s no need for people to do what is in it. 9 years ago, during code review I would have questioned why they did it and maybe approved it, maybe not. With modern lambdas available, it&#39;s irresponsible to have such a highly voted answer recommending an antiquated approach (that, in all fairness, was dubious to begin with...) In modern Java, that code review would be immediately rejected, and this would be suggested:\r\n\r\n    void foo(final String str) {\r\n        Thread t = new Thread(() -&gt; someFunc(str));\r\n        t.start();\r\n    }\r\n\r\nAs before, details like handling that thread in a meaningful way is left as an exercise to the reader. But to put it bluntly, if you&#39;re afraid of using lambdas, you should be even more afraid of multi-threaded systems.\r\n\r\nOriginal answer, just because:\r\n\r\nYou can declare a class right in the method\r\n\r\n    void Foo(String str) {\r\n        class OneShotTask implements Runnable {\r\n            String str;\r\n            OneShotTask(String s) { str = s; }\r\n            public void run() {\r\n                someFunc(str);\r\n            }\r\n        }\r\n        Thread t = new Thread(new OneShotTask(str));\r\n        t.start();\r\n    }","title":"Runnable with a parameter?","body":"<p>Well it's been almost 9 years since I originally posted this and to be honest, Java has made a couple improvements since then. I'll leave my original answer below, but there's no need for people to do what is in it. 9 years ago, during code review I would have questioned why they did it and maybe approved it, maybe not. With modern lambdas available, it's irresponsible to have such a highly voted answer recommending an antiquated approach (that, in all fairness, was dubious to begin with...) In modern Java, that code review would be immediately rejected, and this would be suggested:</p>\n\n<pre><code>void foo(final String str) {\n    Thread t = new Thread(() -&gt; someFunc(str));\n    t.start();\n}\n</code></pre>\n\n<p>As before, details like handling that thread in a meaningful way is left as an exercise to the reader. But to put it bluntly, if you're afraid of using lambdas, you should be even more afraid of multi-threaded systems.</p>\n\n<p>Original answer, just because:</p>\n\n<p>You can declare a class right in the method</p>\n\n<pre><code>void Foo(String str) {\n    class OneShotTask implements Runnable {\n        String str;\n        OneShotTask(String s) { str = s; }\n        public void run() {\n            someFunc(str);\n        }\n    }\n    Thread t = new Thread(new OneShotTask(str));\n    t.start();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":34192,"reputation":3560,"user_id":96389,"accept_rate":75,"display_name":"setzamora"},"score":0,"creation_date":1304311994,"post_id":5853202,"comment_id":6725683,"body_markdown":"@Massa: see http://stackoverflow.com/questions/266806/is-there-any-performance-reason-to-declare-method-parameters-final-in-java","body":"@Massa: see <a href=\"http://stackoverflow.com/questions/266806/is-there-any-performance-reason-to-declare-method-parameters-final-in-java\" title=\"is there any performance reason to declare method parameters final in java\">stackoverflow.com/questions/266806/&hellip;</a>"}],"tags":[],"owner":{"account_id":294983,"reputation":5941,"user_id":599152,"display_name":"rlibby"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1304306314,"creation_date":1304306314,"answer_id":5853202,"question_id":5853167,"body_markdown":"You have two options:\r\n\r\n1. Define a named class.  Pass your parameter to the constructor of the named class.\r\n\r\n2. Have your anonymous class close over your &quot;parameter&quot;.  Be sure to mark it as `final`.","title":"Runnable with a parameter?","body":"<p>You have two options:</p>\n\n<ol>\n<li><p>Define a named class.  Pass your parameter to the constructor of the named class.</p></li>\n<li><p>Have your anonymous class close over your \"parameter\".  Be sure to mark it as <code>final</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25471,"reputation":3066,"user_id":65488,"accept_rate":97,"display_name":"atlantis"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1304306442,"creation_date":1304306442,"answer_id":5853211,"question_id":5853167,"body_markdown":"I would first want to know what you are trying to accomplish here to need an argument to be passed to new Runnable() or to run().\r\nThe usual way should be to have a Runnable object which passes data(str) to its threads by setting member variables before starting. The run() method then uses these member variable values to do execute someFunc()","title":"Runnable with a parameter?","body":"<p>I would first want to know what you are trying to accomplish here to need an argument to be passed to new Runnable() or to run().\nThe usual way should be to have a Runnable object which passes data(str) to its threads by setting member variables before starting. The run() method then uses these member variable values to do execute someFunc()</p>\n"},{"comments":[{"owner":{"account_id":85272,"reputation":20426,"user_id":237858,"accept_rate":86,"display_name":"nikib3ro"},"score":4,"creation_date":1343286697,"post_id":10238196,"comment_id":15458556,"body_markdown":"Thanks for sharing the code - I love when people do that instead of just blabbering. One question - is above approach OK when it comes to Memory Leaking? All references you pass will be properly disposed of?","body":"Thanks for sharing the code - I love when people do that instead of just blabbering. One question - is above approach OK when it comes to Memory Leaking? All references you pass will be properly disposed of?"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":2,"creation_date":1366928823,"post_id":10238196,"comment_id":23207913,"body_markdown":"@kape123 The answer is &quot;it depends&quot;. As long as a `Runnable` object returned by the method exists anywhere, the `paramStr` will probably not be eligible for garbage collection. It is possible that if the object exists but can never be run again, the JIT (or even javac) may decide to remove it from scope, but we should not rely on such optimizations because they may change in the future.","body":"@kape123 The answer is &quot;it depends&quot;. As long as a <code>Runnable</code> object returned by the method exists anywhere, the <code>paramStr</code> will probably not be eligible for garbage collection. It is possible that if the object exists but can never be run again, the JIT (or even javac) may decide to remove it from scope, but we should not rely on such optimizations because they may change in the future."}],"tags":[],"owner":{"account_id":379574,"reputation":12060,"user_id":733034,"accept_rate":57,"display_name":"HaoQi Li"},"comment_count":2,"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1334877507,"creation_date":1334877507,"answer_id":10238196,"question_id":5853167,"body_markdown":"You could put it in a function.\r\n\r\n    String paramStr = &quot;a parameter&quot;;\r\n    Runnable myRunnable = createRunnable(paramStr);\r\n\r\n    private Runnable createRunnable(final String paramStr){\r\n\r\n        Runnable aRunnable = new Runnable(){\r\n            public void run(){\r\n                someFunc(paramStr);\r\n            }\r\n        };\r\n\r\n        return aRunnable;\r\n\r\n    }\r\n\r\n(When I used this, my parameter was an integer ID, which I used to make a hashmap of ID --&gt; myRunnables. That way, I can use the hashmap to post/remove different myRunnable objects in a handler.)","title":"Runnable with a parameter?","body":"<p>You could put it in a function.</p>\n\n<pre><code>String paramStr = \"a parameter\";\nRunnable myRunnable = createRunnable(paramStr);\n\nprivate Runnable createRunnable(final String paramStr){\n\n    Runnable aRunnable = new Runnable(){\n        public void run(){\n            someFunc(paramStr);\n        }\n    };\n\n    return aRunnable;\n\n}\n</code></pre>\n\n<p>(When I used this, my parameter was an integer ID, which I used to make a hashmap of ID --> myRunnables. That way, I can use the hashmap to post/remove different myRunnable objects in a handler.)</p>\n"},{"comments":[{"owner":{"account_id":9299705,"reputation":906,"user_id":6905587,"display_name":"Andrew Glukhoff"},"score":3,"creation_date":1533719898,"post_id":16720635,"comment_id":90445837,"body_markdown":"Unfortunately you will not be able to assign it to a variable and call init()","body":"Unfortunately you will not be able to assign it to a variable and call init()"}],"tags":[],"owner":{"account_id":2807872,"reputation":351,"user_id":2414742,"display_name":"Tommi Rouvali"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1369332452,"creation_date":1369331365,"answer_id":16720635,"question_id":5853167,"body_markdown":"    theView.post(new Runnable() {\r\n        String str;\r\n        @Override                            \r\n        public void run() {\r\n            par.Log(str);                              \r\n        }\r\n        public Runnable init(String pstr) {\r\n            this.str=pstr;\r\n            return(this);\r\n        }\r\n    }.init(str));\r\n\r\nCreate init function that returns object itself and initialize parameters with it.","title":"Runnable with a parameter?","body":"<pre><code>theView.post(new Runnable() {\n    String str;\n    @Override                            \n    public void run() {\n        par.Log(str);                              \n    }\n    public Runnable init(String pstr) {\n        this.str=pstr;\n        return(this);\n    }\n}.init(str));\n</code></pre>\n\n<p>Create init function that returns object itself and initialize parameters with it.</p>\n"},{"comments":[{"owner":{"account_id":2101999,"reputation":921,"user_id":1869367,"accept_rate":0,"display_name":"EZDsIt"},"score":2,"creation_date":1465308077,"post_id":21460903,"comment_id":62840006,"body_markdown":"How would you use this abstract class to run a runnable with a parameter?","body":"How would you use this abstract class to run a runnable with a parameter?"},{"owner":{"account_id":1793578,"reputation":178,"user_id":1633493,"display_name":"GSD.Aaz"},"score":0,"creation_date":1507810503,"post_id":21460903,"comment_id":80365023,"body_markdown":"I prefer to use constructor with parameter(s) \n`public RunnableArg(Object... args) { \nsetArgs(args); \n}`  \nthen describe local class: \n`class ActionArg extends RunnableArg { public ActionArg(Object... arg) { super(arg); } @Override public void run() { /* getArgs() and process them */ } }` \nand use it \n`Thread t = new Thread(new ActionArg( %param_object(s)% )); t.start();`","body":"I prefer to use constructor with parameter(s)  <code>public RunnableArg(Object... args) {  setArgs(args);  }</code>   then describe local class:  <code>class ActionArg extends RunnableArg { public ActionArg(Object... arg) { super(arg); } @Override public void run() { &#47;* getArgs() and process them *&#47; } }</code>  and use it  <code>Thread t = new Thread(new ActionArg( %param_object(s)% )); t.start();</code>"},{"owner":{"account_id":8596847,"reputation":577,"user_id":6439630,"display_name":"ONE"},"score":0,"creation_date":1674666364,"post_id":21460903,"comment_id":132764780,"body_markdown":"Perfect solution if you&#39;re developing for API &lt; 24! I chose this solution over the Consumer&lt;T&gt; solution, which is only for Java 8 (API &gt;= 24). Thanks!","body":"Perfect solution if you&#39;re developing for API &lt; 24! I chose this solution over the Consumer&lt;T&gt; solution, which is only for Java 8 (API &gt;= 24). Thanks!"}],"tags":[],"owner":{"account_id":108676,"reputation":10509,"user_id":288341,"accept_rate":83,"display_name":"ubiquibacon"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1391096520,"creation_date":1391096520,"answer_id":21460903,"question_id":5853167,"body_markdown":"I use the following class which implements the [Runnable][1] interface.  With this class you can easily create new threads with arguments\r\n\r\n\r\n    public abstract class RunnableArg implements Runnable {\r\n    \r\n        Object[] m_args;\r\n    \r\n        public RunnableArg() {\r\n        }\r\n    \r\n        public void run(Object... args) {\r\n            setArgs(args);\r\n            run();\r\n        }\r\n    \r\n        public void setArgs(Object... args) {\r\n            m_args = args;\r\n        }\r\n    \r\n        public int getArgCount() {\r\n            return m_args == null ? 0 : m_args.length;\r\n        }\r\n    \r\n        public Object[] getArgs() {\r\n            return m_args;\r\n        }\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html","title":"Runnable with a parameter?","body":"<p>I use the following class which implements the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html\">Runnable</a> interface.  With this class you can easily create new threads with arguments</p>\n\n<pre><code>public abstract class RunnableArg implements Runnable {\n\n    Object[] m_args;\n\n    public RunnableArg() {\n    }\n\n    public void run(Object... args) {\n        setArgs(args);\n        run();\n    }\n\n    public void setArgs(Object... args) {\n        m_args = args;\n    }\n\n    public int getArgCount() {\n        return m_args == null ? 0 : m_args.length;\n    }\n\n    public Object[] getArgs() {\n        return m_args;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8996766,"reputation":394,"user_id":6706875,"accept_rate":82,"display_name":"Lampard"},"score":0,"creation_date":1643971236,"post_id":59660705,"comment_id":125486191,"body_markdown":"If still using Runnable with lambda in Java 8, we can do as below:\n`void doSomething(String param) { CompletableFuture.runAsync(() -&gt; howToDo(param));} private void howToDo(String param) { System.out.println(param);}`","body":"If still using Runnable with lambda in Java 8, we can do as below: <code>void doSomething(String param) { CompletableFuture.runAsync(() -&gt; howToDo(param));} private void howToDo(String param) { System.out.println(param);}</code>"}],"tags":[],"owner":{"account_id":4400,"reputation":38401,"user_id":6583,"accept_rate":90,"display_name":"Epaga"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1578561672,"creation_date":1578561672,"answer_id":59660705,"question_id":5853167,"body_markdown":"Since Java 8, the best answer is to use `Consumer&lt;T&gt;`:\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\r\n\r\nIt&#39;s one of the functional interfaces, which means you can call it as a lambda expression:\r\n\r\n    void doSomething(Consumer&lt;String&gt; something) {\r\n        something.accept(&quot;hello!&quot;);\r\n    }\r\n\r\n    ...\r\n\r\n    doSomething( (something) -&gt; System.out.println(something) )\r\n\r\n    ...","title":"Runnable with a parameter?","body":"<p>Since Java 8, the best answer is to use <code>Consumer&lt;T&gt;</code>:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html</a></p>\n\n<p>It's one of the functional interfaces, which means you can call it as a lambda expression:</p>\n\n<pre><code>void doSomething(Consumer&lt;String&gt; something) {\n    something.accept(\"hello!\");\n}\n\n...\n\ndoSomething( (something) -&gt; System.out.println(something) )\n\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22380441,"reputation":29,"user_id":16594125,"display_name":"Abdel Wadoud"},"score":0,"creation_date":1628093602,"post_id":68654660,"comment_id":121331259,"body_markdown":"This way is the most practical and the easiest way to do that, you only need to create a class inheriting Runnable with parameters (getters/setters) and an other run method, the original overridden run method calls the method u defined (method holding your parameters)","body":"This way is the most practical and the easiest way to do that, you only need to create a class inheriting Runnable with parameters (getters/setters) and an other run method, the original overridden run method calls the method u defined (method holding your parameters)"},{"owner":{"account_id":1651105,"reputation":752,"user_id":1521710,"display_name":"Igor Vuković"},"score":0,"creation_date":1638262777,"post_id":68654660,"comment_id":124035401,"body_markdown":"Nice and clean.","body":"Nice and clean."},{"owner":{"account_id":22380441,"reputation":29,"user_id":16594125,"display_name":"Abdel Wadoud"},"score":0,"creation_date":1644594035,"post_id":68654660,"comment_id":125655421,"body_markdown":"You&#39;re welcome i hope i could help even a bit","body":"You&#39;re welcome i hope i could help even a bit"}],"tags":[],"owner":{"account_id":22380441,"reputation":29,"user_id":16594125,"display_name":"Abdel Wadoud"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1628093463,"creation_date":1628093463,"answer_id":68654660,"question_id":5853167,"body_markdown":"\r\n\r\n    /**\r\n     * @author AbdelWadoud Rasmi\r\n     * &lt;p&gt;\r\n     * The goal of this class is to pass some parameters to a runnable instance, a good example is\r\n     * after caching a file you need to pass the new path to user to do some work on it.\r\n     */\r\n    public abstract class ParameterizedRunnable implements Runnable {\r\n        private Object[] params;\r\n    \r\n        /**\r\n         * @param params: parameters you want to pass the the runnable.\r\n         */\r\n        public ParameterizedRunnable(Object... params) {\r\n            this.params = params;\r\n        }\r\n    \r\n        /**\r\n         * Code you want to run\r\n         *\r\n         * @param params:parameters you want to pass the the runnable.\r\n         */\r\n        protected abstract void run(Object... params);\r\n    \r\n        @Override\r\n        public final void run() {\r\n            run(params);\r\n        }\r\n    \r\n        /**\r\n         * setting params\r\n         */\r\n        public void setParams(Object... params) {\r\n            this.params = params;\r\n        }\r\n    \r\n        /**\r\n         * getting params\r\n         */\r\n        public Object[] getParams() {\r\n            return params;\r\n        }\r\n    }","title":"Runnable with a parameter?","body":"<pre><code>/**\n * @author AbdelWadoud Rasmi\n * &lt;p&gt;\n * The goal of this class is to pass some parameters to a runnable instance, a good example is\n * after caching a file you need to pass the new path to user to do some work on it.\n */\npublic abstract class ParameterizedRunnable implements Runnable {\n    private Object[] params;\n\n    /**\n     * @param params: parameters you want to pass the the runnable.\n     */\n    public ParameterizedRunnable(Object... params) {\n        this.params = params;\n    }\n\n    /**\n     * Code you want to run\n     *\n     * @param params:parameters you want to pass the the runnable.\n     */\n    protected abstract void run(Object... params);\n\n    @Override\n    public final void run() {\n        run(params);\n    }\n\n    /**\n     * setting params\n     */\n    public void setParams(Object... params) {\n        this.params = params;\n    }\n\n    /**\n     * getting params\n     */\n    public Object[] getParams() {\n        return params;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636897146,"creation_date":1636897146,"answer_id":69963545,"question_id":5853167,"body_markdown":"Best way so far:\r\n\r\n    Consumer&lt;String&gt; oneShot = str -&gt; {\r\n        \r\n       somefunc(str);\r\n        \r\n    };\r\n    \r\n    oneShot.accept(&quot;myString&quot;);","title":"Runnable with a parameter?","body":"<p>Best way so far:</p>\n<pre><code>Consumer&lt;String&gt; oneShot = str -&gt; {\n    \n   somefunc(str);\n    \n};\n\noneShot.accept(&quot;myString&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16272565,"reputation":79,"user_id":11750685,"display_name":"dot_cr2"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680695437,"creation_date":1680695437,"answer_id":75939066,"question_id":5853167,"body_markdown":"Create a new class that implements Runnable. In this class you can extend the run() method by making abstract methods of your choice.\r\n\r\n    public abstract class CCallback implements Runnable {\r\n    @Override\r\n    public void run() {}\r\n\r\n    public abstract void run(Object any);\r\n    \r\n    }\r\n\r\nNow you can use this class as a callback function like this:\r\n\r\n    public void whatever(CCallback callback) {\r\n        String any = &quot;any type of param&quot;;\r\n        if (callback != null)\r\n            callback.run(any);\r\n    }\r\n\r\n&quot;Whatever&quot; method can now finish its task before our runnable runs:\r\n\r\n    whatever(new CCallback() {\r\n        @Override\r\n        public void run(Object any) {\r\n            // Here you can reach &quot;any&quot;\r\n        }\r\n    });","title":"Runnable with a parameter?","body":"<p>Create a new class that implements Runnable. In this class you can extend the run() method by making abstract methods of your choice.</p>\n<pre><code>public abstract class CCallback implements Runnable {\n@Override\npublic void run() {}\n\npublic abstract void run(Object any);\n\n}\n</code></pre>\n<p>Now you can use this class as a callback function like this:</p>\n<pre><code>public void whatever(CCallback callback) {\n    String any = &quot;any type of param&quot;;\n    if (callback != null)\n        callback.run(any);\n}\n</code></pre>\n<p>&quot;Whatever&quot; method can now finish its task before our runnable runs:</p>\n<pre><code>whatever(new CCallback() {\n    @Override\n    public void run(Object any) {\n        // Here you can reach &quot;any&quot;\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233498,"favorite_count":0,"down_vote_count":0,"up_vote_count":211,"accepted_answer_id":5853198,"answer_count":10,"score":211,"last_activity_date":1680695437,"creation_date":1304305778,"question_id":5853167,"body_markdown":"I have a need for a &quot;Runnable that accepts a parameter&quot; although I know that such runnable doesn&#39;t really exist.\r\n\r\nThis may point to fundamental flaw in the design of my app and/or a mental block in my tired brain, so I am hoping to find here some advice on how to accomplish something like the following, *without* violating fundamental OO principles:\r\n\r\n      private Runnable mOneShotTask = new Runnable(String str) {\r\n        public void run(String str) {\r\n           someFunc(str);\r\n        }\r\n      };  \r\n\r\n\r\nAny idea how to accomplish something like the above?\r\n\r\n","title":"Runnable with a parameter?","body":"<p>I have a need for a \"Runnable that accepts a parameter\" although I know that such runnable doesn't really exist.</p>\n\n<p>This may point to fundamental flaw in the design of my app and/or a mental block in my tired brain, so I am hoping to find here some advice on how to accomplish something like the following, <em>without</em> violating fundamental OO principles:</p>\n\n<pre><code>  private Runnable mOneShotTask = new Runnable(String str) {\n    public void run(String str) {\n       someFunc(str);\n    }\n  };  \n</code></pre>\n\n<p>Any idea how to accomplish something like the above?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1680693403,"post_id":75938675,"comment_id":133940311,"body_markdown":"post the actual classes, it&#39;s hard understand the structure from output","body":"post the actual classes, it&#39;s hard understand the structure from output"}],"answers":[{"tags":[],"owner":{"account_id":7384360,"reputation":1070,"user_id":5619827,"accept_rate":80,"display_name":"Horsing"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680694318,"creation_date":1680694318,"answer_id":75938881,"question_id":75938675,"body_markdown":"You can use `jackson` as you wish https://github.com/FasterXML/jackson .\r\n\r\nAnyway, issue [Deserialize JSON array to Map using jackson](https://stackoverflow.com/questions/39007668/deserialize-json-array-to-map-using-jackson) might be helpful.\r\n\r\nBy the way, methods `ObjectMapper#readValue` should be enough for most use cases.\r\n\r\nFor example: \r\n\r\n```java\r\npublic &lt;T&gt; T readValue(String content, TypeReference&lt;T&gt; valueTypeRef);\r\n```\r\n\r\nYou can deserialize `json` string into whatever class as you wish:\r\n\r\n```java\r\n//...\r\npublic static final ObjectMapper MAPPER = new ObjectMapper();\r\n//... to deserialize to List&lt;Map&lt;String,Object&gt;&gt;\r\nMAPPER.readValue(jsonString, new TypeReference&lt;List&lt;Map&lt;String,Object&gt;&gt;&gt;(){});\r\n```\r\n\r\nLet me know if any thing need to be updated.","title":"Better way to read list of object and generate JSON object","body":"<p>You can use <code>jackson</code> as you wish <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson</a> .</p>\n<p>Anyway, issue <a href=\"https://stackoverflow.com/questions/39007668/deserialize-json-array-to-map-using-jackson\">Deserialize JSON array to Map using jackson</a> might be helpful.</p>\n<p>By the way, methods <code>ObjectMapper#readValue</code> should be enough for most use cases.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public &lt;T&gt; T readValue(String content, TypeReference&lt;T&gt; valueTypeRef);\n</code></pre>\n<p>You can deserialize <code>json</code> string into whatever class as you wish:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//...\npublic static final ObjectMapper MAPPER = new ObjectMapper();\n//... to deserialize to List&lt;Map&lt;String,Object&gt;&gt;\nMAPPER.readValue(jsonString, new TypeReference&lt;List&lt;Map&lt;String,Object&gt;&gt;&gt;(){});\n</code></pre>\n<p>Let me know if any thing need to be updated.</p>\n"}],"owner":{"account_id":13411028,"reputation":23,"user_id":9677490,"display_name":"Douglas Rezende"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680695090,"creation_date":1680692888,"question_id":75938675,"body_markdown":"I have a following list of objects\r\n```\r\n[ ObjectVO ( id = 151401 , code = 370 AAA , Origin id = 8628823 , state = SP , local = N , number = 998035 ) N , number=998039), ObjectVO(id=151401, code=370 AAA, Origin ID=8628853, state=SP, local=N , number=998041), ObjectVO(id=151402, code=371 AAA, Origin ID=8 state=SP, local=N, number=998035), ObjectVO(id=151402, code=371 MCC, Origin id=8628833, state=SP, local=N, number=998039), ObjectVO(id=151402, code=371). AAA, Origin ID=8628853, state=SP, local=N, number=998041),\r\nObjectVO ( id = 155852 , code = 0389 AAA , Origin id = 8627130 , state = SP , local = N , number = 996509 ) , number=996509)]\r\n```\r\n\r\n through desse list manage to json structure below:\r\n```\r\n[\r\n    {\r\n       &quot;id&quot;:151401,\r\n       &quot;observation&quot;:&quot;370 AAA&quot;,\r\n       &quot;input&quot;:[\r\n          {\r\n             &quot;id&quot;:0,\r\n             &quot;state&quot;:&quot;string&quot;\r\n             &quot;local&quot;:&quot;string&quot;\r\n             &quot;number&quot;:0\r\n          },\r\n          {\r\n             &quot;id&quot;:8628833,\r\n             &quot;state&quot;:&quot;SP&quot;\r\n             &quot;local&quot;:&quot;N&quot;,\r\n             &quot;number&quot;:9\r\n          } }\r\n       ]\r\n    } }\r\n]\r\n```\r\nCreate the following code for this:\r\n\r\n    MultiValueMap&lt;String, Map&lt;String,Object&gt;&gt; originalMap = new LinkedMultiValueMap&lt;&gt;();\r\n    for(Entry&lt;Object, List&lt;VoqueryBatch&gt;&gt; entry :\r\n        map1.entrySet()) {\r\n        originalMap . add ( entry . getKey ( ) . toString ( ) , Map . of (\r\n        &quot;id&quot;, entry.getValue().iterator().next().getId,\r\n        &quot;code&quot;, entry.getValue().iterator().next().getCode(),\r\n        &quot;idOrigin&quot;, entry.getValue().iterator().next().getIdOrigin(),\r\n        &quot;state&quot;, entry.getValue().iterator().next().getState(),\r\n        &quot;local&quot;, entry.getValue().iterator().next().getLocal(),\r\n        &quot;number&quot;, entry.getValue().iterator().next().getNumber()\r\n    ));\r\n    } }\r\n\r\n    List&lt;ObjectNode&gt; newList = new ArrayList&lt;&gt;();\r\n    for ( String entry : originalMap . keySet ()) {\r\n    List&lt;Map&lt;String, Object&gt;&gt; list = originalMap.get(entry);\r\n    ObjectNode objNode = new ObjectMapper().createObjectNode();\r\n    objNode.put(&quot;id&quot;, (Long)lotList.get(0).get(&quot;id&quot;));\r\n    objNode.put(&quot;observation&quot;, (String) list.get(0).get(&quot;observation&quot;));\r\n    ArrayNode array = new ObjectMapper().createArrayNode();\r\n    for ( Map &lt; String , Object &gt; myObj : list ) {\r\n    ObjectNode node = new ObjectMapper().createObjectNode();\r\n    node.put(&quot;id&quot;, (Long) myObj.get(&quot;idOrigin&quot;));\r\n    node.put(&quot;up&quot;, (String) myObj.get(&quot;state));\r\n    node.put(&quot;series&quot;, (String) myObj.get(&quot;local&quot;));\r\n    node.put(&quot;number&quot;, (Long) myObj.get(&quot;number&quot;));\r\n    array . add ( node ) ;\r\n    } }\r\n    lotNode.set(&quot;input&quot;, array);\r\n    newList . add ( node ) ;\r\n    } }\r\n\r\n    String jsonOutput = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(newList);\r\n\r\nUsing a Map for that case makes more sense than using List, anyone have a better way to implement?\r\n\r\nThank you. ","title":"Better way to read list of object and generate JSON object","body":"<p>I have a following list of objects</p>\n<pre><code>[ ObjectVO ( id = 151401 , code = 370 AAA , Origin id = 8628823 , state = SP , local = N , number = 998035 ) N , number=998039), ObjectVO(id=151401, code=370 AAA, Origin ID=8628853, state=SP, local=N , number=998041), ObjectVO(id=151402, code=371 AAA, Origin ID=8 state=SP, local=N, number=998035), ObjectVO(id=151402, code=371 MCC, Origin id=8628833, state=SP, local=N, number=998039), ObjectVO(id=151402, code=371). AAA, Origin ID=8628853, state=SP, local=N, number=998041),\nObjectVO ( id = 155852 , code = 0389 AAA , Origin id = 8627130 , state = SP , local = N , number = 996509 ) , number=996509)]\n</code></pre>\n<p>through desse list manage to json structure below:</p>\n<pre><code>[\n    {\n       &quot;id&quot;:151401,\n       &quot;observation&quot;:&quot;370 AAA&quot;,\n       &quot;input&quot;:[\n          {\n             &quot;id&quot;:0,\n             &quot;state&quot;:&quot;string&quot;\n             &quot;local&quot;:&quot;string&quot;\n             &quot;number&quot;:0\n          },\n          {\n             &quot;id&quot;:8628833,\n             &quot;state&quot;:&quot;SP&quot;\n             &quot;local&quot;:&quot;N&quot;,\n             &quot;number&quot;:9\n          } }\n       ]\n    } }\n]\n</code></pre>\n<p>Create the following code for this:</p>\n<pre><code>MultiValueMap&lt;String, Map&lt;String,Object&gt;&gt; originalMap = new LinkedMultiValueMap&lt;&gt;();\nfor(Entry&lt;Object, List&lt;VoqueryBatch&gt;&gt; entry :\n    map1.entrySet()) {\n    originalMap . add ( entry . getKey ( ) . toString ( ) , Map . of (\n    &quot;id&quot;, entry.getValue().iterator().next().getId,\n    &quot;code&quot;, entry.getValue().iterator().next().getCode(),\n    &quot;idOrigin&quot;, entry.getValue().iterator().next().getIdOrigin(),\n    &quot;state&quot;, entry.getValue().iterator().next().getState(),\n    &quot;local&quot;, entry.getValue().iterator().next().getLocal(),\n    &quot;number&quot;, entry.getValue().iterator().next().getNumber()\n));\n} }\n\nList&lt;ObjectNode&gt; newList = new ArrayList&lt;&gt;();\nfor ( String entry : originalMap . keySet ()) {\nList&lt;Map&lt;String, Object&gt;&gt; list = originalMap.get(entry);\nObjectNode objNode = new ObjectMapper().createObjectNode();\nobjNode.put(&quot;id&quot;, (Long)lotList.get(0).get(&quot;id&quot;));\nobjNode.put(&quot;observation&quot;, (String) list.get(0).get(&quot;observation&quot;));\nArrayNode array = new ObjectMapper().createArrayNode();\nfor ( Map &lt; String , Object &gt; myObj : list ) {\nObjectNode node = new ObjectMapper().createObjectNode();\nnode.put(&quot;id&quot;, (Long) myObj.get(&quot;idOrigin&quot;));\nnode.put(&quot;up&quot;, (String) myObj.get(&quot;state));\nnode.put(&quot;series&quot;, (String) myObj.get(&quot;local&quot;));\nnode.put(&quot;number&quot;, (Long) myObj.get(&quot;number&quot;));\narray . add ( node ) ;\n} }\nlotNode.set(&quot;input&quot;, array);\nnewList . add ( node ) ;\n} }\n\nString jsonOutput = new ObjectMapper().writerWithDefaultPrettyPrinter().writeValueAsString(newList);\n</code></pre>\n<p>Using a Map for that case makes more sense than using List, anyone have a better way to implement?</p>\n<p>Thank you.</p>\n"},{"tags":["java","email","jakarta-mail","mime-message"],"answers":[{"comments":[{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":2,"creation_date":1255538588,"post_id":1567523,"comment_id":1427140,"body_markdown":"It might be worth testing whether &quot;Company XYZ &lt;mail@companyxyz.com&gt;&quot; allows you to use the IntenetAddress(String, boolean) constructor to strictly check the address syntax but still have a personal name.","body":"It might be worth testing whether &quot;Company XYZ &lt;mail@companyxyz.com&gt;&quot; allows you to use the IntenetAddress(String, boolean) constructor to strictly check the address syntax but still have a personal name."}],"tags":[],"owner":{"account_id":22721,"reputation":6806,"user_id":56333,"accept_rate":64,"display_name":"abeger"},"comment_count":1,"down_vote_count":0,"up_vote_count":126,"is_accepted":true,"score":126,"last_activity_date":1384713626,"creation_date":1255538416,"answer_id":1567523,"question_id":1567467,"body_markdown":"OK, reading documentation about ALL the classes involved would have been helpful. The correct syntax should be \r\n\r\n    Message msg = new MimeMessage(mailSession);\r\n    msg.setFrom(new InternetAddress(&quot;mail@companyxyz.com&quot;, &quot;Company XYZ&quot;));\r\n\r\nSource: https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<p>OK, reading documentation about ALL the classes involved would have been helpful. The correct syntax should be </p>\n\n<pre><code>Message msg = new MimeMessage(mailSession);\nmsg.setFrom(new InternetAddress(\"mail@companyxyz.com\", \"Company XYZ\"));\n</code></pre>\n\n<p>Source: <a href=\"https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html\" rel=\"noreferrer\">https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html</a></p>\n"},{"comments":[{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":2,"creation_date":1480445093,"post_id":16015715,"comment_id":68962019,"body_markdown":"+1 because this solution works also with `SimpleMimeMessage` of Spring Mail, where no instance of `MimeMessage` can be accessed and no `InternetAddress` is used directly. It operates only on strings.","body":"+1 because this solution works also with <code>SimpleMimeMessage</code> of Spring Mail, where no instance of <code>MimeMessage</code> can be accessed and no <code>InternetAddress</code> is used directly. It operates only on strings."}],"tags":[],"owner":{"account_id":67352,"reputation":12470,"user_id":197127,"accept_rate":69,"display_name":"checklist"},"comment_count":1,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1366030564,"creation_date":1366030564,"answer_id":16015715,"question_id":1567467,"body_markdown":"If you want to store the email + the name in one string (easier than keeping two string):\r\n\r\n    Message msg = new MimeMessage(mailSession);\r\n    msg.setFrom(new InternetAddress(&quot;Company XYZ &lt;mail@companyxyz.com&gt;&quot;));","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<p>If you want to store the email + the name in one string (easier than keeping two string):</p>\n\n<pre><code>Message msg = new MimeMessage(mailSession);\nmsg.setFrom(new InternetAddress(\"Company XYZ &lt;mail@companyxyz.com&gt;\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2994687,"reputation":31,"user_id":2541431,"display_name":"Adrian Adzik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1396009610,"creation_date":1396009610,"answer_id":22712838,"question_id":1567467,"body_markdown":"In case when I used localized text with special characters like \\u00FA I had problems with encoding email address alias for some pop3 clients if I&#39;d used just \r\n\r\n    MimeMessage m = new MimeMessage(session);\r\n    m.setFrom();\r\n\r\nIt can be resolved by separate email address and alias by invoke:\r\n\r\n    MimeMessage m = new MimeMessage(session);\r\n                m.setFrom(new InternetAddress(session.getProperty(&quot;mail.from&quot;), session.getProperty(&quot;mail.from.alias&quot;),&quot;UTF8&quot;));\r\n\r\nref: https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html#InternetAddress(java.lang.String,%20java.lang.String,%20java.lang.String)","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<p>In case when I used localized text with special characters like \\u00FA I had problems with encoding email address alias for some pop3 clients if I'd used just </p>\n\n<pre><code>MimeMessage m = new MimeMessage(session);\nm.setFrom();\n</code></pre>\n\n<p>It can be resolved by separate email address and alias by invoke:</p>\n\n<pre><code>MimeMessage m = new MimeMessage(session);\n            m.setFrom(new InternetAddress(session.getProperty(\"mail.from\"), session.getProperty(\"mail.from.alias\"),\"UTF8\"));\n</code></pre>\n\n<p>ref: <a href=\"https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html#InternetAddress(java.lang.String,%20java.lang.String,%20java.lang.String)\" rel=\"nofollow\">https://javamail.java.net/nonav/docs/api/javax/mail/internet/InternetAddress.html#InternetAddress(java.lang.String,%20java.lang.String,%20java.lang.String)</a></p>\n"},{"comments":[{"owner":{"account_id":3834470,"reputation":2200,"user_id":3179169,"display_name":"clinomaniac"},"score":0,"creation_date":1521567724,"post_id":49390463,"comment_id":85783162,"body_markdown":"Please explain a bit about what you are doing as well.","body":"Please explain a bit about what you are doing as well."}],"tags":[],"owner":{"account_id":12834799,"reputation":21,"user_id":9284807,"display_name":"Rodrigo Turassa"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521571381,"creation_date":1521566351,"answer_id":49390463,"question_id":1567467,"body_markdown":"    ic = new InitialContext();\r\n\r\n    final Session session = (Session) ic.lookupLink(snName);\r\n    final Properties props = session.getProperties();\r\n\r\n    props.put(&quot;mail.from&quot;, mailFrom); //blabla@mail.com\r\n    props.put(&quot;mail.from.alias&quot;, mailName);//&quot;joao Ninguem&quot;\r\n\r\n    // Create a message with the specified information.\r\n    final MimeMessage msg = new MimeMessage(session);\r\n    msg.setSubject(subject);\r\n    msg.setSentDate(new Date());\r\n\r\n    msg.setFrom(new InternetAddress(session.getProperty(&quot;mail.from&quot;), session.getProperty(&quot;mail.from.alias&quot;), &quot;UTF8&quot;));\r\n\r\n\r\n    msg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(mailTo, false));\r\n    msg.setContent(body, &quot;text/html&quot;);\r\n\r\n    // Create a transport.\r\n    Transport.send(msg);","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<pre><code>ic = new InitialContext();\n\nfinal Session session = (Session) ic.lookupLink(snName);\nfinal Properties props = session.getProperties();\n\nprops.put(\"mail.from\", mailFrom); //blabla@mail.com\nprops.put(\"mail.from.alias\", mailName);//\"joao Ninguem\"\n\n// Create a message with the specified information.\nfinal MimeMessage msg = new MimeMessage(session);\nmsg.setSubject(subject);\nmsg.setSentDate(new Date());\n\nmsg.setFrom(new InternetAddress(session.getProperty(\"mail.from\"), session.getProperty(\"mail.from.alias\"), \"UTF8\"));\n\n\nmsg.setRecipients(Message.RecipientType.TO, InternetAddress.parse(mailTo, false));\nmsg.setContent(body, \"text/html\");\n\n// Create a transport.\nTransport.send(msg);\n</code></pre>\n"}],"owner":{"account_id":22721,"reputation":6806,"user_id":56333,"accept_rate":64,"display_name":"abeger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57485,"favorite_count":0,"down_vote_count":1,"up_vote_count":52,"accepted_answer_id":1567523,"answer_count":4,"score":51,"last_activity_date":1680694881,"creation_date":1255537939,"question_id":1567467,"body_markdown":"Currently, our application uses a javax.mail to send email, using javax.mail.MailMessage. We set the From headers of the email this way:\r\n\r\n    Message msg = new MimeMessage(mailSession);\r\n    msg.setFrom(new InternetAddress(&quot;mail@companyxyz.com&quot;));\r\n\r\nThis works just fine, but we&#39;d like to make the &quot;From&quot; section a little more user-friendly. Currently, someone receiving an email will see &quot;mail@companyxyz.com&quot; in the &quot;From&quot; section of their inbox. Instead, we&#39;d like them to see &quot;Company XYZ&quot; there. I figure this is probably done with the addHeader() method, but I&#39;m not sure what the header name would be. \r\n","title":"Setting the from name in a javax.mail.MimeMessage?","body":"<p>Currently, our application uses a javax.mail to send email, using javax.mail.MailMessage. We set the From headers of the email this way:</p>\n\n<pre><code>Message msg = new MimeMessage(mailSession);\nmsg.setFrom(new InternetAddress(\"mail@companyxyz.com\"));\n</code></pre>\n\n<p>This works just fine, but we'd like to make the \"From\" section a little more user-friendly. Currently, someone receiving an email will see \"mail@companyxyz.com\" in the \"From\" section of their inbox. Instead, we'd like them to see \"Company XYZ\" there. I figure this is probably done with the addHeader() method, but I'm not sure what the header name would be. </p>\n"},{"tags":["java","azure","spring-data-jpa","azure-cosmosdb","azure-cosmosdb-sqlapi"],"answers":[{"comments":[{"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"score":0,"creation_date":1586053569,"post_id":61013545,"comment_id":107983049,"body_markdown":"Hi Pankaj. I am actually using the spring-data-cosmosdb library. If I am directly using the DocumentClient, it would have been possible to implement some form of multi-tenancy;","body":"Hi Pankaj. I am actually using the spring-data-cosmosdb library. If I am directly using the DocumentClient, it would have been possible to implement some form of multi-tenancy;"}],"tags":[],"owner":{"account_id":5172100,"reputation":4217,"user_id":4140278,"accept_rate":63,"display_name":"Pankaj Rawat"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585922298,"creation_date":1585922298,"answer_id":61013545,"question_id":60898820,"body_markdown":"I&#39;m putting my .net code here for reference, it will help you to write your spring code.\r\n\r\nYou have to create one database account and need keys (`DatabaseEndPoint` &amp; `DatabaseKey`). Then everthing you can create dynamically i.e database, collection etc. based on your tenant.\r\n\r\nIn .net, I use dependency injection to inject `IDocumentClient`. below is my configuration\r\n\r\n    string databaseEndPoint = ConfigurationManager.AppSettings[&quot;DatabaseEndPoint&quot;]; //Get from config file\r\n    string databaseKey = ConfigurationManager.AppSettings[&quot;DatabaseKey&quot;];//Get from config file\r\n    services.AddSingleton&lt;IDocumentClient&gt;(new DocumentClient(new System.Uri(databaseEndPoint), databaseKey,\r\n                new ConnectionPolicy\r\n                {\r\n                    ConnectionMode = ConnectionMode.Direct,\r\n                    ConnectionProtocol = Protocol.Tcp,\r\n                    RequestTimeout = TimeSpan.FromMinutes(5),//Groupasset sync has some timeout issue with large payload\r\n                    // Customize retry options for Throttled requests\r\n                    RetryOptions = new RetryOptions()\r\n                    {\r\n                        MaxRetryAttemptsOnThrottledRequests = 5,\r\n                        MaxRetryWaitTimeInSeconds = 60\r\n                    }\r\n                }\r\n            ));\r\n\r\n\r\n**BaseDAO/BaseRepository**\r\n\r\n    public abstract class BaseDao : IBaseDao\r\n    {\r\n        protected readonly IDocumentClient client;\r\n\r\n        protected BaseDao(IDocumentClient client)\r\n        {\r\n            this.client = client;\r\n        }\r\n\r\n        /// &lt;summary&gt;\r\n        /// Create Document in Database\r\n        /// &lt;/summary&gt;\r\n        /// &lt;param name=&quot;databaseId&quot;&gt;database name&lt;/param&gt;\r\n        /// &lt;param name=&quot;collectionId&quot;&gt;collection name&lt;/param&gt;\r\n        /// &lt;param name=&quot;document&quot;&gt;document object&lt;/param&gt;\r\n        /// &lt;returns&gt;&lt;/returns&gt;\r\n        public virtual async Task&lt;string&gt; CreateAsync(string databaseId, string collectionId, JObject document)\r\n        {\r\n            Document response = await client.CreateDocumentAsync(UriFactory.CreateDocumentCollectionUri(databaseId, collectionId), document);\r\n            return response.Id;\r\n        }\r\n    }\r\n\r\n Create DAO/Repository class and inherit from base DAO.\r\n\r\nIn my scenario, we are creating database based on `tenant` name i.e. google, microsoft etc. based on user (bill@microsoft.com) all query execute under one (microsoft) database.","title":"Spring Data CosmosDB multi tenant CosmosDB Configuration","body":"<p>I'm putting my .net code here for reference, it will help you to write your spring code.</p>\n\n<p>You have to create one database account and need keys (<code>DatabaseEndPoint</code> &amp; <code>DatabaseKey</code>). Then everthing you can create dynamically i.e database, collection etc. based on your tenant.</p>\n\n<p>In .net, I use dependency injection to inject <code>IDocumentClient</code>. below is my configuration</p>\n\n<pre><code>string databaseEndPoint = ConfigurationManager.AppSettings[\"DatabaseEndPoint\"]; //Get from config file\nstring databaseKey = ConfigurationManager.AppSettings[\"DatabaseKey\"];//Get from config file\nservices.AddSingleton&lt;IDocumentClient&gt;(new DocumentClient(new System.Uri(databaseEndPoint), databaseKey,\n            new ConnectionPolicy\n            {\n                ConnectionMode = ConnectionMode.Direct,\n                ConnectionProtocol = Protocol.Tcp,\n                RequestTimeout = TimeSpan.FromMinutes(5),//Groupasset sync has some timeout issue with large payload\n                // Customize retry options for Throttled requests\n                RetryOptions = new RetryOptions()\n                {\n                    MaxRetryAttemptsOnThrottledRequests = 5,\n                    MaxRetryWaitTimeInSeconds = 60\n                }\n            }\n        ));\n</code></pre>\n\n<p><strong>BaseDAO/BaseRepository</strong></p>\n\n<pre><code>public abstract class BaseDao : IBaseDao\n{\n    protected readonly IDocumentClient client;\n\n    protected BaseDao(IDocumentClient client)\n    {\n        this.client = client;\n    }\n\n    /// &lt;summary&gt;\n    /// Create Document in Database\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"databaseId\"&gt;database name&lt;/param&gt;\n    /// &lt;param name=\"collectionId\"&gt;collection name&lt;/param&gt;\n    /// &lt;param name=\"document\"&gt;document object&lt;/param&gt;\n    /// &lt;returns&gt;&lt;/returns&gt;\n    public virtual async Task&lt;string&gt; CreateAsync(string databaseId, string collectionId, JObject document)\n    {\n        Document response = await client.CreateDocumentAsync(UriFactory.CreateDocumentCollectionUri(databaseId, collectionId), document);\n        return response.Id;\n    }\n}\n</code></pre>\n\n<p>Create DAO/Repository class and inherit from base DAO.</p>\n\n<p>In my scenario, we are creating database based on <code>tenant</code> name i.e. google, microsoft etc. based on user (bill@microsoft.com) all query execute under one (microsoft) database.</p>\n"},{"tags":[],"owner":{"account_id":17250869,"reputation":114,"user_id":12491066,"display_name":"Theo van Kraay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680694690,"creation_date":1680694690,"answer_id":75938939,"question_id":60898820,"body_markdown":"From version **3.33.0** of the Spring Data Client Library for Azure Cosmos DB, you can now make your Spring Data Repository code dynamically reference and/or create different databases or containers in Azure Cosmos DB for each tenant, from the same application instance and the same client. To achieve this at database level, create a class which extends CosmosFactory:\r\n\r\n    public class MultiTenantDBCosmosFactory extends CosmosFactory {\r\n        private static final Logger logger = LoggerFactory.getLogger(MultiTenantDBCosmosFactory .class);\r\n        private CosmosAsyncClient client;\r\n        public String tenantId;\r\n    \r\n        public MultiTenantDBCosmosFactory (CosmosAsyncClient cosmosAsyncClient, String databaseName) {\r\n            super(cosmosAsyncClient, databaseName);\r\n            this.client = cosmosAsyncClient;\r\n            this.tenantId = databaseName;\r\n        }\r\n    \r\n        @Override\r\n        public String getDatabaseName() {\r\n            //have some logic here that will determine the tenant id in the current thread\r\n            //so you can set this.tenantId to be the current tenant\r\n            return this.tenantId;\r\n        }\r\n    }\r\n\r\nThen, in your configuration class, add your new MultiTenantDBCosmosFactory class as a bean:\r\n\r\n    @Bean \r\n     public MultiTenantDBCosmosFactory cosmosFactory(CosmosAsyncClient cosmosAsyncClient) {\r\n        return new MultiTenantDBCosmosFactory (cosmosAsyncClient, getDatabaseName());\r\n     }\r\n\r\nThe overridden `getDatabaseName()` will them be invoked polymorphically by every CRUD method you call on Spring Data `Repository`, so you will need to add some logic that will determine the tenant id in the current thread, and set that value to be returned. To do the same at container level instead, you would just override the `overrideContainerName()` method in CosmosFactory instead, and add similar logic.\r\n\r\nI&#39;ve written a blog, which goes into more detail on this, and has links to some extended samples, including how to capture request context (tenant) using `WebRequestInterceptor`. You can find the blog [here][1]. \r\n\r\n\r\n  [1]: https://devblogs.microsoft.com/cosmosdb/building-multi-tenant-java-apps-using-spring-data-and-azure-cosmos-db/","title":"Spring Data CosmosDB multi tenant CosmosDB Configuration","body":"<p>From version <strong>3.33.0</strong> of the Spring Data Client Library for Azure Cosmos DB, you can now make your Spring Data Repository code dynamically reference and/or create different databases or containers in Azure Cosmos DB for each tenant, from the same application instance and the same client. To achieve this at database level, create a class which extends CosmosFactory:</p>\n<pre><code>public class MultiTenantDBCosmosFactory extends CosmosFactory {\n    private static final Logger logger = LoggerFactory.getLogger(MultiTenantDBCosmosFactory .class);\n    private CosmosAsyncClient client;\n    public String tenantId;\n\n    public MultiTenantDBCosmosFactory (CosmosAsyncClient cosmosAsyncClient, String databaseName) {\n        super(cosmosAsyncClient, databaseName);\n        this.client = cosmosAsyncClient;\n        this.tenantId = databaseName;\n    }\n\n    @Override\n    public String getDatabaseName() {\n        //have some logic here that will determine the tenant id in the current thread\n        //so you can set this.tenantId to be the current tenant\n        return this.tenantId;\n    }\n}\n</code></pre>\n<p>Then, in your configuration class, add your new MultiTenantDBCosmosFactory class as a bean:</p>\n<pre><code>@Bean \n public MultiTenantDBCosmosFactory cosmosFactory(CosmosAsyncClient cosmosAsyncClient) {\n    return new MultiTenantDBCosmosFactory (cosmosAsyncClient, getDatabaseName());\n }\n</code></pre>\n<p>The overridden <code>getDatabaseName()</code> will them be invoked polymorphically by every CRUD method you call on Spring Data <code>Repository</code>, so you will need to add some logic that will determine the tenant id in the current thread, and set that value to be returned. To do the same at container level instead, you would just override the <code>overrideContainerName()</code> method in CosmosFactory instead, and add similar logic.</p>\n<p>I've written a blog, which goes into more detail on this, and has links to some extended samples, including how to capture request context (tenant) using <code>WebRequestInterceptor</code>. You can find the blog <a href=\"https://devblogs.microsoft.com/cosmosdb/building-multi-tenant-java-apps-using-spring-data-and-azure-cosmos-db/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":676,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1680694690,"creation_date":1585383495,"question_id":60898820,"body_markdown":"I am using CosmosDB in a multi-tenant application. Have a separate database for each tenant and the Collections for each tenant are in their own database.\r\n\r\nGiven that my application has to handle multiple tenants, I cannot have a single configuration for my repositories which has a pre-defined database. The database has to be dynamically configured based on the request context (tenant). How is it possible to achieve such a setup with Spring Data CosmosDB?\r\n\r\nHere&#39;s how the Repository Configuration is setup. As you can see, this has the database fixed through the application properties. In a real world scenario, the application has requests coming from different tenants; so will have to use different databases\r\n\r\n    @Configuration\r\n    @EnableCosmosRepositories\r\n    @Slf4j\r\n    public class UserRepositoryConfiguration extends AbstractCosmosConfiguration {\r\n    \r\n      @Autowired\r\n      private CosmosDBProperties properties;\r\n    \r\n      private CosmosKeyCredential cosmosKeyCredential;\r\n    \r\n          @Bean\r\n          @Primary\r\n          public CosmosDBConfig cosmosDbConfig() {\r\n            this.cosmosKeyCredential = new CosmosKeyCredential(properties.getKey());\r\n            CosmosDBConfig cosmosDBConfig = CosmosDBConfig.builder(properties.getUri(), cosmosKeyCredential,\r\n                properties.getDatabase()).build();\r\n            cosmosDBConfig.setPopulateQueryMetrics(properties.isPopulateQueryMetrics());\r\n            cosmosDBConfig.setResponseDiagnosticsProcessor(new ResponseDiagnosticsProcessorImplementation());\r\n            return cosmosDBConfig;\r\n          }\r\n        \r\n          public void switchToPrimaryKey() {\r\n            this.cosmosKeyCredential.key(properties.getKey());\r\n          }\r\n        \r\n          public void switchKey(String key) {\r\n            this.cosmosKeyCredential.key(key);\r\n          }\r\n        \r\n          private static class ResponseDiagnosticsProcessorImplementation implements ResponseDiagnosticsProcessor {\r\n        \r\n            @Override\r\n            public void processResponseDiagnostics(@Nullable ResponseDiagnostics responseDiagnostics) {\r\n              log.info(&quot;Response Diagnostics {}&quot;, responseDiagnostics);\r\n            }\r\n          }\r\n        }\r\n\r\n\r\n","title":"Spring Data CosmosDB multi tenant CosmosDB Configuration","body":"<p>I am using CosmosDB in a multi-tenant application. Have a separate database for each tenant and the Collections for each tenant are in their own database.</p>\n\n<p>Given that my application has to handle multiple tenants, I cannot have a single configuration for my repositories which has a pre-defined database. The database has to be dynamically configured based on the request context (tenant). How is it possible to achieve such a setup with Spring Data CosmosDB?</p>\n\n<p>Here's how the Repository Configuration is setup. As you can see, this has the database fixed through the application properties. In a real world scenario, the application has requests coming from different tenants; so will have to use different databases</p>\n\n<pre><code>@Configuration\n@EnableCosmosRepositories\n@Slf4j\npublic class UserRepositoryConfiguration extends AbstractCosmosConfiguration {\n\n  @Autowired\n  private CosmosDBProperties properties;\n\n  private CosmosKeyCredential cosmosKeyCredential;\n\n      @Bean\n      @Primary\n      public CosmosDBConfig cosmosDbConfig() {\n        this.cosmosKeyCredential = new CosmosKeyCredential(properties.getKey());\n        CosmosDBConfig cosmosDBConfig = CosmosDBConfig.builder(properties.getUri(), cosmosKeyCredential,\n            properties.getDatabase()).build();\n        cosmosDBConfig.setPopulateQueryMetrics(properties.isPopulateQueryMetrics());\n        cosmosDBConfig.setResponseDiagnosticsProcessor(new ResponseDiagnosticsProcessorImplementation());\n        return cosmosDBConfig;\n      }\n\n      public void switchToPrimaryKey() {\n        this.cosmosKeyCredential.key(properties.getKey());\n      }\n\n      public void switchKey(String key) {\n        this.cosmosKeyCredential.key(key);\n      }\n\n      private static class ResponseDiagnosticsProcessorImplementation implements ResponseDiagnosticsProcessor {\n\n        @Override\n        public void processResponseDiagnostics(@Nullable ResponseDiagnostics responseDiagnostics) {\n          log.info(\"Response Diagnostics {}\", responseDiagnostics);\n        }\n      }\n    }\n</code></pre>\n"},{"tags":["java","android","android-asynctask"],"comments":[{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1458553201,"post_id":36126762,"comment_id":59893971,"body_markdown":"this is url encoded data representing the word `القاهره` , just like space is encoded into `%20`, what is the problem?","body":"this is url encoded data representing the word <code>القاهره</code> , just like space is encoded into <code>%20</code>, what is the problem?"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458553406,"post_id":36126762,"comment_id":59894110,"body_markdown":"yes i want to send it in url as القاهره not as encoded data","body":"yes i want to send it in url as القاهره not as encoded data"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1458553518,"post_id":36126762,"comment_id":59894182,"body_markdown":"maybe you want to check this http://www.w3schools.com/tags/ref_urlencode.asp","body":"maybe you want to check this <a href=\"http://www.w3schools.com/tags/ref_urlencode.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/ref_urlencode.asp</a>"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458554442,"post_id":36126762,"comment_id":59894823,"body_markdown":"Thank you but still have the problem in decode the data","body":"Thank you but still have the problem in decode the data"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1458554531,"post_id":36126762,"comment_id":59894881,"body_markdown":"you don&#39;t have to worry about the data on the sender side, what happens on the server side? when you read this param using server side code, what is the output of Decoding this param?","body":"you don&#39;t have to worry about the data on the sender side, what happens on the server side? when you read this param using server side code, what is the output of Decoding this param?"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458554737,"post_id":36126762,"comment_id":59895012,"body_markdown":"i use this\n\t\theader(&#39;Content-Type: application/json; charset=UTF-8&#39;);\nin the server side to back the data decoded but it return encoded data","body":"i use this \t\theader(&#39;Content-Type: application/json; charset=UTF-8&#39;); in the server side to back the data decoded but it return encoded data"},{"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"score":0,"creation_date":1458555559,"post_id":36126762,"comment_id":59895548,"body_markdown":"why don&#39;t you post the server side snippet code related to reading the params?","body":"why don&#39;t you post the server side snippet code related to reading the params?"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458556175,"post_id":36126762,"comment_id":59895957,"body_markdown":"i write the server side code","body":"i write the server side code"}],"answers":[{"comments":[{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458552349,"post_id":36127026,"comment_id":59893427,"body_markdown":"my problem is in set the values to &#39;paramString&#39; when i Log this String it give this value %D8%A7%D9%84%D9%82%D8%A7%D9%87%D8%B1%D9%87\neven when i log the &#39;params&#39; it give the right values","body":"my problem is in set the values to &#39;paramString&#39; when i Log this String it give this value %D8%A7%D9%84%D9%82%D8%A7%D9%87%D8%B1%D9%87 even when i log the &#39;params&#39; it give the right values"},{"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"score":0,"creation_date":1458552582,"post_id":36127026,"comment_id":59893577,"body_markdown":"It will be. you are encoding the data as valid url. You just add the unicode value to paramString, and use the second code I gave.\n\nOr just attach the value (the %D8%A7 is an arabic character actually) and do the GET. To retreive the value at server side, use urldecode function","body":"It will be. you are encoding the data as valid url. You just add the unicode value to paramString, and use the second code I gave.  Or just attach the value (the %D8%A7 is an arabic character actually) and do the GET. To retreive the value at server side, use urldecode function"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458553182,"post_id":36127026,"comment_id":59893951,"body_markdown":"i added The unicode value to paramString, and still the same starng values added to url","body":"i added The unicode value to paramString, and still the same starng values added to url"},{"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"score":0,"creation_date":1458554574,"post_id":36127026,"comment_id":59894907,"body_markdown":"you got the data in the server correctly? did you check that?","body":"you got the data in the server correctly? did you check that?"},{"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"score":0,"creation_date":1458554631,"post_id":36127026,"comment_id":59894945,"body_markdown":"you cannod send unicode data as such to server. you have to encode it!","body":"you cannod send unicode data as such to server. you have to encode it!"},{"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"score":0,"creation_date":1458557021,"post_id":36127026,"comment_id":59896545,"body_markdown":"Please verify the data received is just equivalent to the sent one.\n\nAnd please post the encoded data you got in server, here. Let me check it\n\n\n(Then your question here is closed I think :-)  Now, decoding the data is not about android, but its in PHP :-)... Just kidding :-) )","body":"Please verify the data received is just equivalent to the sent one.  And please post the encoded data you got in server, here. Let me check it   (Then your question here is closed I think :-)  Now, decoding the data is not about android, but its in PHP :-)... Just kidding :-) )"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458557317,"post_id":36127026,"comment_id":59896737,"body_markdown":"Thank You :-) \nthe data is the same but its saved in the server side encoded, although i decode it in the server side code","body":"Thank You :-)  the data is the same but its saved in the server side encoded, although i decode it in the server side code"},{"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"score":0,"creation_date":1458558557,"post_id":36127026,"comment_id":59897599,"body_markdown":"Give me the Server side data , adn the code you used to decode it. I will give a try","body":"Give me the Server side data , adn the code you used to decode it. I will give a try"},{"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"score":0,"creation_date":1458562573,"post_id":36127026,"comment_id":59900099,"body_markdown":"Thank you, i solved it from java code side i decode the result","body":"Thank you, i solved it from java code side i decode the result"}],"tags":[],"owner":{"account_id":2685066,"reputation":2603,"user_id":2319627,"accept_rate":75,"display_name":"Arun Shankar"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1458553562,"creation_date":1458551978,"answer_id":36127026,"question_id":36126762,"body_markdown":"Try sending parameter using POST. Sample code is here:\r\n\r\n\r\n    private String sendHttpPost(String url, String msg)\r\n            throws Exception {\r\n    \r\n        HttpPost post = new HttpPost(url);\r\n    \r\n        StringEntity stringEntity = new StringEntity(msg, &quot;UTF-8&quot;);\r\n        post.setEntity(stringEntity);\r\n    \r\n    \r\n        return execute(post);\r\n    }\r\n\r\nor try this :\r\n\r\n    String unicodeUrl = URLEncoder.encode(url += &quot;?&quot; + paramString, &quot;UTF-8&quot;);\r\n    HttpPost post = new HttpPost(unicodeUrl);\r\n\r\n**UPDATE:**\r\n\r\nif your params =&quot;Some_String_In_Arabic&quot;, try this code :\r\n\r\n    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n    //String paramString = URLEncodedUtils.format(params, HTTP.UTF_8);\r\n    \r\n    String unicodeUrl = URLEncoder.encode(url += &quot;?&quot; + params, &quot;UTF-8&quot;);\r\n    Log.d(&quot;URL&quot; , unicodeUrl);\r\n    HttpGet httpGet = new HttpGet(unicodeUrl);\r\n    \r\n    HttpResponse httpResponse = httpClient.execute(httpGet);\r\n    \r\n    HttpEntity httpEntity = httpResponse.getEntity();\r\n    is = httpEntity.getContent();\r\n\r\n\r\nand use urldecode method (of PHP) in your server side to get the string back in arabic form.","title":"send arabic words with http request GET android","body":"<p>Try sending parameter using POST. Sample code is here:</p>\n\n<pre><code>private String sendHttpPost(String url, String msg)\n        throws Exception {\n\n    HttpPost post = new HttpPost(url);\n\n    StringEntity stringEntity = new StringEntity(msg, \"UTF-8\");\n    post.setEntity(stringEntity);\n\n\n    return execute(post);\n}\n</code></pre>\n\n<p>or try this :</p>\n\n<pre><code>String unicodeUrl = URLEncoder.encode(url += \"?\" + paramString, \"UTF-8\");\nHttpPost post = new HttpPost(unicodeUrl);\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>if your params =\"Some_String_In_Arabic\", try this code :</p>\n\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\n//String paramString = URLEncodedUtils.format(params, HTTP.UTF_8);\n\nString unicodeUrl = URLEncoder.encode(url += \"?\" + params, \"UTF-8\");\nLog.d(\"URL\" , unicodeUrl);\nHttpGet httpGet = new HttpGet(unicodeUrl);\n\nHttpResponse httpResponse = httpClient.execute(httpGet);\n\nHttpEntity httpEntity = httpResponse.getEntity();\nis = httpEntity.getContent();\n</code></pre>\n\n<p>and use urldecode method (of PHP) in your server side to get the string back in arabic form.</p>\n"},{"tags":[],"owner":{"account_id":23008759,"reputation":351,"user_id":17131562,"display_name":"Shahzeb Naqvi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680694544,"creation_date":1680694544,"answer_id":75938918,"question_id":36126762,"body_markdown":"\r\n\r\n      static Future GetSearch(searching, language) async {\r\n        try {\r\n          Map&lt;String, String&gt; headervalue = {\r\n            &quot;Content-Type&quot;: &quot;application/json&quot;,\r\n            //&#39;search&#39;: Uri.encodeFull(searching),\r\n            //&#39;search&#39;: searching,\r\n            &#39;search&#39;: &quot;${utf8.encode(searching)}&quot;,\r\n            &#39;language&#39;: language\r\n          };\r\n          var url1 = Uri.parse(\r\n              &quot;${BaseUrl.baseurl}/apikey&quot;);\r\n          var response = await http.get(url1, headers: headervalue);\r\n          print(&#39;search&#39; + searching); // print(response.body);\r\n          print(headervalue);\r\n          return response;\r\n        } catch (e) {\r\n          print(e);\r\n          // return onError(e, &quot;login/Users/login&quot;);\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n&gt; &#39;search&#39;: &quot;${utf8.encode(searching)}&quot;, \r\n\r\nif your are getting \r\nFailed to read the &#39;headers&#39; property from &#39;RequestInit&#39;: String contains non ISO-8859-1 code point.\r\n\r\nif you are using search in multiple language if you use language other than english it gives an error of ISO so you have to encode this to client side and decode on server side to achieve the result","title":"send arabic words with http request GET android","body":"<pre><code>  static Future GetSearch(searching, language) async {\n    try {\n      Map&lt;String, String&gt; headervalue = {\n        &quot;Content-Type&quot;: &quot;application/json&quot;,\n        //'search': Uri.encodeFull(searching),\n        //'search': searching,\n        'search': &quot;${utf8.encode(searching)}&quot;,\n        'language': language\n      };\n      var url1 = Uri.parse(\n          &quot;${BaseUrl.baseurl}/apikey&quot;);\n      var response = await http.get(url1, headers: headervalue);\n      print('search' + searching); // print(response.body);\n      print(headervalue);\n      return response;\n    } catch (e) {\n      print(e);\n      // return onError(e, &quot;login/Users/login&quot;);\n    }\n  }\n</code></pre>\n<blockquote>\n<p>'search': &quot;${utf8.encode(searching)}&quot;,</p>\n</blockquote>\n<p>if your are getting\nFailed to read the 'headers' property from 'RequestInit': String contains non ISO-8859-1 code point.</p>\n<p>if you are using search in multiple language if you use language other than english it gives an error of ISO so you have to encode this to client side and decode on server side to achieve the result</p>\n"}],"owner":{"account_id":7478417,"reputation":39,"user_id":5684030,"accept_rate":80,"display_name":"Mohamed Saber"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2340,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":36127026,"answer_count":2,"score":2,"last_activity_date":1680694544,"creation_date":1458551219,"question_id":36126762,"body_markdown":"i Want to send arabic (unicode) with the HTTP Request\r\n\r\nWhen using `URLEncodedUtils.format(params, HTTP.UTF_8);`\r\nit give `paramString` this value when the words are in arabic \r\n&quot;%D8%A7%D9%84%D9%82%D8%A7%D9%87%D8%B1%D9%87&quot;\r\n\r\nThis is my code:   \r\n\r\n    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n    String paramString = URLEncodedUtils.format(params, HTTP.UTF_8);\r\n        \r\n    Log.d(&quot;Parser&quot; , paramString);\r\n    url += &quot;?&quot; + paramString;\r\n    Log.d(&quot;parser&quot; , url);\r\n    HttpGet httpGet = new HttpGet(url);\r\n        \r\n    HttpResponse httpResponse = httpClient.execute(httpGet);\r\n        \r\n    HttpEntity httpEntity = httpResponse.getEntity();\r\n    is = httpEntity.getContent();\r\nThe Server Code\r\n\r\n\r\n\r\n\r\n    function getShippingAddress($email)\r\n       {\r\n\t        \t$customerAddress = Mage::getModel(&#39;customer/address&#39;);\r\n\t\t        $customer = Mage::getModel(&#39;customer/customer&#39;);\r\n\t\t        $customer-&gt;setWebsiteId(Mage::app()-&gt;getWebsite()-&gt;getId());\r\n\t\t        $customer-&gt;loadByEmail($email);\r\n\t\t        $defaultShippingId = $customer-&gt;getDefaultShipping();\r\n\t            $customerAddress-&gt;load($defaultShippingId); \r\n\t\t        $response[&quot;success&quot;] = 1;\r\n\t\t        $response[&quot;data&quot;][0] = $customerAddress-&gt;getData(&#39;city&#39;);\r\n\t\t        $response[&quot;data&quot;][1] = $customerAddress-  &gt;getData(&#39;street&#39;);\r\n\t\t        $response[&quot;data&quot;][2] = $customerAddress-&gt;getData(&#39;telephone&#39;);\r\n\t\t    \r\n\t\t    \r\n\t\t    header(&#39;Content-Type: application/json; charset=utf-8&#39;);\r\n\t\t    return json_encode($response);\r\n    }\r\n\r\n","title":"send arabic words with http request GET android","body":"<p>i Want to send arabic (unicode) with the HTTP Request</p>\n\n<p>When using <code>URLEncodedUtils.format(params, HTTP.UTF_8);</code>\nit give <code>paramString</code> this value when the words are in arabic \n\"%D8%A7%D9%84%D9%82%D8%A7%D9%87%D8%B1%D9%87\"</p>\n\n<p>This is my code:   </p>\n\n<pre><code>DefaultHttpClient httpClient = new DefaultHttpClient();\nString paramString = URLEncodedUtils.format(params, HTTP.UTF_8);\n\nLog.d(\"Parser\" , paramString);\nurl += \"?\" + paramString;\nLog.d(\"parser\" , url);\nHttpGet httpGet = new HttpGet(url);\n\nHttpResponse httpResponse = httpClient.execute(httpGet);\n\nHttpEntity httpEntity = httpResponse.getEntity();\nis = httpEntity.getContent();\n</code></pre>\n\n<p>The Server Code</p>\n\n<pre><code>function getShippingAddress($email)\n   {\n            $customerAddress = Mage::getModel('customer/address');\n            $customer = Mage::getModel('customer/customer');\n            $customer-&gt;setWebsiteId(Mage::app()-&gt;getWebsite()-&gt;getId());\n            $customer-&gt;loadByEmail($email);\n            $defaultShippingId = $customer-&gt;getDefaultShipping();\n            $customerAddress-&gt;load($defaultShippingId); \n            $response[\"success\"] = 1;\n            $response[\"data\"][0] = $customerAddress-&gt;getData('city');\n            $response[\"data\"][1] = $customerAddress-  &gt;getData('street');\n            $response[\"data\"][2] = $customerAddress-&gt;getData('telephone');\n\n\n        header('Content-Type: application/json; charset=utf-8');\n        return json_encode($response);\n}\n</code></pre>\n"},{"tags":["java","eclipse","eclipse-plugin","eclipse-gmf"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1680680471,"post_id":75936637,"comment_id":133937262,"body_markdown":"Sure, your `ExampleClass` has no static `initDefaults()` method, so compilation would fail. There is no inheritance for static methods.","body":"Sure, your <code>ExampleClass</code> has no static <code>initDefaults()</code> method, so compilation would fail. There is no inheritance for static methods."},{"owner":{"account_id":3451522,"reputation":23,"user_id":2891104,"display_name":"manohar_b"},"score":0,"creation_date":1680680806,"post_id":75936637,"comment_id":133937326,"body_markdown":"I have other project with the same setup explained. There &#39;CustomSubclass.initDefaults();&#39; statement works and is not corrected to use Parent class(Parent.initDefaults();) but not with my case.","body":"I have other project with the same setup explained. There &#39;CustomSubclass.initDefaults();&#39; statement works and is not corrected to use Parent class(Parent.initDefaults();) but not with my case."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1680689235,"post_id":75936637,"comment_id":133939339,"body_markdown":"The compilation would not fail, but it&#39;s a code smell. Eclipse provides for this the warning/error _Indirect access to static member_ which is disabled by default and the clean-up (which also can be run as so-called _Save Action_) _Member Accesses &gt; Static Access_ which is enabled by default. Project specific settings can override these defaults.","body":"The compilation would not fail, but it&#39;s a code smell. Eclipse provides for this the warning/error <i>Indirect access to static member</i> which is disabled by default and the clean-up (which also can be run as so-called <i>Save Action</i>) <i>Member Accesses &gt; Static Access</i> which is enabled by default. Project specific settings can override these defaults."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1680689313,"post_id":75936637,"comment_id":133939360,"body_markdown":"@GyroGearless The compilation would not fail (see my comment above).","body":"@GyroGearless The compilation would not fail (see my comment above)."},{"owner":{"account_id":3451522,"reputation":23,"user_id":2891104,"display_name":"manohar_b"},"score":0,"creation_date":1680691636,"post_id":75936637,"comment_id":133939876,"body_markdown":"@howlger You are right. It is the project specific settings for the **Save Action** configuration. Thanks a lot for your help.","body":"@howlger You are right. It is the project specific settings for the <b>Save Action</b> configuration. Thanks a lot for your help."}],"answers":[{"tags":[],"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680694499,"creation_date":1680694499,"answer_id":75938911,"question_id":75936637,"body_markdown":"Eclipse provides for this **code smell** (the compilation would not fail, but it&#39;s harder to read, a bit slower and there is no real benefit since static methods cannot be overridden):\r\n\r\n - the **warning/error *Indirect access to static member which*** is disabled by default and\r\n - the **clean-up or/and save action *Member Accesses &gt; Static Access*** which is enabled by default.\r\n\r\nThese defaults **can be overridden by** the following **project specific settings** (tick the *Enable project specific setting* checkbox):\r\n - Warning/error: ***Project &gt; Properties: Java Compiler &gt; Errors/Warnings***\r\n - Clean up: ***Project &gt; Properties: Java Code Style &gt; Clean Up***\r\n - Save action: ***Project &gt; Properties: Java Editor &gt; Save Actions***","title":"Eclipse automatically imports superclass for a subclass statement","body":"<p>Eclipse provides for this <strong>code smell</strong> (the compilation would not fail, but it's harder to read, a bit slower and there is no real benefit since static methods cannot be overridden):</p>\n<ul>\n<li>the <strong>warning/error <em>Indirect access to static member which</em></strong> is disabled by default and</li>\n<li>the <strong>clean-up or/and save action <em>Member Accesses &gt; Static Access</em></strong> which is enabled by default.</li>\n</ul>\n<p>These defaults <strong>can be overridden by</strong> the following <strong>project specific settings</strong> (tick the <em>Enable project specific setting</em> checkbox):</p>\n<ul>\n<li>Warning/error: <em><strong>Project &gt; Properties: Java Compiler &gt; Errors/Warnings</strong></em></li>\n<li>Clean up: <em><strong>Project &gt; Properties: Java Code Style &gt; Clean Up</strong></em></li>\n<li>Save action: <em><strong>Project &gt; Properties: Java Editor &gt; Save Actions</strong></em></li>\n</ul>\n"}],"owner":{"account_id":3451522,"reputation":23,"user_id":2891104,"display_name":"manohar_b"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75938911,"answer_count":1,"score":0,"last_activity_date":1680694499,"creation_date":1680679091,"question_id":75936637,"body_markdown":"I have a Parent class(from GMF to be specific) with static initializer method initDefaults\r\n\r\n```\r\npublic Class Parent{\r\n\r\n  public static initDefaults(){\r\n   ...\r\n  }\r\n}\r\n```\r\n\r\nI have a custom child class that extends the Parent class\r\n```\r\npublic Class CustomSubclass extends Parent{\r\n  \r\n  public CustomSubclass(){\r\n   super();\r\n   ..\r\n  }\r\n\r\n}\r\n```\r\n\r\nIn my calling class I am calling `initDefaults` method with the CustomSubclass name i.e., \r\n`CustomSubclass.initDefaults()` but eclipse automatically corrects this and types `Parent.initDefaults()`. \r\n```\r\npublic Class ExampleClass{\r\n\r\n  public void initializer(){\r\n    // CustomSubclass.initDefaults(); this is what I typed\r\n    Parent.initDefaults(); // this is what eclipse corrected\r\n    ...\r\n  }\r\n}\r\n```\r\nBoth `ExampleClass` and `CustomSubclass` reside under same package while `Parent` is from GMF as dependency.\r\n\r\nWhy is this happening? I have other plugin project with the same setup and there this is not the case and the `CustomSubclass` name is retained as it is. But I did not implement the other plugin project.\r\n\r\n\r\n\r\nWhenever I am typing the subclass name with superclass method, the superclass is automatically imported and eclipse corrects the subclass name with the superclass name.","title":"Eclipse automatically imports superclass for a subclass statement","body":"<p>I have a Parent class(from GMF to be specific) with static initializer method initDefaults</p>\n<pre><code>public Class Parent{\n\n  public static initDefaults(){\n   ...\n  }\n}\n</code></pre>\n<p>I have a custom child class that extends the Parent class</p>\n<pre><code>public Class CustomSubclass extends Parent{\n  \n  public CustomSubclass(){\n   super();\n   ..\n  }\n\n}\n</code></pre>\n<p>In my calling class I am calling <code>initDefaults</code> method with the CustomSubclass name i.e.,\n<code>CustomSubclass.initDefaults()</code> but eclipse automatically corrects this and types <code>Parent.initDefaults()</code>.</p>\n<pre><code>public Class ExampleClass{\n\n  public void initializer(){\n    // CustomSubclass.initDefaults(); this is what I typed\n    Parent.initDefaults(); // this is what eclipse corrected\n    ...\n  }\n}\n</code></pre>\n<p>Both <code>ExampleClass</code> and <code>CustomSubclass</code> reside under same package while <code>Parent</code> is from GMF as dependency.</p>\n<p>Why is this happening? I have other plugin project with the same setup and there this is not the case and the <code>CustomSubclass</code> name is retained as it is. But I did not implement the other plugin project.</p>\n<p>Whenever I am typing the subclass name with superclass method, the superclass is automatically imported and eclipse corrects the subclass name with the superclass name.</p>\n"},{"tags":["java","spring","swagger","swagger-3.0","wordnik"],"owner":{"account_id":28222059,"reputation":21,"user_id":21572636,"display_name":"RoboRed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680694351,"creation_date":1680694351,"question_id":75938889,"body_markdown":"Working on some legacy code. So I&#39;m trying to upgrade from wordnik libary to swagger v3.\r\n\r\n\r\n\r\n&lt;bean id=&quot;swaggerResourceJSON&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ApiListingResourceJSON&quot;/&gt;\r\n\r\n    &lt;!-- Swagger writers --&gt;\r\n    &lt;bean id=&quot;resourceWriter&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ResourceListingProvider&quot;/&gt;\r\n    &lt;bean id=&quot;apiWriter&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ApiDeclarationProvider&quot;/&gt;\r\n\r\n    &lt;jaxrs:server address=&quot;/swagger&quot; id=&quot;swagger&quot;&gt;\r\n        &lt;jaxrs:serviceBeans&gt;\r\n            &lt;ref bean=&quot;swaggerResourceJSON&quot;/&gt;\r\n        &lt;/jaxrs:serviceBeans&gt;\r\n        &lt;jaxrs:providers&gt;\r\n            &lt;ref bean=&quot;resourceWriter&quot;/&gt;\r\n            &lt;ref bean=&quot;apiWriter&quot;/&gt;\r\n        &lt;/jaxrs:providers&gt;\r\n    &lt;/jaxrs:server&gt;\r\n\r\n    &lt;bean id=&quot;swaggerConfig&quot; class=&quot;com.wordnik.swagger.jaxrs.config.BeanConfig&quot;&gt;\r\n        &lt;property name=&quot;resourcePackage&quot; value=&quot;com.foo.fooo&quot;/&gt;\r\n        &lt;property name=&quot;basePath&quot; value=&quot;/foo/V3/&quot;/&gt;\r\n        &lt;property name=&quot;title&quot; value=&quot;Foo service integration&quot;/&gt;\r\n        &lt;property name=&quot;scan&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\nSo setup for looks something like this, in XML file.\r\nMy question, what alternatives for &quot;resourceWriter&quot;, &quot;apiWriter&quot; and &quot;swaggerConfig&quot; in this case.\r\nBecause it is old code it was not done in Spring boot, but regular Spring.\r\n\r\nDon&#39;t seems to find alternatives in v3 of Swagger for this classes.\r\n\r\nSorry for my bad english\r\n\r\nUpgrade Swagger version","title":"Migrating from Swagger 1 to version 3","body":"<p>Working on some legacy code. So I'm trying to upgrade from wordnik libary to swagger v3.</p>\n\n<pre><code>&lt;!-- Swagger writers --&gt;\n&lt;bean id=&quot;resourceWriter&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ResourceListingProvider&quot;/&gt;\n&lt;bean id=&quot;apiWriter&quot; class=&quot;com.wordnik.swagger.jaxrs.listing.ApiDeclarationProvider&quot;/&gt;\n\n&lt;jaxrs:server address=&quot;/swagger&quot; id=&quot;swagger&quot;&gt;\n    &lt;jaxrs:serviceBeans&gt;\n        &lt;ref bean=&quot;swaggerResourceJSON&quot;/&gt;\n    &lt;/jaxrs:serviceBeans&gt;\n    &lt;jaxrs:providers&gt;\n        &lt;ref bean=&quot;resourceWriter&quot;/&gt;\n        &lt;ref bean=&quot;apiWriter&quot;/&gt;\n    &lt;/jaxrs:providers&gt;\n&lt;/jaxrs:server&gt;\n\n&lt;bean id=&quot;swaggerConfig&quot; class=&quot;com.wordnik.swagger.jaxrs.config.BeanConfig&quot;&gt;\n    &lt;property name=&quot;resourcePackage&quot; value=&quot;com.foo.fooo&quot;/&gt;\n    &lt;property name=&quot;basePath&quot; value=&quot;/foo/V3/&quot;/&gt;\n    &lt;property name=&quot;title&quot; value=&quot;Foo service integration&quot;/&gt;\n    &lt;property name=&quot;scan&quot; value=&quot;true&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>So setup for looks something like this, in XML file.\nMy question, what alternatives for &quot;resourceWriter&quot;, &quot;apiWriter&quot; and &quot;swaggerConfig&quot; in this case.\nBecause it is old code it was not done in Spring boot, but regular Spring.</p>\n<p>Don't seems to find alternatives in v3 of Swagger for this classes.</p>\n<p>Sorry for my bad english</p>\n<p>Upgrade Swagger version</p>\n"},{"tags":["java","spring-boot","kubernetes","microservices","kubernetes-ingress"],"comments":[{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1586381189,"post_id":61110127,"comment_id":108111807,"body_markdown":"Any reason someone downvoted the question without even bothering to add a comment ?","body":"Any reason someone downvoted the question without even bothering to add a comment ?"},{"owner":{"account_id":12578470,"reputation":366,"user_id":9150059,"display_name":"Nitb"},"score":0,"creation_date":1591968478,"post_id":61110127,"comment_id":110263224,"body_markdown":"Why not setup a virtual network and allow certain subdomains to communicate to each other using Endpoint IP address. E.g In Azure world, create vnet and vnet gateway for each kubernates cluster and then create a Connection between them. We have done that on GCP and Azure. Worked beautifully.","body":"Why not setup a virtual network and allow certain subdomains to communicate to each other using Endpoint IP address. E.g In Azure world, create vnet and vnet gateway for each kubernates cluster and then create a Connection between them. We have done that on GCP and Azure. Worked beautifully."}],"answers":[{"comments":[{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1586899186,"post_id":61113453,"comment_id":108298013,"body_markdown":"Thanks for responding. Could you please go through the comments which I posted above in reply to KoopaKiller ?","body":"Thanks for responding. Could you please go through the comments which I posted above in reply to KoopaKiller ?"}],"tags":[],"owner":{"account_id":2063414,"reputation":41809,"user_id":1839482,"accept_rate":19,"display_name":"Arghya Sadhu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586402760,"creation_date":1586402760,"answer_id":61113453,"question_id":61110127,"body_markdown":"Use ingress for inter cluster communication and use cluster ip type service for intra cluster communication between two micro services.","title":"Best way for inter-cluster communication between microservices on Kubernetes?","body":"<p>Use ingress for inter cluster communication and use cluster ip type service for intra cluster communication between two micro services.</p>\n"},{"comments":[{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1586898425,"post_id":61117579,"comment_id":108297690,"body_markdown":"Thanks a lot for taking out time to answer. I can certainly not use a service of type LoadBalancer because I have bare metal Kubernetes clusters without any cloud providers. I don’t want to use NodePort type because if mS1 on cluster1 talks to mS2 on cluster2 and if mS2’s service gets deleted or the nodePort changes by any means then I will have to change the nodePort of mS2 in mS1’s config, which is a pain. I want to decouple from nodePort. ClusterIP will not be useful for me because I want inter-cluster service communication.","body":"Thanks a lot for taking out time to answer. I can certainly not use a service of type LoadBalancer because I have bare metal Kubernetes clusters without any cloud providers. I don’t want to use NodePort type because if mS1 on cluster1 talks to mS2 on cluster2 and if mS2’s service gets deleted or the nodePort changes by any means then I will have to change the nodePort of mS2 in mS1’s config, which is a pain. I want to decouple from nodePort. ClusterIP will not be useful for me because I want inter-cluster service communication."},{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1586899096,"post_id":61117579,"comment_id":108297974,"body_markdown":"I was going through Istio, but turned out it uses the service discovery mechanism of native K8s only. I tried using Eureka and Ribbon for service discovery but turned out that the names of Kubernetes pods get registered in Eureka instead of Kubernetes services. So Ribbon does not understand the name of the pod. I am exploring Consul right now, but seems like it will pretty much behave like Eureka only. Should I write my own Service Discovery mechanism ? I could create a Service Registry microservice which will register all the microservices and then do a URL resolution using a custom client.","body":"I was going through Istio, but turned out it uses the service discovery mechanism of native K8s only. I tried using Eureka and Ribbon for service discovery but turned out that the names of Kubernetes pods get registered in Eureka instead of Kubernetes services. So Ribbon does not understand the name of the pod. I am exploring Consul right now, but seems like it will pretty much behave like Eureka only. Should I write my own Service Discovery mechanism ? I could create a Service Registry microservice which will register all the microservices and then do a URL resolution using a custom client."},{"owner":{"account_id":16473399,"reputation":3715,"user_id":11901958,"display_name":"Mr.KoopaKiller"},"score":1,"creation_date":1586939946,"post_id":61117579,"comment_id":108310230,"body_markdown":"You can use LoadBalancer type in bare-metal cluster, you just need to install MetalLB. With MetalLB you can configure a ip range from your network and them the service will get this IP&#39;s and be accessible from your network. If any of this solutions isn&#39;t feasible to you, you could write your own service discovery. Give a chance to try MetalLB, maybe it help and save time to write your custom service discovery.","body":"You can use LoadBalancer type in bare-metal cluster, you just need to install MetalLB. With MetalLB you can configure a ip range from your network and them the service will get this IP&#39;s and be accessible from your network. If any of this solutions isn&#39;t feasible to you, you could write your own service discovery. Give a chance to try MetalLB, maybe it help and save time to write your custom service discovery."},{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1586966130,"post_id":61117579,"comment_id":108325482,"body_markdown":"I did explore Metallb and I was so relieved when I first saw it. But as I was going through it&#39;s documentation, I found this :\n\n&quot;The majority of code changes, as well as the overall direction of the project, is a personal endeavor of one person, working on MetalLB in their spare time as motivation allows.\n\nThis means that, currently, support and new feature development is mostly at the mercy of one person’s availability and resources. You should set your expectations appropriately.&quot;\n\nSo I can obviously not use Metallb in my production systems.","body":"I did explore Metallb and I was so relieved when I first saw it. But as I was going through it&#39;s documentation, I found this :  &quot;The majority of code changes, as well as the overall direction of the project, is a personal endeavor of one person, working on MetalLB in their spare time as motivation allows.  This means that, currently, support and new feature development is mostly at the mercy of one person’s availability and resources. You should set your expectations appropriately.&quot;  So I can obviously not use Metallb in my production systems."},{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1586966168,"post_id":61117579,"comment_id":108325510,"body_markdown":"I am thinking about trying out Consul and Linkerd. See what these can offer.","body":"I am thinking about trying out Consul and Linkerd. See what these can offer."}],"tags":[],"owner":{"account_id":16473399,"reputation":3715,"user_id":11901958,"display_name":"Mr.KoopaKiller"},"comment_count":5,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1680694054,"creation_date":1586423164,"answer_id":61117579,"question_id":61110127,"body_markdown":"\r\nYou can expose you application using services, there are some kind of services you can use:\r\n\r\n&gt;-   `ClusterIP`: Exposes the Service on a cluster-internal IP. Choosing this value makes the Service only reachable from within the cluster. This is the default  `ServiceType`.\r\n&gt;\r\n&gt;-   [`NodePort`](https://kubernetes.io/docs/concepts/services-networking/service/#nodeport): Exposes the Service on each Node’s IP at a static port (the  `NodePort`). A  `ClusterIP`  Service, to which the  `NodePort`  Service routes, is automatically created. You’ll be able to contact the  `NodePort`  Service, from outside the cluster, by requesting  `&lt;NodeIP&gt;:&lt;NodePort&gt;`.\r\n&gt;\r\n&gt;-   [`LoadBalancer`](https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer): Exposes the Service externally using a cloud provider’s load balancer.  `NodePort`  and  `ClusterIP`  Services, to which the external load balancer routes, are automatically created.\r\n&gt;-   [`ExternalName`](https://kubernetes.io/docs/concepts/services-networking/service/#externalname): Maps the Service to the contents of the  `externalName`  field (e.g.  `foo.bar.example.com`), by returning a  `CNAME`  record\r\n\r\nFor **internal communication** you  an use service type `ClusterIP`, and you could configure the service dns for your applications instead an IP. \r\nI.e.: a service called `my-app-1` could be reach internnaly using the dns `http://my-app-1` or with fqdn `http://my-app-1.&lt;namespace&gt;.svc.cluster.local`.\r\n\r\nFor **external communication**, you can use `NodePort` or `LoadBalancer`.\r\n\r\n`NodePort` is good when you have few nodes and know the ip of all of them. And yes, by the [service docs](https://kubernetes.io/docs/concepts/services-networking/service/#nodeport) you can specify a specific port number:\r\n\r\n&gt;If you want a specific port number, you can specify a value in the `nodePort` field. The control plane will either allocate you that port or report that the API transaction failed. This means that you need to take care of possible port collisions yourself. You also have to use a valid port number, one that’s inside the range configured for NodePort use.\r\n\r\n`LoadBalancer` give you more flexibility, because you don&#39;t need to know all node ips, you just must to know the service IP and port. But `LoadBalancer` is only supported in cloudproviders, if you wan to implement in bare-metal cluster, I recomend you take a look in [MetalLB](https://metallb.universe.tf/).\r\n\r\nFinally, there is another option that is use `ingress`, in my point of view is the best way to expose HTTP applications externally, because you can create rules by path and host, and it gives you much more flexibility than services. But **only** HTTP/HTTPS is supported, if you need TCP then go to Services.\r\n\r\nI&#39;d recommend you take a look in these links to understand in deep how services and ingress works:\r\n\r\n[Kubernetes Services](https://kubernetes.io/docs/concepts/services-networking/service/)\r\n\r\n[Kubernetes Ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/)\r\n\r\n[NGINX Ingress](https://kubernetes.github.io/ingress-nginx/)","title":"Best way for inter-cluster communication between microservices on Kubernetes?","body":"<p>You can expose you application using services, there are some kind of services you can use:</p>\n<blockquote>\n<ul>\n<li><p><code>ClusterIP</code>: Exposes the Service on a cluster-internal IP. Choosing this value makes the Service only reachable from within the cluster. This is the default  <code>ServiceType</code>.</p>\n</li>\n<li><p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#nodeport\" rel=\"nofollow noreferrer\"><code>NodePort</code></a>: Exposes the Service on each Node’s IP at a static port (the  <code>NodePort</code>). A  <code>ClusterIP</code>  Service, to which the  <code>NodePort</code>  Service routes, is automatically created. You’ll be able to contact the  <code>NodePort</code>  Service, from outside the cluster, by requesting  <code>&lt;NodeIP&gt;:&lt;NodePort&gt;</code>.</p>\n</li>\n<li><p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#loadbalancer\" rel=\"nofollow noreferrer\"><code>LoadBalancer</code></a>: Exposes the Service externally using a cloud provider’s load balancer.  <code>NodePort</code>  and  <code>ClusterIP</code>  Services, to which the external load balancer routes, are automatically created.</p>\n</li>\n<li><p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#externalname\" rel=\"nofollow noreferrer\"><code>ExternalName</code></a>: Maps the Service to the contents of the  <code>externalName</code>  field (e.g.  <code>foo.bar.example.com</code>), by returning a  <code>CNAME</code>  record</p>\n</li>\n</ul>\n</blockquote>\n<p>For <strong>internal communication</strong> you  an use service type <code>ClusterIP</code>, and you could configure the service dns for your applications instead an IP.\nI.e.: a service called <code>my-app-1</code> could be reach internnaly using the dns <code>http://my-app-1</code> or with fqdn <code>http://my-app-1.&lt;namespace&gt;.svc.cluster.local</code>.</p>\n<p>For <strong>external communication</strong>, you can use <code>NodePort</code> or <code>LoadBalancer</code>.</p>\n<p><code>NodePort</code> is good when you have few nodes and know the ip of all of them. And yes, by the <a href=\"https://kubernetes.io/docs/concepts/services-networking/service/#nodeport\" rel=\"nofollow noreferrer\">service docs</a> you can specify a specific port number:</p>\n<blockquote>\n<p>If you want a specific port number, you can specify a value in the <code>nodePort</code> field. The control plane will either allocate you that port or report that the API transaction failed. This means that you need to take care of possible port collisions yourself. You also have to use a valid port number, one that’s inside the range configured for NodePort use.</p>\n</blockquote>\n<p><code>LoadBalancer</code> give you more flexibility, because you don't need to know all node ips, you just must to know the service IP and port. But <code>LoadBalancer</code> is only supported in cloudproviders, if you wan to implement in bare-metal cluster, I recomend you take a look in <a href=\"https://metallb.universe.tf/\" rel=\"nofollow noreferrer\">MetalLB</a>.</p>\n<p>Finally, there is another option that is use <code>ingress</code>, in my point of view is the best way to expose HTTP applications externally, because you can create rules by path and host, and it gives you much more flexibility than services. But <strong>only</strong> HTTP/HTTPS is supported, if you need TCP then go to Services.</p>\n<p>I'd recommend you take a look in these links to understand in deep how services and ingress works:</p>\n<p><a href=\"https://kubernetes.io/docs/concepts/services-networking/service/\" rel=\"nofollow noreferrer\">Kubernetes Services</a></p>\n<p><a href=\"https://kubernetes.io/docs/concepts/services-networking/ingress/\" rel=\"nofollow noreferrer\">Kubernetes Ingress</a></p>\n<p><a href=\"https://kubernetes.github.io/ingress-nginx/\" rel=\"nofollow noreferrer\">NGINX Ingress</a></p>\n"},{"comments":[{"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"score":0,"creation_date":1586966347,"post_id":61232519,"comment_id":108325636,"body_markdown":"Thanks for the answer. Can you please go through the discussion down below with @KoopaKiller ? It has more insights of what I exactly want. Appreciate your help !","body":"Thanks for the answer. Can you please go through the discussion down below with @KoopaKiller ? It has more insights of what I exactly want. Appreciate your help !"},{"owner":{"account_id":13182676,"reputation":8648,"user_id":9521610,"display_name":"VAS"},"score":0,"creation_date":1586968853,"post_id":61232519,"comment_id":108327198,"body_markdown":"I&#39;ve read all your comments, and I believe the lab answers on almost all your questions if you spend some time to do all steps. It can be a bit more complicated to do it on premise, but I&#39;m sure GCP free tier is enough to complete the lab.","body":"I&#39;ve read all your comments, and I believe the lab answers on almost all your questions if you spend some time to do all steps. It can be a bit more complicated to do it on premise, but I&#39;m sure GCP free tier is enough to complete the lab."}],"tags":[],"owner":{"account_id":13182676,"reputation":8648,"user_id":9521610,"display_name":"VAS"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1586964430,"creation_date":1586964430,"answer_id":61232519,"question_id":61110127,"body_markdown":"Your design is pretty close to **Istio Multicluster** example. \r\n\r\nBy following the steps in the [Istio multicluster lab][1] you&#39;ll get two clusters with one Istio control plane that balance the traffic between two ClusterIP Services located in two independent Kubernetes clusters. \r\n\r\nThe lab&#39;s [configuration][3] watches the traffic load, but rewriting the Controller Pod code you can configure it to switch the traffic to the Second Cluster if the Cluster One&#39;s Service has no endpoints ( all pods of the certain type are not in Ready state). \r\n\r\n\r\nIt&#39;s just an example, you can change `istiowatcher.go` [code][2] to implement any logic you want. \r\n\r\n---\r\n\r\nThere is [more advanced solution][4] using **Admiral** as an Istio Multicluster management automation tool.\r\n\r\n&gt;Admiral provides automatic configuration for an Istio mesh spanning multiple clusters to work as a single mesh based on a unique service identifier that associates workloads running on multiple clusters to a service. It also provides automatic provisioning and syncing of Istio configuration across clusters. This removes the burden on developers and mesh operators, which helps scale beyond a few clusters.\r\n\r\nThis solution solves these key requirements for modern Kubernetes infrastructure:\r\n\r\n- Creation of service DNS entries decoupled from the namespace, as described in Features of multi-mesh deployments.\r\n- Service discovery across many clusters.\r\n- Supporting active-active &amp; HA/DR deployments. We also had to support these crucial resiliency patterns with services being deployed in globally unique namespaces across discrete clusters.\r\n\r\nThis solution may become very useful in a full scale.\r\n\r\n[1]: https://codelabs.developers.google.com/codelabs/istio-multi-burst/#0\r\n[2]: https://codelabs.developers.google.com/codelabs/istio-multi-burst/#16\r\n[3]: https://codelabs.developers.google.com/codelabs/istio-multi-burst/#7\r\n[4]: https://istio.io/blog/2020/multi-cluster-mesh-automation/","title":"Best way for inter-cluster communication between microservices on Kubernetes?","body":"<p>Your design is pretty close to <strong>Istio Multicluster</strong> example. </p>\n\n<p>By following the steps in the <a href=\"https://codelabs.developers.google.com/codelabs/istio-multi-burst/#0\" rel=\"nofollow noreferrer\">Istio multicluster lab</a> you'll get two clusters with one Istio control plane that balance the traffic between two ClusterIP Services located in two independent Kubernetes clusters. </p>\n\n<p>The lab's <a href=\"https://codelabs.developers.google.com/codelabs/istio-multi-burst/#7\" rel=\"nofollow noreferrer\">configuration</a> watches the traffic load, but rewriting the Controller Pod code you can configure it to switch the traffic to the Second Cluster if the Cluster One's Service has no endpoints ( all pods of the certain type are not in Ready state). </p>\n\n<p>It's just an example, you can change <code>istiowatcher.go</code> <a href=\"https://codelabs.developers.google.com/codelabs/istio-multi-burst/#16\" rel=\"nofollow noreferrer\">code</a> to implement any logic you want. </p>\n\n<hr>\n\n<p>There is <a href=\"https://istio.io/blog/2020/multi-cluster-mesh-automation/\" rel=\"nofollow noreferrer\">more advanced solution</a> using <strong>Admiral</strong> as an Istio Multicluster management automation tool.</p>\n\n<blockquote>\n  <p>Admiral provides automatic configuration for an Istio mesh spanning multiple clusters to work as a single mesh based on a unique service identifier that associates workloads running on multiple clusters to a service. It also provides automatic provisioning and syncing of Istio configuration across clusters. This removes the burden on developers and mesh operators, which helps scale beyond a few clusters.</p>\n</blockquote>\n\n<p>This solution solves these key requirements for modern Kubernetes infrastructure:</p>\n\n<ul>\n<li>Creation of service DNS entries decoupled from the namespace, as described in Features of multi-mesh deployments.</li>\n<li>Service discovery across many clusters.</li>\n<li>Supporting active-active &amp; HA/DR deployments. We also had to support these crucial resiliency patterns with services being deployed in globally unique namespaces across discrete clusters.</li>\n</ul>\n\n<p>This solution may become very useful in a full scale.</p>\n"}],"owner":{"account_id":14358906,"reputation":453,"user_id":10371864,"display_name":"Abhinav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8193,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"accepted_answer_id":61117579,"answer_count":3,"score":8,"last_activity_date":1680694054,"creation_date":1586380411,"question_id":61110127,"body_markdown":"I am new to microservices and want to understand what is the best way I can implement below behaviour in microservices deployed on Kubernetes :\r\n\r\nThere are 2 different K8s clusters. Microservice B is deployed on both the clusters.\r\n\r\nNow if a Microservice A calls Microservice B and B’s pods are not available in cluster 1, then the call should go to B of cluster 2.\r\n\r\nI could have imagined to implement this functionality by using Netflix OSS but here I am not using it.\r\n\r\nAlso, keeping aside the inter-cluster communication aside for a second, how should I communicate between microservices ?\r\n\r\nOne way that I know is to create Kubernetes Service of type NodePort for each microservice and use the IP and the nodePort in the calling microservice.\r\n\r\nQuestion : What if someone deletes the target microservice&#39;s K8s Service? A new nodePort will be randomly assigned by K8s while recreating the K8s service and then again I will have to go back to my calling microservice and change the nodePort of the target microservice. How can I decouple from the nodePort?\r\n\r\nI researched about kubedns but seems like it only works within a cluster.\r\n\r\nI have very limited knowledge about Istio and Kubernetes Ingress. Does any one of these provide something what I am looking for ?\r\n\r\n\r\nSorry for a long question. Any sort of guidance will be very helpful.","title":"Best way for inter-cluster communication between microservices on Kubernetes?","body":"<p>I am new to microservices and want to understand what is the best way I can implement below behaviour in microservices deployed on Kubernetes :</p>\n\n<p>There are 2 different K8s clusters. Microservice B is deployed on both the clusters.</p>\n\n<p>Now if a Microservice A calls Microservice B and B’s pods are not available in cluster 1, then the call should go to B of cluster 2.</p>\n\n<p>I could have imagined to implement this functionality by using Netflix OSS but here I am not using it.</p>\n\n<p>Also, keeping aside the inter-cluster communication aside for a second, how should I communicate between microservices ?</p>\n\n<p>One way that I know is to create Kubernetes Service of type NodePort for each microservice and use the IP and the nodePort in the calling microservice.</p>\n\n<p>Question : What if someone deletes the target microservice's K8s Service? A new nodePort will be randomly assigned by K8s while recreating the K8s service and then again I will have to go back to my calling microservice and change the nodePort of the target microservice. How can I decouple from the nodePort?</p>\n\n<p>I researched about kubedns but seems like it only works within a cluster.</p>\n\n<p>I have very limited knowledge about Istio and Kubernetes Ingress. Does any one of these provide something what I am looking for ?</p>\n\n<p>Sorry for a long question. Any sort of guidance will be very helpful.</p>\n"},{"tags":["java","oracle","plsql","ddl"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":1,"creation_date":1491172879,"post_id":43173752,"comment_id":73422589,"body_markdown":"In 11gR2 (1.5.0_51) it doesn&#39;t seem to like the `final String`, although the full error message doesn&#39;t list plain `String` as expected either, it seems to compile OK with just that `final` keyword removed. I can&#39;t test in 12c right now, is it also the case for you?","body":"In 11gR2 (1.5.0_51) it doesn&#39;t seem to like the <code>final String</code>, although the full error message doesn&#39;t list plain <code>String</code> as expected either, it seems to compile OK with just that <code>final</code> keyword removed. I can&#39;t test in 12c right now, is it also the case for you?"},{"owner":{"account_id":2291339,"reputation":2450,"user_id":2014053,"accept_rate":100,"display_name":"alexgibbs"},"score":0,"creation_date":1491176035,"post_id":43173752,"comment_id":73423191,"body_markdown":"Thanks @AlexPoole That is interesting. Though the removal of any final keyword makes me sad, that could be a workable compromise. I&#39;m away from my machine for a couple hours, but I&#39;ll follow up with whether 12c sees it the same as 11g.","body":"Thanks @AlexPoole That is interesting. Though the removal of any final keyword makes me sad, that could be a workable compromise. I&#39;m away from my machine for a couple hours, but I&#39;ll follow up with whether 12c sees it the same as 11g."},{"owner":{"account_id":2291339,"reputation":2450,"user_id":2014053,"accept_rate":100,"display_name":"alexgibbs"},"score":0,"creation_date":1491191693,"post_id":43173752,"comment_id":73426159,"body_markdown":"@AlexPoole Sure enough, the only change required for this to load successfully in 12c as well is dropping the `final` modifier in the loop.  Though I&#39;m admittedly a bit bewildered at `final` causing the trouble and I&#39;d be interested background on why `final` isn&#39;t supported here, that clears this hurdle away.  I would accept that as an answer to proximal cause and a viable path forward.  Thanks for taking a look.","body":"@AlexPoole Sure enough, the only change required for this to load successfully in 12c as well is dropping the <code>final</code> modifier in the loop.  Though I&#39;m admittedly a bit bewildered at <code>final</code> causing the trouble and I&#39;d be interested background on why <code>final</code> isn&#39;t supported here, that clears this hurdle away.  I would accept that as an answer to proximal cause and a viable path forward.  Thanks for taking a look."},{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1491230681,"post_id":43173752,"comment_id":73448423,"body_markdown":"I haven&#39;t figured out why this is needed though, or been able to find anything that looks relevant on MoS.","body":"I haven&#39;t figured out why this is needed though, or been able to find anything that looks relevant on MoS."}],"answers":[{"comments":[{"owner":{"account_id":2291339,"reputation":2450,"user_id":2014053,"accept_rate":100,"display_name":"alexgibbs"},"score":0,"creation_date":1491264614,"post_id":43187904,"comment_id":73465035,"body_markdown":"Thanks Alex.  Good suggestion; I&#39;ll follow up over at oracle.  If anything interesting comes of it I&#39;ll update here.","body":"Thanks Alex.  Good suggestion; I&#39;ll follow up over at oracle.  If anything interesting comes of it I&#39;ll update here."},{"owner":{"account_id":2291339,"reputation":2450,"user_id":2014053,"accept_rate":100,"display_name":"alexgibbs"},"score":0,"creation_date":1491750016,"post_id":43187904,"comment_id":73680932,"body_markdown":"Just a follow-up here.  I took your suggestion--SR is in at Oracle and being reviewed.  I&#39;ll update with the explanation when it comes in.","body":"Just a follow-up here.  I took your suggestion--SR is in at Oracle and being reviewed.  I&#39;ll update with the explanation when it comes in."}],"tags":[],"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491231342,"creation_date":1491231342,"answer_id":43187904,"question_id":43173752,"body_markdown":"Oracle seems to be doing some strange pre-processing on the Java code that is flagging the `final String string` in the for-each loop as a problem. The error isn&#39;t coming from the Java compiler - as you&#39;d expect, since this is valid. I can&#39;t see anything about this issue, including on My Oracle Support.\r\n\r\nIt isn&#39;t, as @JonHeller noted in an edit comment, anything to do with the string concatenation, but also isn&#39;t anything to do with dynamic SQL - in 11gR2 anyway I still see the same ORA-29536 error if I just run the DDL directly from a SQL prompt, using your second code block.\r\n\r\n    CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;LoopingTest&quot; AS \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public final class LoopingTest {\r\n        public static String greet(final String userName) {\r\n            final List&lt;String&gt; emptyList = Arrays.asList(userName);\r\n            for (final String string : emptyList) {\r\n                System.out.println(string);\r\n            }\r\n            return &quot;Hello &quot; + userName;\r\n        }\r\n    }\r\n    /\r\n    \r\n    Error report -\r\n    ORA-29536: badly formed source: Encountered &quot;final String string :&quot; at line 7, column 14.\r\n    Was expecting one of:\r\n        &quot;boolean&quot; ...\r\n    ...\r\n\r\nAs a workaround you can just remove the `final` keyword:\r\n\r\n    CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;LoopingTest&quot; AS \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public final class LoopingTest {\r\n        public static String greet(final String userName) {\r\n            final List&lt;String&gt; emptyList = Arrays.asList(userName);\r\n            // remove &#39;final&#39; to avoid ORA-29536\r\n            // for (final String string : emptyList) {\r\n            for (String string : emptyList) {\r\n                System.out.println(string);\r\n            }\r\n            return &quot;Hello &quot; + userName;\r\n        }\r\n    }\r\n    /\r\n    \r\n    Java source LoopingTest compiled\r\n\r\nOr in your original PL/SQL code:\r\n\r\n    DECLARE\r\n      V_SQL_TEXT CLOB := &#39; &#39; ||\r\n                         &#39;CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;LoopingTest&quot; AS &#39; ||\r\n                         &#39;import java.util.Arrays; &#39; ||\r\n                         &#39;import java.util.List; &#39; ||\r\n                         &#39; &#39; ||\r\n                         &#39;public final class LoopingTest { &#39; ||\r\n                         &#39;public static String greet(final String userName){ &#39; ||\r\n                         &#39;final List&lt;String&gt; emptyList = Arrays.asList(userName); &#39; ||\r\n                         -- remove &#39;final&#39; to avoid ORA-29536\r\n                         -- &#39;for (final String string : emptyList){ &#39; ||\r\n                         &#39;for (String string : emptyList){ &#39; ||\r\n                         &#39;System.out.println(string); &#39; ||\r\n                         &#39;} &#39; ||\r\n                         &#39;return &quot;Hello &quot; + userName; &#39; ||\r\n                         &#39;} &#39; ||\r\n                         &#39;} &#39;;\r\n    BEGIN\r\n      EXECUTE IMMEDIATE V_SQL_TEXT;\r\n    END;\r\n    /\r\n    \r\n    PL/SQL procedure successfully completed.\r\n\r\nYou should consider raising a service request with Oracle, to see if they can explain and/or fix the problem.","title":"Oracle ORA-29536 on DDL-loading java source into the database","body":"<p>Oracle seems to be doing some strange pre-processing on the Java code that is flagging the <code>final String string</code> in the for-each loop as a problem. The error isn't coming from the Java compiler - as you'd expect, since this is valid. I can't see anything about this issue, including on My Oracle Support.</p>\n\n<p>It isn't, as @JonHeller noted in an edit comment, anything to do with the string concatenation, but also isn't anything to do with dynamic SQL - in 11gR2 anyway I still see the same ORA-29536 error if I just run the DDL directly from a SQL prompt, using your second code block.</p>\n\n<pre><code>CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"LoopingTest\" AS \nimport java.util.Arrays;\nimport java.util.List;\n\npublic final class LoopingTest {\n    public static String greet(final String userName) {\n        final List&lt;String&gt; emptyList = Arrays.asList(userName);\n        for (final String string : emptyList) {\n            System.out.println(string);\n        }\n        return \"Hello \" + userName;\n    }\n}\n/\n\nError report -\nORA-29536: badly formed source: Encountered \"final String string :\" at line 7, column 14.\nWas expecting one of:\n    \"boolean\" ...\n...\n</code></pre>\n\n<p>As a workaround you can just remove the <code>final</code> keyword:</p>\n\n<pre><code>CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"LoopingTest\" AS \nimport java.util.Arrays;\nimport java.util.List;\n\npublic final class LoopingTest {\n    public static String greet(final String userName) {\n        final List&lt;String&gt; emptyList = Arrays.asList(userName);\n        // remove 'final' to avoid ORA-29536\n        // for (final String string : emptyList) {\n        for (String string : emptyList) {\n            System.out.println(string);\n        }\n        return \"Hello \" + userName;\n    }\n}\n/\n\nJava source LoopingTest compiled\n</code></pre>\n\n<p>Or in your original PL/SQL code:</p>\n\n<pre><code>DECLARE\n  V_SQL_TEXT CLOB := ' ' ||\n                     'CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"LoopingTest\" AS ' ||\n                     'import java.util.Arrays; ' ||\n                     'import java.util.List; ' ||\n                     ' ' ||\n                     'public final class LoopingTest { ' ||\n                     'public static String greet(final String userName){ ' ||\n                     'final List&lt;String&gt; emptyList = Arrays.asList(userName); ' ||\n                     -- remove 'final' to avoid ORA-29536\n                     -- 'for (final String string : emptyList){ ' ||\n                     'for (String string : emptyList){ ' ||\n                     'System.out.println(string); ' ||\n                     '} ' ||\n                     'return \"Hello \" + userName; ' ||\n                     '} ' ||\n                     '} ';\nBEGIN\n  EXECUTE IMMEDIATE V_SQL_TEXT;\nEND;\n/\n\nPL/SQL procedure successfully completed.\n</code></pre>\n\n<p>You should consider raising a service request with Oracle, to see if they can explain and/or fix the problem.</p>\n"}],"owner":{"account_id":2291339,"reputation":2450,"user_id":2014053,"accept_rate":100,"display_name":"alexgibbs"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3570,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43187904,"answer_count":1,"score":1,"last_activity_date":1680693992,"creation_date":1491168660,"question_id":43173752,"body_markdown":"I&#39;m looking into wrapping some java functions in pl/sql but am encountering an ORA-29536 on the colon character in for-loops when loading the java source.  \r\nI was hoping to understand why the database has difficulty with this, as it doesn&#39;t appear to be misinterpreting the colon and trying to bind, and to get any suggestions on a path forward.  \r\nI&#39;d like to avoid refactoring the source to abolish all for-loops, and would like to avoid using the loadjava tool if possible.  \r\nDatabase is 12cR1, with ojdk is 1.6.0_71.  \r\n\r\nHere&#39;s an example.  \r\nGiven these two trivial hello-world-type classes:  \r\n\r\n    public final class HelloWorld {\r\n        public static String greet(final String userName) {\r\n            return &quot;Hello &quot; + userName;\r\n        }\r\n    }\r\n\r\nAnd:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public final class LoopingTest {\r\n        public static String greet(final String userName) {\r\n            final List&lt;String&gt; emptyList = Arrays.asList(userName);\r\n            for (final String string : emptyList) {\r\n                System.out.println(string);\r\n            }\r\n            return &quot;Hello &quot; + userName;\r\n        }\r\n    }\r\n\r\nWhen I compile into the database, the first goes in fine and registers `JAVA SOURCE` and `JAVA CLASS` objects ok (I&#39;m using dynamic SQL and a clob in this example since the eventual target will be &gt;32K characters, with enough `@`, `&amp;`, etc. to complicate escaping in a raw script):  \r\n\r\n    BEGIN\r\n        EXECUTE IMMEDIATE\r\n        &#39;\r\n            CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;HelloWorld&quot; AS \r\n            public final class HelloWorld {\r\n                public static String greet(final String userName) {\r\n                    return &quot;Hello &quot; + userName;\r\n                }\r\n            }\r\n    \t&#39;;\r\n    END;\r\n    /\r\n    \r\n    PL/SQL procedure successfully completed.\r\n\r\nBut the second fails to import:\r\n\r\n    BEGIN\r\n        EXECUTE IMMEDIATE\r\n        &#39;\r\n            CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED &quot;HelloWorld&quot; AS \r\n            import java.util.Arrays;\r\n            import java.util.List;\r\n            \r\n            public final class LoopingTest {\r\n                public static String greet(final String userName) {\r\n                    final List&lt;String&gt; emptyList = Arrays.asList(userName);\r\n                    for (final String string : emptyList) {\r\n                        System.out.println(string);\r\n                    }\r\n                    return &quot;Hello &quot; + userName;\r\n                }\r\n            }\r\n        &#39;;\r\n    END;\r\n    /\r\n    \r\n    ERROR at line 1:\r\n    ORA-29536: badly formed source: Encountered &quot;final String string :&quot; at line 1,\r\n    column 195.\r\n\r\nI wondered if there are any changes I can make to coax oracle into loading this.  \r\nIf using loadjava is the only way to import I can accept that, but I&#39;d prefer loading in one step DDL if possible.  Thanks\r\n\r\n","title":"Oracle ORA-29536 on DDL-loading java source into the database","body":"<p>I'm looking into wrapping some java functions in pl/sql but am encountering an ORA-29536 on the colon character in for-loops when loading the java source.<br>\nI was hoping to understand why the database has difficulty with this, as it doesn't appear to be misinterpreting the colon and trying to bind, and to get any suggestions on a path forward.<br>\nI'd like to avoid refactoring the source to abolish all for-loops, and would like to avoid using the loadjava tool if possible.<br>\nDatabase is 12cR1, with ojdk is 1.6.0_71.  </p>\n\n<p>Here's an example.<br>\nGiven these two trivial hello-world-type classes:  </p>\n\n<pre><code>public final class HelloWorld {\n    public static String greet(final String userName) {\n        return \"Hello \" + userName;\n    }\n}\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.List;\n\npublic final class LoopingTest {\n    public static String greet(final String userName) {\n        final List&lt;String&gt; emptyList = Arrays.asList(userName);\n        for (final String string : emptyList) {\n            System.out.println(string);\n        }\n        return \"Hello \" + userName;\n    }\n}\n</code></pre>\n\n<p>When I compile into the database, the first goes in fine and registers <code>JAVA SOURCE</code> and <code>JAVA CLASS</code> objects ok (I'm using dynamic SQL and a clob in this example since the eventual target will be >32K characters, with enough <code>@</code>, <code>&amp;</code>, etc. to complicate escaping in a raw script):  </p>\n\n<pre><code>BEGIN\n    EXECUTE IMMEDIATE\n    '\n        CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"HelloWorld\" AS \n        public final class HelloWorld {\n            public static String greet(final String userName) {\n                return \"Hello \" + userName;\n            }\n        }\n    ';\nEND;\n/\n\nPL/SQL procedure successfully completed.\n</code></pre>\n\n<p>But the second fails to import:</p>\n\n<pre><code>BEGIN\n    EXECUTE IMMEDIATE\n    '\n        CREATE OR REPLACE AND COMPILE JAVA SOURCE NAMED \"HelloWorld\" AS \n        import java.util.Arrays;\n        import java.util.List;\n\n        public final class LoopingTest {\n            public static String greet(final String userName) {\n                final List&lt;String&gt; emptyList = Arrays.asList(userName);\n                for (final String string : emptyList) {\n                    System.out.println(string);\n                }\n                return \"Hello \" + userName;\n            }\n        }\n    ';\nEND;\n/\n\nERROR at line 1:\nORA-29536: badly formed source: Encountered \"final String string :\" at line 1,\ncolumn 195.\n</code></pre>\n\n<p>I wondered if there are any changes I can make to coax oracle into loading this.<br>\nIf using loadjava is the only way to import I can accept that, but I'd prefer loading in one step DDL if possible.  Thanks</p>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":43980,"reputation":22154,"user_id":128812,"display_name":"gpeche"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1405970924,"creation_date":1405970924,"answer_id":24873138,"question_id":24872617,"body_markdown":"You want [`DefaultMessageListenerContainer`][1]:\r\n\r\n    @Bean\r\n    public DefaultMessageListenerContainer jmsListenerContainer() {\r\n        DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\r\n        dmlc.setConnectionFactory(connectionFactory());\r\n        dmlc.setDestination(new ActiveMQQueue(&quot;orders.queue&quot;));\r\n\r\n        // To schedule our concurrent listening tasks\r\n        dmlc.setTaskExecutor(taskExecutor());\r\n\r\n        // To perform actual message processing\r\n        dmlc.setMessageListener(messageListener());\r\n\r\n        dmlc.setConcurrentConsumers(10);\r\n\r\n        // ... more parameters that you might want to inject ...\r\n        return dmlc;\r\n    }\r\n\r\n\r\nRead [the JMS namespace documentation][2] for information about mapping XML parameters to Java parameters.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\r\n  [2]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jms.html#jms-namespace","title":"Spring annotation equivalent for jms:listener-container","body":"<p>You want <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/jms/listener/DefaultMessageListenerContainer.html\"><code>DefaultMessageListenerContainer</code></a>:</p>\n\n<pre><code>@Bean\npublic DefaultMessageListenerContainer jmsListenerContainer() {\n    DefaultMessageListenerContainer dmlc = new DefaultMessageListenerContainer();\n    dmlc.setConnectionFactory(connectionFactory());\n    dmlc.setDestination(new ActiveMQQueue(\"orders.queue\"));\n\n    // To schedule our concurrent listening tasks\n    dmlc.setTaskExecutor(taskExecutor());\n\n    // To perform actual message processing\n    dmlc.setMessageListener(messageListener());\n\n    dmlc.setConcurrentConsumers(10);\n\n    // ... more parameters that you might want to inject ...\n    return dmlc;\n}\n</code></pre>\n\n<p>Read <a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/jms.html#jms-namespace\">the JMS namespace documentation</a> for information about mapping XML parameters to Java parameters.</p>\n"}],"owner":{"account_id":4763312,"reputation":1693,"user_id":3850156,"accept_rate":60,"display_name":"smilin_stan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8363,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":24873138,"answer_count":1,"score":10,"last_activity_date":1680693949,"creation_date":1405969070,"question_id":24872617,"body_markdown":"I&#39;m looking into JMS using Spring and wish to create a some concurrent consumers of a particular queue when my MVC webapp starts up.\r\n\r\nI&#39;ve seen the following XML config elsewhere on SO (https://stackoverflow.com/a/6861144):\r\n\r\n\t&lt;jms:listener-container concurrency=&quot;10&quot;&gt;\r\n\t\t&lt;jms:listener destination=&quot;some.queue&quot; ref=&quot;fooService&quot; method=&quot;handleNewFoo&quot;/&gt;\r\n\t&lt;/jms:listener-container&gt;\r\n\r\nI&#39;m using Spring configuration in Java as opposed to XML. Can someone please help out with the syntax for Spring annotation?\r\n\r\nMy existing JmsConfiguration.java looks like:\r\n\r\n\t@Configuration\r\n\t@ComponentScan(basePackages=&quot;net.domain.orders&quot;)\r\n\tpublic class JmsConfiguration {\r\n\r\n\t\t@Bean\r\n\t\tpublic JmsTemplate jmsTemplate() {\r\n\t\t\tJmsTemplate jmsTemplate = new JmsTemplate();\r\n\t\t\tjmsTemplate.setDefaultDestination(new ActiveMQQueue(&quot;orders.queue&quot;));\r\n\t\t\tjmsTemplate.setConnectionFactory(connectionFactory());\r\n\t\t\treturn jmsTemplate;\r\n\t\t}\r\n \r\n\t\t@Bean\r\n\t\tpublic ActiveMQConnectionFactory connectionFactory() {\r\n\t\t\tActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n\t\t\tactiveMQConnectionFactory.setBrokerURL(&quot;tcp://localhost:61616&quot;);\r\n\t\t\treturn activeMQConnectionFactory;\r\n\t\t}\r\n\t\r\n\t}\r\n\r\nI have searched many examples but all I have found so far are XML-based.","title":"Spring annotation equivalent for jms:listener-container","body":"<p>I'm looking into JMS using Spring and wish to create a some concurrent consumers of a particular queue when my MVC webapp starts up.</p>\n\n<p>I've seen the following XML config elsewhere on SO (<a href=\"https://stackoverflow.com/a/6861144\">https://stackoverflow.com/a/6861144</a>):</p>\n\n<pre><code>&lt;jms:listener-container concurrency=\"10\"&gt;\n    &lt;jms:listener destination=\"some.queue\" ref=\"fooService\" method=\"handleNewFoo\"/&gt;\n&lt;/jms:listener-container&gt;\n</code></pre>\n\n<p>I'm using Spring configuration in Java as opposed to XML. Can someone please help out with the syntax for Spring annotation?</p>\n\n<p>My existing JmsConfiguration.java looks like:</p>\n\n<pre><code>@Configuration\n@ComponentScan(basePackages=\"net.domain.orders\")\npublic class JmsConfiguration {\n\n    @Bean\n    public JmsTemplate jmsTemplate() {\n        JmsTemplate jmsTemplate = new JmsTemplate();\n        jmsTemplate.setDefaultDestination(new ActiveMQQueue(\"orders.queue\"));\n        jmsTemplate.setConnectionFactory(connectionFactory());\n        return jmsTemplate;\n    }\n\n    @Bean\n    public ActiveMQConnectionFactory connectionFactory() {\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n        activeMQConnectionFactory.setBrokerURL(\"tcp://localhost:61616\");\n        return activeMQConnectionFactory;\n    }\n\n}\n</code></pre>\n\n<p>I have searched many examples but all I have found so far are XML-based.</p>\n"},{"tags":["java","postgresql","hibernate","hql"],"comments":[{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1589456795,"post_id":61785837,"comment_id":109305043,"body_markdown":"What postgresql, hibernate version and hibernate dialect do you use?","body":"What postgresql, hibernate version and hibernate dialect do you use?"},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1589473389,"post_id":61785837,"comment_id":109315447,"body_markdown":"Postgresql 12; Hibernate 5.4.11 Final;","body":"Postgresql 12; Hibernate 5.4.11 Final;"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":0,"creation_date":1589473520,"post_id":61785837,"comment_id":109315519,"body_markdown":"What hibernate dialect do you use?","body":"What hibernate dialect do you use?"},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1589473943,"post_id":61785837,"comment_id":109315744,"body_markdown":"Postgresql 12; Hibernate 5.4.11 Final; org.hibernate.dialect.HSQLDialect.  Sorry, it auto-posted my last response while I was afk.","body":"Postgresql 12; Hibernate 5.4.11 Final; org.hibernate.dialect.HSQLDialect.  Sorry, it auto-posted my last response while I was afk."},{"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"score":0,"creation_date":1589474866,"post_id":61785837,"comment_id":109316201,"body_markdown":"Upon further research, it turns out that HSQLDialect is for HyperSQL and HyperSonics, not HQL.  I switched to PostgreSQLDialect, and now it works.  Strange, because I was getting an error message for PostgreSQLDialect that went away after changing.  I must have fixed whatever was causing that error.","body":"Upon further research, it turns out that HSQLDialect is for HyperSQL and HyperSonics, not HQL.  I switched to PostgreSQLDialect, and now it works.  Strange, because I was getting an error message for PostgreSQLDialect that went away after changing.  I must have fixed whatever was causing that error."}],"answers":[{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589475531,"creation_date":1589474353,"answer_id":61802694,"question_id":61785837,"body_markdown":"You use wrong hibernate dialect. The `org.hibernate.dialect.HSQLDialect` dialect is intended to use with the [HyperSQL](http://hsqldb.org/) database.\r\n\r\nThe `org.hibernate.dialect.PostgreSQL10Dialect` dialect is more suitable for your case.","title":"Not able to fetch SequenceInformation and not finding Column start_with in ResultSet","body":"<p>You use wrong hibernate dialect. The <code>org.hibernate.dialect.HSQLDialect</code> dialect is intended to use with the <a href=\"http://hsqldb.org/\" rel=\"nofollow noreferrer\">HyperSQL</a> database.</p>\n\n<p>The <code>org.hibernate.dialect.PostgreSQL10Dialect</code> dialect is more suitable for your case.</p>\n"}],"owner":{"account_id":18564009,"reputation":51,"user_id":13527388,"display_name":"vnavs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680693639,"creation_date":1589408019,"question_id":61785837,"body_markdown":"I am seeing the below error when running a small test program to check that my Hibernate config is correct.  I checked that the sequence for each table has valid settings--the max value is less than Long&#39;s MAX_VALUE.  My entity classes use annotation-based configuration and are all listed within my cfg.xml file.  I was able to insert at least one record into each table using pgAdmin, so I know that sequences are working.  This error is occurring when the the program tries to get a SessionFactory\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\ttry {\r\n//\t\t\tSystem.err.println(new File(&quot;.&quot;).getAbsolutePath());\r\n//\t\t\tConfiguration configuration = new Configuration();\r\n//\t\t\tConfiguration configure = configuration.configure(TypesDaoFt.class.getResource(&quot;./hibernate.cfg.xml&quot;));\r\n//\t\t\tsf = configure.buildSessionFactory();\r\n\r\n\t\t\tStandardServiceRegistry ssr = new StandardServiceRegistryBuilder().configure(new File(&quot;./hibernate.cfg.xml&quot;)).build();\r\n\t\t\tMetadata md = new MetadataSources(ssr).getMetadataBuilder().build();\r\n\t\t\tsf = md.getSessionFactoryBuilder().build();\r\n\t\t} catch(Throwable t) {\r\n\t\t\tSystem.err.println(&quot;Failed to build SessionFactory.&quot;);\r\n\t\t\tt.printStackTrace();\r\n\t\t\tif(sf != null) {\r\n\t\t\t\tsf.close();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n`\r\nERROR: Could not fetch the SequenceInformation from the database\r\norg.postgresql.util.PSQLException: The column name start_with was not found in this ResultSet.\r\n\tat org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2589)\r\n\tat org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2485)\r\n\tat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.resultSetStartValueSize(SequenceInformationExtractorLegacyImpl.java:129)\r\n\tat org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:59)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.sequenceInformationList(JdbcEnvironmentImpl.java:403)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:268)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:114)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\r\n\tat org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\r\n\tat org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:473)\r\n\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:84)\r\n\tat com.javaduckspizza.ftesters.TypesDaoFt.main(TypesDaoFt.java:30)\r\n`","title":"Not able to fetch SequenceInformation and not finding Column start_with in ResultSet","body":"<p>I am seeing the below error when running a small test program to check that my Hibernate config is correct.  I checked that the sequence for each table has valid settings--the max value is less than Long's MAX_VALUE.  My entity classes use annotation-based configuration and are all listed within my cfg.xml file.  I was able to insert at least one record into each table using pgAdmin, so I know that sequences are working.  This error is occurring when the the program tries to get a SessionFactory</p>\n\n<pre><code>    public static void main(String[] args) {\n        try {\n//          System.err.println(new File(\".\").getAbsolutePath());\n//          Configuration configuration = new Configuration();\n//          Configuration configure = configuration.configure(TypesDaoFt.class.getResource(\"./hibernate.cfg.xml\"));\n//          sf = configure.buildSessionFactory();\n\n            StandardServiceRegistry ssr = new StandardServiceRegistryBuilder().configure(new File(\"./hibernate.cfg.xml\")).build();\n            Metadata md = new MetadataSources(ssr).getMetadataBuilder().build();\n            sf = md.getSessionFactoryBuilder().build();\n        } catch(Throwable t) {\n            System.err.println(\"Failed to build SessionFactory.\");\n            t.printStackTrace();\n            if(sf != null) {\n                sf.close();\n            }\n        }\n    }\n</code></pre>\n\n<p><code>\nERROR: Could not fetch the SequenceInformation from the database\norg.postgresql.util.PSQLException: The column name start_with was not found in this ResultSet.\n    at org.postgresql.jdbc.PgResultSet.findColumn(PgResultSet.java:2589)\n    at org.postgresql.jdbc.PgResultSet.getLong(PgResultSet.java:2485)\n    at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.resultSetStartValueSize(SequenceInformationExtractorLegacyImpl.java:129)\n    at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:59)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.sequenceInformationList(JdbcEnvironmentImpl.java:403)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentImpl.&lt;init&gt;(JdbcEnvironmentImpl.java:268)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:114)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35)\n    at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:237)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.id.factory.internal.DefaultIdentifierGeneratorFactory.injectServices(DefaultIdentifierGeneratorFactory.java:152)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.injectDependencies(AbstractServiceRegistryImpl.java:286)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:243)\n    at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:214)\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.&lt;init&gt;(InFlightMetadataCollectorImpl.java:176)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:118)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:83)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:473)\n    at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:84)\n    at com.javaduckspizza.ftesters.TypesDaoFt.main(TypesDaoFt.java:30)\n</code></p>\n"},{"tags":["java","quarkus","graalvm"],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1680693527,"creation_date":1680693527,"answer_id":75938769,"question_id":75937246,"body_markdown":"You can add a GraalVM substitution for this. It would looks something like:\r\n\r\n\r\n\r\n    import com.oracle.svm.core.annotate.Alias;\r\n    import com.oracle.svm.core.annotate.Substitute;\r\n    import com.oracle.svm.core.annotate.TargetClass;\r\n    \r\n    ...\r\n    \r\n    \r\n    @TargetClass(value = WhateverTheClassNameIs.class)\r\n    public final class WhateverTheClassNameIsSubstitutions {\r\n    \r\n      @Substitute \r\n      public static RequestExecutor&lt;String, String&gt; create(RequestHttp requestHttp) {\r\n        switch (requestHttp.getRequestType()) {\r\n          case APACHE_HTTP:\r\n            return new ApacheSimplePostRequestExecutor(requestHttp);\r\n          default:\r\n            throw new IllegalArgumentException(&quot;error http type&quot;);\r\n        }\r\n      }\r\n    \r\n    }","title":"How to exclude specified class initialize when build graalVM native image?","body":"<p>You can add a GraalVM substitution for this. It would looks something like:</p>\n<pre><code>import com.oracle.svm.core.annotate.Alias;\nimport com.oracle.svm.core.annotate.Substitute;\nimport com.oracle.svm.core.annotate.TargetClass;\n\n...\n\n\n@TargetClass(value = WhateverTheClassNameIs.class)\npublic final class WhateverTheClassNameIsSubstitutions {\n\n  @Substitute \n  public static RequestExecutor&lt;String, String&gt; create(RequestHttp requestHttp) {\n    switch (requestHttp.getRequestType()) {\n      case APACHE_HTTP:\n        return new ApacheSimplePostRequestExecutor(requestHttp);\n      default:\n        throw new IllegalArgumentException(&quot;error http type&quot;);\n    }\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4789373,"reputation":338,"user_id":3868994,"accept_rate":25,"display_name":"JsonSong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75938769,"answer_count":1,"score":0,"last_activity_date":1680693527,"creation_date":1680683303,"question_id":75937246,"body_markdown":"I import a lib ,and there is a factory like this : \r\n```java\r\n  public static RequestExecutor&lt;String, String&gt; create(RequestHttp requestHttp) {\r\n    switch (requestHttp.getRequestType()) {\r\n      case APACHE_HTTP:\r\n        return new ApacheSimplePostRequestExecutor(requestHttp);\r\n      case JODD_HTTP:\r\n        return new JoddHttpSimplePostRequestExecutor(requestHttp);\r\n      case OK_HTTP:\r\n        return new OkHttpSimplePostRequestExecutor(requestHttp);\r\n      default:\r\n        throw new IllegalArgumentException(&quot;error http type&quot;);\r\n    }\r\n  }\r\n```\r\nI use the default ApacheSimplePostRequestExecutor, the other two case code was never executed , and of couse , no JoddHttp or OkHttp dependence in my namespace .\r\nthe code work fine in jvm \r\nbut when i build for native image \r\n\r\n``` sh\r\n[INFO] [io.quarkus.deployment.pkg.steps.NativeImageBuildRunner] /opt/graalvm/bin/native-image -J-Dsun.nio.ch.maxUpdateArraySize=100 -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager -J-Dlogging.initial-configurator.min-level=500 -J-Dvertx.logger-delegate-factory-class-name=io.quarkus.vertx.core.runtime.VertxLogDelegateFactory -J-Dvertx.disableDnsResolver=true -J-Dio.netty.noUnsafe=true -J-Dio.netty.leakDetection.level=DISABLED -J-Dio.netty.allocator.maxOrder=3 -J-Duser.language=en -J-Duser.country=US -J-Dfile.encoding=UTF-8 --features=io.quarkus.runner.Feature,io.quarkus.runtime.graal.ResourcesFeature,io.quarkus.runtime.graal.DisableLoggingFeature -J--add-exports=java.security.jgss/sun.security.krb5=ALL-UNNAMED -J--add-opens=java.base/java.text=ALL-UNNAMED -J--add-opens=java.base/java.io=ALL-UNNAMED -J--add-opens=java.base/java.lang.invoke=ALL-UNNAMED -J--add-opens=java.base/java.util=ALL-UNNAMED -H:+CollectImageBuildStatistics -H:ImageBuildStatisticsFile=jsa2-1.0-SNAPSHOT-runner-timing-stats.json -H:BuildOutputJSONFile=jsa2-1.0-SNAPSHOT-runner-build-output-stats.json --initialize-at-run-time=me.chanjar.weixin.common.util.http,me.chanjar.weixin.common.util.http.okhttp.OkHttpSimplePostRequestExecutor -H:+PrintClassInitialization -H:+AllowFoldMethods -J-Djava.awt.headless=true --no-fallback --link-at-build-time -H:+ReportExceptionStackTraces -H:-AddAllCharsets --enable-url-protocols=http -H:NativeLinkerOption=-no-pie -H:-UseServiceLoaderFeature -H:+StackTrace -J--add-exports=org.graalvm.sdk/org.graalvm.nativeimage.impl=ALL-UNNAMED -J--add-exports=org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk=ALL-UNNAMED --exclude-config io\\.netty\\.netty-codec /META-INF/native-image/io\\.netty/netty-codec/generated/handlers/reflect-config\\.json --exclude-config io\\.netty\\.netty-handler /META-INF/native-image/io\\.netty/netty-handler/generated/handlers/reflect-config\\.json jsa2-1.0-SNAPSHOT-runner -jar jsa2-1.0-SNAPSHOT-runner.jar\r\n```\r\nthe error is : \r\n``` java\r\nCaused by: org.graalvm.compiler.java.BytecodeParser$BytecodeParserError: com.oracle.graal.pointsto.constraints.UnresolvedElementException: Discovered unresolved field during parsing: okhttp3.RequestBody.Companion. This error is reported at image build time because class me.chanjar.weixin.common.util.http.okhttp.OkHttpSimplePostRequestExecutor is registered for linking at image build time by command line\r\n```\r\nlook like the native build still try to build no used  JoddHttpSimplePostRequestExecutor ,OkHttpSimplePostRequestExecutor. \r\n\r\nIs there any way to exclude native build for the two class ? \r\nI use --initialize-at-run-time but it to no effect .\r\n","title":"How to exclude specified class initialize when build graalVM native image?","body":"<p>I import a lib ,and there is a factory like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public static RequestExecutor&lt;String, String&gt; create(RequestHttp requestHttp) {\n    switch (requestHttp.getRequestType()) {\n      case APACHE_HTTP:\n        return new ApacheSimplePostRequestExecutor(requestHttp);\n      case JODD_HTTP:\n        return new JoddHttpSimplePostRequestExecutor(requestHttp);\n      case OK_HTTP:\n        return new OkHttpSimplePostRequestExecutor(requestHttp);\n      default:\n        throw new IllegalArgumentException(&quot;error http type&quot;);\n    }\n  }\n</code></pre>\n<p>I use the default ApacheSimplePostRequestExecutor, the other two case code was never executed , and of couse , no JoddHttp or OkHttp dependence in my namespace .\nthe code work fine in jvm\nbut when i build for native image</p>\n<pre class=\"lang-bash prettyprint-override\"><code>[INFO] [io.quarkus.deployment.pkg.steps.NativeImageBuildRunner] /opt/graalvm/bin/native-image -J-Dsun.nio.ch.maxUpdateArraySize=100 -J-Djava.util.logging.manager=org.jboss.logmanager.LogManager -J-Dlogging.initial-configurator.min-level=500 -J-Dvertx.logger-delegate-factory-class-name=io.quarkus.vertx.core.runtime.VertxLogDelegateFactory -J-Dvertx.disableDnsResolver=true -J-Dio.netty.noUnsafe=true -J-Dio.netty.leakDetection.level=DISABLED -J-Dio.netty.allocator.maxOrder=3 -J-Duser.language=en -J-Duser.country=US -J-Dfile.encoding=UTF-8 --features=io.quarkus.runner.Feature,io.quarkus.runtime.graal.ResourcesFeature,io.quarkus.runtime.graal.DisableLoggingFeature -J--add-exports=java.security.jgss/sun.security.krb5=ALL-UNNAMED -J--add-opens=java.base/java.text=ALL-UNNAMED -J--add-opens=java.base/java.io=ALL-UNNAMED -J--add-opens=java.base/java.lang.invoke=ALL-UNNAMED -J--add-opens=java.base/java.util=ALL-UNNAMED -H:+CollectImageBuildStatistics -H:ImageBuildStatisticsFile=jsa2-1.0-SNAPSHOT-runner-timing-stats.json -H:BuildOutputJSONFile=jsa2-1.0-SNAPSHOT-runner-build-output-stats.json --initialize-at-run-time=me.chanjar.weixin.common.util.http,me.chanjar.weixin.common.util.http.okhttp.OkHttpSimplePostRequestExecutor -H:+PrintClassInitialization -H:+AllowFoldMethods -J-Djava.awt.headless=true --no-fallback --link-at-build-time -H:+ReportExceptionStackTraces -H:-AddAllCharsets --enable-url-protocols=http -H:NativeLinkerOption=-no-pie -H:-UseServiceLoaderFeature -H:+StackTrace -J--add-exports=org.graalvm.sdk/org.graalvm.nativeimage.impl=ALL-UNNAMED -J--add-exports=org.graalvm.nativeimage.builder/com.oracle.svm.core.jdk=ALL-UNNAMED --exclude-config io\\.netty\\.netty-codec /META-INF/native-image/io\\.netty/netty-codec/generated/handlers/reflect-config\\.json --exclude-config io\\.netty\\.netty-handler /META-INF/native-image/io\\.netty/netty-handler/generated/handlers/reflect-config\\.json jsa2-1.0-SNAPSHOT-runner -jar jsa2-1.0-SNAPSHOT-runner.jar\n</code></pre>\n<p>the error is :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Caused by: org.graalvm.compiler.java.BytecodeParser$BytecodeParserError: com.oracle.graal.pointsto.constraints.UnresolvedElementException: Discovered unresolved field during parsing: okhttp3.RequestBody.Companion. This error is reported at image build time because class me.chanjar.weixin.common.util.http.okhttp.OkHttpSimplePostRequestExecutor is registered for linking at image build time by command line\n</code></pre>\n<p>look like the native build still try to build no used  JoddHttpSimplePostRequestExecutor ,OkHttpSimplePostRequestExecutor.</p>\n<p>Is there any way to exclude native build for the two class ?\nI use --initialize-at-run-time but it to no effect .</p>\n"},{"tags":["java","spring-boot","azure","azure-cosmosdb","azure-cosmosdb-sqlapi"],"answers":[{"tags":[],"owner":{"account_id":17250869,"reputation":114,"user_id":12491066,"display_name":"Theo van Kraay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680693337,"creation_date":1680692166,"answer_id":75938571,"question_id":72108956,"body_markdown":"How to design the data layer for multi-tenant apps in Azure Cosmos DB will depend on the level of tenant density you want at both the application tier and the database tier. There is no one-fits-all &quot;best practice&quot;, as this will be a value judgement/trade-off between cost of tenant resources and performance. \r\n\r\nIt seems from your question that your preference is to have high tenant density at the application tier (i.e. be able to reference and/or create many tenant resources from a single application instance), while keeping performance isolation at the database tier (to avoid the &quot;noisy neighbour&quot; problem).\r\n\r\nTo answer the question of how to dynamically set the container name or database name before executing a CRUD operation: from version **3.33.0** of the Spring Data Client Library for Azure Cosmos DB, you can now make your Spring Data Repository code dynamically reference and/or create different databases or containers in Azure Cosmos DB for each tenant, from the same application instance and the same client. To achieve this at database level, create a class which extends CosmosFactory:\r\n\r\n    public class MultiTenantDBCosmosFactory extends CosmosFactory {\r\n        private static final Logger logger = LoggerFactory.getLogger(MultiTenantDBCosmosFactory .class);\r\n        private CosmosAsyncClient client;\r\n        public String tenantId;\r\n    \r\n        public MultiTenantDBCosmosFactory (CosmosAsyncClient cosmosAsyncClient, String databaseName) {\r\n            super(cosmosAsyncClient, databaseName);\r\n            this.client = cosmosAsyncClient;\r\n            this.tenantId = databaseName;\r\n        }\r\n    \r\n        @Override\r\n        public String getDatabaseName() {\r\n            //have some logic here that will determine the tenant id in the current thread\r\n            //so you can set this.tenantId to be the current tenant\r\n            return this.tenantId;\r\n        }\r\n    }\r\n\r\nThen, in your configuration class, add your new MultiTenantDBCosmosFactory class as a bean:\r\n\r\n    @Bean \r\n     public MultiTenantDBCosmosFactory cosmosFactory(CosmosAsyncClient cosmosAsyncClient) {\r\n        return new MultiTenantDBCosmosFactory (cosmosAsyncClient, getDatabaseName());\r\n     }\r\n\r\nThe overridden `getDatabaseName()` will then be invoked polymorphically by every CRUD method you call on Spring Data `Repository`, so you will need to add some logic that will determine the tenant id in the current thread, and set that value to be returned. To do the same at container level instead, you would just override the `overrideContainerName()` method in CosmosFactory instead, and add similar logic.\r\n\r\nI&#39;ve written a blog, which goes into more detail on this, and has links to extended samples. You can find the blog [here][1]. \r\n\r\n\r\n  [1]: https://devblogs.microsoft.com/cosmosdb/building-multi-tenant-java-apps-using-spring-data-and-azure-cosmos-db/","title":"Azure Cosmos DB multitenancy Java SDK","body":"<p>How to design the data layer for multi-tenant apps in Azure Cosmos DB will depend on the level of tenant density you want at both the application tier and the database tier. There is no one-fits-all &quot;best practice&quot;, as this will be a value judgement/trade-off between cost of tenant resources and performance.</p>\n<p>It seems from your question that your preference is to have high tenant density at the application tier (i.e. be able to reference and/or create many tenant resources from a single application instance), while keeping performance isolation at the database tier (to avoid the &quot;noisy neighbour&quot; problem).</p>\n<p>To answer the question of how to dynamically set the container name or database name before executing a CRUD operation: from version <strong>3.33.0</strong> of the Spring Data Client Library for Azure Cosmos DB, you can now make your Spring Data Repository code dynamically reference and/or create different databases or containers in Azure Cosmos DB for each tenant, from the same application instance and the same client. To achieve this at database level, create a class which extends CosmosFactory:</p>\n<pre><code>public class MultiTenantDBCosmosFactory extends CosmosFactory {\n    private static final Logger logger = LoggerFactory.getLogger(MultiTenantDBCosmosFactory .class);\n    private CosmosAsyncClient client;\n    public String tenantId;\n\n    public MultiTenantDBCosmosFactory (CosmosAsyncClient cosmosAsyncClient, String databaseName) {\n        super(cosmosAsyncClient, databaseName);\n        this.client = cosmosAsyncClient;\n        this.tenantId = databaseName;\n    }\n\n    @Override\n    public String getDatabaseName() {\n        //have some logic here that will determine the tenant id in the current thread\n        //so you can set this.tenantId to be the current tenant\n        return this.tenantId;\n    }\n}\n</code></pre>\n<p>Then, in your configuration class, add your new MultiTenantDBCosmosFactory class as a bean:</p>\n<pre><code>@Bean \n public MultiTenantDBCosmosFactory cosmosFactory(CosmosAsyncClient cosmosAsyncClient) {\n    return new MultiTenantDBCosmosFactory (cosmosAsyncClient, getDatabaseName());\n }\n</code></pre>\n<p>The overridden <code>getDatabaseName()</code> will then be invoked polymorphically by every CRUD method you call on Spring Data <code>Repository</code>, so you will need to add some logic that will determine the tenant id in the current thread, and set that value to be returned. To do the same at container level instead, you would just override the <code>overrideContainerName()</code> method in CosmosFactory instead, and add similar logic.</p>\n<p>I've written a blog, which goes into more detail on this, and has links to extended samples. You can find the blog <a href=\"https://devblogs.microsoft.com/cosmosdb/building-multi-tenant-java-apps-using-spring-data-and-azure-cosmos-db/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":9699666,"reputation":31,"user_id":7195051,"display_name":"Stefan Starke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1680693337,"creation_date":1651647153,"question_id":72108956,"body_markdown":"We are currently looking into best practices concerning Cosmos DB and its Java SDK in combination with multitenancy. We have a simple Spring Boot based Java service that is providing REST interfaces for CRUD operations on data in a Cosmos DB using the SQL API. Now we need to introduce multitenancy into it. The tenant classifier will be read from a JWT when receiving a REST request and be available in the requests Thread Local context.\r\n\r\nCurrent considerations are to have the data of one tenant in either a separate container or a separate database under one database account. As described in the MS document [Multitenancy and Azure Cosmos DB](https://learn.microsoft.com/en-us/azure/architecture/guide/multitenant/service/cosmos-db).\r\n\r\nHaving all data in one container using the tenant classifier as a partition key will not work due to the amount of data, plus we need separation of the data to prevent the noisy neighbour problem.\r\n\r\nAre there any best practices on how to design the data access layer - also in regards of performance pitfalls?\r\n\r\nOur understanding at the moment \r\n\r\n - Use one CosmosDBClient per application (as the initialization takes time)\r\n - Container names are defined on entity level (@Container())\r\n\r\nThe official sample create individual repositories and database configs [Azure Spring Boot Cosmos Samples](https://github.com/Azure-Samples/azure-spring-boot-samples/blob/spring-cloud-azure_4.0.0/cosmos/azure-spring-data-cosmos/cosmos-multi-database-single-account/src/main/java/com/azure/spring/sample/cosmos/multi/database/MultiDatabaseApplication.java) which sounds wrong to me\r\n\r\nBasically \r\n\r\n - Should we create on CosmosDB client and dynamically (how?) set the container name or database name before executing a CRUD operation? \r\n - Should we create separate clients for every tenant and re-use those instances?\r\n\r\n\r\n","title":"Azure Cosmos DB multitenancy Java SDK","body":"<p>We are currently looking into best practices concerning Cosmos DB and its Java SDK in combination with multitenancy. We have a simple Spring Boot based Java service that is providing REST interfaces for CRUD operations on data in a Cosmos DB using the SQL API. Now we need to introduce multitenancy into it. The tenant classifier will be read from a JWT when receiving a REST request and be available in the requests Thread Local context.</p>\n<p>Current considerations are to have the data of one tenant in either a separate container or a separate database under one database account. As described in the MS document <a href=\"https://learn.microsoft.com/en-us/azure/architecture/guide/multitenant/service/cosmos-db\" rel=\"nofollow noreferrer\">Multitenancy and Azure Cosmos DB</a>.</p>\n<p>Having all data in one container using the tenant classifier as a partition key will not work due to the amount of data, plus we need separation of the data to prevent the noisy neighbour problem.</p>\n<p>Are there any best practices on how to design the data access layer - also in regards of performance pitfalls?</p>\n<p>Our understanding at the moment</p>\n<ul>\n<li>Use one CosmosDBClient per application (as the initialization takes time)</li>\n<li>Container names are defined on entity level (@Container())</li>\n</ul>\n<p>The official sample create individual repositories and database configs <a href=\"https://github.com/Azure-Samples/azure-spring-boot-samples/blob/spring-cloud-azure_4.0.0/cosmos/azure-spring-data-cosmos/cosmos-multi-database-single-account/src/main/java/com/azure/spring/sample/cosmos/multi/database/MultiDatabaseApplication.java\" rel=\"nofollow noreferrer\">Azure Spring Boot Cosmos Samples</a> which sounds wrong to me</p>\n<p>Basically</p>\n<ul>\n<li>Should we create on CosmosDB client and dynamically (how?) set the container name or database name before executing a CRUD operation?</li>\n<li>Should we create separate clients for every tenant and re-use those instances?</li>\n</ul>\n"},{"tags":["java","android","android-studio","dji-sdk","batterylevel"],"answers":[{"comments":[{"owner":{"account_id":2818729,"reputation":53,"user_id":2423045,"accept_rate":80,"display_name":"Shareef"},"score":0,"creation_date":1680693128,"post_id":75928137,"comment_id":133940251,"body_markdown":"when I use this code, it showed this error: Cannot resolve method &#39;getBatteryInfo&#39; in &#39;RemoteController&#39;","body":"when I use this code, it showed this error: Cannot resolve method &#39;getBatteryInfo&#39; in &#39;RemoteController&#39;"}],"tags":[],"owner":{"account_id":23697968,"reputation":17,"user_id":17721455,"display_name":"Gopi Arumugam"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680603195,"creation_date":1680603109,"answer_id":75928137,"question_id":75928080,"body_markdown":"The code you have provided looks correct, assuming that baseProduct is a valid reference to your DJI remote controller.\r\n\r\nHowever, to get the battery level of the remote controller, you need to call the getRemoteControllerBatteryInfo method instead of getBatteryLevel as follows:\r\n\r\n    public void getBatteryLevel(CommonCallbacks.CompletionCallbackWith&lt;Integer&gt; callback) {\r\n        if (baseProduct != null &amp;&amp; baseProduct.isConnected()) {\r\n            if (baseProduct instanceof Aircraft) {\r\n                ((Aircraft) baseProduct).getRemoteController().getBatteryInfo().getChargeRemainingInPercent(callback);\r\n            } else {\r\n                callback.onFailure(null);\r\n            }\r\n        } else {\r\n            callback.onFailure(null);\r\n        }\r\n    }\r\n\r\nThis will return the battery level of the remote controller as an integer between 0 and 100, representing the percentage of charge remaining.\r\n\r\nMake sure that your app has the necessary permissions to access the DJI SDK functions, and that the remote controller is connected to the aircraft and turned on before calling this method.\r\n","title":"how to get battery level of the dji remote controller in android app (built using android studio - java)?","body":"<p>The code you have provided looks correct, assuming that baseProduct is a valid reference to your DJI remote controller.</p>\n<p>However, to get the battery level of the remote controller, you need to call the getRemoteControllerBatteryInfo method instead of getBatteryLevel as follows:</p>\n<pre><code>public void getBatteryLevel(CommonCallbacks.CompletionCallbackWith&lt;Integer&gt; callback) {\n    if (baseProduct != null &amp;&amp; baseProduct.isConnected()) {\n        if (baseProduct instanceof Aircraft) {\n            ((Aircraft) baseProduct).getRemoteController().getBatteryInfo().getChargeRemainingInPercent(callback);\n        } else {\n            callback.onFailure(null);\n        }\n    } else {\n        callback.onFailure(null);\n    }\n}\n</code></pre>\n<p>This will return the battery level of the remote controller as an integer between 0 and 100, representing the percentage of charge remaining.</p>\n<p>Make sure that your app has the necessary permissions to access the DJI SDK functions, and that the remote controller is connected to the aircraft and turned on before calling this method.</p>\n"}],"owner":{"account_id":2818729,"reputation":53,"user_id":2423045,"accept_rate":80,"display_name":"Shareef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1680693226,"creation_date":1680602651,"question_id":75928080,"body_markdown":"with the code below i am able to retrieve serial number of the dji drone remote controller. however, I cannot get battery level. is there anyway I can retrieve battery level? please&#160;advise.\r\n\r\nthe code for serial number (which is fine):\r\n\r\n    public void getSerialNumber(CommonCallbacks.CompletionCallbackWith&lt;String&gt; callback)\r\n        {\r\n            if(baseProduct != null &amp;&amp; baseProduct.isConnected()) {\r\n                if (baseProduct instanceof Aircraft) {\r\n                    ((Aircraft) baseProduct).getFlightController().getSerialNumber(callback);\r\n                }\r\n                else callback.onFailure(null);\r\n            }\r\n            else callback.onFailure(null);\r\n        }\r\n\r\nthe code for remaining battery (which doesn&#39;t work):\r\n\r\n    public void getBatteryLevel(CommonCallbacks.CompletionCallbackWith&lt;Integer&gt; callback)\r\n        {\r\n            if(baseProduct != null &amp;&amp; baseProduct.isConnected()) {\r\n                if (baseProduct instanceof Aircraft) {\r\n                    ((Aircraft) baseProduct).getBattery().getChargeRemaining(callback);\r\n                }\r\n                else callback.onFailure(null);\r\n            }\r\n            else callback.onFailure(null);\r\n        }","title":"how to get battery level of the dji remote controller in android app (built using android studio - java)?","body":"<p>with the code below i am able to retrieve serial number of the dji drone remote controller. however, I cannot get battery level. is there anyway I can retrieve battery level? please advise.</p>\n<p>the code for serial number (which is fine):</p>\n<pre><code>public void getSerialNumber(CommonCallbacks.CompletionCallbackWith&lt;String&gt; callback)\n    {\n        if(baseProduct != null &amp;&amp; baseProduct.isConnected()) {\n            if (baseProduct instanceof Aircraft) {\n                ((Aircraft) baseProduct).getFlightController().getSerialNumber(callback);\n            }\n            else callback.onFailure(null);\n        }\n        else callback.onFailure(null);\n    }\n</code></pre>\n<p>the code for remaining battery (which doesn't work):</p>\n<pre><code>public void getBatteryLevel(CommonCallbacks.CompletionCallbackWith&lt;Integer&gt; callback)\n    {\n        if(baseProduct != null &amp;&amp; baseProduct.isConnected()) {\n            if (baseProduct instanceof Aircraft) {\n                ((Aircraft) baseProduct).getBattery().getChargeRemaining(callback);\n            }\n            else callback.onFailure(null);\n        }\n        else callback.onFailure(null);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1541168776,"creation_date":1541168776,"answer_id":53120405,"question_id":53119596,"body_markdown":"Override boot&#39;s container factory bean declaration and add it there.\r\n\r\n\t@Bean\r\n\tpublic SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(\r\n\t\t\tSimpleRabbitListenerContainerFactoryConfigurer configurer,\r\n\t\t\tConnectionFactory connectionFactory) {\r\n\t\tSimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\r\n\t\tconfigurer.configure(factory, connectionFactory);\r\n\t\tfactory.setConsumerTagStrategy(q -&gt; &quot;myConsumerFor.&quot; + q);\r\n\t\treturn factory;\r\n\t}\r\n\r\n[![Tag][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5zLWB.png","title":"How to set amqp RabbitMQ consumer tag in Spring Boot?","body":"<p>Override boot's container factory bean declaration and add it there.</p>\n\n<pre><code>@Bean\npublic SimpleRabbitListenerContainerFactory rabbitListenerContainerFactory(\n        SimpleRabbitListenerContainerFactoryConfigurer configurer,\n        ConnectionFactory connectionFactory) {\n    SimpleRabbitListenerContainerFactory factory = new SimpleRabbitListenerContainerFactory();\n    configurer.configure(factory, connectionFactory);\n    factory.setConsumerTagStrategy(q -&gt; \"myConsumerFor.\" + q);\n    return factory;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5zLWB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5zLWB.png\" alt=\"Tag\"></a></p>\n"},{"tags":[],"owner":{"account_id":9583670,"reputation":308,"user_id":7117293,"display_name":"Majlanky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679253482,"creation_date":1679253482,"answer_id":75784413,"question_id":53119596,"body_markdown":"Even Gary&#39;s answer is very good it is not working always. For example in Spring Boot with autoconfiguration and using `RabbitListener` you probably end with some weird situation where application refuse to start or your factory will not be used. I would recommend to used `BeanPostProcessor` instead. There is a simple example following:\r\n```java\r\n@Component\r\npublic class ConsumerTagByAppSetter implements BeanPostProcessor {\r\n\r\n    private final String appName;\r\n\r\n    public ConsumerTagByAppSetter(@Value(&quot;${spring.application.name}&quot;) String appName) {\r\n        this.appName = appName;\r\n    }\r\n\r\n    @Override\r\n    public Object postProcessAfterInitialization(@NonNull Object bean, @NonNull String beanName) throws BeansException {\r\n        if (bean instanceof SimpleRabbitListenerContainerFactory) {\r\n            ((SimpleRabbitListenerContainerFactory) bean).setConsumerTagStrategy(q -&gt; appName + &quot;.&quot; + q);\r\n        }\r\n        return bean;\r\n    }\r\n}\r\n```\r\nThis post processor is applied to the factory created and customized by auto configuration and changes just the way how consumer tag is generated which I consider much safer and out of the box than trying to start from scratch...","title":"How to set amqp RabbitMQ consumer tag in Spring Boot?","body":"<p>Even Gary's answer is very good it is not working always. For example in Spring Boot with autoconfiguration and using <code>RabbitListener</code> you probably end with some weird situation where application refuse to start or your factory will not be used. I would recommend to used <code>BeanPostProcessor</code> instead. There is a simple example following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class ConsumerTagByAppSetter implements BeanPostProcessor {\n\n    private final String appName;\n\n    public ConsumerTagByAppSetter(@Value(&quot;${spring.application.name}&quot;) String appName) {\n        this.appName = appName;\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(@NonNull Object bean, @NonNull String beanName) throws BeansException {\n        if (bean instanceof SimpleRabbitListenerContainerFactory) {\n            ((SimpleRabbitListenerContainerFactory) bean).setConsumerTagStrategy(q -&gt; appName + &quot;.&quot; + q);\n        }\n        return bean;\n    }\n}\n</code></pre>\n<p>This post processor is applied to the factory created and customized by auto configuration and changes just the way how consumer tag is generated which I consider much safer and out of the box than trying to start from scratch...</p>\n"},{"tags":[],"owner":{"account_id":23401297,"reputation":66,"user_id":17464403,"display_name":"KrzysztofS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680693065,"creation_date":1680693065,"answer_id":75938704,"question_id":53119596,"body_markdown":"You do not have to override SimpleRabbitListenerContainerFactory.\r\n\r\nIt is enough to customize it by creating the extra bean which will be applied by spring boot autoconfiguration.\r\n\r\n```\r\n    @Bean\r\n    ContainerCustomizer&lt;SimpleMessageListenerContainer&gt; containerCustomizer(@Value(&quot;${spring.application.name}&quot;) String applicationName) {\r\n        return container -&gt; container.setConsumerTagStrategy(queue -&gt; applicationName + &quot;_&quot; + UUID.randomUUID());\r\n    }\r\n```","title":"How to set amqp RabbitMQ consumer tag in Spring Boot?","body":"<p>You do not have to override SimpleRabbitListenerContainerFactory.</p>\n<p>It is enough to customize it by creating the extra bean which will be applied by spring boot autoconfiguration.</p>\n<pre><code>    @Bean\n    ContainerCustomizer&lt;SimpleMessageListenerContainer&gt; containerCustomizer(@Value(&quot;${spring.application.name}&quot;) String applicationName) {\n        return container -&gt; container.setConsumerTagStrategy(queue -&gt; applicationName + &quot;_&quot; + UUID.randomUUID());\n    }\n</code></pre>\n"}],"owner":{"account_id":3762653,"reputation":5106,"user_id":3127111,"accept_rate":61,"display_name":"watery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1361,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":53120405,"answer_count":3,"score":2,"last_activity_date":1680693065,"creation_date":1541165734,"question_id":53119596,"body_markdown":"In question [How to set the consumer-tag value in spring-amqp](https://stackoverflow.com/q/29801873/3127111) it is being asked how to change the consumer tag when using Spring Amqp and the answer suggests to provide an implementation of `ConsumerTagStrategy`.\r\n\r\nI&#39;m using Spring Boot 2.0.5 and I&#39;m trying to figure out if I can do the same customization, though I can&#39;t find any configuration property about that nor providing a bean of type `ConsumerTagStrategy` seems to work.\r\n\r\nHow should I go about this?","title":"How to set amqp RabbitMQ consumer tag in Spring Boot?","body":"<p>In question <a href=\"https://stackoverflow.com/q/29801873/3127111\">How to set the consumer-tag value in spring-amqp</a> it is being asked how to change the consumer tag when using Spring Amqp and the answer suggests to provide an implementation of <code>ConsumerTagStrategy</code>.</p>\n\n<p>I'm using Spring Boot 2.0.5 and I'm trying to figure out if I can do the same customization, though I can't find any configuration property about that nor providing a bean of type <code>ConsumerTagStrategy</code> seems to work.</p>\n\n<p>How should I go about this?</p>\n"},{"tags":["java","selenium-webdriver","testing","electron"],"owner":{"account_id":14369882,"reputation":255,"user_id":10379923,"display_name":"FearghalQA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1680692031,"creation_date":1680689289,"question_id":75938146,"body_markdown":"I&#39;m am testing an electron app using selenium and suddenly getting this error after my electron app version changed when I try to launch my tests \r\n\r\n&gt;org.openqa.selenium.SessionNotCreatedException: Could not start a new &gt;session. Possible causes are invalid address of the remote server or &gt;browser start-up failure.\r\n\r\nI&#39;m using: \r\n\r\n - electron version 4.2.12\r\n - chromedriver 2.42 (Ive tried 2.40 - 2.43)\r\n - Selenium 4.0\r\n\r\nAnd my setup is as follows:\r\n\r\n    String projectLocation = System.getProperty(&quot;user.dir&quot;)                 \r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, projectLocation + &quot;/chromedriver.exe&quot;);\r\n            \r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\r\n    options.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode\r\n    options.addArguments(&quot;disable-infobars&quot;); // disabling infobars\r\n    options.addArguments(&quot;--disable-extensions&quot;); // disabling extensions\r\n    options.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource \r\n    problems\r\n    options.addArguments(&quot;--remote-allow-origins=*&quot;);\r\n    options.setBinary(&quot;C:/Users/Public/ElectronApp.exe&quot;);\r\n    browser = new ChromeDriver(options);\r\n    pageConfig = new PageConfig(browser);\r\n","title":"SessionNotCreatedException when launching chromedriver and electron","body":"<p>I'm am testing an electron app using selenium and suddenly getting this error after my electron app version changed when I try to launch my tests</p>\n<blockquote>\n<p>org.openqa.selenium.SessionNotCreatedException: Could not start a new &gt;session. Possible causes are invalid address of the remote server or &gt;browser start-up failure.</p>\n</blockquote>\n<p>I'm using:</p>\n<ul>\n<li>electron version 4.2.12</li>\n<li>chromedriver 2.42 (Ive tried 2.40 - 2.43)</li>\n<li>Selenium 4.0</li>\n</ul>\n<p>And my setup is as follows:</p>\n<pre><code>String projectLocation = System.getProperty(&quot;user.dir&quot;)                 \nSystem.setProperty(&quot;webdriver.chrome.driver&quot;, projectLocation + &quot;/chromedriver.exe&quot;);\n        \nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--no-sandbox&quot;); // Bypass OS security model\noptions.addArguments(&quot;start-maximized&quot;); // open Browser in maximized mode\noptions.addArguments(&quot;disable-infobars&quot;); // disabling infobars\noptions.addArguments(&quot;--disable-extensions&quot;); // disabling extensions\noptions.addArguments(&quot;--disable-gpu&quot;); // applicable to windows os only\noptions.addArguments(&quot;--disable-dev-shm-usage&quot;); // overcome limited resource \nproblems\noptions.addArguments(&quot;--remote-allow-origins=*&quot;);\noptions.setBinary(&quot;C:/Users/Public/ElectronApp.exe&quot;);\nbrowser = new ChromeDriver(options);\npageConfig = new PageConfig(browser);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":24040318,"reputation":56,"user_id":18020097,"display_name":"Dusan Madzarevic"},"score":0,"creation_date":1677500752,"post_id":75578930,"comment_id":133343606,"body_markdown":"Figured it out. The receiving endpoint had a body param annotated with @RequestBody, but I used the wrong one by accident ( io.swagger.v3.oas.annotations.parameters.RequestBody instead of org.springframework.web.bind.annotation.RequestBody)","body":"Figured it out. The receiving endpoint had a body param annotated with @RequestBody, but I used the wrong one by accident ( io.swagger.v3.oas.annotations.parameters.RequestBody instead of org.springframework.web.bind.annotation.RequestBody)"}],"owner":{"account_id":24040318,"reputation":56,"user_id":18020097,"display_name":"Dusan Madzarevic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1680691455,"creation_date":1677491615,"question_id":75578930,"body_markdown":"I have two Spring Boot microservices that I&#39;m trying to establish communication between via http. They&#39;re both registered on Eureka, and I&#39;m using Webclient to send a post request from service A to B as follows:\r\n\r\n\r\n```\r\n\t\tWebClient webClient = webClientBuilder.build();\r\n\t\tSystem.out.println(request.getAuthId());\r\n\t\tSystem.out.println(request.getFirstName());\r\n\t\t\r\n\t\tMap&lt;String, String&gt; valueMap = new HashMap&lt;&gt;();\r\n\t\tvalueMap.put(&quot;firstName&quot;, request.getFirstName());\r\n\t\tvalueMap.put(&quot;lastName&quot;, request.getLastName());\r\n\t\tvalueMap.put(&quot;authId&quot;, request.getAuthId());\r\n\t\t\r\n\t\tMono&lt;MessageResponse&gt; createdUser = webClient.post()\r\n\t\t\t\t.uri(&quot;http://market-service/market/agrinet/auth/add-user&quot;)\r\n\t\t\t\t.header(&quot;language&quot;, locale.getLanguage())\r\n\t\t\t\t.header(&quot;accept-language&quot;,locale.getLanguage().toUpperCase())\r\n\t\t\t\t.headers(h -&gt; h.setBearerAuth(jwt.getTokenValue()))\r\n\t\t\t\t.contentType(MediaType.APPLICATION_JSON)\r\n\t\t\t\t.body(BodyInserters.fromValue(valueMap))\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(MessageResponse.class);\r\n\t\t\r\n\t\treturn createdUser.block();\r\n```\r\n\r\n\r\n\r\n\r\nThe Map approach is something I tried out based on another question here. I tried just sending the request object itself via .bodyValue() too. But both approaches have been to no avail, for whatever reason the body is just missing when the request reaches the other microservice. The headers are there and accounted for, however.\r\n\r\nWhat am I missing? I scoured Google for answers but this seems like a pretty standard use case and yet something isn&#39;t adding up for me.","title":"Spring Boot WebClient communication between two microservices: Body missing at recipient microservice","body":"<p>I have two Spring Boot microservices that I'm trying to establish communication between via http. They're both registered on Eureka, and I'm using Webclient to send a post request from service A to B as follows:</p>\n<pre><code>        WebClient webClient = webClientBuilder.build();\n        System.out.println(request.getAuthId());\n        System.out.println(request.getFirstName());\n        \n        Map&lt;String, String&gt; valueMap = new HashMap&lt;&gt;();\n        valueMap.put(&quot;firstName&quot;, request.getFirstName());\n        valueMap.put(&quot;lastName&quot;, request.getLastName());\n        valueMap.put(&quot;authId&quot;, request.getAuthId());\n        \n        Mono&lt;MessageResponse&gt; createdUser = webClient.post()\n                .uri(&quot;http://market-service/market/agrinet/auth/add-user&quot;)\n                .header(&quot;language&quot;, locale.getLanguage())\n                .header(&quot;accept-language&quot;,locale.getLanguage().toUpperCase())\n                .headers(h -&gt; h.setBearerAuth(jwt.getTokenValue()))\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromValue(valueMap))\n                .retrieve()\n                .bodyToMono(MessageResponse.class);\n        \n        return createdUser.block();\n</code></pre>\n<p>The Map approach is something I tried out based on another question here. I tried just sending the request object itself via .bodyValue() too. But both approaches have been to no avail, for whatever reason the body is just missing when the request reaches the other microservice. The headers are there and accounted for, however.</p>\n<p>What am I missing? I scoured Google for answers but this seems like a pretty standard use case and yet something isn't adding up for me.</p>\n"},{"tags":["java","spring-boot","jax-rs","keycloak"],"owner":{"account_id":9656555,"reputation":221,"user_id":7165917,"accept_rate":56,"display_name":"jane"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1680691120,"creation_date":1680691120,"question_id":75938408,"body_markdown":"I have Reader and Writer interceptor for Embedded Keycloak that is JAX-RS specification using Resteasy implementation. \r\n\r\nApplication setup is similar to this :https://www.baeldung.com/keycloak-embedded-in-spring-boot-app\r\n\r\nCode for Interceptor :\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Provider\r\n    public class RequestClientWriterInterceptor implements WriterInterceptor {\r\n\r\n        @Override\r\n        public void aroundWriteTo(WriterInterceptorContext context) \r\n          throws IOException, WebApplicationException {\r\n            context.getOutputStream()\r\n              .write((&quot;Message added in the writer interceptor in the client side&quot;).getBytes());\r\n\r\n            context.proceed();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n**My question is how and where do I register the interceptor in Keycloak(or any application) to read all http calls ?** I dont want to use &quot;RealmResourceProviderFactory&quot; as I want to catch all http calls. Kindly advice. Thanks.","title":"WriterInterceptor/ReaderInterceptor for keycloak application in jax-rs","body":"<p>I have Reader and Writer interceptor for Embedded Keycloak that is JAX-RS specification using Resteasy implementation.</p>\n<p>Application setup is similar to this :<a href=\"https://www.baeldung.com/keycloak-embedded-in-spring-boot-app\" rel=\"nofollow noreferrer\">https://www.baeldung.com/keycloak-embedded-in-spring-boot-app</a></p>\n<p>Code for Interceptor :</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Provider\npublic class RequestClientWriterInterceptor implements WriterInterceptor {\n\n    @Override\n    public void aroundWriteTo(WriterInterceptorContext context) \n      throws IOException, WebApplicationException {\n        context.getOutputStream()\n          .write((\"Message added in the writer interceptor in the client side\").getBytes());\n\n        context.proceed();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><strong>My question is how and where do I register the interceptor in Keycloak(or any application) to read all http calls ?</strong> I dont want to use &quot;RealmResourceProviderFactory&quot; as I want to catch all http calls. Kindly advice. Thanks.</p>\n"},{"tags":["java","maven","spring-mvc","spring-boot","jaxb"],"comments":[{"owner":{"account_id":906349,"reputation":1004,"user_id":941163,"accept_rate":46,"display_name":"bitsofinfo"},"score":0,"creation_date":1508351597,"post_id":45545445,"comment_id":80581118,"body_markdown":"Same problem, with spring-boot 1.5.x, this all worked fine previously. Can anyone at spring assist?","body":"Same problem, with spring-boot 1.5.x, this all worked fine previously. Can anyone at spring assist?"},{"owner":{"account_id":906349,"reputation":1004,"user_id":941163,"accept_rate":46,"display_name":"bitsofinfo"},"score":0,"creation_date":1508421945,"post_id":45545445,"comment_id":80611109,"body_markdown":"For anyone else in the spring world, here is a sample project re-producing the issue: https://github.com/nfedyk/spring-boot-jpa-issue-01","body":"For anyone else in the spring world, here is a sample project re-producing the issue: <a href=\"https://github.com/nfedyk/spring-boot-jpa-issue-01\" rel=\"nofollow noreferrer\">github.com/nfedyk/spring-boot-jpa-issue-01</a>"}],"answers":[{"tags":[],"owner":{"account_id":987019,"reputation":513,"user_id":1005273,"accept_rate":86,"display_name":"baronKarza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505197658,"creation_date":1505197658,"answer_id":46169366,"question_id":45545445,"body_markdown":"A possible solution for the `NoClassDefFoundError` originated by the `package-info` class: https://stackoverflow.com/questions/43782191/spring-boot-runnable-jar-cant-load-package-info-class/46169288#46169288","title":"Spring Boot, ClassNotDef Error with JaxB, Package -Info.java","body":"<p>A possible solution for the <code>NoClassDefFoundError</code> originated by the <code>package-info</code> class: <a href=\"https://stackoverflow.com/questions/43782191/spring-boot-runnable-jar-cant-load-package-info-class/46169288#46169288\">Spring boot, runnable jar can&#39;t load package-info.class</a></p>\n"},{"tags":[],"owner":{"account_id":311431,"reputation":49,"user_id":625015,"display_name":"Grim42"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1509099317,"creation_date":1509099317,"answer_id":46972703,"question_id":45545445,"body_markdown":"Found the issue.\r\nThe AJSC framework implementing the ADF (Hibernate based ORM) did not support package-info and hence searched for that class everytime.\r\n\r\nOnly way around was to execute the command to not generate the package-info during stubs generation.\r\n\r\nUse `-npa` in **XJC** utility to suppress package-info and everything will work.","title":"Spring Boot, ClassNotDef Error with JaxB, Package -Info.java","body":"<p>Found the issue.\nThe AJSC framework implementing the ADF (Hibernate based ORM) did not support package-info and hence searched for that class everytime.</p>\n\n<p>Only way around was to execute the command to not generate the package-info during stubs generation.</p>\n\n<p>Use <code>-npa</code> in <strong>XJC</strong> utility to suppress package-info and everything will work.</p>\n"},{"tags":[],"owner":{"account_id":1080327,"reputation":819,"user_id":1077487,"display_name":"Mitch1077487"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651007802,"creation_date":1651007802,"answer_id":72020626,"question_id":45545445,"body_markdown":"In case you got here by looking for a solution to a similar &quot;package-info (wrong name:&quot; issue, I fixed my problem by upgrading hibernate (since the one in the app was quite old).","title":"Spring Boot, ClassNotDef Error with JaxB, Package -Info.java","body":"<p>In case you got here by looking for a solution to a similar &quot;package-info (wrong name:&quot; issue, I fixed my problem by upgrading hibernate (since the one in the app was quite old).</p>\n"}],"owner":{"account_id":311431,"reputation":49,"user_id":625015,"display_name":"Grim42"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46972703,"answer_count":3,"score":1,"last_activity_date":1680690347,"creation_date":1502104024,"question_id":45545445,"body_markdown":"I am using AJSC framework in SpringBoot with JaxB implementation. I built the stubs outside the project and copied them inside the project with proper directories.\r\n\r\nHowever, during API execution, i get a classNotDef error. But I have seen my Jar file and i have the package-info class file inside the directory.\r\n\r\n    Caused by: java.lang.NoClassDefFoundError: BOOT-INF/classes/com/att/fpp/fpprome/opportunity/package-info (wrong name: com/att/fpp/fpprome/opportunity/package-info)\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(Unknown Source)\r\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.access$100(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Unknown Source)\r\n        at org.hibernate.annotations.common.util.StandardClassLoaderDelegateImpl.classForName(StandardClassLoaderDelegateImpl.java:57)\r\n        at org.hibernate.boot.internal.MetadataBuilderImpl$MetadataBuildingOptionsImpl$4.classForName(MetadataBuilderImpl.java:758)\r\n        at org.hibernate.annotations.common.reflection.java.JavaReflectionManager.packageForName(JavaReflectionManager.java:148)\r\n        at org.hibernate.cfg.AnnotationBinder.bindPackage(AnnotationBinder.java:281)\r\n        at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.prepare(AnnotationMetadataSourceProcessorImpl.java:186)\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.prepare(MetadataBuildingProcess.java:156)\r\n        at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:253)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\r\n        at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\r\n        at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\r\n        at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n        at acsi.grid.gridcore.core.sql.EntityManagerHelper.getDefaultEntityManager(EntityManagerHelper.java:250)\r\n        at acsi.grid.gridcore.core.sql.EntityManagerHelper.getEntityManager(EntityManagerHelper.java:174)\r\n        at acsi.grid.gridcore.core.JdbcGridBagImpl.getEntityManager(JdbcGridBagImpl.java:188)\r\n        at acsi.grid.gridcore.core.JdbcGridBagImpl.put(JdbcGridBagImpl.java:163)\r\n        at com.att.fpp.fpprome.dao.impl.OpportunityDaoImpl.updateOpportunityDatabaseROME(OpportunityDaoImpl.java:497)\r\n        at com.att.fpp.fpprome.bo.impl.OpportunityBusinessObjectImpl.getOpptyInfo(OpportunityBusinessObjectImpl.java:78)\r\n        at com.att.fpp.fpprome.service.impl.OpportunityServiceImpl.getOpportunitiesById(OpportunityServiceImpl.java:62)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)\r\n        at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\r\n\r\nAlso I noticed that I am not using apache.cxf anywhere in pom but yet it is being called here.\r\n","title":"Spring Boot, ClassNotDef Error with JaxB, Package -Info.java","body":"<p>I am using AJSC framework in SpringBoot with JaxB implementation. I built the stubs outside the project and copied them inside the project with proper directories.</p>\n\n<p>However, during API execution, i get a classNotDef error. But I have seen my Jar file and i have the package-info class file inside the directory.</p>\n\n<pre><code>Caused by: java.lang.NoClassDefFoundError: BOOT-INF/classes/com/att/fpp/fpprome/opportunity/package-info (wrong name: com/att/fpp/fpprome/opportunity/package-info)\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$100(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at org.springframework.boot.loader.LaunchedURLClassLoader.loadClass(LaunchedURLClassLoader.java:94)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Unknown Source)\n    at org.hibernate.annotations.common.util.StandardClassLoaderDelegateImpl.classForName(StandardClassLoaderDelegateImpl.java:57)\n    at org.hibernate.boot.internal.MetadataBuilderImpl$MetadataBuildingOptionsImpl$4.classForName(MetadataBuilderImpl.java:758)\n    at org.hibernate.annotations.common.reflection.java.JavaReflectionManager.packageForName(JavaReflectionManager.java:148)\n    at org.hibernate.cfg.AnnotationBinder.bindPackage(AnnotationBinder.java:281)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.prepare(AnnotationMetadataSourceProcessorImpl.java:186)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.prepare(MetadataBuildingProcess.java:156)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:253)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:847)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:874)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at acsi.grid.gridcore.core.sql.EntityManagerHelper.getDefaultEntityManager(EntityManagerHelper.java:250)\n    at acsi.grid.gridcore.core.sql.EntityManagerHelper.getEntityManager(EntityManagerHelper.java:174)\n    at acsi.grid.gridcore.core.JdbcGridBagImpl.getEntityManager(JdbcGridBagImpl.java:188)\n    at acsi.grid.gridcore.core.JdbcGridBagImpl.put(JdbcGridBagImpl.java:163)\n    at com.att.fpp.fpprome.dao.impl.OpportunityDaoImpl.updateOpportunityDatabaseROME(OpportunityDaoImpl.java:497)\n    at com.att.fpp.fpprome.bo.impl.OpportunityBusinessObjectImpl.getOpptyInfo(OpportunityBusinessObjectImpl.java:78)\n    at com.att.fpp.fpprome.service.impl.OpportunityServiceImpl.getOpportunitiesById(OpportunityServiceImpl.java:62)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:180)\n    at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\n</code></pre>\n\n<p>Also I noticed that I am not using apache.cxf anywhere in pom but yet it is being called here.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9702,"page":523,"page_size":100}
