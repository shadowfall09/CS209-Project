{"items":[{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":937095,"reputation":14646,"user_id":965834,"accept_rate":83,"display_name":"Jeto"},"score":0,"creation_date":1551719582,"post_id":54988242,"comment_id":96734228,"body_markdown":"&quot;Project SDK is not defined&quot; probably has something to do with it.","body":"&quot;Project SDK is not defined&quot; probably has something to do with it."},{"owner":{"account_id":14953344,"reputation":11,"user_id":10795601,"display_name":"Jake Mellor"},"score":0,"creation_date":1551719639,"post_id":54988242,"comment_id":96734252,"body_markdown":"how would i go about changing this? it worked before i uploaded my file to github. Then when i cloned the repo and tried to run this &quot;project SDK is not defined&quot; appeared.","body":"how would i go about changing this? it worked before i uploaded my file to github. Then when i cloned the repo and tried to run this &quot;project SDK is not defined&quot; appeared."},{"owner":{"account_id":937095,"reputation":14646,"user_id":965834,"accept_rate":83,"display_name":"Jeto"},"score":0,"creation_date":1551719705,"post_id":54988242,"comment_id":96734289,"body_markdown":"Don&#39;t you have a &quot;Fix&quot; link on the far right of that warning message? Other than that,  try `File &gt; Project Structure` then there should be a section to set up your SDK.","body":"Don&#39;t you have a &quot;Fix&quot; link on the far right of that warning message? Other than that,  try <code>File &gt; Project Structure</code> then there should be a section to set up your SDK."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":0,"creation_date":1551720344,"post_id":54988242,"comment_id":96734579,"body_markdown":"You should learn how to use Gradle: https://www.jetbrains.com/help/idea/gradle.html","body":"You should learn how to use Gradle: <a href=\"https://www.jetbrains.com/help/idea/gradle.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/gradle.html</a>"},{"owner":{"account_id":14953344,"reputation":11,"user_id":10795601,"display_name":"Jake Mellor"},"score":0,"creation_date":1551720431,"post_id":54988242,"comment_id":96734612,"body_markdown":"My lecturers put all of the work on github so we have been almost forced to learn it. Is gradle used more in industry?","body":"My lecturers put all of the work on github so we have been almost forced to learn it. Is gradle used more in industry?"}],"answers":[{"comments":[{"owner":{"account_id":14953344,"reputation":11,"user_id":10795601,"display_name":"Jake Mellor"},"score":0,"creation_date":1551720310,"post_id":54988329,"comment_id":96734563,"body_markdown":"I have done this and tried to run it but i got this error; (see error in edit above)","body":"I have done this and tried to run it but i got this error; (see error in edit above)"},{"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"score":0,"creation_date":1551720508,"post_id":54988329,"comment_id":96734652,"body_markdown":"@JakeMellor just specify the output directory in project structure dialog. In your case it is most probably `out` directory","body":"@JakeMellor just specify the output directory in project structure dialog. In your case it is most probably <code>out</code> directory"},{"owner":{"account_id":14953344,"reputation":11,"user_id":10795601,"display_name":"Jake Mellor"},"score":0,"creation_date":1551720950,"post_id":54988329,"comment_id":96734863,"body_markdown":"ive sorted it, thank you. I specified the output directory and then i got an error which was basically because i had the wrong language level selected (10). I changed it to 8 and the project is now working fine.","body":"ive sorted it, thank you. I specified the output directory and then i got an error which was basically because i had the wrong language level selected (10). I changed it to 8 and the project is now working fine."}],"tags":[],"owner":{"account_id":6615217,"reputation":6130,"user_id":5108737,"display_name":"Ruslan"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1551719820,"creation_date":1551719820,"answer_id":54988329,"question_id":54988242,"body_markdown":"You should set up the JDK in the project structure &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt;. Also you need to mark the directory (usually `main`) as a sources root:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wgO0T.png\r\n\r\nThen IDE will recognize the files inside that directory as a java classes","title":"IntelliJ is not letting me run my Java code, src folder is not blue after uploading file to git repo","body":"<p>You should set up the JDK in the project structure <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>Shift</kbd> + <kbd>S</kbd>. Also you need to mark the directory (usually <code>main</code>) as a sources root:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wgO0T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wgO0T.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then IDE will recognize the files inside that directory as a java classes</p>\n"},{"tags":[],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687953245,"creation_date":1687953245,"answer_id":76572912,"question_id":54988242,"body_markdown":"If any folder other than `java` folder is marked as blue. Follow below steps to rectify it\r\n\r\n1. Right click on the folder marked as blue. `Marked as Directory` -&gt; `Exclude`\r\n2. Right click on `java folder` and then `Marked as Directory` -&gt; `Sources Root`\r\n3. Right click on the folder in use at point 1. Now `Marked as Directory` -&gt; `Cancel Exclusion` ","title":"IntelliJ is not letting me run my Java code, src folder is not blue after uploading file to git repo","body":"<p>If any folder other than <code>java</code> folder is marked as blue. Follow below steps to rectify it</p>\n<ol>\n<li>Right click on the folder marked as blue. <code>Marked as Directory</code> -&gt; <code>Exclude</code></li>\n<li>Right click on <code>java folder</code> and then <code>Marked as Directory</code> -&gt; <code>Sources Root</code></li>\n<li>Right click on the folder in use at point 1. Now <code>Marked as Directory</code> -&gt; <code>Cancel Exclusion</code></li>\n</ol>\n"}],"owner":{"account_id":14953344,"reputation":11,"user_id":10795601,"display_name":"Jake Mellor"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2818,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54988329,"answer_count":2,"score":0,"last_activity_date":1687953245,"creation_date":1551719512,"question_id":54988242,"body_markdown":"This is the initial error;\r\n[intelliJ][1]\r\n\r\nI cannot get the option to run my code using intelliJ after uploading my file to the github repository. Can anyone help? By the way i use linux.\r\n\r\nafter selecting the correct sdk this is what is displayed[2]\r\n\r\ni have now changed the source directory to src so the folder is now blue. When i go to run the project i get this error;\r\n[error][2]\r\n \r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jYkE2.png\r\n  [2]: https://i.stack.imgur.com/alVnh.png","title":"IntelliJ is not letting me run my Java code, src folder is not blue after uploading file to git repo","body":"<p>This is the initial error;\n<a href=\"https://i.stack.imgur.com/jYkE2.png\" rel=\"nofollow noreferrer\">intelliJ</a></p>\n\n<p>I cannot get the option to run my code using intelliJ after uploading my file to the github repository. Can anyone help? By the way i use linux.</p>\n\n<p>after selecting the correct sdk this is what is displayed<a href=\"https://i.stack.imgur.com/alVnh.png\" rel=\"nofollow noreferrer\">2</a></p>\n\n<p>i have now changed the source directory to src so the folder is now blue. When i go to run the project i get this error;\n<a href=\"https://i.stack.imgur.com/alVnh.png\" rel=\"nofollow noreferrer\">error</a></p>\n"},{"tags":["java","eclipse","jsp","recaptcha"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1687937548,"post_id":76564722,"comment_id":135005120,"body_markdown":"Where else did you use the string `ReCaptchaImpl`? Do you have a file or a folder named `ReCaptchaImpl`? Randomly adding a character like a semicolon somewhere is not the solution, but might be the cause of your problem (avoid trial and error and read the documentation when in doubt): please provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Where else did you use the string <code>ReCaptchaImpl</code>? Do you have a file or a folder named <code>ReCaptchaImpl</code>? Randomly adding a character like a semicolon somewhere is not the solution, but might be the cause of your problem (avoid trial and error and read the documentation when in doubt): please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687952809,"creation_date":1687952809,"answer_id":76572859,"question_id":76564722,"body_markdown":"You should not try to import `RecaptchaImpl` class, but instead you can import an interface that this class implements.\r\n\r\n```\r\n&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptcha&quot; %&gt;\r\n``` \r\n\r\n---\r\n\r\nYou have got the error:\r\n\r\n&gt;Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package\r\n\r\nIt is because you use a semicolon `;` at the end of the class name. This problem well explained [here][1].\r\n\r\n&gt;The semicolon causes a syntax error, but triggers a recheck in Eclipse, some how after deleting the semicolon then the import is back to normal without the wiggly under line red, weird but works! \r\n\r\n  [1]: https://stackoverflow.com/a/1858635/573032\r\n   ","title":"Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package","body":"<p>You should not try to import <code>RecaptchaImpl</code> class, but instead you can import an interface that this class implements.</p>\n<pre><code>&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptcha&quot; %&gt;\n</code></pre>\n<hr />\n<p>You have got the error:</p>\n<blockquote>\n<p>Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package</p>\n</blockquote>\n<p>It is because you use a semicolon <code>;</code> at the end of the class name. This problem well explained <a href=\"https://stackoverflow.com/a/1858635/573032\">here</a>.</p>\n<blockquote>\n<p>The semicolon causes a syntax error, but triggers a recheck in Eclipse, some how after deleting the semicolon then the import is back to normal without the wiggly under line red, weird but works!</p>\n</blockquote>\n"}],"owner":{"account_id":11317917,"reputation":51,"user_id":8299076,"display_name":"Bharath Naidu Yenumula"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687953146,"creation_date":1687867812,"question_id":76564722,"body_markdown":"I am building a test application for learning purpose. I have implemented google recaptcha v2 at my signup page. while writing captcha validation at back end, I am getting the following error:\r\n \r\n&gt;Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package\r\n\r\nLet me tell you what scenarios I have tried.\r\n1. Added recaptcha4j-0.0.7.jar to the Referenced Libraries path. The jar file has `net.tanesha.recaptcha` package which has `ReCaptchaImpl.class`\r\n\r\n2. Tried adding semicolumn at the end of import statement\r\n```\r\n  &lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot; %&gt;\r\n  &lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaResponse;&quot; %&gt; \r\n```\r\nbut issue still persists.\r\n\r\n\r\nThis is the code that i have written for importing the package from jar file.\r\n\r\n```\r\n&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot; %&gt;\r\n&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaResponse&quot; %&gt;\r\n```\r\n\r\nI am new to java web development. Any insights or inputs would be very much helpful to me. I am using jsp as my backend.\r\n\r\n ","title":"Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package","body":"<p>I am building a test application for learning purpose. I have implemented google recaptcha v2 at my signup page. while writing captcha validation at back end, I am getting the following error:</p>\n<blockquote>\n<p>Only a type can be imported. net.tanesha.recaptcha.ReCaptchaImpl resolves to a package</p>\n</blockquote>\n<p>Let me tell you what scenarios I have tried.</p>\n<ol>\n<li><p>Added recaptcha4j-0.0.7.jar to the Referenced Libraries path. The jar file has <code>net.tanesha.recaptcha</code> package which has <code>ReCaptchaImpl.class</code></p>\n</li>\n<li><p>Tried adding semicolumn at the end of import statement</p>\n</li>\n</ol>\n<pre><code>  &lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot; %&gt;\n  &lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaResponse;&quot; %&gt; \n</code></pre>\n<p>but issue still persists.</p>\n<p>This is the code that i have written for importing the package from jar file.</p>\n<pre><code>&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaImpl&quot; %&gt;\n&lt;%@ page import=&quot;net.tanesha.recaptcha.ReCaptchaResponse&quot; %&gt;\n</code></pre>\n<p>I am new to java web development. Any insights or inputs would be very much helpful to me. I am using jsp as my backend.</p>\n"},{"tags":["java","jenkins-plugins"],"answers":[{"tags":[],"owner":{"account_id":28849706,"reputation":1,"user_id":22095863,"display_name":"kev4020"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687952528,"creation_date":1687952528,"answer_id":76572831,"question_id":76505359,"body_markdown":"I found out that the problem is the AppSigner Plugin itself. It&#39;s meant to run with Java8 but it also runs with Java11. Knowing this means you can change the default java version using &quot;update-alternatives --config java&quot; and restart Jenkins. Now you see the correct java version in the interface at Manage Jenkins --&gt; System Information. It&#39;s not sufficient to just change the default java version assuming that this is used at pipeline execution stage because the error comes from the plugin running in the context of jenkins. ","title":"com.android.apksig.internal.apk.v1.V1SchemeSigner cannot access class sun.security.x509.AlgorithmId","body":"<p>I found out that the problem is the AppSigner Plugin itself. It's meant to run with Java8 but it also runs with Java11. Knowing this means you can change the default java version using &quot;update-alternatives --config java&quot; and restart Jenkins. Now you see the correct java version in the interface at Manage Jenkins --&gt; System Information. It's not sufficient to just change the default java version assuming that this is used at pipeline execution stage because the error comes from the plugin running in the context of jenkins.</p>\n"}],"owner":{"account_id":28849706,"reputation":1,"user_id":22095863,"display_name":"kev4020"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687952528,"creation_date":1687167236,"question_id":76505359,"body_markdown":"after installing openjdk17 on my jenkins, I get the following stacktrace while signing the apk-package using [https://plugins.jenkins.io/android-signing](https://plugins.jenkins.io/android-signing)/:\r\n\r\n```\r\n10:59:59 FATAL: class com.android.apksig.internal.apk.v1.V1SchemeSigner (in unnamed module @0x38dba2ff) cannot access class sun.security.x509.AlgorithmId (in module java.base) because module java.base does not export sun.security.x509 to unnamed module @0x38dba2ff\r\n10:59:59 java.lang.IllegalAccessError: class com.android.apksig.internal.apk.v1.V1SchemeSigner (in unnamed module @0x38dba2ff) cannot access class sun.security.x509.AlgorithmId (in module java.base) because module java.base does not export sun.security.x509 to unnamed module @0x38dba2ff\r\n10:59:59 \tat com.android.apksig.internal.apk.v1.V1SchemeSigner.getSupportedAlgorithmId(V1SchemeSigner.java:625)\r\n10:59:59 \tat com.android.apksig.internal.apk.v1.V1SchemeSigner.&lt;clinit&gt;(V1SchemeSigner.java:541)\r\n10:59:59 \tat com.android.apksig.DefaultApkSignerEngine.&lt;init&gt;(DefaultApkSignerEngine.java:149)\r\n10:59:59 \tat com.android.apksig.DefaultApkSignerEngine.&lt;init&gt;(DefaultApkSignerEngine.java:52)\r\n10:59:59 \tat com.android.apksig.DefaultApkSignerEngine$Builder.build(DefaultApkSignerEngine.java:902)\r\n10:59:59 \tat com.android.apksig.ApkSigner.sign(ApkSigner.java:260)\r\n10:59:59 \tat com.android.apksig.ApkSigner.sign(ApkSigner.java:179)\r\n10:59:59 \tat org.jenkinsci.plugins.androidsigning.SignApksBuilder$SignApkCallable.invoke(SignApksBuilder.java:510)\r\n10:59:59 \tat org.jenkinsci.plugins.androidsigning.SignApksBuilder$SignApkCallable.invoke(SignApksBuilder.java:464)\r\n10:59:59 \tat hudson.FilePath.act(FilePath.java:1198)\r\n10:59:59 \tat hudson.FilePath.act(FilePath.java:1181)\r\n10:59:59 \tat org.jenkinsci.plugins.androidsigning.SignApksBuilder.perform(SignApksBuilder.java:359)\r\n10:59:59 \tat jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\r\n10:59:59 \tat hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:80)\r\n10:59:59 \tat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\r\n10:59:59 \tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:818)\r\n10:59:59 \tat hudson.model.Build$BuildExecution.build(Build.java:199)\r\n10:59:59 \tat hudson.model.Build$BuildExecution.doRun(Build.java:164)\r\n10:59:59 \tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\r\n10:59:59 \tat hudson.model.Run.execute(Run.java:1900)\r\n10:59:59 \tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\r\n10:59:59 \tat hudson.model.ResourceController.execute(ResourceController.java:101)\r\n10:59:59 \tat hudson.model.Executor.run(Executor.java:442)\r\n```\r\nAs this worked with openjdk11 I configured my pipeline for using openjkd11 again. To verify this, I added a build step that executes &quot;java --version&quot; before starting the Android Signing Plugin and it says\r\n\r\n```\r\n10:59:59 + java --version\r\n10:59:59 openjdk 11.0.18 2023-01-17\r\n10:59:59 OpenJDK Runtime Environment (build 11.0.18+10-post-Debian-1deb11u1)\r\n10:59:59 OpenJDK 64-Bit Server VM (build 11.0.18+10-post-Debian-1deb11u1, mixed mode, sharing)\r\n```\r\n\r\nDoes anybody have a suggestion?\r\n\r\nThanks in advance!\r\n\r\n\r\nChanged environment using &quot;update-alternatives --config java&quot; to openjdk 11 does not help anymore (?).\r\n","title":"com.android.apksig.internal.apk.v1.V1SchemeSigner cannot access class sun.security.x509.AlgorithmId","body":"<p>after installing openjdk17 on my jenkins, I get the following stacktrace while signing the apk-package using <a href=\"https://plugins.jenkins.io/android-signing\" rel=\"nofollow noreferrer\">https://plugins.jenkins.io/android-signing</a>/:</p>\n<pre><code>10:59:59 FATAL: class com.android.apksig.internal.apk.v1.V1SchemeSigner (in unnamed module @0x38dba2ff) cannot access class sun.security.x509.AlgorithmId (in module java.base) because module java.base does not export sun.security.x509 to unnamed module @0x38dba2ff\n10:59:59 java.lang.IllegalAccessError: class com.android.apksig.internal.apk.v1.V1SchemeSigner (in unnamed module @0x38dba2ff) cannot access class sun.security.x509.AlgorithmId (in module java.base) because module java.base does not export sun.security.x509 to unnamed module @0x38dba2ff\n10:59:59    at com.android.apksig.internal.apk.v1.V1SchemeSigner.getSupportedAlgorithmId(V1SchemeSigner.java:625)\n10:59:59    at com.android.apksig.internal.apk.v1.V1SchemeSigner.&lt;clinit&gt;(V1SchemeSigner.java:541)\n10:59:59    at com.android.apksig.DefaultApkSignerEngine.&lt;init&gt;(DefaultApkSignerEngine.java:149)\n10:59:59    at com.android.apksig.DefaultApkSignerEngine.&lt;init&gt;(DefaultApkSignerEngine.java:52)\n10:59:59    at com.android.apksig.DefaultApkSignerEngine$Builder.build(DefaultApkSignerEngine.java:902)\n10:59:59    at com.android.apksig.ApkSigner.sign(ApkSigner.java:260)\n10:59:59    at com.android.apksig.ApkSigner.sign(ApkSigner.java:179)\n10:59:59    at org.jenkinsci.plugins.androidsigning.SignApksBuilder$SignApkCallable.invoke(SignApksBuilder.java:510)\n10:59:59    at org.jenkinsci.plugins.androidsigning.SignApksBuilder$SignApkCallable.invoke(SignApksBuilder.java:464)\n10:59:59    at hudson.FilePath.act(FilePath.java:1198)\n10:59:59    at hudson.FilePath.act(FilePath.java:1181)\n10:59:59    at org.jenkinsci.plugins.androidsigning.SignApksBuilder.perform(SignApksBuilder.java:359)\n10:59:59    at jenkins.tasks.SimpleBuildStep.perform(SimpleBuildStep.java:123)\n10:59:59    at hudson.tasks.BuildStepCompatibilityLayer.perform(BuildStepCompatibilityLayer.java:80)\n10:59:59    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\n10:59:59    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:818)\n10:59:59    at hudson.model.Build$BuildExecution.build(Build.java:199)\n10:59:59    at hudson.model.Build$BuildExecution.doRun(Build.java:164)\n10:59:59    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:526)\n10:59:59    at hudson.model.Run.execute(Run.java:1900)\n10:59:59    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\n10:59:59    at hudson.model.ResourceController.execute(ResourceController.java:101)\n10:59:59    at hudson.model.Executor.run(Executor.java:442)\n</code></pre>\n<p>As this worked with openjdk11 I configured my pipeline for using openjkd11 again. To verify this, I added a build step that executes &quot;java --version&quot; before starting the Android Signing Plugin and it says</p>\n<pre><code>10:59:59 + java --version\n10:59:59 openjdk 11.0.18 2023-01-17\n10:59:59 OpenJDK Runtime Environment (build 11.0.18+10-post-Debian-1deb11u1)\n10:59:59 OpenJDK 64-Bit Server VM (build 11.0.18+10-post-Debian-1deb11u1, mixed mode, sharing)\n</code></pre>\n<p>Does anybody have a suggestion?</p>\n<p>Thanks in advance!</p>\n<p>Changed environment using &quot;update-alternatives --config java&quot; to openjdk 11 does not help anymore (?).</p>\n"},{"tags":["java","string","validation","bigdecimal"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":3,"creation_date":1687949812,"post_id":76572422,"comment_id":135007628,"body_markdown":"Why do you think that `BigDecimal`, which is a **number**, can be any random string like `abcd`?","body":"Why do you think that <code>BigDecimal</code>, which is a <b>number</b>, can be any random string like <code>abcd</code>?"}],"answers":[{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687949967,"creation_date":1687949967,"answer_id":76572514,"question_id":76572422,"body_markdown":"*BigDecimal* is a number, but it could be 45.465468494456156.\r\n\r\nIf you want to restrict the number of decimal places, you will need to define your own validation. [*@Pattern*](https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html) won&#39;t do it because it accepts instances of *CharSequence*.\r\n\r\nThere is a *java.util.Currency* that might be useful, but perhaps you will need to handle serialization and deserialization.","title":"Do I need to have an additional validation for a BigDecimal to check if it is a number and not any string in Java?","body":"<p><em>BigDecimal</em> is a number, but it could be 45.465468494456156.</p>\n<p>If you want to restrict the number of decimal places, you will need to define your own validation. <a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\" rel=\"nofollow noreferrer\"><em>@Pattern</em></a> won't do it because it accepts instances of <em>CharSequence</em>.</p>\n<p>There is a <em>java.util.Currency</em> that might be useful, but perhaps you will need to handle serialization and deserialization.</p>\n"},{"tags":[],"owner":{"account_id":3533906,"reputation":522,"user_id":2952709,"accept_rate":71,"display_name":"Alex Lemesios"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687952251,"creation_date":1687950770,"answer_id":76572621,"question_id":76572422,"body_markdown":"BigDecimal is a number by definition and can&#39;t be a string . Running the code below will give you `java.lang.NumberFormatException` : \r\n\r\n\r\n\r\n    import java.math.BigDecimal;\r\n    class HelloWorld {\r\n    public static void main(String[] args) {  \r\n        \r\n        BigDecimal test = new BigDecimal(&quot;abcd&quot;);\r\n      \r\n     }\r\n    }\r\n\r\n\r\nAbout decimal places you could use ROUND\r\n\r\n    BigDecimal a = new BigDecimal(&quot;10.12345&quot;);\r\n\r\n    a.setScale(2, BigDecimal.ROUND_UP)\r\n    a.setScale(2, BigDecimal.ROUND_CEILING)\r\n    a.setScale(2, BigDecimal.ROUND_DOWN)\r\n    a.setScale(2, BigDecimal.ROUND_FLOOR)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_DOWN)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_EVEN)\r\n    a.setScale(2, BigDecimal.ROUND_HALF_UP)","title":"Do I need to have an additional validation for a BigDecimal to check if it is a number and not any string in Java?","body":"<p>BigDecimal is a number by definition and can't be a string . Running the code below will give you <code>java.lang.NumberFormatException</code> :</p>\n<pre><code>import java.math.BigDecimal;\nclass HelloWorld {\npublic static void main(String[] args) {  \n    \n    BigDecimal test = new BigDecimal(&quot;abcd&quot;);\n  \n }\n}\n</code></pre>\n<p>About decimal places you could use ROUND</p>\n<pre><code>BigDecimal a = new BigDecimal(&quot;10.12345&quot;);\n\na.setScale(2, BigDecimal.ROUND_UP)\na.setScale(2, BigDecimal.ROUND_CEILING)\na.setScale(2, BigDecimal.ROUND_DOWN)\na.setScale(2, BigDecimal.ROUND_FLOOR)\na.setScale(2, BigDecimal.ROUND_HALF_DOWN)\na.setScale(2, BigDecimal.ROUND_HALF_EVEN)\na.setScale(2, BigDecimal.ROUND_HALF_UP)\n</code></pre>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687952251,"creation_date":1687949214,"question_id":76572422,"body_markdown":"I&#39;m working on a Rest API in Java and Spring Boot and I have a POST request and it contains a request body, an object RequestCustomer and one of the field is of type BigDecimal. I need to do a regex for this variable to accept only numbers, not any other value like for example &quot;abcd&quot;, it should accept only numbers like 100, 75.30, these values represents money. And this variable is of type BigDecimal and I can&#39;t change this variable type. \r\n\r\nI want to use the @Pattern annotation from javax.validation.constraints like this:\r\n\r\n    @Pattern(\r\n       regexp = &quot;...&quot;\r\n    )\r\n    \r\n    @NotNull\r\n    private BigDecimal value;\r\n\r\nIf the variable is of type BigDecimal, do I need to have an additional validation to check if it is a number and not any string? If yes, what regex should I use for that variable to accept only numbers? Any feedback will be apreciated!","title":"Do I need to have an additional validation for a BigDecimal to check if it is a number and not any string in Java?","body":"<p>I'm working on a Rest API in Java and Spring Boot and I have a POST request and it contains a request body, an object RequestCustomer and one of the field is of type BigDecimal. I need to do a regex for this variable to accept only numbers, not any other value like for example &quot;abcd&quot;, it should accept only numbers like 100, 75.30, these values represents money. And this variable is of type BigDecimal and I can't change this variable type.</p>\n<p>I want to use the @Pattern annotation from javax.validation.constraints like this:</p>\n<pre><code>@Pattern(\n   regexp = &quot;...&quot;\n)\n\n@NotNull\nprivate BigDecimal value;\n</code></pre>\n<p>If the variable is of type BigDecimal, do I need to have an additional validation to check if it is a number and not any string? If yes, what regex should I use for that variable to accept only numbers? Any feedback will be apreciated!</p>\n"},{"tags":["java","wildfly","java-11","jmc","jfr"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1599578166,"post_id":63791462,"comment_id":112813445,"body_markdown":"Have you checked if your Corretto JDK contains the module jdk.security.jgss at all?","body":"Have you checked if your Corretto JDK contains the module jdk.security.jgss at all?"},{"owner":{"account_id":431269,"reputation":981,"user_id":815218,"accept_rate":83,"display_name":"sprockets"},"score":0,"creation_date":1599642436,"post_id":63791462,"comment_id":112833436,"body_markdown":"yes it does jdk.security.jgss.jmod","body":"yes it does jdk.security.jgss.jmod"},{"owner":{"account_id":12458416,"reputation":1488,"user_id":9070798,"display_name":"Patrick"},"score":0,"creation_date":1604930918,"post_id":63791462,"comment_id":114489538,"body_markdown":"Maybe an issue with the version you are using?","body":"Maybe an issue with the version you are using?"},{"owner":{"account_id":916182,"reputation":2081,"user_id":948938,"display_name":"Juan Ignacio Barisich"},"score":0,"creation_date":1624913341,"post_id":63791462,"comment_id":120482492,"body_markdown":"Same issue here. Only works on Java 8.","body":"Same issue here. Only works on Java 8."}],"answers":[{"tags":[],"owner":{"account_id":139453,"reputation":3746,"user_id":345057,"accept_rate":96,"display_name":"f4lco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687952242,"creation_date":1687952242,"answer_id":76572799,"question_id":63791462,"body_markdown":"I got the same error and found a solution by putting together the following pieces. From the Oracle documentation:\r\n\r\n&gt; JDK Mission Control (JMC) 8.0 and 8.0.1 starts with Oracle JDK 8 (64-bit), and from JMC 8.1.0 onwards it requires Oracle JDK 11 and later. However, JMC 8 supports Java Management Console (JMX) monitoring and Java Flight Recorder (JFR) profiling of JVMs (JDK 7u40 and later) on any supported platform.\r\n\r\nhttps://www.oracle.com/java/technologies/javase/jmc8-install.html\r\n\r\nFor a working configuration, we will need JDK 8. And because we will be running JDK 8, we will need an old version of the JDK mission control.\r\n\r\nThus, we will avoid `NoClassDefFoundError: org/ietf/jgss/GSSManager`, because JDK 8 puts the class on the classpath by default.\r\n\r\n### Step 1: Grab JDK 8\r\n\r\nDownload and install JDK 8 on your machine. I got it working with Eclipse Temurin.\r\n\r\n### Step 2: Download Java Mission Control 8.0.0\r\n\r\nWe need to find a distributor of the Java Mission Control. I went with Eclipse Mission Control. Find older releases, which still work with Java 8, on the following channels:\r\n\r\n- https://github.com/adoptium/jmc-build/releases/tag/8.0.0\r\n- https://adoptium.net/de/jmc/\r\n\r\n### Step 3: Configure Java Mission Control\r\n\r\nWe need to instruct JMC to use the Java 8, and add the additional JAR from Wildfly.\r\n\r\nLocate `jmc.ini`, and put the following lines in:\r\n\r\nThe `-vm` parameter, followed by newline, followed by the path of the JDK you just downloaded:\r\n\r\n```\r\n-vm\r\n/path/to/your/Java/JavaVirtualMachines/temurin-1.8.0_362/Contents/Home/bin\r\n```\r\n\r\nSecond, a VM option to include the Wildfly JAR:\r\n\r\n```\r\n-Xbootclasspath/a:/path/to/your/wildfly-18.0.1.Final/bin/client/jboss-client.jar\r\n```\r\n\r\nChange the path names to match your local configuration, and insert the `-vm` parameter _above_ `-vmargs`!\r\n\r\nThe following config file shows a full example of `jmc.ini`:\r\n\r\n&lt;pre&gt;&lt;code&gt;-startup\r\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.5.800.v20200727-1323.jar\r\n--launcher.library\r\n../Eclipse/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.1.1300.v20200819-0940\r\n--launcher.appendVmargs\r\n-ws\r\ncocoa\r\n&lt;b&gt;-vm\r\n/path/to/your/Java/JavaVirtualMachines/temurin-1.8.0_362/Contents/Home/bin&lt;/b&gt;\r\n-vmargs\r\n-XX:+IgnoreUnrecognizedVMOptions\r\n-XX:+UnlockDiagnosticVMOptions\r\n-XX:+DebugNonSafepoints\r\n-XX:FlightRecorderOptions=stackdepth=128\r\n-XX:+FlightRecorder\r\n-XX:StartFlightRecording=name=JMC_Default,maxsize=100m\r\n-Djava.net.preferIPv4Stack=true\r\n-Djdk.attach.allowAttachSelf=true\r\n--add-exports=java.xml/com.sun.org.apache.xerces.internal.parsers=ALL-UNNAMED\r\n--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\r\n--add-exports=java.management/sun.management=ALL-UNNAMED\r\n--add-exports=java.management/sun.management.counter.perf=ALL-UNNAMED\r\n--add-exports=jdk.management.agent/jdk.internal.agent=ALL-UNNAMED\r\n--add-exports=jdk.attach/sun.tools.attach=ALL-UNNAMED\r\n--add-opens=java.base/java.net=ALL-UNNAMED\r\n--add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED\r\n-Dsun.java.command=JMC\r\n--add-exports=java.desktop/sun.lwawt.macosx=ALL-UNNAMED\r\n-XstartOnFirstThread\r\n-Dorg.eclipse.swt.internal.carbon.smallFonts\r\n&lt;b&gt;-Xbootclasspath/a:/path/to/your/wildfly-18.0.1.Final/bin/client/jboss-client.jar&lt;/b&gt;\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\n### Connect\r\n\r\nNow we should be able to connect using a URL like `service:jmx:http-remoting-jmx://localhost:9990`, and with the credentials of a Wildfly management user.\r\n\r\n\r\n\r\n\r\n","title":"Java Mission Control 7 running on Java 11 cannot connect to Wildfly with &quot;jmx:remoting-jmx&quot; protocol","body":"<p>I got the same error and found a solution by putting together the following pieces. From the Oracle documentation:</p>\n<blockquote>\n<p>JDK Mission Control (JMC) 8.0 and 8.0.1 starts with Oracle JDK 8 (64-bit), and from JMC 8.1.0 onwards it requires Oracle JDK 11 and later. However, JMC 8 supports Java Management Console (JMX) monitoring and Java Flight Recorder (JFR) profiling of JVMs (JDK 7u40 and later) on any supported platform.</p>\n</blockquote>\n<p><a href=\"https://www.oracle.com/java/technologies/javase/jmc8-install.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/javase/jmc8-install.html</a></p>\n<p>For a working configuration, we will need JDK 8. And because we will be running JDK 8, we will need an old version of the JDK mission control.</p>\n<p>Thus, we will avoid <code>NoClassDefFoundError: org/ietf/jgss/GSSManager</code>, because JDK 8 puts the class on the classpath by default.</p>\n<h3>Step 1: Grab JDK 8</h3>\n<p>Download and install JDK 8 on your machine. I got it working with Eclipse Temurin.</p>\n<h3>Step 2: Download Java Mission Control 8.0.0</h3>\n<p>We need to find a distributor of the Java Mission Control. I went with Eclipse Mission Control. Find older releases, which still work with Java 8, on the following channels:</p>\n<ul>\n<li><a href=\"https://github.com/adoptium/jmc-build/releases/tag/8.0.0\" rel=\"nofollow noreferrer\">https://github.com/adoptium/jmc-build/releases/tag/8.0.0</a></li>\n<li><a href=\"https://adoptium.net/de/jmc/\" rel=\"nofollow noreferrer\">https://adoptium.net/de/jmc/</a></li>\n</ul>\n<h3>Step 3: Configure Java Mission Control</h3>\n<p>We need to instruct JMC to use the Java 8, and add the additional JAR from Wildfly.</p>\n<p>Locate <code>jmc.ini</code>, and put the following lines in:</p>\n<p>The <code>-vm</code> parameter, followed by newline, followed by the path of the JDK you just downloaded:</p>\n<pre><code>-vm\n/path/to/your/Java/JavaVirtualMachines/temurin-1.8.0_362/Contents/Home/bin\n</code></pre>\n<p>Second, a VM option to include the Wildfly JAR:</p>\n<pre><code>-Xbootclasspath/a:/path/to/your/wildfly-18.0.1.Final/bin/client/jboss-client.jar\n</code></pre>\n<p>Change the path names to match your local configuration, and insert the <code>-vm</code> parameter <em>above</em> <code>-vmargs</code>!</p>\n<p>The following config file shows a full example of <code>jmc.ini</code>:</p>\n<pre><code>-startup\n../Eclipse/plugins/org.eclipse.equinox.launcher_1.5.800.v20200727-1323.jar\n--launcher.library\n../Eclipse/plugins/org.eclipse.equinox.launcher.cocoa.macosx.x86_64_1.1.1300.v20200819-0940\n--launcher.appendVmargs\n-ws\ncocoa\n<b>-vm\n/path/to/your/Java/JavaVirtualMachines/temurin-1.8.0_362/Contents/Home/bin</b>\n-vmargs\n-XX:+IgnoreUnrecognizedVMOptions\n-XX:+UnlockDiagnosticVMOptions\n-XX:+DebugNonSafepoints\n-XX:FlightRecorderOptions=stackdepth=128\n-XX:+FlightRecorder\n-XX:StartFlightRecording=name=JMC_Default,maxsize=100m\n-Djava.net.preferIPv4Stack=true\n-Djdk.attach.allowAttachSelf=true\n--add-exports=java.xml/com.sun.org.apache.xerces.internal.parsers=ALL-UNNAMED\n--add-exports=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n--add-exports=java.management/sun.management=ALL-UNNAMED\n--add-exports=java.management/sun.management.counter.perf=ALL-UNNAMED\n--add-exports=jdk.management.agent/jdk.internal.agent=ALL-UNNAMED\n--add-exports=jdk.attach/sun.tools.attach=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED\n-Dsun.java.command=JMC\n--add-exports=java.desktop/sun.lwawt.macosx=ALL-UNNAMED\n-XstartOnFirstThread\n-Dorg.eclipse.swt.internal.carbon.smallFonts\n<b>-Xbootclasspath/a:/path/to/your/wildfly-18.0.1.Final/bin/client/jboss-client.jar</b>\n</pre></code>\n<h3>Connect</h3>\n<p>Now we should be able to connect using a URL like <code>service:jmx:http-remoting-jmx://localhost:9990</code>, and with the credentials of a Wildfly management user.</p>\n"}],"owner":{"account_id":431269,"reputation":981,"user_id":815218,"accept_rate":83,"display_name":"sprockets"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":724,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687952242,"creation_date":1599558959,"question_id":63791462,"body_markdown":"As far as I can tell, I am having the same issue described here:\r\nhttps://developer.jboss.org/thread/278895 \r\n\r\n(That forum is closed and no additional comments are allowed, their recommendation is to post to SO)\r\n\r\nI am trying to run JMC 7.1.2 on OpenJDK 64-Bit Server VM Corretto-11.0.8.10.1 (build 11.0.8+10-LTS, mixed mode) on my workstation and connect to a remote Wildfly server using the &quot;jmx:remoting-jmx&quot; protocol. This worked for years, but AFAICT does not work in the constellation Java-11 and JMC7.\r\n\r\n\r\nThere is no error about unknown protocol or similar \r\n(Yes, I have already read and followed instructions in:\r\nhttps://stackoverflow.com/questions/56207317/connect-java-mission-control-to-wildfly-16), but I get this error when connecting:\r\n\r\n```\r\norg.openjdk.jmc.rjmx.ConnectionException caused by javax.security.sasl.SaslException: org/ietf/jgss/GSSManager [Caused by java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager]\r\n\tat org.openjdk.jmc.rjmx.internal.RJMXConnection.connect(RJMXConnection.java:441)\r\n\tat org.openjdk.jmc.rjmx.internal.ServerHandle.doConnect(ServerHandle.java:116)\r\n\tat org.openjdk.jmc.rjmx.internal.ServerHandle.connect(ServerHandle.java:106)\r\n\tat org.openjdk.jmc.console.ui.editor.internal.ConsoleEditor$ConnectJob.run(ConsoleEditor.java:99)\r\n\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\nCaused by: javax.security.sasl.SaslException: org/ietf/jgss/GSSManager [Caused by java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager]\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:426)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\r\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n\tat org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n\tat org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n\tat ...asynchronous invocation...(Unknown Source)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:599)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:561)\r\n\tat org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:549)\r\n\tat org.jboss.remotingjmx.RemotingConnector.internalRemotingConnect(RemotingConnector.java:268)\r\n\tat org.jboss.remotingjmx.RemotingConnector.internalConnect(RemotingConnector.java:156)\r\n\tat org.jboss.remotingjmx.RemotingConnector.connect(RemotingConnector.java:103)\r\n\tat org.openjdk.jmc.rjmx.internal.RJMXConnection.connectJmxConnector(RJMXConnection.java:487)\r\n\tat org.openjdk.jmc.rjmx.internal.RJMXConnection.establishConnection(RJMXConnection.java:464)\r\n\tat org.openjdk.jmc.rjmx.internal.RJMXConnection.connect(RJMXConnection.java:434)\r\n\t... 4 more\r\nCaused by: java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\r\n\tat java.base/java.lang.Class.getConstructor0(Class.java:3342)\r\n\tat java.base/java.lang.Class.getConstructor(Class.java:2151)\r\n\tat java.base/java.security.Provider.newInstanceUtil(Provider.java:153)\r\n\tat java.base/java.security.Provider$Service.newInstance(Provider.java:1891)\r\n\tat org.wildfly.security.WildFlyElytronBaseProvider$ProviderService.newInstance(WildFlyElytronBaseProvider.java:218)\r\n\tat org.wildfly.security.sasl.util.SecurityProviderSaslClientFactory.createSaslClient(SecurityProviderSaslClientFactory.java:94)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ProtocolSaslClientFactory.createSaslClient(ProtocolSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\r\n\tat org.wildfly.security.sasl.util.FilterMechanismSaslClientFactory.createSaslClient(FilterMechanismSaslClientFactory.java:102)\r\n\tat org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\r\n\tat org.wildfly.security.sasl.util.LocalPrincipalSaslClientFactory.createSaslClient(LocalPrincipalSaslClientFactory.java:76)\r\n\tat org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.lambda$createSaslClient$0(PrivilegedSaslClientFactory.java:64)\r\n\tat java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\tat org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.createSaslClient(PrivilegedSaslClientFactory.java:64)\r\n\tat org.wildfly.security.auth.client.AuthenticationConfiguration.createSaslClient(AuthenticationConfiguration.java:1496)\r\n\tat org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.createSaslClient(AuthenticationContextConfigurationClient.java:408)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:420)\r\n\tat org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\r\n\tat org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n\tat org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n\tat org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n```\r\n\r\nIf I use OpenJDK 8 with JMC 7 then it works (that is, I can connect and also read jfr files created with jdk11) but is that really the only way to get this configuration to work?\r\n","title":"Java Mission Control 7 running on Java 11 cannot connect to Wildfly with &quot;jmx:remoting-jmx&quot; protocol","body":"<p>As far as I can tell, I am having the same issue described here:\n<a href=\"https://developer.jboss.org/thread/278895\" rel=\"nofollow noreferrer\">https://developer.jboss.org/thread/278895</a></p>\n<p>(That forum is closed and no additional comments are allowed, their recommendation is to post to SO)</p>\n<p>I am trying to run JMC 7.1.2 on OpenJDK 64-Bit Server VM Corretto-11.0.8.10.1 (build 11.0.8+10-LTS, mixed mode) on my workstation and connect to a remote Wildfly server using the &quot;jmx:remoting-jmx&quot; protocol. This worked for years, but AFAICT does not work in the constellation Java-11 and JMC7.</p>\n<p>There is no error about unknown protocol or similar\n(Yes, I have already read and followed instructions in:\n<a href=\"https://stackoverflow.com/questions/56207317/connect-java-mission-control-to-wildfly-16\">Connect Java Mission Control to Wildfly 16</a>), but I get this error when connecting:</p>\n<pre><code>org.openjdk.jmc.rjmx.ConnectionException caused by javax.security.sasl.SaslException: org/ietf/jgss/GSSManager [Caused by java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager]\n    at org.openjdk.jmc.rjmx.internal.RJMXConnection.connect(RJMXConnection.java:441)\n    at org.openjdk.jmc.rjmx.internal.ServerHandle.doConnect(ServerHandle.java:116)\n    at org.openjdk.jmc.rjmx.internal.ServerHandle.connect(ServerHandle.java:106)\n    at org.openjdk.jmc.console.ui.editor.internal.ConsoleEditor$ConnectJob.run(ConsoleEditor.java:99)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: javax.security.sasl.SaslException: org/ietf/jgss/GSSManager [Caused by java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager]\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:426)\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\n    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n    at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n    at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n    at ...asynchronous invocation...(Unknown Source)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:599)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:561)\n    at org.jboss.remoting3.EndpointImpl.connect(EndpointImpl.java:549)\n    at org.jboss.remotingjmx.RemotingConnector.internalRemotingConnect(RemotingConnector.java:268)\n    at org.jboss.remotingjmx.RemotingConnector.internalConnect(RemotingConnector.java:156)\n    at org.jboss.remotingjmx.RemotingConnector.connect(RemotingConnector.java:103)\n    at org.openjdk.jmc.rjmx.internal.RJMXConnection.connectJmxConnector(RJMXConnection.java:487)\n    at org.openjdk.jmc.rjmx.internal.RJMXConnection.establishConnection(RJMXConnection.java:464)\n    at org.openjdk.jmc.rjmx.internal.RJMXConnection.connect(RJMXConnection.java:434)\n    ... 4 more\nCaused by: java.lang.NoClassDefFoundError: org/ietf/jgss/GSSManager\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3137)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3342)\n    at java.base/java.lang.Class.getConstructor(Class.java:2151)\n    at java.base/java.security.Provider.newInstanceUtil(Provider.java:153)\n    at java.base/java.security.Provider$Service.newInstance(Provider.java:1891)\n    at org.wildfly.security.WildFlyElytronBaseProvider$ProviderService.newInstance(WildFlyElytronBaseProvider.java:218)\n    at org.wildfly.security.sasl.util.SecurityProviderSaslClientFactory.createSaslClient(SecurityProviderSaslClientFactory.java:94)\n    at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\n    at org.wildfly.security.sasl.util.ProtocolSaslClientFactory.createSaslClient(ProtocolSaslClientFactory.java:50)\n    at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\n    at org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\n    at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\n    at org.wildfly.security.sasl.util.ServerNameSaslClientFactory.createSaslClient(ServerNameSaslClientFactory.java:50)\n    at org.wildfly.security.sasl.util.FilterMechanismSaslClientFactory.createSaslClient(FilterMechanismSaslClientFactory.java:102)\n    at org.wildfly.security.sasl.util.AbstractDelegatingSaslClientFactory.createSaslClient(AbstractDelegatingSaslClientFactory.java:66)\n    at org.wildfly.security.sasl.util.LocalPrincipalSaslClientFactory.createSaslClient(LocalPrincipalSaslClientFactory.java:76)\n    at org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.lambda$createSaslClient$0(PrivilegedSaslClientFactory.java:64)\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\n    at org.wildfly.security.sasl.util.PrivilegedSaslClientFactory.createSaslClient(PrivilegedSaslClientFactory.java:64)\n    at org.wildfly.security.auth.client.AuthenticationConfiguration.createSaslClient(AuthenticationConfiguration.java:1496)\n    at org.wildfly.security.auth.client.AuthenticationContextConfigurationClient.createSaslClient(AuthenticationContextConfigurationClient.java:408)\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:420)\n    at org.jboss.remoting3.remote.ClientConnectionOpenListener$Capabilities.handleEvent(ClientConnectionOpenListener.java:242)\n    at org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n    at org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n    at org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n</code></pre>\n<p>If I use OpenJDK 8 with JMC 7 then it works (that is, I can connect and also read jfr files created with jdk11) but is that really the only way to get this configuration to work?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","keycloak"],"comments":[{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687453600,"post_id":76534031,"comment_id":134942462,"body_markdown":"On a slight off-topic note (as it couldn&#39;t be seen in the dependencies), I&#39;m using Maven.","body":"On a slight off-topic note (as it couldn&#39;t be seen in the dependencies), I&#39;m using Maven."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687466607,"post_id":76534031,"comment_id":134944908,"body_markdown":"I suggest you have a look at [my tutorials](https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials), **starting with the OAuth2 essential section of the introduction readme**. All samples and tutorials work with Keycloak (with and without &quot;my&quot; starters).","body":"I suggest you have a look at <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">my tutorials</a>, <b>starting with the OAuth2 essential section of the introduction readme</b>. All samples and tutorials work with Keycloak (with and without &quot;my&quot; starters)."},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687469853,"post_id":76534031,"comment_id":134945476,"body_markdown":"Thanks @ch4mp! I&#39;ve went through your material and it seems like an in-depth explanation of the topic. Though my question remains: Aren&#39;t there any small configurations (such as all the &quot;old&quot; tutorials imply) to basic test JWT tokens issued by KeyCloak? I just want to test securing some endpoints and go on from there...","body":"Thanks @ch4mp! I&#39;ve went through your material and it seems like an in-depth explanation of the topic. Though my question remains: Aren&#39;t there any small configurations (such as all the &quot;old&quot; tutorials imply) to basic test JWT tokens issued by KeyCloak? I just want to test securing some endpoints and go on from there..."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687471366,"post_id":76534031,"comment_id":134945640,"body_markdown":"It is certainly not &quot;in depth&quot;. If you don&#39;t master these essentials, you&#39;ll have no idea of what you are actually configuring (and why your app doesn&#39;t behave as you expect). If you mean something simpler than [that](https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default), no.","body":"It is certainly not &quot;in depth&quot;. If you don&#39;t master these essentials, you&#39;ll have no idea of what you are actually configuring (and why your app doesn&#39;t behave as you expect). If you mean something simpler than <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default\" rel=\"nofollow noreferrer\">that</a>, no."},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687522026,"post_id":76534031,"comment_id":134952390,"body_markdown":"Out of curiosity, why do you accept identities issued by 3 different OIDC authorization-servers? Like in most set-ups you use one server (e.g. setting up KeyCloak for my project)? @ch4mp","body":"Out of curiosity, why do you accept identities issued by 3 different OIDC authorization-servers? Like in most set-ups you use one server (e.g. setting up KeyCloak for my project)? @ch4mp"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687543494,"post_id":76534031,"comment_id":134957129,"body_markdown":"I have projects with separate OpenID Providers for &quot;corporate users&quot; and &quot;clients&quot;. I have others where most APIs (resource server) accept identities from a &quot;relaxed&quot; (public) OP, but some critical APIs (healthcare) require identities from an OP with reinforced security (multi-factor authentication and firewall making the OP accessible from the local network only). Last, I have cases where a client uses a main OP to communicate with &quot;my&quot; resource servers and maintain a Google identity to issue direct calls to Google APIs.","body":"I have projects with separate OpenID Providers for &quot;corporate users&quot; and &quot;clients&quot;. I have others where most APIs (resource server) accept identities from a &quot;relaxed&quot; (public) OP, but some critical APIs (healthcare) require identities from an OP with reinforced security (multi-factor authentication and firewall making the OP accessible from the local network only). Last, I have cases where a client uses a main OP to communicate with &quot;my&quot; resource servers and maintain a Google identity to issue direct calls to Google APIs."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687543642,"post_id":76534031,"comment_id":134957167,"body_markdown":"In the specific case of these tutorials, it has a double benefit: demoes that multi-tenancy is rather easy to achieve and illustrates working configuration for 3 of the most frequently used OPs.","body":"In the specific case of these tutorials, it has a double benefit: demoes that multi-tenancy is rather easy to achieve and illustrates working configuration for 3 of the most frequently used OPs."},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687602716,"post_id":76534031,"comment_id":134962025,"body_markdown":"But in reality, it would be most likely to just implement one provider, right? I mean if KeyCloak is properly configured, it would suffice? @ch4mp","body":"But in reality, it would be most likely to just implement one provider, right? I mean if KeyCloak is properly configured, it would suffice? @ch4mp"},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687608505,"post_id":76534031,"comment_id":134962529,"body_markdown":"Furthermore, do you have a tutorial on how to use advanced log-in methods like &quot;Log-in with Google&quot;, &quot;Apple Log-In&quot; and so forth? Preferably with KeyCloak? Like similar to your current tutorials.","body":"Furthermore, do you have a tutorial on how to use advanced log-in methods like &quot;Log-in with Google&quot;, &quot;Apple Log-In&quot; and so forth? Preferably with KeyCloak? Like similar to your current tutorials."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1687620433,"post_id":76534031,"comment_id":134963757,"body_markdown":"No, and no. When different groups of resource servers trust different authorization servers, OAuth2 clients have to maintain access tokens for each of this groups. For instance, an app calling both a corporate API trusting corporate Keycloak and Google APIs trusting its own authorization server (you can&#39;t call Google API with a token issued by your Keycloak, even if it was using &quot;Log-in with Google&quot;). You&#39;ll find how to configure &quot;Log-in with Google&quot; in Keycloak in docs and on many tutorials, but not in mine: it is not related to Spring.","body":"No, and no. When different groups of resource servers trust different authorization servers, OAuth2 clients have to maintain access tokens for each of this groups. For instance, an app calling both a corporate API trusting corporate Keycloak and Google APIs trusting its own authorization server (you can&#39;t call Google API with a token issued by your Keycloak, even if it was using &quot;Log-in with Google&quot;). You&#39;ll find how to configure &quot;Log-in with Google&quot; in Keycloak in docs and on many tutorials, but not in mine: it is not related to Spring."},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687632557,"post_id":76534031,"comment_id":134965112,"body_markdown":"But for my understanding: Were currently developing a back-end for multiple front-ends (an app, websites, etc.) - but everything internal. In such a set-up one would need one authorization server (like Keycloak) and that would suffice? Or am I misunderstanding this..? Can you give a concrete example of where two or more OPs are useful?","body":"But for my understanding: Were currently developing a back-end for multiple front-ends (an app, websites, etc.) - but everything internal. In such a set-up one would need one authorization server (like Keycloak) and that would suffice? Or am I misunderstanding this..? Can you give a concrete example of where two or more OPs are useful?"},{"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"score":0,"creation_date":1687632606,"post_id":76534031,"comment_id":134965115,"body_markdown":"Furthermore, do you want to add your answer to my question? Id like to upvote and accept it. Your tutorial only uses a few deprecated methods (in comparison to most non-working tutorials)! @ch4mp","body":"Furthermore, do you want to add your answer to my question? Id like to upvote and accept it. Your tutorial only uses a few deprecated methods (in comparison to most non-working tutorials)! @ch4mp"}],"answers":[{"tags":[],"owner":{"account_id":4329546,"reputation":494,"user_id":3535421,"display_name":"dasniko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687952048,"creation_date":1687952048,"answer_id":76572781,"question_id":76534031,"body_markdown":"If your Spring app just acts as an resource server, see my example here:\r\nhttps://github.com/dasniko/keycloak-bookshop-demo/tree/master/msgbroker\r\n\r\nIn the dependencies, there&#39;s just the `org.springframework.boot:spring-boot-starter-oauth2-resource-server`.  \r\nThe `application.properties` just need the `spring.security.oauth2.resourceserver.jwt.issuer-uri` configured and the [SecurityConfig](https://github.com/dasniko/keycloak-bookshop-demo/blob/master/msgbroker/src/main/java/dasniko/keycloak/shop/broker/SecurityConfig.java) class is also small and lean.","title":"How to integrate Keycloak into simple Spring Boot back-end with Spring Security?","body":"<p>If your Spring app just acts as an resource server, see my example here:\n<a href=\"https://github.com/dasniko/keycloak-bookshop-demo/tree/master/msgbroker\" rel=\"nofollow noreferrer\">https://github.com/dasniko/keycloak-bookshop-demo/tree/master/msgbroker</a></p>\n<p>In the dependencies, there's just the <code>org.springframework.boot:spring-boot-starter-oauth2-resource-server</code>.<br />\nThe <code>application.properties</code> just need the <code>spring.security.oauth2.resourceserver.jwt.issuer-uri</code> configured and the <a href=\"https://github.com/dasniko/keycloak-bookshop-demo/blob/master/msgbroker/src/main/java/dasniko/keycloak/shop/broker/SecurityConfig.java\" rel=\"nofollow noreferrer\">SecurityConfig</a> class is also small and lean.</p>\n"}],"owner":{"account_id":20251935,"reputation":6409,"user_id":14852784,"display_name":"J. M. Arnold"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":907,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76572781,"answer_count":1,"score":2,"last_activity_date":1687952048,"creation_date":1687452305,"question_id":76534031,"body_markdown":"I&#39;m currently trying to implement security for a simple Spring Boot Back-End application. For that I intended to use Keycloak in combination with Spring Security. After trying a dozens of tutorial set-ups (just a basic filter / SecurityConfig), I&#39;m left clueless as to why the `SecurityFilterChain` won&#39;t work.\r\n\r\nAs a reference - the following are my dependencies:\r\n\r\n - org.springframework.boot:spring-boot-starter:3.1.0\r\n -  org.springframework.boot:spring-boot-starter-web:3.1.0\r\n -  org.springframework.boot:spring-boot-starter-oauth2-client:3.1.0\r\n -  org.springframework.boot:spring-boot-starter-security:3.1.0\r\n -  org.springframework.boot:spring-boot-starter-oauth2-resource-server:3.1.0\r\n -  org.projectlombok:lombok:1.18.26\r\n -  org.springframework.boot:spring-boot-starter-test:3.1.0\r\n\r\nall with Spring Boot 3.1.0! Due to the fact that the online material was from the last two years, I also tried different versions through (e.g. `&lt;spring-security.version&gt;6.1.1&lt;/spring-security.version&gt;`, etc.)\r\n\r\nAs to my `application.properties` I added the most basic set-up:\r\n\r\n    spring.security.oauth2.client.registration.keycloak.client-id=[client-id]\r\n    spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\r\n    spring.security.oauth2.client.registration.keycloak.scope=openid\r\n    spring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/realms/dev\r\n    spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\r\n\r\nThat&#39;s that! Now onto the different approaches I&#39;ve went through *unsuccessfully*:\r\n\r\n[**1. Tutorial from Baeldung**][1] \r\n\r\nOn there it specified the SecurityConfig to be used with a `@Bean` returning a `SecurityFilterChain`:\r\n\r\n```\r\n @Bean\r\n public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n     http.authorizeRequests()\r\n             .antMatchers(&quot;/customers*&quot;)\r\n             .hasRole(&quot;USER&quot;)\r\n             .anyRequest()\r\n             .permitAll();\r\n     http.oauth2Login()\r\n             .and()\r\n             .logout()\r\n             .addLogoutHandler(keycloakLogoutHandler)\r\n             .logoutSuccessUrl(&quot;/&quot;);\r\n     http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n     return http.build();\r\n }\r\n```\r\n... Apparently, `&#39;authorizeRequests()&#39;` is deprecated. Same applies for `&#39;oauth2Login()&#39;` (even marked for removal)!\r\n\r\n[**2. GitHub Issue #10187 discussion**][2]\r\n\r\nIn the before-mentioned issue, a in-depth discussion broke out with lots of members sharing their code snippet. It&#39;s a very recent topic (2022) and thus I thought it would still apply to current standards.\r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private final KeycloakLogoutHandler keycloakLogoutHandler;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests() //\r\n                .anyRequest().fullyAuthenticated() //\r\n                .and().oauth2Client() //\r\n                .and().oauth2Login().tokenEndpoint().and().userInfoEndpoint().userAuthoritiesMapper(userAuthoritiesMapper()) //\r\n                .and().and()\r\n                .logout().addLogoutHandler(keycloakLogoutHandler)\r\n        ;\r\n    }\r\n\r\n    private GrantedAuthoritiesMapper userAuthoritiesMapper() {\r\n    [...]\r\n```\r\nI played with something along those lines. Again... Besides the known culprits marked as `deprecated` (`oauth2Client()`, `oauth2Login()`, etc.) the big issue was [`WebSecurityConfigurerAdapter`][3] is **ALSO** deprecated. When opening [issue #12514][4] I was then informed that I should proceed with a `SecurityFilterChain` similar to the first approach.\r\n\r\n\r\nEither way, I&#39;ve burnt through approximately 10+ tutorials now and am not able to find one working project which is - considering the size of KeyCloak - very odd. The only good information I found was that the old [KeyCloak adapters were deprecated][5] as of last year... though I haven&#39;t used them as you can see above.\r\n\r\n**Is anyone able to help me out?** I want to set-up a **SIMPLE** `SecurityConfig` to build by base upon. Just fetching the bearer token (btw KeyCloak related set-up works) from the request, then validating the JWT and comparing the user roles / permissions to the needed role on an endpoint *(preferably not a global setting, but a local one per endpoint basis)*.\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-keycloak\r\n  [2]: https://github.com/keycloak/keycloak/discussions/10187#discussioncomment-2203263\r\n  [3]: https://docs.spring.io/spring-security/site/docs/5.7.0-M2/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html\r\n  [4]: https://github.com/keycloak/keycloak/issues/12514\r\n  [5]: https://www.keycloak.org/2023/03/adapter-deprecation-update.html","title":"How to integrate Keycloak into simple Spring Boot back-end with Spring Security?","body":"<p>I'm currently trying to implement security for a simple Spring Boot Back-End application. For that I intended to use Keycloak in combination with Spring Security. After trying a dozens of tutorial set-ups (just a basic filter / SecurityConfig), I'm left clueless as to why the <code>SecurityFilterChain</code> won't work.</p>\n<p>As a reference - the following are my dependencies:</p>\n<ul>\n<li>org.springframework.boot:spring-boot-starter:3.1.0</li>\n<li>org.springframework.boot:spring-boot-starter-web:3.1.0</li>\n<li>org.springframework.boot:spring-boot-starter-oauth2-client:3.1.0</li>\n<li>org.springframework.boot:spring-boot-starter-security:3.1.0</li>\n<li>org.springframework.boot:spring-boot-starter-oauth2-resource-server:3.1.0</li>\n<li>org.projectlombok:lombok:1.18.26</li>\n<li>org.springframework.boot:spring-boot-starter-test:3.1.0</li>\n</ul>\n<p>all with Spring Boot 3.1.0! Due to the fact that the online material was from the last two years, I also tried different versions through (e.g. <code>&lt;spring-security.version&gt;6.1.1&lt;/spring-security.version&gt;</code>, etc.)</p>\n<p>As to my <code>application.properties</code> I added the most basic set-up:</p>\n<pre><code>spring.security.oauth2.client.registration.keycloak.client-id=[client-id]\nspring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.keycloak.scope=openid\nspring.security.oauth2.client.provider.keycloak.issuer-uri=http://localhost:8080/realms/dev\nspring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username\n</code></pre>\n<p>That's that! Now onto the different approaches I've went through <em>unsuccessfully</em>:</p>\n<p><a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\"><strong>1. Tutorial from Baeldung</strong></a></p>\n<p>On there it specified the SecurityConfig to be used with a <code>@Bean</code> returning a <code>SecurityFilterChain</code>:</p>\n<pre><code> @Bean\n public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n     http.authorizeRequests()\n             .antMatchers(&quot;/customers*&quot;)\n             .hasRole(&quot;USER&quot;)\n             .anyRequest()\n             .permitAll();\n     http.oauth2Login()\n             .and()\n             .logout()\n             .addLogoutHandler(keycloakLogoutHandler)\n             .logoutSuccessUrl(&quot;/&quot;);\n     http.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n     return http.build();\n }\n</code></pre>\n<p>... Apparently, <code>'authorizeRequests()'</code> is deprecated. Same applies for <code>'oauth2Login()'</code> (even marked for removal)!</p>\n<p><a href=\"https://github.com/keycloak/keycloak/discussions/10187#discussioncomment-2203263\" rel=\"nofollow noreferrer\"><strong>2. GitHub Issue #10187 discussion</strong></a></p>\n<p>In the before-mentioned issue, a in-depth discussion broke out with lots of members sharing their code snippet. It's a very recent topic (2022) and thus I thought it would still apply to current standards.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    private final KeycloakLogoutHandler keycloakLogoutHandler;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests() //\n                .anyRequest().fullyAuthenticated() //\n                .and().oauth2Client() //\n                .and().oauth2Login().tokenEndpoint().and().userInfoEndpoint().userAuthoritiesMapper(userAuthoritiesMapper()) //\n                .and().and()\n                .logout().addLogoutHandler(keycloakLogoutHandler)\n        ;\n    }\n\n    private GrantedAuthoritiesMapper userAuthoritiesMapper() {\n    [...]\n</code></pre>\n<p>I played with something along those lines. Again... Besides the known culprits marked as <code>deprecated</code> (<code>oauth2Client()</code>, <code>oauth2Login()</code>, etc.) the big issue was <a href=\"https://docs.spring.io/spring-security/site/docs/5.7.0-M2/api/org/springframework/security/config/annotation/web/configuration/WebSecurityConfigurerAdapter.html\" rel=\"nofollow noreferrer\"><code>WebSecurityConfigurerAdapter</code></a> is <strong>ALSO</strong> deprecated. When opening <a href=\"https://github.com/keycloak/keycloak/issues/12514\" rel=\"nofollow noreferrer\">issue #12514</a> I was then informed that I should proceed with a <code>SecurityFilterChain</code> similar to the first approach.</p>\n<p>Either way, I've burnt through approximately 10+ tutorials now and am not able to find one working project which is - considering the size of KeyCloak - very odd. The only good information I found was that the old <a href=\"https://www.keycloak.org/2023/03/adapter-deprecation-update.html\" rel=\"nofollow noreferrer\">KeyCloak adapters were deprecated</a> as of last year... though I haven't used them as you can see above.</p>\n<p><strong>Is anyone able to help me out?</strong> I want to set-up a <strong>SIMPLE</strong> <code>SecurityConfig</code> to build by base upon. Just fetching the bearer token (btw KeyCloak related set-up works) from the request, then validating the JWT and comparing the user roles / permissions to the needed role on an endpoint <em>(preferably not a global setting, but a local one per endpoint basis)</em>.</p>\n"},{"tags":["java","spring-boot","soap","marshalling","soap-client"],"comments":[{"owner":{"account_id":11523649,"reputation":23,"user_id":19555541,"display_name":"P D"},"score":1,"creation_date":1687951744,"post_id":76572717,"comment_id":135007997,"body_markdown":"Ugh, this really is due to the 3.1.0 version of Spring that I am using here.\nAfter changing to 2.7.9, the tests are successful. \nAnyways I would like to know how to get this to run with the newer Spring version.","body":"Ugh, this really is due to the 3.1.0 version of Spring that I am using here. After changing to 2.7.9, the tests are successful.  Anyways I would like to know how to get this to run with the newer Spring version."}],"owner":{"account_id":11523649,"reputation":23,"user_id":19555541,"display_name":"P D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687951545,"creation_date":1687951545,"question_id":76572717,"body_markdown":"I am trying to create a Java Spring Boot SOAP client.\r\nI followed this instruction: https://www.baeldung.com/spring-soap-web-service\r\n\r\nI am using Java 17 with Spring 3.1.0.\r\n\r\nThe basic steps are:\r\n1. generate classes from wsdl\r\n - here I did a minor change to the instruction. I change the generate directory to:    \r\n${project.basedir}/target/generate-sources, so that I do not have generated files as part of my project\r\n - this is not the source of the problem though, since I changed it to the value from the instruction (src/main/java) and nothing changed\r\n\r\nThis is the part of my pom file\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.14.0&lt;/version&gt;\r\n\t&lt;executions&gt;\r\n\t\t&lt;execution&gt;\r\n\t\t\t&lt;goals&gt;\r\n\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t&lt;/goals&gt;\r\n\t\t&lt;/execution&gt;\r\n\t&lt;/executions&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\r\n\t\t&lt;generateDirectory&gt;${project.basedir}/target/generate-sources&lt;/generateDirectory&gt;\r\n\t\t&lt;generatePackage&gt;de.mat.test.country&lt;/generatePackage&gt;\r\n\t\t&lt;schemaDirectory&gt;${project.basedir}/src/main/resources/wsdl&lt;/schemaDirectory&gt;\r\n\t\t&lt;schemaIncludes&gt;\r\n\t\t\t&lt;include&gt;countries.wsdl&lt;/include&gt;\r\n\t\t&lt;/schemaIncludes&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe class generation works fine as I can import and use the classes in the following classes.\r\n\r\n2. I created Client &amp; ClientConfig with the following code\r\n\r\n```\r\npublic class CountryClient extends WebServiceGatewaySupport {\r\n\r\n  public GetCountryResponse getCountry(String country) {\r\n    GetCountryRequest request = new GetCountryRequest();\r\n    request.setName(country);\r\n\r\n    var webServiceTemplate = getWebServiceTemplate();\r\n    var response = webServiceTemplate.marshalSendAndReceive(request);\r\n    GetCountryResponse getCountryResponse = (GetCountryResponse) response;\r\n    return getCountryResponse;\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Configuration\r\npublic class CountryClientConfig {\r\n\r\n    @Bean\r\n    public Jaxb2Marshaller marshaller() {\r\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\r\n        marshaller.setContextPath(&quot;de.mat.test.country&quot;); // this is the only thing changed here\r\n        return marshaller;\r\n    }\r\n\r\n    @Bean\r\n    public CountryClient countryClient(Jaxb2Marshaller marshaller) {\r\n        CountryClient client = new CountryClient();\r\n        client.setDefaultUri(&quot;http://localhost:8080/ws&quot;);\r\n        client.setMarshaller(marshaller);\r\n        client.setUnmarshaller(marshaller);\r\n        return client;\r\n    }\r\n}\r\n```\r\n\r\n3. Finally I created the test class, with a change to the annotation due to newer spring version\r\n\r\n\r\n```\r\n@SpringBootTest // this was @RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = CountryClientConfig.class, loader = AnnotationConfigContextLoader.class)\r\npublic class ClientLiveTest {\r\n\r\n    @Autowired\r\n    CountryClient client;\r\n\r\n    @Test\r\n    public void givenCountryService_whenCountryGermany_thenCapitalIsBerlin() {\r\n        GetCountryResponse response = client.getCountry(&quot;GER&quot;);\r\n        assertEquals(&quot;BLN&quot;, response.getCountry().getCapital());\r\n    }\r\n\r\n    @Test\r\n    public void givenCountryService_whenCountrySpain_thenCurrencyEUR() {\r\n        GetCountryResponse response = client.getCountry(&quot;ESP&quot;);\r\n        assertEquals(Currency.EUR, response.getCountry().getCurrency());\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nAfter doing all this and running the test I get an JAXB exception:\r\n```\r\norg.springframework.oxm.UncategorizedMappingException: Unknown JAXB exception\r\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.convertJaxbException(Jaxb2Marshaller.java:958)\r\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.marshal(Jaxb2Marshaller.java:716)\r\n at org.springframework.ws.support.MarshallingUtils.marshal(MarshallingUtils.java:80)\r\n at org.springframework.ws.client.core.WebServiceTemplate$2.doWithMessage(WebServiceTemplate.java:399)\r\n at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:569)\r\n at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:539)\r\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:391)\r\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:385)\r\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:375)\r\n at de.mat.test.client.CountryClient2.getCountry(CountryClient2.java:15)\r\n at de.mat.test.ClientLiveTest.givenCountryService_whenCountrySpain_thenCurrencyEUR(ClientLiveTest.java:31)\r\n at java.base/java.util.ArrayList.forEach(Unknown Source)\r\n at java.base/java.util.ArrayList.forEach(Unknown Source)\r\nCaused by: jakarta.xml.bind.JAXBException: class de.mat.test.country.GetCountryRequest nor any of its super class is known to this context.\r\n at org.glassfish.jaxb.runtime.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:543)\r\n at org.glassfish.jaxb.runtime.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:444)\r\n at org.glassfish.jaxb.runtime.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:265)\r\n at org.glassfish.jaxb.runtime.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:197)\r\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.marshal(Jaxb2Marshaller.java:712)\r\n```\r\n\r\nDoes anyone know what the problem here might be?\r\nAm I missing an annotation or something?\r\nIs it due to me using a newer Spring Boot version?\r\n\r\nIf needed I am happy to provide more information.\r\n\r\nThanks in advance, \r\nPaul","title":"JAXB Exception in Java Spring Boot SOAP client","body":"<p>I am trying to create a Java Spring Boot SOAP client.\nI followed this instruction: <a href=\"https://www.baeldung.com/spring-soap-web-service\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-soap-web-service</a></p>\n<p>I am using Java 17 with Spring 3.1.0.</p>\n<p>The basic steps are:</p>\n<ol>\n<li>generate classes from wsdl</li>\n</ol>\n<ul>\n<li>here I did a minor change to the instruction. I change the generate directory to:<br />\n${project.basedir}/target/generate-sources, so that I do not have generated files as part of my project</li>\n<li>this is not the source of the problem though, since I changed it to the value from the instruction (src/main/java) and nothing changed</li>\n</ul>\n<p>This is the part of my pom file</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.14.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;schemaLanguage&gt;WSDL&lt;/schemaLanguage&gt;\n        &lt;generateDirectory&gt;${project.basedir}/target/generate-sources&lt;/generateDirectory&gt;\n        &lt;generatePackage&gt;de.mat.test.country&lt;/generatePackage&gt;\n        &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/wsdl&lt;/schemaDirectory&gt;\n        &lt;schemaIncludes&gt;\n            &lt;include&gt;countries.wsdl&lt;/include&gt;\n        &lt;/schemaIncludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The class generation works fine as I can import and use the classes in the following classes.</p>\n<ol start=\"2\">\n<li>I created Client &amp; ClientConfig with the following code</li>\n</ol>\n<pre><code>public class CountryClient extends WebServiceGatewaySupport {\n\n  public GetCountryResponse getCountry(String country) {\n    GetCountryRequest request = new GetCountryRequest();\n    request.setName(country);\n\n    var webServiceTemplate = getWebServiceTemplate();\n    var response = webServiceTemplate.marshalSendAndReceive(request);\n    GetCountryResponse getCountryResponse = (GetCountryResponse) response;\n    return getCountryResponse;\n  }\n}\n</code></pre>\n<pre><code>@Configuration\npublic class CountryClientConfig {\n\n    @Bean\n    public Jaxb2Marshaller marshaller() {\n        Jaxb2Marshaller marshaller = new Jaxb2Marshaller();\n        marshaller.setContextPath(&quot;de.mat.test.country&quot;); // this is the only thing changed here\n        return marshaller;\n    }\n\n    @Bean\n    public CountryClient countryClient(Jaxb2Marshaller marshaller) {\n        CountryClient client = new CountryClient();\n        client.setDefaultUri(&quot;http://localhost:8080/ws&quot;);\n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        return client;\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Finally I created the test class, with a change to the annotation due to newer spring version</li>\n</ol>\n<pre><code>@SpringBootTest // this was @RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = CountryClientConfig.class, loader = AnnotationConfigContextLoader.class)\npublic class ClientLiveTest {\n\n    @Autowired\n    CountryClient client;\n\n    @Test\n    public void givenCountryService_whenCountryGermany_thenCapitalIsBerlin() {\n        GetCountryResponse response = client.getCountry(&quot;GER&quot;);\n        assertEquals(&quot;BLN&quot;, response.getCountry().getCapital());\n    }\n\n    @Test\n    public void givenCountryService_whenCountrySpain_thenCurrencyEUR() {\n        GetCountryResponse response = client.getCountry(&quot;ESP&quot;);\n        assertEquals(Currency.EUR, response.getCountry().getCurrency());\n    }\n}\n\n</code></pre>\n<p>After doing all this and running the test I get an JAXB exception:</p>\n<pre><code>org.springframework.oxm.UncategorizedMappingException: Unknown JAXB exception\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.convertJaxbException(Jaxb2Marshaller.java:958)\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.marshal(Jaxb2Marshaller.java:716)\n at org.springframework.ws.support.MarshallingUtils.marshal(MarshallingUtils.java:80)\n at org.springframework.ws.client.core.WebServiceTemplate$2.doWithMessage(WebServiceTemplate.java:399)\n at org.springframework.ws.client.core.WebServiceTemplate.doSendAndReceive(WebServiceTemplate.java:569)\n at org.springframework.ws.client.core.WebServiceTemplate.sendAndReceive(WebServiceTemplate.java:539)\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:391)\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:385)\n at org.springframework.ws.client.core.WebServiceTemplate.marshalSendAndReceive(WebServiceTemplate.java:375)\n at de.mat.test.client.CountryClient2.getCountry(CountryClient2.java:15)\n at de.mat.test.ClientLiveTest.givenCountryService_whenCountrySpain_thenCurrencyEUR(ClientLiveTest.java:31)\n at java.base/java.util.ArrayList.forEach(Unknown Source)\n at java.base/java.util.ArrayList.forEach(Unknown Source)\nCaused by: jakarta.xml.bind.JAXBException: class de.mat.test.country.GetCountryRequest nor any of its super class is known to this context.\n at org.glassfish.jaxb.runtime.v2.runtime.JAXBContextImpl.getBeanInfo(JAXBContextImpl.java:543)\n at org.glassfish.jaxb.runtime.v2.runtime.XMLSerializer.childAsRoot(XMLSerializer.java:444)\n at org.glassfish.jaxb.runtime.v2.runtime.MarshallerImpl.write(MarshallerImpl.java:265)\n at org.glassfish.jaxb.runtime.v2.runtime.MarshallerImpl.marshal(MarshallerImpl.java:197)\n at org.springframework.oxm.jaxb.Jaxb2Marshaller.marshal(Jaxb2Marshaller.java:712)\n</code></pre>\n<p>Does anyone know what the problem here might be?\nAm I missing an annotation or something?\nIs it due to me using a newer Spring Boot version?</p>\n<p>If needed I am happy to provide more information.</p>\n<p>Thanks in advance,\nPaul</p>\n"},{"tags":["java","spring","hibernate","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1687973946,"post_id":76572715,"comment_id":135012974,"body_markdown":"Everything is fine with that code. You just have `@Builder` on `Price`, thus MapStruct uses the builder.","body":"Everything is fine with that code. You just have <code>@Builder</code> on <code>Price</code>, thus MapStruct uses the builder."},{"owner":{"account_id":19978711,"reputation":11,"user_id":14642381,"display_name":"anodino"},"score":0,"creation_date":1688066109,"post_id":76572715,"comment_id":135027668,"body_markdown":"Hi Jan Rieke, I&#39;ve delete @Buider anotation and thi&#39;s done, Thanks you.","body":"Hi Jan Rieke, I&#39;ve delete @Buider anotation and thi&#39;s done, Thanks you."}],"owner":{"account_id":19978711,"reputation":11,"user_id":14642381,"display_name":"anodino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687951528,"creation_date":1687951528,"question_id":76572715,"body_markdown":"\r\n \r\n\r\n\r\ngreetings to all, in an example of a course we have used an entity and its corresponding entity that acts as a DTO that is called entidadRest but that annotates it with @json, what advantage does this approach have when performing DTOS, I am developing a mini project and I am using DTOS to use them with MapStruct but the fact is that when I generate the conversion, even though it generates and compiles them, it does not show me the settters\r\n\r\n    @Override\r\n    public Price dtoToModel(PriceDTO pricesDTO) {\r\n        if ( pricesDTO == null ) {\r\n            return null;\r\n        }\r\n\r\n        Price.PriceBuilder price = Price.builder();\r\n\r\n            price.priceId( pricesDTO.getPrice_Id() );\r\n            price.productId( pricesDTO.getProduct_Id() );\r\n            price.brandId( pricesDTO.getBrand_Id() );\r\n            price.starDate( pricesDTO.getStarDate() );\r\n            price.endDate( pricesDTO.getEndDate() );\r\n            price.priority( pricesDTO.getPriority() );\r\n            price.price( pricesDTO.getPrice_dto() );\r\n            if ( pricesDTO.getCurr() != null ) {\r\n                price.curr( String.valueOf( pricesDTO.getCurr() ) );\r\n        }\r\n            price.price_List( priceDTOSetToPriceSet( pricesDTO.getPriceList_dto() ) );\r\n            price.produc( pricesDTO.getProduc() );\r\n\r\n        return price.build();\r\n    }\r\n \r\n  \r\n\r\n   the form correct for that&#39;s   price.SetPriceId( pricesDTO.getPrice_Id() );","title":"How generated setter inside implements class from MapStruct","body":"<p>greetings to all, in an example of a course we have used an entity and its corresponding entity that acts as a DTO that is called entidadRest but that annotates it with @json, what advantage does this approach have when performing DTOS, I am developing a mini project and I am using DTOS to use them with MapStruct but the fact is that when I generate the conversion, even though it generates and compiles them, it does not show me the settters</p>\n<pre><code>@Override\npublic Price dtoToModel(PriceDTO pricesDTO) {\n    if ( pricesDTO == null ) {\n        return null;\n    }\n\n    Price.PriceBuilder price = Price.builder();\n\n        price.priceId( pricesDTO.getPrice_Id() );\n        price.productId( pricesDTO.getProduct_Id() );\n        price.brandId( pricesDTO.getBrand_Id() );\n        price.starDate( pricesDTO.getStarDate() );\n        price.endDate( pricesDTO.getEndDate() );\n        price.priority( pricesDTO.getPriority() );\n        price.price( pricesDTO.getPrice_dto() );\n        if ( pricesDTO.getCurr() != null ) {\n            price.curr( String.valueOf( pricesDTO.getCurr() ) );\n    }\n        price.price_List( priceDTOSetToPriceSet( pricesDTO.getPriceList_dto() ) );\n        price.produc( pricesDTO.getProduc() );\n\n    return price.build();\n}\n</code></pre>\n<p>the form correct for that's   price.SetPriceId( pricesDTO.getPrice_Id() );</p>\n"},{"tags":["java","android","ios","security","robovm"],"comments":[{"owner":{"account_id":2441570,"reputation":109958,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1687952274,"post_id":76572692,"comment_id":135008080,"body_markdown":"https://developer.apple.com/documentation/devicecheck/establishing_your_app_s_integrity","body":"<a href=\"https://developer.apple.com/documentation/devicecheck/establishing_your_app_s_integrity\" rel=\"nofollow noreferrer\">developer.apple.com/documentation/devicecheck/&hellip;</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1687965783,"post_id":76572692,"comment_id":135011363,"body_markdown":"iOS apps are signed by Apple before the are published in their app store. What signature certificate is used for signing by Apple is AFAIK not specified by Apple (and it can change at any time).","body":"iOS apps are signed by Apple before the are published in their app store. What signature certificate is used for signing by Apple is AFAIK not specified by Apple (and it can change at any time)."}],"owner":{"account_id":13828030,"reputation":169,"user_id":9981772,"display_name":"ilya_kas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687951320,"creation_date":1687951320,"question_id":76572692,"body_markdown":"I have an Android and IOS cross-platform app. It needs some data for security purposes that prevents decompiled app to work after recompiling. The idea is to use info about key that is used to sign apps. I&#39;ve found a way to get some key by using signature, now I&#39;m struggling to find a solution for IOS. Is there something available to use in IOS app? What do you think is the best approach? Is it possible for potential hacker to get same information from built apk/ipa?\r\n\r\nP.S. I&#39;m using Java/Kotlin for Android and same + robovm for IOS. If you are not familiar with robovm, but ok with native development - feel free to answer - I&#39;ll translate.","title":"Getting IOS signing key information","body":"<p>I have an Android and IOS cross-platform app. It needs some data for security purposes that prevents decompiled app to work after recompiling. The idea is to use info about key that is used to sign apps. I've found a way to get some key by using signature, now I'm struggling to find a solution for IOS. Is there something available to use in IOS app? What do you think is the best approach? Is it possible for potential hacker to get same information from built apk/ipa?</p>\n<p>P.S. I'm using Java/Kotlin for Android and same + robovm for IOS. If you are not familiar with robovm, but ok with native development - feel free to answer - I'll translate.</p>\n"},{"tags":["java","spring-boot","swagger-ui"],"owner":{"account_id":16595871,"reputation":1,"user_id":11992739,"display_name":"Kiruthika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687951245,"creation_date":1687946368,"question_id":76572061,"body_markdown":"I am using Swagger(version 3.0.0) with spring boot(2.5.14). I have an unreachable model class named SampleModel that I have added to swagger using the Docket object\r\n\r\n```\r\n\t@Bean\r\n\tpublic Docket api(TypeResolver typeResolver) {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.any())\r\n\t\t\t\t.paths(PathSelectors.any())\r\n\t\t\t\t.build()\r\n\t\t\t\t.additionalModels(typeResolver.resolve(SampleModel.class));\r\n\t}\r\n```\r\n\r\nSampleModel.java\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ApiModel\r\npublic class SampleModel {\r\n    @ApiModelProperty(value=&quot;student id&quot;)\r\n    String id;\r\n    String name;\r\n    Integer age;\r\n    Object address;\r\n    @ApiModelProperty(value=&quot;I need to add some description here&quot;,reference = &quot;Foo.java&quot;)\r\n    public HashMap&lt;String, Object&gt; mapObj;\r\n}\r\n```\r\n\r\nThis class appears on the UI under Models, but the metadata for mapObj does not appear. \r\n\r\nThe value added to **id** reflects though.\r\n\r\nCan someone help me add properties/metadata to a Map please","title":"ApiModelProperty annotation of Swagger is not working on Map","body":"<p>I am using Swagger(version 3.0.0) with spring boot(2.5.14). I have an unreachable model class named SampleModel that I have added to swagger using the Docket object</p>\n<pre><code>    @Bean\n    public Docket api(TypeResolver typeResolver) {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(PathSelectors.any())\n                .build()\n                .additionalModels(typeResolver.resolve(SampleModel.class));\n    }\n</code></pre>\n<p>SampleModel.java</p>\n<pre><code>@Getter\n@Setter\n@ApiModel\npublic class SampleModel {\n    @ApiModelProperty(value=&quot;student id&quot;)\n    String id;\n    String name;\n    Integer age;\n    Object address;\n    @ApiModelProperty(value=&quot;I need to add some description here&quot;,reference = &quot;Foo.java&quot;)\n    public HashMap&lt;String, Object&gt; mapObj;\n}\n</code></pre>\n<p>This class appears on the UI under Models, but the metadata for mapObj does not appear.</p>\n<p>The value added to <strong>id</strong> reflects though.</p>\n<p>Can someone help me add properties/metadata to a Map please</p>\n"},{"tags":["java","spring","aop","aspectj","pointcut"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1525361277,"post_id":50139365,"comment_id":87335225,"body_markdown":"No, they do not executed twice (unless someone calls the twice, too), you only think they do. But this cannot be analysed without the target code. So please provide an [MCVE](http://stackoverflow.com/help/mcve) including aspect + application code incl. class and package names.","body":"No, they do not executed twice (unless someone calls the twice, too), you only think they do. But this cannot be analysed without the target code. So please provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> including aspect + application code incl. class and package names."},{"owner":{"account_id":2853075,"reputation":7038,"user_id":2699901,"display_name":"N&#225;ndor Eld Fekete"},"score":0,"creation_date":1525434896,"post_id":50139365,"comment_id":87365501,"body_markdown":"I&#39;m voting to close this question as it lacks the necessary [mcve] to reproduce the issue.","body":"I&#39;m voting to close this question as it lacks the necessary <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to reproduce the issue."}],"answers":[{"comments":[{"owner":{"account_id":6301767,"reputation":49,"user_id":4896168,"display_name":"Naz Haque"},"score":0,"creation_date":1525294902,"post_id":50139425,"comment_id":87305177,"body_markdown":"There is no extra @component or @ service, you can see that in the code above. How can I play around with @ EnableJAutoProxy? I don&#39;t have any subclasses in my code.","body":"There is no extra @component or @ service, you can see that in the code above. How can I play around with @ EnableJAutoProxy? I don&#39;t have any subclasses in my code."},{"owner":{"account_id":6301767,"reputation":49,"user_id":4896168,"display_name":"Naz Haque"},"score":0,"creation_date":1525295484,"post_id":50139425,"comment_id":87305421,"body_markdown":"Plus the first pointcut gets executed once as expected but the last 2 get executed twice.","body":"Plus the first pointcut gets executed once as expected but the last 2 get executed twice."},{"owner":{"account_id":911459,"reputation":2140,"user_id":945214,"display_name":"gargkshitiz"},"score":0,"creation_date":1525338356,"post_id":50139425,"comment_id":87319839,"body_markdown":"Are 2nd, 3rd methods getting called from 1st? Check what happens if you remove those &#39;sibling&#39; method calls and call the 2nd/3rd methods from somewhere else. Would you still get 2 executions?","body":"Are 2nd, 3rd methods getting called from 1st? Check what happens if you remove those &#39;sibling&#39; method calls and call the 2nd/3rd methods from somewhere else. Would you still get 2 executions?"}],"tags":[],"owner":{"account_id":911459,"reputation":2140,"user_id":945214,"display_name":"gargkshitiz"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525279394,"creation_date":1525278618,"answer_id":50139425,"question_id":50139365,"body_markdown":"Spring should not be processing aspect multiple times. Check if you are having @component or @service on top of the class. If yes, remove them and see. Also play around with @EnableJAutoproxy. It may be that two proxies are created, hence aspect is executing twice. Also, check if an annotated method is being called from another sibling method of the class. That might be also problematic.\r\n","title":"AOP advice called twice apart from first pointcut","body":"<p>Spring should not be processing aspect multiple times. Check if you are having @component or @service on top of the class. If yes, remove them and see. Also play around with @EnableJAutoproxy. It may be that two proxies are created, hence aspect is executing twice. Also, check if an annotated method is being called from another sibling method of the class. That might be also problematic.</p>\n"},{"tags":[],"owner":{"account_id":28911724,"reputation":1,"user_id":22144599,"display_name":"Vishnu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687951174,"creation_date":1687951174,"answer_id":76572672,"question_id":50139365,"body_markdown":"I know it is late but I am answering it in order to help others like me who are going to encounter it in the future:\r\nCheck if your code is calling the method(with pointcut which is executing twice) multiple times.\r\nIf you are using &quot;within&quot;, there is a high chance that there is more than 1 method in its range. So pointcut is getting executed for every method call.\r\nThe above code is not having the part where the method is getting called. I think addToDownloaded() is getting called twice.","title":"AOP advice called twice apart from first pointcut","body":"<p>I know it is late but I am answering it in order to help others like me who are going to encounter it in the future:\nCheck if your code is calling the method(with pointcut which is executing twice) multiple times.\nIf you are using &quot;within&quot;, there is a high chance that there is more than 1 method in its range. So pointcut is getting executed for every method call.\nThe above code is not having the part where the method is getting called. I think addToDownloaded() is getting called twice.</p>\n"}],"owner":{"account_id":6301767,"reputation":49,"user_id":4896168,"display_name":"Naz Haque"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687951174,"creation_date":1525278385,"question_id":50139365,"body_markdown":"I am using annotation based AOP in my Java Spring Application. There is no XML configuration at all (apart from log4j2.xml).\r\n\r\nMy first pointcut gets executed once as expected but every pointcut after that will get executed twice and I can&#39;t figure out why.\r\n\r\nHere is my configuration class:\r\n\r\n    @Configuration @EnableAspectJAutoProxy\r\n    public class LoggingConfig\r\n    {\r\n        @Bean public PreProcessLogs preProcessLogs(){\r\n            return new PreProcessLogs();\r\n        }\r\n    }\r\n\r\nand the Aspect class:\r\n\r\n    @Aspect\r\n    public class PreProcessLogs\r\n    {\r\n        @Before(&quot;execution(* &lt;package&gt;.preprocessor.services.DownloadService.addToDownloading(..)) &quot; + &quot;&amp;&amp; args(event)&quot;)\r\n        public void LogFTPFile(JoinPoint joinPoint, WatchEvent&lt;?&gt; event) {\r\n            Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(joinPoint.getSignature().getDeclaringTypeName());\r\n            logger.log(Level.INFO, event.context().toString() + &quot; has appeared in the FTP\\n&quot;);\r\n        }\r\n\r\n        @AfterReturning(&quot;execution(void &lt;package&gt;.preprocessor.services.DownloadService.addToDownloaded(..)) &quot; + &quot;&amp;&amp; args(filePath)&quot;)\r\n        public void logDownloadedFile(JoinPoint joinPoint, Path filePath) {\r\n            //Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(joinPoint.getSignature().getDeclaringTypeName());\r\n            //logger.log(Level.INFO, file.getFileName() + &quot; has finished downloading&quot;);\r\n            //System.out.println(joinPoint.getSourceLocation());\r\n            System.out.println(filePath.getFileName() +&quot; has been downloaded&quot;);\r\n        }\r\n\r\n        @After(&quot;execution(void &lt;package&gt;.preprocessor.services.FileTransferService.moveToStagingFolder(..)) &quot; + &quot;&amp;&amp; args(file)&quot;)\r\n        public void logFileTransfer(JoinPoint jp, Path file) {\r\n            System.out.println(file.getFileName() + &quot; has been moved to the Staging Folder&quot;);\r\n        }\r\n    }\r\n\r\nSo basically the @AfterReturning and @After Pointcuts get executed twice instead of once. The @Before annotation gets executed once as expected. I have tried @Before with the bottom two pointcuts but same effect. I have also tried to define a pointcut using @Pointcut but the same thing happens. I have also tried to specify the type where the (..)) is.\r\n\r\nAt the end of my tether trying to get this to work, please someone push me in the right direction.\r\n\r\nThanks.","title":"AOP advice called twice apart from first pointcut","body":"<p>I am using annotation based AOP in my Java Spring Application. There is no XML configuration at all (apart from log4j2.xml).</p>\n\n<p>My first pointcut gets executed once as expected but every pointcut after that will get executed twice and I can't figure out why.</p>\n\n<p>Here is my configuration class:</p>\n\n<pre><code>@Configuration @EnableAspectJAutoProxy\npublic class LoggingConfig\n{\n    @Bean public PreProcessLogs preProcessLogs(){\n        return new PreProcessLogs();\n    }\n}\n</code></pre>\n\n<p>and the Aspect class:</p>\n\n<pre><code>@Aspect\npublic class PreProcessLogs\n{\n    @Before(\"execution(* &lt;package&gt;.preprocessor.services.DownloadService.addToDownloading(..)) \" + \"&amp;&amp; args(event)\")\n    public void LogFTPFile(JoinPoint joinPoint, WatchEvent&lt;?&gt; event) {\n        Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(joinPoint.getSignature().getDeclaringTypeName());\n        logger.log(Level.INFO, event.context().toString() + \" has appeared in the FTP\\n\");\n    }\n\n    @AfterReturning(\"execution(void &lt;package&gt;.preprocessor.services.DownloadService.addToDownloaded(..)) \" + \"&amp;&amp; args(filePath)\")\n    public void logDownloadedFile(JoinPoint joinPoint, Path filePath) {\n        //Logger logger = (org.apache.logging.log4j.core.Logger) LogManager.getLogger(joinPoint.getSignature().getDeclaringTypeName());\n        //logger.log(Level.INFO, file.getFileName() + \" has finished downloading\");\n        //System.out.println(joinPoint.getSourceLocation());\n        System.out.println(filePath.getFileName() +\" has been downloaded\");\n    }\n\n    @After(\"execution(void &lt;package&gt;.preprocessor.services.FileTransferService.moveToStagingFolder(..)) \" + \"&amp;&amp; args(file)\")\n    public void logFileTransfer(JoinPoint jp, Path file) {\n        System.out.println(file.getFileName() + \" has been moved to the Staging Folder\");\n    }\n}\n</code></pre>\n\n<p>So basically the @AfterReturning and @After Pointcuts get executed twice instead of once. The @Before annotation gets executed once as expected. I have tried @Before with the bottom two pointcuts but same effect. I have also tried to define a pointcut using @Pointcut but the same thing happens. I have also tried to specify the type where the (..)) is.</p>\n\n<p>At the end of my tether trying to get this to work, please someone push me in the right direction.</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","android","webrtc"],"comments":[{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1687964997,"post_id":76558014,"comment_id":135011192,"body_markdown":"Check this for more information about your issue:- https://datatracker.ietf.org/doc/html/draft-ietf-rtcweb-sdp-14","body":"Check this for more information about your issue:- <a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-rtcweb-sdp-14\" rel=\"nofollow noreferrer\">datatracker.ietf.org/doc/html/draft-ietf-rtcweb-sdp-14</a>"}],"answers":[{"comments":[{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1687795589,"post_id":76558201,"comment_id":134983397,"body_markdown":"setlocatDescription at SDP? . I am doing this but still i dont see any log in console for ICE","body":"setlocatDescription at SDP? . I am doing this but still i dont see any log in console for ICE"},{"owner":{"account_id":2569702,"reputation":16087,"user_id":4352772,"display_name":"Philipp Hancke"},"score":0,"creation_date":1687805426,"post_id":76558201,"comment_id":134985312,"body_markdown":"The other option is that you are not adding any tracks, the generated SDP does not have any m= lines and these are required for gathering candidates.","body":"The other option is that you are not adding any tracks, the generated SDP does not have any m= lines and these are required for gathering candidates."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1687849698,"post_id":76558201,"comment_id":134990283,"body_markdown":"You mean add strem?","body":"You mean add strem?"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1687951132,"post_id":76558201,"comment_id":135007904,"body_markdown":"Please check the update question.","body":"Please check the update question."}],"tags":[],"owner":{"account_id":2569702,"reputation":16087,"user_id":4352772,"display_name":"Philipp Hancke"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687793874,"creation_date":1687793874,"answer_id":76558201,"question_id":76558014,"body_markdown":"ICE candidates are only generated after you call setLocalDescription, see https://w3c.github.io/webrtc-pc/#set-the-session-description step 4 substep 2.\r\n\r\n(please also note that org.webrtc:google-webrtc:1.0.32006 is an outdated version that has known security vulnerabilities)","title":"WebRTC ICE candidate not generating after setRemoteDescription","body":"<p>ICE candidates are only generated after you call setLocalDescription, see <a href=\"https://w3c.github.io/webrtc-pc/#set-the-session-description\" rel=\"nofollow noreferrer\">https://w3c.github.io/webrtc-pc/#set-the-session-description</a> step 4 substep 2.</p>\n<p>(please also note that org.webrtc:google-webrtc:1.0.32006 is an outdated version that has known security vulnerabilities)</p>\n"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687951097,"creation_date":1687792528,"question_id":76558014,"body_markdown":"I am trying to setup WebRTC ( implementation &#39;org.webrtc:google-webrtc:1.0.32006&#39; )for video and voice call. I can see the exchange of SDP via websocket by creating offer then receive the answer from other user. However, after successfully receiving SDP answer from user, I save it via `peerConnection.setRemoteDescription().`\r\n\r\n    SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER,sdp_ice_VALUE);\r\n    peerConnection.setRemoteDescription(new SdpObserver() {\r\n         @Override\r\n         public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                     Log.d(TAG, &quot;onCreateSuccess: &quot;);\r\n            }\r\n    \r\n           @Override\r\n           public void onSetSuccess() {\r\n              Log.d(TAG, &quot;onSetSuccess: &quot;);\r\n           }\r\n    \r\n           @Override\r\n           public void onCreateFailure(String s) {\r\n              Log.d(TAG, &quot;onCreateFailure: &quot;);\r\n           }\r\n    \r\n           @Override\r\n           public void onSetFailure(String s) {\r\n              Log.d(TAG, &quot;onSetFailure: &quot;);\r\n           }}, sessionDescription);\r\n\r\n\r\nI can see the onSetSuccess call in logcat, which means the remote description is set successfully. However, ICE candidate is not generating.\r\n\r\nI have checked the code several times and I can&#39;t find any obvious errors. Could anyone help me to debug this issue?\r\n\r\nHere is the complete code/fragment \r\n\r\n\r\n    public class Video_Voice_Call_Fragment extends Fragment {\r\n    \r\n        \r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            greenCallButton = view.findViewById(R.id.call_connect);\r\n            redCallButton = view.findViewById(R.id.call_disconnect);\r\n            initializeWebRTC();\r\n            startCall();\r\n        }\r\n    \r\n    \r\n        \r\n    \r\n        private void initializeWebRTC() {\r\n            rootEglBase = EglBase.create();\r\n    \r\n            // Initialize PeerConnectionFactory\r\n            PeerConnectionFactory.initialize(PeerConnectionFactory.InitializationOptions.builder(requireContext())\r\n                    .setEnableInternalTracer(true)\r\n                    .createInitializationOptions());\r\n    \r\n            DefaultVideoEncoderFactory videoEncoderFactory = new DefaultVideoEncoderFactory(rootEglBase.getEglBaseContext(),true,true);\r\n            DefaultVideoDecoderFactory videoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\r\n            PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\r\n            peerConnectionFactory = PeerConnectionFactory.builder()\r\n                    .setVideoDecoderFactory(videoDecoderFactory)\r\n                    .setVideoEncoderFactory(videoEncoderFactory)\r\n                    .setOptions(options)\r\n                    .createPeerConnectionFactory();\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n        private void startCall() {\r\n            // Create an offer and set local description\r\n            peerConnection = generateICE();\r\n            peerConnection.createOffer(new SimpleSdpObserver() {\r\n                @Override\r\n                public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                    Log.d(TAG, &quot;onCreateSuccess: &quot; + sessionDescription.description);\r\n                    peerConnection.setLocalDescription(new SimpleSdpObserver(), sessionDescription);\r\n                    Websocket.connectWebSocket(new WebSocketCallback() {\r\n                        @Override\r\n                        public void onConnectionSuccess() {\r\n                            //Websocket Connected\r\n                            Log.d(TAG, &quot;onConnectionSuccess: Websocket Connected&quot;);\r\n                            String message = generateJSON(sessionDescription.description,true,&quot;offer&quot;);\r\n                            Websocket.sendMessage(message);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onConnectionFailure(String message) {\r\n                            Log.d(TAG, &quot;onConnectionFailure: Message = &quot;+message);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onConnectionClosed(String reason) {\r\n                            Log.d(TAG, &quot;onConnectionClosed: Reason = &quot;+reason);\r\n                        }\r\n    \r\n                        @Override\r\n                        public void onConnectionsMessage(String message) {\r\n                            Log.d(TAG, &quot;onConnectionsMessage: Message = &quot;+message);\r\n                            // Here User will receive the message from the websocket\r\n                            try{\r\n                                JSONObject socketMessage = new JSONObject(message);\r\n                                String type = socketMessage.getString(&quot;type&quot;);\r\n                                String sdp_ice_VALUE = socketMessage.getString(&quot;SDP_ICE_info&quot;);\r\n                                if (type.equals(&quot;SDP&quot;)){\r\n                                    Log.d(TAG, &quot;onConnectionsMessage: Type SDP&quot;);\r\n                                    SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER,sdp_ice_VALUE);\r\n                                    peerConnection.setRemoteDescription(new SdpObserver() {\r\n                                        @Override\r\n                                        public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                                            Log.d(TAG, &quot;onCreateSuccess: &quot;);\r\n                                        }\r\n    \r\n                                        @Override\r\n                                        public void onSetSuccess() {\r\n                                            Log.d(TAG, &quot;onSetSuccess: &quot;);\r\n                                        }\r\n    \r\n                                        @Override\r\n                                        public void onCreateFailure(String s) {\r\n                                            Log.d(TAG, &quot;onCreateFailure: &quot;);\r\n                                        }\r\n    \r\n                                        @Override\r\n                                        public void onSetFailure(String s) {\r\n                                            Log.d(TAG, &quot;onSetFailure: &quot;);\r\n                                        }\r\n                                    }, sessionDescription);\r\n                                   \r\n                                }else {\r\n                                    // Received ICE from server as answer, This is the last step in exchanging info\r\n                                    WebRTCUtils.addIceCandidate(peerConnection,sdp_ice_VALUE);\r\n                                }\r\n                            }catch (JSONException e){\r\n                                Log.d(TAG, &quot;onMessage: Error &quot;+e.getMessage());\r\n                            }\r\n                        }\r\n                    });\r\n    \r\n                    // Send the offer to the remote peer\r\n                    // Example code for sending the offer\r\n                }\r\n    \r\n                @Override\r\n                public void onCreateFailure(String s) {\r\n                    Log.e(TAG, &quot;onCreateFailure: &quot; + s);\r\n                }\r\n            }, new MediaConstraints());\r\n        }\r\n    \r\n        private PeerConnection generateICE (){\r\n            Log.d(TAG, &quot;generateICE: &quot;);\r\n            ArrayList&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\r\n            List&lt;String&gt; STUNList= Arrays.asList(\r\n                    &quot;stun:stun.l.google.com:19302&quot;,\r\n                    &quot;stun:stun1.l.google.com:19302&quot;,\r\n                    &quot;stun:stun2.l.google.com:19302&quot;,\r\n                    &quot;stun:stun3.l.google.com:19302&quot;,\r\n                    &quot;stun:stun4.l.google.com:19302&quot;,\r\n                    &quot;stun:stun.vodafone.ro:3478&quot;,\r\n                    &quot;stun:stun.samsungsmartcam.com:3478&quot;,\r\n                    &quot;stun:stun.services.mozilla.com:3478&quot;\r\n    \r\n            );\r\n            for(String i:STUNList){\r\n                PeerConnection.IceServer.Builder iceServerBuilder = PeerConnection.IceServer.builder(i);\r\n                iceServerBuilder.setTlsCertPolicy(PeerConnection.TlsCertPolicy.TLS_CERT_POLICY_INSECURE_NO_CHECK); //this does the magic.\r\n                PeerConnection.IceServer iceServer =  iceServerBuilder.createIceServer();\r\n                iceServers.add(iceServer);\r\n            }\r\n            PeerConnection.RTCConfiguration rtcConfig = new PeerConnection.RTCConfiguration(iceServers);\r\n    \r\n            PeerConnection.Observer observer = new PeerConnection.Observer() {\r\n                @Override\r\n                public void onSignalingChange(PeerConnection.SignalingState signalingState) {\r\n                    Log.d(TAG, &quot;onSignalingChange: &quot;+signalingState);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceConnectionChange(PeerConnection.IceConnectionState iceConnectionState) {\r\n                    Log.d(TAG, &quot;onIceConnectionChange: &quot;+iceConnectionState);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceConnectionReceivingChange(boolean b) {\r\n                    Log.d(TAG, &quot;onIceConnectionReceivingChange: Boolean = &quot;+b);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceGatheringChange(PeerConnection.IceGatheringState iceGatheringState) {\r\n                    Log.d(TAG, &quot;onIceGatheringChange: &quot;+iceGatheringState);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceCandidate(IceCandidate iceCandidate) {\r\n                    Log.d(TAG, &quot;onIceCandidate: &quot;+iceCandidate);\r\n                }\r\n    \r\n                @Override\r\n                public void onIceCandidatesRemoved(IceCandidate[] iceCandidates) {\r\n                    Log.d(TAG, &quot;onIceCandidatesRemoved: &quot;+iceCandidates);\r\n                }\r\n    \r\n                @Override\r\n                public void onAddStream(MediaStream mediaStream) {\r\n                    Log.d(TAG, &quot;onAddStream: &quot;+mediaStream);\r\n                }\r\n    \r\n                @Override\r\n                public void onRemoveStream(MediaStream mediaStream) {\r\n                    Log.d(TAG, &quot;onRemoveStream: &quot;+mediaStream);\r\n                }\r\n    \r\n                @Override\r\n                public void onDataChannel(DataChannel dataChannel) {\r\n                    Log.d(TAG, &quot;onDataChannel: &quot;+dataChannel);\r\n                }\r\n    \r\n                @Override\r\n                public void onRenegotiationNeeded() {\r\n                    Log.d(TAG, &quot;onRenegotiationNeeded: &quot;);\r\n                }\r\n    \r\n                @Override\r\n                public void onAddTrack(RtpReceiver rtpReceiver, MediaStream[] mediaStreams) {\r\n                    Log.d(TAG, &quot;onAddTrack: &quot;+rtpReceiver+&quot;--- &quot;+mediaStreams);\r\n                }\r\n            };\r\n            Log.d(TAG, &quot;generateICE: &quot;);\r\n            return peerConnectionFactory.createPeerConnection(rtcConfig,observer);\r\n            \r\n    \t\t\r\n    \t}\r\n    \r\n    \r\n    }\r\n\r\n**Update:-** With the suggestions from @PhilippHancke. I edit my code:-\r\n\r\n    private void setupLocalTracks() {\r\n            // Create video capturer\r\n            videoCapturer = createVideoCapturer();\r\n    \r\n            // Create video source\r\n            videoSource = peerConnectionFactory.createVideoSource(false);\r\n            localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;local_video&quot;, videoSource);\r\n            // Create audio source and track\r\n            AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\r\n            localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;local_audio&quot;, audioSource);\r\n    \r\n            // Create local media stream\r\n            localMediaStream = peerConnectionFactory.createLocalMediaStream(&quot;local_stream&quot;);\r\n            localMediaStream.addTrack(localVideoTrack);\r\n            localMediaStream.addTrack(localAudioTrack);\r\n            peerConnection.addStream(localMediaStream);\r\n    \r\n        }\r\n\r\n\r\nNow i can see much more details in log which has SDP offer/answer and ice too.I first call  `peerConnection.createOffer(new SimpleSdpObserver()`which generate SessionDescription for User ID 4. \r\n\r\n\r\n\r\n    Message Received From User ID == 4 Message = v=0\r\n    o=- 5794866635417549132 2 IN IP4 127.0.0.1\r\n    s=-\r\n    t=0 0\r\n    a=group:BUNDLE audio video\r\n    a=msid-semantic: WMS local_stream\r\n    m=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\n    c=IN IP4 0.0.0.0\r\n    a=rtcp:9 IN IP4 0.0.0.0\r\n    a=ice-ufrag:EXXZ\r\n    a=ice-pwd:NuOsEt2YVDiZkxFomvHPhUW+\r\n    a=ice-options:trickle renomination\r\n    a=fingerprint:sha-256 F2:1E:77:5D:21:00:15:65:00:CA:24:BE:65:66:95:09:B4:10:4C:80:C0:16:90:4A:22:E7:ED:BA:D4:A8:F5:56\r\n    a=setup:actpass\r\n    a=mid:audio\r\n    a=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\n    a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n    a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n    a=sendrecv\r\n    a=rtcp-mux\r\n    a=rtpmap:111 opus/48000/2\r\n    a=rtcp-fb:111 transport-cc\r\n    a=fmtp:111 minptime=10;useinbandfec=1\r\n    a=rtpmap:103 ISAC/16000\r\n    a=rtpmap:104 ISAC/32000\r\n    a=rtpmap:9 G722/8000\r\n    a=rtpmap:102 ILBC/8000\r\n    a=rtpmap:0 PCMU/8000\r\n    a=rtpmap:8 PCMA/8000\r\n    a=rtpmap:106 CN/32000\r\n    a=rtpmap:105 CN/16000\r\n    a=rtpmap:13 CN/8000\r\n    a=rtpmap:110 telephone-event/48000\r\n    a=rtpmap:112 telephone-event/32000\r\n    a=rtpmap:113 telephone-event/16000\r\n    a=rtpmap:126 telephone-event/8000\r\n    a=ssrc:473446091 cname:WQlLPNcKBxol0kL2\r\n    a=ssrc:473446091 msid:local_stream local_audio\r\n    a=ssrc:473446091 mslabel:local_stream\r\n    a=ssrc:473446091 label:local_audio\r\n    m=video 9 UDP/TLS/RTP/SAVPF 96 97 98 99 100 101 127 123 125\r\n    c=IN IP4 0.0.0.0\r\n    a=rtcp:9 IN IP4 0.0.0.0\r\n    a=ice-ufrag:EXXZ\r\n    a=ice-pwd:NuOsEt2YVDiZkxFomvHPhUW+\r\n    a=ice-options:trickle renomination\r\n    a=fingerprint:sha-256 F2:1E:77:5D:21:00:15:65:00:CA:24:BE:65:66:95:09:B4:10:4C:80:C0:16:90:4A:22:E7:ED:BA:D4:A8:F5:56\r\n    a=setup:actpass\r\n    a=mid:video\r\n    a=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\n    a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n    a=extmap:13 urn:3gpp:video-orientation\r\n    a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n    a=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\n    a=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\n    a=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\n    a=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\n    a=sendrecv\r\n    a=rtcp-mux\r\n    a=rtcp-rsize\r\n    a=rtpmap:96 VP8/90000\r\n    a=rtcp-fb:96 goog-remb\r\n    a=rtcp-fb:96 transport-cc\r\n    a=rtcp-fb:96 ccm fir\r\n    a=rtcp-fb:96 nack\r\n    a=rtcp-fb:96 nack pli\r\n    a=rtpmap:97 rtx/90000\r\n    a=fmtp:97 apt=96\r\n    a=rtpmap:98 VP9/90000\r\n    a=rtcp-fb:98 goog-remb\r\n    a=rtcp-fb:98 transport-cc\r\n    a=rtcp-fb:98 ccm fir\r\n    a=rtcp-fb:98 nack\r\n    a=rtcp-fb:98 nack pli\r\n    a=rtpmap:99 rtx/90000\r\n    a=fmtp:99 apt=98\r\n    a=rtpmap:100 H264/90000\r\n    a=rtcp-fb:100 goog-remb\r\n    a=rtcp-fb:100 transport-cc\r\n    a=rtcp-fb:100 ccm fir\r\n    a=rtcp-fb:100 nack\r\n    a=rtcp-fb:100 nack pli\r\n    a=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\n    a=rtpmap:101 rtx/90000\r\n    a=fmtp:101 apt=100\r\n    a=rtpmap:127 red/90000\r\n    a=rtpmap:123 rtx/90000\r\n    a=fmtp:123 apt=127\r\n    a=rtpmap:125 ulpfec/90000\r\n    a=ssrc-group:FID 1370797121 3619002051\r\n    a=ssrc:1370797121 cname:WQlLPNcKBxol0kL2\r\n    a=ssrc:1370797121 msid:local_stream local_video\r\n    a=ssrc:1370797121 mslabel:local_stream\r\n    a=ssrc:1370797121 label:local_video\r\n    a=ssrc:3619002051 cname:WQlLPNcKBxol0kL2\r\n    a=ssrc:3619002051 msid:local_stream local_video\r\n    a=ssrc:3619002051 mslabel:local_stream\r\n    a=ssrc:3619002051 label:local_video\r\n    \r\n    Message Received From User ID == 206 Message = v=0\r\n    o=- 3655990368999828607 2 IN IP4 127.0.0.1\r\n    s=-\r\n    t=0 0\r\n    a=group:BUNDLE audio video\r\n    a=msid-semantic: WMS remote_stream\r\n    m=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\r\n    c=IN IP4 0.0.0.0\r\n    a=rtcp:9 IN IP4 0.0.0.0\r\n    a=ice-ufrag:0O57\r\n    a=ice-pwd:FSyUVENoJglSvKVpeih/bzXA\r\n    a=ice-options:trickle renomination\r\n    a=fingerprint:sha-256 B8:43:6B:EE:38:08:19:85:DA:97:AA:45:2D:46:17:90:9E:8B:D2:D8:D7:9D:04:97:22:DE:C9:CB:FC:A1:DB:5B\r\n    a=setup:active\r\n    a=mid:audio\r\n    a=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\r\n    a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n    a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n    a=sendrecv\r\n    a=rtcp-mux\r\n    a=rtpmap:111 opus/48000/2\r\n    a=rtcp-fb:111 transport-cc\r\n    a=fmtp:111 minptime=10;useinbandfec=1\r\n    a=rtpmap:103 ISAC/16000\r\n    a=rtpmap:104 ISAC/32000\r\n    a=rtpmap:9 G722/8000\r\n    a=rtpmap:102 ILBC/8000\r\n    a=rtpmap:0 PCMU/8000\r\n    a=rtpmap:8 PCMA/8000\r\n    a=rtpmap:106 CN/32000\r\n    a=rtpmap:105 CN/16000\r\n    a=rtpmap:13 CN/8000\r\n    a=rtpmap:110 telephone-event/48000\r\n    a=rtpmap:112 telephone-event/32000\r\n    a=rtpmap:113 telephone-event/16000\r\n    a=rtpmap:126 telephone-event/8000\r\n    a=ssrc:624557633 cname:PYJF7YMAd+hgS7Zk\r\n    a=ssrc:624557633 msid:remote_stream remote_audio\r\n    a=ssrc:624557633 mslabel:remote_stream\r\n    a=ssrc:624557633 label:remote_audio\r\n    m=video 9 UDP/TLS/RTP/SAVPF 96 97 98 99 100 101 127 123 125\r\n    c=IN IP4 0.0.0.0\r\n    a=rtcp:9 IN IP4 0.0.0.0\r\n    a=ice-ufrag:0O57\r\n    a=ice-pwd:FSyUVENoJglSvKVpeih/bzXA\r\n    a=ice-options:trickle renomination\r\n    a=fingerprint:sha-256 B8:43:6B:EE:38:08:19:85:DA:97:AA:45:2D:46:17:90:9E:8B:D2:D8:D7:9D:04:97:22:DE:C9:CB:FC:A1:DB:5B\r\n    a=setup:active\r\n    a=mid:video\r\n    a=extmap:14 urn:ietf:params:rtp-hdrext:toffset\r\n    a=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\r\n    a=extmap:13 urn:3gpp:video-orientation\r\n    a=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\r\n    a=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\r\n    a=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\r\n    a=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\r\n    a=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\r\n    a=sendrecv\r\n    a=rtcp-mux\r\n    a=rtcp-rsize\r\n    a=rtpmap:96 VP8/90000\r\n    a=rtcp-fb:96 goog-remb\r\n    a=rtcp-fb:96 transport-cc\r\n    a=rtcp-fb:96 ccm fir\r\n    a=rtcp-fb:96 nack\r\n    a=rtcp-fb:96 nack pli\r\n    a=rtpmap:97 rtx/90000\r\n    a=fmtp:97 apt=96\r\n    a=rtpmap:98 VP9/90000\r\n    a=rtcp-fb:98 goog-remb\r\n    a=rtcp-fb:98 transport-cc\r\n    a=rtcp-fb:98 ccm fir\r\n    a=rtcp-fb:98 nack\r\n    a=rtcp-fb:98 nack pli\r\n    a=rtpmap:99 rtx/90000\r\n    a=fmtp:99 apt=98\r\n    a=rtpmap:100 H264/90000\r\n    a=rtcp-fb:100 goog-remb\r\n    a=rtcp-fb:100 transport-cc\r\n    a=rtcp-fb:100 ccm fir\r\n    a=rtcp-fb:100 nack\r\n    a=rtcp-fb:100 nack pli\r\n    a=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\r\n    a=rtpmap:101 rtx/90000\r\n    a=fmtp:101 apt=100\r\n    a=rtpmap:127 red/90000\r\n    a=rtpmap:123 rtx/90000\r\n    a=fmtp:123 apt=127\r\n    a=rtpmap:125 ulpfec/90000\r\n    a=ssrc-group:FID 2171330257 4072720398\r\n    a=ssrc:2171330257 cname:PYJF7YMAd+hgS7Zk\r\n    a=ssrc:2171330257 msid:remote_stream remote_video\r\n    a=ssrc:2171330257 mslabel:remote_stream\r\n    a=ssrc:2171330257 label:remote_video\r\n    a=ssrc:4072720398 cname:PYJF7YMAd+hgS7Zk\r\n    a=ssrc:4072720398 msid:remote_stream remote_video\r\n    a=ssrc:4072720398 mslabel:remote_stream\r\n    a=ssrc:4072720398 label:remote_video\r\n\r\n\r\n\r\nIn the SDP above i can ICE candidates too which creates confusion for me because when other receive this SDP then how user would save it, as SDP (setRemoteDescription) or treat it as ICE candidates beucase it contains both.\r\n\r\nAlso i can see in log that `onIceCandidate` calls multiples times with these kinds of values\r\n\r\n\r\n    audio:0:candidate:1587269880 1 udp 2122262783 2406:b400:52:820d:70e0:90ff:fe12:3352 35364 typ host generation 0 ufrag B/Tc network-id 4 network-cost 10::UNKNOWN\r\n    \r\n    audio:0:candidate:393917512 1 udp 2122194687 192.168.0.123 42552 typ host generation 0 ufrag B/Tc network-id 3 network-cost 10::UNKNOWN\r\n    \r\n    audio:0:candidate:559267639 1 udp 2122136831 ::1 50036 typ host generation 0 ufrag B/Tc network-id 2::UNKNOWN\r\n\r\n\r\nDo i need to send these information to other user as ICE (it calls around 10 times approx) every time it calls `onIceCandidate`? \r\n\r\nAfter these exchange which method should i call to initiate the call?","title":"WebRTC ICE candidate not generating after setRemoteDescription","body":"<p>I am trying to setup WebRTC ( implementation 'org.webrtc:google-webrtc:1.0.32006' )for video and voice call. I can see the exchange of SDP via websocket by creating offer then receive the answer from other user. However, after successfully receiving SDP answer from user, I save it via <code>peerConnection.setRemoteDescription().</code></p>\n<pre><code>SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER,sdp_ice_VALUE);\npeerConnection.setRemoteDescription(new SdpObserver() {\n     @Override\n     public void onCreateSuccess(SessionDescription sessionDescription) {\n                 Log.d(TAG, &quot;onCreateSuccess: &quot;);\n        }\n\n       @Override\n       public void onSetSuccess() {\n          Log.d(TAG, &quot;onSetSuccess: &quot;);\n       }\n\n       @Override\n       public void onCreateFailure(String s) {\n          Log.d(TAG, &quot;onCreateFailure: &quot;);\n       }\n\n       @Override\n       public void onSetFailure(String s) {\n          Log.d(TAG, &quot;onSetFailure: &quot;);\n       }}, sessionDescription);\n</code></pre>\n<p>I can see the onSetSuccess call in logcat, which means the remote description is set successfully. However, ICE candidate is not generating.</p>\n<p>I have checked the code several times and I can't find any obvious errors. Could anyone help me to debug this issue?</p>\n<p>Here is the complete code/fragment</p>\n<pre><code>public class Video_Voice_Call_Fragment extends Fragment {\n\n    \n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        greenCallButton = view.findViewById(R.id.call_connect);\n        redCallButton = view.findViewById(R.id.call_disconnect);\n        initializeWebRTC();\n        startCall();\n    }\n\n\n    \n\n    private void initializeWebRTC() {\n        rootEglBase = EglBase.create();\n\n        // Initialize PeerConnectionFactory\n        PeerConnectionFactory.initialize(PeerConnectionFactory.InitializationOptions.builder(requireContext())\n                .setEnableInternalTracer(true)\n                .createInitializationOptions());\n\n        DefaultVideoEncoderFactory videoEncoderFactory = new DefaultVideoEncoderFactory(rootEglBase.getEglBaseContext(),true,true);\n        DefaultVideoDecoderFactory videoDecoderFactory = new DefaultVideoDecoderFactory(rootEglBase.getEglBaseContext());\n        PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();\n        peerConnectionFactory = PeerConnectionFactory.builder()\n                .setVideoDecoderFactory(videoDecoderFactory)\n                .setVideoEncoderFactory(videoEncoderFactory)\n                .setOptions(options)\n                .createPeerConnectionFactory();\n\n    }\n\n\n\n\n    private void startCall() {\n        // Create an offer and set local description\n        peerConnection = generateICE();\n        peerConnection.createOffer(new SimpleSdpObserver() {\n            @Override\n            public void onCreateSuccess(SessionDescription sessionDescription) {\n                Log.d(TAG, &quot;onCreateSuccess: &quot; + sessionDescription.description);\n                peerConnection.setLocalDescription(new SimpleSdpObserver(), sessionDescription);\n                Websocket.connectWebSocket(new WebSocketCallback() {\n                    @Override\n                    public void onConnectionSuccess() {\n                        //Websocket Connected\n                        Log.d(TAG, &quot;onConnectionSuccess: Websocket Connected&quot;);\n                        String message = generateJSON(sessionDescription.description,true,&quot;offer&quot;);\n                        Websocket.sendMessage(message);\n                    }\n\n                    @Override\n                    public void onConnectionFailure(String message) {\n                        Log.d(TAG, &quot;onConnectionFailure: Message = &quot;+message);\n                    }\n\n                    @Override\n                    public void onConnectionClosed(String reason) {\n                        Log.d(TAG, &quot;onConnectionClosed: Reason = &quot;+reason);\n                    }\n\n                    @Override\n                    public void onConnectionsMessage(String message) {\n                        Log.d(TAG, &quot;onConnectionsMessage: Message = &quot;+message);\n                        // Here User will receive the message from the websocket\n                        try{\n                            JSONObject socketMessage = new JSONObject(message);\n                            String type = socketMessage.getString(&quot;type&quot;);\n                            String sdp_ice_VALUE = socketMessage.getString(&quot;SDP_ICE_info&quot;);\n                            if (type.equals(&quot;SDP&quot;)){\n                                Log.d(TAG, &quot;onConnectionsMessage: Type SDP&quot;);\n                                SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER,sdp_ice_VALUE);\n                                peerConnection.setRemoteDescription(new SdpObserver() {\n                                    @Override\n                                    public void onCreateSuccess(SessionDescription sessionDescription) {\n                                        Log.d(TAG, &quot;onCreateSuccess: &quot;);\n                                    }\n\n                                    @Override\n                                    public void onSetSuccess() {\n                                        Log.d(TAG, &quot;onSetSuccess: &quot;);\n                                    }\n\n                                    @Override\n                                    public void onCreateFailure(String s) {\n                                        Log.d(TAG, &quot;onCreateFailure: &quot;);\n                                    }\n\n                                    @Override\n                                    public void onSetFailure(String s) {\n                                        Log.d(TAG, &quot;onSetFailure: &quot;);\n                                    }\n                                }, sessionDescription);\n                               \n                            }else {\n                                // Received ICE from server as answer, This is the last step in exchanging info\n                                WebRTCUtils.addIceCandidate(peerConnection,sdp_ice_VALUE);\n                            }\n                        }catch (JSONException e){\n                            Log.d(TAG, &quot;onMessage: Error &quot;+e.getMessage());\n                        }\n                    }\n                });\n\n                // Send the offer to the remote peer\n                // Example code for sending the offer\n            }\n\n            @Override\n            public void onCreateFailure(String s) {\n                Log.e(TAG, &quot;onCreateFailure: &quot; + s);\n            }\n        }, new MediaConstraints());\n    }\n\n    private PeerConnection generateICE (){\n        Log.d(TAG, &quot;generateICE: &quot;);\n        ArrayList&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\n        List&lt;String&gt; STUNList= Arrays.asList(\n                &quot;stun:stun.l.google.com:19302&quot;,\n                &quot;stun:stun1.l.google.com:19302&quot;,\n                &quot;stun:stun2.l.google.com:19302&quot;,\n                &quot;stun:stun3.l.google.com:19302&quot;,\n                &quot;stun:stun4.l.google.com:19302&quot;,\n                &quot;stun:stun.vodafone.ro:3478&quot;,\n                &quot;stun:stun.samsungsmartcam.com:3478&quot;,\n                &quot;stun:stun.services.mozilla.com:3478&quot;\n\n        );\n        for(String i:STUNList){\n            PeerConnection.IceServer.Builder iceServerBuilder = PeerConnection.IceServer.builder(i);\n            iceServerBuilder.setTlsCertPolicy(PeerConnection.TlsCertPolicy.TLS_CERT_POLICY_INSECURE_NO_CHECK); //this does the magic.\n            PeerConnection.IceServer iceServer =  iceServerBuilder.createIceServer();\n            iceServers.add(iceServer);\n        }\n        PeerConnection.RTCConfiguration rtcConfig = new PeerConnection.RTCConfiguration(iceServers);\n\n        PeerConnection.Observer observer = new PeerConnection.Observer() {\n            @Override\n            public void onSignalingChange(PeerConnection.SignalingState signalingState) {\n                Log.d(TAG, &quot;onSignalingChange: &quot;+signalingState);\n            }\n\n            @Override\n            public void onIceConnectionChange(PeerConnection.IceConnectionState iceConnectionState) {\n                Log.d(TAG, &quot;onIceConnectionChange: &quot;+iceConnectionState);\n            }\n\n            @Override\n            public void onIceConnectionReceivingChange(boolean b) {\n                Log.d(TAG, &quot;onIceConnectionReceivingChange: Boolean = &quot;+b);\n            }\n\n            @Override\n            public void onIceGatheringChange(PeerConnection.IceGatheringState iceGatheringState) {\n                Log.d(TAG, &quot;onIceGatheringChange: &quot;+iceGatheringState);\n            }\n\n            @Override\n            public void onIceCandidate(IceCandidate iceCandidate) {\n                Log.d(TAG, &quot;onIceCandidate: &quot;+iceCandidate);\n            }\n\n            @Override\n            public void onIceCandidatesRemoved(IceCandidate[] iceCandidates) {\n                Log.d(TAG, &quot;onIceCandidatesRemoved: &quot;+iceCandidates);\n            }\n\n            @Override\n            public void onAddStream(MediaStream mediaStream) {\n                Log.d(TAG, &quot;onAddStream: &quot;+mediaStream);\n            }\n\n            @Override\n            public void onRemoveStream(MediaStream mediaStream) {\n                Log.d(TAG, &quot;onRemoveStream: &quot;+mediaStream);\n            }\n\n            @Override\n            public void onDataChannel(DataChannel dataChannel) {\n                Log.d(TAG, &quot;onDataChannel: &quot;+dataChannel);\n            }\n\n            @Override\n            public void onRenegotiationNeeded() {\n                Log.d(TAG, &quot;onRenegotiationNeeded: &quot;);\n            }\n\n            @Override\n            public void onAddTrack(RtpReceiver rtpReceiver, MediaStream[] mediaStreams) {\n                Log.d(TAG, &quot;onAddTrack: &quot;+rtpReceiver+&quot;--- &quot;+mediaStreams);\n            }\n        };\n        Log.d(TAG, &quot;generateICE: &quot;);\n        return peerConnectionFactory.createPeerConnection(rtcConfig,observer);\n        \n        \n    }\n\n\n}\n</code></pre>\n<p><strong>Update:-</strong> With the suggestions from @PhilippHancke. I edit my code:-</p>\n<pre><code>private void setupLocalTracks() {\n        // Create video capturer\n        videoCapturer = createVideoCapturer();\n\n        // Create video source\n        videoSource = peerConnectionFactory.createVideoSource(false);\n        localVideoTrack = peerConnectionFactory.createVideoTrack(&quot;local_video&quot;, videoSource);\n        // Create audio source and track\n        AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());\n        localAudioTrack = peerConnectionFactory.createAudioTrack(&quot;local_audio&quot;, audioSource);\n\n        // Create local media stream\n        localMediaStream = peerConnectionFactory.createLocalMediaStream(&quot;local_stream&quot;);\n        localMediaStream.addTrack(localVideoTrack);\n        localMediaStream.addTrack(localAudioTrack);\n        peerConnection.addStream(localMediaStream);\n\n    }\n</code></pre>\n<p>Now i can see much more details in log which has SDP offer/answer and ice too.I first call  <code>peerConnection.createOffer(new SimpleSdpObserver()</code>which generate SessionDescription for User ID 4.</p>\n<pre><code>Message Received From User ID == 4 Message = v=0\no=- 5794866635417549132 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS local_stream\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:EXXZ\na=ice-pwd:NuOsEt2YVDiZkxFomvHPhUW+\na=ice-options:trickle renomination\na=fingerprint:sha-256 F2:1E:77:5D:21:00:15:65:00:CA:24:BE:65:66:95:09:B4:10:4C:80:C0:16:90:4A:22:E7:ED:BA:D4:A8:F5:56\na=setup:actpass\na=mid:audio\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=rtcp-mux\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=fmtp:111 minptime=10;useinbandfec=1\na=rtpmap:103 ISAC/16000\na=rtpmap:104 ISAC/32000\na=rtpmap:9 G722/8000\na=rtpmap:102 ILBC/8000\na=rtpmap:0 PCMU/8000\na=rtpmap:8 PCMA/8000\na=rtpmap:106 CN/32000\na=rtpmap:105 CN/16000\na=rtpmap:13 CN/8000\na=rtpmap:110 telephone-event/48000\na=rtpmap:112 telephone-event/32000\na=rtpmap:113 telephone-event/16000\na=rtpmap:126 telephone-event/8000\na=ssrc:473446091 cname:WQlLPNcKBxol0kL2\na=ssrc:473446091 msid:local_stream local_audio\na=ssrc:473446091 mslabel:local_stream\na=ssrc:473446091 label:local_audio\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 98 99 100 101 127 123 125\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:EXXZ\na=ice-pwd:NuOsEt2YVDiZkxFomvHPhUW+\na=ice-options:trickle renomination\na=fingerprint:sha-256 F2:1E:77:5D:21:00:15:65:00:CA:24:BE:65:66:95:09:B4:10:4C:80:C0:16:90:4A:22:E7:ED:BA:D4:A8:F5:56\na=setup:actpass\na=mid:video\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:13 urn:3gpp:video-orientation\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=rtpmap:96 VP8/90000\na=rtcp-fb:96 goog-remb\na=rtcp-fb:96 transport-cc\na=rtcp-fb:96 ccm fir\na=rtcp-fb:96 nack\na=rtcp-fb:96 nack pli\na=rtpmap:97 rtx/90000\na=fmtp:97 apt=96\na=rtpmap:98 VP9/90000\na=rtcp-fb:98 goog-remb\na=rtcp-fb:98 transport-cc\na=rtcp-fb:98 ccm fir\na=rtcp-fb:98 nack\na=rtcp-fb:98 nack pli\na=rtpmap:99 rtx/90000\na=fmtp:99 apt=98\na=rtpmap:100 H264/90000\na=rtcp-fb:100 goog-remb\na=rtcp-fb:100 transport-cc\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=rtpmap:127 red/90000\na=rtpmap:123 rtx/90000\na=fmtp:123 apt=127\na=rtpmap:125 ulpfec/90000\na=ssrc-group:FID 1370797121 3619002051\na=ssrc:1370797121 cname:WQlLPNcKBxol0kL2\na=ssrc:1370797121 msid:local_stream local_video\na=ssrc:1370797121 mslabel:local_stream\na=ssrc:1370797121 label:local_video\na=ssrc:3619002051 cname:WQlLPNcKBxol0kL2\na=ssrc:3619002051 msid:local_stream local_video\na=ssrc:3619002051 mslabel:local_stream\na=ssrc:3619002051 label:local_video\n\nMessage Received From User ID == 206 Message = v=0\no=- 3655990368999828607 2 IN IP4 127.0.0.1\ns=-\nt=0 0\na=group:BUNDLE audio video\na=msid-semantic: WMS remote_stream\nm=audio 9 UDP/TLS/RTP/SAVPF 111 103 104 9 102 0 8 106 105 13 110 112 113 126\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:0O57\na=ice-pwd:FSyUVENoJglSvKVpeih/bzXA\na=ice-options:trickle renomination\na=fingerprint:sha-256 B8:43:6B:EE:38:08:19:85:DA:97:AA:45:2D:46:17:90:9E:8B:D2:D8:D7:9D:04:97:22:DE:C9:CB:FC:A1:DB:5B\na=setup:active\na=mid:audio\na=extmap:1 urn:ietf:params:rtp-hdrext:ssrc-audio-level\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=sendrecv\na=rtcp-mux\na=rtpmap:111 opus/48000/2\na=rtcp-fb:111 transport-cc\na=fmtp:111 minptime=10;useinbandfec=1\na=rtpmap:103 ISAC/16000\na=rtpmap:104 ISAC/32000\na=rtpmap:9 G722/8000\na=rtpmap:102 ILBC/8000\na=rtpmap:0 PCMU/8000\na=rtpmap:8 PCMA/8000\na=rtpmap:106 CN/32000\na=rtpmap:105 CN/16000\na=rtpmap:13 CN/8000\na=rtpmap:110 telephone-event/48000\na=rtpmap:112 telephone-event/32000\na=rtpmap:113 telephone-event/16000\na=rtpmap:126 telephone-event/8000\na=ssrc:624557633 cname:PYJF7YMAd+hgS7Zk\na=ssrc:624557633 msid:remote_stream remote_audio\na=ssrc:624557633 mslabel:remote_stream\na=ssrc:624557633 label:remote_audio\nm=video 9 UDP/TLS/RTP/SAVPF 96 97 98 99 100 101 127 123 125\nc=IN IP4 0.0.0.0\na=rtcp:9 IN IP4 0.0.0.0\na=ice-ufrag:0O57\na=ice-pwd:FSyUVENoJglSvKVpeih/bzXA\na=ice-options:trickle renomination\na=fingerprint:sha-256 B8:43:6B:EE:38:08:19:85:DA:97:AA:45:2D:46:17:90:9E:8B:D2:D8:D7:9D:04:97:22:DE:C9:CB:FC:A1:DB:5B\na=setup:active\na=mid:video\na=extmap:14 urn:ietf:params:rtp-hdrext:toffset\na=extmap:2 http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\na=extmap:13 urn:3gpp:video-orientation\na=extmap:3 http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\na=extmap:5 http://www.webrtc.org/experiments/rtp-hdrext/playout-delay\na=extmap:6 http://www.webrtc.org/experiments/rtp-hdrext/video-content-type\na=extmap:7 http://www.webrtc.org/experiments/rtp-hdrext/video-timing\na=extmap:8 http://www.webrtc.org/experiments/rtp-hdrext/color-space\na=sendrecv\na=rtcp-mux\na=rtcp-rsize\na=rtpmap:96 VP8/90000\na=rtcp-fb:96 goog-remb\na=rtcp-fb:96 transport-cc\na=rtcp-fb:96 ccm fir\na=rtcp-fb:96 nack\na=rtcp-fb:96 nack pli\na=rtpmap:97 rtx/90000\na=fmtp:97 apt=96\na=rtpmap:98 VP9/90000\na=rtcp-fb:98 goog-remb\na=rtcp-fb:98 transport-cc\na=rtcp-fb:98 ccm fir\na=rtcp-fb:98 nack\na=rtcp-fb:98 nack pli\na=rtpmap:99 rtx/90000\na=fmtp:99 apt=98\na=rtpmap:100 H264/90000\na=rtcp-fb:100 goog-remb\na=rtcp-fb:100 transport-cc\na=rtcp-fb:100 ccm fir\na=rtcp-fb:100 nack\na=rtcp-fb:100 nack pli\na=fmtp:100 level-asymmetry-allowed=1;packetization-mode=1;profile-level-id=42e01f\na=rtpmap:101 rtx/90000\na=fmtp:101 apt=100\na=rtpmap:127 red/90000\na=rtpmap:123 rtx/90000\na=fmtp:123 apt=127\na=rtpmap:125 ulpfec/90000\na=ssrc-group:FID 2171330257 4072720398\na=ssrc:2171330257 cname:PYJF7YMAd+hgS7Zk\na=ssrc:2171330257 msid:remote_stream remote_video\na=ssrc:2171330257 mslabel:remote_stream\na=ssrc:2171330257 label:remote_video\na=ssrc:4072720398 cname:PYJF7YMAd+hgS7Zk\na=ssrc:4072720398 msid:remote_stream remote_video\na=ssrc:4072720398 mslabel:remote_stream\na=ssrc:4072720398 label:remote_video\n</code></pre>\n<p>In the SDP above i can ICE candidates too which creates confusion for me because when other receive this SDP then how user would save it, as SDP (setRemoteDescription) or treat it as ICE candidates beucase it contains both.</p>\n<p>Also i can see in log that <code>onIceCandidate</code> calls multiples times with these kinds of values</p>\n<pre><code>audio:0:candidate:1587269880 1 udp 2122262783 2406:b400:52:820d:70e0:90ff:fe12:3352 35364 typ host generation 0 ufrag B/Tc network-id 4 network-cost 10::UNKNOWN\n\naudio:0:candidate:393917512 1 udp 2122194687 192.168.0.123 42552 typ host generation 0 ufrag B/Tc network-id 3 network-cost 10::UNKNOWN\n\naudio:0:candidate:559267639 1 udp 2122136831 ::1 50036 typ host generation 0 ufrag B/Tc network-id 2::UNKNOWN\n</code></pre>\n<p>Do i need to send these information to other user as ICE (it calls around 10 times approx) every time it calls <code>onIceCandidate</code>?</p>\n<p>After these exchange which method should i call to initiate the call?</p>\n"},{"tags":["java","networking","pcap","jnetpcap","pcap4j"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1678837730,"post_id":75739324,"comment_id":133610373,"body_markdown":"Is this related to you [previous question](https://stackoverflow.com/questions/75737958/jnetpcap-pcap-loop-issues)?  If so, consider updating the previous question instead and avoid &quot;double posting&quot; - it&#39;s not helpful","body":"Is this related to you <a href=\"https://stackoverflow.com/questions/75737958/jnetpcap-pcap-loop-issues\">previous question</a>?  If so, consider updating the previous question instead and avoid &quot;double posting&quot; - it&#39;s not helpful"},{"owner":{"account_id":299745,"reputation":739,"user_id":606513,"accept_rate":74,"display_name":"schneida"},"score":0,"creation_date":1687514788,"post_id":75739324,"comment_id":134950919,"body_markdown":"I have exactly the same problem - for me it worked very reliable with Java 8, but after switching to Java 11 I have this issue almost all the time. I&#39;ve opened a ticket in the jnetpcap repository - see https://github.com/slytechs-repos/jnetpcap-legacy/issues/8","body":"I have exactly the same problem - for me it worked very reliable with Java 8, but after switching to Java 11 I have this issue almost all the time. I&#39;ve opened a ticket in the jnetpcap repository - see <a href=\"https://github.com/slytechs-repos/jnetpcap-legacy/issues/8\" rel=\"nofollow noreferrer\">github.com/slytechs-repos/jnetpcap-legacy/issues/8</a>"}],"answers":[{"tags":[],"owner":{"account_id":299745,"reputation":739,"user_id":606513,"accept_rate":74,"display_name":"schneida"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687950948,"creation_date":1687950948,"answer_id":76572647,"question_id":75739324,"body_markdown":"I had the same issues with jnetpcap loop not working reliably any more (in my case with Java 11, Java 8 worked fine). The solution was to switch to using the `nextEx` API like so:\r\n\r\n    StringBuilder errorBuffer = new StringBuilder();\r\n    final Pcap pcap = Pcap.openOffline(&quot;C:\\\\dumpcap.pcap&quot;, errorBuffer);\r\n    final PcapPacket packet = new PcapPacket(JMemory.Type.POINTER);\r\n\r\n    int packetCount = 0;\r\n    while (!Thread.currentThread().isInterrupted()) {\r\n        int resultCode = pcap.nextEx(packet);\r\n        if (resultCode == 1) {\r\n            System.out.println(&quot;Recorded packet &quot; + packet);\r\n            packetCount++;\r\n        } else if (resultCode != 0) {\r\n            System.out.println(&quot;Finished reading: &quot; + resultCode);\r\n            //0 means that there was not packet, but that&#39;s generally OK - aynthing else and we should abort\r\n            break;\r\n        }\r\n    }\r\n    System.out.println(&quot;Read packets: &quot; + packetCount);\r\n\r\n    pcap.close();","title":"Issue capturing packets from pcap file using JNetPcap","body":"<p>I had the same issues with jnetpcap loop not working reliably any more (in my case with Java 11, Java 8 worked fine). The solution was to switch to using the <code>nextEx</code> API like so:</p>\n<pre><code>StringBuilder errorBuffer = new StringBuilder();\nfinal Pcap pcap = Pcap.openOffline(&quot;C:\\\\dumpcap.pcap&quot;, errorBuffer);\nfinal PcapPacket packet = new PcapPacket(JMemory.Type.POINTER);\n\nint packetCount = 0;\nwhile (!Thread.currentThread().isInterrupted()) {\n    int resultCode = pcap.nextEx(packet);\n    if (resultCode == 1) {\n        System.out.println(&quot;Recorded packet &quot; + packet);\n        packetCount++;\n    } else if (resultCode != 0) {\n        System.out.println(&quot;Finished reading: &quot; + resultCode);\n        //0 means that there was not packet, but that's generally OK - aynthing else and we should abort\n        break;\n    }\n}\nSystem.out.println(&quot;Read packets: &quot; + packetCount);\n\npcap.close();\n</code></pre>\n"}],"owner":{"account_id":28017761,"reputation":31,"user_id":21399209,"display_name":"elnino17"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1687950948,"creation_date":1678837186,"question_id":75739324,"body_markdown":"I&#39;m using JNetPcap to capture packets from a pcap file in Java. The code works fine sometimes, but other times it doesn&#39;t capture any packets even though the pcap file is full of packets.\r\n\r\nHere&#39;s my code:\r\n\r\n\r\n```\r\nimport org.jnetpcap.Pcap;\r\nimport org.jnetpcap.packet.PcapPacketHandler;\r\n\r\npublic class OfflinePcapCapture {\r\n    public static void main(String[] args) {\r\n        String pcapFilePath = &quot;D:/hello/1212.pcap&quot;;\r\n        StringBuilder errorBuffer = new StringBuilder();\r\n        Pcap pcap = Pcap.openOffline(pcapFilePath, errorBuffer);\r\n        if (pcap == null) {\r\n            System.err.println(&quot;Error opening pcap file: &quot; + errorBuffer);\r\n            return;\r\n        }\r\n\r\n        PcapPacketHandler&lt;String&gt; packetHandler = (packet, user) -&gt; System.out.println(packet.toString());\r\n\r\n        int packetCount = pcap.loop(-1, packetHandler, &quot;&quot;);\r\n        if (packetCount &lt; 0) {\r\n            System.err.println(&quot;Error capturing packets: &quot; + pcap.getErr());\r\n        } else {\r\n            System.out.println(&quot;Captured &quot; + packetCount + &quot; packets from &quot; + pcapFilePath);\r\n        }\r\n        pcap.close();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried removing the filter expression to capture all packets in the file, but that didn&#39;t change anything. Sometimes the code captures packets from the file, and other times it doesn&#39;t capture any packets even though the file is full of packets.\r\n\r\nOne thing I noticed is that sometimes the code captures packets from the file on the first try, and other times I have to rerun the code multiple times to get a result.\r\n\r\nAny help on resolving this issue would be greatly appreciated. Thank you in advance!","title":"Issue capturing packets from pcap file using JNetPcap","body":"<p>I'm using JNetPcap to capture packets from a pcap file in Java. The code works fine sometimes, but other times it doesn't capture any packets even though the pcap file is full of packets.</p>\n<p>Here's my code:</p>\n<pre><code>import org.jnetpcap.Pcap;\nimport org.jnetpcap.packet.PcapPacketHandler;\n\npublic class OfflinePcapCapture {\n    public static void main(String[] args) {\n        String pcapFilePath = &quot;D:/hello/1212.pcap&quot;;\n        StringBuilder errorBuffer = new StringBuilder();\n        Pcap pcap = Pcap.openOffline(pcapFilePath, errorBuffer);\n        if (pcap == null) {\n            System.err.println(&quot;Error opening pcap file: &quot; + errorBuffer);\n            return;\n        }\n\n        PcapPacketHandler&lt;String&gt; packetHandler = (packet, user) -&gt; System.out.println(packet.toString());\n\n        int packetCount = pcap.loop(-1, packetHandler, &quot;&quot;);\n        if (packetCount &lt; 0) {\n            System.err.println(&quot;Error capturing packets: &quot; + pcap.getErr());\n        } else {\n            System.out.println(&quot;Captured &quot; + packetCount + &quot; packets from &quot; + pcapFilePath);\n        }\n        pcap.close();\n    }\n}\n</code></pre>\n<p>I've tried removing the filter expression to capture all packets in the file, but that didn't change anything. Sometimes the code captures packets from the file, and other times it doesn't capture any packets even though the file is full of packets.</p>\n<p>One thing I noticed is that sometimes the code captures packets from the file on the first try, and other times I have to rerun the code multiple times to get a result.</p>\n<p>Any help on resolving this issue would be greatly appreciated. Thank you in advance!</p>\n"},{"tags":["java","json","jsonschema"],"comments":[{"owner":{"account_id":13115303,"reputation":1248,"user_id":9474700,"display_name":"behrad"},"score":0,"creation_date":1645175503,"post_id":71170652,"comment_id":125806365,"body_markdown":"Is shop an array on an object? if the shop is an object it has just 2 property or it is dynamic too?","body":"Is shop an array on an object? if the shop is an object it has just 2 property or it is dynamic too?"},{"owner":{"account_id":24298114,"reputation":41,"user_id":18242025,"display_name":"Anuja"},"score":0,"creation_date":1645176413,"post_id":71170652,"comment_id":125806685,"body_markdown":"@behrad it is like shop having &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; as a shopId , &quot;123e4567-e89b-12d3-a456-426655443210&quot; and &quot;123e4567-e89b-12d3-a456-426655443211&quot; are the variants of shopId. shop is an object having only one shopId but shopId has variants as many as we want.","body":"@behrad it is like shop having &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; as a shopId , &quot;123e4567-e89b-12d3-a456-426655443210&quot; and &quot;123e4567-e89b-12d3-a456-426655443211&quot; are the variants of shopId. shop is an object having only one shopId but shopId has variants as many as we want."}],"answers":[{"comments":[{"owner":{"account_id":24298114,"reputation":41,"user_id":18242025,"display_name":"Anuja"},"score":0,"creation_date":1645177578,"post_id":71171014,"comment_id":125807149,"body_markdown":"{\n    &quot;$schema&quot;: &quot;http://json-schema.org/draft-07/schema&quot;,\n    &quot;type&quot;: &quot;object&quot;,\n    &quot;required&quot;: [ &quot;status&quot;, &quot;id&quot;, &quot;shop&quot; ],\n    &quot;properties&quot;: {\n        &quot;status&quot;: {\n            &quot;type&quot;: &quot;integer&quot;\n        },\n        &quot;id&quot;: {\n            &quot;type&quot;: &quot;string&quot;\n        },\n        &quot;shop&quot;: {\n            &quot;type&quot;: &quot;object&quot;,\n            &quot;required&quot;: [\n                &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot;\n            ], &quot;properties&quot;: {&quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot;: { ..\n instead of &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; what code should i place in required[] and in properties ?","body":"{     &quot;$schema&quot;: &quot;<a href=\"http://json-schema.org/draft-07/schema\" rel=\"nofollow noreferrer\">json-schema.org/draft-07/schema</a>&quot;,     &quot;type&quot;: &quot;object&quot;,     &quot;required&quot;: [ &quot;status&quot;, &quot;id&quot;, &quot;shop&quot; ],     &quot;properties&quot;: {         &quot;status&quot;: {             &quot;type&quot;: &quot;integer&quot;         },         &quot;id&quot;: {             &quot;type&quot;: &quot;string&quot;         },         &quot;shop&quot;: {             &quot;type&quot;: &quot;object&quot;,             &quot;required&quot;: [                 &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot;             ], &quot;properties&quot;: {&quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot;: { ..  instead of &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; what code should i place in required[] and in properties ?"}],"tags":[],"owner":{"account_id":9320960,"reputation":476,"user_id":6919700,"display_name":"pxcv7r"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645176288,"creation_date":1645175987,"answer_id":71171014,"question_id":71170652,"body_markdown":"To validate in JSON schema that a string conforms to a regular expression pattern use\r\n`{ &quot;type&quot;: &quot;string&quot;, &quot;pattern&quot;: &quot;\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b&quot; }`\r\n\r\nThe concrete pattern is adapted from the question https://stackoverflow.com/questions/136505/searching-for-uuids-in-text-with-regex; see there for more details.\r\n\r\nTo validate UUID in particular, you may use `format` in JSON schema, which provides built-in support for the UUID syntax: `{ &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uuid&quot; }`\r\n\r\nSee https://json-schema.org/understanding-json-schema/reference/string.html","title":"How to validate property field which is UUID in json schema?","body":"<p>To validate in JSON schema that a string conforms to a regular expression pattern use\n<code>{ &quot;type&quot;: &quot;string&quot;, &quot;pattern&quot;: &quot;\\b[0-9a-f]{8}\\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\\b[0-9a-f]{12}\\b&quot; }</code></p>\n<p>The concrete pattern is adapted from the question <a href=\"https://stackoverflow.com/questions/136505/searching-for-uuids-in-text-with-regex;\">Searching for UUIDs in text with regex</a> see there for more details.</p>\n<p>To validate UUID in particular, you may use <code>format</code> in JSON schema, which provides built-in support for the UUID syntax: <code>{ &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uuid&quot; }</code></p>\n<p>See <a href=\"https://json-schema.org/understanding-json-schema/reference/string.html\" rel=\"nofollow noreferrer\">https://json-schema.org/understanding-json-schema/reference/string.html</a></p>\n"},{"tags":[],"owner":{"account_id":80583,"reputation":1756,"user_id":227785,"display_name":"Clemens"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645204500,"creation_date":1645204500,"answer_id":71177414,"question_id":71170652,"body_markdown":"You need &quot;patternProperties&quot;:\r\n\r\n    { \r\n      &quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;,\r\n      &quot;type&quot;:&quot;object&quot;,\r\n      &quot;properties&quot;: {\r\n        &quot;shop&quot;:{\r\n          &quot;type&quot;:&quot;object&quot;,\r\n          &quot;additionalProperties&quot;:false,\r\n          &quot;patternProperties&quot;:{\r\n            &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;: {\r\n              &quot;type&quot;:&quot;object&quot;,\r\n              &quot;patternProperties&quot; :{\r\n                &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;:{\r\n                  &quot;type&quot;:&quot;object&quot;,\r\n                   &quot;properties&quot;:{\r\n                     &quot;quantity&quot;:{\r\n                       &quot;type&quot;:&quot;object&quot;,\r\n                       &quot;properties&quot;:{\r\n                         &quot;value&quot;:{\r\n                           &quot;type&quot;:&quot;integer&quot;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n[![Viewes in JSONBuddy][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iWRYm.png","title":"How to validate property field which is UUID in json schema?","body":"<p>You need &quot;patternProperties&quot;:</p>\n<pre><code>{ \n  &quot;$schema&quot;:&quot;http://json-schema.org/draft-07/schema#&quot;,\n  &quot;type&quot;:&quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;shop&quot;:{\n      &quot;type&quot;:&quot;object&quot;,\n      &quot;additionalProperties&quot;:false,\n      &quot;patternProperties&quot;:{\n        &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;: {\n          &quot;type&quot;:&quot;object&quot;,\n          &quot;patternProperties&quot; :{\n            &quot;[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}&quot;:{\n              &quot;type&quot;:&quot;object&quot;,\n               &quot;properties&quot;:{\n                 &quot;quantity&quot;:{\n                   &quot;type&quot;:&quot;object&quot;,\n                   &quot;properties&quot;:{\n                     &quot;value&quot;:{\n                       &quot;type&quot;:&quot;integer&quot;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/iWRYm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iWRYm.png\" alt=\"Viewes in JSONBuddy\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6642040,"reputation":2057,"user_id":5127499,"accept_rate":100,"display_name":"Carsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647287684,"creation_date":1647287684,"answer_id":71473506,"question_id":71170652,"body_markdown":"Building on @pxcv7r&#39;s answer:\r\n&gt; To validate UUID in particular, you may use format in JSON schema, which provides built-in support for the UUID syntax: { &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uuid&quot; }\r\n&gt; \r\n&gt; See https://json-schema.org/understanding-json-schema/reference/string.html\r\n\r\nAdditionally, you can use a combination of [`&quot;propertyNames&quot;`][1] and [`&quot;unevaluatedProperties&quot;`][2] to avoid the need for any regular expression:\r\n\r\n```json\r\n{\r\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\r\n  &quot;type&quot;: &quot;object&quot;,\r\n  &quot;properties&quot;: {\r\n    &quot;status&quot;: {\r\n      &quot;type&quot;: &quot;integer&quot;\r\n    },\r\n    &quot;id&quot;: {\r\n      &quot;type&quot;: &quot;string&quot;,\r\n      &quot;format&quot;: &quot;uuid&quot;\r\n    },\r\n    &quot;shop&quot;: {\r\n      &quot;type&quot;: &quot;object&quot;,\r\n      &quot;minProperties&quot;: 1,\r\n      &quot;maxProperties&quot;: 1,\r\n      &quot;propertyNames&quot;: {\r\n        &quot;format&quot;: &quot;uuid&quot;\r\n      },\r\n      &quot;unevaluatedProperties&quot;: {\r\n        &quot;type&quot;:&quot;object&quot;,\r\n        &quot;minProperties&quot;: 1,\r\n        &quot;propertyNames&quot;: {\r\n          &quot;format&quot;: &quot;uuid&quot;\r\n        },\r\n        &quot;unevaluatedProperties&quot;: {\r\n          &quot;title&quot;: &quot;single variant of a shop&quot;,\r\n          &quot;type&quot;: &quot;object&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;quantity&quot;: {\r\n              &quot;type&quot;: &quot;object&quot;,\r\n              &quot;properties&quot;: {\r\n                &quot;value&quot;: {\r\n                  &quot;type&quot;: &quot;integer&quot;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n  [1]: https://json-schema.org/understanding-json-schema/reference/object.html#property-names\r\n  [2]: https://json-schema.org/understanding-json-schema/reference/object.html#unevaluated-properties","title":"How to validate property field which is UUID in json schema?","body":"<p>Building on @pxcv7r's answer:</p>\n<blockquote>\n<p>To validate UUID in particular, you may use format in JSON schema, which provides built-in support for the UUID syntax: { &quot;type&quot;: &quot;string&quot;, &quot;format&quot;: &quot;uuid&quot; }</p>\n<p>See <a href=\"https://json-schema.org/understanding-json-schema/reference/string.html\" rel=\"nofollow noreferrer\">https://json-schema.org/understanding-json-schema/reference/string.html</a></p>\n</blockquote>\n<p>Additionally, you can use a combination of <a href=\"https://json-schema.org/understanding-json-schema/reference/object.html#property-names\" rel=\"nofollow noreferrer\"><code>&quot;propertyNames&quot;</code></a> and <a href=\"https://json-schema.org/understanding-json-schema/reference/object.html#unevaluated-properties\" rel=\"nofollow noreferrer\"><code>&quot;unevaluatedProperties&quot;</code></a> to avoid the need for any regular expression:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;$schema&quot;: &quot;https://json-schema.org/draft/2019-09/schema&quot;,\n  &quot;type&quot;: &quot;object&quot;,\n  &quot;properties&quot;: {\n    &quot;status&quot;: {\n      &quot;type&quot;: &quot;integer&quot;\n    },\n    &quot;id&quot;: {\n      &quot;type&quot;: &quot;string&quot;,\n      &quot;format&quot;: &quot;uuid&quot;\n    },\n    &quot;shop&quot;: {\n      &quot;type&quot;: &quot;object&quot;,\n      &quot;minProperties&quot;: 1,\n      &quot;maxProperties&quot;: 1,\n      &quot;propertyNames&quot;: {\n        &quot;format&quot;: &quot;uuid&quot;\n      },\n      &quot;unevaluatedProperties&quot;: {\n        &quot;type&quot;:&quot;object&quot;,\n        &quot;minProperties&quot;: 1,\n        &quot;propertyNames&quot;: {\n          &quot;format&quot;: &quot;uuid&quot;\n        },\n        &quot;unevaluatedProperties&quot;: {\n          &quot;title&quot;: &quot;single variant of a shop&quot;,\n          &quot;type&quot;: &quot;object&quot;,\n          &quot;properties&quot;: {\n            &quot;quantity&quot;: {\n              &quot;type&quot;: &quot;object&quot;,\n              &quot;properties&quot;: {\n                &quot;value&quot;: {\n                  &quot;type&quot;: &quot;integer&quot;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":24298114,"reputation":41,"user_id":18242025,"display_name":"Anuja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3411,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1687950879,"creation_date":1645174101,"question_id":71170652,"body_markdown":"       {\r\n      &quot;status&quot;: 200,\r\n      &quot;id&quot;: &quot;123e4567-e89b-12d3-a456-426655440000&quot;,\r\n      &quot;shop&quot;: {\r\n        &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot;: {\r\n          &quot;123e4567-e89b-12d3-a456-426655443210&quot;: {\r\n            &quot;quantity&quot;: {\r\n              &quot;value&quot;: 10\r\n            }\r\n          },\r\n          &quot;123e4567-e89b-12d3-a456-426655443211&quot;: {\r\n            &quot;quantity&quot;: {\r\n              &quot;value&quot;: 20\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nThis is my json response. I want to validate the fields &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; , &quot;123e4567-e89b-12d3-a456-426655443210&quot; and &quot;123e4567-e89b-12d3-a456-426655443211&quot;, which are uniquely generated every time whenever hits the endpoint.","title":"How to validate property field which is UUID in json schema?","body":"<pre><code>   {\n  &quot;status&quot;: 200,\n  &quot;id&quot;: &quot;123e4567-e89b-12d3-a456-426655440000&quot;,\n  &quot;shop&quot;: {\n    &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot;: {\n      &quot;123e4567-e89b-12d3-a456-426655443210&quot;: {\n        &quot;quantity&quot;: {\n          &quot;value&quot;: 10\n        }\n      },\n      &quot;123e4567-e89b-12d3-a456-426655443211&quot;: {\n        &quot;quantity&quot;: {\n          &quot;value&quot;: 20\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>This is my json response. I want to validate the fields &quot;c73bcdcc-2669-4bf6-81d3-e4ae73fb11fd&quot; , &quot;123e4567-e89b-12d3-a456-426655443210&quot; and &quot;123e4567-e89b-12d3-a456-426655443211&quot;, which are uniquely generated every time whenever hits the endpoint.</p>\n"},{"tags":["java","json","android-recyclerview","retrofit","expandable"],"owner":{"account_id":28273933,"reputation":1,"user_id":21616712,"display_name":"Vishal Aparnathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687950437,"creation_date":1687950437,"question_id":76572573,"body_markdown":"How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\nHow to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/aqXrc.png)","title":"How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?","body":"<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p>How to print this Json response from api Call using Retrofit (parent-child) hirarchy or tree? in exandable recycler view or listview, one by one?</p>\n<p><a href=\"https://i.stack.imgur.com/aqXrc.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","swagger","openapi","swagger-codegen","openapi-generator"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":0,"creation_date":1613845052,"post_id":66294655,"comment_id":117204333,"body_markdown":"I am pretty sure you can generate your server without Delegate.. At work we only generate the API interface, which is then overridden by the controller","body":"I am pretty sure you can generate your server without Delegate.. At work we only generate the API interface, which is then overridden by the controller"},{"owner":{"account_id":5248284,"reputation":2046,"user_id":4193280,"accept_rate":31,"display_name":"Saurabh Chaturvedi"},"score":2,"creation_date":1613853112,"post_id":66294655,"comment_id":117206452,"body_markdown":"Yes , we can by putting useLombok=false in open-api generator plugin . But i want to understand for which use-case we use this pattern ?","body":"Yes , we can by putting useLombok=false in open-api generator plugin . But i want to understand for which use-case we use this pattern ?"}],"answers":[{"comments":[{"owner":{"account_id":16118032,"reputation":93,"user_id":11634626,"display_name":"BSL"},"score":2,"creation_date":1641705746,"post_id":66296299,"comment_id":124872982,"body_markdown":"Thank you for your explanation. I found the delegate implementation a bit hard in testing and controller mocking   (UnitTest). do you have any examples of how we test the controller code? Thanks.","body":"Thank you for your explanation. I found the delegate implementation a bit hard in testing and controller mocking   (UnitTest). do you have any examples of how we test the controller code? Thanks."},{"owner":{"account_id":75340,"reputation":378,"user_id":216161,"accept_rate":86,"display_name":"Kronen"},"score":0,"creation_date":1698262852,"post_id":66296299,"comment_id":136384551,"body_markdown":"But you can set interfaceOnly to true to prevent the generation of a PersonController, there&#39;s no need to manually delete it","body":"But you can set interfaceOnly to true to prevent the generation of a PersonController, there&#39;s no need to manually delete it"}],"tags":[],"owner":{"account_id":446229,"reputation":1630,"user_id":839158,"display_name":"gere"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1613853479,"creation_date":1613853479,"answer_id":66296299,"question_id":66294655,"body_markdown":"First of all a clarification: as already mentioned in a comment, you are not forced to use the delegation. On the contrary, the default behavior of the Spring generator is to not use the delegation pattern, as you can easily check in the [docs][1]. In this case it will generate only the PersonApi interface and PersonApiController.\r\n\r\nComing to your question, why using delegation?\r\n\r\nThis allows you to write a class that implements PersonApiDelegate, that can be easily injected in the generated code, without any need to manually touch generated sources, and keeping the implementation safe from possible future changes in the code generation.\r\n\r\nLet&#39;s think what could happen without delegation. \r\n\r\nA naive approach would be to generate the sources and then write directly the implementation inside the generated PersonController. Of course the next time there is a need to run the generator, it would be a big mess. All the implementation would be lost...\r\n\r\nA slightly better scenario, but not perfect, would be to write a class that extends PersonController. That would keep the implementation safe from being overwritten during generation, but would not protect it from future changes of the generation engine: as a bare minimum the implementation class would need to implement the PersonController constructor. Right now the constructor of a generated controller has the following signature `PersonApiController(ObjectMapper objectMapper, HttpServletRequest request)`, but the developers of the generator may need to change it in the future. So the implementation would need to change too. \r\n\r\nA third approach would be to forget completely about the generated PersonApiController, and just write a class that implements the PersonApi interface. That would be fine, but every time the code is generated you would need to delete the PersonApiController, otherwise Spring router will complain. Still manual work...\r\n\r\nBut with the delegation, the implementation code is completely safe. No need to manually delete stuff, no need to adapt in case of future changes. Also the class that implements PersonApiDelegate can be treated as an independent service, so you can inject / autowire into it whatever you need. \r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://openapi-generator.tech/docs/generators/spring/","title":"Significance of Delegate Design Pattern in Swagger Generated Code?","body":"<p>First of all a clarification: as already mentioned in a comment, you are not forced to use the delegation. On the contrary, the default behavior of the Spring generator is to not use the delegation pattern, as you can easily check in the <a href=\"https://openapi-generator.tech/docs/generators/spring/\" rel=\"noreferrer\">docs</a>. In this case it will generate only the PersonApi interface and PersonApiController.</p>\n<p>Coming to your question, why using delegation?</p>\n<p>This allows you to write a class that implements PersonApiDelegate, that can be easily injected in the generated code, without any need to manually touch generated sources, and keeping the implementation safe from possible future changes in the code generation.</p>\n<p>Let's think what could happen without delegation.</p>\n<p>A naive approach would be to generate the sources and then write directly the implementation inside the generated PersonController. Of course the next time there is a need to run the generator, it would be a big mess. All the implementation would be lost...</p>\n<p>A slightly better scenario, but not perfect, would be to write a class that extends PersonController. That would keep the implementation safe from being overwritten during generation, but would not protect it from future changes of the generation engine: as a bare minimum the implementation class would need to implement the PersonController constructor. Right now the constructor of a generated controller has the following signature <code>PersonApiController(ObjectMapper objectMapper, HttpServletRequest request)</code>, but the developers of the generator may need to change it in the future. So the implementation would need to change too.</p>\n<p>A third approach would be to forget completely about the generated PersonApiController, and just write a class that implements the PersonApi interface. That would be fine, but every time the code is generated you would need to delete the PersonApiController, otherwise Spring router will complain. Still manual work...</p>\n<p>But with the delegation, the implementation code is completely safe. No need to manually delete stuff, no need to adapt in case of future changes. Also the class that implements PersonApiDelegate can be treated as an independent service, so you can inject / autowire into it whatever you need.</p>\n"},{"tags":[],"owner":{"account_id":4648084,"reputation":41,"user_id":3765694,"display_name":"Mikka"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687950341,"creation_date":1687950341,"answer_id":76572555,"question_id":66294655,"body_markdown":"@BSL\r\n\r\nI also stumbled about the problem of testing the controller, when it is generated via Delegate pattern: All my WebMvcTests returned a 404 error.\r\n\r\nThe reason for that is, if you only import the (in this case) `PersonApiController` (e.g. via a `@WebMvcTest(PersonApiController.class)` annotation, there is no information about the endpoints provided to Spring. The `PersonApiController` implements the `PersonApiDelegate`, but all endpoint information is only available on the `PersonApi` interface, which is not imported.\r\n\r\nSo you need to also import `PersonApi` additionally to your test:\r\n\r\n```java\r\n@WebMvcTest(PersonApiController.class) // the controller you want to test\r\n@Import(PersonApi.class) // the interface containing the endpoint path information\r\nclass PersonApiControllerTest {\r\n   ...\r\n}\r\n\r\n```","title":"Significance of Delegate Design Pattern in Swagger Generated Code?","body":"<p>@BSL</p>\n<p>I also stumbled about the problem of testing the controller, when it is generated via Delegate pattern: All my WebMvcTests returned a 404 error.</p>\n<p>The reason for that is, if you only import the (in this case) <code>PersonApiController</code> (e.g. via a <code>@WebMvcTest(PersonApiController.class)</code> annotation, there is no information about the endpoints provided to Spring. The <code>PersonApiController</code> implements the <code>PersonApiDelegate</code>, but all endpoint information is only available on the <code>PersonApi</code> interface, which is not imported.</p>\n<p>So you need to also import <code>PersonApi</code> additionally to your test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(PersonApiController.class) // the controller you want to test\n@Import(PersonApi.class) // the interface containing the endpoint path information\nclass PersonApiControllerTest {\n   ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":5248284,"reputation":2046,"user_id":4193280,"accept_rate":31,"display_name":"Saurabh Chaturvedi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8100,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":66296299,"answer_count":2,"score":16,"last_activity_date":1687950341,"creation_date":1613842887,"question_id":66294655,"body_markdown":"When i generate code for `Spring` from my swagger yaml , usually controller layer is generated using `delegate` pattern , such that for a single model three files are generated . For example , if i defined a model named `Person` in my swagger/open API yaml file , three files get generated as :\r\n\r\n&gt; 1. PersonApi     (interface that contains signatures of all person operations/methods)\r\n&gt; 2. PersonApiDelegate ( interface that  provides default implementation of all PersonApi methods . Meant to be overriden )\r\n&gt; 3. PersonApiController (Which has a reference to PersonApiDelegate so that any implementation can override and provide custom implementation)\r\n\r\n\r\nMy question is for anyone who is familiar with building swagger/openapi generated code based apis that what is the significance of having such a pattern , instead of just exposing your service endpoints using a PersonController class , and not going through a PersonApi interface and then to a PersonApiDelegate and finally exposing the service through a PersonApiController ?\r\n\r\nWhat is the valuable design extensibility we gain through this pattern ?  I tried to find information from other resources on internet , but couldn&#39;t find a good answer in context of swagger first API development approach . Any insights on this will be really helpful . \r\n\r\n","title":"Significance of Delegate Design Pattern in Swagger Generated Code?","body":"<p>When i generate code for <code>Spring</code> from my swagger yaml , usually controller layer is generated using <code>delegate</code> pattern , such that for a single model three files are generated . For example , if i defined a model named <code>Person</code> in my swagger/open API yaml file , three files get generated as :</p>\n<blockquote>\n<ol>\n<li>PersonApi     (interface that contains signatures of all person operations/methods)</li>\n<li>PersonApiDelegate ( interface that  provides default implementation of all PersonApi methods . Meant to be overriden )</li>\n<li>PersonApiController (Which has a reference to PersonApiDelegate so that any implementation can override and provide custom implementation)</li>\n</ol>\n</blockquote>\n<p>My question is for anyone who is familiar with building swagger/openapi generated code based apis that what is the significance of having such a pattern , instead of just exposing your service endpoints using a PersonController class , and not going through a PersonApi interface and then to a PersonApiDelegate and finally exposing the service through a PersonApiController ?</p>\n<p>What is the valuable design extensibility we gain through this pattern ?  I tried to find information from other resources on internet , but couldn't find a good answer in context of swagger first API development approach . Any insights on this will be really helpful .</p>\n"},{"tags":["java","spring","debugging","spring-boot","performance-testing"],"answers":[{"tags":[],"owner":{"account_id":9186222,"reputation":1,"user_id":6828337,"display_name":"Diego da Costa Porto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687950244,"creation_date":1687950244,"answer_id":76572545,"question_id":50160458,"body_markdown":"You have to profiling the API, the besty choice is with visual VM https://visualvm.github.io/gettingstarted.html\r\nYou can see what happens and where the time is waste","title":"How to debug performance problems with REST calls in Spring Boot","body":"<p>You have to profiling the API, the besty choice is with visual VM <a href=\"https://visualvm.github.io/gettingstarted.html\" rel=\"nofollow noreferrer\">https://visualvm.github.io/gettingstarted.html</a>\nYou can see what happens and where the time is waste</p>\n"}],"owner":{"account_id":5205254,"reputation":73,"user_id":4163408,"display_name":"Todd347"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687950244,"creation_date":1525367154,"question_id":50160458,"body_markdown":"The good and the bad with the Spring Framework is that a lot of magic happens behind **annotations**.\r\nI have built what I would consider a fairly `vanilla REST api` that makes **GET, PUT, and POST** on the same `URL`.When calling the `PUT` or `POST` call there is a severe `delay` between when I send the query from **Postman** to when the controller method gets control (8 to 10 seconds).   However, the `GET` call is almost instantaneous. I need a way to trace through the `spring` magic to see where the performance bottleneck is before the controller method is called.  How do I debug this code?\r\n\r\n\t@RequestMapping(value = &quot;/{collection}/branches&quot;, method = RequestMethod.GET)\r\n\tpublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; getBranches(@PathVariable String collection,\r\n\t\t\t@RequestParam(defaultValue = ModelsController.DEF_OFFSET) Long _offset,\r\n\t\t\t@RequestParam(defaultValue = ModelsController.DEF_LIMIT) Integer _limit,\r\n\t\t\t@RequestParam(required = false) String rep,\r\n\t\t\t@RequestParam(defaultValue = ModelsController.DEF_SYNC) Integer _sync) {\r\n\r\n\t\ttry {\r\n\t\t\tCollectionApi&lt;BranchApi&gt; branches = branchesService.getBranches(collection);\r\n\t\t\tif (branches == null) {\r\n\t\t\t\tthrow new NotFoundException(&quot;Collection not found&quot;);\r\n\t\t\t}\r\n\t\t\treturn ResponseEntity.ok(branches);\r\n\t\t} catch (NucleusModelingException e) {\r\n\t\t\tthrow new BadRequestException(e.getLocalizedMessage(), e);\r\n\t\t}\r\n\t}\r\n\r\n\t@RequestMapping(value = &quot;/{collection}/branches&quot;, method = RequestMethod.PUT)\r\n\tpublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; setActiveBranch(\r\n\t\t\t@PathVariable String collection, \r\n\t\t\t@RequestParam String branch) {\r\n\r\n\t\ttry {\r\n\t\t\tCollectionApi&lt;BranchApi&gt; branches = branchesService.setActiveBranch(collection, branch);\r\n\t\t\treturn ResponseEntity.ok(branches);\r\n\t\t} catch (NucleusModelingException e) {\r\n\t\t\tthrow new BadRequestException(e.getLocalizedMessage(),e);\r\n\t\t}\r\n\t}\r\n\r\n\t@RequestMapping(value = &quot;/{collection}/branches&quot;, method = RequestMethod.POST)\r\n\tpublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; createBranch(\r\n\t\t\t@PathVariable String collection, \r\n\t\t\t@RequestParam String branch) {\r\n\r\n\t\ttry {\r\n\t\t\tCollectionApi&lt;BranchApi&gt; branches = branchesService.checkoutBranch(collection, branch);\r\n\t\t\treturn ResponseEntity.status(HttpStatus.CREATED).body(branches);\r\n\t\t} catch (NucleusModelingException e) {\r\n\t\t\tthrow new BadRequestException(e.getLocalizedMessage(),e);\r\n\t\t}\r\n\t}\r\n","title":"How to debug performance problems with REST calls in Spring Boot","body":"<p>The good and the bad with the Spring Framework is that a lot of magic happens behind <strong>annotations</strong>.\nI have built what I would consider a fairly <code>vanilla REST api</code> that makes <strong>GET, PUT, and POST</strong> on the same <code>URL</code>.When calling the <code>PUT</code> or <code>POST</code> call there is a severe <code>delay</code> between when I send the query from <strong>Postman</strong> to when the controller method gets control (8 to 10 seconds).   However, the <code>GET</code> call is almost instantaneous. I need a way to trace through the <code>spring</code> magic to see where the performance bottleneck is before the controller method is called.  How do I debug this code?</p>\n\n<pre><code>@RequestMapping(value = \"/{collection}/branches\", method = RequestMethod.GET)\npublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; getBranches(@PathVariable String collection,\n        @RequestParam(defaultValue = ModelsController.DEF_OFFSET) Long _offset,\n        @RequestParam(defaultValue = ModelsController.DEF_LIMIT) Integer _limit,\n        @RequestParam(required = false) String rep,\n        @RequestParam(defaultValue = ModelsController.DEF_SYNC) Integer _sync) {\n\n    try {\n        CollectionApi&lt;BranchApi&gt; branches = branchesService.getBranches(collection);\n        if (branches == null) {\n            throw new NotFoundException(\"Collection not found\");\n        }\n        return ResponseEntity.ok(branches);\n    } catch (NucleusModelingException e) {\n        throw new BadRequestException(e.getLocalizedMessage(), e);\n    }\n}\n\n@RequestMapping(value = \"/{collection}/branches\", method = RequestMethod.PUT)\npublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; setActiveBranch(\n        @PathVariable String collection, \n        @RequestParam String branch) {\n\n    try {\n        CollectionApi&lt;BranchApi&gt; branches = branchesService.setActiveBranch(collection, branch);\n        return ResponseEntity.ok(branches);\n    } catch (NucleusModelingException e) {\n        throw new BadRequestException(e.getLocalizedMessage(),e);\n    }\n}\n\n@RequestMapping(value = \"/{collection}/branches\", method = RequestMethod.POST)\npublic ResponseEntity&lt;CollectionApi&lt;BranchApi&gt;&gt; createBranch(\n        @PathVariable String collection, \n        @RequestParam String branch) {\n\n    try {\n        CollectionApi&lt;BranchApi&gt; branches = branchesService.checkoutBranch(collection, branch);\n        return ResponseEntity.status(HttpStatus.CREATED).body(branches);\n    } catch (NucleusModelingException e) {\n        throw new BadRequestException(e.getLocalizedMessage(),e);\n    }\n}\n</code></pre>\n"},{"tags":["java","log4j2"],"answers":[{"comments":[{"owner":{"account_id":3599861,"reputation":854,"user_id":3003393,"accept_rate":62,"display_name":"dmachop"},"score":0,"creation_date":1449593392,"post_id":34151968,"comment_id":56069637,"body_markdown":"Boy, that&#39;s a powerful way of substition. Thanks.","body":"Boy, that&#39;s a powerful way of substition. Thanks."},{"owner":{"account_id":1588748,"reputation":299,"user_id":1472551,"display_name":"Abhi"},"score":0,"creation_date":1659073062,"post_id":34151968,"comment_id":129212771,"body_markdown":"@dmachop : I know its 7 year old stuff. But do u remember if this solution worked just by changing ${sys:value} lookup with the ${main:--value} or you had to do some other change as well? For me still substitution is not happening.","body":"@dmachop : I know its 7 year old stuff. But do u remember if this solution worked just by changing ${sys:value} lookup with the ${main:--value} or you had to do some other change as well? For me still substitution is not happening."}],"tags":[],"owner":{"account_id":4881564,"reputation":2243,"user_id":3935205,"accept_rate":100,"display_name":"alan7678"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1449566074,"creation_date":1449566074,"answer_id":34151968,"question_id":34070204,"body_markdown":"## TL;DR \nSimply replace the ${sys:value} lookup with the ${main:--value} lookup.\n\n## Explanation\nhttp://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup\n\nCombine this feature with configuration properties\n\nhttp://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\n\nAnd you can do some very powerful configuration with the arguments without ever touching code.\n\nPay close attention to this from the PropertySubstitution docs.\n\n&gt; If no value is found for the key in the Lookup associated with the\n&gt; prefix then the value associated with the key in the properties\n&gt; declaration in the configuration file will be used. If no value is\n&gt; found the variable declaration will be returned as the value. Default\n&gt; values may be declared in the configuration by doing:\n\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;Configuration&gt;\n      &lt;Properties&gt;\n        &lt;Property name=&quot;--file&quot;&gt;log_file_path&lt;/property&gt;\n      &lt;/Properties&gt;\n      ...\n    &lt;/Configuration&gt;\n\nThis means a configuration lookup like this `${main:--file}` would return the command line argument --file if it existed but if it did not would return the default value in the Properties declaration (im not sure if the name of the property would need to be &quot;file&quot; or &quot;--file&quot; for it to match correctly). There should be no need for code if your goal is to simply set the log file via argument upon startup.\n","title":"Log4j2 system property written as a file","body":"<h2>TL;DR</h2>\n<p>Simply replace the ${sys:value} lookup with the ${main:--value} lookup.</p>\n<h2>Explanation</h2>\n<p><a href=\"http://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/lookups.html#AppMainArgsLookup</a></p>\n<p>Combine this feature with configuration properties</p>\n<p><a href=\"http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution\" rel=\"nofollow noreferrer\">http://logging.apache.org/log4j/2.x/manual/configuration.html#PropertySubstitution</a></p>\n<p>And you can do some very powerful configuration with the arguments without ever touching code.</p>\n<p>Pay close attention to this from the PropertySubstitution docs.</p>\n<blockquote>\n<p>If no value is found for the key in the Lookup associated with the\nprefix then the value associated with the key in the properties\ndeclaration in the configuration file will be used. If no value is\nfound the variable declaration will be returned as the value. Default\nvalues may be declared in the configuration by doing:</p>\n</blockquote>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration&gt;\n  &lt;Properties&gt;\n    &lt;Property name=&quot;--file&quot;&gt;log_file_path&lt;/property&gt;\n  &lt;/Properties&gt;\n  ...\n&lt;/Configuration&gt;\n</code></pre>\n<p>This means a configuration lookup like this <code>${main:--file}</code> would return the command line argument --file if it existed but if it did not would return the default value in the Properties declaration (im not sure if the name of the property would need to be &quot;file&quot; or &quot;--file&quot; for it to match correctly). There should be no need for code if your goal is to simply set the log file via argument upon startup.</p>\n"}],"owner":{"account_id":3599861,"reputation":854,"user_id":3003393,"accept_rate":62,"display_name":"dmachop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10767,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":34151968,"answer_count":1,"score":5,"last_activity_date":1687949940,"creation_date":1449157515,"question_id":34070204,"body_markdown":"I use the following log4j2 configuration:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n    \t&lt;Appenders&gt;\r\n    \t\t&lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n    \t\t\t&lt;PatternLayout pattern=&quot;%d{HH:mm:ss.SSS} %-5.5level %-60.60logger - %msg%n&quot; /&gt;\r\n    \t\t\t&lt;Filters&gt;\r\n    \t\t\t\t&lt;ThresholdFilter level=&quot;info&quot; onMatch=&quot;ACCEPT&quot;\r\n    \t\t\t\t\tonMismatch=&quot;DENY&quot; /&gt;\r\n    \t\t\t&lt;/Filters&gt;\r\n    \t\t&lt;/Console&gt;\r\n    \t\t&lt;RollingFile name=&quot;RollingFile&quot;\r\n    \t\t\tfileName=&quot;${sys:log.file}&quot;\r\n    \t\t\tfilePattern=&quot;${sys:log.parent.path}\\$${date:yyyy-MM}\\${sys:log.file.name}-%d{MM-dd-yyyy}-%i.log.gz&quot;&gt;\r\n    \t\t\t&lt;PatternLayout&gt;\r\n    \t\t\t\t&lt;Pattern&gt;\r\n    \t\t\t\t\t%d{yyy-MM-dd HH:mm:ss.SSS} [%30.30t]%-10.10level%-60.60logger - %msg%n\r\n    \t\t\t\t&lt;/Pattern&gt;\r\n    \t\t\t&lt;/PatternLayout&gt;\r\n    \t\t\t&lt;Policies&gt;\r\n    \t\t\t\t&lt;TimeBasedTriggeringPolicy /&gt;\r\n    \t\t\t\t&lt;SizeBasedTriggeringPolicy size=&quot;60 MB&quot; /&gt;\r\n    \t\t\t&lt;/Policies&gt;\r\n    \t\t&lt;/RollingFile&gt;\r\n    \t&lt;/Appenders&gt;\r\n    \t&lt;Loggers&gt;\r\n    \t\t&lt;Root level=&quot;trace&quot;&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;RollingFile&quot; /&gt;\r\n    \t\t\t&lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n    \t\t&lt;/Root&gt;\r\n    \t&lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nThe system parameters are set when the file location is passed as a command line parameter and then the function reconfigureLog() sets the properties\r\n\r\n    public static void reconfigureLog(String logPath)\r\n    \t{\r\n    \t\tFile logFile = new File(logPath);\r\n    \t\tSystem.setProperty(&quot;log.file&quot;, logPath);\r\n    \t\tSystem.setProperty(&quot;log.parent.path&quot;, logFile.getParent());\r\n    \t\tSystem.setProperty(&quot;log.file.name&quot;, FilenameUtils.getBaseName(logFile.getName()));\r\n    \r\n    \t\torg.apache.logging.log4j.core.Logger rootLogger = (org.apache.logging.log4j.core.Logger) LogManager\r\n    \t\t\t\t.getRootLogger();\r\n    \t\tLoggerContext context = rootLogger.getContext();\r\n    \t\tcontext.reconfigure();\r\n    \t}\r\n\r\nThis is the sample usage of the scenario where I read the parameters from the command line and then set it later.\r\n\r\n    if (cmd.hasOption(&quot;logFile&quot;))\r\n    \t\t{\r\n    \t\t\tString logPath = cmd.getOptionValue(&quot;logFile&quot;);\r\n    \t\t\tUtility.reconfigureLog(logPath);\r\n    \t\t\tlogger = LogManager.getLogger(Test.class);\r\n    \t\t}\r\n\r\nEvery class has a static logger initialization like this:\r\n\r\n    private final static Logger logger = LogManager.getLogger(Connector.class);\r\n\r\nThe issue is when I run the application, `${sys.log.file}` is being created and then the corresponding log file from the parameters is created. Prodding through the parameters it seems that the parameter fileName under the RolllingFile is automatically added. \r\n\r\nThe debug log for log4j2 is:\r\n\r\n    2015-12-03 11:07:19,204 main DEBUG Calling createAppender on class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile with params(fileName=&quot;${sys:log.file}&quot;, filePattern=&quot;${sys:log.parent.path}\\${date:yyyy-MM}\\${sys:log.file.name}-%d{MM-dd-yyyy}-%i.log.gz&quot;, append=&quot;null&quot;, name=&quot;RollingFile&quot;, bufferedIO=&quot;null&quot;, bufferSize=&quot;null&quot;, immediateFlush=&quot;null&quot;, Policies(CompositeTriggeringPolicy(policies=[TimeBasedTriggeringPolicy(nextRolloverMillis=0, interval=1, modulate=false), SizeBasedTriggeringPolicy(size=62914560)])), null, PatternLayout(%d{yyy-MM-dd HH:mm:ss.SSS} [%30.30t]%-10.10level%-60.60logger - %msg%n), null, ignoreExceptions=&quot;null&quot;, advertise=&quot;null&quot;, advertiseURI=&quot;null&quot;, Configuration(&lt;path&gt;\\Connector\\target\\classes\\log4j2.xml))\r\n    2015-12-03 11:07:19,207 main DEBUG Starting RollingFileManager ${sys:log.file}\r\n\r\nIt can be seen that the system parameter is literally picked instead of substitution. I need to avoid the early initialization and start this loading only after calling the reconfigureLog method.\r\nHow can I avoid `${sys.log.file}` being created when I can use system parameters as part of my application?","title":"Log4j2 system property written as a file","body":"<p>I use the following log4j2 configuration:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;Configuration status=\"WARN\"&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=\"Console\" target=\"SYSTEM_OUT\"&gt;\n            &lt;PatternLayout pattern=\"%d{HH:mm:ss.SSS} %-5.5level %-60.60logger - %msg%n\" /&gt;\n            &lt;Filters&gt;\n                &lt;ThresholdFilter level=\"info\" onMatch=\"ACCEPT\"\n                    onMismatch=\"DENY\" /&gt;\n            &lt;/Filters&gt;\n        &lt;/Console&gt;\n        &lt;RollingFile name=\"RollingFile\"\n            fileName=\"${sys:log.file}\"\n            filePattern=\"${sys:log.parent.path}\\$${date:yyyy-MM}\\${sys:log.file.name}-%d{MM-dd-yyyy}-%i.log.gz\"&gt;\n            &lt;PatternLayout&gt;\n                &lt;Pattern&gt;\n                    %d{yyy-MM-dd HH:mm:ss.SSS} [%30.30t]%-10.10level%-60.60logger - %msg%n\n                &lt;/Pattern&gt;\n            &lt;/PatternLayout&gt;\n            &lt;Policies&gt;\n                &lt;TimeBasedTriggeringPolicy /&gt;\n                &lt;SizeBasedTriggeringPolicy size=\"60 MB\" /&gt;\n            &lt;/Policies&gt;\n        &lt;/RollingFile&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=\"trace\"&gt;\n            &lt;AppenderRef ref=\"RollingFile\" /&gt;\n            &lt;AppenderRef ref=\"Console\" /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n\n<p>The system parameters are set when the file location is passed as a command line parameter and then the function reconfigureLog() sets the properties</p>\n\n<pre><code>public static void reconfigureLog(String logPath)\n    {\n        File logFile = new File(logPath);\n        System.setProperty(\"log.file\", logPath);\n        System.setProperty(\"log.parent.path\", logFile.getParent());\n        System.setProperty(\"log.file.name\", FilenameUtils.getBaseName(logFile.getName()));\n\n        org.apache.logging.log4j.core.Logger rootLogger = (org.apache.logging.log4j.core.Logger) LogManager\n                .getRootLogger();\n        LoggerContext context = rootLogger.getContext();\n        context.reconfigure();\n    }\n</code></pre>\n\n<p>This is the sample usage of the scenario where I read the parameters from the command line and then set it later.</p>\n\n<pre><code>if (cmd.hasOption(\"logFile\"))\n        {\n            String logPath = cmd.getOptionValue(\"logFile\");\n            Utility.reconfigureLog(logPath);\n            logger = LogManager.getLogger(Test.class);\n        }\n</code></pre>\n\n<p>Every class has a static logger initialization like this:</p>\n\n<pre><code>private final static Logger logger = LogManager.getLogger(Connector.class);\n</code></pre>\n\n<p>The issue is when I run the application, <code>${sys.log.file}</code> is being created and then the corresponding log file from the parameters is created. Prodding through the parameters it seems that the parameter fileName under the RolllingFile is automatically added. </p>\n\n<p>The debug log for log4j2 is:</p>\n\n<pre><code>2015-12-03 11:07:19,204 main DEBUG Calling createAppender on class org.apache.logging.log4j.core.appender.RollingFileAppender for element RollingFile with params(fileName=\"${sys:log.file}\", filePattern=\"${sys:log.parent.path}\\${date:yyyy-MM}\\${sys:log.file.name}-%d{MM-dd-yyyy}-%i.log.gz\", append=\"null\", name=\"RollingFile\", bufferedIO=\"null\", bufferSize=\"null\", immediateFlush=\"null\", Policies(CompositeTriggeringPolicy(policies=[TimeBasedTriggeringPolicy(nextRolloverMillis=0, interval=1, modulate=false), SizeBasedTriggeringPolicy(size=62914560)])), null, PatternLayout(%d{yyy-MM-dd HH:mm:ss.SSS} [%30.30t]%-10.10level%-60.60logger - %msg%n), null, ignoreExceptions=\"null\", advertise=\"null\", advertiseURI=\"null\", Configuration(&lt;path&gt;\\Connector\\target\\classes\\log4j2.xml))\n2015-12-03 11:07:19,207 main DEBUG Starting RollingFileManager ${sys:log.file}\n</code></pre>\n\n<p>It can be seen that the system parameter is literally picked instead of substitution. I need to avoid the early initialization and start this loading only after calling the reconfigureLog method.\nHow can I avoid <code>${sys.log.file}</code> being created when I can use system parameters as part of my application?</p>\n"},{"tags":["java","spring-boot","request"],"comments":[{"owner":{"account_id":26555431,"reputation":558,"user_id":20184128,"display_name":"berse2212"},"score":1,"creation_date":1687950850,"post_id":76572457,"comment_id":135007847,"body_markdown":"I am confused. How do you want to modify requests to third-party resources through your Spring-Boot-Backend when the frontend directly calls the third-party? That doesn&#39;t make sense.","body":"I am confused. How do you want to modify requests to third-party resources through your Spring-Boot-Backend when the frontend directly calls the third-party? That doesn&#39;t make sense."}],"owner":{"account_id":10018629,"reputation":149,"user_id":7409078,"display_name":"BenSV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687949533,"creation_date":1687949533,"question_id":76572457,"body_markdown":"I have a spring-boot application. A recent Qualys scan report shows following security threat \r\n\r\n        X-Content-Type-Options: Header missing\r\n\r\nIt has detected the following requests,\r\n\r\n - https://bat.bing.com/bat.js\r\n - https://cdn-pci.optimizely.com/js/199565681146.js\r\n - https://connect.facebook.net/en_US/fbevents.js\r\n\r\nBut when I check the code, this parameter is already added through Spring Security. And  `x-content-type-options:nosniff` can be seen in all of the responses except thrid party service like above detected by Qualys.\r\n\r\n**Rquests with `x-content-type-options:nosniff`**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Requests without it**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHow to add `x-content-type-options:nosniff` to above requests where it is missing. Please help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qZmes.png\r\n  [2]: https://i.stack.imgur.com/luPgB.png","title":"How to add X-Content-Type-Options:nosniff to every Response","body":"<p>I have a spring-boot application. A recent Qualys scan report shows following security threat</p>\n<pre><code>    X-Content-Type-Options: Header missing\n</code></pre>\n<p>It has detected the following requests,</p>\n<ul>\n<li><a href=\"https://bat.bing.com/bat.js\" rel=\"nofollow noreferrer\">https://bat.bing.com/bat.js</a></li>\n<li><a href=\"https://cdn-pci.optimizely.com/js/199565681146.js\" rel=\"nofollow noreferrer\">https://cdn-pci.optimizely.com/js/199565681146.js</a></li>\n<li><a href=\"https://connect.facebook.net/en_US/fbevents.js\" rel=\"nofollow noreferrer\">https://connect.facebook.net/en_US/fbevents.js</a></li>\n</ul>\n<p>But when I check the code, this parameter is already added through Spring Security. And  <code>x-content-type-options:nosniff</code> can be seen in all of the responses except thrid party service like above detected by Qualys.</p>\n<p><strong>Rquests with <code>x-content-type-options:nosniff</code></strong></p>\n<p><a href=\"https://i.stack.imgur.com/qZmes.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qZmes.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Requests without it</strong></p>\n<p><a href=\"https://i.stack.imgur.com/luPgB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/luPgB.png\" alt=\"enter image description here\" /></a></p>\n<p>How to add <code>x-content-type-options:nosniff</code> to above requests where it is missing. Please help.</p>\n"},{"tags":["java","java-6"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1687949718,"post_id":76572420,"comment_id":135007606,"body_markdown":"Seems to be a SSL handshaking issue. You might not have the server signing certificate in your Java 6 installation, but it might be included in later Java versions (by default?). It might also depend on if the server certificate is self signed or not. Importing the certificates might do the trick.\nAnd then of course the obvious: Java 6 has gone end of life/end of support a long time ago. Don&#39;t trust it to run your server applications.","body":"Seems to be a SSL handshaking issue. You might not have the server signing certificate in your Java 6 installation, but it might be included in later Java versions (by default?). It might also depend on if the server certificate is self signed or not. Importing the certificates might do the trick. And then of course the obvious: Java 6 has gone end of life/end of support a long time ago. Don&#39;t trust it to run your server applications."},{"owner":{"account_id":1077457,"reputation":8074,"user_id":1075282,"display_name":"Renat"},"score":0,"creation_date":1687949747,"post_id":76572420,"comment_id":135007611,"body_markdown":"From this answer, it may work with `6.91 version of JDK` : https://stackoverflow.com/a/32220941/1075282","body":"From this answer, it may work with <code>6.91 version of JDK</code> : <a href=\"https://stackoverflow.com/a/32220941/1075282\">stackoverflow.com/a/32220941/1075282</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687960132,"post_id":76572420,"comment_id":135009953,"body_markdown":"You might just try `-Djavax.net.ssl.trustStore=&lt;path to Java 8 certs&gt;` (Usually `$JAVA_HOME/lib/security/jssecacerts` or `$JAVA_HOME/lib/security/cacerts`) Hacky but might work for testing","body":"You might just try <code>-Djavax.net.ssl.trustStore=&lt;path to Java 8 certs&gt;</code> (Usually <code>$JAVA_HOME&#47;lib&#47;security&#47;jssecacerts</code> or <code>$JAVA_HOME&#47;lib&#47;security&#47;cacerts</code>) Hacky but might work for testing"}],"owner":{"account_id":28421174,"reputation":1,"user_id":21743230,"display_name":"ANJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687949400,"creation_date":1687949209,"question_id":76572420,"body_markdown":" \r\n\r\n\r\n```\r\nimport com.sun.jersey.api.client.Client;\r\nimport com.sun.jersey.api.client.ClientResponse;\r\nimport com.sun.jersey.api.client.WebResource;\r\nimport org.apache.commons.logging.Log;\r\nimport org.apache.commons.logging.LogFactory;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\n\r\nimport static com.oxdeo.serviceclient.constants.*;\r\n\r\npublic class TokenService {\r\n    protected final Log logger = LogFactory.getLog(TokenService.class);\r\n    private static String bodyStr = &quot;grant_type=client_credentials&amp;client_id=&quot; + coreClientId + &quot;&amp;client_secret=&quot; + coreClientSecret;\r\n\r\n    private Client jerseyClient = new Client();\r\n\r\n    public String getToken() {\r\n        WebResource webResource = jerseyClient.resource(coreTokenURL);\r\n        ClientResponse clientResponse = webResource.type(&quot;application/x-www-form-urlencoded&quot;).post(ClientResponse.class, bodyStr);\r\n        logger.info(&quot;client response  token: &quot; + clientResponse.getStatus());\r\n        String token = null;\r\n        if (clientResponse.getStatus() == 200) {\r\n            token = parseToken(clientResponse);\r\n        } else {\r\n            logger.error(&quot;Unable to get  token. response:&quot; + clientResponse.getStatus());\r\n        }\r\n        return token;\r\n    }\r\n\r\n    private String parseToken(ClientResponse clientResponse) {\r\n        String accessToken=&quot;&quot;;\r\n        String responseStr = clientResponse.getEntity(String.class);\r\n        JSONObject jsonResponse = new JSONObject(responseStr);\r\n        if(clientResponse.getStatus() &gt;=200 &amp;&amp; clientResponse.getStatus()  &lt;=204) {\r\n             accessToken = jsonResponse.getString(&quot;access_token&quot;);\r\n        }\r\n        return accessToken;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nIn the above code I running the local server on Java 1.6 and  calling a API to get the token but I am getting the error like:\r\n\r\n&gt; javax.net.ssl.SSLPeerUnverifiedException peer not authenticated\r\n\r\nThe API which I am calling may running on Java 8 OR 11, but If I run this  code with Java 8 I am able to get the response. What do I need to change here or any configuration to make to return response with Java 6? I tested with the Apache library also but getting the same error with all.","title":"Able to call API with Java 8 but not with 6?","body":"<pre><code>import com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.ClientResponse;\nimport com.sun.jersey.api.client.WebResource;\nimport org.apache.commons.logging.Log;\nimport org.apache.commons.logging.LogFactory;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\n\nimport static com.oxdeo.serviceclient.constants.*;\n\npublic class TokenService {\n    protected final Log logger = LogFactory.getLog(TokenService.class);\n    private static String bodyStr = &quot;grant_type=client_credentials&amp;client_id=&quot; + coreClientId + &quot;&amp;client_secret=&quot; + coreClientSecret;\n\n    private Client jerseyClient = new Client();\n\n    public String getToken() {\n        WebResource webResource = jerseyClient.resource(coreTokenURL);\n        ClientResponse clientResponse = webResource.type(&quot;application/x-www-form-urlencoded&quot;).post(ClientResponse.class, bodyStr);\n        logger.info(&quot;client response  token: &quot; + clientResponse.getStatus());\n        String token = null;\n        if (clientResponse.getStatus() == 200) {\n            token = parseToken(clientResponse);\n        } else {\n            logger.error(&quot;Unable to get  token. response:&quot; + clientResponse.getStatus());\n        }\n        return token;\n    }\n\n    private String parseToken(ClientResponse clientResponse) {\n        String accessToken=&quot;&quot;;\n        String responseStr = clientResponse.getEntity(String.class);\n        JSONObject jsonResponse = new JSONObject(responseStr);\n        if(clientResponse.getStatus() &gt;=200 &amp;&amp; clientResponse.getStatus()  &lt;=204) {\n             accessToken = jsonResponse.getString(&quot;access_token&quot;);\n        }\n        return accessToken;\n    }\n\n}\n</code></pre>\n<p>In the above code I running the local server on Java 1.6 and  calling a API to get the token but I am getting the error like:</p>\n<blockquote>\n<p>javax.net.ssl.SSLPeerUnverifiedException peer not authenticated</p>\n</blockquote>\n<p>The API which I am calling may running on Java 8 OR 11, but If I run this  code with Java 8 I am able to get the response. What do I need to change here or any configuration to make to return response with Java 6? I tested with the Apache library also but getting the same error with all.</p>\n"},{"tags":["java","hex","offset","radius","neighbours"],"owner":{"account_id":21031095,"reputation":1,"user_id":15455466,"display_name":"Katsuhige"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687949154,"creation_date":1687948734,"question_id":76572369,"body_markdown":"I hardcoded to get neighbors in a radius of 1 or 2. I could hardcode the radius 3 also, but I wonder how I can use some loop etc to have any radius I want?\r\nWhen the red Hex is the center, how can I get every Hex inside the radius?\r\n\r\n[Hexagon](https://i.stack.imgur.com/pWGRp.png)\r\n\r\nThats how I coded the directions for 1 and 2 radius:\r\n\r\n```java\r\n\r\nprivate static final Vector2[] directions2Even = {\r\n    new Vector2(1,-1), new Vector2(1,0), new Vector2(0,1),\r\n    new Vector2(-1,0), new Vector2(-1,-1), new Vector2(0,-1)\r\n};\r\n \r\nprivate static final Vector2[] directions2Odd = {\r\n    new Vector2(1,0), new Vector2(1,1), new Vector2(0,1),\r\n    new Vector2(-1,1), new Vector2(-1,0), new Vector2(0,-1)\r\n};\r\n\r\nprivate static final Vector2[] directions2BigEven = {\r\n    new Vector2(2,0), new Vector2(2,1), new Vector2(1,1),\r\n    new Vector2(0,2), new Vector2(-1,1), new Vector2(-2,1),\r\n         \r\n    new Vector2(-2,0), new Vector2(-2,-1), new Vector2(-1,-2),\r\n    new Vector2(0,-2), new Vector2(1,-2), new Vector2(2,-1)\r\n\r\n};\r\n\r\nprivate static final Vector2[] directions2BigOdd = {\r\n    new Vector2(2,0), new Vector2(2,1), new Vector2(1,2),\r\n    new Vector2(0,2), new Vector2(-1,2), new Vector2(-2,1),\r\n        \r\n    new Vector2(-2,0), new Vector2(-2,-1), new Vector2(-1,-1),\r\n    new Vector2(0,-2), new Vector2(1,-1), new Vector2(2,-1)\r\n};\r\n```\r\n\r\nI read https://www.redblobgames.com/ but he only shows some code for cubes.","title":"Offset Hexagon - Getting Neighbors in x Radius","body":"<p>I hardcoded to get neighbors in a radius of 1 or 2. I could hardcode the radius 3 also, but I wonder how I can use some loop etc to have any radius I want?\nWhen the red Hex is the center, how can I get every Hex inside the radius?</p>\n<p><a href=\"https://i.stack.imgur.com/pWGRp.png\" rel=\"nofollow noreferrer\">Hexagon</a></p>\n<p>Thats how I coded the directions for 1 and 2 radius:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate static final Vector2[] directions2Even = {\n    new Vector2(1,-1), new Vector2(1,0), new Vector2(0,1),\n    new Vector2(-1,0), new Vector2(-1,-1), new Vector2(0,-1)\n};\n \nprivate static final Vector2[] directions2Odd = {\n    new Vector2(1,0), new Vector2(1,1), new Vector2(0,1),\n    new Vector2(-1,1), new Vector2(-1,0), new Vector2(0,-1)\n};\n\nprivate static final Vector2[] directions2BigEven = {\n    new Vector2(2,0), new Vector2(2,1), new Vector2(1,1),\n    new Vector2(0,2), new Vector2(-1,1), new Vector2(-2,1),\n         \n    new Vector2(-2,0), new Vector2(-2,-1), new Vector2(-1,-2),\n    new Vector2(0,-2), new Vector2(1,-2), new Vector2(2,-1)\n\n};\n\nprivate static final Vector2[] directions2BigOdd = {\n    new Vector2(2,0), new Vector2(2,1), new Vector2(1,2),\n    new Vector2(0,2), new Vector2(-1,2), new Vector2(-2,1),\n        \n    new Vector2(-2,0), new Vector2(-2,-1), new Vector2(-1,-1),\n    new Vector2(0,-2), new Vector2(1,-1), new Vector2(2,-1)\n};\n</code></pre>\n<p>I read <a href=\"https://www.redblobgames.com/\" rel=\"nofollow noreferrer\">https://www.redblobgames.com/</a> but he only shows some code for cubes.</p>\n"},{"tags":["java","apache-kafka","openshift","quarkus","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687948862,"creation_date":1687948862,"answer_id":76572387,"question_id":76571989,"body_markdown":"Quarkus has not yet support for OpenTelemetry (OTel) Metrics and Logs. It is planned.\r\nYou have OTel Tracing and Micrometer metrics with the [Quarkiverse&#39;s OTLP registry][1]. \r\n\r\nPlease mind that the OTel Agent is not recommended to use with Quarkus because it doesn&#39;t properly handle context propagation between imperative and reactive code. \r\n\r\nYou have a demo app, with Micrometer and OTel tracing sending data with OTLP, as an example here: https://github.com/brunobat/quarkus-observability-demo/tree/main/quarkus-observability-demo-micrometer\r\n\r\n\r\n  [1]: https://github.com/quarkiverse/quarkus-micrometer-registry/tree/main/micrometer-registry-otlp","title":"Quarkus Java logs are not retrieved in Opentelemetry receiver","body":"<p>Quarkus has not yet support for OpenTelemetry (OTel) Metrics and Logs. It is planned.\nYou have OTel Tracing and Micrometer metrics with the <a href=\"https://github.com/quarkiverse/quarkus-micrometer-registry/tree/main/micrometer-registry-otlp\" rel=\"nofollow noreferrer\">Quarkiverse's OTLP registry</a>.</p>\n<p>Please mind that the OTel Agent is not recommended to use with Quarkus because it doesn't properly handle context propagation between imperative and reactive code.</p>\n<p>You have a demo app, with Micrometer and OTel tracing sending data with OTLP, as an example here: <a href=\"https://github.com/brunobat/quarkus-observability-demo/tree/main/quarkus-observability-demo-micrometer\" rel=\"nofollow noreferrer\">https://github.com/brunobat/quarkus-observability-demo/tree/main/quarkus-observability-demo-micrometer</a></p>\n"}],"owner":{"account_id":23324280,"reputation":11,"user_id":17401679,"display_name":"Mugi Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687948862,"creation_date":1687945854,"question_id":76571989,"body_markdown":"I have deployed a quarkus application in openshift and annotated the deployment with \r\nopentelemetry auto-instrumentation.\r\n\r\nThe problem is that I can able to retrieve the metrics and traces. But logs are missing. \r\n\r\n\r\n**Annotation CLI command is**\r\n\r\n&gt; oc patch deployment.apps/quarkus-app -p &#39;{&quot;spec&quot;:\r\n&gt; {&quot;template&quot;: {&quot;metadata&quot;: {&quot;annotations&quot;:\r\n&gt; {&quot;instrumentation.opentelemetry.io/inject-java&quot;: &quot;true&quot;}}}}}&#39;\r\n\r\n\r\nThis is my auto-instrumentation yaml\r\n\r\n    apiVersion: opentelemetry.io/v1alpha1 kind: Instrumentation metadata:  name: demo-autoinst   namespace: opentele spec:   propagators:\r\n        - tracecontext\r\n        - baggage\r\n        - b3   sampler:\r\n        type: parentbased_traceidratio\r\n        argument: &quot;1&quot;   java:\r\n        image: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-java:latest\r\n        env:\r\n          - name: OTEL_EXPORTER_OTLP_ENDPOINT\r\n            value: &quot;http://url:4317&quot;\r\n\r\n\r\nThis is my collector yaml\r\n\r\n    apiVersion: opentelemetry.io/v1alpha1\r\n    kind: OpenTelemetryCollector\r\n    metadata:\r\n      name: demo\r\n      namepsace: opentele\r\n    spec:\r\n      image: ghcr.io/open-telemetry/opentelemetry-collector-releases/opentelemetry-collector-contrib:0.78.0\r\n      config: |\r\n        receivers:\r\n          otlp:\r\n            protocols:\r\n              grpc:\r\n              http:\r\n    \r\n        processors:\r\n          batch:\r\n        \r\n        exporters:\r\n          logging:\r\n            loglevel: info\r\n\r\n          kafka/logs:\r\n          brokers: \r\n            - url:9092\r\n          topic: all-logs-1\r\n          encoding: otlp_json\r\n          protocol_version: 3.4.0 \r\n\r\n        service:\r\n          pipelines:\r\n            traces:\r\n              receivers: [otlp]\r\n              processors: [batch]\r\n              exporters: [...]\r\n    \r\n            metrics:\r\n              receivers: [otlp]\r\n              processors: [batch]\r\n              exporters: [...]\r\n    \r\n            logs:\r\n              receivers: [otlp]\r\n              processors: [batch]\r\n              exporters: [logging,kafka/logs]\r\n              \r\n      mode: deployment\r\n      resources: {}\r\n      targetAllocator: {}\r\n\r\nCan anyone help me on this.","title":"Quarkus Java logs are not retrieved in Opentelemetry receiver","body":"<p>I have deployed a quarkus application in openshift and annotated the deployment with\nopentelemetry auto-instrumentation.</p>\n<p>The problem is that I can able to retrieve the metrics and traces. But logs are missing.</p>\n<p><strong>Annotation CLI command is</strong></p>\n<blockquote>\n<p>oc patch deployment.apps/quarkus-app -p '{&quot;spec&quot;:\n{&quot;template&quot;: {&quot;metadata&quot;: {&quot;annotations&quot;:\n{&quot;instrumentation.opentelemetry.io/inject-java&quot;: &quot;true&quot;}}}}}'</p>\n</blockquote>\n<p>This is my auto-instrumentation yaml</p>\n<pre><code>apiVersion: opentelemetry.io/v1alpha1 kind: Instrumentation metadata:  name: demo-autoinst   namespace: opentele spec:   propagators:\n    - tracecontext\n    - baggage\n    - b3   sampler:\n    type: parentbased_traceidratio\n    argument: &quot;1&quot;   java:\n    image: ghcr.io/open-telemetry/opentelemetry-operator/autoinstrumentation-java:latest\n    env:\n      - name: OTEL_EXPORTER_OTLP_ENDPOINT\n        value: &quot;http://url:4317&quot;\n</code></pre>\n<p>This is my collector yaml</p>\n<pre><code>apiVersion: opentelemetry.io/v1alpha1\nkind: OpenTelemetryCollector\nmetadata:\n  name: demo\n  namepsace: opentele\nspec:\n  image: ghcr.io/open-telemetry/opentelemetry-collector-releases/opentelemetry-collector-contrib:0.78.0\n  config: |\n    receivers:\n      otlp:\n        protocols:\n          grpc:\n          http:\n\n    processors:\n      batch:\n    \n    exporters:\n      logging:\n        loglevel: info\n\n      kafka/logs:\n      brokers: \n        - url:9092\n      topic: all-logs-1\n      encoding: otlp_json\n      protocol_version: 3.4.0 \n\n    service:\n      pipelines:\n        traces:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [...]\n\n        metrics:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [...]\n\n        logs:\n          receivers: [otlp]\n          processors: [batch]\n          exporters: [logging,kafka/logs]\n          \n  mode: deployment\n  resources: {}\n  targetAllocator: {}\n</code></pre>\n<p>Can anyone help me on this.</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687948135,"creation_date":1687948135,"question_id":76572300,"body_markdown":"For example, I have an Article entity, that has @ManyToMany collection of Rubric entities:\r\n\r\n```\r\n@Entity\r\npublic class Article {\r\n...\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;article_rubrics&quot;,\r\n        joinColumns = @JoinColumn(name = &quot;article_id&quot;),\r\n        inverseJoinColumns = @JoinColumn(name = &quot;rubrics_id&quot;))\r\n    private Set&lt;Rubric&gt; rubrics;\r\n...\r\n```\r\nEntity Rubric doesn&#39;t have reference of Article.\r\nI need to get, for example, paginated collection of Articles:\r\n```\r\nPageRequest page = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;createdAt&quot;);\r\n```\r\n- If I will use ```postRepository.findAll(page)``` method, I will get N + 1 problem.\r\n- If I will use HQL join fetch query ```select p from Post p left join fetch p.rubrics where```, I Hibernate will take all posts &amp; rubrics and paginate them in memory, warning: &gt; HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory.\r\n\r\nSo what is the right way to get entities from DB? Maybe a way to paginate data in memory is not so bad?\r\nSpring Boot 3, Java, Hibernate\r\n\r\n","title":"How to get entity collection with connected entities from DB with pagination using Hibernate and Spring Data JPA?","body":"<p>For example, I have an Article entity, that has @ManyToMany collection of Rubric entities:</p>\n<pre><code>@Entity\npublic class Article {\n...\n    @ManyToMany\n    @JoinTable(name = &quot;article_rubrics&quot;,\n        joinColumns = @JoinColumn(name = &quot;article_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;rubrics_id&quot;))\n    private Set&lt;Rubric&gt; rubrics;\n...\n</code></pre>\n<p>Entity Rubric doesn't have reference of Article.\nI need to get, for example, paginated collection of Articles:</p>\n<pre><code>PageRequest page = PageRequest.of(0, 10, Sort.Direction.ASC, &quot;createdAt&quot;);\n</code></pre>\n<ul>\n<li>If I will use <code>postRepository.findAll(page)</code> method, I will get N + 1 problem.</li>\n<li>If I will use HQL join fetch query <code>select p from Post p left join fetch p.rubrics where</code>, I Hibernate will take all posts &amp; rubrics and paginate them in memory, warning: &gt; HHH90003004: firstResult/maxResults specified with collection fetch; applying in memory.</li>\n</ul>\n<p>So what is the right way to get entities from DB? Maybe a way to paginate data in memory is not so bad?\nSpring Boot 3, Java, Hibernate</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687947824,"creation_date":1687947824,"answer_id":76572256,"question_id":76570817,"body_markdown":"Okay so the solution to my problem was apparently an issue I don&#39;t understand with `postForEntity()` so instead I had to use `exchange()` like so:\r\n\r\n```lang-java\r\npublic ResponseEntity&lt;Users&gt; getUsers(String username, String passwd) {\r\n        String ticket = authTicketService.getTicket(username, passwd);\r\n\r\n        LOGGER.info(&quot;Ticket is: {}&quot;, ticket);\r\n\r\n        HttpHeaders headers = buildHeaders(ticket);\r\n\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n\r\n        LOGGER.info(entity);\r\n\r\n        return restTemplate.exchange(url, HttpMethod.GET, entity, Users.class);\r\n    }\r\n```\r\n\r\nInside my `GetUsersService` class.\r\n\r\nI also renamed the field inside `Users` from `userList` to `users`.\r\n\r\nIt now works as expected. ","title":"Java HttpHeaders - Error Response Saying Custom Header Not In Request Despite Logs Showing The Custom Header","body":"<p>Okay so the solution to my problem was apparently an issue I don't understand with <code>postForEntity()</code> so instead I had to use <code>exchange()</code> like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;Users&gt; getUsers(String username, String passwd) {\n        String ticket = authTicketService.getTicket(username, passwd);\n\n        LOGGER.info(&quot;Ticket is: {}&quot;, ticket);\n\n        HttpHeaders headers = buildHeaders(ticket);\n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\n\n        LOGGER.info(entity);\n\n        return restTemplate.exchange(url, HttpMethod.GET, entity, Users.class);\n    }\n</code></pre>\n<p>Inside my <code>GetUsersService</code> class.</p>\n<p>I also renamed the field inside <code>Users</code> from <code>userList</code> to <code>users</code>.</p>\n<p>It now works as expected.</p>\n"}],"owner":{"account_id":25463394,"reputation":41,"user_id":19262819,"display_name":"AceKokuren"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76572256,"answer_count":1,"score":1,"last_activity_date":1687947824,"creation_date":1687936263,"question_id":76570817,"body_markdown":"I have a simple task, to update a set of users. To retrieve the set of users, I make a call to an endpoint, (not one I have touched, I just have the URL).\r\n\r\nI need to get an authentication ticket to pass through the header when I call the endpoint that returns me the list of users. When I test in Postman, my authentication ticket endpoint works fine, but when I then try to use the service as a helper method when I call `getUsers()`, I get an error saying &quot;no OTDSTicket&quot;.\r\n\r\nHere is my controller:\r\n```lang-java\r\npackage com.cybg.digitilisation.controller;\r\n\r\nimport com.cybg.digitilisation.entity.AuthUser;\r\nimport com.cybg.digitilisation.entity.Users;\r\nimport com.cybg.digitilisation.service.GetAuthTicketService;\r\nimport com.cybg.digitilisation.service.GetUsersService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@Configuration\r\npublic class DigitizationController {\r\n\r\n    private final GetAuthTicketService getAuthTicketService;\r\n    private final GetUsersService getUsersService;\r\n\r\n    @Autowired\r\n    public DigitizationController(GetAuthTicketService getAuthTicketService, GetUsersService getUsersService) {\r\n        this.getAuthTicketService = getAuthTicketService;\r\n        this.getUsersService = getUsersService;\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getTicket&quot;, produces = { &quot;application/json&quot; })\r\n    public ResponseEntity&lt;String&gt; geTicket(@RequestBody AuthUser user) {\r\n        String ticket = getAuthTicketService.getTicket(user.getUsername(), user.getPassword());\r\n        return ResponseEntity.ok(ticket);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/getUsers&quot;, produces = { &quot;application/json&quot; })\r\n    public ResponseEntity&lt;Users&gt; getUsers(@RequestBody AuthUser user) {\r\n        return getUsersService.getUsers(user.getUsername(), user.getPassword());\r\n    }\r\n}\r\n```\r\n\r\nHere is the `GetAuthTicketService()` class:\r\n```lang-java\r\npackage com.cybg.digitilisation.service;\r\n\r\nimport com.cybg.digitilisation.entity.AuthTicket;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport java.util.Objects;\r\n\r\n@Service\r\npublic class GetAuthTicketService {\r\n    private static final Logger LOGGER = LogManager.getLogger();\r\n    private final RestTemplate restTemplate;\r\n\r\n    @Value(&quot;${endpoint.auth}&quot;)\r\n    private String url;\r\n\r\n    @Autowired\r\n    public GetAuthTicketService(RestTemplate restTemplate) {\r\n        super();\r\n        this.restTemplate = restTemplate;\r\n    }\r\n\r\n\r\n    public String getTicket(String username, String passwd) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n\r\n        String request = &quot;{ \\&quot;userName\\&quot;: \\&quot;&quot; + username + &quot;\\&quot;, \\&quot;password\\&quot;: \\&quot;&quot; + passwd + &quot;\\&quot; }&quot;;\r\n        LOGGER.info(request);\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(request, headers);\r\n        LOGGER.info(entity);\r\n        AuthTicket ticket = restTemplate.postForObject(url, entity, AuthTicket.class);\r\n\r\n        if (Objects.nonNull(ticket)) {\r\n            LOGGER.info(&quot;Ticket is {}&quot;, ticket.getTicket());\r\n\r\n            return ticket.getTicket();\r\n        }\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my `GetUsersService()` class:\r\n```lang-java\r\npackage com.cybg.digitilisation.service;\r\n\r\nimport com.cybg.digitilisation.entity.Users;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.http.HttpEntity;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@Service\r\npublic class GetUsersService {\r\n\r\n    private static final Logger LOGGER = LogManager.getLogger();\r\n\r\n    @Value(&quot;${endpoint.users}&quot;)\r\n    private String url;\r\n    private final RestTemplate restTemplate;\r\n    private final GetAuthTicketService authTicketService;\r\n\r\n    @Autowired\r\n    public GetUsersService(RestTemplate restTemplate, GetAuthTicketService authTicketService) {\r\n        super();\r\n        this.restTemplate = restTemplate;\r\n        this.authTicketService = authTicketService;\r\n    }\r\n\r\n    public ResponseEntity&lt;Users&gt; getUsers(String username, String passwd) {\r\n        String ticket = authTicketService.getTicket(username, passwd);\r\n\r\n        LOGGER.info(&quot;Ticket is: {}&quot;, ticket);\r\n\r\n        HttpHeaders headers = buildHeaders(ticket);\r\n\r\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\r\n\r\n        LOGGER.info(entity);\r\n\r\n        return restTemplate.getForEntity(url, Users.class, entity);\r\n    }\r\n\r\n    private HttpHeaders buildHeaders(String ticket) {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_JSON);\r\n        headers.set(&quot;OTDSTicket&quot;, ticket);\r\n        return headers;\r\n    }\r\n}\r\n```\r\n\r\nI am using `application.properties` to store the endpoint for the calls.\r\nWhen I call the `/getTicket` endpoint, everything works as expected, printing out the required String.\r\n\r\nWhen I then call `/getUsers` endpoint, passing in the OTDSTicket as a custom header, I get this error:\r\n```lang-json\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-06-28T07:06:09.076+00:00&quot;,\r\n    &quot;status&quot;: 500,\r\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n    &quot;trace&quot;: &quot;org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : \\&quot;{\\&quot;status\\&quot;:1009,\\&quot;error\\&quot;:\\&quot;no OTDS ticket\\&quot;,\\&quot;errorDetails\\&quot;:null}\\&quot;\\n\\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105)\\n\\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)\\n\\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\\n\\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\\n\\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)\\n\\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)\\n\\tat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:367)\\n\\tat com.cybg.digitilisation.service.GetUsersService.getUsers(GetUsersService.java:43)\\n\\tat com.cybg.digitilisation.controller.DigitizationController.getUsers(DigitizationController.java:35)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\r\n    &quot;message&quot;: &quot;401 : \\&quot;{\\&quot;status\\&quot;:1009,\\&quot;error\\&quot;:\\&quot;no OTDS ticket\\&quot;,\\&quot;errorDetails\\&quot;:null}\\&quot;&quot;,\r\n    &quot;path&quot;: &quot;/getUsers&quot;\r\n}\r\n```\r\n\r\nIs there something I am missing? \r\n\r\nThe logs show me the request containing the ticket:\r\n```\r\n&lt;[Content-Type:&quot;application/json&quot;, OTDSTicket:&quot;long_string_representing_token&quot;]&gt;\r\n```\r\n\r\n(I&#39;ve omitted the token for what I hope are obvious reasons).\r\n\r\nEDIT: I am using Spring 2.7.13","title":"Java HttpHeaders - Error Response Saying Custom Header Not In Request Despite Logs Showing The Custom Header","body":"<p>I have a simple task, to update a set of users. To retrieve the set of users, I make a call to an endpoint, (not one I have touched, I just have the URL).</p>\n<p>I need to get an authentication ticket to pass through the header when I call the endpoint that returns me the list of users. When I test in Postman, my authentication ticket endpoint works fine, but when I then try to use the service as a helper method when I call <code>getUsers()</code>, I get an error saying &quot;no OTDSTicket&quot;.</p>\n<p>Here is my controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.cybg.digitilisation.controller;\n\nimport com.cybg.digitilisation.entity.AuthUser;\nimport com.cybg.digitilisation.entity.Users;\nimport com.cybg.digitilisation.service.GetAuthTicketService;\nimport com.cybg.digitilisation.service.GetUsersService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@Configuration\npublic class DigitizationController {\n\n    private final GetAuthTicketService getAuthTicketService;\n    private final GetUsersService getUsersService;\n\n    @Autowired\n    public DigitizationController(GetAuthTicketService getAuthTicketService, GetUsersService getUsersService) {\n        this.getAuthTicketService = getAuthTicketService;\n        this.getUsersService = getUsersService;\n    }\n\n    @GetMapping(value = &quot;/getTicket&quot;, produces = { &quot;application/json&quot; })\n    public ResponseEntity&lt;String&gt; geTicket(@RequestBody AuthUser user) {\n        String ticket = getAuthTicketService.getTicket(user.getUsername(), user.getPassword());\n        return ResponseEntity.ok(ticket);\n    }\n\n    @GetMapping(value = &quot;/getUsers&quot;, produces = { &quot;application/json&quot; })\n    public ResponseEntity&lt;Users&gt; getUsers(@RequestBody AuthUser user) {\n        return getUsersService.getUsers(user.getUsername(), user.getPassword());\n    }\n}\n</code></pre>\n<p>Here is the <code>GetAuthTicketService()</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.cybg.digitilisation.service;\n\nimport com.cybg.digitilisation.entity.AuthTicket;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.RestTemplate;\n\nimport java.util.Objects;\n\n@Service\npublic class GetAuthTicketService {\n    private static final Logger LOGGER = LogManager.getLogger();\n    private final RestTemplate restTemplate;\n\n    @Value(&quot;${endpoint.auth}&quot;)\n    private String url;\n\n    @Autowired\n    public GetAuthTicketService(RestTemplate restTemplate) {\n        super();\n        this.restTemplate = restTemplate;\n    }\n\n\n    public String getTicket(String username, String passwd) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n\n        String request = &quot;{ \\&quot;userName\\&quot;: \\&quot;&quot; + username + &quot;\\&quot;, \\&quot;password\\&quot;: \\&quot;&quot; + passwd + &quot;\\&quot; }&quot;;\n        LOGGER.info(request);\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(request, headers);\n        LOGGER.info(entity);\n        AuthTicket ticket = restTemplate.postForObject(url, entity, AuthTicket.class);\n\n        if (Objects.nonNull(ticket)) {\n            LOGGER.info(&quot;Ticket is {}&quot;, ticket.getTicket());\n\n            return ticket.getTicket();\n        }\n\n        return null;\n    }\n}\n</code></pre>\n<p>And this is my <code>GetUsersService()</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.cybg.digitilisation.service;\n\nimport com.cybg.digitilisation.entity.Users;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.http.HttpEntity;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.client.RestTemplate;\n\n@Service\npublic class GetUsersService {\n\n    private static final Logger LOGGER = LogManager.getLogger();\n\n    @Value(&quot;${endpoint.users}&quot;)\n    private String url;\n    private final RestTemplate restTemplate;\n    private final GetAuthTicketService authTicketService;\n\n    @Autowired\n    public GetUsersService(RestTemplate restTemplate, GetAuthTicketService authTicketService) {\n        super();\n        this.restTemplate = restTemplate;\n        this.authTicketService = authTicketService;\n    }\n\n    public ResponseEntity&lt;Users&gt; getUsers(String username, String passwd) {\n        String ticket = authTicketService.getTicket(username, passwd);\n\n        LOGGER.info(&quot;Ticket is: {}&quot;, ticket);\n\n        HttpHeaders headers = buildHeaders(ticket);\n\n        HttpEntity&lt;String&gt; entity = new HttpEntity&lt;&gt;(headers);\n\n        LOGGER.info(entity);\n\n        return restTemplate.getForEntity(url, Users.class, entity);\n    }\n\n    private HttpHeaders buildHeaders(String ticket) {\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_JSON);\n        headers.set(&quot;OTDSTicket&quot;, ticket);\n        return headers;\n    }\n}\n</code></pre>\n<p>I am using <code>application.properties</code> to store the endpoint for the calls.\nWhen I call the <code>/getTicket</code> endpoint, everything works as expected, printing out the required String.</p>\n<p>When I then call <code>/getUsers</code> endpoint, passing in the OTDSTicket as a custom header, I get this error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2023-06-28T07:06:09.076+00:00&quot;,\n    &quot;status&quot;: 500,\n    &quot;error&quot;: &quot;Internal Server Error&quot;,\n    &quot;trace&quot;: &quot;org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 : \\&quot;{\\&quot;status\\&quot;:1009,\\&quot;error\\&quot;:\\&quot;no OTDS ticket\\&quot;,\\&quot;errorDetails\\&quot;:null}\\&quot;\\n\\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105)\\n\\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)\\n\\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\\n\\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\\n\\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:825)\\n\\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:783)\\n\\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)\\n\\tat org.springframework.web.client.RestTemplate.getForEntity(RestTemplate.java:367)\\n\\tat com.cybg.digitilisation.service.GetUsersService.getUsers(GetUsersService.java:43)\\n\\tat com.cybg.digitilisation.controller.DigitizationController.getUsers(DigitizationController.java:35)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\\n\\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\\n\\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\\n\\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\\n\\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\\n\\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1072)\\n\\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:965)\\n\\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\\n\\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:529)\\n\\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:623)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:209)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\\n\\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:178)\\n\\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:153)\\n\\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)\\n\\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)\\n\\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)\\n\\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)\\n\\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)\\n\\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\\n\\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\\n\\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)\\n\\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)\\n\\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:926)\\n\\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1791)\\n\\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\\n\\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\\n\\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\\n\\tat java.base/java.lang.Thread.run(Thread.java:833)\\n&quot;,\n    &quot;message&quot;: &quot;401 : \\&quot;{\\&quot;status\\&quot;:1009,\\&quot;error\\&quot;:\\&quot;no OTDS ticket\\&quot;,\\&quot;errorDetails\\&quot;:null}\\&quot;&quot;,\n    &quot;path&quot;: &quot;/getUsers&quot;\n}\n</code></pre>\n<p>Is there something I am missing?</p>\n<p>The logs show me the request containing the ticket:</p>\n<pre><code>&lt;[Content-Type:&quot;application/json&quot;, OTDSTicket:&quot;long_string_representing_token&quot;]&gt;\n</code></pre>\n<p>(I've omitted the token for what I hope are obvious reasons).</p>\n<p>EDIT: I am using Spring 2.7.13</p>\n"},{"tags":["java","graph","shortest-path","large-data"],"comments":[{"owner":{"account_id":315231,"reputation":793,"user_id":630868,"accept_rate":96,"display_name":"Maltiriel"},"score":1,"creation_date":1333048573,"post_id":9930446,"comment_id":12678748,"body_markdown":"Just found some info on [JGraphT](http://jgrapht-users.107614.n3.nabble.com/Max-limit-of-vertices-td1194057.html). Apparently it should handle these graphs no problem...","body":"Just found some info on <a href=\"http://jgrapht-users.107614.n3.nabble.com/Max-limit-of-vertices-td1194057.html\" rel=\"nofollow noreferrer\">JGraphT</a>. Apparently it should handle these graphs no problem..."}],"answers":[{"comments":[{"owner":{"account_id":315231,"reputation":793,"user_id":630868,"accept_rate":96,"display_name":"Maltiriel"},"score":0,"creation_date":1333044907,"post_id":9930542,"comment_id":12677225,"body_markdown":"Thanks, I&#39;m looking into this now. It can definitely handle those datasets.","body":"Thanks, I&#39;m looking into this now. It can definitely handle those datasets."},{"owner":{"account_id":315231,"reputation":793,"user_id":630868,"accept_rate":96,"display_name":"Maltiriel"},"score":1,"creation_date":1333376791,"post_id":9930542,"comment_id":12749203,"body_markdown":"I&#39;m first going to try one of the in-memory libraries, as that&#39;s what&#39;s done in the paper so I think my prof would like that better, but if that doesn&#39;t work I&#39;ll go with Neo4J. It looks easy to use and it has all the algorithms I need.  Thanks for the suggestion!","body":"I&#39;m first going to try one of the in-memory libraries, as that&#39;s what&#39;s done in the paper so I think my prof would like that better, but if that doesn&#39;t work I&#39;ll go with Neo4J. It looks easy to use and it has all the algorithms I need.  Thanks for the suggestion!"}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1333042816,"creation_date":1333042816,"answer_id":9930542,"question_id":9930446,"body_markdown":"You should take a look at [Neo4J][1] which is a graphical database which might be a good solution for your problems.\r\n\r\n\r\n  [1]: http://neo4j.org/","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>You should take a look at <a href=\"http://neo4j.org/\" rel=\"nofollow\">Neo4J</a> which is a graphical database which might be a good solution for your problems.</p>\n"},{"comments":[{"owner":{"account_id":315231,"reputation":793,"user_id":630868,"accept_rate":96,"display_name":"Maltiriel"},"score":0,"creation_date":1333045175,"post_id":9930579,"comment_id":12677349,"body_markdown":"Hmm. The info I&#39;ve seen makes it seem like this wouldn&#39;t be as suitable... In the user manual they start off by going on about swing for example. I don&#39;t want to have to mess with the visualization stuff at all. Is that possible, do you know?","body":"Hmm. The info I&#39;ve seen makes it seem like this wouldn&#39;t be as suitable... In the user manual they start off by going on about swing for example. I don&#39;t want to have to mess with the visualization stuff at all. Is that possible, do you know?"},{"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"score":0,"creation_date":1333046622,"post_id":9930579,"comment_id":12677926,"body_markdown":"@Maltiriel, you could potentially work on graph model standalone. However, if you don&#39;t need to visualize the graph, it is an overkill.","body":"@Maltiriel, you could potentially work on graph model standalone. However, if you don&#39;t need to visualize the graph, it is an overkill."},{"owner":{"account_id":315231,"reputation":793,"user_id":630868,"accept_rate":96,"display_name":"Maltiriel"},"score":0,"creation_date":1333056015,"post_id":9930579,"comment_id":12681540,"body_markdown":"Thanks for the additional suggestions.  Hama may be a bit much for what I&#39;m doing, but Annas looks very interesting.  I haven&#39;t come across either one in my searches before this.","body":"Thanks for the additional suggestions.  Hama may be a bit much for what I&#39;m doing, but Annas looks very interesting.  I haven&#39;t come across either one in my searches before this."}],"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1333048896,"creation_date":1333042976,"answer_id":9930579,"question_id":9930446,"body_markdown":"Checkout [JGraph][1] as well. However it is oriented towards visualization. \r\n\r\nAlso, maybe [Apache Hama][2] - a distributed computing framework for massive scientific computations e.g., matrix, graph and network algorithms.\r\n\r\n[Annas][3] may also interest you - open-source Java framework that was built for developers and researchers in the fields of Graph Theory - AI, Path finding, distributed systems, etc.\r\n\r\n\r\n  [1]: http://www.jgraph.com/\r\n  [2]: http://incubator.apache.org/hama/\r\n  [3]: http://code.google.com/p/annas/","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>Checkout <a href=\"http://www.jgraph.com/\" rel=\"nofollow\">JGraph</a> as well. However it is oriented towards visualization. </p>\n\n<p>Also, maybe <a href=\"http://incubator.apache.org/hama/\" rel=\"nofollow\">Apache Hama</a> - a distributed computing framework for massive scientific computations e.g., matrix, graph and network algorithms.</p>\n\n<p><a href=\"http://code.google.com/p/annas/\" rel=\"nofollow\">Annas</a> may also interest you - open-source Java framework that was built for developers and researchers in the fields of Graph Theory - AI, Path finding, distributed systems, etc.</p>\n"},{"tags":[],"owner":{"account_id":1713786,"reputation":1100,"user_id":1571315,"display_name":"Aapo Kyrola"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1345846814,"creation_date":1345846814,"answer_id":12117376,"question_id":9930446,"body_markdown":"Cassovary https://github.com/twitter/cassovary -project from Twitter can handle very big graphs with Scala (thus JVM) in memory.\r\n\r\nAlternatively, GraphChi&#39;s Java version can handle even bigger graphs, by using disk: http://code.google.com/p/graphchi-java/ \r\n\r\nHowever, GraphChi will not be efficient for exact shortest-path type algorithms, as they require fast random access. ","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>Cassovary <a href=\"https://github.com/twitter/cassovary\" rel=\"nofollow\">https://github.com/twitter/cassovary</a> -project from Twitter can handle very big graphs with Scala (thus JVM) in memory.</p>\n\n<p>Alternatively, GraphChi's Java version can handle even bigger graphs, by using disk: <a href=\"http://code.google.com/p/graphchi-java/\" rel=\"nofollow\">http://code.google.com/p/graphchi-java/</a> </p>\n\n<p>However, GraphChi will not be efficient for exact shortest-path type algorithms, as they require fast random access. </p>\n"},{"tags":[],"owner":{"account_id":28911132,"reputation":1,"user_id":22144106,"display_name":"Lei Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687946913,"creation_date":1687946913,"answer_id":76572144,"question_id":9930446,"body_markdown":"My answer may be a bit late for the you, but for others who have similar questions, I would recommend using **[GraphScope][1]**, a one-stop graph computing system developed by Alibaba. It will meet your **needs for large-scale graphs**.\r\n\r\nIf you want to write your graph algorithm in Java, then you&#39;re in luck. GraphScope provides comprehensive Java support. You can use **[GRAPE-JDK][2]**&#39;s user-friendly Java interface to write **your own graph algorithms**.\r\n\r\nIn addition to the ease of use of the interface, **GRAPE-JDK** also provides high query performance. Using the LLVM4JNI technology provided by **[FastFFI][3]**, it can accelerate JNI calls between Java and C++, thus reducing program execution time. According to [performance report][4] provided by GraphScope, GRAPE-JDK can even provide execution efficiency that is close to that of C++ programs.\r\n\r\nIf you would like to learn more about **GRAPE-JDK**, please visit this blog post: [Breaking the Language Barrier in Large Scale Graph Computing][5].\r\n\r\nDisclaimer: I&#39;m an author of GraphScope.\r\n\r\n  [1]: https://graphscope.io/\r\n  [2]: https://github.com/alibaba/GraphScope/tree/main/analytical_engine/java\r\n  [3]: https://github.com/alibaba/fastFFI\r\n  [4]: https://github.com/alibaba/GraphScope/blob/main/analytical_engine/java/performance.md\r\n  [5]: https://graphscope.io/blog/tech/2023/06/19/Breaking-the-Language-Barrier-in-Large-Scale-Graph-Computing","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>My answer may be a bit late for the you, but for others who have similar questions, I would recommend using <strong><a href=\"https://graphscope.io/\" rel=\"nofollow noreferrer\">GraphScope</a></strong>, a one-stop graph computing system developed by Alibaba. It will meet your <strong>needs for large-scale graphs</strong>.</p>\n<p>If you want to write your graph algorithm in Java, then you're in luck. GraphScope provides comprehensive Java support. You can use <strong><a href=\"https://github.com/alibaba/GraphScope/tree/main/analytical_engine/java\" rel=\"nofollow noreferrer\">GRAPE-JDK</a></strong>'s user-friendly Java interface to write <strong>your own graph algorithms</strong>.</p>\n<p>In addition to the ease of use of the interface, <strong>GRAPE-JDK</strong> also provides high query performance. Using the LLVM4JNI technology provided by <strong><a href=\"https://github.com/alibaba/fastFFI\" rel=\"nofollow noreferrer\">FastFFI</a></strong>, it can accelerate JNI calls between Java and C++, thus reducing program execution time. According to <a href=\"https://github.com/alibaba/GraphScope/blob/main/analytical_engine/java/performance.md\" rel=\"nofollow noreferrer\">performance report</a> provided by GraphScope, GRAPE-JDK can even provide execution efficiency that is close to that of C++ programs.</p>\n<p>If you would like to learn more about <strong>GRAPE-JDK</strong>, please visit this blog post: <a href=\"https://graphscope.io/blog/tech/2023/06/19/Breaking-the-Language-Barrier-in-Large-Scale-Graph-Computing\" rel=\"nofollow noreferrer\">Breaking the Language Barrier in Large Scale Graph Computing</a>.</p>\n<p>Disclaimer: I'm an author of GraphScope.</p>\n"}],"owner":{"account_id":315231,"reputation":793,"user_id":630868,"accept_rate":96,"display_name":"Maltiriel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3557,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":9930542,"answer_count":4,"score":8,"last_activity_date":1687946913,"creation_date":1333042418,"question_id":9930446,"body_markdown":"I&#39;m working on a project which will involve running algorithms on large graphs.  The largest two have around 300k and 600k vertices (fairly sparse I think).  I&#39;m hoping to find a java library that can handle graphs that large, and also trees of a somewhat smaller size, as one of the algorithms I&#39;ll be using involves decomposing a graph into a tree.  Ideally the library would also include breadth first search and Dijkstra&#39;s or other shortest-path algorithms.\r\n\r\nBased on [another question][1], I&#39;ve been looking at a few libraries ([JGraphT][2], [JUNG][3], [jdsl][4], [yworks][5]) but I&#39;m having a hard time finding out how many vertices they can realistically handle.  Looking at their documentation, all I could find was a bit in the [JUNG FAQ][6] that said it could easily handle graphs of upwards of 150k vertices, which is still quite a bit smaller than my graphs...  I&#39;m hoping someone here has used one or more of these libraries and can tell me if it&#39;ll handle the graph sizes I need, or if there&#39;s some other library that would be better.\r\n\r\nFor the record I don&#39;t need any visualization tools; this is strictly about representing the graphs and trees in data structures and running algorithms on them.\r\n\r\nBackground if anyone really cares: for a class I&#39;m supposed to implement an algorithm described in a research paper, and run the experiments run in the paper as best I can.  The paper and datasets I&#39;ll be using can be found [here][7]. My professor says I can use any library I can find as long as I can tell what the time/space complexity of the algorithms/data structures are.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/51574/good-java-graph-algorithm-library\r\n  [2]: http://jgrapht.sourceforge.net/\r\n  [3]: http://jung.sourceforge.net/\r\n  [4]: http://www.cs.brown.edu/cgc/jdsl/\r\n  [5]: http://docs.yworks.com/yfiles/doc/api/\r\n  [6]: http://jung.sourceforge.net/faq.html#graphsize\r\n  [7]: http://dbis.informatik.uni-freiburg.de/index.php?project=TEDI","title":"Java library for storing and processing large (up to 600k vertices) graphs","body":"<p>I'm working on a project which will involve running algorithms on large graphs.  The largest two have around 300k and 600k vertices (fairly sparse I think).  I'm hoping to find a java library that can handle graphs that large, and also trees of a somewhat smaller size, as one of the algorithms I'll be using involves decomposing a graph into a tree.  Ideally the library would also include breadth first search and Dijkstra's or other shortest-path algorithms.</p>\n\n<p>Based on <a href=\"https://stackoverflow.com/questions/51574/good-java-graph-algorithm-library\">another question</a>, I've been looking at a few libraries (<a href=\"http://jgrapht.sourceforge.net/\" rel=\"nofollow noreferrer\">JGraphT</a>, <a href=\"http://jung.sourceforge.net/\" rel=\"nofollow noreferrer\">JUNG</a>, <a href=\"http://www.cs.brown.edu/cgc/jdsl/\" rel=\"nofollow noreferrer\">jdsl</a>, <a href=\"http://docs.yworks.com/yfiles/doc/api/\" rel=\"nofollow noreferrer\">yworks</a>) but I'm having a hard time finding out how many vertices they can realistically handle.  Looking at their documentation, all I could find was a bit in the <a href=\"http://jung.sourceforge.net/faq.html#graphsize\" rel=\"nofollow noreferrer\">JUNG FAQ</a> that said it could easily handle graphs of upwards of 150k vertices, which is still quite a bit smaller than my graphs...  I'm hoping someone here has used one or more of these libraries and can tell me if it'll handle the graph sizes I need, or if there's some other library that would be better.</p>\n\n<p>For the record I don't need any visualization tools; this is strictly about representing the graphs and trees in data structures and running algorithms on them.</p>\n\n<p>Background if anyone really cares: for a class I'm supposed to implement an algorithm described in a research paper, and run the experiments run in the paper as best I can.  The paper and datasets I'll be using can be found <a href=\"http://dbis.informatik.uni-freiburg.de/index.php?project=TEDI\" rel=\"nofollow noreferrer\">here</a>. My professor says I can use any library I can find as long as I can tell what the time/space complexity of the algorithms/data structures are.</p>\n"},{"tags":["java","docker","kubernetes","ssl-certificate"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687947179,"post_id":76572028,"comment_id":135007099,"body_markdown":"You could use a `Secret`, which basically is a `ConfigMap` with values encoded in base64.","body":"You could use a <code>Secret</code>, which basically is a <code>ConfigMap</code> with values encoded in base64."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1687954236,"post_id":76572028,"comment_id":135008475,"body_markdown":"&quot;I need to provide the public key&quot;: no you don&#39;t. The public key by itself proves nothing. You need to provide the entire certificate, and you need to make the `*private* key accessible to the code that sends the certificate.","body":"&quot;I need to provide the public key&quot;: no you don&#39;t. The public key by itself proves nothing. You need to provide the entire certificate, and you need to make the `*private* key accessible to the code that sends the certificate."}],"owner":{"account_id":9213198,"reputation":97,"user_id":15110545,"display_name":"user15110545"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687946149,"creation_date":1687946149,"question_id":76572028,"body_markdown":"In my org we have services that use self-signed SSL certificates. When I want to connect to these services from a dockerized Java application running on Kubernetes I need to provide the public key of those services to the Java TrustStore, otherwise I get a `SSLHandshakeException`.\r\n\r\nI see two options to provide those public keys to the Java TrustStore:\r\n\r\n1. Incorporate the public key in the Dockerfile\r\n2. Provide the public key as ConfigMap and mount it as a volume to a container (see [this answer][1])\r\n\r\nAre there any other options? In my opinion option 2 would be more flexible as I wouldn&#39;t have to rebuild the docker image when I need to replace the public key and I wouldn&#39;t have to modify all Dockerfiles of services that connect to the services with the self-signed certificates, or am I missing something?\r\n\r\n  [1]: https://stackoverflow.com/a/66669396/15110545","title":"Where to put public key of self-signed certifcate for application running on Kubernetes?","body":"<p>In my org we have services that use self-signed SSL certificates. When I want to connect to these services from a dockerized Java application running on Kubernetes I need to provide the public key of those services to the Java TrustStore, otherwise I get a <code>SSLHandshakeException</code>.</p>\n<p>I see two options to provide those public keys to the Java TrustStore:</p>\n<ol>\n<li>Incorporate the public key in the Dockerfile</li>\n<li>Provide the public key as ConfigMap and mount it as a volume to a container (see <a href=\"https://stackoverflow.com/a/66669396/15110545\">this answer</a>)</li>\n</ol>\n<p>Are there any other options? In my opinion option 2 would be more flexible as I wouldn't have to rebuild the docker image when I need to replace the public key and I wouldn't have to modify all Dockerfiles of services that connect to the services with the self-signed certificates, or am I missing something?</p>\n"},{"tags":["java","memory","optimization","dijkstra"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1522949650,"post_id":49678201,"comment_id":86368010,"body_markdown":"&quot;*Would using adjacency list be enough?*&quot; - Why not try? Generally, different graph representations are optimized for different kind of graphs. An adjacency list has linear space in N iff. the degree of all node is limited by a constant (e.g. &quot;no node has more than five connections&quot;).","body":"&quot;<i>Would using adjacency list be enough?</i>&quot; - Why not try? Generally, different graph representations are optimized for different kind of graphs. An adjacency list has linear space in N iff. the degree of all node is limited by a constant (e.g. &quot;no node has more than five connections&quot;)."},{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":0,"creation_date":1522953263,"post_id":49678201,"comment_id":86370021,"body_markdown":"The max number of nodes vs. the max number of edges tells me that an adjacency list is probably going to be more efficient here.  An adjacency matrix requires memory equal to the number of nodes squared, but thanks to your problem constraints you know that you are guaranteed to have no more than 50000 edges, which is only 2.5 times the number of nodes in the worst case.","body":"The max number of nodes vs. the max number of edges tells me that an adjacency list is probably going to be more efficient here.  An adjacency matrix requires memory equal to the number of nodes squared, but thanks to your problem constraints you know that you are guaranteed to have no more than 50000 edges, which is only 2.5 times the number of nodes in the worst case."},{"owner":{"account_id":7259460,"reputation":9,"user_id":5536807,"display_name":"Miner123"},"score":0,"creation_date":1522999497,"post_id":49678201,"comment_id":86386155,"body_markdown":"Thanks! Using adjacency list actually worked.","body":"Thanks! Using adjacency list actually worked."}],"answers":[{"tags":[],"owner":{"account_id":11680025,"reputation":25,"user_id":8552102,"display_name":"drop table"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522952169,"creation_date":1522952169,"answer_id":49678936,"question_id":49678201,"body_markdown":"I think that you&#39;ll have to find a better way to hold the graph information. This line:\r\n\r\n    long[][] graph = new long[computers+1][computers+1]\r\n\r\ncould take up to 20001*20001*8 bytes, that is 3GB!\r\n\r\nAs your net has few connections per node I&#39;d suggest storing the graph as a HashMap of HashMaps of connections:\r\n\r\n    class Connection {\r\n        int nodeA, nodeB;\r\n        long time;\r\n    }\r\n\r\n    HashMap&lt;Integer, HashMap&lt;Integer, Connection&gt;&gt; graph;\r\n\r\nIt may sound less efficient, but you are saving all the blank edges. Then you add the Connection to the graph indexed by both nodes (nodeA and nodeB):\r\n\r\n    void addConnection(Connection c)\r\n    {\r\n       HashMap&lt;Integer, Connection&gt; subgraph = graph.get(c.nodeA);\r\n       if(subgraph == null)\r\n           subgraph = new HashMap&lt;&gt;();\r\n       subgraph.put(c.nodeB, c);\r\n       \r\n       HashMap&lt;Integer, Connection&gt; subgraph = graph.get(c.nodeB);\r\n       if(subgraph == null)\r\n           subgraph = new HashMap&lt;&gt;();\r\n       subgraph.put(c.nodeA, c);\r\n    }\r\n\r\nAnd retrieve the connection descriptor like:\r\n\r\n    long getConnection(int nodeA, int nodeB)\r\n    {\r\n        ArrayList&lt;Connection&gt; subgraph = graph.get(nodeA);\r\n        if(subgraph == null)\r\n            return 0L;\r\n        Connection c = subgraph.get(nodeB);\r\n        if(c == null)\r\n            return 0L;\r\n        return c.time;\r\n    }\r\n\r\nThis should make your program slower but much more memory efficient.\r\n\r\nWARNING: The code is not tested, it&#39;s just for clarification.","title":"Dijkstra algorithm in weighted graph in Java with big graph","body":"<p>I think that you'll have to find a better way to hold the graph information. This line:</p>\n\n<pre><code>long[][] graph = new long[computers+1][computers+1]\n</code></pre>\n\n<p>could take up to 20001*20001*8 bytes, that is 3GB!</p>\n\n<p>As your net has few connections per node I'd suggest storing the graph as a HashMap of HashMaps of connections:</p>\n\n<pre><code>class Connection {\n    int nodeA, nodeB;\n    long time;\n}\n\nHashMap&lt;Integer, HashMap&lt;Integer, Connection&gt;&gt; graph;\n</code></pre>\n\n<p>It may sound less efficient, but you are saving all the blank edges. Then you add the Connection to the graph indexed by both nodes (nodeA and nodeB):</p>\n\n<pre><code>void addConnection(Connection c)\n{\n   HashMap&lt;Integer, Connection&gt; subgraph = graph.get(c.nodeA);\n   if(subgraph == null)\n       subgraph = new HashMap&lt;&gt;();\n   subgraph.put(c.nodeB, c);\n\n   HashMap&lt;Integer, Connection&gt; subgraph = graph.get(c.nodeB);\n   if(subgraph == null)\n       subgraph = new HashMap&lt;&gt;();\n   subgraph.put(c.nodeA, c);\n}\n</code></pre>\n\n<p>And retrieve the connection descriptor like:</p>\n\n<pre><code>long getConnection(int nodeA, int nodeB)\n{\n    ArrayList&lt;Connection&gt; subgraph = graph.get(nodeA);\n    if(subgraph == null)\n        return 0L;\n    Connection c = subgraph.get(nodeB);\n    if(c == null)\n        return 0L;\n    return c.time;\n}\n</code></pre>\n\n<p>This should make your program slower but much more memory efficient.</p>\n\n<p>WARNING: The code is not tested, it's just for clarification.</p>\n"},{"tags":[],"owner":{"account_id":28911132,"reputation":1,"user_id":22144106,"display_name":"Lei Zhang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687945483,"creation_date":1687945483,"answer_id":76571944,"question_id":49678201,"body_markdown":"When the size of the graph is large, in-memory single-machine computing methods often face **the embarrassment of OOM**. Instead of spending a lot of time on performance optimization, I recommend that you try some ready-made graph computing systems, such as **GraphScope**. GraphScope is a large-scale one-stop graph computing system open sourced by Alibaba, which can basically meet all your needs for graph computing\r\n\r\nSince you are more familiar with Java, why not try using **[GRAPE-JDK][1]** provided by GraphScope It provide a user-friendly Java API, and achieves performance comparable to c++ implementations for many graph algorithms.\r\nYou can make use of [the sample implementation of SSSP][2]. \r\n\r\nFor more information about **GRAPE-JDK**, please check this blog[Breaking the Language Barrier in Large Scale Graph Computing][3].\r\n\r\nDisclaimer: I&#39;m an author of GraphScope.\r\n\r\n\r\n\r\n  [1]: https://github.com/alibaba/GraphScope/tree/main/analytical_engine/java\r\n  [2]: https://github.com/GraphScope/gs-algos\r\n  [3]: https://graphscope.io/blog/tech/2023/06/19/Breaking-the-Language-Barrier-in-Large-Scale-Graph-Computing","title":"Dijkstra algorithm in weighted graph in Java with big graph","body":"<p>When the size of the graph is large, in-memory single-machine computing methods often face <strong>the embarrassment of OOM</strong>. Instead of spending a lot of time on performance optimization, I recommend that you try some ready-made graph computing systems, such as <strong>GraphScope</strong>. GraphScope is a large-scale one-stop graph computing system open sourced by Alibaba, which can basically meet all your needs for graph computing</p>\n<p>Since you are more familiar with Java, why not try using <strong><a href=\"https://github.com/alibaba/GraphScope/tree/main/analytical_engine/java\" rel=\"nofollow noreferrer\">GRAPE-JDK</a></strong> provided by GraphScope It provide a user-friendly Java API, and achieves performance comparable to c++ implementations for many graph algorithms.\nYou can make use of <a href=\"https://github.com/GraphScope/gs-algos\" rel=\"nofollow noreferrer\">the sample implementation of SSSP</a>.</p>\n<p>For more information about <strong>GRAPE-JDK</strong>, please check this blog<a href=\"https://graphscope.io/blog/tech/2023/06/19/Breaking-the-Language-Barrier-in-Large-Scale-Graph-Computing\" rel=\"nofollow noreferrer\">Breaking the Language Barrier in Large Scale Graph Computing</a>.</p>\n<p>Disclaimer: I'm an author of GraphScope.</p>\n"}],"owner":{"account_id":7259460,"reputation":9,"user_id":5536807,"display_name":"Miner123"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687945483,"creation_date":1522949387,"question_id":49678201,"body_markdown":"My task is to write a program to calculate shortest time it takes to go from node A(start) to node B(end) on a weighted graph(I&#39;m using dijkstra algorithm). \r\nTime requirement is 2 seconds on memory limit is 64 MB and I can assume that entered data is valid  \r\nFirst line has 4 whole numbers:   \r\nAmount of nodes M(2  M  20000)  \r\nAmount of edges(connections) N(0   N  50000)  \r\nStart node A(0  A &lt; M) and end node O (0O&lt;M).\r\n   \r\nNext N lines has connection info represented with three whole numbers:  \r\nconnected computers and the time between them in milliseconds(edge weight).\r\nMy code doesn&#39;t pass all the tests. If i test my code with a big graph then it fails as heap memory runs out(about 900MB on my machine).  \r\n**My problem**: How do i optimize my code so it fits into requirements?  \r\nWould using adjacency list be enough?  \r\nMy code is this:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n\r\n    public class Route3 {\r\n      public static int minDistance(ArrayList&lt;Long&gt; mindist, ArrayList&lt;Boolean&gt; visited){\r\n        long min = Long.MAX_VALUE;\r\n        int minindex = -1;\r\n        for (int i = 0; i &lt; mindist.size(); i++) {\r\n            if(!visited.get(i) &amp;&amp; (mindist.get(i) &lt;= min)) {\r\n                min = mindist.get(i);\r\n                minindex = i;\r\n            }\r\n        }\r\n        return minindex;\r\n    }\r\n    public static long dijkstra(long[][] graph, int start, int end) {\r\n        int computers = graph.length;\r\n        ArrayList&lt;Boolean&gt; traversed = new ArrayList&lt;&gt;(); //Hold traversed nodes\r\n        for (int i = 0; i &lt; computers; i++) {\r\n            traversed.add(i,false);\r\n        }\r\n        ArrayList&lt;Long&gt; mindist = new ArrayList&lt;&gt;(); //Holds mindistances to nodes based on index\r\n        for (int i = 0; i &lt; computers; i++) {\r\n            mindist.add(i,Long.MAX_VALUE);\r\n        }\r\n        mindist.set(start,(long)0);\r\n\r\n        for (int i = 0; i &lt; computers; i++) {\r\n            int min = minDistance(mindist,traversed);\r\n            if(min == -1) return mindist.get(end);\r\n            traversed.set(min,true);\r\n            if(min == end) return mindist.get(min) == Long.MAX_VALUE ? -1 : mindist.get(min); //Error check\r\n            for (int j = 0; j &lt; computers; j++) {\r\n                if(!traversed.get(j) &amp;&amp; graph[min][j] != 0 &amp;&amp; mindist.get(min) + graph[min][j] &lt; mindist.get(j)) {\r\n                    mindist.set(j,(mindist.get(min) + graph[min][j]));\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        return mindist.get(end) == Long.MAX_VALUE ? -1 : mindist.get(end);\r\n    }\r\n    public static void main(String[] args){\r\n        Scanner in = new Scanner(System.in);\r\n        int computers = in.nextInt(); //nodes\r\n        int connections = in.nextInt(); //edges\r\n        int start = in.nextInt();\r\n        int end = in.nextInt();\r\n\r\n        long[][] graph = new long[computers+1][computers+1];\r\n\r\n        for (int i = 0; i &lt; connections; i++) {\r\n            int x = in.nextInt();\r\n            int y = in.nextInt();\r\n            long t = in.nextLong();\r\n            graph[x][y] = t;\r\n            graph[y][x] = t;\r\n        }\r\n        if(connections == 0) {\r\n            System.out.println(-1);\r\n            System.exit(0);\r\n        }\r\n        long dist = dijkstra(graph,start,end);\r\n        if(dist != -1) System.out.println(dist);\r\n        else System.out.println(-1);\r\n     }\r\n    }\r\n\r\nAll help is appreciated!","title":"Dijkstra algorithm in weighted graph in Java with big graph","body":"<p>My task is to write a program to calculate shortest time it takes to go from node A(start) to node B(end) on a weighted graph(I'm using dijkstra algorithm). \nTime requirement is 2 seconds on memory limit is 64 MB and I can assume that entered data is valid<br>\nFirst line has 4 whole numbers:<br>\nAmount of nodes M(2  M  20000)<br>\nAmount of edges(connections) N(0   N  50000)<br>\nStart node A(0  A &lt; M) and end node O (0O&lt;M).</p>\n\n<p>Next N lines has connection info represented with three whole numbers:<br>\nconnected computers and the time between them in milliseconds(edge weight).\nMy code doesn't pass all the tests. If i test my code with a big graph then it fails as heap memory runs out(about 900MB on my machine).<br>\n<strong>My problem</strong>: How do i optimize my code so it fits into requirements?<br>\nWould using adjacency list be enough?<br>\nMy code is this:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class Route3 {\n  public static int minDistance(ArrayList&lt;Long&gt; mindist, ArrayList&lt;Boolean&gt; visited){\n    long min = Long.MAX_VALUE;\n    int minindex = -1;\n    for (int i = 0; i &lt; mindist.size(); i++) {\n        if(!visited.get(i) &amp;&amp; (mindist.get(i) &lt;= min)) {\n            min = mindist.get(i);\n            minindex = i;\n        }\n    }\n    return minindex;\n}\npublic static long dijkstra(long[][] graph, int start, int end) {\n    int computers = graph.length;\n    ArrayList&lt;Boolean&gt; traversed = new ArrayList&lt;&gt;(); //Hold traversed nodes\n    for (int i = 0; i &lt; computers; i++) {\n        traversed.add(i,false);\n    }\n    ArrayList&lt;Long&gt; mindist = new ArrayList&lt;&gt;(); //Holds mindistances to nodes based on index\n    for (int i = 0; i &lt; computers; i++) {\n        mindist.add(i,Long.MAX_VALUE);\n    }\n    mindist.set(start,(long)0);\n\n    for (int i = 0; i &lt; computers; i++) {\n        int min = minDistance(mindist,traversed);\n        if(min == -1) return mindist.get(end);\n        traversed.set(min,true);\n        if(min == end) return mindist.get(min) == Long.MAX_VALUE ? -1 : mindist.get(min); //Error check\n        for (int j = 0; j &lt; computers; j++) {\n            if(!traversed.get(j) &amp;&amp; graph[min][j] != 0 &amp;&amp; mindist.get(min) + graph[min][j] &lt; mindist.get(j)) {\n                mindist.set(j,(mindist.get(min) + graph[min][j]));\n            }\n\n        }\n\n    }\n    return mindist.get(end) == Long.MAX_VALUE ? -1 : mindist.get(end);\n}\npublic static void main(String[] args){\n    Scanner in = new Scanner(System.in);\n    int computers = in.nextInt(); //nodes\n    int connections = in.nextInt(); //edges\n    int start = in.nextInt();\n    int end = in.nextInt();\n\n    long[][] graph = new long[computers+1][computers+1];\n\n    for (int i = 0; i &lt; connections; i++) {\n        int x = in.nextInt();\n        int y = in.nextInt();\n        long t = in.nextLong();\n        graph[x][y] = t;\n        graph[y][x] = t;\n    }\n    if(connections == 0) {\n        System.out.println(-1);\n        System.exit(0);\n    }\n    long dist = dijkstra(graph,start,end);\n    if(dist != -1) System.out.println(dist);\n    else System.out.println(-1);\n }\n}\n</code></pre>\n\n<p>All help is appreciated!</p>\n"},{"tags":["java","gwt"],"comments":[{"owner":{"account_id":5679156,"reputation":5433,"user_id":4491066,"display_name":"Adam"},"score":0,"creation_date":1688483665,"post_id":76571882,"comment_id":135078795,"body_markdown":"Do you need to have multiple links in one cell? If so, is the number of links the same in each cell?","body":"Do you need to have multiple links in one cell? If so, is the number of links the same in each cell?"},{"owner":{"account_id":27981118,"reputation":15,"user_id":21368845,"display_name":"Prafull Jain"},"score":0,"creation_date":1688576957,"post_id":76571882,"comment_id":135093366,"body_markdown":"yes in the same cell, links are going to be same throughout...its just that based on some condition need to disable enable links","body":"yes in the same cell, links are going to be same throughout...its just that based on some condition need to disable enable links"}],"owner":{"account_id":27981118,"reputation":15,"user_id":21368845,"display_name":"Prafull Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687945081,"creation_date":1687945081,"question_id":76571882,"body_markdown":"I want to enable a link inside a column which in turn a part of grid.\r\n\r\nthis is how code looks\r\n\r\n```\r\nprivate ColumnModel&lt;XYZ&gt; getmodel(String screen){\r\n    List&lt;ColumnConfig&lt;XYZ, ? &gt;&gt; columnList = new ArrayList&lt;&gt;();\r\n    columnList.add(date);\r\n    .\r\n    .\r\n    .\r\n    columnList.add(linkCol);\r\n    linkCol.setCell(new AbstractCell&lt;String&gt;() {\r\n    \t@Override\r\n    \tpublic void render(Context context, String value, SafeHtmlBuilder sb) {\r\n    \t\tfinal int index = context.getIndex();\r\n    \t\tXYZ audit = store.get(index);\r\n    \t\tif(audit!=null) {\r\n    \t\t\tAnchor hyperLink = new Anchor(&quot;Link l1&quot;);\r\n    \t\t\thyperLink.addStyleName(&quot;hyperLinkCursor&quot;);\r\n    \t\t\tsb.appendHtmlConstant(hyperLink.toString());\r\n    \t\t\t\r\n    \t\t\thyperLink.addClickHandler(new ClickHandler() {\r\n    \t\t\t\t@Override\r\n    \t\t\t\tPublic void onClick(ClickEvent event) {\r\n    \t\t\t\t\tLOG,Fine(&quot;clicked on link1&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t});\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    });\r\n    return new ColumnModel&lt;&gt;(colunList);\r\n}\r\n```\r\nplease help, and if any more info required please let me know.\r\ni have been stuck on this thing since long\r\n\r\n\r\n\r\ninitially had click handler on cell, tried removing that.\r\nthe flow is not even going inside the handler method....dont know if this is the correct way to invoke a hyperlink or not.\r\n\r\ncant use click handler on the cell level, as there are going to be multiple links in the same column, and want to perform different actions on each different link clicks.","title":"How to enable and attach clickHandler event on a link in GWT","body":"<p>I want to enable a link inside a column which in turn a part of grid.</p>\n<p>this is how code looks</p>\n<pre><code>private ColumnModel&lt;XYZ&gt; getmodel(String screen){\n    List&lt;ColumnConfig&lt;XYZ, ? &gt;&gt; columnList = new ArrayList&lt;&gt;();\n    columnList.add(date);\n    .\n    .\n    .\n    columnList.add(linkCol);\n    linkCol.setCell(new AbstractCell&lt;String&gt;() {\n        @Override\n        public void render(Context context, String value, SafeHtmlBuilder sb) {\n            final int index = context.getIndex();\n            XYZ audit = store.get(index);\n            if(audit!=null) {\n                Anchor hyperLink = new Anchor(&quot;Link l1&quot;);\n                hyperLink.addStyleName(&quot;hyperLinkCursor&quot;);\n                sb.appendHtmlConstant(hyperLink.toString());\n                \n                hyperLink.addClickHandler(new ClickHandler() {\n                    @Override\n                    Public void onClick(ClickEvent event) {\n                        LOG,Fine(&quot;clicked on link1&quot;);\n                    }\n                });\n                \n            }\n        }\n    });\n    return new ColumnModel&lt;&gt;(colunList);\n}\n</code></pre>\n<p>please help, and if any more info required please let me know.\ni have been stuck on this thing since long</p>\n<p>initially had click handler on cell, tried removing that.\nthe flow is not even going inside the handler method....dont know if this is the correct way to invoke a hyperlink or not.</p>\n<p>cant use click handler on the cell level, as there are going to be multiple links in the same column, and want to perform different actions on each different link clicks.</p>\n"},{"tags":["java","jvm","benchmarking","jvm-hotspot","microbenchmark"],"comments":[{"owner":{"account_id":22429,"reputation":9517,"user_id":55283,"accept_rate":100,"display_name":"Tiago"},"score":0,"creation_date":1296569230,"post_id":504103,"comment_id":5404785,"body_markdown":"See [this question][1] from a few minutes ago for some related info.\r\n\r\nedit: sorry, this is not supposed to be a answer. I should&#39;ve posted as a comment.\r\n\r\n  [1]: http://stackoverflow.com/questions/503877/how-can-i-measure-time-with-microsecond-precision-in-java","body":"See [this question][1] from a few minutes ago for some related info.    edit: sorry, this is not supposed to be a answer. I should&#39;ve posted as a comment.      [1]: <a href=\"http://stackoverflow.com/questions/503877/how-can-i-measure-time-with-microsecond-precision-in-java\" title=\"how can i measure time with microsecond precision in java\">stackoverflow.com/questions/503877/&hellip;</a>"},{"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"score":0,"creation_date":1296569230,"post_id":504103,"comment_id":5404786,"body_markdown":"It was after planning to refer the poster of that question to a question like this that I noted that this question didn&#39;t exists. So here it is, hopefully it will assemble some good tips over time.","body":"It was after planning to refer the poster of that question to a question like this that I noted that this question didn&#39;t exists. So here it is, hopefully it will assemble some good tips over time."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":6,"creation_date":1431509625,"post_id":504103,"comment_id":48526263,"body_markdown":"Java 9 might provide some features for micro-benchmarking: http://openjdk.java.net/jeps/230","body":"Java 9 might provide some features for micro-benchmarking: <a href=\"http://openjdk.java.net/jeps/230\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/230</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1448986296,"post_id":504103,"comment_id":55805039,"body_markdown":"@Raedwald I think that that JEP aims to add some micro benchmark to the JDK code, but I don&#39;t think that jmh will be included in the JDK...","body":"@Raedwald I think that that JEP aims to add some micro benchmark to the JDK code, but I don&#39;t think that jmh will be included in the JDK..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1467413305,"post_id":504103,"comment_id":63738773,"body_markdown":"Likely duplicate: [How do I time a method&#39;s execution in Java?](http://stackoverflow.com/q/180158/642706)","body":"Likely duplicate: <a href=\"http://stackoverflow.com/q/180158/642706\">How do I time a method&#39;s execution in Java?</a>"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1505318620,"post_id":504103,"comment_id":79367155,"body_markdown":"@Raedwald Hello from the future. [It didn&#39;t make the cut](http://openjdk.java.net/projects/jdk9/).","body":"@Raedwald Hello from the future. <a href=\"http://openjdk.java.net/projects/jdk9/\" rel=\"nofollow noreferrer\">It didn&#39;t make the cut</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1515476619,"post_id":504103,"comment_id":83303481,"body_markdown":"See: [*JMH, a Java harness for building, running, and analysing nano/micro/milli/macro benchmarks*](http://openjdk.java.net/projects/code-tools/jmh/) and [*JEP 230: Microbenchmark Suite*](http://openjdk.java.net/jeps/230) and duplicate Question [*Best approach for dealing with time measures?*](https://stackoverflow.com/q/37067929/642706).","body":"See: <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\"><i>JMH, a Java harness for building, running, and analysing nano/micro/milli/macro benchmarks</i></a> and <a href=\"http://openjdk.java.net/jeps/230\" rel=\"nofollow noreferrer\"><i>JEP 230: Microbenchmark Suite</i></a> and duplicate Question <a href=\"https://stackoverflow.com/q/37067929/642706\"><i>Best approach for dealing with time measures?</i></a>."}],"answers":[{"comments":[{"owner":{"account_id":66010,"reputation":22927,"user_id":193906,"display_name":"Sanjay T. Sharma"},"score":3,"creation_date":1366440726,"post_id":504119,"comment_id":23019378,"body_markdown":"Minor nitpick: IMO &quot;so that each test gets&quot; should be &quot;so that each test might get&quot; since the former gives the impression that calling `gc` *always* frees up unused memory.","body":"Minor nitpick: IMO &quot;so that each test gets&quot; should be &quot;so that each test might get&quot; since the former gives the impression that calling <code>gc</code> <i>always</i> frees up unused memory."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1366444938,"post_id":504119,"comment_id":23020256,"body_markdown":"@SanjayT.Sharma: Well, the *intention* is that it actually does. While it&#39;s not strictly guaranteed, it&#39;s actually a pretty strong hint. Will edit to be clearer.","body":"@SanjayT.Sharma: Well, the <i>intention</i> is that it actually does. While it&#39;s not strictly guaranteed, it&#39;s actually a pretty strong hint. Will edit to be clearer."},{"owner":{"account_id":945625,"reputation":2558,"user_id":972932,"accept_rate":66,"display_name":"gyorgyabraham"},"score":2,"creation_date":1371206296,"post_id":504119,"comment_id":24748322,"body_markdown":"I don&#39;t agree with calling System.gc(). It is a hint, that&#39;s all. Not even &quot;it will hopefully do something&quot;. You should never ever call it. This is programming, not art.","body":"I don&#39;t agree with calling System.gc(). It is a hint, that&#39;s all. Not even &quot;it will hopefully do something&quot;. You should never ever call it. This is programming, not art."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":16,"creation_date":1371207532,"post_id":504119,"comment_id":24748899,"body_markdown":"@gyabraham: Yes, it&#39;s a hint - but it&#39;s one which I&#39;ve observed to usually be taken. So if you don&#39;t like using `System.gc()`, how do you propose to minimize garbage collection in one test due to objects created in previous tests? I&#39;m pragmatic, not dogmatic.","body":"@gyabraham: Yes, it&#39;s a hint - but it&#39;s one which I&#39;ve observed to usually be taken. So if you don&#39;t like using <code>System.gc()</code>, how do you propose to minimize garbage collection in one test due to objects created in previous tests? I&#39;m pragmatic, not dogmatic."},{"owner":{"account_id":945625,"reputation":2558,"user_id":972932,"accept_rate":66,"display_name":"gyorgyabraham"},"score":0,"creation_date":1371231725,"post_id":504119,"comment_id":24762253,"body_markdown":"Your benchmark&#39;s deterministic property suffers great fallback. Thats all.","body":"Your benchmark&#39;s deterministic property suffers great fallback. Thats all."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":11,"creation_date":1371231874,"post_id":504119,"comment_id":24762323,"body_markdown":"@gyabraham: I don&#39;t know what you mean by &quot;great fallback&quot;. Can you elaborate, and again - do you have a proposal to give better results? I did explicitly say that it&#39;s not a guarantee...","body":"@gyabraham: I don&#39;t know what you mean by &quot;great fallback&quot;. Can you elaborate, and again - do you have a proposal to give better results? I did explicitly say that it&#39;s not a guarantee..."},{"owner":{"account_id":5541357,"reputation":3016,"user_id":4397753,"accept_rate":94,"display_name":"Jenix"},"score":0,"creation_date":1525952903,"post_id":504119,"comment_id":87561387,"body_markdown":"I&#39;m very interested in your &quot;blog about the design of a benchmarking framework in .NET&quot;. Where can I find it? Also want to know if Stopwatch class is the best built-in way in C# which must work monotonically and fast.","body":"I&#39;m very interested in your &quot;blog about the design of a benchmarking framework in .NET&quot;. Where can I find it? Also want to know if Stopwatch class is the best built-in way in C# which must work monotonically and fast."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1525963094,"post_id":504119,"comment_id":87567469,"body_markdown":"@Jenix: I don&#39;t remember whether I wrote up that blog post or not, but https://github.com/dotnet/BenchmarkDotNet is the tool to use.","body":"@Jenix: I don&#39;t remember whether I wrote up that blog post or not, but <a href=\"https://github.com/dotnet/BenchmarkDotNet\" rel=\"nofollow noreferrer\">github.com/dotnet/BenchmarkDotNet</a> is the tool to use."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1648850339,"post_id":504119,"comment_id":126737118,"body_markdown":"If you really want to free all memory, run system.gc() 3 times (Preferably with some freetime in the middle).  Three runs seems to always bring it down to the same value, indicating it&#39;s pretty reliable.","body":"If you really want to free all memory, run system.gc() 3 times (Preferably with some freetime in the middle).  Three runs seems to always bring it down to the same value, indicating it&#39;s pretty reliable."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":9,"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1553324853,"creation_date":1233596819,"answer_id":504119,"question_id":504103,"body_markdown":"Important things for Java benchmarks are:\r\n\r\n - Warm up the JIT first by running the code several times **before timing** it\r\n - Make sure you run it for long enough to be able to measure the results in seconds or (better) tens of seconds\r\n - While you can&#39;t call `System.gc()` between iterations, it&#39;s a good idea to run it between tests, so that each test will hopefully get a &quot;clean&quot; memory space to work with. (Yes, `gc()` is more of a hint than a guarantee, but it&#39;s very *likely* that it really will garbage collect in my experience.)\r\n - I like to display iterations and time, and a score of time/iteration which can be scaled such that the &quot;best&quot; algorithm gets a score of 1.0 and others are scored in a relative fashion. This means you can run *all* algorithms for a longish time, varying both number of iterations and time, but still getting comparable results.\r\n\r\nI&#39;m just in the process of blogging about the design of a benchmarking framework in .NET. I&#39;ve got a [couple][1] of [earlier posts][2] which may be able to give you some ideas - not everything will be appropriate, of course, but some of it may be.\r\n\r\n\r\n  [1]: http://msmvps.com/blogs/jon_skeet/archive/2009/01/26/benchmarking-made-easy.aspx\r\n  [2]: http://msmvps.com/blogs/jon_skeet/archive/2009/01/29/for-vs-foreach-on-arrays-and-lists.aspx","title":"How do I write a correct micro-benchmark in Java?","body":"<p>Important things for Java benchmarks are:</p>\n\n<ul>\n<li>Warm up the JIT first by running the code several times <strong>before timing</strong> it</li>\n<li>Make sure you run it for long enough to be able to measure the results in seconds or (better) tens of seconds</li>\n<li>While you can't call <code>System.gc()</code> between iterations, it's a good idea to run it between tests, so that each test will hopefully get a \"clean\" memory space to work with. (Yes, <code>gc()</code> is more of a hint than a guarantee, but it's very <em>likely</em> that it really will garbage collect in my experience.)</li>\n<li>I like to display iterations and time, and a score of time/iteration which can be scaled such that the \"best\" algorithm gets a score of 1.0 and others are scored in a relative fashion. This means you can run <em>all</em> algorithms for a longish time, varying both number of iterations and time, but still getting comparable results.</li>\n</ul>\n\n<p>I'm just in the process of blogging about the design of a benchmarking framework in .NET. I've got a <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2009/01/26/benchmarking-made-easy.aspx\" rel=\"noreferrer\">couple</a> of <a href=\"http://msmvps.com/blogs/jon_skeet/archive/2009/01/29/for-vs-foreach-on-arrays-and-lists.aspx\" rel=\"noreferrer\">earlier posts</a> which may be able to give you some ideas - not everything will be appropriate, of course, but some of it may be.</p>\n"},{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1245756775,"creation_date":1233596819,"answer_id":504120,"question_id":504103,"body_markdown":"There are many possible pitfalls for writing micro-benchmarks in Java.\r\n\r\nFirst: You have to calculate with all sorts of events that take time more or less random: Garbage collection, caching effects (of OS for files and of CPU for memory), IO etc.\r\n\r\nSecond: You cannot trust the accuracy of the measured times for very short intervals.\r\n\r\nThird: The JVM optimizes your code while executing. So different runs in the same JVM-instance will become faster and faster.\r\n\r\nMy recommendations: Make your benchmark run some seconds, that is more reliable than a runtime over milliseconds. Warm up the JVM (means running the benchmark at least once without measuring, that the JVM can run optimizations). And run your benchmark multiple times (maybe 5 times) and take the median-value. Run every micro-benchmark in a new JVM-instance (call for every benchmark new Java) otherwise optimization effects of the JVM can influence later running tests. Don&#39;t execute things, that aren&#39;t executed in the warmup-phase (as this could trigger class-load and recompilation).","title":"How do I write a correct micro-benchmark in Java?","body":"<p>There are many possible pitfalls for writing micro-benchmarks in Java.</p>\n\n<p>First: You have to calculate with all sorts of events that take time more or less random: Garbage collection, caching effects (of OS for files and of CPU for memory), IO etc.</p>\n\n<p>Second: You cannot trust the accuracy of the measured times for very short intervals.</p>\n\n<p>Third: The JVM optimizes your code while executing. So different runs in the same JVM-instance will become faster and faster.</p>\n\n<p>My recommendations: Make your benchmark run some seconds, that is more reliable than a runtime over milliseconds. Warm up the JVM (means running the benchmark at least once without measuring, that the JVM can run optimizations). And run your benchmark multiple times (maybe 5 times) and take the median-value. Run every micro-benchmark in a new JVM-instance (call for every benchmark new Java) otherwise optimization effects of the JVM can influence later running tests. Don't execute things, that aren't executed in the warmup-phase (as this could trigger class-load and recompilation).</p>\n"},{"comments":[{"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"score":6,"creation_date":1233597863,"post_id":504162,"comment_id":318932,"body_markdown":"Naturally changing the order influences the runtime. JVM-optimizations and caching-effects are going to work here. Better is to &#39;warm up&#39; the JVM-optimization, mak multiple runs and benchmark every test in a different JVM.","body":"Naturally changing the order influences the runtime. JVM-optimizations and caching-effects are going to work here. Better is to &#39;warm up&#39; the JVM-optimization, mak multiple runs and benchmark every test in a different JVM."},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1648850186,"post_id":504162,"comment_id":126737080,"body_markdown":"Actually I&#39;d say that for most benchmarking you want the warmed-up version, I&#39;d suggest that if you are running for 10 seconds (as per above recommendation), you only count the last 5 seconds--throw out the first 5.  Remember that java compiles code at some point.","body":"Actually I&#39;d say that for most benchmarking you want the warmed-up version, I&#39;d suggest that if you are running for 10 seconds (as per above recommendation), you only count the last 5 seconds--throw out the first 5.  Remember that java compiles code at some point."}],"tags":[],"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"comment_count":2,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1553325105,"creation_date":1233597421,"answer_id":504162,"question_id":504103,"body_markdown":"If you are trying to compare two algorithms, do at least two benchmarks for each, alternating the order.  i.e.:\r\n\r\n    for(i=1..n)\r\n      alg1();\r\n    for(i=1..n)\r\n      alg2();\r\n    for(i=1..n)\r\n      alg2();\r\n    for(i=1..n)\r\n      alg1();\r\n\r\nI have found some noticeable differences (5-10% sometimes) in the runtime of the same algorithm in different passes..\r\n\r\nAlso, make sure that *n* is very large, so that the runtime of each loop is at the very least 10 seconds or so.  The more iterations, the more significant figures in your benchmark time and the more reliable that data is.","title":"How do I write a correct micro-benchmark in Java?","body":"<p>If you are trying to compare two algorithms, do at least two benchmarks for each, alternating the order.  i.e.:</p>\n\n<pre><code>for(i=1..n)\n  alg1();\nfor(i=1..n)\n  alg2();\nfor(i=1..n)\n  alg2();\nfor(i=1..n)\n  alg1();\n</code></pre>\n\n<p>I have found some noticeable differences (5-10% sometimes) in the runtime of the same algorithm in different passes..</p>\n\n<p>Also, make sure that <em>n</em> is very large, so that the runtime of each loop is at the very least 10 seconds or so.  The more iterations, the more significant figures in your benchmark time and the more reliable that data is.</p>\n"},{"tags":[],"owner":{"account_id":19947,"reputation":32593,"user_id":47190,"accept_rate":80,"display_name":"Peter tibran&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1233597610,"creation_date":1233597610,"answer_id":504172,"question_id":504103,"body_markdown":"Make sure you somehow use results which are computed in benchmarked code. Otherwise your code can be optimized away.","title":"How do I write a correct micro-benchmark in Java?","body":"<p>Make sure you somehow use results which are computed in benchmarked code. Otherwise your code can be optimized away.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1553325051,"creation_date":1233604475,"answer_id":504632,"question_id":504103,"body_markdown":"&gt; Should the benchmark measure time/iteration or iterations/time, and why?\r\n\r\nIt depends on **what** you are trying to test.  \r\n\r\nIf you are interested in **latency**, use time/iteration and if you are interested in **throughput**, use iterations/time.","title":"How do I write a correct micro-benchmark in Java?","body":"<blockquote>\n  <p>Should the benchmark measure time/iteration or iterations/time, and why?</p>\n</blockquote>\n\n<p>It depends on <strong>what</strong> you are trying to test.  </p>\n\n<p>If you are interested in <strong>latency</strong>, use time/iteration and if you are interested in <strong>throughput</strong>, use iterations/time.</p>\n"},{"comments":[{"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"score":5,"creation_date":1278800981,"post_id":513259,"comment_id":3323001,"body_markdown":"This was also an interesting article: http://www.ibm.com/developerworks/java/library/j-jtp12214/","body":"This was also an interesting article: <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp12214/\" rel=\"nofollow noreferrer\">ibm.com/developerworks/java/library/j-jtp12214</a>"},{"owner":{"account_id":700283,"reputation":1607,"user_id":589907,"display_name":"Scott Carey"},"score":162,"creation_date":1303497786,"post_id":513259,"comment_id":6593773,"body_markdown":"Also, never use System.currentTimeMillis() unless you are OK with + or - 15 ms accuracy, which is typical on most OS + JVM combinations.  Use System.nanoTime() instead.","body":"Also, never use System.currentTimeMillis() unless you are OK with + or - 15 ms accuracy, which is typical on most OS + JVM combinations.  Use System.nanoTime() instead."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":5,"creation_date":1307276979,"post_id":513259,"comment_id":7277852,"body_markdown":"Some paper from javaOne: http://www.azulsystems.com/events/javaone_2009/session/2009_J1_Benchmark.pdf","body":"Some paper from javaOne: <a href=\"http://www.azulsystems.com/events/javaone_2009/session/2009_J1_Benchmark.pdf\" rel=\"nofollow noreferrer\">azulsystems.com/events/javaone_2009/session/&hellip;</a>"},{"owner":{"account_id":451433,"reputation":2706,"user_id":847333,"accept_rate":73,"display_name":"Gravity"},"score":109,"creation_date":1311753600,"post_id":513259,"comment_id":8131770,"body_markdown":"It should be noted that `System.nanoTime()` is not _guaranteed_ to be more accurate than `System.currentTimeMillis()`.  It is only guaranteed to be at least as accurate.  It usually is substantially more accurate, however.","body":"It should be noted that <code>System.nanoTime()</code> is not <i>guaranteed</i> to be more accurate than <code>System.currentTimeMillis()</code>.  It is only guaranteed to be at least as accurate.  It usually is substantially more accurate, however."},{"owner":{"account_id":203255,"reputation":10399,"user_id":450811,"accept_rate":77,"display_name":"Waldheinz"},"score":50,"creation_date":1426503108,"post_id":513259,"comment_id":46383615,"body_markdown":"The main reason why one must use `System.nanoTime()` instead of `System.currentTimeMillis()` is that the former is guaranteed to be monotonically increasing. Subtracting the values returned two `currentTimeMillis` invocations can actually give negative results, possibly because the system time was adjusted by some NTP daemon.","body":"The main reason why one must use <code>System.nanoTime()</code> instead of <code>System.currentTimeMillis()</code> is that the former is guaranteed to be monotonically increasing. Subtracting the values returned two <code>currentTimeMillis</code> invocations can actually give negative results, possibly because the system time was adjusted by some NTP daemon."},{"owner":{"account_id":45983,"reputation":1557,"user_id":135740,"accept_rate":74,"display_name":"CaptainHastings"},"score":1,"creation_date":1489692949,"post_id":513259,"comment_id":72795420,"body_markdown":"Be aware that your bench-marking results will be misleading unless you account for &quot;co-ordinated omissions&quot;. https://groups.google.com/forum/#!msg/mechanical-sympathy/icNZJejUHfE/BfDekfBEs_sJ","body":"Be aware that your bench-marking results will be misleading unless you account for &quot;co-ordinated omissions&quot;. <a href=\"https://groups.google.com/forum/#!msg/mechanical-sympathy/icNZJejUHfE/BfDekfBEs_sJ\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!msg/mechanical-sympathy/icNZJejUHf&zwnj;&#8203;E/&hellip;</a>"}],"tags":[],"owner":{"display_name":"Eugene Kuleshov"},"comment_count":6,"down_vote_count":1,"up_vote_count":868,"is_accepted":true,"score":867,"last_activity_date":1687944975,"creation_date":1233780568,"answer_id":513259,"question_id":504103,"body_markdown":"Tips about writing micro benchmarks [from the creators of Java HotSpot][1]:\r\n\r\n**Rule 0:** Read a reputable paper on JVMs and micro-benchmarking. A good one is [Brian Goetz, 2005][2]. Do not expect too much from micro-benchmarks; they measure only a limited range of JVM performance characteristics.\r\n\r\n**Rule 1:** Always include a warmup phase which runs your test kernel all the way through, enough to trigger all initializations and compilations before timing phase(s). (Fewer iterations is OK on the warmup phase. The rule of thumb is several tens of thousands of inner loop iterations.)\r\n\r\n**Rule 2:** Always run with `-XX:+PrintCompilation`, `-verbose:gc`, etc., so you can verify that the compiler and other parts of the JVM are not doing unexpected work during your timing phase.\r\n\r\n**Rule 2.1:** Print messages at the beginning and end of timing and warmup phases, so you can verify that there is no output from Rule 2 during the timing phase.\r\n\r\n**Rule 3:** Be aware of the difference between `-client` and `-server`, and OSR and regular compilations. The `-XX:+PrintCompilation` flag reports OSR compilations with an at-sign to denote the non-initial entry point, for example: `Trouble$1::run @ 2 (41 bytes)`. Prefer server to client, and regular to OSR, if you are after best performance.\r\n\r\n**Rule 4:** Be aware of initialization effects. Do not print for the first time during your timing phase, since printing loads and initializes classes. Do not load new classes outside of the warmup phase (or final reporting phase), unless you are testing class loading specifically (and in that case load only the test classes). Rule 2 is your first line of defense against such effects.\r\n\r\n**Rule 5:** Be aware of deoptimization and recompilation effects. Do not take any code path for the first time in the timing phase, because the compiler may junk and recompile the code, based on an earlier optimistic assumption that the path was not going to be used at all. Rule 2 is your first line of defense against such effects.\r\n\r\n**Rule 6:** Use appropriate tools to read the compiler&#39;s mind, and expect to be surprised by the code it produces. Inspect the code yourself before forming theories about what makes something faster or slower.\r\n\r\n**Rule 7:** Reduce noise in your measurements. Run your benchmark on a quiet machine, and run it several times, discarding outliers. Use `-Xbatch` to serialize the compiler with the application, and consider setting `-XX:CICompilerCount=1` to prevent the compiler from running in parallel with itself. Try your best to reduce GC overhead, set `Xmx`(large enough) equals `Xms` and use [`UseEpsilonGC`][6] if it is available.\r\n\r\n**Rule 8:** Use a library for your benchmark as it is probably more efficient and was already debugged for this sole purpose. Such as [JMH][5], [Caliper][3] or [Bill and Paul&#39;s Excellent UCSD Benchmarks for Java][4].  \r\n\r\n\r\n  [1]: https://wiki.openjdk.java.net/display/HotSpot/Main\r\n  [2]: https://web.archive.org/web/20200606234821/https://www.ibm.com/developerworks/java/library/j-jtp02225/\r\n  [3]: https://github.com/google/caliper\r\n  [4]: http://cseweb.ucsd.edu/users/wgg/JavaProf/javaprof.html\r\n  [5]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [6]: http://openjdk.java.net/jeps/318\r\n","title":"How do I write a correct micro-benchmark in Java?","body":"<p>Tips about writing micro benchmarks <a href=\"https://wiki.openjdk.java.net/display/HotSpot/Main\" rel=\"nofollow noreferrer\">from the creators of Java HotSpot</a>:</p>\n<p><strong>Rule 0:</strong> Read a reputable paper on JVMs and micro-benchmarking. A good one is <a href=\"https://web.archive.org/web/20200606234821/https://www.ibm.com/developerworks/java/library/j-jtp02225/\" rel=\"nofollow noreferrer\">Brian Goetz, 2005</a>. Do not expect too much from micro-benchmarks; they measure only a limited range of JVM performance characteristics.</p>\n<p><strong>Rule 1:</strong> Always include a warmup phase which runs your test kernel all the way through, enough to trigger all initializations and compilations before timing phase(s). (Fewer iterations is OK on the warmup phase. The rule of thumb is several tens of thousands of inner loop iterations.)</p>\n<p><strong>Rule 2:</strong> Always run with <code>-XX:+PrintCompilation</code>, <code>-verbose:gc</code>, etc., so you can verify that the compiler and other parts of the JVM are not doing unexpected work during your timing phase.</p>\n<p><strong>Rule 2.1:</strong> Print messages at the beginning and end of timing and warmup phases, so you can verify that there is no output from Rule 2 during the timing phase.</p>\n<p><strong>Rule 3:</strong> Be aware of the difference between <code>-client</code> and <code>-server</code>, and OSR and regular compilations. The <code>-XX:+PrintCompilation</code> flag reports OSR compilations with an at-sign to denote the non-initial entry point, for example: <code>Trouble$1::run @ 2 (41 bytes)</code>. Prefer server to client, and regular to OSR, if you are after best performance.</p>\n<p><strong>Rule 4:</strong> Be aware of initialization effects. Do not print for the first time during your timing phase, since printing loads and initializes classes. Do not load new classes outside of the warmup phase (or final reporting phase), unless you are testing class loading specifically (and in that case load only the test classes). Rule 2 is your first line of defense against such effects.</p>\n<p><strong>Rule 5:</strong> Be aware of deoptimization and recompilation effects. Do not take any code path for the first time in the timing phase, because the compiler may junk and recompile the code, based on an earlier optimistic assumption that the path was not going to be used at all. Rule 2 is your first line of defense against such effects.</p>\n<p><strong>Rule 6:</strong> Use appropriate tools to read the compiler's mind, and expect to be surprised by the code it produces. Inspect the code yourself before forming theories about what makes something faster or slower.</p>\n<p><strong>Rule 7:</strong> Reduce noise in your measurements. Run your benchmark on a quiet machine, and run it several times, discarding outliers. Use <code>-Xbatch</code> to serialize the compiler with the application, and consider setting <code>-XX:CICompilerCount=1</code> to prevent the compiler from running in parallel with itself. Try your best to reduce GC overhead, set <code>Xmx</code>(large enough) equals <code>Xms</code> and use <a href=\"http://openjdk.java.net/jeps/318\" rel=\"nofollow noreferrer\"><code>UseEpsilonGC</code></a> if it is available.</p>\n<p><strong>Rule 8:</strong> Use a library for your benchmark as it is probably more efficient and was already debugged for this sole purpose. Such as <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">JMH</a>, <a href=\"https://github.com/google/caliper\" rel=\"nofollow noreferrer\">Caliper</a> or <a href=\"http://cseweb.ucsd.edu/users/wgg/JavaProf/javaprof.html\" rel=\"nofollow noreferrer\">Bill and Paul's Excellent UCSD Benchmarks for Java</a>.</p>\n"},{"comments":[{"owner":{"account_id":76118,"reputation":1539,"user_id":218139,"display_name":"Stefan L"},"score":2,"creation_date":1330553131,"post_id":4480713,"comment_id":12040121,"body_markdown":"Seems to just benchmark the JVM + hardware, not an arbitrary piece of Java code.","body":"Seems to just benchmark the JVM + hardware, not an arbitrary piece of Java code."}],"tags":[],"owner":{"account_id":688916,"reputation":87,"user_id":547330,"display_name":"Yuriy"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1292714531,"creation_date":1292714531,"answer_id":4480713,"question_id":504103,"body_markdown":"http://opt.sourceforge.net/ Java Micro Benchmark - control tasks required to determine the comparative performance characteristics of the computer system on different platforms. Can be used to guide optimization decisions and to compare different Java implementations.","title":"How do I write a correct micro-benchmark in Java?","body":"<p><a href=\"http://opt.sourceforge.net/\" rel=\"noreferrer\">http://opt.sourceforge.net/</a> Java Micro Benchmark - control tasks required to determine the comparative performance characteristics of the computer system on different platforms. Can be used to guide optimization decisions and to compare different Java implementations.</p>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":42,"creation_date":1354838305,"post_id":4480774,"comment_id":18904622,"body_markdown":"+1 it could have been added as Rule 8 of the accepted answer: Rule 8: because so many things can go wrong, you should probably use an existing library rather than trying to do it yourself!","body":"+1 it could have been added as Rule 8 of the accepted answer: Rule 8: because so many things can go wrong, you should probably use an existing library rather than trying to do it yourself!"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":9,"creation_date":1449136154,"post_id":4480774,"comment_id":55878483,"body_markdown":"@Pangea jmh is probably superior to Caliper nowadays, See also: https://groups.google.com/forum/#!msg/mechanical-sympathy/m4opvy4xq3U/7lY8x8SvHgwJ","body":"@Pangea jmh is probably superior to Caliper nowadays, See also: <a href=\"https://groups.google.com/forum/#!msg/mechanical-sympathy/m4opvy4xq3U/7lY8x8SvHgwJ\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!msg/mechanical-sympathy/m4opvy4xq3&zwnj;&#8203;U/&hellip;</a>"}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":2,"down_vote_count":0,"up_vote_count":262,"is_accepted":false,"score":262,"last_activity_date":1601302998,"creation_date":1292715307,"answer_id":4480774,"question_id":504103,"body_markdown":"I know this question has been marked as answered but I wanted to mention two libraries that help us to write micro benchmarks\r\n\r\n**[Caliper from Google][1]**\r\n\r\n*Getting started tutorials*\r\n\r\n1. http://codingjunkie.net/micro-benchmarking-with-caliper/\r\n2. http://vertexlabs.co.uk/blog/caliper\r\n\r\n**[JMH from OpenJDK][2]**\r\n\r\n*Getting started tutorials*\r\n\r\n1. [Avoiding Benchmarking Pitfalls on the JVM][3]\r\n2. [Using JMH for Java Microbenchmarking][4]\r\n3. [Introduction to JMH][5]\r\n\r\n\r\n  [1]: https://github.com/google/caliper\r\n  [2]: http://openjdk.java.net/projects/code-tools/jmh/\r\n  [3]: http://www.oracle.com/technetwork/articles/java/architect-benchmarking-2266277.html\r\n  [4]: http://nitschinger.at/Using-JMH-for-Java-Microbenchmarking\r\n  [5]: https://web.archive.org/web/20181018130828/http://java-performance.info:80/jmh","title":"How do I write a correct micro-benchmark in Java?","body":"<p>I know this question has been marked as answered but I wanted to mention two libraries that help us to write micro benchmarks</p>\n<p><strong><a href=\"https://github.com/google/caliper\" rel=\"noreferrer\">Caliper from Google</a></strong></p>\n<p><em>Getting started tutorials</em></p>\n<ol>\n<li><a href=\"http://codingjunkie.net/micro-benchmarking-with-caliper/\" rel=\"noreferrer\">http://codingjunkie.net/micro-benchmarking-with-caliper/</a></li>\n<li><a href=\"http://vertexlabs.co.uk/blog/caliper\" rel=\"noreferrer\">http://vertexlabs.co.uk/blog/caliper</a></li>\n</ol>\n<p><strong><a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH from OpenJDK</a></strong></p>\n<p><em>Getting started tutorials</em></p>\n<ol>\n<li><a href=\"http://www.oracle.com/technetwork/articles/java/architect-benchmarking-2266277.html\" rel=\"noreferrer\">Avoiding Benchmarking Pitfalls on the JVM</a></li>\n<li><a href=\"http://nitschinger.at/Using-JMH-for-Java-Microbenchmarking\" rel=\"noreferrer\">Using JMH for Java Microbenchmarking</a></li>\n<li><a href=\"https://web.archive.org/web/20181018130828/http://java-performance.info:80/jmh\" rel=\"noreferrer\">Introduction to JMH</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1358777045,"creation_date":1358777045,"answer_id":14440319,"question_id":504103,"body_markdown":"It should also be noted that it might also be important to analyze the results of the micro benchmark when comparing different implementations. Therefore a [significance test][1] should be made.\r\n\r\nThis is because implementation `A` might be faster during most of the runs of the benchmark than implementation `B`. But `A` might also have a higher spread, so the measured performance benefit of `A` won&#39;t be of any significance when compared with `B`.\r\n\r\nSo it is also important to write and run a micro benchmark correctly, but also to analyze it correctly.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Significance_testing","title":"How do I write a correct micro-benchmark in Java?","body":"<p>It should also be noted that it might also be important to analyze the results of the micro benchmark when comparing different implementations. Therefore a <a href=\"http://en.wikipedia.org/wiki/Significance_testing\" rel=\"noreferrer\">significance test</a> should be made.</p>\n\n<p>This is because implementation <code>A</code> might be faster during most of the runs of the benchmark than implementation <code>B</code>. But <code>A</code> might also have a higher spread, so the measured performance benefit of <code>A</code> won't be of any significance when compared with <code>B</code>.</p>\n\n<p>So it is also important to write and run a micro benchmark correctly, but also to analyze it correctly.</p>\n"},{"comments":[{"owner":{"account_id":1041776,"reputation":2850,"user_id":1047667,"accept_rate":100,"display_name":"Nitsan Wakart"},"score":1,"creation_date":1367509309,"post_id":15787478,"comment_id":23408537,"body_markdown":"See also this blog post: http://psy-lob-saw.blogspot.com/2013/04/writing-java-micro-benchmarks-with-jmh.html for details on getting started with JMH.","body":"See also this blog post: <a href=\"http://psy-lob-saw.blogspot.com/2013/04/writing-java-micro-benchmarks-with-jmh.html\" rel=\"nofollow noreferrer\">psy-lob-saw.blogspot.com/2013/04/&hellip;</a> for details on getting started with JMH."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1467414191,"post_id":15787478,"comment_id":63738984,"body_markdown":"FYI, [JEP 230: Microbenchmark Suite](http://openjdk.java.net/jeps/230) is an [OpenJDK](http://openjdk.java.net/) proposal based on this [Java Microbenchmark Harness (JMH)](http://openjdk.java.net/projects/code-tools/jmh/) project. [Did not make the cut for Java 9](http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-March/003894.html) but may be added later.","body":"FYI, <a href=\"http://openjdk.java.net/jeps/230\" rel=\"nofollow noreferrer\">JEP 230: Microbenchmark Suite</a> is an <a href=\"http://openjdk.java.net/\" rel=\"nofollow noreferrer\">OpenJDK</a> proposal based on this <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">Java Microbenchmark Harness (JMH)</a> project. <a href=\"http://mail.openjdk.java.net/pipermail/jdk9-dev/2016-March/003894.html\" rel=\"nofollow noreferrer\">Did not make the cut for Java 9</a> but may be added later."}],"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"comment_count":2,"down_vote_count":0,"up_vote_count":50,"is_accepted":false,"score":50,"last_activity_date":1553324827,"creation_date":1364992369,"answer_id":15787478,"question_id":504103,"body_markdown":"[jmh][1] is a recent addition to OpenJDK and has been written by some performance engineers from Oracle. Certainly worth a look.\r\n\r\n&gt; The jmh is a Java harness for building, running, and analysing nano/micro/macro benchmarks written in Java and other languages targetting the JVM.\r\n\r\nVery interesting pieces of information buried in [the sample tests comments][4].\r\n\r\nSee also:\r\n\r\n- [Avoiding Benchmarking Pitfalls on the JVM][3]\r\n- [Discussion on the main strengths of jmh][2].\r\n\r\n [1]: http://openjdk.java.net/projects/code-tools/jmh/\r\n [2]: https://groups.google.com/forum/#!msg/mechanical-sympathy/m4opvy4xq3U/7lY8x8SvHgwJ\r\n [3]: http://www.oracle.com/technetwork/articles/java/architect-benchmarking-2266277.html\r\n [4]: http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/","title":"How do I write a correct micro-benchmark in Java?","body":"<p><a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">jmh</a> is a recent addition to OpenJDK and has been written by some performance engineers from Oracle. Certainly worth a look.</p>\n\n<blockquote>\n  <p>The jmh is a Java harness for building, running, and analysing nano/micro/macro benchmarks written in Java and other languages targetting the JVM.</p>\n</blockquote>\n\n<p>Very interesting pieces of information buried in <a href=\"http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/\" rel=\"nofollow noreferrer\">the sample tests comments</a>.</p>\n\n<p>See also:</p>\n\n<ul>\n<li><a href=\"http://www.oracle.com/technetwork/articles/java/architect-benchmarking-2266277.html\" rel=\"nofollow noreferrer\">Avoiding Benchmarking Pitfalls on the JVM</a></li>\n<li><a href=\"https://groups.google.com/forum/#!msg/mechanical-sympathy/m4opvy4xq3U/7lY8x8SvHgwJ\" rel=\"nofollow noreferrer\">Discussion on the main strengths of jmh</a>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":78868,"reputation":337070,"user_id":224132,"accept_rate":83,"display_name":"Peter Cordes"},"score":1,"creation_date":1553330650,"post_id":42891083,"comment_id":97351238,"body_markdown":"Yes it&#39;s important to not do unrelated work inside the timed region, but your first example is still fine.  There&#39;s only one call to `println`, not a separate header line or something, and `System.nanoTime()` has to be evaluated as the *first* step in constructing the string arg for that call.  There&#39;s nothing a compiler can do with the first that they can&#39;t do with the second, and neither one is even encouraging them to do extra work before recording a stop time.","body":"Yes it&#39;s important to not do unrelated work inside the timed region, but your first example is still fine.  There&#39;s only one call to <code>println</code>, not a separate header line or something, and <code>System.nanoTime()</code> has to be evaluated as the <i>first</i> step in constructing the string arg for that call.  There&#39;s nothing a compiler can do with the first that they can&#39;t do with the second, and neither one is even encouraging them to do extra work before recording a stop time."}],"tags":[],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1489951283,"creation_date":1489951283,"answer_id":42891083,"question_id":504103,"body_markdown":"To add to the other excellent advice, I&#39;d also be mindful of the following:\r\n\r\nFor some CPUs (e.g. Intel Core i5 range with TurboBoost), the temperature (and number of cores currently being used, as well as thier utilisation percent) affects the clock speed. Since CPUs are dynamically clocked, this can affect your results. For example, if you have a single-threaded application, the maximum clock speed (with TurboBoost) is higher than for an application using all cores. This can therefore interfere with comparisons of single and multi-threaded performance on some systems. Bear in mind that the temperature and volatages also affect how long Turbo frequency is maintained.\r\n\r\nPerhaps a more fundamentally important aspect that you have direct control over: make sure you&#39;re measuring the right thing! For example, if you&#39;re using `System.nanoTime()` to benchmark a particular bit of code, put the calls to the assignment in places that make sense to avoid measuring things which you aren&#39;t interested in. For example, don&#39;t do:\r\n \r\n    long startTime = System.nanoTime();\r\n    //code here...\r\n    System.out.println(&quot;Code took &quot;+(System.nanoTime()-startTime)+&quot;nano seconds&quot;);\r\n\r\nProblem is you&#39;re not immediately getting the end time when the code has finished. Instead, try the following:\r\n\r\n    final long endTime, startTime = System.nanoTime();\r\n\t//code here...\r\n\tendTime = System.nanoTime();\r\n\tSystem.out.println(&quot;Code took &quot;+(endTime-startTime)+&quot;nano seconds&quot;);","title":"How do I write a correct micro-benchmark in Java?","body":"<p>To add to the other excellent advice, I'd also be mindful of the following:</p>\n\n<p>For some CPUs (e.g. Intel Core i5 range with TurboBoost), the temperature (and number of cores currently being used, as well as thier utilisation percent) affects the clock speed. Since CPUs are dynamically clocked, this can affect your results. For example, if you have a single-threaded application, the maximum clock speed (with TurboBoost) is higher than for an application using all cores. This can therefore interfere with comparisons of single and multi-threaded performance on some systems. Bear in mind that the temperature and volatages also affect how long Turbo frequency is maintained.</p>\n\n<p>Perhaps a more fundamentally important aspect that you have direct control over: make sure you're measuring the right thing! For example, if you're using <code>System.nanoTime()</code> to benchmark a particular bit of code, put the calls to the assignment in places that make sense to avoid measuring things which you aren't interested in. For example, don't do:</p>\n\n<pre><code>long startTime = System.nanoTime();\n//code here...\nSystem.out.println(\"Code took \"+(System.nanoTime()-startTime)+\"nano seconds\");\n</code></pre>\n\n<p>Problem is you're not immediately getting the end time when the code has finished. Instead, try the following:</p>\n\n<pre><code>final long endTime, startTime = System.nanoTime();\n//code here...\nendTime = System.nanoTime();\nSystem.out.println(\"Code took \"+(endTime-startTime)+\"nano seconds\");\n</code></pre>\n"}],"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142473,"favorite_count":0,"down_vote_count":1,"up_vote_count":977,"accepted_answer_id":513259,"answer_count":11,"score":976,"last_activity_date":1687944975,"creation_date":1233596381,"question_id":504103,"body_markdown":"How do you write (and run) a correct micro-benchmark in Java?\r\n\r\nI&#39;m looking for some code samples and comments illustrating various things to think about.\r\n\r\nExample: Should the benchmark measure time/iteration or iterations/time, and why?\r\n\r\nRelated: https://stackoverflow.com/questions/410437/is-stopwatch-benchmarking-acceptable","title":"How do I write a correct micro-benchmark in Java?","body":"<p>How do you write (and run) a correct micro-benchmark in Java?</p>\n\n<p>I'm looking for some code samples and comments illustrating various things to think about.</p>\n\n<p>Example: Should the benchmark measure time/iteration or iterations/time, and why?</p>\n\n<p>Related: <a href=\"https://stackoverflow.com/questions/410437/is-stopwatch-benchmarking-acceptable\">Is stopwatch benchmarking acceptable?</a></p>\n"},{"tags":["java","reflection","jol"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687865061,"post_id":76564204,"comment_id":134993441,"body_markdown":"What is the `Field` class here? `java.lang.reflect.Field`?","body":"What is the <code>Field</code> class here? <code>java.lang.reflect.Field</code>?"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687866071,"post_id":76564204,"comment_id":134993667,"body_markdown":"@Sweeper yes, u are right!","body":"@Sweeper yes, u are right!"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687869277,"post_id":76564204,"comment_id":134994460,"body_markdown":"_other ways to get the offset?_ - Can you provide more details how you plan on using this data?. Maybe that&#39;ll help if there are other ways to do what you want","body":"<i>other ways to get the offset?</i> - Can you provide more details how you plan on using this data?. Maybe that&#39;ll help if there are other ways to do what you want"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687869404,"post_id":76564204,"comment_id":134994491,"body_markdown":"@OneCricketeer I hv no plan on using this data. Just curious of it.","body":"@OneCricketeer I hv no plan on using this data. Just curious of it."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687869472,"post_id":76564204,"comment_id":134994515,"body_markdown":"Doesn&#39;t JOL work on an object instance? Not a class definition itself?","body":"Doesn&#39;t JOL work on an object instance? Not a class definition itself?"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687869609,"post_id":76564204,"comment_id":134994553,"body_markdown":"@OneCricketeer JOL can work on both object instance and class but sometimes it will only show (object alignment), no any field offset.","body":"@OneCricketeer JOL can work on both object instance and class but sometimes it will only show (object alignment), no any field offset."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1687896022,"post_id":76564204,"comment_id":135000629,"body_markdown":"So, what are you expecting to see? Member has fields, but [Field does not](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html)","body":"So, what are you expecting to see? Member has fields, but <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html\" rel=\"nofollow noreferrer\">Field does not</a>"},{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687915497,"post_id":76564204,"comment_id":135002795,"body_markdown":"@OneCricketeer but when u clicked into the Field.class file, u would see a lot of fields there such as clazz, slot, name, type, modifiers, trustedFinal, isOverride...","body":"@OneCricketeer but when u clicked into the Field.class file, u would see a lot of fields there such as clazz, slot, name, type, modifiers, trustedFinal, isOverride..."}],"answers":[{"comments":[{"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"score":0,"creation_date":1687946499,"post_id":76571854,"comment_id":135006970,"body_markdown":"Wow, this is what I want. Thanks. I am going to accept answer but why use pure JOL can&#39;t show that?","body":"Wow, this is what I want. Thanks. I am going to accept answer but why use pure JOL can&#39;t show that?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1687946624,"post_id":76571854,"comment_id":135006999,"body_markdown":"@MichaelTsai I&#39;m not sure why. Perhaps check the plugin&#39;s source code to see how they implemented.","body":"@MichaelTsai I&#39;m not sure why. Perhaps check the plugin&#39;s source code to see how they implemented."}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687944838,"creation_date":1687944838,"answer_id":76571854,"question_id":76564204,"body_markdown":"The [JOL IntelliJ Plugin][1] shows the offset information, apparently.\r\n\r\nInstall the plugin, use `Field` somewhere in your code, put the cursor on the text `Field`, then go to Code -&gt; Show Object Layout\r\n\r\n[![enter image description here][2]][2]\r\n\r\nNote that there is also a selector for the JVM implementation to use.\r\n\r\nInterestingly, using `sudo` with the JOL command line tool report a different size for a `Field` object - 72 bytes for my JVM.\r\n\r\n```\r\n$ sudo java -jar jol-cli-latest.jar internals java.lang.reflect.Field\r\n```\r\n\r\nOutput excerpt:\r\n\r\n```\r\njava.lang.reflect.Field object internals:\r\nOFF  SZ   TYPE DESCRIPTION               VALUE\r\n  0   8        (object header: mark)     0x0000000000000005 (biasable; age: 0)\r\n  8   4        (object header: class)    0x0006e918\r\n 12   4        (object alignment gap)    \r\nInstance size: 72 bytes\r\nSpace losses: 0 bytes internal + 4 bytes external = 4 bytes total\r\n```\r\n\r\n\r\n  [1]: https://plugins.jetbrains.com/plugin/10953-jol-java-object-layout\r\n  [2]: https://i.stack.imgur.com/YuLpu.png","title":"Jol to find the offset of fields in the class","body":"<p>The <a href=\"https://plugins.jetbrains.com/plugin/10953-jol-java-object-layout\" rel=\"nofollow noreferrer\">JOL IntelliJ Plugin</a> shows the offset information, apparently.</p>\n<p>Install the plugin, use <code>Field</code> somewhere in your code, put the cursor on the text <code>Field</code>, then go to Code -&gt; Show Object Layout</p>\n<p><a href=\"https://i.stack.imgur.com/YuLpu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YuLpu.png\" alt=\"enter image description here\" /></a></p>\n<p>Note that there is also a selector for the JVM implementation to use.</p>\n<p>Interestingly, using <code>sudo</code> with the JOL command line tool report a different size for a <code>Field</code> object - 72 bytes for my JVM.</p>\n<pre><code>$ sudo java -jar jol-cli-latest.jar internals java.lang.reflect.Field\n</code></pre>\n<p>Output excerpt:</p>\n<pre><code>java.lang.reflect.Field object internals:\nOFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     0x0000000000000005 (biasable; age: 0)\n  8   4        (object header: class)    0x0006e918\n 12   4        (object alignment gap)    \nInstance size: 72 bytes\nSpace losses: 0 bytes internal + 4 bytes external = 4 bytes total\n</code></pre>\n"}],"owner":{"account_id":9893206,"reputation":791,"user_id":7325581,"accept_rate":20,"display_name":"Michael Tsai"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76571854,"answer_count":1,"score":0,"last_activity_date":1687944838,"creation_date":1687863760,"question_id":76564204,"body_markdown":"I use jol to find the offset of the fields as below:\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    public static void main(String[] args) throws NoSuchFieldException {\r\n        System.out.println(ClassLayout.parseClass(Field.class).toPrintable());\r\n    }\r\n\r\nThe output:\r\n\r\n    OFF  SZ   TYPE DESCRIPTION               VALUE\r\n      0   8        (object header: mark)     N/A\r\n      8   4        (object header: class)    N/A\r\n     12   4        (object alignment gap)    \r\n    Instance size: 16 bytes\r\n    Space losses: 0 bytes internal + 4 bytes external = 4 bytes total\r\n\r\nThe 3rd row shows (object alignment gap) but didn&#39;t show the offset of the fields such as override, name, type and such on.\r\n\r\nHow can I get those field&#39;s offset? Or is there other ways to get the offset?","title":"Jol to find the offset of fields in the class","body":"<p>I use jol to find the offset of the fields as below:</p>\n<pre><code>import java.lang.reflect.Field;\n\npublic static void main(String[] args) throws NoSuchFieldException {\n    System.out.println(ClassLayout.parseClass(Field.class).toPrintable());\n}\n</code></pre>\n<p>The output:</p>\n<pre><code>OFF  SZ   TYPE DESCRIPTION               VALUE\n  0   8        (object header: mark)     N/A\n  8   4        (object header: class)    N/A\n 12   4        (object alignment gap)    \nInstance size: 16 bytes\nSpace losses: 0 bytes internal + 4 bytes external = 4 bytes total\n</code></pre>\n<p>The 3rd row shows (object alignment gap) but didn't show the offset of the fields such as override, name, type and such on.</p>\n<p>How can I get those field's offset? Or is there other ways to get the offset?</p>\n"},{"tags":["java","eclipse","junit"],"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":1,"creation_date":1368432127,"post_id":16517292,"comment_id":23714684,"body_markdown":"If you expand one of trees that were not executed, what do you see?","body":"If you expand one of trees that were not executed, what do you see?"},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1368432215,"post_id":16517292,"comment_id":23714730,"body_markdown":"the same, tests with the same icon, all is empty.","body":"the same, tests with the same icon, all is empty."},{"owner":{"account_id":368265,"reputation":39137,"user_id":714965,"accept_rate":83,"display_name":"Kai"},"score":0,"creation_date":1368432264,"post_id":16517292,"comment_id":23714755,"body_markdown":"The icon is not crossed out? So the test isn&#39;t annotated with `@Ignore`?","body":"The icon is not crossed out? So the test isn&#39;t annotated with <code>@Ignore</code>?"},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1368432302,"post_id":16517292,"comment_id":23714772,"body_markdown":"no, I will attach another picture","body":"no, I will attach another picture"},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1368432881,"post_id":16517292,"comment_id":23714999,"body_markdown":"You haven&#39;t converted from Junit3-&gt;4 and missed some `@Test` annotations?","body":"You haven&#39;t converted from Junit3-&gt;4 and missed some <code>@Test</code> annotations?"},{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1368444944,"post_id":16517292,"comment_id":23721110,"body_markdown":"@DuncanJones - No, used junit 4 from beginning.","body":"@DuncanJones - No, used junit 4 from beginning."}],"answers":[{"comments":[{"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"score":0,"creation_date":1368444987,"post_id":16517415,"comment_id":23721136,"body_markdown":"That&#39;s seems to be OK. no ignored tests.","body":"That&#39;s seems to be OK. no ignored tests."}],"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368432518,"creation_date":1368432518,"answer_id":16517415,"question_id":16517292,"body_markdown":"Check if you are [excluding tests][1] from run by attributes and check under `Run &gt; Run Configurations` if your JUnit configuration are excluding any tests.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2383226/395659","title":"not all junit tests are running in eclipse","body":"<p>Check if you are <a href=\"https://stackoverflow.com/a/2383226/395659\">excluding tests</a> from run by attributes and check under <code>Run &gt; Run Configurations</code> if your JUnit configuration are excluding any tests.</p>\n"},{"tags":[],"owner":{"account_id":1748125,"reputation":4230,"user_id":1597838,"accept_rate":82,"display_name":"Mawia"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368435705,"creation_date":1368435705,"answer_id":16518265,"question_id":16517292,"body_markdown":"In `jUnit 4`, a test case needs to have **@Test** annotation. The test case can be set to ignore with **@Ignore** annotation. The whole test class can also be set to ignore by placing the **@Ignore** annotation right above the class declaration. Note: In jUnit 4 , there is no need to extend Testcase class as in jUnit 3. Everything is in annotation.\r\n\r\nI have no idea about jUnit 3 since I use only 4.","title":"not all junit tests are running in eclipse","body":"<p>In <code>jUnit 4</code>, a test case needs to have <strong>@Test</strong> annotation. The test case can be set to ignore with <strong>@Ignore</strong> annotation. The whole test class can also be set to ignore by placing the <strong>@Ignore</strong> annotation right above the class declaration. Note: In jUnit 4 , there is no need to extend Testcase class as in jUnit 3. Everything is in annotation.</p>\n\n<p>I have no idea about jUnit 3 since I use only 4.</p>\n"},{"tags":[],"owner":{"account_id":425088,"reputation":314,"user_id":805473,"display_name":"CKuharski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376540125,"creation_date":1376540125,"answer_id":18246231,"question_id":16517292,"body_markdown":"I had a similar problem.  For some reason, the &quot;Run As -&gt; jUnit Test&quot; was always skiping the first test package.  I was on an older version of Eclipse and SpringSource.\r\n\r\nI moved back to Juno - Version: 4.2.1 and all my test run when I perform:  &quot;Run As -&gt; jUnit Test. &quot;","title":"not all junit tests are running in eclipse","body":"<p>I had a similar problem.  For some reason, the \"Run As -> jUnit Test\" was always skiping the first test package.  I was on an older version of Eclipse and SpringSource.</p>\n\n<p>I moved back to Juno - Version: 4.2.1 and all my test run when I perform:  \"Run As -> jUnit Test. \"</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1377418605,"creation_date":1377418230,"answer_id":18426965,"question_id":16517292,"body_markdown":"I had the same problem. Eclipse would only recognize and run 5 out of my 9 tests.  After much troubleshooting I found this trick to convince Eclipse to recognize the remaining tests: just open each file, hit space and then backspace to mark it as changed, and save it. Then, Eclipse will recognize it as a test.","title":"not all junit tests are running in eclipse","body":"<p>I had the same problem. Eclipse would only recognize and run 5 out of my 9 tests.  After much troubleshooting I found this trick to convince Eclipse to recognize the remaining tests: just open each file, hit space and then backspace to mark it as changed, and save it. Then, Eclipse will recognize it as a test.</p>\n"},{"tags":[],"owner":{"account_id":3343567,"reputation":53,"user_id":2809223,"display_name":"Gondlar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1379985420,"creation_date":1379985420,"answer_id":18971466,"question_id":16517292,"body_markdown":"It&#39;s a bit late, but in case anyone finds this via a search engine:\r\n\r\nIf a Test is run multiple times the results provided by JUnit are indistinguishable for those Tests and thus the results are only displayed for one run. See also the following Eclipse bug report: https://bugs.eclipse.org/bugs/show_bug.cgi?id=172256","title":"not all junit tests are running in eclipse","body":"<p>It's a bit late, but in case anyone finds this via a search engine:</p>\n\n<p>If a Test is run multiple times the results provided by JUnit are indistinguishable for those Tests and thus the results are only displayed for one run. See also the following Eclipse bug report: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=172256\" rel=\"nofollow\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=172256</a></p>\n"},{"comments":[{"owner":{"account_id":2986790,"reputation":2364,"user_id":5618307,"display_name":"IqbalHamid"},"score":2,"creation_date":1530616989,"post_id":26184744,"comment_id":89289938,"body_markdown":"@If you could explain why JUnit tests must be prefixed with &#39;test&#39;, your answer would merit an upvote.","body":"@If you could explain why JUnit tests must be prefixed with &#39;test&#39;, your answer would merit an upvote."}],"tags":[],"owner":{"account_id":3237478,"reputation":186,"user_id":2767454,"display_name":"MTen"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1412361297,"creation_date":1412361297,"answer_id":26184744,"question_id":16517292,"body_markdown":"Ran into the same problem, my error was that I wrote: `public void myMethodName(){ //assertions }` \r\n\r\ninstead of: `public void testMyMethodName() { //assertions }`\r\n\r\nthe test before the MyMethodName is important.","title":"not all junit tests are running in eclipse","body":"<p>Ran into the same problem, my error was that I wrote: <code>public void myMethodName(){ //assertions }</code> </p>\n\n<p>instead of: <code>public void testMyMethodName() { //assertions }</code></p>\n\n<p>the test before the MyMethodName is important.</p>\n"},{"tags":[],"owner":{"account_id":10045459,"reputation":255,"user_id":7427029,"accept_rate":100,"display_name":"user7427029"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687944728,"creation_date":1687944728,"answer_id":76571842,"question_id":16517292,"body_markdown":"in my case, it seems that cause was a combination of multiple factors. The right combination of properties was for me:\r\n- The test class is declared as public\r\n- The test methods are declared as public and NOT declared as static:\r\n\t\r\n\r\n    public void testToTeXTable() {\r\n\r\ndespite what Eclipse may [say][1].\r\n- Run as ... -&gt; Run configurations should declare that (All methods) are tested and that JUnit 5 is used.[![Correct run configuration][2]][2]\r\n- The imports in the test file contain the right source for the Annotation @Test, i.e:\r\n\r\n    import static org.junit.Assert.*;\r\n    import org.junit.Test;\r\n    //import org.junit.jupiter.api.Test;\r\n\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=353394\r\n  [2]: https://i.stack.imgur.com/TWKsy.png","title":"not all junit tests are running in eclipse","body":"<p>in my case, it seems that cause was a combination of multiple factors. The right combination of properties was for me:</p>\n<ul>\n<li><p>The test class is declared as public</p>\n</li>\n<li><p>The test methods are declared as public and NOT declared as static:</p>\n<p>public void testToTeXTable() {</p>\n</li>\n</ul>\n<p>despite what Eclipse may <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=353394\" rel=\"nofollow noreferrer\">say</a>.</p>\n<ul>\n<li><p>Run as ... -&gt; Run configurations should declare that (All methods) are tested and that JUnit 5 is used.<a href=\"https://i.stack.imgur.com/TWKsy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TWKsy.png\" alt=\"Correct run configuration\" /></a></p>\n</li>\n<li><p>The imports in the test file contain the right source for the Annotation @Test, i.e:</p>\n<p>import static org.junit.Assert.*;\nimport org.junit.Test;\n//import org.junit.jupiter.api.Test;</p>\n</li>\n</ul>\n"}],"owner":{"account_id":179362,"reputation":15005,"user_id":411965,"accept_rate":87,"display_name":"oshai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14809,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":7,"score":9,"last_activity_date":1687944728,"creation_date":1368431990,"question_id":16517292,"body_markdown":"I have a java project in eclipse, when I press the `project right click -&gt; run as junit` some tests do not run. I attached a picture, see `YamiMailSenderTest` for example.  \r\nWhen I try to run the tests directly they are running.  \r\nI am using eclipse 3.7.2.  \r\n\r\n![enter image description here][1]\r\n\r\n\r\nand expanded view:\r\n\r\n![enter image description here][2]\r\n\r\nAny idea?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BoKqd.png\r\n  [2]: http://i.stack.imgur.com/jQfKo.png","title":"not all junit tests are running in eclipse","body":"<p>I have a java project in eclipse, when I press the <code>project right click -&gt; run as junit</code> some tests do not run. I attached a picture, see <code>YamiMailSenderTest</code> for example.<br>\nWhen I try to run the tests directly they are running.<br>\nI am using eclipse 3.7.2.  </p>\n\n<p><img src=\"https://i.stack.imgur.com/BoKqd.png\" alt=\"enter image description here\"></p>\n\n<p>and expanded view:</p>\n\n<p><img src=\"https://i.stack.imgur.com/jQfKo.png\" alt=\"enter image description here\"></p>\n\n<p>Any idea?</p>\n"},{"tags":["java","android","kotlin","android-permissions","android-13"],"comments":[{"owner":{"account_id":198620,"reputation":10364,"user_id":443387,"accept_rate":57,"display_name":"N-JOY"},"score":0,"creation_date":1692001298,"post_id":73414289,"comment_id":135561631,"body_markdown":"You can either choose PhotoPicker or go with the granular permission approach\nhttps://codewithninad.com/accessing-android-storage-on-android-13-above","body":"You can either choose PhotoPicker or go with the granular permission approach <a href=\"https://codewithninad.com/accessing-android-storage-on-android-13-above\" rel=\"nofollow noreferrer\">codewithninad.com/accessing-android-storage-on-android-13-ab&zwnj;&#8203;ove</a>"}],"answers":[{"comments":[{"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"score":0,"creation_date":1662020887,"post_id":73535271,"comment_id":129911008,"body_markdown":"Thank you, this one saved me. \nAnother thing I wonder, using the system file picker I can still upload media files from there, is it okay if I leave it like that so users can upload either images or pdfs, or I must divide the file picker from the image picker?","body":"Thank you, this one saved me.  Another thing I wonder, using the system file picker I can still upload media files from there, is it okay if I leave it like that so users can upload either images or pdfs, or I must divide the file picker from the image picker?"},{"owner":{"account_id":1570860,"reputation":384,"user_id":1458576,"accept_rate":50,"display_name":"ieselisra"},"score":0,"creation_date":1682455952,"post_id":73535271,"comment_id":134218144,"body_markdown":"I was fighting against the permission for a PDF my app generated -.-\n\nThanks!","body":"I was fighting against the permission for a PDF my app generated -.-  Thanks!"}],"tags":[],"owner":{"account_id":6705345,"reputation":106,"user_id":5170535,"display_name":"C&#233;sar Vargas"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1661812034,"creation_date":1661812034,"answer_id":73535271,"question_id":73414289,"body_markdown":"According to Google storage documentation. It seems that for non-media files no permission is needed. https://developer.android.com/training/data-storage.","title":"Granular media permissions Android 13 API 33","body":"<p>According to Google storage documentation. It seems that for non-media files no permission is needed. <a href=\"https://developer.android.com/training/data-storage\" rel=\"noreferrer\">https://developer.android.com/training/data-storage</a>.</p>\n"}],"owner":{"account_id":21012762,"reputation":141,"user_id":15441000,"display_name":"Dipsy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12653,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":73535271,"answer_count":1,"score":10,"last_activity_date":1687944576,"creation_date":1660899483,"question_id":73414289,"body_markdown":"I&#39;ve been upgrading my project to SDK 33.\r\n\r\nI changed the permissions where I needed to access media files, such as photos, with the new permission READ_MEDIA_IMAGES and it is working fine.\r\n\r\nBut I need to access documents such as PDF files in order to upload them to the server, but I cannot find any information concerning android 13 and documents.\r\n\r\nBefore the upgrade I had READ_EXTERNAL_STORAGE permission and I accessed all the files.\r\n\r\nIn the andorid documentation on the link below, only these three permissions are provided READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO instead of using READ_EXTERNAL_STORAGE.\r\n\r\nhttps://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions\r\n\r\n\r\nAny ideas on how to fix this and what steps to follow? ","title":"Granular media permissions Android 13 API 33","body":"<p>I've been upgrading my project to SDK 33.</p>\n<p>I changed the permissions where I needed to access media files, such as photos, with the new permission READ_MEDIA_IMAGES and it is working fine.</p>\n<p>But I need to access documents such as PDF files in order to upload them to the server, but I cannot find any information concerning android 13 and documents.</p>\n<p>Before the upgrade I had READ_EXTERNAL_STORAGE permission and I accessed all the files.</p>\n<p>In the andorid documentation on the link below, only these three permissions are provided READ_MEDIA_IMAGES, READ_MEDIA_VIDEO, READ_MEDIA_AUDIO instead of using READ_EXTERNAL_STORAGE.</p>\n<p><a href=\"https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions\" rel=\"noreferrer\">https://developer.android.com/about/versions/13/behavior-changes-13#granular-media-permissions</a></p>\n<p>Any ideas on how to fix this and what steps to follow?</p>\n"},{"tags":["java","json","spring","spring-boot","httprequest"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687959978,"post_id":76571234,"comment_id":135009920,"body_markdown":"I suspect the issue is with your return type. Have you tried `ResponseEntity&lt;Map&lt;String, List&lt;String&gt;&gt;` because in the end that is what it basically is. If you are certain it only contains single values you can also use `headers.toSingleValueMap`.","body":"I suspect the issue is with your return type. Have you tried <code>ResponseEntity&lt;Map&lt;String, List&lt;String&gt;&gt;</code> because in the end that is what it basically is. If you are certain it only contains single values you can also use <code>headers.toSingleValueMap</code>."},{"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1688066272,"post_id":76571234,"comment_id":135027704,"body_markdown":"Hi, I&#39;ve tried with ResponseEntity&lt;Map&lt;String, List&lt;String&gt;&gt;. But at then headers.toSingleValueMap() doesn&#39;t work. Because toSinglevalueMap() returns &lt;Map&lt;String,String&gt;&gt;. Any idea? @M. Deinum","body":"Hi, I&#39;ve tried with ResponseEntity&lt;Map&lt;String, List&lt;String&gt;&gt;. But at then headers.toSingleValueMap() doesn&#39;t work. Because toSinglevalueMap() returns &lt;Map&lt;String,String&gt;&gt;. Any idea? @M. Deinum"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688107692,"post_id":76571234,"comment_id":135032093,"body_markdown":"YOu don&#39;t need `toSingleValueMap` then as `HttpHeaders` is a `Map&lt;String, List&lt;String&gt;&gt;`.","body":"YOu don&#39;t need <code>toSingleValueMap</code> then as <code>HttpHeaders</code> is a <code>Map&lt;String, List&lt;String&gt;&gt;</code>."},{"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1688113920,"post_id":76571234,"comment_id":135033179,"body_markdown":"You are right @M.Deinum","body":"You are right @M.Deinum"}],"answers":[{"tags":[],"owner":{"account_id":19373190,"reputation":411,"user_id":14166067,"display_name":"Hasan Raza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687940462,"creation_date":1687940462,"answer_id":76571300,"question_id":76571234,"body_markdown":"    import org.springframework.http.HttpHeaders;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    @RestController\r\n    @RequestMapping(&quot;/employee&quot;)\r\n    public class Employee {\r\n        @GetMapping\r\n        public ResponseEntity&lt;Object&gt; hello(HttpHeaders headers) {\r\n            Map&lt;String, String&gt; headersMap = headers.entrySet().stream()\r\n                    .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().get(0)));\r\n            return ResponseEntity.ok().body(headersMap);\r\n        }\r\n    }\r\n\r\n","title":"How to get all HttpHeaders as a ResponseBody in Spring Boot?","body":"<pre><code>import org.springframework.http.HttpHeaders;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class Employee {\n    @GetMapping\n    public ResponseEntity&lt;Object&gt; hello(HttpHeaders headers) {\n        Map&lt;String, String&gt; headersMap = headers.entrySet().stream()\n                .collect(Collectors.toMap(Map.Entry::getKey, e -&gt; e.getValue().get(0)));\n        return ResponseEntity.ok().body(headersMap);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1687941869,"post_id":76571307,"comment_id":135005986,"body_markdown":"Need one clarification. HttpHeaders will always be &lt;key,value&gt; (&lt;String,String&gt;)? There is no option to have &lt;String,Object&gt; like this? If it happens, how will I Map then? @Nikolas","body":"Need one clarification. HttpHeaders will always be &lt;key,value&gt; (&lt;String,String&gt;)? There is no option to have &lt;String,Object&gt; like this? If it happens, how will I Map then? @Nikolas"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":1,"creation_date":1687943009,"post_id":76571307,"comment_id":135006221,"body_markdown":"Each header is always a key-value structure where both key and value are text, no matter how complex thing you put inside, that&#39;s why `toSingleValueMap` always returns `Map&lt;String, String&gt;`.","body":"Each header is always a key-value structure where both key and value are text, no matter how complex thing you put inside, that&#39;s why <code>toSingleValueMap</code> always returns <code>Map&lt;String, String&gt;</code>."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687940529,"creation_date":1687940529,"answer_id":76571307,"question_id":76571234,"body_markdown":"Do this:\r\n\r\n```\r\n@GetMapping\r\npublic ResponseEntity&lt;Object&gt; hello(@RequestHeader HttpHeaders headers){\r\n\treturn ResponseEntity.ok().body(headers.toSingleValueMap());\r\n}\r\n```\r\n\r\nThough `HttpHeaders` is an implementation of `Map`, it is not well serialized into JSON. The method [`HttpHeaders#toSingleValueMap`][1] returns `Map&lt;String, String&gt;`.\r\n\r\n```shell\r\ncurl http://localhost:8080/employee --header &#39;foo: bar&#39;\r\n```\r\n&gt; ```json\r\n&gt; {\r\n&gt;\t&quot;foo&quot;: &quot;bar&quot;,\r\n&gt; }\r\n&gt; ```\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#toSingleValueMap()","title":"How to get all HttpHeaders as a ResponseBody in Spring Boot?","body":"<p>Do this:</p>\n<pre><code>@GetMapping\npublic ResponseEntity&lt;Object&gt; hello(@RequestHeader HttpHeaders headers){\n    return ResponseEntity.ok().body(headers.toSingleValueMap());\n}\n</code></pre>\n<p>Though <code>HttpHeaders</code> is an implementation of <code>Map</code>, it is not well serialized into JSON. The method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpHeaders.html#toSingleValueMap()\" rel=\"nofollow noreferrer\"><code>HttpHeaders#toSingleValueMap</code></a> returns <code>Map&lt;String, String&gt;</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl http://localhost:8080/employee --header 'foo: bar'\n</code></pre>\n<blockquote>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;foo&quot;: &quot;bar&quot;,\n}\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1687946843,"post_id":76571805,"comment_id":135007040,"body_markdown":"I am trying to writing this functionality in a Spring Cloud Gateway application which doesn&#39;t use Serverlet, it runs on Netty runtime. So, this would not be a use case for me. But, this is applicable for any Spring Boot application.","body":"I am trying to writing this functionality in a Spring Cloud Gateway application which doesn&#39;t use Serverlet, it runs on Netty runtime. So, this would not be a use case for me. But, this is applicable for any Spring Boot application."}],"tags":[],"owner":{"account_id":23235660,"reputation":72,"user_id":17325694,"display_name":"Xianghua"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687944425,"creation_date":1687944425,"answer_id":76571805,"question_id":76571234,"body_markdown":"Provide another way to obtain the header information of the request using httpServletRequest\r\n```java\r\npackage com.mmd.look.web.api.common;\r\n\r\nimport com.mmd.look.common.response.Result;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport java.util.Enumeration;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/employee&quot;)\r\npublic class Employee {\r\n    @GetMapping\r\n    public Result&lt;Void&gt; hello(HttpServletRequest httpServletRequest) {\r\n        Enumeration&lt;String&gt; headerNames = httpServletRequest.getHeaderNames();\r\n        while (headerNames.hasMoreElements()) {\r\n            String name = headerNames.nextElement();\r\n            String header = httpServletRequest.getHeader(name);\r\n            System.out.println(name + &quot;:&quot; + header);\r\n        }\r\n        return Result.ok(&quot;&quot;);\r\n    }\r\n}\r\n```","title":"How to get all HttpHeaders as a ResponseBody in Spring Boot?","body":"<p>Provide another way to obtain the header information of the request using httpServletRequest</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.mmd.look.web.api.common;\n\nimport com.mmd.look.common.response.Result;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport javax.servlet.http.HttpServletRequest;\nimport java.util.Enumeration;\n\n@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class Employee {\n    @GetMapping\n    public Result&lt;Void&gt; hello(HttpServletRequest httpServletRequest) {\n        Enumeration&lt;String&gt; headerNames = httpServletRequest.getHeaderNames();\n        while (headerNames.hasMoreElements()) {\n            String name = headerNames.nextElement();\n            String header = httpServletRequest.getHeader(name);\n            System.out.println(name + &quot;:&quot; + header);\n        }\n        return Result.ok(&quot;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8903500,"reputation":1374,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76571307,"answer_count":3,"score":1,"last_activity_date":1687944425,"creation_date":1687939903,"question_id":76571234,"body_markdown":"I need to get the all HttpHeaders and then need to back all of these as a key-value pair as a `ResponseBody`. How can I achieve this?\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/employee&quot;)\r\npublic class Employee {\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;Object&gt; hello(@RequestHeader HttpHeaders headers) {\r\n        return ResponseEntity.ok().body(headers);\r\n    }\r\n}\r\n```","title":"How to get all HttpHeaders as a ResponseBody in Spring Boot?","body":"<p>I need to get the all HttpHeaders and then need to back all of these as a key-value pair as a <code>ResponseBody</code>. How can I achieve this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/employee&quot;)\npublic class Employee {\n\n    @GetMapping\n    public ResponseEntity&lt;Object&gt; hello(@RequestHeader HttpHeaders headers) {\n        return ResponseEntity.ok().body(headers);\n    }\n}\n</code></pre>\n"},{"tags":["java","serialization","jackson","lombok"],"comments":[{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1654848138,"post_id":72570822,"comment_id":128194485,"body_markdown":"Have a look here - https://stackoverflow.com/questions/70134597/how-to-configure-setter-and-getter-name-convention-in-jackson-for-a-particular-c","body":"Have a look here - <a href=\"https://stackoverflow.com/questions/70134597/how-to-configure-setter-and-getter-name-convention-in-jackson-for-a-particular-c\" title=\"how to configure setter and getter name convention in jackson for a particular c\">stackoverflow.com/questions/70134597/&hellip;</a>"},{"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"score":0,"creation_date":1654848771,"post_id":72570822,"comment_id":128194665,"body_markdown":"@Sam, What about @Accessors(fluent = true) annotation? your link doesn&#39;t mention anything about it.","body":"@Sam, What about @Accessors(fluent = true) annotation? your link doesn&#39;t mention anything about it."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1654849040,"post_id":72570822,"comment_id":128194734,"body_markdown":"@MeladBasilius try to use on class level the annotation `@JsonAutoDetect(fieldVisibility = Visibility.ANY)`. This would allow Jackson to access those properties through reflection as the custom setter names provided by `fluent = true` are not understood by jackson","body":"@MeladBasilius try to use on class level the annotation <code>@JsonAutoDetect(fieldVisibility = Visibility.ANY)</code>. This would allow Jackson to access those properties through reflection as the custom setter names provided by <code>fluent = true</code> are not understood by jackson"},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":2,"creation_date":1654849158,"post_id":72570822,"comment_id":128194769,"body_markdown":"I haven&#39;t looked into the problem, so I&#39;m just guessing here. I suspect Jackson expects getters to be named getXyz. If not, then you will have problems like yours. The article I linked shows a way of making Jackson understand getters following other patterns.","body":"I haven&#39;t looked into the problem, so I&#39;m just guessing here. I suspect Jackson expects getters to be named getXyz. If not, then you will have problems like yours. The article I linked shows a way of making Jackson understand getters following other patterns."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":1,"creation_date":1654849371,"post_id":72570822,"comment_id":128194843,"body_markdown":"Another option is to annotate the fields with `@JsonProperty`, although the class level annotation mentioned above probably is better for many fields.","body":"Another option is to annotate the fields with <code>@JsonProperty</code>, although the class level annotation mentioned above probably is better for many fields."},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1654849773,"post_id":72570822,"comment_id":128194986,"body_markdown":"@MeladBasilius Please also try with `@JsonPOJOBuilder(withPrefix = &quot;&quot;)` . If this is working I can explain why","body":"@MeladBasilius Please also try with <code>@JsonPOJOBuilder(withPrefix = &quot;&quot;)</code> . If this is working I can explain why"},{"owner":{"account_id":6443778,"reputation":91,"user_id":4992896,"display_name":"shduke"},"score":2,"creation_date":1659714932,"post_id":72570822,"comment_id":129368186,"body_markdown":"Does not work with `@Jacksonized` either. i.e The combination of `@Accessors(fluent = true)`, `@Data` (or `@Value`), `@Builder` and `@Jacksonized` does not work. Removing the `Accessor` notation allows the serialization to succeed but loses the fluency. Interestingly the **de**serialization works just fine with these annotations.","body":"Does not work with <code>@Jacksonized</code> either. i.e The combination of <code>@Accessors(fluent = true)</code>, <code>@Data</code> (or <code>@Value</code>), <code>@Builder</code> and <code>@Jacksonized</code> does not work. Removing the <code>Accessor</code> notation allows the serialization to succeed but loses the fluency. Interestingly the <b>de</b>serialization works just fine with these annotations."}],"answers":[{"comments":[{"owner":{"account_id":9043062,"reputation":1293,"user_id":6736591,"display_name":"Nakamoto"},"score":1,"creation_date":1684814921,"post_id":74490672,"comment_id":134567954,"body_markdown":"This answer should be marked as correct.","body":"This answer should be marked as correct."}],"tags":[],"owner":{"account_id":302748,"reputation":476,"user_id":611287,"display_name":"Cristian Badila"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1687944065,"creation_date":1668779432,"answer_id":74490672,"question_id":72570822,"body_markdown":"I stumbled on this question recently while encountering the same problem and the solution for me was to add an explicit `@JsonProperty` annotation on the getter generated by Lombok using:\r\n`@Getter(onMethod = @__(@JsonProperty))`.\r\n\r\nIn your case, the class would look like this:\r\n```\r\n@Data\r\n@Builder\r\n@Accessors(fluent = true)\r\n@Getter(onMethod = @__(@JsonProperty))\r\npublic class AccountDTO  implements Serializable {\r\n    private String identification;\r\n}\r\n```\r\n","title":"@Accessors(fluent = true) doesnot work with Jakson","body":"<p>I stumbled on this question recently while encountering the same problem and the solution for me was to add an explicit <code>@JsonProperty</code> annotation on the getter generated by Lombok using:\n<code>@Getter(onMethod = @__(@JsonProperty))</code>.</p>\n<p>In your case, the class would look like this:</p>\n<pre><code>@Data\n@Builder\n@Accessors(fluent = true)\n@Getter(onMethod = @__(@JsonProperty))\npublic class AccountDTO  implements Serializable {\n    private String identification;\n}\n</code></pre>\n"}],"owner":{"account_id":2238186,"reputation":3967,"user_id":1973933,"accept_rate":58,"display_name":"Melad Basilius"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1664,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1687944065,"creation_date":1654847539,"question_id":72570822,"body_markdown":"In Spring boot application with Lombok, I have pojo class  `AccountDTO`\r\n\r\n    @Data\r\n    @Builder\r\n    @Accessors(fluent = true)\r\n    public class AccountDTO  implements Serializable {\r\n        private String identification;\r\n    }\r\n\r\nMy project compiles fine. However, it throws an exception in its execution\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\r\n&gt; serializer found for class AccountDTO  and no properties discovered to create\r\n&gt; BeanSerializer\r\n\r\n\r\nif I removed the annotation `@Accessors(fluent = true)`, then it will work fine without any problems.\r\n\r\nHow can i make `Lombok` `@Accessors(fluent = true)` and `Jackson` work together ?\r\n","title":"@Accessors(fluent = true) doesnot work with Jakson","body":"<p>In Spring boot application with Lombok, I have pojo class  <code>AccountDTO</code></p>\n<pre><code>@Data\n@Builder\n@Accessors(fluent = true)\npublic class AccountDTO  implements Serializable {\n    private String identification;\n}\n</code></pre>\n<p>My project compiles fine. However, it throws an exception in its execution</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No\nserializer found for class AccountDTO  and no properties discovered to create\nBeanSerializer</p>\n</blockquote>\n<p>if I removed the annotation <code>@Accessors(fluent = true)</code>, then it will work fine without any problems.</p>\n<p>How can i make <code>Lombok</code> <code>@Accessors(fluent = true)</code> and <code>Jackson</code> work together ?</p>\n"},{"tags":["java","sql","spring","integration-testing","h2"],"comments":[{"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"score":0,"creation_date":1534621529,"post_id":51909323,"comment_id":90774089,"body_markdown":"Is it possible to move the date-handling logic out of the database and into Java?  That way the SQL gets simpler, the testing gets easier and you&#39;re less likely to run into error messages from H2.","body":"Is it possible to move the date-handling logic out of the database and into Java?  That way the SQL gets simpler, the testing gets easier and you&#39;re less likely to run into error messages from H2."},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1534625174,"post_id":51909323,"comment_id":90774905,"body_markdown":"Maybe you could create a function `SYSDATE()` that returns a date?","body":"Maybe you could create a function <code>SYSDATE()</code> that returns a date?"}],"answers":[{"tags":[],"owner":{"account_id":13546114,"reputation":73,"user_id":10944459,"display_name":"Jonathan Ferreira"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585221722,"creation_date":1585221722,"answer_id":60866082,"question_id":51909323,"body_markdown":"If you use two databases at once, you should avoid usage of vendor-specific syntax.\r\n\r\nYou can use SQL Standard-compliant\r\n\r\n```LOCALTIMESTAMP - INTERVAL &#39;30&#39; MINUTE```\r\n\r\nin recent versions of Oracle and H2.\r\n\r\nI already had this problem and that was the solution it worked.","title":"How can I set sysdate in H2? (for testing)","body":"<p>If you use two databases at once, you should avoid usage of vendor-specific syntax.</p>\n\n<p>You can use SQL Standard-compliant</p>\n\n<p><code>LOCALTIMESTAMP - INTERVAL '30' MINUTE</code></p>\n\n<p>in recent versions of Oracle and H2.</p>\n\n<p>I already had this problem and that was the solution it worked.</p>\n"}],"owner":{"account_id":6035248,"reputation":51,"user_id":8042359,"display_name":"kir55rus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2410,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1687943955,"creation_date":1534600007,"question_id":51909323,"body_markdown":"I use H2 for testing and I want to set `sysdate`.\r\n\r\nI tried to create an alias for `sysdate` to my own implementation, but then I couldn&#39;t use it with arithmetic like `sysdate - ?`. There was exception: `Unknown data type: &quot;?&quot;`\r\n\r\nI tried to replace `sysdate` string to smth like `timestamp &#39;2018-01-01 11:11:11.123&#39;` or `parsedatetime(&#39;2018-01-01 11:11:11.123&#39;, &#39;yyyy-MM-dd hh:mm:ss.SSS&#39;)` in runtime. There was same exception, like in previous attempt.\r\n\r\nYes, I can add `cast(? as number)` to all my sql, but it isn&#39;t a good solution for me.\r\n\r\nDo you have any idea, how can I do this?\r\n\r\nps: I also use Spring. Maybe it will help","title":"How can I set sysdate in H2? (for testing)","body":"<p>I use H2 for testing and I want to set <code>sysdate</code>.</p>\n\n<p>I tried to create an alias for <code>sysdate</code> to my own implementation, but then I couldn't use it with arithmetic like <code>sysdate - ?</code>. There was exception: <code>Unknown data type: \"?\"</code></p>\n\n<p>I tried to replace <code>sysdate</code> string to smth like <code>timestamp '2018-01-01 11:11:11.123'</code> or <code>parsedatetime('2018-01-01 11:11:11.123', 'yyyy-MM-dd hh:mm:ss.SSS')</code> in runtime. There was same exception, like in previous attempt.</p>\n\n<p>Yes, I can add <code>cast(? as number)</code> to all my sql, but it isn't a good solution for me.</p>\n\n<p>Do you have any idea, how can I do this?</p>\n\n<p>ps: I also use Spring. Maybe it will help</p>\n"},{"tags":["java","http","tomcat"],"comments":[{"owner":{"account_id":435735,"reputation":125,"user_id":3534982,"display_name":"Hus Mukh"},"score":0,"creation_date":1698805032,"post_id":76571738,"comment_id":136451081,"body_markdown":"I am facing same issue for Asynch rest api to download a file. Any one have any clue on this?","body":"I am facing same issue for Asynch rest api to download a file. Any one have any clue on this?"}],"owner":{"account_id":28911088,"reputation":11,"user_id":22144077,"display_name":""},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687943927,"creation_date":1687943927,"question_id":76571738,"body_markdown":"org.apache.coyote. CloseNowException: Failed write\r\nat org.apache.coyote.http11.Http110utputBuffer$SocketOutputBuffer.doWrite(Http110utputBuffer.java:548)~[tomcat-embed-cor\r\ne-9.0.39.jar!/:9.0.391\r\nat org.apache.coyote.httpll.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:110)~[tomcat-embed-core-9.0.39.\r\njar!/:9.0.39]\r\natorg.apache.coyote.http11.Http110utputBuffer.doWrite(Http110utputBuffer.java:193)~[tomcat-embed-core-9.0.39.jar!/:9.0.\r\n39]\r\nat org.apache.coyote.Response.doWrite(Response.java:601)~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\r\nat org.apache.catalina.connector.OutputBuffer.realwriteBytes(OutputBuffer.java:339)~[tomcat-embed-core-9.0.39.jar!/:9.0.\r\n39]\r\nat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:776)~[tomcat-embed-core-9.0.39.jar!/:9\r\n\r\ndont appear this error","title":"org.apache.coyote. CloseNowException: Failed write","body":"<p>org.apache.coyote. CloseNowException: Failed write\nat org.apache.coyote.http11.Http110utputBuffer$SocketOutputBuffer.doWrite(Http110utputBuffer.java:548)~[tomcat-embed-cor\ne-9.0.39.jar!/:9.0.391\nat org.apache.coyote.httpll.filters.ChunkedOutputFilter.doWrite(ChunkedOutputFilter.java:110)~[tomcat-embed-core-9.0.39.\njar!/:9.0.39]\natorg.apache.coyote.http11.Http110utputBuffer.doWrite(Http110utputBuffer.java:193)~[tomcat-embed-core-9.0.39.jar!/:9.0.\n39]\nat org.apache.coyote.Response.doWrite(Response.java:601)~[tomcat-embed-core-9.0.39.jar!/:9.0.39]\nat org.apache.catalina.connector.OutputBuffer.realwriteBytes(OutputBuffer.java:339)~[tomcat-embed-core-9.0.39.jar!/:9.0.\n39]\nat org.apache.catalina.connector.OutputBuffer.flushByteBuffer(OutputBuffer.java:776)~[tomcat-embed-core-9.0.39.jar!/:9</p>\n<p>dont appear this error</p>\n"},{"tags":["java","android","kotlin","button","android-jetpack-compose"],"comments":[{"owner":{"account_id":6171837,"reputation":1578,"user_id":4809922,"display_name":"Eliza Camber"},"score":0,"creation_date":1687944911,"post_id":76571708,"comment_id":135006624,"body_markdown":"If you disable dynamicColor in the  Theme.kt does it change?","body":"If you disable dynamicColor in the  Theme.kt does it change?"},{"owner":{"account_id":11834347,"reputation":12400,"user_id":9636037,"display_name":"Abhimanyu"},"score":0,"creation_date":1687966868,"post_id":76571708,"comment_id":135011575,"body_markdown":"Is the Composable wrapped within the Theme? Provide a minimum reproducible example.","body":"Is the Composable wrapped within the Theme? Provide a minimum reproducible example."},{"owner":{"account_id":19293500,"reputation":95,"user_id":14102903,"display_name":"dev.tejasb"},"score":0,"creation_date":1700384887,"post_id":76571708,"comment_id":136646048,"body_markdown":"make sure you have theme configured correctly, disabled the dynamic color and last you are wrapping your composable with your theme. If all these 3 things are done, then you&#39;ll get the desired result.","body":"make sure you have theme configured correctly, disabled the dynamic color and last you are wrapping your composable with your theme. If all these 3 things are done, then you&#39;ll get the desired result."}],"owner":{"account_id":22107371,"reputation":11,"user_id":16362748,"display_name":"Srijan Khadka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687943607,"creation_date":1687943607,"question_id":76571708,"body_markdown":"I have a project in XML and I m trying to add a specific feature to it using Jetpack Compose. I have been using Compose Navigation. The problem is that the button color is Purple(maybe the default color) and my UI Theme color is Green. How to make the button take the effect of the theme color?","title":"Button is not taking the theme effect in jetpack compose","body":"<p>I have a project in XML and I m trying to add a specific feature to it using Jetpack Compose. I have been using Compose Navigation. The problem is that the button color is Purple(maybe the default color) and my UI Theme color is Green. How to make the button take the effect of the theme color?</p>\n"},{"tags":["java","visual-studio-code","java-package"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687741613,"post_id":76546076,"comment_id":134974383,"body_markdown":"Hi there, please share the error message in the plain text format","body":"Hi there, please share the error message in the plain text format"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":1,"creation_date":1687765638,"post_id":76546076,"comment_id":134976989,"body_markdown":"This is fine on my machine, please show more information, such as your personal settings and the way you execute code, etc.  \nPlease see [how to ask](https://stackoverflow.com/help/how-to-ask).\n\n[minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"This is fine on my machine, please show more information, such as your personal settings and the way you execute code, etc.   Please see <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask</a>.  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688693862,"post_id":76546076,"comment_id":135111540,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687775566,"post_id":76546098,"comment_id":134978922,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76546098/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28886267,"reputation":1,"user_id":22124531,"display_name":"Caesar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687941649,"creation_date":1687610381,"answer_id":76546098,"question_id":76546076,"body_markdown":"I would be much easier to help if you provided the code.\r\n\r\nWhat it comes to mind with this information is that you probably were writing a class without the main method, so when you didn&#39;t especified the package it used the default one wich has a main method, but when you compile in a package without a script with the main method you get that error.\r\n\r\nWhen you compile a program in a IDE it always search the main method, doesn&#39;t matter whether it is in the script you are editing or no. Si always have in mind that the core of a basic java program will have a main method that initialize all the stuff.","title":"how to fix java package problem in vs code","body":"<p>I would be much easier to help if you provided the code.</p>\n<p>What it comes to mind with this information is that you probably were writing a class without the main method, so when you didn't especified the package it used the default one wich has a main method, but when you compile in a package without a script with the main method you get that error.</p>\n<p>When you compile a program in a IDE it always search the main method, doesn't matter whether it is in the script you are editing or no. Si always have in mind that the core of a basic java program will have a main method that initialize all the stuff.</p>\n"}],"owner":{"account_id":26575919,"reputation":1,"user_id":20201320,"display_name":"Abhijeet Singh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1687943428,"creation_date":1687609932,"question_id":76546076,"body_markdown":"![enter image description here][1]# please help me to fix such thing.\r\n\r\n\r\nwhen I make a directory and inside such try to write java code this problem occurs. some time it does not give any error but when I run this code, this thing come to me Error: Could not find or load main class Test.also when i remove &#39;package myPkg&#39; from my code it&#39;s works. why? is my code is wrong or any problem with vs code editor.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5bUeR.png","title":"how to fix java package problem in vs code","body":"<p><img src=\"https://i.stack.imgur.com/5bUeR.png\" alt=\"enter image description here\" /># please help me to fix such thing.</p>\n<p>when I make a directory and inside such try to write java code this problem occurs. some time it does not give any error but when I run this code, this thing come to me Error: Could not find or load main class Test.also when i remove 'package myPkg' from my code it's works. why? is my code is wrong or any problem with vs code editor.</p>\n"},{"tags":["java","android","firebase","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":19211594,"reputation":1477,"user_id":14037302,"display_name":"sweak"},"score":1,"creation_date":1687936472,"post_id":76570703,"comment_id":135004953,"body_markdown":"Does this answer your question? [java.io.IOException: FIS\\_AUTH\\_ERROR in Android Firebase](https://stackoverflow.com/questions/60698622/java-io-ioexception-fis-auth-error-in-android-firebase)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60698622/java-io-ioexception-fis-auth-error-in-android-firebase\">java.io.IOException: FIS_AUTH_ERROR in Android Firebase</a>"}],"answers":[{"tags":[],"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687943191,"creation_date":1687943191,"answer_id":76571657,"question_id":76570703,"body_markdown":"try this one!\r\n\r\ngradle file(appLevel)\r\n\r\n    implementation &#39;com.google.firebase:firebase-messaging:23.1.2&#39;\r\n\r\nManifest File Add:\r\n\r\n             &lt;service\r\n                android:name=&quot;.MyFirebaseService&quot;\r\n                android:exported=&quot;true&quot;\r\n                android:stopWithTask=&quot;false&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/service&gt;\r\n\r\nService codes:\r\n\r\n    public class MyFirebaseService extends FirebaseMessagingService {\r\n    \r\n    \r\n        @Override\r\n        public void onNewToken(@NonNull String token) {\r\n            super.onNewToken(token);\r\n            Log.e(Utils.TAG, token);\r\n        }\r\n    }\r\n\r\nMy Activity code:\r\n\r\n    FirebaseMessaging.getInstance().getToken().addOnSuccessListener(new OnSuccessListener&lt;String&gt;() {\r\n                        @Override\r\n                        public void onSuccess(String s) {\r\n                            Log.e(&quot;fcmToken:=&gt;&quot;,s);\r\n                        }\r\n                    }).addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(MainActivity.this, &quot;Failed to get token&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    });\r\n\r\n","title":"How to get token from FCM in Android","body":"<p>try this one!</p>\n<p>gradle file(appLevel)</p>\n<pre><code>implementation 'com.google.firebase:firebase-messaging:23.1.2'\n</code></pre>\n<p>Manifest File Add:</p>\n<pre><code>         &lt;service\n            android:name=&quot;.MyFirebaseService&quot;\n            android:exported=&quot;true&quot;\n            android:stopWithTask=&quot;false&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot;/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<p>Service codes:</p>\n<pre><code>public class MyFirebaseService extends FirebaseMessagingService {\n\n\n    @Override\n    public void onNewToken(@NonNull String token) {\n        super.onNewToken(token);\n        Log.e(Utils.TAG, token);\n    }\n}\n</code></pre>\n<p>My Activity code:</p>\n<pre><code>FirebaseMessaging.getInstance().getToken().addOnSuccessListener(new OnSuccessListener&lt;String&gt;() {\n                    @Override\n                    public void onSuccess(String s) {\n                        Log.e(&quot;fcmToken:=&gt;&quot;,s);\n                    }\n                }).addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        Toast.makeText(MainActivity.this, &quot;Failed to get token&quot;, Toast.LENGTH_SHORT).show();\n                    }\n                });\n</code></pre>\n"}],"owner":{"account_id":28646746,"reputation":7,"user_id":21934585,"display_name":"Dali Hasan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687943191,"creation_date":1687935150,"question_id":76570703,"body_markdown":"In my application I want use FCM and I added below dependencies in gradle file : &lt;br&gt;\r\n\r\n    //Firebase\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:31.1.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-messaging:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.3.0&#39;\r\n    //Analytics\r\n    implementation &#39;com.google.firebase:firebase-analytics:21.3.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-analytics:18.0.3&#39;\r\n\r\nI write below codes but after run application not show me token and just show error in logcat! &lt;br&gt;\r\nIn FCM console I created json file for my application and paste it in my project! &lt;br&gt;\r\n**My Activity code:** &lt;br&gt;\r\n\r\n    //FCM\r\n    Log.e(&quot;FirebaseToken&quot;, &quot;1&quot;);\r\n    FirebaseMessaging.getInstance().getToken().addOnCompleteListener(task -&gt; {\r\n        Log.e(&quot;FirebaseToken&quot;, &quot;2&quot;);\r\n        if (!task.isSuccessful()) {\r\n            Log.e(&quot;FirebaseToken&quot;, &quot;Fetching FCM registration token failed&quot;, task.getException());\r\n            return;\r\n        }\r\n        String token = task.getResult();\r\n        Log.e(&quot;FirebaseToken&quot;, &quot;Token : &quot; + token);\r\n    });\r\n\r\n**Service codes:** &lt;br&gt;\r\n\r\n    public class MyFcmService extends FirebaseMessagingService {\r\n        @Override\r\n        public void onNewToken(@NonNull String token) {\r\n            Log.e(&quot;FirebaseToken&quot;, &quot;Refreshed token: &quot; + token);\r\n        }\r\n    }\r\n\r\nAfter run application show me this messages in logcat: &lt;br&gt;\r\n\r\n    1\r\n    2023-06-28 10:07:03.962 16810-16810 FirebaseToken           com.myapp                          E  2\r\n    2023-06-28 10:07:03.964 16810-16810 FirebaseToken           com.myapp                          E  Fetching FCM registration token failed\r\n        java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR\r\n        \tat com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(FirebaseMessaging.java:625)\r\n        \tat com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$4$FirebaseMessaging(FirebaseMessaging.java:392)\r\n        \tat com.google.firebase.messaging.-$$Lambda$FirebaseMessaging$hhRqCIwb_q-GasIrdNMReoTbQ60.run(Unknown Source:4)\r\n        \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        \tat com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@18.1.0:2)\r\n        \tat java.lang.Thread.run(Thread.java:920)\r\n        Caused by: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR\r\n        \tat com.google.android.gms.tasks.Tasks.zza(com.google.android.gms:play-services-tasks@@18.0.1:5)\r\n        \tat com.google.android.gms.tasks.Tasks.await(com.google.android.gms:play-services-tasks@@18.0.1:8)\r\n        \tat com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(FirebaseMessaging.java:623)\r\n        \tat com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$4$FirebaseMessaging(FirebaseMessaging.java:392)&#160;\r\n        \tat com.google.firebase.messaging.-$$Lambda$FirebaseMessaging$hhRqCIwb_q-GasIrdNMReoTbQ60.run(Unknown Source:4)&#160;\r\n        \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)&#160;\r\n        \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)&#160;\r\n        \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)&#160;\r\n        \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        \tat com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@18.1.0:2)&#160;\r\n        \tat java.lang.Thread.run(Thread.java:920)&#160;\r\n        Caused by: java.io.IOException: FIS_AUTH_ERROR\r\n        \tat com.google.firebase.messaging.GmsRpc.handleResponse(GmsRpc.java:309)\r\n        \tat com.google.firebase.messaging.GmsRpc.lambda$extractResponseWhenComplete$0$GmsRpc(GmsRpc.java:320)\r\n        \tat com.google.firebase.messaging.-$$Lambda$GmsRpc$tPjltVSAbk36mmkzOG1vcfMBmQo.then(Unknown Source:2)\r\n        \tat com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@18.0.1:3)\r\n        \tat com.google.firebase.messaging.-$$Lambda$_14QHG018Z6p13d3hzJuGTWnNeo.execute(Unknown Source:0)\r\n        \tat com.google.android.gms.tasks.zzd.zzd(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        \tat com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@18.0.1:5)\r\n        \tat com.google.android.gms.tasks.zzw.zzb(com.google.android.gms:play-services-tasks@@18.0.1:3)\r\n        \tat com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@18.0.1:8)\r\n        \tat com.google.android.gms.cloudmessaging.zzz.execute(Unknown Source:0)\r\n        \tat com.google.android.gms.tasks.zzd.zzd(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        \tat com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@18.0.1:5)\r\n        \tat com.google.android.gms.tasks.zzw.zzb(com.google.android.gms:play-services-tasks@@18.0.1:3)\r\n        \tat com.google.android.gms.tasks.TaskCompletionSource.setResult(com.google.android.gms:play-services-tasks@@18.0.1:1)\r\n        \tat com.google.android.gms.cloudmessaging.zzp.zzd(com.google.android.gms:play-services-cloud-messaging@@17.0.0:3)\r\n        \tat com.google.android.gms.cloudmessaging.zzr.zza(com.google.android.gms:play-services-cloud-messaging@@17.0.0:2)\r\n        \tat com.google.android.gms.cloudmessaging.zzf.handleMessage(com.google.android.gms:play-services-cloud-messaging@@17.0.0:14)\r\n        \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n        \tat android.os.Looper.loopOnce(Looper.java:226)\r\n        \tat android.os.Looper.loop(Looper.java:313)\r\n        \tat android.app.ActivityThread.main(ActivityThread.java:8663)\r\n        \tat java.lang.reflect.Method.invoke(Native Method)\r\n        \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n        \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)","title":"How to get token from FCM in Android","body":"<p>In my application I want use FCM and I added below dependencies in gradle file : <br></p>\n<pre><code>//Firebase\nimplementation platform('com.google.firebase:firebase-bom:31.1.0')\nimplementation 'com.google.firebase:firebase-messaging:21.1.0'\nimplementation 'com.google.firebase:firebase-analytics:21.3.0'\n//Analytics\nimplementation 'com.google.firebase:firebase-analytics:21.3.0'\nimplementation 'com.google.android.gms:play-services-analytics:18.0.3'\n</code></pre>\n<p>I write below codes but after run application not show me token and just show error in logcat! <br>\nIn FCM console I created json file for my application and paste it in my project! <br>\n<strong>My Activity code:</strong> <br></p>\n<pre><code>//FCM\nLog.e(&quot;FirebaseToken&quot;, &quot;1&quot;);\nFirebaseMessaging.getInstance().getToken().addOnCompleteListener(task -&gt; {\n    Log.e(&quot;FirebaseToken&quot;, &quot;2&quot;);\n    if (!task.isSuccessful()) {\n        Log.e(&quot;FirebaseToken&quot;, &quot;Fetching FCM registration token failed&quot;, task.getException());\n        return;\n    }\n    String token = task.getResult();\n    Log.e(&quot;FirebaseToken&quot;, &quot;Token : &quot; + token);\n});\n</code></pre>\n<p><strong>Service codes:</strong> <br></p>\n<pre><code>public class MyFcmService extends FirebaseMessagingService {\n    @Override\n    public void onNewToken(@NonNull String token) {\n        Log.e(&quot;FirebaseToken&quot;, &quot;Refreshed token: &quot; + token);\n    }\n}\n</code></pre>\n<p>After run application show me this messages in logcat: <br></p>\n<pre><code>1\n2023-06-28 10:07:03.962 16810-16810 FirebaseToken           com.myapp                          E  2\n2023-06-28 10:07:03.964 16810-16810 FirebaseToken           com.myapp                          E  Fetching FCM registration token failed\n    java.io.IOException: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR\n        at com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(FirebaseMessaging.java:625)\n        at com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$4$FirebaseMessaging(FirebaseMessaging.java:392)\n        at com.google.firebase.messaging.-$$Lambda$FirebaseMessaging$hhRqCIwb_q-GasIrdNMReoTbQ60.run(Unknown Source:4)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@18.1.0:2)\n        at java.lang.Thread.run(Thread.java:920)\n    Caused by: java.util.concurrent.ExecutionException: java.io.IOException: FIS_AUTH_ERROR\n        at com.google.android.gms.tasks.Tasks.zza(com.google.android.gms:play-services-tasks@@18.0.1:5)\n        at com.google.android.gms.tasks.Tasks.await(com.google.android.gms:play-services-tasks@@18.0.1:8)\n        at com.google.firebase.messaging.FirebaseMessaging.blockingGetToken(FirebaseMessaging.java:623)\n        at com.google.firebase.messaging.FirebaseMessaging.lambda$getToken$4$FirebaseMessaging(FirebaseMessaging.java:392)\n        at com.google.firebase.messaging.-$$Lambda$FirebaseMessaging$hhRqCIwb_q-GasIrdNMReoTbQ60.run(Unknown Source:4)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:462)\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at com.google.android.gms.common.util.concurrent.zza.run(com.google.android.gms:play-services-basement@@18.1.0:2)\n        at java.lang.Thread.run(Thread.java:920)\n    Caused by: java.io.IOException: FIS_AUTH_ERROR\n        at com.google.firebase.messaging.GmsRpc.handleResponse(GmsRpc.java:309)\n        at com.google.firebase.messaging.GmsRpc.lambda$extractResponseWhenComplete$0$GmsRpc(GmsRpc.java:320)\n        at com.google.firebase.messaging.-$$Lambda$GmsRpc$tPjltVSAbk36mmkzOG1vcfMBmQo.then(Unknown Source:2)\n        at com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@18.0.1:3)\n        at com.google.firebase.messaging.-$$Lambda$_14QHG018Z6p13d3hzJuGTWnNeo.execute(Unknown Source:0)\n        at com.google.android.gms.tasks.zzd.zzd(com.google.android.gms:play-services-tasks@@18.0.1:1)\n        at com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@18.0.1:5)\n        at com.google.android.gms.tasks.zzw.zzb(com.google.android.gms:play-services-tasks@@18.0.1:3)\n        at com.google.android.gms.tasks.zzc.run(com.google.android.gms:play-services-tasks@@18.0.1:8)\n        at com.google.android.gms.cloudmessaging.zzz.execute(Unknown Source:0)\n        at com.google.android.gms.tasks.zzd.zzd(com.google.android.gms:play-services-tasks@@18.0.1:1)\n        at com.google.android.gms.tasks.zzr.zzb(com.google.android.gms:play-services-tasks@@18.0.1:5)\n        at com.google.android.gms.tasks.zzw.zzb(com.google.android.gms:play-services-tasks@@18.0.1:3)\n        at com.google.android.gms.tasks.TaskCompletionSource.setResult(com.google.android.gms:play-services-tasks@@18.0.1:1)\n        at com.google.android.gms.cloudmessaging.zzp.zzd(com.google.android.gms:play-services-cloud-messaging@@17.0.0:3)\n        at com.google.android.gms.cloudmessaging.zzr.zza(com.google.android.gms:play-services-cloud-messaging@@17.0.0:2)\n        at com.google.android.gms.cloudmessaging.zzf.handleMessage(com.google.android.gms:play-services-cloud-messaging@@17.0.0:14)\n        at android.os.Handler.dispatchMessage(Handler.java:102)\n        at android.os.Looper.loopOnce(Looper.java:226)\n        at android.os.Looper.loop(Looper.java:313)\n        at android.app.ActivityThread.main(ActivityThread.java:8663)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":1675364,"reputation":383,"user_id":1541051,"accept_rate":80,"display_name":"Bharat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687942800,"creation_date":1687941432,"answer_id":76571425,"question_id":76571150,"body_markdown":"By default, Spring resolves autowired entries by type. If more than one bean of the same type is available in the container but it can&#39;t resolve using Qualifiers or other mechanism, the framework will throw `NoUniqueBeanDefinitionException`\r\n\r\nSo, for your question, it will look for implementations of `Reader`.\r\n\r\nI am not sure if you can use same qualifier names for different types but, if you want some similar functionality, you need to look at [Spring profiles][1] where each profile decides on the Bean that you want to inject for dependency\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html","title":"Does Spring @Qualifier resolves name among all beans or only among beans that share the qualified type","body":"<p>By default, Spring resolves autowired entries by type. If more than one bean of the same type is available in the container but it can't resolve using Qualifiers or other mechanism, the framework will throw <code>NoUniqueBeanDefinitionException</code></p>\n<p>So, for your question, it will look for implementations of <code>Reader</code>.</p>\n<p>I am not sure if you can use same qualifier names for different types but, if you want some similar functionality, you need to look at <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">Spring profiles</a> where each profile decides on the Bean that you want to inject for dependency</p>\n"},{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687941559,"creation_date":1687941559,"answer_id":76571446,"question_id":76571150,"body_markdown":"&gt; When Spring will try to find the Reader implementation, will it look among all the defined qualifiers for all Beans, or will it only look among the qualifiers for the Reader implementations?\r\n\r\nNope, the `@Autowired` annotation searches only for the beans of the required type. If there are multiple implementations, the `@Qualifier` annotation helps to select the particular one. In other words, if you have multiple beans sharing the same name but differ in type (i.e. only one of them is qualified by type), the `@Qualifier` annotation is not needed.\r\n\r\n&gt; In the second case, does it mean I can use the same &quot;LocalFile&quot; qualifier on different, unrelated beans, like implementations of Reader and implementations of Writer for example?\r\n\r\nOf course, you can.","title":"Does Spring @Qualifier resolves name among all beans or only among beans that share the qualified type","body":"<blockquote>\n<p>When Spring will try to find the Reader implementation, will it look among all the defined qualifiers for all Beans, or will it only look among the qualifiers for the Reader implementations?</p>\n</blockquote>\n<p>Nope, the <code>@Autowired</code> annotation searches only for the beans of the required type. If there are multiple implementations, the <code>@Qualifier</code> annotation helps to select the particular one. In other words, if you have multiple beans sharing the same name but differ in type (i.e. only one of them is qualified by type), the <code>@Qualifier</code> annotation is not needed.</p>\n<blockquote>\n<p>In the second case, does it mean I can use the same &quot;LocalFile&quot; qualifier on different, unrelated beans, like implementations of Reader and implementations of Writer for example?</p>\n</blockquote>\n<p>Of course, you can.</p>\n"}],"owner":{"account_id":3042668,"reputation":187,"user_id":2579265,"display_name":"Calimero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76571446,"answer_count":2,"score":1,"last_activity_date":1687942800,"creation_date":1687939135,"question_id":76571150,"body_markdown":"I am new to spring and was wondering how @Qualifier resolves for DI.\r\n\r\nIf I have an interface for Reading external data with implementations for reading local files (to read config files for example) and reading from database (reading the business data for example), hiding the actual technical detail from the caller (is it a DB or is a LocalFile or something else, doesnt matter interface contract is fullfilled).\r\n\r\n    public interface Reader { }\r\n\r\n    @Component\r\n    @Qualifier(&quot;LocalFileReader&quot;)\r\n    public class LocalFileReader implements Reader { }\r\n\r\n    @Component\r\n    @Qualifier(&quot;DbReader&quot;)\r\n    public class DbReader implements Reader { }\r\n\r\n\r\n\r\nWhen I want to inject a Reader implementation \r\n\r\n    public class MyService {    \r\n       @Autowired\r\n       @Qualifier(&quot;LocalFileReader&quot;)\r\n       private Reader reader;    \r\n    }\r\n\r\n\r\nWhen Spring will try to find the Reader implementation, will it look among all the defined qualifiers for all Beans, or will it only look among the qualifiers for the Reader implementations ?\r\n\r\nIn the second case, does it mean I can use the same &quot;LocalFile&quot; qualifier on different, unrelated  beans, like implementations of `Reader` and implementations of `Writer` for example ? \r\n\r\n    public class MyService {    \r\n       @Autowired\r\n       @Qualifier(&quot;LocalFile&quot;)\r\n       private Reader reader;  \r\n\r\n       @Autowired\r\n       @Qualifier(&quot;LocalFile&quot;)\r\n       private Writer writer;  \r\n    }\r\n\r\nIt doesnt bring much gain over doing `@Qualifier(&quot;LocalFileReader&quot;)` and `@Qualifier(&quot;LocalFileWriter&quot;)` but it helps me understand how it works. And if I&#39;m right so far, is there a way to tell once &quot;for this entire object use the local file beans&quot; ?","title":"Does Spring @Qualifier resolves name among all beans or only among beans that share the qualified type","body":"<p>I am new to spring and was wondering how @Qualifier resolves for DI.</p>\n<p>If I have an interface for Reading external data with implementations for reading local files (to read config files for example) and reading from database (reading the business data for example), hiding the actual technical detail from the caller (is it a DB or is a LocalFile or something else, doesnt matter interface contract is fullfilled).</p>\n<pre><code>public interface Reader { }\n\n@Component\n@Qualifier(&quot;LocalFileReader&quot;)\npublic class LocalFileReader implements Reader { }\n\n@Component\n@Qualifier(&quot;DbReader&quot;)\npublic class DbReader implements Reader { }\n</code></pre>\n<p>When I want to inject a Reader implementation</p>\n<pre><code>public class MyService {    \n   @Autowired\n   @Qualifier(&quot;LocalFileReader&quot;)\n   private Reader reader;    \n}\n</code></pre>\n<p>When Spring will try to find the Reader implementation, will it look among all the defined qualifiers for all Beans, or will it only look among the qualifiers for the Reader implementations ?</p>\n<p>In the second case, does it mean I can use the same &quot;LocalFile&quot; qualifier on different, unrelated  beans, like implementations of <code>Reader</code> and implementations of <code>Writer</code> for example ?</p>\n<pre><code>public class MyService {    \n   @Autowired\n   @Qualifier(&quot;LocalFile&quot;)\n   private Reader reader;  \n\n   @Autowired\n   @Qualifier(&quot;LocalFile&quot;)\n   private Writer writer;  \n}\n</code></pre>\n<p>It doesnt bring much gain over doing <code>@Qualifier(&quot;LocalFileReader&quot;)</code> and <code>@Qualifier(&quot;LocalFileWriter&quot;)</code> but it helps me understand how it works. And if I'm right so far, is there a way to tell once &quot;for this entire object use the local file beans&quot; ?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18467158,"reputation":31,"user_id":13453007,"display_name":"Benjamin Jenne"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613720307,"creation_date":1590280972,"answer_id":61980301,"question_id":61979399,"body_markdown":"Add in app level build.gradle:\r\n\r\n```\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.1.0&#39;\r\n\r\n    //Testing\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.2.0&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    androidTestImplementation(&#39;com.android.support.test.espresso:espresso-contrib:3.0.2&#39;){\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;appcompat&#39;\r\n        exclude module: &#39;recyclerview-v7&#39;\r\n        exclude module: &#39;appcompat-v7&#39;\r\n    }\r\n```","title":"Cannot Resolve Symbol RecyclerViewActions / RecyclerViewMatcher","body":"<p>Add in app level build.gradle:</p>\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'com.google.android.material:material:1.0.0'\n\n    implementation 'androidx.appcompat:appcompat:1.1.0'\n\n    //Testing\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:rules:1.2.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation('com.android.support.test.espresso:espresso-contrib:3.0.2'){\n        exclude group: 'com.android.support', module: 'appcompat'\n        exclude module: 'recyclerview-v7'\n        exclude module: 'appcompat-v7'\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095520,"reputation":329,"user_id":10894077,"display_name":"Marek Macko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687942680,"creation_date":1687942680,"answer_id":76571586,"question_id":61979399,"body_markdown":"`RecyclerViewActions` and `RecyclerViewMatcher` classes are placed under `espresso-contrib` dependency:\r\n```\r\ndependencies {\r\n    ...\r\n    androidTestImplementation( &quot;androidx.test.espresso:espresso-contrib:$espressoVersion&quot;)\r\n}\r\n```\r\n\r\nSource: [androidx-test-libraries/test-setup][1]\r\n\r\n\r\n  [1]: https://developer.android.com/training/testing/instrumented-tests/androidx-test-libraries/test-setup","title":"Cannot Resolve Symbol RecyclerViewActions / RecyclerViewMatcher","body":"<p><code>RecyclerViewActions</code> and <code>RecyclerViewMatcher</code> classes are placed under <code>espresso-contrib</code> dependency:</p>\n<pre><code>dependencies {\n    ...\n    androidTestImplementation( &quot;androidx.test.espresso:espresso-contrib:$espressoVersion&quot;)\n}\n</code></pre>\n<p>Source: <a href=\"https://developer.android.com/training/testing/instrumented-tests/androidx-test-libraries/test-setup\" rel=\"nofollow noreferrer\">androidx-test-libraries/test-setup</a></p>\n"}],"owner":{"account_id":18467158,"reputation":31,"user_id":13453007,"display_name":"Benjamin Jenne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1687942680,"creation_date":1590273114,"question_id":61979399,"body_markdown":"I am trying to write tests for a recycler view in my android app. I am getting a cannot resolve symbol error for &quot;RecyclerViewActions&quot; and &quot;RecyclerViewMatcher.&quot;\r\n\r\nHere is the helper method in my test where the &quot;cannot resolve symbol&quot; error is being thrown.\r\n\r\n    ````// Convenience helper\r\n    public static RecyclerViewMatcher withRecyclerView(final int recyclerViewId) {\r\n        return new RecyclerViewMatcher(recyclerViewId);\r\n    }````\r\n\r\nHere is my import where the error is also being thrown\r\n\r\n````import static androidx.test.espresso.contrib.RecyclerViewActions;````\r\n\r\nHere is my app level build.gradle dependencies:\r\n\r\n````\r\ndependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.1.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.0.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.0.0&#39;\r\n    implementation &#39;androidx.coordinatorlayout:coordinatorlayout:1.1.0&#39;\r\n    testImplementation &#39;junit:junit:4.12&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n    androidTestImplementation(&#39;androidx.test.espresso:espresso-contrib:3.2.0&#39;) {\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;appcompat&#39;\r\n        exclude group: &#39;com.android.support&#39;, module: &#39;support-v4&#39;\r\n    }\r\n}````\r\n","title":"Cannot Resolve Symbol RecyclerViewActions / RecyclerViewMatcher","body":"<p>I am trying to write tests for a recycler view in my android app. I am getting a cannot resolve symbol error for \"RecyclerViewActions\" and \"RecyclerViewMatcher.\"</p>\n\n<p>Here is the helper method in my test where the \"cannot resolve symbol\" error is being thrown.</p>\n\n<pre><code>````// Convenience helper\npublic static RecyclerViewMatcher withRecyclerView(final int recyclerViewId) {\n    return new RecyclerViewMatcher(recyclerViewId);\n}````\n</code></pre>\n\n<p>Here is my import where the error is also being thrown</p>\n\n<p><code>import static androidx.test.espresso.contrib.RecyclerViewActions;</code></p>\n\n<p>Here is my app level build.gradle dependencies:</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.1.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'androidx.navigation:navigation-fragment:2.0.0'\n    implementation 'androidx.navigation:navigation-ui:2.0.0'\n    implementation 'androidx.coordinatorlayout:coordinatorlayout:1.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:rules:1.1.1'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation('androidx.test.espresso:espresso-contrib:3.2.0') {\n        exclude group: 'com.android.support', module: 'appcompat'\n        exclude group: 'com.android.support', module: 'support-v4'\n    }\n}````\n\n</code></pre>\n"},{"tags":["java","client","ejb","wildfly","remote-access"],"answers":[{"tags":[],"owner":{"account_id":28266050,"reputation":11,"user_id":21609994,"display_name":"ranxero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687842008,"creation_date":1687624398,"answer_id":76547016,"question_id":76544034,"body_markdown":"Got it solved with the help of these tutorials:\r\n\r\nhttps://github.com/wildfly-security-incubator/elytron-examples/tree/main/ejb-http\r\n\r\nhttps://wildfly-security.github.io/wildfly-elytron/blog/ejb-over-http/\r\n\r\nThe issue lied within the details of the wildfly configuration.\r\nI was missing some of the settings and my wildfly conifg was imcomplete. The following is what worked.\r\n\r\nserver config:\r\n```\r\n/subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-realm-users, relative-to=jboss.server.config.dir)\r\n\r\n/subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)\r\n/subsystem=elytron/filesystem-realm=fsRealm:set-password(clear={password=quickstartPwd1!},identity=quickstartUser)\r\n/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[guest])\r\n\r\n/subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)\r\n\r\n/subsystem=elytron/security-domain=fsSD:add(realms=[{realm=fsRealm, role-decoder=from-roles-attribute}], default-realm=fsRealm,permission-mapper=default-permission-mapper)\r\n\r\n/subsystem=ejb3/application-security-domain=other:add(security-domain=fsSD)\r\n```\r\n\r\nhttp-transport:\r\n\r\n```\r\n/subsystem=elytron/http-authentication-factory=example-http-auth:add(http-server-mechanism-factory=global,security-domain=fsSD,mechanism-configurations=[{mechanism-name=BASIC,mechanism-realm-configurations=[{realm-name=fsRealm}]}])\r\n\r\n/subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:undefine-attribute(name=security-realm)\r\n\r\n/subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:write-attribute(name=http-authentication-factory, value=example-http-auth)\r\n```\r\n\r\nclient key store:\r\n\r\n```\r\nWILDFLY_HOME/bin/elytron-tool.bat credential-store --create --location &quot;/PATH/TO/mycredstore.cs&quot; --password StorePassword\r\n\r\nWILDFLY_HOME/bin/elytron-tool.bat credential-store --location &quot;/PATH/TO/mycredstore.cs&quot; --password StorePassword --add quickstartUser --secret quickstartPwd1!\r\n```\r\n\r\nwildfly-config.xml (in resources folder)\r\nthe path to the client key store would then be: \r\n \r\nsrc/main/resources/mycredstore.cs\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;configuration&gt;\r\n    &lt;authentication-client xmlns=&quot;urn:elytron:client:1.7&quot;&gt;\r\n        &lt;credential-stores&gt;\r\n            &lt;credential-store name=&quot;mycredstore&quot;&gt;\r\n                &lt;attributes&gt;\r\n                    &lt;attribute name=&quot;keyStoreType&quot; value=&quot;JCEKS&quot;/&gt;\r\n                    &lt;attribute name=&quot;location&quot; value=&quot;/PATH/TO/mycredstore.cs&quot;&gt;&lt;/attribute&gt;\r\n                &lt;/attributes&gt;\r\n                &lt;protection-parameter-credentials&gt;\r\n                    &lt;clear-password password=&quot;StorePassword&quot;/&gt;\r\n                &lt;/protection-parameter-credentials&gt;\r\n            &lt;/credential-store&gt;\r\n        &lt;/credential-stores&gt;\r\n\r\n        &lt;authentication-rules&gt;\r\n            &lt;rule use-configuration=&quot;default-config&quot;/&gt;\r\n        &lt;/authentication-rules&gt;\r\n        &lt;authentication-configurations&gt;\r\n            &lt;configuration name=&quot;default-config&quot;&gt;\r\n                &lt;set-user-name name=&quot;quickstartUser&quot;/&gt;\r\n                &lt;credentials&gt;\r\n                    &lt;credential-store-reference store=&quot;mycredstore&quot; alias=&quot;quickstartUser&quot;/&gt;\r\n                &lt;/credentials&gt;\r\n                &lt;providers&gt;\r\n                    &lt;use-service-loader /&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/authentication-configurations&gt;\r\n    &lt;/authentication-client&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nthe actual lookup\r\n\r\n    private static TokenServiceRemote lookup() throws NamingException {\r\n\t\tfinal Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;&gt;();\r\n        jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\n        jndiProperties.put(Context.PROVIDER_URL, &quot;http://localhost:8080/wildfly-services&quot;);\r\n        final Context context = new InitialContext(jndiProperties);\r\n        return (TokenServiceRemote) context.lookup(&quot;ejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;);\r\n \t}\r\n\r\n","title":"widfly 27 remote ejb lookup from external client app gives error : EJBCLIENT000409: No more destinations are available","body":"<p>Got it solved with the help of these tutorials:</p>\n<p><a href=\"https://github.com/wildfly-security-incubator/elytron-examples/tree/main/ejb-http\" rel=\"nofollow noreferrer\">https://github.com/wildfly-security-incubator/elytron-examples/tree/main/ejb-http</a></p>\n<p><a href=\"https://wildfly-security.github.io/wildfly-elytron/blog/ejb-over-http/\" rel=\"nofollow noreferrer\">https://wildfly-security.github.io/wildfly-elytron/blog/ejb-over-http/</a></p>\n<p>The issue lied within the details of the wildfly configuration.\nI was missing some of the settings and my wildfly conifg was imcomplete. The following is what worked.</p>\n<p>server config:</p>\n<pre><code>/subsystem=elytron/filesystem-realm=fsRealm:add(path=fs-realm-users, relative-to=jboss.server.config.dir)\n\n/subsystem=elytron/filesystem-realm=fsRealm:add-identity(identity=quickstartUser)\n/subsystem=elytron/filesystem-realm=fsRealm:set-password(clear={password=quickstartPwd1!},identity=quickstartUser)\n/subsystem=elytron/filesystem-realm=fsRealm:add-identity-attribute(identity=quickstartUser, name=Roles, value=[guest])\n\n/subsystem=elytron/simple-role-decoder=from-roles-attribute:add(attribute=Roles)\n\n/subsystem=elytron/security-domain=fsSD:add(realms=[{realm=fsRealm, role-decoder=from-roles-attribute}], default-realm=fsRealm,permission-mapper=default-permission-mapper)\n\n/subsystem=ejb3/application-security-domain=other:add(security-domain=fsSD)\n</code></pre>\n<p>http-transport:</p>\n<pre><code>/subsystem=elytron/http-authentication-factory=example-http-auth:add(http-server-mechanism-factory=global,security-domain=fsSD,mechanism-configurations=[{mechanism-name=BASIC,mechanism-realm-configurations=[{realm-name=fsRealm}]}])\n\n/subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:undefine-attribute(name=security-realm)\n\n/subsystem=undertow/server=default-server/host=default-host/setting=http-invoker:write-attribute(name=http-authentication-factory, value=example-http-auth)\n</code></pre>\n<p>client key store:</p>\n<pre><code>WILDFLY_HOME/bin/elytron-tool.bat credential-store --create --location &quot;/PATH/TO/mycredstore.cs&quot; --password StorePassword\n\nWILDFLY_HOME/bin/elytron-tool.bat credential-store --location &quot;/PATH/TO/mycredstore.cs&quot; --password StorePassword --add quickstartUser --secret quickstartPwd1!\n</code></pre>\n<p>wildfly-config.xml (in resources folder)\nthe path to the client key store would then be:</p>\n<p>src/main/resources/mycredstore.cs</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;authentication-client xmlns=&quot;urn:elytron:client:1.7&quot;&gt;\n        &lt;credential-stores&gt;\n            &lt;credential-store name=&quot;mycredstore&quot;&gt;\n                &lt;attributes&gt;\n                    &lt;attribute name=&quot;keyStoreType&quot; value=&quot;JCEKS&quot;/&gt;\n                    &lt;attribute name=&quot;location&quot; value=&quot;/PATH/TO/mycredstore.cs&quot;&gt;&lt;/attribute&gt;\n                &lt;/attributes&gt;\n                &lt;protection-parameter-credentials&gt;\n                    &lt;clear-password password=&quot;StorePassword&quot;/&gt;\n                &lt;/protection-parameter-credentials&gt;\n            &lt;/credential-store&gt;\n        &lt;/credential-stores&gt;\n\n        &lt;authentication-rules&gt;\n            &lt;rule use-configuration=&quot;default-config&quot;/&gt;\n        &lt;/authentication-rules&gt;\n        &lt;authentication-configurations&gt;\n            &lt;configuration name=&quot;default-config&quot;&gt;\n                &lt;set-user-name name=&quot;quickstartUser&quot;/&gt;\n                &lt;credentials&gt;\n                    &lt;credential-store-reference store=&quot;mycredstore&quot; alias=&quot;quickstartUser&quot;/&gt;\n                &lt;/credentials&gt;\n                &lt;providers&gt;\n                    &lt;use-service-loader /&gt;\n                &lt;/providers&gt;\n            &lt;/configuration&gt;\n        &lt;/authentication-configurations&gt;\n    &lt;/authentication-client&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>the actual lookup</p>\n<pre><code>private static TokenServiceRemote lookup() throws NamingException {\n    final Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;&gt;();\n    jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY, &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\n    jndiProperties.put(Context.PROVIDER_URL, &quot;http://localhost:8080/wildfly-services&quot;);\n    final Context context = new InitialContext(jndiProperties);\n    return (TokenServiceRemote) context.lookup(&quot;ejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":28266050,"reputation":11,"user_id":21609994,"display_name":"ranxero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687942567,"creation_date":1687564584,"question_id":76544034,"body_markdown":"Trying to look up a remote stateful EJB inside an EAR deployed on wildfly 27. I created a wildfly user for the `ApplicationRealm`.\r\nI followed this tutorial:\r\n \r\nhttps://www.mastertheboss.com/jbossas/jboss-as-7/jboss-as-7-remote-ejb-client-tutorial/\r\n\r\nI&#39;m aware that this is for jboss AS7 but I couldn&#39;t find anything more up to date.\r\nA link to a current tutorial would as well help heaps.\r\nI already reviewed other posts with the same error but no one seems to have a clue.\r\nOne even on the jboss.org site with no answer.\r\n\r\nThe application user was correctly added to \r\n`application-users.properties`\r\nin `standalone/configuration`.\r\nI&#39;m running wildfly with standalone-full config.\r\n\r\nI&#39;m getting these exceptions\r\n\r\n    INFO: JBoss EJB Client version 5.0.4.Final\r\n    javax.naming.CommunicationException: EJBCLIENT000062: Failed to look up &quot;enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;\r\n    [Root exception is org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available]\r\n\tat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)\r\n\tat org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)\r\n\tat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\r\n\tat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)\r\n\tat cs.edu.enterprise.client.Main.lookupTokenServiceRemoteEJB(Main.java:55)\r\n\tat cs.edu.enterprise.client.Main.main(Main.java:41)\r\n\r\n\r\n    Caused by: org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available\r\n\tat org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:125)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.call(AuthenticationContextEJBClientInterceptor.java:59)\r\n\tat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.handleSessionCreation(AuthenticationContextEJBClientInterceptor.java:39)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:106)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.wildfly.common.context.Contextual.runExFunction(Contextual.java:287)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceedInitial(EJBSessionCreationInvocationContext.java:47)\r\n\tat org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:900)\r\n\tat org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)\r\n\tat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)\r\n\t... 5 more\r\n\r\nLookup code \r\n\r\n    private static TokenServiceRemote lookupTokenServiceRemoteEJB() throws NamingException {\r\n        final Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;&gt;();\r\n        jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY,  &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\r\n                jndiProperties.put(Context.PROVIDER_URL,&quot;http-remoting://localhost:8080&quot;);\r\n        final Context context = new InitialContext(jndiProperties);\r\n        return (TokenServiceRemote) context\r\n                .lookup(&quot;ejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;);\r\n    }\r\n\r\nHost and port are correct, I can call a servlet deployed in the same EAR via `http://localhost:8080`\r\n\r\nWhen deploying the EAR the server log shows these JNDI names.\r\n\r\n    java:global/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\r\n\tjava:app/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\r\n\tjava:module/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\r\n\tjava:global/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\r\n\tjava:app/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\r\n\tjava:module/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\r\n\tjava:jboss/exported/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\r\n\tejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful\r\n\r\nMaven dependencies\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-jakartaee8-with-tools-builder&lt;/artifactId&gt;\r\n        &lt;version&gt;26.1.3.Final&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-ejb-client-bom&lt;/artifactId&gt;\r\n        &lt;version&gt;28.0.1.Final&lt;/version&gt;\r\n        &lt;type&gt;pom&lt;/type&gt;\r\n    &lt;/dependency&gt;\r\n\r\nwildfly-config.xml\r\n\r\n\r\n    &lt;configuration&gt;\r\n    \t&lt;authentication-client xmlns=&quot;urn:elytron:1.0&quot;&gt;\r\n    \t\t&lt;authentication-rules&gt;\r\n    \t\t\t&lt;rule use-configuration=&quot;default&quot;/&gt;\r\n    \t\t&lt;/authentication-rules&gt;\r\n    \t\t&lt;authentication-configurations&gt;\r\n    \t\t\t&lt;configuration name=&quot;default&quot;&gt;\r\n    \t\t\t\t&lt;sasl-mechanism-selector selector=&quot;DIGEST-MD5&quot;/&gt;\r\n    \t\t\t\t&lt;set-user-name name=&quot;*****&quot;/&gt;\r\n    \t\t\t\t&lt;credentials&gt;\r\n    \t\t\t\t\t&lt;clear-password password=&quot;*****&quot;/&gt;\r\n    \t\t\t\t&lt;/credentials&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/authentication-configurations&gt;\r\n    \t&lt;/authentication-client&gt;    \r\n    &lt;/configuration&gt;\r\n\r\nI tried the second option mentonened in the tutorial as well, using http transport. \r\nI added the following two dependencies \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly.wildfly-http-client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-http-client-common&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n        &lt;artifactId&gt;wildfly-naming-client&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd changed the url to following. \r\n````jndiProperties.put(Context.PROVIDER_URL,&quot;http://localhost:8080/wildfly-services````\r\n\r\nNow I&#39;m getting an authentication error.\r\n\r\n    Juni 24, 2023 7:54:34 AM org.wildfly.httpclient.common.HttpTargetContext lambda$acquireSessionAffinity$1\r\n    ERROR: WFHTTP000003: Failed to acquire session\r\n    javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], \r\n    set-cookie=[JSESSIONID=Fkxcqh8cki41m1gUD4FoIu5TKXFyljEZoqi9V1cB.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], \r\n    content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status=&#39;&#39;, protocol=HTTP/2.0})\r\n\tat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:243)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n    Juni 24, 2023 7:54:34 AM org.wildfly.httpclient.common.HttpTargetContext lambda$acquireSessionAffinity$1\r\n    ERROR: WFHTTP000003: Failed to acquire session\r\n    java.nio.channels.ClosedChannelException\r\n\tat io.undertow.client.http2.Http2ClientConnection.close(Http2ClientConnection.java:308)\r\n\tat io.undertow.client.http.HttpClientConnection.close(HttpClientConnection.java:485)\r\n\tat org.xnio.IoUtils.safeClose(IoUtils.java:152)\r\n\tat org.wildfly.httpclient.common.HttpConnectionPool$ClientConnectionHolder.done(HttpConnectionPool.java:302)\r\n\tat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:250)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n    javax.naming.CommunicationException: EJBCLIENT000062: Failed to look up &quot;enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot; [Root exception is java.util.concurrent.ExecutionException: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status=&#39;&#39;, protocol=HTTP/2.0})]\r\n\tat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)\r\n\tat org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)\r\n\tat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\r\n\tat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)\r\n\tat cs.edu.enterprise.client.Main.lookupTokenServiceRemoteEJB(Main.java:56)\r\n\tat cs.edu.enterprise.client.Main.main(Main.java:41)\r\n\r\n    Caused by: java.util.concurrent.ExecutionException: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status=&#39;&#39;, protocol=HTTP/2.0})\r\n\tat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\r\n\tat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)\r\n\tat org.wildfly.httpclient.ejb.HttpEJBReceiver.createSession(HttpEJBReceiver.java:314)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:74)\r\n\tat org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleSessionCreation(RemotingEJBClientInterceptor.java:67)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleSessionCreation(TransactionPostDiscoveryInterceptor.java:108)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleSessionCreation(DiscoveryEJBClientInterceptor.java:171)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:107)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.call(AuthenticationContextEJBClientInterceptor.java:59)\r\n\tat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.handleSessionCreation(AuthenticationContextEJBClientInterceptor.java:39)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:106)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\r\n\tat org.wildfly.common.context.Contextual.runExFunction(Contextual.java:287)\r\n\tat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceedInitial(EJBSessionCreationInvocationContext.java:47)\r\n\tat org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:900)\r\n\tat org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)\r\n\tat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)\r\n\t... 5 more\r\n\r\n     Caused by: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status=&#39;&#39;, protocol=HTTP/2.0})\r\n\tat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:243)\r\n\tat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n\tat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n\tat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n","title":"widfly 27 remote ejb lookup from external client app gives error : EJBCLIENT000409: No more destinations are available","body":"<p>Trying to look up a remote stateful EJB inside an EAR deployed on wildfly 27. I created a wildfly user for the <code>ApplicationRealm</code>.\nI followed this tutorial:</p>\n<p><a href=\"https://www.mastertheboss.com/jbossas/jboss-as-7/jboss-as-7-remote-ejb-client-tutorial/\" rel=\"nofollow noreferrer\">https://www.mastertheboss.com/jbossas/jboss-as-7/jboss-as-7-remote-ejb-client-tutorial/</a></p>\n<p>I'm aware that this is for jboss AS7 but I couldn't find anything more up to date.\nA link to a current tutorial would as well help heaps.\nI already reviewed other posts with the same error but no one seems to have a clue.\nOne even on the jboss.org site with no answer.</p>\n<p>The application user was correctly added to\n<code>application-users.properties</code>\nin <code>standalone/configuration</code>.\nI'm running wildfly with standalone-full config.</p>\n<p>I'm getting these exceptions</p>\n<pre><code>INFO: JBoss EJB Client version 5.0.4.Final\njavax.naming.CommunicationException: EJBCLIENT000062: Failed to look up &quot;enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;\n[Root exception is org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available]\nat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)\nat org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)\nat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\nat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)\nat cs.edu.enterprise.client.Main.lookupTokenServiceRemoteEJB(Main.java:55)\nat cs.edu.enterprise.client.Main.main(Main.java:41)\n\n\nCaused by: org.jboss.ejb.client.RequestSendFailedException: EJBCLIENT000409: No more destinations are available\nat org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:125)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.call(AuthenticationContextEJBClientInterceptor.java:59)\nat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.handleSessionCreation(AuthenticationContextEJBClientInterceptor.java:39)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:106)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.wildfly.common.context.Contextual.runExFunction(Contextual.java:287)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceedInitial(EJBSessionCreationInvocationContext.java:47)\nat org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:900)\nat org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)\nat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)\n... 5 more\n</code></pre>\n<p>Lookup code</p>\n<pre><code>private static TokenServiceRemote lookupTokenServiceRemoteEJB() throws NamingException {\n    final Hashtable&lt;String, String&gt; jndiProperties = new Hashtable&lt;&gt;();\n    jndiProperties.put(Context.INITIAL_CONTEXT_FACTORY,  &quot;org.wildfly.naming.client.WildFlyInitialContextFactory&quot;);\n            jndiProperties.put(Context.PROVIDER_URL,&quot;http-remoting://localhost:8080&quot;);\n    final Context context = new InitialContext(jndiProperties);\n    return (TokenServiceRemote) context\n            .lookup(&quot;ejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot;);\n}\n</code></pre>\n<p>Host and port are correct, I can call a servlet deployed in the same EAR via <code>http://localhost:8080</code></p>\n<p>When deploying the EAR the server log shows these JNDI names.</p>\n<pre><code>java:global/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\njava:app/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\njava:module/TokenService!cs.edu.ey.ejb.local.TokenServiceLocal\njava:global/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\njava:app/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\njava:module/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\njava:jboss/exported/enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote\nejb:enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful\n</code></pre>\n<p>Maven dependencies</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.wildfly.bom&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-jakartaee8-with-tools-builder&lt;/artifactId&gt;\n    &lt;version&gt;26.1.3.Final&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-ejb-client-bom&lt;/artifactId&gt;\n    &lt;version&gt;28.0.1.Final&lt;/version&gt;\n    &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>wildfly-config.xml</p>\n<pre><code>&lt;configuration&gt;\n    &lt;authentication-client xmlns=&quot;urn:elytron:1.0&quot;&gt;\n        &lt;authentication-rules&gt;\n            &lt;rule use-configuration=&quot;default&quot;/&gt;\n        &lt;/authentication-rules&gt;\n        &lt;authentication-configurations&gt;\n            &lt;configuration name=&quot;default&quot;&gt;\n                &lt;sasl-mechanism-selector selector=&quot;DIGEST-MD5&quot;/&gt;\n                &lt;set-user-name name=&quot;*****&quot;/&gt;\n                &lt;credentials&gt;\n                    &lt;clear-password password=&quot;*****&quot;/&gt;\n                &lt;/credentials&gt;\n            &lt;/configuration&gt;\n        &lt;/authentication-configurations&gt;\n    &lt;/authentication-client&gt;    \n&lt;/configuration&gt;\n</code></pre>\n<p>I tried the second option mentonened in the tutorial as well, using http transport.\nI added the following two dependencies</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.wildfly.wildfly-http-client&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-http-client-common&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n    &lt;artifactId&gt;wildfly-naming-client&lt;/artifactId&gt;\n    &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And changed the url to following.\n<code>jndiProperties.put(Context.PROVIDER_URL,&quot;http://localhost:8080/wildfly-services</code></p>\n<p>Now I'm getting an authentication error.</p>\n<pre><code>Juni 24, 2023 7:54:34 AM org.wildfly.httpclient.common.HttpTargetContext lambda$acquireSessionAffinity$1\nERROR: WFHTTP000003: Failed to acquire session\njavax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], \nset-cookie=[JSESSIONID=Fkxcqh8cki41m1gUD4FoIu5TKXFyljEZoqi9V1cB.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], \ncontent-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status='', protocol=HTTP/2.0})\nat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:243)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\nat java.base/java.lang.Thread.run(Thread.java:833)\n\nJuni 24, 2023 7:54:34 AM org.wildfly.httpclient.common.HttpTargetContext lambda$acquireSessionAffinity$1\nERROR: WFHTTP000003: Failed to acquire session\njava.nio.channels.ClosedChannelException\nat io.undertow.client.http2.Http2ClientConnection.close(Http2ClientConnection.java:308)\nat io.undertow.client.http.HttpClientConnection.close(HttpClientConnection.java:485)\nat org.xnio.IoUtils.safeClose(IoUtils.java:152)\nat org.wildfly.httpclient.common.HttpConnectionPool$ClientConnectionHolder.done(HttpConnectionPool.java:302)\nat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:250)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\nat java.base/java.lang.Thread.run(Thread.java:833)\n\njavax.naming.CommunicationException: EJBCLIENT000062: Failed to look up &quot;enterprise-y-ear/enterprise-y-ejb/TokenService!cs.edu.ey.ejb.remote.TokenServiceRemote?stateful&quot; [Root exception is java.util.concurrent.ExecutionException: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status='', protocol=HTTP/2.0})]\nat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:160)\nat org.wildfly.naming.client.AbstractContext.lookup(AbstractContext.java:84)\nat org.wildfly.naming.client.WildFlyRootContext.lookup(WildFlyRootContext.java:144)\nat java.naming/javax.naming.InitialContext.lookup(InitialContext.java:409)\nat cs.edu.enterprise.client.Main.lookupTokenServiceRemoteEJB(Main.java:56)\nat cs.edu.enterprise.client.Main.main(Main.java:41)\n\nCaused by: java.util.concurrent.ExecutionException: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status='', protocol=HTTP/2.0})\nat java.base/java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:396)\nat java.base/java.util.concurrent.CompletableFuture.get(CompletableFuture.java:2073)\nat org.wildfly.httpclient.ejb.HttpEJBReceiver.createSession(HttpEJBReceiver.java:314)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:74)\nat org.jboss.ejb.protocol.remote.RemotingEJBClientInterceptor.handleSessionCreation(RemotingEJBClientInterceptor.java:67)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.TransactionPostDiscoveryInterceptor.handleSessionCreation(TransactionPostDiscoveryInterceptor.java:108)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.DiscoveryEJBClientInterceptor.handleSessionCreation(DiscoveryEJBClientInterceptor.java:171)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.NamingEJBClientInterceptor.handleSessionCreation(NamingEJBClientInterceptor.java:107)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.call(AuthenticationContextEJBClientInterceptor.java:59)\nat org.jboss.ejb.client.AuthenticationContextEJBClientInterceptor.handleSessionCreation(AuthenticationContextEJBClientInterceptor.java:39)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.jboss.ejb.client.TransactionInterceptor.handleSessionCreation(TransactionInterceptor.java:106)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceed(EJBSessionCreationInvocationContext.java:84)\nat org.wildfly.common.context.Contextual.runExFunction(Contextual.java:287)\nat org.jboss.ejb.client.EJBSessionCreationInvocationContext.proceedInitial(EJBSessionCreationInvocationContext.java:47)\nat org.jboss.ejb.client.EJBClientContext.createSession(EJBClientContext.java:900)\nat org.jboss.ejb.client.EJBClient.createSessionProxy(EJBClient.java:198)\nat org.jboss.ejb.client.EJBRootContext.lookupNative(EJBRootContext.java:158)\n... 5 more\n\n Caused by: javax.naming.AuthenticationException: WFHTTP000013: Authentication failed (full response ClientResponse{responseHeaders={www-authenticate=[Basic realm=&quot;ApplicationRealm&quot;], set-cookie=[JSESSIONID=oUUFFYzj09w2stNm21YtoJDh8t4Yrg9K9Ee6Qjh6.laptop-s32qmbmt; path=/wildfly-services], content-length=[77], content-type=[text/html], date=[Sat, 24 Jun 2023 05:54:34 GMT]}, responseCode=401, status='', protocol=HTTP/2.0})\nat org.wildfly.httpclient.common.HttpTargetContext$2$1.lambda$completed$4(HttpTargetContext.java:243)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\nat org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1282)\nat java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","servlets","checkmarx","esapi"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1687948948,"post_id":76571565,"comment_id":135007450,"body_markdown":"esapi requires a number of other libraries including commons-fileupload. Make sure all dependencies are included (you can get a lot of help doing that using tools like Gradle or Maven). Apart from that it is hard to help as you have not included how you are defining dependencies in your question.","body":"esapi requires a number of other libraries including commons-fileupload. Make sure all dependencies are included (you can get a lot of help doing that using tools like Gradle or Maven). Apart from that it is hard to help as you have not included how you are defining dependencies in your question."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1687949251,"post_id":76571565,"comment_id":135007512,"body_markdown":"It could also possible be due to java version incompabilities with the jar file in question.","body":"It could also possible be due to java version incompabilities with the jar file in question."},{"owner":{"account_id":23128310,"reputation":11,"user_id":17233792,"display_name":"Prasad"},"score":0,"creation_date":1688044802,"post_id":76571565,"comment_id":135023053,"body_markdown":"Hello Daniel my application is old web application no maven or gradle it developed using servlets and Jsp and java only   I am adding jars(esapijar,commons file upload,commons io jars) in buildpath   But still application showing this error why i dont know java 8 and 7 only using in that application","body":"Hello Daniel my application is old web application no maven or gradle it developed using servlets and Jsp and java only   I am adding jars(esapijar,commons file upload,commons io jars) in buildpath   But still application showing this error why i dont know java 8 and 7 only using in that application"},{"owner":{"account_id":385460,"reputation":1357,"user_id":742609,"display_name":"Kevin W. Wall"},"score":0,"creation_date":1688098806,"post_id":76571565,"comment_id":135031165,"body_markdown":"Upgrade to ESAPI 2.5.2.0 (the latest release) and then we can revisit this. But the ESAPI team is so small (only 3 regular contributors), that we unfortunately can only try to help those using the latest release. Also, the 2.0.1 ESAPI release has lots of vulnerabilities, so it&#39;s in your best interest to upgrade. (Make sure you carefully read the release notes though.)","body":"Upgrade to ESAPI 2.5.2.0 (the latest release) and then we can revisit this. But the ESAPI team is so small (only 3 regular contributors), that we unfortunately can only try to help those using the latest release. Also, the 2.0.1 ESAPI release has lots of vulnerabilities, so it&#39;s in your best interest to upgrade. (Make sure you carefully read the release notes though.)"},{"owner":{"account_id":23128310,"reputation":11,"user_id":17233792,"display_name":"Prasad"},"score":0,"creation_date":1688470600,"post_id":76571565,"comment_id":135075845,"body_markdown":"i am  Upgrade to ESAPI 2.5.2.0 (the latest release)  But still i am facing same Issue \n\njava.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory\n        at java.lang.Class.forNameImpl(Native Method) ~[?:2.9 (07-25-2018)]\n        at java.lang.Class.forName(Class.java:332) ~[?:2.9 (07-25-2018)]\n        at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) ~[esapi-2.0.1.jar:2.0.1]","body":"i am  Upgrade to ESAPI 2.5.2.0 (the latest release)  But still i am facing same Issue   java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory         at java.lang.Class.forNameImpl(Native Method) ~[?:2.9 (07-25-2018)]         at java.lang.Class.forName(Class.java:332) ~[?:2.9 (07-25-2018)]         at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) ~[esapi-2.0.1.jar:2.0.1]"}],"owner":{"account_id":23128310,"reputation":11,"user_id":17233792,"display_name":"Prasad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688470618,"answer_count":0,"score":0,"last_activity_date":1687942508,"creation_date":1687942508,"question_id":76571565,"body_markdown":"java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory         at java.lang.Class.forNameImpl(Native Method) \\~\\[?:2.9 (07-25-2018)\\]         at java.lang.Class.forName(Class.java:332) \\~\\[?:2.9 (07-25-2018)\\]         at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) \\~\\[esapi-2.0.1.jar:2.0.1\\]         at org.owasp.esapi.ESAPI.httpUtilities(ESAPI.java:121) \\~\\[esapi-2.0.1.jar:2.0.1\\]         at org.owasp.esapi.ESAPI.currentRequest(ESAPI.java:70) \\~\\[esapi-2.0.1.jar:2.0.1\\] \r\n\r\n\r\n   ***String output= ESAPI.validator().getValidInput(&quot;Validationofinput&quot;, str, &quot;SafeString&quot;, 1000, false);*** \r\n\r\n\r\n\r\n\r\n\r\n java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory  at java.lang.Class.forNameImpl(Native Method) \\~\\[?:2.9 (07-25-2018)\\] at java.lang.Class.forName(Class.java:332) \\~\\[?:2.9 (07-25-2018)\\] at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.ESAPI.httpUtilities(ESAPI.java:121) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.ESAPI.currentRequest(ESAPI.java:70) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.Log4JLogger.log(Log4JLogger.java:434) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.Log4JLogger.warning(Log4JLogger.java:205) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.DefaultIntrusionDetector.addException(DefaultIntrusionDetector.java:65) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.validation.StringValidationRule.checkEmpty(StringValidationRule.java:260) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.validation.StringValidationRule.getValid(StringValidationRule.java:273) \\~\\[esapi-2.0.1.jar:2.0.1\\] at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:214) \\~\\[esapi-2.0.1.jar:2.0.1\\]  at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:185) \\~\\[esapi-2.0.1.jar:2.0.1\\] ","title":"I am getting below Exception in my logs when using esapi-2.0.1.jar in that using getValidInput()","body":"<p>java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory         at java.lang.Class.forNameImpl(Native Method) ~[?:2.9 (07-25-2018)]         at java.lang.Class.forName(Class.java:332) ~[?:2.9 (07-25-2018)]         at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) ~[esapi-2.0.1.jar:2.0.1]         at org.owasp.esapi.ESAPI.httpUtilities(ESAPI.java:121) ~[esapi-2.0.1.jar:2.0.1]         at org.owasp.esapi.ESAPI.currentRequest(ESAPI.java:70) ~[esapi-2.0.1.jar:2.0.1]</p>\n<p><em><strong>String output= ESAPI.validator().getValidInput(&quot;Validationofinput&quot;, str, &quot;SafeString&quot;, 1000, false);</strong></em></p>\n<p>java.lang.NoClassDefFoundError: org.apache.commons.fileupload.FileItemFactory  at java.lang.Class.forNameImpl(Native Method) ~[?:2.9 (07-25-2018)] at java.lang.Class.forName(Class.java:332) ~[?:2.9 (07-25-2018)] at org.owasp.esapi.util.ObjFactory.make(ObjFactory.java:74) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.ESAPI.httpUtilities(ESAPI.java:121) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.ESAPI.currentRequest(ESAPI.java:70) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.Log4JLogger.log(Log4JLogger.java:434) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.Log4JLogger.warning(Log4JLogger.java:205) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.DefaultIntrusionDetector.addException(DefaultIntrusionDetector.java:65) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.validation.StringValidationRule.checkEmpty(StringValidationRule.java:260) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.validation.StringValidationRule.getValid(StringValidationRule.java:273) ~[esapi-2.0.1.jar:2.0.1] at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:214) ~[esapi-2.0.1.jar:2.0.1]  at org.owasp.esapi.reference.DefaultValidator.getValidInput(DefaultValidator.java:185) ~[esapi-2.0.1.jar:2.0.1]</p>\n"},{"tags":["java","android","bottomnavigationview"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687998199,"post_id":76571497,"comment_id":135016319,"body_markdown":"Hi there, did you try at least","body":"Hi there, did you try at least"}],"owner":{"account_id":28910830,"reputation":1,"user_id":22143867,"display_name":"taiska0000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687942294,"creation_date":1687941970,"question_id":76571497,"body_markdown":"[enter image description here][1]I use bottom navigation in my application, but I do not know how to switch from one fragment bottom to a new fragment at the click of a button in this case\r\n\r\n\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ActivityMainBinding binding;\r\n    \r\n        @Override\r\n    \r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n    \r\n            Button button = findViewById(R.id.plantoplans);\r\n    \r\n            setContentView(binding.getRoot());\r\n    \r\n            replaceFragment(new ProfilFragment());\r\n    \r\n            binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\r\n    \r\n                switch (item.getItemId()) {\r\n    \r\n                    case R.id.profil:\r\n    \r\n                        replaceFragment(new ProfilFragment());\r\n    \r\n                        break;\r\n    \r\n                    case R.id.lessons:\r\n    \r\n                        replaceFragment(new LessonsFragment());\r\n    \r\n                        break;\r\n    \r\n                    case R.id.plan:\r\n    \r\n                        replaceFragment(new PlanFragment());\r\n    \r\n                        break;\r\n    \r\n                }\r\n    \r\n                return true;\r\n    \r\n            });\r\n    \r\n        }\r\n    \r\n        private void replaceFragment(Fragment fragment) {\r\n    \r\n            FragmentManager fragmentManager = getSupportFragmentManager();\r\n    \r\n            FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\r\n    \r\n            fragmentTransaction.replace(R.id.frameLayout, fragment);\r\n    \r\n            fragmentTransaction.commit();\r\n    \r\n        }\r\n    }\r\n\r\nI tried to use the usual transition between fragments, the transition from activity to fragment\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uVVM7.jpg","title":"Navigation with bottom","body":"<p><a href=\"https://i.stack.imgur.com/uVVM7.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>I use bottom navigation in my application, but I do not know how to switch from one fragment bottom to a new fragment at the click of a button in this case</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n\n    @Override\n\n    protected void onCreate(Bundle savedInstanceState) {\n\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n\n        Button button = findViewById(R.id.plantoplans);\n\n        setContentView(binding.getRoot());\n\n        replaceFragment(new ProfilFragment());\n\n        binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\n\n            switch (item.getItemId()) {\n\n                case R.id.profil:\n\n                    replaceFragment(new ProfilFragment());\n\n                    break;\n\n                case R.id.lessons:\n\n                    replaceFragment(new LessonsFragment());\n\n                    break;\n\n                case R.id.plan:\n\n                    replaceFragment(new PlanFragment());\n\n                    break;\n\n            }\n\n            return true;\n\n        });\n\n    }\n\n    private void replaceFragment(Fragment fragment) {\n\n        FragmentManager fragmentManager = getSupportFragmentManager();\n\n        FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction();\n\n        fragmentTransaction.replace(R.id.frameLayout, fragment);\n\n        fragmentTransaction.commit();\n\n    }\n}\n</code></pre>\n<p>I tried to use the usual transition between fragments, the transition from activity to fragment</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"score":0,"creation_date":1687880709,"post_id":76565852,"comment_id":134997433,"body_markdown":"Thanks, but you&#39;re wrong. The &quot;delegate permission&quot; must be &quot;common.get_login_creds&quot;, according to https://developer.android.com/training/sign-in/passkeys","body":"Thanks, but you&#39;re wrong. The &quot;delegate permission&quot; must be &quot;common.get_login_creds&quot;, according to <a href=\"https://developer.android.com/training/sign-in/passkeys\" rel=\"nofollow noreferrer\">developer.android.com/training/sign-in/passkeys</a>"},{"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"score":0,"creation_date":1687888399,"post_id":76565852,"comment_id":134999227,"body_markdown":"Ah - your question confused me, since it mentions app links in the title. You want to use recent native WebAuthn / passkey support it seems. My company did some work in this area recently. I will update my answer and have a dig around, tomorrow if I get time. I think you are right and [this link](https://developers.google.com/identity/fido/android/native-apps) which says handle_all_urls is needed, is now out of date.","body":"Ah - your question confused me, since it mentions app links in the title. You want to use recent native WebAuthn / passkey support it seems. My company did some work in this area recently. I will update my answer and have a dig around, tomorrow if I get time. I think you are right and <a href=\"https://developers.google.com/identity/fido/android/native-apps\" rel=\"nofollow noreferrer\">this link</a> which says handle_all_urls is needed, is now out of date."},{"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"score":0,"creation_date":1687891162,"post_id":76565852,"comment_id":134999761,"body_markdown":"Thank you @Gary Archer and sorry for the confusion in my title.","body":"Thank you @Gary Archer and sorry for the confusion in my title."},{"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"score":0,"creation_date":1687965308,"post_id":76565852,"comment_id":135011258,"body_markdown":"Thank you for revisiting this answer. It works now!","body":"Thank you for revisiting this answer. It works now!"},{"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"score":0,"creation_date":1688022513,"post_id":76565852,"comment_id":135018492,"body_markdown":"FYI, I created a follow-up question to this one: https://stackoverflow.com/questions/76578743/unable-to-register-for-authentication-using-passkey-on-android","body":"FYI, I created a follow-up question to this one: <a href=\"https://stackoverflow.com/questions/76578743/unable-to-register-for-authentication-using-passkey-on-android\" title=\"unable to register for authentication using passkey on android\">stackoverflow.com/questions/76578743/&hellip;</a>"}],"tags":[],"owner":{"account_id":12368896,"reputation":24924,"user_id":9019885,"display_name":"Gary Archer"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687942094,"creation_date":1687875697,"answer_id":76565852,"question_id":76507667,"body_markdown":"There seems to be two parts to your question:\r\n\r\n**GETTING APP LINKS WORKING**\r\n\r\nFor this you need the assetlinks.json file to contain entries like this, as described in [Android docs](https://developer.android.com/studio/write/app-link-indexing#associatesite). A code example of mine uses these settings:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;android_app&quot;,\r\n      &quot;package_name&quot;: &quot;com.authsamples.basicmobileapp&quot;,\r\n      &quot;sha256_cert_fingerprints&quot;: [\r\n        &quot;62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15&quot;\r\n      ]\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nThis does not require deployment to the App Store. You can verify this by running my [example app](https://authguidance.com/basicandroidapp-execution/), which registers deep links when it is installed. My app uses a similar [manifest file](https://github.com/gary-archer/oauth.mobilesample.android/blob/master/app/src/main/AndroidManifest.xml#L68) to yours. If you run the app on an emulator, and then this command:\r\n\r\n```bash\r\nadb shell pm get-app-links --user cur\r\n```\r\n\r\nYou will see output like this, without the 1024. Further infrastructure details in [this blog post](https://authguidance.com/android-infrastructure-setup/) of mine.\r\n\r\n```text\r\n com.authsamples.basicmobileapp:\r\n    ID: 07f8ee96-dc1c-4df0-a7d7-2e9738902088\r\n    Signatures: [62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15]\r\n    Domain verification state:\r\n      mobile.authsamples.com: verified\r\n    User 0:\r\n      Verification link handling allowed: true\r\n      Selection state:\r\n        Disabled:\r\n          mobile.authsamples.com\r\n```\r\n\r\n**GETTING WEBAUTHN / PASSKEY NATIVE LOGINS WORKING**\r\n\r\nThis is a newer feature, to use [FIDO capabilities](https://developers.google.com/identity/fido/android/native-apps), and requires additional registrations like these:\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;,\r\n      &quot;delegate_permission/common.get_login_creds&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;web&quot;,\r\n      &quot;site&quot;: &quot;https://mobile.authsamples.com&quot;\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nIt also requires a couple of steps to specify `asset_statements` within the app, as explained in the link.\r\n\r\n**YOUR QUESTION**\r\n\r\nIn your case, passkey registration looks fine, and you can proceed with implementing passkey logins for users. What is confusing about your question is that you are looking at app link registration details. These will not work unless you include the `handle_all_urls` value. \r\n\r\nTo progress your setup, I would update to an assetlinks.json of this form, as suggested in the link. Even though your focus may be passkey logins, it makes sense these days for any mobile app to have support for deep linking, even if you don&#39;t use it initially. \r\n\r\n```json\r\n[\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;,\r\n      &quot;delegate_permission/common.get_login_creds&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;android_app&quot;,\r\n      &quot;package_name&quot;: &quot;com.authsamples.basicmobileapp&quot;,\r\n      &quot;sha256_cert_fingerprints&quot;: [\r\n        &quot;62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15&quot;\r\n      ]\r\n    }\r\n  },\r\n  {\r\n    &quot;relation&quot;: [\r\n      &quot;delegate_permission/common.handle_all_urls&quot;,\r\n      &quot;delegate_permission/common.get_login_creds&quot;\r\n    ],\r\n    &quot;target&quot;: {\r\n      &quot;namespace&quot;: &quot;web&quot;,\r\n      &quot;site&quot;: &quot;https://mobile.authsamples.com&quot;\r\n    }\r\n  }\r\n]\r\n```","title":"Verifying Android app links fails with error 1024","body":"<p>There seems to be two parts to your question:</p>\n<p><strong>GETTING APP LINKS WORKING</strong></p>\n<p>For this you need the assetlinks.json file to contain entries like this, as described in <a href=\"https://developer.android.com/studio/write/app-link-indexing#associatesite\" rel=\"nofollow noreferrer\">Android docs</a>. A code example of mine uses these settings:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;android_app&quot;,\n      &quot;package_name&quot;: &quot;com.authsamples.basicmobileapp&quot;,\n      &quot;sha256_cert_fingerprints&quot;: [\n        &quot;62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15&quot;\n      ]\n    }\n  }\n]\n</code></pre>\n<p>This does not require deployment to the App Store. You can verify this by running my <a href=\"https://authguidance.com/basicandroidapp-execution/\" rel=\"nofollow noreferrer\">example app</a>, which registers deep links when it is installed. My app uses a similar <a href=\"https://github.com/gary-archer/oauth.mobilesample.android/blob/master/app/src/main/AndroidManifest.xml#L68\" rel=\"nofollow noreferrer\">manifest file</a> to yours. If you run the app on an emulator, and then this command:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>adb shell pm get-app-links --user cur\n</code></pre>\n<p>You will see output like this, without the 1024. Further infrastructure details in <a href=\"https://authguidance.com/android-infrastructure-setup/\" rel=\"nofollow noreferrer\">this blog post</a> of mine.</p>\n<pre><code> com.authsamples.basicmobileapp:\n    ID: 07f8ee96-dc1c-4df0-a7d7-2e9738902088\n    Signatures: [62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15]\n    Domain verification state:\n      mobile.authsamples.com: verified\n    User 0:\n      Verification link handling allowed: true\n      Selection state:\n        Disabled:\n          mobile.authsamples.com\n</code></pre>\n<p><strong>GETTING WEBAUTHN / PASSKEY NATIVE LOGINS WORKING</strong></p>\n<p>This is a newer feature, to use <a href=\"https://developers.google.com/identity/fido/android/native-apps\" rel=\"nofollow noreferrer\">FIDO capabilities</a>, and requires additional registrations like these:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;,\n      &quot;delegate_permission/common.get_login_creds&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;web&quot;,\n      &quot;site&quot;: &quot;https://mobile.authsamples.com&quot;\n    }\n  }\n]\n</code></pre>\n<p>It also requires a couple of steps to specify <code>asset_statements</code> within the app, as explained in the link.</p>\n<p><strong>YOUR QUESTION</strong></p>\n<p>In your case, passkey registration looks fine, and you can proceed with implementing passkey logins for users. What is confusing about your question is that you are looking at app link registration details. These will not work unless you include the <code>handle_all_urls</code> value.</p>\n<p>To progress your setup, I would update to an assetlinks.json of this form, as suggested in the link. Even though your focus may be passkey logins, it makes sense these days for any mobile app to have support for deep linking, even if you don't use it initially.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;,\n      &quot;delegate_permission/common.get_login_creds&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;android_app&quot;,\n      &quot;package_name&quot;: &quot;com.authsamples.basicmobileapp&quot;,\n      &quot;sha256_cert_fingerprints&quot;: [\n        &quot;62:7D:06:B1:01:C6:2F:04:9A:D4:5D:17:DF:FF:AB:65:13:8E:E0:CC:F6:60:2A:F6:3A:DA:1D:19:0A:F9:DF:15&quot;\n      ]\n    }\n  },\n  {\n    &quot;relation&quot;: [\n      &quot;delegate_permission/common.handle_all_urls&quot;,\n      &quot;delegate_permission/common.get_login_creds&quot;\n    ],\n    &quot;target&quot;: {\n      &quot;namespace&quot;: &quot;web&quot;,\n      &quot;site&quot;: &quot;https://mobile.authsamples.com&quot;\n    }\n  }\n]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"score":0,"creation_date":1687880560,"post_id":76566182,"comment_id":134997404,"body_markdown":"Thanks, but your answer is not adding something new to me. Besides, I don&#39;t understand what you mean by &quot;I have noticed that your site ended with .&quot; Where do you see that exactly?","body":"Thanks, but your answer is not adding something new to me. Besides, I don&#39;t understand what you mean by &quot;I have noticed that your site ended with .&quot; Where do you see that exactly?"},{"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"score":0,"creation_date":1687887382,"post_id":76566182,"comment_id":134999016,"body_markdown":"The link you gave https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://unibeam.github.io&amp;relation=delegate_permission/common.get_login_creds","body":"The link you gave <a href=\"https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://unibeam.github.io&amp;relation=delegate_permission/common.get_login_creds\" rel=\"nofollow noreferrer\">digitalassetlinks.googleapis.com/v1/&hellip;</a>"},{"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"score":0,"creation_date":1687891075,"post_id":76566182,"comment_id":134999745,"body_markdown":"Ah, I see. This seems to be a strange artifact produced by the verification page at googleapis.com. The source you should look at is here: https://unibeam.github.io/.well-known/assetlinks.json","body":"Ah, I see. This seems to be a strange artifact produced by the verification page at googleapis.com. The source you should look at is here: <a href=\"https://unibeam.github.io/.well-known/assetlinks.json\" rel=\"nofollow noreferrer\">unibeam.github.io/.well-known/assetlinks.json</a>"}],"tags":[],"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687877928,"creation_date":1687877928,"answer_id":76566182,"question_id":76507667,"body_markdown":"The Error code of 1024 or greater specifies the custom error code that&#39;s specific to the device&#39;s verifier.\r\nLets first understand the result returned by the adb\r\n\r\n    com.unibeam.passkey1:\r\n        ID: 24defbad-89a3-46d4-8446-335dfcdcd0a9\r\n        Signatures: [**]\r\n        Domain verification state:\r\n      line 1-&gt;    unibeam.github.io: 1024\r\n      line 2 -&gt;   User 0:\r\n      line 3-&gt;    Verification link handling allowed: true\r\n      line 4-&gt;    Selection state:\r\n      line 5-&gt;      Disabled:\r\n             unibeam.github.io\r\n\r\nWhen you ran the command\r\n\r\n    adb shell pm get-app-links --user cur com.unibeam.passkey1 \r\n\r\nLine 1 represent the domain verification process. Any other state than **&quot;verified&quot;** represent the domain couldn&#39;t not be performed.For complete list that domain verification can return is [here][1].\r\nFor the error 1024, make sure you have enabled internet connection and re-invoke the domain verification process. \r\n\r\nLine 2 represent the user 0 has manually approved the app in the system settings\r\n\r\nLine 3 represent the user 0 has approved unibeam.github.io link \r\n\r\nLine 4 represent the all app links that are enabled and disabled. \r\n\r\nLine 5 represent the Disabled app links ;here unibeam.github.io is in disabled state.\r\n\r\nTo manually invoke domain verification process for an app that&#39;s installed on a device use the following procedure but you need android 12 for this\r\nMake sure you have enabled internet connection\r\nrun the following command in a terminal window\r\n\r\n    adb shell am compat enable 175408749 PACKAGE_NAME\r\n\r\nReset the state of android app links on a device, run the following command in a terminal window\r\n\r\n    adb shell pm set-app-links --package PACKAGE_NAME 0 all\r\n\r\nThen invoke the domain verification process , run the following command\r\n\r\n    adb shell pm verify-app-links --re-verify PACKAGE_NAME\r\n\r\nBefore you review the result of this command, wait a few minutes for the verification agent to finish the request. \r\nFor review result ,run the following command \r\n\r\n    adb shell pm get-app-links PACKAGE_NAME\r\n\r\nI have noticed that your site ended with . (with the trailing period) make sure that route ended with . servers the same content as without. for Example : \r\n    &quot;site&quot;: &quot;https://unibeam.github.io.&quot; \r\nmust serve the same content by \r\n    &quot;site&quot;: &quot;https://unibeam.github.io&quot;\r\n\r\n\r\nCommon erros : \r\nMake sure you have setup the correct intent filter\r\nMake sure server&#39;s json configuration and sha value is correct.\r\nMake sure there is no redirects from server side\r\n\r\n\r\n  [1]: https://developer.android.com/training/app-links/verify-android-applinks#invoke-domain-verification","title":"Verifying Android app links fails with error 1024","body":"<p>The Error code of 1024 or greater specifies the custom error code that's specific to the device's verifier.\nLets first understand the result returned by the adb</p>\n<pre><code>com.unibeam.passkey1:\n    ID: 24defbad-89a3-46d4-8446-335dfcdcd0a9\n    Signatures: [**]\n    Domain verification state:\n  line 1-&gt;    unibeam.github.io: 1024\n  line 2 -&gt;   User 0:\n  line 3-&gt;    Verification link handling allowed: true\n  line 4-&gt;    Selection state:\n  line 5-&gt;      Disabled:\n         unibeam.github.io\n</code></pre>\n<p>When you ran the command</p>\n<pre><code>adb shell pm get-app-links --user cur com.unibeam.passkey1 \n</code></pre>\n<p>Line 1 represent the domain verification process. Any other state than <strong>&quot;verified&quot;</strong> represent the domain couldn't not be performed.For complete list that domain verification can return is <a href=\"https://developer.android.com/training/app-links/verify-android-applinks#invoke-domain-verification\" rel=\"nofollow noreferrer\">here</a>.\nFor the error 1024, make sure you have enabled internet connection and re-invoke the domain verification process.</p>\n<p>Line 2 represent the user 0 has manually approved the app in the system settings</p>\n<p>Line 3 represent the user 0 has approved unibeam.github.io link</p>\n<p>Line 4 represent the all app links that are enabled and disabled.</p>\n<p>Line 5 represent the Disabled app links ;here unibeam.github.io is in disabled state.</p>\n<p>To manually invoke domain verification process for an app that's installed on a device use the following procedure but you need android 12 for this\nMake sure you have enabled internet connection\nrun the following command in a terminal window</p>\n<pre><code>adb shell am compat enable 175408749 PACKAGE_NAME\n</code></pre>\n<p>Reset the state of android app links on a device, run the following command in a terminal window</p>\n<pre><code>adb shell pm set-app-links --package PACKAGE_NAME 0 all\n</code></pre>\n<p>Then invoke the domain verification process , run the following command</p>\n<pre><code>adb shell pm verify-app-links --re-verify PACKAGE_NAME\n</code></pre>\n<p>Before you review the result of this command, wait a few minutes for the verification agent to finish the request.\nFor review result ,run the following command</p>\n<pre><code>adb shell pm get-app-links PACKAGE_NAME\n</code></pre>\n<p>I have noticed that your site ended with . (with the trailing period) make sure that route ended with . servers the same content as without. for Example :\n&quot;site&quot;: &quot;https://unibeam.github.io.&quot;\nmust serve the same content by\n&quot;site&quot;: &quot;https://unibeam.github.io&quot;</p>\n<p>Common erros :\nMake sure you have setup the correct intent filter\nMake sure server's json configuration and sha value is correct.\nMake sure there is no redirects from server side</p>\n"}],"owner":{"account_id":20889,"reputation":15799,"user_id":50335,"accept_rate":84,"display_name":"Ariel Malka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":719,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":76565852,"answer_count":2,"score":7,"last_activity_date":1687942094,"creation_date":1687185523,"question_id":76507667,"body_markdown":"I have an Android app with applicationId `com.unibeam.passkey1`.\r\n\r\nAt `https://unibeam.github.io/.well-known/assetlinks.json`, I have stored the following file:\r\n```\r\n[{\r\n  &quot;relation&quot;: [&quot;delegate_permission/common.get_login_creds&quot;],\r\n  &quot;target&quot;: {\r\n    &quot;namespace&quot;: &quot;web&quot;,\r\n    &quot;site&quot;: &quot;https://unibeam.github.io&quot;\r\n  }\r\n },\r\n {\r\n  &quot;relation&quot;: [&quot;delegate_permission/common.get_login_creds&quot;],\r\n  &quot;target&quot;: {\r\n    &quot;namespace&quot;: &quot;android_app&quot;,\r\n    &quot;package_name&quot;: &quot;com.unibeam.passkey1&quot;,\r\n    &quot;sha256_cert_fingerprints&quot;: [\r\n      &quot;55:E2:84:F9:9B:59:82:02:FA:2B:87:B9:90:77:8F:8D:62:3F:32:CC:76:92:47:0C:A8:73:7C:AE:11:8D:B6:0C&quot;,\r\n      &quot;0E:67:51:BF:E4:C4:01:7F:CB:7D:4C:1E:02:7E:DF:8D:40:25:9A:5C:20:2A:AB:96:71:15:F1:46:40:09:58:3D&quot;\r\n    ]\r\n  }\r\n }]\r\n```\r\n\r\nThe 2 fingerprints correspond to the debug and release versions of the app.  \r\n\r\nAnd checking at `https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://unibeam.github.io&amp;relation=delegate_permission/common.get_login_creds` returns no error.\r\n\r\nNow inside the app&#39;s `manifest.xml`, I have the following:\r\n\r\n```\r\n&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\r\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n    &lt;data android:scheme=&quot;http&quot; /&gt;\r\n    &lt;data android:scheme=&quot;https&quot; /&gt;\r\n    &lt;data android:host=&quot;unibeam.github.io&quot; /&gt;\r\n&lt;/intent-filter&gt;\r\n```\r\n\r\nThe problem is that when running `adb shell pm get-app-links --user cur com.unibeam.passkey1` it fails as follows:\r\n\r\n```\r\n  com.unibeam.passkey1:\r\n    ID: 24defbad-89a3-46d4-8446-335dfcdcd0a9\r\n    Signatures: [0E:67:51:BF:E4:C4:01:7F:CB:7D:4C:1E:02:7E:DF:8D:40:25:9A:5C:20:2A:AB:96:71:15:F1:46:40:09:58:3D]\r\n    Domain verification state:\r\n      unibeam.github.io: 1024\r\n    User 0:\r\n      Verification link handling allowed: true\r\n      Selection state:\r\n        Disabled:\r\n          unibeam.github.io\r\n```\r\n\r\nWhy does it fail? Does the app need to be on PlayStore for all this to work?","title":"Verifying Android app links fails with error 1024","body":"<p>I have an Android app with applicationId <code>com.unibeam.passkey1</code>.</p>\n<p>At <code>https://unibeam.github.io/.well-known/assetlinks.json</code>, I have stored the following file:</p>\n<pre><code>[{\n  &quot;relation&quot;: [&quot;delegate_permission/common.get_login_creds&quot;],\n  &quot;target&quot;: {\n    &quot;namespace&quot;: &quot;web&quot;,\n    &quot;site&quot;: &quot;https://unibeam.github.io&quot;\n  }\n },\n {\n  &quot;relation&quot;: [&quot;delegate_permission/common.get_login_creds&quot;],\n  &quot;target&quot;: {\n    &quot;namespace&quot;: &quot;android_app&quot;,\n    &quot;package_name&quot;: &quot;com.unibeam.passkey1&quot;,\n    &quot;sha256_cert_fingerprints&quot;: [\n      &quot;55:E2:84:F9:9B:59:82:02:FA:2B:87:B9:90:77:8F:8D:62:3F:32:CC:76:92:47:0C:A8:73:7C:AE:11:8D:B6:0C&quot;,\n      &quot;0E:67:51:BF:E4:C4:01:7F:CB:7D:4C:1E:02:7E:DF:8D:40:25:9A:5C:20:2A:AB:96:71:15:F1:46:40:09:58:3D&quot;\n    ]\n  }\n }]\n</code></pre>\n<p>The 2 fingerprints correspond to the debug and release versions of the app.</p>\n<p>And checking at <code>https://digitalassetlinks.googleapis.com/v1/statements:list?source.web.site=https://unibeam.github.io&amp;relation=delegate_permission/common.get_login_creds</code> returns no error.</p>\n<p>Now inside the app's <code>manifest.xml</code>, I have the following:</p>\n<pre><code>&lt;intent-filter android:autoVerify=&quot;true&quot;&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;http&quot; /&gt;\n    &lt;data android:scheme=&quot;https&quot; /&gt;\n    &lt;data android:host=&quot;unibeam.github.io&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>The problem is that when running <code>adb shell pm get-app-links --user cur com.unibeam.passkey1</code> it fails as follows:</p>\n<pre><code>  com.unibeam.passkey1:\n    ID: 24defbad-89a3-46d4-8446-335dfcdcd0a9\n    Signatures: [0E:67:51:BF:E4:C4:01:7F:CB:7D:4C:1E:02:7E:DF:8D:40:25:9A:5C:20:2A:AB:96:71:15:F1:46:40:09:58:3D]\n    Domain verification state:\n      unibeam.github.io: 1024\n    User 0:\n      Verification link handling allowed: true\n      Selection state:\n        Disabled:\n          unibeam.github.io\n</code></pre>\n<p>Why does it fail? Does the app need to be on PlayStore for all this to work?</p>\n"},{"tags":["java","spring","maven","solr"],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638886283,"creation_date":1638886283,"answer_id":70261681,"question_id":70261527,"body_markdown":"It&#39;s paginated. You can add an additional query parameter to get the 2nd page `&amp;start=20`\r\n\r\nThe response contains the total number of records: `&quot;response&quot;:{&quot;numFound&quot;:189` so you will have to keep sending requests and incrementing the value of `start` until you&#39;ve got them all.\r\n\r\nIn this case, it would take 10 requests.\r\n\r\nThe reason they enforce pagination is because constructing a big response is expensive. If there were a million results, the response would be gigantic. It would be easy for malicious users (or honest users who made a mistake) to send requests which would cause the server to struggle, or even bring it down entirely. By enforcing pagination as mandatory, it forces the people making requests to be more thoughtful about what they&#39;re requesting.","title":"The Maven Central repository search returns only 20 versions. Any way to get all the versions possible?","body":"<p>It's paginated. You can add an additional query parameter to get the 2nd page <code>&amp;start=20</code></p>\n<p>The response contains the total number of records: <code>&quot;response&quot;:{&quot;numFound&quot;:189</code> so you will have to keep sending requests and incrementing the value of <code>start</code> until you've got them all.</p>\n<p>In this case, it would take 10 requests.</p>\n<p>The reason they enforce pagination is because constructing a big response is expensive. If there were a million results, the response would be gigantic. It would be easy for malicious users (or honest users who made a mistake) to send requests which would cause the server to struggle, or even bring it down entirely. By enforcing pagination as mandatory, it forces the people making requests to be more thoughtful about what they're requesting.</p>\n"},{"tags":[],"owner":{"account_id":27476775,"reputation":1,"user_id":20964624,"display_name":"Tun Anh V"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687941653,"creation_date":1687651377,"answer_id":76548406,"question_id":70261527,"body_markdown":"You can try this way. Change the dots `.` in `groupId` to slashes `/` . Then execute url with the following format `https://repo1.maven.org/maven2/(groupId with slash)/(artifactId)`. You will get its information including versions. Then you can select `maven-metadata.xml` or add copy url above `/maven-metadata.xml` to get xml.\r\n\r\nYour example in this case is: https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/maven-metadata.xml","title":"The Maven Central repository search returns only 20 versions. Any way to get all the versions possible?","body":"<p>You can try this way. Change the dots <code>.</code> in <code>groupId</code> to slashes <code>/</code> . Then execute url with the following format <code>https://repo1.maven.org/maven2/(groupId with slash)/(artifactId)</code>. You will get its information including versions. Then you can select <code>maven-metadata.xml</code> or add copy url above <code>/maven-metadata.xml</code> to get xml.</p>\n<p>Your example in this case is: <a href=\"https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/maven-metadata.xml\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/maven-metadata.xml</a></p>\n"}],"owner":{"account_id":23575546,"reputation":1,"user_id":17615244,"display_name":"Sourabh SP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687941653,"creation_date":1638885715,"question_id":70261527,"body_markdown":"The solr search API call is resitricting the list of versions to only 20. Why? And how do we get the list of all the versions released for the GAV coorsinates. Any API call?\r\n\r\nhttps://search.maven.org/solrsearch/select?q=g:com.fasterxml.jackson.coreAND+a:jackson-databind&amp;core=gav&amp;rows=10000&amp;wt=json\r\n\r\nCould you please help in finding an API which can let me have access to all the versions and their release dates for a GAV coordinate?\r\n","title":"The Maven Central repository search returns only 20 versions. Any way to get all the versions possible?","body":"<p>The solr search API call is resitricting the list of versions to only 20. Why? And how do we get the list of all the versions released for the GAV coorsinates. Any API call?</p>\n<p><a href=\"https://search.maven.org/solrsearch/select?q=g:com.fasterxml.jackson.coreAND+a:jackson-databind&amp;core=gav&amp;rows=10000&amp;wt=json\" rel=\"nofollow noreferrer\">https://search.maven.org/solrsearch/select?q=g:com.fasterxml.jackson.coreAND+a:jackson-databind&amp;core=gav&amp;rows=10000&amp;wt=json</a></p>\n<p>Could you please help in finding an API which can let me have access to all the versions and their release dates for a GAV coordinate?</p>\n"},{"tags":["java","android","google-play-console"],"answers":[{"comments":[{"owner":{"account_id":11181020,"reputation":4038,"user_id":8205099,"accept_rate":62,"display_name":"Wahdat Jan"},"score":0,"creation_date":1688038759,"post_id":76571400,"comment_id":135021697,"body_markdown":"https://stackoverflow.com/questions/76580388/the-private-key-was-not-properly-encrypted-or-is-not-a-type-of-key-we-support-w\n\ncan you help on this","body":"<a href=\"https://stackoverflow.com/questions/76580388/the-private-key-was-not-properly-encrypted-or-is-not-a-type-of-key-we-support-w\" title=\"the private key was not properly encrypted or is not a type of key we support w\">stackoverflow.com/questions/76580388/&hellip;</a>  can you help on this"},{"owner":{"account_id":2396771,"reputation":708,"user_id":2095425,"accept_rate":43,"display_name":"Matias"},"score":0,"creation_date":1696518109,"post_id":76571400,"comment_id":136166120,"body_markdown":"Saved my day. Do you know why is this happening?","body":"Saved my day. Do you know why is this happening?"}],"tags":[],"owner":{"account_id":27417666,"reputation":46,"user_id":20916601,"display_name":"22ll.cd"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687941185,"creation_date":1687941157,"answer_id":76571400,"question_id":76531144,"body_markdown":"I got the same problem,you should install OpenJDK 20.0.1[enter link description here][1],and run the command again.\r\n\r\n\r\n  [1]: https://jdk.java.net/20/","title":"&quot;Google play App - signing issue&quot; NoSuchAlgorithmException exception","body":"<p>I got the same problem,you should install OpenJDK 20.0.1<a href=\"https://jdk.java.net/20/\" rel=\"nofollow noreferrer\">enter link description here</a>,and run the command again.</p>\n"}],"owner":{"account_id":7529084,"reputation":145,"user_id":5718001,"display_name":"sandeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1579,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76571400,"answer_count":1,"score":2,"last_activity_date":1687941185,"creation_date":1687431161,"question_id":76531144,"body_markdown":"while runing below command we get below error\r\njava -jar pepk.jar --keystore=foo.keystore --alias=foo --output=encrypted_private_key_path --rsa-aes-encryption --encryption-key-path=/path/to/encryption_public_key.pem\r\n\r\n\r\nUnable to export or encrypt the private key\r\njava.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding\r\n\r\nWe have latest idk 17 installed but issue coming with app signing\r\n\r\nI read about bouncycastle to fix this but no idea how can install for mac or use it for idk 17 etc please help us","title":"&quot;Google play App - signing issue&quot; NoSuchAlgorithmException exception","body":"<p>while runing below command we get below error\njava -jar pepk.jar --keystore=foo.keystore --alias=foo --output=encrypted_private_key_path --rsa-aes-encryption --encryption-key-path=/path/to/encryption_public_key.pem</p>\n<p>Unable to export or encrypt the private key\njava.security.NoSuchAlgorithmException: Cannot find any provider supporting RSA/NONE/OAEPWithSHA1AndMGF1Padding</p>\n<p>We have latest idk 17 installed but issue coming with app signing</p>\n<p>I read about bouncycastle to fix this but no idea how can install for mac or use it for idk 17 etc please help us</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1496207860,"post_id":44276036,"comment_id":75559588,"body_markdown":"Which answer did you expect and which answer did you get? Try to run with a debugger and check where the flow deviates from your expectations.","body":"Which answer did you expect and which answer did you get? Try to run with a debugger and check where the flow deviates from your expectations."},{"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"score":0,"creation_date":1496208327,"post_id":44276036,"comment_id":75559772,"body_markdown":"I&#39;m expecting true value for that sequence but i&#39;m getting false.","body":"I&#39;m expecting true value for that sequence but i&#39;m getting false."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1496208498,"post_id":44276036,"comment_id":75559847,"body_markdown":"Now you need to find out why there is a count of 2. When is count incremented the first time? When the second time? Are these really different problems or are you counting one problem twice?","body":"Now you need to find out why there is a count of 2. When is count incremented the first time? When the second time? Are these really different problems or are you counting one problem twice?"},{"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"score":0,"creation_date":1496209703,"post_id":44276036,"comment_id":75560312,"body_markdown":"The problem is when j reach to value 4. I&#39;m not finding the logic to solve it . If i correct for the sequence [1,2,3,4,3,6] then test case for  [1,2,1,2] is not satisfying .","body":"The problem is when j reach to value 4. I&#39;m not finding the logic to solve it . If i correct for the sequence [1,2,3,4,3,6] then test case for  [1,2,1,2] is not satisfying ."},{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1496210295,"post_id":44276036,"comment_id":75560604,"body_markdown":"The idea with `max` was quite good. You just have to make sure to check the full array.","body":"The idea with <code>max</code> was quite good. You just have to make sure to check the full array."}],"answers":[{"comments":[{"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"score":0,"creation_date":1496209819,"post_id":44276472,"comment_id":75560359,"body_markdown":"In this case you have to check if any of previous elements are not bigger t","body":"In this case you have to check if any of previous elements are not bigger t"},{"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"score":0,"creation_date":1496209947,"post_id":44276472,"comment_id":75560419,"body_markdown":"Its not satifying for all test cases .\nfor example [1,2,1,2] expected is false","body":"Its not satifying for all test cases . for example [1,2,1,2] expected is false"},{"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"score":0,"creation_date":1496212519,"post_id":44276472,"comment_id":75561744,"body_markdown":"Thanks , it working for the above test cases. But its not satisfying for all.","body":"Thanks , it working for the above test cases. But its not satisfying for all."},{"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"score":0,"creation_date":1496212867,"post_id":44276472,"comment_id":75561920,"body_markdown":"sequence: [10, 1, 2, 3, 4, 5]\nOutput: false\nExpected Output: true\n\nsequence: [1, 2, 3, 4, 99, 5, 6]\nOutput: false\nExpected Output: true\n\n\nsequence: [123, -17, -5, 1, 2, 3, 12, 43, 45]\nOutput: false\nExpected Output: true","body":"sequence: [10, 1, 2, 3, 4, 5] Output: false Expected Output: true  sequence: [1, 2, 3, 4, 99, 5, 6] Output: false Expected Output: true   sequence: [123, -17, -5, 1, 2, 3, 12, 43, 45] Output: false Expected Output: true"},{"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"score":0,"creation_date":1496257248,"post_id":44276472,"comment_id":75591875,"body_markdown":"I modified program and it gives expected results for provided sequences","body":"I modified program and it gives expected results for provided sequences"}],"tags":[],"owner":{"account_id":8953437,"reputation":2379,"user_id":6743203,"accept_rate":30,"display_name":"Jay Smith"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496257169,"creation_date":1496209030,"answer_id":44276472,"question_id":44276036,"body_markdown":"This program goes through elements of array comparing if current is bigger or equal to next. If so it compares elements around current because it may be removed. And it compares elements around next because it may be removed. If deleting current or next doesn&#39;t make increasing array return false.\r\n\r\n    public static void main(String[] args) {\r\n    \tboolean almostIncreasingSequence = almostIncreasingSequence(new int[] { 1, 2, 3, 4, 99, 4, 3 });\r\n    \tSystem.out.println(almostIncreasingSequence);\r\n    }\r\n    \r\n    static boolean almostIncreasingSequence(int[] sequence) {\r\n    \tint removeCount = 0;\r\n    \tfor (int i = 0; i &lt; sequence.length - 1; i++) {\r\n    \t\tint current = sequence[i];\r\n    \t\tint next = sequence[i + 1];\r\n    \r\n    \t\tif (current &gt;= next) {\r\n    \t\t\tremoveCount++;\r\n    \t\t\t// Try to remove current. Skip removed element(current). Check\r\n    \t\t\t// if previous is less than next element around current\r\n    \t\t\t// if i is 0 there is no previous element\r\n    \t\t\t// if removeCurrent is true it is possible to remove it and\r\n    \t\t\t// arrays stays increasing\r\n    \t\t\tboolean removeCurrent = i == 0 || sequence[i - 1] &lt; next;\r\n    \t\t\t// if removeNext is true it is possible to remove it and arrays\r\n    \t\t\t// stays increasing\r\n    \t\t\tboolean removeNext = i + 1 == sequence.length - 1 || current &lt; sequence[i + 2];\r\n    \r\n    \t\t\tif (!removeCurrent &amp;&amp; !removeNext)\r\n    \t\t\t\t// if current is removed and array isn&#39;t increasing and if\r\n    \t\t\t\t// next is removed and array is not increasing,\r\n    \t\t\t\t// increment removeCount to return false\r\n    \t\t\t\tremoveCount++;\r\n    \t\t}\r\n    \t\tif (removeCount &gt; 1) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t}\r\n    \treturn true;\r\n    }\r\n\r\nit meets all given test cases.","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>This program goes through elements of array comparing if current is bigger or equal to next. If so it compares elements around current because it may be removed. And it compares elements around next because it may be removed. If deleting current or next doesn't make increasing array return false.</p>\n\n<pre><code>public static void main(String[] args) {\n    boolean almostIncreasingSequence = almostIncreasingSequence(new int[] { 1, 2, 3, 4, 99, 4, 3 });\n    System.out.println(almostIncreasingSequence);\n}\n\nstatic boolean almostIncreasingSequence(int[] sequence) {\n    int removeCount = 0;\n    for (int i = 0; i &lt; sequence.length - 1; i++) {\n        int current = sequence[i];\n        int next = sequence[i + 1];\n\n        if (current &gt;= next) {\n            removeCount++;\n            // Try to remove current. Skip removed element(current). Check\n            // if previous is less than next element around current\n            // if i is 0 there is no previous element\n            // if removeCurrent is true it is possible to remove it and\n            // arrays stays increasing\n            boolean removeCurrent = i == 0 || sequence[i - 1] &lt; next;\n            // if removeNext is true it is possible to remove it and arrays\n            // stays increasing\n            boolean removeNext = i + 1 == sequence.length - 1 || current &lt; sequence[i + 2];\n\n            if (!removeCurrent &amp;&amp; !removeNext)\n                // if current is removed and array isn't increasing and if\n                // next is removed and array is not increasing,\n                // increment removeCount to return false\n                removeCount++;\n        }\n        if (removeCount &gt; 1) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>it meets all given test cases.</p>\n"},{"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1496211060,"post_id":44276665,"comment_id":75560988,"body_markdown":"Apart from all the syntax errors, this would still give false on [1,2,3,4,3,6].","body":"Apart from all the syntax errors, this would still give false on [1,2,3,4,3,6]."},{"owner":{"account_id":11012911,"reputation":54,"user_id":8089623,"display_name":"Y.Liu"},"score":0,"creation_date":1496235493,"post_id":44276665,"comment_id":75577557,"body_markdown":"Yes, you are correct, I didn&#39;t consider it carefully ( the code is just pseudo code )","body":"Yes, you are correct, I didn&#39;t consider it carefully ( the code is just pseudo code )"}],"tags":[],"owner":{"account_id":11012911,"reputation":54,"user_id":8089623,"display_name":"Y.Liu"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496209830,"creation_date":1496209830,"answer_id":44276665,"question_id":44276036,"body_markdown":"Based on your method, I would suggest you to do the following modification in your for loop:\r\n\r\nfor (......):\r\n\r\n    if s[i] &gt;= s[i+1] count++\r\n    else if max &gt;= s[i] count++\r\n    else max = s[i]\r\n\r\nAfter finished for loop:\r\nif count &gt; 1 return false\r\nelse return true","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>Based on your method, I would suggest you to do the following modification in your for loop:</p>\n\n<p>for (......):</p>\n\n<pre><code>if s[i] &gt;= s[i+1] count++\nelse if max &gt;= s[i] count++\nelse max = s[i]\n</code></pre>\n\n<p>After finished for loop:\nif count > 1 return false\nelse return true</p>\n"},{"comments":[{"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"score":0,"creation_date":1496213479,"post_id":44277483,"comment_id":75562263,"body_markdown":"Thank you, your code is working for all the testcases.\nBut its increasing the time limit assign to me i.e 3000ms.\nIs there any optimized way?","body":"Thank you, your code is working for all the testcases. But its increasing the time limit assign to me i.e 3000ms. Is there any optimized way?"},{"owner":{"account_id":9208386,"reputation":9299,"user_id":6842716,"display_name":"JohnG"},"score":0,"creation_date":1496216585,"post_id":44277483,"comment_id":75564233,"body_markdown":"Sorry that is the best I can come up with right now. I will check it again tomorrow. If you do not create a new array with one less element (which I am guessing is the slow down), instead loop through the original array then you will have to do some special juggling inside the loop to ignore that element since it will obviously be at least `i` in one iteration and possibly `i + 1` in another iteration.","body":"Sorry that is the best I can come up with right now. I will check it again tomorrow. If you do not create a new array with one less element (which I am guessing is the slow down), instead loop through the original array then you will have to do some special juggling inside the loop to ignore that element since it will obviously be at least <code>i</code> in one iteration and possibly <code>i + 1</code> in another iteration."}],"tags":[],"owner":{"account_id":9208386,"reputation":9299,"user_id":6842716,"display_name":"JohnG"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496214562,"creation_date":1496213013,"answer_id":44277483,"question_id":44276036,"body_markdown":"Using a simplistic brute force approach, create a method that returns an array with one of the elements missing, then check that array to see if it is increasing. A Loop around all of this should work.\r\n\r\n    public static void main(String[] args) {\r\n      if (IncreasingSequence(new int[] {1,2,3,4,3,6}))\r\n        System.out.println(&quot;By removing one element the array is increasing&quot;);\r\n      else\r\n        System.out.println(&quot;By removing one element the array is Not increasing&quot;);\r\n    }\r\n    \r\n    private static boolean IncreasingSequence(int[] sequence) {\r\n      int[] nextArray;\r\n      for (int i = 0; i &lt; sequence.length; i++) {\r\n          nextArray = MinusOneElement(sequence, i);\r\n          if (CheckSequenceIncreasing(nextArray)) \r\n             return true;\r\n        } \r\n      return false;\r\n    }\r\n    \r\n    private static boolean CheckSequenceIncreasing(int[] sequence) {\r\n        for (int i = 0; i &lt; sequence.length - 1; i++) {\r\n           if (sequence[i] &gt;= sequence[i + 1]) {\r\n               return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    private static int[] MinusOneElement(int[] sequence, int elementToRemove) {\r\n       int[] newArray = new int[sequence.length - 1];\r\n       int index = 0;\r\n       for (int i = 0; i &lt; sequence.length; i++) {\r\n            if (i != elementToRemove) {\r\n                newArray[index] = sequence[i];\r\n                index++;\r\n            }\r\n       }\r\n       return newArray;\r\n    }\r\n","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>Using a simplistic brute force approach, create a method that returns an array with one of the elements missing, then check that array to see if it is increasing. A Loop around all of this should work.</p>\n\n<pre><code>public static void main(String[] args) {\n  if (IncreasingSequence(new int[] {1,2,3,4,3,6}))\n    System.out.println(\"By removing one element the array is increasing\");\n  else\n    System.out.println(\"By removing one element the array is Not increasing\");\n}\n\nprivate static boolean IncreasingSequence(int[] sequence) {\n  int[] nextArray;\n  for (int i = 0; i &lt; sequence.length; i++) {\n      nextArray = MinusOneElement(sequence, i);\n      if (CheckSequenceIncreasing(nextArray)) \n         return true;\n    } \n  return false;\n}\n\nprivate static boolean CheckSequenceIncreasing(int[] sequence) {\n    for (int i = 0; i &lt; sequence.length - 1; i++) {\n       if (sequence[i] &gt;= sequence[i + 1]) {\n           return false;\n    }\n  }\n  return true;\n}\n\nprivate static int[] MinusOneElement(int[] sequence, int elementToRemove) {\n   int[] newArray = new int[sequence.length - 1];\n   int index = 0;\n   for (int i = 0; i &lt; sequence.length; i++) {\n        if (i != elementToRemove) {\n            newArray[index] = sequence[i];\n            index++;\n        }\n   }\n   return newArray;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1552103866,"post_id":44280577,"comment_id":96895126,"body_markdown":"@NenadDordevic Oops, you are right. There was one more thing to delete from the original program. Thanks.","body":"@NenadDordevic Oops, you are right. There was one more thing to delete from the original program. Thanks."}],"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1552103781,"creation_date":1496222155,"answer_id":44280577,"question_id":44276036,"body_markdown":"This is one of the errors that can be fixed by just removing stuff from the original program:\r\n\r\n    boolean almostIncreasingSequence(int[] sequence) {\r\n        int max = Integer.MIN_VALUE, count = 0;\r\n        boolean flag = true;\r\n        for (int j = 0; j &lt; sequence.length; j++){\r\n              if ( max &gt;= sequence[j]){\r\n                 count++;\r\n              }\r\n              max = sequence[j];\r\n              if ( count &gt; 1){\r\n                 flag = false;\r\n                 break;\r\n              }\r\n        }        \r\n        return flag; \r\n    }\r\n\r\nThe main problem of the original version was, that the same out-of-order place was found two times. Just removing one of the checks, and at the same time adding one loop iteration solves this.","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>This is one of the errors that can be fixed by just removing stuff from the original program:</p>\n\n<pre><code>boolean almostIncreasingSequence(int[] sequence) {\n    int max = Integer.MIN_VALUE, count = 0;\n    boolean flag = true;\n    for (int j = 0; j &lt; sequence.length; j++){\n          if ( max &gt;= sequence[j]){\n             count++;\n          }\n          max = sequence[j];\n          if ( count &gt; 1){\n             flag = false;\n             break;\n          }\n    }        \n    return flag; \n}\n</code></pre>\n\n<p>The main problem of the original version was, that the same out-of-order place was found two times. Just removing one of the checks, and at the same time adding one loop iteration solves this.</p>\n"},{"tags":[],"owner":{"account_id":9186160,"reputation":860,"user_id":6828297,"accept_rate":25,"display_name":"C Williams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514515440,"creation_date":1514514349,"answer_id":48016672,"question_id":44276036,"body_markdown":"For kotlin Programmers\r\n\r\n\r\n    fun almostIncreasingSequence(sequence: MutableList&lt;Int&gt;): Boolean \r\n    \r\n    {\r\n    \r\n    var removeCount = 0;\r\n    \r\n    var i = 0;\r\n    \r\n    while  ( i &lt; sequence.size - 1) {\r\n    \r\n    var current = sequence[i];\r\n    \r\n    var next = sequence[i + 1];\r\n    \r\n    if (current &gt;= next) {\r\n    \r\n    removeCount++;\r\n    \r\n    var removeCurrent : Boolean= i == 0 || sequence[i - 1] &lt; next;\r\n    \r\n    var removeNext : Boolean = i + 1 == sequence.size - 1 || current &lt; sequence[i + 2];\r\n    \r\n    if (!removeCurrent &amp;&amp; !removeNext)\r\n    \r\n        removeCount++;\r\n    \r\n          }\r\n    \r\n          if (removeCount &gt; 1) {\r\n    \r\n                        return false;\r\n    \r\n            }\r\n    \r\n          i++\r\n    \r\n        }\r\n    \r\n        return true;  \r\n    \r\n     }\r\n    \r\n    \r\n        \r\n        \r\n\r\n","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>For kotlin Programmers</p>\n\n<pre><code>fun almostIncreasingSequence(sequence: MutableList&lt;Int&gt;): Boolean \n\n{\n\nvar removeCount = 0;\n\nvar i = 0;\n\nwhile  ( i &lt; sequence.size - 1) {\n\nvar current = sequence[i];\n\nvar next = sequence[i + 1];\n\nif (current &gt;= next) {\n\nremoveCount++;\n\nvar removeCurrent : Boolean= i == 0 || sequence[i - 1] &lt; next;\n\nvar removeNext : Boolean = i + 1 == sequence.size - 1 || current &lt; sequence[i + 2];\n\nif (!removeCurrent &amp;&amp; !removeNext)\n\n    removeCount++;\n\n      }\n\n      if (removeCount &gt; 1) {\n\n                    return false;\n\n        }\n\n      i++\n\n    }\n\n    return true;  \n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12512310,"reputation":238,"user_id":9106927,"display_name":"Petros Mosoyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687941140,"creation_date":1687941140,"answer_id":76571396,"question_id":44276036,"body_markdown":"Here is the solution in kotlin:\r\n\r\n    fun solution(sequence: MutableList&lt;Int&gt;): Boolean {\r\n         val newList = sequence.toSet().toList()\r\n    \r\n        if (sequence.size - newList.size &gt; 1)\r\n            return false\r\n            \r\n        if (newList == newList.sorted())\r\n            return true\r\n            \r\n        val filterPairs = sequence.zipWithNext().filter { it.first &gt;= it.second }\r\n    \r\n        if (filterPairs.size &gt; 1)\r\n            return false\r\n    \r\n        sequence.remove(filterPairs[0].first)\r\n        \r\n        if (sequence == sequence.toSet().toList() &amp;&amp; sequence == sequence.sorted())\r\n            return true\r\n                    \r\n        return false\r\n    }\r\n\r\n","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>Here is the solution in kotlin:</p>\n<pre><code>fun solution(sequence: MutableList&lt;Int&gt;): Boolean {\n     val newList = sequence.toSet().toList()\n\n    if (sequence.size - newList.size &gt; 1)\n        return false\n        \n    if (newList == newList.sorted())\n        return true\n        \n    val filterPairs = sequence.zipWithNext().filter { it.first &gt;= it.second }\n\n    if (filterPairs.size &gt; 1)\n        return false\n\n    sequence.remove(filterPairs[0].first)\n    \n    if (sequence == sequence.toSet().toList() &amp;&amp; sequence == sequence.sorted())\n        return true\n                \n    return false\n}\n</code></pre>\n"}],"owner":{"account_id":9590533,"reputation":104,"user_id":7121586,"display_name":"Ashis Sahoo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1687941140,"creation_date":1496206909,"question_id":44276036,"body_markdown":"Given a sequence of integers as an array, determine whether it is possible to obtain a strictly increasing sequence by removing no more than one element from the array.\r\n\r\nFor sequence = [1, 3, 2, 1], the output should be\r\nalmostIncreasingSequence(sequence) = false;\r\nThere is no one element in this array that can be removed in order to get a strictly increasing sequence.\r\n\r\nFor sequence = [1, 3, 2], the output should be\r\nalmostIncreasingSequence(sequence) = true.\r\nYou can remove 3 from the array to get the strictly increasing sequence [1, 2]. Alternately, you can remove 2 to get the strictly increasing sequence [1, 3].\r\n\r\nThe code which I&#39;ve written for the above is given bellow , but it&#39;s not satisfying for sequence [1,2,3,4,3,6]\r\nActual output = false\r\nexpected output = true\r\n\r\n\r\n    boolean almostIncreasingSequence(int[] sequence) {\r\n            int max = Integer.MIN_VALUE, count = 0;\r\n            boolean flag = true;\r\n            for (int j = 0; j &lt; sequence.length-1 ; j++){\r\n                  if ( max &gt;= sequence [j] || sequence[j]&gt;=sequence[j+1]){\r\n                     count++;\r\n                  }\r\n                  else\r\n                     max = sequence[j];\r\n                  if ( count &gt; 1){\r\n                     flag = false;\r\n                     break;\r\n                  }\r\n            }        \r\n            return flag; \r\n    }\r\n\r\n\r\n[time limit] : 3000ms (java)\r\n[input] : array.integer sequence\r\n\r\nGuaranteed constraints:\r\n2  sequence.length  105,\r\n-105  sequence[i]  105.\r\n\r\n[output] : boolean\r\n\r\nReturn true if it is possible to remove one element from the array in order to get a strictly increasing sequence, otherwise return false.\r\n\r\n\r\n\r\n","title":"Java Program testing for a strictly increasing array after removing at most one element","body":"<p>Given a sequence of integers as an array, determine whether it is possible to obtain a strictly increasing sequence by removing no more than one element from the array.</p>\n\n<p>For sequence = [1, 3, 2, 1], the output should be\nalmostIncreasingSequence(sequence) = false;\nThere is no one element in this array that can be removed in order to get a strictly increasing sequence.</p>\n\n<p>For sequence = [1, 3, 2], the output should be\nalmostIncreasingSequence(sequence) = true.\nYou can remove 3 from the array to get the strictly increasing sequence [1, 2]. Alternately, you can remove 2 to get the strictly increasing sequence [1, 3].</p>\n\n<p>The code which I've written for the above is given bellow , but it's not satisfying for sequence [1,2,3,4,3,6]\nActual output = false\nexpected output = true</p>\n\n<pre><code>boolean almostIncreasingSequence(int[] sequence) {\n        int max = Integer.MIN_VALUE, count = 0;\n        boolean flag = true;\n        for (int j = 0; j &lt; sequence.length-1 ; j++){\n              if ( max &gt;= sequence [j] || sequence[j]&gt;=sequence[j+1]){\n                 count++;\n              }\n              else\n                 max = sequence[j];\n              if ( count &gt; 1){\n                 flag = false;\n                 break;\n              }\n        }        \n        return flag; \n}\n</code></pre>\n\n<p>[time limit] : 3000ms (java)\n[input] : array.integer sequence</p>\n\n<p>Guaranteed constraints:\n2  sequence.length  105,\n-105  sequence[i]  105.</p>\n\n<p>[output] : boolean</p>\n\n<p>Return true if it is possible to remove one element from the array in order to get a strictly increasing sequence, otherwise return false.</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin","build.gradle"],"owner":{"account_id":11159525,"reputation":33,"user_id":8190154,"display_name":"dev-daru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687941058,"creation_date":1687941058,"question_id":76571377,"body_markdown":"I recently cloned my project from github and it throws me this error, help me resolve\r\n\r\nNo variants found for &#39;:app&#39;. Check build files to ensure at least one variant exists. at:\r\ncom.android.tools.idea.gradle.project.sync.AndroidModule.prepare(GradleModules.kt:266)\r\n  com.android.tools.idea.gradle.project.sync.SyncProjectActionWorker.populateAndroidModels(SyncProjectActionWorker.kt:99)\r\n  com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.populateBuildModels(AndroidExtraModelProviderWorker.kt:92)\r\n  com.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderImpl.populateBuildModels(AndroidExtraModelProvider.kt:112)\r\n  com.android.tools.idea.gradle.project.sync.AndroidExtraModelProvider.populateBuildModels(AndroidExtraModelProvider.kt:50)\r\n  org.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:400)\r\n  org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:138)\r\n  org.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\r\n  org.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\r\n  org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\r\n  org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.fromBuildModel(AbstractClientProvidedBuildActionRunner.java:104)\r\n  org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.fromBuildModel(AbstractClientProvidedBuildActionRunner.java:84)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeModelCreator.fromBuildModel(DefaultBuildTreeModelCreator.java:57)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:81)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:98)\r\n  org.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:177)\r\n  org.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\r\n  org.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:177)\r\n  org.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\r\n  org.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:177)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:95)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:73)\r\n  org.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\r\n  org.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\r\n  org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\r\n  org.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\r\n  org.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\r\n  org.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:140)\r\n  org.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\r\n  org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\r\n  org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\r\n  org.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\r\n  org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n  org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n  org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n  org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\r\n  org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n  org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n  org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n  org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n  org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n  org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n  org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\r\n  org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\r\n  org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\r\n  org.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\r\n  org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n  org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n  org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\r\n  org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\r\n  org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n  org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\r\n  org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\r\n  org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n  org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n  org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:50)\r\n  org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:38)\r\n  org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n  org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n  org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n  org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n  org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:64)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n  org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n  org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n  org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n  org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n  org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n  org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\r\n  java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n  java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n  java.base/java.lang.Thread.run(Thread.java:1589)\r\n","title":"No Variants found for &#39;:app&#39; Android Studio","body":"<p>I recently cloned my project from github and it throws me this error, help me resolve</p>\n<p>No variants found for ':app'. Check build files to ensure at least one variant exists. at:\ncom.android.tools.idea.gradle.project.sync.AndroidModule.prepare(GradleModules.kt:266)\ncom.android.tools.idea.gradle.project.sync.SyncProjectActionWorker.populateAndroidModels(SyncProjectActionWorker.kt:99)\ncom.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderWorker.populateBuildModels(AndroidExtraModelProviderWorker.kt:92)\ncom.android.tools.idea.gradle.project.sync.AndroidExtraModelProviderImpl.populateBuildModels(AndroidExtraModelProvider.kt:112)\ncom.android.tools.idea.gradle.project.sync.AndroidExtraModelProvider.populateBuildModels(AndroidExtraModelProvider.kt:50)\norg.jetbrains.plugins.gradle.model.ProjectImportAction.addBuildModels(ProjectImportAction.java:400)\norg.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:138)\norg.jetbrains.plugins.gradle.model.ProjectImportAction.execute(ProjectImportAction.java:42)\norg.gradle.tooling.internal.consumer.connection.InternalBuildActionAdapter.execute(InternalBuildActionAdapter.java:64)\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.runAction(AbstractClientProvidedBuildActionRunner.java:131)\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.fromBuildModel(AbstractClientProvidedBuildActionRunner.java:104)\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner$ActionAdapter.fromBuildModel(AbstractClientProvidedBuildActionRunner.java:84)\norg.gradle.internal.buildtree.DefaultBuildTreeModelCreator.fromBuildModel(DefaultBuildTreeModelCreator.java:57)\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$fromBuildModel$2(DefaultBuildTreeLifecycleController.java:81)\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.lambda$runBuild$4(DefaultBuildTreeLifecycleController.java:98)\norg.gradle.internal.model.StateTransitionController.lambda$transition$6(StateTransitionController.java:177)\norg.gradle.internal.model.StateTransitionController.doTransition(StateTransitionController.java:258)\norg.gradle.internal.model.StateTransitionController.lambda$transition$7(StateTransitionController.java:177)\norg.gradle.internal.work.DefaultSynchronizer.withLock(DefaultSynchronizer.java:44)\norg.gradle.internal.model.StateTransitionController.transition(StateTransitionController.java:177)\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.runBuild(DefaultBuildTreeLifecycleController.java:95)\norg.gradle.internal.buildtree.DefaultBuildTreeLifecycleController.fromBuildModel(DefaultBuildTreeLifecycleController.java:73)\norg.gradle.tooling.internal.provider.runner.AbstractClientProvidedBuildActionRunner.runClientAction(AbstractClientProvidedBuildActionRunner.java:43)\norg.gradle.tooling.internal.provider.runner.ClientProvidedPhasedActionRunner.run(ClientProvidedPhasedActionRunner.java:53)\norg.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\norg.gradle.internal.buildtree.ProblemReportingBuildActionRunner.run(ProblemReportingBuildActionRunner.java:49)\norg.gradle.launcher.exec.BuildOutcomeReportingBuildActionRunner.run(BuildOutcomeReportingBuildActionRunner.java:65)\norg.gradle.tooling.internal.provider.FileSystemWatchingBuildActionRunner.run(FileSystemWatchingBuildActionRunner.java:140)\norg.gradle.launcher.exec.BuildCompletionNotifyingBuildActionRunner.run(BuildCompletionNotifyingBuildActionRunner.java:41)\norg.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.lambda$execute$0(RootBuildLifecycleBuildActionExecutor.java:40)\norg.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:122)\norg.gradle.launcher.exec.RootBuildLifecycleBuildActionExecutor.execute(RootBuildLifecycleBuildActionExecutor.java:40)\norg.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\norg.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:65)\norg.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\norg.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:65)\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\norg.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\norg.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\norg.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\norg.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\norg.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\norg.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\norg.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\norg.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:36)\norg.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:249)\norg.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:109)\norg.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:36)\norg.gradle.tooling.internal.provider.continuous.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:110)\norg.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\norg.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:100)\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter$ActionImpl.apply(BuildSessionLifecycleBuildActionExecuter.java:88)\norg.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:62)\norg.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:41)\norg.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\norg.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\norg.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:50)\norg.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:38)\norg.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\norg.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\norg.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\norg.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\norg.gradle.util.internal.Swapper.swap(Swapper.java:38)\norg.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:64)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\norg.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\norg.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\norg.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\norg.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\norg.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\norg.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:49)\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\njava.base/java.lang.Thread.run(Thread.java:1589)</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1687948194,"post_id":76571365,"comment_id":135007314,"body_markdown":"If I were you, I would create a shutdown hook that would stop the crwaling process","body":"If I were you, I would create a shutdown hook that would stop the crwaling process"}],"owner":{"account_id":23069558,"reputation":79,"user_id":17183543,"display_name":"ajs"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687940957,"creation_date":1687940957,"question_id":76571365,"body_markdown":"I have a Quarkus application that crawls websites. Usually 2000 pods run (in kubernetes) with the application. When I release a new version, Kubernetes shuts the pod down. Of the 2000 instances, around 75 will throw one of the exceptions below. As you can see from the various exceptions, the problem is not clearly identifiable, but my theory (see below could be correct. Do you guys agree with my theory? If so, do you know a possible fix? I already have a custom ShutdownHandler.\r\n\r\nWhat I think that happens:\r\n\r\n1. The crawler is busy crawling websites\r\n2. It receives a shutdown signal (SIGTERM and after 30s SIGKILL if it did not stop already)\r\n3. Quarkus starts breaking down and throwing objects away\r\n4. While quarkus is breaking down, the crawler is still running and tries to access an object that is already thrown away.\r\n5. The exception occurs.\r\n\r\n\r\n\r\n```\r\nException: class java.lang.IllegalArgumentException\r\nCaused by: null\r\nstackTraceLocalMessage: null\r\nstackTrace: io.quarkus.arc.impl.ArcContainerImpl.unwrap(ArcContainerImpl.java:808)\r\nio.quarkus.arc.impl.ArcContainerImpl.instance(ArcContainerImpl.java:843)\r\nio.quarkus.arc.impl.Instances.resolveBeans(Instances.java:35)\r\nio.quarkus.arc.impl.Instances.resolveBeans(Instances.java:31)\r\nio.quarkus.arc.impl.InstanceImpl.resolve(InstanceImpl.java:235)\r\nio.quarkus.arc.impl.InstanceImpl.&lt;init&gt;(InstanceImpl.java:79)\r\nio.quarkus.arc.impl.InstanceImpl.&lt;init&gt;(InstanceImpl.java:61)\r\nio.quarkus.arc.impl.InstanceProvider.get(InstanceProvider.java:39)\r\nio.quarkus.arc.impl.InstanceProvider.get(InstanceProvider.java:16)\r\ncom.abc.crwl.service.processor.RequestProcessorService_Bean.create(Unknown Source)\r\ncom.abc.crwl.service.processor.RequestProcessorService_Bean.create(Unknown Source)\r\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\ncom.abc.crwl.service.processor.RequestProcessorService_ClientProxy.arc$delegate(Unknown Source)\r\ncom.abc.crwl.service.processor.RequestProcessorService_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.ProcessorService.process(ProcessorService.java:35)\r\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.crawler.Crawler.createPageOfLastRequestInChain(Crawler.java:109)\r\ncom.abc.crwl.crawler.Crawler.processRequestResponse(Crawler.java:72)\r\ncom.abc.crwl.crawler.Crawler.processRequestResponse(Crawler.java:65)\r\ncom.abc.crwl.crawler.Crawler_ClientProxy.processRequestResponse(Unknown Source)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.getAnalyzeRootResultOfValidResponse(RootUrlProcessor.java:190)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.analyzeRoot(RootUrlProcessor.java:156)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.crawl(RootUrlProcessor.java:88)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:64)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:21)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.runProcessor(AbstractProcessorService.java:91)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:43)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:33)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$processDependentProcessors$2(AbstractProcessorService.java:68)\r\njava.base/java.lang.Iterable.forEach(Iterable.java:75)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.processDependentProcessors(AbstractProcessorService.java:63)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$process$1(AbstractProcessorService.java:54)\r\njava.base/java.util.HashMap.forEach(HashMap.java:1337)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:51)\r\ncom.abc.crwl.service.processor.WebsitePreProcessorService_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.ProcessorService.preProcess(ProcessorService.java:31)\r\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.preProcess(Unknown Source)\r\ncom.abc.crwl.crwl.preProcessWebsite(crwl.java:72)\r\ncom.abc.crwl.crwl.run(crwl.java:50)\r\ncom.abc.crwl.crwl_ClientProxy.run(Unknown Source)\r\ncom.abc.crwl.Main.scan(Main.java:121)\r\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\r\ncom.abc.crwl.Main.run(Main.java:52)\r\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\r\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\n\r\n```\r\nor this one:\r\n\r\n```\r\nException: class java.lang.NullPointerException\r\nCaused by: null\r\nstackTraceLocalMessage: null\r\nstackTrace: com.abc.crwl.domain.model.CrawlContext.addDownloadable(CrawlContext.java:59)\r\ncom.abc.crwl.domain.model.CrawlContext_ClientProxy.addDownloadable(Unknown Source)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.finishRootPage(RootUrlProcessor.java:73)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:66)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:21)\r\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.runProcessor(AbstractProcessorService.java:91)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:43)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:33)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$processDependentProcessors$2(AbstractProcessorService.java:68)\r\njava.base/java.lang.Iterable.forEach(Iterable.java:75)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.processDependentProcessors(AbstractProcessorService.java:63)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$process$1(AbstractProcessorService.java:54)\r\njava.base/java.util.HashMap.forEach(HashMap.java:1337)\r\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:51)\r\ncom.abc.crwl.service.processor.WebsitePreProcessorService_ClientProxy.process(Unknown Source)\r\ncom.abc.crwl.service.processor.ProcessorService.preProcess(ProcessorService.java:31)\r\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.preProcess(Unknown Source)\r\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:72)\r\ncom.abc.crwl.Crawl.run(Crawl.java:50)\r\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\r\ncom.abc.crwl.Main.scan(Main.java:121)\r\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\r\ncom.abc.crwl.Main.run(Main.java:52)\r\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\r\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\n```\r\nor this one:\r\n```\r\nException: class java.lang.RuntimeException\r\nCaused by: Error injecting com.fasterxml.jackson.databind.ObjectMapper com.abc.crwl.service.ProxyService.objectMapper\r\nstackTraceLocalMessage: Error injecting com.fasterxml.jackson.databind.ObjectMapper com.abc.crwl.service.ProxyService.objectMapper\r\nstackTrace: com.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\r\ncom.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\r\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\ncom.abc.crwl.service.ProxyService_ClientProxy.arc$delegate(Unknown Source)\r\ncom.abc.crwl.service.ProxyService_ClientProxy.get(Unknown Source)\r\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:71)\r\ncom.abc.crwl.Crawl.run(Crawl.java:50)\r\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\r\ncom.abc.crwl.Main.scan(Main.java:121)\r\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\r\ncom.abc.crwl.Main.run(Main.java:52)\r\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\r\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\n\r\nException: class java.lang.NullPointerException\r\nCaused by: null\r\nstackTraceLocalMessage: null\r\nstackTrace: com.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\r\ncom.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\r\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\r\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\r\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\r\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\r\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\r\ncom.abc.crwl.service.ProxyService_ClientProxy.arc$delegate(Unknown Source)\r\ncom.abc.crwl.service.ProxyService_ClientProxy.get(Unknown Source)\r\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:71)\r\ncom.abc.crwl.Crawl.run(Crawl.java:50)\r\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\r\ncom.abc.crwl.Main.scan(Main.java:121)\r\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\r\ncom.abc.crwl.Main.run(Main.java:52)\r\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\r\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\r\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\r\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\r\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\r\n```","title":"Quarkus Nullpointer/IllegalArgument exception on Shutdown","body":"<p>I have a Quarkus application that crawls websites. Usually 2000 pods run (in kubernetes) with the application. When I release a new version, Kubernetes shuts the pod down. Of the 2000 instances, around 75 will throw one of the exceptions below. As you can see from the various exceptions, the problem is not clearly identifiable, but my theory (see below could be correct. Do you guys agree with my theory? If so, do you know a possible fix? I already have a custom ShutdownHandler.</p>\n<p>What I think that happens:</p>\n<ol>\n<li>The crawler is busy crawling websites</li>\n<li>It receives a shutdown signal (SIGTERM and after 30s SIGKILL if it did not stop already)</li>\n<li>Quarkus starts breaking down and throwing objects away</li>\n<li>While quarkus is breaking down, the crawler is still running and tries to access an object that is already thrown away.</li>\n<li>The exception occurs.</li>\n</ol>\n<pre><code>Exception: class java.lang.IllegalArgumentException\nCaused by: null\nstackTraceLocalMessage: null\nstackTrace: io.quarkus.arc.impl.ArcContainerImpl.unwrap(ArcContainerImpl.java:808)\nio.quarkus.arc.impl.ArcContainerImpl.instance(ArcContainerImpl.java:843)\nio.quarkus.arc.impl.Instances.resolveBeans(Instances.java:35)\nio.quarkus.arc.impl.Instances.resolveBeans(Instances.java:31)\nio.quarkus.arc.impl.InstanceImpl.resolve(InstanceImpl.java:235)\nio.quarkus.arc.impl.InstanceImpl.&lt;init&gt;(InstanceImpl.java:79)\nio.quarkus.arc.impl.InstanceImpl.&lt;init&gt;(InstanceImpl.java:61)\nio.quarkus.arc.impl.InstanceProvider.get(InstanceProvider.java:39)\nio.quarkus.arc.impl.InstanceProvider.get(InstanceProvider.java:16)\ncom.abc.crwl.service.processor.RequestProcessorService_Bean.create(Unknown Source)\ncom.abc.crwl.service.processor.RequestProcessorService_Bean.create(Unknown Source)\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\ncom.abc.crwl.service.processor.RequestProcessorService_ClientProxy.arc$delegate(Unknown Source)\ncom.abc.crwl.service.processor.RequestProcessorService_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.ProcessorService.process(ProcessorService.java:35)\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.process(Unknown Source)\ncom.abc.crwl.crawler.Crawler.createPageOfLastRequestInChain(Crawler.java:109)\ncom.abc.crwl.crawler.Crawler.processRequestResponse(Crawler.java:72)\ncom.abc.crwl.crawler.Crawler.processRequestResponse(Crawler.java:65)\ncom.abc.crwl.crawler.Crawler_ClientProxy.processRequestResponse(Unknown Source)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.getAnalyzeRootResultOfValidResponse(RootUrlProcessor.java:190)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.analyzeRoot(RootUrlProcessor.java:156)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.crawl(RootUrlProcessor.java:88)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:64)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:21)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.AbstractProcessorService.runProcessor(AbstractProcessorService.java:91)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:43)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:33)\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$processDependentProcessors$2(AbstractProcessorService.java:68)\njava.base/java.lang.Iterable.forEach(Iterable.java:75)\ncom.abc.crwl.service.processor.AbstractProcessorService.processDependentProcessors(AbstractProcessorService.java:63)\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$process$1(AbstractProcessorService.java:54)\njava.base/java.util.HashMap.forEach(HashMap.java:1337)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:51)\ncom.abc.crwl.service.processor.WebsitePreProcessorService_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.ProcessorService.preProcess(ProcessorService.java:31)\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.preProcess(Unknown Source)\ncom.abc.crwl.crwl.preProcessWebsite(crwl.java:72)\ncom.abc.crwl.crwl.run(crwl.java:50)\ncom.abc.crwl.crwl_ClientProxy.run(Unknown Source)\ncom.abc.crwl.Main.scan(Main.java:121)\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\ncom.abc.crwl.Main.run(Main.java:52)\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\n\n</code></pre>\n<p>or this one:</p>\n<pre><code>Exception: class java.lang.NullPointerException\nCaused by: null\nstackTraceLocalMessage: null\nstackTrace: com.abc.crwl.domain.model.CrawlContext.addDownloadable(CrawlContext.java:59)\ncom.abc.crwl.domain.model.CrawlContext_ClientProxy.addDownloadable(Unknown Source)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.finishRootPage(RootUrlProcessor.java:73)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:66)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor.process(RootUrlProcessor.java:21)\ncom.abc.crwl.processor.scanrequest.RootUrlProcessor_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.AbstractProcessorService.runProcessor(AbstractProcessorService.java:91)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:43)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:33)\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$processDependentProcessors$2(AbstractProcessorService.java:68)\njava.base/java.lang.Iterable.forEach(Iterable.java:75)\ncom.abc.crwl.service.processor.AbstractProcessorService.processDependentProcessors(AbstractProcessorService.java:63)\ncom.abc.crwl.service.processor.AbstractProcessorService.lambda$process$1(AbstractProcessorService.java:54)\njava.base/java.util.HashMap.forEach(HashMap.java:1337)\ncom.abc.crwl.service.processor.AbstractProcessorService.process(AbstractProcessorService.java:51)\ncom.abc.crwl.service.processor.WebsitePreProcessorService_ClientProxy.process(Unknown Source)\ncom.abc.crwl.service.processor.ProcessorService.preProcess(ProcessorService.java:31)\ncom.abc.crwl.service.processor.ProcessorService_ClientProxy.preProcess(Unknown Source)\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:72)\ncom.abc.crwl.Crawl.run(Crawl.java:50)\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\ncom.abc.crwl.Main.scan(Main.java:121)\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\ncom.abc.crwl.Main.run(Main.java:52)\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\n</code></pre>\n<p>or this one:</p>\n<pre><code>Exception: class java.lang.RuntimeException\nCaused by: Error injecting com.fasterxml.jackson.databind.ObjectMapper com.abc.crwl.service.ProxyService.objectMapper\nstackTraceLocalMessage: Error injecting com.fasterxml.jackson.databind.ObjectMapper com.abc.crwl.service.ProxyService.objectMapper\nstackTrace: com.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\ncom.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\ncom.abc.crwl.service.ProxyService_ClientProxy.arc$delegate(Unknown Source)\ncom.abc.crwl.service.ProxyService_ClientProxy.get(Unknown Source)\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:71)\ncom.abc.crwl.Crawl.run(Crawl.java:50)\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\ncom.abc.crwl.Main.scan(Main.java:121)\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\ncom.abc.crwl.Main.run(Main.java:52)\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\n\nException: class java.lang.NullPointerException\nCaused by: null\nstackTraceLocalMessage: null\nstackTrace: com.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\ncom.abc.crwl.service.ProxyService_Bean.create(Unknown Source)\nio.quarkus.arc.impl.AbstractSharedContext.createInstanceHandle(AbstractSharedContext.java:111)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:35)\nio.quarkus.arc.impl.AbstractSharedContext$1.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.LazyValue.get(LazyValue.java:26)\nio.quarkus.arc.impl.ComputingCache.computeIfAbsent(ComputingCache.java:69)\nio.quarkus.arc.impl.AbstractSharedContext.get(AbstractSharedContext.java:32)\nio.quarkus.arc.impl.ClientProxies.getApplicationScopedDelegate(ClientProxies.java:18)\ncom.abc.crwl.service.ProxyService_ClientProxy.arc$delegate(Unknown Source)\ncom.abc.crwl.service.ProxyService_ClientProxy.get(Unknown Source)\ncom.abc.crwl.Crawl.preProcessWebsite(Crawl.java:71)\ncom.abc.crwl.Crawl.run(Crawl.java:50)\ncom.abc.crwl.Crawl_ClientProxy.run(Unknown Source)\ncom.abc.crwl.Main.scan(Main.java:121)\ncom.abc.crwl.Main.runProductionMode(Main.java:71)\ncom.abc.crwl.Main.run(Main.java:52)\ncom.abc.crwl.Main_ClientProxy.run(Unknown Source)\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:124)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:67)\nio.quarkus.runtime.Quarkus.run(Quarkus.java:41)\nio.quarkus.runner.GeneratedMain.main(Unknown Source)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\njava.base/java.lang.reflect.Method.invoke(Method.java:566)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.doRun(QuarkusEntryPoint.java:60)\nio.quarkus.bootstrap.runner.QuarkusEntryPoint.main(QuarkusEntryPoint.java:31)\n</code></pre>\n"},{"tags":["java","spring","reactive"],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1645808504,"creation_date":1645808504,"answer_id":71269237,"question_id":71268480,"body_markdown":"A reactive version of Spring Batch does not exist.\r\nSpring developers are discussing this implementation in this [Github issue](https://github.com/spring-projects/spring-batch/issues/1008).\r\n\r\nI want to mark the following comment which explains all the reasons.\r\n\r\n&gt; &gt; Spring Batch and Reactive Streams\r\n&gt; \r\n&gt; First of all, Reactive Streams are designed for data streams (infinite) while Spring Batch is a batch processing framework designed for fixed datasets (finite). In my opinion, this is already a fundamental mismtatch that can result in a non-natural integration between these two tools.\r\n&gt; \r\n&gt; Now even if we try to introduce &quot;reactive&quot; in some way in Spring Batch, we need to be careful about several design choices. The following excerpt from the [Spring Framework FAQ](https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-5-FAQ) section is key:\r\n&gt; \r\n&gt; ```\r\n&gt; For handlers to be fully non-blocking, you need to use reactive libraries throughout the processing chain,\r\n&gt; all the way to the persistence layer.\r\n&gt; ```\r\n&gt; \r\n&gt; Spring Framework even recommends to keep using the blocking model if the stack is partially reactive:\r\n&gt; \r\n&gt; ```\r\n&gt; By all means, keep using Spring MVC if you are developing web apps that don&#39;t benefit from a non-blocking\r\n&gt; programming model, or that use blocking JPA or JDBC APIs for persistence (typically in combination with\r\n&gt; thread-bound transactions).\r\n&gt; ```\r\n&gt; \r\n&gt; Based on these statements, for a web application to be fully reactive, the entire stack should be reactive, from the controller all the way down to the persistence layer. This is no different for batch applications, except that we obviously don&#39;t have controllers here, but the end-to-end job execution should be reactive. It does not make sense to have a &quot;reactive non-blocking step&quot; that interacts with a blocking job repository.\r\n&gt; \r\n&gt; So to really benefit from this reactive story, the entire framework should be reactive, from batch artefacts (reader, processor, writer, listeners, etc) to infrastructure beans (job repository, transaction manager, etc). And to achieve that, a huge effort is needed:\r\n&gt; \r\n&gt; * A reactive job repository implementation should be provided\r\n&gt; * All APIs using `PlatformTransactionManager` (namely `BatchConfigurer`, `Tasklet`, `StepBuilderHelper`, etc ) should be updated to use the newly introduced [org.springframework.transaction.TransactionManager](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/TransactionManager.html) interface. This is to be able to provide either a `ReactiveTransactionManager` or a classic `PlatformTransactionManager` as needed.\r\n&gt; * All implementations of readers/writers should be updated to use non-blocking APIs (File IO, Database IO, etc)\r\n&gt; * And many other changes\r\n&gt; \r\n&gt; Moreover, the current chunk-oriented processing model is actually incompatible with the reactive paradigm. The reason is that `ChunkOrientedTasklet` waits for the chunkProcessor (processor + writer) to process the whole chunk before reading the next chunk:\r\n&gt; \r\n&gt; ```java\r\n&gt; Chunk inputs = chunkProvider.provide();\r\n&gt; chunkProcessor.process(inputs);\r\n&gt; ```\r\n&gt; \r\n&gt; So this implementation should be adapted as well. And all these changes are required without even talking about the current concurrency model of Spring Batch (that is incompatible with the reactive paradigm) and the optimistic locking strategy used at the job repository level..\r\n&gt; \r\n&gt; In my opinion, &quot;reactive support&quot; is not a feature we can introduce in Spring Batch, it actually requires a complete re-write of 80% of the framework (if not more). For all these reasons, I believe the cost/benefit of such integration is too high to be considered, but I&#39;m open to be convinced otherwise.\r\n\r\n","title":"how to apply reactive for spring batch","body":"<p>A reactive version of Spring Batch does not exist.\nSpring developers are discussing this implementation in this <a href=\"https://github.com/spring-projects/spring-batch/issues/1008\" rel=\"noreferrer\">Github issue</a>.</p>\n<p>I want to mark the following comment which explains all the reasons.</p>\n<blockquote>\n<blockquote>\n<p>Spring Batch and Reactive Streams</p>\n</blockquote>\n<p>First of all, Reactive Streams are designed for data streams (infinite) while Spring Batch is a batch processing framework designed for fixed datasets (finite). In my opinion, this is already a fundamental mismtatch that can result in a non-natural integration between these two tools.</p>\n<p>Now even if we try to introduce &quot;reactive&quot; in some way in Spring Batch, we need to be careful about several design choices. The following excerpt from the <a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-5-FAQ\" rel=\"noreferrer\">Spring Framework FAQ</a> section is key:</p>\n<pre><code>For handlers to be fully non-blocking, you need to use reactive libraries throughout the processing chain,\nall the way to the persistence layer.\n</code></pre>\n<p>Spring Framework even recommends to keep using the blocking model if the stack is partially reactive:</p>\n<pre><code>By all means, keep using Spring MVC if you are developing web apps that don't benefit from a non-blocking\nprogramming model, or that use blocking JPA or JDBC APIs for persistence (typically in combination with\nthread-bound transactions).\n</code></pre>\n<p>Based on these statements, for a web application to be fully reactive, the entire stack should be reactive, from the controller all the way down to the persistence layer. This is no different for batch applications, except that we obviously don't have controllers here, but the end-to-end job execution should be reactive. It does not make sense to have a &quot;reactive non-blocking step&quot; that interacts with a blocking job repository.</p>\n<p>So to really benefit from this reactive story, the entire framework should be reactive, from batch artefacts (reader, processor, writer, listeners, etc) to infrastructure beans (job repository, transaction manager, etc). And to achieve that, a huge effort is needed:</p>\n<ul>\n<li>A reactive job repository implementation should be provided</li>\n<li>All APIs using <code>PlatformTransactionManager</code> (namely <code>BatchConfigurer</code>, <code>Tasklet</code>, <code>StepBuilderHelper</code>, etc ) should be updated to use the newly introduced <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/TransactionManager.html\" rel=\"noreferrer\">org.springframework.transaction.TransactionManager</a> interface. This is to be able to provide either a <code>ReactiveTransactionManager</code> or a classic <code>PlatformTransactionManager</code> as needed.</li>\n<li>All implementations of readers/writers should be updated to use non-blocking APIs (File IO, Database IO, etc)</li>\n<li>And many other changes</li>\n</ul>\n<p>Moreover, the current chunk-oriented processing model is actually incompatible with the reactive paradigm. The reason is that <code>ChunkOrientedTasklet</code> waits for the chunkProcessor (processor + writer) to process the whole chunk before reading the next chunk:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Chunk inputs = chunkProvider.provide();\nchunkProcessor.process(inputs);\n</code></pre>\n<p>So this implementation should be adapted as well. And all these changes are required without even talking about the current concurrency model of Spring Batch (that is incompatible with the reactive paradigm) and the optimistic locking strategy used at the job repository level..</p>\n<p>In my opinion, &quot;reactive support&quot; is not a feature we can introduce in Spring Batch, it actually requires a complete re-write of 80% of the framework (if not more). For all these reasons, I believe the cost/benefit of such integration is too high to be considered, but I'm open to be convinced otherwise.</p>\n</blockquote>\n"}],"owner":{"account_id":18446741,"reputation":23,"user_id":13437832,"display_name":"kon zu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71269237,"answer_count":1,"score":2,"last_activity_date":1687940848,"creation_date":1645804742,"question_id":71268480,"body_markdown":"I am wondering how can I apply spring reactive to the spring batch. How can I do it? And why should we apply spring reactive to spring security? Why do I can apply to spring security but cannot apply reactive to spring batch.","title":"how to apply reactive for spring batch","body":"<p>I am wondering how can I apply spring reactive to the spring batch. How can I do it? And why should we apply spring reactive to spring security? Why do I can apply to spring security but cannot apply reactive to spring batch.</p>\n"},{"tags":["java","networking","selector","nio"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1687941336,"post_id":76571318,"comment_id":135005867,"body_markdown":"Count them and stop accepting while there are &gt;= your limit, i.e. deregister for OP_ACCEPT. There is no way of knowing prior to accepting the connection how important it is.","body":"Count them and stop accepting while there are &gt;= your limit, i.e. deregister for OP_ACCEPT. There is no way of knowing prior to accepting the connection how important it is."}],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687940576,"creation_date":1687940576,"question_id":76571318,"body_markdown":"I have an asynchronous NIO Server using a regular `java.nio.channels.Selector` that accepts clients (in non-blocking mode, i.e. I do `socketChannel.configureBlocking(false)` for each accepted client).\r\n\r\nThis works pretty well, but I have a concern that there appears to be no obvious constraint on the maximum number of client connections. I would like to limit these to control server resources and provide resilience against unexpected load / denial of service attacks etc.\r\n\r\nTwo related questions:\r\n- What is the best practice for controlling the maximum number of client connections?\r\n- Is there a way of doing this that is selective, e.g. some more critical clients get priority over others if the connection limit risks being breached?","title":"Limiting the maximum number of client connections in an NIO Selector","body":"<p>I have an asynchronous NIO Server using a regular <code>java.nio.channels.Selector</code> that accepts clients (in non-blocking mode, i.e. I do <code>socketChannel.configureBlocking(false)</code> for each accepted client).</p>\n<p>This works pretty well, but I have a concern that there appears to be no obvious constraint on the maximum number of client connections. I would like to limit these to control server resources and provide resilience against unexpected load / denial of service attacks etc.</p>\n<p>Two related questions:</p>\n<ul>\n<li>What is the best practice for controlling the maximum number of client connections?</li>\n<li>Is there a way of doing this that is selective, e.g. some more critical clients get priority over others if the connection limit risks being breached?</li>\n</ul>\n"},{"tags":["java","json","regex"],"comments":[{"owner":{"account_id":17291110,"reputation":911,"user_id":12522652,"display_name":"Buttered_Toast"},"score":2,"creation_date":1685368222,"post_id":76357894,"comment_id":134646899,"body_markdown":"Why not use a JSON parser? you didn&#39;t include the language this is for but I&#39;m sure whatever you use has a JSON parser.","body":"Why not use a JSON parser? you didn&#39;t include the language this is for but I&#39;m sure whatever you use has a JSON parser."},{"owner":{"account_id":27745623,"reputation":62,"user_id":21181190,"display_name":"daringfireball"},"score":0,"creation_date":1685368292,"post_id":76357894,"comment_id":134646908,"body_markdown":"@Buttered_Toast I am using a simple java program to pattern match and replace the string from the JSON.","body":"@Buttered_Toast I am using a simple java program to pattern match and replace the string from the JSON."},{"owner":{"account_id":17291110,"reputation":911,"user_id":12522652,"display_name":"Buttered_Toast"},"score":2,"creation_date":1685368463,"post_id":76357894,"comment_id":134646945,"body_markdown":"Does this java program comes with a json parser? check the docs for it.","body":"Does this java program comes with a json parser? check the docs for it."},{"owner":{"account_id":1613587,"reputation":752178,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":2,"creation_date":1685368832,"post_id":76357894,"comment_id":134647004,"body_markdown":"JSON can&#39;t be parsed reliably with a regexp. It&#39;s difficult to handle escaped quotes, balanced brackets, etc.","body":"JSON can&#39;t be parsed reliably with a regexp. It&#39;s difficult to handle escaped quotes, balanced brackets, etc."},{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1685369104,"post_id":76357894,"comment_id":134647053,"body_markdown":"Match regex doesn&#39;t add characters, in our current output it&#39;s there because it&#39;s placed before the key:value you remove. Place the `[,]?` to the start so it&#39;s removed at the right location","body":"Match regex doesn&#39;t add characters, in our current output it&#39;s there because it&#39;s placed before the key:value you remove. Place the <code>[,]?</code> to the start so it&#39;s removed at the right location"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1685369554,"post_id":76357894,"comment_id":134647124,"body_markdown":"@Randommm, this will work for this exact case, but will produce undesired outcome if one of listed fields is not first or last field of corresponding object. Consider [this demo](https://regex101.com/r/30TPg4/1)","body":"@Randommm, this will work for this exact case, but will produce undesired outcome if one of listed fields is not first or last field of corresponding object. Consider <a href=\"https://regex101.com/r/30TPg4/1\" rel=\"nofollow noreferrer\">this demo</a>"},{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1685423317,"post_id":76357894,"comment_id":134653412,"body_markdown":"@markalex Sorry worded that wrong, &quot;move the `[,]/`&quot;*","body":"@markalex Sorry worded that wrong, &quot;move the <code>[,]&#47;</code>&quot;*"}],"answers":[{"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1685370565,"post_id":76358123,"comment_id":134647285,"body_markdown":"This will work for this exact case, but will produce undesired outcome if one of listed fields is not first or last field of corresponding object. Consider [this demo](https://regex101.com/r/30TPg4/1)","body":"This will work for this exact case, but will produce undesired outcome if one of listed fields is not first or last field of corresponding object. Consider <a href=\"https://regex101.com/r/30TPg4/1\" rel=\"nofollow noreferrer\">this demo</a>"},{"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"score":0,"creation_date":1685433521,"post_id":76358123,"comment_id":134655151,"body_markdown":"@markalex that is true. I updated my answer with an example code that is safe regarding the order and properties of the json.","body":"@markalex that is true. I updated my answer with an example code that is safe regarding the order and properties of the json."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1685433659,"post_id":76358123,"comment_id":134655183,"body_markdown":"I suggest you splitting this answer it two: regex one, and correct one.","body":"I suggest you splitting this answer it two: regex one, and correct one."},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":2,"creation_date":1685433690,"post_id":76358123,"comment_id":134655191,"body_markdown":"@markalex No need to. Regex is not the tool for this task.","body":"@markalex No need to. Regex is not the tool for this task."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685433893,"post_id":76358123,"comment_id":134655241,"body_markdown":"@Dragas, while I agree, I still believe this task can be accomplished with regex. Just not in the way how it shown in current answer. Also, I believe answer that contain two opposite approaches should be split, and since author while editing decided to keep regex part, we should result in two answers.","body":"@Dragas, while I agree, I still believe this task can be accomplished with regex. Just not in the way how it shown in current answer. Also, I believe answer that contain two opposite approaches should be split, and since author while editing decided to keep regex part, we should result in two answers."},{"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"score":0,"creation_date":1685434090,"post_id":76358123,"comment_id":134655284,"body_markdown":"@markalex what would be the benefit of splitting the answer into two? The main point is to solve the problem and my regex does give a valid solution for the problem in the description. If the problem is more general, then the question must be specified to show all relevant edge cases so that I can adapt my answer. I cannot guess the total requirements...","body":"@markalex what would be the benefit of splitting the answer into two? The main point is to solve the problem and my regex does give a valid solution for the problem in the description. If the problem is more general, then the question must be specified to show all relevant edge cases so that I can adapt my answer. I cannot guess the total requirements..."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685435146,"post_id":76358123,"comment_id":134655506,"body_markdown":"@MartindelNecesario, because regex part of your answer warrants a downvote: It lacks any explanation, it will most likely produce undesired outcome (example in question looks like minimized, if object will contain multiple fields with name from regex problem will appear). Also it doesn&#39;t explain clear bad decisions of regex in use: redundant groups, redundant `?` in `(\\s*)?`, redundant symbol class around comma in the end.","body":"@MartindelNecesario, because regex part of your answer warrants a downvote: It lacks any explanation, it will most likely produce undesired outcome (example in question looks like minimized, if object will contain multiple fields with name from regex problem will appear). Also it doesn&#39;t explain clear bad decisions of regex in use: redundant groups, redundant <code>?</code> in <code>(\\s*)?</code>, redundant symbol class around comma in the end."},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":0,"creation_date":1685435238,"post_id":76358123,"comment_id":134655530,"body_markdown":"OTOH, JSON answer is clear, has example and explanation.","body":"OTOH, JSON answer is clear, has example and explanation."},{"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"score":0,"creation_date":1685443918,"post_id":76358123,"comment_id":134657398,"body_markdown":"@markalex yes, you are right. I will update my answer when I got time later. Thank you for clarifying the points!","body":"@markalex yes, you are right. I will update my answer when I got time later. Thank you for clarifying the points!"},{"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"score":0,"creation_date":1685885357,"post_id":76358123,"comment_id":134720443,"body_markdown":"Hey @markalex, I updated my answer. Please let me know if there is still something unclear","body":"Hey @markalex, I updated my answer. Please let me know if there is still something unclear"},{"owner":{"account_id":27745623,"reputation":62,"user_id":21181190,"display_name":"daringfireball"},"score":0,"creation_date":1687821257,"post_id":76358123,"comment_id":134987385,"body_markdown":"@MartindelNecesario If the key is an array. the regex is not deleting it. Is there any way to fix that?","body":"@MartindelNecesario If the key is an array. the regex is not deleting it. Is there any way to fix that?"},{"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"score":1,"creation_date":1687940512,"post_id":76358123,"comment_id":135005674,"body_markdown":"@daringfireball for that I strongly recommend the use of a json library. If it must be regex, you could extend the `\\w`-part to include all characters that can be part of an array (`[`, `]`, `{`, `}`, `&quot;`, ...). But it likely doesn&#39;t work for all cases and it&#39;s not manageable to handle further elements inside of an array...","body":"@daringfireball for that I strongly recommend the use of a json library. If it must be regex, you could extend the <code>\\w</code>-part to include all characters that can be part of an array (<code>[</code>, <code>]</code>, <code>{</code>, <code>}</code>, <code>&quot;</code>, ...). But it likely doesn&#39;t work for all cases and it&#39;s not manageable to handle further elements inside of an array..."},{"owner":{"account_id":27745623,"reputation":62,"user_id":21181190,"display_name":"daringfireball"},"score":0,"creation_date":1687976789,"post_id":76358123,"comment_id":135013452,"body_markdown":"@MartindelNecesario could you please help me with that? total newbie to regex struggling to figure it out. :)","body":"@MartindelNecesario could you please help me with that? total newbie to regex struggling to figure it out. :)"},{"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"score":0,"creation_date":1688125401,"post_id":76358123,"comment_id":135035433,"body_markdown":"take my original regex solution and replace `\\w` with `[\\w[]{}&quot;]`. This will create a new character class, with which you tell the regex to match any characters that are present in said class. Still, it will get complicated and really bad to handle, when you also have nested arrays (an array that has an array inside etc.). The complicated part will be to tell the regex when to stop. I strongly advice to use a json parser for that task as written in my answer.","body":"take my original regex solution and replace <code>\\w</code> with <code>[\\w[]{}&quot;]</code>. This will create a new character class, with which you tell the regex to match any characters that are present in said class. Still, it will get complicated and really bad to handle, when you also have nested arrays (an array that has an array inside etc.). The complicated part will be to tell the regex when to stop. I strongly advice to use a json parser for that task as written in my answer."}],"tags":[],"owner":{"account_id":4825385,"reputation":233,"user_id":5677130,"display_name":"Martin del Necesario"},"comment_count":14,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687940372,"creation_date":1685370063,"answer_id":76358123,"question_id":76357894,"body_markdown":"I second the comments, that you should probably use a JSON parser library for java. For the sake of completeness I developed both approaches:\r\n\r\n# regex approach\r\n\r\nWe need to consider the following cases:\r\n1. key-value-pair is alone: `{&quot;queueNumber&quot;: &quot;123&quot;}`\r\n2. key-value-pair is at the beginning: `{&quot;queueNumber&quot;: &quot;123&quot;,&quot;asdf&quot;: &quot;1&quot;,...}`\r\n3. key-value-pair is in the middle: `{,&quot;asdf1&quot;: &quot;1&quot;,&quot;queueNumber&quot;: &quot;123&quot;,&quot;asdf2&quot;: &quot;1&quot;,...}`\r\n4. key-value-pair is at the end: `{...,&quot;asdf1&quot;: &quot;1&quot;,&quot;queueNumber&quot;: &quot;123&quot;}`\r\n\r\nThe difficulty is to not to remove too many commas. We can categorize the cases in two classes:\r\n1. the key-value-pair starts with a comma\r\n2. the key-value-pair doesn&#39;t start with a comma, but may(!) end with a comma\r\n\t&quot;may end with a comma&quot; could be considered a sub-class\r\n\r\nIf either of these classes is true, we have a full match.\r\n\r\nRegex for class 1: `,\\s*&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)` &lt;br&gt;\r\nRegex for class 2: `&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)(\\s*,)?`\r\n\r\n**Full Regex (see [this link][1]):**\r\n`(,\\s*&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+))|(&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)(\\s*,)?)`\r\n\r\n**Explanation:**\r\n* `,\\s*` - matches a comma followed by any whitespace 0 - unlimited times\r\n* `&quot;` - match the literal char `&quot;`\r\n* `(queueNumber|name|uniqueNumber)\\d*` - matches either `queueNumber`, `name` or `uniqueNumber`, followed by optional numbers\r\n* `&quot;:\\s*` - literal `&quot;:` followed by optional whitespaces\r\n* `(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)` - matches either anything inside of quotation marks, a decimal digit or a word &lt;br&gt;\r\n** `[^&quot;]*?` - lazy match of any string, that does not contain `&quot;` ([^abc]-creates a word class with all chars, that are not `a`, `b` or `c`). Lazy means, the regex tries to match the least amount of chars possible.\r\n* `(.a.)|(.b.)` matches either the first(`a`) or the second(`b`) regex. If the first regex matched, the second regex is ignored.\r\n* `(\\s*,)?` optionally matches optional white spaces followed by a comma &lt;br&gt;\r\n** `?` - means 0 to 1 matches\r\n\r\n**Improvements to your regex approach:**\r\n* you didn&#39;t need so many groups `(...)`. Grouping is only necessary for replacing or to apply a quantifier or other logic to a sub-regex. The boolean OR operator is not applied to single chars/matchers, but to the whole connected chars then come before and follow after.\r\n* `\\d` is the same as `[0-9]`\r\n* `[,]?` can be simplified to `,?`\r\n* `(\\s*)?` can be simplified to `\\s*`  the `*` already means 0-infinity matches. So there is no need to make this part optional with the `?` quantifier\r\n* Your approach to match the value-part (`(&quot;.*?&quot;|\\d+.\\d+|\\w+)`) can get out of hand, because of the part `.*?`. Your rightfully made it a lazy match. But if the regex doesn&#39;t find something in the way you intended to, the laziness will not stop it to go on as far as possible to get at least one match. A better approach is to replace the `.`-matcher with `[^&quot;]`. That way you will not match outside of the string.\r\n\r\n\r\n\r\n# JSON parser approach\r\n\r\nTake a look at the following libraries:\r\n* [JSON.simple][2]\r\n* [GSON][3]\r\n* [Jackson][4]\r\n\r\n\r\nIf you don&#39;t know the exact structure of the json, I recommend using [JsonPath][5] to remove the keys. But you need to be extra careful not to remove more than you want to. See this example:\r\n\r\nmaven dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n  &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n  &lt;version&gt;2.8.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nJava code (minimum Java 15 required):\r\n```java\r\nimport com.jayway.jsonpath.DocumentContext;\r\nimport com.jayway.jsonpath.JsonPath;\r\nimport com.jayway.jsonpath.Option;\r\nimport com.jayway.jsonpath.Configuration;\r\n\r\npublic class App {\r\n    public static void main( String[] args ) {\r\n        String details = &quot;&quot;&quot;\r\n            {&quot;queueNumber&quot;: &quot;123&quot;,&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,&quot;uniqueNumber&quot;:&quot;123456&quot;}]}\r\n                &quot;&quot;&quot;;\r\n\r\n        DocumentContext parsedJson = JsonPath.parse(details, \r\n                // exceptions are thrown when a key is not present. For a simpler demo\r\n                // we suppress all exceptions. Be cautious how to use this implementation\r\n                // in production though!\r\n                Configuration.defaultConfiguration().addOptions(Option.SUPPRESS_EXCEPTIONS));\r\n        \r\n        parsedJson.delete(&quot;$..queueNumber&quot;);\r\n        parsedJson.delete(&quot;$..name&quot;);\r\n        parsedJson.delete(&quot;$..uniqueNumber&quot;);\r\n\r\n        System.out.println(parsedJson.jsonString());\r\n    }\r\n}\r\n```\r\n\r\nNow, if you are certain about the structure of the given json, you can change the path to the following:\r\n\r\n```java\r\n        parsedJson.delete(&quot;$.queueNumber&quot;);\r\n        parsedJson.delete(&quot;$..name&quot;);\r\n        parsedJson.delete(&quot;$.cur[*].uniqueNumber&quot;);\r\n```\r\n\r\nYou&#39;d only need to adapt the path of the key &quot;name&quot;. As it was missing in your example, I don&#39;t know where it usually occurs. If you get stuck using the library, check the example section of the readme file, it&#39;s well documented: https://github.com/json-path/JsonPath#path-examples\r\n\r\n\r\n  [1]: https://regex101.com/r/VLX1ES/1\r\n  [2]: https://github.com/fangyidong/json-simple\r\n  [3]: https://github.com/google/gson\r\n  [4]: https://www.baeldung.com/jackson\r\n  [5]: https://github.com/json-path/JsonPath","title":"Regex to remove Key and value from JSON","body":"<p>I second the comments, that you should probably use a JSON parser library for java. For the sake of completeness I developed both approaches:</p>\n<h1>regex approach</h1>\n<p>We need to consider the following cases:</p>\n<ol>\n<li>key-value-pair is alone: <code>{&quot;queueNumber&quot;: &quot;123&quot;}</code></li>\n<li>key-value-pair is at the beginning: <code>{&quot;queueNumber&quot;: &quot;123&quot;,&quot;asdf&quot;: &quot;1&quot;,...}</code></li>\n<li>key-value-pair is in the middle: <code>{,&quot;asdf1&quot;: &quot;1&quot;,&quot;queueNumber&quot;: &quot;123&quot;,&quot;asdf2&quot;: &quot;1&quot;,...}</code></li>\n<li>key-value-pair is at the end: <code>{...,&quot;asdf1&quot;: &quot;1&quot;,&quot;queueNumber&quot;: &quot;123&quot;}</code></li>\n</ol>\n<p>The difficulty is to not to remove too many commas. We can categorize the cases in two classes:</p>\n<ol>\n<li>the key-value-pair starts with a comma</li>\n<li>the key-value-pair doesn't start with a comma, but may(!) end with a comma\n&quot;may end with a comma&quot; could be considered a sub-class</li>\n</ol>\n<p>If either of these classes is true, we have a full match.</p>\n<p>Regex for class 1: <code>,\\s*&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)</code> <br>\nRegex for class 2: <code>&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)(\\s*,)?</code></p>\n<p><strong>Full Regex (see <a href=\"https://regex101.com/r/VLX1ES/1\" rel=\"nofollow noreferrer\">this link</a>):</strong>\n<code>(,\\s*&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+))|(&quot;(queueNumber|name|uniqueNumber)\\d*&quot;:\\s*(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)(\\s*,)?)</code></p>\n<p><strong>Explanation:</strong></p>\n<ul>\n<li><code>,\\s*</code> - matches a comma followed by any whitespace 0 - unlimited times</li>\n<li><code>&quot;</code> - match the literal char <code>&quot;</code></li>\n<li><code>(queueNumber|name|uniqueNumber)\\d*</code> - matches either <code>queueNumber</code>, <code>name</code> or <code>uniqueNumber</code>, followed by optional numbers</li>\n<li><code>&quot;:\\s*</code> - literal <code>&quot;:</code> followed by optional whitespaces</li>\n<li><code>(&quot;[^&quot;]*?&quot;|\\d+.\\d+|\\w+)</code> - matches either anything inside of quotation marks, a decimal digit or a word <br>\n** <code>[^&quot;]*?</code> - lazy match of any string, that does not contain <code>&quot;</code> ([^abc]-creates a word class with all chars, that are not <code>a</code>, <code>b</code> or <code>c</code>). Lazy means, the regex tries to match the least amount of chars possible.</li>\n<li><code>(.a.)|(.b.)</code> matches either the first(<code>a</code>) or the second(<code>b</code>) regex. If the first regex matched, the second regex is ignored.</li>\n<li><code>(\\s*,)?</code> optionally matches optional white spaces followed by a comma <br>\n** <code>?</code> - means 0 to 1 matches</li>\n</ul>\n<p><strong>Improvements to your regex approach:</strong></p>\n<ul>\n<li>you didn't need so many groups <code>(...)</code>. Grouping is only necessary for replacing or to apply a quantifier or other logic to a sub-regex. The boolean OR operator is not applied to single chars/matchers, but to the whole connected chars then come before and follow after.</li>\n<li><code>\\d</code> is the same as <code>[0-9]</code></li>\n<li><code>[,]?</code> can be simplified to <code>,?</code></li>\n<li><code>(\\s*)?</code> can be simplified to <code>\\s*</code>  the <code>*</code> already means 0-infinity matches. So there is no need to make this part optional with the <code>?</code> quantifier</li>\n<li>Your approach to match the value-part (<code>(&quot;.*?&quot;|\\d+.\\d+|\\w+)</code>) can get out of hand, because of the part <code>.*?</code>. Your rightfully made it a lazy match. But if the regex doesn't find something in the way you intended to, the laziness will not stop it to go on as far as possible to get at least one match. A better approach is to replace the <code>.</code>-matcher with <code>[^&quot;]</code>. That way you will not match outside of the string.</li>\n</ul>\n<h1>JSON parser approach</h1>\n<p>Take a look at the following libraries:</p>\n<ul>\n<li><a href=\"https://github.com/fangyidong/json-simple\" rel=\"nofollow noreferrer\">JSON.simple</a></li>\n<li><a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">GSON</a></li>\n<li><a href=\"https://www.baeldung.com/jackson\" rel=\"nofollow noreferrer\">Jackson</a></li>\n</ul>\n<p>If you don't know the exact structure of the json, I recommend using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JsonPath</a> to remove the keys. But you need to be extra careful not to remove more than you want to. See this example:</p>\n<p>maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n  &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n  &lt;version&gt;2.8.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Java code (minimum Java 15 required):</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.jayway.jsonpath.DocumentContext;\nimport com.jayway.jsonpath.JsonPath;\nimport com.jayway.jsonpath.Option;\nimport com.jayway.jsonpath.Configuration;\n\npublic class App {\n    public static void main( String[] args ) {\n        String details = &quot;&quot;&quot;\n            {&quot;queueNumber&quot;: &quot;123&quot;,&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,&quot;uniqueNumber&quot;:&quot;123456&quot;}]}\n                &quot;&quot;&quot;;\n\n        DocumentContext parsedJson = JsonPath.parse(details, \n                // exceptions are thrown when a key is not present. For a simpler demo\n                // we suppress all exceptions. Be cautious how to use this implementation\n                // in production though!\n                Configuration.defaultConfiguration().addOptions(Option.SUPPRESS_EXCEPTIONS));\n        \n        parsedJson.delete(&quot;$..queueNumber&quot;);\n        parsedJson.delete(&quot;$..name&quot;);\n        parsedJson.delete(&quot;$..uniqueNumber&quot;);\n\n        System.out.println(parsedJson.jsonString());\n    }\n}\n</code></pre>\n<p>Now, if you are certain about the structure of the given json, you can change the path to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        parsedJson.delete(&quot;$.queueNumber&quot;);\n        parsedJson.delete(&quot;$..name&quot;);\n        parsedJson.delete(&quot;$.cur[*].uniqueNumber&quot;);\n</code></pre>\n<p>You'd only need to adapt the path of the key &quot;name&quot;. As it was missing in your example, I don't know where it usually occurs. If you get stuck using the library, check the example section of the readme file, it's well documented: <a href=\"https://github.com/json-path/JsonPath#path-examples\" rel=\"nofollow noreferrer\">https://github.com/json-path/JsonPath#path-examples</a></p>\n"}],"owner":{"account_id":27745623,"reputation":62,"user_id":21181190,"display_name":"daringfireball"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1687940372,"creation_date":1685367794,"question_id":76357894,"body_markdown":"I have a JSON like below: \r\n\r\n    {&quot;queueNumber&quot;: &quot;123&quot;,&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,&quot;uniqueNumber&quot;:&quot;123456&quot;}]}\r\n\r\nI want to remove the key-value pairs if it matches a given field.\r\n\r\nI tried with the below regex but it adds a comma at the end which raises an exception at runtime while reading this JSON again.\r\n\r\n    &quot;((queueNumber|name|uniqueNumber)[0-9]*)&quot;:(\\s*)?((&quot;.*?&quot;)|(\\d+.\\d+)|(\\w+))[,]?\r\n\r\ncurrent output:\r\n\r\n    {&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,}]}\r\n\r\nExpected output:\r\n\r\n    {&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;}]}\r\n\r\nHow to remove K,V pairs without that extra comma at the end?","title":"Regex to remove Key and value from JSON","body":"<p>I have a JSON like below:</p>\n<pre><code>{&quot;queueNumber&quot;: &quot;123&quot;,&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,&quot;uniqueNumber&quot;:&quot;123456&quot;}]}\n</code></pre>\n<p>I want to remove the key-value pairs if it matches a given field.</p>\n<p>I tried with the below regex but it adds a comma at the end which raises an exception at runtime while reading this JSON again.</p>\n<pre><code>&quot;((queueNumber|name|uniqueNumber)[0-9]*)&quot;:(\\s*)?((&quot;.*?&quot;)|(\\d+.\\d+)|(\\w+))[,]?\n</code></pre>\n<p>current output:</p>\n<pre><code>{&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;,}]}\n</code></pre>\n<p>Expected output:</p>\n<pre><code>{&quot;UserId&quot;:[12,12,34],&quot;cur&quot;:[{&quot;objectName&quot;:&quot;test&quot;}]}\n</code></pre>\n<p>How to remove K,V pairs without that extra comma at the end?</p>\n"},{"tags":["java","java-time","datetimeformatter"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1687940705,"post_id":76571266,"comment_id":135005721,"body_markdown":"Possibly a locale issue. Try *formatting* a `ZonedDateTime` with the formatter instead. That way you know what it expects.","body":"Possibly a locale issue. Try <i>formatting</i> a <code>ZonedDateTime</code> with the formatter instead. That way you know what it expects."},{"owner":{"account_id":10741858,"reputation":166,"user_id":7904647,"display_name":"Manisha Biswas"},"score":0,"creation_date":1687943278,"post_id":76571266,"comment_id":135006270,"body_markdown":"Thanks for responding @Sweeper. Not sure if the issue is locale then why it&#39;s working on the online compiler. Can you please suggest what type of ZonedDateTime formatter I can use?","body":"Thanks for responding @Sweeper. Not sure if the issue is locale then why it&#39;s working on the online compiler. Can you please suggest what type of ZonedDateTime formatter I can use?"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1687943822,"post_id":76571266,"comment_id":135006386,"body_markdown":"You could write a custom one: `DateTimeFormatter.ofPattern(&quot;MMMM dd, uuuu &#39;at&#39; hh:mm:ss a z&quot;, Locale.ENGLISH)` for example Maybe even try `Locale.US`, too. Or you just use the one you have in the method that sometimes fails.","body":"You could write a custom one: <code>DateTimeFormatter.ofPattern(&quot;MMMM dd, uuuu &#39;at&#39; hh:mm:ss a z&quot;, Locale.ENGLISH)</code> for example Maybe even try <code>Locale.US</code>, too. Or you just use the one you have in the method that sometimes fails."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687952127,"post_id":76571266,"comment_id":135008046,"body_markdown":"Your format actually wants &quot;2023 Jun 28 04:33:38 PDT&quot; or the like. But your datetime string contains the word &quot;at&quot; for some reason. Also your locale string is wrong. It should be `en_US`. You have `en-US`","body":"Your format actually wants &quot;2023 Jun 28 04:33:38 PDT&quot; or the like. But your datetime string contains the word &quot;at&quot; for some reason. Also your locale string is wrong. It should be <code>en_US</code>. You have <code>en-US</code>"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1689436723,"post_id":76571266,"comment_id":135214830,"body_markdown":"I don&#39;t see any problem with your code. Also, it works without any issue with IntelliJ in my system. Try upgrading your IntelliJ version.","body":"I don&#39;t see any problem with your code. Also, it works without any issue with IntelliJ in my system. Try upgrading your IntelliJ version."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1689436827,"post_id":76571266,"comment_id":135214841,"body_markdown":"@g00se - There is no problem with `en-US`. Remember `en-US` denotes the language while `en_US` denotes a locale. So, you can print `Locale.forLanguageTag(&quot;en-US&quot;).getDisplayLanguage()` to understand the difference. You can further check the documentation [here](https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDisplayLanguage--).","body":"@g00se - There is no problem with <code>en-US</code>. Remember <code>en-US</code> denotes the language while <code>en_US</code> denotes a locale. So, you can print <code>Locale.forLanguageTag(&quot;en-US&quot;).getDisplayLanguage()</code> to understand the difference. You can further check the documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#getDisplayLanguage--\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689437896,"post_id":76571266,"comment_id":135214949,"body_markdown":"*Remember en-US denotes the language* Right, thanks","body":"<i>Remember en-US denotes the language</i> Right, thanks"}],"owner":{"account_id":10741858,"reputation":166,"user_id":7904647,"display_name":"Manisha Biswas"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687940161,"creation_date":1687940161,"question_id":76571266,"body_markdown":"I am trying to run the below code in IntelliJ IDE and getting the parsing exception whereas the code works on the online Java Compiler. Can somebody please help me understand what I am doing wrong?\r\n\r\n    import java.time.Instant;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZoneOffset;\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.format.FormatStyle;\r\n    import java.util.Locale;\r\n    \r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          String slot = &quot;December 05, 2020 at 10:00:00 AM PDT&quot;;\r\n          String locale = &quot;en-US&quot;;\r\n          String timezone = &quot;America/Los_Angeles&quot;;\r\n          long epoch = convertDateToLong(slot, locale, timezone);\r\n          System.out.println(epoch);\r\n        }\r\n        \r\n        private static long convertDateToLong (String dateTimeString, String locale, String timezone) {\r\n            ZoneId zoneId = ZoneId.of(timezone);\r\n            String offsetId = ZonedDateTime.ofInstant(Instant.now(), ZoneId.of(timezone)).getOffset().toString();\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG).withZone(zoneId).withLocale(Locale.forLanguageTag(locale));\r\n            LocalDateTime localDateTime = LocalDateTime.parse(dateTimeString, formatter);\r\n            long epoch = localDateTime.toEpochSecond(ZoneOffset.of(offsetId));\r\n            return epoch * 1000;\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9RiKs.png","title":"Getting java.time.format.DateTimeParseException: Text &#39;December 05, 2020 at 10:00:00 AM PDT&#39; could not be parsed at index 17","body":"<p>I am trying to run the below code in IntelliJ IDE and getting the parsing exception whereas the code works on the online Java Compiler. Can somebody please help me understand what I am doing wrong?</p>\n<pre><code>import java.time.Instant;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZoneOffset;\nimport java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.format.FormatStyle;\nimport java.util.Locale;\n\n\npublic class MyClass {\n    public static void main(String args[]) {\n      String slot = &quot;December 05, 2020 at 10:00:00 AM PDT&quot;;\n      String locale = &quot;en-US&quot;;\n      String timezone = &quot;America/Los_Angeles&quot;;\n      long epoch = convertDateToLong(slot, locale, timezone);\n      System.out.println(epoch);\n    }\n    \n    private static long convertDateToLong (String dateTimeString, String locale, String timezone) {\n        ZoneId zoneId = ZoneId.of(timezone);\n        String offsetId = ZonedDateTime.ofInstant(Instant.now(), ZoneId.of(timezone)).getOffset().toString();\n        DateTimeFormatter formatter = DateTimeFormatter.ofLocalizedDateTime(FormatStyle.LONG).withZone(zoneId).withLocale(Locale.forLanguageTag(locale));\n        LocalDateTime localDateTime = LocalDateTime.parse(dateTimeString, formatter);\n        long epoch = localDateTime.toEpochSecond(ZoneOffset.of(offsetId));\n        return epoch * 1000;\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/9RiKs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9RiKs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","package","dependencies","vcf-vcard"],"owner":{"account_id":15332332,"reputation":154,"user_id":11061705,"display_name":"AbsoluteDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687939826,"creation_date":1687938212,"question_id":76571044,"body_markdown":"I am having issue with importing ez-vcard library in a java (17) application which is modular one. IDE I am using is IntelliJ Idea. The error shows up like below.\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gniwX.png\r\n\r\nThe library is great but while migrating from Java 8 to Modular Java Development, The package name and module name are mismatching, that is resulting into -&gt; ide not able to find the package. Also the dependency can not be imported in project to build/compile a modular java application.\r\n\r\nPlease show me some way, how to get this working. ","title":"ez-vcard library not working with modular java applications","body":"<p>I am having issue with importing ez-vcard library in a java (17) application which is modular one. IDE I am using is IntelliJ Idea. The error shows up like below.</p>\n<p><a href=\"https://i.stack.imgur.com/gniwX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gniwX.png\" alt=\"enter image description here\" /></a></p>\n<p>The library is great but while migrating from Java 8 to Modular Java Development, The package name and module name are mismatching, that is resulting into -&gt; ide not able to find the package. Also the dependency can not be imported in project to build/compile a modular java application.</p>\n<p>Please show me some way, how to get this working.</p>\n"},{"tags":["java","android","android-bluetooth"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687942321,"post_id":76571223,"comment_id":135006084,"body_markdown":"Provide more information","body":"Provide more information"}],"owner":{"account_id":28910483,"reputation":1,"user_id":22143601,"display_name":"Ishu Pandey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687939810,"creation_date":1687939810,"question_id":76571223,"body_markdown":"\r\n\r\n    if (bluetoothAdapter.isEnabled()) {\r\n        for (BluetoothDevice device1 : bluetoothAdapter.getBondedDevices()) {\r\n            if (device1.getBondState() == BluetoothDevice.BOND_BONDED) {\r\n            // Display the name of the currently connected device\r\n            device=device1;\r\n            }\r\n        }\r\n    updateUI(device.getName(), &quot;Connected&quot;);\r\n\r\n\r\n\r\n\r\n\r\nI am trying to get the name of currently connected device via bluetooth.\r\nBut in the code its showing a different device name not the correct device name.\r\n\r\n","title":"Displaying currently connected Bluetooth device name","body":"<pre><code>if (bluetoothAdapter.isEnabled()) {\n    for (BluetoothDevice device1 : bluetoothAdapter.getBondedDevices()) {\n        if (device1.getBondState() == BluetoothDevice.BOND_BONDED) {\n        // Display the name of the currently connected device\n        device=device1;\n        }\n    }\nupdateUI(device.getName(), &quot;Connected&quot;);\n</code></pre>\n<p>I am trying to get the name of currently connected device via bluetooth.\nBut in the code its showing a different device name not the correct device name.</p>\n"},{"tags":["java","android","android-viewpager"],"owner":{"account_id":7885876,"reputation":271,"user_id":5957968,"display_name":"Amit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687939777,"creation_date":1687939777,"question_id":76571215,"body_markdown":"I have two fragments one is simple video and another is event video,When i call onTabSelected multiple time in very short time period, means change tab quickly then my previous tab video&#39;s sound is continuously playing in second tab video background\r\n\r\n     public void bindAllTab() {\r\n        fm = getSupportFragmentManager();\r\n        viewPagerAdapter = new AllVideoViewPager(fm);\r\n        viewPagerAdapter = new AllVideoViewPager(fm);\r\n        //  Adapter adapter = new Adapter(getChildFragmentManager());\r\n        viewPagerAdapter.addFragment(new AllVideoFrag(videoid, carListAsString, screen, pos), &quot;All Video&quot;);\r\n        viewPagerAdapter.addFragment(new ContestVideoFrag(videoid, carListAsString, screen, pos), &quot;Contest&quot;);\r\n        viewPager.setAdapter(viewPagerAdapter);\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                    viewPager.setCurrentItem(tab.getPosition());\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n                //  new videoAdapter().pause();\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n        tabLayout.setupWithViewPager(viewPager);\r\n        viewPager.addOnPageChangeListener(pageChangeListener);\r\n    }\r\n\r\nplease suggest how i can stop previous tab if user can move to second tab and vice versa. and this is my PageChangeListener.\r\n\r\n     private final ViewPager.OnPageChangeListener pageChangeListener = new ViewPager.OnPageChangeListener() {\r\n        int currentPosition = 0;\r\n\r\n        @Override\r\n        public void onPageSelected(int newPosition) {\r\n            FragmentLifecycle fragmentToHide = (FragmentLifecycle) viewPagerAdapter.getItem(currentPosition);\r\n            fragmentToHide.onPauseFragment();\r\n            FragmentLifecycle fragmentToShow = (FragmentLifecycle) viewPagerAdapter.getItem(newPosition);\r\n            fragmentToShow.onResumeFragment();\r\n            currentPosition = newPosition;\r\n        }\r\n\r\n        @Override\r\n        public void onPageScrolled(int arg0, float arg1, int arg2) {\r\n\r\n        }\r\n\r\n        public void onPageScrollStateChanged(int state) {\r\n\r\n        }\r\n    };\r\n\r\n","title":"How to stop overlapping in ViewPager when change the tab","body":"<p>I have two fragments one is simple video and another is event video,When i call onTabSelected multiple time in very short time period, means change tab quickly then my previous tab video's sound is continuously playing in second tab video background</p>\n<pre><code> public void bindAllTab() {\n    fm = getSupportFragmentManager();\n    viewPagerAdapter = new AllVideoViewPager(fm);\n    viewPagerAdapter = new AllVideoViewPager(fm);\n    //  Adapter adapter = new Adapter(getChildFragmentManager());\n    viewPagerAdapter.addFragment(new AllVideoFrag(videoid, carListAsString, screen, pos), &quot;All Video&quot;);\n    viewPagerAdapter.addFragment(new ContestVideoFrag(videoid, carListAsString, screen, pos), &quot;Contest&quot;);\n    viewPager.setAdapter(viewPagerAdapter);\n    tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n        @Override\n        public void onTabSelected(TabLayout.Tab tab) {\n                viewPager.setCurrentItem(tab.getPosition());\n        }\n\n        @Override\n        public void onTabUnselected(TabLayout.Tab tab) {\n            //  new videoAdapter().pause();\n        }\n\n        @Override\n        public void onTabReselected(TabLayout.Tab tab) {\n\n        }\n    });\n    tabLayout.setupWithViewPager(viewPager);\n    viewPager.addOnPageChangeListener(pageChangeListener);\n}\n</code></pre>\n<p>please suggest how i can stop previous tab if user can move to second tab and vice versa. and this is my PageChangeListener.</p>\n<pre><code> private final ViewPager.OnPageChangeListener pageChangeListener = new ViewPager.OnPageChangeListener() {\n    int currentPosition = 0;\n\n    @Override\n    public void onPageSelected(int newPosition) {\n        FragmentLifecycle fragmentToHide = (FragmentLifecycle) viewPagerAdapter.getItem(currentPosition);\n        fragmentToHide.onPauseFragment();\n        FragmentLifecycle fragmentToShow = (FragmentLifecycle) viewPagerAdapter.getItem(newPosition);\n        fragmentToShow.onResumeFragment();\n        currentPosition = newPosition;\n    }\n\n    @Override\n    public void onPageScrolled(int arg0, float arg1, int arg2) {\n\n    }\n\n    public void onPageScrollStateChanged(int state) {\n\n    }\n};\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","jboss7.x","infinispan"],"answers":[{"comments":[{"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"score":0,"creation_date":1458018911,"post_id":35989007,"comment_id":59658591,"body_markdown":"Thankyou. Actually I wanted to use expiry feature, I could not find the expiry attribute in the @cache annotation. I do not want to set expiry in xml. i wanted to give different expiry time at run-time. Now I am doing simply like this. cache.put(key,value, 30, TimeUnit.SECONDS); What is the equivalent of that in annotation?","body":"Thankyou. Actually I wanted to use expiry feature, I could not find the expiry attribute in the @cache annotation. I do not want to set expiry in xml. i wanted to give different expiry time at run-time. Now I am doing simply like this. cache.put(key,value, 30, TimeUnit.SECONDS); What is the equivalent of that in annotation?"}],"tags":[],"owner":{"account_id":271909,"reputation":2677,"user_id":562699,"accept_rate":80,"display_name":"Sebastian askawiec"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1457962487,"creation_date":1457962487,"answer_id":35989007,"question_id":35931465,"body_markdown":"In general - they should be equal in terms of performance because both integration modules (CDI and Spring) will produce Embedded/RemoteCacheManager under the hood.\r\n\r\nAlso, both are fairly similar in terms of features - Spring has [Spring Caching][1] and CDI can be used with [JCache annotations][2]. More complicated scenarios will require obtaining Embedded/RemoteCacheManager and implementing some custom code.\r\n\r\nIf you tell me more about your usecase - I might give you more accurate answer.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html#cache-annotations\r\n  [2]: http://infinispan.org/docs/8.0.x/user_guide/user_guide.html#_use_jcache_caching_annotations","title":"Integrating inspinispan with jboss or spring","body":"<p>In general - they should be equal in terms of performance because both integration modules (CDI and Spring) will produce Embedded/RemoteCacheManager under the hood.</p>\n\n<p>Also, both are fairly similar in terms of features - Spring has <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html#cache-annotations\" rel=\"nofollow\">Spring Caching</a> and CDI can be used with <a href=\"http://infinispan.org/docs/8.0.x/user_guide/user_guide.html#_use_jcache_caching_annotations\" rel=\"nofollow\">JCache annotations</a>. More complicated scenarios will require obtaining Embedded/RemoteCacheManager and implementing some custom code.</p>\n\n<p>If you tell me more about your usecase - I might give you more accurate answer.</p>\n"}],"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687939777,"creation_date":1457665368,"question_id":35931465,"body_markdown":"I decided to freshly integrate infinispan. Also tried in both ways with basic example. First, integrating infinispan with jboss.\r\nSecond, integrating with spring(Already have spring application)\r\nWhich one is better in terms of flexibility and performance.\r\n","title":"Integrating inspinispan with jboss or spring","body":"<p>I decided to freshly integrate infinispan. Also tried in both ways with basic example. First, integrating infinispan with jboss.\nSecond, integrating with spring(Already have spring application)\nWhich one is better in terms of flexibility and performance.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data","criteria-api"],"owner":{"account_id":4931096,"reputation":77,"user_id":3970855,"accept_rate":50,"display_name":"Najeeba Saidalavi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687939275,"creation_date":1687935586,"question_id":76570757,"body_markdown":"I have 5 tables, the entities are shared below. First there is a buyerbusiness and supplier tables.\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;buyer_business&quot;)\r\n    public class BuyerBusiness {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @Column(name = &quot;buyer_id&quot;)\r\n        private Long buyerId;\r\n        \r\n        // Getters and setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;supplier&quot;)\r\n    public class Supplier {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @Column(name = &quot;company_name&quot;)\r\n        private String companyName;\r\n        \r\n        // Getters and setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;process_order&quot;)\r\n    public class ProcessOrder {\r\n        @Id\r\n        private Long id;\r\n    \t\r\n    \t@ManyToOne\r\n        @JoinColumn(name = &quot;buyer_business_id&quot;)\r\n    \tprivate BuyerBusiness buyerBusiness;\r\n    \t\r\n    \t@ManyToOne\r\n        @JoinColumn(name = &quot;items_id&quot;)\r\n    \tprivate Item item;\r\n        \r\n        // Getters and setters\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;items&quot;)\r\n    public class Items {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;supplier_id&quot;)\r\n        private Supplier supplier;\r\n        \r\n    }\r\n\r\nThe processOrder table is matched to supplier through the items table. It is also matched to purchaseorder table, but since that is not required here, I&#39;m not adding the entity.\r\n\r\n    @Entity\r\n    @Table(name = &quot;business_supplier_mapping&quot;)\r\n    public class BusinessSupplierMapping {\r\n        @Id\r\n        private Long id;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;supplier_id&quot;)\r\n        private Supplier supplier;\r\n        \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;buyer_business_id&quot;)\r\n        private BuyerBusiness buyerBusiness;\r\n        \r\n        @Column(name = &quot;deleted&quot;)\r\n        private boolean deleted;\r\n        \r\n        // Getters and setters\r\n    }\r\n\r\nThe businessSupplierMapping table connects the business and supplier. This is the table that is causing the issue. I cannot make any db changes, like adding `Set&lt;BusinessSupplierMappings&gt;` in BuyerBuisness or Supplier entities.\r\n\r\nI&#39;m using criteria builder to build this query:\r\n\r\n    SELECT sum(amount),supplier.company_name FROM purchase_order \r\n    \t LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id \r\n    \t LEFT JOIN items ON items.id=process_order.items_id \r\n    \t LEFT JOIN supplier ON items.supplier_id =supplier.id  \r\n    \t LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id \r\n    WHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date \r\n    \tBETWEEN &#39;2022-12-31 18:30:00&#39; AND  &#39;2023-06-23 18:29:58&#39; and  process_order.buyer_business_id =   10  and \r\n    \tpurchase_order.purchase_order_status = &#39;PROCESSED&#39;  and business_supplier_mapping.deleted is false   \r\n    \tgroup by items.supplier_id ;\r\n\r\nHere is my code:\r\n\r\n    CriteriaBuilder builder = em.getCriteriaBuilder();\r\n        CriteriaQuery&lt;Object[]&gt; query = builder.createQuery(Object[].class);\r\n        Root&lt;PurchaseOrder&gt; root = query.from(PurchaseOrder.class);\r\n            Join&lt;PurchaseOrder, ProcessOrder&gt; processOrderJoin = root.join(&quot;processOrder&quot;, JoinType.LEFT);\r\n            Join&lt;ProcessOrder, Items&gt; itemJoin = processOrderJoin.join(&quot;items&quot;, JoinType.LEFT);\r\n            Join&lt;Items, Supplier&gt; supplierJoin = itemJoin.join(&quot;supplier&quot;, JoinType.LEFT);\r\n            Join&lt;ProcessOrder, BuyerBusiness&gt; buyerBusinessJoin = processOrderJoin.join(&quot;buyerBusiness&quot;, JoinType.LEFT);\r\n            \r\n        Join&lt;ProcessOrder, BusinessSupplierMapping&gt; businessMappingJoin = processOrderJoin.join(&quot;buyerBusiness&quot;, JoinType.LEFT);\r\n        businessMappingJoin.on(builder.equal(processOrderJoin, businessMappingJoin.get(&quot;buyerBusiness&quot;)));\r\n        Join&lt;BusinessSupplierMapping, Items&gt; supplierMappingJoin = itemJoin.join(&quot;supplier&quot;, JoinType.LEFT);\r\n        supplierMappingJoin.on(builder.equal(supplierJoin, supplierMappingJoin.get(&quot;supplier&quot;)));\r\n\r\n        query.groupBy(itemJoin.get(&quot;supplier&quot;).get(&quot;id&quot;));\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            Predicate deletedPredicate = builder.or(\r\n                builder.isNull(root.get(&quot;deleted&quot;)),\r\n                builder.isFalse(root.get(&quot;deleted&quot;))\r\n            );\r\n            predicates.add(deletedPredicate);\r\n            if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null){\r\n                Predicate receivedDatePredicate = builder.between(\r\n                    root.get(&quot;receivedDate&quot;), businessReportRequestDTO.getFromDate(), businessReportRequestDTO.getToDate()\r\n                 \r\n                predicates.add(receivedDatePredicate);\r\n            }\r\n\r\n           \r\n            Predicate buyerIdPredicate = builder.equal(buyerBusinessJoin.get(&quot;buyer&quot;), buyerId);\r\n            predicates.add(buyerIdPredicate);\r\n            Predicate statusPredicate = builder.equal(root.get(&quot;purchaseOrderStatus&quot;), PurchaseOrderStatus.PROCESSED);\r\n            predicates.add(statusPredicate);\r\n            Predicate deletedMappingPredicate = builder.isFalse(businessMappingJoin.get(&quot;deleted&quot;));\r\n            predicates.add(deletedMappingPredicate);\r\n            Predicate deletedMappingPredicate1 = builder.isFalse(supplierMappingJoin.get(&quot;deleted&quot;));\r\n            predicates.add(deletedMappingPredicate1);\r\n\r\n        query.multiselect(\r\n            builder.sum(root.get(&quot;amount&quot;)),\r\n            root.get(&quot;supplier&quot;).get(&quot;companyName&quot;)\r\n         );\r\n        query.where(predicates.toArray(new Predicate[] {}));\r\n\r\n        TypedQuery&lt;Object[]&gt; typedQuery = em.createQuery(query);\r\n        List&lt;Object[]&gt; result = typedQuery.getResultList();\r\n\r\nThe resulting query is:\r\n\r\n    select sum(purchaseor0_.amount) as col_0_0_, supplier9_.company_name as col_1_0_ from purchase_order purchaseor0_ \r\n\tleft outer join process_order processord1_ on purchaseor0_.process_order_id=processord1_.id \r\n\tleft outer join items items2_ on processord1_.items_id=items2_.id \r\n\tleft outer join supplier supplier5_ on items2_.supplier_id=supplier5_.id \r\n\tleft outer join supplier supplier6_ on items2_.supplier_id=supplier6_.id \r\n\tleft outer join buyer_business buyerbusin7_ on processord1_.buyer_business_id=buyerbusin7_.id left outer join buyer_business buyerbusin8_ on processord1_.buyer_business_id=buyerbusin8_.id, supplier supplier9_\r\n    where purchaseor0_.supplier_id=supplier9_.id \r\n    \tand (purchaseor0_.deleted is null or purchaseor0_.deleted=0) \r\n    \tand (purchaseor0_.received_date between ? and ?) \r\n    \tand buyerbusin7_.buyer_id=10 and purchaseor0_.purchase_order_status=? and buyerbusin8_.deleted=0 \r\n    \tand supplier6_.deleted=0 group by items2_.supplier_id\r\n\r\nI&#39;m not able to add the business_supplier_mapping in the Join query. Any idea how to add that? Thanks!\r\n\r\n\r\n\r\n","title":"Joins with multiple tables using criteria builder","body":"<p>I have 5 tables, the entities are shared below. First there is a buyerbusiness and supplier tables.</p>\n<pre><code>@Entity\n@Table(name = &quot;buyer_business&quot;)\npublic class BuyerBusiness {\n    @Id\n    private Long id;\n    \n    @Column(name = &quot;buyer_id&quot;)\n    private Long buyerId;\n    \n    // Getters and setters\n}\n\n\n@Entity\n@Table(name = &quot;supplier&quot;)\npublic class Supplier {\n    @Id\n    private Long id;\n    \n    @Column(name = &quot;company_name&quot;)\n    private String companyName;\n    \n    // Getters and setters\n}\n\n\n@Entity\n@Table(name = &quot;process_order&quot;)\npublic class ProcessOrder {\n    @Id\n    private Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;buyer_business_id&quot;)\n    private BuyerBusiness buyerBusiness;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;items_id&quot;)\n    private Item item;\n    \n    // Getters and setters\n}\n\n\n@Entity\n@Table(name = &quot;items&quot;)\npublic class Items {\n    @Id\n    private Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;supplier_id&quot;)\n    private Supplier supplier;\n    \n}\n</code></pre>\n<p>The processOrder table is matched to supplier through the items table. It is also matched to purchaseorder table, but since that is not required here, I'm not adding the entity.</p>\n<pre><code>@Entity\n@Table(name = &quot;business_supplier_mapping&quot;)\npublic class BusinessSupplierMapping {\n    @Id\n    private Long id;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;supplier_id&quot;)\n    private Supplier supplier;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;buyer_business_id&quot;)\n    private BuyerBusiness buyerBusiness;\n    \n    @Column(name = &quot;deleted&quot;)\n    private boolean deleted;\n    \n    // Getters and setters\n}\n</code></pre>\n<p>The businessSupplierMapping table connects the business and supplier. This is the table that is causing the issue. I cannot make any db changes, like adding <code>Set&lt;BusinessSupplierMappings&gt;</code> in BuyerBuisness or Supplier entities.</p>\n<p>I'm using criteria builder to build this query:</p>\n<pre><code>SELECT sum(amount),supplier.company_name FROM purchase_order \n     LEFT JOIN process_order ON process_order.id=purchase_order.process_order_id \n     LEFT JOIN items ON items.id=process_order.items_id \n     LEFT JOIN supplier ON items.supplier_id =supplier.id  \n     LEFT JOIN business_supplier_mapping on business_supplier_mapping.supplier_id=supplier.id and business_supplier_mapping.buyer_business_id=process_order.buyer_business_id \nWHERE (purchase_order.deleted is null OR purchase_order.deleted is false) AND purchase_order.received_date \n    BETWEEN '2022-12-31 18:30:00' AND  '2023-06-23 18:29:58' and  process_order.buyer_business_id =   10  and \n    purchase_order.purchase_order_status = 'PROCESSED'  and business_supplier_mapping.deleted is false   \n    group by items.supplier_id ;\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>CriteriaBuilder builder = em.getCriteriaBuilder();\n    CriteriaQuery&lt;Object[]&gt; query = builder.createQuery(Object[].class);\n    Root&lt;PurchaseOrder&gt; root = query.from(PurchaseOrder.class);\n        Join&lt;PurchaseOrder, ProcessOrder&gt; processOrderJoin = root.join(&quot;processOrder&quot;, JoinType.LEFT);\n        Join&lt;ProcessOrder, Items&gt; itemJoin = processOrderJoin.join(&quot;items&quot;, JoinType.LEFT);\n        Join&lt;Items, Supplier&gt; supplierJoin = itemJoin.join(&quot;supplier&quot;, JoinType.LEFT);\n        Join&lt;ProcessOrder, BuyerBusiness&gt; buyerBusinessJoin = processOrderJoin.join(&quot;buyerBusiness&quot;, JoinType.LEFT);\n        \n    Join&lt;ProcessOrder, BusinessSupplierMapping&gt; businessMappingJoin = processOrderJoin.join(&quot;buyerBusiness&quot;, JoinType.LEFT);\n    businessMappingJoin.on(builder.equal(processOrderJoin, businessMappingJoin.get(&quot;buyerBusiness&quot;)));\n    Join&lt;BusinessSupplierMapping, Items&gt; supplierMappingJoin = itemJoin.join(&quot;supplier&quot;, JoinType.LEFT);\n    supplierMappingJoin.on(builder.equal(supplierJoin, supplierMappingJoin.get(&quot;supplier&quot;)));\n\n    query.groupBy(itemJoin.get(&quot;supplier&quot;).get(&quot;id&quot;));\n        List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n        Predicate deletedPredicate = builder.or(\n            builder.isNull(root.get(&quot;deleted&quot;)),\n            builder.isFalse(root.get(&quot;deleted&quot;))\n        );\n        predicates.add(deletedPredicate);\n        if(businessReportRequestDTO.getFromDate()!=null &amp;&amp; businessReportRequestDTO.getToDate()!=null){\n            Predicate receivedDatePredicate = builder.between(\n                root.get(&quot;receivedDate&quot;), businessReportRequestDTO.getFromDate(), businessReportRequestDTO.getToDate()\n             \n            predicates.add(receivedDatePredicate);\n        }\n\n       \n        Predicate buyerIdPredicate = builder.equal(buyerBusinessJoin.get(&quot;buyer&quot;), buyerId);\n        predicates.add(buyerIdPredicate);\n        Predicate statusPredicate = builder.equal(root.get(&quot;purchaseOrderStatus&quot;), PurchaseOrderStatus.PROCESSED);\n        predicates.add(statusPredicate);\n        Predicate deletedMappingPredicate = builder.isFalse(businessMappingJoin.get(&quot;deleted&quot;));\n        predicates.add(deletedMappingPredicate);\n        Predicate deletedMappingPredicate1 = builder.isFalse(supplierMappingJoin.get(&quot;deleted&quot;));\n        predicates.add(deletedMappingPredicate1);\n\n    query.multiselect(\n        builder.sum(root.get(&quot;amount&quot;)),\n        root.get(&quot;supplier&quot;).get(&quot;companyName&quot;)\n     );\n    query.where(predicates.toArray(new Predicate[] {}));\n\n    TypedQuery&lt;Object[]&gt; typedQuery = em.createQuery(query);\n    List&lt;Object[]&gt; result = typedQuery.getResultList();\n</code></pre>\n<p>The resulting query is:</p>\n<pre><code>select sum(purchaseor0_.amount) as col_0_0_, supplier9_.company_name as col_1_0_ from purchase_order purchaseor0_ \nleft outer join process_order processord1_ on purchaseor0_.process_order_id=processord1_.id \nleft outer join items items2_ on processord1_.items_id=items2_.id \nleft outer join supplier supplier5_ on items2_.supplier_id=supplier5_.id \nleft outer join supplier supplier6_ on items2_.supplier_id=supplier6_.id \nleft outer join buyer_business buyerbusin7_ on processord1_.buyer_business_id=buyerbusin7_.id left outer join buyer_business buyerbusin8_ on processord1_.buyer_business_id=buyerbusin8_.id, supplier supplier9_\nwhere purchaseor0_.supplier_id=supplier9_.id \n    and (purchaseor0_.deleted is null or purchaseor0_.deleted=0) \n    and (purchaseor0_.received_date between ? and ?) \n    and buyerbusin7_.buyer_id=10 and purchaseor0_.purchase_order_status=? and buyerbusin8_.deleted=0 \n    and supplier6_.deleted=0 group by items2_.supplier_id\n</code></pre>\n<p>I'm not able to add the business_supplier_mapping in the Join query. Any idea how to add that? Thanks!</p>\n"},{"tags":["java","jmeter","jmeter-plugins","web-api-testing"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687997939,"post_id":76570961,"comment_id":135016295,"body_markdown":"Provide source code","body":"Provide source code"},{"owner":{"account_id":24819945,"reputation":5,"user_id":18700394,"display_name":"chirayu aggarwal 43"},"score":0,"creation_date":1688099173,"post_id":76570961,"comment_id":135031183,"body_markdown":"Sorry I am new, but which source code I just have a JMX file. I want to run it in java.Is there a way to convert this JMX file to rest assured or can I use jmeter gradle dependency so I don&#39;t have to download Jmeter.","body":"Sorry I am new, but which source code I just have a JMX file. I want to run it in java.Is there a way to convert this JMX file to rest assured or can I use jmeter gradle dependency so I don&#39;t have to download Jmeter."}],"answers":[{"comments":[{"owner":{"account_id":24819945,"reputation":5,"user_id":18700394,"display_name":"chirayu aggarwal 43"},"score":0,"creation_date":1687939097,"post_id":76571119,"comment_id":135005390,"body_markdown":"What If I just download it in my system take the relevant jars ,containerise the jars and put give it to a separate system does the new system need to download Jmeter again?","body":"What If I just download it in my system take the relevant jars ,containerise the jars and put give it to a separate system does the new system need to download Jmeter again?"},{"owner":{"account_id":24819945,"reputation":5,"user_id":18700394,"display_name":"chirayu aggarwal 43"},"score":0,"creation_date":1687941485,"post_id":76571119,"comment_id":135005908,"body_markdown":"Also If I use Gradle(I am using Gradle not Maven) dependency I don&#39;t need to download jmeter?","body":"Also If I use Gradle(I am using Gradle not Maven) dependency I don&#39;t need to download jmeter?"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687938904,"creation_date":1687938904,"answer_id":76571119,"question_id":76570961,"body_markdown":"Well, I&#39;m afraid you won&#39;t be able to run a JMeter test without JMeter installed, you will need to have at least [ApacheJMeter_core][1] jar plus relevant plugins for the protocol(s) you&#39;re using in your tests in &quot;your&quot; Java project [classpath][2]  \r\n\r\nIf you want JMeter installation process to happen automatically you can check out the following options:\r\n\r\n 1. [JMeter Maven Plugin][3]\r\n 2. [Taurus][4] framework which has [JMeter Executor][5] \r\n 3. Numerous [`jmeter` Docker images][6] \r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_core\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\r\n  [3]: https://www.blazemeter.com/blog/how-use-jmeter-maven-plugin\r\n  [4]: https://gettaurus.org/\r\n  [5]: https://gettaurus.org/docs/JMeter/\r\n  [6]: https://hub.docker.com/search?q=jmeter","title":"Run Jmeter Test with Jmeter Dependency","body":"<p>Well, I'm afraid you won't be able to run a JMeter test without JMeter installed, you will need to have at least <a href=\"https://mvnrepository.com/artifact/org.apache.jmeter/ApacheJMeter_core\" rel=\"nofollow noreferrer\">ApacheJMeter_core</a> jar plus relevant plugins for the protocol(s) you're using in your tests in &quot;your&quot; Java project <a href=\"https://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow noreferrer\">classpath</a></p>\n<p>If you want JMeter installation process to happen automatically you can check out the following options:</p>\n<ol>\n<li><a href=\"https://www.blazemeter.com/blog/how-use-jmeter-maven-plugin\" rel=\"nofollow noreferrer\">JMeter Maven Plugin</a></li>\n<li><a href=\"https://gettaurus.org/\" rel=\"nofollow noreferrer\">Taurus</a> framework which has <a href=\"https://gettaurus.org/docs/JMeter/\" rel=\"nofollow noreferrer\">JMeter Executor</a></li>\n<li>Numerous <a href=\"https://hub.docker.com/search?q=jmeter\" rel=\"nofollow noreferrer\"><code>jmeter</code> Docker images</a></li>\n</ol>\n"}],"owner":{"account_id":24819945,"reputation":5,"user_id":18700394,"display_name":"chirayu aggarwal 43"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687938904,"creation_date":1687937532,"question_id":76570961,"body_markdown":"I have a bunch of Jmeter files (.jmx) which have a lot of tests inside them. I want to run these test without the dependency of jmeter. Is there a way to run jmx files directly in Java without having to download and install jmeter on the machine.\r\n\r\n\r\nI tried StandardJMeterEngine but that requires jmeter on the machine and I don&#39;t want that. If there is any way to do it please tell me. ","title":"Run Jmeter Test with Jmeter Dependency","body":"<p>I have a bunch of Jmeter files (.jmx) which have a lot of tests inside them. I want to run these test without the dependency of jmeter. Is there a way to run jmx files directly in Java without having to download and install jmeter on the machine.</p>\n<p>I tried StandardJMeterEngine but that requires jmeter on the machine and I don't want that. If there is any way to do it please tell me.</p>\n"},{"tags":["java","maven","option-type","signature","pgp"],"comments":[{"owner":{"account_id":13864065,"reputation":31,"user_id":10008939,"display_name":"Dave Wichers"},"score":0,"creation_date":1592948633,"post_id":60624285,"comment_id":110607114,"body_markdown":"Actually, it turns out the maven command &quot;mvn clean install org.apache.maven.plugins:maven-gpg-plugin:sign deploy&quot; only LOOKS like it works. But if you locally verify the generated signatures (e.g., gpg --verify target/LIBNAME-1.x.y.jar.asc), the signatures are BAD, because the deploy step at the very end regenerates all the artifacts AFTER the .asc files have been created on the versions of the artifacts generated in the install step.\n\nSo, I&#39;m still looking for a good solution to this. I&#39;ve seen some tools build a new &#39;deploy-only&#39; phase that simply deploys what exists. But not Maven (yet?)","body":"Actually, it turns out the maven command &quot;mvn clean install org.apache.maven.plugins:maven-gpg-plugin:sign deploy&quot; only LOOKS like it works. But if you locally verify the generated signatures (e.g., gpg --verify target/LIBNAME-1.x.y.jar.asc), the signatures are BAD, because the deploy step at the very end regenerates all the artifacts AFTER the .asc files have been created on the versions of the artifacts generated in the install step.  So, I&#39;m still looking for a good solution to this. I&#39;ve seen some tools build a new &#39;deploy-only&#39; phase that simply deploys what exists. But not Maven (yet?)"}],"answers":[{"comments":[{"owner":{"account_id":13864065,"reputation":31,"user_id":10008939,"display_name":"Dave Wichers"},"score":0,"creation_date":1609174902,"post_id":65465416,"comment_id":115768055,"body_markdown":"Thanks!! The &lt;gpg.skip&gt;true&lt;/gpg.skip&gt; idea worked like a champ! To invoke, just run: mvn clean deploy -Prelease.    And it &#39;just works&#39;.","body":"Thanks!! The &lt;gpg.skip&gt;true&lt;/gpg.skip&gt; idea worked like a champ! To invoke, just run: mvn clean deploy -Prelease.    And it &#39;just works&#39;."},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1609277437,"post_id":65465416,"comment_id":115800150,"body_markdown":"if answer is usable for you you can accept it or/and vote https://stackoverflow.com/help/someone-answers","body":"if answer is usable for you you can accept it or/and vote <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"},{"owner":{"account_id":13864065,"reputation":31,"user_id":10008939,"display_name":"Dave Wichers"},"score":0,"creation_date":1609368573,"post_id":65465416,"comment_id":115827643,"body_markdown":"I&#39;d like to test the other plugin first before I accept it. I can&#39;t upvote it as I don&#39;t have enough privilege yet to do that :-(","body":"I&#39;d like to test the other plugin first before I accept it. I can&#39;t upvote it as I don&#39;t have enough privilege yet to do that :-("}],"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1609069834,"creation_date":1609069834,"answer_id":65465416,"question_id":60624285,"body_markdown":"# maven profile\r\nOne way using `maven-gpg-plugin` conditional it is put configuration of `maven-gpg-plugin` in profile.\r\n\r\nYou can simplify your profile by only add one property for skip / don&#39;t skip `maven-gpg-plugin`\r\n\r\nYour project can look like:\r\n\r\n```xml\r\n&lt;project ...&gt;\r\n\r\n   &lt;properties&gt;\r\n        &lt;gpg.skip&gt;true&lt;/gpg.skip&gt;&lt;!-- by default skip gpg --&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;!-- ... --&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;release&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;gpg.skip&gt;false&lt;/gpg.skip&gt;\r\n            &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n# another plugin\r\n\r\nYou can also consider use another plugin for making signatures, eg: https://www.simplify4u.org/sign-maven-plugin/ `sign-maven-plugin` by default skips execution if private key not exist on running system.\r\n\r\nAnother feature of `sign-maven-plugin` is that don&#39;t need external software like gpg to make signature.","title":"How to set up Maven project to optionally generate signature files","body":"<h1>maven profile</h1>\n<p>One way using <code>maven-gpg-plugin</code> conditional it is put configuration of <code>maven-gpg-plugin</code> in profile.</p>\n<p>You can simplify your profile by only add one property for skip / don't skip <code>maven-gpg-plugin</code></p>\n<p>Your project can look like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project ...&gt;\n\n   &lt;properties&gt;\n        &lt;gpg.skip&gt;true&lt;/gpg.skip&gt;&lt;!-- by default skip gpg --&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;!-- ... --&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;release&lt;/id&gt;\n            &lt;properties&gt;\n                &lt;gpg.skip&gt;false&lt;/gpg.skip&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<h1>another plugin</h1>\n<p>You can also consider use another plugin for making signatures, eg: <a href=\"https://www.simplify4u.org/sign-maven-plugin/\" rel=\"nofollow noreferrer\">https://www.simplify4u.org/sign-maven-plugin/</a> <code>sign-maven-plugin</code> by default skips execution if private key not exist on running system.</p>\n<p>Another feature of <code>sign-maven-plugin</code> is that don't need external software like gpg to make signature.</p>\n"},{"tags":[],"owner":{"account_id":10065760,"reputation":96,"user_id":7441000,"display_name":"rstolle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636314913,"creation_date":1636310854,"answer_id":69875537,"question_id":60624285,"body_markdown":"# gpp.skip property\r\n\r\nIn my poms I set the `gpp.skip` property to `true`:\r\n\r\n    &lt;properties&gt;\r\n        &lt;gpg.skip&gt;true&lt;/gpg.skip&gt;\r\n    &lt;/properties&gt;\r\n\r\nIts [evaluated by the maven gpg plugin][1] in the way, that signing is skipped by default, e.g.:\r\n\r\n    mvn install\r\n\r\n\r\nTo enable signing, you can set `gpp.skip` to `false` within pom.xml. But better you do it on the command line, so you don&#39;t have to modify your pom all the time:\r\n\r\n    mvn install -Dgpg.skip=false\r\n\r\nYou can also skip setting the property within the pom and skip signing like this:\r\n\r\n    mvn install -Dgpg.skip=true\r\n\r\nBut this way you (and other people working with your project) have to add this all the time to avoid signing. I find it more convenient when signing is turned off by default, as in the first solution. And I guess that&#39;s what you want.\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-gpg-plugin/sign-mojo.html","title":"How to set up Maven project to optionally generate signature files","body":"<h1>gpp.skip property</h1>\n<p>In my poms I set the <code>gpp.skip</code> property to <code>true</code>:</p>\n<pre><code>&lt;properties&gt;\n    &lt;gpg.skip&gt;true&lt;/gpg.skip&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>Its <a href=\"https://maven.apache.org/plugins/maven-gpg-plugin/sign-mojo.html\" rel=\"nofollow noreferrer\">evaluated by the maven gpg plugin</a> in the way, that signing is skipped by default, e.g.:</p>\n<pre><code>mvn install\n</code></pre>\n<p>To enable signing, you can set <code>gpp.skip</code> to <code>false</code> within pom.xml. But better you do it on the command line, so you don't have to modify your pom all the time:</p>\n<pre><code>mvn install -Dgpg.skip=false\n</code></pre>\n<p>You can also skip setting the property within the pom and skip signing like this:</p>\n<pre><code>mvn install -Dgpg.skip=true\n</code></pre>\n<p>But this way you (and other people working with your project) have to add this all the time to avoid signing. I find it more convenient when signing is turned off by default, as in the first solution. And I guess that's what you want.</p>\n"}],"owner":{"account_id":13864065,"reputation":31,"user_id":10008939,"display_name":"Dave Wichers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1076,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1687938242,"creation_date":1583866873,"question_id":60624285,"body_markdown":"I maintain a small Java component published in Maven Central. In order to successfully publish the artifact, pgp/gpg signature files are required for all the artifacts. Following the directions here: https://central.sonatype.org/pages/apache-maven.html#gpg-signed-components, I can add this plugin to my pom.xml like this no problem.\r\n\r\n```lang-html\r\n &lt;build&gt;\r\n   &lt;plugins&gt;\r\n     &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\r\n       ...\r\n```\r\n\r\nand I attach it to the verify or install phase. Now, when I run: &quot;mvn install&quot; or &quot;mvn deploy&quot; the .asc files are generated automatically as desired. Note: you also have to have your pgp/gpg machinery installed and configured properly for this to work.\r\n\r\nThis works OK for me as the artifact maintainer, but if someone else wants to clone my source code, modify it, and then run `mvn install`, so they can make a locally modified version of the component available to other projects of theirs, they have to have all this pgp/gpg machinery setup properly too, which can be a pain. And they likely don&#39;t care about having signature files.\r\n\r\nMy question is, is there a recommended POM setup, so the component maintainer can generate the `.asc` signature files when needed for a deployment (e.g., to Maven Central), but normal usage of Maven commands don&#39;t require signature generation?\r\n\r\nI imagine I could use a profile in my pom to handle this. I did figure out a solution, which is pretty simple.  Rather than adding the `maven-gpg-plugin` to my pom, I figured out I can actually just do this:\r\n\r\n    mvn clean install org.apache.maven.plugins:maven-gpg-plugin:sign deploy\r\n\r\nThis cleans everything, creates and installs all the artifacts locally, signs all the generated artifacts, and then deploys all the generated artifacts, including the signature files to the deployment target.\r\n\r\nThis does exactly what I want in 1 line without a pom modification, which is pretty cool. But are there other &#39;better&#39; ways? Either way, I figured posting this way to do this might be helpful to others.\r\n","title":"How to set up Maven project to optionally generate signature files","body":"<p>I maintain a small Java component published in Maven Central. In order to successfully publish the artifact, pgp/gpg signature files are required for all the artifacts. Following the directions here: <a href=\"https://central.sonatype.org/pages/apache-maven.html#gpg-signed-components\" rel=\"nofollow noreferrer\">https://central.sonatype.org/pages/apache-maven.html#gpg-signed-components</a>, I can add this plugin to my pom.xml like this no problem.</p>\n<pre class=\"lang-html prettyprint-override\"><code> &lt;build&gt;\n   &lt;plugins&gt;\n     &lt;plugin&gt;\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n       &lt;artifactId&gt;maven-gpg-plugin&lt;/artifactId&gt;\n       ...\n</code></pre>\n<p>and I attach it to the verify or install phase. Now, when I run: &quot;mvn install&quot; or &quot;mvn deploy&quot; the .asc files are generated automatically as desired. Note: you also have to have your pgp/gpg machinery installed and configured properly for this to work.</p>\n<p>This works OK for me as the artifact maintainer, but if someone else wants to clone my source code, modify it, and then run <code>mvn install</code>, so they can make a locally modified version of the component available to other projects of theirs, they have to have all this pgp/gpg machinery setup properly too, which can be a pain. And they likely don't care about having signature files.</p>\n<p>My question is, is there a recommended POM setup, so the component maintainer can generate the <code>.asc</code> signature files when needed for a deployment (e.g., to Maven Central), but normal usage of Maven commands don't require signature generation?</p>\n<p>I imagine I could use a profile in my pom to handle this. I did figure out a solution, which is pretty simple.  Rather than adding the <code>maven-gpg-plugin</code> to my pom, I figured out I can actually just do this:</p>\n<pre><code>mvn clean install org.apache.maven.plugins:maven-gpg-plugin:sign deploy\n</code></pre>\n<p>This cleans everything, creates and installs all the artifacts locally, signs all the generated artifacts, and then deploys all the generated artifacts, including the signature files to the deployment target.</p>\n<p>This does exactly what I want in 1 line without a pom modification, which is pretty cool. But are there other 'better' ways? Either way, I figured posting this way to do this might be helpful to others.</p>\n"},{"tags":["java","maven","junit"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1687790844,"post_id":76557745,"comment_id":134982320,"body_markdown":"maven-assembly-plugin does NOT execute any tests at all ... this is done by maven-surefire-plugin (unit tests) or maven-failsafe-plugin (integration tests) ... why do you package tests in the jar file? please show your full pom file and what you exactly like to achive ... also version information about plugins, maven, jdk etc. best would be an example project ...","body":"maven-assembly-plugin does NOT execute any tests at all ... this is done by maven-surefire-plugin (unit tests) or maven-failsafe-plugin (integration tests) ... why do you package tests in the jar file? please show your full pom file and what you exactly like to achive ... also version information about plugins, maven, jdk etc. best would be an example project ..."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1687802390,"post_id":76557745,"comment_id":134984815,"body_markdown":"You got me wrong: I don&#39;t package tests *into* the jar. I want the tests to execute (successfully) *before* the jar is packaged. It should be prevented if any test failed. Therefore, I&#39;m looking for a way to execute the tests automatically during `mvn package`","body":"You got me wrong: I don&#39;t package tests <i>into</i> the jar. I want the tests to execute (successfully) <i>before</i> the jar is packaged. It should be prevented if any test failed. Therefore, I&#39;m looking for a way to execute the tests automatically during <code>mvn package</code>"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687804473,"post_id":76557745,"comment_id":134985147,"body_markdown":"Please show the full pom file... apart from that the usual life cycle run units tests (executed by maven-surefire-plugin and which is before the `package` phase ... I&#39;m not sure If I understand your question or more accurate where your problem is? Maybe you could create a full example on github or alike .(and also posting the pom file here?)","body":"Please show the full pom file... apart from that the usual life cycle run units tests (executed by maven-surefire-plugin and which is before the <code>package</code> phase ... I&#39;m not sure If I understand your question or more accurate where your problem is? Maybe you could create a full example on github or alike .(and also posting the pom file here?)"}],"answers":[{"tags":[],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687938171,"creation_date":1687938171,"answer_id":76571040,"question_id":76557745,"body_markdown":"It turned out that the `maven-surefire-plugin` was missing. Comming from `spring-boot`, I was not aware this plugin has to be added explicit for executing `@Test` classes.\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n      &lt;/plugin&gt;","title":"How to include junit tests in maven-assembly-plugin?","body":"<p>It turned out that the <code>maven-surefire-plugin</code> was missing. Comming from <code>spring-boot</code>, I was not aware this plugin has to be added explicit for executing <code>@Test</code> classes.</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687938171,"creation_date":1687790585,"question_id":76557745,"body_markdown":"I have a legacy app that builds the final jar using `maven-assembly-plugin`.\r\n\r\nProblem: `mvn package` skips all `junit` tests (there have not been any so far).\r\n\r\nQuestion: how can I force the assembly plugin to execute tests first before building the final jar?\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            &lt;archive&gt;\r\n                &lt;manifest&gt;\r\n                    &lt;mainClass&gt;package_path.foo&lt;/mainClass&gt;\r\n                &lt;/manifest&gt;\r\n            &lt;/archive&gt;\r\n            &lt;descriptors&gt;\r\n                &lt;descriptor&gt;src/main/assembly/test-jar-with-dependencies.xml&lt;/descriptor&gt;\r\n            &lt;/descriptors&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;single&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"How to include junit tests in maven-assembly-plugin?","body":"<p>I have a legacy app that builds the final jar using <code>maven-assembly-plugin</code>.</p>\n<p>Problem: <code>mvn package</code> skips all <code>junit</code> tests (there have not been any so far).</p>\n<p>Question: how can I force the assembly plugin to execute tests first before building the final jar?</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifest&gt;\n                &lt;mainClass&gt;package_path.foo&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n        &lt;/archive&gt;\n        &lt;descriptors&gt;\n            &lt;descriptor&gt;src/main/assembly/test-jar-with-dependencies.xml&lt;/descriptor&gt;\n        &lt;/descriptors&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","httpclient","autologin"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1328587985,"post_id":9170871,"comment_id":11536670,"body_markdown":"What credentials are you passing? Username/password, x509 certificate, scan of your retina? After login, how does the site know who you are? Is it storing a cookie that you&#39;re not handling, for example?","body":"What credentials are you passing? Username/password, x509 certificate, scan of your retina? After login, how does the site know who you are? Is it storing a cookie that you&#39;re not handling, for example?"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1328588524,"post_id":9170871,"comment_id":11536755,"body_markdown":"im passing the email id/pwd and an hidden parameter that it expects which i see in view source page. Im not bothered at cookie for now since this is the 1st page. When i navigate to 2nd page or so i might have to handle cookie.","body":"im passing the email id/pwd and an hidden parameter that it expects which i see in view source page. Im not bothered at cookie for now since this is the 1st page. When i navigate to 2nd page or so i might have to handle cookie."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1328588750,"post_id":9170871,"comment_id":11536794,"body_markdown":"Without any code this is impossible to diagnose.","body":"Without any code this is impossible to diagnose."}],"answers":[{"comments":[{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1328589764,"post_id":9171047,"comment_id":11536943,"body_markdown":"I used String input_text = &quot;https://www.hautelook.com/v2/login&quot;; and the response.getContentLength is now 20. What does it mean? response doesnt look like an html though.","body":"I used String input_text = &quot;<a href=\"https://www.hautelook.com/v2/login\" rel=\"nofollow noreferrer\">hautelook.com/v2/login</a>&quot;; and the response.getContentLength is now 20. What does it mean? response doesnt look like an html though."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1328590080,"post_id":9171047,"comment_id":11536984,"body_markdown":"...and what about v3/credential?","body":"...and what about v3/credential?"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1328590112,"post_id":9171047,"comment_id":11536991,"body_markdown":"Do you mean my code wont work if i just change the url above? Why is that i require HttpClient with SSL?","body":"Do you mean my code wont work if i just change the url above? Why is that i require HttpClient with SSL?"},{"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"score":0,"creation_date":1328590246,"post_id":9171047,"comment_id":11537006,"body_markdown":"with /v3/credential Response content length: 20\nHTML Content :::org.apache.http.conn.EofSensorInputStream@80fa6f...I dont see any html response.","body":"with /v3/credential Response content length: 20 HTML Content :::org.apache.http.conn.EofSensorInputStream@80fa6f...I dont see any html response."}],"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328589674,"creation_date":1328589198,"answer_id":9171047,"question_id":9170871,"body_markdown":"If you look at the form on the URL you have as `input_text` you&#39;ll see that you need to post your login information to `/v2/login`. You&#39;re posting to the login page itself, not the login handler.\r\n\r\nI recommend you first use Firebug with Firefox or the F12 tools with Internet Explorer and go through the login process, watching what gets posted where and what is returned.  After you understand the login process then try to recreate it in code.\r\n\r\nWhen I monitored the conversation using Firebug as I advised above, I see the post actually goes to https://www.hautelook.com/v3/credential.\r\n\r\nIf you&#39;re using an older version of Java you&#39;ll have to configure HTTPClient to work with SSL as described here: [HttpClient SSL Guide][1].\r\n\r\n\r\n  [1]: http://hc.apache.org/httpclient-3.x/sslguide.html","title":"not able to login with proper credentials","body":"<p>If you look at the form on the URL you have as <code>input_text</code> you'll see that you need to post your login information to <code>/v2/login</code>. You're posting to the login page itself, not the login handler.</p>\n\n<p>I recommend you first use Firebug with Firefox or the F12 tools with Internet Explorer and go through the login process, watching what gets posted where and what is returned.  After you understand the login process then try to recreate it in code.</p>\n\n<p>When I monitored the conversation using Firebug as I advised above, I see the post actually goes to <a href=\"https://www.hautelook.com/v3/credential\" rel=\"nofollow\">https://www.hautelook.com/v3/credential</a>.</p>\n\n<p>If you're using an older version of Java you'll have to configure HTTPClient to work with SSL as described here: <a href=\"http://hc.apache.org/httpclient-3.x/sslguide.html\" rel=\"nofollow\">HttpClient SSL Guide</a>.</p>\n"}],"owner":{"account_id":1073176,"reputation":3217,"user_id":1071967,"accept_rate":61,"display_name":"Geek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687938155,"creation_date":1328587670,"question_id":9170871,"body_markdown":"I want to auto login into a website. I think the login url and the credentials I pass are all correct. Still my ```entity.getContentLength()``` shows -1. What does it mean?\r\n\r\nThe response I get is still the login page, not the page that I should get after the login. What might go wrong? Im using HttpClient.\r\n\r\n    \r\n\r\n\r\n","title":"not able to login with proper credentials","body":"<p>I want to auto login into a website. I think the login url and the credentials I pass are all correct. Still my <code>entity.getContentLength()</code> shows -1. What does it mean?</p>\n<p>The response I get is still the login page, not the page that I should get after the login. What might go wrong? Im using HttpClient.</p>\n"},{"tags":["java","jackson","jackson-databind"],"answers":[{"comments":[{"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"score":0,"creation_date":1687961440,"post_id":76571025,"comment_id":135010345,"body_markdown":"Wow!  I think `Id.DEDUCTION` is new since the last time I looked at `JsonTypeInfo`.  I&#39;ll look into how it works (i.e., how smart it is ...)","body":"Wow!  I think <code>Id.DEDUCTION</code> is new since the last time I looked at <code>JsonTypeInfo</code>.  I&#39;ll look into how it works (i.e., how smart it is ...)"},{"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"score":0,"creation_date":1687961652,"post_id":76571025,"comment_id":135010407,"body_markdown":"(It could use more documentation  right there in the Javadoc for either JsonTypeInfo or JsonTypeInfo.ID - but there _is_ documentation available, e.g., [_Jackson 2.12 Most Wanted (1/5): Deduction-Based Polymorphism_](https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818), also see [this answer](https://stackoverflow.com/a/66167492/751579))","body":"(It could use more documentation  right there in the Javadoc for either JsonTypeInfo or JsonTypeInfo.ID - but there <i>is</i> documentation available, e.g., <a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-1-5-deduction-based-polymorphism-c7fb51db7818\" rel=\"nofollow noreferrer\"><i>Jackson 2.12 Most Wanted (1/5): Deduction-Based Polymorphism</i></a>, also see <a href=\"https://stackoverflow.com/a/66167492/751579\">this answer</a>)"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1687962477,"post_id":76571025,"comment_id":135010621,"body_markdown":"@davidbak Glad to have helped, at [jsontype](https://github.com/FasterXML/jackson-databind/tree/2.16/src/test/java/com/fasterxml/jackson/databind/jsontype) you can find many examples.","body":"@davidbak Glad to have helped, at <a href=\"https://github.com/FasterXML/jackson-databind/tree/2.16/src/test/java/com/fasterxml/jackson/databind/jsontype\" rel=\"nofollow noreferrer\">jsontype</a> you can find many examples."},{"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"score":1,"creation_date":1687965897,"post_id":76571025,"comment_id":135011376,"body_markdown":"Works great.  Obviously works with Java 17+ records too (vs. `@Data`).","body":"Works great.  Obviously works with Java 17+ records too (vs. <code>@Data</code>)."}],"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687938083,"creation_date":1687938083,"answer_id":76571025,"question_id":76568398,"body_markdown":"You can deduce specific subtypes of one type related with the presence of specific properties with the use of [`JsonTypeInfo`](https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.html) annotation and its deduction system:\r\n\r\n~~~\r\n@JsonTypeInfo(use = Id.DEDUCTION)\r\n@JsonSubTypes({ @Type(ASIN.class), @Type(ISBN.class)})\r\npublic interface BookId {}\r\n\r\n@Data\r\npublic class ISBN implements BookId {\r\n    private String isbn;\r\n}\r\n\r\n@Data\r\npublic class ASIN implements BookId {\r\n    private String asin;\r\n}\r\n~~~\r\n\r\nIn this case the classes implementing the `BookId` interface can be identified by the presence or not of their own asin and isbn properties, so you can deserialize an array of `BookId` like below:\r\n\r\n**Input:** \r\n\r\n~~~\r\n{ &quot;ids&quot;: [\r\n    { &quot;isbn&quot; : &quot;978-0-596-52306-0&quot; },\r\n    { &quot;asin&quot; : &quot;B07QKFQ7QJ&quot; }\r\n]}\r\n~~~\r\n\r\nAn example based on the json input provided:\r\n~~~\r\nJsonNode ids = mapper.readTree(json).at(&quot;/ids&quot;);\r\nBookId[] bookIds = mapper.treeToValue(ids, BookId[].class);\r\n//ok, it prints [ISBN(isbn=978-0-596-52306-0), ASIN(asin=B07QKFQ7QJ)]\r\nSystem.out.println(Arrays.toString(bookIds));\r\n~~~","title":"`@JsonDeserialize` on an interface leads to call stack overflow","body":"<p>You can deduce specific subtypes of one type related with the presence of specific properties with the use of <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.14/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo</code></a> annotation and its deduction system:</p>\n<pre><code>@JsonTypeInfo(use = Id.DEDUCTION)\n@JsonSubTypes({ @Type(ASIN.class), @Type(ISBN.class)})\npublic interface BookId {}\n\n@Data\npublic class ISBN implements BookId {\n    private String isbn;\n}\n\n@Data\npublic class ASIN implements BookId {\n    private String asin;\n}\n</code></pre>\n<p>In this case the classes implementing the <code>BookId</code> interface can be identified by the presence or not of their own asin and isbn properties, so you can deserialize an array of <code>BookId</code> like below:</p>\n<p><strong>Input:</strong></p>\n<pre><code>{ &quot;ids&quot;: [\n    { &quot;isbn&quot; : &quot;978-0-596-52306-0&quot; },\n    { &quot;asin&quot; : &quot;B07QKFQ7QJ&quot; }\n]}\n</code></pre>\n<p>An example based on the json input provided:</p>\n<pre><code>JsonNode ids = mapper.readTree(json).at(&quot;/ids&quot;);\nBookId[] bookIds = mapper.treeToValue(ids, BookId[].class);\n//ok, it prints [ISBN(isbn=978-0-596-52306-0), ASIN(asin=B07QKFQ7QJ)]\nSystem.out.println(Arrays.toString(bookIds));\n</code></pre>\n"}],"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76571025,"answer_count":1,"score":1,"last_activity_date":1687938083,"creation_date":1687897476,"question_id":76568398,"body_markdown":"I&#39;ve got an interface + 2 concrete subclasses, all annotated for Jackson.  The two subclassses work fine independently.  The two subclasses are distinguished by the _name_ of a field (K/V pair), not the _value_ of some K/V pair.\r\n* Because of that I can&#39;t use any of the normal [Jackson PTH](https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization) features.  **Or can I?? Please let me know.**\r\n\r\nI want them serialized w/o any wrapper or injected fields.  \r\n\r\nThe example I&#39;m going to use ([full MCVE gist is here](https://gist.github.com/david-bakin/c6ea81d2755a88989ae72a2a1553b3e0)) is a `BookId` interface where the concrete implementors are `ISBN` and `ASIN`, each with one field.  An example array of `BookId`s would look like this:\r\n\r\n```\r\n{ &quot;ids&quot;: [\r\n    { &quot;isbn&quot; : &quot;978-0-596-52306-0&quot; },\r\n    { &quot;asin&quot; : &quot;B07QKFQ7QJ&quot; }\r\n]}\r\n```\r\n\r\nSo `ISBN` and `ASIN` are pretty simple, here&#39;s `ISBN` (and `ASIN` is similar with a different validator method):\r\n\r\n```\r\npublic static class ISBN implements BookId {\r\n    final String isbn;\r\n\r\n    @JsonCreator\r\n    public ISBN(@JsonProperty(&quot;isbn&quot;) String isbn) {\r\n        if (!valid(isbn)) throw new IllegalArgumentException(&quot;bad isbn syntax&quot;);\r\n        this.isbn = isbn;\r\n    }\r\n\r\n    boolean valid(String isbn) { return isbn != null &amp;&amp; !isbn.isBlank() /* &amp;&amp; checksum ok ... */; }\r\n}\r\n```\r\n\r\nSo trying what I thought was a _proper_ approach - simply distinguish the two cases and then call the object mapper appropriately - looks like this:\r\n\r\n```\r\n@JsonDeserialize(using = BookId.DeserializerDirectViaJackson.class)\r\npublic interface BookId {\r\n\r\n    class DeserializerDirectViaJackson extends StdDeserializer&lt;BookId&gt; {\r\n        public DeserializerDirectViaJackson() { this(null); }\r\n        public DeserializerDirectViaJackson(final Class&lt;?&gt; vc) { super(vc); }\r\n\r\n        @Override\r\n        public BookId deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            final var om = (ObjectMapper) jsonParser.getCodec();\r\n            final var node = (JsonNode) om.readTree(jsonParser);\r\n            if (!node.isObject()) throw new IllegalStateException(&quot;expected JSON object&quot;);\r\n            if (node.has(&quot;isbn&quot;)) return om.treeToValue(node, ISBN.class);\r\n            if (node.has(&quot;asin&quot;)) return om.treeToValue(node, ASIN.class);\r\n            throw new IllegalStateException(&quot;expected &#39;isbn&#39; or &#39;asin&#39; field&quot;);\r\n        }\r\n    }\r\n...\r\n```\r\n\r\nwhere the key lines are:\r\n```\r\n            if (node.has(&quot;isbn&quot;)) return om.treeToValue(node, ISBN.class);\r\n            if (node.has(&quot;asin&quot;)) return om.treeToValue(node, ASIN.class);\r\n```\r\nwhere I look in the `TreeValue` I sucked in for the distinguishing key and then call `ObjectMapper.treeToValue(node, &lt;concreteclass&gt;.class)` to get it parsed properly.\r\n\r\nBut that leads to infinite recursion, as seen here (top of the call stack):\r\n\r\n```\r\n&gt; Task :cli:JacksonInterfaceCustomDeserializerMCVE.main() FAILED\r\nException in thread &quot;main&quot; java.lang.StackOverflowError\r\n\tat java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:788)\r\n\tat java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:786)\r\n\tat com.fasterxml.jackson.databind.node.NodeCursor$ObjectCursor.nextToken(NodeCursor.java:214)\r\n\tat com.fasterxml.jackson.databind.node.TreeTraversingParser.nextToken(TreeTraversingParser.java:108)\r\n\tat com.fasterxml.jackson.core.JsonParser.nextFieldName(JsonParser.java:1091)\r\n\tat com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer._deserializeContainerNoRecursion(JsonNodeDeserializer.java:536)\r\n\tat com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:100)\r\n\tat com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:25)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3084)\r\n\tat com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:58)\r\n\tat com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:51)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2974)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.treeToValue(ObjectMapper.java:3438)\r\n\tat com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:60)\r\n\tat com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:51)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2974)\r\n```\r\nand so on and so forth.\r\n\r\n**So, question:** Why does it do that and - more important - how do I make it work?\r\n\r\nFor comparision (and to show I did the work) the following deserializer _does_ work but has the (major) disadvantage that I basically have to parse &amp; validate the concrete subclasses myself.  Doable for this toy example, but not so much for a real use case.\r\n\r\n```\r\n    class DeserializerHomegrown extends StdDeserializer&lt;BookId&gt; {\r\n        public DeserializerHomegrown() { this(null); }\r\n        public DeserializerHomegrown(final Class&lt;?&gt; vc) { super(vc); }\r\n\r\n        @Override\r\n        public BookId deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            final var om = (ObjectMapper) jsonParser.getCodec();\r\n            final var node = (JsonNode) om.readTree(jsonParser);\r\n            if (!node.isObject()) throw new IllegalStateException(&quot;expected JSON object&quot;);\r\n            if (node.has(&quot;isbn&quot;)) return new ISBN(getValueNode(node, &quot;isbn&quot;));\r\n            if (node.has(&quot;asin&quot;)) return new ASIN(getValueNode(node, &quot;asin&quot;));\r\n            throw new IllegalStateException(&quot;expected &#39;isbn&#39; or &#39;asin&#39; field&quot;);\r\n        }\r\n\r\n        String getValueNode(JsonNode node, String fieldName) {\r\n            final var field = node.get(fieldName);\r\n            if (field == null) return null;\r\n            if (!field.isValueNode()) throw new IllegalStateException(&quot;%s field is not JSON value&quot;.formatted(fieldName));\r\n            return field.asText();\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n","title":"`@JsonDeserialize` on an interface leads to call stack overflow","body":"<p>I've got an interface + 2 concrete subclasses, all annotated for Jackson.  The two subclassses work fine independently.  The two subclasses are distinguished by the <em>name</em> of a field (K/V pair), not the <em>value</em> of some K/V pair.</p>\n<ul>\n<li>Because of that I can't use any of the normal <a href=\"https://github.com/FasterXML/jackson-docs/wiki/JacksonPolymorphicDeserialization\" rel=\"nofollow noreferrer\">Jackson PTH</a> features.  <strong>Or can I?? Please let me know.</strong></li>\n</ul>\n<p>I want them serialized w/o any wrapper or injected fields.</p>\n<p>The example I'm going to use (<a href=\"https://gist.github.com/david-bakin/c6ea81d2755a88989ae72a2a1553b3e0\" rel=\"nofollow noreferrer\">full MCVE gist is here</a>) is a <code>BookId</code> interface where the concrete implementors are <code>ISBN</code> and <code>ASIN</code>, each with one field.  An example array of <code>BookId</code>s would look like this:</p>\n<pre><code>{ &quot;ids&quot;: [\n    { &quot;isbn&quot; : &quot;978-0-596-52306-0&quot; },\n    { &quot;asin&quot; : &quot;B07QKFQ7QJ&quot; }\n]}\n</code></pre>\n<p>So <code>ISBN</code> and <code>ASIN</code> are pretty simple, here's <code>ISBN</code> (and <code>ASIN</code> is similar with a different validator method):</p>\n<pre><code>public static class ISBN implements BookId {\n    final String isbn;\n\n    @JsonCreator\n    public ISBN(@JsonProperty(&quot;isbn&quot;) String isbn) {\n        if (!valid(isbn)) throw new IllegalArgumentException(&quot;bad isbn syntax&quot;);\n        this.isbn = isbn;\n    }\n\n    boolean valid(String isbn) { return isbn != null &amp;&amp; !isbn.isBlank() /* &amp;&amp; checksum ok ... */; }\n}\n</code></pre>\n<p>So trying what I thought was a <em>proper</em> approach - simply distinguish the two cases and then call the object mapper appropriately - looks like this:</p>\n<pre><code>@JsonDeserialize(using = BookId.DeserializerDirectViaJackson.class)\npublic interface BookId {\n\n    class DeserializerDirectViaJackson extends StdDeserializer&lt;BookId&gt; {\n        public DeserializerDirectViaJackson() { this(null); }\n        public DeserializerDirectViaJackson(final Class&lt;?&gt; vc) { super(vc); }\n\n        @Override\n        public BookId deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n            final var om = (ObjectMapper) jsonParser.getCodec();\n            final var node = (JsonNode) om.readTree(jsonParser);\n            if (!node.isObject()) throw new IllegalStateException(&quot;expected JSON object&quot;);\n            if (node.has(&quot;isbn&quot;)) return om.treeToValue(node, ISBN.class);\n            if (node.has(&quot;asin&quot;)) return om.treeToValue(node, ASIN.class);\n            throw new IllegalStateException(&quot;expected 'isbn' or 'asin' field&quot;);\n        }\n    }\n...\n</code></pre>\n<p>where the key lines are:</p>\n<pre><code>            if (node.has(&quot;isbn&quot;)) return om.treeToValue(node, ISBN.class);\n            if (node.has(&quot;asin&quot;)) return om.treeToValue(node, ASIN.class);\n</code></pre>\n<p>where I look in the <code>TreeValue</code> I sucked in for the distinguishing key and then call <code>ObjectMapper.treeToValue(node, &lt;concreteclass&gt;.class)</code> to get it parsed properly.</p>\n<p>But that leads to infinite recursion, as seen here (top of the call stack):</p>\n<pre><code>&gt; Task :cli:JacksonInterfaceCustomDeserializerMCVE.main() FAILED\nException in thread &quot;main&quot; java.lang.StackOverflowError\n    at java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:788)\n    at java.base/java.util.LinkedHashMap$LinkedEntryIterator.next(LinkedHashMap.java:786)\n    at com.fasterxml.jackson.databind.node.NodeCursor$ObjectCursor.nextToken(NodeCursor.java:214)\n    at com.fasterxml.jackson.databind.node.TreeTraversingParser.nextToken(TreeTraversingParser.java:108)\n    at com.fasterxml.jackson.core.JsonParser.nextFieldName(JsonParser.java:1091)\n    at com.fasterxml.jackson.databind.deser.std.BaseNodeDeserializer._deserializeContainerNoRecursion(JsonNodeDeserializer.java:536)\n    at com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:100)\n    at com.fasterxml.jackson.databind.deser.std.JsonNodeDeserializer.deserialize(JsonNodeDeserializer.java:25)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\n    at com.fasterxml.jackson.databind.ObjectMapper.readTree(ObjectMapper.java:3084)\n    at com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:58)\n    at com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:51)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2974)\n    at com.fasterxml.jackson.databind.ObjectMapper.treeToValue(ObjectMapper.java:3438)\n    at com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:60)\n    at com.bakinsbits.bookcatalog.JacksonInterfaceCustomDeserializerMCVE$BookId$DeserializerDirectViaJackson.deserialize(JacksonInterfaceCustomDeserializerMCVE.java:51)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4801)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2974)\n</code></pre>\n<p>and so on and so forth.</p>\n<p><strong>So, question:</strong> Why does it do that and - more important - how do I make it work?</p>\n<p>For comparision (and to show I did the work) the following deserializer <em>does</em> work but has the (major) disadvantage that I basically have to parse &amp; validate the concrete subclasses myself.  Doable for this toy example, but not so much for a real use case.</p>\n<pre><code>    class DeserializerHomegrown extends StdDeserializer&lt;BookId&gt; {\n        public DeserializerHomegrown() { this(null); }\n        public DeserializerHomegrown(final Class&lt;?&gt; vc) { super(vc); }\n\n        @Override\n        public BookId deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n            final var om = (ObjectMapper) jsonParser.getCodec();\n            final var node = (JsonNode) om.readTree(jsonParser);\n            if (!node.isObject()) throw new IllegalStateException(&quot;expected JSON object&quot;);\n            if (node.has(&quot;isbn&quot;)) return new ISBN(getValueNode(node, &quot;isbn&quot;));\n            if (node.has(&quot;asin&quot;)) return new ASIN(getValueNode(node, &quot;asin&quot;));\n            throw new IllegalStateException(&quot;expected 'isbn' or 'asin' field&quot;);\n        }\n\n        String getValueNode(JsonNode node, String fieldName) {\n            final var field = node.get(fieldName);\n            if (field == null) return null;\n            if (!field.isValueNode()) throw new IllegalStateException(&quot;%s field is not JSON value&quot;.formatted(fieldName));\n            return field.asText();\n        }\n    }\n</code></pre>\n"},{"tags":["java","android","json","android-studio","retrofit"],"answers":[{"comments":[{"owner":{"account_id":21648544,"reputation":7,"user_id":15969504,"display_name":"Mohamed zindha"},"score":0,"creation_date":1623578667,"post_id":67956782,"comment_id":120114219,"body_markdown":"It&#39;s the traditional method right? but it doesn&#39;t work with this kind of response . I tried it. It throws &quot;com.google.gson.JsonSyntaxException: java.lang.IllegalStateException in android&quot; . I don&#39;t know what&#39;s wrong","body":"It&#39;s the traditional method right? but it doesn&#39;t work with this kind of response . I tried it. It throws &quot;com.google.gson.JsonSyntaxException: java.lang.IllegalStateException in android&quot; . I don&#39;t know what&#39;s wrong"},{"owner":{"account_id":4758458,"reputation":431,"user_id":3846559,"display_name":"Masoud Badrmiran"},"score":0,"creation_date":1623580350,"post_id":67956782,"comment_id":120114615,"body_markdown":"You need to delete &quot;\\&quot; characters in json to avoid getting this exception","body":"You need to delete &quot;\\&quot; characters in json to avoid getting this exception"},{"owner":{"account_id":4758458,"reputation":431,"user_id":3846559,"display_name":"Masoud Badrmiran"},"score":0,"creation_date":1623582034,"post_id":67956782,"comment_id":120114996,"body_markdown":"And also please don&#39;t forget to delete &quot; character from start and end of JSON","body":"And also please don&#39;t forget to delete &quot; character from start and end of JSON"},{"owner":{"account_id":21648544,"reputation":7,"user_id":15969504,"display_name":"Mohamed zindha"},"score":1,"creation_date":1623584141,"post_id":67956782,"comment_id":120115491,"body_markdown":"I understand it now . Thanks!","body":"I understand it now . Thanks!"}],"tags":[],"owner":{"account_id":4758458,"reputation":431,"user_id":3846559,"display_name":"Masoud Badrmiran"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1623576768,"creation_date":1623576768,"answer_id":67956782,"question_id":67956640,"body_markdown":"First, for network calls you can use Retrofit.\r\n\r\nThen you can convert your JSON response to java class with this site \r\n[Json to java][1]\r\n\r\n\r\n  [1]: https://www.jsonschema2pojo.org/\r\n\r\nFor example, your JSON is converted to the below class\r\n```\r\npublic class Output{\r\n\r\npublic String message;\r\npublic Boolean status;\r\npublic Boolean existingUser;\r\n\r\n}\r\n```\r\n","title":"How to write a model class for json string response in retrofit?","body":"<p>First, for network calls you can use Retrofit.</p>\n<p>Then you can convert your JSON response to java class with this site\n<a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">Json to java</a></p>\n<p>For example, your JSON is converted to the below class</p>\n<pre><code>public class Output{\n\npublic String message;\npublic Boolean status;\npublic Boolean existingUser;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17205976,"reputation":66,"user_id":12456535,"display_name":"Sunny Kumar Sk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623667117,"creation_date":1623667117,"answer_id":67968767,"question_id":67956640,"body_markdown":"    package com.example;\r\n\r\n    import javax.annotation.Generated;\r\n    import com.google.gson.annotations.Expose;\r\n    import com.google.gson.annotations.SerializedName;\r\n\r\n    @Generated(&quot;jsonschema2pojo&quot;)\r\n    public class Example {\r\n\r\n    @SerializedName(&quot;message&quot;)\r\n    @Expose\r\n    private String message;\r\n\r\n    @SerializedName(&quot;status&quot;)\r\n    @Expose\r\n    private Boolean status;\r\n\r\n    @SerializedName(&quot;existing_user&quot;)\r\n    @Expose\r\n    private Boolean existingUser;\r\n\r\n    public String getMessage() {\r\n    return message;\r\n    }\r\n\r\n    public void setMessage(String message) {\r\n    this.message = message;\r\n    }\r\n\r\n    public Boolean getStatus() {\r\n    return status;\r\n    }\r\n\r\n    public void setStatus(Boolean status) {\r\n    this.status = status;\r\n    }\r\n\r\n    public Boolean getExistingUser() {\r\n    return existingUser;\r\n    }\r\n\r\n    public void setExistingUser(Boolean existingUser) {\r\n    this.existingUser = existingUser;\r\n    }\r\n\r\n    }","title":"How to write a model class for json string response in retrofit?","body":"<pre><code>package com.example;\n\nimport javax.annotation.Generated;\nimport com.google.gson.annotations.Expose;\nimport com.google.gson.annotations.SerializedName;\n\n@Generated(&quot;jsonschema2pojo&quot;)\npublic class Example {\n\n@SerializedName(&quot;message&quot;)\n@Expose\nprivate String message;\n\n@SerializedName(&quot;status&quot;)\n@Expose\nprivate Boolean status;\n\n@SerializedName(&quot;existing_user&quot;)\n@Expose\nprivate Boolean existingUser;\n\npublic String getMessage() {\nreturn message;\n}\n\npublic void setMessage(String message) {\nthis.message = message;\n}\n\npublic Boolean getStatus() {\nreturn status;\n}\n\npublic void setStatus(Boolean status) {\nthis.status = status;\n}\n\npublic Boolean getExistingUser() {\nreturn existingUser;\n}\n\npublic void setExistingUser(Boolean existingUser) {\nthis.existingUser = existingUser;\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28741085,"reputation":1,"user_id":22011197,"display_name":"Pranav Khandelwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687937693,"creation_date":1687834028,"answer_id":76561310,"question_id":67956640,"body_markdown":"The best way to create a Modal class is \r\n\r\n 1. go to https://www.jsonschema2pojo.org\r\n 2. paste your JSON data and select format.\r\n 3. and click on preview.","title":"How to write a model class for json string response in retrofit?","body":"<p>The best way to create a Modal class is</p>\n<ol>\n<li>go to <a href=\"https://www.jsonschema2pojo.org\" rel=\"nofollow noreferrer\">https://www.jsonschema2pojo.org</a></li>\n<li>paste your JSON data and select format.</li>\n<li>and click on preview.</li>\n</ol>\n"}],"owner":{"account_id":21648544,"reputation":7,"user_id":15969504,"display_name":"Mohamed zindha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67956782,"answer_count":3,"score":0,"last_activity_date":1687937693,"creation_date":1623575614,"question_id":67956640,"body_markdown":"Hi I am new to android, \r\n\r\nI have worked with regular json object response but now I have been asked to work with json string response like this,\r\n\r\n    &quot;{\\&quot;message\\&quot;:\\&quot;OTP is sent to your Mobile number and Email id\\&quot;,\\&quot;status\\&quot;:true,\\&quot;existing_user\\&quot;:true}&quot;\r\n\r\nI have no idea how to call API&#39;s with this response. I searched how to do it and found nothing. Please help me if anyone knows how to get it done.\r\nThanks in advance!\r\n\r\n\r\n","title":"How to write a model class for json string response in retrofit?","body":"<p>Hi I am new to android,</p>\n<p>I have worked with regular json object response but now I have been asked to work with json string response like this,</p>\n<pre><code>&quot;{\\&quot;message\\&quot;:\\&quot;OTP is sent to your Mobile number and Email id\\&quot;,\\&quot;status\\&quot;:true,\\&quot;existing_user\\&quot;:true}&quot;\n</code></pre>\n<p>I have no idea how to call API's with this response. I searched how to do it and found nothing. Please help me if anyone knows how to get it done.\nThanks in advance!</p>\n"},{"tags":["java","vert.x","vertx-httpclient","vertxoptions"],"owner":{"account_id":18877730,"reputation":21,"user_id":13770876,"display_name":"shetty sharath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687937423,"creation_date":1687862194,"question_id":76564002,"body_markdown":"I have a vertx app which sends the request to a proxy. It uses HttpClient with setproxyoptions. Then form a request using request options to set the actual host, port, method and path.\r\n\r\nVertx version: 4.4.0\r\n\r\n```\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n    @Override\r\n    public void start() throws InterruptedException {\r\n        HttpClientOptions options = new HttpClientOptions().setProtocolVersion(HttpVersion.HTTP_2)\r\n                .setForceSni(false)\r\n                .setProxyOptions(new ProxyOptions().setHost(&quot;172.16.10.17&quot;).setPort(8080).setType(ProxyType.HTTP))\r\n                .setHttp2ClearTextUpgrade(false);\r\n        \r\n        RequestOptions requestOptions = new RequestOptions()\r\n                .setHost(&quot;127.0.0.1&quot;)\r\n                .setPort(8080)\r\n                .setMethod(HttpMethod.GET)\r\n                .setURI(&quot;/nudr-dr/v1/subscription&quot;);\r\n                \r\n        HttpClient client = vertx.createHttpClient(options);\r\n        client.request(requestOptions)\r\n                .compose(request -&gt; request.send().compose(response -&gt; response.body()))\r\n                .onSuccess(body -&gt; System.out.println(&quot;HTTP/2 client received body: &quot; + body.toString()))\r\n                .onFailure(error -&gt; System.out.println(&quot;HTTP/2 client error: &quot; + error.getCause() + error.getStackTrace()));\r\n    }\r\n}\r\n```\r\n\r\n\r\nI expected to send the message something like below:\r\n```\r\nTCP/IP\r\n    scr: 172.10.1.5:8080\r\n    dest: 172.16.10.17:8080\r\nHTTP2\r\n    :method: GET\r\n    :path: /nudr-dr/v1/subscription\r\n    :scheme: http\r\n    :authority: localhost\r\n```\r\n    \r\nbut the message was carrying the path prefixed with scheme and authority information\r\n:path: http://localhost/nudr-dr/v1/subscription \r\n\r\n[![WiresharkCapture][1]][1]\r\n\r\n**Note**: This issue is not observed when the request is sent to the actual destination without setting the proxy option in HttpClient.\r\n\r\nWhy it is duplicating scheme and authority in path thought scheme and authority is mandatory and present in the request? Is this expected when it comes to proxy?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N93VX.png","title":"Path header is prepended with scheme and authority when proxy option is set in HttpClient of Vertx","body":"<p>I have a vertx app which sends the request to a proxy. It uses HttpClient with setproxyoptions. Then form a request using request options to set the actual host, port, method and path.</p>\n<p>Vertx version: 4.4.0</p>\n<pre><code>public class MainVerticle extends AbstractVerticle {\n\n    @Override\n    public void start() throws InterruptedException {\n        HttpClientOptions options = new HttpClientOptions().setProtocolVersion(HttpVersion.HTTP_2)\n                .setForceSni(false)\n                .setProxyOptions(new ProxyOptions().setHost(&quot;172.16.10.17&quot;).setPort(8080).setType(ProxyType.HTTP))\n                .setHttp2ClearTextUpgrade(false);\n        \n        RequestOptions requestOptions = new RequestOptions()\n                .setHost(&quot;127.0.0.1&quot;)\n                .setPort(8080)\n                .setMethod(HttpMethod.GET)\n                .setURI(&quot;/nudr-dr/v1/subscription&quot;);\n                \n        HttpClient client = vertx.createHttpClient(options);\n        client.request(requestOptions)\n                .compose(request -&gt; request.send().compose(response -&gt; response.body()))\n                .onSuccess(body -&gt; System.out.println(&quot;HTTP/2 client received body: &quot; + body.toString()))\n                .onFailure(error -&gt; System.out.println(&quot;HTTP/2 client error: &quot; + error.getCause() + error.getStackTrace()));\n    }\n}\n</code></pre>\n<p>I expected to send the message something like below:</p>\n<pre><code>TCP/IP\n    scr: 172.10.1.5:8080\n    dest: 172.16.10.17:8080\nHTTP2\n    :method: GET\n    :path: /nudr-dr/v1/subscription\n    :scheme: http\n    :authority: localhost\n</code></pre>\n<p>but the message was carrying the path prefixed with scheme and authority information\n:path: http://localhost/nudr-dr/v1/subscription</p>\n<p><a href=\"https://i.stack.imgur.com/N93VX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N93VX.png\" alt=\"WiresharkCapture\" /></a></p>\n<p><strong>Note</strong>: This issue is not observed when the request is sent to the actual destination without setting the proxy option in HttpClient.</p>\n<p>Why it is duplicating scheme and authority in path thought scheme and authority is mandatory and present in the request? Is this expected when it comes to proxy?</p>\n"},{"tags":["java","android","pass-by-reference"],"answers":[{"comments":[{"owner":{"account_id":1062511,"reputation":4444,"user_id":1063839,"accept_rate":92,"display_name":"Riskhan"},"score":0,"creation_date":1329462087,"post_id":9324155,"comment_id":11764807,"body_markdown":"how can i retrieve a value from a method without using return ?","body":"how can i retrieve a value from a method without using return ?"},{"owner":{"account_id":1062511,"reputation":4444,"user_id":1063839,"accept_rate":92,"display_name":"Riskhan"},"score":0,"creation_date":1329462216,"post_id":9324155,"comment_id":11764827,"body_markdown":"if a String is, String[] value","body":"if a String is, String[] value"}],"tags":[],"owner":{"account_id":102127,"reputation":17217,"user_id":274340,"accept_rate":100,"display_name":"onof"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1329462341,"creation_date":1329461946,"answer_id":9324155,"question_id":9324106,"body_markdown":"You cannot pass an int as reference in **Java**. `int` is a primary type, it can be passed only by value. \r\n\r\nIf you still need to pass an int variable as reference you can wrap it in a mutable class, for example an int array:\r\n\r\n    void findsum( int no1, int no2, int[] sum )\r\n    {\r\n      sum[0] = no1 + no2;\r\n    }\r\n\r\nAnyway, I strongly suggest you to refactor your code to be more object oriented, for example:\r\n\r\n    class SumOperation {\r\n       private int value;\r\n    \r\n       public SumOperation(int no1, int no2) {\r\n          this.value = no1 + no2;\r\n       }\r\n    \r\n       public int getReturnValue() { return this.value; }\r\n    }\r\n\r\n","title":"passing reference as parameter in android","body":"<p>You cannot pass an int as reference in <strong>Java</strong>. <code>int</code> is a primary type, it can be passed only by value. </p>\n\n<p>If you still need to pass an int variable as reference you can wrap it in a mutable class, for example an int array:</p>\n\n<pre><code>void findsum( int no1, int no2, int[] sum )\n{\n  sum[0] = no1 + no2;\n}\n</code></pre>\n\n<p>Anyway, I strongly suggest you to refactor your code to be more object oriented, for example:</p>\n\n<pre><code>class SumOperation {\n   private int value;\n\n   public SumOperation(int no1, int no2) {\n      this.value = no1 + no2;\n   }\n\n   public int getReturnValue() { return this.value; }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329530102,"creation_date":1329530102,"answer_id":9337839,"question_id":9324106,"body_markdown":"There is no pass by reference in Java.","title":"passing reference as parameter in android","body":"<p>There is no pass by reference in Java.</p>\n"},{"tags":[],"owner":{"account_id":17068051,"reputation":1,"user_id":12349591,"display_name":"Bradley Willcott"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687936399,"creation_date":1615621208,"answer_id":66611141,"question_id":9324106,"body_markdown":"This is how I solved this problem:\r\n\r\n```\r\n// By using a wrapper class.\r\n// This also works with Class objects.\r\nclass IntReturn {\r\n    public int val;\r\n}\r\n\r\n// For example:\r\nclass StringReturn {\r\n    public String val;\r\n}\r\n\r\nclass Main {\r\n    public static void main (){\r\n        IntReturn iRtn = new IntReturn();\r\n        \r\n        if(tryAdd(2, 3, iRtn)){\r\n            System.out.println(&quot;tryAdd(2, 3): &quot; + iRtn.val);\r\n        }\r\n    }\r\n\r\n    public static boolean tryAdd(final int a, final int b, final IntReturn iRtn){\r\n        iRtn.val = a + b;\r\n\r\n        return true;  // Just something to use return\r\n    }\r\n}\r\n```\r\n\r\nI have a personal library of these types of classes for this purpose.  Lambdas are another reason for these classes, as you need to have a &#39;final&#39; variable to get a value out of a Lambda, other than by return statement.\r\n\r\nUpdate:  \r\nI have replaced all of my specific wrapper classes\r\nwith a single Generic class:\r\n\r\n```\r\npublic final class Ref&lt;T&gt;\r\n{\r\n    /**\r\n     * The object being held.\r\n     */\r\n    public T val;\r\n\r\n    /**\r\n     * This constructor is &lt;b&gt;private&lt;/b&gt; to prevent instantiation by external\r\n     * clients.\r\n     * &lt;p&gt;\r\n     * This class should &lt;i&gt;only&lt;/i&gt; be instantiated through one of the factory\r\n     * methods:\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;{@link  #val()}&lt;/li&gt;\r\n     * &lt;li&gt;{@link  #val(Object) val(T val)}&lt;/li&gt;\r\n     * &lt;/ul&gt;\r\n     */\r\n    private Ref()\r\n    {\r\n        this.val = null;\r\n    }\r\n\r\n    /**\r\n     * This factory method instantiates an empty Ref object.\r\n     *\r\n     * @param &lt;T&gt; type of object.\r\n     *\r\n     * @return a new instance of the Ref class.\r\n     */\r\n    public static &lt;T&gt; Ref&lt;T&gt; val()\r\n    {\r\n        return new Ref&lt;&gt;();\r\n    }\r\n\r\n    /**\r\n     * This factory method instantiates a Ref object containing {@code val}.\r\n     *\r\n     * @param &lt;T&gt; type of object.\r\n     * @param val the object to be held\r\n     *\r\n     * @return a new instance of the Ref class, initialized with the &#39;val&#39;\r\n     *         object.\r\n     */\r\n    public static &lt;T&gt; Ref&lt;T&gt; val(T val)\r\n    {\r\n        Ref&lt;T&gt; rtn = new Ref&lt;&gt;();\r\n        rtn.val = val;\r\n        return rtn;\r\n    }\r\n\r\n    /**\r\n     * Reset &#39;val&#39; to {@code null}.\r\n     */\r\n    public void clear()\r\n    {\r\n        this.val = null;\r\n    }\r\n\r\n    /**\r\n     * Check to see if this Ref object has not yet been set to a value.\r\n     *\r\n     * @return {@code true} if it hasn&#39;t been set to a value, {@code false}\r\n     *         otherwise.\r\n     */\r\n    public boolean isEmpty()\r\n    {\r\n        return this.val == null;\r\n    }\r\n\r\n    /**\r\n     * Check to see if this Ref object has been set to a value.\r\n     *\r\n     * @return {@code true} if it has been set to a value, {@code false}\r\n     *         otherwise.\r\n     */\r\n    public boolean isPresent()\r\n    {\r\n        return this.val != null;\r\n    }\r\n\r\n    /**\r\n     * Returns a string representation of the object.\r\n     *\r\n     * @implSpec\r\n     * This implementation returns a string consisting of the default conversion\r\n     * to a string, of the object held in {@code val}. This is achieved by\r\n     * calling its {@code toString()} method. If {@code val} is empty, then the\r\n     * empty string is returned: &quot;&quot;.\r\n     *\r\n     * @return a string representation of the object.\r\n     */\r\n    @Override\r\n    public String toString()\r\n    {\r\n        return &quot;&quot; + this.val;\r\n    }\r\n}\r\n```\r\nHere is how it can be used:  \r\n```\r\n ...\r\n     Ref&lt;Integer&gt; iRtn = Ref.val();\r\n\r\n     if(add(2, 3, iRtn)){\r\n         System.out.println(&quot;2 + 3 = &quot; + iRtn.val);\r\n     }\r\n ...\r\n\r\n public boolean add(final int a, final int b, final Ref&lt;Integer&gt; iRtn){\r\n     iRtn.val = a + b;\r\n\r\n     return iRtn.val &gt; 0;  // just something to use up return\r\n }\r\n```\r\nIt may seem as though this would be redundant since I had all of the previously developed wrapper classes. However, now I have only one generic class that can hold anything!","title":"passing reference as parameter in android","body":"<p>This is how I solved this problem:</p>\n<pre><code>// By using a wrapper class.\n// This also works with Class objects.\nclass IntReturn {\n    public int val;\n}\n\n// For example:\nclass StringReturn {\n    public String val;\n}\n\nclass Main {\n    public static void main (){\n        IntReturn iRtn = new IntReturn();\n        \n        if(tryAdd(2, 3, iRtn)){\n            System.out.println(&quot;tryAdd(2, 3): &quot; + iRtn.val);\n        }\n    }\n\n    public static boolean tryAdd(final int a, final int b, final IntReturn iRtn){\n        iRtn.val = a + b;\n\n        return true;  // Just something to use return\n    }\n}\n</code></pre>\n<p>I have a personal library of these types of classes for this purpose.  Lambdas are another reason for these classes, as you need to have a 'final' variable to get a value out of a Lambda, other than by return statement.</p>\n<p>Update:<br />\nI have replaced all of my specific wrapper classes\nwith a single Generic class:</p>\n<pre><code>public final class Ref&lt;T&gt;\n{\n    /**\n     * The object being held.\n     */\n    public T val;\n\n    /**\n     * This constructor is &lt;b&gt;private&lt;/b&gt; to prevent instantiation by external\n     * clients.\n     * &lt;p&gt;\n     * This class should &lt;i&gt;only&lt;/i&gt; be instantiated through one of the factory\n     * methods:\n     * &lt;ul&gt;\n     * &lt;li&gt;{@link  #val()}&lt;/li&gt;\n     * &lt;li&gt;{@link  #val(Object) val(T val)}&lt;/li&gt;\n     * &lt;/ul&gt;\n     */\n    private Ref()\n    {\n        this.val = null;\n    }\n\n    /**\n     * This factory method instantiates an empty Ref object.\n     *\n     * @param &lt;T&gt; type of object.\n     *\n     * @return a new instance of the Ref class.\n     */\n    public static &lt;T&gt; Ref&lt;T&gt; val()\n    {\n        return new Ref&lt;&gt;();\n    }\n\n    /**\n     * This factory method instantiates a Ref object containing {@code val}.\n     *\n     * @param &lt;T&gt; type of object.\n     * @param val the object to be held\n     *\n     * @return a new instance of the Ref class, initialized with the 'val'\n     *         object.\n     */\n    public static &lt;T&gt; Ref&lt;T&gt; val(T val)\n    {\n        Ref&lt;T&gt; rtn = new Ref&lt;&gt;();\n        rtn.val = val;\n        return rtn;\n    }\n\n    /**\n     * Reset 'val' to {@code null}.\n     */\n    public void clear()\n    {\n        this.val = null;\n    }\n\n    /**\n     * Check to see if this Ref object has not yet been set to a value.\n     *\n     * @return {@code true} if it hasn't been set to a value, {@code false}\n     *         otherwise.\n     */\n    public boolean isEmpty()\n    {\n        return this.val == null;\n    }\n\n    /**\n     * Check to see if this Ref object has been set to a value.\n     *\n     * @return {@code true} if it has been set to a value, {@code false}\n     *         otherwise.\n     */\n    public boolean isPresent()\n    {\n        return this.val != null;\n    }\n\n    /**\n     * Returns a string representation of the object.\n     *\n     * @implSpec\n     * This implementation returns a string consisting of the default conversion\n     * to a string, of the object held in {@code val}. This is achieved by\n     * calling its {@code toString()} method. If {@code val} is empty, then the\n     * empty string is returned: &quot;&quot;.\n     *\n     * @return a string representation of the object.\n     */\n    @Override\n    public String toString()\n    {\n        return &quot;&quot; + this.val;\n    }\n}\n</code></pre>\n<p>Here is how it can be used:</p>\n<pre><code> ...\n     Ref&lt;Integer&gt; iRtn = Ref.val();\n\n     if(add(2, 3, iRtn)){\n         System.out.println(&quot;2 + 3 = &quot; + iRtn.val);\n     }\n ...\n\n public boolean add(final int a, final int b, final Ref&lt;Integer&gt; iRtn){\n     iRtn.val = a + b;\n\n     return iRtn.val &gt; 0;  // just something to use up return\n }\n</code></pre>\n<p>It may seem as though this would be redundant since I had all of the previously developed wrapper classes. However, now I have only one generic class that can hold anything!</p>\n"}],"owner":{"account_id":1062511,"reputation":4444,"user_id":1063839,"accept_rate":92,"display_name":"Riskhan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8538,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":9324155,"answer_count":3,"score":3,"last_activity_date":1687936399,"creation_date":1329461611,"question_id":9324106,"body_markdown":"I am newbie in java/android.  I am a c/c++ developer.  May i know how to pass a reference as parameter in android. An illustrative c sample code shown below\r\n\r\n    void main()\r\n    {\r\n      int no1 = 3, no2 = 2, sum = 0;\r\n      findsum( no1, no2, sum );\r\n      printf(&quot;sum=%d&quot;, sum );\r\n    }\r\n\r\n    void findsum( int no1, int no2, int&amp; sum )\r\n    {\r\n      sum = no1 + no2;\r\n    }\r\n\r\nplease suggest me a solution\r\n\r\nthanks","title":"passing reference as parameter in android","body":"<p>I am newbie in java/android.  I am a c/c++ developer.  May i know how to pass a reference as parameter in android. An illustrative c sample code shown below</p>\n\n<pre><code>void main()\n{\n  int no1 = 3, no2 = 2, sum = 0;\n  findsum( no1, no2, sum );\n  printf(\"sum=%d\", sum );\n}\n\nvoid findsum( int no1, int no2, int&amp; sum )\n{\n  sum = no1 + no2;\n}\n</code></pre>\n\n<p>please suggest me a solution</p>\n\n<p>thanks</p>\n"},{"tags":["java","http","proxy","client","micronaut"],"comments":[{"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"score":0,"creation_date":1687936489,"post_id":76570832,"comment_id":135004956,"body_markdown":"Is this a bug? Note a similar issue was reported for ProxyHttpClient not long ago: https://github.com/micronaut-projects/micronaut-core/issues/6073","body":"Is this a bug? Note a similar issue was reported for ProxyHttpClient not long ago: <a href=\"https://github.com/micronaut-projects/micronaut-core/issues/6073\" rel=\"nofollow noreferrer\">github.com/micronaut-projects/micronaut-core/issues/6073</a>"}],"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687936356,"creation_date":1687936356,"question_id":76570832,"body_markdown":"I&#39;m implementing a pattern-based request redirection to another microservice using an HttpFilter. My filter implementation simply executes the request with a custom http client.\r\n```\r\n@Override\r\npublic Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\r\n  return httpClient.exchange(request);\r\n}\r\n```\r\nThe issue I&#39;m facing is that `httpClient` is a [DefaultHttpClient][1] and request is a [NettyHttpRequest][2] and it looks like they are not compatible.\r\n\r\n```\r\n// httpClient.exchange(request) -&gt; ClassCastException on the request\r\njava.lang.ClassCastException: class io.micronaut.http.server.netty.NettyHttpRequest cannot be cast to class io.micronaut.http.MutableHttpRequest\r\n\r\n// httpClient.exchange(request.mutate()) -&gt; ClassCastException on the response\r\njava.lang.ClassCastException: class io.micronaut.http.client.netty.FullNettyClientHttpResponse cannot be cast to class io.micronaut.http.MutableHttpResponse\r\n\r\n```\r\nIs it wrong this approach for forwarding some specific requests to other microservice?\\\r\nIs it wrong to use a DefaultHttpClient in this case? How can I make it work?\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/http/client/netty/DefaultHttpClient.html\r\n  [2]: https://docs.micronaut.io/latest/api/io/micronaut/http/server/netty/NettyHttpRequest.html","title":"Micronaut execute NettyHttpRequest with DefaultHttpClient","body":"<p>I'm implementing a pattern-based request redirection to another microservice using an HttpFilter. My filter implementation simply executes the request with a custom http client.</p>\n<pre><code>@Override\npublic Publisher&lt;? extends HttpResponse&lt;?&gt;&gt; doFilter(HttpRequest&lt;?&gt; request, FilterChain chain) {\n  return httpClient.exchange(request);\n}\n</code></pre>\n<p>The issue I'm facing is that <code>httpClient</code> is a <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/client/netty/DefaultHttpClient.html\" rel=\"nofollow noreferrer\">DefaultHttpClient</a> and request is a <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/http/server/netty/NettyHttpRequest.html\" rel=\"nofollow noreferrer\">NettyHttpRequest</a> and it looks like they are not compatible.</p>\n<pre><code>// httpClient.exchange(request) -&gt; ClassCastException on the request\njava.lang.ClassCastException: class io.micronaut.http.server.netty.NettyHttpRequest cannot be cast to class io.micronaut.http.MutableHttpRequest\n\n// httpClient.exchange(request.mutate()) -&gt; ClassCastException on the response\njava.lang.ClassCastException: class io.micronaut.http.client.netty.FullNettyClientHttpResponse cannot be cast to class io.micronaut.http.MutableHttpResponse\n\n</code></pre>\n<p>Is it wrong this approach for forwarding some specific requests to other microservice?<br />\nIs it wrong to use a DefaultHttpClient in this case? How can I make it work?</p>\n"},{"tags":["java","spring-boot","spring-security","amazon-cognito","spring-resource-server"],"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690314504,"post_id":76569827,"comment_id":135335535,"body_markdown":"I&#39;m curious why the answer below is neither accepted nor upvoted.","body":"I&#39;m curious why the answer below is neither accepted nor upvoted."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687936169,"creation_date":1687936169,"answer_id":76570812,"question_id":76569827,"body_markdown":"I have written [a tutorial][1] with an other approach: have the client send the ID token in addition to the access token (in a different header) and then have Spring Security validate both tokens and build `Authentication` instance using both set of claims (from access and ID tokens).\r\n\r\nThis is useful for Cognito for which you can customize only ID token claims and much more efficient than calling Cognito for each incoming request to your resource server(s).\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_additional-header","title":"How retrieve user information, such as name and email in a Spring Boot that serves as a REST API and utilizes oauth2-resource-server?","body":"<p>I have written <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials/resource-server_with_additional-header\" rel=\"nofollow noreferrer\">a tutorial</a> with an other approach: have the client send the ID token in addition to the access token (in a different header) and then have Spring Security validate both tokens and build <code>Authentication</code> instance using both set of claims (from access and ID tokens).</p>\n<p>This is useful for Cognito for which you can customize only ID token claims and much more efficient than calling Cognito for each incoming request to your resource server(s).</p>\n"}],"owner":{"account_id":246404,"reputation":231,"user_id":520548,"display_name":"Miletos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687936169,"creation_date":1687922216,"question_id":76569827,"body_markdown":"I have a Spring Boot application that provides a REST API and is using **cognito** and **oauth2-resource-server.** \r\n\r\nMy resources are protected and work correctly when accessed with the ***access_token***. I have this common SecurityConfig: \r\n\r\n```\r\n@Configuration\r\npublic class JWTSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/foos/**&quot;)\r\n            .hasAuthority(&quot;SCOPE_read&quot;)\r\n            .antMatchers(HttpMethod.POST, &quot;/foos&quot;)\r\n            .hasAuthority(&quot;SCOPE_write&quot;)\r\n            .anyRequest()\r\n            .authenticated())\r\n            .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\nHowever, I need to fetch additional user information, such as name and email, which are available in either the **userInfo endpoint** or ***id_token*** (not ***access_token***). \r\n\r\nCurrently, as a workaround, I&#39;m making a RestTemplate HTTP call to the userinfo endpoint ```https://{{user_pool_domain}}.auth.{{region}}.amazoncognito.com/oauth2/userinfo``` to retrieve this information. \r\n\r\nHowever, I believe Spring may have a built-in way to handle this automatically, possibly with cache management. \r\n\r\nHow can I achieve this user information without hardcoding the HTTP call?\r\n\r\n","title":"How retrieve user information, such as name and email in a Spring Boot that serves as a REST API and utilizes oauth2-resource-server?","body":"<p>I have a Spring Boot application that provides a REST API and is using <strong>cognito</strong> and <strong>oauth2-resource-server.</strong></p>\n<p>My resources are protected and work correctly when accessed with the <em><strong>access_token</strong></em>. I have this common SecurityConfig:</p>\n<pre><code>@Configuration\npublic class JWTSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeRequests(authz -&gt; authz.antMatchers(HttpMethod.GET, &quot;/foos/**&quot;)\n            .hasAuthority(&quot;SCOPE_read&quot;)\n            .antMatchers(HttpMethod.POST, &quot;/foos&quot;)\n            .hasAuthority(&quot;SCOPE_write&quot;)\n            .anyRequest()\n            .authenticated())\n            .oauth2ResourceServer(oauth2 -&gt; oauth2.jwt());\n        return http.build();\n    }\n}\n</code></pre>\n<p>However, I need to fetch additional user information, such as name and email, which are available in either the <strong>userInfo endpoint</strong> or <em><strong>id_token</strong></em> (not <em><strong>access_token</strong></em>).</p>\n<p>Currently, as a workaround, I'm making a RestTemplate HTTP call to the userinfo endpoint <code>https://{{user_pool_domain}}.auth.{{region}}.amazoncognito.com/oauth2/userinfo</code> to retrieve this information.</p>\n<p>However, I believe Spring may have a built-in way to handle this automatically, possibly with cache management.</p>\n<p>How can I achieve this user information without hardcoding the HTTP call?</p>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687845501,"post_id":76561227,"comment_id":134989578,"body_markdown":"can you add codebase for Company, ListServices classes (and maybe Project and User too) to be able to help","body":"can you add codebase for Company, ListServices classes (and maybe Project and User too) to be able to help"}],"answers":[{"comments":[{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687862510,"post_id":76562376,"comment_id":134992901,"body_markdown":"agreed but would that still be the case for simple Domains ? I mean why add complexity when all Entities and DTOs are the same (and will always be)","body":"agreed but would that still be the case for simple Domains ? I mean why add complexity when all Entities and DTOs are the same (and will always be)"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1687869596,"post_id":76562376,"comment_id":134994547,"body_markdown":"@AhmedNabil: This is not *adding* complexity, but *removing* complexity! Look at the overannotated class, and still the code does not work at all :) ","body":"@AhmedNabil: This is not <i>adding</i> complexity, but <i>removing</i> complexity! Look at the overannotated class, and still the code does not work at all :) "},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687872780,"post_id":76562376,"comment_id":134995377,"body_markdown":"Most annotations are lombok related and will be added for the new classes as well. Dont get me wrong I agree with you but I think there are cases where exposing entities is acceptable (maybe this is one of them)","body":"Most annotations are lombok related and will be added for the new classes as well. Dont get me wrong I agree with you but I think there are cases where exposing entities is acceptable (maybe this is one of them)"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":0,"creation_date":1687890033,"post_id":76562376,"comment_id":134999539,"body_markdown":"@AhmedNabil Apparently in this case exposing the entities *does* make problems: &quot;No serializer found for class `org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor`&quot; - this sounds like the serialization problem is caused by the fact that the class is not just a normal DTO.","body":"@AhmedNabil Apparently in this case exposing the entities <i>does</i> make problems: &quot;No serializer found for class <code>org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor</code>&quot; - this sounds like the serialization problem is caused by the fact that the class is not just a normal DTO."},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1687902560,"post_id":76562376,"comment_id":135001620,"body_markdown":"True, but Its due to bad jackson configurarions. And mostly solved by 1 line of code. Why add Mapstruct(which doesnot work well with lombok and needs lots of configs) to save 1 line of configs","body":"True, but Its due to bad jackson configurarions. And mostly solved by 1 line of code. Why add Mapstruct(which doesnot work well with lombok and needs lots of configs) to save 1 line of configs"},{"owner":{"account_id":3557535,"reputation":2460,"user_id":2970890,"accept_rate":71,"display_name":"Ascendant"},"score":1,"creation_date":1687918187,"post_id":76562376,"comment_id":135003019,"body_markdown":"This solved my problem. Thank you so much for the very detailed &amp; extremely useful answer!","body":"This solved my problem. Thank you so much for the very detailed &amp; extremely useful answer!"},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1687935936,"post_id":76562376,"comment_id":135004865,"body_markdown":"@AhmedNabil Why to **bend** the configuration of jackson in order to fix the clearly wrong design? And still, if the application is big, introducing layers is unavoidable. If the application is small, introducing layers is good as an exercise and teaches the OP good habits :) And lombok works perfectly well with MapStruct, it is just a matter of a proper configuration. However, thanks for mentioning this issue, I have added a link to the solution.","body":"@AhmedNabil Why to <b>bend</b> the configuration of jackson in order to fix the clearly wrong design? And still, if the application is big, introducing layers is unavoidable. If the application is small, introducing layers is good as an exercise and teaches the OP good habits :) And lombok works perfectly well with MapStruct, it is just a matter of a proper configuration. However, thanks for mentioning this issue, I have added a link to the solution."},{"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1687942010,"post_id":76562376,"comment_id":135006015,"body_markdown":"@AhmedNabil I still remember one of my first lessons of programming at university more than 30 years ago :) The teacher emphasized that we should remember that we do not split our program into functions *primarily* for reusability, but for the sake of *structured thinking*, &quot;divide et impera&quot;, in order to be able to better *think* about the code. This is also why I recommend designing properly even small applications. The persistence layer and the presentation layer are what they are. We simply do not put salt into the sugar bowl :)","body":"@AhmedNabil I still remember one of my first lessons of programming at university more than 30 years ago :) The teacher emphasized that we should remember that we do not split our program into functions <i>primarily</i> for reusability, but for the sake of <i>structured thinking</i>, &quot;divide et impera&quot;, in order to be able to better <i>think</i> about the code. This is also why I recommend designing properly even small applications. The persistence layer and the presentation layer are what they are. We simply do not put salt into the sugar bowl :)"}],"tags":[],"owner":{"account_id":3446101,"reputation":11395,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"comment_count":8,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687935883,"creation_date":1687849586,"answer_id":76562376,"question_id":76561227,"body_markdown":"I think you are a victim of a bad design. You are **exposing your database entity objects via REST controller**, which is [considered as antipattern][1]. Apart from the bad architecture, it **brings you the technical problems you are facing**.\r\n\r\nIdeally you should have [three layers][2] (repository/entities, domain/business logic, enpoint/data tranfser objects). Each layer should have their own objects, which should not mix, even if they look more or less the same.\r\n\r\nThe reason is, among others, that you are *free to change* (and *free to keep stable*) your API and your database model *separately from each other*. It also gives you free hands to design each layer&#39;s objects optimally for their purpose.\r\n\r\nMapping between the objects from different layers does not cost you much work, you may use a framework such as [MapStruct][3].\r\n\r\nIf you omit the service layer, at least you should not expose your database entities via endpoints.\r\n\r\n**Create a separate `ListingDto` and `ProjectDto`** and use a mapper to fill them with the data from your `Listing` and `Project` objects. The entity should be designed for the database, and **DTO should be designed for JSON serialization/deserialization**. Most probably if the DTOs are ([Lombok][4]-powered) [POJO][5]s tailored for you API, you will not even need any JSON annotations at all!\r\n\r\nDatabase and REST API are two different worlds - do not mix them. `&lt;opinionated&gt;`Hibernate aka [ORM is antipattern][6] on its own`&lt;/opinionated&gt;`, but mixing it with JSON serialization is a design disaster *per se*.\r\n\r\nThus you will give your program a proper design, and as an extra reward your Jackson will not have to bother with the hibernate crap and your problem will be solved for free. \r\n\r\nADDED: In case you have problems with Lombok + MapStruct, which sometimes do not cooperate well, there is a Maven config for it. See the aswers to https://stackoverflow.com/q/47676369/2886891\r\n\r\n  [1]: https://thorben-janssen.com/dont-expose-entities-in-api/\r\n  [2]: https://en.wikipedia.org/wiki/Multitier_architecture#Three-tier_architecture\r\n  [3]: https://mapstruct.org/\r\n  [4]: https://projectlombok.org/\r\n  [5]: https://www.baeldung.com/java-pojo-class\r\n  [6]: https://www.google.com/search?q=orm%20is%20antipattern","title":"No serializer found for class ByteBuddyInterceptor","body":"<p>I think you are a victim of a bad design. You are <strong>exposing your database entity objects via REST controller</strong>, which is <a href=\"https://thorben-janssen.com/dont-expose-entities-in-api/\" rel=\"nofollow noreferrer\">considered as antipattern</a>. Apart from the bad architecture, it <strong>brings you the technical problems you are facing</strong>.</p>\n<p>Ideally you should have <a href=\"https://en.wikipedia.org/wiki/Multitier_architecture#Three-tier_architecture\" rel=\"nofollow noreferrer\">three layers</a> (repository/entities, domain/business logic, enpoint/data tranfser objects). Each layer should have their own objects, which should not mix, even if they look more or less the same.</p>\n<p>The reason is, among others, that you are <em>free to change</em> (and <em>free to keep stable</em>) your API and your database model <em>separately from each other</em>. It also gives you free hands to design each layer's objects optimally for their purpose.</p>\n<p>Mapping between the objects from different layers does not cost you much work, you may use a framework such as <a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a>.</p>\n<p>If you omit the service layer, at least you should not expose your database entities via endpoints.</p>\n<p><strong>Create a separate <code>ListingDto</code> and <code>ProjectDto</code></strong> and use a mapper to fill them with the data from your <code>Listing</code> and <code>Project</code> objects. The entity should be designed for the database, and <strong>DTO should be designed for JSON serialization/deserialization</strong>. Most probably if the DTOs are (<a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">Lombok</a>-powered) <a href=\"https://www.baeldung.com/java-pojo-class\" rel=\"nofollow noreferrer\">POJO</a>s tailored for you API, you will not even need any JSON annotations at all!</p>\n<p>Database and REST API are two different worlds - do not mix them. <code>&lt;opinionated&gt;</code>Hibernate aka <a href=\"https://www.google.com/search?q=orm%20is%20antipattern\" rel=\"nofollow noreferrer\">ORM is antipattern</a> on its own<code>&lt;/opinionated&gt;</code>, but mixing it with JSON serialization is a design disaster <em>per se</em>.</p>\n<p>Thus you will give your program a proper design, and as an extra reward your Jackson will not have to bother with the hibernate crap and your problem will be solved for free.</p>\n<p>ADDED: In case you have problems with Lombok + MapStruct, which sometimes do not cooperate well, there is a Maven config for it. See the aswers to <a href=\"https://stackoverflow.com/q/47676369/2886891\">MapStruct and Lombok not working together</a></p>\n"}],"owner":{"account_id":3557535,"reputation":2460,"user_id":2970890,"accept_rate":71,"display_name":"Ascendant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76562376,"answer_count":1,"score":0,"last_activity_date":1687935883,"creation_date":1687832269,"question_id":76561227,"body_markdown":"I kept getting this error while calling an API (under development) in my spring boot app:\r\n\r\n```\r\njava.base/java.lang.Thread.run(Thread.java:1623)\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \r\nNo serializer found for class \r\norg.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor \r\nand no properties discovered to create BeanSerializer \r\n(to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) \r\n(through reference chain: com.example.service.model.Listing[\\&quot;project\\&quot;]-\r\n&gt;com.example.service.model.Project[\\&quot;user\\&quot;]-&gt;com.example.service.model.User$HibernateProxy$Nf8nVUyV[\\&quot;company\\&quot;]-\r\n&gt;com.example.service.model.Company$HibernateProxy$ulaPUlxC[\\&quot;hibernateLazyInitializer\\&quot;])\r\n```\r\n\r\nFrom my research, it looks like it&#39;s caused by Jackson not being able to serialize the object into json.\r\n\r\nHere&#39;s my code exerpts:\r\n\r\nModel:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity\r\n@Table(name = &quot;listing&quot;)\r\npublic class Listing {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;id&quot;)\r\n  private Long id;\r\n\r\n  @ManyToOne(fetch = FetchType.LAZY)\r\n  @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;)\r\n  private Project project;\r\n\r\n  @NotNull\r\n  @Column(name = &quot;limit&quot;)\r\n  private Integer limit;\r\n\r\n  ...\r\n}\r\n```\r\n\r\nController:\r\n\r\n```\r\n@RestController\r\n@AllArgsConstructor\r\n@RequestMapping(&quot;/listing&quot;)\r\npublic class ListingController {\r\n  private final ListingService listingService;\r\n\r\n  @PostMapping\r\n  public ResponseEntity&lt;?&gt; create(@Valid @RequestBody CreateListingRequest request) {\r\n    Listing listing = listingService.create(request);\r\n    return new ResponseEntity&lt;&gt;(listing,  HttpStatus.CREATED);\r\n  }\r\n```\r\n\r\nI set the breakpoint on the return line in the controller while debugging and observed a valid object constructed before it was serialized, so everything up to the serialization step is working.\r\n\r\nWhat I&#39;ve tried:\r\n- Turning off `spring.jackson.serialization.FAIL_ON_EMPTY_BEANS` through both `application.properties` file and via a custom bean:\r\n```\r\n  @Bean\r\n  @Primary\r\n  public ObjectMapper objectMapper() {\r\n    return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n        .setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n  }\r\n```\r\n- Setting visibility to &quot;visible to all&quot; (via the bean code above). But this shouldn&#39;t be necessary since Lombok does this already through annotations in the model;\r\n- Setting `FetchType` from `LAZY` to `EAGER`;\r\n- Adding `@JoinColumn` annotation for `project` field;\r\n- Adding the `@OneToMany` counterpart in the `Project` class (with property `listings`);\r\n- Adding `@JsonIgnore` for `project` property. This *actually solves the problem, but* this causes problem with deserialization - the `project` field becomes null during deserilization;\r\n\r\nI&#39;m looking for a way to make this work for both serialization and deserialization. \r\n\r\n","title":"No serializer found for class ByteBuddyInterceptor","body":"<p>I kept getting this error while calling an API (under development) in my spring boot app:</p>\n<pre><code>java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: \nNo serializer found for class \norg.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor \nand no properties discovered to create BeanSerializer \n(to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) \n(through reference chain: com.example.service.model.Listing[\\&quot;project\\&quot;]-\n&gt;com.example.service.model.Project[\\&quot;user\\&quot;]-&gt;com.example.service.model.User$HibernateProxy$Nf8nVUyV[\\&quot;company\\&quot;]-\n&gt;com.example.service.model.Company$HibernateProxy$ulaPUlxC[\\&quot;hibernateLazyInitializer\\&quot;])\n</code></pre>\n<p>From my research, it looks like it's caused by Jackson not being able to serialize the object into json.</p>\n<p>Here's my code exerpts:</p>\n<p>Model:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Entity\n@Table(name = &quot;listing&quot;)\npublic class Listing {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;id&quot;)\n  private Long id;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = &quot;project_id&quot;, referencedColumnName = &quot;id&quot;)\n  private Project project;\n\n  @NotNull\n  @Column(name = &quot;limit&quot;)\n  private Integer limit;\n\n  ...\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@AllArgsConstructor\n@RequestMapping(&quot;/listing&quot;)\npublic class ListingController {\n  private final ListingService listingService;\n\n  @PostMapping\n  public ResponseEntity&lt;?&gt; create(@Valid @RequestBody CreateListingRequest request) {\n    Listing listing = listingService.create(request);\n    return new ResponseEntity&lt;&gt;(listing,  HttpStatus.CREATED);\n  }\n</code></pre>\n<p>I set the breakpoint on the return line in the controller while debugging and observed a valid object constructed before it was serialized, so everything up to the serialization step is working.</p>\n<p>What I've tried:</p>\n<ul>\n<li>Turning off <code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS</code> through both <code>application.properties</code> file and via a custom bean:</li>\n</ul>\n<pre><code>  @Bean\n  @Primary\n  public ObjectMapper objectMapper() {\n    return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS)\n        .setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n  }\n</code></pre>\n<ul>\n<li>Setting visibility to &quot;visible to all&quot; (via the bean code above). But this shouldn't be necessary since Lombok does this already through annotations in the model;</li>\n<li>Setting <code>FetchType</code> from <code>LAZY</code> to <code>EAGER</code>;</li>\n<li>Adding <code>@JoinColumn</code> annotation for <code>project</code> field;</li>\n<li>Adding the <code>@OneToMany</code> counterpart in the <code>Project</code> class (with property <code>listings</code>);</li>\n<li>Adding <code>@JsonIgnore</code> for <code>project</code> property. This <em>actually solves the problem, but</em> this causes problem with deserialization - the <code>project</code> field becomes null during deserilization;</li>\n</ul>\n<p>I'm looking for a way to make this work for both serialization and deserialization.</p>\n"},{"tags":["java","java-native-interface","cudd"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1687873446,"post_id":76563302,"comment_id":134995565,"body_markdown":"Random guess: the symbol naming is slightly different between mingw and visual studio. Use dumpbin.exe on the dll and search for registerNatives","body":"Random guess: the symbol naming is slightly different between mingw and visual studio. Use dumpbin.exe on the dll and search for registerNatives"}],"answers":[{"comments":[{"owner":{"account_id":3260475,"reputation":3139,"user_id":2746150,"accept_rate":75,"display_name":"Anton Krouglov"},"score":0,"creation_date":1693228180,"post_id":76570773,"comment_id":135728503,"body_markdown":"Did you manage to make it work?","body":"Did you manage to make it work?"},{"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"score":0,"creation_date":1693320945,"post_id":76570773,"comment_id":135743491,"body_markdown":"Not yet. Currently I have an exam period, after which I will try to work it out again. Probably I need to ask tons of questions till I succeeded, since I am new to JNI and C++ build compiler suits and build systems. Unless ofc, someone experienced with such matters, is faster and publishes a modernized fork, before I succeed.","body":"Not yet. Currently I have an exam period, after which I will try to work it out again. Probably I need to ask tons of questions till I succeeded, since I am new to JNI and C++ build compiler suits and build systems. Unless ofc, someone experienced with such matters, is faster and publishes a modernized fork, before I succeed."}],"tags":[],"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687935815,"creation_date":1687935815,"answer_id":76570773,"question_id":76563302,"body_markdown":"&gt; Random guess: the symbol naming is slightly different between mingw and visual studio. Use dumpbin.exe on the dll and search for registerNatives  \r\nBotje\r\n\r\nThe random guess was wrong about the reason, but the comment still super helpful:\r\nComparing the output of `dumpbin /EXPORT` quickly revealed, that the _cudd.dll_, shipped with the JavaBDD library is not of the same source as libcudd.dll.\r\n\r\nInstead it is a compilation of specialised JNI interface implementation, that is shipped with the source code of the JavaBDD library.\r\nUnfortunately, the project uses deprecated features of Java 8 in both code an build script, so that it will take some effort to get it running.","title":"JavaBDD and CUDD on a 64bit Windows Machine","body":"<blockquote>\n<p>Random guess: the symbol naming is slightly different between mingw and visual studio. Use dumpbin.exe on the dll and search for registerNatives \nBotje</p>\n</blockquote>\n<p>The random guess was wrong about the reason, but the comment still super helpful:\nComparing the output of <code>dumpbin /EXPORT</code> quickly revealed, that the <em>cudd.dll</em>, shipped with the JavaBDD library is not of the same source as libcudd.dll.</p>\n<p>Instead it is a compilation of specialised JNI interface implementation, that is shipped with the source code of the JavaBDD library.\nUnfortunately, the project uses deprecated features of Java 8 in both code an build script, so that it will take some effort to get it running.</p>\n"}],"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687935815,"creation_date":1687856854,"question_id":76563302,"body_markdown":"I have troubles getting JavaBDD working on a 64bit (Windows*) Machine with the CUDD (or BuDDy) backend.\r\n\r\nI obtained a copy of JavaBDD from [here](https://javabdd.sourceforge.net/installing.html).  \r\nIt shipps with a number of backend 32bit _.dll_-s, which are useless on a 64bit JVM.  \r\nHence, I tried to compile the CUDD library from the [source (mirror)](https://github.com/ivmai/cudd.git).\r\n\r\nI used mingw-64 on an Ubuntu WSL.\r\n\r\n```\r\ngit clone https://github.com/ivmai/cudd.git .\r\naclocal\r\nautomake\r\nmkdir build\r\ncd build\r\n../configure --enable-shared --enable-dddmp --enable-obj --host=x86_64-w64-mingw32 --build=x86_64-linux-gnu --prefix=... (local directory)\r\nmake\r\nmake install\r\n```\r\n\r\nAs expected, I find the _libcudd-3-0-0-0.dll_ in my _--prefix_ directory.  \r\nI rename the dll to _cudd.dll_, as this is the name, JavaBDD is searching for, and copy it in the right place (e.g. in the directory from which I will run my JAR).\r\n\r\nWhen I was trying to load the dll, that was shipped with JavaBDD, the library could not b loaded at all. Now with the newly compiled library, it apparently loads the lib (`NativeLibraries::findFromPaths(...)` returns a `NativeLibrary`, loaded from the expected path).\r\n\r\nRight after that (? at CUDDFactory.registerNatives(), in which I could not step into, or during some unknown static code snippets ?) an `UnsatisfiedLinkageError` is thrown.\r\n\r\n```\r\nUnsatisfiedLinkageError {\r\n   DetailMessage: net/sf/javabdd/CUDDFactory.registerNatives()V\r\n}\r\n```\r\n\r\nI hope I provided enough detail, that someone may shine light on my mistakes and help me, get this running. If more detail is necessary, feel free to ask.\r\n\r\n\r\n(* I haven&#39;t tried it on other OS)\r\n\r\n_I have already consulted ChatGPT on this matter. It was imaginative, but useless._\r\n\r\n---\r\n\r\nA small JUnit Test as MVC for the Java Part:\r\n\r\n```\r\n    @Test\r\n    public void registerNativeTest() {\r\n        System.loadLibrary(&quot;cudd&quot;);\r\n        registerNatives();\r\n    }\r\n\r\n    private static native void registerNatives();\r\n```","title":"JavaBDD and CUDD on a 64bit Windows Machine","body":"<p>I have troubles getting JavaBDD working on a 64bit (Windows*) Machine with the CUDD (or BuDDy) backend.</p>\n<p>I obtained a copy of JavaBDD from <a href=\"https://javabdd.sourceforge.net/installing.html\" rel=\"nofollow noreferrer\">here</a>.<br />\nIt shipps with a number of backend 32bit <em>.dll</em>-s, which are useless on a 64bit JVM.<br />\nHence, I tried to compile the CUDD library from the <a href=\"https://github.com/ivmai/cudd.git\" rel=\"nofollow noreferrer\">source (mirror)</a>.</p>\n<p>I used mingw-64 on an Ubuntu WSL.</p>\n<pre><code>git clone https://github.com/ivmai/cudd.git .\naclocal\nautomake\nmkdir build\ncd build\n../configure --enable-shared --enable-dddmp --enable-obj --host=x86_64-w64-mingw32 --build=x86_64-linux-gnu --prefix=... (local directory)\nmake\nmake install\n</code></pre>\n<p>As expected, I find the <em>libcudd-3-0-0-0.dll</em> in my <em>--prefix</em> directory.<br />\nI rename the dll to <em>cudd.dll</em>, as this is the name, JavaBDD is searching for, and copy it in the right place (e.g. in the directory from which I will run my JAR).</p>\n<p>When I was trying to load the dll, that was shipped with JavaBDD, the library could not b loaded at all. Now with the newly compiled library, it apparently loads the lib (<code>NativeLibraries::findFromPaths(...)</code> returns a <code>NativeLibrary</code>, loaded from the expected path).</p>\n<p>Right after that (? at CUDDFactory.registerNatives(), in which I could not step into, or during some unknown static code snippets ?) an <code>UnsatisfiedLinkageError</code> is thrown.</p>\n<pre><code>UnsatisfiedLinkageError {\n   DetailMessage: net/sf/javabdd/CUDDFactory.registerNatives()V\n}\n</code></pre>\n<p>I hope I provided enough detail, that someone may shine light on my mistakes and help me, get this running. If more detail is necessary, feel free to ask.</p>\n<p>(* I haven't tried it on other OS)</p>\n<p><em>I have already consulted ChatGPT on this matter. It was imaginative, but useless.</em></p>\n<hr />\n<p>A small JUnit Test as MVC for the Java Part:</p>\n<pre><code>    @Test\n    public void registerNativeTest() {\n        System.loadLibrary(&quot;cudd&quot;);\n        registerNatives();\n    }\n\n    private static native void registerNatives();\n</code></pre>\n"},{"tags":["java","monitoring","influxdb","grafana"],"answers":[{"tags":[],"owner":{"account_id":5669705,"reputation":11,"user_id":4484769,"display_name":"raj dutt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1424369831,"creation_date":1421973125,"answer_id":28101164,"question_id":27925875,"body_markdown":"InfluxDB is going to be the easiest to set up between the supported options. It&#39;s still very much a moving target though, although they&#39;re working hard to release a stable version.\r\n\r\nThe only way to visualize data in Grafana right now is through one of those databases.\r\n\r\n","title":"How to connect Java to Grafana","body":"<p>InfluxDB is going to be the easiest to set up between the supported options. It's still very much a moving target though, although they're working hard to release a stable version.</p>\n\n<p>The only way to visualize data in Grafana right now is through one of those databases.</p>\n"},{"tags":[],"owner":{"account_id":6724958,"reputation":4008,"user_id":5183341,"accept_rate":97,"display_name":"IIIIIIIIIIIIIIIIIIIIII"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521203528,"creation_date":1521203528,"answer_id":49320863,"question_id":27925875,"body_markdown":"Grafana is &#39;just&#39; a tool to display time series. Which means you will need an additional time series database between your java apllication and grafana. \r\n\r\nYou can find the current list of supported databases on their offical website:  [Datasources][1]\r\n\r\nAs you mentioned influxdb, you might want to have a look at this [influxdb-java][2] project\r\n\r\n\r\n  [1]: https://grafana.com/plugins?type=datasource\r\n  [2]: https://github.com/influxdata/influxdb-java","title":"How to connect Java to Grafana","body":"<p>Grafana is 'just' a tool to display time series. Which means you will need an additional time series database between your java apllication and grafana. </p>\n\n<p>You can find the current list of supported databases on their offical website:  <a href=\"https://grafana.com/plugins?type=datasource\" rel=\"nofollow noreferrer\">Datasources</a></p>\n\n<p>As you mentioned influxdb, you might want to have a look at this <a href=\"https://github.com/influxdata/influxdb-java\" rel=\"nofollow noreferrer\">influxdb-java</a> project</p>\n"},{"tags":[],"owner":{"account_id":519339,"reputation":107,"user_id":2315971,"display_name":"Atem18"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562057518,"creation_date":1562057518,"answer_id":56848702,"question_id":27925875,"body_markdown":"For monitoring with Grafana, I recommand Prometheus (https://prometheus.io/docs/prometheus/latest/getting_started/) with the JMX exporter in your case : https://github.com/prometheus/jmx_exporter.\r\n\r\nYou can add more exporter if you need (https://prometheus.io/docs/instrumenting/exporters/), you can expose your app&#39;s metrics to prometheus, etc.\r\n\r\nPrometheus is a fully integrated monitoring solution, just the graphs are limited because you cannot make dashboards, but for that you have Grafana :)","title":"How to connect Java to Grafana","body":"<p>For monitoring with Grafana, I recommand Prometheus (<a href=\"https://prometheus.io/docs/prometheus/latest/getting_started/\" rel=\"nofollow noreferrer\">https://prometheus.io/docs/prometheus/latest/getting_started/</a>) with the JMX exporter in your case : <a href=\"https://github.com/prometheus/jmx_exporter\" rel=\"nofollow noreferrer\">https://github.com/prometheus/jmx_exporter</a>.</p>\n\n<p>You can add more exporter if you need (<a href=\"https://prometheus.io/docs/instrumenting/exporters/\" rel=\"nofollow noreferrer\">https://prometheus.io/docs/instrumenting/exporters/</a>), you can expose your app's metrics to prometheus, etc.</p>\n\n<p>Prometheus is a fully integrated monitoring solution, just the graphs are limited because you cannot make dashboards, but for that you have Grafana :)</p>\n"},{"tags":[],"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687935450,"creation_date":1687935450,"answer_id":76570742,"question_id":27925875,"body_markdown":"If you&#39;re looking for a quick way to try out Grafana with Java, you can try the [OpenTelemetry integration for Grafana Cloud](https://grafana.com/docs/grafana-cloud/data-configuration/integrations/integration-reference/integration-opentelemetry/). \r\n\r\nIt uses Prometheus for metrics, and also supports logs and traces. If you want, you can run the same setup with Grafana Open Source, which is also described in the same article.","title":"How to connect Java to Grafana","body":"<p>If you're looking for a quick way to try out Grafana with Java, you can try the <a href=\"https://grafana.com/docs/grafana-cloud/data-configuration/integrations/integration-reference/integration-opentelemetry/\" rel=\"nofollow noreferrer\">OpenTelemetry integration for Grafana Cloud</a>.</p>\n<p>It uses Prometheus for metrics, and also supports logs and traces. If you want, you can run the same setup with Grafana Open Source, which is also described in the same article.</p>\n"}],"owner":{"account_id":4864382,"reputation":279,"user_id":3923124,"accept_rate":0,"display_name":"user3923124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12181,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1687935450,"creation_date":1421163744,"question_id":27925875,"body_markdown":"I really like the capabilities of Grafana for graphing metrics over time and showing a nice dashboard.  I&#39;d like to use it to track CPU, Mem, etc throughout my deployment environment.  I&#39;d also like to use it to track some numbers from my Java programs.  How can I connect Java to Grafana?\r\n\r\nGrafana supports three different database solutions (graphite, influxdb, OpenTSDB).  I am not using any of these at the moment.  But influxdb looks easy to setup.  I&#39;m really just looking for something simple and future-proof.  It will only monitor a few servers for now, but it may grow in time.  Is there an easy way to push a single Java integer with a label and timestamp into Grafana.  I&#39;m thinking there must be something like log4j for metrics.  But I also need to decide which database to use, but hopefully that would be abstracted out of the interface.  Any advice?","title":"How to connect Java to Grafana","body":"<p>I really like the capabilities of Grafana for graphing metrics over time and showing a nice dashboard.  I'd like to use it to track CPU, Mem, etc throughout my deployment environment.  I'd also like to use it to track some numbers from my Java programs.  How can I connect Java to Grafana?</p>\n\n<p>Grafana supports three different database solutions (graphite, influxdb, OpenTSDB).  I am not using any of these at the moment.  But influxdb looks easy to setup.  I'm really just looking for something simple and future-proof.  It will only monitor a few servers for now, but it may grow in time.  Is there an easy way to push a single Java integer with a label and timestamp into Grafana.  I'm thinking there must be something like log4j for metrics.  But I also need to decide which database to use, but hopefully that would be abstracted out of the interface.  Any advice?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":10808339,"reputation":1271,"user_id":7949704,"display_name":"Alejandro Gonzalez"},"score":0,"creation_date":1687350710,"post_id":76523284,"comment_id":134924132,"body_markdown":"i have the next project (https://github.com/wilson1234567891962/ProyectoAndes-Backend/tree/main), it creates the automatic tables. maybe you can try with the project that i  have","body":"i have the next project (<a href=\"https://github.com/wilson1234567891962/ProyectoAndes-Backend/tree/main\" rel=\"nofollow noreferrer\">github.com/wilson1234567891962/ProyectoAndes-Backend/tree/m&zwnj;&#8203;ain</a>), it creates the automatic tables. maybe you can try with the project that i  have"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687350829,"post_id":76523284,"comment_id":134924165,"body_markdown":"Remove `hibernate-jpa-2.1-api`, fix the compilation errors (`javax.persistence` -&gt; `jakarta.persistence`), re-run project.","body":"Remove <code>hibernate-jpa-2.1-api</code>, fix the compilation errors (<code>javax.persistence</code> -&gt; <code>jakarta.persistence</code>), re-run project."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687790751,"post_id":76523284,"comment_id":134982297,"body_markdown":"@Loran - did you check our comments and answers? Please update on any progress you made.","body":"@Loran - did you check our comments and answers? Please update on any progress you made."}],"answers":[{"comments":[{"owner":{"account_id":25612964,"reputation":35,"user_id":19386079,"display_name":"Loran"},"score":0,"creation_date":1687353385,"post_id":76523524,"comment_id":134924755,"body_markdown":"I did create a project in https://start.spring.io with the only dependencies that you provided and I added spring data jpa but still the same thing i think the probleme is related to this line &#39;&#39;HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported&quot;","body":"I did create a project in <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">start.spring.io</a> with the only dependencies that you provided and I added spring data jpa but still the same thing i think the probleme is related to this line &#39;&#39;HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported&quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687354560,"post_id":76523524,"comment_id":134925068,"body_markdown":"As I stated in my comment the problem is your dependencies which you decided to add. Remove them, your issue is not related to the line in your logging you are pointing to (to fix that remove `spring.jpa.database` property, and see that it still fails).","body":"As I stated in my comment the problem is your dependencies which you decided to add. Remove them, your issue is not related to the line in your logging you are pointing to (to fix that remove <code>spring.jpa.database</code> property, and see that it still fails)."},{"owner":{"account_id":25612964,"reputation":35,"user_id":19386079,"display_name":"Loran"},"score":0,"creation_date":1687363106,"post_id":76523524,"comment_id":134927333,"body_markdown":"When i remove ```spring.jpa.database``` i cant use annotation @Entity","body":"When i remove <code>spring.jpa.database</code> i cant use annotation @Entity"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687777940,"creation_date":1687352140,"answer_id":76523524,"question_id":76523284,"body_markdown":"You have way too many starters dependencies in your pom.xml. Some of them are conflicting and causing the Spring Boot auto-configuration to back-off.\r\n\r\n1. The best way to start with project dependencies is to use the Spring site [https://start.spring.io][1] Select `Maven` and add only `Spring Web`, `Spring Data JPA` and `MySQL` dependencies. Download `pom.xml` and test.\r\n2. Please check if your Entity class has a no-args constructor. I can&#39;t see it. \r\n3. Use `com.example` package in all your classes. This will allow Spring smoothly auto-configure JPA.\r\n4. Remove following properties as they will only confuse the auto-configuration. Spring Data JPA Starter will derive those parameters from the datasource url string.\r\n```\r\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\r\nspring.jpa.database= MYSQL\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n```\r\n\r\n\r\n  [1]: https://start.spring.io","title":"Entities Not Being Created in Database Using Spring Boot, JPA, MySQL and Spring Data REST","body":"<p>You have way too many starters dependencies in your pom.xml. Some of them are conflicting and causing the Spring Boot auto-configuration to back-off.</p>\n<ol>\n<li>The best way to start with project dependencies is to use the Spring site <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">https://start.spring.io</a> Select <code>Maven</code> and add only <code>Spring Web</code>, <code>Spring Data JPA</code> and <code>MySQL</code> dependencies. Download <code>pom.xml</code> and test.</li>\n<li>Please check if your Entity class has a no-args constructor. I can't see it.</li>\n<li>Use <code>com.example</code> package in all your classes. This will allow Spring smoothly auto-configure JPA.</li>\n<li>Remove following properties as they will only confuse the auto-configuration. Spring Data JPA Starter will derive those parameters from the datasource url string.</li>\n</ol>\n<pre><code>spring.datasource.driverClassName = com.mysql.jdbc.Driver\nspring.jpa.database= MYSQL\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25612964,"reputation":35,"user_id":19386079,"display_name":"Loran"},"score":0,"creation_date":1688756013,"post_id":76570699,"comment_id":135121452,"body_markdown":"when i use MySQL8Dialect i have this one : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead","body":"when i use MySQL8Dialect i have this one : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead"}],"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687935121,"creation_date":1687935121,"answer_id":76570699,"question_id":76523284,"body_markdown":"Try with this dialect\r\n\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect","title":"Entities Not Being Created in Database Using Spring Boot, JPA, MySQL and Spring Data REST","body":"<p>Try with this dialect</p>\n<pre><code>spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n"}],"owner":{"account_id":25612964,"reputation":35,"user_id":19386079,"display_name":"Loran"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687935121,"creation_date":1687350393,"question_id":76523284,"body_markdown":"I&#39;m currently working on a RESTful backend API using Spring Boot, MySQL for data persistence, JPA for ORM and Spring Data REST to expose the repositories as RESTful endpoints. However, I&#39;ve run into a problem: the entities I&#39;ve defined in Java aren&#39;t being created as tables in my MySQL database.\r\n\r\n```\r\n@Entity\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String nom;\r\n    private String adresseEmail;\r\n    private String motDePasse;\r\n    private String numeroTelephone;\r\n    private String role;\r\n\r\n// getters and setters\r\n}\r\n```\r\nI have configured the spring.jpa.hibernate.ddl-auto property in my application.properties file as follows:\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/test?useSSL=true&amp;createDatabaseIfNotExist=true\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\r\nserver.port=4443\r\nspring.jpa.database= MYSQL\r\nspring.jpa.hibernate.ddl-auto= update\r\nspring.jpa.show-sql = true\r\nspring.jackson.serialization.fail-on-empty-beans=false\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\n\r\n```\r\n\r\nhere pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Transport0001&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;Transport0001&lt;/name&gt;\r\n    &lt;description&gt;Transport0001&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;version&gt;5.1.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nlogs when i launch the project :\r\n\r\n```\r\n2023-06-21T13:15:59.276+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : Starting Transport0001Application using Java 17.0.7 with PID 5728 (C:\\Users\\master\\eclipse-workspace1\\Transport0001\\target\\classes started by master in C:\\Users\\master\\eclipse-workspace1\\Transport0001)\r\n2023-06-21T13:15:59.340+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-06-21T13:15:59.747+02:00  INFO 5728 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-06-21T13:15:59.748+02:00  INFO 5728 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-06-21T13:16:02.215+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-06-21T13:16:02.217+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\r\n2023-06-21T13:16:02.251+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.\r\n2023-06-21T13:16:02.286+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\r\n2023-06-21T13:16:02.287+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-06-21T13:16:02.301+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.\r\n2023-06-21T13:16:04.581+02:00  INFO 5728 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 4443 (http)\r\n2023-06-21T13:16:04.630+02:00  INFO 5728 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-06-21T13:16:04.631+02:00  INFO 5728 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\r\n2023-06-21T13:16:04.852+02:00  INFO 5728 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-06-21T13:16:04.856+02:00  INFO 5728 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5103 ms\r\n2023-06-21T13:16:05.619+02:00  INFO 5728 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-06-21T13:16:06.263+02:00  INFO 5728 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.2.Final\r\n2023-06-21T13:16:06.276+02:00  INFO 5728 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\r\n2023-06-21T13:16:06.733+02:00  INFO 5728 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-06-21T13:16:07.260+02:00  INFO 5728 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\r\n2023-06-21T13:16:07.380+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-06-21T13:16:07.835+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Driver does not support get/set network timeout for connections. (Receiver class com.mysql.jdbc.JDBC4Connection does not define or inherit an implementation of the resolved method &#39;abstract int getNetworkTimeout()&#39; of interface java.sql.Connection.)\r\n2023-06-21T13:16:07.837+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.jdbc.JDBC4Connection@6352190f\r\n2023-06-21T13:16:07.840+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-06-21T13:16:08.065+02:00  WARN 5728 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 5.7.0. Check the community dialects project for available legacy versions.\r\n2023-06-21T13:16:08.101+02:00  INFO 5728 --- [  restartedMain] org.hibernate.orm.dialect                : HHH035001: Using dialect: org.hibernate.dialect.MySQLDialect, version: 5.5\r\n2023-06-21T13:16:08.429+02:00  INFO 5728 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\r\n2023-06-21T13:16:09.720+02:00  INFO 5728 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-06-21T13:16:09.744+02:00  INFO 5728 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-06-21T13:16:09.847+02:00  WARN 5728 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-06-21T13:16:11.805+02:00  WARN 5728 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : \r\n\r\nUsing generated security password: b759bb29-f74e-49ea-8d9b-bb3e07b9e72f\r\n\r\nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\r\n\r\n2023-06-21T13:16:12.196+02:00  INFO 5728 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ef58939, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@436b80ed, org.springframework.security.web.context.SecurityContextHolderFilter@3d2e649, org.springframework.security.web.header.HeaderWriterFilter@2bd17f0e, org.springframework.security.web.csrf.CsrfFilter@5689f52a, org.springframework.security.web.authentication.logout.LogoutFilter@48e8a2e0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3bc86bf8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7527e759, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2992894d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23cdc3c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7498978a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@474e210b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f32e85e, org.springframework.security.web.access.ExceptionTranslationFilter@1f656006, org.springframework.security.web.access.intercept.AuthorizationFilter@533704c5]\r\n2023-06-21T13:16:12.288+02:00  WARN 5728 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server\r\n2023-06-21T13:16:12.412+02:00  INFO 5728 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 4443 (http) with context path &#39;&#39;\r\n2023-06-21T13:16:12.434+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : Started Transport0001Application in 15.199 seconds (process running for 22.007)\r\n```\r\nDespite this configuration, the user table is not being created in mydatabase. There are no error messages shown in the console, and the application starts up normally.\r\n\r\nI&#39;ve tried the following troubleshooting steps:\r\n\r\nChecked if the database connection is established correctly.\r\n\r\nVerified the entity class for any syntax errors.\r\n\r\nTried different settings for spring.jpa.hibernate.ddl-auto.\r\nUnfortunately, none of these steps has resolved my issue. Could anyone provide some guidance on what might be going wrong? Thanks in advance!\r\n\r\n\r\n\r\n","title":"Entities Not Being Created in Database Using Spring Boot, JPA, MySQL and Spring Data REST","body":"<p>I'm currently working on a RESTful backend API using Spring Boot, MySQL for data persistence, JPA for ORM and Spring Data REST to expose the repositories as RESTful endpoints. However, I've run into a problem: the entities I've defined in Java aren't being created as tables in my MySQL database.</p>\n<pre><code>@Entity\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String nom;\n    private String adresseEmail;\n    private String motDePasse;\n    private String numeroTelephone;\n    private String role;\n\n// getters and setters\n}\n</code></pre>\n<p>I have configured the spring.jpa.hibernate.ddl-auto property in my application.properties file as follows:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/test?useSSL=true&amp;createDatabaseIfNotExist=true\nspring.datasource.username=root\nspring.datasource.password=\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\nserver.port=4443\nspring.jpa.database= MYSQL\nspring.jpa.hibernate.ddl-auto= update\nspring.jpa.show-sql = true\nspring.jackson.serialization.fail-on-empty-beans=false\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\n\n</code></pre>\n<p>here pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Transport0001&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Transport0001&lt;/name&gt;\n    &lt;description&gt;Transport0001&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;version&gt;5.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>logs when i launch the project :</p>\n<pre><code>2023-06-21T13:15:59.276+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : Starting Transport0001Application using Java 17.0.7 with PID 5728 (C:\\Users\\master\\eclipse-workspace1\\Transport0001\\target\\classes started by master in C:\\Users\\master\\eclipse-workspace1\\Transport0001)\n2023-06-21T13:15:59.340+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-06-21T13:15:59.747+02:00  INFO 5728 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-06-21T13:15:59.748+02:00  INFO 5728 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-06-21T13:16:02.215+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-06-21T13:16:02.217+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JDBC repositories in DEFAULT mode.\n2023-06-21T13:16:02.251+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 0 JDBC repository interfaces.\n2023-06-21T13:16:02.286+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode\n2023-06-21T13:16:02.287+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-06-21T13:16:02.301+02:00  INFO 5728 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 2 ms. Found 0 JPA repository interfaces.\n2023-06-21T13:16:04.581+02:00  INFO 5728 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 4443 (http)\n2023-06-21T13:16:04.630+02:00  INFO 5728 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-06-21T13:16:04.631+02:00  INFO 5728 --- [  restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.8]\n2023-06-21T13:16:04.852+02:00  INFO 5728 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-06-21T13:16:04.856+02:00  INFO 5728 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5103 ms\n2023-06-21T13:16:05.619+02:00  INFO 5728 --- [  restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-06-21T13:16:06.263+02:00  INFO 5728 --- [  restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.2.Final\n2023-06-21T13:16:06.276+02:00  INFO 5728 --- [  restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer\n2023-06-21T13:16:06.733+02:00  INFO 5728 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-06-21T13:16:07.260+02:00  INFO 5728 --- [  restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer\n2023-06-21T13:16:07.380+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-06-21T13:16:07.835+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.pool.PoolBase          : HikariPool-1 - Driver does not support get/set network timeout for connections. (Receiver class com.mysql.jdbc.JDBC4Connection does not define or inherit an implementation of the resolved method 'abstract int getNetworkTimeout()' of interface java.sql.Connection.)\n2023-06-21T13:16:07.837+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.jdbc.JDBC4Connection@6352190f\n2023-06-21T13:16:07.840+02:00  INFO 5728 --- [  restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-06-21T13:16:08.065+02:00  WARN 5728 --- [  restartedMain] org.hibernate.dialect.Dialect            : HHH000511: The 5.5.0 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 5.7.0. Check the community dialects project for available legacy versions.\n2023-06-21T13:16:08.101+02:00  INFO 5728 --- [  restartedMain] org.hibernate.orm.dialect                : HHH035001: Using dialect: org.hibernate.dialect.MySQLDialect, version: 5.5\n2023-06-21T13:16:08.429+02:00  INFO 5728 --- [  restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy\n2023-06-21T13:16:09.720+02:00  INFO 5728 --- [  restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-06-21T13:16:09.744+02:00  INFO 5728 --- [  restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-06-21T13:16:09.847+02:00  WARN 5728 --- [  restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-06-21T13:16:11.805+02:00  WARN 5728 --- [  restartedMain] .s.s.UserDetailsServiceAutoConfiguration : \n\nUsing generated security password: b759bb29-f74e-49ea-8d9b-bb3e07b9e72f\n\nThis generated password is for development use only. Your security configuration must be updated before running your application in production.\n\n2023-06-21T13:16:12.196+02:00  INFO 5728 --- [  restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ef58939, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@436b80ed, org.springframework.security.web.context.SecurityContextHolderFilter@3d2e649, org.springframework.security.web.header.HeaderWriterFilter@2bd17f0e, org.springframework.security.web.csrf.CsrfFilter@5689f52a, org.springframework.security.web.authentication.logout.LogoutFilter@48e8a2e0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3bc86bf8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7527e759, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2992894d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@23cdc3c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7498978a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@474e210b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f32e85e, org.springframework.security.web.access.ExceptionTranslationFilter@1f656006, org.springframework.security.web.access.intercept.AuthorizationFilter@533704c5]\n2023-06-21T13:16:12.288+02:00  WARN 5728 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server\n2023-06-21T13:16:12.412+02:00  INFO 5728 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 4443 (http) with context path ''\n2023-06-21T13:16:12.434+02:00  INFO 5728 --- [  restartedMain] c.e.t.Transport0001Application           : Started Transport0001Application in 15.199 seconds (process running for 22.007)\n</code></pre>\n<p>Despite this configuration, the user table is not being created in mydatabase. There are no error messages shown in the console, and the application starts up normally.</p>\n<p>I've tried the following troubleshooting steps:</p>\n<p>Checked if the database connection is established correctly.</p>\n<p>Verified the entity class for any syntax errors.</p>\n<p>Tried different settings for spring.jpa.hibernate.ddl-auto.\nUnfortunately, none of these steps has resolved my issue. Could anyone provide some guidance on what might be going wrong? Thanks in advance!</p>\n"},{"tags":["java","spring-boot","kubernetes","open-telemetry","jaeger"],"answers":[{"tags":[],"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687934663,"creation_date":1687934663,"answer_id":76570661,"question_id":76566472,"body_markdown":"I don&#39;t have the answer about the correct property, but I can give some advice:\r\n\r\n- The article you&#39;re referring to is about an older version of Spring Boot. Spring Boot 3 uses micrometer tracing, which also supports OpenTelemetry/OTLP as described [here](https://spring.io/blog/2022/10/12/observability-with-spring-boot-3).\r\n- I have created a [spring starter](https://github.com/grafana/grafana-opentelemetry-starter/) myself that tries to make it as easy as possible to use OpenTelemetry. It has &quot;Grafana&quot; in the name, but it can send data to any OTLP endpoint. It also targets Spring Boot 3.\r\n- You can also use the [OpenTelemetry javaagent](https://github.com/open-telemetry/opentelemetry-java-instrumentation), which covers older Spring Boot versions as well as other frameworks and is probably the most mature choice at the time of writing.","title":"How can I configure a springboot java application to send traces to jaeger","body":"<p>I don't have the answer about the correct property, but I can give some advice:</p>\n<ul>\n<li>The article you're referring to is about an older version of Spring Boot. Spring Boot 3 uses micrometer tracing, which also supports OpenTelemetry/OTLP as described <a href=\"https://spring.io/blog/2022/10/12/observability-with-spring-boot-3\" rel=\"nofollow noreferrer\">here</a>.</li>\n<li>I have created a <a href=\"https://github.com/grafana/grafana-opentelemetry-starter/\" rel=\"nofollow noreferrer\">spring starter</a> myself that tries to make it as easy as possible to use OpenTelemetry. It has &quot;Grafana&quot; in the name, but it can send data to any OTLP endpoint. It also targets Spring Boot 3.</li>\n<li>You can also use the <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation\" rel=\"nofollow noreferrer\">OpenTelemetry javaagent</a>, which covers older Spring Boot versions as well as other frameworks and is probably the most mature choice at the time of writing.</li>\n</ul>\n"}],"owner":{"account_id":19636668,"reputation":33,"user_id":14373820,"display_name":"Tair Itzhak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687934663,"creation_date":1687879911,"question_id":76566472,"body_markdown":"I have a springboot application deployed in my kubernetes cluster. I would like to start collecting traces and send them to my jaeger (deployed with jaeger operator). \r\n\r\nI tried to follow a couple of documentations and articles regarding that, but couldn&#39;t find any that address the flow in kubernetes (most of them use docker-compose). Also, I want to use the open telemetry SDKs, since it seems like the jaeger client is deprecated. \r\n\r\nMy jaeger operator and crd are deployed in observability namespace in cluster. \r\n\r\n\r\nI tried to follow this setup for example - https://www.baeldung.com/spring-boot-opentelemetry-setup.\r\n\r\nI am not sure what should be configured in the spring.sleuth.otel.exporter.otlp.endpoint or exporter.jaeger.endpoint.\r\n\r\nAlso not sure whether sidecar.jaegertracing.io/inject: &quot;true&quot; annotation in my java application deployment.\r\n","title":"How can I configure a springboot java application to send traces to jaeger","body":"<p>I have a springboot application deployed in my kubernetes cluster. I would like to start collecting traces and send them to my jaeger (deployed with jaeger operator).</p>\n<p>I tried to follow a couple of documentations and articles regarding that, but couldn't find any that address the flow in kubernetes (most of them use docker-compose). Also, I want to use the open telemetry SDKs, since it seems like the jaeger client is deprecated.</p>\n<p>My jaeger operator and crd are deployed in observability namespace in cluster.</p>\n<p>I tried to follow this setup for example - <a href=\"https://www.baeldung.com/spring-boot-opentelemetry-setup\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-opentelemetry-setup</a>.</p>\n<p>I am not sure what should be configured in the spring.sleuth.otel.exporter.otlp.endpoint or exporter.jaeger.endpoint.</p>\n<p>Also not sure whether sidecar.jaegertracing.io/inject: &quot;true&quot; annotation in my java application deployment.</p>\n"},{"tags":["java","maven","jvm","xodus"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687901768,"post_id":76568391,"comment_id":135001529,"body_markdown":"Well when you run your jar, you&#39;ve deployed it, so how did you deploy the embedded db? Obviously it can&#39;t be *in* the jar as it would not be writable","body":"Well when you run your jar, you&#39;ve deployed it, so how did you deploy the embedded db? Obviously it can&#39;t be <i>in</i> the jar as it would not be writable"},{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1687933716,"post_id":76568391,"comment_id":135004514,"body_markdown":"@g00se Xodus is an embedded database, which which adding the Xodus  dependencies in the project makes your program able to write to the disk and Xodus manage that directory to store database objects.","body":"@g00se Xodus is an embedded database, which which adding the Xodus  dependencies in the project makes your program able to write to the disk and Xodus manage that directory to store database objects."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687934561,"post_id":76568391,"comment_id":135004624,"body_markdown":"Yes I know (now). They missed a trick by not providing a task to show their sample code in action. Check their docs about deployment (which I&#39;ve not read but hope and assume exist). If you want *one* deployment unit only, you will need at least their library, which would have to be `jpackage`d or in a fat jar","body":"Yes I know (now). They missed a trick by not providing a task to show their sample code in action. Check their docs about deployment (which I&#39;ve not read but hope and assume exist). If you want <i>one</i> deployment unit only, you will need at least their library, which would have to be <code>jpackage</code>d or in a fat jar"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687934963,"post_id":76568391,"comment_id":135004702,"body_markdown":"You could use Maven Shade for the latter.","body":"You could use Maven Shade for the latter."}],"answers":[{"tags":[],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687934568,"creation_date":1687934568,"answer_id":76570656,"question_id":76568391,"body_markdown":"The problem was not with Xodus, this database is so fast which upon testing it can save 100k records in 72ms and works well with the JVM. \r\n\r\nSo it&#39;s not the problem. \r\n\r\nUpon further investigation the code, I found the culprit to be the `ClassScanner`:\r\n\r\n```\r\nprivate List&lt;FieldMarshaller&lt;?&gt;&gt; getFieldMarshallers() {\r\n        List&lt;FieldMarshaller&lt;?&gt;&gt; fieldMarshallers = new ArrayList&lt;&gt;();\r\n        String packageName = &quot;com.mycompany.myapp.database.marshallers.fields&quot;;\r\n        try {\r\n            List&lt;Class&lt;?&gt;&gt; marshallerClasses = ClassScanner.findClasses(packageName, FieldMarshaller.class);\r\n            for (Class&lt;?&gt; marshallerClass : marshallerClasses) {\r\n                FieldMarshaller&lt;?&gt; marshaller = (FieldMarshaller&lt;?&gt;) marshallerClass.getDeclaredConstructor().newInstance();\r\n                fieldMarshallers.add(marshaller);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new MarshallerException(&quot;Error initializing field marshallers&quot;, e);\r\n        }\r\n        return fieldMarshallers;\r\n}\r\n```\r\n\r\nThe `ClassScanner` apparently does have behave the same on packaged jars compared to running with maven. \r\n\r\nIn a typical development setup, the classes are compiled into .class files in a directory structure that reflects the package structure of your code, and classpath scanning works by traversing this directory structure. However, when you package your program into a JAR file, the .class files are bundled into a single file, and the directory structure is no longer directly accessible in the same way.\r\n\r\nThis is the reason the program is behaving unpredictably and the database dump was like that, the `FieldMarshaller` which are responsible for marshaling/unmarshaling the Xodus entity to/from typed objects. \r\n\r\nAnyhow, for anyone who may be experiencing classpath scanning issues on builds, I used:\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\r\n      &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\r\n      &lt;version&gt;4.8.104&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\nAnd was the class scanning works now both when running in debug and also in builds. \r\n\r\nAlso, since the usage of classgraph is expensive, I made it so it is statically initialized and re-usable to parts of the program:\r\n\r\n```\r\npublic class FieldMarshallers {\r\n    private static final List&lt;Class&lt;?&gt;&gt; marshallerClasses;\r\n\r\n    static {\r\n        try (ScanResult scanResult = new ClassGraph()\r\n                .whitelistPackages(&quot;com.mycompany.myapp.database.marshallers.fields&quot;)\r\n                .scan()) {\r\n            marshallerClasses = scanResult.getClassesImplementing(FieldMarshaller.class.getName()).loadClasses(true);\r\n        }\r\n    }\r\n\r\n    public static List&lt;Class&lt;?&gt;&gt; getMarshallerClasses() {\r\n        return marshallerClasses;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Java embedded database not functioning correctly when run as packaged JAR or native image, but works fine when run with Maven or IntelliJ","body":"<p>The problem was not with Xodus, this database is so fast which upon testing it can save 100k records in 72ms and works well with the JVM.</p>\n<p>So it's not the problem.</p>\n<p>Upon further investigation the code, I found the culprit to be the <code>ClassScanner</code>:</p>\n<pre><code>private List&lt;FieldMarshaller&lt;?&gt;&gt; getFieldMarshallers() {\n        List&lt;FieldMarshaller&lt;?&gt;&gt; fieldMarshallers = new ArrayList&lt;&gt;();\n        String packageName = &quot;com.mycompany.myapp.database.marshallers.fields&quot;;\n        try {\n            List&lt;Class&lt;?&gt;&gt; marshallerClasses = ClassScanner.findClasses(packageName, FieldMarshaller.class);\n            for (Class&lt;?&gt; marshallerClass : marshallerClasses) {\n                FieldMarshaller&lt;?&gt; marshaller = (FieldMarshaller&lt;?&gt;) marshallerClass.getDeclaredConstructor().newInstance();\n                fieldMarshallers.add(marshaller);\n            }\n        } catch (Exception e) {\n            throw new MarshallerException(&quot;Error initializing field marshallers&quot;, e);\n        }\n        return fieldMarshallers;\n}\n</code></pre>\n<p>The <code>ClassScanner</code> apparently does have behave the same on packaged jars compared to running with maven.</p>\n<p>In a typical development setup, the classes are compiled into .class files in a directory structure that reflects the package structure of your code, and classpath scanning works by traversing this directory structure. However, when you package your program into a JAR file, the .class files are bundled into a single file, and the directory structure is no longer directly accessible in the same way.</p>\n<p>This is the reason the program is behaving unpredictably and the database dump was like that, the <code>FieldMarshaller</code> which are responsible for marshaling/unmarshaling the Xodus entity to/from typed objects.</p>\n<p>Anyhow, for anyone who may be experiencing classpath scanning issues on builds, I used:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.github.classgraph&lt;/groupId&gt;\n      &lt;artifactId&gt;classgraph&lt;/artifactId&gt;\n      &lt;version&gt;4.8.104&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And was the class scanning works now both when running in debug and also in builds.</p>\n<p>Also, since the usage of classgraph is expensive, I made it so it is statically initialized and re-usable to parts of the program:</p>\n<pre><code>public class FieldMarshallers {\n    private static final List&lt;Class&lt;?&gt;&gt; marshallerClasses;\n\n    static {\n        try (ScanResult scanResult = new ClassGraph()\n                .whitelistPackages(&quot;com.mycompany.myapp.database.marshallers.fields&quot;)\n                .scan()) {\n            marshallerClasses = scanResult.getClassesImplementing(FieldMarshaller.class.getName()).loadClasses(true);\n        }\n    }\n\n    public static List&lt;Class&lt;?&gt;&gt; getMarshallerClasses() {\n        return marshallerClasses;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76570656,"answer_count":1,"score":0,"last_activity_date":1687934568,"creation_date":1687897349,"question_id":76568391,"body_markdown":"I have this command line app that uses Xodus as embedded database. And the program has this bizarre problem.\r\n\r\nWhen run using:\r\n\r\n`mvn exec:java` or using IntelliJ run command, the programs works fine. It can read and write to the Xodus database fine. However, when packaged as jar or native image, both does not work.\r\n\r\nSo here&#39;s what I did, since the packaged jar or native image fails to read/write properly, I copied the database file from the one that was generated from the `mvn exec:java` and the IntelliJ run command, then did the &quot;export database&quot; command that is available in the command line app. \r\n\r\nFrom there, I compared the CSV output of both programs:\r\n\r\n - The exported CSV from the maven or IntelliJ run, the CSV data is clean.\r\n - The exported CSV from the jar or native image run are both messy. \r\n\r\nI can&#39;t really tell how is this happening. I wonder how is this even possible when the premise of Java is portability, not sure if the issue is that I use MacOS on M2 chip. Is there a difference in the runtime when running in maven vs running on `java -jar`? *(btw, other parts of the program that does not use the database works fine, that&#39;s why I am assuming that the issue is with the use of Jetbrains Xodus Database)*\r\n\r\n\r\n\r\n**Any theories are welcome.** \r\n\r\n","title":"Java embedded database not functioning correctly when run as packaged JAR or native image, but works fine when run with Maven or IntelliJ","body":"<p>I have this command line app that uses Xodus as embedded database. And the program has this bizarre problem.</p>\n<p>When run using:</p>\n<p><code>mvn exec:java</code> or using IntelliJ run command, the programs works fine. It can read and write to the Xodus database fine. However, when packaged as jar or native image, both does not work.</p>\n<p>So here's what I did, since the packaged jar or native image fails to read/write properly, I copied the database file from the one that was generated from the <code>mvn exec:java</code> and the IntelliJ run command, then did the &quot;export database&quot; command that is available in the command line app.</p>\n<p>From there, I compared the CSV output of both programs:</p>\n<ul>\n<li>The exported CSV from the maven or IntelliJ run, the CSV data is clean.</li>\n<li>The exported CSV from the jar or native image run are both messy.</li>\n</ul>\n<p>I can't really tell how is this happening. I wonder how is this even possible when the premise of Java is portability, not sure if the issue is that I use MacOS on M2 chip. Is there a difference in the runtime when running in maven vs running on <code>java -jar</code>? <em>(btw, other parts of the program that does not use the database works fine, that's why I am assuming that the issue is with the use of Jetbrains Xodus Database)</em></p>\n<p><strong>Any theories are welcome.</strong></p>\n"},{"tags":["java","maven","javafx","desktop-application","azul-zulu"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687935863,"post_id":76570093,"comment_id":135004856,"body_markdown":"Why not just check on Maven Central?","body":"Why not just check on Maven Central?"},{"owner":{"account_id":21886011,"reputation":23,"user_id":16173641,"display_name":"ksa"},"score":0,"creation_date":1687945232,"post_id":76570093,"comment_id":135006687,"body_markdown":"I checked it. But, I didn&#39;t find which one to replace with **com.oracle**","body":"I checked it. But, I didn&#39;t find which one to replace with <b>com.oracle</b>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687947976,"post_id":76570093,"comment_id":135007268,"body_markdown":"tbh I doubt it will matter much. You&#39;re currently able to build OK aren&#39;t you? I actually can&#39;t even find &#39;ant-javafx&#39; anywhere. Are you using Ant to build?","body":"tbh I doubt it will matter much. You&#39;re currently able to build OK aren&#39;t you? I actually can&#39;t even find &#39;ant-javafx&#39; anywhere. Are you using Ant to build?"},{"owner":{"account_id":21886011,"reputation":23,"user_id":16173641,"display_name":"ksa"},"score":0,"creation_date":1687949228,"post_id":76570093,"comment_id":135007504,"body_markdown":"Locally, I am able to build the application, Splash screen followed by Home Screen is displayed. After that, navigating to any other screen is taking longer time to display/render.   Build Tool used in **Maven** !  So, I am not sure what other configurations to be done while migrating to Azul Zulu JDK.","body":"Locally, I am able to build the application, Splash screen followed by Home Screen is displayed. After that, navigating to any other screen is taking longer time to display/render.   Build Tool used in <b>Maven</b> !  So, I am not sure what other configurations to be done while migrating to Azul Zulu JDK."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687952985,"post_id":76570093,"comment_id":135008232,"body_markdown":"I&#39;m not sure where all this ant- stuff is coming from then if you&#39;re using Maven. Check out the docs for Maven building of javafx. I did one a couple of days ago but it looks like it was wiped (if I didn&#39;t work in my /tmp folder, I&#39;d need a hard drive the size of the planet)","body":"I&#39;m not sure where all this ant- stuff is coming from then if you&#39;re using Maven. Check out the docs for Maven building of javafx. I did one a couple of days ago but it looks like it was wiped (if I didn&#39;t work in my /tmp folder, I&#39;d need a hard drive the size of the planet)"},{"owner":{"account_id":21886011,"reputation":23,"user_id":16173641,"display_name":"ksa"},"score":0,"creation_date":1687953518,"post_id":76570093,"comment_id":135008340,"body_markdown":"**ant-javafx.jar** is fetched from **C:\\Program Files\\Java\\zulu-fx-jdk8.0.302\\lib**  But I am also not sure about **ant-javafx** artifactId.","body":"<b>ant-javafx.jar</b> is fetched from <b>C:\\Program Files\\Java\\zulu-fx-jdk8.0.302\\lib</b>  But I am also not sure about <b>ant-javafx</b> artifactId."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687956095,"post_id":76570093,"comment_id":135008920,"body_markdown":"This is all the wrong way around. The way Maven works is that *it* fetches the dependencies from repositories. The correct deps are done that way. There might be something called &#39;ant-javafx.jar&#39; on your system but it doesn&#39;t have much to do with what you should have in pom.xml","body":"This is all the wrong way around. The way Maven works is that <i>it</i> fetches the dependencies from repositories. The correct deps are done that way. There might be something called &#39;ant-javafx.jar&#39; on your system but it doesn&#39;t have much to do with what you should have in pom.xml"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687957304,"post_id":76570093,"comment_id":135009253,"body_markdown":"I&#39;ve just generated a runnable JavaFX fxml app from a Maven archetype. [This](https://technojeeves.com/tech/javafx-fmxl-pom.xml) is what its pom.xml looks like","body":"I&#39;ve just generated a runnable JavaFX fxml app from a Maven archetype. <a href=\"https://technojeeves.com/tech/javafx-fmxl-pom.xml\" rel=\"nofollow noreferrer\">This</a> is what its pom.xml looks like"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1687987213,"post_id":76570093,"comment_id":135015235,"body_markdown":"@g00se I think the `ant-javafx` stuff comes from old [JavaFX Ant Tasks](https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/javafx_ant_tasks.html), which were provided with old JavaFX and Oracle JDK distributions, but have long since been deprecated and replaced by alternative technology.  It is not surprising that such things would not be available in in a Zulu JDK distribution or in Maven central, as some of that technology dates back to when parts of JavaFX were closed source code only distributed by Oracle.","body":"@g00se I think the <code>ant-javafx</code> stuff comes from old <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/javafx_ant_tasks.html\" rel=\"nofollow noreferrer\">JavaFX Ant Tasks</a>, which were provided with old JavaFX and Oracle JDK distributions, but have long since been deprecated and replaced by alternative technology.  It is not surprising that such things would not be available in in a Zulu JDK distribution or in Maven central, as some of that technology dates back to when parts of JavaFX were closed source code only distributed by Oracle."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687987990,"post_id":76570093,"comment_id":135015347,"body_markdown":"RIght. I though it must be something ancient ;)","body":"RIght. I though it must be something ancient ;)"}],"owner":{"account_id":21886011,"reputation":23,"user_id":16173641,"display_name":"ksa"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687934424,"creation_date":1687927374,"question_id":76570093,"body_markdown":"I am working on Windows Desktop Application which currently uses Oracle JDK 1.8 () version and JavaFX. Our Team is planning to migrate from Oracle JDK 1.8 to Azul Zulu Open JDK 1.8 (8.0.302).\r\nI have changed the path of JAVA_HOME, Installed JREs which points to Zulu JDK Location in my local workspace. I have also changed the JRE path in Run Configuration. After that, when I ran application, it is loading the splash screen, but other screen navigations are taking long time to load. \r\n\r\nMy 2 doubt here are - \r\n\r\n1. **Should I change the groupId value** to some other thing instead of **com.oracle** with below dependencies  ?  \r\n\r\n                    &lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;ant-javafx&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;systemPath&gt;${java.home}/../lib/ant- \r\n                           javafx.jar&lt;/systemPath&gt;\r\n\t\t\t\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;javafx&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${javafx.version}&lt;/version&gt;\r\n\t\t\t\t     &lt;systemPath&gt;${java.home}/lib/ext/jfxrt.jar&lt;/systemPath&gt;\r\n\t\t\t\t\t\t&lt;scope&gt;system&lt;/scope&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\r\n2. I observed that Oracle JDK lib folder has deploy folder, but Zulu JDK Lib folder didn&#39;t had that deploy folder. So, Is that OK ? or should I\r\ninclude/copy deploy folder in lib folder?\r\n\r\nPlease assist with these two doubts.\r\n\r\n","title":"Which &lt;groupId&gt; to mention for ant-javafx.jar &amp; jfxrt.jar dependency in POM.xml while migrating from Oracle to Zulu Azul Open JDK 1.8 (8.0.302) ?)","body":"<p>I am working on Windows Desktop Application which currently uses Oracle JDK 1.8 () version and JavaFX. Our Team is planning to migrate from Oracle JDK 1.8 to Azul Zulu Open JDK 1.8 (8.0.302).\nI have changed the path of JAVA_HOME, Installed JREs which points to Zulu JDK Location in my local workspace. I have also changed the JRE path in Run Configuration. After that, when I ran application, it is loading the splash screen, but other screen navigations are taking long time to load.</p>\n<p>My 2 doubt here are -</p>\n<ol>\n<li><p><strong>Should I change the groupId value</strong> to some other thing instead of <strong>com.oracle</strong> with below dependencies  ?</p>\n<pre><code>             &lt;dependency&gt;\n                 &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n                 &lt;artifactId&gt;ant-javafx&lt;/artifactId&gt;\n                 &lt;version&gt;${javafx.version}&lt;/version&gt;\n                 &lt;systemPath&gt;${java.home}/../lib/ant- \n                    javafx.jar&lt;/systemPath&gt;\n                 &lt;scope&gt;system&lt;/scope&gt;\n             &lt;/dependency&gt;\n             &lt;dependency&gt;\n                 &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n                 &lt;artifactId&gt;javafx&lt;/artifactId&gt;\n                 &lt;version&gt;${javafx.version}&lt;/version&gt;\n              &lt;systemPath&gt;${java.home}/lib/ext/jfxrt.jar&lt;/systemPath&gt;\n                 &lt;scope&gt;system&lt;/scope&gt;\n             &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>I observed that Oracle JDK lib folder has deploy folder, but Zulu JDK Lib folder didn't had that deploy folder. So, Is that OK ? or should I\ninclude/copy deploy folder in lib folder?</p>\n</li>\n</ol>\n<p>Please assist with these two doubts.</p>\n"},{"tags":["java","pdf","pdfbox","pdftotext","camelot-php-tools"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1633677711,"post_id":69400511,"comment_id":122828265,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":19947676,"reputation":61,"user_id":14617996,"display_name":"Hussam Barouqa"},"score":0,"creation_date":1634224858,"post_id":69400511,"comment_id":122973288,"body_markdown":"The LEADTOOLS Java Forms Processing SDK can be used for extracting table information from structured forms. The recognition uses a template from a blank form with fields defined for extraction. For example, a [TableFormField](https://www.leadtools.com/help/sdk/v22/dh/fp/tableformfield.html) class can be configured for different tables using the Rules property with the appropriate [TableRules](https://www.leadtools.com/help/sdk/v22/dh/fp/tablerules.html) value. A Java sample can be found [here](https://www.leadtools.com/support/forum/posts/t12833-) and a free evaluation is available.","body":"The LEADTOOLS Java Forms Processing SDK can be used for extracting table information from structured forms. The recognition uses a template from a blank form with fields defined for extraction. For example, a <a href=\"https://www.leadtools.com/help/sdk/v22/dh/fp/tableformfield.html\" rel=\"nofollow noreferrer\">TableFormField</a> class can be configured for different tables using the Rules property with the appropriate <a href=\"https://www.leadtools.com/help/sdk/v22/dh/fp/tablerules.html\" rel=\"nofollow noreferrer\">TableRules</a> value. A Java sample can be found <a href=\"https://www.leadtools.com/support/forum/posts/t12833-\" rel=\"nofollow noreferrer\">here</a> and a free evaluation is available."}],"answers":[{"tags":[],"owner":{"account_id":28717138,"reputation":11,"user_id":21991536,"display_name":"Gail Thorne"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687934145,"creation_date":1687934145,"answer_id":76570617,"question_id":69400511,"body_markdown":"If you want to use Java to extract tables from PDF, then I think this method is very suitable for you. Use the Spire.PDF for Java control to complete this operation.[Spire.PDF for Java][1] offers the **PdfTableExtractor.extractTable(int pageIndex)** method to detect and extract tables from a desired PDF page.\r\nYou can refer to the following Java code:\r\n\r\n           //Loop through the pages in the PDF\r\n           for (int pageIndex = 0; pageIndex &lt; pdf.getPages().getCount(); pageIndex++) {\r\n           \r\n           //Extract tables from the current page into a PdfTable array\r\n           PdfTable[] tableLists = extractor.extractTable(pageIndex);\r\n\r\nHere is the complete article tutorial :[Extract Table Data from PDF Document in Java.][2] I hope this answer is extremely helpful to you.\r\n\r\n\r\n  [1]: https://www.e-iceblue.com/Introduce/pdf-for-java.html\r\n  [2]: https://www.e-iceblue.com/Tutorials/Java/Spire.PDF-for-Java/Program-Guide/Table/Java-Extract-Table-Data-from-PDF-Document.html","title":"How to extract table for pdf using Java?","body":"<p>If you want to use Java to extract tables from PDF, then I think this method is very suitable for you. Use the Spire.PDF for Java control to complete this operation.<a href=\"https://www.e-iceblue.com/Introduce/pdf-for-java.html\" rel=\"nofollow noreferrer\">Spire.PDF for Java</a> offers the <strong>PdfTableExtractor.extractTable(int pageIndex)</strong> method to detect and extract tables from a desired PDF page.\nYou can refer to the following Java code:</p>\n<pre><code>       //Loop through the pages in the PDF\n       for (int pageIndex = 0; pageIndex &lt; pdf.getPages().getCount(); pageIndex++) {\n       \n       //Extract tables from the current page into a PdfTable array\n       PdfTable[] tableLists = extractor.extractTable(pageIndex);\n</code></pre>\n<p>Here is the complete article tutorial :<a href=\"https://www.e-iceblue.com/Tutorials/Java/Spire.PDF-for-Java/Program-Guide/Table/Java-Extract-Table-Data-from-PDF-Document.html\" rel=\"nofollow noreferrer\">Extract Table Data from PDF Document in Java.</a> I hope this answer is extremely helpful to you.</p>\n"}],"owner":{"account_id":10493762,"reputation":1,"user_id":7734729,"display_name":"Mohan Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687934145,"creation_date":1633063513,"question_id":69400511,"body_markdown":"I am trying to extract table data in a structured manner as a table using Java.  I&#39;ve been using pdfbox and tabula for the past two years.  But the problem is that pdfbox returns all the data in pdf as a sorted or unsorted text and tabula sometimes detects the table which have perfect borders and failed to recogonize tables without borders.  \r\n\r\nPlease help me with a solution to extract table from pdf in a structured format using **Java** other than using **pdfbox and tabula api**.","title":"How to extract table for pdf using Java?","body":"<p>I am trying to extract table data in a structured manner as a table using Java.  I've been using pdfbox and tabula for the past two years.  But the problem is that pdfbox returns all the data in pdf as a sorted or unsorted text and tabula sometimes detects the table which have perfect borders and failed to recogonize tables without borders.</p>\n<p>Please help me with a solution to extract table from pdf in a structured format using <strong>Java</strong> other than using <strong>pdfbox and tabula api</strong>.</p>\n"},{"tags":["java","spring","rest","jpa","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":5385177,"reputation":153,"user_id":4289324,"display_name":"David Gildea"},"score":0,"creation_date":1417013220,"post_id":27115525,"comment_id":42798575,"body_markdown":"Thanks. I forgot to say that I am explicitly sending application/json in the content type  but spring still seems to think that its getting text/plain.","body":"Thanks. I forgot to say that I am explicitly sending application/json in the content type  but spring still seems to think that its getting text/plain."}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1416868890,"creation_date":1416868890,"answer_id":27115525,"question_id":27115334,"body_markdown":"Your POST request has a content type of `text/plain` and the server doesn&#39;t know how to convert plain text into a `hello.Person` instance.\r\n\r\nYou need to tell the server that you&#39;re sending JSON by setting the `Content-Type` header of the request to `application/json`","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>Your POST request has a content type of <code>text/plain</code> and the server doesn't know how to convert plain text into a <code>hello.Person</code> instance.</p>\n\n<p>You need to tell the server that you're sending JSON by setting the <code>Content-Type</code> header of the request to <code>application/json</code></p>\n"},{"tags":[],"owner":{"account_id":1759131,"reputation":681,"user_id":1606696,"display_name":"Byorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626344553,"creation_date":1427642026,"answer_id":29330840,"question_id":27115334,"body_markdown":"I used Google Chrome&#39;s Postman extension and sent raw JSON `{ &quot;firstName&quot;: &quot;Frodo&quot;, &quot;lastName&quot;: &quot;Baggins&quot; }`. That worked.\r\n\r\nKeep in mind to specify the HTTP header `Content-Type: application/json`.","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>I used Google Chrome's Postman extension and sent raw JSON <code>{ &quot;firstName&quot;: &quot;Frodo&quot;, &quot;lastName&quot;: &quot;Baggins&quot; }</code>. That worked.</p>\n<p>Keep in mind to specify the HTTP header <code>Content-Type: application/json</code>.</p>\n"},{"tags":[],"owner":{"account_id":7805574,"reputation":1404,"user_id":5903568,"accept_rate":82,"display_name":"Kamel Mili"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455026633,"creation_date":1455026633,"answer_id":35294045,"question_id":27115334,"body_markdown":"Content-Type:application/json try to remove the space between content-type:* and  application in the header .\r\n ","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>Content-Type:application/json try to remove the space between content-type:* and  application in the header .</p>\n"},{"tags":[],"owner":{"account_id":19417326,"reputation":1,"user_id":14200486,"display_name":"Nithin Atturu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677179446,"creation_date":1677179446,"answer_id":75549320,"question_id":27115334,"body_markdown":"Make sure you have selected the \r\n\r\nBody-&gt;RAW-&gt;Json in the Api Client and try it worked for me.","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>Make sure you have selected the</p>\n<p>Body-&gt;RAW-&gt;Json in the Api Client and try it worked for me.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688114279,"post_id":76570573,"comment_id":135033240,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76570573/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28910110,"reputation":1,"user_id":22143310,"display_name":"Vaishnavi.B"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687933717,"creation_date":1687933717,"answer_id":76570573,"question_id":27115334,"body_markdown":"you can select\r\nBody-&gt;RAW-&gt;Json in the Api Client and try it.\r\nfirstly I was using text that&#39;s why its giving me error.","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>you can select\nBody-&gt;RAW-&gt;Json in the Api Client and try it.\nfirstly I was using text that's why its giving me error.</p>\n"}],"owner":{"account_id":5385177,"reputation":153,"user_id":4289324,"display_name":"David Gildea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8254,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1687933717,"creation_date":1416867947,"question_id":27115334,"body_markdown":"I have been battling with this for a while and cant find a solution. I am running the SpringBoot guides and the Accessing JPA Data (http://spring.io/guides/gs/accessing-data-rest/) with REST is not working. \r\n\r\nJust downloading it and running it runs fine allowing a GET call to\r\n \r\n    http://localhost:8080/people \r\n\r\nusing POSTMAN. However whenever I try a PUT or POST I get the following error\r\n\r\n\r\n    {\r\n     &quot;cause&quot;: null,\r\n     &quot;message&quot;: &quot;No suitable HttpMessageConverter found to read request body into object of type           class hello.Person from request with content type of text/plain;charset=UTF-8!&quot;\r\n    }\r\n\r\n\r\nThe json I am passing with the PUT is \r\n\r\n    {\r\n    &quot;firstName&quot;: &quot;Dave&quot;,\r\n    &quot;lastName&quot;: &quot;Something&quot;\r\n    }\r\n\r\nThis is just running the vanilla project with no changes. Lots of the other guide projects work fine so I know MVN, Spring boot etc are working ok.\r\n\r\nHave tried a lot of forums but nothing suggested works.\r\n\r\nAny help would be greatly appreciated.\r\n\r\nThanks\r\nDave","title":"Accessing JPA Data with REST fails No suitable HttpMessageConverter found","body":"<p>I have been battling with this for a while and cant find a solution. I am running the SpringBoot guides and the Accessing JPA Data (<a href=\"http://spring.io/guides/gs/accessing-data-rest/\" rel=\"noreferrer\">http://spring.io/guides/gs/accessing-data-rest/</a>) with REST is not working. </p>\n\n<p>Just downloading it and running it runs fine allowing a GET call to</p>\n\n<pre><code>http://localhost:8080/people \n</code></pre>\n\n<p>using POSTMAN. However whenever I try a PUT or POST I get the following error</p>\n\n<pre><code>{\n \"cause\": null,\n \"message\": \"No suitable HttpMessageConverter found to read request body into object of type           class hello.Person from request with content type of text/plain;charset=UTF-8!\"\n}\n</code></pre>\n\n<p>The json I am passing with the PUT is </p>\n\n<pre><code>{\n\"firstName\": \"Dave\",\n\"lastName\": \"Something\"\n}\n</code></pre>\n\n<p>This is just running the vanilla project with no changes. Lots of the other guide projects work fine so I know MVN, Spring boot etc are working ok.</p>\n\n<p>Have tried a lot of forums but nothing suggested works.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>Thanks\nDave</p>\n"},{"tags":["java","spurious-wakeup"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687933525,"creation_date":1687933525,"answer_id":76570559,"question_id":76570413,"body_markdown":"Changing the `while` to an `if` would only check the condition before entering `wait`. Spurious wake-up refers to a situation where `wait` is entered _and then returns without satisfying the condition_. In this case `valueSet` could still be `false` when `wait` returns, so the check needs to be repeated.","title":"Why I can&#39;t check spurious wakeup by if condition instead of while loop","body":"<p>Changing the <code>while</code> to an <code>if</code> would only check the condition before entering <code>wait</code>. Spurious wake-up refers to a situation where <code>wait</code> is entered <em>and then returns without satisfying the condition</em>. In this case <code>valueSet</code> could still be <code>false</code> when <code>wait</code> returns, so the check needs to be repeated.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76570559,"answer_count":1,"score":0,"last_activity_date":1687933525,"creation_date":1687931975,"question_id":76570413,"body_markdown":"I&#39;m currently reading *Java The Complete Reference* book, multithread section.\r\nThere is an example about handling **spurious wakeup**.\r\nIt&#39;s the classic producer-consumer example that I bring `get()` method here:\r\n\r\n    synchronized int get() {\r\n        while(!valueSet)\r\n            try {\r\n                wait();\r\n            } catch(InterruptedException e) {\r\n                System.out.println(&quot;InterruptedException caught&quot;);\r\n            }\r\n        System.out.println(&quot;Got: &quot; + n);\r\n        valueSet = false;\r\n        notify();\r\n        return n;\r\n    }\r\n\r\nConsider that I change the keyword `while` to `if`.\r\n\r\nEven with **spurious wakeup** of the related thread the **if condition** will be checked. So I wonder why we should call to `wait()` within a **loop**?","title":"Why I can&#39;t check spurious wakeup by if condition instead of while loop","body":"<p>I'm currently reading <em>Java The Complete Reference</em> book, multithread section.\nThere is an example about handling <strong>spurious wakeup</strong>.\nIt's the classic producer-consumer example that I bring <code>get()</code> method here:</p>\n<pre><code>synchronized int get() {\n    while(!valueSet)\n        try {\n            wait();\n        } catch(InterruptedException e) {\n            System.out.println(&quot;InterruptedException caught&quot;);\n        }\n    System.out.println(&quot;Got: &quot; + n);\n    valueSet = false;\n    notify();\n    return n;\n}\n</code></pre>\n<p>Consider that I change the keyword <code>while</code> to <code>if</code>.</p>\n<p>Even with <strong>spurious wakeup</strong> of the related thread the <strong>if condition</strong> will be checked. So I wonder why we should call to <code>wait()</code> within a <strong>loop</strong>?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1561355749,"post_id":56730546,"comment_id":100020323,"body_markdown":"Can you check the value of `_paymentInstrument.getOrderId()`?","body":"Can you check the value of <code>_paymentInstrument.getOrderId()</code>?"},{"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"score":0,"creation_date":1561355978,"post_id":56730546,"comment_id":100020401,"body_markdown":"Wait i debug and show the result.","body":"Wait i debug and show the result."},{"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"score":0,"creation_date":1561356057,"post_id":56730546,"comment_id":100020424,"body_markdown":"Yes it has a value and result &quot;1161&quot;.","body":"Yes it has a value and result &quot;1161&quot;."},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1561356236,"post_id":56730546,"comment_id":100020478,"body_markdown":"Can you put the error and the stacktrace in the question?","body":"Can you put the error and the stacktrace in the question?"},{"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"score":0,"creation_date":1561356604,"post_id":56730546,"comment_id":100020603,"body_markdown":"@Rashin Exception is java.lang.illegalargumentexception map has no value for &quot;orderId&quot; . detailMessage of the exception also Map has no value for &#39;orderId&#39;.","body":"@Rashin Exception is java.lang.illegalargumentexception map has no value for &quot;orderId&quot; . detailMessage of the exception also Map has no value for &#39;orderId&#39;."},{"owner":{"account_id":2923083,"reputation":746,"user_id":2504962,"display_name":"Rashin"},"score":0,"creation_date":1561356873,"post_id":56730546,"comment_id":100020683,"body_markdown":"Yes I saw in the question but the whole stacktrace would help. :)","body":"Yes I saw in the question but the whole stacktrace would help. :)"},{"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"score":0,"creation_date":1561357126,"post_id":56730546,"comment_id":100020775,"body_markdown":"@Das_J, what is the value of getEnvironment().getProperty(IPG_TRANSACTION_URL)","body":"@Das_J, what is the value of getEnvironment().getProperty(IPG_TRANSACTION_URL)"},{"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"score":0,"creation_date":1561358781,"post_id":56730546,"comment_id":100021466,"body_markdown":"@TechFree. I found what i went wrong it is i missed the parameter name orderid as orderId. Thanks for the direction .","body":"@TechFree. I found what i went wrong it is i missed the parameter name orderid as orderId. Thanks for the direction ."}],"answers":[{"tags":[],"owner":{"account_id":9847480,"reputation":1,"user_id":7294532,"display_name":"Khaleel Sayyad"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1619278740,"creation_date":1619266614,"answer_id":67242680,"question_id":56730546,"body_markdown":"1. Check typo mistakes for `orderId`   \r\n2. If you declare dynamic values in property file, compare name with property Ex: `{orderId}`","title":"java.lang.IllegalArgumentException map has no value for &quot;orderId&quot; in Spring Restful service","body":"<ol>\n<li>Check typo mistakes for <code>orderId</code></li>\n<li>If you declare dynamic values in property file, compare name with property Ex: <code>{orderId}</code></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1435254,"reputation":29439,"user_id":4826457,"display_name":"Suraj Rao"},"score":4,"creation_date":1635921095,"post_id":69820513,"comment_id":123417738,"body_markdown":"While this code may solve the question, [including an explanation](//meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please [edit] your answer to add explanations and give an indication of what limitations and assumptions apply.","body":"While this code may solve the question, <a href=\"//meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/69820513/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}],"tags":[],"owner":{"account_id":12152139,"reputation":1,"user_id":8872067,"display_name":"Trill Stones "},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635921083,"creation_date":1635921052,"answer_id":69820513,"question_id":56730546,"body_markdown":"    UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url).queryParam(&quot;criterion&quot;, criterion);\r\n    Product product = restTemplate.getForObject(builder.build().toUri(), Product.class);","title":"java.lang.IllegalArgumentException map has no value for &quot;orderId&quot; in Spring Restful service","body":"<pre><code>UriComponentsBuilder builder = UriComponentsBuilder.fromUriString(url).queryParam(&quot;criterion&quot;, criterion);\nProduct product = restTemplate.getForObject(builder.build().toUri(), Product.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28900151,"reputation":1,"user_id":22135313,"display_name":"Mehmet Ekinci"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687932988,"creation_date":1687810006,"answer_id":76559927,"question_id":56730546,"body_markdown":"I also faced the same problem. in my case, if I assign a key value pair to a variable like this : \r\n\r\ndon&#39;t do that\r\n\r\n    uriVariables.put(&quot;from&quot;, fromValue);\r\n\r\ndo that\r\n\r\n    uriVariables.put(&quot;fromValue&quot;, fromValue); \r\n\r\nIn a HashMap type, the key must always be the same as the dynamic variables in the url I&#39;m going to use.\r\n\r\nCode example here\r\n\r\n  \r\n    @GetMapping(&quot;/currency-conversion/from/{fromValue}/to/{toValue}/quantity/{quantity}&quot;)\r\n      public CurrencyConversion calculateCurrencyConversion(@PathVariable String fromValue,\r\n          @PathVariable String toValue, @PathVariable BigDecimal quantity) {\r\n    \r\n        HashMap&lt;String, String&gt; uriVariables = new HashMap&lt;&gt;();\r\n        uriVariables.put(&quot;fromValue&quot;, fromValue);\r\n        uriVariables.put(&quot;toValue&quot;, toValue);\r\n        ResponseEntity&lt;CurrencyConversion&gt; responseEntity = new RestTemplate().getForEntity(\r\n            &quot;http://localhost:8000/currency-exchange/from/{fromValue}/to/{toValue}&quot;,\r\n            CurrencyConversion.class, uriVariables);\r\n    \r\n        CurrencyConversion currencyConversion = responseEntity.getBody();\r\n    \r\n        return new CurrencyConversion(currencyConversion.getId(), fromValue, toValue,\r\n            currencyConversion.getConversionMultiple(), quantity,\r\n            quantity.multiply(currencyConversion.getConversionMultiple()),\r\n            currencyConversion.getEnvironment());\r\n      };\r\n","title":"java.lang.IllegalArgumentException map has no value for &quot;orderId&quot; in Spring Restful service","body":"<p>I also faced the same problem. in my case, if I assign a key value pair to a variable like this :</p>\n<p>don't do that</p>\n<pre><code>uriVariables.put(&quot;from&quot;, fromValue);\n</code></pre>\n<p>do that</p>\n<pre><code>uriVariables.put(&quot;fromValue&quot;, fromValue); \n</code></pre>\n<p>In a HashMap type, the key must always be the same as the dynamic variables in the url I'm going to use.</p>\n<p>Code example here</p>\n<pre><code>@GetMapping(&quot;/currency-conversion/from/{fromValue}/to/{toValue}/quantity/{quantity}&quot;)\n  public CurrencyConversion calculateCurrencyConversion(@PathVariable String fromValue,\n      @PathVariable String toValue, @PathVariable BigDecimal quantity) {\n\n    HashMap&lt;String, String&gt; uriVariables = new HashMap&lt;&gt;();\n    uriVariables.put(&quot;fromValue&quot;, fromValue);\n    uriVariables.put(&quot;toValue&quot;, toValue);\n    ResponseEntity&lt;CurrencyConversion&gt; responseEntity = new RestTemplate().getForEntity(\n        &quot;http://localhost:8000/currency-exchange/from/{fromValue}/to/{toValue}&quot;,\n        CurrencyConversion.class, uriVariables);\n\n    CurrencyConversion currencyConversion = responseEntity.getBody();\n\n    return new CurrencyConversion(currencyConversion.getId(), fromValue, toValue,\n        currencyConversion.getConversionMultiple(), quantity,\n        quantity.multiply(currencyConversion.getConversionMultiple()),\n        currencyConversion.getEnvironment());\n  };\n</code></pre>\n"}],"owner":{"account_id":15987282,"reputation":71,"user_id":11537324,"display_name":"Das_J"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5983,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1687932988,"creation_date":1561355624,"question_id":56730546,"body_markdown":"I&#39;m working on a Payment related Restful service. when I try to call the API it occurs an exception called `java.lang.IllegalArgumentException` map has no value for `orderId`\r\n\r\nAs a background, I created HttpHeaders and LinkedMultiValueMap and put values to it and called the API.\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n\tLinkedMultiValueMap&lt;String, String&gt; uriVars = new LinkedMultiValueMap&lt;&gt;();\r\n\turiVars.add(&quot;merchantId&quot;, _paymentInstrument.getAcquirerMid());\r\n\turiVars.add(&quot;orderId&quot;, _paymentInstrument.getOrderId().toString());\r\n\turiVars.add(&quot;transactionId&quot;, _paymentInstrument.getTransactionId().toString());\r\n\t\t\r\n\tVoidRequest voidRequest = createVoidRequest(_paymentInstrument.getTargetTransactionId());\r\n\tHttpEntity&lt;VoidRequest&gt; requestEntity = new HttpEntity&lt;&gt;(voidRequest, headers);\r\n\tTransactionResponse voidResponse = null;\r\n\ttry {\r\n\t\tResponseEntity&lt;TransactionResponse&gt; responseEntity = restTemplate.exchange(getEnvironment().getProperty(IPG_TRANSACTION_URL), \r\n\t\t\tHttpMethod.PUT, requestEntity, TransactionResponse.class, uriVars);\r\n\t\t\tvoidResponse = responseEntity.getBody();\r\n\t\t\tlog.info(LogSupport.PG_LOGS_CARGILLS_VOID_TRX + &quot;[AcquirerMID ={};TransactionId ={};ResponseCode={};ResponseText={}]&quot;, _paymentInstrument.getAcquirerMid(), \r\n\t\t\t\t\t_paymentInstrument.getTransactionId(), voidResponse.getResponse().getAcquirerCode(), voidResponse.getResponse().getAcquirerMessage());\r\n\t} catch (ResourceAccessException rae) {\r\n\t\tthrow rae;\r\n\t} catch (Exception e) {     \r\n        voidResponse = new TransactionResponse();\r\n        voidResponse.setResult(&quot;ERROR&quot;);\r\n        ErrorResponse error = new ErrorResponse();\r\n        error.setCause(&quot;EXCEPTION&quot;);\r\n        error.setExplanation(e.getMessage());\r\n\t}\r\n\t\t\r\n\r\nThis occurs an exception java.lang.IllegalArgumentException map has no value for &quot;orderId&quot;.\r\n","title":"java.lang.IllegalArgumentException map has no value for &quot;orderId&quot; in Spring Restful service","body":"<p>I'm working on a Payment related Restful service. when I try to call the API it occurs an exception called <code>java.lang.IllegalArgumentException</code> map has no value for <code>orderId</code></p>\n\n<p>As a background, I created HttpHeaders and LinkedMultiValueMap and put values to it and called the API.</p>\n\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nLinkedMultiValueMap&lt;String, String&gt; uriVars = new LinkedMultiValueMap&lt;&gt;();\nuriVars.add(\"merchantId\", _paymentInstrument.getAcquirerMid());\nuriVars.add(\"orderId\", _paymentInstrument.getOrderId().toString());\nuriVars.add(\"transactionId\", _paymentInstrument.getTransactionId().toString());\n\nVoidRequest voidRequest = createVoidRequest(_paymentInstrument.getTargetTransactionId());\nHttpEntity&lt;VoidRequest&gt; requestEntity = new HttpEntity&lt;&gt;(voidRequest, headers);\nTransactionResponse voidResponse = null;\ntry {\n    ResponseEntity&lt;TransactionResponse&gt; responseEntity = restTemplate.exchange(getEnvironment().getProperty(IPG_TRANSACTION_URL), \n        HttpMethod.PUT, requestEntity, TransactionResponse.class, uriVars);\n        voidResponse = responseEntity.getBody();\n        log.info(LogSupport.PG_LOGS_CARGILLS_VOID_TRX + \"[AcquirerMID ={};TransactionId ={};ResponseCode={};ResponseText={}]\", _paymentInstrument.getAcquirerMid(), \n                _paymentInstrument.getTransactionId(), voidResponse.getResponse().getAcquirerCode(), voidResponse.getResponse().getAcquirerMessage());\n} catch (ResourceAccessException rae) {\n    throw rae;\n} catch (Exception e) {     \n    voidResponse = new TransactionResponse();\n    voidResponse.setResult(\"ERROR\");\n    ErrorResponse error = new ErrorResponse();\n    error.setCause(\"EXCEPTION\");\n    error.setExplanation(e.getMessage());\n}\n</code></pre>\n\n<p>This occurs an exception java.lang.IllegalArgumentException map has no value for \"orderId\".</p>\n"},{"tags":["java","gradle","intellij-idea","gnupg","maven-central"],"answers":[{"comments":[{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1653690387,"post_id":72411149,"comment_id":127920533,"body_markdown":"Thank you. I&#39;m fairly new to gradle and groovy, so anything that helps rule out something helps quite a bit. &quot;Gradle relies on java.io.File&quot;. In other words i could write the path as: signing.secretKeyRingFile=/Users/username/secring.gpg instead. I actually placed gradle.properties files in 3 places now: The gradle-wrapper.properties in the wrapper folder. One under C:\\Users\\username\\.gradle (Should be my GRADLE_USER_HOME directory right? Any gradle command i could use to be sure of this?) And a final properties file in the same folder as the gradle.build file. All with the same content.","body":"Thank you. I&#39;m fairly new to gradle and groovy, so anything that helps rule out something helps quite a bit. &quot;Gradle relies on java.io.File&quot;. In other words i could write the path as: signing.secretKeyRingFile=/Users/username/secring.gpg instead. I actually placed gradle.properties files in 3 places now: The gradle-wrapper.properties in the wrapper folder. One under C:\\Users\\username\\.gradle (Should be my GRADLE_USER_HOME directory right? Any gradle command i could use to be sure of this?) And a final properties file in the same folder as the gradle.build file. All with the same content."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1653690400,"post_id":72411149,"comment_id":127920536,"body_markdown":"I have also tried with both ./gradlew publish and gradle publish. One thing i am unsure about, is that I recently updated gradle from v 6.2 to 7.4.2. So i would not be surprised if the issue is related to this. I wish i could pin point the exact reason for the task failiure. Maybe i haven&#39;t properly set up sonatype jira.","body":"I have also tried with both ./gradlew publish and gradle publish. One thing i am unsure about, is that I recently updated gradle from v 6.2 to 7.4.2. So i would not be surprised if the issue is related to this. I wish i could pin point the exact reason for the task failiure. Maybe i haven&#39;t properly set up sonatype jira."},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1653692604,"post_id":72411149,"comment_id":127920886,"body_markdown":"Could there be some security issue with windows? I&#39;m sorry for all the counter questions :)","body":"Could there be some security issue with windows? I&#39;m sorry for all the counter questions :)"},{"owner":{"account_id":59188,"reputation":5386,"user_id":177154,"accept_rate":100,"display_name":"draganstankovic"},"score":0,"creation_date":1653705365,"post_id":72411149,"comment_id":127922366,"body_markdown":"Ideally you would put your secring in the current folder so your path could be:\n`signing.secretKeyRingFile=secring.gpg`","body":"Ideally you would put your secring in the current folder so your path could be: <code>signing.secretKeyRingFile=secring.gpg</code>"},{"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"score":0,"creation_date":1653746409,"post_id":72411149,"comment_id":127928649,"body_markdown":"Ok. Do you know if you have to run any other tasks before gradle publish? Given my build structure.","body":"Ok. Do you know if you have to run any other tasks before gradle publish? Given my build structure."}],"tags":[],"owner":{"account_id":59188,"reputation":5386,"user_id":177154,"accept_rate":100,"display_name":"draganstankovic"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653706166,"creation_date":1653686101,"answer_id":72411149,"question_id":72409742,"body_markdown":"The error piece:\r\n\r\n```\r\n\r\n&gt; Cannot perform signing task &#39;:signMavenJavaPublication&#39; because it has no configured signatory\r\n\r\n```\r\nbasically says that your signing task is not able to figure out the signature info it needs to execute. Most likely it cannot find your `gradle-wrapper.properties` file.\r\nWhat you can do is to try to put them in the main `gradle.properties` file and see how it goes. \r\n\r\nAs for the folders: Gradle relies on `java.io.File` for its path related operations which means it should be able to handle forward slashes as well.\r\n\r\nA good approach, especially when you are setting up a new configuration and you see it failing for path reasons, is to put everything straight into the folder where you&#39;re **sure** Gradle (or any other system/build) is able to see it. In your case that would be either gradle home or same folder where your build.gradle is. Then, after you get everything to work, you can reorganize and put configs however you like.\r\n\r\n**EDIT**: \r\n\r\nIt is also always a good idea to find a way how to printout something while your build / script / whatever is executing. So, for Gradle you can use println to print a property name:\r\n\r\n```\r\ntask printSigning {\r\n    println(project.findProperty(&#39;signing&#39;).secretKeyRingFile)\r\n}\r\n```\r\n\r\nOr you can print a current directory:\r\n\r\n```\r\ntask currentDir {\r\n    println file(&#39;.&#39;)\r\n}\r\n```\r\n\r\nI hope that this helps a bit.\r\n\r\nBelow questions might contain some more details and give you a hint too:\r\n\r\nhttps://stackoverflow.com/a/67115705/177154\r\n\r\nhttps://stackoverflow.com/a/68505768/177154","title":"Gradle task: signMavenJavaPublication failed because it has no configured signatory","body":"<p>The error piece:</p>\n<pre><code>\n&gt; Cannot perform signing task ':signMavenJavaPublication' because it has no configured signatory\n\n</code></pre>\n<p>basically says that your signing task is not able to figure out the signature info it needs to execute. Most likely it cannot find your <code>gradle-wrapper.properties</code> file.\nWhat you can do is to try to put them in the main <code>gradle.properties</code> file and see how it goes.</p>\n<p>As for the folders: Gradle relies on <code>java.io.File</code> for its path related operations which means it should be able to handle forward slashes as well.</p>\n<p>A good approach, especially when you are setting up a new configuration and you see it failing for path reasons, is to put everything straight into the folder where you're <strong>sure</strong> Gradle (or any other system/build) is able to see it. In your case that would be either gradle home or same folder where your build.gradle is. Then, after you get everything to work, you can reorganize and put configs however you like.</p>\n<p><strong>EDIT</strong>:</p>\n<p>It is also always a good idea to find a way how to printout something while your build / script / whatever is executing. So, for Gradle you can use println to print a property name:</p>\n<pre><code>task printSigning {\n    println(project.findProperty('signing').secretKeyRingFile)\n}\n</code></pre>\n<p>Or you can print a current directory:</p>\n<pre><code>task currentDir {\n    println file('.')\n}\n</code></pre>\n<p>I hope that this helps a bit.</p>\n<p>Below questions might contain some more details and give you a hint too:</p>\n<p><a href=\"https://stackoverflow.com/a/67115705/177154\">https://stackoverflow.com/a/67115705/177154</a></p>\n<p><a href=\"https://stackoverflow.com/a/68505768/177154\">https://stackoverflow.com/a/68505768/177154</a></p>\n"},{"tags":[],"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687932893,"creation_date":1680690549,"answer_id":75938327,"question_id":72409742,"body_markdown":"If you are getting this error in 2023 with Gradle 7+:\r\n\r\nTake a look at this step by step guide with \r\ncode examples for &quot;how to publish to maven central with Gradle&quot;. \r\n\r\n https://github.com/davidweber411/how-to-publish-to-maven-central-with-gradle\r\n\r\nPS: I am the author.","title":"Gradle task: signMavenJavaPublication failed because it has no configured signatory","body":"<p>If you are getting this error in 2023 with Gradle 7+:</p>\n<p>Take a look at this step by step guide with\ncode examples for &quot;how to publish to maven central with Gradle&quot;.</p>\n<p><a href=\"https://github.com/davidweber411/how-to-publish-to-maven-central-with-gradle\" rel=\"nofollow noreferrer\">https://github.com/davidweber411/how-to-publish-to-maven-central-with-gradle</a></p>\n<p>PS: I am the author.</p>\n"}],"owner":{"account_id":18697201,"reputation":147,"user_id":13727252,"display_name":"Dahl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1639,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1687932893,"creation_date":1653676487,"question_id":72409742,"body_markdown":"I am trying to publish a Java library to maven central repository.\r\nI have never done this before. This project is for testing purposes. When I figure out\r\nhow to properly publish a project, I will then publish an actual library.\r\nMy goal is to be able to add this project as a dependency for other projects.\r\nI know I could include it as a .jar, but I want to learn about other ways of importing dependencies.\r\n\r\nWhile running the task:\r\n\r\n```\r\n./gradlew publish\r\n```\r\nin my project root folder, I get the build **error**:\r\n\r\n```\r\n&gt; Task :signMavenJavaPublication FAILED\r\nCaching disabled for task &#39;:signMavenJavaPublication&#39; because:\r\n  Build cache is disabled\r\nTask &#39;:signMavenJavaPublication&#39; is not up-to-date because:\r\n  Task has failed previously.\r\n:signMavenJavaPublication (Thread[Execution worker for &#39;:&#39;,5,main]) completed. Took 0.004 secs.\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:signMavenJavaPublication&#39;.\r\n&gt; Cannot perform signing task &#39;:signMavenJavaPublication&#39; because it has no configured signatory\r\n\r\n```\r\n**EDIT:**\r\nI have made some progress. I will post this at the bottom of the question.\r\n\r\nFor the past four days, I have been trying to figure out why. **I will post the build code further below**, but first I will go through all the steps I followed to be able to publish to the central repository in the first place.\r\n\r\n\r\n\r\nMy gradle experience is limited, but I think I know the basics.\r\n\r\nI have read various documentation on:\r\n\r\n[central.sonatype.org][1]\r\n\r\n[Gradle][2]\r\n\r\nfor how to publish / sign. I don&#39;t know exactly what i am doing or why.\r\n\r\n 1. Apply for a GroupID on Sonatype Jira. This issue/ticket is resolved. And I should be able to publish SNAPSHOT and release artifacts to [s01.oss.sonatype.org][3]. My GroupID is my github domain. So, as far as I know, this lets me publish my projects / libraries under &quot;*io.github.username*&quot;.\r\n\r\n2. Download and set up [GnuPG][4]:\r\n\r\nAt some point in the set up I was asked to create a GnuPG password (signing.password).\r\nDon&#39;t remember when.\r\n\r\n```\r\ngpg --gen-key\r\n```\r\nEntering my name and email. Now I can type:\r\n```\r\ngpg -K\r\n```\r\nAnd I get the following (not actual values):\r\n```\r\nsec   ed25519 2022-05-25 [SC] [expires: 2024-05-24]\r\n      ****************************************\r\nuid           [ultimate] My Name &lt;my-email@mail.com&gt;\r\nssb   cv25519 2022-05-25 [E] [expires: 2024-05-24]\r\n```\r\nSo, the **************************************** is the password I am using. (the final 8 digits).\r\nNow I export the key.(I think it creates my secret key right?):\r\n```\r\ngpg --export-secret-keys ******** &gt; C:\\users\\username\\secring.gpg\r\n```\r\nAs far as I know, this could be any folder. As long as the folder corresponds to the:\r\n```\r\nsigning.secretKeyRingFile=\\users\\username\\secring.gpg\r\n```\r\nin the gradle.properties file.\r\nAlso, what would be the correct way to type this?\r\n```\r\nsigning.secretKeyRingFile=\\users\\username\\secring.gpg\r\nsigning.secretKeyRingFile=C:\\users\\username\\secring.gpg\r\nsigning.secretKeyRingFile=C:\\\\users\\\\username\\\\secring.gpg\r\nsigning.secretKeyRingFile=&quot;C:\\\\users\\\\username\\\\secring.gpg&quot;\r\n```\r\n(I think I have tried all the variations)\r\n\r\nThen I need to send the public key to some key server. And there are some alternatives:\r\n\r\n - keyserver.ubuntu.com\r\n - keys.openpgp.org\r\n - pgp.mit.edu\r\n\r\nI have tried to send it to all of them.\r\n\r\n```\r\ngpg --keyserver hkp://keyserver.ubuntu.com --send-keys ****************************************\r\n```\r\nAnd to can check if the server received the key:\r\n```\r\ngpg --keyserver hkp://keyserver.ubuntu.com --search-key &#39;my-email@mail.com&#39;\r\n```\r\nAnd they got it. At least the server responds with the last 16 or so digits of the key.\r\n\r\n3. So at this point I set up a simple java test project named &quot;Storage&quot;. Pushing it to my github repo. under the same name.\r\n\r\n[![Structure][5]][5]\r\n\r\n4. And now we can get to the gradle files. Keep in mind, I&#39;m not entirely sure if this is correct. If I left out something, or something is unnecessary. Please let me know. \r\n\r\n**build.gradle**\r\n```\r\nplugins {\r\n    id &#39;java-library&#39;\r\n    id &#39;signing&#39;\r\n    id &#39;maven-publish&#39;\r\n}\r\n\r\ngroup &#39;io.github.username&#39;\r\nversion &#39;0.0.1&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\r\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\r\n}\r\n\r\ndependencies {}\r\n\r\njava {\r\n    withJavadocJar()\r\n    withSourcesJar()\r\n}\r\n\r\n\r\npublishing {\r\n    publications {\r\n        mavenJava(MavenPublication) {\r\n\r\n            groupId = &#39;io.github.username&#39;\r\n            artifactId = &#39;storage&#39;\r\n            version = &#39;0.0.1&#39;\r\n            from components.java\r\n\r\n            pom {\r\n                name = &#39;Storage&#39;\r\n                description = &#39;Storage is an open-source Java library test&#39;\r\n                url = &#39;https://github.com/username/Storage&#39;\r\n                inceptionYear = &#39;2022&#39;\r\n\r\n                licenses {\r\n                    license {\r\n                        name = &#39;MIT License&#39;\r\n                        url = &#39;http://www.opensource.org/licenses/mit-license.php&#39;\r\n                    }\r\n                }\r\n                developers {\r\n                    developer {\r\n                        id = &#39;sonatype-username&#39;\r\n                        name = &#39;Full Name&#39;\r\n                        email = &#39;my-email@mail.com&#39;\r\n                    }\r\n                }\r\n                scm {\r\n                    connection = &#39;scm:git:git://github.com/username/Storage.git&#39;\r\n                    developerConnection = &#39;scm:git:ssh://github.com/username/Storage.git&#39;\r\n                    url = &#39;https://github.com/username/Storage&#39;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    repositories {\r\n        maven {\r\n            name = &quot;OSSRH&quot;\r\n            url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&quot;\r\n            credentials {\r\n                username = project.properties[&quot;ossrhUsername&quot;]\r\n                password = project.properties[&quot;ossrhPassword&quot;]\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nsigning {\r\n    sign publishing.publications.mavenJava\r\n}\r\n\r\njavadoc {\r\n    if(JavaVersion.current().isJava9Compatible()) {\r\n        options.addBooleanOption(&#39;html5&#39;, true)\r\n    }\r\n}\r\n```\r\n**gradle-wrapper.properties**\r\n```\r\n# auto-generated\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n\r\n# Sonatype variables\r\nossrhUsername=username\r\nossrhPassword=password\r\n\r\n# GnuPG\r\nsigning.keyId=********\r\nsinging.password=GnpPassword\r\nsigning.secretKeyRingFile=\\Users\\username\\secring.gpg\r\n```\r\n\r\n**settings.gradle**\r\n```\r\nrootProject.name = &#39;Storage&#39;\r\n```\r\n\r\nThat should be it. But I can include versions of various software/tools:\r\n - OS Windows 10\r\n - GnuPG 2.3.6\r\n - Gradle 7.4.2\r\n - Java 13.0.1\r\n - Groovy 3.0.9\r\n\r\n**PROGRESS:**\r\n\r\nI got the project published to [Nexus repository manager][6].\r\nSo I know for a fact that `build.gradle` can access my `gradle.properties` file and can read it&#39;s content.\r\n\r\nI got the publish task to work by excluding the signing part.\r\n\r\nI have sent my key (two keys now) to both:\r\n\r\n - keyserver.ubuntu.com\r\n - pgp.mit.edu\r\n\r\nkeys.openpgp.org does not seem to work. I get `gpg: keyserver send failed: Certificate expired`\r\n\r\nWhen i send a key to a server I use the FULL KEY ID.\r\n\r\nI can query a server to see if they in fact received the keys: `gpg --keyserver hkp://keyserver.ubuntu.com --search-key &#39;my-email@mail.com&#39;`\r\n\r\nAnd both servers have received 2 keys:\r\n\r\n```\r\n(1)     My Name &lt;my-email@mail.com&gt;\r\n          263 bit EDDSA key ****************, created: 2022-05-28\r\n(2)     My Name &lt;my-email@mail.com&gt;\r\n          263 bit EDDSA key ****************, created: 2022-05-25\r\nKeys 1-2 of 2 for &quot;my-email@mail.com&quot;.  Enter number(s), N)ext, or Q)uit &gt;\r\n\r\n```\r\nThe **************** is in fact the last numerals of my keys. It has to be right. Should I only send the last 8 numerals of the key to a server?\r\n\r\nAnd the `singing.password` I use is the same choose when creating a key.\r\n\r\nBut for some esoteric reason. The signing still does not work. Is there no way to pinpoint the EXACT reason for failure?\r\n\r\nPlease, take a look at my `build.gradle`. Is there an alternative way to publishing / signing i could try instead?\r\n\r\nDoes the name of the secret key file matter? `secring.gpg`\r\n\r\n\r\n\r\n\r\n  [1]: https://central.sonatype.org/publish/\r\n  [2]: https://xy2401.com/local-docs/java/gradle-6.0.1/signing_plugin.html#sec:signatory_credentials\r\n  [3]: https://s01.oss.sonatype.org\r\n  [4]: https://gnupg.org/download/\r\n  [5]: https://i.stack.imgur.com/BT93L.png\r\n  [6]: https://s01.oss.sonatype.org/","title":"Gradle task: signMavenJavaPublication failed because it has no configured signatory","body":"<p>I am trying to publish a Java library to maven central repository.\nI have never done this before. This project is for testing purposes. When I figure out\nhow to properly publish a project, I will then publish an actual library.\nMy goal is to be able to add this project as a dependency for other projects.\nI know I could include it as a .jar, but I want to learn about other ways of importing dependencies.</p>\n<p>While running the task:</p>\n<pre><code>./gradlew publish\n</code></pre>\n<p>in my project root folder, I get the build <strong>error</strong>:</p>\n<pre><code>&gt; Task :signMavenJavaPublication FAILED\nCaching disabled for task ':signMavenJavaPublication' because:\n  Build cache is disabled\nTask ':signMavenJavaPublication' is not up-to-date because:\n  Task has failed previously.\n:signMavenJavaPublication (Thread[Execution worker for ':',5,main]) completed. Took 0.004 secs.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':signMavenJavaPublication'.\n&gt; Cannot perform signing task ':signMavenJavaPublication' because it has no configured signatory\n\n</code></pre>\n<p><strong>EDIT:</strong>\nI have made some progress. I will post this at the bottom of the question.</p>\n<p>For the past four days, I have been trying to figure out why. <strong>I will post the build code further below</strong>, but first I will go through all the steps I followed to be able to publish to the central repository in the first place.</p>\n<p>My gradle experience is limited, but I think I know the basics.</p>\n<p>I have read various documentation on:</p>\n<p><a href=\"https://central.sonatype.org/publish/\" rel=\"nofollow noreferrer\">central.sonatype.org</a></p>\n<p><a href=\"https://xy2401.com/local-docs/java/gradle-6.0.1/signing_plugin.html#sec:signatory_credentials\" rel=\"nofollow noreferrer\">Gradle</a></p>\n<p>for how to publish / sign. I don't know exactly what i am doing or why.</p>\n<ol>\n<li><p>Apply for a GroupID on Sonatype Jira. This issue/ticket is resolved. And I should be able to publish SNAPSHOT and release artifacts to <a href=\"https://s01.oss.sonatype.org\" rel=\"nofollow noreferrer\">s01.oss.sonatype.org</a>. My GroupID is my github domain. So, as far as I know, this lets me publish my projects / libraries under &quot;<em>io.github.username</em>&quot;.</p>\n</li>\n<li><p>Download and set up <a href=\"https://gnupg.org/download/\" rel=\"nofollow noreferrer\">GnuPG</a>:</p>\n</li>\n</ol>\n<p>At some point in the set up I was asked to create a GnuPG password (signing.password).\nDon't remember when.</p>\n<pre><code>gpg --gen-key\n</code></pre>\n<p>Entering my name and email. Now I can type:</p>\n<pre><code>gpg -K\n</code></pre>\n<p>And I get the following (not actual values):</p>\n<pre><code>sec   ed25519 2022-05-25 [SC] [expires: 2024-05-24]\n      ****************************************\nuid           [ultimate] My Name &lt;my-email@mail.com&gt;\nssb   cv25519 2022-05-25 [E] [expires: 2024-05-24]\n</code></pre>\n<p>So, the **************************************** is the password I am using. (the final 8 digits).\nNow I export the key.(I think it creates my secret key right?):</p>\n<pre><code>gpg --export-secret-keys ******** &gt; C:\\users\\username\\secring.gpg\n</code></pre>\n<p>As far as I know, this could be any folder. As long as the folder corresponds to the:</p>\n<pre><code>signing.secretKeyRingFile=\\users\\username\\secring.gpg\n</code></pre>\n<p>in the gradle.properties file.\nAlso, what would be the correct way to type this?</p>\n<pre><code>signing.secretKeyRingFile=\\users\\username\\secring.gpg\nsigning.secretKeyRingFile=C:\\users\\username\\secring.gpg\nsigning.secretKeyRingFile=C:\\\\users\\\\username\\\\secring.gpg\nsigning.secretKeyRingFile=&quot;C:\\\\users\\\\username\\\\secring.gpg&quot;\n</code></pre>\n<p>(I think I have tried all the variations)</p>\n<p>Then I need to send the public key to some key server. And there are some alternatives:</p>\n<ul>\n<li>keyserver.ubuntu.com</li>\n<li>keys.openpgp.org</li>\n<li>pgp.mit.edu</li>\n</ul>\n<p>I have tried to send it to all of them.</p>\n<pre><code>gpg --keyserver hkp://keyserver.ubuntu.com --send-keys ****************************************\n</code></pre>\n<p>And to can check if the server received the key:</p>\n<pre><code>gpg --keyserver hkp://keyserver.ubuntu.com --search-key 'my-email@mail.com'\n</code></pre>\n<p>And they got it. At least the server responds with the last 16 or so digits of the key.</p>\n<ol start=\"3\">\n<li>So at this point I set up a simple java test project named &quot;Storage&quot;. Pushing it to my github repo. under the same name.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/BT93L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BT93L.png\" alt=\"Structure\" /></a></p>\n<ol start=\"4\">\n<li>And now we can get to the gradle files. Keep in mind, I'm not entirely sure if this is correct. If I left out something, or something is unnecessary. Please let me know.</li>\n</ol>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java-library'\n    id 'signing'\n    id 'maven-publish'\n}\n\ngroup 'io.github.username'\nversion '0.0.1'\n\nrepositories {\n    mavenCentral()\n    maven { url &quot;http://repo.maven.apache.org/maven2&quot; }\n    maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; }\n}\n\ndependencies {}\n\njava {\n    withJavadocJar()\n    withSourcesJar()\n}\n\n\npublishing {\n    publications {\n        mavenJava(MavenPublication) {\n\n            groupId = 'io.github.username'\n            artifactId = 'storage'\n            version = '0.0.1'\n            from components.java\n\n            pom {\n                name = 'Storage'\n                description = 'Storage is an open-source Java library test'\n                url = 'https://github.com/username/Storage'\n                inceptionYear = '2022'\n\n                licenses {\n                    license {\n                        name = 'MIT License'\n                        url = 'http://www.opensource.org/licenses/mit-license.php'\n                    }\n                }\n                developers {\n                    developer {\n                        id = 'sonatype-username'\n                        name = 'Full Name'\n                        email = 'my-email@mail.com'\n                    }\n                }\n                scm {\n                    connection = 'scm:git:git://github.com/username/Storage.git'\n                    developerConnection = 'scm:git:ssh://github.com/username/Storage.git'\n                    url = 'https://github.com/username/Storage'\n                }\n            }\n        }\n    }\n    repositories {\n        maven {\n            name = &quot;OSSRH&quot;\n            url = &quot;https://s01.oss.sonatype.org/service/local/staging/deploy/maven2/&quot;\n            credentials {\n                username = project.properties[&quot;ossrhUsername&quot;]\n                password = project.properties[&quot;ossrhPassword&quot;]\n            }\n        }\n    }\n}\n\nsigning {\n    sign publishing.publications.mavenJava\n}\n\njavadoc {\n    if(JavaVersion.current().isJava9Compatible()) {\n        options.addBooleanOption('html5', true)\n    }\n}\n</code></pre>\n<p><strong>gradle-wrapper.properties</strong></p>\n<pre><code># auto-generated\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.4.2-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n\n# Sonatype variables\nossrhUsername=username\nossrhPassword=password\n\n# GnuPG\nsigning.keyId=********\nsinging.password=GnpPassword\nsigning.secretKeyRingFile=\\Users\\username\\secring.gpg\n</code></pre>\n<p><strong>settings.gradle</strong></p>\n<pre><code>rootProject.name = 'Storage'\n</code></pre>\n<p>That should be it. But I can include versions of various software/tools:</p>\n<ul>\n<li>OS Windows 10</li>\n<li>GnuPG 2.3.6</li>\n<li>Gradle 7.4.2</li>\n<li>Java 13.0.1</li>\n<li>Groovy 3.0.9</li>\n</ul>\n<p><strong>PROGRESS:</strong></p>\n<p>I got the project published to <a href=\"https://s01.oss.sonatype.org/\" rel=\"nofollow noreferrer\">Nexus repository manager</a>.\nSo I know for a fact that <code>build.gradle</code> can access my <code>gradle.properties</code> file and can read it's content.</p>\n<p>I got the publish task to work by excluding the signing part.</p>\n<p>I have sent my key (two keys now) to both:</p>\n<ul>\n<li>keyserver.ubuntu.com</li>\n<li>pgp.mit.edu</li>\n</ul>\n<p>keys.openpgp.org does not seem to work. I get <code>gpg: keyserver send failed: Certificate expired</code></p>\n<p>When i send a key to a server I use the FULL KEY ID.</p>\n<p>I can query a server to see if they in fact received the keys: <code>gpg --keyserver hkp://keyserver.ubuntu.com --search-key 'my-email@mail.com'</code></p>\n<p>And both servers have received 2 keys:</p>\n<pre><code>(1)     My Name &lt;my-email@mail.com&gt;\n          263 bit EDDSA key ****************, created: 2022-05-28\n(2)     My Name &lt;my-email@mail.com&gt;\n          263 bit EDDSA key ****************, created: 2022-05-25\nKeys 1-2 of 2 for &quot;my-email@mail.com&quot;.  Enter number(s), N)ext, or Q)uit &gt;\n\n</code></pre>\n<p>The **************** is in fact the last numerals of my keys. It has to be right. Should I only send the last 8 numerals of the key to a server?</p>\n<p>And the <code>singing.password</code> I use is the same choose when creating a key.</p>\n<p>But for some esoteric reason. The signing still does not work. Is there no way to pinpoint the EXACT reason for failure?</p>\n<p>Please, take a look at my <code>build.gradle</code>. Is there an alternative way to publishing / signing i could try instead?</p>\n<p>Does the name of the secret key file matter? <code>secring.gpg</code></p>\n"},{"tags":["java","http"],"answers":[{"comments":[{"owner":{"account_id":43112,"reputation":58953,"user_id":125844,"accept_rate":85,"display_name":"notnoop"},"score":0,"creation_date":1248353873,"post_id":1171537,"comment_id":991419,"body_markdown":"The `set()` method is protected.","body":"The <code>set()</code> method is protected."},{"owner":{"account_id":4551456,"reputation":6431,"user_id":3696510,"accept_rate":86,"display_name":"muttonUp"},"score":4,"creation_date":1444784293,"post_id":1171537,"comment_id":54044087,"body_markdown":"looks like you took the parameters of the URL.set() method for the constructor, but no such constructor with that prototype actually exists.","body":"looks like you took the parameters of the URL.set() method for the constructor, but no such constructor with that prototype actually exists."},{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":3,"creation_date":1485455959,"post_id":1171537,"comment_id":70943327,"body_markdown":"This is a wrong answer. There&#39;s no constructor with that signature. URL just stinks","body":"This is a wrong answer. There&#39;s no constructor with that signature. URL just stinks"},{"owner":{"account_id":95465,"reputation":1155,"user_id":259988,"display_name":"Francois Marot"},"score":0,"creation_date":1563176634,"post_id":1171537,"comment_id":100598905,"body_markdown":"This answer does not handle cases where the port is not specified and getPort() returns -1 so you have to rely on getDefaultPort()","body":"This answer does not handle cases where the port is not specified and getPort() returns -1 so you have to rely on getDefaultPort()"}],"tags":[],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":4,"down_vote_count":4,"up_vote_count":21,"is_accepted":true,"score":17,"last_activity_date":1404207637,"creation_date":1248353759,"answer_id":1171537,"question_id":1171513,"body_markdown":"You&#39;ll have the use the methods available to you:\r\n\r\n    URL oldUrl = new URL(&quot;https://www.bla.com&quot;);\r\n    URL newUrl = new URL(&quot;http&quot;, oldUrl.getHost(), oldUrl.getPort(), oldUrl.getFile(), oldUrl.getRef());\r\n\r\nThere&#39;s an even more expansive set() method that takes 8 items, you might need that for more elaborate URLs.\r\n\r\nEdit: As was just pointed out to me, I wasn&#39;t paying attention, and set() is protected. So URL is technically mutable, but to us mortals, it&#39;s immutable. So you&#39;ll just have to construct a new URL object.","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>You'll have the use the methods available to you:</p>\n\n<pre><code>URL oldUrl = new URL(\"https://www.bla.com\");\nURL newUrl = new URL(\"http\", oldUrl.getHost(), oldUrl.getPort(), oldUrl.getFile(), oldUrl.getRef());\n</code></pre>\n\n<p>There's an even more expansive set() method that takes 8 items, you might need that for more elaborate URLs.</p>\n\n<p>Edit: As was just pointed out to me, I wasn't paying attention, and set() is protected. So URL is technically mutable, but to us mortals, it's immutable. So you'll just have to construct a new URL object.</p>\n"},{"tags":[],"owner":{"account_id":1396222,"reputation":109,"user_id":1325916,"display_name":"yorick456"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1506107764,"creation_date":1449567109,"answer_id":34152304,"question_id":1171513,"body_markdown":"You can also use string replacement:\r\n\r\n    URL oldUrl = new URL(&quot;https://www.bla.com&quot;);\r\n    String newUrlString = oldUrl.toString().replaceFirst(&quot;^https&quot;, &quot;http&quot;);\r\n    URL newUrl = new URL(newUrlString);","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>You can also use string replacement:</p>\n\n<pre><code>URL oldUrl = new URL(\"https://www.bla.com\");\nString newUrlString = oldUrl.toString().replaceFirst(\"^https\", \"http\");\nURL newUrl = new URL(newUrlString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1453097,"reputation":477,"user_id":1369434,"accept_rate":50,"display_name":"nyx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1463144934,"creation_date":1463144934,"answer_id":37210932,"question_id":1171513,"body_markdown":"Or you can use `org.springframework.web.util.UriComponentsBuilder`/ `org.springframework.web.util.UriComponents`\r\n\r\nsee: https://stackoverflow.com/questions/22003574/does-there-exist-a-mutable-url-uri-object-in-java","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>Or you can use <code>org.springframework.web.util.UriComponentsBuilder</code>/ <code>org.springframework.web.util.UriComponents</code></p>\n\n<p>see: <a href=\"https://stackoverflow.com/questions/22003574/does-there-exist-a-mutable-url-uri-object-in-java\">Does there exist a mutable URL/URI object in Java?</a></p>\n"},{"tags":[],"owner":{"account_id":291162,"reputation":2827,"user_id":593146,"accept_rate":83,"display_name":"Zyl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673622963,"creation_date":1673622617,"answer_id":75110985,"question_id":1171513,"body_markdown":"It appears they forgot to make their class useful. Stealing code from `URL.toExternalForm()` helps:\r\n\r\n```java\r\npublic class ICantBelieveThisIsNotInTheStandardLibrary {\r\n    public static final URL makeCopyWithDifferentProtocol(URL u, String protocol) {\r\n        StringBuffer result = new StringBuffer();\r\n        result.append(protocol);\r\n        result.append(&quot;:&quot;);\r\n        if (u.getAuthority() != null &amp;&amp; u.getAuthority().length() &gt; 0) {\r\n            result.append(&quot;//&quot;);\r\n            result.append(u.getAuthority());\r\n        }\r\n        if (u.getPath() != null) {\r\n            result.append(u.getPath());\r\n        }\r\n        if (u.getQuery() != null) {\r\n            result.append(&#39;?&#39;);\r\n            result.append(u.getQuery());\r\n        }\r\n        if (u.getRef() != null) {\r\n            result.append(&quot;#&quot;);\r\n            result.append(u.getRef());\r\n        }\r\n        return new URL(result.toString());\r\n    }\r\n}\r\n```\r\n\r\nThe answer which suggests to use a String-replacement is shorter, but you are going to need something like this if you ever want to change any of the other URL components.","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>It appears they forgot to make their class useful. Stealing code from <code>URL.toExternalForm()</code> helps:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ICantBelieveThisIsNotInTheStandardLibrary {\n    public static final URL makeCopyWithDifferentProtocol(URL u, String protocol) {\n        StringBuffer result = new StringBuffer();\n        result.append(protocol);\n        result.append(&quot;:&quot;);\n        if (u.getAuthority() != null &amp;&amp; u.getAuthority().length() &gt; 0) {\n            result.append(&quot;//&quot;);\n            result.append(u.getAuthority());\n        }\n        if (u.getPath() != null) {\n            result.append(u.getPath());\n        }\n        if (u.getQuery() != null) {\n            result.append('?');\n            result.append(u.getQuery());\n        }\n        if (u.getRef() != null) {\n            result.append(&quot;#&quot;);\n            result.append(u.getRef());\n        }\n        return new URL(result.toString());\n    }\n}\n</code></pre>\n<p>The answer which suggests to use a String-replacement is shorter, but you are going to need something like this if you ever want to change any of the other URL components.</p>\n"},{"tags":[],"owner":{"account_id":28900119,"reputation":21,"user_id":22135289,"display_name":"Amit Mittal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687932804,"creation_date":1687808793,"answer_id":76559805,"question_id":1171513,"body_markdown":"String url - &quot;`https://www.some-host.com/some-path?somequery=some-value`&quot;;\r\n\r\n    String newUrl = UriComponentsBuilder.newInstance()\r\n              .fromUriString(url)\r\n              .scheme(&quot;http&quot;)\r\n              .build()\r\n              .toUriString();\r\n\r\nIt&#39;ll just replace scheme and rest url will remain as-is","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>String url - &quot;<code>https://www.some-host.com/some-path?somequery=some-value</code>&quot;;</p>\n<pre><code>String newUrl = UriComponentsBuilder.newInstance()\n          .fromUriString(url)\n          .scheme(&quot;http&quot;)\n          .build()\n          .toUriString();\n</code></pre>\n<p>It'll just replace scheme and rest url will remain as-is</p>\n"}],"owner":{"account_id":25060,"reputation":9771,"user_id":64138,"accept_rate":92,"display_name":"Alceu Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16552,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":1171537,"answer_count":5,"score":10,"last_activity_date":1687932804,"creation_date":1248353502,"question_id":1171513,"body_markdown":"I have a java.net.URL object that uses the HTTPS protocol, e.g.:\r\n\r\n    https://www.bla.com\r\n\r\nAnd I have to change only the protocol part of this URL object so that when I call its toString() method I get this:\r\n\r\n    http://www.bla.com\r\n\r\nWhat is the best way to do that?","title":"How to change only the protocol part of a java.net.URL object?","body":"<p>I have a java.net.URL object that uses the HTTPS protocol, e.g.:</p>\n<pre><code>https://www.bla.com\n</code></pre>\n<p>And I have to change only the protocol part of this URL object so that when I call its toString() method I get this:</p>\n<pre><code>http://www.bla.com\n</code></pre>\n<p>What is the best way to do that?</p>\n"},{"tags":["java","spring-boot","javabeans"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687770057,"creation_date":1687770057,"answer_id":76555144,"question_id":76554948,"body_markdown":"You are trying to inject a class that is not a Spring Bean:\r\n\r\n\r\n    @Autowired\r\n    private JSONObject json;\r\n\r\nAs in the commented out code simply instantiate the object:\r\n\r\n    JSONObject json = new JSONObject(newQuestionObj);","title":"what this error means &#39;org.json.JSONObject&#39;?","body":"<p>You are trying to inject a class that is not a Spring Bean:</p>\n<pre><code>@Autowired\nprivate JSONObject json;\n</code></pre>\n<p>As in the commented out code simply instantiate the object:</p>\n<pre><code>JSONObject json = new JSONObject(newQuestionObj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28896577,"reputation":39,"user_id":22132445,"display_name":"Aksh Patel"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1687932750,"creation_date":1687772868,"answer_id":76555498,"question_id":76554948,"body_markdown":"Use the following code snippet to resolve the issue,\r\n\r\n    JSONObject json = new JSONObject(newQuestionObj);\r\n\r\n","title":"what this error means &#39;org.json.JSONObject&#39;?","body":"<p>Use the following code snippet to resolve the issue,</p>\n<pre><code>JSONObject json = new JSONObject(newQuestionObj);\n</code></pre>\n"}],"owner":{"account_id":25877367,"reputation":3,"user_id":19607093,"display_name":"19001011057 SHRAVAN KHAR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76555144,"answer_count":2,"score":0,"last_activity_date":1687932750,"creation_date":1687768620,"question_id":76554948,"body_markdown":"**QuestionController Class:**\r\n\r\n```\r\npackage app.controller;\r\n\r\nimport java.util.List;\r\n\r\nimport org.json.JSONObject;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.CrossOrigin;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport app.model.Question;\r\nimport app.repository.QuestionRepository;\r\n\r\n/**\r\n * @implNote Controller Class to manage Questions http operations\r\n * @author usardar\r\n *\r\n */\r\n@RestController\r\n@RequestMapping(&quot;/question&quot;)\r\n@CrossOrigin\r\npublic class QuestionController {\r\n\r\n\t@Autowired\r\n\tprivate JSONObject json;\r\n\r\n\t@Autowired\r\n\tprivate QuestionRepository questionRepository;\r\n\r\n\t@Autowired\r\n\tprivate Question question;\r\n\r\n\t/*\r\n\t * Usage: Example: http://localhost:8080/question/retrievequestions \r\n\t * Output: [ {&quot;qId&quot;:3, &quot;title&quot;:&quot;Who is the founder of Dawn news?&quot;, &quot;optA&quot;:&quot;Quaid-E-Azam&quot;, &quot;optB&quot;:&quot;Usama&quot;, &quot;optC&quot;:&quot;Ali Hassan&quot;, &quot;answer&quot;:&quot;Quaid-E-Azam&quot;} ]\r\n\t */\r\n\t@GetMapping(&quot;/retrievequestions&quot;)\r\n\tpublic List&lt;Question&gt; getQuestionsList() {\r\n\t\tList&lt;Question&gt; questionsList = questionRepository.findAll();\r\n\t\tif (questionsList != null) {\r\n\t\t\treturn questionsList;\r\n\t\t}\r\n\t\treturn questionsList;\r\n\t}\r\n\r\n\t/*\r\n\t * Usage: \r\n\t * Example: http://localhost:8080/question/addquestion\r\n\t * Post Request : {&quot;title&quot;:&quot;Who is the founder of Pakistan?&quot;, &quot;optA&quot;:&quot;Quaid-E-Azam&quot;, &quot;optB&quot;:&quot;Usama&quot;, &quot;optC&quot;:&quot;Ali Hassan&quot;, &quot;answer&quot;:&quot;Quaid-E-Azam&quot;}\r\n\t * Output: [ {&quot;success&quot;, &quot;Question Inserted Successfuly&quot;} ]\r\n\t */\r\n\t@PostMapping(&quot;/addquestion&quot;)\r\n\tpublic String addQuestion(@RequestBody String newQuestionObj) {\r\n\t\tSystem.out.println(newQuestionObj);\r\n//\t\tjson = new JSONObject(newQuestionObj);\r\n\t\tquestion.setQuestion(json.getString(&quot;newQuestion&quot;));\r\n\t\tquestion.setOptA(json.getString(&quot;newOptA&quot;));\r\n\t\tquestion.setOptB(json.getString(&quot;newOptB&quot;));\r\n\t\tquestion.setOptC(json.getString(&quot;newOptC&quot;));\r\n\t\tquestion.setAnswer(json.getString(&quot;newAnswer&quot;));\r\n\t\tquestionRepository.save(question);\r\n\t\tjson.clear();\r\n\t\tjson.put(&quot;success&quot;, &quot;Question Inserted Successfuly&quot;);\r\n\t\treturn json.toString();\r\n\t}\r\n\r\n}\r\n```\r\nThis is my class for reference.\r\n\r\nError message:\r\nField json in app.controller.QuestionController required a bean of type &#39;org.json.JSONObject&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.json.JSONObject&#39; in your configuration.\r\n\r\n","title":"what this error means &#39;org.json.JSONObject&#39;?","body":"<p><strong>QuestionController Class:</strong></p>\n<pre><code>package app.controller;\n\nimport java.util.List;\n\nimport org.json.JSONObject;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.CrossOrigin;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport app.model.Question;\nimport app.repository.QuestionRepository;\n\n/**\n * @implNote Controller Class to manage Questions http operations\n * @author usardar\n *\n */\n@RestController\n@RequestMapping(&quot;/question&quot;)\n@CrossOrigin\npublic class QuestionController {\n\n    @Autowired\n    private JSONObject json;\n\n    @Autowired\n    private QuestionRepository questionRepository;\n\n    @Autowired\n    private Question question;\n\n    /*\n     * Usage: Example: http://localhost:8080/question/retrievequestions \n     * Output: [ {&quot;qId&quot;:3, &quot;title&quot;:&quot;Who is the founder of Dawn news?&quot;, &quot;optA&quot;:&quot;Quaid-E-Azam&quot;, &quot;optB&quot;:&quot;Usama&quot;, &quot;optC&quot;:&quot;Ali Hassan&quot;, &quot;answer&quot;:&quot;Quaid-E-Azam&quot;} ]\n     */\n    @GetMapping(&quot;/retrievequestions&quot;)\n    public List&lt;Question&gt; getQuestionsList() {\n        List&lt;Question&gt; questionsList = questionRepository.findAll();\n        if (questionsList != null) {\n            return questionsList;\n        }\n        return questionsList;\n    }\n\n    /*\n     * Usage: \n     * Example: http://localhost:8080/question/addquestion\n     * Post Request : {&quot;title&quot;:&quot;Who is the founder of Pakistan?&quot;, &quot;optA&quot;:&quot;Quaid-E-Azam&quot;, &quot;optB&quot;:&quot;Usama&quot;, &quot;optC&quot;:&quot;Ali Hassan&quot;, &quot;answer&quot;:&quot;Quaid-E-Azam&quot;}\n     * Output: [ {&quot;success&quot;, &quot;Question Inserted Successfuly&quot;} ]\n     */\n    @PostMapping(&quot;/addquestion&quot;)\n    public String addQuestion(@RequestBody String newQuestionObj) {\n        System.out.println(newQuestionObj);\n//      json = new JSONObject(newQuestionObj);\n        question.setQuestion(json.getString(&quot;newQuestion&quot;));\n        question.setOptA(json.getString(&quot;newOptA&quot;));\n        question.setOptB(json.getString(&quot;newOptB&quot;));\n        question.setOptC(json.getString(&quot;newOptC&quot;));\n        question.setAnswer(json.getString(&quot;newAnswer&quot;));\n        questionRepository.save(question);\n        json.clear();\n        json.put(&quot;success&quot;, &quot;Question Inserted Successfuly&quot;);\n        return json.toString();\n    }\n\n}\n</code></pre>\n<p>This is my class for reference.</p>\n<p>Error message:\nField json in app.controller.QuestionController required a bean of type 'org.json.JSONObject' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)\nAction:</p>\n<p>Consider defining a bean of type 'org.json.JSONObject' in your configuration.</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1952668,"reputation":7464,"user_id":1756430,"accept_rate":88,"display_name":"Sam Berry"},"score":1,"creation_date":1467385441,"post_id":8367312,"comment_id":63726871,"body_markdown":"I wrote a post about [How to Write a Custom Serializer with Jackson](https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/?utm_source=stack-overflow-ao&amp;utm_medium=referral&amp;utm_campaign=custom-serializer-jackson) that may be helpful to some.","body":"I wrote a post about <a href=\"https://spin.atomicobject.com/2016/07/01/custom-serializer-jackson/?utm_source=stack-overflow-ao&amp;utm_medium=referral&amp;utm_campaign=custom-serializer-jackson\" rel=\"nofollow noreferrer\">How to Write a Custom Serializer with Jackson</a> that may be helpful to some."}],"answers":[{"comments":[{"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"score":5,"creation_date":1362023148,"post_id":8367333,"comment_id":21290932,"body_markdown":"Please note this answer is incorrect -- the field does not *need* to be public or have a getter and setter.  In another answer to this question, I provided an alternative configuration that does not require changes to the original data structure to be (de)serialized.","body":"Please note this answer is incorrect -- the field does not <i>need</i> to be public or have a getter and setter.  In another answer to this question, I provided an alternative configuration that does not require changes to the original data structure to be (de)serialized."},{"owner":{"account_id":1278987,"reputation":1040,"user_id":1233555,"accept_rate":62,"display_name":"ChrisPhoenix"},"score":10,"creation_date":1429240084,"post_id":8367333,"comment_id":47516025,"body_markdown":"The answer is useful, even if not 100% precisely correct. I&#39;d forgotten to put &#39;public&#39; on my vars, and this pointed that out. Thanks!","body":"The answer is useful, even if not 100% precisely correct. I&#39;d forgotten to put &#39;public&#39; on my vars, and this pointed that out. Thanks!"}],"tags":[],"owner":{"account_id":47141,"reputation":22981,"user_id":139506,"display_name":"Chris"},"comment_count":2,"down_vote_count":2,"up_vote_count":94,"is_accepted":false,"score":92,"last_activity_date":1500744294,"creation_date":1322911790,"answer_id":8367333,"question_id":8367312,"body_markdown":"For Jackson to serialize that class, the `SomeString` field needs to either be `public` (right now it&#39;s package level isolation) or you need to define getter and setter methods for it.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>For Jackson to serialize that class, the <code>SomeString</code> field needs to either be <code>public</code> (right now it's package level isolation) or you need to define getter and setter methods for it.</p>\n"},{"comments":[{"owner":{"account_id":729396,"reputation":96,"user_id":2218331,"display_name":"Dan Robinson"},"score":61,"creation_date":1364448414,"post_id":8395924,"comment_id":22251152,"body_markdown":"This worked for me. As of Jackson 2.0, ObjectMapper#setVisibility takes a PropertyAccessor as the first argument. The equivalent oneliner is  \n\n\n`myObjectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);`","body":"This worked for me. As of Jackson 2.0, ObjectMapper#setVisibility takes a PropertyAccessor as the first argument. The equivalent oneliner is     <code>myObjectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);</code>"},{"owner":{"account_id":6654179,"reputation":395,"user_id":5135304,"display_name":"Manish Kumar"},"score":0,"creation_date":1470231148,"post_id":8395924,"comment_id":64863973,"body_markdown":"@DanRobinson I used same. But actually I am generating yaml file. so for the JSONString as : `{&quot;term&quot;:{&quot;call_failed&quot;:&quot;true&quot;}}` it is generating yaml structure as: `filter:\n  map:\n    term:\n      map:\n        call_failed: &quot;true&quot;`\nWhy it is generating `map` keyword? How can I remove it ?","body":"@DanRobinson I used same. But actually I am generating yaml file. so for the JSONString as : <code>{&quot;term&quot;:{&quot;call_failed&quot;:&quot;true&quot;}}</code> it is generating yaml structure as: <code>filter:   map:     term:       map:         call_failed: &quot;true&quot;</code> Why it is generating <code>map</code> keyword? How can I remove it ?"},{"owner":{"account_id":979986,"reputation":1178,"user_id":999955,"accept_rate":100,"display_name":"Mike Kellogg"},"score":9,"creation_date":1479914804,"post_id":8395924,"comment_id":68760634,"body_markdown":"I probably spent 8 hours with this error, not realizing that my getter method did not have &quot;public&quot; on it..so stupid","body":"I probably spent 8 hours with this error, not realizing that my getter method did not have &quot;public&quot; on it..so stupid"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":1,"creation_date":1495634635,"post_id":8395924,"comment_id":75337736,"body_markdown":"I am getting this error while converting ClientResponse to string using object mapper","body":"I am getting this error while converting ClientResponse to string using object mapper"},{"owner":{"account_id":11913998,"reputation":20337,"user_id":8718377,"display_name":"veben"},"score":6,"creation_date":1570691198,"post_id":8395924,"comment_id":102994379,"body_markdown":"You can also add the annotation `@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)` above your class","body":"You can also add the annotation <code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)</code> above your class"}],"tags":[],"owner":{"account_id":390729,"reputation":65307,"user_id":750987,"display_name":"Programmer Bruce"},"comment_count":5,"down_vote_count":2,"up_vote_count":444,"is_accepted":true,"score":442,"last_activity_date":1552985033,"creation_date":1323150806,"answer_id":8395924,"question_id":8367312,"body_markdown":"As already described, the default configuration of an `ObjectMapper` instance is to only access properties that are public fields or have public getters/setters.  An alternative to changing the class definition to make a field public or to provide a public getter/setter is to specify (to the underlying `VisibilityChecker`) a different property visibility rule.  Jackson 1.9 provides the `ObjectMapper.setVisibility()` convenience method for doing so.  For the example in the original question, I&#39;d likely configure this as\r\n\r\n    myObjectMapper.setVisibility(JsonMethod.FIELD, Visibility.ANY);\r\n\r\nFor Jackson &gt;2.0:\r\n\r\n    myObjectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\r\n\r\nFor more information and details on related configuration options, I recommend reviewing [the JavaDocs on `ObjectMapper.setVisibility()`][1].\r\n\r\n\r\n  [1]: http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/ObjectMapper.html#setVisibility(com.fasterxml.jackson.annotation.PropertyAccessor,%20com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility)","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>As already described, the default configuration of an <code>ObjectMapper</code> instance is to only access properties that are public fields or have public getters/setters.  An alternative to changing the class definition to make a field public or to provide a public getter/setter is to specify (to the underlying <code>VisibilityChecker</code>) a different property visibility rule.  Jackson 1.9 provides the <code>ObjectMapper.setVisibility()</code> convenience method for doing so.  For the example in the original question, I'd likely configure this as</p>\n\n<pre><code>myObjectMapper.setVisibility(JsonMethod.FIELD, Visibility.ANY);\n</code></pre>\n\n<p>For Jackson >2.0:</p>\n\n<pre><code>myObjectMapper.setVisibility(PropertyAccessor.FIELD, Visibility.ANY);\n</code></pre>\n\n<p>For more information and details on related configuration options, I recommend reviewing <a href=\"http://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/ObjectMapper.html#setVisibility(com.fasterxml.jackson.annotation.PropertyAccessor,%20com.fasterxml.jackson.annotation.JsonAutoDetect.Visibility)\" rel=\"noreferrer\">the JavaDocs on <code>ObjectMapper.setVisibility()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":282386,"reputation":788,"user_id":579241,"accept_rate":43,"display_name":"patrics"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1367933102,"creation_date":1367933102,"answer_id":16420244,"question_id":8367312,"body_markdown":"This error is also thrown if you forget to add the .build() method onto your return status.\r\n\r\n    return Response.status(Status.OK);         // fails\r\n    return Response.status(Status.OK).build(); // works\r\n\r\n\r\nI got the following error without build() method:\r\n\r\n    org.codehaus.jackson.map.JsonMappingException: No serializer found for class com.sun.jersey.core.spi.factory.ResponseBuilderImpl","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>This error is also thrown if you forget to add the .build() method onto your return status.</p>\n\n<pre><code>return Response.status(Status.OK);         // fails\nreturn Response.status(Status.OK).build(); // works\n</code></pre>\n\n<p>I got the following error without build() method:</p>\n\n<pre><code>org.codehaus.jackson.map.JsonMappingException: No serializer found for class com.sun.jersey.core.spi.factory.ResponseBuilderImpl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2415063,"reputation":1037,"user_id":2109292,"display_name":"Mart&#237;n C"},"comment_count":0,"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1500744148,"creation_date":1411841934,"answer_id":26077731,"question_id":8367312,"body_markdown":"The problem in my case was Jackson was trying to serialize an empty object with no attributes nor methods.\r\n\r\nAs suggested in the exception I added the following line to avoid failure on empty beans:\r\n\r\nFor Jackson 1.9\r\n\r\n    myObjectMapper.configure(SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\nFor Jackson 2.X\r\n\r\n    myObjectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\r\n\r\nYou can find a simple example on https://stackoverflow.com/questions/15261456/jackson-disable-fail-on-empty-beans","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>The problem in my case was Jackson was trying to serialize an empty object with no attributes nor methods.</p>\n\n<p>As suggested in the exception I added the following line to avoid failure on empty beans:</p>\n\n<p>For Jackson 1.9</p>\n\n<pre><code>myObjectMapper.configure(SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS, false);\n</code></pre>\n\n<p>For Jackson 2.X</p>\n\n<pre><code>myObjectMapper.configure(SerializationFeature.FAIL_ON_EMPTY_BEANS, false);\n</code></pre>\n\n<p>You can find a simple example on <a href=\"https://stackoverflow.com/questions/15261456/jackson-disable-fail-on-empty-beans\">jackson disable fail_on_empty_beans</a></p>\n"},{"comments":[{"owner":{"account_id":534240,"reputation":994,"user_id":904335,"display_name":"Alexey Podlasov"},"score":2,"creation_date":1447699175,"post_id":27976606,"comment_id":55252979,"body_markdown":"This error fires also when your class has a method with name starting with get... For example NonSerializableClass getMyNonSerializableObject(). Jackson tries to serialise it and fails. To resolve this problem just add @JsonIgnore or rename the method.","body":"This error fires also when your class has a method with name starting with get... For example NonSerializableClass getMyNonSerializableObject(). Jackson tries to serialise it and fails. To resolve this problem just add @JsonIgnore or rename the method."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":1,"creation_date":1452073668,"post_id":27976606,"comment_id":57005301,"body_markdown":"Used the older version: `org.codehaus.jackson.annotate.JsonIgnore`","body":"Used the older version: <code>org.codehaus.jackson.annotate.JsonIgnore</code>"}],"tags":[],"owner":{"account_id":427657,"reputation":2580,"user_id":809536,"accept_rate":80,"display_name":"ZiglioUK"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1421377041,"creation_date":1421377041,"answer_id":27976606,"question_id":8367312,"body_markdown":"If you can edit the class containing that object, I usually just add the annotation\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    \r\n    @JsonIgnore \r\n    NonSerializeableClass obj;\r\n","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>If you can edit the class containing that object, I usually just add the annotation</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\n\n@JsonIgnore \nNonSerializeableClass obj;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1290904,"reputation":554,"user_id":1243031,"display_name":"aks"},"score":4,"creation_date":1538350915,"post_id":33086061,"comment_id":92101088,"body_markdown":"Tried many different things, and the solution is as simple as this....and it says it quite clearly: &quot;no properties discovered to create&quot;.","body":"Tried many different things, and the solution is as simple as this....and it says it quite clearly: &quot;no properties discovered to create&quot;."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":3,"creation_date":1556207957,"post_id":33086061,"comment_id":98368394,"body_markdown":"@PhilipRego He means he added a getter and setter for the field.","body":"@PhilipRego He means he added a getter and setter for the field."},{"owner":{"account_id":10949243,"reputation":87,"user_id":8046113,"display_name":"Rahmat Hidayat"},"score":2,"creation_date":1567494799,"post_id":33086061,"comment_id":101968671,"body_markdown":"I use lombok library, so I just add anotation Getter and Setter. And everything was fine. Thanks.","body":"I use lombok library, so I just add anotation Getter and Setter. And everything was fine. Thanks."},{"owner":{"account_id":10827398,"reputation":152,"user_id":7962905,"display_name":"Ikhiloya Imokhai"},"score":2,"creation_date":1577548148,"post_id":33086061,"comment_id":105196537,"body_markdown":"yeah, getters and setters are used for Jackson serialization./deserialization","body":"yeah, getters and setters are used for Jackson serialization./deserialization"},{"owner":{"account_id":15058773,"reputation":905,"user_id":10868264,"display_name":"ddc"},"score":4,"creation_date":1614362926,"post_id":33086061,"comment_id":117372121,"body_markdown":"adding Getters alone solved the issue for me, no need to add setters","body":"adding Getters alone solved the issue for me, no need to add setters"},{"owner":{"account_id":2065396,"reputation":324,"user_id":1840981,"display_name":"Kashinath"},"score":0,"creation_date":1686739369,"post_id":33086061,"comment_id":134839628,"body_markdown":"Just add Getters and the problem will be solved.setters are not compulsory","body":"Just add Getters and the problem will be solved.setters are not compulsory"},{"owner":{"account_id":15750262,"reputation":111,"user_id":11365041,"display_name":"fidel morris omolo"},"score":0,"creation_date":1699223936,"post_id":33086061,"comment_id":136501272,"body_markdown":"You can find more information on how to handle this type of error in this blog: https://www.baeldung.com/jackson-jsonmappingexception","body":"You can find more information on how to handle this type of error in this blog: <a href=\"https://www.baeldung.com/jackson-jsonmappingexception\" rel=\"nofollow noreferrer\">baeldung.com/jackson-jsonmappingexception</a>"}],"tags":[],"owner":{"account_id":309484,"reputation":4614,"user_id":621951,"accept_rate":75,"display_name":"G&#252;nay G&#252;ltekin"},"comment_count":7,"down_vote_count":1,"up_vote_count":148,"is_accepted":false,"score":147,"last_activity_date":1595321375,"creation_date":1444667771,"answer_id":33086061,"question_id":8367312,"body_markdown":"Add a\r\n&gt; getter\r\n\r\n and a\r\n\r\n&gt; setter\r\n\r\nand the problem is solved.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Add a</p>\n<blockquote>\n<p>getter</p>\n</blockquote>\n<p>and a</p>\n<blockquote>\n<p>setter</p>\n</blockquote>\n<p>and the problem is solved.</p>\n"},{"tags":[],"owner":{"account_id":6858324,"reputation":517,"user_id":5273214,"display_name":"Sanchit Singhania"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1500744195,"creation_date":1456134906,"answer_id":35550532,"question_id":8367312,"body_markdown":"The problem may be because you have declared variable as `private`.\r\nIf you change it to `public`, it works.\r\n\r\nBetter option is to use getter and setter methods for it.\r\n\r\nThis will solve the issue!","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>The problem may be because you have declared variable as <code>private</code>.\nIf you change it to <code>public</code>, it works.</p>\n\n<p>Better option is to use getter and setter methods for it.</p>\n\n<p>This will solve the issue!</p>\n"},{"tags":[],"owner":{"account_id":210642,"reputation":8430,"user_id":1347816,"accept_rate":78,"display_name":"LEMUEL  ADANE"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1500744226,"creation_date":1480025172,"answer_id":40795087,"question_id":8367312,"body_markdown":"For Oracle Java applications, add this after the `ObjectMapper` instantiation:    \r\n    \r\n    mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n        ","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>For Oracle Java applications, add this after the <code>ObjectMapper</code> instantiation:    </p>\n\n<pre><code>mapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8131218,"reputation":584,"user_id":6124434,"accept_rate":79,"display_name":"scarface"},"score":0,"creation_date":1512223660,"post_id":43763580,"comment_id":82175834,"body_markdown":"This solved my problem. Can you tell me what this exactly does?","body":"This solved my problem. Can you tell me what this exactly does?"},{"owner":{"account_id":4934043,"reputation":407,"user_id":3972824,"accept_rate":64,"display_name":"Aswin Prasad"},"score":0,"creation_date":1595923628,"post_id":43763580,"comment_id":111634048,"body_markdown":"None of the other solutions worked for me. This one solved the problem. Can anyone explain in detail what the above statement does?","body":"None of the other solutions worked for me. This one solved the problem. Can anyone explain in detail what the above statement does?"}],"tags":[],"owner":{"account_id":7836979,"reputation":1181,"user_id":7581696,"display_name":"N. berouain"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493823390,"creation_date":1493823390,"answer_id":43763580,"question_id":8367312,"body_markdown":"\r\n\r\nI had a similar problem with lazy loading via the hibernate proxy object. Got around it by annotating the class having lazy loaded private properties with:\r\n\r\n    @JsonIgnoreProperties({&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I had a similar problem with lazy loading via the hibernate proxy object. Got around it by annotating the class having lazy loaded private properties with:</p>\n\n<pre><code>@JsonIgnoreProperties({\"hibernateLazyInitializer\", \"handler\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7143160,"reputation":435,"user_id":5459951,"accept_rate":47,"display_name":"yellow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509467007,"creation_date":1509467007,"answer_id":47040080,"question_id":8367312,"body_markdown":"Though I added getters and setters I was getting the same error. Later I found a bug, that is by Sonar&#39;s advice I cgahnged the getters and setters as protected which was causing the issue. Once I fixed that it worked as exppected.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Though I added getters and setters I was getting the same error. Later I found a bug, that is by Sonar's advice I cgahnged the getters and setters as protected which was causing the issue. Once I fixed that it worked as exppected.</p>\n"},{"tags":[],"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1517388293,"creation_date":1517388293,"answer_id":48537909,"question_id":8367312,"body_markdown":"I had the same problem for a child class where I had control, object mapper was in a common module and was inaccessible. I solved it by adding this annotation for my child class whose object was to be serialized.\r\n\r\n    @JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I had the same problem for a child class where I had control, object mapper was in a common module and was inaccessible. I solved it by adding this annotation for my child class whose object was to be serialized.</p>\n\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3092120,"reputation":1588,"user_id":2618036,"display_name":"georger"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1530875238,"creation_date":1530875238,"answer_id":51209044,"question_id":8367312,"body_markdown":"I found at least three ways of doing this:\r\n\r\n 1. Add `public getters` on your entity that you try to serialize;\r\n 2. Add an annotation at the top of the entity, if you don&#39;t want `public getters`. This will change the default for Jackson from `Visbility=DEFAULT` to `@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)` where any access modifiers are accepted;\r\n 3. Change your `ObjectMapper` globally by setting `objectMapperInstance.setVisibility(JsonMethod.FIELD, Visibility.ANY);`. This should be avoided if you don&#39;t need this functionality globally.\r\n\r\nChoose based on your needs.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I found at least three ways of doing this:</p>\n\n<ol>\n<li>Add <code>public getters</code> on your entity that you try to serialize;</li>\n<li>Add an annotation at the top of the entity, if you don't want <code>public getters</code>. This will change the default for Jackson from <code>Visbility=DEFAULT</code> to <code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)</code> where any access modifiers are accepted;</li>\n<li>Change your <code>ObjectMapper</code> globally by setting <code>objectMapperInstance.setVisibility(JsonMethod.FIELD, Visibility.ANY);</code>. This should be avoided if you don't need this functionality globally.</li>\n</ol>\n\n<p>Choose based on your needs.</p>\n"},{"tags":[],"owner":{"account_id":8647458,"reputation":31,"user_id":6474268,"display_name":"Santhosh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1533717323,"creation_date":1533715630,"answer_id":51741603,"question_id":8367312,"body_markdown":"Here are the three options:\r\n\r\n1. Data/class that&#39;s been accessed needs to be `public`\r\n2. If not `public`, add __getters &amp; setters__\r\n3. Or add `@JsonIgnore(&quot;context&quot;)`","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Here are the three options:</p>\n\n<ol>\n<li>Data/class that's been accessed needs to be <code>public</code></li>\n<li>If not <code>public</code>, add <strong>getters &amp; setters</strong></li>\n<li>Or add <code>@JsonIgnore(\"context\")</code></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":13997893,"reputation":71,"user_id":10110254,"display_name":"Janus"},"score":1,"creation_date":1536400753,"post_id":52234132,"comment_id":91417020,"body_markdown":"you should keep your model has getter and setter methods.","body":"you should keep your model has getter and setter methods."},{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":2,"creation_date":1536401267,"post_id":52234132,"comment_id":91417146,"body_markdown":"Welcome to SO! Thanks for contributing. Please add an explanation to your answer, so it&#39;s clear what the code does, why it works and how it answers OPs question.","body":"Welcome to SO! Thanks for contributing. Please add an explanation to your answer, so it&#39;s clear what the code does, why it works and how it answers OPs question."},{"owner":{"account_id":5650328,"reputation":1113,"user_id":4471199,"display_name":"RoBeaToZ"},"score":0,"creation_date":1566984673,"post_id":52234132,"comment_id":101823157,"body_markdown":"This helped me! But in my opinion, you should inject the ObjectMapper of the context and configure it afterward rather than creating a new one.","body":"This helped me! But in my opinion, you should inject the ObjectMapper of the context and configure it afterward rather than creating a new one."}],"tags":[],"owner":{"account_id":13997893,"reputation":71,"user_id":10110254,"display_name":"Janus"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1536400686,"creation_date":1536400686,"answer_id":52234132,"question_id":8367312,"body_markdown":"SpringBoot2.0 I resolve it by follow code:\r\n\r\n    @Bean public ObjectMapper objectMapper() {\r\n     return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);}","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>SpringBoot2.0 I resolve it by follow code:</p>\n\n<pre><code>@Bean public ObjectMapper objectMapper() {\n return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9975838,"reputation":51,"user_id":7380479,"display_name":"raveendra_bikkina"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570255147,"creation_date":1570254734,"answer_id":58245735,"question_id":8367312,"body_markdown":"Please use this at class level for the bean:\r\n\r\n    @JsonIgnoreProperties(value={&quot;hibernateLazyInitializer&quot;,&quot;handler&quot;,&quot;fieldHandler&quot;})","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Please use this at class level for the bean:</p>\n\n<pre><code>@JsonIgnoreProperties(value={\"hibernateLazyInitializer\",\"handler\",\"fieldHandler\"})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6995802,"reputation":15,"user_id":5363534,"display_name":"Satya Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580996141,"creation_date":1580989831,"answer_id":60094326,"question_id":8367312,"body_markdown":"adding setter and getter will also solve the issue as it fixed for me.\r\n For Ex:\r\n\r\n\r\n    public class TestA {\r\n        String SomeString = &quot;asd&quot;;\r\n        \r\n        public String getSomeString () { \t\treturn SomeString ; \t}\r\n    \r\n    \tpublic void setSomeString (String SS ) { \t\tSomeString = SS ; \t} \r\n    }","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>adding setter and getter will also solve the issue as it fixed for me.\n For Ex:</p>\n\n<pre><code>public class TestA {\n    String SomeString = \"asd\";\n\n    public String getSomeString () {        return SomeString ;     }\n\n    public void setSomeString (String SS ) {        SomeString = SS ;   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18005107,"reputation":31,"user_id":13086073,"display_name":"Vanita Dhotre"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1584585757,"creation_date":1584585757,"answer_id":60750209,"question_id":8367312,"body_markdown":"I just had only getters , after adding setters too , problems resolved.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I just had only getters , after adding setters too , problems resolved.</p>\n"},{"comments":[{"owner":{"account_id":13207582,"reputation":542,"user_id":9538809,"display_name":"RenceAbi"},"score":0,"creation_date":1593332020,"post_id":61096674,"comment_id":110738127,"body_markdown":"This will ignore the property. If the property to be read, then we should add getters and setters","body":"This will ignore the property. If the property to be read, then we should add getters and setters"}],"tags":[],"owner":{"account_id":11433301,"reputation":380,"user_id":8381420,"display_name":"saba"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1586335459,"creation_date":1586335459,"answer_id":61096674,"question_id":8367312,"body_markdown":"in spring boot 2.2.5\r\n\r\nafter adding getter and setter \r\n\r\ni added @JsonIgnore on top of the field.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>in spring boot 2.2.5</p>\n\n<p>after adding getter and setter </p>\n\n<p>i added @JsonIgnore on top of the field.</p>\n"},{"tags":[],"owner":{"account_id":2270908,"reputation":3270,"user_id":2313177,"accept_rate":59,"display_name":"Andriy Kryvtsun"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1608646331,"creation_date":1608646331,"answer_id":65410192,"question_id":8367312,"body_markdown":"If you use Lomdok libraray (https://projectlombok.org/) then add `@Data` (https://projectlombok.org/features/Data) annotation to your data object class.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>If you use Lomdok libraray (<a href=\"https://projectlombok.org/\" rel=\"nofollow noreferrer\">https://projectlombok.org/</a>) then add <code>@Data</code> (<a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/Data</a>) annotation to your data object class.</p>\n"},{"tags":[],"owner":{"account_id":4776516,"reputation":546,"user_id":3859455,"display_name":"Nakesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1634030796,"creation_date":1634030796,"answer_id":69538081,"question_id":8367312,"body_markdown":"Jackson uses getters and setters serialization./deserialization.\r\nSo add getter and setter in your model class. ","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Jackson uses getters and setters serialization./deserialization.\nSo add getter and setter in your model class.</p>\n"},{"tags":[],"owner":{"account_id":15032849,"reputation":526,"user_id":10850340,"display_name":"j.xavier.atero"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661503012,"creation_date":1661502201,"answer_id":73498076,"question_id":8367312,"body_markdown":"For me, the problem was the annotation `@RestResource(exported = false)` from the `import org.springframework.data.rest.core.annotation.RestResource`. Which I forgot to remove.\r\n\r\nAlso, I got the same error when I forgot to add the class annotation `@XmlRootElement` from the `import javax.xml.bind.annotation.XmlRootElement`.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>For me, the problem was the annotation <code>@RestResource(exported = false)</code> from the <code>import org.springframework.data.rest.core.annotation.RestResource</code>. Which I forgot to remove.</p>\n<p>Also, I got the same error when I forgot to add the class annotation <code>@XmlRootElement</code> from the <code>import javax.xml.bind.annotation.XmlRootElement</code>.</p>\n"},{"tags":[],"owner":{"account_id":12114036,"reputation":471,"user_id":9950567,"display_name":"Sham Fiorin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673038356,"creation_date":1673038356,"answer_id":75035987,"question_id":8367312,"body_markdown":"I solved with `@Getter` from lombok","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I solved with <code>@Getter</code> from lombok</p>\n"},{"tags":[],"owner":{"account_id":6566070,"reputation":657,"user_id":5075658,"display_name":"Sumit Jadiya"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675654651,"creation_date":1675654651,"answer_id":75357125,"question_id":8367312,"body_markdown":"Adding a getter/setter solved this problem for me.\r\neither manually add getter/setter or use Lombok annotations @Getter/@Setter/@Data for the same.","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Adding a getter/setter solved this problem for me.\neither manually add getter/setter or use Lombok annotations @Getter/@Setter/@Data for the same.</p>\n"},{"tags":[],"owner":{"account_id":28438417,"reputation":21,"user_id":21758160,"display_name":"hiten"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687932650,"creation_date":1687701327,"answer_id":76550753,"question_id":8367312,"body_markdown":"Add this in your application properties file \r\n\r\n    spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>Add this in your application properties file</p>\n<pre><code>spring.jackson.serialization.FAIL_ON_EMPTY_BEANS=false\n</code></pre>\n"}],"owner":{"account_id":59548,"reputation":19807,"user_id":178143,"accept_rate":61,"display_name":"Ted"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541636,"favorite_count":0,"down_vote_count":1,"up_vote_count":367,"accepted_answer_id":8395924,"answer_count":24,"score":366,"last_activity_date":1687932650,"creation_date":1322911573,"question_id":8367312,"body_markdown":"I get the an exception when trying to serialize a very simple object using Jackson. The error:\r\n\r\n&gt; org.codehaus.jackson.map.JsonMappingException: No serializer found for\r\n&gt; class MyPackage.TestA and no properties\r\n&gt; discovered to create BeanSerializer (to avoid exception, disable\r\n&gt; SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) )\r\n\r\nBelow is the simple class and code to serialize. \r\n\r\nCan anyone tell my why I get this error?\r\n\r\n\r\n    public class TestA {\r\n    \tString SomeString = &quot;asd&quot;;\r\n    }\r\n\r\n    TestA testA = new TestA();\r\n    ObjectMapper om = new ObjectMapper();\r\n    try {\r\n    \tString testAString = om.writeValueAsString(testA); // error here!\r\n    \t\r\n    \tTestA newTestA = om.readValue(testAString, TestA.class);\r\n    } catch (JsonGenerationException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    } catch (JsonMappingException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    } catch (IOException e) {\r\n    \t// TODO Auto-generated catch block\r\n    \te.printStackTrace();\r\n    }\r\n\r\n","title":"Serializing with Jackson (JSON) - getting &quot;No serializer found&quot;?","body":"<p>I get the an exception when trying to serialize a very simple object using Jackson. The error:</p>\n\n<blockquote>\n  <p>org.codehaus.jackson.map.JsonMappingException: No serializer found for\n  class MyPackage.TestA and no properties\n  discovered to create BeanSerializer (to avoid exception, disable\n  SerializationConfig.Feature.FAIL_ON_EMPTY_BEANS) )</p>\n</blockquote>\n\n<p>Below is the simple class and code to serialize. </p>\n\n<p>Can anyone tell my why I get this error?</p>\n\n<pre><code>public class TestA {\n    String SomeString = \"asd\";\n}\n\nTestA testA = new TestA();\nObjectMapper om = new ObjectMapper();\ntry {\n    String testAString = om.writeValueAsString(testA); // error here!\n\n    TestA newTestA = om.readValue(testAString, TestA.class);\n} catch (JsonGenerationException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (JsonMappingException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n} catch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1687885199,"post_id":76566813,"comment_id":134998516,"body_markdown":"Since you only have 7 tables for this purpose why not do it the simple way? Create a factory and based on the table name you provide it with the repo/method you need? Or if you want to pursue this annotation path anyways why not just annotate the specific method for each of the repositories and get them instead? This way you don&#39;t need to worry which specific method you want as you already know because of the annotation.","body":"Since you only have 7 tables for this purpose why not do it the simple way? Create a factory and based on the table name you provide it with the repo/method you need? Or if you want to pursue this annotation path anyways why not just annotate the specific method for each of the repositories and get them instead? This way you don&#39;t need to worry which specific method you want as you already know because of the annotation."},{"owner":{"account_id":18759497,"reputation":1,"user_id":13678751,"display_name":"Gwen"},"score":0,"creation_date":1687888382,"post_id":76566813,"comment_id":134999221,"body_markdown":"Thanks you @JorgeCampos for your answer :). I have thought about implementing a factory which returns instance of a particular repository based on table string in a switch case statement. Don&#39;t you think think that&#39;s a dirty way to implement it ? I mean the switch/case statement will be hard to maintinain imo.","body":"Thanks you @JorgeCampos for your answer :). I have thought about implementing a factory which returns instance of a particular repository based on table string in a switch case statement. Don&#39;t you think think that&#39;s a dirty way to implement it ? I mean the switch/case statement will be hard to maintinain imo."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1687889186,"post_id":76566813,"comment_id":134999396,"body_markdown":"The design pattern Factory is there since forever, so are you calling a well established pattern a dirty implementation? And to answer you, no I don&#39;t think so. This requirement of yours is already violating a separation of concerns principle the application front end/api parameters knows about the ins/outs of your backend (tables). And about the maintainability statement of yours, you really think that a switch case would be harder to maintain and understand than `reposSpiderEligible` method? Write the switch and then compare which one is harder to read :)","body":"The design pattern Factory is there since forever, so are you calling a well established pattern a dirty implementation? And to answer you, no I don&#39;t think so. This requirement of yours is already violating a separation of concerns principle the application front end/api parameters knows about the ins/outs of your backend (tables). And about the maintainability statement of yours, you really think that a switch case would be harder to maintain and understand than <code>reposSpiderEligible</code> method? Write the switch and then compare which one is harder to read :)"},{"owner":{"account_id":18759497,"reputation":1,"user_id":13678751,"display_name":"Gwen"},"score":1,"creation_date":1687889646,"post_id":76566813,"comment_id":134999467,"body_markdown":"Again, thanks for your answer @JorgeCampos ! I have only two years of professional development experience. I will follow your advice then. Thanks for your time :).","body":"Again, thanks for your answer @JorgeCampos ! I have only two years of professional development experience. I will follow your advice then. Thanks for your time :)."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1687889778,"post_id":76566813,"comment_id":134999485,"body_markdown":"No worries, also you can implement a factory without a switch if you really don&#39;t like it, here is an example: https://medium.com/swlh/factory-pattern-without-switch-this-is-how-it-should-be-done-cd895e356f44","body":"No worries, also you can implement a factory without a switch if you really don&#39;t like it, here is an example: <a href=\"https://medium.com/swlh/factory-pattern-without-switch-this-is-how-it-should-be-done-cd895e356f44\" rel=\"nofollow noreferrer\">medium.com/swlh/&hellip;</a>"}],"owner":{"account_id":18759497,"reputation":1,"user_id":13678751,"display_name":"Gwen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687932620,"creation_date":1687882508,"question_id":76566813,"body_markdown":"I&#39;m currently facing an issue in a work project.\r\n\r\nFrom a string parameter passed in a controller representing a sql table name (e.g: TABLE_NAME), i must extract all the data from it. Not all the tables are eligible, only 7.\r\n\r\nI thought about that:\r\n\r\n1. create custom annotation with a `tableName` parameter (`@SpiderExtract` in my implementation)\r\n2. annotate all the repos eligible with it\r\n3. from a service, build a `Map` where k is the table name as a string and v is the repository instance\r\n4. then `map.get(&quot;TABLE_NAME&quot;)` to get the correct repo and start doing my stuff\r\n\r\nThe problem is that the repositories instances within the hashmap are of type `SimpleJpaRepository`, with this implementation, I have no access to my custom queries (which i understand) only classic one (findAll(), findById() ...)\r\n\r\nMy repositories are declared like the following:\r\n\r\n\r\n```java\r\n@SpiderExtract(tableName = &quot;TABLE_NAME&quot;)\r\n@Repository\r\npublic class RepoFoo implements JpaRepository&lt;Foo, Long&gt;{\r\n\r\n@Query(value = &quot;select * from foo&quot;)\r\nList&lt;Foo&gt; getFoos();\r\n}\r\n```\r\n\r\nThis is what i&#39;ve tried so far:\r\n\r\n    private Map&lt;String, JpaRepository&lt;?, ?&gt;&gt; reposSpiderEligible() {\r\n    return applicationContext.getBeansWithAnnotation(SpiderExtract.class).values().stream()\r\n            .filter(repository -&gt; repository instanceof JpaRepository)\r\n            .map(repository -&gt; (JpaRepository&lt;?, ?&gt;) repository)\r\n            .collect(Collectors.toMap(repository -&gt; {\r\n                Class&lt;?&gt; repositoryInterface = repository.getClass().getInterfaces()[0];\r\n                SpiderExtract annotation = repositoryInterface.getAnnotation(SpiderExtract.class);\r\n                return annotation.tableName();\r\n            }, Function.identity()));\r\n}\r\n\r\nHow to get the `RepoFoo` instance instead of a `SimpleJpaRepository` instance ?\r\n\r\nThanks :)\r\n","title":"How to retrieve instance of repository which implements JpaRepository?","body":"<p>I'm currently facing an issue in a work project.</p>\n<p>From a string parameter passed in a controller representing a sql table name (e.g: TABLE_NAME), i must extract all the data from it. Not all the tables are eligible, only 7.</p>\n<p>I thought about that:</p>\n<ol>\n<li>create custom annotation with a <code>tableName</code> parameter (<code>@SpiderExtract</code> in my implementation)</li>\n<li>annotate all the repos eligible with it</li>\n<li>from a service, build a <code>Map</code> where k is the table name as a string and v is the repository instance</li>\n<li>then <code>map.get(&quot;TABLE_NAME&quot;)</code> to get the correct repo and start doing my stuff</li>\n</ol>\n<p>The problem is that the repositories instances within the hashmap are of type <code>SimpleJpaRepository</code>, with this implementation, I have no access to my custom queries (which i understand) only classic one (findAll(), findById() ...)</p>\n<p>My repositories are declared like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpiderExtract(tableName = &quot;TABLE_NAME&quot;)\n@Repository\npublic class RepoFoo implements JpaRepository&lt;Foo, Long&gt;{\n\n@Query(value = &quot;select * from foo&quot;)\nList&lt;Foo&gt; getFoos();\n}\n</code></pre>\n<p>This is what i've tried so far:</p>\n<pre><code>private Map&lt;String, JpaRepository&lt;?, ?&gt;&gt; reposSpiderEligible() {\nreturn applicationContext.getBeansWithAnnotation(SpiderExtract.class).values().stream()\n        .filter(repository -&gt; repository instanceof JpaRepository)\n        .map(repository -&gt; (JpaRepository&lt;?, ?&gt;) repository)\n        .collect(Collectors.toMap(repository -&gt; {\n            Class&lt;?&gt; repositoryInterface = repository.getClass().getInterfaces()[0];\n            SpiderExtract annotation = repositoryInterface.getAnnotation(SpiderExtract.class);\n            return annotation.tableName();\n        }, Function.identity()));\n</code></pre>\n<p>}</p>\n<p>How to get the <code>RepoFoo</code> instance instead of a <code>SimpleJpaRepository</code> instance ?</p>\n<p>Thanks :)</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":14739862,"reputation":45,"user_id":10644761,"display_name":"RayHopefield"},"score":0,"creation_date":1653546765,"post_id":72387267,"comment_id":127879571,"body_markdown":"Thanks Alex, that generic expression works like a charm.","body":"Thanks Alex, that generic expression works like a charm."}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1653544241,"creation_date":1653544241,"answer_id":72387267,"question_id":72386882,"body_markdown":"You could use `Mono.zip` that is taking `Iterable` as an argument and combinator function to combine results and casting to the specific type:\r\n\r\n`&lt;R&gt; Mono&lt;R&gt; zip(final Iterable&lt;? extends Mono&lt;?&gt;&gt; monos, Function&lt;? super Object[], ? extends R&gt; combinator)`\r\n\r\n```\r\n\r\nList&lt;Mono&lt;? extends ResponseEntity&lt;?&gt;&gt;&gt; requests = List.of(\r\n\t\tmonoService1, \r\n\t\tmonoService2, \r\n\t\tmonoService3, \r\n\t\tmonoService4\r\n);\r\n\r\nMono.zip(requests, responses -&gt; {\r\n\tMixResponse mixResp = new MixResponse();\r\n\tmixResp.setResponse1(((ResponseEntity&lt;Service1Response&gt;) responses[0]).getBody());\r\n\tmixResp.setResponse2(((ResponseEntity&lt;Service2Response&gt;) responses[1]).getBody());\r\n\tmixResp.setResponse3(((ResponseEntity&lt;Service3Response&gt;) responses[2]).getBody());\r\n\tmixResp.setResponse4(((ResponseEntity&lt;Service4Response&gt;) responses[3]).getBody());\r\n\treturn mixResp;\r\n});\r\n```\r\n\r\n","title":"How to zip more than 8 different types of mono","body":"<p>You could use <code>Mono.zip</code> that is taking <code>Iterable</code> as an argument and combinator function to combine results and casting to the specific type:</p>\n<p><code>&lt;R&gt; Mono&lt;R&gt; zip(final Iterable&lt;? extends Mono&lt;?&gt;&gt; monos, Function&lt;? super Object[], ? extends R&gt; combinator)</code></p>\n<pre><code>\nList&lt;Mono&lt;? extends ResponseEntity&lt;?&gt;&gt;&gt; requests = List.of(\n        monoService1, \n        monoService2, \n        monoService3, \n        monoService4\n);\n\nMono.zip(requests, responses -&gt; {\n    MixResponse mixResp = new MixResponse();\n    mixResp.setResponse1(((ResponseEntity&lt;Service1Response&gt;) responses[0]).getBody());\n    mixResp.setResponse2(((ResponseEntity&lt;Service2Response&gt;) responses[1]).getBody());\n    mixResp.setResponse3(((ResponseEntity&lt;Service3Response&gt;) responses[2]).getBody());\n    mixResp.setResponse4(((ResponseEntity&lt;Service4Response&gt;) responses[3]).getBody());\n    return mixResp;\n});\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1084469,"reputation":7470,"user_id":1080523,"display_name":"rethab"},"score":0,"creation_date":1691059171,"post_id":76568412,"comment_id":135441646,"body_markdown":"Very clever solution!","body":"Very clever solution!"}],"tags":[],"owner":{"account_id":1437465,"reputation":6412,"user_id":1358536,"accept_rate":90,"display_name":"kavai77"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687931959,"creation_date":1687897605,"answer_id":76568412,"question_id":72386882,"body_markdown":"My solution that works similarly to `TupleUtils.function`:\r\n\r\n    Mono.zip(\r\n        monoService1,\r\n        monoService2,\r\n        monoService3,\r\n        monoService4,\r\n        monoService5,\r\n        monoService6,\r\n        monoService7,\r\n        monoService8 \r\n    ).zipWith(Mono.zip( // the max number of Mono.zip which can return a tuple is 8, therefore we had to split into two chunks\r\n        monoService9,\r\n        monoService10 \r\n    ), BigTuple::new\r\n    ).map(bigFunction((res1, res2, res3, res4, res4, res5, res6, res7, res8, res9, res10) -&gt;\r\n        // resX are all preserving their types and all named\r\n    ));\r\n\r\nFor this to work you have to implement your `BigTuple` and `bigFunction`. This is all boilerplate code unfortunately.\r\n\r\n    import java.util.function.Function;\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Value;\r\n\r\n    public static &lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; Function&lt;BigTuple&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;, R&gt; bigFunction(\r\n            BigFunction&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; function) {\r\n        return tuple -&gt; function.apply(tuple.getT1(), tuple.getT2(), tuple.getT3(), tuple.getT4(), tuple.getT5(), tuple.getT6(),\r\n                tuple.getT7(), tuple.getT8(), tuple.getT9(), tuple.getT10());\r\n    }\r\n\r\n    @Value\r\n    @AllArgsConstructor\r\n    private static class BigTuple&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;  {\r\n        T1 t1;\r\n        T2 t2;\r\n        T3 t3;\r\n        T4 t4;\r\n        T5 t5;\r\n        T6 t6;\r\n        T7 t7;\r\n        T8 t8;\r\n        T9 t9;\r\n        T10 t10;\r\n\r\n        BigTuple(Tuple8&lt;T1, T2, T3, T4, T5, T6, T7, T8&gt; objects1, Tuple2&lt;T9, T10&gt; objects2) {\r\n            this(objects1.getT1(), objects1.getT2(), objects1.getT3(), objects1.getT4(), objects1.getT5(),\r\n                    objects1.getT6(), objects1.getT7(), objects1.getT8(), objects2.getT1(), objects2.getT2());\r\n        }\r\n    }\r\n\r\n    private interface BigFunction&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; {\r\n        R apply(T1 t1, T2 t2, T3 t3, T4 t4, T5 t5, T6 t6, T7 t7, T8 t8, T9 t9, T10 t10);\r\n    }","title":"How to zip more than 8 different types of mono","body":"<p>My solution that works similarly to <code>TupleUtils.function</code>:</p>\n<pre><code>Mono.zip(\n    monoService1,\n    monoService2,\n    monoService3,\n    monoService4,\n    monoService5,\n    monoService6,\n    monoService7,\n    monoService8 \n).zipWith(Mono.zip( // the max number of Mono.zip which can return a tuple is 8, therefore we had to split into two chunks\n    monoService9,\n    monoService10 \n), BigTuple::new\n).map(bigFunction((res1, res2, res3, res4, res4, res5, res6, res7, res8, res9, res10) -&gt;\n    // resX are all preserving their types and all named\n));\n</code></pre>\n<p>For this to work you have to implement your <code>BigTuple</code> and <code>bigFunction</code>. This is all boilerplate code unfortunately.</p>\n<pre><code>import java.util.function.Function;\nimport lombok.AllArgsConstructor;\nimport lombok.Value;\n\npublic static &lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; Function&lt;BigTuple&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;, R&gt; bigFunction(\n        BigFunction&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; function) {\n    return tuple -&gt; function.apply(tuple.getT1(), tuple.getT2(), tuple.getT3(), tuple.getT4(), tuple.getT5(), tuple.getT6(),\n            tuple.getT7(), tuple.getT8(), tuple.getT9(), tuple.getT10());\n}\n\n@Value\n@AllArgsConstructor\nprivate static class BigTuple&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10&gt;  {\n    T1 t1;\n    T2 t2;\n    T3 t3;\n    T4 t4;\n    T5 t5;\n    T6 t6;\n    T7 t7;\n    T8 t8;\n    T9 t9;\n    T10 t10;\n\n    BigTuple(Tuple8&lt;T1, T2, T3, T4, T5, T6, T7, T8&gt; objects1, Tuple2&lt;T9, T10&gt; objects2) {\n        this(objects1.getT1(), objects1.getT2(), objects1.getT3(), objects1.getT4(), objects1.getT5(),\n                objects1.getT6(), objects1.getT7(), objects1.getT8(), objects2.getT1(), objects2.getT2());\n    }\n}\n\nprivate interface BigFunction&lt;T1, T2, T3, T4, T5, T6, T7, T8, T9, T10, R&gt; {\n    R apply(T1 t1, T2 t2, T3 t3, T4 t4, T5 t5, T6 t6, T7 t7, T8 t8, T9 t9, T10 t10);\n}\n</code></pre>\n"}],"owner":{"account_id":14739862,"reputation":45,"user_id":10644761,"display_name":"RayHopefield"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72387267,"answer_count":2,"score":0,"last_activity_date":1687931959,"creation_date":1653541181,"question_id":72386882,"body_markdown":"I&#39;m trying to make 9 api calls at the same time. All of these calls would return different response objects. Before this we have 8 api calls and since these mono were different types, I used Mono.zip like below.\r\n```\r\nMono&lt;ResponseEntity&lt;Service1Response&gt;&gt; monoService1 = callService1();\r\nMono&lt;ResponseEntity&lt;Service2Response&gt;&gt; monoService2 = callService2();\r\n...\r\nMono&lt;ResponseEntity&lt;Service3Response&gt;&gt; monoService7 = callService7();\r\nMono&lt;ResponseEntity&lt;Service4Response&gt;&gt; monoService8 = callService8();\r\n\r\nMixResponse mix = Mono.zip(monoService1, monoService2, monoService3, monoService4, monoService5, monoService6, monoService7, monoService8).flatMap(response -&gt; {\r\n  MixResponse mixResp = new MixResponse();\r\n  mixResp.setResponse1(response.getT1().getBody());\r\n  mixResp.setResponse2(response.getT2().getBody());\r\n  mixResp.setResponse3(response.getT3().getBody());\r\n  mixResp.setResponse4(response.getT4().getBody());\r\n  mixResp.setResponse5(response.getT5().getBody());\r\n  mixResp.setResponse6(response.getT6().getBody());\r\n  mixResp.setResponse7(response.getT7().getBody());\r\n  mixResp.setResponse8(response.getT8().getBody());\r\n  return Mono.just(mixResp);\r\n})).block();\r\n```\r\n\r\nbut now we have one more service and Mono.zip supports only up to 8 monos. Is there anyway aside from Mono.zip that I could use in my situation? Sorry if this question looks dumb. I&#39;m new in spring-webflux. Thanks in advance.","title":"How to zip more than 8 different types of mono","body":"<p>I'm trying to make 9 api calls at the same time. All of these calls would return different response objects. Before this we have 8 api calls and since these mono were different types, I used Mono.zip like below.</p>\n<pre><code>Mono&lt;ResponseEntity&lt;Service1Response&gt;&gt; monoService1 = callService1();\nMono&lt;ResponseEntity&lt;Service2Response&gt;&gt; monoService2 = callService2();\n...\nMono&lt;ResponseEntity&lt;Service3Response&gt;&gt; monoService7 = callService7();\nMono&lt;ResponseEntity&lt;Service4Response&gt;&gt; monoService8 = callService8();\n\nMixResponse mix = Mono.zip(monoService1, monoService2, monoService3, monoService4, monoService5, monoService6, monoService7, monoService8).flatMap(response -&gt; {\n  MixResponse mixResp = new MixResponse();\n  mixResp.setResponse1(response.getT1().getBody());\n  mixResp.setResponse2(response.getT2().getBody());\n  mixResp.setResponse3(response.getT3().getBody());\n  mixResp.setResponse4(response.getT4().getBody());\n  mixResp.setResponse5(response.getT5().getBody());\n  mixResp.setResponse6(response.getT6().getBody());\n  mixResp.setResponse7(response.getT7().getBody());\n  mixResp.setResponse8(response.getT8().getBody());\n  return Mono.just(mixResp);\n})).block();\n</code></pre>\n<p>but now we have one more service and Mono.zip supports only up to 8 monos. Is there anyway aside from Mono.zip that I could use in my situation? Sorry if this question looks dumb. I'm new in spring-webflux. Thanks in advance.</p>\n"},{"tags":["javascript","java","android"],"comments":[{"owner":{"account_id":8164973,"reputation":4238,"user_id":6147653,"display_name":"Alpha 1"},"score":0,"creation_date":1687931887,"post_id":76570351,"comment_id":135004253,"body_markdown":"Pass the coordinates to the Activity B and then scroll to the required view.","body":"Pass the coordinates to the Activity B and then scroll to the required view."},{"owner":{"account_id":28909852,"reputation":1,"user_id":22143104,"display_name":"miftha akbie"},"score":0,"creation_date":1687940916,"post_id":76570351,"comment_id":135005769,"body_markdown":"can you tell me the correct script?","body":"can you tell me the correct script?"}],"owner":{"account_id":28909852,"reputation":1,"user_id":22143104,"display_name":"miftha akbie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687931275,"creation_date":1687931275,"question_id":76570351,"body_markdown":"I want to create a button that redirects to the scrollview&#39;s specific item ID.\r\nBut my destination scroll view is in a different activity.\r\n\r\nexample : my button is in activity A.\r\nI want this button to point to Activity B, at the exact item ID coordinates inside some scrollview.\r\n\r\n\r\n```\r\n public void HafalanHarian(View view) {\r\n        Intent intent = new Intent(MainActivity.this, HafalanHarian.class);\r\n            ScrollView sv = findViewById(R.id.ScrollHafHar);// your scrollview\r\n            View insideView = findViewById(R.id.BoxDefinisi);// find the View that you need to scroll to which is inside this ScrollView\r\n            sv.scrollTo(0, (int)insideView.getY());\r\n        startActivity(intent);\r\n    }\r\n```\r\n\r\nI have tried using the script above, but failed\r\n\r\nhope someone can give me proper script","title":"How to Scroll to a Specific ID item in ScrollView inside different activity? Android Studio","body":"<p>I want to create a button that redirects to the scrollview's specific item ID.\nBut my destination scroll view is in a different activity.</p>\n<p>example : my button is in activity A.\nI want this button to point to Activity B, at the exact item ID coordinates inside some scrollview.</p>\n<pre><code> public void HafalanHarian(View view) {\n        Intent intent = new Intent(MainActivity.this, HafalanHarian.class);\n            ScrollView sv = findViewById(R.id.ScrollHafHar);// your scrollview\n            View insideView = findViewById(R.id.BoxDefinisi);// find the View that you need to scroll to which is inside this ScrollView\n            sv.scrollTo(0, (int)insideView.getY());\n        startActivity(intent);\n    }\n</code></pre>\n<p>I have tried using the script above, but failed</p>\n<p>hope someone can give me proper script</p>\n"},{"tags":["java","minecraft-fabric"],"answers":[{"tags":[],"owner":{"account_id":24872383,"reputation":68,"user_id":18746743,"display_name":"mineblock11"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687930877,"creation_date":1687930877,"answer_id":76570322,"question_id":76527536,"body_markdown":"You should take a look at using Open Worthwhile Operations (owo-lib), it contains utilities that mimic what you are trying to achieve:\r\n\r\nhttps://docs.wispforest.io/owo/registration/\r\n\r\nDynamically registering items depending on the fields of a class is a more complex problem than you might think.\r\n\r\n*Also, when creating StackOverflow posts, try make it short and to the point! &#128077;*","title":"Minecraft Modding: &quot;Cannot Get Property&quot; Error when procedurally registering blocks","body":"<p>You should take a look at using Open Worthwhile Operations (owo-lib), it contains utilities that mimic what you are trying to achieve:</p>\n<p><a href=\"https://docs.wispforest.io/owo/registration/\" rel=\"nofollow noreferrer\">https://docs.wispforest.io/owo/registration/</a></p>\n<p>Dynamically registering items depending on the fields of a class is a more complex problem than you might think.</p>\n<p><em>Also, when creating StackOverflow posts, try make it short and to the point! </em></p>\n"}],"owner":{"account_id":28869363,"reputation":1,"user_id":22111297,"display_name":"Ethan Parish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687930877,"creation_date":1687386680,"question_id":76527536,"body_markdown":"I am currently developing a Fabric Mod that adds &quot;cracked&quot;, &quot;mossy&quot;, and similar variants to nearly every block in the vanilla game. Obviously, I am not going to manually register roughly 800 new blocks for every variant I&#39;d like to add to the game, and I&#39;ve opted to procedurally register all of the variants in a loop. My current strategy involves looping through all of the blocks in the vanilla game and registering a block with the variant name plus the block name. (&quot;Cracked Oak Planks&quot;, &quot;Cracked Amethyst Block&quot;, etc.) That works completely fine, and I&#39;m also able to generate model files for every block that has the same face on all six sides. (Generating &quot;cracked&quot; variants of blocks that have different textures on different faces is something I haven&#39;t even begun to tackle, but that&#39;s a problem for the future. It shouldn&#39;t be too complicated... probably?)\r\n\r\nI began running into issues when I tried to register new blocks that inherit the properties from their parent block. The properties I&#39;m trying to inherit shouldn&#39;t be crazy complicated, I&#39;m not currently planning on adding blocks such as a &quot;mossy sticky piston&quot; or a &quot;cracked light blue bed&quot; - I don&#39;t care about variants of functional blocks. I&#39;m just trying to have a block inherit properties such as hardness and material.\r\n\r\n    public static void registerModBlocks() {\r\n            for (Field block : Blocks.class.getFields()) {\r\n                 Block blockObject = (Block) block.get(null);\r\n    \r\n                 TutorialMod.LOGGER.info(block.getName());\r\n    \r\n                 Block settings = new Block(FabricBlockSettings.copyOf(blockObject));\r\n    \r\n                 String blockName = &quot;cracked_&quot; + block.getName().toLowerCase();\r\n                 gen_blocks.put(blockName, registerBlock(blockName, settings, ModItemGroup.ITEM_GROUP));\r\n    \r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nHere is the code I&#39;m using to accomplish this goal. I&#39;m referencing the class that each block name refers to and creating a copy of their settings. This works totally fine when it comes to basic blocks such as planks or cobblestone but throws an error when trying to register logs or redstone ore.\r\n\r\nThis is the error code for logs:\r\n\r\n`Cannot get property EnumProperty{name=axis, clazz=class net.minecraft.util.math.Direction$Axis, values=[x, y, z]} as it does not exist in Block{minecraft:air}`\r\n\r\nThis is the error code for redstone ore:\r\n\r\n`Cannot get property BooleanProperty{name=lit, clazz=class java.lang.Boolean, values=[true, false]} as it does not exist in Block{minecraft:air}`\r\n\r\n\r\n\r\nI understand why this error is being thrown, the &quot;axis&quot; property of logs is specific to whatever class extends the &quot;Block&quot; class to add special behavior to logs. The same thing goes for redstone ore, that property comes from a class that extends &quot;Block&quot;. It makes sense that those properties can&#39;t be applied to a template in which that property doesn&#39;t exist.\r\n\r\nDoes anybody have ideas as to how I should go about getting around this? Ideally, I could create a conditional that detects what type of Block is being parsed and create a different settings object based on that, but I have no clue where to even begin doing that. Another solution I&#39;ve considered is creating tags that denote what type of setting a block should use when being created, but I&#39;d like to avoid that. I want this system to be flexible - if a new type of log is added to the game, I don&#39;t want to have to update a json file.\r\n\r\nI&#39;m not really sure what the solution is, but I&#39;d love to get some advice! I&#39;m pretty new to Minecraft modding and I wouldn&#39;t be surprised if there&#39;s a really easy solution I&#39;ve overlooked. I couldn&#39;t find any answers to this question online, but I&#39;d love to be linked to resources if you know about them! Thanks to anyone that&#39;s able to help!","title":"Minecraft Modding: &quot;Cannot Get Property&quot; Error when procedurally registering blocks","body":"<p>I am currently developing a Fabric Mod that adds &quot;cracked&quot;, &quot;mossy&quot;, and similar variants to nearly every block in the vanilla game. Obviously, I am not going to manually register roughly 800 new blocks for every variant I'd like to add to the game, and I've opted to procedurally register all of the variants in a loop. My current strategy involves looping through all of the blocks in the vanilla game and registering a block with the variant name plus the block name. (&quot;Cracked Oak Planks&quot;, &quot;Cracked Amethyst Block&quot;, etc.) That works completely fine, and I'm also able to generate model files for every block that has the same face on all six sides. (Generating &quot;cracked&quot; variants of blocks that have different textures on different faces is something I haven't even begun to tackle, but that's a problem for the future. It shouldn't be too complicated... probably?)</p>\n<p>I began running into issues when I tried to register new blocks that inherit the properties from their parent block. The properties I'm trying to inherit shouldn't be crazy complicated, I'm not currently planning on adding blocks such as a &quot;mossy sticky piston&quot; or a &quot;cracked light blue bed&quot; - I don't care about variants of functional blocks. I'm just trying to have a block inherit properties such as hardness and material.</p>\n<pre><code>public static void registerModBlocks() {\n        for (Field block : Blocks.class.getFields()) {\n             Block blockObject = (Block) block.get(null);\n\n             TutorialMod.LOGGER.info(block.getName());\n\n             Block settings = new Block(FabricBlockSettings.copyOf(blockObject));\n\n             String blockName = &quot;cracked_&quot; + block.getName().toLowerCase();\n             gen_blocks.put(blockName, registerBlock(blockName, settings, ModItemGroup.ITEM_GROUP));\n\n\n        }\n    }\n}\n</code></pre>\n<p>Here is the code I'm using to accomplish this goal. I'm referencing the class that each block name refers to and creating a copy of their settings. This works totally fine when it comes to basic blocks such as planks or cobblestone but throws an error when trying to register logs or redstone ore.</p>\n<p>This is the error code for logs:</p>\n<p><code>Cannot get property EnumProperty{name=axis, clazz=class net.minecraft.util.math.Direction$Axis, values=[x, y, z]} as it does not exist in Block{minecraft:air}</code></p>\n<p>This is the error code for redstone ore:</p>\n<p><code>Cannot get property BooleanProperty{name=lit, clazz=class java.lang.Boolean, values=[true, false]} as it does not exist in Block{minecraft:air}</code></p>\n<p>I understand why this error is being thrown, the &quot;axis&quot; property of logs is specific to whatever class extends the &quot;Block&quot; class to add special behavior to logs. The same thing goes for redstone ore, that property comes from a class that extends &quot;Block&quot;. It makes sense that those properties can't be applied to a template in which that property doesn't exist.</p>\n<p>Does anybody have ideas as to how I should go about getting around this? Ideally, I could create a conditional that detects what type of Block is being parsed and create a different settings object based on that, but I have no clue where to even begin doing that. Another solution I've considered is creating tags that denote what type of setting a block should use when being created, but I'd like to avoid that. I want this system to be flexible - if a new type of log is added to the game, I don't want to have to update a json file.</p>\n<p>I'm not really sure what the solution is, but I'd love to get some advice! I'm pretty new to Minecraft modding and I wouldn't be surprised if there's a really easy solution I've overlooked. I couldn't find any answers to this question online, but I'd love to be linked to resources if you know about them! Thanks to anyone that's able to help!</p>\n"},{"tags":["java","spring","spring-integration","spring-integration-dsl","spring-integration-sftp"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687873918,"creation_date":1687873918,"answer_id":76565573,"question_id":76564970,"body_markdown":"For dynamic SFTP server choice you might need to look into a `DelegatingSessionFactory`: https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-dsf.\r\n\r\nSo, you have to supply all the possible connection factories and have them to be chosen by the key you may provide in a message.\r\n\r\nYour code snippet is not clear. That `IntegrationFlow.from(()-&gt;` is a source polling channel adapter which indeed requires a poller to initiate the flow.","title":"Spring Integration - upload file to Dynamic SFTP Server","body":"<p>For dynamic SFTP server choice you might need to look into a <code>DelegatingSessionFactory</code>: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-dsf\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/sftp.html#sftp-dsf</a>.</p>\n<p>So, you have to supply all the possible connection factories and have them to be chosen by the key you may provide in a message.</p>\n<p>Your code snippet is not clear. That <code>IntegrationFlow.from(()-&gt;</code> is a source polling channel adapter which indeed requires a poller to initiate the flow.</p>\n"}],"owner":{"account_id":28904798,"reputation":1,"user_id":22138993,"display_name":"K Coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1687930569,"creation_date":1687869621,"question_id":76564970,"body_markdown":"I am trying to upload files to dynamic SFTP servers whose config details I will receive in a String message with file content.\r\nI have researched about spring Integration which will help me in dynamically connecting to SFTP servers to upload the data.I have tried to use generic Message for the current use case. \r\n```\r\nStandardIntegrationFlow flow =\r\n        IntegrationFlow.from(()-&gt; new GenericMessage&lt;&gt;(content,\r\n                Map.of(&quot;file_name&quot;, &quot;test.txt&quot;, &quot;path&quot;, &quot;/home)),\r\n                e -&gt; e.poller(poller))\r\n            .handle(handler).get();\r\n```\r\nBut I have to mandatorialy provide poller for that even if it is string data which is not correct.\r\nAlso one concern is there could be many Integration Flows that I might start dynamically so how will those be handled.\r\nIs there any other cleaner way by which I can accomplish this?\r\n\r\n\r\nEdit:\r\nI am receiving a PubSub message which is having config details for SFTP server where I need to upload and the file details as well.","title":"Spring Integration - upload file to Dynamic SFTP Server","body":"<p>I am trying to upload files to dynamic SFTP servers whose config details I will receive in a String message with file content.\nI have researched about spring Integration which will help me in dynamically connecting to SFTP servers to upload the data.I have tried to use generic Message for the current use case.</p>\n<pre><code>StandardIntegrationFlow flow =\n        IntegrationFlow.from(()-&gt; new GenericMessage&lt;&gt;(content,\n                Map.of(&quot;file_name&quot;, &quot;test.txt&quot;, &quot;path&quot;, &quot;/home)),\n                e -&gt; e.poller(poller))\n            .handle(handler).get();\n</code></pre>\n<p>But I have to mandatorialy provide poller for that even if it is string data which is not correct.\nAlso one concern is there could be many Integration Flows that I might start dynamically so how will those be handled.\nIs there any other cleaner way by which I can accomplish this?</p>\n<p>Edit:\nI am receiving a PubSub message which is having config details for SFTP server where I need to upload and the file details as well.</p>\n"},{"tags":["java","postgresql","jdbc","driver","classnotfoundexception"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1687929135,"post_id":76570187,"comment_id":135003931,"body_markdown":"[Class.forName(JDBC_DRIVER) no longer needed?](https://stackoverflow.com/questions/28220724/class-fornamejdbc-driver-no-longer-needed)","body":"<a href=\"https://stackoverflow.com/questions/28220724/class-fornamejdbc-driver-no-longer-needed\">Class.forName(JDBC_DRIVER) no longer needed?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1687929373,"post_id":76570187,"comment_id":135003965,"body_markdown":"I&#39;m guessing that the JDBC driver JAR file is not on the CLASSPATH (or module path). What is the name of the JDBC driver JAR file? What Java version are you using?","body":"I&#39;m guessing that the JDBC driver JAR file is not on the CLASSPATH (or module path). What is the name of the JDBC driver JAR file? What Java version are you using?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687968589,"post_id":76570187,"comment_id":135011975,"body_markdown":"@Abra Although it is not required, it still works (in fact, automatic driver-loading is just a fancy way of getting the Java ServiceLoader to call `Class.forName` for you), and it is a good way to diagnose the problem, aas in this case the throwing of `ClassNotFoundException` makes clear the driver is not on the classpath.","body":"@Abra Although it is not required, it still works (in fact, automatic driver-loading is just a fancy way of getting the Java ServiceLoader to call <code>Class.forName</code> for you), and it is a good way to diagnose the problem, aas in this case the throwing of <code>ClassNotFoundException</code> makes clear the driver is not on the classpath."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1687968647,"post_id":76570187,"comment_id":135011984,"body_markdown":"How are you **running** your application?","body":"How are you <b>running</b> your application?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1687976651,"post_id":76570187,"comment_id":135013430,"body_markdown":"@MarkRotteveel It saves you from making a mistake when writing the name of the class to load. That&#39;s probably why the functionality was added. Maybe the OP put the JAR file in the correct folder but made a mistake with the name of the class to load.","body":"@MarkRotteveel It saves you from making a mistake when writing the name of the class to load. That&#39;s probably why the functionality was added. Maybe the OP put the JAR file in the correct folder but made a mistake with the name of the class to load."}],"answers":[{"tags":[],"owner":{"account_id":10353015,"reputation":167,"user_id":7635893,"accept_rate":60,"display_name":"Alpha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687930099,"creation_date":1687929739,"answer_id":76570246,"question_id":76570187,"body_markdown":"The connection driver class is missing which you should import into classpath.\r\nYou can download jar file of that class with all dependencies in a below link\r\n\r\n[https://jar-download.com/artifacts/org.postgresql/postgresql][1]\r\n\r\nImport that jar file into you project. If you do not know how to import then look out the thread.\r\n\r\nhttps://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-how-to-add-a-jar-to-classpath\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/org.postgresql/postgresql","title":"Java JDBC Driver not found","body":"<p>The connection driver class is missing which you should import into classpath.\nYou can download jar file of that class with all dependencies in a below link</p>\n<p><a href=\"https://jar-download.com/artifacts/org.postgresql/postgresql\" rel=\"nofollow noreferrer\">https://jar-download.com/artifacts/org.postgresql/postgresql</a></p>\n<p>Import that jar file into you project. If you do not know how to import then look out the thread.</p>\n<p><a href=\"https://stackoverflow.com/questions/50232557/visual-studio-code-java-extension-how-to-add-a-jar-to-classpath\">Visual Studio Code, Java Extension, how to add a JAR to classpath?</a></p>\n"}],"owner":{"account_id":15313101,"reputation":1,"user_id":11047805,"display_name":"ChaimCad"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687930099,"creation_date":1687928779,"question_id":76570187,"body_markdown":"So I&#39;m developing a database project in which I created my database, filled it with my tables, and am now starting to program a Java application to demonstrate it.\r\n\r\nNow comes the problem: I don&#39;t stop getting the &quot;java.lang.ClassNotFoundException: org.postgresql.Driver&quot; gigantic error prompt or the &quot;No suitable driver found for jdbc:postgresql://localhost:5432/project&quot; prompt.\r\n\r\n\r\n```\r\n//File: Model.java\r\nimport java.sql.*;\r\n\r\nclass Model {\r\n    private final String url = &quot;jdbc:postgresql://localhost:5432/Trabalho&quot;;\r\n    private final String usr = &quot;postgres&quot;;\r\n    private final String pwd = &quot;K1dN@m3dF1ng3r&quot;;\r\n\r\n    public Model() {\r\n        try {\r\n            Class.forName(&quot;org.postgresql.Driver&quot;);\r\n        } catch(ClassNotFoundException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    protected Connection connect() {\r\n        Connection con = null;\r\n\r\n        try {\r\n            con = DriverManager.getConnection(url,usr,pwd);\r\n            System.out.println(&quot;Connected to the PostgreSQL server successfully!&quot;);\r\n        } catch(SQLException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n\r\n        return con;\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n//File: Control.java\r\nclass Control extends Model {\r\n    public Control() {\r\n        super.connect();\r\n    }\r\n\r\n    public static void main(String tx[]) {\r\n        new Control();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried downloading the driver, searching for my lib folder, altering my classpath environment variable, I&#39;ve checked PGAdmin, java, javac and the driver&#39;s versions, but nothing seems to work.\r\n\r\nAlso, most of the Qs/As here (all that I&#39;ve found) seem to focus on Java IDEs that I don&#39;t use. I&#39;m using VS Code, with its 0.25.11 Extension Pack for Java.","title":"Java JDBC Driver not found","body":"<p>So I'm developing a database project in which I created my database, filled it with my tables, and am now starting to program a Java application to demonstrate it.</p>\n<p>Now comes the problem: I don't stop getting the &quot;java.lang.ClassNotFoundException: org.postgresql.Driver&quot; gigantic error prompt or the &quot;No suitable driver found for jdbc:postgresql://localhost:5432/project&quot; prompt.</p>\n<pre><code>//File: Model.java\nimport java.sql.*;\n\nclass Model {\n    private final String url = &quot;jdbc:postgresql://localhost:5432/Trabalho&quot;;\n    private final String usr = &quot;postgres&quot;;\n    private final String pwd = &quot;K1dN@m3dF1ng3r&quot;;\n\n    public Model() {\n        try {\n            Class.forName(&quot;org.postgresql.Driver&quot;);\n        } catch(ClassNotFoundException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    protected Connection connect() {\n        Connection con = null;\n\n        try {\n            con = DriverManager.getConnection(url,usr,pwd);\n            System.out.println(&quot;Connected to the PostgreSQL server successfully!&quot;);\n        } catch(SQLException ex) {\n            System.out.println(ex.getMessage());\n        }\n\n        return con;\n    }\n}\n</code></pre>\n<pre><code>//File: Control.java\nclass Control extends Model {\n    public Control() {\n        super.connect();\n    }\n\n    public static void main(String tx[]) {\n        new Control();\n    }\n}\n</code></pre>\n<p>I have tried downloading the driver, searching for my lib folder, altering my classpath environment variable, I've checked PGAdmin, java, javac and the driver's versions, but nothing seems to work.</p>\n<p>Also, most of the Qs/As here (all that I've found) seem to focus on Java IDEs that I don't use. I'm using VS Code, with its 0.25.11 Extension Pack for Java.</p>\n"},{"tags":["java","jooq"],"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1687865759,"post_id":76564333,"comment_id":134993588,"body_markdown":"Can you share the jOOQ part of your logback configuration? You may also have a look at those 2: https://blog.jooq.org/debug-logging-sql-with-jooq/, https://stackoverflow.com/questions/8561317/how-can-we-profile-jooq-statements-for-speed","body":"Can you share the jOOQ part of your logback configuration? You may also have a look at those 2: <a href=\"https://blog.jooq.org/debug-logging-sql-with-jooq/\" rel=\"nofollow noreferrer\">blog.jooq.org/debug-logging-sql-with-jooq</a>, <a href=\"https://stackoverflow.com/questions/8561317/how-can-we-profile-jooq-statements-for-speed\" title=\"how can we profile jooq statements for speed\">stackoverflow.com/questions/8561317/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1687930081,"post_id":76565473,"comment_id":135004029,"body_markdown":"Thanks Lukas. I found out why I didn&#39;t find the logging for the query in question in my case, posted all the details here now: https://stackoverflow.com/a/76570263/227779. (I was wrong in my previous message - it _was_ logged in fact, but I might have missed it when looking at the logs)","body":"Thanks Lukas. I found out why I didn&#39;t find the logging for the query in question in my case, posted all the details here now: <a href=\"https://stackoverflow.com/a/76570263/227779\">stackoverflow.com/a/76570263/227779</a>. (I was wrong in my previous message - it <i>was</i> logged in fact, but I might have missed it when looking at the logs)"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1687941020,"post_id":76565473,"comment_id":135005786,"body_markdown":"@PerLundberg: Great to hear you&#39;ve found the issue. Thanks for documenting your solution here.","body":"@PerLundberg: Great to hear you&#39;ve found the issue. Thanks for documenting your solution here."},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1687941438,"post_id":76565473,"comment_id":135005891,"body_markdown":"Sure, np. Do you mind if I mark my own answer as the &quot;accepted&quot; one, or do you prefer to get the credit for this? Your answer is obviously also good, but technically this wasn&#39;t a problem with the `Settings.executeLogging` but rather that I couldn&#39;t see the forest for all the trees... ;)","body":"Sure, np. Do you mind if I mark my own answer as the &quot;accepted&quot; one, or do you prefer to get the credit for this? Your answer is obviously also good, but technically this wasn&#39;t a problem with the <code>Settings.executeLogging</code> but rather that I couldn&#39;t see the forest for all the trees... ;)"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1687944525,"post_id":76565473,"comment_id":135006552,"body_markdown":"@PerLundberg: I don&#39;t care so much about &quot;internet points&quot; as I care about helping folks :)","body":"@PerLundberg: I don&#39;t care so much about &quot;internet points&quot; as I care about helping folks :)"},{"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"score":0,"creation_date":1688066399,"post_id":76565473,"comment_id":135027718,"body_markdown":"Thanks, that&#39;s a good attitude. I gave you some &quot;internet points&quot; now anyway. :D","body":"Thanks, that&#39;s a good attitude. I gave you some &quot;internet points&quot; now anyway. :D"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687873156,"creation_date":1687873156,"answer_id":76565473,"question_id":76564333,"body_markdown":"I&#39;m assuming you mean logging with the [`org.jooq.tools.LoggerListener`][1], which by default `DEBUG` logs all your queries and their results.\r\n\r\nThere&#39;s a flag to turn that off completely. It&#39;s enabled by default. You may have turned it off with [`Settings.executeLogging`][2].\r\n\r\nAnother reason may be that jOOQ&#39;s `org.jooq.tools.JooqLogger` tries to classload `org.slf4j.Logger` and logs through that if available, falling back to `java.util.logging` otherwise. Do check that you make slf4j available to jOOQ on the classpath or modulepath, and that you have it backed by logback.\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/tools/LoggerListener.html\r\n  [2]: https://www.jooq.org/doc/dev/manual/sql-building/dsl-context/custom-settings/settings-execute-logging/","title":"jOOQ doesn&#39;t log the SQL queries it executes, despite enabling DEBUG logging","body":"<p>I'm assuming you mean logging with the <a href=\"https://www.jooq.org/javadoc/dev/org.jooq/org/jooq/tools/LoggerListener.html\" rel=\"nofollow noreferrer\"><code>org.jooq.tools.LoggerListener</code></a>, which by default <code>DEBUG</code> logs all your queries and their results.</p>\n<p>There's a flag to turn that off completely. It's enabled by default. You may have turned it off with <a href=\"https://www.jooq.org/doc/dev/manual/sql-building/dsl-context/custom-settings/settings-execute-logging/\" rel=\"nofollow noreferrer\"><code>Settings.executeLogging</code></a>.</p>\n<p>Another reason may be that jOOQ's <code>org.jooq.tools.JooqLogger</code> tries to classload <code>org.slf4j.Logger</code> and logs through that if available, falling back to <code>java.util.logging</code> otherwise. Do check that you make slf4j available to jOOQ on the classpath or modulepath, and that you have it backed by logback.</p>\n"},{"tags":[],"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687929959,"creation_date":1687929959,"answer_id":76570263,"question_id":76564333,"body_markdown":"I looked at this a bit more (it was a problem I ran into [last week](https://stackoverflow.com/questions/72743011/how-to-get-the-jooq-query-text-using-aspectj-without-changing-the-query-method-i/72743563?noredirect=1#comment134933890_72743563)), and it turned out I was wrong. jOOQ _did_ indeed log the queries, using the `o.j.t.L.o.j.t.LoggerListener`. The problem was just this:\r\n\r\n* I was running different queries on multiple threads.\r\n* Other queries were being logged _after_ this query.\r\n* This particular query returned 21 million records, leading to the following:\r\n\r\n   ```\r\n   java.lang.OutOfMemoryError: Java heap space\r\n   Dumping heap to /tmp/java_pid104782.hprof ...\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the  UncaughtExceptionHandler in thread &quot;Thread-0 (ActiveMQ-scheduled-threads)&quot;\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 14&quot;\r\n   Heap dump file created [6088668813 bytes in 48.331 secs]\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;req-rsp-timeout-task&quot;\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 5&quot;\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;lettuce-eventExecutorLoop-1-3&quot;\r\n\r\n   Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 11&quot;\r\n   ```\r\n\r\n* Because of the above, the `Fetched result` and `Fetched row(s)` messages were never logged. And in general, it was hard to understand that it was _that_ specific query that failed, because it wasn&#39;t the &quot;last&quot; query to be logged, so to speak (because of the queries from the other threads).\r\n\r\nWhat I did to mitigate this was to add an `onRenderEnd` handler for the particular query that was failing (I stepped through the code with the debugger to roughly see which jOOQ query this was). Using this, I was able to pin-point the logging for my particular query more easily.\r\n\r\nPosting all these details in the help that it might help others and/or my future self.\r\n\r\n```diff\r\ndiff --git a/path/to/MyClass.java b/path/to/MyClass.java\r\nindex 92beaa9a91..fcddf9c134 100644\r\n--- a/path/to/MyClass.java\r\n+++ b/path/to/MyClass.java\r\n@@ -30,6 +30,7 @@ import java.util.stream.Stream;\r\n \r\n import org.jooq.DSLContext;\r\n import org.jooq.DatePart;\r\n+import org.jooq.ExecuteListener;\r\n import org.jooq.Field;\r\n import org.jooq.Name;\r\n import org.jooq.Record1;\r\n@@ -417,6 +418,10 @@ public class MyClass {\r\n             // arithmetics on `Field&lt;Instant&gt;` https://stackoverflow.com/a/71508599\r\n             Field&lt;Instant&gt; upperRelatedLimit = field( &quot;(&quot; + seriesTimeFieldName.first() + &quot; + INTERVAL &#39;1 hour&#39;)&quot;, Instant.class );\r\n \r\n+            create.configuration().set( ExecuteListener.onRenderEnd( ctx -&gt; {\r\n+                System.out.println( ctx.sql() );\r\n+            } ) );\r\n+\r\n             try ( Stream&lt;AssignedDeviceConnectionState&gt; connectionStates = auditDsl.select(\r\n                     field( &quot;series.&quot; + seriesTimeFieldName.first(), Instant.class ).as( &quot;time&quot; ),\r\n                     field( &quot;d.id&quot;, Integer.class ).as( &quot;device_id&quot; ),\r\n```","title":"jOOQ doesn&#39;t log the SQL queries it executes, despite enabling DEBUG logging","body":"<p>I looked at this a bit more (it was a problem I ran into <a href=\"https://stackoverflow.com/questions/72743011/how-to-get-the-jooq-query-text-using-aspectj-without-changing-the-query-method-i/72743563?noredirect=1#comment134933890_72743563\">last week</a>), and it turned out I was wrong. jOOQ <em>did</em> indeed log the queries, using the <code>o.j.t.L.o.j.t.LoggerListener</code>. The problem was just this:</p>\n<ul>\n<li><p>I was running different queries on multiple threads.</p>\n</li>\n<li><p>Other queries were being logged <em>after</em> this query.</p>\n</li>\n<li><p>This particular query returned 21 million records, leading to the following:</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\nDumping heap to /tmp/java_pid104782.hprof ...\n\nException: java.lang.OutOfMemoryError thrown from the  UncaughtExceptionHandler in thread &quot;Thread-0 (ActiveMQ-scheduled-threads)&quot;\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 14&quot;\nHeap dump file created [6088668813 bytes in 48.331 secs]\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;req-rsp-timeout-task&quot;\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 5&quot;\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;lettuce-eventExecutorLoop-1-3&quot;\n\nException: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread &quot;I/O dispatcher 11&quot;\n</code></pre>\n</li>\n<li><p>Because of the above, the <code>Fetched result</code> and <code>Fetched row(s)</code> messages were never logged. And in general, it was hard to understand that it was <em>that</em> specific query that failed, because it wasn't the &quot;last&quot; query to be logged, so to speak (because of the queries from the other threads).</p>\n</li>\n</ul>\n<p>What I did to mitigate this was to add an <code>onRenderEnd</code> handler for the particular query that was failing (I stepped through the code with the debugger to roughly see which jOOQ query this was). Using this, I was able to pin-point the logging for my particular query more easily.</p>\n<p>Posting all these details in the help that it might help others and/or my future self.</p>\n<pre><code>diff --git a/path/to/MyClass.java b/path/to/MyClass.java\nindex 92beaa9a91..fcddf9c134 100644\n--- a/path/to/MyClass.java\n+++ b/path/to/MyClass.java\n@@ -30,6 +30,7 @@ import java.util.stream.Stream;\n \n import org.jooq.DSLContext;\n import org.jooq.DatePart;\n+import org.jooq.ExecuteListener;\n import org.jooq.Field;\n import org.jooq.Name;\n import org.jooq.Record1;\n@@ -417,6 +418,10 @@ public class MyClass {\n             // arithmetics on `Field&lt;Instant&gt;` https://stackoverflow.com/a/71508599\n             Field&lt;Instant&gt; upperRelatedLimit = field( &quot;(&quot; + seriesTimeFieldName.first() + &quot; + INTERVAL '1 hour')&quot;, Instant.class );\n \n+            create.configuration().set( ExecuteListener.onRenderEnd( ctx -&gt; {\n+                System.out.println( ctx.sql() );\n+            } ) );\n+\n             try ( Stream&lt;AssignedDeviceConnectionState&gt; connectionStates = auditDsl.select(\n                     field( &quot;series.&quot; + seriesTimeFieldName.first(), Instant.class ).as( &quot;time&quot; ),\n                     field( &quot;d.id&quot;, Integer.class ).as( &quot;device_id&quot; ),\n</code></pre>\n"}],"owner":{"account_id":80581,"reputation":3955,"user_id":227779,"accept_rate":38,"display_name":"Per Lundberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76570263,"answer_count":2,"score":0,"last_activity_date":1687929959,"creation_date":1687864773,"question_id":76564333,"body_markdown":"My application uses Logback and I&#39;ve enabled `DEBUG` logging for `org.jooq` in my Logback configuration. Despite this, jOOQ doesn&#39;t log the SQL queries (as it ought to). What can be causing this?","title":"jOOQ doesn&#39;t log the SQL queries it executes, despite enabling DEBUG logging","body":"<p>My application uses Logback and I've enabled <code>DEBUG</code> logging for <code>org.jooq</code> in my Logback configuration. Despite this, jOOQ doesn't log the SQL queries (as it ought to). What can be causing this?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687935513,"post_id":76570253,"comment_id":135004804,"body_markdown":"*= new ByteArrayInputStream(result.getBytes(StandardCharsets.UTF_8));* How do you know it&#39;s UTF-8? Looks like it isn&#39;t. It might be, say, Windows-1252, but you shouldn&#39;t probably have to guess","body":"<i>= new ByteArrayInputStream(result.getBytes(StandardCharsets.UTF_8)&zwnj;&#8203;);</i> How do you know it&#39;s UTF-8? Looks like it isn&#39;t. It might be, say, Windows-1252, but you shouldn&#39;t probably have to guess"}],"owner":{"account_id":28909765,"reputation":1,"user_id":22143032,"display_name":"rajasekharreddy thippaluri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687929794,"creation_date":1687929794,"question_id":76570253,"body_markdown":"i have an xml which contains some special words bt after reading from db its converting those special characters to ? mark\r\n\r\ninput  xml one of the tag  :  &lt;title_block_short&gt;UNITED STATES v. GARC&#205;A N&#218;&#209;EZ&lt;/title_block_short&gt;\r\n               &lt;title_meta&gt;UNITED STATES v. GARC&#205;A N&#218;&#209;EZ&lt;/title_meta&gt;\r\n\t\t\t   \r\n\t\t\t   \r\n\tcurrent oupput : &lt;title_block_short&gt;UNITED STATES v. GARCA NEZ&lt;/title_block_short&gt;\r\n            &lt;title_meta&gt;UNITED STATES v. GARCA NEZ&lt;/title_meta&gt;\t\r\n\t\r\n\r\n     desired output: &lt;title_block_short&gt;UNITED STATES v. GARC&#205;A N&#218;&#209;EZ&lt;/title_block_short&gt;\r\n               &lt;title_meta&gt;UNITED STATES v. GARC&#205;A N&#218;&#209;EZ&lt;/title_meta&gt;\r\n\r\nSample code of reading xml in my application\r\n\r\n    InputStream is = new ByteArrayInputStream(result.getBytes(StandardCharsets.UTF_8));\r\n    Document doc = xmlHelperTools.xmlStreamToDocument(is);\r\n\r\nI have tried all the possible solutions,Could someone help me on this thanks for advance.\r\n\r\n\r\ncurrent oupput : &lt;title_block_short&gt;UNITED STATES v. GARCA NEZ&lt;/title_block_short&gt;\r\n            &lt;title_meta&gt;UNITED STATES v. GARCA NEZ&lt;/title_meta&gt;\t\r\n\t","title":"accented characters displayed as ?","body":"<p>i have an xml which contains some special words bt after reading from db its converting those special characters to ? mark</p>\n<p>input  xml one of the tag  :  &lt;title_block_short&gt;UNITED STATES v. GARCA NEZ&lt;/title_block_short&gt;\n&lt;title_meta&gt;UNITED STATES v. GARCA NEZ&lt;/title_meta&gt;</p>\n<pre><code>current oupput : &lt;title_block_short&gt;UNITED STATES v. GARCA NEZ&lt;/title_block_short&gt;\n        &lt;title_meta&gt;UNITED STATES v. GARCA NEZ&lt;/title_meta&gt;   \n\n\n desired output: &lt;title_block_short&gt;UNITED STATES v. GARCA NEZ&lt;/title_block_short&gt;\n           &lt;title_meta&gt;UNITED STATES v. GARCA NEZ&lt;/title_meta&gt;\n</code></pre>\n<p>Sample code of reading xml in my application</p>\n<pre><code>InputStream is = new ByteArrayInputStream(result.getBytes(StandardCharsets.UTF_8));\nDocument doc = xmlHelperTools.xmlStreamToDocument(is);\n</code></pre>\n<p>I have tried all the possible solutions,Could someone help me on this thanks for advance.</p>\n<p>current oupput : &lt;title_block_short&gt;UNITED STATES v. GARCA NEZ&lt;/title_block_short&gt;\n&lt;title_meta&gt;UNITED STATES v. GARCA NEZ&lt;/title_meta&gt;</p>\n"},{"tags":["java","gradle","networking","download","artifacts"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1687835854,"post_id":76561386,"comment_id":134988602,"body_markdown":"What is the problem here, please provide problem statement in the begging of your post","body":"What is the problem here, please provide problem statement in the begging of your post"}],"answers":[{"tags":[],"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687871124,"creation_date":1687871124,"answer_id":76565183,"question_id":76561386,"body_markdown":"It looks like it&#39;s failing to get your resources:\r\n\r\n&gt; `Could not HEAD &#39;...`\r\n\r\nLooking at your error messages, though, it&#39;s trying to go to an invalid domain name:\r\n\r\n&gt; `https://storage.flutter-io.c/...`\r\n\r\n`storage.flutter-io.c` is not a valid domain name.  This leads one to assume that you have mis-configured something elsewhere in your Gradle file.\r\n\r\nPlease either check your `build.gradle` or post it here for further investigation.","title":"I am getting this error while running my app","body":"<p>It looks like it's failing to get your resources:</p>\n<blockquote>\n<p><code>Could not HEAD '...</code></p>\n</blockquote>\n<p>Looking at your error messages, though, it's trying to go to an invalid domain name:</p>\n<blockquote>\n<p><code>https://storage.flutter-io.c/...</code></p>\n</blockquote>\n<p><code>storage.flutter-io.c</code> is not a valid domain name.  This leads one to assume that you have mis-configured something elsewhere in your Gradle file.</p>\n<p>Please either check your <code>build.gradle</code> or post it here for further investigation.</p>\n"}],"owner":{"account_id":28901640,"reputation":1,"user_id":22136454,"display_name":"Ahmed Magdy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687929784,"creation_date":1687835754,"question_id":76561386,"body_markdown":"```\r\nExecution failed for task &#39;:app:checkDebugAarMetadata&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:app:debugRuntimeClasspath&#39;.\r\n   &gt; Could not resolve io.flutter:flutter_embedding_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\r\n     Required by:\r\n         project :app\r\n &gt;Could not get resource &#39;https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom&#39;.\r\n        &gt; Could not HEAD &#39;https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom&#39;.\r\n           [text](https://stackoverflow.com)&gt; storage.flutter-io.c\r\n```\r\n\r\n&gt; Could not resolve io.flutter:x86_64_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\r\n&gt; Required by:\r\n&gt; project :app\r\n&gt; Could not resolve io.flutter:x86_64_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\r\n&gt; Could not get resource &#39;https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_64_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_64_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom&#39;.\r\n&gt; Could not HEAD &#39;https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_64_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_64_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom&#39;.\r\n&gt; storage.flutter-io.c\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 5s\r\n\\[!\\] Gradle threw an error while downloading artifacts from the network.\r\n\r\n\\[!\\] Gradle threw an error while downloading artifacts from the network.\r\n\r\n&gt; I think problem is there","title":"I am getting this error while running my app","body":"<pre><code>Execution failed for task ':app:checkDebugAarMetadata'.\n&gt; Could not resolve all files for configuration ':app:debugRuntimeClasspath'.\n   &gt; Could not resolve io.flutter:flutter_embedding_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\n     Required by:\n         project :app\n &gt;Could not get resource 'https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom'.\n        &gt; Could not HEAD 'https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom'.\n           [text](https://stackoverflow.com)&gt; storage.flutter-io.c\n</code></pre>\n<blockquote>\n<p>Could not resolve io.flutter:x86_64_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\nRequired by:\nproject :app\nCould not resolve io.flutter:x86_64_debug:1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.\nCould not get resource 'https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_64_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_64_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom'.\nCould not HEAD 'https://storage.flutter-io.c/download.flutter.io/io/flutter/x86_64_debug/1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420/x86_64_debug-1.0.0-45f6e009110df4f34ec2cf99f63cf73b71b7a420.pom'.\nstorage.flutter-io.c</p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 5s\n[!] Gradle threw an error while downloading artifacts from the network.</p>\n<p>[!] Gradle threw an error while downloading artifacts from the network.</p>\n<blockquote>\n<p>I think problem is there</p>\n</blockquote>\n"},{"tags":["java","tomcat","xampp","catalina"],"comments":[{"owner":{"account_id":12878353,"reputation":121,"user_id":9314207,"display_name":"Huntwer"},"score":0,"creation_date":1521248842,"post_id":49287667,"comment_id":85664977,"body_markdown":"Up. There isn&#39;t anyone which can help me?","body":"Up. There isn&#39;t anyone which can help me?"},{"owner":{"account_id":12878353,"reputation":121,"user_id":9314207,"display_name":"Huntwer"},"score":0,"creation_date":1524419709,"post_id":49287667,"comment_id":86953814,"body_markdown":"I solved this. I had the wrong JAVA_HOME settings.","body":"I solved this. I had the wrong JAVA_HOME settings."},{"owner":{"account_id":13412966,"reputation":143,"user_id":9678643,"display_name":"Yonela Nuba"},"score":0,"creation_date":1556103965,"post_id":49287667,"comment_id":98321719,"body_markdown":"How did you do it? Because I can&#39;t fix this error","body":"How did you do it? Because I can&#39;t fix this error"}],"answers":[{"tags":[],"owner":{"account_id":15433599,"reputation":21,"user_id":11134278,"display_name":"Abhishek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551423950,"creation_date":1551417748,"answer_id":54938398,"question_id":49287667,"body_markdown":"I solved the problem for me by downloading Java 11.0.2 using the zip-file. Thus it didn&#39;t create the registry entry, so I manually added it. The code above only searches for the registry key in `KeyName`, so just create the key as \r\n\r\n    HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\\&lt;your version&gt;\r\n\r\nThere is no need to add any values, just create the path.\r\n\r\nYou can do this by\r\n\r\n- pressing Win+R\r\n- typing &quot;regedit&quot;\r\n- then go to HKEY_LOCAL_MACHINE -&gt; SOFTWARE\r\n- right click on SOFTWARE\r\n- select New -&gt; Key\r\n- name the new folder &quot;JavaSoft&quot;\r\n- right click on the newly created JavaSoft folder\r\n- select New -&gt; Key\r\n- name the new folder &quot;Java Development Kit&quot;.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/EGFmL.png&quot;&gt;\r\n","title":"Tomcat upon XAMPP doesn&#39;t launch for JAVA_HOME","body":"<p>I solved the problem for me by downloading Java 11.0.2 using the zip-file. Thus it didn't create the registry entry, so I manually added it. The code above only searches for the registry key in <code>KeyName</code>, so just create the key as </p>\n\n<pre><code>HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\\&lt;your version&gt;\n</code></pre>\n\n<p>There is no need to add any values, just create the path.</p>\n\n<p>You can do this by</p>\n\n<ul>\n<li>pressing Win+R</li>\n<li>typing \"regedit\"</li>\n<li>then go to HKEY_LOCAL_MACHINE -> SOFTWARE</li>\n<li>right click on SOFTWARE</li>\n<li>select New -> Key</li>\n<li>name the new folder \"JavaSoft\"</li>\n<li>right click on the newly created JavaSoft folder</li>\n<li>select New -> Key</li>\n<li>name the new folder \"Java Development Kit\".</li>\n</ul>\n\n<p><img src=\"https://i.stack.imgur.com/EGFmL.png\"></p>\n"},{"comments":[{"owner":{"account_id":12907233,"reputation":5269,"user_id":9334155,"display_name":"Husam Ebish"},"score":0,"creation_date":1648153317,"post_id":55730622,"comment_id":126559336,"body_markdown":"Thx, I just want to point out that this configuration must be in C:\\xampp\\tomcat\\catalina_start.bat -Just open the catalina_start.bat \nin any text editor and apply the changes","body":"Thx, I just want to point out that this configuration must be in C:\\xampp\\tomcat\\catalina_start.bat -Just open the catalina_start.bat  in any text editor and apply the changes"}],"tags":[],"owner":{"account_id":258216,"reputation":4197,"user_id":540247,"accept_rate":83,"display_name":"DKSan"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555513172,"creation_date":1555513172,"answer_id":55730622,"question_id":49287667,"body_markdown":"I solved the issue by changing the line\r\n\r\n    set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\r\n\r\nto \r\n\r\n    set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\JDK\r\n\r\nI had a look into my registry and found the expected Key had been created with the commonly used abbreviation `JDK`.\r\n\r\nAs an extra i also changed my `tomcat_service_install.bat` to the above mentioned keyname. This made the installation as a windows service possible.","title":"Tomcat upon XAMPP doesn&#39;t launch for JAVA_HOME","body":"<p>I solved the issue by changing the line</p>\n\n<pre><code>set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\n</code></pre>\n\n<p>to </p>\n\n<pre><code>set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\JDK\n</code></pre>\n\n<p>I had a look into my registry and found the expected Key had been created with the commonly used abbreviation <code>JDK</code>.</p>\n\n<p>As an extra i also changed my <code>tomcat_service_install.bat</code> to the above mentioned keyname. This made the installation as a windows service possible.</p>\n"},{"comments":[{"owner":{"account_id":113555,"reputation":1226,"user_id":299014,"accept_rate":82,"display_name":"JRSofty"},"score":0,"creation_date":1699255610,"post_id":76570239,"comment_id":136503702,"body_markdown":"Also important to put it in your catalina_stop.bat","body":"Also important to put it in your catalina_stop.bat"},{"owner":{"account_id":113555,"reputation":1226,"user_id":299014,"accept_rate":82,"display_name":"JRSofty"},"score":0,"creation_date":1699256072,"post_id":76570239,"comment_id":136503777,"body_markdown":"You&#39;ll also likely need to comment out the registry query checks and error handling so that it will continue to this setting.","body":"You&#39;ll also likely need to comment out the registry query checks and error handling so that it will continue to this setting."}],"tags":[],"owner":{"account_id":26790164,"reputation":11,"user_id":20383707,"display_name":"Seong Soo Lee"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687929609,"creation_date":1687929609,"answer_id":76570239,"question_id":49287667,"body_markdown":"add a row your catalina_start.bat as below line ;\r\n\r\n    set &quot;CURRENT_DIR=%cd%&quot;\r\n    set &quot;CATALINA_HOME=%CURRENT_DIR%&quot;\r\n    set JAVA_HOME=C:\\yourJDKpath","title":"Tomcat upon XAMPP doesn&#39;t launch for JAVA_HOME","body":"<p>add a row your catalina_start.bat as below line ;</p>\n<pre><code>set &quot;CURRENT_DIR=%cd%&quot;\nset &quot;CATALINA_HOME=%CURRENT_DIR%&quot;\nset JAVA_HOME=C:\\yourJDKpath\n</code></pre>\n"}],"owner":{"account_id":12878353,"reputation":121,"user_id":9314207,"display_name":"Huntwer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6082,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1687929609,"creation_date":1521061772,"question_id":49287667,"body_markdown":"I have already read and tried a lot posts on SO, but no one has solved this issue.\r\n\r\nI set to enviroment variables for JDK and JRE release. I have add the same values within both sections &quot;user&#39;s variables for USER&quot; and &quot;system variables&quot;. The variables that I have added is: `JAVA_HOME-&gt;C:\\PROGRA~1\\Java\\JDK9U4~1 and JRE_HOME-&gt;C:\\PROGRA~1\\Java\\JRE9U4~1.`\r\n\r\nMy installations directory for JDK and JRE are respectly &quot;C:\\Program Files\\Java\\JDK 9u4&quot; and &quot;C:\\Program Files\\Java\\JRE 9u4&quot;.\r\n\r\nWhen I run catalina_start.bat, I getting this error:\r\n\r\n    [XAMPP]: Searching JDK HOME with reg query ...\r\n    Errore: The registry key or the specified value could not be found.\r\n    . [XAMPP]: Cannot find current JDK installation!\r\n    . [XAMPP]: Cannot set JAVA_HOME. Aborting ...\r\n    done.\r\n\r\nThe text of my catalina_start.bat file (and I think this is default) is:\r\n\r\n    @echo off\r\n    ::::::::::::::::::::::::::::::::::::\r\n    ::  Set JAVA_HOME and   ::\r\n    ::::::::::::::::::::::::::::::::::::\r\n    \r\n    IF EXIST tomcat\\logs\\catalina.pid (\r\n      del /F/Q tomcat\\logs\\catalina.pid\r\n    ) \r\n    \r\n    echo.\r\n    echo [XAMPP]: Searching JDK HOME with reg query ...\r\n    set KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\r\n    \r\n    reg query &quot;%KeyName%&quot; /s\r\n    if %ERRORLEVEL% == 1 (\r\n      echo . [XAMPP]: Cannot find current JDK installation! \r\n      echo . [XAMPP]: Cannot set JAVA_HOME. Aborting ...\r\n      goto :END\r\n    )\r\n    \r\n    set &quot;CURRENT_DIR=%cd%&quot;\r\n    set &quot;CATALINA_HOME=%CURRENT_DIR%&quot;\r\n    \r\n    :: only for windows 32 bit if you have problems with the tcnative-1.dll\r\n    :: set CATALINA_OPTS=-Djava.library.path=&quot;%CATALINA_HOME%\\bin&quot;\r\n    \r\n    set Cmd=reg query &quot;%KeyName%&quot; /s\r\n    for /f &quot;tokens=2*&quot; %%i in (&#39;%Cmd% ^| find &quot;JavaHome&quot;&#39;) do set JAVA_HOME=%%j\r\n    \r\n    echo.\r\n    echo [XAMPP]: Seems fine!\r\n    echo [XAMPP]: Set JAVA_HOME : %JAVA_HOME%\r\n    echo [XAMPP]: Set CATALINA_HOME : %CATALINA_HOME%\r\n    echo.\r\n    \r\n    if %ERRORLEVEL% == 0 (\r\n    echo run &gt; logs\\catalina.pid\r\n    )\r\n    \r\n    &quot;%CATALINA_HOME%\\bin\\catalina.bat&quot; run\r\n    \r\n    \r\n    :END\r\n    echo done.\r\n    pause\r\n\r\nI have already tried many solutions, but nothing have helped me. I wondered if someone could to help me with this, I would be very grateful. I hope that I have explained myself clearly (sorry for my english). Thanks for advices.","title":"Tomcat upon XAMPP doesn&#39;t launch for JAVA_HOME","body":"<p>I have already read and tried a lot posts on SO, but no one has solved this issue.</p>\n\n<p>I set to enviroment variables for JDK and JRE release. I have add the same values within both sections \"user's variables for USER\" and \"system variables\". The variables that I have added is: <code>JAVA_HOME-&gt;C:\\PROGRA~1\\Java\\JDK9U4~1 and JRE_HOME-&gt;C:\\PROGRA~1\\Java\\JRE9U4~1.</code></p>\n\n<p>My installations directory for JDK and JRE are respectly \"C:\\Program Files\\Java\\JDK 9u4\" and \"C:\\Program Files\\Java\\JRE 9u4\".</p>\n\n<p>When I run catalina_start.bat, I getting this error:</p>\n\n<pre><code>[XAMPP]: Searching JDK HOME with reg query ...\nErrore: The registry key or the specified value could not be found.\n. [XAMPP]: Cannot find current JDK installation!\n. [XAMPP]: Cannot set JAVA_HOME. Aborting ...\ndone.\n</code></pre>\n\n<p>The text of my catalina_start.bat file (and I think this is default) is:</p>\n\n<pre><code>@echo off\n::::::::::::::::::::::::::::::::::::\n::  Set JAVA_HOME and   ::\n::::::::::::::::::::::::::::::::::::\n\nIF EXIST tomcat\\logs\\catalina.pid (\n  del /F/Q tomcat\\logs\\catalina.pid\n) \n\necho.\necho [XAMPP]: Searching JDK HOME with reg query ...\nset KeyName=HKEY_LOCAL_MACHINE\\SOFTWARE\\JavaSoft\\Java Development Kit\n\nreg query \"%KeyName%\" /s\nif %ERRORLEVEL% == 1 (\n  echo . [XAMPP]: Cannot find current JDK installation! \n  echo . [XAMPP]: Cannot set JAVA_HOME. Aborting ...\n  goto :END\n)\n\nset \"CURRENT_DIR=%cd%\"\nset \"CATALINA_HOME=%CURRENT_DIR%\"\n\n:: only for windows 32 bit if you have problems with the tcnative-1.dll\n:: set CATALINA_OPTS=-Djava.library.path=\"%CATALINA_HOME%\\bin\"\n\nset Cmd=reg query \"%KeyName%\" /s\nfor /f \"tokens=2*\" %%i in ('%Cmd% ^| find \"JavaHome\"') do set JAVA_HOME=%%j\n\necho.\necho [XAMPP]: Seems fine!\necho [XAMPP]: Set JAVA_HOME : %JAVA_HOME%\necho [XAMPP]: Set CATALINA_HOME : %CATALINA_HOME%\necho.\n\nif %ERRORLEVEL% == 0 (\necho run &gt; logs\\catalina.pid\n)\n\n\"%CATALINA_HOME%\\bin\\catalina.bat\" run\n\n\n:END\necho done.\npause\n</code></pre>\n\n<p>I have already tried many solutions, but nothing have helped me. I wondered if someone could to help me with this, I would be very grateful. I hope that I have explained myself clearly (sorry for my english). Thanks for advices.</p>\n"},{"tags":["java","neo4j","spring-data-neo4j"],"answers":[{"tags":[],"owner":{"account_id":13001928,"reputation":46,"user_id":9397755,"display_name":"Jennifer Reif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687873706,"creation_date":1687873706,"answer_id":76565546,"question_id":76564327,"body_markdown":"You should need to map the relationship properties class by putting that in your domain class. I like to think of the relationship properties class as a separate entity where you need to chain a node to a relationship to a node. So, in the Store class, you need something like this:\r\n\r\n```\r\n@Relationship(&quot;HasProduct&quot;)\r\nprivate List&lt;HasProduct&gt; topSellingProducts;\r\n```\r\n\r\nCouple small examples: \r\n* https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#mapping.annotations.relationship.properties\r\n* https://github.com/JMHReif/neo4j-code-wars/blob/master/src/main/java/com/jmhreif/neo4jcodewars/Order.java","title":"Unable to save Relationship property values in Spring data Neo4j 3.1","body":"<p>You should need to map the relationship properties class by putting that in your domain class. I like to think of the relationship properties class as a separate entity where you need to chain a node to a relationship to a node. So, in the Store class, you need something like this:</p>\n<pre><code>@Relationship(&quot;HasProduct&quot;)\nprivate List&lt;HasProduct&gt; topSellingProducts;\n</code></pre>\n<p>Couple small examples:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#mapping.annotations.relationship.properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/neo4j/docs/current/reference/html/#mapping.annotations.relationship.properties</a></li>\n<li><a href=\"https://github.com/JMHReif/neo4j-code-wars/blob/master/src/main/java/com/jmhreif/neo4jcodewars/Order.java\" rel=\"nofollow noreferrer\">https://github.com/JMHReif/neo4j-code-wars/blob/master/src/main/java/com/jmhreif/neo4jcodewars/Order.java</a></li>\n</ul>\n"}],"owner":{"account_id":18614388,"reputation":3,"user_id":13566020,"display_name":"Abhijeet Mahapatro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687929516,"creation_date":1687864702,"question_id":76564327,"body_markdown":"I have a simple usage case where I have n store --&gt; which has k number of products. I want to connect the store with a relationship HasProduct. On that realationship I want to capture product qty, price because of each store the qty and price will be different.\r\n\r\n```\r\n@Data\r\n@Node\r\npublic class Store {\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\t@Property\r\n\tprivate String businessType;\r\n\t@Property\r\n\tprivate int currentOnhandInventory;\r\n\t@Property\r\n\tprivate String locationId;\r\n\t@Property\r\n\t@Relationship(type = &quot;HasProduct&quot;, value = &quot;HasProduct&quot;, direction = Direction.OUTGOING)\r\n\tprivate List&lt;Product&gt; topSellingProducts;\r\n}\r\n\r\n@Data\r\n@Node\r\npublic class Product {\r\n\r\n\t@Id\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\t@Property\r\n\tprivate String name;\r\n\t@Property\r\n\tprivate String description;\r\n\t@Property\r\n\tprivate String department;\r\n\t@Property\r\n\t@Relationship\r\n\tprivate Store store;\r\n\r\n}\r\n\r\n@Data\r\n@RelationshipProperties\r\npublic class HasProduct {\r\n\r\n\t@RelationshipId\r\n\t@GeneratedValue\r\n\tprivate Long id;\r\n\r\n\t@Property\r\n\tprivate String qty;\r\n\r\n\t@Property\r\n\tprivate Double price;\r\n\r\n\t@TargetNode\r\n\tprivate Product product;\r\n\r\n}\r\n\r\n@RestController\r\n@RequestMapping(&quot;/store&quot;)\r\npublic class StoreController {\r\n\r\n\tprivate StoreRepository storeRepository;\r\n\t\r\n\tpublic StoreController(StoreRepository storeRepository) {\r\n\t\tthis.storeRepository = storeRepository;\r\n\t}\r\n\r\n\t@PutMapping\r\n\tMono&lt;Store&gt; createOrUpdateStore(@RequestBody Store newStore) {\r\n\t\treturn storeRepository.save(newStore);\r\n\t}\r\n\r\n\t@GetMapping\r\n\tMono&lt;Store&gt; getStoreById(@RequestParam Long id) {\r\n\t\treturn storeRepository.findById(id);\r\n\t}\r\n}\r\n\r\n@org.springframework.context.annotation.Configuration\r\npublic class Config {\r\n\r\n\t\r\n\t@Bean(ReactiveNeo4jRepositoryConfigurationExtension.DEFAULT_TRANSACTION_MANAGER_BEAN_NAME)\r\n\tpublic ReactiveTransactionManager reactiveTransactionManager(\r\n\t    Driver driver,\r\n\t    ReactiveDatabaseSelectionProvider databaseNameProvider) {\r\n\t    return new ReactiveNeo4jTransactionManager(driver, databaseNameProvider);\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic Configuration cypherDslConfiguration() {\r\n\t    return Configuration.newConfig()\r\n\t        .withDialect(Dialect.NEO4J_5)\r\n\t        .build();\r\n\t} \r\n}\r\n\r\npublic interface StoreRepository extends ReactiveNeo4jRepository&lt;Store, Long&gt; {\r\n\tMono&lt;List&lt;Store&gt;&gt; findOneById(Long id);\r\n}\r\n```\r\n\r\n When I am trying to save a store object I am getting this error \r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;valueToCheck&quot; is null\r\n    at org.springframework.data.neo4j.core.mapping.NestedRelationshipProcessingStateMachine.hasProcessedValue(NestedRelationshipProcessingStateMachine.java:178) ~[spring-data-neo4j-7.1.0.jar:7.1.0]\r\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\r\nAssembly trace from producer [reactor.core.publisher.FluxPeek] :\r\n    reactor.core.publisher.Flux.checkpoint(Flux.java:3454)\r\n    org.springframework.data.neo4j.core.ReactiveNeo4jTemplate.processNestedRelations(ReactiveNeo4jTemplate.java:1049)\r\n```\r\n\r\nCan somebody help with this, as there are not much documentation or examples are available for Spring data 3.1.","title":"Unable to save Relationship property values in Spring data Neo4j 3.1","body":"<p>I have a simple usage case where I have n store --&gt; which has k number of products. I want to connect the store with a relationship HasProduct. On that realationship I want to capture product qty, price because of each store the qty and price will be different.</p>\n<pre><code>@Data\n@Node\npublic class Store {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    @Property\n    private String businessType;\n    @Property\n    private int currentOnhandInventory;\n    @Property\n    private String locationId;\n    @Property\n    @Relationship(type = &quot;HasProduct&quot;, value = &quot;HasProduct&quot;, direction = Direction.OUTGOING)\n    private List&lt;Product&gt; topSellingProducts;\n}\n\n@Data\n@Node\npublic class Product {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n    @Property\n    private String name;\n    @Property\n    private String description;\n    @Property\n    private String department;\n    @Property\n    @Relationship\n    private Store store;\n\n}\n\n@Data\n@RelationshipProperties\npublic class HasProduct {\n\n    @RelationshipId\n    @GeneratedValue\n    private Long id;\n\n    @Property\n    private String qty;\n\n    @Property\n    private Double price;\n\n    @TargetNode\n    private Product product;\n\n}\n\n@RestController\n@RequestMapping(&quot;/store&quot;)\npublic class StoreController {\n\n    private StoreRepository storeRepository;\n    \n    public StoreController(StoreRepository storeRepository) {\n        this.storeRepository = storeRepository;\n    }\n\n    @PutMapping\n    Mono&lt;Store&gt; createOrUpdateStore(@RequestBody Store newStore) {\n        return storeRepository.save(newStore);\n    }\n\n    @GetMapping\n    Mono&lt;Store&gt; getStoreById(@RequestParam Long id) {\n        return storeRepository.findById(id);\n    }\n}\n\n@org.springframework.context.annotation.Configuration\npublic class Config {\n\n    \n    @Bean(ReactiveNeo4jRepositoryConfigurationExtension.DEFAULT_TRANSACTION_MANAGER_BEAN_NAME)\n    public ReactiveTransactionManager reactiveTransactionManager(\n        Driver driver,\n        ReactiveDatabaseSelectionProvider databaseNameProvider) {\n        return new ReactiveNeo4jTransactionManager(driver, databaseNameProvider);\n    }\n    \n    @Bean\n    public Configuration cypherDslConfiguration() {\n        return Configuration.newConfig()\n            .withDialect(Dialect.NEO4J_5)\n            .build();\n    } \n}\n\npublic interface StoreRepository extends ReactiveNeo4jRepository&lt;Store, Long&gt; {\n    Mono&lt;List&lt;Store&gt;&gt; findOneById(Long id);\n}\n</code></pre>\n<p>When I am trying to save a store object I am getting this error</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;valueToCheck&quot; is null\n    at org.springframework.data.neo4j.core.mapping.NestedRelationshipProcessingStateMachine.hasProcessedValue(NestedRelationshipProcessingStateMachine.java:178) ~[spring-data-neo4j-7.1.0.jar:7.1.0]\n    Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nAssembly trace from producer [reactor.core.publisher.FluxPeek] :\n    reactor.core.publisher.Flux.checkpoint(Flux.java:3454)\n    org.springframework.data.neo4j.core.ReactiveNeo4jTemplate.processNestedRelations(ReactiveNeo4jTemplate.java:1049)\n</code></pre>\n<p>Can somebody help with this, as there are not much documentation or examples are available for Spring data 3.1.</p>\n"},{"tags":["java","spring-boot","aws-lambda","requesthandler"],"answers":[{"comments":[{"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"score":0,"creation_date":1687930228,"post_id":76570215,"comment_id":135004046,"body_markdown":"Thank you very much for the response. The error was solved already, so i had remove that from my actual query, but again thanks for the explanation. Regarding question 2, yes, my spring boot application is already working with 2 end points. My doubt was, after adding Lambda handler, do i need to change anything more since lambda handler has been added now. But, i understand, i don&#39;t need to do anything much, end points will work as usual but from lambda function.","body":"Thank you very much for the response. The error was solved already, so i had remove that from my actual query, but again thanks for the explanation. Regarding question 2, yes, my spring boot application is already working with 2 end points. My doubt was, after adding Lambda handler, do i need to change anything more since lambda handler has been added now. But, i understand, i don&#39;t need to do anything much, end points will work as usual but from lambda function."},{"owner":{"display_name":"user19682350"},"score":0,"creation_date":1687931890,"post_id":76570215,"comment_id":135004255,"body_markdown":"Yes, you are correct. After adding the Lambda handler and configuring your Spring Boot application to work with AWS Lambda, you don&#39;t need to make any significant changes to your existing endpoint implementations.","body":"Yes, you are correct. After adding the Lambda handler and configuring your Spring Boot application to work with AWS Lambda, you don&#39;t need to make any significant changes to your existing endpoint implementations."},{"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"score":0,"creation_date":1687993874,"post_id":76570215,"comment_id":135015961,"body_markdown":"Can you pls help me on this question too? I don&#39;t know how to test Lambda function which holds my spring boot end points. https://stackoverflow.com/questions/76577207/spring-boot-deployed-in-lambda-and-function-url-do-nothing","body":"Can you pls help me on this question too? I don&#39;t know how to test Lambda function which holds my spring boot end points. <a href=\"https://stackoverflow.com/questions/76577207/spring-boot-deployed-in-lambda-and-function-url-do-nothing\" title=\"spring boot deployed in lambda and function url do nothing\">stackoverflow.com/questions/76577207/&hellip;</a>"},{"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"score":0,"creation_date":1688003907,"post_id":76570215,"comment_id":135016718,"body_markdown":"Hi @user19682350\nCan you please help me on this request too? https://stackoverflow.com/questions/76577207/spring-boot-deployed-in-lambda-and-function-url-do-nothing","body":"Hi @user19682350 Can you please help me on this request too? <a href=\"https://stackoverflow.com/questions/76577207/spring-boot-deployed-in-lambda-and-function-url-do-nothing\" title=\"spring boot deployed in lambda and function url do nothing\">stackoverflow.com/questions/76577207/&hellip;</a>"},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688556445,"post_id":76570215,"comment_id":135088292,"body_markdown":"All three of your recent answers here appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that [posting AI-generated content is not allowed here](//meta.stackoverflow.com/q/421831). If you used an AI tool to assist with any answer, I would encourage you to delete it.","body":"All three of your recent answers here appear likely to have been entirely or partially written by AI (e.g., ChatGPT).  Please be aware that <a href=\"//meta.stackoverflow.com/q/421831\">posting AI-generated content is not allowed here</a>. If you used an AI tool to assist with any answer, I would encourage you to delete it."},{"owner":{"account_id":16352934,"reputation":16788,"user_id":11810933,"display_name":"NotTheDr01ds"},"score":0,"creation_date":1688556449,"post_id":76570215,"comment_id":135088295,"body_markdown":"**Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.** If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues.","body":"<b>Readers should review this answer carefully and critically, as AI-generated information often contains fundamental errors and misinformation.</b> If you observe quality issues and/or have reason to believe that this answer was generated by AI, please leave feedback accordingly. The moderation team can use your help to identify quality issues."}],"tags":[],"owner":{"display_name":"user19682350"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1687929220,"creation_date":1687929220,"answer_id":76570215,"question_id":76570038,"body_markdown":"The error you are experiencing is related to the method **getAwsProxyHandler()** in the **SpringBootLambdaContainerHandler** class. The error message indicates that the method is expecting a parameter of type **Class&lt;? extends WebApplicationInitializer&gt;**, but you are passing **AWSTestApplication.class**, which is of type **Class&lt;AWSTestApplication&gt;**.\r\n\r\nTo fix this error, you can try the following:\r\n\r\nEnsure that **AWSTestApplication** implements the **WebApplicationInitializer** interface. If it doesn&#39;t already, you can modify your application class as follows:\r\n\r\n    @SpringBootApplication\r\n    public class AWSTestApplication extends SpringBootServletInitializer \r\n    implements WebApplicationInitializer {\r\n        // ... your code ...\r\n    }\r\n\r\nUpdate the **getAwsProxyHandler()** call in your **AWSLambdaHandler** class to use a wildcard (**?**) for the generic type:\r\n\r\n    handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(AWSTestApplication.class);\r\n\r\nBy using Class&lt;?&gt; instead of **Class&lt;AWSTestApplication&gt;**, it should resolve the type mismatch error.\r\n\r\nRegarding your second question about handling different endpoint requests in the Lambda function, you can achieve that by implementing separate methods in your **AWSTestController** class for each endpoint. The code you provided already includes two GET endpoints: **/searchAllData** and **/searchDataByUser/{userno}**. These endpoints can be invoked by making GET requests to the corresponding URLs.\r\n\r\nMake sure you configure the necessary dependencies and mappings in your Spring Boot application to handle these requests correctly.","title":"Spring boot code integration with AWS RequestStreamHandler","body":"<p>The error you are experiencing is related to the method <strong>getAwsProxyHandler()</strong> in the <strong>SpringBootLambdaContainerHandler</strong> class. The error message indicates that the method is expecting a parameter of type <strong>Class&lt;? extends WebApplicationInitializer&gt;</strong>, but you are passing <strong>AWSTestApplication.class</strong>, which is of type <strong>Class</strong>.</p>\n<p>To fix this error, you can try the following:</p>\n<p>Ensure that <strong>AWSTestApplication</strong> implements the <strong>WebApplicationInitializer</strong> interface. If it doesn't already, you can modify your application class as follows:</p>\n<pre><code>@SpringBootApplication\npublic class AWSTestApplication extends SpringBootServletInitializer \nimplements WebApplicationInitializer {\n    // ... your code ...\n}\n</code></pre>\n<p>Update the <strong>getAwsProxyHandler()</strong> call in your <strong>AWSLambdaHandler</strong> class to use a wildcard (<strong>?</strong>) for the generic type:</p>\n<pre><code>handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(AWSTestApplication.class);\n</code></pre>\n<p>By using Class&lt;?&gt; instead of <strong>Class</strong>, it should resolve the type mismatch error.</p>\n<p>Regarding your second question about handling different endpoint requests in the Lambda function, you can achieve that by implementing separate methods in your <strong>AWSTestController</strong> class for each endpoint. The code you provided already includes two GET endpoints: <strong>/searchAllData</strong> and <strong>/searchDataByUser/{userno}</strong>. These endpoints can be invoked by making GET requests to the corresponding URLs.</p>\n<p>Make sure you configure the necessary dependencies and mappings in your Spring Boot application to handle these requests correctly.</p>\n"}],"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76570215,"answer_count":1,"score":0,"last_activity_date":1687929479,"creation_date":1687926579,"question_id":76570038,"body_markdown":"I have a spring boot application with 2 GET end point. I am trying to include Lambda handler request and deploy as AWS Lambda function.\r\n\r\nAs a first step, I added below code for RequestStreamHandler.\r\n\r\n    public class AWSLambdaHandler implements RequestStreamHandler {\r\n        private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\r\n        static {\r\n            try {\r\n                handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(AWSTestApplication.class);\r\n            } catch (ContainerInitializationException e) {\r\n                // Re-throw the exception to force another cold start\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Could not initialize Spring Boot application&quot;, e);\r\n            }\r\n        }\r\n        @Override\r\n        public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\r\n            handler.proxyStream(inputStream, outputStream, context);\r\n            // just in case it wasn&#39;t closed by the mapper\r\n            outputStream.close();\r\n        }\r\n    }\r\n\r\nApplication class:\r\n\r\n    package com.example.awstest.client;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class AWSTestApplication  extends SpringBootServletInitializer {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(AWSTestApplication.class, args);\r\n        }\r\n    }\r\n\r\n\r\nQ: I have 2 GET end points in this spring boot service. Is this way of implementing Lambda handler request is enough or Do I need to add more code for the lambda function to handle this end point requests differently?\r\n\r\nController class (just for the question 2):\r\n\r\n    @RestController\r\n    \r\n    public class AWSTestController {\r\n    \r\n            @Autowired\r\n            private AWSTestServiceDAO awstestServiceDAO;\r\n    \r\n            @CrossOrigin(origins = &quot;*&quot;)\r\n            @GetMapping(&quot;/searchAllData&quot;)\r\n            public List&lt;TESTData&gt; searchAllData() {\r\n    \r\n                List&lt;TESTData&gt; dataList = awstestServiceDAO.getAllData();\r\n                return dataList;\r\n             }\r\n    \r\n            @CrossOrigin(origins = &quot;*&quot;)\r\n            @GetMapping(&quot;/searchDataByUser/{userno}&quot;)\r\n            public List&lt;TESTData&gt; searchDataByUser(@PathVariable Integer userno) {\r\n    \r\n                List&lt;TESTData&gt; dataList = awstestServiceDAO.findDataByMemberNo(userno);\r\n                return dataList;\r\n            }\r\n    \r\n    }\r\n\r\n","title":"Spring boot code integration with AWS RequestStreamHandler","body":"<p>I have a spring boot application with 2 GET end point. I am trying to include Lambda handler request and deploy as AWS Lambda function.</p>\n<p>As a first step, I added below code for RequestStreamHandler.</p>\n<pre><code>public class AWSLambdaHandler implements RequestStreamHandler {\n    private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\n    static {\n        try {\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(AWSTestApplication.class);\n        } catch (ContainerInitializationException e) {\n            // Re-throw the exception to force another cold start\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Could not initialize Spring Boot application&quot;, e);\n        }\n    }\n    @Override\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\n        handler.proxyStream(inputStream, outputStream, context);\n        // just in case it wasn't closed by the mapper\n        outputStream.close();\n    }\n}\n</code></pre>\n<p>Application class:</p>\n<pre><code>package com.example.awstest.client;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class AWSTestApplication  extends SpringBootServletInitializer {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AWSTestApplication.class, args);\n    }\n}\n</code></pre>\n<p>Q: I have 2 GET end points in this spring boot service. Is this way of implementing Lambda handler request is enough or Do I need to add more code for the lambda function to handle this end point requests differently?</p>\n<p>Controller class (just for the question 2):</p>\n<pre><code>@RestController\n\npublic class AWSTestController {\n\n        @Autowired\n        private AWSTestServiceDAO awstestServiceDAO;\n\n        @CrossOrigin(origins = &quot;*&quot;)\n        @GetMapping(&quot;/searchAllData&quot;)\n        public List&lt;TESTData&gt; searchAllData() {\n\n            List&lt;TESTData&gt; dataList = awstestServiceDAO.getAllData();\n            return dataList;\n         }\n\n        @CrossOrigin(origins = &quot;*&quot;)\n        @GetMapping(&quot;/searchDataByUser/{userno}&quot;)\n        public List&lt;TESTData&gt; searchDataByUser(@PathVariable Integer userno) {\n\n            List&lt;TESTData&gt; dataList = awstestServiceDAO.findDataByMemberNo(userno);\n            return dataList;\n        }\n\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":0,"creation_date":1687683619,"post_id":76549520,"comment_id":134968584,"body_markdown":"Seems like facebook is redirecting you to an url with the &quot;fb&quot; scheme, most likely because it thinks you&#39;re viewing the page on a mobile phone, and wants to open the actual facebook app to view the video. What&#39;s the user agent of your webview?","body":"Seems like facebook is redirecting you to an url with the &quot;fb&quot; scheme, most likely because it thinks you&#39;re viewing the page on a mobile phone, and wants to open the actual facebook app to view the video. What&#39;s the user agent of your webview?"},{"owner":{"account_id":28890263,"reputation":1,"user_id":22127579,"display_name":"TheClimbGamer"},"score":0,"creation_date":1687683921,"post_id":76549520,"comment_id":134968611,"body_markdown":"I have the default user agent","body":"I have the default user agent"}],"answers":[{"tags":[],"owner":{"account_id":28890263,"reputation":1,"user_id":22127579,"display_name":"TheClimbGamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687929439,"creation_date":1687702340,"answer_id":76550827,"question_id":76549520,"body_markdown":"So i found the solution to this problem. Just add this User-Agent to your web view :\r\n\r\n            String MyUA = &quot;Mozilla/5.0 (Windows Phone 8.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;;\r\n            webView.getSettings().setUserAgentString(MyUA);\r\n\r\n\r\nit should now load the facebook video link into the webview","title":"Facebook video link does not open in web view java","body":"<p>So i found the solution to this problem. Just add this User-Agent to your web view :</p>\n<pre><code>        String MyUA = &quot;Mozilla/5.0 (Windows Phone 8.0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot;;\n        webView.getSettings().setUserAgentString(MyUA);\n</code></pre>\n<p>it should now load the facebook video link into the webview</p>\n"}],"owner":{"account_id":28890263,"reputation":1,"user_id":22127579,"display_name":"TheClimbGamer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76550827,"answer_count":1,"score":-1,"last_activity_date":1687929439,"creation_date":1687681324,"question_id":76549520,"body_markdown":"this is a link to a facebook video https://www.facebook.com/watch/?v=269637072007881\r\n\r\nwhen i try to open it in my app web view it redirect to a different url and show me this error\r\n\r\n`Webpage not available\r\nThe webpage at fb://fullscreen_video/269637072007881?loop=false&amp;wtsid=wt_0p0MNje32ZvW5oQjV could not be loaded because:\r\n\r\nnet::ERR_UNKNOWN_URL_SCHEME`\r\n\r\nif i try to open this url in other browser then it works perfectly.\r\n\r\nthis is my code for the webview: \r\n\r\n\r\n```\r\n            WebSettings webSettings = page.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webSettings.setDomStorageEnabled(true);\r\n            webSettings.setAllowUniversalAccessFromFileURLs(true);\r\n            webSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n            page.setWebViewClient(new WebViewClient() {//it seems not setting webclient, launches\r\n                //default browser instead of opening the page in webview\r\n                @Override\r\n                public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\r\n                    if(blockedWebsites.contains(Utils.getBaseDomain(request.getUrl().toString()))){\r\n                        Log.d(&quot;vdd&quot;, &quot;URL : &quot; + request.getUrl().toString());\r\n                        new AlertDialog.Builder(getContext())\r\n                                .setMessage(&quot;Youtube is not supported according to google policy.&quot;)\r\n                                .setNegativeButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                                    @Override\r\n                                    public void onClick(DialogInterface dialog, int which) {\r\n\r\n                                    }\r\n                                })\r\n                                .create()\r\n                                .show();\r\n                        return true;\r\n                    }\r\n                    return super.shouldOverrideUrlLoading(view, request);\r\n                }\r\n\r\n                @Override\r\n                public void onPageStarted(final WebView webview, final String url, Bitmap favicon) {\r\n                    new Handler(Looper.getMainLooper()).post(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            EditText urlBox = getVDActivity().findViewById(R.id.et_search_bar);\r\n                            urlBox.setText(url);\r\n                            urlBox.setSelection(urlBox.getText().length());\r\n                            BrowserWindow.this.url = url;\r\n                        }\r\n                    });\r\n                    view.findViewById(R.id.loadingProgress).setVisibility(View.GONE);\r\n                    loadingPageProgress.setVisibility(View.VISIBLE);\r\n                    super.onPageStarted(webview, url, favicon);\r\n                }\r\n\r\n                @Override\r\n                public void onPageFinished(WebView view, String url) {\r\n                    super.onPageFinished(view, url);\r\n                    loadingPageProgress.setVisibility(View.GONE);\r\n                }\r\n\r\n                @Override\r\n                public void onLoadResource(final WebView view, final String url) {\r\n                    Log.d(&quot;fb :&quot;, &quot;URL: &quot; + url);\r\n                    final String page = view.getUrl();\r\n                    final String title = view.getTitle();\r\n\r\n                    new VideoContentSearch(getActivity(), url, page, title) {\r\n                        @Override\r\n                        public void onStartInspectingURL() {\r\n                            Utils.disableSSLCertificateChecking();\r\n                        }\r\n\r\n                        @Override\r\n                        public void onFinishedInspectingURL(boolean finishedAll) {\r\n                            HttpsURLConnection.setDefaultSSLSocketFactory(defaultSSLSF);\r\n                        }\r\n\r\n                        @Override\r\n                        public void onVideoFound(String size, String type, String link, String name, String page, boolean chunked, String website, boolean audio) {\r\n                            videoList.addItem(size, type, link, name, page, chunked, website, audio);\r\n                            updateFoundVideosBar();\r\n                        }\r\n                    }.start();\r\n                }\r\n\r\n                @Override\r\n                public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\r\n                    if (getActivity() != null) {\r\n                        Log.d(&quot;VDDebug&quot;, &quot;Url: &quot; + url);\r\n                        if (getActivity().getSharedPreferences(&quot;settings&quot;, 0).getBoolean(getString(R\r\n                                .string.adBlockON), true)\r\n                                &amp;&amp; (url.contains(&quot;ad&quot;) || url.contains(&quot;banner&quot;) || url.contains(&quot;pop&quot;))\r\n                                &amp;&amp; getVDActivity().getBrowserManager().checkUrlIfAds(url)) {\r\n                            Log.d(&quot;VDDebug&quot;, &quot;Ads detected: &quot; + url);\r\n                            return new WebResourceResponse(null, null, null);\r\n                        }\r\n                    }\r\n                    return super.shouldInterceptRequest(view, url);\r\n                }\r\n\r\n                @Override\r\n                public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; getVDActivity() !=\r\n                            null) {\r\n                        if (MyApplication.getInstance().getSharedPreferences(&quot;settings&quot;, 0).getBoolean(getString\r\n                                (R.string.adBlockON), true)\r\n                                &amp;&amp; (request.getUrl().toString().contains(&quot;ad&quot;) ||\r\n                                request.getUrl().toString().contains(&quot;banner&quot;) ||\r\n                                request.getUrl().toString().contains(&quot;pop&quot;))\r\n                                &amp;&amp; getVDActivity().getBrowserManager().checkUrlIfAds(request.getUrl()\r\n                                .toString())) {\r\n                            Log.i(&quot;VDInfo&quot;, &quot;Ads detected: &quot; + request.getUrl().toString());\r\n                            return new WebResourceResponse(null, null, null);\r\n                        } else return null;\r\n                    } else {\r\n                        return shouldInterceptRequest(view, request.getUrl().toString());\r\n                    }\r\n                }\r\n            });\r\n            page.setWebChromeClient(new WebChromeClient() {\r\n                @Override\r\n                public void onProgressChanged(WebView view, int newProgress) {\r\n                    loadingPageProgress.setProgress(newProgress);\r\n                }\r\n\r\n                @Override\r\n                public void onReceivedTitle(WebView view, String title) {\r\n                    super.onReceivedTitle(view, title);\r\n                    videoList.deleteAllItems();\r\n                    updateFoundVideosBar();\r\n//                    VisitedPage vp = new VisitedPage();\r\n//                    vp.title = title;\r\n//                    vp.link = view.getUrl();\r\n//                    new HistorySQLite(getActivity()).addPageToHistory(vp);\r\n                }\r\n            });\r\n\r\n            page.loadUrl(url);\r\n            loadedFirsTime = true;\r\n```\r\n\r\n\r\n\r\nI expect this to open video in my app webview","title":"Facebook video link does not open in web view java","body":"<p>this is a link to a facebook video <a href=\"https://www.facebook.com/watch/?v=269637072007881\" rel=\"nofollow noreferrer\">https://www.facebook.com/watch/?v=269637072007881</a></p>\n<p>when i try to open it in my app web view it redirect to a different url and show me this error</p>\n<p>`Webpage not available\nThe webpage at fb://fullscreen_video/269637072007881?loop=false&amp;wtsid=wt_0p0MNje32ZvW5oQjV could not be loaded because:</p>\n<p>net::ERR_UNKNOWN_URL_SCHEME`</p>\n<p>if i try to open this url in other browser then it works perfectly.</p>\n<p>this is my code for the webview:</p>\n<pre><code>            WebSettings webSettings = page.getSettings();\n            webSettings.setJavaScriptEnabled(true);\n            webSettings.setDomStorageEnabled(true);\n            webSettings.setAllowUniversalAccessFromFileURLs(true);\n            webSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n            page.setWebViewClient(new WebViewClient() {//it seems not setting webclient, launches\n                //default browser instead of opening the page in webview\n                @Override\n                public boolean shouldOverrideUrlLoading(WebView view, WebResourceRequest request) {\n                    if(blockedWebsites.contains(Utils.getBaseDomain(request.getUrl().toString()))){\n                        Log.d(&quot;vdd&quot;, &quot;URL : &quot; + request.getUrl().toString());\n                        new AlertDialog.Builder(getContext())\n                                .setMessage(&quot;Youtube is not supported according to google policy.&quot;)\n                                .setNegativeButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                                    @Override\n                                    public void onClick(DialogInterface dialog, int which) {\n\n                                    }\n                                })\n                                .create()\n                                .show();\n                        return true;\n                    }\n                    return super.shouldOverrideUrlLoading(view, request);\n                }\n\n                @Override\n                public void onPageStarted(final WebView webview, final String url, Bitmap favicon) {\n                    new Handler(Looper.getMainLooper()).post(new Runnable() {\n                        @Override\n                        public void run() {\n                            EditText urlBox = getVDActivity().findViewById(R.id.et_search_bar);\n                            urlBox.setText(url);\n                            urlBox.setSelection(urlBox.getText().length());\n                            BrowserWindow.this.url = url;\n                        }\n                    });\n                    view.findViewById(R.id.loadingProgress).setVisibility(View.GONE);\n                    loadingPageProgress.setVisibility(View.VISIBLE);\n                    super.onPageStarted(webview, url, favicon);\n                }\n\n                @Override\n                public void onPageFinished(WebView view, String url) {\n                    super.onPageFinished(view, url);\n                    loadingPageProgress.setVisibility(View.GONE);\n                }\n\n                @Override\n                public void onLoadResource(final WebView view, final String url) {\n                    Log.d(&quot;fb :&quot;, &quot;URL: &quot; + url);\n                    final String page = view.getUrl();\n                    final String title = view.getTitle();\n\n                    new VideoContentSearch(getActivity(), url, page, title) {\n                        @Override\n                        public void onStartInspectingURL() {\n                            Utils.disableSSLCertificateChecking();\n                        }\n\n                        @Override\n                        public void onFinishedInspectingURL(boolean finishedAll) {\n                            HttpsURLConnection.setDefaultSSLSocketFactory(defaultSSLSF);\n                        }\n\n                        @Override\n                        public void onVideoFound(String size, String type, String link, String name, String page, boolean chunked, String website, boolean audio) {\n                            videoList.addItem(size, type, link, name, page, chunked, website, audio);\n                            updateFoundVideosBar();\n                        }\n                    }.start();\n                }\n\n                @Override\n                public WebResourceResponse shouldInterceptRequest(WebView view, String url) {\n                    if (getActivity() != null) {\n                        Log.d(&quot;VDDebug&quot;, &quot;Url: &quot; + url);\n                        if (getActivity().getSharedPreferences(&quot;settings&quot;, 0).getBoolean(getString(R\n                                .string.adBlockON), true)\n                                &amp;&amp; (url.contains(&quot;ad&quot;) || url.contains(&quot;banner&quot;) || url.contains(&quot;pop&quot;))\n                                &amp;&amp; getVDActivity().getBrowserManager().checkUrlIfAds(url)) {\n                            Log.d(&quot;VDDebug&quot;, &quot;Ads detected: &quot; + url);\n                            return new WebResourceResponse(null, null, null);\n                        }\n                    }\n                    return super.shouldInterceptRequest(view, url);\n                }\n\n                @Override\n                public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP &amp;&amp; getVDActivity() !=\n                            null) {\n                        if (MyApplication.getInstance().getSharedPreferences(&quot;settings&quot;, 0).getBoolean(getString\n                                (R.string.adBlockON), true)\n                                &amp;&amp; (request.getUrl().toString().contains(&quot;ad&quot;) ||\n                                request.getUrl().toString().contains(&quot;banner&quot;) ||\n                                request.getUrl().toString().contains(&quot;pop&quot;))\n                                &amp;&amp; getVDActivity().getBrowserManager().checkUrlIfAds(request.getUrl()\n                                .toString())) {\n                            Log.i(&quot;VDInfo&quot;, &quot;Ads detected: &quot; + request.getUrl().toString());\n                            return new WebResourceResponse(null, null, null);\n                        } else return null;\n                    } else {\n                        return shouldInterceptRequest(view, request.getUrl().toString());\n                    }\n                }\n            });\n            page.setWebChromeClient(new WebChromeClient() {\n                @Override\n                public void onProgressChanged(WebView view, int newProgress) {\n                    loadingPageProgress.setProgress(newProgress);\n                }\n\n                @Override\n                public void onReceivedTitle(WebView view, String title) {\n                    super.onReceivedTitle(view, title);\n                    videoList.deleteAllItems();\n                    updateFoundVideosBar();\n//                    VisitedPage vp = new VisitedPage();\n//                    vp.title = title;\n//                    vp.link = view.getUrl();\n//                    new HistorySQLite(getActivity()).addPageToHistory(vp);\n                }\n            });\n\n            page.loadUrl(url);\n            loadedFirsTime = true;\n</code></pre>\n<p>I expect this to open video in my app webview</p>\n"},{"tags":["java","eclipse","debugging","visualizer","jive"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687776888,"post_id":76553211,"comment_id":134979176,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25821472,"reputation":1,"user_id":19560475,"display_name":"James Sullivan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687928310,"creation_date":1687746731,"question_id":76553211,"body_markdown":"I have installed a plugin named JIVE in the Eclipse software. It can generate object diagrams and sequence diagrams based on Java source code and supports features like rollback and filtering. However, when I right-click on the sequence diagram and choose &quot;jump to source&quot;, it prompts that the source code is not available. What could be causing this? \r\n [See the picture for details][1]\r\n\r\n\r\nI hope that when I click to jump, the cursor in the source code window on the left will be on the corresponding source code, which will facilitate my debugging of complex framework code.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vGlIW.png","title":"I have installed a plugin named JIVE in the Eclipse software. it prompts that the source code is not available when i use it","body":"<p>I have installed a plugin named JIVE in the Eclipse software. It can generate object diagrams and sequence diagrams based on Java source code and supports features like rollback and filtering. However, when I right-click on the sequence diagram and choose &quot;jump to source&quot;, it prompts that the source code is not available. What could be causing this?\n<a href=\"https://i.stack.imgur.com/vGlIW.png\" rel=\"nofollow noreferrer\">See the picture for details</a></p>\n<p>I hope that when I click to jump, the cursor in the source code window on the left will be on the corresponding source code, which will facilitate my debugging of complex framework code.</p>\n"},{"tags":["java","mongodb","mongodb-query","spring-data-mongodb","spring-mongodb"],"owner":{"account_id":17064150,"reputation":13,"user_id":12346801,"display_name":"Sharana Avali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687928172,"creation_date":1687839575,"question_id":76561591,"body_markdown":"\r\n```\r\npublic static synchronized Object convertToEntity(Class&lt;?&gt; entityClass, Map&lt;String, Object&gt; entityMap){\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tmapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n\t\tObject pojo = mapper.convertValue(entityMap, entityClass);\r\n\t\treturn pojo;\r\n}\r\n```\r\n\r\nhere after converting value using mapper and pojo contains _id random value will be changed as compared\r\nto which is stored in db like below\r\n\r\n_id\r\n\r\n6453a95 **ae82df6385d** 4e573e\r\n\r\n6453a95 **a1800896d19** 4e573e\r\n\r\ni tried many ways its getting change while fetching from db and when i tried to update its not updating since _id random value will be change and it wont find in db","title":"how to restrict mongodb _id random value changes while we fetching from db and converting to entity","body":"<pre><code>public static synchronized Object convertToEntity(Class&lt;?&gt; entityClass, Map&lt;String, Object&gt; entityMap){\n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n        Object pojo = mapper.convertValue(entityMap, entityClass);\n        return pojo;\n}\n</code></pre>\n<p>here after converting value using mapper and pojo contains _id random value will be changed as compared\nto which is stored in db like below</p>\n<p>_id</p>\n<p>6453a95 <strong>ae82df6385d</strong> 4e573e</p>\n<p>6453a95 <strong>a1800896d19</strong> 4e573e</p>\n<p>i tried many ways its getting change while fetching from db and when i tried to update its not updating since _id random value will be change and it wont find in db</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"comments":[{"owner":{"account_id":28306512,"reputation":245,"user_id":21644444,"display_name":"oneuromancer"},"score":0,"creation_date":1681504742,"post_id":76018755,"comment_id":134072946,"body_markdown":"Oh, it&#39;s true! I hadn&#39;t noticed that the view patterns had changed. For a moment I thought that java was deprecated for android development.\n\nThanks a lot for your help buddy!!!!","body":"Oh, it&#39;s true! I hadn&#39;t noticed that the view patterns had changed. For a moment I thought that java was deprecated for android development.  Thanks a lot for your help buddy!!!!"}],"tags":[],"owner":{"account_id":1675123,"reputation":17577,"user_id":1540854,"display_name":"jeprubio"},"comment_count":1,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1682580647,"creation_date":1681504465,"answer_id":76018755,"question_id":76018702,"body_markdown":"I can see it, probably you have chosen the templates for a compose activity which now are the default ones, if the app is in compose it can only use kotlin and I guess that&#39;s why if the compose option is selected it doesn&#39;t allow you to choose java then.\r\n\r\nAfter selecting **Empty Activity** (in compose):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAfter selecting one of the traditional views options like the **Basic Views Activity**:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3LUvsm.png\r\n  [2]: https://i.stack.imgur.com/xJMtRm.png","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>I can see it, probably you have chosen the templates for a compose activity which now are the default ones, if the app is in compose it can only use kotlin and I guess that's why if the compose option is selected it doesn't allow you to choose java then.</p>\n<p>After selecting <strong>Empty Activity</strong> (in compose):</p>\n<p><a href=\"https://i.stack.imgur.com/3LUvsm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3LUvsm.png\" alt=\"enter image description here\" /></a></p>\n<p>After selecting one of the traditional views options like the <strong>Basic Views Activity</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/xJMtRm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xJMtRm.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":9702422,"reputation":154,"user_id":7196958,"display_name":"ahmfarisi"},"score":1,"creation_date":1683189576,"post_id":76031445,"comment_id":134329251,"body_markdown":"Agree with this answer, the empty activity and empty views activity is different. To use java, choose empty views activity. Thx.","body":"Agree with this answer, the empty activity and empty views activity is different. To use java, choose empty views activity. Thx."},{"owner":{"account_id":15004688,"reputation":556,"user_id":10831140,"display_name":"Ajay"},"score":0,"creation_date":1684300119,"post_id":76031445,"comment_id":134496244,"body_markdown":"Choosing any other activity other than Empty View Activity doesn&#39;t provide the option to select Java","body":"Choosing any other activity other than Empty View Activity doesn&#39;t provide the option to select Java"}],"tags":[],"owner":{"account_id":23767229,"reputation":631,"user_id":17781834,"display_name":"Yohannes Masterous"},"comment_count":2,"down_vote_count":2,"up_vote_count":43,"is_accepted":true,"score":41,"last_activity_date":1681700496,"creation_date":1681700496,"answer_id":76031445,"question_id":76018702,"body_markdown":"On **Android Studio Flamingo | 2022.2.1**, you can select **Empty Views Activity** when creating a new project as shown below.\r\n[![enter image description here][1]][1]\r\n\r\nAnd you can still choose the **Java** or **Kotlin** language as usual.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/czhZ6.png\r\n  [2]: https://i.stack.imgur.com/j8SuR.png","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>On <strong>Android Studio Flamingo | 2022.2.1</strong>, you can select <strong>Empty Views Activity</strong> when creating a new project as shown below.\n<a href=\"https://i.stack.imgur.com/czhZ6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/czhZ6.png\" alt=\"enter image description here\" /></a></p>\n<p>And you can still choose the <strong>Java</strong> or <strong>Kotlin</strong> language as usual.\n<a href=\"https://i.stack.imgur.com/j8SuR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/j8SuR.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5501088,"reputation":462,"user_id":4370398,"display_name":"Aashis Shrestha"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1687927698,"creation_date":1686308284,"answer_id":76439598,"question_id":76018702,"body_markdown":"I am using **Android Studio Flamingo** version. I also encountered the same issue. You should use other pre-defined activities to be able to select language type.\r\n\r\n*Ex: Empty Views Activity, Basic Views Activity, Bottom Navigation Views Activity etc.*\r\n\r\n**Note:**\r\n\r\n - **Empty Activity** and **Empty Views Activity** are different\r\n - Empty/Basic... **Activity:** uses Jetpack Compose for UI rendering\r\n - Empty/Basic... **Views Activity:** uses XML based layouts and also provides us options to choose for Java or Kotlin language selection\r\n\r\nI have attached a screenshot of it too.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kBf1Z.png","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>I am using <strong>Android Studio Flamingo</strong> version. I also encountered the same issue. You should use other pre-defined activities to be able to select language type.</p>\n<p><em>Ex: Empty Views Activity, Basic Views Activity, Bottom Navigation Views Activity etc.</em></p>\n<p><strong>Note:</strong></p>\n<ul>\n<li><strong>Empty Activity</strong> and <strong>Empty Views Activity</strong> are different</li>\n<li>Empty/Basic... <strong>Activity:</strong> uses Jetpack Compose for UI rendering</li>\n<li>Empty/Basic... <strong>Views Activity:</strong> uses XML based layouts and also provides us options to choose for Java or Kotlin language selection</li>\n</ul>\n<p>I have attached a screenshot of it too.</p>\n<p><a href=\"https://i.stack.imgur.com/kBf1Z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kBf1Z.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":11028393,"reputation":605,"user_id":8100489,"display_name":"David Yockey"},"score":0,"creation_date":1699668772,"post_id":76463077,"comment_id":136564528,"body_markdown":"Check out https://developer.android.com/studio/archive","body":"Check out <a href=\"https://developer.android.com/studio/archive\" rel=\"nofollow noreferrer\">developer.android.com/studio/archive</a>"}],"tags":[],"owner":{"account_id":20423618,"reputation":57,"user_id":14984111,"display_name":"jlsogorb"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686645327,"creation_date":1686645327,"answer_id":76463077,"question_id":76018702,"body_markdown":"Till the moment I always used Empty Activity because I wanted the project clean and only put in it the things I wanted. With Basic Views Activity it generates too much unwanted features (2 fragments, 2 layouts for activity). I am absolutely lost with this new version and cannot find  Electric Eel (the version I used before) anywhere to downgrade Android. ","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>Till the moment I always used Empty Activity because I wanted the project clean and only put in it the things I wanted. With Basic Views Activity it generates too much unwanted features (2 fragments, 2 layouts for activity). I am absolutely lost with this new version and cannot find  Electric Eel (the version I used before) anywhere to downgrade Android.</p>\n"}],"owner":{"account_id":28306512,"reputation":245,"user_id":21644444,"display_name":"oneuromancer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14193,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":76031445,"answer_count":4,"score":24,"last_activity_date":1687927698,"creation_date":1681503966,"question_id":76018702,"body_markdown":"I updated my android studio to the flamingo version today, and I found it strange that there is no longer an option to select languages on the new project screen. Is this a bug? did I do something wrong? Or is there really no more support for the java language in Flamingo? How can I resolve this?\r\n\r\nThanks for any help! Unfortunately I didn&#39;t find any answer to this problem on the internet.\r\n\r\n![new project options](https://i.stack.imgur.com/QEFqg.png)\r\n\r\nI do not know what to do.","title":"I can&#39;t create a new project with java language anymore on Android Studio Flamingo?","body":"<p>I updated my android studio to the flamingo version today, and I found it strange that there is no longer an option to select languages on the new project screen. Is this a bug? did I do something wrong? Or is there really no more support for the java language in Flamingo? How can I resolve this?</p>\n<p>Thanks for any help! Unfortunately I didn't find any answer to this problem on the internet.</p>\n<p><img src=\"https://i.stack.imgur.com/QEFqg.png\" alt=\"new project options\" /></p>\n<p>I do not know what to do.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7820,"page":343,"page_size":100}
