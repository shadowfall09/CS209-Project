{"items":[{"tags":["java","tomcat","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":15083,"reputation":22025,"user_id":31506,"display_name":"Jack Leow"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1661523069,"creation_date":1263839336,"answer_id":2088258,"question_id":2088218,"body_markdown":"1. Getting the &quot;name&quot;\r\n=====\r\nIt&#39;s called the context path. If your code is running within the web app request context, you can get it by calling [`HttpServletRequest#getContextPath()`][1].\r\n\r\n2. Accessing the physical/real resource\r\n=====\r\nIf you&#39;re trying to access the contents of a file/resource in your webapp, you&#39;re best of using one of:\r\n\r\n- [`ServletContext#getResource(String)`][2]\r\n- [`ServletContext#getResourceAsStream(String)`][3]\r\n\r\nIt is also possible get the physical path on disk of a file/resource, given the path relative to the web app, using [`ServletContext#getRealPath(String)`][4], but it&#39;s not reliable (doesn&#39;t always work if you deploy you webapp as a WAR, for instance).\r\n\r\n3. Accessing class path resources\r\n=====\r\nPer your comment, you were trying to access a resource within the &lt;web-app&gt;/WEB-INF/classes directory. Because WEB-INF/classes/* is where web application specific classes go, you can simply access it as if you were accessing any classpath resource in a Java SE application. Again, assuming your code runs within the context of the webapp, you can simply use the following:\r\n\r\n- [Class#getResource(String)][5]\r\n- [Class#getResourceAsStream(String)][6]\r\n\r\nIn your case, you&#39;d probably want to use the latter, and then load the Properties file via Properties#load(InputStream).\r\n\r\nSomething along the lines of:\r\n\r\n    Properties props = new Properties();\r\n    props.load(getClass().getResourceAsStream(&quot;/reportCustom.properties&quot;));\r\n\r\n  [1]: http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/http/HttpServletRequest.html#getContextPath()\r\n  [2]: http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/ServletContext.html#getResource(java.lang.String)\r\n  [3]: http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/ServletContext.html#getResourceAsStream(java.lang.String)\r\n  [4]: http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/ServletContext.html#getRealPath(java.lang.String)\r\n  [5]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getResource(java.lang.String)\r\n  [6]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)","title":"How can I get the name of the current web app in Java EE?","body":"<ol>\n<li><p>Getting the &quot;name&quot;\n=====\nIt's called the context path. If your code is running within the web app request context, you can get it by calling <a href=\"http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/http/HttpServletRequest.html#getContextPath()\" rel=\"nofollow noreferrer\"><code>HttpServletRequest#getContextPath()</code></a>.</p>\n</li>\n<li><p>Accessing the physical/real resource\n=====\nIf you're trying to access the contents of a file/resource in your webapp, you're best of using one of:</p>\n</li>\n</ol>\n<ul>\n<li><a href=\"http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/ServletContext.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ServletContext#getResource(String)</code></a></li>\n<li><a href=\"http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/ServletContext.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ServletContext#getResourceAsStream(String)</code></a></li>\n</ul>\n<p>It is also possible get the physical path on disk of a file/resource, given the path relative to the web app, using <a href=\"http://java.sun.com/j2ee/1.4/docs/api/javax/servlet/ServletContext.html#getRealPath(java.lang.String)\" rel=\"nofollow noreferrer\"><code>ServletContext#getRealPath(String)</code></a>, but it's not reliable (doesn't always work if you deploy you webapp as a WAR, for instance).</p>\n<ol start=\"3\">\n<li>Accessing class path resources\n=====\nPer your comment, you were trying to access a resource within the /WEB-INF/classes directory. Because WEB-INF/classes/* is where web application specific classes go, you can simply access it as if you were accessing any classpath resource in a Java SE application. Again, assuming your code runs within the context of the webapp, you can simply use the following:</li>\n</ol>\n<ul>\n<li><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getResource(java.lang.String)\" rel=\"nofollow noreferrer\">Class#getResource(String)</a></li>\n<li><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">Class#getResourceAsStream(String)</a></li>\n</ul>\n<p>In your case, you'd probably want to use the latter, and then load the Properties file via Properties#load(InputStream).</p>\n<p>Something along the lines of:</p>\n<pre><code>Properties props = new Properties();\nprops.load(getClass().getResourceAsStream(&quot;/reportCustom.properties&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1263840479,"creation_date":1263840479,"answer_id":2088410,"question_id":2088218,"body_markdown":"&gt; what i&#39;m trying to do is load a properties file in webapps/myapp/WEB-INF/classes/reportCustom.properties\r\n\r\nSince the file is in the `classes` directory, you can load it using the [ClassLoader][1] (the usual Java mechanism for loading files on the classpath). It is probably best to use the [context ClassLoader][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#getContextClassLoader()","title":"How can I get the name of the current web app in Java EE?","body":"<blockquote>\n  <p>what i'm trying to do is load a properties file in webapps/myapp/WEB-INF/classes/reportCustom.properties</p>\n</blockquote>\n\n<p>Since the file is in the <code>classes</code> directory, you can load it using the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/ClassLoader.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">ClassLoader</a> (the usual Java mechanism for loading files on the classpath). It is probably best to use the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/Thread.html#getContextClassLoader()\" rel=\"nofollow noreferrer\">context ClassLoader</a>.</p>\n"}],"owner":{"account_id":86707,"reputation":1676,"user_id":240931,"accept_rate":100,"display_name":"Jenni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13103,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":2088258,"answer_count":2,"score":8,"last_activity_date":1661523069,"creation_date":1263838975,"question_id":2088218,"body_markdown":"How can I get the name of the current web app in Java EE?\r\n\r\nI&#39;m quite comfortable with stand-alone Java, but Java EE is new to me. I&#39;m writing some custom code to plug in to a third-party Java EE reporting package. I have multiple instances deployed on the same Tomcat server, so I have something like:\r\n\r\n&lt;pre&gt;\r\nC:\\\r\n+-- tomcat6\r\n    +-- webapps\r\n        +-- app1\r\n        +-- app2\r\n&lt;/pre&gt;\r\n\r\nSo when the user goes to, let&#39;s say, http://example.com/app1/viewReport, I want to be able to get &quot;app1&quot;. (And not by parsing the URL, preferrably.)\r\n\r\nAlso, if there was a way to get the root of app1 (in this example, C:\\tomcat6\\webapps\\app1), that would be great too.","title":"How can I get the name of the current web app in Java EE?","body":"<p>How can I get the name of the current web app in Java EE?</p>\n\n<p>I'm quite comfortable with stand-alone Java, but Java EE is new to me. I'm writing some custom code to plug in to a third-party Java EE reporting package. I have multiple instances deployed on the same Tomcat server, so I have something like:</p>\n\n<pre>\nC:\\\n+-- tomcat6\n    +-- webapps\n        +-- app1\n        +-- app2\n</pre>\n\n<p>So when the user goes to, let's say, <a href=\"http://example.com/app1/viewReport\" rel=\"noreferrer\">http://example.com/app1/viewReport</a>, I want to be able to get \"app1\". (And not by parsing the URL, preferrably.)</p>\n\n<p>Also, if there was a way to get the root of app1 (in this example, C:\\tomcat6\\webapps\\app1), that would be great too.</p>\n"},{"tags":["java","dependency-injection","jersey","hk2"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1661531518,"post_id":73502186,"comment_id":129802369,"body_markdown":"It should be `@Inject IEnvironmentRepository`. The `to(...)` is what you advertise as the type to be injected.","body":"It should be <code>@Inject IEnvironmentRepository</code>. The <code>to(...)</code> is what you advertise as the type to be injected."},{"owner":{"account_id":13762948,"reputation":25,"user_id":9932224,"display_name":"Germ&#225;n C. Basisty"},"score":0,"creation_date":1661534947,"post_id":73502186,"comment_id":129803461,"body_markdown":"Thank you very much @PaulSamsotha ! It seems Im too tired now to be working. Didn&#39;t notice the &quot;I&quot; was missing. Best regards","body":"Thank you very much @PaulSamsotha ! It seems Im too tired now to be working. Didn&#39;t notice the &quot;I&quot; was missing. Best regards"}],"owner":{"account_id":13762948,"reputation":25,"user_id":9932224,"display_name":"Germ&#225;n C. Basisty"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661523023,"creation_date":1661522326,"question_id":73502186,"body_markdown":"Im having some problems with dependency injections in java 11 / jersey / hk2.\r\nI have a simple resource class which injects a service class:\r\n```\r\n@Path(&quot;/backbone&quot;)\r\npublic class BackboneController extends GenericController {\r\n    @Inject\r\n    private IEnvironmentService _environmentService;\r\n    @Inject\r\n    private IAuthenticationHelper _authenticationHelper;\r\n    @Inject\r\n    private IBackboneService _backboneService;\r\n\r\n    @GET\r\n    @Path(&quot;version&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response version(\r\n            @HeaderParam(&quot;Authorization&quot;) String token) throws Exception {\r\n        var credentials = _authenticationHelper.detokenizeCredentials(token);\r\n\r\n        var backendVersionHandler = new BackendVersionResponseDto(_backboneService.getBackendVersion(credentials));\r\n\r\n        var apiVersionHandler = new Properties();\r\n        apiVersionHandler.load(BackboneController.class.getResourceAsStream(&quot;/project.properties&quot;));\r\n\r\n        return Response.status(Status.OK)\r\n                .entity(new GenericResponse(\r\n                        new VersionResponseDto(backendVersionHandler.getBackend(),\r\n                                apiVersionHandler.getProperty(&quot;version&quot;))))\r\n                .build();\r\n    }\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;url&quot;)\r\n    public Response getUrl(\r\n            @HeaderParam(&quot;Authorization&quot;) String token) throws Exception {\r\n        var credentials = _authenticationHelper.detokenizeCredentials(token);\r\n\r\n        var urlDto = new UrlResponseDto(_backboneService.getUrl(credentials));\r\n\r\n        return Response.status(Status.OK).entity(new GenericResponse(urlDto)).build();\r\n    }\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;context-path-to-etc&quot;)\r\n    public Response getContextPathToEtc(\r\n            @HeaderParam(&quot;Authorization&quot;) String token) throws Exception {\r\n        var credentials = _authenticationHelper.detokenizeCredentials(token);\r\n\r\n        if (!_backboneService.areCredentialsValid(credentials))\r\n            throw new WebApplicationException(Response.status(Status.UNAUTHORIZED).build());\r\n\r\n        var contextPathToEtcDto = new ContextPathToEtcResponseDto(_environmentService.getEtcPathInContext());\r\n\r\n        return Response.status(Status.OK).entity(new GenericResponse(contextPathToEtcDto)).build();\r\n    }\r\n}\r\n```\r\n\r\nThe problem is related with the **IEnvironmentService**, which injects **IEnvironmentRepository**. Here are the interface and the class itself:\r\n```\r\n@Contract\r\npublic interface IEnvironmentService {\r\n    public void environmentSet(Credentials credentials, String key, String value) throws Exception;\r\n    public void environmentUnset(Credentials credentials, String key) throws Exception;\r\n    public String environmentGet(Credentials credentials, String key) throws Exception;\r\n    public String getEtcPathInContext();\r\n}\r\n\r\n@Service\r\npublic class EnvironmentService implements IEnvironmentService {\r\n    @Inject\r\n    private EnvironmentRepository _environmentRepository;\r\n\r\n    @Override\r\n    public void environmentSet(Credentials credentials, String key, String value) throws Exception {\r\n        _environmentRepository.environmentSet(credentials, key, value);\r\n    }\r\n\r\n    @Override\r\n    public void environmentUnset(Credentials credentials, String key) throws Exception {\r\n        _environmentRepository.environmentUnset(credentials, key);  \r\n    }\r\n\r\n    @Override\r\n    public String environmentGet(Credentials credentials, String key) throws Exception {\r\n        return _environmentRepository.environmentGet(credentials, key);\r\n    }\r\n\r\n    @Override\r\n    public String getEtcPathInContext() {\r\n        return _environmentRepository.getEtcPathInContext();\r\n    }\r\n}\r\n```\r\n\r\n**IEnvironmentRepository** and **EnvironmentRepository** here:\r\n```\r\n@Contract\r\npublic interface IEnvironmentRepository {\r\n    public void environmentSet(Credentials credentials, String key, String value) throws Exception;\r\n    public void environmentUnset(Credentials credentials, String key) throws Exception;\r\n    public String environmentGet(Credentials credentials, String key) throws Exception;\r\n    public String getEtcPathInContext();\r\n}\r\n\r\n\r\n@Service\r\npublic class EnvironmentRepository extends GenericRepository implements IEnvironmentRepository {  \r\n\t@Inject\r\n    private IContextFinder _contextFinder;\r\n      \r\n    @Override\r\n    public void environmentSet(Credentials credentials, String key, String value) throws Exception {\r\n        _connector.execute(credentials.getUsername(), credentials.getPassword(),\r\n                String.format(&quot;SELECT backbone.environment_set(%s, %s)&#39;&quot;, new SqlParameter(&quot;p_key&quot;, key),\r\n                        new SqlParameter(&quot;p_value&quot;, value)));\r\n    }\r\n\r\n    @Override\r\n    public void environmentUnset(Credentials credentials, String key) throws Exception {\r\n        _connector.execute(credentials.getUsername(), credentials.getPassword(),\r\n                String.format(&quot;SELECT backbone.environment_unset(%s)&quot;, new SqlParameter(&quot;p_key&quot;, key)));\r\n    }\r\n\r\n    @Override\r\n    public String environmentGet(Credentials credentials, String key) throws Exception {\r\n        return _connector.queryText(credentials.getUsername(), credentials.getPassword(),\r\n                String.format(&quot;SELECT backbone.environment_get(%s)&quot;, new SqlParameter(&quot;p_key&quot;, key)));\r\n    }\r\n\r\n    @Override\r\n    public String getEtcPathInContext() {\r\n        return _contextFinder.getEtcPathInContext();\r\n    }\r\n}\r\n```\r\n\r\nAnd at last, the abstract binder and the resource config:\r\n```\r\npublic class BackboneBinder extends AbstractBinder {\r\n    @Override\r\n    protected void configure() { \r\n        bind(BackboneRepository.class).to(IBackboneRepository.class);\r\n        bind(BackboneService.class).to(IBackboneService.class);\r\n        bind(EnvironmentRepository.class).to(IEnvironmentRepository.class).in(PerLookup.class);     \r\n        bind(EnvironmentService.class).to(IEnvironmentService.class); \r\n        bind(ContextFinder.class).to(IContextFinder.class);\r\n        bind(ParametersHandler.class).to(IParametersHandler.class); \r\n        bind(AuthenticationHelper.class).to(IAuthenticationHelper.class);\r\n    }\r\n}\r\n\r\npublic class ApplicationConfiguration extends ResourceConfig {\r\n    public ApplicationConfiguration() {\r\n        // Dependencies binders \r\n        register(new BackboneBinder());\r\n\r\n        packages(&quot;com.bfaconsultora&quot;);\r\n    }\r\n}\r\n```\r\n\r\nNow, when I consume the resource via postman, I get the following error:\r\n```\r\njavax.servlet.ServletException: A MultiException has 5 exceptions.  They are:\r\n1. org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=EnvironmentRepository,parent=EnvironmentService,qualifiers={},position=-1,optional=false,self=false,unqualified=null,804331421)\r\n2. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.bfaconsultora.rest.backbone.services.EnvironmentService errors were found\r\n3. java.lang.IllegalStateException: Unable to perform operation: resolve on com.bfaconsultora.rest.backbone.services.EnvironmentService\r\n4. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.bfaconsultora.rest.backbone.controllers.BackboneController errors were found\r\n5. java.lang.IllegalStateException: Unable to perform operation: resolve on com.bfaconsultora.rest.backbone.controllers.BackboneController\r\n\r\n\torg.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:408)\r\n\torg.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:365)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:318)\r\n\torg.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n\torg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n```\r\n\r\nI&#39;m really lost with this. If I remove the injection of the IEnvironmentRepository in the EnvronmentService class, and replace it with a regular new EnvironmentRepository() everything works OK. The strange thing is that with Backbone Service and Repository, which are very similar to Environment stuff, injection works just fine. \r\n\r\nCould you please point me in the right direction? \r\n\r\nThank you in advance.\r\n\r\nRegards","title":"Problems with dependency injection in java / jersey / h2k","body":"<p>Im having some problems with dependency injections in java 11 / jersey / hk2.\nI have a simple resource class which injects a service class:</p>\n<pre><code>@Path(&quot;/backbone&quot;)\npublic class BackboneController extends GenericController {\n    @Inject\n    private IEnvironmentService _environmentService;\n    @Inject\n    private IAuthenticationHelper _authenticationHelper;\n    @Inject\n    private IBackboneService _backboneService;\n\n    @GET\n    @Path(&quot;version&quot;)\n    @Produces(MediaType.APPLICATION_JSON)\n    public Response version(\n            @HeaderParam(&quot;Authorization&quot;) String token) throws Exception {\n        var credentials = _authenticationHelper.detokenizeCredentials(token);\n\n        var backendVersionHandler = new BackendVersionResponseDto(_backboneService.getBackendVersion(credentials));\n\n        var apiVersionHandler = new Properties();\n        apiVersionHandler.load(BackboneController.class.getResourceAsStream(&quot;/project.properties&quot;));\n\n        return Response.status(Status.OK)\n                .entity(new GenericResponse(\n                        new VersionResponseDto(backendVersionHandler.getBackend(),\n                                apiVersionHandler.getProperty(&quot;version&quot;))))\n                .build();\n    }\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;url&quot;)\n    public Response getUrl(\n            @HeaderParam(&quot;Authorization&quot;) String token) throws Exception {\n        var credentials = _authenticationHelper.detokenizeCredentials(token);\n\n        var urlDto = new UrlResponseDto(_backboneService.getUrl(credentials));\n\n        return Response.status(Status.OK).entity(new GenericResponse(urlDto)).build();\n    }\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;context-path-to-etc&quot;)\n    public Response getContextPathToEtc(\n            @HeaderParam(&quot;Authorization&quot;) String token) throws Exception {\n        var credentials = _authenticationHelper.detokenizeCredentials(token);\n\n        if (!_backboneService.areCredentialsValid(credentials))\n            throw new WebApplicationException(Response.status(Status.UNAUTHORIZED).build());\n\n        var contextPathToEtcDto = new ContextPathToEtcResponseDto(_environmentService.getEtcPathInContext());\n\n        return Response.status(Status.OK).entity(new GenericResponse(contextPathToEtcDto)).build();\n    }\n}\n</code></pre>\n<p>The problem is related with the <strong>IEnvironmentService</strong>, which injects <strong>IEnvironmentRepository</strong>. Here are the interface and the class itself:</p>\n<pre><code>@Contract\npublic interface IEnvironmentService {\n    public void environmentSet(Credentials credentials, String key, String value) throws Exception;\n    public void environmentUnset(Credentials credentials, String key) throws Exception;\n    public String environmentGet(Credentials credentials, String key) throws Exception;\n    public String getEtcPathInContext();\n}\n\n@Service\npublic class EnvironmentService implements IEnvironmentService {\n    @Inject\n    private EnvironmentRepository _environmentRepository;\n\n    @Override\n    public void environmentSet(Credentials credentials, String key, String value) throws Exception {\n        _environmentRepository.environmentSet(credentials, key, value);\n    }\n\n    @Override\n    public void environmentUnset(Credentials credentials, String key) throws Exception {\n        _environmentRepository.environmentUnset(credentials, key);  \n    }\n\n    @Override\n    public String environmentGet(Credentials credentials, String key) throws Exception {\n        return _environmentRepository.environmentGet(credentials, key);\n    }\n\n    @Override\n    public String getEtcPathInContext() {\n        return _environmentRepository.getEtcPathInContext();\n    }\n}\n</code></pre>\n<p><strong>IEnvironmentRepository</strong> and <strong>EnvironmentRepository</strong> here:</p>\n<pre><code>@Contract\npublic interface IEnvironmentRepository {\n    public void environmentSet(Credentials credentials, String key, String value) throws Exception;\n    public void environmentUnset(Credentials credentials, String key) throws Exception;\n    public String environmentGet(Credentials credentials, String key) throws Exception;\n    public String getEtcPathInContext();\n}\n\n\n@Service\npublic class EnvironmentRepository extends GenericRepository implements IEnvironmentRepository {  \n    @Inject\n    private IContextFinder _contextFinder;\n      \n    @Override\n    public void environmentSet(Credentials credentials, String key, String value) throws Exception {\n        _connector.execute(credentials.getUsername(), credentials.getPassword(),\n                String.format(&quot;SELECT backbone.environment_set(%s, %s)'&quot;, new SqlParameter(&quot;p_key&quot;, key),\n                        new SqlParameter(&quot;p_value&quot;, value)));\n    }\n\n    @Override\n    public void environmentUnset(Credentials credentials, String key) throws Exception {\n        _connector.execute(credentials.getUsername(), credentials.getPassword(),\n                String.format(&quot;SELECT backbone.environment_unset(%s)&quot;, new SqlParameter(&quot;p_key&quot;, key)));\n    }\n\n    @Override\n    public String environmentGet(Credentials credentials, String key) throws Exception {\n        return _connector.queryText(credentials.getUsername(), credentials.getPassword(),\n                String.format(&quot;SELECT backbone.environment_get(%s)&quot;, new SqlParameter(&quot;p_key&quot;, key)));\n    }\n\n    @Override\n    public String getEtcPathInContext() {\n        return _contextFinder.getEtcPathInContext();\n    }\n}\n</code></pre>\n<p>And at last, the abstract binder and the resource config:</p>\n<pre><code>public class BackboneBinder extends AbstractBinder {\n    @Override\n    protected void configure() { \n        bind(BackboneRepository.class).to(IBackboneRepository.class);\n        bind(BackboneService.class).to(IBackboneService.class);\n        bind(EnvironmentRepository.class).to(IEnvironmentRepository.class).in(PerLookup.class);     \n        bind(EnvironmentService.class).to(IEnvironmentService.class); \n        bind(ContextFinder.class).to(IContextFinder.class);\n        bind(ParametersHandler.class).to(IParametersHandler.class); \n        bind(AuthenticationHelper.class).to(IAuthenticationHelper.class);\n    }\n}\n\npublic class ApplicationConfiguration extends ResourceConfig {\n    public ApplicationConfiguration() {\n        // Dependencies binders \n        register(new BackboneBinder());\n\n        packages(&quot;com.bfaconsultora&quot;);\n    }\n}\n</code></pre>\n<p>Now, when I consume the resource via postman, I get the following error:</p>\n<pre><code>javax.servlet.ServletException: A MultiException has 5 exceptions.  They are:\n1. org.glassfish.hk2.api.UnsatisfiedDependencyException: There was no object available for injection at SystemInjecteeImpl(requiredType=EnvironmentRepository,parent=EnvironmentService,qualifiers={},position=-1,optional=false,self=false,unqualified=null,804331421)\n2. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.bfaconsultora.rest.backbone.services.EnvironmentService errors were found\n3. java.lang.IllegalStateException: Unable to perform operation: resolve on com.bfaconsultora.rest.backbone.services.EnvironmentService\n4. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.bfaconsultora.rest.backbone.controllers.BackboneController errors were found\n5. java.lang.IllegalStateException: Unable to perform operation: resolve on com.bfaconsultora.rest.backbone.controllers.BackboneController\n\n    org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:408)\n    org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:365)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:318)\n    org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n    org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n</code></pre>\n<p>I'm really lost with this. If I remove the injection of the IEnvironmentRepository in the EnvronmentService class, and replace it with a regular new EnvironmentRepository() everything works OK. The strange thing is that with Backbone Service and Repository, which are very similar to Environment stuff, injection works just fine.</p>\n<p>Could you please point me in the right direction?</p>\n<p>Thank you in advance.</p>\n<p>Regards</p>\n"},{"tags":["java","solr"],"owner":{"account_id":1488072,"reputation":159,"user_id":1411154,"accept_rate":57,"display_name":"carminePat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661522855,"creation_date":1661522855,"question_id":73502299,"body_markdown":"Is possible to create a custom plugin/handler that trigger before and after schema is initialized and before core/collection is created?","title":"Solr 8 custom trigger before/after schema is initialized","body":"<p>Is possible to create a custom plugin/handler that trigger before and after schema is initialized and before core/collection is created?</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1377599226,"post_id":18462826,"comment_id":27134143,"body_markdown":"You don&#39;t need to escape `=`.","body":"You don&#39;t need to escape <code>=</code>."}],"answers":[{"tags":[],"owner":{"account_id":434817,"reputation":28250,"user_id":821057,"accept_rate":73,"display_name":"Zaheer Ahmed"},"down_vote_count":0,"up_vote_count":373,"is_accepted":true,"score":373,"last_activity_date":1661522414,"creation_date":1377599139,"answer_id":18462905,"question_id":18462826,"body_markdown":"    string.split(&quot;=&quot;, limit=2);\r\n\r\nAs [`String.split(java.lang.String regex, int limit)`](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String,%20int%29) explains:\r\n\r\n&gt;The array returned by this method contains each substring of this string that is terminated by another substring that matches the given expression or is terminated by the end of the string. The substrings in the array are in the order in which they occur in this string. If the expression does not match any part of the input then the resulting array has just one element, namely this string. \r\n\r\n&gt; The `limit` parameter controls the number of times the pattern is applied and therefore affects the length of the resulting array.  If the limit &lt;i&gt;n&lt;/i&gt; is greater than zero then the pattern will be applied at most &lt;i&gt;n&lt;/i&gt; - 1 times, the array&#39;s length will be no greater than &lt;i&gt;n&lt;/i&gt;, and the array&#39;s last entry will contain all input beyond the last matched delimiter.\r\n\r\n&gt; The string `boo:and:foo`, for example, yields the following results with these parameters:\r\n\r\n&gt;     Regex Limit    Result\r\n    :     2        { &quot;boo&quot;, &quot;and:foo&quot; }\r\n    :     5        { &quot;boo&quot;, &quot;and&quot;, &quot;foo&quot; }\r\n    :    -2        { &quot;boo&quot;, &quot;and&quot;, &quot;foo&quot; }\r\n    o     5        { &quot;b&quot;, &quot;&quot;, &quot;:and:f&quot;, &quot;&quot;, &quot;&quot; }\r\n    o    -2        { &quot;b&quot;, &quot;&quot;, &quot;:and:f&quot;, &quot;&quot;, &quot;&quot; }\r\n    o     0        { &quot;b&quot;, &quot;&quot;, &quot;:and:f&quot; }","title":"split string only on first instance - java","body":"<pre><code>string.split(&quot;=&quot;, limit=2);\n</code></pre>\n<p>As <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String,%20int%29\" rel=\"noreferrer\"><code>String.split(java.lang.String regex, int limit)</code></a> explains:</p>\n<blockquote>\n<p>The array returned by this method contains each substring of this string that is terminated by another substring that matches the given expression or is terminated by the end of the string. The substrings in the array are in the order in which they occur in this string. If the expression does not match any part of the input then the resulting array has just one element, namely this string.</p>\n</blockquote>\n<blockquote>\n<p>The <code>limit</code> parameter controls the number of times the pattern is applied and therefore affects the length of the resulting array.  If the limit <i>n</i> is greater than zero then the pattern will be applied at most <i>n</i> - 1 times, the array's length will be no greater than <i>n</i>, and the array's last entry will contain all input beyond the last matched delimiter.</p>\n</blockquote>\n<blockquote>\n<p>The string <code>boo:and:foo</code>, for example, yields the following results with these parameters:</p>\n</blockquote>\n<blockquote>\n<pre><code>Regex Limit    Result\n</code></pre>\n</blockquote>\n<pre><code>:     2        { &quot;boo&quot;, &quot;and:foo&quot; }\n:     5        { &quot;boo&quot;, &quot;and&quot;, &quot;foo&quot; }\n:    -2        { &quot;boo&quot;, &quot;and&quot;, &quot;foo&quot; }\no     5        { &quot;b&quot;, &quot;&quot;, &quot;:and:f&quot;, &quot;&quot;, &quot;&quot; }\no    -2        { &quot;b&quot;, &quot;&quot;, &quot;:and:f&quot;, &quot;&quot;, &quot;&quot; }\no     0        { &quot;b&quot;, &quot;&quot;, &quot;:and:f&quot; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769022,"reputation":5728,"user_id":1614244,"accept_rate":44,"display_name":"codeMan"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1377602946,"creation_date":1377599141,"answer_id":18462906,"question_id":18462826,"body_markdown":"Yes you can, just pass the integer param to the split method\r\n\r\n\r\n    String stSplit = &quot;apple=fruit table price=5&quot;\r\n\r\n    stSplit.split(&quot;=&quot;, 2);\r\n\r\nHere is a java doc reference : [String#split(java.lang.String, int)](http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String,%20int%29)\r\n","title":"split string only on first instance - java","body":"<p>Yes you can, just pass the integer param to the split method</p>\n\n<pre><code>String stSplit = \"apple=fruit table price=5\"\n\nstSplit.split(\"=\", 2);\n</code></pre>\n\n<p>Here is a java doc reference : <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String,%20int%29\" rel=\"noreferrer\">String#split(java.lang.String, int)</a></p>\n"},{"tags":[],"owner":{"account_id":2921854,"reputation":1946,"user_id":2503916,"accept_rate":50,"display_name":"Siva"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1377599483,"creation_date":1377599174,"answer_id":18462921,"question_id":18462826,"body_markdown":"As many other answers suggest the limit approach, This can be another way\r\n\r\nYou can use the [indexOf][1] method on String which will returns the first Occurance of the given character, Using that index you can get the desired output\r\n\r\n            \r\n\r\n    String target = &quot;apple=fruit table price=5&quot; ;\r\n    int x= target.indexOf(&quot;=&quot;);\r\n    System.out.println(target.substring(x+1));\r\n\r\n  [1]: http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#indexOf%28int%29\r\n","title":"split string only on first instance - java","body":"<p>As many other answers suggest the limit approach, This can be another way</p>\n\n<p>You can use the <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#indexOf%28int%29\" rel=\"noreferrer\">indexOf</a> method on String which will returns the first Occurance of the given character, Using that index you can get the desired output</p>\n\n<pre><code>String target = \"apple=fruit table price=5\" ;\nint x= target.indexOf(\"=\");\nSystem.out.println(target.substring(x+1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3146597,"reputation":77,"user_id":2660968,"accept_rate":75,"display_name":"Martin Košť&#225;l"},"down_vote_count":4,"up_vote_count":2,"is_accepted":false,"score":-2,"last_activity_date":1377599322,"creation_date":1377599322,"answer_id":18462963,"question_id":18462826,"body_markdown":"    String[] func(String apple){\r\n    String[] tmp = new String[2];\r\n    for(int i=0;i&lt;apple.length;i++){\r\n       if(apple.charAt(i)==&#39;=&#39;){\r\n          tmp[0]=apple.substring(0,i);\r\n          tmp[1]=apple.substring(i+1,apple.length);\r\n          break;\r\n       }\r\n    }\r\n    return tmp;\r\n    }\r\n    //returns string_ARRAY_!\r\n\r\ni like writing own methods :)","title":"split string only on first instance - java","body":"<pre><code>String[] func(String apple){\nString[] tmp = new String[2];\nfor(int i=0;i&lt;apple.length;i++){\n   if(apple.charAt(i)=='='){\n      tmp[0]=apple.substring(0,i);\n      tmp[1]=apple.substring(i+1,apple.length);\n      break;\n   }\n}\nreturn tmp;\n}\n//returns string_ARRAY_!\n</code></pre>\n\n<p>i like writing own methods :)</p>\n"},{"tags":[],"owner":{"account_id":4910367,"reputation":2146,"user_id":3955831,"display_name":"Kailash Karki"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1580315533,"creation_date":1447837356,"answer_id":33775651,"question_id":18462826,"body_markdown":"    String string = &quot;This is test string on web&quot;;\r\n    String splitData[] = string.split(&quot;\\\\s&quot;, 2);\r\n\r\n    Result ::\r\n    splitData[0] =&gt;  This\r\n    splitData[1] =&gt;  is test string  \r\n\r\n\r\n    String string = &quot;This is test string on web&quot;;\r\n    String splitData[] = string.split(&quot;\\\\s&quot;, 3);\r\n\r\n    Result ::\r\n    splitData[0] =&gt;  This\r\n    splitData[1] =&gt;  is\r\n    splitData[1] =&gt;  test string on web\r\n\r\nBy default split method create n number&#39;s of arrays on the basis of given regex. But if you want to restrict number of arrays to create after a split than pass second argument as an integer argument.","title":"split string only on first instance - java","body":"<pre><code>String string = \"This is test string on web\";\nString splitData[] = string.split(\"\\\\s\", 2);\n\nResult ::\nsplitData[0] =&gt;  This\nsplitData[1] =&gt;  is test string  \n\n\nString string = \"This is test string on web\";\nString splitData[] = string.split(\"\\\\s\", 3);\n\nResult ::\nsplitData[0] =&gt;  This\nsplitData[1] =&gt;  is\nsplitData[1] =&gt;  test string on web\n</code></pre>\n\n<p>By default split method create n number's of arrays on the basis of given regex. But if you want to restrict number of arrays to create after a split than pass second argument as an integer argument.</p>\n"},{"tags":[],"owner":{"account_id":5946193,"reputation":392,"user_id":6870739,"display_name":"Bhola"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603930157,"creation_date":1497950859,"answer_id":44649073,"question_id":18462826,"body_markdown":"This works:\r\n\r\n    public class Split\r\n    {\r\n    \tpublic static void main(String...args)\r\n    \t{\r\n    \t\tString a = &quot;%abcdef&amp;Ghijk%xyz&quot;;\r\n    \t\tString b[] = a.split(&quot;%&quot;, 2);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Value = &quot;+b[1]);\r\n    \t}\r\n    }","title":"split string only on first instance - java","body":"<p>This works:</p>\n<pre><code>public class Split\n{\n    public static void main(String...args)\n    {\n        String a = &quot;%abcdef&amp;Ghijk%xyz&quot;;\n        String b[] = a.split(&quot;%&quot;, 2);\n        \n        System.out.println(&quot;Value = &quot;+b[1]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2681875,"reputation":4413,"user_id":2317087,"accept_rate":63,"display_name":"dracula"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179233,"favorite_count":0,"down_vote_count":0,"up_vote_count":203,"accepted_answer_id":18462905,"answer_count":6,"score":203,"last_activity_date":1661522414,"creation_date":1377598898,"question_id":18462826,"body_markdown":"I want to split a string by &#39;=&#39; charecter. But I want it to split on first instance only. How can I do that ? Here is a JavaScript example for &#39;_&#39; char but it doesn&#39;t work for me\r\nhttps://stackoverflow.com/questions/4607745/split-string-only-on-first-instance-of-specified-character\r\n\r\nExample :\r\n\r\n    apple=fruit table price=5\r\n\r\nWhen I try String.split(&#39;=&#39;); it gives \r\n\r\n    [apple],[fruit table price],[5]\r\n\r\nBut I need\r\n\r\n    [apple],[fruit table price=5]\r\n\r\nThanks","title":"split string only on first instance - java","body":"<p>I want to split a string by '=' charecter. But I want it to split on first instance only. How can I do that ? Here is a JavaScript example for '_' char but it doesn't work for me\n<a href=\"https://stackoverflow.com/questions/4607745/split-string-only-on-first-instance-of-specified-character\">split string only on first instance of specified character</a></p>\n\n<p>Example :</p>\n\n<pre><code>apple=fruit table price=5\n</code></pre>\n\n<p>When I try String.split('='); it gives </p>\n\n<pre><code>[apple],[fruit table price],[5]\n</code></pre>\n\n<p>But I need</p>\n\n<pre><code>[apple],[fruit table price=5]\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":["java","security","ldap","redhat"],"answers":[{"tags":[],"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1653574215,"creation_date":1653410734,"answer_id":72366593,"question_id":72366553,"body_markdown":"A quick Internet search result: &quot;The use of underscore characters is a little confusing. Underscore characters are not permitted in domain names in accordance with RFC 1035, which only allows letters, digits and hyphens.&quot; [1]\r\n\r\n\r\n  [1]: https://www.entrust.com/blog/2019/01/removal-of-underscores-from-domain-names/","title":"OpenJDK remedy for CVE-2022-21496 yields &quot;unsupported authority&quot; exception thrown","body":"<p>A quick Internet search result: &quot;The use of underscore characters is a little confusing. Underscore characters are not permitted in domain names in accordance with RFC 1035, which only allows letters, digits and hyphens.&quot; <a href=\"https://www.entrust.com/blog/2019/01/removal-of-underscores-from-domain-names/\" rel=\"nofollow noreferrer\">1</a></p>\n"},{"tags":[],"owner":{"account_id":7058373,"reputation":357,"user_id":5404717,"accept_rate":77,"display_name":"kanagaraj palanisamy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661522001,"creation_date":1661522001,"answer_id":73502116,"question_id":72366553,"body_markdown":"You need to add the environment variable -Dcom.sun.jndi.ldapURLParsing=&quot;legacy&quot; as shown here https://bugs.openjdk.org/browse/JDK-8288207 ","title":"OpenJDK remedy for CVE-2022-21496 yields &quot;unsupported authority&quot; exception thrown","body":"<p>You need to add the environment variable -Dcom.sun.jndi.ldapURLParsing=&quot;legacy&quot; as shown here <a href=\"https://bugs.openjdk.org/browse/JDK-8288207\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8288207</a></p>\n"}],"owner":{"account_id":42005,"reputation":2840,"user_id":122230,"accept_rate":80,"display_name":"wytten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2109,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72366593,"answer_count":2,"score":3,"last_activity_date":1661522001,"creation_date":1653410552,"question_id":72366553,"body_markdown":"After a recent RedHat OpenJDK update, an application is logging the following exception on startup while trying to process its configuration properties:\r\n\r\n***javax.naming.NamingException: Cannot parse url: ldap://dev_ldap.example.com:389 [Root exception is java.net.MalformedURLException: unsupported authority: dev_ldap.example.com:389]***\r\n\r\nWhat is meant by &quot;unsupported authority&quot;? A related RedHat article suggests only to &quot;avoid special characters&quot;, but we don&#39;t appear to be using any. (Unless it is the underscore that is considered &quot;special&quot;?)","title":"OpenJDK remedy for CVE-2022-21496 yields &quot;unsupported authority&quot; exception thrown","body":"<p>After a recent RedHat OpenJDK update, an application is logging the following exception on startup while trying to process its configuration properties:</p>\n<p><em><strong>javax.naming.NamingException: Cannot parse url: ldap://dev_ldap.example.com:389 [Root exception is java.net.MalformedURLException: unsupported authority: dev_ldap.example.com:389]</strong></em></p>\n<p>What is meant by &quot;unsupported authority&quot;? A related RedHat article suggests only to &quot;avoid special characters&quot;, but we don't appear to be using any. (Unless it is the underscore that is considered &quot;special&quot;?)</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1661519800,"post_id":73497468,"comment_id":129798031,"body_markdown":"Don&#39;t put things inside a `&lt;NavigationView&gt;`; it&#39;s not meant to act as a generic `ViewGroup`. Instead, make a vertical `&lt;LinearLayout&gt;` the drawer, and put the `&lt;NavigationView&gt;` and `&lt;ConstraintLayout&gt;` both inside that. The `android:layout_gravity=&quot;start&quot;` attribute is what marks the drawer, so make sure to move that to the new `&lt;LinearLayout&gt;`.","body":"Don&#39;t put things inside a <code>&lt;NavigationView&gt;</code>; it&#39;s not meant to act as a generic <code>ViewGroup</code>. Instead, make a vertical <code>&lt;LinearLayout&gt;</code> the drawer, and put the <code>&lt;NavigationView&gt;</code> and <code>&lt;ConstraintLayout&gt;</code> both inside that. The <code>android:layout_gravity=&quot;start&quot;</code> attribute is what marks the drawer, so make sure to move that to the new <code>&lt;LinearLayout&gt;</code>."},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1661521983,"post_id":73497468,"comment_id":129798826,"body_markdown":"I added it as a fix, is that what you mean? this didn&#39;t work. @MikeM.","body":"I added it as a fix, is that what you mean? this didn&#39;t work. @MikeM."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":2,"creation_date":1661522922,"post_id":73497468,"comment_id":129799210,"body_markdown":"No. The `&lt;ConstraintLayout&gt;` is still inside the `&lt;NavigationView&gt;`. Don&#39;t put things inside the `&lt;NavigationView&gt;`: https://drive.google.com/file/d/1De0nac-66M3RiZiJkRGk90RVYC9AO89R/view?usp=sharing. You probably don&#39;t even really need the `&lt;ConstraintLayout&gt;` there anymore, but you&#39;d have to adjust the paddings and whatnot.","body":"No. The <code>&lt;ConstraintLayout&gt;</code> is still inside the <code>&lt;NavigationView&gt;</code>. Don&#39;t put things inside the <code>&lt;NavigationView&gt;</code>: <a href=\"https://drive.google.com/file/d/1De0nac-66M3RiZiJkRGk90RVYC9AO89R/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1De0nac-66M3RiZiJkRGk90RVYC9AO89R/&hellip;</a>. You probably don&#39;t even really need the <code>&lt;ConstraintLayout&gt;</code> there anymore, but you&#39;d have to adjust the paddings and whatnot."},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":0,"creation_date":1661524613,"post_id":73497468,"comment_id":129799854,"body_markdown":"Thank you so much. It stays fixed the way you throw it, while there is the menu section above, it looks like a piece of paper standing on it. I want it to appear as I scroll at the end of the menu. Is it possible for me to provide this? @MikeM.","body":"Thank you so much. It stays fixed the way you throw it, while there is the menu section above, it looks like a piece of paper standing on it. I want it to appear as I scroll at the end of the menu. Is it possible for me to provide this? @MikeM."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1661525904,"post_id":73497468,"comment_id":129800294,"body_markdown":"You mean, if the menu is short (compared to height), the `TextView`s should be static at the bottom, but if the menu is long enough to scroll, the `TextView`s should be at the end of the scrolling menu instead? Yeah, I&#39;m sure you could do that, but it would take a more complex setup. I can&#39;t think of any quick and simple method off the top of my head, but I&#39;ll let you know if I do.","body":"You mean, if the menu is short (compared to height), the <code>TextView</code>s should be static at the bottom, but if the menu is long enough to scroll, the <code>TextView</code>s should be at the end of the scrolling menu instead? Yeah, I&#39;m sure you could do that, but it would take a more complex setup. I can&#39;t think of any quick and simple method off the top of my head, but I&#39;ll let you know if I do."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1661584448,"post_id":73497468,"comment_id":129811016,"body_markdown":"OK, I&#39;ve got something that&#39;s relatively simple and pretty solid, AFAICT, though I&#39;ve not done extensive testing. It uses a helper class to place the footer either statically in the drawer container, or as the last scrolling menu item, depending on how things end up measuring. The example&#39;s not too big, so I just threw it in a text file: https://drive.google.com/file/d/1Dek96fpSSYIbjBNCOnHzNRvU_V0_jLVP/view?usp=sharing. Looks like: https://i.stack.imgur.com/mTX3a.png. There are a few notes in the code and XML. Hope it helps.","body":"OK, I&#39;ve got something that&#39;s relatively simple and pretty solid, AFAICT, though I&#39;ve not done extensive testing. It uses a helper class to place the footer either statically in the drawer container, or as the last scrolling menu item, depending on how things end up measuring. The example&#39;s not too big, so I just threw it in a text file: <a href=\"https://drive.google.com/file/d/1Dek96fpSSYIbjBNCOnHzNRvU_V0_jLVP/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1Dek96fpSSYIbjBNCOnHzNRvU_V0_jLVP/&hellip;</a>. Looks like: <a href=\"https://i.stack.imgur.com/mTX3a.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/mTX3a.png</a>. There are a few notes in the code and XML. Hope it helps."},{"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"score":1,"creation_date":1661629168,"post_id":73497468,"comment_id":129819064,"body_markdown":"Omgg Thank you so much. This will help me a lot. @MikeM.","body":"Omgg Thank you so much. This will help me a lot. @MikeM."}],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661521975,"creation_date":1661498663,"question_id":73497468,"body_markdown":"XML components overlap in landscape mode.\r\nHi, I have a drawer layout with menu options in it. The sub-linear layout contains the information of my application. However, when using the device sideways, the constraints layout rises above the menu options. How Can I Solve This?\r\n\r\nMy Code :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;include\r\n            android:id=&quot;@+id/includingAppBarMain&quot;\r\n            layout=&quot;@layout/app_bar_main&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_drawerView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            app:headerLayout=&quot;@layout/nav_header_main&quot;\r\n            app:itemBackground=&quot;@drawable/line_bottom_semi_gray&quot;\r\n            app:itemIconTint=&quot;@color/colorAccentSecondary&quot;\r\n            app:menu=&quot;@menu/activity_main_drawer&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;bottom&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:paddingStart=&quot;16dp&quot;\r\n                android:paddingEnd=&quot;16dp&quot;\r\n                android:paddingBottom=&quot;12dp&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv_flavorName&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;bottom&quot;\r\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\r\n                    android:text=&quot;TextView&quot;\r\n                    android:textColor=&quot;@android:color/black&quot;\r\n                    android:textSize=&quot;13sp&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv_appVersionName&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;bottom&quot;\r\n                    android:layout_marginTop=&quot;4dp&quot;\r\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:text=&quot;TextView&quot;\r\n                    android:textSize=&quot;12sp&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/tv_flavorName&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tv_flavorName&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv_appBaseVersion&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;bottom&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\r\n                    android:text=&quot;TextView&quot;\r\n                    android:textSize=&quot;12sp&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/tv_appVersionName&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tv_appVersionName&quot; /&gt;\r\n    \r\n    \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n        &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\nXML components overlap in landscape mode.\r\n\r\n\r\nedited :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n        &lt;include\r\n            android:id=&quot;@+id/includingAppBarMain&quot;\r\n            layout=&quot;@layout/app_bar_main&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_gravity=&quot;start&quot;&gt;\r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_drawerView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:background=&quot;@android:color/white&quot;\r\n            app:headerLayout=&quot;@layout/nav_header_main&quot;\r\n            app:itemBackground=&quot;@drawable/line_bottom_semi_gray&quot;\r\n            app:itemIconTint=&quot;@color/colorAccentSecondary&quot;\r\n            app:menu=&quot;@menu/activity_main_drawer&quot;&gt;\r\n    \r\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;bottom&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:paddingStart=&quot;16dp&quot;\r\n                android:paddingEnd=&quot;16dp&quot;\r\n                android:paddingBottom=&quot;12dp&quot;&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv_flavorName&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;bottom&quot;\r\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\r\n                    android:text=&quot;TextView&quot;\r\n                    android:textColor=&quot;@android:color/black&quot;\r\n                    android:textSize=&quot;13sp&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                    app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv_appVersionName&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;bottom&quot;\r\n                    android:layout_marginTop=&quot;4dp&quot;\r\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\r\n                    android:gravity=&quot;center_vertical&quot;\r\n                    android:text=&quot;TextView&quot;\r\n                    android:textSize=&quot;12sp&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/tv_flavorName&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tv_flavorName&quot; /&gt;\r\n    \r\n                &lt;TextView\r\n                    android:id=&quot;@+id/tv_appBaseVersion&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_gravity=&quot;bottom&quot;\r\n                    android:layout_marginTop=&quot;2dp&quot;\r\n                    android:fontFamily=&quot;@font/roboto_regular&quot;\r\n                    android:text=&quot;TextView&quot;\r\n                    android:textSize=&quot;12sp&quot;\r\n                    app:layout_constraintStart_toStartOf=&quot;@+id/tv_appVersionName&quot;\r\n                    app:layout_constraintTop_toBottomOf=&quot;@+id/tv_appVersionName&quot; /&gt;\r\n    \r\n    \r\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n        &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n    &lt;/LinearLayout&gt;\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;","title":"XML components overlap in landscape mode","body":"<p>XML components overlap in landscape mode.\nHi, I have a drawer layout with menu options in it. The sub-linear layout contains the information of my application. However, when using the device sideways, the constraints layout rises above the menu options. How Can I Solve This?</p>\n<p>My Code :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/includingAppBarMain&quot;\n        layout=&quot;@layout/app_bar_main&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_drawerView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:background=&quot;@android:color/white&quot;\n        app:headerLayout=&quot;@layout/nav_header_main&quot;\n        app:itemBackground=&quot;@drawable/line_bottom_semi_gray&quot;\n        app:itemIconTint=&quot;@color/colorAccentSecondary&quot;\n        app:menu=&quot;@menu/activity_main_drawer&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;bottom&quot;\n            android:orientation=&quot;vertical&quot;\n            android:paddingStart=&quot;16dp&quot;\n            android:paddingEnd=&quot;16dp&quot;\n            android:paddingBottom=&quot;12dp&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_flavorName&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:fontFamily=&quot;@font/roboto_regular&quot;\n                android:text=&quot;TextView&quot;\n                android:textColor=&quot;@android:color/black&quot;\n                android:textSize=&quot;13sp&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_appVersionName&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:layout_marginTop=&quot;4dp&quot;\n                android:fontFamily=&quot;@font/roboto_regular&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:text=&quot;TextView&quot;\n                android:textSize=&quot;12sp&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/tv_flavorName&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_flavorName&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_appBaseVersion&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:layout_marginTop=&quot;2dp&quot;\n                android:fontFamily=&quot;@font/roboto_regular&quot;\n                android:text=&quot;TextView&quot;\n                android:textSize=&quot;12sp&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/tv_appVersionName&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_appVersionName&quot; /&gt;\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>XML components overlap in landscape mode.</p>\n<p>edited :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:openDrawer=&quot;start&quot;&gt;\n\n    &lt;include\n        android:id=&quot;@+id/includingAppBarMain&quot;\n        layout=&quot;@layout/app_bar_main&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_gravity=&quot;start&quot;&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_drawerView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:background=&quot;@android:color/white&quot;\n        app:headerLayout=&quot;@layout/nav_header_main&quot;\n        app:itemBackground=&quot;@drawable/line_bottom_semi_gray&quot;\n        app:itemIconTint=&quot;@color/colorAccentSecondary&quot;\n        app:menu=&quot;@menu/activity_main_drawer&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;bottom&quot;\n            android:orientation=&quot;vertical&quot;\n            android:paddingStart=&quot;16dp&quot;\n            android:paddingEnd=&quot;16dp&quot;\n            android:paddingBottom=&quot;12dp&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_flavorName&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:fontFamily=&quot;@font/roboto_regular&quot;\n                android:text=&quot;TextView&quot;\n                android:textColor=&quot;@android:color/black&quot;\n                android:textSize=&quot;13sp&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_appVersionName&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:layout_marginTop=&quot;4dp&quot;\n                android:fontFamily=&quot;@font/roboto_regular&quot;\n                android:gravity=&quot;center_vertical&quot;\n                android:text=&quot;TextView&quot;\n                android:textSize=&quot;12sp&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/tv_flavorName&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_flavorName&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_appBaseVersion&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;bottom&quot;\n                android:layout_marginTop=&quot;2dp&quot;\n                android:fontFamily=&quot;@font/roboto_regular&quot;\n                android:text=&quot;TextView&quot;\n                android:textSize=&quot;12sp&quot;\n                app:layout_constraintStart_toStartOf=&quot;@+id/tv_appVersionName&quot;\n                app:layout_constraintTop_toBottomOf=&quot;@+id/tv_appVersionName&quot; /&gt;\n\n\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n&lt;/LinearLayout&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661521970,"creation_date":1661514708,"answer_id":73500619,"question_id":73500382,"body_markdown":"Specify the entity type being returned - Person.class\r\n```\r\nString query = &quot;SELECT p.*, a.* FROM person p, address a WHERE p.id = a.person_id&quot;;\r\nList&lt;Person&gt; personList = session.createNativeQuery(query, Person.class).list();\r\n```","title":"How to include child objects in nativequery list?","body":"<p>Specify the entity type being returned - Person.class</p>\n<pre><code>String query = &quot;SELECT p.*, a.* FROM person p, address a WHERE p.id = a.person_id&quot;;\nList&lt;Person&gt; personList = session.createNativeQuery(query, Person.class).list();\n</code></pre>\n"}],"owner":{"account_id":17654983,"reputation":115,"user_id":12814777,"display_name":"dataman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661521970,"creation_date":1661513502,"question_id":73500382,"body_markdown":"In this simplified example, I have code that returns a list via a native query\r\n\r\n    String query = &quot;SELECT id, first_name, last_name, email FROM person&quot;;\r\n    List&lt;Person&gt; personList = session.createNativeQuery(query).list();\r\n\r\nNow we have added an address object that allows multiple addresses per person  (no address key has been added to the person table since it is a one to many relationship)\r\n\r\n      class Address {\r\n        private Integer personId\r\n        private String streetAddress;\r\n      }    \r\n\r\nWe want the address list object to be included in the result set for each person record\r\n\r\nWhat is the best way to do that?\r\n","title":"How to include child objects in nativequery list?","body":"<p>In this simplified example, I have code that returns a list via a native query</p>\n<pre><code>String query = &quot;SELECT id, first_name, last_name, email FROM person&quot;;\nList&lt;Person&gt; personList = session.createNativeQuery(query).list();\n</code></pre>\n<p>Now we have added an address object that allows multiple addresses per person  (no address key has been added to the person table since it is a one to many relationship)</p>\n<pre><code>  class Address {\n    private Integer personId\n    private String streetAddress;\n  }    \n</code></pre>\n<p>We want the address list object to be included in the result set for each person record</p>\n<p>What is the best way to do that?</p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1661521850,"post_id":73502061,"comment_id":129798781,"body_markdown":"@Before should work just fine, what exactly is it that isn&#39;t working?","body":"@Before should work just fine, what exactly is it that isn&#39;t working?"},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1661522171,"post_id":73502061,"comment_id":129798891,"body_markdown":"Which version of JUnit are you using?","body":"Which version of JUnit are you using?"}],"owner":{"account_id":26166568,"reputation":1,"user_id":19852287,"display_name":"Moaaz Abdelmeguid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661521803,"creation_date":1661521803,"question_id":73502061,"body_markdown":"I am doing an integration test for a process using JUnit and there is a punch of processes that should be ran to set the environment to test any new feature, i do not want to setup the environment in every test method, so how can i set my environment in a setUp method?\r\n\r\nI tried to include the configuration processes in the setUp method by adding the @BeforeAll and @BeforeEach and they did not help!","title":"Dependent Junit test cases and test setUp","body":"<p>I am doing an integration test for a process using JUnit and there is a punch of processes that should be ran to set the environment to test any new feature, i do not want to setup the environment in every test method, so how can i set my environment in a setUp method?</p>\n<p>I tried to include the configuration processes in the setUp method by adding the @BeforeAll and @BeforeEach and they did not help!</p>\n"},{"tags":["java","apache-kafka","junit","spring-kafka-test"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1661521419,"post_id":73499523,"comment_id":129798622,"body_markdown":"Your producer code isn&#39;t shown, and the consumer isn&#39;t coupled to it at all, so unclear what you expected to happen. So, this code works fine if you&#39;re not throwing an exception inside the KafkaTemplate send method (such as by mocking it)","body":"Your producer code isn&#39;t shown, and the consumer isn&#39;t coupled to it at all, so unclear what you expected to happen. So, this code works fine if you&#39;re not throwing an exception inside the KafkaTemplate send method (such as by mocking it)"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661521579,"creation_date":1661521579,"answer_id":73502021,"question_id":73499523,"body_markdown":"You don&#39;t need a producer to test this \r\n\r\n```\r\n// TODO: get consumer service instance \r\nfinal Event event = new Event();\r\nassertThrows(RuntimeException.class, \r\n    () -&gt; service.consumeEvents(event));\r\n```","title":"Test Exception thrown by Kafka Consumer in Spring Boot","body":"<p>You don't need a producer to test this</p>\n<pre><code>// TODO: get consumer service instance \nfinal Event event = new Event();\nassertThrows(RuntimeException.class, \n    () -&gt; service.consumeEvents(event));\n</code></pre>\n"}],"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":997,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661521722,"creation_date":1661509359,"question_id":73499523,"body_markdown":"I&#39;ve the following configuration\r\n```\r\nserver:\r\n  port: 8001\r\nspring:\r\n  kafka:\r\n    bootstrap-servers: localhost:9092\r\n    consumer:\r\n      auto-offset-reset: latest\r\n      group-id: group-id\r\n      value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n      key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\r\n      properties:\r\n        spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\r\n        spring.deserializer.value.delegate.class: &lt;package..&gt;.config.kafka.KafkaEventDeserializer\r\n    producer:\r\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n      value-serializer: &lt;package..&gt;.config.kafka.KafkaEventSerializer\r\n  \r\nkafka:\r\n   topic-name: topic-name\r\n   group-id: group-id\r\n```\r\n\r\nI want to test the following Kafka Consumer \r\n\r\n    @KafkaListener(topics = &quot;#{&#39;${kafka.topic}&#39;}&quot;,\r\n                   groupId = &quot;#{&#39;${kafka.group-id}&#39;}&quot;)\r\n    public void consumeEvents(Event event) throws RuntimeException {\r\n          throw new RuntimeException(&quot;EventType does not match !&quot;);\r\n    }\r\n\r\nthis is my test case\r\n\r\n    @Test\r\n    @SneakyThrows\r\n    void consumeEvents_RuntimeExceptionShouldBeThrown() {\r\n        \r\n        ...\r\n        await().atMost(2, TimeUnit.SECONDS)\r\n               .untilAsserted(() -&gt; assertThrows(RuntimeException.class, () -&gt; kafkaTemplate.send(receiptTopic, &quot;key&quot;, event)));\r\n        \r\n    }\r\n\r\n\r\nThe exception is thrown by the test failed ! \r\n\r\nIt seems that the excpetion is already catched, thus `assertThrows` doesn&#39;t work properly\r\n\r\nHow can we handle such case ? Thanks","title":"Test Exception thrown by Kafka Consumer in Spring Boot","body":"<p>I've the following configuration</p>\n<pre><code>server:\n  port: 8001\nspring:\n  kafka:\n    bootstrap-servers: localhost:9092\n    consumer:\n      auto-offset-reset: latest\n      group-id: group-id\n      value-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n      key-deserializer: org.springframework.kafka.support.serializer.ErrorHandlingDeserializer\n      properties:\n        spring.deserializer.key.delegate.class: org.apache.kafka.common.serialization.StringDeserializer\n        spring.deserializer.value.delegate.class: &lt;package..&gt;.config.kafka.KafkaEventDeserializer\n    producer:\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: &lt;package..&gt;.config.kafka.KafkaEventSerializer\n  \nkafka:\n   topic-name: topic-name\n   group-id: group-id\n</code></pre>\n<p>I want to test the following Kafka Consumer</p>\n<pre><code>@KafkaListener(topics = &quot;#{'${kafka.topic}'}&quot;,\n               groupId = &quot;#{'${kafka.group-id}'}&quot;)\npublic void consumeEvents(Event event) throws RuntimeException {\n      throw new RuntimeException(&quot;EventType does not match !&quot;);\n}\n</code></pre>\n<p>this is my test case</p>\n<pre><code>@Test\n@SneakyThrows\nvoid consumeEvents_RuntimeExceptionShouldBeThrown() {\n    \n    ...\n    await().atMost(2, TimeUnit.SECONDS)\n           .untilAsserted(() -&gt; assertThrows(RuntimeException.class, () -&gt; kafkaTemplate.send(receiptTopic, &quot;key&quot;, event)));\n    \n}\n</code></pre>\n<p>The exception is thrown by the test failed !</p>\n<p>It seems that the excpetion is already catched, thus <code>assertThrows</code> doesn't work properly</p>\n<p>How can we handle such case ? Thanks</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1642156544,"post_id":70708196,"comment_id":125001474,"body_markdown":"duplicate? [Spring WebFlux. How to get the request body in two different formats using @RequestBody annotation?](https://stackoverflow.com/questions/69797121/spring-webflux-how-to-get-the-request-body-in-two-different-formats-using-requ)","body":"duplicate? <a href=\"https://stackoverflow.com/questions/69797121/spring-webflux-how-to-get-the-request-body-in-two-different-formats-using-requ\">Spring WebFlux. How to get the request body in two different formats using @RequestBody annotation?</a>"},{"owner":{"account_id":21584075,"reputation":45,"user_id":15914844,"display_name":"Drawio"},"score":0,"creation_date":1642156884,"post_id":70708196,"comment_id":125001586,"body_markdown":"@Toerktumlare I saw that one thanks. But as I said, I can&#39;t change the signature.","body":"@Toerktumlare I saw that one thanks. But as I said, I can&#39;t change the signature."},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1642422635,"post_id":70708196,"comment_id":125058899,"body_markdown":"You can just convert Student to a string with a JSON library such as Jackson.","body":"You can just convert Student to a string with a JSON library such as Jackson."},{"owner":{"account_id":21584075,"reputation":45,"user_id":15914844,"display_name":"Drawio"},"score":0,"creation_date":1642424041,"post_id":70708196,"comment_id":125059460,"body_markdown":"Unfortunately, it&#39;s not possible in my case. I need the exact raw json body as it was sent: same indentations, same white spaces,..etc.","body":"Unfortunately, it&#39;s not possible in my case. I need the exact raw json body as it was sent: same indentations, same white spaces,..etc."}],"answers":[{"tags":[],"owner":{"account_id":5613880,"reputation":9,"user_id":4445872,"display_name":"Othmen Tiliouine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661521559,"creation_date":1651243860,"answer_id":72059812,"question_id":70708196,"body_markdown":"i had the same problem and i cant change the signaure because it is generated by openapi generator\r\n\r\ni found a solution by caching the body in a string in a WebFilter :\r\n\r\n    @Slf4j\r\n    public class CachingBodyServerHttpRequestDecorator extends ServerHttpRequestDecorator {\r\n\r\n    private final StringBuilder cachedBody = new StringBuilder();\r\n\r\n    public CachingBodyServerHttpRequestDecorator(ServerHttpRequest delegate) {\r\n        super(delegate);\r\n    }\r\n\r\n    @Override\r\n    public Flux&lt;DataBuffer&gt; getBody() {\r\n        return super.getBody().doOnNext(this::cache);\r\n    }\r\n\r\n    @SneakyThrows\r\n    private void cache(DataBuffer buffer) {\r\n        cachedBody.append(UTF_8.decode(buffer.asByteBuffer()));\r\n    }\r\n\r\n    public String getCachedBody() {\r\n        return cachedBody.toString();\r\n    }\r\n    }\r\n\r\n\r\n    public final class CachingBodyServerWebExchangeDecorator extends ServerWebExchangeDecorator {\r\n\r\n    private final ServerHttpRequestDecorator requestDecorator;\r\n\r\n    public CachingBodyServerWebExchangeDecorator(ServerWebExchange delegate) {\r\n        super(delegate);\r\n        this.requestDecorator = new CachingBodyServerHttpRequestDecorator(delegate.getRequest());\r\n    }\r\n\r\n    @Override\r\n    public ServerHttpRequest getRequest() {\r\n        return requestDecorator;\r\n    }\r\n\r\n    }\r\n\r\n\r\n    @Component\r\n    @Slf4j\r\n    public class SetRequestBodyAttribute implements WebFilter {\r\n\r\n        private static ServerHttpRequestPredicate requestsToServe =\r\n                MethodServerHttpRequestPredicate.of(HttpMethod.POST)\r\n                        .and(PathServerHttpRequestPredicate.of(&quot;/contacts/import&quot;))\r\n                        .or(MethodServerHttpRequestPredicate.of(HttpMethod.PATCH)\r\n                                .and(PathServerHttpRequestPredicate.of(&quot;/contacts/{contact_id}&quot;)));\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            if (requestsToServe.test(exchange.getRequest())) {\r\n                 \r\n            return chain.filter(new CachingBodyServerWebExchangeDecorator(exchange));\r\n            }\r\n            return chain.filter(exchange);\r\n        }\r\n    }\r\n\r\n\r\n    @UtilityClass\r\n    public class ServerHttpRequestUtils {\r\n    \r\n        public Mono&lt;String&gt; getBodyAsString(ServerHttpRequest request) {\r\n            return Mono.just(((CachingBodyServerHttpRequestDecorator)exchange.getRequest()).getCachedBody())\r\n        }\r\n    }\r\n\r\n\r\n    public interface ServerHttpRequestPredicate {\r\n    \r\n        boolean test(ServerHttpRequest request);\r\n    \r\n        @NotNull\r\n        default ServerHttpRequestPredicate and(@NotNull ServerHttpRequestPredicate other) {\r\n            Objects.requireNonNull(other);\r\n            return (t) -&gt; test(t) &amp;&amp; other.test(t);\r\n        }\r\n    \r\n        @NotNull\r\n        default ServerHttpRequestPredicate negate() {\r\n            return (t) -&gt; !test(t);\r\n        }\r\n    \r\n        @NotNull\r\n        default ServerHttpRequestPredicate or(@NotNull ServerHttpRequestPredicate other) {\r\n            Objects.requireNonNull(other);\r\n            return (t) -&gt; test(t) || other.test(t);\r\n        }\r\n    }\r\n    \r\n    @Value\r\n    public class PathServerHttpRequestPredicate implements ServerHttpRequestPredicate {\r\n    \r\n        public static PathServerHttpRequestPredicate of(String path) {\r\n            return new PathServerHttpRequestPredicate(path);\r\n        }\r\n    \r\n        PathPattern pathPattern;\r\n    \r\n        public PathServerHttpRequestPredicate(String path) {\r\n            Assert.notNull(path, &quot;path should not be null!&quot;);\r\n            this.pathPattern = PathPatternParser.defaultInstance.parse(path);\r\n        }\r\n    \r\n        @Override\r\n        public boolean test(ServerHttpRequest request) {\r\n            PathContainer pathContainer = request.getPath().pathWithinApplication();\r\n            PathPattern.PathMatchInfo info = this.pathPattern.matchAndExtract(pathContainer);\r\n            return info != null;\r\n        }\r\n    }\r\n    \r\n    @Value(staticConstructor = &quot;of&quot;)\r\n    public class MethodServerHttpRequestPredicate implements ServerHttpRequestPredicate{\r\n    \r\n        HttpMethod httpMethod;\r\n    \r\n        public MethodServerHttpRequestPredicate(HttpMethod httpMethod) {\r\n            Assert.notNull(httpMethod, &quot;httpMethod should not be null!&quot;);\r\n            this.httpMethod = httpMethod;\r\n        }\r\n    \r\n        @Override\r\n        public boolean test(ServerHttpRequest request) {\r\n            return request.getMethod() == httpMethod;\r\n        }\r\n    }\r\n\r\n\r\nand in the controller handler we can get the body as string even if it was injected as Object \r\n\r\n    Mono&lt;String&gt; bodyAsStringMono = ServerHttpRequestUtils .getBodyAsString(exchange);","title":"Get body as raw string from ServerWebExchange/ServerHttpRequest","body":"<p>i had the same problem and i cant change the signaure because it is generated by openapi generator</p>\n<p>i found a solution by caching the body in a string in a WebFilter :</p>\n<pre><code>@Slf4j\npublic class CachingBodyServerHttpRequestDecorator extends ServerHttpRequestDecorator {\n\nprivate final StringBuilder cachedBody = new StringBuilder();\n\npublic CachingBodyServerHttpRequestDecorator(ServerHttpRequest delegate) {\n    super(delegate);\n}\n\n@Override\npublic Flux&lt;DataBuffer&gt; getBody() {\n    return super.getBody().doOnNext(this::cache);\n}\n\n@SneakyThrows\nprivate void cache(DataBuffer buffer) {\n    cachedBody.append(UTF_8.decode(buffer.asByteBuffer()));\n}\n\npublic String getCachedBody() {\n    return cachedBody.toString();\n}\n}\n\n\npublic final class CachingBodyServerWebExchangeDecorator extends ServerWebExchangeDecorator {\n\nprivate final ServerHttpRequestDecorator requestDecorator;\n\npublic CachingBodyServerWebExchangeDecorator(ServerWebExchange delegate) {\n    super(delegate);\n    this.requestDecorator = new CachingBodyServerHttpRequestDecorator(delegate.getRequest());\n}\n\n@Override\npublic ServerHttpRequest getRequest() {\n    return requestDecorator;\n}\n\n}\n\n\n@Component\n@Slf4j\npublic class SetRequestBodyAttribute implements WebFilter {\n\n    private static ServerHttpRequestPredicate requestsToServe =\n            MethodServerHttpRequestPredicate.of(HttpMethod.POST)\n                    .and(PathServerHttpRequestPredicate.of(&quot;/contacts/import&quot;))\n                    .or(MethodServerHttpRequestPredicate.of(HttpMethod.PATCH)\n                            .and(PathServerHttpRequestPredicate.of(&quot;/contacts/{contact_id}&quot;)));\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        if (requestsToServe.test(exchange.getRequest())) {\n             \n        return chain.filter(new CachingBodyServerWebExchangeDecorator(exchange));\n        }\n        return chain.filter(exchange);\n    }\n}\n\n\n@UtilityClass\npublic class ServerHttpRequestUtils {\n\n    public Mono&lt;String&gt; getBodyAsString(ServerHttpRequest request) {\n        return Mono.just(((CachingBodyServerHttpRequestDecorator)exchange.getRequest()).getCachedBody())\n    }\n}\n\n\npublic interface ServerHttpRequestPredicate {\n\n    boolean test(ServerHttpRequest request);\n\n    @NotNull\n    default ServerHttpRequestPredicate and(@NotNull ServerHttpRequestPredicate other) {\n        Objects.requireNonNull(other);\n        return (t) -&gt; test(t) &amp;&amp; other.test(t);\n    }\n\n    @NotNull\n    default ServerHttpRequestPredicate negate() {\n        return (t) -&gt; !test(t);\n    }\n\n    @NotNull\n    default ServerHttpRequestPredicate or(@NotNull ServerHttpRequestPredicate other) {\n        Objects.requireNonNull(other);\n        return (t) -&gt; test(t) || other.test(t);\n    }\n}\n\n@Value\npublic class PathServerHttpRequestPredicate implements ServerHttpRequestPredicate {\n\n    public static PathServerHttpRequestPredicate of(String path) {\n        return new PathServerHttpRequestPredicate(path);\n    }\n\n    PathPattern pathPattern;\n\n    public PathServerHttpRequestPredicate(String path) {\n        Assert.notNull(path, &quot;path should not be null!&quot;);\n        this.pathPattern = PathPatternParser.defaultInstance.parse(path);\n    }\n\n    @Override\n    public boolean test(ServerHttpRequest request) {\n        PathContainer pathContainer = request.getPath().pathWithinApplication();\n        PathPattern.PathMatchInfo info = this.pathPattern.matchAndExtract(pathContainer);\n        return info != null;\n    }\n}\n\n@Value(staticConstructor = &quot;of&quot;)\npublic class MethodServerHttpRequestPredicate implements ServerHttpRequestPredicate{\n\n    HttpMethod httpMethod;\n\n    public MethodServerHttpRequestPredicate(HttpMethod httpMethod) {\n        Assert.notNull(httpMethod, &quot;httpMethod should not be null!&quot;);\n        this.httpMethod = httpMethod;\n    }\n\n    @Override\n    public boolean test(ServerHttpRequest request) {\n        return request.getMethod() == httpMethod;\n    }\n}\n</code></pre>\n<p>and in the controller handler we can get the body as string even if it was injected as Object</p>\n<pre><code>Mono&lt;String&gt; bodyAsStringMono = ServerHttpRequestUtils .getBodyAsString(exchange);\n</code></pre>\n"}],"owner":{"account_id":21584075,"reputation":45,"user_id":15914844,"display_name":"Drawio"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661521559,"creation_date":1642150958,"question_id":70708196,"body_markdown":"I need to get the request body as a raw JSON string in my controller. I&#39;m using Spring WebFlux. If I could change ***@PostMapper*** function signature, it will be so easy to get the raw JSON by using &quot;***@RequestBody String rawStudent***&quot;. But I can&#39;t do that as it&#39;s auto-generated and will affect other handlers, also &quot;***@RequestBody Student***&quot; already exist and we can&#39;t have two @RequestBody.\r\n\r\n    @RestController\r\n    public class StudentController {\r\n        @PostMapping(&quot;/student&quot;)\r\n        private void newStudent(@RequestBody Student student,\r\n                                ServerWebExchange exchange) {\r\n            String rawStudent = ServerExchangeUtils.getRequestRawBody(exchange); //idealy like this\r\n            System.out.println(rawStudent);\r\n        }\r\n    }\r\nWhat I&#39;m looking for is something like &quot;getRequestRaw(exchange)&quot;","title":"Get body as raw string from ServerWebExchange/ServerHttpRequest","body":"<p>I need to get the request body as a raw JSON string in my controller. I'm using Spring WebFlux. If I could change <em><strong>@PostMapper</strong></em> function signature, it will be so easy to get the raw JSON by using &quot;<em><strong>@RequestBody String rawStudent</strong></em>&quot;. But I can't do that as it's auto-generated and will affect other handlers, also &quot;<em><strong>@RequestBody Student</strong></em>&quot; already exist and we can't have two @RequestBody.</p>\n<pre><code>@RestController\npublic class StudentController {\n    @PostMapping(&quot;/student&quot;)\n    private void newStudent(@RequestBody Student student,\n                            ServerWebExchange exchange) {\n        String rawStudent = ServerExchangeUtils.getRequestRawBody(exchange); //idealy like this\n        System.out.println(rawStudent);\n    }\n}\n</code></pre>\n<p>What I'm looking for is something like &quot;getRequestRaw(exchange)&quot;</p>\n"},{"tags":["java","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":21121216,"reputation":41,"user_id":15527204,"display_name":"Shiva Rena"},"score":0,"creation_date":1644846170,"post_id":71110663,"comment_id":125706287,"body_markdown":"Hi Faeemazaz, i tried your answer.it still displaying else condtion only.and in my controller class gender type is enum.","body":"Hi Faeemazaz, i tried your answer.it still displaying else condtion only.and in my controller class gender type is enum."}],"answers":[{"tags":[],"owner":{"account_id":5079871,"reputation":1055,"user_id":4076291,"accept_rate":57,"display_name":"Ahmet"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1644836601,"creation_date":1644836601,"answer_id":71110821,"question_id":71110663,"body_markdown":"You check against **&#39;F&#39;** in both cases. Please change it to **&#39;M&#39;** for the unless expression.\r\n\r\n    &lt;center&gt;\r\n       &lt;!-- IF --&gt;\r\n        &lt;span th:if=&quot;${employee.gender == &#39;F&#39;}&quot;&gt;Female&lt;/span&gt;\r\n       &lt;!-- ELSE --&gt;\r\n        &lt;span th:unless=&quot;${employee.gender == &#39;M&#39;}&quot;&gt;Male&lt;/span&gt;\r\n    &lt;/center&gt;","title":"Why if-else condition not working in thymeleaf","body":"<p>You check against <strong>'F'</strong> in both cases. Please change it to <strong>'M'</strong> for the unless expression.</p>\n<pre><code>&lt;center&gt;\n   &lt;!-- IF --&gt;\n    &lt;span th:if=&quot;${employee.gender == 'F'}&quot;&gt;Female&lt;/span&gt;\n   &lt;!-- ELSE --&gt;\n    &lt;span th:unless=&quot;${employee.gender == 'M'}&quot;&gt;Male&lt;/span&gt;\n&lt;/center&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5079871,"reputation":1055,"user_id":4076291,"accept_rate":57,"display_name":"Ahmet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661521217,"creation_date":1644837432,"answer_id":71110976,"question_id":71110663,"body_markdown":"Could you please try the following code, which is an inline evaluation form. Since you have two options (Male or Female) you can easily check for one option and then decide.\r\n\r\n    &lt;center&gt;\r\n       &lt;span th:text=&quot;${employee.gender == &#39;F&#39;} ?  &#39;Female&#39; : &#39;Male&#39;&quot;&gt;Female&lt;/span&gt;\r\n    &lt;/center&gt;","title":"Why if-else condition not working in thymeleaf","body":"<p>Could you please try the following code, which is an inline evaluation form. Since you have two options (Male or Female) you can easily check for one option and then decide.</p>\n<pre><code>&lt;center&gt;\n   &lt;span th:text=&quot;${employee.gender == 'F'} ?  'Female' : 'Male'&quot;&gt;Female&lt;/span&gt;\n&lt;/center&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644849121,"creation_date":1644843973,"answer_id":71112386,"question_id":71110663,"body_markdown":"To compare with an enum constant try this:\r\n\r\n```\r\n&lt;center&gt;\r\n    &lt;th:block th:if=&quot;${user.gender == T(name.now).M}&quot;&gt;\r\n        &lt;span&gt;Female&lt;/span&gt;\r\n    &lt;/th:block&gt;\r\n    \r\n    &lt;th:block th:unless=&quot;${user.gender == T(name.now).M}&quot;&gt;\r\n        &lt;span&gt;Male&lt;/span&gt;\r\n    &lt;/th:block&gt;\r\n&lt;/center&gt;\r\n```","title":"Why if-else condition not working in thymeleaf","body":"<p>To compare with an enum constant try this:</p>\n<pre><code>&lt;center&gt;\n    &lt;th:block th:if=&quot;${user.gender == T(name.now).M}&quot;&gt;\n        &lt;span&gt;Female&lt;/span&gt;\n    &lt;/th:block&gt;\n    \n    &lt;th:block th:unless=&quot;${user.gender == T(name.now).M}&quot;&gt;\n        &lt;span&gt;Male&lt;/span&gt;\n    &lt;/th:block&gt;\n&lt;/center&gt;\n</code></pre>\n"}],"owner":{"account_id":21121216,"reputation":41,"user_id":15527204,"display_name":"Shiva Rena"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1661521217,"creation_date":1644835845,"question_id":71110663,"body_markdown":"I want to display gender name based on condition in label using Thymeleaf, like if employee gender is &#39;F&#39; then it should be display Female otherwise it should be display Male. Here down is issue which always displaying else condition.\r\n```\r\n        &lt;center&gt;\r\n            &lt;!-- IF --&gt;\r\n            &lt;span th:if=&quot;${employee.gender == &#39;F&#39;}&quot;&gt;Female&lt;/span&gt;\r\n            &lt;!-- ELSE --&gt;\r\n            &lt;span th:unless=&quot;${employee.gender == &#39;F&#39;}&quot;&gt;Male&lt;/span&gt;\r\n        &lt;/center&gt;\r\n```","title":"Why if-else condition not working in thymeleaf","body":"<p>I want to display gender name based on condition in label using Thymeleaf, like if employee gender is 'F' then it should be display Female otherwise it should be display Male. Here down is issue which always displaying else condition.</p>\n<pre><code>        &lt;center&gt;\n            &lt;!-- IF --&gt;\n            &lt;span th:if=&quot;${employee.gender == 'F'}&quot;&gt;Female&lt;/span&gt;\n            &lt;!-- ELSE --&gt;\n            &lt;span th:unless=&quot;${employee.gender == 'F'}&quot;&gt;Male&lt;/span&gt;\n        &lt;/center&gt;\n</code></pre>\n"},{"tags":["java","android","scoped-storage"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1619897009,"post_id":67349098,"comment_id":119044573,"body_markdown":"I already told you to use that uri again to overwrite the file. Why are you asking again.. for the third time about. I cannot appreciate you deleted two posts and my comments.","body":"I already told you to use that uri again to overwrite the file. Why are you asking again.. for the third time about. I cannot appreciate you deleted two posts and my comments."},{"owner":{"account_id":14240321,"reputation":162,"user_id":10286896,"display_name":"Will V"},"score":0,"creation_date":1619913405,"post_id":67349098,"comment_id":119047760,"body_markdown":"That Uri does not overwrite it adds a value like this at the end of the file extension: &#39;name_file.mp3(1)&#39;","body":"That Uri does not overwrite it adds a value like this at the end of the file extension: &#39;name_file.mp3(1)&#39;"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1619939297,"post_id":67349098,"comment_id":119050827,"body_markdown":"No. It does not. You did something wrong then. But as you are not showing code we dont know what.","body":"No. It does not. You did something wrong then. But as you are not showing code we dont know what."}],"answers":[{"tags":[],"owner":{"account_id":24217545,"reputation":1,"user_id":18173201,"display_name":"VAH2930"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661521163,"creation_date":1661521163,"answer_id":73501922,"question_id":67349098,"body_markdown":"\r\n\r\n    // Create class FileUtils\r\n    \r\n    public class FileUtils {\r\n    \r\n        public final static String DEFAULT_TEMP = &quot;/.Temp/&quot;;\r\n    \r\n        public static String getPathFromUri(final Context context, final Uri uri) {\r\n    \r\n            final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\r\n    \r\n            // DocumentProvider\r\n            if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\r\n                // ExternalStorageProvider\r\n                if (isExternalStorageDocument(uri)) {\r\n                    final String docId = DocumentsContract.getDocumentId(uri);\r\n                    final String[] split = docId.split(&quot;:&quot;);\r\n                    final String type = split[0];\r\n    \r\n                    if (&quot;primary&quot;.equalsIgnoreCase(type)) {\r\n                        return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\r\n                    }\r\n    \r\n                    // TODO handle non-primary volumes\r\n                }\r\n                // DownloadsProvider\r\n                else if (isDownloadsDocument(uri)) {\r\n    \r\n                    final String id = DocumentsContract.getDocumentId(uri);\r\n                    final Uri contentUri = ContentUris.withAppendedId(\r\n                            Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\r\n    \r\n                    return getDataColumn(context, contentUri, null, null);\r\n                }\r\n                // MediaProvider\r\n                else if (isMediaDocument(uri)) {\r\n                    final String docId = DocumentsContract.getDocumentId(uri);\r\n                    final String[] split = docId.split(&quot;:&quot;);\r\n                    final String type = split[0];\r\n    \r\n                    Uri contentUri = null;\r\n                    if (&quot;image&quot;.equals(type)) {\r\n                        contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n                    } else if (&quot;video&quot;.equals(type)) {\r\n                        contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n                    } else if (&quot;audio&quot;.equals(type)) {\r\n                        contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\r\n                    }\r\n    \r\n                    final String selection = &quot;_id=?&quot;;\r\n                    final String[] selectionArgs = new String[]{\r\n                            split[1]\r\n                    };\r\n    \r\n                    return getDataColumn(context, contentUri, selection, selectionArgs);\r\n                }\r\n            }\r\n            // MediaStore (and general)\r\n            else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n    \r\n                // Return the remote address\r\n                if (isGooglePhotosUri(uri))\r\n                    return uri.getLastPathSegment();\r\n                return getDataColumn(context, uri, null, null);\r\n            }\r\n            // File\r\n            else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\r\n                return uri.getPath();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        public static boolean isExternalStorageDocument(Uri uri) {\r\n            return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\r\n        }\r\n    \r\n        public static boolean isDownloadsDocument(Uri uri) {\r\n            return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\r\n        }\r\n    \r\n        public static String getDataColumn(Context context, Uri uri, String selection,\r\n                                           String[] selectionArgs) {\r\n    \r\n            Cursor cursor = null;\r\n            final String column = &quot;_data&quot;;\r\n            final String[] projection = {\r\n                    column\r\n            };\r\n    \r\n            try {\r\n                cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\r\n                        null);\r\n                if (cursor != null &amp;&amp; cursor.moveToFirst()) {\r\n                    final int index = cursor.getColumnIndexOrThrow(column);\r\n                    return cursor.getString(index);\r\n                }\r\n            } finally {\r\n                if (cursor != null)\r\n                    cursor.close();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n    \r\n        /**\r\n         * @param uri The Uri to check.\r\n         * @return Whether the Uri authority is MediaProvider.\r\n         */\r\n        public static boolean isMediaDocument(Uri uri) {\r\n            return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\r\n        }\r\n    \r\n        /**\r\n         * @param uri The Uri to check.\r\n         * @return Whether the Uri authority is Google Photos.\r\n         */\r\n        public static boolean isGooglePhotosUri(Uri uri) {\r\n            return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\r\n        }\r\n    \r\n        public static String formatFileSize(long fileSize) {\r\n            DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\r\n            String fileSizeString;\r\n            if (fileSize &lt;= 0) {\r\n                fileSizeString = &quot;0KB&quot;;\r\n            } else if (fileSize &lt; (1024 * 1024)) {\r\n                fileSizeString = df.format((double) fileSize / 1024) + &quot;KB&quot;;\r\n            } else if (fileSize &lt; (1024 * 1024 * 1024)) {\r\n                fileSizeString = df.format((double) fileSize / (1024 * 1024)) + &quot;MB&quot;;\r\n            } else {\r\n                fileSizeString = df.format((double) fileSize / (1024 * 1024 * 1024)) + &quot;GB&quot;;\r\n            }\r\n            return fileSizeString;\r\n        }\r\n    \r\n        public static String getMimeType(Uri uri) {\r\n            String mimeType = null;\r\n            if (ContentResolver.SCHEME_CONTENT.equals(uri.getScheme())) {\r\n                ContentResolver cr = App.getInstance().getContentResolver();\r\n                mimeType = cr.getType(uri);\r\n            } else {\r\n                String fileExtension = MimeTypeMap.getFileExtensionFromUrl(uri\r\n                        .toString());\r\n                mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(\r\n                        fileExtension.toLowerCase());\r\n            }\r\n            return mimeType;\r\n        }\r\n    \r\n    \r\n        public static String getFileExtensionNoPoint(String path) {\r\n            if (TextUtils.isEmpty(path)) {\r\n                return &quot;&quot;;\r\n            }\r\n            return getFileExtensionNoPoint(new File(path));\r\n        }\r\n    \r\n    \r\n        private static String getFileExtensionNoPoint(File file) {\r\n            if (file == null || file.isDirectory()) {\r\n                return &quot;&quot;;\r\n            }\r\n            String fileName = file.getName();\r\n            if (fileName != null &amp;&amp; fileName.length() &gt; 0) {\r\n                int lastIndex = fileName.lastIndexOf(&#39;.&#39;);\r\n                if ((lastIndex &gt; -1) &amp;&amp; (lastIndex &lt; (fileName.length() - 1))) {\r\n                    return fileName.substring(lastIndex + 1);\r\n                }\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    \r\n    \r\n        private static boolean isCompareFiles(String path1, String path2) {\r\n            if (TextUtils.isEmpty(path1) || TextUtils.isEmpty(path2)) {\r\n                return false;\r\n            }\r\n            if (path1.equalsIgnoreCase(path2)) {\r\n                return true;\r\n            } else {\r\n                return isCompareFiles(new File(path1), new File(path2));\r\n            }\r\n        }\r\n    \r\n        private static boolean isCompareFiles(File file1, File file2) {\r\n            if (file1 == null || file2 == null) {\r\n                return false;\r\n            }\r\n            if (file1.getPath().equalsIgnoreCase(file2.getPath())) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n    \r\n        private static boolean isSDExist() {\r\n            return Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED);\r\n        }\r\n    \r\n    \r\n        public static String getSDCardFilesPath() {\r\n            if (!isSDExist()) {\r\n                return &quot;&quot;;\r\n            }\r\n            return Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot;;\r\n        }\r\n    \r\n    \r\n        private static String getSDCardDownloadPath() {\r\n            if (!isSDExist()) {\r\n                return &quot;&quot;;\r\n            }\r\n            return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getAbsolutePath() + &quot;/&quot;;\r\n        }\r\n    \r\n    \r\n        public static String getFileNameNoExtension(String filePath) {\r\n            if (TextUtils.isEmpty(filePath)) {\r\n                return &quot;&quot;;\r\n            }\r\n            return getFileNameNoExtension(new File(filePath));\r\n        }\r\n    \r\n    \r\n        public static String getFileNameNoExtension(File file) {\r\n            if (file == null) {\r\n                return &quot;&quot;;\r\n            }\r\n            String filename = file.getName();\r\n            if (!TextUtils.isEmpty(filename)) {\r\n                int dot = filename.lastIndexOf(&#39;.&#39;);\r\n                if ((dot &gt; -1) &amp;&amp; (dot &lt; (filename.length()))) {\r\n                    return filename.substring(0, dot);\r\n                }\r\n            }\r\n            return filename;\r\n        }\r\n    \r\n    \r\n        private static boolean isFileExist(String path) {\r\n            try {\r\n                if (!TextUtils.isEmpty(path)) {\r\n                    File file = new File(path);\r\n                    return file.exists();\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n    \r\n        private static String getFileMimeTypeFromExtension(String fileType) {\r\n            try {\r\n                if (TextUtils.isEmpty(fileType)) {\r\n                    return &quot;*/*&quot;;\r\n                }\r\n                fileType = fileType.replace(&quot;.&quot;, &quot;&quot;);\r\n                if (fileType.equalsIgnoreCase(&quot;docx&quot;) || fileType.equalsIgnoreCase(&quot;wps&quot;)) {\r\n                    fileType = &quot;doc&quot;;\r\n                } else if (fileType.equalsIgnoreCase(&quot;xlsx&quot;)) {\r\n                    fileType = &quot;xls&quot;;\r\n                } else if (fileType.equalsIgnoreCase(&quot;pptx&quot;)) {\r\n                    fileType = &quot;ppt&quot;;\r\n                }\r\n                MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\r\n                if (mimeTypeMap.hasExtension(fileType)) {\r\n                    return mimeTypeMap.getMimeTypeFromExtension(fileType);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            return &quot;*/*&quot;;\r\n        }\r\n    \r\n        public static String getAppTempPath() {\r\n            return getAvailableFilesPathAndroidData(true) + DEFAULT_TEMP;\r\n        }\r\n    \r\n    \r\n        private static String getAvailableFilesPathAndroidData(boolean boolToCache) {\r\n            if (!isSDExist()) {\r\n                if (boolToCache) {\r\n                    return App.getInstance().getCacheDir().getAbsolutePath() + &quot;/&quot;;\r\n                }\r\n                return App.getInstance().getFilesDir().getAbsolutePath() + &quot;/&quot;;\r\n            } else {\r\n                if (boolToCache) {\r\n                    return App.getInstance().getExternalCacheDir().getAbsolutePath() + &quot;/&quot;;\r\n                }\r\n                return App.getInstance().getExternalFilesDir(&quot;&quot;).getAbsolutePath() + &quot;/&quot;;\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void deleteFileAndroid11(AppCompatActivity activity, Media media, ActivityResultLauncher&lt;IntentSenderRequest&gt; launcher) {\r\n            File file = new File(media.getPath());\r\n            Uri uri = Uri.fromFile(file);\r\n            ContentResolver contentResolver = activity.getContentResolver();\r\n            PendingIntent pendingIntent = null;\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n    \r\n                ArrayList&lt;Uri&gt; collection = new ArrayList&lt;&gt;();\r\n                String mineType = getMimeType(uri);\r\n                Uri contentUri = MediaStore.Images.Media.getContentUri(&quot;external&quot;);\r\n                boolean isVideo = mineType.contains(&quot;video&quot;);\r\n                if (isVideo) {\r\n                    contentUri = MediaStore.Video.Media.getContentUri(&quot;external&quot;);\r\n                }\r\n                boolean isAudio = mineType.contains(&quot;audio&quot;);\r\n                if (isAudio) {\r\n                    contentUri = MediaStore.Audio.Media.getContentUri(&quot;external&quot;);\r\n                }\r\n                collection.add(ContentUris.withAppendedId(contentUri, media.getMediaId()));\r\n                pendingIntent = MediaStore.createDeleteRequest(contentResolver, collection);\r\n    \r\n            }\r\n            if (pendingIntent != null) {\r\n                IntentSender sender = pendingIntent.getIntentSender();\r\n                IntentSenderRequest request = new IntentSenderRequest.Builder(sender).build();\r\n                launcher.launch(request);\r\n            }\r\n        }\r\n    \r\n        public static ActivityResultLauncher&lt;IntentSenderRequest&gt; requestLauncher(AppCompatActivity activity, OnActionCallback callback) {\r\n            return activity.registerForActivityResult(\r\n                    new ActivityResultContracts.StartIntentSenderForResult(),\r\n                    result -&gt; {\r\n                        if (result.getResultCode() == Activity.RESULT_OK) {\r\n                            callback.callback(&quot;&quot;);\r\n                        }\r\n                    });\r\n        }\r\n    \r\n    }\r\n    \r\n    \r\n    // Declare launcher in class perform delete\r\n    \r\n    private final ActivityResultLauncher&lt;IntentSenderRequest&gt; launcher;\r\n    \r\n    // The delete method drops into your delete function\r\n    \r\n    launcher = FileUtils.requestLauncher((BaseActivity) context, (key, data) -&gt; {\r\n                mList.remove(index);\r\n                notifyItemRemoved(index);\r\n            });\r\n    FileUtils.deleteFileAndroid11((BaseActivity) context, media, launcher);\r\n\r\n","title":"How to delete an audio file on android 11","body":"<pre><code>// Create class FileUtils\n\npublic class FileUtils {\n\n    public final static String DEFAULT_TEMP = &quot;/.Temp/&quot;;\n\n    public static String getPathFromUri(final Context context, final Uri uri) {\n\n        final boolean isKitKat = Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT;\n\n        // DocumentProvider\n        if (isKitKat &amp;&amp; DocumentsContract.isDocumentUri(context, uri)) {\n            // ExternalStorageProvider\n            if (isExternalStorageDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(&quot;:&quot;);\n                final String type = split[0];\n\n                if (&quot;primary&quot;.equalsIgnoreCase(type)) {\n                    return Environment.getExternalStorageDirectory() + &quot;/&quot; + split[1];\n                }\n\n                // TODO handle non-primary volumes\n            }\n            // DownloadsProvider\n            else if (isDownloadsDocument(uri)) {\n\n                final String id = DocumentsContract.getDocumentId(uri);\n                final Uri contentUri = ContentUris.withAppendedId(\n                        Uri.parse(&quot;content://downloads/public_downloads&quot;), Long.valueOf(id));\n\n                return getDataColumn(context, contentUri, null, null);\n            }\n            // MediaProvider\n            else if (isMediaDocument(uri)) {\n                final String docId = DocumentsContract.getDocumentId(uri);\n                final String[] split = docId.split(&quot;:&quot;);\n                final String type = split[0];\n\n                Uri contentUri = null;\n                if (&quot;image&quot;.equals(type)) {\n                    contentUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;video&quot;.equals(type)) {\n                    contentUri = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n                } else if (&quot;audio&quot;.equals(type)) {\n                    contentUri = MediaStore.Audio.Media.EXTERNAL_CONTENT_URI;\n                }\n\n                final String selection = &quot;_id=?&quot;;\n                final String[] selectionArgs = new String[]{\n                        split[1]\n                };\n\n                return getDataColumn(context, contentUri, selection, selectionArgs);\n            }\n        }\n        // MediaStore (and general)\n        else if (&quot;content&quot;.equalsIgnoreCase(uri.getScheme())) {\n\n            // Return the remote address\n            if (isGooglePhotosUri(uri))\n                return uri.getLastPathSegment();\n            return getDataColumn(context, uri, null, null);\n        }\n        // File\n        else if (&quot;file&quot;.equalsIgnoreCase(uri.getScheme())) {\n            return uri.getPath();\n        }\n\n        return null;\n    }\n\n    public static boolean isExternalStorageDocument(Uri uri) {\n        return &quot;com.android.externalstorage.documents&quot;.equals(uri.getAuthority());\n    }\n\n    public static boolean isDownloadsDocument(Uri uri) {\n        return &quot;com.android.providers.downloads.documents&quot;.equals(uri.getAuthority());\n    }\n\n    public static String getDataColumn(Context context, Uri uri, String selection,\n                                       String[] selectionArgs) {\n\n        Cursor cursor = null;\n        final String column = &quot;_data&quot;;\n        final String[] projection = {\n                column\n        };\n\n        try {\n            cursor = context.getContentResolver().query(uri, projection, selection, selectionArgs,\n                    null);\n            if (cursor != null &amp;&amp; cursor.moveToFirst()) {\n                final int index = cursor.getColumnIndexOrThrow(column);\n                return cursor.getString(index);\n            }\n        } finally {\n            if (cursor != null)\n                cursor.close();\n        }\n        return null;\n    }\n\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is MediaProvider.\n     */\n    public static boolean isMediaDocument(Uri uri) {\n        return &quot;com.android.providers.media.documents&quot;.equals(uri.getAuthority());\n    }\n\n    /**\n     * @param uri The Uri to check.\n     * @return Whether the Uri authority is Google Photos.\n     */\n    public static boolean isGooglePhotosUri(Uri uri) {\n        return &quot;com.google.android.apps.photos.content&quot;.equals(uri.getAuthority());\n    }\n\n    public static String formatFileSize(long fileSize) {\n        DecimalFormat df = new DecimalFormat(&quot;0.00&quot;);\n        String fileSizeString;\n        if (fileSize &lt;= 0) {\n            fileSizeString = &quot;0KB&quot;;\n        } else if (fileSize &lt; (1024 * 1024)) {\n            fileSizeString = df.format((double) fileSize / 1024) + &quot;KB&quot;;\n        } else if (fileSize &lt; (1024 * 1024 * 1024)) {\n            fileSizeString = df.format((double) fileSize / (1024 * 1024)) + &quot;MB&quot;;\n        } else {\n            fileSizeString = df.format((double) fileSize / (1024 * 1024 * 1024)) + &quot;GB&quot;;\n        }\n        return fileSizeString;\n    }\n\n    public static String getMimeType(Uri uri) {\n        String mimeType = null;\n        if (ContentResolver.SCHEME_CONTENT.equals(uri.getScheme())) {\n            ContentResolver cr = App.getInstance().getContentResolver();\n            mimeType = cr.getType(uri);\n        } else {\n            String fileExtension = MimeTypeMap.getFileExtensionFromUrl(uri\n                    .toString());\n            mimeType = MimeTypeMap.getSingleton().getMimeTypeFromExtension(\n                    fileExtension.toLowerCase());\n        }\n        return mimeType;\n    }\n\n\n    public static String getFileExtensionNoPoint(String path) {\n        if (TextUtils.isEmpty(path)) {\n            return &quot;&quot;;\n        }\n        return getFileExtensionNoPoint(new File(path));\n    }\n\n\n    private static String getFileExtensionNoPoint(File file) {\n        if (file == null || file.isDirectory()) {\n            return &quot;&quot;;\n        }\n        String fileName = file.getName();\n        if (fileName != null &amp;&amp; fileName.length() &gt; 0) {\n            int lastIndex = fileName.lastIndexOf('.');\n            if ((lastIndex &gt; -1) &amp;&amp; (lastIndex &lt; (fileName.length() - 1))) {\n                return fileName.substring(lastIndex + 1);\n            }\n        }\n        return &quot;&quot;;\n    }\n\n\n    private static boolean isCompareFiles(String path1, String path2) {\n        if (TextUtils.isEmpty(path1) || TextUtils.isEmpty(path2)) {\n            return false;\n        }\n        if (path1.equalsIgnoreCase(path2)) {\n            return true;\n        } else {\n            return isCompareFiles(new File(path1), new File(path2));\n        }\n    }\n\n    private static boolean isCompareFiles(File file1, File file2) {\n        if (file1 == null || file2 == null) {\n            return false;\n        }\n        if (file1.getPath().equalsIgnoreCase(file2.getPath())) {\n            return true;\n        }\n        return false;\n    }\n\n\n    private static boolean isSDExist() {\n        return Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED);\n    }\n\n\n    public static String getSDCardFilesPath() {\n        if (!isSDExist()) {\n            return &quot;&quot;;\n        }\n        return Environment.getExternalStorageDirectory().getAbsolutePath() + &quot;/&quot;;\n    }\n\n\n    private static String getSDCardDownloadPath() {\n        if (!isSDExist()) {\n            return &quot;&quot;;\n        }\n        return Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).getAbsolutePath() + &quot;/&quot;;\n    }\n\n\n    public static String getFileNameNoExtension(String filePath) {\n        if (TextUtils.isEmpty(filePath)) {\n            return &quot;&quot;;\n        }\n        return getFileNameNoExtension(new File(filePath));\n    }\n\n\n    public static String getFileNameNoExtension(File file) {\n        if (file == null) {\n            return &quot;&quot;;\n        }\n        String filename = file.getName();\n        if (!TextUtils.isEmpty(filename)) {\n            int dot = filename.lastIndexOf('.');\n            if ((dot &gt; -1) &amp;&amp; (dot &lt; (filename.length()))) {\n                return filename.substring(0, dot);\n            }\n        }\n        return filename;\n    }\n\n\n    private static boolean isFileExist(String path) {\n        try {\n            if (!TextUtils.isEmpty(path)) {\n                File file = new File(path);\n                return file.exists();\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        return false;\n    }\n\n\n    private static String getFileMimeTypeFromExtension(String fileType) {\n        try {\n            if (TextUtils.isEmpty(fileType)) {\n                return &quot;*/*&quot;;\n            }\n            fileType = fileType.replace(&quot;.&quot;, &quot;&quot;);\n            if (fileType.equalsIgnoreCase(&quot;docx&quot;) || fileType.equalsIgnoreCase(&quot;wps&quot;)) {\n                fileType = &quot;doc&quot;;\n            } else if (fileType.equalsIgnoreCase(&quot;xlsx&quot;)) {\n                fileType = &quot;xls&quot;;\n            } else if (fileType.equalsIgnoreCase(&quot;pptx&quot;)) {\n                fileType = &quot;ppt&quot;;\n            }\n            MimeTypeMap mimeTypeMap = MimeTypeMap.getSingleton();\n            if (mimeTypeMap.hasExtension(fileType)) {\n                return mimeTypeMap.getMimeTypeFromExtension(fileType);\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return &quot;*/*&quot;;\n    }\n\n    public static String getAppTempPath() {\n        return getAvailableFilesPathAndroidData(true) + DEFAULT_TEMP;\n    }\n\n\n    private static String getAvailableFilesPathAndroidData(boolean boolToCache) {\n        if (!isSDExist()) {\n            if (boolToCache) {\n                return App.getInstance().getCacheDir().getAbsolutePath() + &quot;/&quot;;\n            }\n            return App.getInstance().getFilesDir().getAbsolutePath() + &quot;/&quot;;\n        } else {\n            if (boolToCache) {\n                return App.getInstance().getExternalCacheDir().getAbsolutePath() + &quot;/&quot;;\n            }\n            return App.getInstance().getExternalFilesDir(&quot;&quot;).getAbsolutePath() + &quot;/&quot;;\n        }\n    }\n\n\n    public static void deleteFileAndroid11(AppCompatActivity activity, Media media, ActivityResultLauncher&lt;IntentSenderRequest&gt; launcher) {\n        File file = new File(media.getPath());\n        Uri uri = Uri.fromFile(file);\n        ContentResolver contentResolver = activity.getContentResolver();\n        PendingIntent pendingIntent = null;\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n\n            ArrayList&lt;Uri&gt; collection = new ArrayList&lt;&gt;();\n            String mineType = getMimeType(uri);\n            Uri contentUri = MediaStore.Images.Media.getContentUri(&quot;external&quot;);\n            boolean isVideo = mineType.contains(&quot;video&quot;);\n            if (isVideo) {\n                contentUri = MediaStore.Video.Media.getContentUri(&quot;external&quot;);\n            }\n            boolean isAudio = mineType.contains(&quot;audio&quot;);\n            if (isAudio) {\n                contentUri = MediaStore.Audio.Media.getContentUri(&quot;external&quot;);\n            }\n            collection.add(ContentUris.withAppendedId(contentUri, media.getMediaId()));\n            pendingIntent = MediaStore.createDeleteRequest(contentResolver, collection);\n\n        }\n        if (pendingIntent != null) {\n            IntentSender sender = pendingIntent.getIntentSender();\n            IntentSenderRequest request = new IntentSenderRequest.Builder(sender).build();\n            launcher.launch(request);\n        }\n    }\n\n    public static ActivityResultLauncher&lt;IntentSenderRequest&gt; requestLauncher(AppCompatActivity activity, OnActionCallback callback) {\n        return activity.registerForActivityResult(\n                new ActivityResultContracts.StartIntentSenderForResult(),\n                result -&gt; {\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        callback.callback(&quot;&quot;);\n                    }\n                });\n    }\n\n}\n\n\n// Declare launcher in class perform delete\n\nprivate final ActivityResultLauncher&lt;IntentSenderRequest&gt; launcher;\n\n// The delete method drops into your delete function\n\nlauncher = FileUtils.requestLauncher((BaseActivity) context, (key, data) -&gt; {\n            mList.remove(index);\n            notifyItemRemoved(index);\n        });\nFileUtils.deleteFileAndroid11((BaseActivity) context, media, launcher);\n</code></pre>\n"}],"owner":{"account_id":14240321,"reputation":162,"user_id":10286896,"display_name":"Will V"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":713,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661521163,"creation_date":1619890319,"question_id":67349098,"body_markdown":"I&#39;m migrating my app to target it on android 11.\r\nI&#39;m downloading a file and saving it to the folder: &quot;`Donwnload`&quot; through the `MediaStore`\r\n\r\n    contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName);\r\n    contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;audio/mp3&quot;);\r\n    contentValues.put(\r\n    MediaStore.Audio.Media.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS );\r\n    uri = resolver.insert(MediaStore.Files.getContentUri(&quot;external&quot;), contentValues);\r\n\r\nHowever when downloading the file again he should delete the old one and download the new one.\r\n\r\nIn the past it used the following code:\r\n\r\n    if (file.exists ())\r\n    file.delete ();\r\n\r\nBut now with android 11 I can&#39;t do that and every time I download the file it adds it at the end of the file (1), (2), (3) and so on\r\n\r\n\r\n**Is there a way to delete the file or replace it?**","title":"How to delete an audio file on android 11","body":"<p>I'm migrating my app to target it on android 11.\nI'm downloading a file and saving it to the folder: &quot;<code>Donwnload</code>&quot; through the <code>MediaStore</code></p>\n<pre><code>contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, fileName);\ncontentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;audio/mp3&quot;);\ncontentValues.put(\nMediaStore.Audio.Media.RELATIVE_PATH, Environment.DIRECTORY_DOWNLOADS );\nuri = resolver.insert(MediaStore.Files.getContentUri(&quot;external&quot;), contentValues);\n</code></pre>\n<p>However when downloading the file again he should delete the old one and download the new one.</p>\n<p>In the past it used the following code:</p>\n<pre><code>if (file.exists ())\nfile.delete ();\n</code></pre>\n<p>But now with android 11 I can't do that and every time I download the file it adds it at the end of the file (1), (2), (3) and so on</p>\n<p><strong>Is there a way to delete the file or replace it?</strong></p>\n"},{"tags":["java","spring","spring-boot","exit-code","spring-bean"],"comments":[{"owner":{"account_id":4506847,"reputation":181,"user_id":3663953,"display_name":"Ingo Griebsch"},"score":0,"creation_date":1661840255,"post_id":73501814,"comment_id":129860092,"body_markdown":"We had the same problem and solved it by implementing a `FailureAnalyzer` that calls `System.exit(...)` on certain types of exceptions and thus made sure that e.g. on a `BeanCreationException` the process was terminated with a specific exit-code.\n\nHowever, the solution is not really &#39;nice&#39; and since we are currently updating Spring-Boot in that service, we are again looking for a &#39;better&#39; solution (which hopefully requires less custom code).","body":"We had the same problem and solved it by implementing a <code>FailureAnalyzer</code> that calls <code>System.exit(...)</code> on certain types of exceptions and thus made sure that e.g. on a <code>BeanCreationException</code> the process was terminated with a specific exit-code.  However, the solution is not really &#39;nice&#39; and since we are currently updating Spring-Boot in that service, we are again looking for a &#39;better&#39; solution (which hopefully requires less custom code)."}],"owner":{"account_id":26166242,"reputation":11,"user_id":19852016,"display_name":"Arturito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661520666,"creation_date":1661520666,"question_id":73501814,"body_markdown":"I would like to know if there is any way to set the returned exit code after a *BeanCreationException* occured during the Spring initialization.\r\n\r\nSo far the only solution that I have found is to wrap the entire application inside a **try/catch**, and call System.exit after the block :\r\n\r\n```java\r\n    public static int runForExitCode (String[] args) {\r\n        try {\r\n            return SpringApplication.exit(SpringApplication.run(MyApplication.class, args));\r\n\r\n        } catch (Exception e) {\r\n            return extractExitCodeFrom(e) ;\r\n        }\r\n    }\r\n```\r\n\r\nThis solution works as expected, but it makes me work out of Spring container, and adds an entire layer of complexity to my application, making the tests much more difficult to write...  \r\nFor this reason, I would like to use a Spring-provided tool to manage the exit code.\r\n\r\nI know there are some beans that can be implemented to handle the exit code : `ExitCodeGenerator` and `ExitCodeExceptionMapper`, but I have not been able to make them work after an exception that comes during context initialization, such as BeanCreationException.\r\n\r\nBecause the initialization is the time during which beans are created, I understand that I need a special way to handle the exceptions. I would have expected to find some property to be declared in the `spring.factories` file, but the closest tool that I found was the `FailureAnalyzer` interface, which only allows one to describe the exception with words.\r\n\r\nI know that one might avoid the problem by moving the dangerous code from the bean declaration into the `ApplicationRunner` method, but I cannot proceed this way : I am trying to handle the possible Database exceptions, that might occur during a Spring Batch application initialization.\r\n\r\nI may be missing some Spring dedicated feature, or thinking the wrong way. Maybe the **try/catch** block is the only solution to be kept ?\r\n\r\nThank you for your time,\r\n\r\nArturito","title":"Managing exit code after context initialization exception","body":"<p>I would like to know if there is any way to set the returned exit code after a <em>BeanCreationException</em> occured during the Spring initialization.</p>\n<p>So far the only solution that I have found is to wrap the entire application inside a <strong>try/catch</strong>, and call System.exit after the block :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static int runForExitCode (String[] args) {\n        try {\n            return SpringApplication.exit(SpringApplication.run(MyApplication.class, args));\n\n        } catch (Exception e) {\n            return extractExitCodeFrom(e) ;\n        }\n    }\n</code></pre>\n<p>This solution works as expected, but it makes me work out of Spring container, and adds an entire layer of complexity to my application, making the tests much more difficult to write...<br />\nFor this reason, I would like to use a Spring-provided tool to manage the exit code.</p>\n<p>I know there are some beans that can be implemented to handle the exit code : <code>ExitCodeGenerator</code> and <code>ExitCodeExceptionMapper</code>, but I have not been able to make them work after an exception that comes during context initialization, such as BeanCreationException.</p>\n<p>Because the initialization is the time during which beans are created, I understand that I need a special way to handle the exceptions. I would have expected to find some property to be declared in the <code>spring.factories</code> file, but the closest tool that I found was the <code>FailureAnalyzer</code> interface, which only allows one to describe the exception with words.</p>\n<p>I know that one might avoid the problem by moving the dangerous code from the bean declaration into the <code>ApplicationRunner</code> method, but I cannot proceed this way : I am trying to handle the possible Database exceptions, that might occur during a Spring Batch application initialization.</p>\n<p>I may be missing some Spring dedicated feature, or thinking the wrong way. Maybe the <strong>try/catch</strong> block is the only solution to be kept ?</p>\n<p>Thank you for your time,</p>\n<p>Arturito</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1651298035,"post_id":72066016,"comment_id":127335880,"body_markdown":"You have to use array of `customer`.","body":"You have to use array of <code>customer</code>."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1651301119,"post_id":72066016,"comment_id":127336257,"body_markdown":"Probably with `String.format()` https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax","body":"Probably with <code>String.format()</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html#syntax\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":24989454,"reputation":411,"user_id":18850835,"display_name":"Michel K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1651300927,"creation_date":1651300927,"answer_id":72066289,"question_id":72066016,"body_markdown":"The tricky bit is printing this so the title line and the entry are aligned. You can use `System.out.printf` with enough padding. One way to do it: \r\n```\r\nSystem.out.printf(&quot;%-5s %-20s %-15s %-15s %-15s%n&quot;, &quot;Sl.No&quot;, &quot;Name&quot;, &quot;Ticket Charges&quot;, &quot;Discount&quot;, &quot;Net Amount&quot;);\r\nSystem.out.printf(&quot;%-5d %-20s %-15d %-15d %-15d%n&quot;, i, a, n, d, t);\r\n```\r\nExplanation: \r\n- `&quot;%-20s&quot;` prints a string with at least 20 characters. If the string is shorter, it is padded with spaces to the right. \r\n- `&quot;%-20d&quot;` same, but for an integer. \r\n\r\nThis will print entries like the following: \r\n```\r\nSl.No Name                 Ticket Charges  Discount        Net Amount     \r\n1     Prasad Karkamkar     17000           2               16660   \r\nSl.No Name                 Ticket Charges  Discount        Net Amount   \r\n2     Mia Goodwin          90000           10              81000              \r\n```","title":"How to display customer table","body":"<p>The tricky bit is printing this so the title line and the entry are aligned. You can use <code>System.out.printf</code> with enough padding. One way to do it:</p>\n<pre><code>System.out.printf(&quot;%-5s %-20s %-15s %-15s %-15s%n&quot;, &quot;Sl.No&quot;, &quot;Name&quot;, &quot;Ticket Charges&quot;, &quot;Discount&quot;, &quot;Net Amount&quot;);\nSystem.out.printf(&quot;%-5d %-20s %-15d %-15d %-15d%n&quot;, i, a, n, d, t);\n</code></pre>\n<p>Explanation:</p>\n<ul>\n<li><code>&quot;%-20s&quot;</code> prints a string with at least 20 characters. If the string is shorter, it is padded with spaces to the right.</li>\n<li><code>&quot;%-20d&quot;</code> same, but for an integer.</li>\n</ul>\n<p>This will print entries like the following:</p>\n<pre><code>Sl.No Name                 Ticket Charges  Discount        Net Amount     \n1     Prasad Karkamkar     17000           2               16660   \nSl.No Name                 Ticket Charges  Discount        Net Amount   \n2     Mia Goodwin          90000           10              81000              \n</code></pre>\n"},{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661520221,"creation_date":1651308494,"answer_id":72066997,"question_id":72066016,"body_markdown":"You have to make `Customer` class who have `name`, `ticket charges`, `discount` and `net amount` variables. Follow the instruction below. \r\n* Make array of `Customer` class in main method.\r\n* Your condition for discount is wrong. I fix it in here down code.\r\n* Java main method is always `static` otherwise you get Error: *Main method is not static in class assg1, please define the main method as − public static void main(String[] args)*\r\n* Read [**Java Naming Conventions**][1], Class name must be start with uppercase letter.\r\n\r\nHere down is code:\r\n```\r\nimport java.util.*;\r\nclass Customer\r\n{\r\n    int discount;\r\n    String name;\r\n    double ticketCharge, netAmount, totalDiscount;\r\n    \r\n    // take input from customer\r\n    void readInput()\r\n    {\r\n        Scanner sc1 = new Scanner(System.in);\r\n        System.out.print(&quot;Enter your name: &quot;);\r\n        name = sc1.next();\r\n        System.out.println(&quot;Ticket charge: &quot;);\r\n        ticketCharge = sc1.nextInt();\r\n    }\r\n    \r\n    // print name\r\n    void showName()\r\n    {\r\n        System.out.print(name);\r\n    }\r\n    \r\n    // print ticket charge\r\n    void showTicketCharge()\r\n    {\r\n        System.out.print(ticketCharge);\r\n    }\r\n    \r\n    // Total discount got by customer as per ticket price\r\n    void showTotalDiscount()\r\n    {\r\n        // codition start from higher ticket charge not lower ticket charge\r\n        if(ticketCharge &gt; 70000)\r\n        {\r\n            discount = 18;\r\n        }\r\n        else if(ticketCharge &gt;= 55001 || ticketCharge &lt;= 70000)\r\n        {\r\n            discount = 16;\r\n        }\r\n        else if(ticketCharge &gt;= 35001 || ticketCharge &lt;= 55000)\r\n        {\r\n            discount = 12;\r\n        }\r\n        else if(ticketCharge &gt;= 25001 || ticketCharge &lt;= 35000)\r\n        {\r\n            discount = 10;\r\n        }\r\n        else\r\n        {\r\n            discount = 2;\r\n        }\r\n        \r\n        totalDiscount = discount * ticketCharge / 100;\r\n        System.out.print(totalDiscount);\r\n    }\r\n    \r\n    // print net amount\r\n    void showNetAmount()\r\n    {\r\n        netAmount = ticketCharge - totalDiscount;\r\n        System.out.print(netAmount);\r\n    }\r\n}\r\n\r\n\r\nclass Assg1\r\n{\r\n    public static void main(String args[])\r\n    {\r\n        int siNo = 1;\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the no. of customers: &quot;);\r\n        int noOfCustormer = sc.nextInt();\r\n        \r\n        // Make array of customer\r\n        Customer customer[] = new Customer[noOfCustormer];\r\n        for(int i = 0; i &lt; noOfCustormer; i++)\r\n        {\r\n            // give a input to the customer\r\n            customer[i] = new Customer();\r\n            customer[i].readInput();\r\n            System.out.print(&quot;\\n&quot;);\r\n        }\r\n        System.out.print(&quot;SI.No.\\tName\\tTicket charges\\tDiscount\\tNet Amount\\n&quot;);\r\n        for(int i = 0; i &lt; noOfCustormer; i++)\r\n\t\t{\r\n\t\t    // get a output of customer\r\n\t\t\tSystem.out.print(siNo);\r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t\tcustomer[i].showName();\r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t\tcustomer[i].showTicketCharge();\r\n\t\t\tSystem.out.print(&quot;\\t\\t&quot;);\r\n\t\t\tcustomer[i].showTotalDiscount();\r\n\t\t\tSystem.out.print(&quot;\\t\\t&quot;);\r\n\t\t\tcustomer[i].showNetAmount();\r\n\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t\tsiNo++;\r\n\t\t}\r\n\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n```\r\nEnter the no. of customers: 2\r\nEnter your name: Jack\r\nTicket charge: \r\n56000\r\n\r\nEnter your name: Michael\r\nTicket charge: \r\n36000\r\n\r\nSI.No.  Name    Ticket charges  Discount        Net Amount\r\n1       Jack    56000.0         8960.0          47040.0\r\n2       Michael 36000.0         5760.0          30240.0\r\n```\r\n\r\n\r\n  [1]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How to display customer table","body":"<p>You have to make <code>Customer</code> class who have <code>name</code>, <code>ticket charges</code>, <code>discount</code> and <code>net amount</code> variables. Follow the instruction below.</p>\n<ul>\n<li>Make array of <code>Customer</code> class in main method.</li>\n<li>Your condition for discount is wrong. I fix it in here down code.</li>\n<li>Java main method is always <code>static</code> otherwise you get Error: <em>Main method is not static in class assg1, please define the main method as − public static void main(String[] args)</em></li>\n<li>Read <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\"><strong>Java Naming Conventions</strong></a>, Class name must be start with uppercase letter.</li>\n</ul>\n<p>Here down is code:</p>\n<pre><code>import java.util.*;\nclass Customer\n{\n    int discount;\n    String name;\n    double ticketCharge, netAmount, totalDiscount;\n    \n    // take input from customer\n    void readInput()\n    {\n        Scanner sc1 = new Scanner(System.in);\n        System.out.print(&quot;Enter your name: &quot;);\n        name = sc1.next();\n        System.out.println(&quot;Ticket charge: &quot;);\n        ticketCharge = sc1.nextInt();\n    }\n    \n    // print name\n    void showName()\n    {\n        System.out.print(name);\n    }\n    \n    // print ticket charge\n    void showTicketCharge()\n    {\n        System.out.print(ticketCharge);\n    }\n    \n    // Total discount got by customer as per ticket price\n    void showTotalDiscount()\n    {\n        // codition start from higher ticket charge not lower ticket charge\n        if(ticketCharge &gt; 70000)\n        {\n            discount = 18;\n        }\n        else if(ticketCharge &gt;= 55001 || ticketCharge &lt;= 70000)\n        {\n            discount = 16;\n        }\n        else if(ticketCharge &gt;= 35001 || ticketCharge &lt;= 55000)\n        {\n            discount = 12;\n        }\n        else if(ticketCharge &gt;= 25001 || ticketCharge &lt;= 35000)\n        {\n            discount = 10;\n        }\n        else\n        {\n            discount = 2;\n        }\n        \n        totalDiscount = discount * ticketCharge / 100;\n        System.out.print(totalDiscount);\n    }\n    \n    // print net amount\n    void showNetAmount()\n    {\n        netAmount = ticketCharge - totalDiscount;\n        System.out.print(netAmount);\n    }\n}\n\n\nclass Assg1\n{\n    public static void main(String args[])\n    {\n        int siNo = 1;\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the no. of customers: &quot;);\n        int noOfCustormer = sc.nextInt();\n        \n        // Make array of customer\n        Customer customer[] = new Customer[noOfCustormer];\n        for(int i = 0; i &lt; noOfCustormer; i++)\n        {\n            // give a input to the customer\n            customer[i] = new Customer();\n            customer[i].readInput();\n            System.out.print(&quot;\\n&quot;);\n        }\n        System.out.print(&quot;SI.No.\\tName\\tTicket charges\\tDiscount\\tNet Amount\\n&quot;);\n        for(int i = 0; i &lt; noOfCustormer; i++)\n        {\n            // get a output of customer\n            System.out.print(siNo);\n            System.out.print(&quot;\\t&quot;);\n            customer[i].showName();\n            System.out.print(&quot;\\t&quot;);\n            customer[i].showTicketCharge();\n            System.out.print(&quot;\\t\\t&quot;);\n            customer[i].showTotalDiscount();\n            System.out.print(&quot;\\t\\t&quot;);\n            customer[i].showNetAmount();\n            System.out.print(&quot;\\n&quot;);\n            siNo++;\n        }\n\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Enter the no. of customers: 2\nEnter your name: Jack\nTicket charge: \n56000\n\nEnter your name: Michael\nTicket charge: \n36000\n\nSI.No.  Name    Ticket charges  Discount        Net Amount\n1       Jack    56000.0         8960.0          47040.0\n2       Michael 36000.0         5760.0          30240.0\n</code></pre>\n"}],"owner":{"account_id":25152681,"reputation":9,"user_id":18997847,"display_name":"BROS TECH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":72066289,"answer_count":2,"score":-1,"last_activity_date":1661520221,"creation_date":1651297280,"question_id":72066016,"body_markdown":"I&#39;m not a programmer and this is an assignment question. I wrote the program and its working fine but can&#39;t print the output in this specific format. Here down is my assignment:\r\n\r\n* [How to calculate discount][1]\r\n\r\n\r\n* [How to display customer table][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kr59R.png\r\n  [2]: https://i.stack.imgur.com/Us6QN.png\r\nThis is the code till now\r\n```\r\n        //pgm to find discount and amt\r\n    import java.util.*;\r\n    public class assg1\r\n    {\r\n        public void main()\r\n        {\r\n            int d,dis,t;\r\n            Scanner sc=new Scanner(System.in);\r\n            System.out.print(&quot;Enter the no. of customers: &quot;);\r\n            int x=sc.nextInt();\r\n            {\r\n                int i;\r\n                for(i=1;;i++)\r\n                {\r\n                    System.out.print(&quot;Enter your name: &quot;);\r\n                    String a=sc.next();\r\n                    System.out.println(&quot;Ticket charge: &quot;);\r\n                    int n=sc.nextInt();\r\n                    if(n&lt;25001)\r\n                    d=2;\r\n                    else if(n&gt;=25001||n&lt;=35000)\r\n                    d=10;\r\n                    else if(n&gt;=35001||n&lt;=55000)\r\n                    d=12;\r\n                    else if(n&gt;=55001||n&lt;=70000)\r\n                    d=16;\r\n                    else\r\n                    d=18;\r\n                    dis=d*n/100;\r\n                    t=n-dis;\r\n                    if(i==x)\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\nI did till this but dont know what to do in the part after `t = n - dis`. I tried using `\\t` but the order of the output turns out differently everytime. If anyone has suggestions please let me know.","title":"How to display customer table","body":"<p>I'm not a programmer and this is an assignment question. I wrote the program and its working fine but can't print the output in this specific format. Here down is my assignment:</p>\n<ul>\n<li><p><a href=\"https://i.stack.imgur.com/kr59R.png\" rel=\"nofollow noreferrer\">How to calculate discount</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/Us6QN.png\" rel=\"nofollow noreferrer\">How to display customer table</a></p>\n<p>This is the code till now</p>\n</li>\n</ul>\n<pre><code>        //pgm to find discount and amt\n    import java.util.*;\n    public class assg1\n    {\n        public void main()\n        {\n            int d,dis,t;\n            Scanner sc=new Scanner(System.in);\n            System.out.print(&quot;Enter the no. of customers: &quot;);\n            int x=sc.nextInt();\n            {\n                int i;\n                for(i=1;;i++)\n                {\n                    System.out.print(&quot;Enter your name: &quot;);\n                    String a=sc.next();\n                    System.out.println(&quot;Ticket charge: &quot;);\n                    int n=sc.nextInt();\n                    if(n&lt;25001)\n                    d=2;\n                    else if(n&gt;=25001||n&lt;=35000)\n                    d=10;\n                    else if(n&gt;=35001||n&lt;=55000)\n                    d=12;\n                    else if(n&gt;=55001||n&lt;=70000)\n                    d=16;\n                    else\n                    d=18;\n                    dis=d*n/100;\n                    t=n-dis;\n                    if(i==x)\n                    break;\n                }\n            }\n        }\n    }\n</code></pre>\n<p>I did till this but dont know what to do in the part after <code>t = n - dis</code>. I tried using <code>\\t</code> but the order of the output turns out differently everytime. If anyone has suggestions please let me know.</p>\n"},{"tags":["java","spring-boot","maven","intellij-idea"],"comments":[{"owner":{"account_id":7291436,"reputation":875,"user_id":5557698,"accept_rate":45,"display_name":"IllegalSkillsException"},"score":0,"creation_date":1585828924,"post_id":60990976,"comment_id":107903501,"body_markdown":"do ```mvn clean install -X```. It will give you details of the execution and then may be post a screenshot of that here so that we can take a look if you are still not able to fix it.","body":"do <code>mvn clean install -X</code>. It will give you details of the execution and then may be post a screenshot of that here so that we can take a look if you are still not able to fix it."},{"owner":{"account_id":7291436,"reputation":875,"user_id":5557698,"accept_rate":45,"display_name":"IllegalSkillsException"},"score":0,"creation_date":1585830363,"post_id":60990976,"comment_id":107904263,"body_markdown":"Are you getting just these many logs ?","body":"Are you getting just these many logs ?"},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1585830437,"post_id":60990976,"comment_id":107904309,"body_markdown":"I can&#39;t paste everything since stack overflow doesn&#39;t support more than 30000 chars","body":"I can&#39;t paste everything since stack overflow doesn&#39;t support more than 30000 chars"},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1585830500,"post_id":60990976,"comment_id":107904353,"body_markdown":"https://gist.github.com/Hamzablm/bcee101487c7ddb13bc0fc2d1706bf62 You can see everything here","body":"<a href=\"https://gist.github.com/Hamzablm/bcee101487c7ddb13bc0fc2d1706bf62\" rel=\"nofollow noreferrer\">gist.github.com/Hamzablm/bcee101487c7ddb13bc0fc2d1706bf62</a> You can see everything here"},{"owner":{"account_id":7291436,"reputation":875,"user_id":5557698,"accept_rate":45,"display_name":"IllegalSkillsException"},"score":0,"creation_date":1585830815,"post_id":60990976,"comment_id":107904526,"body_markdown":"I am not getting the issue. The logs you have in your git says BUILD SUCCESS","body":"I am not getting the issue. The logs you have in your git says BUILD SUCCESS"},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1585831087,"post_id":60990976,"comment_id":107904700,"body_markdown":"Indeed, The problem is not in the deps. they&#39;re surely in .m2 but IntelliJ couldn&#39;t figure them out.","body":"Indeed, The problem is not in the deps. they&#39;re surely in .m2 but IntelliJ couldn&#39;t figure them out."},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1585831238,"post_id":60990976,"comment_id":107904791,"body_markdown":"all maven commands work fine. However, spring-boot run/debug edit configuration in IntelliJ doesn&#39;t work. And I need that to work for testing reasons.","body":"all maven commands work fine. However, spring-boot run/debug edit configuration in IntelliJ doesn&#39;t work. And I need that to work for testing reasons."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":4,"creation_date":1588360745,"post_id":60990976,"comment_id":108874882,"body_markdown":"Could you please try 2020.1 version from https://www.jetbrains.com/idea/download/ and to run IDE with default settings: use File | Manage Settings | **Restore Default Settings...** action to reset them in 2020.1 version. Also please make sure you have `path.macros.xml` file exists in &lt;IDE config&gt;/options directory, see [this comment](https://youtrack.jetbrains.com/issue/IDEA-239150#focus=streamItem-27-4117814.0-0).","body":"Could you please try 2020.1 version from <a href=\"https://www.jetbrains.com/idea/download/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/download</a> and to run IDE with default settings: use File | Manage Settings | <b>Restore Default Settings...</b> action to reset them in 2020.1 version. Also please make sure you have <code>path.macros.xml</code> file exists in &lt;IDE config&gt;/options directory, see <a href=\"https://youtrack.jetbrains.com/issue/IDEA-239150#focus=streamItem-27-4117814.0-0\" rel=\"nofollow noreferrer\">this comment</a>."},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1588371236,"post_id":60990976,"comment_id":108879092,"body_markdown":"You&#39;ve saved my day. Thank you!!","body":"You&#39;ve saved my day. Thank you!!"},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1588409474,"post_id":60990976,"comment_id":108887339,"body_markdown":"Great to know it works now! Has the settings reset helped or re-creating the `path.macros.xml` file?","body":"Great to know it works now! Has the settings reset helped or re-creating the <code>path.macros.xml</code> file?"},{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1588454046,"post_id":60990976,"comment_id":108904178,"body_markdown":"Yes! Please, see below all the steps I&#39;ve done","body":"Yes! Please, see below all the steps I&#39;ve done"},{"owner":{"account_id":2704150,"reputation":1168,"user_id":2334114,"display_name":"ShadowGames"},"score":0,"creation_date":1600780767,"post_id":60990976,"comment_id":113191117,"body_markdown":"Sadly nothing worked for me. Went through all solutions presented here, nothing helped. What a frustration!","body":"Sadly nothing worked for me. Went through all solutions presented here, nothing helped. What a frustration!"}],"answers":[{"tags":[],"owner":{"account_id":9137518,"reputation":1496,"user_id":11945290,"display_name":"Ayman Arif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585831299,"creation_date":1585828705,"answer_id":60991050,"question_id":60990976,"body_markdown":"Steps you can take:\r\n\r\n1. Delete `.m2` folder\r\n1. Try to run `mvn clean install` to install all of your dependencies.\r\n\r\nFor IntelliJ, configure for Maven\r\n\r\n    Run/Debug Configurations -&gt; Maven -&gt; Command Line: clean install\r\n\r\nFor running Spring Boot:\r\n\r\n    Run/Debug Configurations -&gt; Spring Boot\r\n\r\n[Code Coverage](https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000178680-Code-coverage-for-applications):\r\n\r\n    Run/Debug Configurations -&gt; Spring Boot -&gt; Code Coverage","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<p>Steps you can take:</p>\n\n<ol>\n<li>Delete <code>.m2</code> folder</li>\n<li>Try to run <code>mvn clean install</code> to install all of your dependencies.</li>\n</ol>\n\n<p>For IntelliJ, configure for Maven</p>\n\n<pre><code>Run/Debug Configurations -&gt; Maven -&gt; Command Line: clean install\n</code></pre>\n\n<p>For running Spring Boot:</p>\n\n<pre><code>Run/Debug Configurations -&gt; Spring Boot\n</code></pre>\n\n<p><a href=\"https://intellij-support.jetbrains.com/hc/en-us/community/posts/360000178680-Code-coverage-for-applications\" rel=\"nofollow noreferrer\">Code Coverage</a>:</p>\n\n<pre><code>Run/Debug Configurations -&gt; Spring Boot -&gt; Code Coverage\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585831515,"creation_date":1585831515,"answer_id":60991900,"question_id":60990976,"body_markdown":"If Maven succeeds and IntelliJ fails, it would seem to me that you have to tell IntelliJ to look at the same folder as Maven for creating and running artifacts.  \r\n\r\nGo to your project settings and make sure that IntelliJ&#39;s output folder is /target, right under the root of your project.\r\n\r\nIf you have an artifact, make sure that its build path is the same as the one created by Maven.\r\n\r\nCheck your SDK while you&#39;re at it.  Make sure you have the correct one.\r\n","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<p>If Maven succeeds and IntelliJ fails, it would seem to me that you have to tell IntelliJ to look at the same folder as Maven for creating and running artifacts.  </p>\n\n<p>Go to your project settings and make sure that IntelliJ's output folder is /target, right under the root of your project.</p>\n\n<p>If you have an artifact, make sure that its build path is the same as the one created by Maven.</p>\n\n<p>Check your SDK while you're at it.  Make sure you have the correct one.</p>\n"},{"tags":[],"owner":{"account_id":514697,"reputation":1188,"user_id":1574215,"accept_rate":55,"display_name":"Nyamiou The Galeanthrope"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585831960,"creation_date":1585831960,"answer_id":60992048,"question_id":60990976,"body_markdown":"Maven is probably not configured properly in your Settings. Go to:\r\n\r\n    File &gt; Settings... &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven\r\n\r\nAnd check the values `Maven home directory`, `User settings file` and especially `Local repository` (make sure it&#39;s the same that is used when you directly do `mvn install`).","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<p>Maven is probably not configured properly in your Settings. Go to:</p>\n\n<pre><code>File &gt; Settings... &gt; Build, Execution, Deployment &gt; Build Tools &gt; Maven\n</code></pre>\n\n<p>And check the values <code>Maven home directory</code>, <code>User settings file</code> and especially <code>Local repository</code> (make sure it's the same that is used when you directly do <code>mvn install</code>).</p>\n"},{"tags":[],"owner":{"account_id":16919261,"reputation":21,"user_id":12236453,"display_name":"anyona86"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585833470,"creation_date":1585833470,"answer_id":60992512,"question_id":60990976,"body_markdown":"Run into the same issue, though with a Gradle build. The problem in that case was, the IDE checks for newer versions of the artifacts / dependencies in the build.gradle file and records them, therefore your build.gradle is updated with the new version codes for the artifacts. The IDE though does not download the latest versions when doing that. \r\n\r\nSOLUTION: Rebuild the project when online. Or check the build.gradle file for modifications and revert to the previous versions.  \r\nNOTE: This is a Gradle solution, substitute appropriately for a maven build.\r\n\r\n","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<p>Run into the same issue, though with a Gradle build. The problem in that case was, the IDE checks for newer versions of the artifacts / dependencies in the build.gradle file and records them, therefore your build.gradle is updated with the new version codes for the artifacts. The IDE though does not download the latest versions when doing that. </p>\n\n<p>SOLUTION: Rebuild the project when online. Or check the build.gradle file for modifications and revert to the previous versions.<br>\nNOTE: This is a Gradle solution, substitute appropriately for a maven build.</p>\n"},{"tags":[],"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1588453974,"creation_date":1588453974,"answer_id":61566368,"question_id":60990976,"body_markdown":"Thanks to Andry&#39;s comment my issue was solved.\r\nHere are the steps I&#39;ve done:\r\n\r\n 1. Export IDE settings(keymaps, plugins). You can export it by going to **File |&#160;Manage IDE settings | Export Settings...** It will export a zip file that you can later import it when you restore default IDE configuration\r\n 2. Go to **File |&#160;Manage IDE settings | Restore Default Settings...** the IDE will restart and will be restored to the default configuration. this command re-generated `path.macros.xml` file that was missing with the right configuration. Note that you can file in `&lt;IDE config&gt;/options` directory\r\n 3. Import the exported zip file **File |&#160;Manage IDE settings | Import Settings...** ","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<p>Thanks to Andry's comment my issue was solved.\nHere are the steps I've done:</p>\n\n<ol>\n<li>Export IDE settings(keymaps, plugins). You can export it by going to <strong>File | Manage IDE settings | Export Settings...</strong> It will export a zip file that you can later import it when you restore default IDE configuration</li>\n<li>Go to <strong>File | Manage IDE settings | Restore Default Settings...</strong> the IDE will restart and will be restored to the default configuration. this command re-generated <code>path.macros.xml</code> file that was missing with the right configuration. Note that you can file in <code>&lt;IDE config&gt;/options</code> directory</li>\n<li>Import the exported zip file <strong>File | Manage IDE settings | Import Settings...</strong> </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4132184,"reputation":1939,"user_id":3409387,"accept_rate":100,"display_name":"anandbibek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612519057,"creation_date":1612519057,"answer_id":66061138,"question_id":60990976,"body_markdown":"I pulled my hair for an hour on this. At the end, it turned out Intellij was using a different maven home than what maven is actually using. The library was not actually present in that intellij specific .m2 folder. This discrepancy is exposed only after you do &quot;**Invalidate Caches and Restart**&quot; and then the IDE starts showing those dependencies in red.","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<p>I pulled my hair for an hour on this. At the end, it turned out Intellij was using a different maven home than what maven is actually using. The library was not actually present in that intellij specific .m2 folder. This discrepancy is exposed only after you do &quot;<strong>Invalidate Caches and Restart</strong>&quot; and then the IDE starts showing those dependencies in red.</p>\n"},{"tags":[],"owner":{"account_id":556892,"reputation":9,"user_id":919137,"display_name":"user919137"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1617110510,"creation_date":1617110510,"answer_id":66871757,"question_id":60990976,"body_markdown":"Similar Problem, turned out intellij used /.m2/repository and maven /.m2","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<p>Similar Problem, turned out intellij used /.m2/repository and maven /.m2</p>\n"},{"tags":[],"owner":{"account_id":141892,"reputation":4512,"user_id":2275962,"display_name":"Taner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661520102,"creation_date":1661520102,"answer_id":73501694,"question_id":60990976,"body_markdown":"Using 2022.2.1 and same issue was here.\r\n \r\nAfter two days of pulling my hairs, nothing (incl. cache invalidation, reimport, restart, reload, rebuild, IDE version upgrade/downgrade...) but one worked!\r\n\r\nI created problematic Spring Boot projects via New Project wizard of IntelliJ. After applying all suggestions offered here and there, as a last bullet, I created a new project via [Spring initializr][1] and reimported as a new module. Bingo!\r\n\r\nI don&#39;t know what&#39;s being fixed but, that weird exception gone!\r\n\r\n  [1]: https://start.spring.io/","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<p>Using 2022.2.1 and same issue was here.</p>\n<p>After two days of pulling my hairs, nothing (incl. cache invalidation, reimport, restart, reload, rebuild, IDE version upgrade/downgrade...) but one worked!</p>\n<p>I created problematic Spring Boot projects via New Project wizard of IntelliJ. After applying all suggestions offered here and there, as a last bullet, I created a new project via <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring initializr</a> and reimported as a new module. Bingo!</p>\n<p>I don't know what's being fixed but, that weird exception gone!</p>\n"}],"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14313,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":61566368,"answer_count":8,"score":3,"last_activity_date":1661520102,"creation_date":1585828492,"question_id":60990976,"body_markdown":"## The issue:\r\nWhile it was working fine yesterday. Today, I wasn&#39;t able to compile my project(spring-boot). I created a demo project to simulate the same issue that happened in my current project.\r\n\r\n\r\nWhen I try to run the project using the run button It doesn&#39;t want to compile. Note all the errors from the failed compilation. Also, you can see that all dependencies are imported (see **External Libraries**):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI know I can run the app by typing `mvn spring-boot:run` in the terminal. But for some reason, I don&#39;t want to do that.\r\n\r\nAs you can see, this demo is a simple spring-boot project:\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;demox&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;demox&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n## What I &#39;ve tried:\r\n\r\nI&#39;ve tried countless solutions among them:\r\n\r\n - Select **Build-&gt;Rebuild Project**\r\n - Clicking **File&gt;Invalidate caches/ restart**\r\n - `mvn clean` -&gt; **Build -&gt; Make Project**\r\n - **Maven -&gt; Reimport**\r\n - Deleted `.iml` file and re-imported the project\r\n - Checked that there is no excludes in **Preferences | Build, Execution, Deployment | Compiler | Excludes** \r\n\r\n## About IntelliJ IDEA:\r\n\r\n    IntelliJ IDEA 2019.3.4 (Ultimate Edition)\r\n    Build #IU-193.6911.18, built on March 17, 2020\r\n    Licensed to Hamza Belmellouki\r\n    Subscription is active until October 10, 2020\r\n    For educational use only.\r\n    Runtime version: 11.0.6+8-b520.43 x86_64\r\n    VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    macOS 10.15.3\r\n    GC: ParNew, ConcurrentMarkSweep\r\n    Memory: 1502M\r\n    Cores: 4\r\n    Registry: debugger.click.disable.breakpoints=true, documentation.show.toolbar=true, debugger.watches.in.variables=false, compiler.automake.allow.when.app.running=true, ide.tree.collapse.recursively=false, ide.balloon.shadow.size=0\r\n    Non-Bundled Plugins: AceJump, BrowseWordAtCaret, DBN, GsonFormat, IdeaVIM, Lombook Plugin, MavenRunHelper, com.4lex4.intellij.solarized, com.alayouni.ansiHighlight, com.berzanmikaili.intellij.monokai_pro, com.codota.csp.intellij, com.daylerees.rainglow, com.github.holgerbrandl.pasteimages/, com.github.mturlo.intellij.theme.spacegray, com.github.shiraji.emoji, com.godwin.json.parser, com.intellij.ideolog, com.intellij.jira, com.intellij.plugins.html.instantEditing, com.jetbrains.CyanTheme, com.jetbrains.colorful.toolwindow.icons, com.jetbrains.darkPurpleTheme, com.jetbrains.grayTheme, com.ppolivka.gitlabprojects, com.robohorse.robopojogenerator, com.sburlyaev.terminal.plugin, com.viartemev.requestmapper, com.vincentp.gruvbox-theme, commit-template-idea-plugin, mobi.hsz.idea.gitignore, net.seesharpsoft.intellij.plugins.csv, tanvd.grazi, org.asciidoctor.intellij.asciidoc, org.intellij.scala, org.root.GoogleIt, org.sonarlint.idea, some.awesome\r\n\r\nI&#39;ve spent lots of time on this issue. How can I fix it?\r\n\r\n## From comments:\r\nRunning `mvn clean install -X`:\r\n\r\n    Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T19:41:47+01:00)\r\n    Maven home: /usr/local/Cellar/maven/3.6.0/libexec\r\n    Java version: 1.8.0_192, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home/jre\r\n    Default locale: en_MA, platform encoding: UTF-8\r\n    OS name: &quot;mac os x&quot;, version: &quot;10.15.3&quot;, arch: &quot;x86_64&quot;, family: &quot;mac&quot;\r\n    [DEBUG] Created new class realm maven.api\r\n    [DEBUG] Importing foreign packages into class realm maven.api\r\n    [DEBUG]   Imported: javax.annotation.* &lt; plexus.core\r\n    [DEBUG]   Imported: javax.annotation.security.* &lt; plexus.core\r\n    [DEBUG]   Imported: javax.enterprise.inject.* &lt; plexus.core\r\n    [DEBUG]   Imported: javax.enterprise.util.* &lt; plexus.core\r\n    [DEBUG]   Imported: javax.inject.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.artifact &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.classrealm &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.cli &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.configuration &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.exception &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.execution &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.execution.scope &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.lifecycle &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.model &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.monitor &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.plugin &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.profiles &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.project &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.reporting &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.repository &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.rtinfo &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.settings &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.toolchain &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.usability &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.authentication &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.authorization &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.events &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.observers &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.proxy &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.repository &lt; plexus.core\r\n    [DEBUG]   Imported: org.apache.maven.wagon.resource &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.classworlds &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.classworlds &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.component &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.configuration &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.container &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.context &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.lifecycle &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.logging &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.personality &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; plexus.core\r\n    [DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.artifact &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.collection &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.deployment &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.graph &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.impl &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.installation &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.internal.impl &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.metadata &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.repository &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.resolution &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.spi &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.transfer &lt; plexus.core\r\n    [DEBUG]   Imported: org.eclipse.aether.version &lt; plexus.core\r\n    [DEBUG]   Imported: org.fusesource.jansi.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.slf4j.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.slf4j.helpers.* &lt; plexus.core\r\n    [DEBUG]   Imported: org.slf4j.spi.* &lt; plexus.core\r\n    [DEBUG] Populating class realm maven.api\r\n    [INFO] Error stacktraces are turned on.\r\n    [DEBUG] Message scheme: color\r\n    [DEBUG] Message styles: debug info warning error success failure strong mojo project\r\n    [DEBUG] Reading global settings from /usr/local/Cellar/maven/3.6.0/libexec/conf/settings.xml\r\n    [DEBUG] Reading user settings from /Users/hamzabelmellouki/.m2/settings.xml\r\n    [DEBUG] Reading global toolchains from /usr/local/Cellar/maven/3.6.0/libexec/conf/toolchains.xml\r\n    [DEBUG] Reading user toolchains from /Users/hamzabelmellouki/.m2/toolchains.xml\r\n    [DEBUG] Using local repository at /Users/hamzabelmellouki/.m2/repository\r\n    [DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10.0 for /Users/hamzabelmellouki/.m2/repository\r\n    [INFO] Scanning for projects...\r\n    [DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for maven-releases (https://nexus.sdf.x-hub.io/repository/maven-releases).\r\n    [DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for maven-snapshots (https://nexus.sdf.x-hub.io/repository/maven-snapshots).\r\n    [DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for central (http://central).\r\n    [DEBUG] Extension realms for project com.example:demox:jar:0.0.1-SNAPSHOT: (none)\r\n    [DEBUG] Looking up lifecycle mappings for packaging jar from ClassRealm[plexus.core, parent: null]\r\n    [DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for sonatype-nexus-snapshots (https://oss.sonatype.org/content/repositories/snapshots).\r\n    [DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for central (https://repo.maven.apache.org/maven2).\r\n    [DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for apache.snapshots (https://repository.apache.org/snapshots).\r\n    [DEBUG] Extension realms for project org.springframework.boot:spring-boot-starter-parent:pom:2.2.6.RELEASE: (none)\r\n    [DEBUG] Looking up lifecycle mappings for packaging pom from ClassRealm[plexus.core, parent: null]\r\n    [DEBUG] Extension realms for project org.springframework.boot:spring-boot-dependencies:pom:2.2.6.RELEASE: (none)\r\n    [DEBUG] Looking up lifecycle mappings for packaging pom from ClassRealm[plexus.core, parent: null]\r\n    [DEBUG] === REACTOR BUILD PLAN ================================================\r\n    [DEBUG] Project: com.example:demox:jar:0.0.1-SNAPSHOT\r\n    [DEBUG] Tasks:   [clean, install]\r\n    [DEBUG] Style:   Regular\r\n    [DEBUG] =======================================================================\r\n\r\n  [1]: https://i.stack.imgur.com/Hsxka.jpg\r\n","title":"Can&#39;t compile/run a java project in IntelliJ","body":"<h2>The issue:</h2>\n\n<p>While it was working fine yesterday. Today, I wasn't able to compile my project(spring-boot). I created a demo project to simulate the same issue that happened in my current project.</p>\n\n<p>When I try to run the project using the run button It doesn't want to compile. Note all the errors from the failed compilation. Also, you can see that all dependencies are imported (see <strong>External Libraries</strong>):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hsxka.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hsxka.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I know I can run the app by typing <code>mvn spring-boot:run</code> in the terminal. But for some reason, I don't want to do that.</p>\n\n<p>As you can see, this demo is a simple spring-boot project:</p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" \nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;demox&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;demox&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<h2>What I 've tried:</h2>\n\n<p>I've tried countless solutions among them:</p>\n\n<ul>\n<li>Select <strong>Build->Rebuild Project</strong></li>\n<li>Clicking <strong>File>Invalidate caches/ restart</strong></li>\n<li><code>mvn clean</code> -> <strong>Build -> Make Project</strong></li>\n<li><strong>Maven -> Reimport</strong></li>\n<li>Deleted <code>.iml</code> file and re-imported the project</li>\n<li>Checked that there is no excludes in <strong>Preferences | Build, Execution, Deployment | Compiler | Excludes</strong> </li>\n</ul>\n\n<h2>About IntelliJ IDEA:</h2>\n\n<pre><code>IntelliJ IDEA 2019.3.4 (Ultimate Edition)\nBuild #IU-193.6911.18, built on March 17, 2020\nLicensed to Hamza Belmellouki\nSubscription is active until October 10, 2020\nFor educational use only.\nRuntime version: 11.0.6+8-b520.43 x86_64\nVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nmacOS 10.15.3\nGC: ParNew, ConcurrentMarkSweep\nMemory: 1502M\nCores: 4\nRegistry: debugger.click.disable.breakpoints=true, documentation.show.toolbar=true, debugger.watches.in.variables=false, compiler.automake.allow.when.app.running=true, ide.tree.collapse.recursively=false, ide.balloon.shadow.size=0\nNon-Bundled Plugins: AceJump, BrowseWordAtCaret, DBN, GsonFormat, IdeaVIM, Lombook Plugin, MavenRunHelper, com.4lex4.intellij.solarized, com.alayouni.ansiHighlight, com.berzanmikaili.intellij.monokai_pro, com.codota.csp.intellij, com.daylerees.rainglow, com.github.holgerbrandl.pasteimages/, com.github.mturlo.intellij.theme.spacegray, com.github.shiraji.emoji, com.godwin.json.parser, com.intellij.ideolog, com.intellij.jira, com.intellij.plugins.html.instantEditing, com.jetbrains.CyanTheme, com.jetbrains.colorful.toolwindow.icons, com.jetbrains.darkPurpleTheme, com.jetbrains.grayTheme, com.ppolivka.gitlabprojects, com.robohorse.robopojogenerator, com.sburlyaev.terminal.plugin, com.viartemev.requestmapper, com.vincentp.gruvbox-theme, commit-template-idea-plugin, mobi.hsz.idea.gitignore, net.seesharpsoft.intellij.plugins.csv, tanvd.grazi, org.asciidoctor.intellij.asciidoc, org.intellij.scala, org.root.GoogleIt, org.sonarlint.idea, some.awesome\n</code></pre>\n\n<p>I've spent lots of time on this issue. How can I fix it?</p>\n\n<h2>From comments:</h2>\n\n<p>Running <code>mvn clean install -X</code>:</p>\n\n<pre><code>Apache Maven 3.6.0 (97c98ec64a1fdfee7767ce5ffb20918da4f719f3; 2018-10-24T19:41:47+01:00)\nMaven home: /usr/local/Cellar/maven/3.6.0/libexec\nJava version: 1.8.0_192, vendor: Oracle Corporation, runtime: /Library/Java/JavaVirtualMachines/jdk1.8.0_192.jdk/Contents/Home/jre\nDefault locale: en_MA, platform encoding: UTF-8\nOS name: \"mac os x\", version: \"10.15.3\", arch: \"x86_64\", family: \"mac\"\n[DEBUG] Created new class realm maven.api\n[DEBUG] Importing foreign packages into class realm maven.api\n[DEBUG]   Imported: javax.annotation.* &lt; plexus.core\n[DEBUG]   Imported: javax.annotation.security.* &lt; plexus.core\n[DEBUG]   Imported: javax.enterprise.inject.* &lt; plexus.core\n[DEBUG]   Imported: javax.enterprise.util.* &lt; plexus.core\n[DEBUG]   Imported: javax.inject.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.artifact &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.classrealm &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.cli &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.configuration &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.exception &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.execution &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.execution.scope &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.lifecycle &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.model &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.monitor &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.plugin &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.profiles &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.project &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.reporting &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.repository &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.rtinfo &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.settings &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.toolchain &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.usability &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.* &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.authentication &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.authorization &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.events &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.observers &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.proxy &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.repository &lt; plexus.core\n[DEBUG]   Imported: org.apache.maven.wagon.resource &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.classworlds &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.* &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.classworlds &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.component &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.configuration &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.container &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.context &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.lifecycle &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.logging &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.personality &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.Xpp3Dom &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParser &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlPullParserException &lt; plexus.core\n[DEBUG]   Imported: org.codehaus.plexus.util.xml.pull.XmlSerializer &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.* &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.artifact &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.collection &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.deployment &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.graph &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.impl &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.installation &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.internal.impl &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.metadata &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.repository &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.resolution &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.spi &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.transfer &lt; plexus.core\n[DEBUG]   Imported: org.eclipse.aether.version &lt; plexus.core\n[DEBUG]   Imported: org.fusesource.jansi.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.helpers.* &lt; plexus.core\n[DEBUG]   Imported: org.slf4j.spi.* &lt; plexus.core\n[DEBUG] Populating class realm maven.api\n[INFO] Error stacktraces are turned on.\n[DEBUG] Message scheme: color\n[DEBUG] Message styles: debug info warning error success failure strong mojo project\n[DEBUG] Reading global settings from /usr/local/Cellar/maven/3.6.0/libexec/conf/settings.xml\n[DEBUG] Reading user settings from /Users/hamzabelmellouki/.m2/settings.xml\n[DEBUG] Reading global toolchains from /usr/local/Cellar/maven/3.6.0/libexec/conf/toolchains.xml\n[DEBUG] Reading user toolchains from /Users/hamzabelmellouki/.m2/toolchains.xml\n[DEBUG] Using local repository at /Users/hamzabelmellouki/.m2/repository\n[DEBUG] Using manager EnhancedLocalRepositoryManager with priority 10.0 for /Users/hamzabelmellouki/.m2/repository\n[INFO] Scanning for projects...\n[DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for maven-releases (https://nexus.sdf.x-hub.io/repository/maven-releases).\n[DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for maven-snapshots (https://nexus.sdf.x-hub.io/repository/maven-snapshots).\n[DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for central (http://central).\n[DEBUG] Extension realms for project com.example:demox:jar:0.0.1-SNAPSHOT: (none)\n[DEBUG] Looking up lifecycle mappings for packaging jar from ClassRealm[plexus.core, parent: null]\n[DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for sonatype-nexus-snapshots (https://oss.sonatype.org/content/repositories/snapshots).\n[DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for central (https://repo.maven.apache.org/maven2).\n[DEBUG] Using mirror central (https://nexus.sdf.x-hub.io/repository/maven-public/) for apache.snapshots (https://repository.apache.org/snapshots).\n[DEBUG] Extension realms for project org.springframework.boot:spring-boot-starter-parent:pom:2.2.6.RELEASE: (none)\n[DEBUG] Looking up lifecycle mappings for packaging pom from ClassRealm[plexus.core, parent: null]\n[DEBUG] Extension realms for project org.springframework.boot:spring-boot-dependencies:pom:2.2.6.RELEASE: (none)\n[DEBUG] Looking up lifecycle mappings for packaging pom from ClassRealm[plexus.core, parent: null]\n[DEBUG] === REACTOR BUILD PLAN ================================================\n[DEBUG] Project: com.example:demox:jar:0.0.1-SNAPSHOT\n[DEBUG] Tasks:   [clean, install]\n[DEBUG] Style:   Regular\n[DEBUG] =======================================================================\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mocking"],"comments":[{"owner":{"account_id":8632300,"reputation":91978,"user_id":6463558,"accept_rate":48,"display_name":"Lin Du"},"score":0,"creation_date":1661403511,"post_id":73474498,"comment_id":129764907,"body_markdown":"Add the program language tag","body":"Add the program language tag"},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1661521131,"post_id":73474498,"comment_id":129798521,"body_markdown":"Theres nothing wrong with what you&#39;re doing here. There is no observable behavior to test. What theory is this? Can you add a link to a description ?","body":"Theres nothing wrong with what you&#39;re doing here. There is no observable behavior to test. What theory is this? Can you add a link to a description ?"},{"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"score":0,"creation_date":1661529251,"post_id":73474498,"comment_id":129801582,"body_markdown":"Ok, well the book is Unit Testing: Principles, Practices and Patterns from Vladimir Khorikov. And it basically says that you should not assert interactions among collaborators","body":"Ok, well the book is Unit Testing: Principles, Practices and Patterns from Vladimir Khorikov. And it basically says that you should not assert interactions among collaborators"}],"owner":{"account_id":16306907,"reputation":117,"user_id":11776660,"display_name":"dssof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661519634,"creation_date":1661349520,"question_id":73474498,"body_markdown":"I&#39;m trying to implement unit testing for a large enterprise app that has multiple layers and interactions between classes. \r\nReading about this type of test, I see that it is not recommended to verify interaction, you should test &quot;observable results&quot;. For example:\r\n ```\r\n public void Purchase_succeeds_when_enough_inventory(){\r\n    var storeMock = new Mock&lt;IStore&gt;();\r\n\r\n    storeMock.Setup(x =&gt; x.HasEnoughInventory(Product.Shampoo, 5)).Returns(true);\r\n    \r\n    var customer = new Customer();\r\n    bool success = customer.Purchase(storeMock.Object, Product.Shampoo, 5);\r\n    \r\n    Assert.True(success);\r\n    storeMock.Verify(x =&gt; x.RemoveInventory(Product.Shampoo, 5),Times.Once);\r\n}\r\n ```\r\nIn this case, verifying that RemoveInventory is called it&#39;s wrong (according to the theory), because it is an implementation detail.\r\nNow, how should I test that the product has been removed from the inventory, given that the database or dao classes are mocked? There&#39;s no way to know, other than check that the function that does remove the product is called and hope for the best.\r\n\r\nWhat am I missing here? Should I implement this in a different manner?\r\n\r\n\r\n\r\n\r\n","title":"Unit testing mocking interactions","body":"<p>I'm trying to implement unit testing for a large enterprise app that has multiple layers and interactions between classes.\nReading about this type of test, I see that it is not recommended to verify interaction, you should test &quot;observable results&quot;. For example:</p>\n<pre><code>public void Purchase_succeeds_when_enough_inventory(){\n   var storeMock = new Mock&lt;IStore&gt;();\n\n   storeMock.Setup(x =&gt; x.HasEnoughInventory(Product.Shampoo, 5)).Returns(true);\n   \n   var customer = new Customer();\n   bool success = customer.Purchase(storeMock.Object, Product.Shampoo, 5);\n   \n   Assert.True(success);\n   storeMock.Verify(x =&gt; x.RemoveInventory(Product.Shampoo, 5),Times.Once);\n}\n</code></pre>\n<p>In this case, verifying that RemoveInventory is called it's wrong (according to the theory), because it is an implementation detail.\nNow, how should I test that the product has been removed from the inventory, given that the database or dao classes are mocked? There's no way to know, other than check that the function that does remove the product is called and hope for the best.</p>\n<p>What am I missing here? Should I implement this in a different manner?</p>\n"},{"tags":["java","android","android-volley"],"comments":[{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1661515212,"post_id":73500472,"comment_id":129796403,"body_markdown":"it&#39;s returning an empty array because the request takes some time and you&#39;re logging the empty array.","body":"it&#39;s returning an empty array because the request takes some time and you&#39;re logging the empty array."}],"answers":[{"tags":[],"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661516631,"creation_date":1661516631,"answer_id":73500993,"question_id":73500472,"body_markdown":"You&#39;re getting an empty JSONArray because you&#39;re logging in before the API gives the response.\r\n\r\nYou can solve this problem by making a callback method to call after you get the API response.\r\n\r\n\r\nExample\r\n-------\r\n\r\n**onCreate**\r\n```\r\nprivate String test = &quot;&quot;;\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    getremseat(&quot;20220827&quot;, &quot;0671801&quot;, &quot;3112001&quot;).toString();\r\n}\r\n```\r\n\r\n**getremseat**\r\n```\r\n. . .\r\n\r\nfor (int a = 0; a &lt; jsonArray.length(); a++) {\r\n      JSONObject jo = jsonArray.getJSONObject(a);\r\n\r\n      JSONObject joo = new JSONObject();\r\n      joo.put(&quot;TIM_TIM&quot;, jo.getString(&quot;TIM_TIM&quot;));\r\n      joo.put(&quot;LIN_TIM&quot;, jo.getString(&quot;LIN_TIM&quot;));\r\n      joo.put(&quot;REM_CNT&quot;, jo.getString(&quot;REM_CNT&quot;));\r\n      ja.put(joo);\r\n}\r\ntest = ja.toString(); &lt;-----\r\nonResult(ja);         &lt;-----\r\n\r\n. . .\r\n```\r\n**onResult**\r\n```\r\npublic void onResult (JSONArray jsonArray){\r\n    Log.d(&quot;tag&quot;, jsonArray.toString());\r\n}\r\n```","title":"how to return JSONArray from method using volley?","body":"<p>You're getting an empty JSONArray because you're logging in before the API gives the response.</p>\n<p>You can solve this problem by making a callback method to call after you get the API response.</p>\n<h2>Example</h2>\n<p><strong>onCreate</strong></p>\n<pre><code>private String test = &quot;&quot;;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    getremseat(&quot;20220827&quot;, &quot;0671801&quot;, &quot;3112001&quot;).toString();\n}\n</code></pre>\n<p><strong>getremseat</strong></p>\n<pre><code>. . .\n\nfor (int a = 0; a &lt; jsonArray.length(); a++) {\n      JSONObject jo = jsonArray.getJSONObject(a);\n\n      JSONObject joo = new JSONObject();\n      joo.put(&quot;TIM_TIM&quot;, jo.getString(&quot;TIM_TIM&quot;));\n      joo.put(&quot;LIN_TIM&quot;, jo.getString(&quot;LIN_TIM&quot;));\n      joo.put(&quot;REM_CNT&quot;, jo.getString(&quot;REM_CNT&quot;));\n      ja.put(joo);\n}\ntest = ja.toString(); &lt;-----\nonResult(ja);         &lt;-----\n\n. . .\n</code></pre>\n<p><strong>onResult</strong></p>\n<pre><code>public void onResult (JSONArray jsonArray){\n    Log.d(&quot;tag&quot;, jsonArray.toString());\n}\n</code></pre>\n"}],"owner":{"account_id":26163150,"reputation":37,"user_id":19849340,"display_name":"kaqnat332"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73500993,"answer_count":1,"score":0,"last_activity_date":1661519625,"creation_date":1661513966,"question_id":73500472,"body_markdown":"I&#39;m trying to return `JSONArray` on my method.\r\n\r\n**I want to see** \r\n\r\n```java\r\nString test = getremseat(&quot;20220827&quot;, &quot;0671801&quot;, &quot;3112001&quot;).toString();`        \r\nLog.i(&quot;test&quot;, test);&#39;\r\n```\r\n\r\nbut result is `I/test: []`\r\n\r\nI think `getremseat` method does not return because of `queue.add(req);` how can I return `JSONArray` from the method using Volley?\r\n\r\n`MainActivity.java`:\r\n\r\n```java\r\npackage com.example.terapi3;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.JsonObjectRequest;\r\n\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate (Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        String test = getremseat(&quot;20220827&quot;, &quot;0671801&quot;, &quot;3112001&quot;).toString();\r\n        Log.i(&quot;test&quot;, test);\r\n    }\r\n\r\n    public JSONArray getremseat (String timDte, String terFrI, String terToI) {\r\n     /*\r\n        String timDte = &quot;20220826&quot;;\r\n        String terFrI = &quot;0671801&quot;;\r\n        String terToI = &quot;3112001&quot;;\r\n    */\r\n\r\n        JSONArray ja = new JSONArray();\r\n\r\n        // GET requset url\r\n        String url = &quot;https://apigw.tmoney.co.kr:5556/gateway/xzzIbtListGet/v1&quot;;\r\n        String timTimI = &quot;0000&quot;;  //\r\n\r\n        RequestQueue queue = Volley.newRequestQueue(this);\r\n\r\n\r\n        JsonObjectRequest req = new JsonObjectRequest(Request.Method.GET, url + &quot;/ibt_list&quot; + &quot;/&quot; + timDte + &quot;/&quot; + timTimI + &quot;/&quot; + terFrI + &quot;/&quot; + terToI + &quot;/9/0&quot;,\r\n                null, new Response.Listener&lt;JSONObject&gt;() {\r\n\r\n            @Override\r\n            public void onResponse(JSONObject response) {\r\n\r\n                try {\r\n                    JSONArray jsonArray = response.getJSONObject(&quot;response&quot;).getJSONArray(&quot;LINE_LIST&quot;);\r\n\r\n\r\n                    for (int a = 0; a &lt; jsonArray.length(); a++) {\r\n                        JSONObject jo = jsonArray.getJSONObject(a);\r\n\r\n                        JSONObject joo = new JSONObject();\r\n                        joo.put(&quot;TIM_TIM&quot;, jo.getString(&quot;TIM_TIM&quot;));\r\n                        joo.put(&quot;LIN_TIM&quot;, jo.getString(&quot;LIN_TIM&quot;));\r\n                        joo.put(&quot;REM_CNT&quot;, jo.getString(&quot;REM_CNT&quot;));\r\n\r\n                        ja.put(joo);\r\n\r\n                    }\r\n                    \r\n\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n        }, new Response.ErrorListener() {\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                Log.e(&quot;e&quot;, &quot;Site Info Error: &quot; + error.getMessage());\r\n            }\r\n        }) {\r\n            // header\r\n            @Override\r\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\r\n                HashMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n                headers.put(&quot;x-Gateway-APIKey&quot;, &quot;MY PERSONAL KEY&quot;);\r\n                return headers;\r\n            }\r\n\r\n\r\n        };\r\n\r\n\r\n        queue.add(req);\r\n        return ja; // i want to return this\r\n    }\r\n\r\n}\r\n```\r\n\r\nAnd, I also want return `JSONArray` to other package.","title":"how to return JSONArray from method using volley?","body":"<p>I'm trying to return <code>JSONArray</code> on my method.</p>\n<p><strong>I want to see</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String test = getremseat(&quot;20220827&quot;, &quot;0671801&quot;, &quot;3112001&quot;).toString();`        \nLog.i(&quot;test&quot;, test);'\n</code></pre>\n<p>but result is <code>I/test: []</code></p>\n<p>I think <code>getremseat</code> method does not return because of <code>queue.add(req);</code> how can I return <code>JSONArray</code> from the method using Volley?</p>\n<p><code>MainActivity.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.terapi3;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\n\nimport com.android.volley.AuthFailureError;\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\n\nimport com.android.volley.toolbox.Volley;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate (Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        String test = getremseat(&quot;20220827&quot;, &quot;0671801&quot;, &quot;3112001&quot;).toString();\n        Log.i(&quot;test&quot;, test);\n    }\n\n    public JSONArray getremseat (String timDte, String terFrI, String terToI) {\n     /*\n        String timDte = &quot;20220826&quot;;\n        String terFrI = &quot;0671801&quot;;\n        String terToI = &quot;3112001&quot;;\n    */\n\n        JSONArray ja = new JSONArray();\n\n        // GET requset url\n        String url = &quot;https://apigw.tmoney.co.kr:5556/gateway/xzzIbtListGet/v1&quot;;\n        String timTimI = &quot;0000&quot;;  //\n\n        RequestQueue queue = Volley.newRequestQueue(this);\n\n\n        JsonObjectRequest req = new JsonObjectRequest(Request.Method.GET, url + &quot;/ibt_list&quot; + &quot;/&quot; + timDte + &quot;/&quot; + timTimI + &quot;/&quot; + terFrI + &quot;/&quot; + terToI + &quot;/9/0&quot;,\n                null, new Response.Listener&lt;JSONObject&gt;() {\n\n            @Override\n            public void onResponse(JSONObject response) {\n\n                try {\n                    JSONArray jsonArray = response.getJSONObject(&quot;response&quot;).getJSONArray(&quot;LINE_LIST&quot;);\n\n\n                    for (int a = 0; a &lt; jsonArray.length(); a++) {\n                        JSONObject jo = jsonArray.getJSONObject(a);\n\n                        JSONObject joo = new JSONObject();\n                        joo.put(&quot;TIM_TIM&quot;, jo.getString(&quot;TIM_TIM&quot;));\n                        joo.put(&quot;LIN_TIM&quot;, jo.getString(&quot;LIN_TIM&quot;));\n                        joo.put(&quot;REM_CNT&quot;, jo.getString(&quot;REM_CNT&quot;));\n\n                        ja.put(joo);\n\n                    }\n                    \n\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n\n        }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                Log.e(&quot;e&quot;, &quot;Site Info Error: &quot; + error.getMessage());\n            }\n        }) {\n            // header\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                HashMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n                headers.put(&quot;x-Gateway-APIKey&quot;, &quot;MY PERSONAL KEY&quot;);\n                return headers;\n            }\n\n\n        };\n\n\n        queue.add(req);\n        return ja; // i want to return this\n    }\n\n}\n</code></pre>\n<p>And, I also want return <code>JSONArray</code> to other package.</p>\n"},{"tags":["java","reactjs","maven","pom.xml"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661505487,"post_id":73498615,"comment_id":129793227,"body_markdown":"What is the output of `mvn --version`?","body":"What is the output of <code>mvn --version</code>?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661505527,"post_id":73498615,"comment_id":129793241,"body_markdown":"My first guess is, you use an JRE not a JDK","body":"My first guess is, you use an JRE not a JDK"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1661517188,"post_id":73498615,"comment_id":129797126,"body_markdown":"First use most recent version of Spring boot because 2.1.7.RELEASE is out of date... also use most recent version of maven-compiler-plugin....","body":"First use most recent version of Spring boot because 2.1.7.RELEASE is out of date... also use most recent version of maven-compiler-plugin...."},{"owner":{"account_id":21049151,"reputation":21,"user_id":15469880,"display_name":"mac blanco"},"score":0,"creation_date":1661777469,"post_id":73498615,"comment_id":129845143,"body_markdown":"Thats the output of mvn --version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: C:\\Program Files\\apache-maven-3.8.6\nJava version: 18.0.2.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-18.0.2.1\nDefault locale: pl_PL, platform encoding: UTF-8\nOS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;","body":"Thats the output of mvn --version Apache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63) Maven home: C:\\Program Files\\apache-maven-3.8.6 Java version: 18.0.2.1, vendor: Oracle Corporation, runtime: C:\\Program Files\\Java\\jdk-18.0.2.1 Default locale: pl_PL, platform encoding: UTF-8 OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9911689,"reputation":303,"user_id":7338170,"display_name":"P.Sanjay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661519278,"creation_date":1661519278,"answer_id":73501527,"question_id":73498615,"body_markdown":"Your spring boot version is quite old. Upgrade it to latest one. If you can&#39;t, then provide the latest version of lombok in your pom.xml explicitely instead of default using from springboot.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n       &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n       &lt;version&gt;1.18.24&lt;/version&gt;\r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n","title":"Fatal error compiling: java.lang.Il legalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>Your spring boot version is quite old. Upgrade it to latest one. If you can't, then provide the latest version of lombok in your pom.xml explicitely instead of default using from springboot.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.projectlombok/lombok --&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n   &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n   &lt;version&gt;1.18.24&lt;/version&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":21049151,"reputation":21,"user_id":15469880,"display_name":"mac blanco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5080,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661519278,"creation_date":1661504846,"question_id":73498615,"body_markdown":"I already installed Lombok and got the latest Java, set all System Variables as M2 or MAVEN and JAVA_HOME. Still have an error. POM is building all right and all files such as mvnw and mvnw.cmd work well. But when i try to run it all, by *mvn clean install*, there is a failure:\r\n\r\n\r\n    mvn clean install\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] --------------------------&lt; com.aegon:aegon &gt;---------------------------\r\n    [INFO] Building aegon 1.0\r\n    [INFO] --------------------------------[ jar ]---------------------------------\r\n    [INFO] \r\n    [INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ aegon ---\r\n    [INFO] Deleting C:\\Users\\48512\\Desktop\\BEST\\BEST\\17 KV\\projekty\\dostałem-rozpakowane\\system-biletowy-backend-master\\target\r\n    [INFO] \r\n    [INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ aegon ---\r\n    [INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n    [INFO] Copying 1 resource\r\n    [INFO] Copying 57 resources\r\n    [INFO] \r\n    [INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ aegon ---\r\n    [INFO] Changes detected - recompiling the module!\r\n    [INFO] Compiling 50 source files to C:\\Users\\48512\\Desktop\\BEST\\BEST\\17 KV\\projekty\\dostałem-rozpakowane\\system-biletowy-backend-master\\target\\classes\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  7.672 s\r\n    [INFO] Finished at: 2022-08-26T10:54:35+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project aegon: Fatal error compiling: java.lang.Il\r\n    legalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x6f4adaab) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironm\r\n    ent (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x6f4adaab -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n\r\n\r\nHere is my pom.xml (aegon) file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.1.7.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.aegon&lt;/groupId&gt;\r\n        &lt;artifactId&gt;aegon&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;name&gt;aegon&lt;/name&gt;\r\n        &lt;description&gt;karnavauli 2.0&lt;/description&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n                &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.25&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n                &lt;artifactId&gt;core&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javase&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${project.parent.version}&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;11&lt;/source&gt;\r\n                        &lt;target&gt;11&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nIf You need something more, write.\r\nI have been searching for a solution all yesterday and nothing changed.\r\nAlso this is not ma own project, i took over and i am still waiting for a meeting with autor, but he said it should work without any problems. It does not. I know a bit of Java, but not wiht react and springboot.\r\nPlease help.","title":"Fatal error compiling: java.lang.Il legalAccessError: class lombok.javac.apt.LombokProcessor","body":"<p>I already installed Lombok and got the latest Java, set all System Variables as M2 or MAVEN and JAVA_HOME. Still have an error. POM is building all right and all files such as mvnw and mvnw.cmd work well. But when i try to run it all, by <em>mvn clean install</em>, there is a failure:</p>\n<pre><code>mvn clean install\n[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------------------&lt; com.aegon:aegon &gt;---------------------------\n[INFO] Building aegon 1.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-clean-plugin:3.1.0:clean (default-clean) @ aegon ---\n[INFO] Deleting C:\\Users\\48512\\Desktop\\BEST\\BEST\\17 KV\\projekty\\dostałem-rozpakowane\\system-biletowy-backend-master\\target\n[INFO] \n[INFO] --- maven-resources-plugin:3.1.0:resources (default-resources) @ aegon ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] Copying 1 resource\n[INFO] Copying 57 resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ aegon ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 50 source files to C:\\Users\\48512\\Desktop\\BEST\\BEST\\17 KV\\projekty\\dostałem-rozpakowane\\system-biletowy-backend-master\\target\\classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.672 s\n[INFO] Finished at: 2022-08-26T10:54:35+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project aegon: Fatal error compiling: java.lang.Il\nlegalAccessError: class lombok.javac.apt.LombokProcessor (in unnamed module @0x6f4adaab) cannot access class com.sun.tools.javac.processing.JavacProcessingEnvironm\nent (in module jdk.compiler) because module jdk.compiler does not export com.sun.tools.javac.processing to unnamed module @0x6f4adaab -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>Here is my pom.xml (aegon) file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.1.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.aegon&lt;/groupId&gt;\n    &lt;artifactId&gt;aegon&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;aegon&lt;/name&gt;\n    &lt;description&gt;karnavauli 2.0&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.postgresql/postgresql --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.25&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;core&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.zxing&lt;/groupId&gt;\n            &lt;artifactId&gt;javase&lt;/artifactId&gt;\n            &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>If You need something more, write.\nI have been searching for a solution all yesterday and nothing changed.\nAlso this is not ma own project, i took over and i am still waiting for a meeting with autor, but he said it should work without any problems. It does not. I know a bit of Java, but not wiht react and springboot.\nPlease help.</p>\n"},{"tags":["java","spring-boot","lombok","bean-validation","hibernate-validator"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1661516364,"post_id":73500803,"comment_id":129796794,"body_markdown":"What does your controller look like?","body":"What does your controller look like?"},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1661516666,"post_id":73500803,"comment_id":129796910,"body_markdown":"OK, I added the relevant parts of the `Controller`.","body":"OK, I added the relevant parts of the <code>Controller</code>."},{"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"score":0,"creation_date":1661516842,"post_id":73500803,"comment_id":129796965,"body_markdown":"Oh, wait... silly me, forgetting to add `@Valid` to the `remessa()` method on the controller. Thanks for the idea.","body":"Oh, wait... silly me, forgetting to add <code>@Valid</code> to the <code>remessa()</code> method on the controller. Thanks for the idea."},{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":1,"creation_date":1661516897,"post_id":73500803,"comment_id":129796995,"body_markdown":"Yes, I just wanted to write that.. That&#39;s common mistake :)","body":"Yes, I just wanted to write that.. That&#39;s common mistake :)"}],"answers":[{"tags":[],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661516953,"creation_date":1661516953,"answer_id":73501043,"question_id":73500803,"body_markdown":"In the end, I had forgotten to add the `@Valid` annotation to the `remessa()` method on the controller:\r\n\r\n```java\r\npackage com.ats.boleta.controller;\r\n\r\n(...)\r\n\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/v0/boleto&quot;)\r\npublic class BoletaController {\r\n    (...)\r\n\r\n    @RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    public ResponseEntity&lt;InputStreamResource&gt; boleto(@Valid @RequestBody BoletoDTO dto) throws IOException {\r\n        (...)\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/remessa&quot;, method = RequestMethod.POST, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;InputStreamResource&gt; remessa(@Valid @RequestBody BoletoDTO dto) throws IOException {\r\n        (...)\r\n    }\r\n\r\n}\r\n```","title":"Custom bean validation is not being called at all","body":"<p>In the end, I had forgotten to add the <code>@Valid</code> annotation to the <code>remessa()</code> method on the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ats.boleta.controller;\n\n(...)\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/v0/boleto&quot;)\npublic class BoletaController {\n    (...)\n\n    @RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_PDF_VALUE)\n    public ResponseEntity&lt;InputStreamResource&gt; boleto(@Valid @RequestBody BoletoDTO dto) throws IOException {\n        (...)\n    }\n\n    @RequestMapping(value = &quot;/remessa&quot;, method = RequestMethod.POST, produces = MediaType.TEXT_PLAIN_VALUE)\n    public ResponseEntity&lt;InputStreamResource&gt; remessa(@Valid @RequestBody BoletoDTO dto) throws IOException {\n        (...)\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14705970,"reputation":474,"user_id":10620689,"display_name":"Andrian Soluk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661519263,"creation_date":1661518621,"answer_id":73501383,"question_id":73500803,"body_markdown":"Can you please try to use:\r\n\r\n    @NotEmpty(message = &quot;N&#227;o foi informado nenhum t&#237;tulo.&quot;)\r\n    private List&lt;@Valid Titulo&gt; titulo;\r\nInstead of:\r\n\r\n    @Valid\r\n    @NotEmpty(message = &quot;N&#227;o foi informado nenhum t&#237;tulo.&quot;)\r\n    private List&lt;Titulo&gt; titulo;\r\nPlease add annotation @Valid for method remessa\r\n\r\n    package com.ats.boleta.controller;\r\n\r\n    (...)\r\n\r\n    @Slf4j\r\n    @RestController\r\n    @RequestMapping(&quot;/v0/boleto&quot;)\r\n    public class BoletaController {\r\n    (...)\r\n\r\n    @RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_PDF_VALUE)\r\n    public ResponseEntity&lt;InputStreamResource&gt; boleto(@Valid @RequestBody BoletoDTO dto) throws IOException {\r\n        (...)\r\n    }\r\n\r\n    @RequestMapping(value = &quot;/remessa&quot;, method = RequestMethod.POST, produces = MediaType.TEXT_PLAIN_VALUE)\r\n    public ResponseEntity&lt;InputStreamResource&gt; remessa(@Valid @RequestBody BoletoDTO dto) throws IOException {\r\n        (...)\r\n    }\r\n\r\n    }","title":"Custom bean validation is not being called at all","body":"<p>Can you please try to use:</p>\n<pre><code>@NotEmpty(message = &quot;Não foi informado nenhum título.&quot;)\nprivate List&lt;@Valid Titulo&gt; titulo;\n</code></pre>\n<p>Instead of:</p>\n<pre><code>@Valid\n@NotEmpty(message = &quot;Não foi informado nenhum título.&quot;)\nprivate List&lt;Titulo&gt; titulo;\n</code></pre>\n<p>Please add annotation @Valid for method remessa</p>\n<pre><code>package com.ats.boleta.controller;\n\n(...)\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/v0/boleto&quot;)\npublic class BoletaController {\n(...)\n\n@RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_PDF_VALUE)\npublic ResponseEntity&lt;InputStreamResource&gt; boleto(@Valid @RequestBody BoletoDTO dto) throws IOException {\n    (...)\n}\n\n@RequestMapping(value = &quot;/remessa&quot;, method = RequestMethod.POST, produces = MediaType.TEXT_PLAIN_VALUE)\npublic ResponseEntity&lt;InputStreamResource&gt; remessa(@Valid @RequestBody BoletoDTO dto) throws IOException {\n    (...)\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":345995,"reputation":6762,"user_id":679240,"accept_rate":61,"display_name":"Haroldo_OK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73501043,"answer_count":2,"score":0,"last_activity_date":1661519263,"creation_date":1661515671,"question_id":73500803,"body_markdown":"I&#39;m trying to create a custom bean validator, but, no matter what I do, the validator methods are not being called at all. All the other validation annotations are working perfectly.\r\n\r\nThis is the annotation:\r\n```java\r\npackage com.ats.boleta.validation;\r\n\r\nimport java.lang.annotation.Documented;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\nimport javax.validation.Constraint;\r\nimport javax.validation.Payload;\r\n\r\n@Target({ElementType.FIELD})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Constraint(validatedBy = MaxDateValidator.class)\r\n@Documented\r\npublic @interface MaxDate {\r\n\r\n    String message() default &quot;Data est&#225; acima do m&#225;ximo permitido.&quot;;\r\n    String string();\r\n    Class&lt;?&gt;[] groups() default {};\r\n    Class&lt;? extends Payload&gt;[] payload() default {};    \r\n\r\n}\r\n```\r\n\r\nThis is the validator:\r\n```java\r\npackage com.ats.boleta.validation;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.temporal.Temporal;\r\n\r\nimport javax.validation.ConstraintValidator;\r\nimport javax.validation.ConstraintValidatorContext;\r\n\r\n/**\r\n * @author Haroldo de Oliveira Pinheiro\r\n * @see https://gist.github.com/MottoX/e689adf41c22a531af4e18ce285690eb\r\n */\r\npublic class MaxDateValidator implements ConstraintValidator&lt;MaxDate, Temporal&gt; {\r\n\t\r\n\tprivate LocalDate maxValue;\r\n\t\r\n    @Override\r\n    public void initialize(MaxDate constraintAnnotation) {\r\n    \tthis.maxValue = LocalDate.parse(constraintAnnotation.string());\r\n    }\r\n\r\n    @Override\r\n    public boolean isValid(Temporal value, ConstraintValidatorContext context) {\r\n        return value == null || !LocalDate.from(value).isAfter(this.maxValue);\r\n    }\r\n}\r\n```\r\n\r\nThis is the main DTO that is being validated:\r\n```java\r\npackage com.ats.boleta.model.dto;\r\n\r\nimport java.util.List;\r\n\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.NotBlank;\r\nimport javax.validation.constraints.NotEmpty;\r\nimport javax.validation.constraints.NotNull;\r\n\r\nimport com.ats.boleta.model.Boleto;\r\nimport com.ats.boleta.model.Cedente;\r\nimport com.ats.boleta.model.Titulo;\r\nimport com.ats.boleta.validation.PrefixConstraint;\r\n\r\nimport lombok.Data;\r\nimport lombok.ToString;\r\n\r\n@Data\r\n@ToString\r\npublic class BoletoDTO {\r\n\r\n\t@NotBlank(message = &quot;Nome n&#227;o pode ficar em branco.&quot;)\r\n\tprivate String nome;\r\n\t\r\n\t@PrefixConstraint(message = &quot;Cedente&quot;)\r\n\t@NotNull(message = &quot;Cedente n&#227;o pode ficar em branco.&quot;)\r\n\tprivate Cedente cedente;\r\n\t\r\n\t@Valid\r\n\t@NotEmpty(message = &quot;N&#227;o foi informado nenhum t&#237;tulo.&quot;)\r\n\tprivate List&lt;Titulo&gt; titulo;\r\n\t\t\r\n}\r\n```\r\n\r\nAnd this is the child DTO where `@MaxDate` is being used:\r\n```java\r\n(...)\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Titulo {\r\n\r\n\t@NotBlank(message = &quot;N&#250;mero do documento n&#227;o pode ficar em branco.&quot;)\r\n\tprivate String numeroDocumento = &quot;&quot;;\r\n\t\r\n\tprivate Integer nossoNumero;\r\n\t\r\n\t@NotNull(message = &quot;Carteira n&#227;o pode ficar em branco.&quot;)\r\n\tprivate Integer carteira;\r\n\t\r\n\tprivate String valorDocumento = &quot;&quot;;\r\n\t\r\n\t@MaxDate(string = &quot;2099-12-31&quot;, message = &quot;Data de vencimento n&#227;o pode ser posterior a 2099&quot;)\r\n\tprivate LocalDate dataVencimento; \r\n\t(...)\r\n\t\r\n}\r\n\r\n```\r\n\r\nAnd this is the controller:\r\n```java\r\npackage com.ats.boleta.controller;\r\n\r\n(...)\r\n\r\n@Slf4j\r\n@RestController\r\n@RequestMapping(&quot;/v0/boleto&quot;)\r\npublic class BoletaController {\r\n\t(...)\r\n\r\n\t@RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_PDF_VALUE)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; boleto(@Valid @RequestBody BoletoDTO dto) throws IOException {\r\n\t\t(...)\r\n\t}\r\n\r\n\t@RequestMapping(value = &quot;/remessa&quot;, method = RequestMethod.POST, produces = MediaType.TEXT_PLAIN_VALUE)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; remessa(@RequestBody BoletoDTO dto) throws IOException {\r\n\t\t(...)\r\n\t}\r\n\r\n}\r\n```\r\n\r\nNo matter what I do, neither `MaxDateValidator.initialize(MaxDate)` nor `MaxDateValidator.isValid(Temporal, ConstraintValidatorContext)` are called, no matter what. No exception is thrown, no warnings appear in the log, none of the aforementioned methods are called. All of the other annotations work as intended.\r\n\r\nI have even tried to change the generic on `MaxDateValidator` to either `LocalDate` or even `Object`; nothing works.\r\n\r\nWhat could be causing this behavior? Is there any way to debug it? Are there any Spring logs that could be activated to check what would be going wrong?","title":"Custom bean validation is not being called at all","body":"<p>I'm trying to create a custom bean validator, but, no matter what I do, the validator methods are not being called at all. All the other validation annotations are working perfectly.</p>\n<p>This is the annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ats.boleta.validation;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\nimport javax.validation.Constraint;\nimport javax.validation.Payload;\n\n@Target({ElementType.FIELD})\n@Retention(RetentionPolicy.RUNTIME)\n@Constraint(validatedBy = MaxDateValidator.class)\n@Documented\npublic @interface MaxDate {\n\n    String message() default &quot;Data está acima do máximo permitido.&quot;;\n    String string();\n    Class&lt;?&gt;[] groups() default {};\n    Class&lt;? extends Payload&gt;[] payload() default {};    \n\n}\n</code></pre>\n<p>This is the validator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ats.boleta.validation;\n\nimport java.time.LocalDate;\nimport java.time.temporal.Temporal;\n\nimport javax.validation.ConstraintValidator;\nimport javax.validation.ConstraintValidatorContext;\n\n/**\n * @author Haroldo de Oliveira Pinheiro\n * @see https://gist.github.com/MottoX/e689adf41c22a531af4e18ce285690eb\n */\npublic class MaxDateValidator implements ConstraintValidator&lt;MaxDate, Temporal&gt; {\n    \n    private LocalDate maxValue;\n    \n    @Override\n    public void initialize(MaxDate constraintAnnotation) {\n        this.maxValue = LocalDate.parse(constraintAnnotation.string());\n    }\n\n    @Override\n    public boolean isValid(Temporal value, ConstraintValidatorContext context) {\n        return value == null || !LocalDate.from(value).isAfter(this.maxValue);\n    }\n}\n</code></pre>\n<p>This is the main DTO that is being validated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ats.boleta.model.dto;\n\nimport java.util.List;\n\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotBlank;\nimport javax.validation.constraints.NotEmpty;\nimport javax.validation.constraints.NotNull;\n\nimport com.ats.boleta.model.Boleto;\nimport com.ats.boleta.model.Cedente;\nimport com.ats.boleta.model.Titulo;\nimport com.ats.boleta.validation.PrefixConstraint;\n\nimport lombok.Data;\nimport lombok.ToString;\n\n@Data\n@ToString\npublic class BoletoDTO {\n\n    @NotBlank(message = &quot;Nome não pode ficar em branco.&quot;)\n    private String nome;\n    \n    @PrefixConstraint(message = &quot;Cedente&quot;)\n    @NotNull(message = &quot;Cedente não pode ficar em branco.&quot;)\n    private Cedente cedente;\n    \n    @Valid\n    @NotEmpty(message = &quot;Não foi informado nenhum título.&quot;)\n    private List&lt;Titulo&gt; titulo;\n        \n}\n</code></pre>\n<p>And this is the child DTO where <code>@MaxDate</code> is being used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>(...)\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Getter\n@Setter\n@ToString\npublic class Titulo {\n\n    @NotBlank(message = &quot;Número do documento não pode ficar em branco.&quot;)\n    private String numeroDocumento = &quot;&quot;;\n    \n    private Integer nossoNumero;\n    \n    @NotNull(message = &quot;Carteira não pode ficar em branco.&quot;)\n    private Integer carteira;\n    \n    private String valorDocumento = &quot;&quot;;\n    \n    @MaxDate(string = &quot;2099-12-31&quot;, message = &quot;Data de vencimento não pode ser posterior a 2099&quot;)\n    private LocalDate dataVencimento; \n    (...)\n    \n}\n\n</code></pre>\n<p>And this is the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.ats.boleta.controller;\n\n(...)\n\n@Slf4j\n@RestController\n@RequestMapping(&quot;/v0/boleto&quot;)\npublic class BoletaController {\n    (...)\n\n    @RequestMapping(method = RequestMethod.POST, produces = MediaType.APPLICATION_PDF_VALUE)\n    public ResponseEntity&lt;InputStreamResource&gt; boleto(@Valid @RequestBody BoletoDTO dto) throws IOException {\n        (...)\n    }\n\n    @RequestMapping(value = &quot;/remessa&quot;, method = RequestMethod.POST, produces = MediaType.TEXT_PLAIN_VALUE)\n    public ResponseEntity&lt;InputStreamResource&gt; remessa(@RequestBody BoletoDTO dto) throws IOException {\n        (...)\n    }\n\n}\n</code></pre>\n<p>No matter what I do, neither <code>MaxDateValidator.initialize(MaxDate)</code> nor <code>MaxDateValidator.isValid(Temporal, ConstraintValidatorContext)</code> are called, no matter what. No exception is thrown, no warnings appear in the log, none of the aforementioned methods are called. All of the other annotations work as intended.</p>\n<p>I have even tried to change the generic on <code>MaxDateValidator</code> to either <code>LocalDate</code> or even <code>Object</code>; nothing works.</p>\n<p>What could be causing this behavior? Is there any way to debug it? Are there any Spring logs that could be activated to check what would be going wrong?</p>\n"},{"tags":["java","logging","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":4686541,"reputation":709,"user_id":3793824,"display_name":"Krzysztof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661519230,"creation_date":1661519230,"answer_id":73501512,"question_id":73500233,"body_markdown":"You use `&lt;AppenderRef ref=&quot;File&quot;/&gt;` but appender `File` is not defined.\r\nIf you want to log everything to console, just change `File` to `Console`.\r\nIf you want to log to file, define `File` appender.","title":"Log4j2 no appenders could be found","body":"<p>You use <code>&lt;AppenderRef ref=&quot;File&quot;/&gt;</code> but appender <code>File</code> is not defined.\nIf you want to log everything to console, just change <code>File</code> to <code>Console</code>.\nIf you want to log to file, define <code>File</code> appender.</p>\n"}],"owner":{"account_id":1335235,"reputation":59,"user_id":1278159,"accept_rate":57,"display_name":"frankmyhre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661519230,"creation_date":1661512806,"question_id":73500233,"body_markdown":"After migrating from log4j v1.2 to log4j2, I have encountered some issues I am not sure how to solve. \r\n\r\nI believe I have managed to change my xml-configuration and the logger initialization in the class files I have, but the IDE tells me that *No appenders could be found for logger (org.apache.http.client.protocol.RequestAddCookies)*\r\n\r\nIt shouldn&#39;t be necessary to add a logger to classes/ packages I haven&#39;t created right? Maybe I am just missing the big picture here, but I hope you can guide me. \r\n\r\n[![dependencies][1]][1]\r\n\r\n\r\n[![Warning][2]][2]\r\n\r\n\r\n[![log4j.xml cibf][3]][3]\r\n\r\n\r\n[![initialization][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BIvgo.png\r\n  [2]: https://i.stack.imgur.com/VYfe2.png\r\n  [3]: https://i.stack.imgur.com/5ErCj.png\r\n  [4]: https://i.stack.imgur.com/CYVFl.png\r\n\r\nThanks in regards","title":"Log4j2 no appenders could be found","body":"<p>After migrating from log4j v1.2 to log4j2, I have encountered some issues I am not sure how to solve.</p>\n<p>I believe I have managed to change my xml-configuration and the logger initialization in the class files I have, but the IDE tells me that <em>No appenders could be found for logger (org.apache.http.client.protocol.RequestAddCookies)</em></p>\n<p>It shouldn't be necessary to add a logger to classes/ packages I haven't created right? Maybe I am just missing the big picture here, but I hope you can guide me.</p>\n<p><a href=\"https://i.stack.imgur.com/BIvgo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BIvgo.png\" alt=\"dependencies\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/VYfe2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VYfe2.png\" alt=\"Warning\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/5ErCj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ErCj.png\" alt=\"log4j.xml cibf\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CYVFl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CYVFl.png\" alt=\"initialization\" /></a></p>\n<p>Thanks in regards</p>\n"},{"tags":["java","http","http-headers"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1380198485,"post_id":19028068,"comment_id":28116319,"body_markdown":"See here : http://stackoverflow.com/questions/4400678/http-header-should-use-what-character-encoding","body":"See here : <a href=\"http://stackoverflow.com/questions/4400678/http-header-should-use-what-character-encoding\" title=\"http header should use what character encoding\">stackoverflow.com/questions/4400678/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1796004,"reputation":2709,"user_id":2109800,"display_name":"mc0e"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1597164656,"creation_date":1497961207,"answer_id":44652895,"question_id":19028068,"body_markdown":"\r\nThe relevant BNF from [RFC7230][1] is:\r\n\r\n    field-name = token\r\n    \r\n    token = 1*tchar\r\n    \r\n    tchar = &quot;!&quot; / &quot;#&quot; / &quot;$&quot; / &quot;%&quot; / &quot;&amp;&quot; / &quot;&#39;&quot; / &quot;*&quot; / &quot;+&quot; / &quot;-&quot; / \r\n            &quot;.&quot; / &quot;^&quot; / &quot;_&quot; / &quot;`&quot; / &quot;|&quot; / &quot;~&quot; / DIGIT / ALPHA\r\n   \r\nThe character set is visible USASCII.\r\n\r\nRFC 7230 is more recent than your question, but in the relevant particulars, it does not change what was formerly said by RFC 2616.\r\n\r\nThere&#39;s a very strong convention for field names which is much more restrictive than what the RFC allows, and this is enforced to various degrees in various implementations. Field Names usually follow a pattern of a sequence of [ASCII / NUMERAL] words with the first letter (only) of each word being capitalised.  The words are separated with a single hyphen.\r\n\r\nSo, for example &quot;HttpUrlConnection&quot; was supposed to be an HTTP Header name (rather than a java token), you&#39;d call it &#39;Http-Url-Connection&#39;.\r\n\r\nI dimly remember once tracking a bug down to some implementation being strict enough not to admit multiple capitals in one word (which happened to be an acronym).  I.e. it pays to follow this more restricted format very strictly.\r\n\r\n * Non ASCII character sets play no part in field-names, though they may be used in field values.\r\n\r\n * Escaping in field names is not supported by the standard.  Escaping of values is not hte concern of the HTTP or MIME standards, but you could choose to reuse the standard URL encoding method for encoding a set of name value pairs.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc7230","title":"Illegal characters in HTTP headers","body":"<p>The relevant BNF from <a href=\"https://www.rfc-editor.org/rfc/rfc7230\" rel=\"nofollow noreferrer\">RFC7230</a> is:</p>\n<pre><code>field-name = token\n\ntoken = 1*tchar\n\ntchar = &quot;!&quot; / &quot;#&quot; / &quot;$&quot; / &quot;%&quot; / &quot;&amp;&quot; / &quot;'&quot; / &quot;*&quot; / &quot;+&quot; / &quot;-&quot; / \n        &quot;.&quot; / &quot;^&quot; / &quot;_&quot; / &quot;`&quot; / &quot;|&quot; / &quot;~&quot; / DIGIT / ALPHA\n</code></pre>\n<p>The character set is visible USASCII.</p>\n<p>RFC 7230 is more recent than your question, but in the relevant particulars, it does not change what was formerly said by RFC 2616.</p>\n<p>There's a very strong convention for field names which is much more restrictive than what the RFC allows, and this is enforced to various degrees in various implementations. Field Names usually follow a pattern of a sequence of [ASCII / NUMERAL] words with the first letter (only) of each word being capitalised.  The words are separated with a single hyphen.</p>\n<p>So, for example &quot;HttpUrlConnection&quot; was supposed to be an HTTP Header name (rather than a java token), you'd call it 'Http-Url-Connection'.</p>\n<p>I dimly remember once tracking a bug down to some implementation being strict enough not to admit multiple capitals in one word (which happened to be an acronym).  I.e. it pays to follow this more restricted format very strictly.</p>\n<ul>\n<li><p>Non ASCII character sets play no part in field-names, though they may be used in field values.</p>\n</li>\n<li><p>Escaping in field names is not supported by the standard.  Escaping of values is not hte concern of the HTTP or MIME standards, but you could choose to reuse the standard URL encoding method for encoding a set of name value pairs.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23489314,"reputation":63,"user_id":17540546,"display_name":"Roland Gonczel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661518668,"creation_date":1661518668,"answer_id":73501394,"question_id":19028068,"body_markdown":"I had some similar problems, one character which is illegal was the newline for me. \r\n\r\nI let it here maybe it helps someone.","title":"Illegal characters in HTTP headers","body":"<p>I had some similar problems, one character which is illegal was the newline for me.</p>\n<p>I let it here maybe it helps someone.</p>\n"}],"owner":{"account_id":17529,"reputation":153981,"user_id":39321,"accept_rate":80,"display_name":"Svish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42273,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":2,"score":21,"last_activity_date":1661518668,"creation_date":1380197919,"question_id":19028068,"body_markdown":"I&#39;m creating an `HttpUrlConnection` and need to set multiple custom headers.\r\n\r\nI&#39;d like to do something along the lines of the following, but the contents of the header map needs to come from a single string. Are there any characters that are illegal or extremely rarely used in both HTTP header names and HTTP header values?\r\n\r\n    HashMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\r\n\r\n    // TODO: How can I fill the headers map reliably from a single string?\r\n\r\n    HttpURLConnection c = (HttpURLConnection) url.openConnection();\r\n    for(Map.Entry&lt;String, String&gt; e : headers.entrySet())\r\n        c.setRequestProperty(e.getKey(), e.getValue());\r\n\r\n---\r\n\r\n**Solution for now**\r\n\r\nDoesn&#39;t seem like any HTTP header names contain any spaces (usually use dash instead?), so I can separate the name with the value using a single space. As for the name-value sets, it seems I&#39;m screwed since the value can contain pretty much anything according to the given answer. So I&#39;ve just picked a character I&#39;m pretty sure will most likely never be used: `&#167;`. If it turns out it is actually needed, I&#39;ll just have to adjust my code :p\r\n\r\n    Header1 Value1&#167;Header2 Value2&#167;Header3 Header3","title":"Illegal characters in HTTP headers","body":"<p>I'm creating an <code>HttpUrlConnection</code> and need to set multiple custom headers.</p>\n\n<p>I'd like to do something along the lines of the following, but the contents of the header map needs to come from a single string. Are there any characters that are illegal or extremely rarely used in both HTTP header names and HTTP header values?</p>\n\n<pre><code>HashMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\n\n// TODO: How can I fill the headers map reliably from a single string?\n\nHttpURLConnection c = (HttpURLConnection) url.openConnection();\nfor(Map.Entry&lt;String, String&gt; e : headers.entrySet())\n    c.setRequestProperty(e.getKey(), e.getValue());\n</code></pre>\n\n<hr>\n\n<p><strong>Solution for now</strong></p>\n\n<p>Doesn't seem like any HTTP header names contain any spaces (usually use dash instead?), so I can separate the name with the value using a single space. As for the name-value sets, it seems I'm screwed since the value can contain pretty much anything according to the given answer. So I've just picked a character I'm pretty sure will most likely never be used: <code>§</code>. If it turns out it is actually needed, I'll just have to adjust my code :p</p>\n\n<pre><code>Header1 Value1§Header2 Value2§Header3 Header3\n</code></pre>\n"},{"tags":["java","apache-camel","univocity"],"answers":[{"tags":[],"owner":{"account_id":17908415,"reputation":1,"user_id":13011024,"display_name":"Boris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661518584,"creation_date":1661518531,"answer_id":73501359,"question_id":69711614,"body_markdown":"Add a new line at the end of the file and it will work.\r\nThe headers are set to null in this method when the last line is read. (Unmarshaller class).\r\n\r\n            @Override\r\n        protected Map&lt;String, String&gt; convertRow(String[] row) {\r\n            String[] headers = headerRowProcessor.getHeaders();\r\n\r\n            int size = Math.min(row.length, headers.length);\r\nAnd after debugging i saw that this method(HeadersRowProcessor.class) is executed before converting the last row (withouth an empty line)\r\n \r\n\r\n       @Override\r\n        public void processEnded(ParsingContext context) {\r\n            headers = null;\r\n        }","title":"Apache Camel: Univocity Map Unmarshalling NullPointer","body":"<p>Add a new line at the end of the file and it will work.\nThe headers are set to null in this method when the last line is read. (Unmarshaller class).</p>\n<pre><code>        @Override\n    protected Map&lt;String, String&gt; convertRow(String[] row) {\n        String[] headers = headerRowProcessor.getHeaders();\n\n        int size = Math.min(row.length, headers.length);\n</code></pre>\n<p>And after debugging i saw that this method(HeadersRowProcessor.class) is executed before converting the last row (withouth an empty line)</p>\n<pre><code>   @Override\n    public void processEnded(ParsingContext context) {\n        headers = null;\n    }\n</code></pre>\n"}],"owner":{"account_id":23139043,"reputation":1,"user_id":17242843,"display_name":"Kirst"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661518584,"creation_date":1635179165,"question_id":69711614,"body_markdown":"Good afternoon, playing around with Univocity CSV unmarshalling. Using this route works fine for marshalling to a list but using the asMap=true option fails with a Nullpointer exception. Is there anything obvious missing? Currently using Spring Boot 2.5.5 and Apache Camel 3.12.0.\r\n\r\n        @Override\r\n    public void configure() {\r\n\r\n        log.info(&quot;StartApplication...Camel&quot;);\r\n\r\n\r\n            UniVocityCsvDataFormat dataFormat = new UniVocityCsvDataFormat()\r\n                    .setNullValue(&quot;N/A&quot;)\r\n                    .setLazyLoad(true)\r\n                    .setAsMap(true);\r\n            from(&quot;file://source/?idempotent=false&amp;delete=false&quot;)\r\n                    .startupOrder(1)\r\n                    .autoStartup(true)\r\n                    .routeId(&quot;read-csv&quot;)\r\n                    .log(&quot;Filename:${file:name}&quot;)\r\n                    .unmarshal(dataFormat).split().body()\r\n                    .log(&quot;${body}&quot;);\r\n        log.info(&quot;StopApplication...Camel&quot;);\r\n       \r\n    }\r\nThis is the error that shown with asMap=true, but it works with asMap=false.\r\n\r\n    java.lang.NullPointerException: null\r\n\tat org.apache.camel.dataformat.univocity.Unmarshaller$MapRowIterator.convertRow(Unmarshaller.java:188) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.dataformat.univocity.Unmarshaller$MapRowIterator.convertRow(Unmarshaller.java:167) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.dataformat.univocity.Unmarshaller$RowIterator.next(Unmarshaller.java:116) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.dataformat.univocity.Unmarshaller.convertToList(Unmarshaller.java:74) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.dataformat.univocity.Unmarshaller.unmarshal(Unmarshaller.java:61) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.dataformat.univocity.AbstractUniVocityDataFormat.unmarshal(AbstractUniVocityDataFormat.java:128) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:64) ~[camel-support-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:469) ~[camel-core-processor-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:179) ~[camel-base-engine-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64) ~[camel-base-engine-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.processor.Pipeline.process(Pipeline.java:184) ~[camel-core-processor-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:399) ~[camel-base-engine-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:191) ~[camel-support-3.12.0.jar:3.12.0]\r\n\tat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:108) ~[camel-support-3.12.0.jar:3.12.0]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]","title":"Apache Camel: Univocity Map Unmarshalling NullPointer","body":"<p>Good afternoon, playing around with Univocity CSV unmarshalling. Using this route works fine for marshalling to a list but using the asMap=true option fails with a Nullpointer exception. Is there anything obvious missing? Currently using Spring Boot 2.5.5 and Apache Camel 3.12.0.</p>\n<pre><code>    @Override\npublic void configure() {\n\n    log.info(&quot;StartApplication...Camel&quot;);\n\n\n        UniVocityCsvDataFormat dataFormat = new UniVocityCsvDataFormat()\n                .setNullValue(&quot;N/A&quot;)\n                .setLazyLoad(true)\n                .setAsMap(true);\n        from(&quot;file://source/?idempotent=false&amp;delete=false&quot;)\n                .startupOrder(1)\n                .autoStartup(true)\n                .routeId(&quot;read-csv&quot;)\n                .log(&quot;Filename:${file:name}&quot;)\n                .unmarshal(dataFormat).split().body()\n                .log(&quot;${body}&quot;);\n    log.info(&quot;StopApplication...Camel&quot;);\n   \n}\n</code></pre>\n<p>This is the error that shown with asMap=true, but it works with asMap=false.</p>\n<pre><code>java.lang.NullPointerException: null\nat org.apache.camel.dataformat.univocity.Unmarshaller$MapRowIterator.convertRow(Unmarshaller.java:188) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\nat org.apache.camel.dataformat.univocity.Unmarshaller$MapRowIterator.convertRow(Unmarshaller.java:167) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\nat org.apache.camel.dataformat.univocity.Unmarshaller$RowIterator.next(Unmarshaller.java:116) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\nat org.apache.camel.dataformat.univocity.Unmarshaller.convertToList(Unmarshaller.java:74) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\nat org.apache.camel.dataformat.univocity.Unmarshaller.unmarshal(Unmarshaller.java:61) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\nat org.apache.camel.dataformat.univocity.AbstractUniVocityDataFormat.unmarshal(AbstractUniVocityDataFormat.java:128) ~[camel-univocity-parsers-3.12.0.jar:3.12.0]\nat org.apache.camel.support.processor.UnmarshalProcessor.process(UnmarshalProcessor.java:64) ~[camel-support-3.12.0.jar:3.12.0]\nat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:469) ~[camel-core-processor-3.12.0.jar:3.12.0]\nat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:179) ~[camel-base-engine-3.12.0.jar:3.12.0]\nat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:64) ~[camel-base-engine-3.12.0.jar:3.12.0]\nat org.apache.camel.processor.Pipeline.process(Pipeline.java:184) ~[camel-core-processor-3.12.0.jar:3.12.0]\nat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:399) ~[camel-base-engine-3.12.0.jar:3.12.0]\nat org.apache.camel.component.file.GenericFileConsumer.processExchange(GenericFileConsumer.java:492) ~[camel-file-3.12.0.jar:3.12.0]\nat org.apache.camel.component.file.GenericFileConsumer.processBatch(GenericFileConsumer.java:245) ~[camel-file-3.12.0.jar:3.12.0]\nat org.apache.camel.component.file.GenericFileConsumer.poll(GenericFileConsumer.java:206) ~[camel-file-3.12.0.jar:3.12.0]\nat org.apache.camel.support.ScheduledPollConsumer.doRun(ScheduledPollConsumer.java:191) ~[camel-support-3.12.0.jar:3.12.0]\nat org.apache.camel.support.ScheduledPollConsumer.run(ScheduledPollConsumer.java:108) ~[camel-support-3.12.0.jar:3.12.0]\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\nat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\nat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\nat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n</code></pre>\n"},{"tags":["java","opencv"],"answers":[{"tags":[],"owner":{"account_id":4142240,"reputation":30761,"user_id":4926757,"accept_rate":0,"display_name":"Rotem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584897970,"creation_date":1584897970,"answer_id":60802596,"question_id":60788366,"body_markdown":"You can find the **largest** contour and **second largest** contour.  \r\n\r\nSuggested stages:  \r\n\r\n - Convert image to Grayscale (as you did).\r\n - Draw thick white rectangle around the image - making sure there is not black contour around the image.\r\n - Apply threshold and convert to binary (as you did).  \r\nThe code I posted also inverse polarity, for the contours to be white.  \r\n - Find contours.  \r\nUse `RETR_EXTERNAL` instead of `RETR_TREE`, because you don&#39;t need to find contours within contours.\r\n - Iterate the contours, and find the one with the largest area, and the one with the second largest area.  \r\nThe contours with the largest area is the lower rectangle.  \r\nThe contours with the second largest area is the upper rectangle.  \r\n\r\nHere is a Python implementation (not JAVA, but close enough):  \r\n\r\n&lt;!-- language: lang-python --&gt;\r\n\r\n    import cv2\r\n    \r\n    # Read input image\r\n    img = cv2.imread(&#39;image.png&#39;)\r\n    \r\n    # Draw thick rectangle around the image - making sure there is not black contour around the image\r\n    cv2.rectangle(img, (0, 0), (img.shape[1], img.shape[0]), (255, 255, 255), thickness = 5)\r\n    \r\n    # Convert from BGR to Grayscale\r\n    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\r\n    \r\n    # Apply threshold on gray image - use automatic threshold algorithm (use THRESH_OTSU) and invert polarity.\r\n    ret, thresh = cv2.threshold(gray, 0, 255, cv2.THRESH_BINARY_INV+cv2.THRESH_OTSU)\r\n    \r\n    # Find contours\r\n    cnts, heir = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE)\r\n    \r\n    \r\n    max_a = 0  # Maximum area\r\n    smax_a = 0 # Second maximum area\r\n    \r\n    max_c = []  # Contour with maximum area\r\n    smax_c = [] # Contour with second maximum area (maximum excluding max_c)\r\n    \r\n    # Iterate contours\r\n    for c in cnts:\r\n        area = cv2.contourArea(c)\r\n        if area &gt; max_a:    # If area is grater than maximum, second max = max, and max = area\r\n            smax_a = max_a\r\n            smax_c = max_c  # Second max contour gets maximum contour\r\n            max_a = area\r\n            max_c = c       # Maximum contour gets c\r\n        elif area &gt; smax_a: # If area is grater than second maximum, replace second maximum\r\n            smax_a = area\r\n            smax_c = c\r\n    \r\n    #Get bounding rectangle of contour with maximum area, and mark it with green rectangle\r\n    x, y, w, h = cv2.boundingRect(max_c)\r\n    cv2.rectangle(img, (x, y), (x+w, y+h), (0, 255, 0), thickness = 2)\r\n    \r\n    #Get bounding rectangle of contour with second maximum area, and mark it with blue rectangle\r\n    x, y, w, h = cv2.boundingRect(smax_c)\r\n    cv2.rectangle(img, (x, y), (x+w, y+h), (255, 0, 0), thickness = 2)\r\n    \r\n    # Show result (for testing).\r\n    cv2.imshow(&#39;img&#39;, img)\r\n    cv2.waitKey(0)\r\n    cv2.destroyAllWindows()\r\n\r\n---\r\n\r\nResult:  \r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/z7Lk7.png","title":"Opencv can detect one out of two different size rectangles in the same paper","body":"<p>You can find the <strong>largest</strong> contour and <strong>second largest</strong> contour.  </p>\n\n<p>Suggested stages:  </p>\n\n<ul>\n<li>Convert image to Grayscale (as you did).</li>\n<li>Draw thick white rectangle around the image - making sure there is not black contour around the image.</li>\n<li>Apply threshold and convert to binary (as you did).<br>\nThe code I posted also inverse polarity, for the contours to be white.  </li>\n<li>Find contours.<br>\nUse <code>RETR_EXTERNAL</code> instead of <code>RETR_TREE</code>, because you don't need to find contours within contours.</li>\n<li>Iterate the contours, and find the one with the largest area, and the one with the second largest area.<br>\nThe contours with the largest area is the lower rectangle.<br>\nThe contours with the second largest area is the upper rectangle.  </li>\n</ul>\n\n<p>Here is a Python implementation (not JAVA, but close enough):  </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>import cv2\n\n# Read input image\nimg = cv2.imread('image.png')\n\n# Draw thick rectangle around the image - making sure there is not black contour around the image\ncv2.rectangle(img, (0, 0), (img.shape[1], img.shape[0]), (255, 255, 255), thickness = 5)\n\n# Convert from BGR to Grayscale\ngray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)\n\n# Apply threshold on gray image - use automatic threshold algorithm (use THRESH_OTSU) and invert polarity.\nret, thresh = cv2.threshold(gray, 0, 255, cv2.THRESH_BINARY_INV+cv2.THRESH_OTSU)\n\n# Find contours\ncnts, heir = cv2.findContours(thresh, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE)\n\n\nmax_a = 0  # Maximum area\nsmax_a = 0 # Second maximum area\n\nmax_c = []  # Contour with maximum area\nsmax_c = [] # Contour with second maximum area (maximum excluding max_c)\n\n# Iterate contours\nfor c in cnts:\n    area = cv2.contourArea(c)\n    if area &gt; max_a:    # If area is grater than maximum, second max = max, and max = area\n        smax_a = max_a\n        smax_c = max_c  # Second max contour gets maximum contour\n        max_a = area\n        max_c = c       # Maximum contour gets c\n    elif area &gt; smax_a: # If area is grater than second maximum, replace second maximum\n        smax_a = area\n        smax_c = c\n\n#Get bounding rectangle of contour with maximum area, and mark it with green rectangle\nx, y, w, h = cv2.boundingRect(max_c)\ncv2.rectangle(img, (x, y), (x+w, y+h), (0, 255, 0), thickness = 2)\n\n#Get bounding rectangle of contour with second maximum area, and mark it with blue rectangle\nx, y, w, h = cv2.boundingRect(smax_c)\ncv2.rectangle(img, (x, y), (x+w, y+h), (255, 0, 0), thickness = 2)\n\n# Show result (for testing).\ncv2.imshow('img', img)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<hr>\n\n<p>Result:<br>\n<a href=\"https://i.stack.imgur.com/z7Lk7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z7Lk7.png\" alt=\"enter image description here\"></a> </p>\n"}],"owner":{"account_id":18022755,"reputation":21,"user_id":13099530,"display_name":"labogeorge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60802596,"answer_count":1,"score":1,"last_activity_date":1661518323,"creation_date":1584797316,"question_id":60788366,"body_markdown":"i am a newcomer in OpenCV and i am creating an OMR(Optical Mark Recognition) system in Java in order to detect the answers on a multiple choice paper sheet.I have created a form that consists of one big rectangle that is used for answering the questions by drawing the right circle, and one smaller rectangle that is for detecting a unique number that is the identity of the one answering.\nHere is the image of the form:[![Multiple choice sheet][1]][1]\n\nNow my programm is detecting the upper rectangle the AM one but cannot detect the bigger one. My image is passing though 6 stages 1st dilation,2nd gray, 3rd threshold,4th blur,5th canny and 6th adaptiveThreshold. Here you can see that\n       \n        dilated1 = new Mat(source1.size(), CV_8UC1);\n        dilate(source1, dilated1, getStructuringElement(MORPH_RECT, new Size(3, 3)));\n        \n        gray1 = new Mat(dilated1.size(), CV_8UC1);\n        cvtColor(dilated1, gray1, COLOR_BGR2GRAY);\n\n        thresh1 = new Mat(gray1.rows(), gray1.cols(), gray1.type());\n        threshold(gray1, thresh1, 0, 255, THRESH_BINARY + THRESH_OTSU );\n\n        blur1 = new Mat(thresh1.size(), CV_8UC1);\n        blur(gray1, blur1, new Size(5.,5.));\n\n        canny1 = new Mat(blur1.size(), CV_8UC1);\n        Canny(blur1, canny1,160, 80);\n\n        adaptiveThresh1 = new Mat(canny1.rows(), gray1.cols(), gray1.type());\n        adaptiveThreshold(canny1, adaptiveThresh1, 255, ADAPTIVE_THRESH_GAUSSIAN_C, THRESH_BINARY, 11,2);\nI am also using findContours like that \n\n`findContours(adaptiveThresh1.clone(), contours1, hierarchy1, RETR_TREE, CHAIN_APPROX_SIMPLE);`\n\nI have created two different java classes because there are other things to detect in the small rectangle and other on the bigger. The code above is what i am using in order to try detecting the bigger rectangle. I have tried many different numbers in all the steps and still nothing.\n\nWhen i am using only the bigger rectangle in an image it works just fine, but in combination with the other one it cannot detect it. It&#39;s for my thesis and its really important for me. Any help is appreciated and whatever you want me to add in order to help you please let me know. \n\n  [1]: https://i.stack.imgur.com/EnYOh.png","title":"Opencv can detect one out of two different size rectangles in the same paper","body":"<p>i am a newcomer in OpenCV and i am creating an OMR(Optical Mark Recognition) system in Java in order to detect the answers on a multiple choice paper sheet.I have created a form that consists of one big rectangle that is used for answering the questions by drawing the right circle, and one smaller rectangle that is for detecting a unique number that is the identity of the one answering.\nHere is the image of the form:<a href=\"https://i.stack.imgur.com/EnYOh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EnYOh.png\" alt=\"Multiple choice sheet\" /></a></p>\n<p>Now my programm is detecting the upper rectangle the AM one but cannot detect the bigger one. My image is passing though 6 stages 1st dilation,2nd gray, 3rd threshold,4th blur,5th canny and 6th adaptiveThreshold. Here you can see that</p>\n<pre><code>    dilated1 = new Mat(source1.size(), CV_8UC1);\n    dilate(source1, dilated1, getStructuringElement(MORPH_RECT, new Size(3, 3)));\n    \n    gray1 = new Mat(dilated1.size(), CV_8UC1);\n    cvtColor(dilated1, gray1, COLOR_BGR2GRAY);\n\n    thresh1 = new Mat(gray1.rows(), gray1.cols(), gray1.type());\n    threshold(gray1, thresh1, 0, 255, THRESH_BINARY + THRESH_OTSU );\n\n    blur1 = new Mat(thresh1.size(), CV_8UC1);\n    blur(gray1, blur1, new Size(5.,5.));\n\n    canny1 = new Mat(blur1.size(), CV_8UC1);\n    Canny(blur1, canny1,160, 80);\n\n    adaptiveThresh1 = new Mat(canny1.rows(), gray1.cols(), gray1.type());\n    adaptiveThreshold(canny1, adaptiveThresh1, 255, ADAPTIVE_THRESH_GAUSSIAN_C, THRESH_BINARY, 11,2);\n</code></pre>\n<p>I am also using findContours like that</p>\n<p><code>findContours(adaptiveThresh1.clone(), contours1, hierarchy1, RETR_TREE, CHAIN_APPROX_SIMPLE);</code></p>\n<p>I have created two different java classes because there are other things to detect in the small rectangle and other on the bigger. The code above is what i am using in order to try detecting the bigger rectangle. I have tried many different numbers in all the steps and still nothing.</p>\n<p>When i am using only the bigger rectangle in an image it works just fine, but in combination with the other one it cannot detect it. It's for my thesis and its really important for me. Any help is appreciated and whatever you want me to add in order to help you please let me know.</p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"score":0,"creation_date":1661515747,"post_id":73500284,"comment_id":129796590,"body_markdown":"You will have to mock the class for &quot;utils&quot; reference variable for mock.when() to be used. Debug and check if a mock is returned for utils in the class under test.\n\nIf possible share how Utils is defined in your class","body":"You will have to mock the class for &quot;utils&quot; reference variable for mock.when() to be used. Debug and check if a mock is returned for utils in the class under test.  If possible share how Utils is defined in your class"}],"answers":[{"tags":[],"owner":{"account_id":4522916,"reputation":1224,"user_id":3675565,"display_name":"AntJavaDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661517918,"creation_date":1661515892,"answer_id":73500841,"question_id":73500284,"body_markdown":"Testing a method and the actual coverage are the targets defined while implementing it. Following the TDD principles on the best scenarios, tests are created on the same time as the method is being implemented, so that you can pick easily design/dependency problems and avoid them.\r\nIn that way the method would be constantly refactored so that the code remains simple and it can be properly tested and write a test class. Going the opposite way on large services / big flows, usually is not easy, as you would end up mocking every single dependency/entity required and miss the actual test purpose.\r\n\r\nThis means that you would define your actual test coverage, based on the scope and the areas you consider as most harmful. \r\n\r\n\r\nSharing some ideas.\r\n\r\nImagine that you have to write a test for the below method :\r\n\r\n    public int sum(int a, int b) {\r\n    \treturn a + b;\r\n    }\r\n\r\nThings are very simple here, no dependencies(dao,services) and we know what we expect.\r\nThe only question that rises, is whether we would need numeric validation etc, but thats again on the actual scope.\r\n\r\nSo our test would be something like (simpler code, simpler the test) :\r\n\r\n    assertEquals(5, aBean.sum(2,3));\r\n\r\nGetting on your sample again sharing an idea on how you can break it up, based on the implementation by looking on the most important areas:\r\n\r\n - DAO wiring\r\n\r\nTesting against the actual dependency injection, to confirm that bean creation is successful. Of course this is a container matter, so you would need to check this in very specific occasions. \r\n - Switch case\r\n\r\nVerifying that the switch case is working of course is not required, but verifying that the expected methods are executed in each action is a good point.\r\n - DB operation\r\n\r\nThis is more extreme as it requires external integration either with a mock or a development DataBase. We need to verify that the method does what it says, so we actually need to verify that the sample.entry has been indeed removed from the database. \r\nThe last point might be your full coverage, as it would cover both that the actions are getting executed and that the expected result is confirmed.\r\n\r\nI would also suggest to take a look on TDD practices and some samples with Junit + Mockito to check the usages of Mockito.when, Mockito.verify, Spies.\r\n","title":"How to test a switch case method with JUnit and Mockito","body":"<p>Testing a method and the actual coverage are the targets defined while implementing it. Following the TDD principles on the best scenarios, tests are created on the same time as the method is being implemented, so that you can pick easily design/dependency problems and avoid them.\nIn that way the method would be constantly refactored so that the code remains simple and it can be properly tested and write a test class. Going the opposite way on large services / big flows, usually is not easy, as you would end up mocking every single dependency/entity required and miss the actual test purpose.</p>\n<p>This means that you would define your actual test coverage, based on the scope and the areas you consider as most harmful.</p>\n<p>Sharing some ideas.</p>\n<p>Imagine that you have to write a test for the below method :</p>\n<pre><code>public int sum(int a, int b) {\n    return a + b;\n}\n</code></pre>\n<p>Things are very simple here, no dependencies(dao,services) and we know what we expect.\nThe only question that rises, is whether we would need numeric validation etc, but thats again on the actual scope.</p>\n<p>So our test would be something like (simpler code, simpler the test) :</p>\n<pre><code>assertEquals(5, aBean.sum(2,3));\n</code></pre>\n<p>Getting on your sample again sharing an idea on how you can break it up, based on the implementation by looking on the most important areas:</p>\n<ul>\n<li>DAO wiring</li>\n</ul>\n<p>Testing against the actual dependency injection, to confirm that bean creation is successful. Of course this is a container matter, so you would need to check this in very specific occasions.</p>\n<ul>\n<li>Switch case</li>\n</ul>\n<p>Verifying that the switch case is working of course is not required, but verifying that the expected methods are executed in each action is a good point.</p>\n<ul>\n<li>DB operation</li>\n</ul>\n<p>This is more extreme as it requires external integration either with a mock or a development DataBase. We need to verify that the method does what it says, so we actually need to verify that the sample.entry has been indeed removed from the database.\nThe last point might be your full coverage, as it would cover both that the actions are getting executed and that the expected result is confirmed.</p>\n<p>I would also suggest to take a look on TDD practices and some samples with Junit + Mockito to check the usages of Mockito.when, Mockito.verify, Spies.</p>\n"},{"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661516420,"creation_date":1661516420,"answer_id":73500948,"question_id":73500284,"body_markdown":"```\r\n    @ParameterizedTest\r\n    @ValueSource(strings = {&quot;DEL ORDER&quot;, &quot;DEL ITEM&quot;})\r\n    void testMethod(String action) {\r\n        Mockito.when(this.utils.getString()).thenReturn(action);\r\n\r\n        Mockito.when(utils.getLong()).thenReturn(order_id);\r\n        Mockito.when(dao.delete(order_id)).thenReturn(1);\r\n\r\n        switch (action) {\r\n            case &quot;DEL ORDER&quot;:\r\n                verify(dao).delete(anyLong());\r\n                break;\r\n            case &quot;DEL ITEM&quot;:\r\n                verify(dao).itemDelete(anyLong(), anyLong());\r\n                break;\r\n            default:\r\n                verifyNoInteractions(dao);\r\n        }\r\n\r\n        verifyNoMoreInteractions(dao);\r\n    }\r\n```","title":"How to test a switch case method with JUnit and Mockito","body":"<pre><code>    @ParameterizedTest\n    @ValueSource(strings = {&quot;DEL ORDER&quot;, &quot;DEL ITEM&quot;})\n    void testMethod(String action) {\n        Mockito.when(this.utils.getString()).thenReturn(action);\n\n        Mockito.when(utils.getLong()).thenReturn(order_id);\n        Mockito.when(dao.delete(order_id)).thenReturn(1);\n\n        switch (action) {\n            case &quot;DEL ORDER&quot;:\n                verify(dao).delete(anyLong());\n                break;\n            case &quot;DEL ITEM&quot;:\n                verify(dao).itemDelete(anyLong(), anyLong());\n                break;\n            default:\n                verifyNoInteractions(dao);\n        }\n\n        verifyNoMoreInteractions(dao);\n    }\n</code></pre>\n"}],"owner":{"account_id":17529657,"reputation":11,"user_id":13344053,"display_name":"Jade P."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":547,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661517918,"creation_date":1661513077,"question_id":73500284,"body_markdown":"Ok so, I need to test this method which contains a switch case statement:\r\n\r\n```\r\n@Override\r\n\tpublic int delete() {\r\n\t\tLOGGER.info(&quot;--------------------------------------------------------------------------------------------------\\n&quot;\r\n\t\t\t\t+ &quot;Please select whether you would like to delete the entire order, or an item from the order&quot;);\r\n        LOGGER.info(&quot;DEL ORDER/DEL ITEM&quot;);\r\n        String action = utils.getString();\r\n        action = action.toUpperCase();\r\n        switch (action) {\r\n        \r\n        \r\n            case &quot;DEL ORDER&quot;:\r\n                LOGGER.info(&quot;--------------------------------------------------------------------------------------------------\\n&quot;\r\n                \t\t+ &quot;Please enter the order id of the order you would like to delete:&quot;);\r\n                Long order_id = utils.getLong();\r\n                orderDAO.delete(order_id);\r\n                LOGGER.info(&quot;------------------------------Order has successfully been deleted!------------------------------&quot;);\r\n                break;\r\n                \r\n                \r\n            case &quot;DEL ITEM&quot;:\r\n            \tLOGGER.info(&quot;--------------------------------------------------------------------------------------------------\\n&quot;\r\n        \t\t\t\t+ &quot;Please enter the order id you would like to delete an item from:&quot;);\r\n                Long order_id2 = utils.getLong();\r\n                LOGGER.info(&quot;Please enter the item id you would like to delete from the order:&quot;);\r\n                Long item_id = utils.getLong();\r\n                orderDAO.itemDelete(order_id2, item_id);\r\n                LOGGER.info(&quot;------------------------------Item from order has successfully been deleted!------------------------------&quot;);\r\n                break;\r\n                \r\n                \r\n            default:\r\n                LOGGER.info(&quot;Invalid input, please try again!&quot;);\r\n                return 0;\r\n        }\r\n        return 0;\r\n\r\n    }\r\n```\r\n\r\nbut what I&#39;ve got so far isn&#39;t giving me any coverage at all! Not sure where I&#39;m going wrong but it&#39;s all in red... I assumed I could split it into two testing methods as they are separate &quot;branches&quot; of the switch statement, so I&#39;m not sure why this isn&#39;t working. I know the code itself works as I have tested it with SQL entries.\r\n\r\n```\r\n\r\n@Test\r\n\tpublic void testDeleteOrder() {\r\n\t\tlong order_id = 1L;\r\n\t\tString action = &quot;DEL ORDER&quot;;\r\n\t\tMockito.when(this.utils.getString()).thenReturn(action);\r\n\t\t\r\n\t\tMockito.when(utils.getLong()).thenReturn(order_id);\r\n\t\tMockito.when(dao.delete(order_id)).thenReturn(1);\r\n\r\n//\t\tassertEquals(1, this.controller.delete());\r\n//\r\n//\t\tMockito.verify(utils, Mockito.times(1)).getLong();\r\n//\t\tMockito.verify(dao, Mockito.times(1)).delete(order_id);\r\n\t}\r\n//\t\r\n//\tpublic void testDeleteItem() {\r\n//\t\tlong order_id2 = 1L;\r\n//\t\tlong item_id = 1L;\r\n//\t\tString action = &quot;DEL ITEM&quot;;\r\n//\t\tMockito.when(this.utils.getString()).thenReturn(action);\r\n//\t\tMockito.when(utils.getLong()).thenReturn(order_id2);\r\n//\t\tMockito.when(utils.getLong()).thenReturn(item_id);\r\n//\t\tMockito.when(dao.itemDelete(order_id2, item_id)).thenReturn(1);\r\n////\r\n////\t\tassertEquals(1, this.controller.delete());\r\n////\r\n////\t\tMockito.verify(utils, Mockito.times(2)).getLong();\r\n////\t\tMockito.verify(dao, Mockito.times(1)).itemDelete(order_id2, item_id);\r\n//\t}\r\n```\r\n","title":"How to test a switch case method with JUnit and Mockito","body":"<p>Ok so, I need to test this method which contains a switch case statement:</p>\n<pre><code>@Override\n    public int delete() {\n        LOGGER.info(&quot;--------------------------------------------------------------------------------------------------\\n&quot;\n                + &quot;Please select whether you would like to delete the entire order, or an item from the order&quot;);\n        LOGGER.info(&quot;DEL ORDER/DEL ITEM&quot;);\n        String action = utils.getString();\n        action = action.toUpperCase();\n        switch (action) {\n        \n        \n            case &quot;DEL ORDER&quot;:\n                LOGGER.info(&quot;--------------------------------------------------------------------------------------------------\\n&quot;\n                        + &quot;Please enter the order id of the order you would like to delete:&quot;);\n                Long order_id = utils.getLong();\n                orderDAO.delete(order_id);\n                LOGGER.info(&quot;------------------------------Order has successfully been deleted!------------------------------&quot;);\n                break;\n                \n                \n            case &quot;DEL ITEM&quot;:\n                LOGGER.info(&quot;--------------------------------------------------------------------------------------------------\\n&quot;\n                        + &quot;Please enter the order id you would like to delete an item from:&quot;);\n                Long order_id2 = utils.getLong();\n                LOGGER.info(&quot;Please enter the item id you would like to delete from the order:&quot;);\n                Long item_id = utils.getLong();\n                orderDAO.itemDelete(order_id2, item_id);\n                LOGGER.info(&quot;------------------------------Item from order has successfully been deleted!------------------------------&quot;);\n                break;\n                \n                \n            default:\n                LOGGER.info(&quot;Invalid input, please try again!&quot;);\n                return 0;\n        }\n        return 0;\n\n    }\n</code></pre>\n<p>but what I've got so far isn't giving me any coverage at all! Not sure where I'm going wrong but it's all in red... I assumed I could split it into two testing methods as they are separate &quot;branches&quot; of the switch statement, so I'm not sure why this isn't working. I know the code itself works as I have tested it with SQL entries.</p>\n<pre><code>\n@Test\n    public void testDeleteOrder() {\n        long order_id = 1L;\n        String action = &quot;DEL ORDER&quot;;\n        Mockito.when(this.utils.getString()).thenReturn(action);\n        \n        Mockito.when(utils.getLong()).thenReturn(order_id);\n        Mockito.when(dao.delete(order_id)).thenReturn(1);\n\n//      assertEquals(1, this.controller.delete());\n//\n//      Mockito.verify(utils, Mockito.times(1)).getLong();\n//      Mockito.verify(dao, Mockito.times(1)).delete(order_id);\n    }\n//  \n//  public void testDeleteItem() {\n//      long order_id2 = 1L;\n//      long item_id = 1L;\n//      String action = &quot;DEL ITEM&quot;;\n//      Mockito.when(this.utils.getString()).thenReturn(action);\n//      Mockito.when(utils.getLong()).thenReturn(order_id2);\n//      Mockito.when(utils.getLong()).thenReturn(item_id);\n//      Mockito.when(dao.itemDelete(order_id2, item_id)).thenReturn(1);\n////\n////        assertEquals(1, this.controller.delete());\n////\n////        Mockito.verify(utils, Mockito.times(2)).getLong();\n////        Mockito.verify(dao, Mockito.times(1)).itemDelete(order_id2, item_id);\n//  }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1661518641,"post_id":73501212,"comment_id":129797618,"body_markdown":"You are comparing the value returned by getStateChange() with the event ID, which is returned by getID().  Read the top of that documentation page—it describes which constants can be returned by getStateChange().  (ITEM_STATE_CHANGED is not one of them.)","body":"You are comparing the value returned by getStateChange() with the event ID, which is returned by getID().  Read the top of that documentation page—it describes which constants can be returned by getStateChange().  (ITEM_STATE_CHANGED is not one of them.)"},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1661518970,"post_id":73501212,"comment_id":129797726,"body_markdown":"This explains why the ID check is never passed for `event.getStateChange()`, but it does not explain what `ItemEvent_ITEM_STATE_CHANGED` is used for.","body":"This explains why the ID check is never passed for <code>event.getStateChange()</code>, but it does not explain what <code>ItemEvent_ITEM_STATE_CHANGED</code> is used for."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1661519302,"post_id":73501212,"comment_id":129797866,"body_markdown":"“This event id indicates that an item&#39;s state changed.” seems like a clear explanation to me.  Every AWT event and Swing event has an ID which describes the type of event.","body":"“This event id indicates that an item&#39;s state changed.” seems like a clear explanation to me.  Every AWT event and Swing event has an ID which describes the type of event."},{"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"score":0,"creation_date":1661521472,"post_id":73501212,"comment_id":129798641,"body_markdown":"I see. So this represents the event ID, not the event state.","body":"I see. So this represents the event ID, not the event state."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1661522362,"post_id":73501212,"comment_id":129798968,"body_markdown":"ITEM_STATE_CHANGED is used in Swing&#39;s internal code to set other state changes.","body":"ITEM_STATE_CHANGED is used in Swing&#39;s internal code to set other state changes."}],"owner":{"account_id":10075353,"reputation":1753,"user_id":7447660,"display_name":"Koenigsberg"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661517699,"creation_date":1661517699,"question_id":73501212,"body_markdown":"### Scenario\r\n\r\nI have implemented logic, which is intended to update some internal variables, whenever users check certain `JCheckBox` UI items or select an option in a `JComboBox`.\r\n\r\nMy listeners look as follows:\r\n\r\n```\r\nItemListener listener = event -&gt;\r\n{\r\n\tif( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )\r\n\t{\r\n\t\t// do some business logic\r\n\t}\r\n};\r\n\r\nuiElement.addItemListener( listener );\r\n```\r\n\r\nI have observed that due to `if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )` the business logic never gets triggered, even though item state is clearly changed.\r\n\r\nMy workaround for this is as follows:\r\n\r\n * `JCheckBox`: Remove `if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )` - it is sufficient not to do this check, as only one item event is fired\r\n * `JComboBox`: Replace `if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )` by `if( event.getStateChange() == ItemEvent.SELECTED )` - otherwise an additional event is fired and handled \r\n\r\n### Question\r\n\r\nWhile this gets me where I need to go my question remains: What is `ItemEvent.ITEM_STATE_CHANGED` for? Why won&#39;t `if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )` resolve to true, when I check a `JCheckBox` and select an item in my `JComboBox`?\r\n\r\nThe [documentation](https://cr.openjdk.java.net/~iris/se/11/latestSpec/api/java.desktop/java/awt/event/ItemEvent.html#ITEM_STATE_CHANGED) reads:\r\n\r\n&gt; This event id indicates that an item&#39;s state changed.\r\n\r\nIsn&#39;t this true in this scenario?\r\n\r\nI also checked other questions, such as [this one](https://stackoverflow.com/questions/330590/why-is-itemstatechanged-on-jcombobox-is-called-twice-when-changed) - but they refer to the `itemStateChanged` event in general, not to the use of `ItemEvent.ITEM_STATE_CHANGED`.\r\n\r\nLikely I misunderstood what `ItemEvent.ITEM_STATE_CHANGED` is for. What is its use?\r\n\r\n","title":"Triggering ItemEvent.ITEM_STATE_CHANGED for JCheckBox and JComboBox","body":"<h3>Scenario</h3>\n<p>I have implemented logic, which is intended to update some internal variables, whenever users check certain <code>JCheckBox</code> UI items or select an option in a <code>JComboBox</code>.</p>\n<p>My listeners look as follows:</p>\n<pre><code>ItemListener listener = event -&gt;\n{\n    if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )\n    {\n        // do some business logic\n    }\n};\n\nuiElement.addItemListener( listener );\n</code></pre>\n<p>I have observed that due to <code>if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )</code> the business logic never gets triggered, even though item state is clearly changed.</p>\n<p>My workaround for this is as follows:</p>\n<ul>\n<li><code>JCheckBox</code>: Remove <code>if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )</code> - it is sufficient not to do this check, as only one item event is fired</li>\n<li><code>JComboBox</code>: Replace <code>if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )</code> by <code>if( event.getStateChange() == ItemEvent.SELECTED )</code> - otherwise an additional event is fired and handled</li>\n</ul>\n<h3>Question</h3>\n<p>While this gets me where I need to go my question remains: What is <code>ItemEvent.ITEM_STATE_CHANGED</code> for? Why won't <code>if( event.getStateChange() == ItemEvent.ITEM_STATE_CHANGED )</code> resolve to true, when I check a <code>JCheckBox</code> and select an item in my <code>JComboBox</code>?</p>\n<p>The <a href=\"https://cr.openjdk.java.net/%7Eiris/se/11/latestSpec/api/java.desktop/java/awt/event/ItemEvent.html#ITEM_STATE_CHANGED\" rel=\"nofollow noreferrer\">documentation</a> reads:</p>\n<blockquote>\n<p>This event id indicates that an item's state changed.</p>\n</blockquote>\n<p>Isn't this true in this scenario?</p>\n<p>I also checked other questions, such as <a href=\"https://stackoverflow.com/questions/330590/why-is-itemstatechanged-on-jcombobox-is-called-twice-when-changed\">this one</a> - but they refer to the <code>itemStateChanged</code> event in general, not to the use of <code>ItemEvent.ITEM_STATE_CHANGED</code>.</p>\n<p>Likely I misunderstood what <code>ItemEvent.ITEM_STATE_CHANGED</code> is for. What is its use?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1661518296,"post_id":73501144,"comment_id":129797519,"body_markdown":"If you have model mixed with persistanse layer, it would be easier to make model from persistance layer vs other way\ni dont think there would be tool for it, but you can copy classes and remove all persistance annotations","body":"If you have model mixed with persistanse layer, it would be easier to make model from persistance layer vs other way i dont think there would be tool for it, but you can copy classes and remove all persistance annotations"},{"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"score":0,"creation_date":1661518694,"post_id":73501144,"comment_id":129797642,"body_markdown":"How can I generate classes from entities then?","body":"How can I generate classes from entities then?"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":1,"creation_date":1661519562,"post_id":73501144,"comment_id":129797945,"body_markdown":"I would copy classes files to new location and then perform replace on new files replacing all imports from persistance packages than replacing all `@Id` , `@Column(.*)` etc, It would be semi manual but i dont think there is better way","body":"I would copy classes files to new location and then perform replace on new files replacing all imports from persistance packages than replacing all <code>@Id</code> , <code>@Column(.*)</code> etc, It would be semi manual but i dont think there is better way"}],"owner":{"account_id":21719315,"reputation":97,"user_id":16029826,"display_name":"Yuriy Kirel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661517380,"creation_date":1661517380,"question_id":73501144,"body_markdown":"I have somewhat big object model in my app, and want to decouple model definition from persistence layer. This is an example of class that I want to generate entity class from:\r\n```java\r\n@Setter\r\n@Getter\r\npublic abstract class AbstractAccount {\r\n  protected Long id;\r\n  protected AbstractProfile profile;\r\n  protected AbstractAuthorization&lt;AbstractRole&gt; authorization;\r\n  protected AbstractWallet wallet;\r\n  protected AbstractActivityHistory&lt;AbstractGameSessionRecord, AbstractOperationRecord&gt; history;\r\n\r\n  // Constructors and stuff...\r\n}\r\n```\r\n\r\nSimply marking every class with @Entity, manipulating field annotations as well would be enough, but I really need to decouple them. I want to get entities like this: \r\n```java\r\n@Data\r\n@Entity\r\n@SuperBuilder\r\n@Inheritance(strategy = InheritanceType.JOINED)\r\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\npublic abstract class AccountEntity {\r\n  public AccountEntity(AccountType accountType) {\r\n    this.accountType = accountType;\r\n  }\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.AUTO)\r\n  public Long id;\r\n\r\n  @Embedded\r\n  public AbstractWalletEntity walletEntity;\r\n\r\n  @Embedded\r\n  public AbstractProfileEntity profileEntity;\r\n\r\n  @Embedded\r\n  AbstractAuthorizationEntity authorizationEntity;\r\n\r\n  @Column(nullable = false)\r\n  @Enumerated(EnumType.STRING)\r\n  public AccountType accountType;\r\n}\r\n\r\n``` ","title":"Is there a way to generate @Entity classes based on existing classes?","body":"<p>I have somewhat big object model in my app, and want to decouple model definition from persistence layer. This is an example of class that I want to generate entity class from:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Setter\n@Getter\npublic abstract class AbstractAccount {\n  protected Long id;\n  protected AbstractProfile profile;\n  protected AbstractAuthorization&lt;AbstractRole&gt; authorization;\n  protected AbstractWallet wallet;\n  protected AbstractActivityHistory&lt;AbstractGameSessionRecord, AbstractOperationRecord&gt; history;\n\n  // Constructors and stuff...\n}\n</code></pre>\n<p>Simply marking every class with @Entity, manipulating field annotations as well would be enough, but I really need to decouple them. I want to get entities like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@SuperBuilder\n@Inheritance(strategy = InheritanceType.JOINED)\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\npublic abstract class AccountEntity {\n  public AccountEntity(AccountType accountType) {\n    this.accountType = accountType;\n  }\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  public Long id;\n\n  @Embedded\n  public AbstractWalletEntity walletEntity;\n\n  @Embedded\n  public AbstractProfileEntity profileEntity;\n\n  @Embedded\n  AbstractAuthorizationEntity authorizationEntity;\n\n  @Column(nullable = false)\n  @Enumerated(EnumType.STRING)\n  public AccountType accountType;\n}\n\n</code></pre>\n"},{"tags":["java","selenium-webdriver","ui-automation"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1661518776,"post_id":73501125,"comment_id":129797669,"body_markdown":"You probably missing a delay. Please share all your code","body":"You probably missing a delay. Please share all your code"},{"owner":{"account_id":26241441,"reputation":3,"user_id":19915701,"display_name":"ravi kumar"},"score":0,"creation_date":1662380528,"post_id":73501125,"comment_id":129986017,"body_markdown":"Can try the answers given in the post below: https://stackoverflow.com/questions/19536954/what-is-the-best-way-to-avoid-nosuchelementexception-in-selenium","body":"Can try the answers given in the post below: <a href=\"https://stackoverflow.com/questions/19536954/what-is-the-best-way-to-avoid-nosuchelementexception-in-selenium\" title=\"what is the best way to avoid nosuchelementexception in selenium\">stackoverflow.com/questions/19536954/&hellip;</a>"}],"owner":{"account_id":17450143,"reputation":5,"user_id":12650299,"display_name":"Gomathy Balakrishnan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661517304,"creation_date":1661517304,"question_id":73501125,"body_markdown":"I&#39;m writing a script for an application. The requirement is to click on Login button in the first page, and when it goes to the login page, I have to click on Google login button. The button has this attribute data-testid, which is set to google-login. So I tried to locate the button as below:\r\n\r\n```\r\nWebElement googleLoginBtn = driver.findElement(By.xpath(&quot;//button[@data-testid=&#39;google-login&#39;]&quot;));\r\n```\r\n\r\nBut the test is failing with the below error:\r\n\r\n```\r\norg.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//button[@data-testid=&#39;google-login&#39;]&quot;}\r\n```\r\n\r\nI was able to locate the login button in the same way. It is working fine. Even I tried to target the element in the browser DevTools using the above XPath expression, which locates the button correctly. But I don&#39;t know why Selenium is unable to locate it. Could anyone suggest a solution to this?\r\n","title":"Selenium WebDriver - Unable to locate a button in the page","body":"<p>I'm writing a script for an application. The requirement is to click on Login button in the first page, and when it goes to the login page, I have to click on Google login button. The button has this attribute data-testid, which is set to google-login. So I tried to locate the button as below:</p>\n<pre><code>WebElement googleLoginBtn = driver.findElement(By.xpath(&quot;//button[@data-testid='google-login']&quot;));\n</code></pre>\n<p>But the test is failing with the below error:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;//button[@data-testid='google-login']&quot;}\n</code></pre>\n<p>I was able to locate the login button in the same way. It is working fine. Even I tried to target the element in the browser DevTools using the above XPath expression, which locates the button correctly. But I don't know why Selenium is unable to locate it. Could anyone suggest a solution to this?</p>\n"},{"tags":["java","group-by","java-stream"],"comments":[{"owner":{"account_id":10144463,"reputation":545,"user_id":7493043,"display_name":"Ezani"},"score":0,"creation_date":1633333984,"post_id":69432500,"comment_id":122722024,"body_markdown":"Basically you split a string at the commas using the split method. For example : String originalString = &quot;OO111,OO222,OO333&quot;; List&lt;String&gt; splitList = Arrays.asList(originalString.split(&quot;,&quot;));","body":"Basically you split a string at the commas using the split method. For example : String originalString = &quot;OO111,OO222,OO333&quot;; List&lt;String&gt; splitList = Arrays.asList(originalString.split(&quot;,&quot;));"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633334595,"creation_date":1633333984,"answer_id":69432603,"question_id":69432500,"body_markdown":"I think you can chain a `reducing` collector to the `groupingBy` collector to get what you need:\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; postsPerType =\r\n        list.stream()\r\n            .collect(Collectors.groupingBy(ABC::getName,\r\n                                           Collectors.reducing(new ArrayList&lt;String&gt;(),\r\n                                                               a -&gt; Arrays.asList(a.getVal().split(&quot;,&quot;)),\r\n                                                               (l1,l2)-&gt; {\r\n                                                                 List&lt;String&gt; l = new ArrayList&lt;&gt;(); \r\n                                                                 l.addAll(l1);\r\n                                                                 l.addAll (l2);\r\n                                                                 return l;\r\n                                                               })));\r\n\r\nThis produces the following `Map`:\r\n\r\n    {YY=[1333, 11444], OO=[OO111, OO222, OO333, OO1]}","title":"How to - grouping a list by key and split the values using streams Java 8","body":"<p>I think you can chain a <code>reducing</code> collector to the <code>groupingBy</code> collector to get what you need:</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; postsPerType =\n    list.stream()\n        .collect(Collectors.groupingBy(ABC::getName,\n                                       Collectors.reducing(new ArrayList&lt;String&gt;(),\n                                                           a -&gt; Arrays.asList(a.getVal().split(&quot;,&quot;)),\n                                                           (l1,l2)-&gt; {\n                                                             List&lt;String&gt; l = new ArrayList&lt;&gt;(); \n                                                             l.addAll(l1);\n                                                             l.addAll (l2);\n                                                             return l;\n                                                           })));\n</code></pre>\n<p>This produces the following <code>Map</code>:</p>\n<pre><code>{YY=[1333, 11444], OO=[OO111, OO222, OO333, OO1]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1633334491,"creation_date":1633334491,"answer_id":69432696,"question_id":69432500,"body_markdown":"If you&#39;re on Java 9+, you can use `Collectors.flatMapping()` as `groupingBy`&#39;s downstream:\r\n\r\n    list.stream().collect(Collectors.groupingBy(ABC::getName,\r\n\t\t\t\t\t\tCollectors.flatMapping(a -&gt; Arrays.stream(a.getVal().split(&quot;,&quot;)), \r\n                                               Collectors.toList())));\r\n\r\nThat should produce exactly your desired result.","title":"How to - grouping a list by key and split the values using streams Java 8","body":"<p>If you're on Java 9+, you can use <code>Collectors.flatMapping()</code> as <code>groupingBy</code>'s downstream:</p>\n<pre><code>list.stream().collect(Collectors.groupingBy(ABC::getName,\n                    Collectors.flatMapping(a -&gt; Arrays.stream(a.getVal().split(&quot;,&quot;)), \n                                           Collectors.toList())));\n</code></pre>\n<p>That should produce exactly your desired result.</p>\n"},{"tags":[],"owner":{"account_id":4514444,"reputation":17059,"user_id":3669698,"accept_rate":55,"display_name":"Hadi J"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633336425,"creation_date":1633336425,"answer_id":69433089,"question_id":69432500,"body_markdown":"Another way is using `groupingBy` and `collectingAndThen` collectors. \r\n\r\n\r\n    list.stream()\r\n                .collect(Collectors.groupingBy(\r\n                        ABC::getName,\r\n                        Collectors.collectingAndThen(\r\n                                Collectors.mapping(ABC::getVal, toList()),\r\n                                strings -&gt; strings.stream()\r\n                                         .flatMap(s -&gt; Arrays.stream(s.split(&quot;,&quot;)))\r\n                                         .collect(toList()))\r\n                ));","title":"How to - grouping a list by key and split the values using streams Java 8","body":"<p>Another way is using <code>groupingBy</code> and <code>collectingAndThen</code> collectors.</p>\n<pre><code>list.stream()\n            .collect(Collectors.groupingBy(\n                    ABC::getName,\n                    Collectors.collectingAndThen(\n                            Collectors.mapping(ABC::getVal, toList()),\n                            strings -&gt; strings.stream()\n                                     .flatMap(s -&gt; Arrays.stream(s.split(&quot;,&quot;)))\n                                     .collect(toList()))\n            ));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633353556,"creation_date":1633353556,"answer_id":69436662,"question_id":69432500,"body_markdown":"Try this.\r\n\r\n    record ABC(String name, String val) {\r\n        public String getName() { return name; }\r\n        public String getVal() { return val; }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;ABC&gt; list = List.of(\r\n            new ABC(&quot;00&quot;, &quot;00111,00222,00333&quot;),\r\n            new ABC(&quot;00&quot;, &quot;001&quot;),\r\n            new ABC(&quot;YY&quot;, &quot;1333,11444&quot;));\r\n        Map&lt;String, List&lt;String&gt;&gt; postsPerType = new HashMap&lt;&gt;();\r\n        for (ABC e : list)\r\n            postsPerType.computeIfAbsent(e.getName(), k -&gt; new ArrayList&lt;&gt;())\r\n                .addAll(Arrays.asList(e.getVal().split(&quot;,&quot;)));\r\n        System.out.println(postsPerType);\r\n    }\r\n\r\noutput:\r\n\r\n    {YY=[1333, 11444], 00=[00111, 00222, 00333, 001]}\r\n","title":"How to - grouping a list by key and split the values using streams Java 8","body":"<p>Try this.</p>\n<pre><code>record ABC(String name, String val) {\n    public String getName() { return name; }\n    public String getVal() { return val; }\n}\n\npublic static void main(String[] args) {\n    List&lt;ABC&gt; list = List.of(\n        new ABC(&quot;00&quot;, &quot;00111,00222,00333&quot;),\n        new ABC(&quot;00&quot;, &quot;001&quot;),\n        new ABC(&quot;YY&quot;, &quot;1333,11444&quot;));\n    Map&lt;String, List&lt;String&gt;&gt; postsPerType = new HashMap&lt;&gt;();\n    for (ABC e : list)\n        postsPerType.computeIfAbsent(e.getName(), k -&gt; new ArrayList&lt;&gt;())\n            .addAll(Arrays.asList(e.getVal().split(&quot;,&quot;)));\n    System.out.println(postsPerType);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>{YY=[1333, 11444], 00=[00111, 00222, 00333, 001]}\n</code></pre>\n"}],"owner":{"account_id":17396102,"reputation":73,"user_id":12605786,"display_name":"Devi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3829,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69433089,"answer_count":4,"score":3,"last_activity_date":1661517161,"creation_date":1633333402,"question_id":69432500,"body_markdown":"I need to group the ABC List, while doing this I also wanted to split the value.\r\nInput:\r\n\r\n```java\r\nList&lt;ABC&gt; list = new ArrayList&lt;&gt;();\r\n\r\nABC A1 = new ABC();\r\nA1.setName(&quot;OO&quot;);\r\nA1.setVal(&quot;OO111,OO222,OO333&quot;); // split this while grouping\r\nlist.add(A1);\r\n\r\nABC A2 = new ABC();\r\nA2.setName(&quot;OO&quot;);\r\nA2.setVal(&quot;OO1&quot;);\r\nlist.add(A2);\r\n\r\nABC A3 = new ABC();\r\nA3.setName(&quot;YY&quot;);\r\nA3.setVal(&quot;1333,11444&quot;);\r\nlist.add(A3);\r\n```\r\n\r\nOutput:\r\n\r\n```java\r\nMap&lt;String, List&lt;String&gt;&gt; postsPerType;\r\n//Group by Name: ex: OO &amp; YY. Split the Value by &quot;,&quot; and add it to list\r\n     Key: 00 Values: List: &quot;OO111&quot;,&quot;OO222&quot;,&quot;OO333&quot;,&quot;OO1&quot;\r\n     Key: YY Values: List: &quot;1333&quot;,&quot;11444&quot;\r\n```\r\n\r\nPlease suggest, thanks.\r\n","title":"How to - grouping a list by key and split the values using streams Java 8","body":"<p>I need to group the ABC List, while doing this I also wanted to split the value.\nInput:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ABC&gt; list = new ArrayList&lt;&gt;();\n\nABC A1 = new ABC();\nA1.setName(&quot;OO&quot;);\nA1.setVal(&quot;OO111,OO222,OO333&quot;); // split this while grouping\nlist.add(A1);\n\nABC A2 = new ABC();\nA2.setName(&quot;OO&quot;);\nA2.setVal(&quot;OO1&quot;);\nlist.add(A2);\n\nABC A3 = new ABC();\nA3.setName(&quot;YY&quot;);\nA3.setVal(&quot;1333,11444&quot;);\nlist.add(A3);\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;String&gt;&gt; postsPerType;\n//Group by Name: ex: OO &amp; YY. Split the Value by &quot;,&quot; and add it to list\n     Key: 00 Values: List: &quot;OO111&quot;,&quot;OO222&quot;,&quot;OO333&quot;,&quot;OO1&quot;\n     Key: YY Values: List: &quot;1333&quot;,&quot;11444&quot;\n</code></pre>\n<p>Please suggest, thanks.</p>\n"},{"tags":["java","memory","heap-memory"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661511149,"post_id":73499864,"comment_id":129795051,"body_markdown":"Set -Xms to the same value as -Xmx. Then, the JVM will try to allocate the heap immediately.","body":"Set -Xms to the same value as -Xmx. Then, the JVM will try to allocate the heap immediately."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661511207,"post_id":73499864,"comment_id":129795079,"body_markdown":"For long running applications, do not set -Xms the same to -Xmx, it will disable a number of heuristics that might help with performance. Also, setting -Xms to -Xmx will not prevent a OutOfMemoryError if -Xmx is too low.","body":"For long running applications, do not set -Xms the same to -Xmx, it will disable a number of heuristics that might help with performance. Also, setting -Xms to -Xmx will not prevent a OutOfMemoryError if -Xmx is too low."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661511370,"post_id":73499864,"comment_id":129795127,"body_markdown":"As an aside, if the option couldn&#39;t be set, you&#39;d receive an error. That doesn&#39;t mean that using 64g might not result in swapping or other effects bad for performance if it actually ends up using 64GiB.","body":"As an aside, if the option couldn&#39;t be set, you&#39;d receive an error. That doesn&#39;t mean that using 64g might not result in swapping or other effects bad for performance if it actually ends up using 64GiB."},{"owner":{"account_id":999749,"reputation":1833,"user_id":1014898,"accept_rate":84,"display_name":"Railsana"},"score":0,"creation_date":1661511565,"post_id":73499864,"comment_id":129795199,"body_markdown":"It&#39;s not really long running. I get that error after 9 seconds. It&#39;s just an update process that has to run once somehow.","body":"It&#39;s not really long running. I get that error after 9 seconds. It&#39;s just an update process that has to run once somehow."},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661512022,"post_id":73499864,"comment_id":129795355,"body_markdown":"@MarkRotteveel, do you have any sources regarding the optimization tradeoffs? I&#39;m asking because in the past Oracle recommended to set Xms and Xmx to an equal value.","body":"@MarkRotteveel, do you have any sources regarding the optimization tradeoffs? I&#39;m asking because in the past Oracle recommended to set Xms and Xmx to an equal value."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661512322,"post_id":73499864,"comment_id":129795448,"body_markdown":"@Mihe _&quot;Setting -Xms and -Xmx to the same value increases predictability by removing the most important sizing decision from the virtual machine. However, the virtual machine is then unable to compensate if you make a poor choice.&quot;_ from https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html","body":"@Mihe <i>&quot;Setting -Xms and -Xmx to the same value increases predictability by removing the most important sizing decision from the virtual machine. However, the virtual machine is then unable to compensate if you make a poor choice.&quot;</i> from <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/sizing.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/vm/gctuning/&hellip;</a>"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1661512629,"post_id":73499864,"comment_id":129795551,"body_markdown":"@MarkRotteveel, thanks. Of course, if one allocates too much, it&#39;s a bad thing. On the other hand, Oracle recommended the same value to decrease the number of GCs.","body":"@MarkRotteveel, thanks. Of course, if one allocates too much, it&#39;s a bad thing. On the other hand, Oracle recommended the same value to decrease the number of GCs."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1661512944,"post_id":73499864,"comment_id":129795653,"body_markdown":"@Mihe The reality is more nuanced. Yes, setting them equal will avoid a number of full-gc, increase heap, full gc, increase heap, etc, but it also disables a number of tuning heuristics around sizing generations, which could result in worse performance than if you had - for example - set -Xms to half of -Xmx.","body":"@Mihe The reality is more nuanced. Yes, setting them equal will avoid a number of full-gc, increase heap, full gc, increase heap, etc, but it also disables a number of tuning heuristics around sizing generations, which could result in worse performance than if you had - for example - set -Xms to half of -Xmx."}],"answers":[{"tags":[],"owner":{"account_id":15939399,"reputation":41,"user_id":11501605,"display_name":"Sai shashank Narne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661511444,"creation_date":1661511444,"answer_id":73499959,"question_id":73499864,"body_markdown":"**Following is for Eclipse** \r\n\r\nRight mouse click on\r\n\r\n Run As - Run Configuration - Arguments - Vm Arguments, \r\nthen add this\r\n\r\n-Xmx2048m","title":"How to allocate more memory? java.lang.OutOfMemoryError: Java heap space","body":"<p><strong>Following is for Eclipse</strong></p>\n<p>Right mouse click on</p>\n<p>Run As - Run Configuration - Arguments - Vm Arguments,\nthen add this</p>\n<p>-Xmx2048m</p>\n"},{"tags":[],"owner":{"account_id":20302350,"reputation":9,"user_id":14891456,"display_name":"DrayNeur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661511699,"creation_date":1661511699,"answer_id":73500012,"question_id":73499864,"body_markdown":"as stated already [here][1] you can use the `-Xms` and `-Xmx` parameters to allocate more memory to the heap of the JVM, but keep in mind that if your machine doesn&#39;t have the amount of RAM that you provided in these parameters it will not work.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1596009/java-lang-outofmemoryerror-java-heap-space","title":"How to allocate more memory? java.lang.OutOfMemoryError: Java heap space","body":"<p>as stated already <a href=\"https://stackoverflow.com/questions/1596009/java-lang-outofmemoryerror-java-heap-space\">here</a> you can use the <code>-Xms</code> and <code>-Xmx</code> parameters to allocate more memory to the heap of the JVM, but keep in mind that if your machine doesn't have the amount of RAM that you provided in these parameters it will not work.</p>\n"}],"owner":{"account_id":999749,"reputation":1833,"user_id":1014898,"accept_rate":84,"display_name":"Railsana"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3418,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661516289,"creation_date":1661510996,"question_id":73499864,"body_markdown":"System:\r\nUbuntu 18.04.6 LTS, Intel Core i9-9900K, 128 GB\r\nDDR4 RAM\r\n\r\nI am supposed to run this line:\r\n`````\r\n./bin/jre/bin/java -cp lib/fcc-deploy-archive.jar de.fiskal.connector.init.UpdateCLIApplication\r\n`````\r\n\r\nI get this error message after 9 seconds:\r\n``````\r\njava.lang.OutOfMemoryError: Java heap space\r\n\tat java.util.Arrays.copyOf(Arrays.java:3236) ~[?:1.8.0_275]\r\n``````\r\n\r\nI tried to allocate (alot) more memory by using the `-XmX` like this:\r\n\r\n`````\r\n./bin/jre/bin/java -Xmx64g -cp lib/fcc-deploy-archive.jar de.fiskal.connector.init.UpdateCLIApplication\r\n`````\r\n\r\nHow can I test if the option can be set at all? What else could be the problem here?","title":"How to allocate more memory? java.lang.OutOfMemoryError: Java heap space","body":"<p>System:\nUbuntu 18.04.6 LTS, Intel Core i9-9900K, 128 GB\nDDR4 RAM</p>\n<p>I am supposed to run this line:</p>\n<pre><code>./bin/jre/bin/java -cp lib/fcc-deploy-archive.jar de.fiskal.connector.init.UpdateCLIApplication\n</code></pre>\n<p>I get this error message after 9 seconds:</p>\n<pre><code>java.lang.OutOfMemoryError: Java heap space\n    at java.util.Arrays.copyOf(Arrays.java:3236) ~[?:1.8.0_275]\n</code></pre>\n<p>I tried to allocate (alot) more memory by using the <code>-XmX</code> like this:</p>\n<pre><code>./bin/jre/bin/java -Xmx64g -cp lib/fcc-deploy-archive.jar de.fiskal.connector.init.UpdateCLIApplication\n</code></pre>\n<p>How can I test if the option can be set at all? What else could be the problem here?</p>\n"},{"tags":["java","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1661758130,"post_id":73500875,"comment_id":129838930,"body_markdown":"Looks like a bug to me, which you should report in the issue tracker(https://hibernate.atlassian.net) with a test case(https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java) that reproduces the issue.","body":"Looks like a bug to me, which you should report in the issue tracker(<a href=\"https://hibernate.atlassian.net\" rel=\"nofollow noreferrer\">hibernate.atlassian.net</a>) with a test case(<a href=\"https://github.com/hibernate/hibernate-test-case-templates/blob/master/orm/hibernate-orm-5/src/test/java/org/hibernate/bugs/JPAUnitTestCase.java\" rel=\"nofollow noreferrer\">github.com/hibernate/hibernate-test-case-templates/blob&zwnj;&#8203;/master/&hellip;</a>) that reproduces the issue."},{"owner":{"account_id":1626134,"reputation":1,"user_id":1501666,"display_name":"Florian Klein"},"score":0,"creation_date":1662071759,"post_id":73500875,"comment_id":129928012,"body_markdown":"Hey Christian, \nthanks for the advice, I&#39;ll do so.","body":"Hey Christian,  thanks for the advice, I&#39;ll do so."}],"owner":{"account_id":1626134,"reputation":1,"user_id":1501666,"display_name":"Florian Klein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661516242,"creation_date":1661516037,"question_id":73500875,"body_markdown":"## Problem ##\r\nHibernate seems to generate an invalid PSQL query if a @Filter condition references a field of an inherited superclass.\r\n\r\n## Details ##\r\nI have a ManyToMany relation between class OwnerGroup and class OwnerGroupsInvoiceParty. A @Filter is defined on the relation, which removes soft-deleted values of OwnerGroupsInvoiceParty. The soft-deletion field deletedAt is not defined on OwnerGroupsInvoiceParty, but on a superclass AbstractInvoiceParty (InheritanceType.JOINED).\r\n\r\nIf I now activate the filter (session.enableFilter(&quot;filterDeleted&quot;)) and call ownerGroup.getPartyOnInvoices(), a PSQLException is thrown:\r\n\r\n&gt; org.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;ownergroup1_1_&quot;\r\n\r\nMy class definitions:\r\n\r\n    @Entity\r\n    public class OwnerGroup {\r\n\r\n        @ManyToMany(mappedBy = &quot;ownerGroups&quot;)\r\n\t    @Filter(name = &quot;filterDeleted&quot;, condition = &quot;{s}.deleted_at IS NULL&quot;, aliases = {\r\n\t\t\t@org.hibernate.annotations.SqlFragmentAlias(alias = &quot;s&quot;, table = &quot;abstract_invoice_party&quot;) \r\n        })\r\n\t    protected Set&lt;OwnerGroupsInvoiceParty&gt; partyOnInvoices = new HashSet&lt;&gt;();\r\n\r\n        public Set&lt;OwnerGroupsInvoiceParty&gt; getPartyOnInvoices() {\r\n\t\t   return this.partyOnInvoices;\r\n\t    }\r\n    }\r\n\r\n    @Entity\r\n    public class OwnerGroupsInvoiceParty extends AbstractInvoiceParty {\r\n\r\n       @JoinTable\r\n\t   @ManyToMany\r\n\t   protected Set&lt;OwnerGroup&gt; ownerGroups = new HashSet&lt;&gt;();\r\n\r\n    }\r\n\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.JOINED)\r\n    public abstract class AbstractInvoiceParty {\r\n        \r\n        protected Date deletedAt = null;\r\n\r\n    }\r\n\r\nI have looked at the generated plain SQL query and there the error becomes clear ([Image of query with highlighted error][1]):\r\n\r\n    SELECT partyoninv0_.owner_groups_id  as owner_gr2_267_0_,\r\n       partyoninv0_.party_on_invoices_id as party_on1_267_0_,\r\n       ownergroup1_.id                   as id2_21_1_,\r\n       ownergroup1_1_.deleted_at         as deleted_3_21_1_ \r\n    FROM \r\n       owner_groups_invoice_party_owner_groups partyoninv0_ \r\n    INNER JOIN \r\n       owner_groups_invoice_party ownergroup1_ \r\n         ON partyoninv0_.party_on_invoices_id = ownergroup1_.id \r\n         AND ownergroup1_1_.deleted_at IS NULL \r\n    LEFT OUTER JOIN \r\n       abstract_invoice_party ownergroup1_1_ \r\n         ON ownergroup1_.id = ownergroup1_1_.id \r\n    WHERE partyoninv0_.owner_groups_id=?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UYNC8.png\r\n\r\nHibernate Version: 5.6.9\r\n\r\nIs there a way to define the filter so that a correct query is generated?","title":"Hibernate: Relation with @Filter, @JoinTable and InheritanceType.JOINED throws Exception: &quot;missing FROM-clause entry&quot;","body":"<h2>Problem</h2>\n<p>Hibernate seems to generate an invalid PSQL query if a @Filter condition references a field of an inherited superclass.</p>\n<h2>Details</h2>\n<p>I have a ManyToMany relation between class OwnerGroup and class OwnerGroupsInvoiceParty. A @Filter is defined on the relation, which removes soft-deleted values of OwnerGroupsInvoiceParty. The soft-deletion field deletedAt is not defined on OwnerGroupsInvoiceParty, but on a superclass AbstractInvoiceParty (InheritanceType.JOINED).</p>\n<p>If I now activate the filter (session.enableFilter(&quot;filterDeleted&quot;)) and call ownerGroup.getPartyOnInvoices(), a PSQLException is thrown:</p>\n<blockquote>\n<p>org.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;ownergroup1_1_&quot;</p>\n</blockquote>\n<p>My class definitions:</p>\n<pre><code>@Entity\npublic class OwnerGroup {\n\n    @ManyToMany(mappedBy = &quot;ownerGroups&quot;)\n    @Filter(name = &quot;filterDeleted&quot;, condition = &quot;{s}.deleted_at IS NULL&quot;, aliases = {\n        @org.hibernate.annotations.SqlFragmentAlias(alias = &quot;s&quot;, table = &quot;abstract_invoice_party&quot;) \n    })\n    protected Set&lt;OwnerGroupsInvoiceParty&gt; partyOnInvoices = new HashSet&lt;&gt;();\n\n    public Set&lt;OwnerGroupsInvoiceParty&gt; getPartyOnInvoices() {\n       return this.partyOnInvoices;\n    }\n}\n\n@Entity\npublic class OwnerGroupsInvoiceParty extends AbstractInvoiceParty {\n\n   @JoinTable\n   @ManyToMany\n   protected Set&lt;OwnerGroup&gt; ownerGroups = new HashSet&lt;&gt;();\n\n}\n\n@Entity\n@Inheritance(strategy = InheritanceType.JOINED)\npublic abstract class AbstractInvoiceParty {\n    \n    protected Date deletedAt = null;\n\n}\n</code></pre>\n<p>I have looked at the generated plain SQL query and there the error becomes clear (<a href=\"https://i.stack.imgur.com/UYNC8.png\" rel=\"nofollow noreferrer\">Image of query with highlighted error</a>):</p>\n<pre><code>SELECT partyoninv0_.owner_groups_id  as owner_gr2_267_0_,\n   partyoninv0_.party_on_invoices_id as party_on1_267_0_,\n   ownergroup1_.id                   as id2_21_1_,\n   ownergroup1_1_.deleted_at         as deleted_3_21_1_ \nFROM \n   owner_groups_invoice_party_owner_groups partyoninv0_ \nINNER JOIN \n   owner_groups_invoice_party ownergroup1_ \n     ON partyoninv0_.party_on_invoices_id = ownergroup1_.id \n     AND ownergroup1_1_.deleted_at IS NULL \nLEFT OUTER JOIN \n   abstract_invoice_party ownergroup1_1_ \n     ON ownergroup1_.id = ownergroup1_1_.id \nWHERE partyoninv0_.owner_groups_id=?\n</code></pre>\n<p>Hibernate Version: 5.6.9</p>\n<p>Is there a way to define the filter so that a correct query is generated?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1661518784,"post_id":73500834,"comment_id":129797674,"body_markdown":"What about using [XSLFTableRow.getHeight](https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/XSLFTableRow.html#getHeight--)?","body":"What about using <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/xslf/usermodel/XSLFTableRow.html#getHeight--\" rel=\"nofollow noreferrer\">XSLFTableRow.getHeight</a>?"},{"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"score":0,"creation_date":1661751095,"post_id":73500834,"comment_id":129837153,"body_markdown":"@AxelRichter i already tried this one before but the thing is whenever it is  encountering a merged row, it is reading them as individual row and it&#39;s returning the height but in my case if any cell in the row is merged it should consider that as a single row.","body":"@AxelRichter i already tried this one before but the thing is whenever it is  encountering a merged row, it is reading them as individual row and it&#39;s returning the height but in my case if any cell in the row is merged it should consider that as a single row."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1661790998,"post_id":73500834,"comment_id":129850198,"body_markdown":"&quot;if any cell in the row is merged it should consider that as a single row&quot;: How should that be? If you have 3 columns and 2 rows and first column spans both rows, the table still has 2 rows, hasn&#39;t it?","body":"&quot;if any cell in the row is merged it should consider that as a single row&quot;: How should that be? If you have 3 columns and 2 rows and first column spans both rows, the table still has 2 rows, hasn&#39;t it?"},{"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"score":0,"creation_date":1661838298,"post_id":73500834,"comment_id":129859644,"body_markdown":"But, For some reason those merged rows are causing problems when I&#39;m trying to read their height.","body":"But, For some reason those merged rows are causing problems when I&#39;m trying to read their height."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1661873429,"post_id":73500834,"comment_id":129872808,"body_markdown":"&quot;But, for some reason ...&quot;:  Then please add a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) which shows that issue. Else no help is possible.","body":"&quot;But, for some reason ...&quot;:  Then please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which shows that issue. Else no help is possible."}],"owner":{"account_id":25957216,"reputation":45,"user_id":19674403,"display_name":"Code Machine"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661515870,"creation_date":1661515870,"question_id":73500834,"body_markdown":"I have table in one of my ppt slide, my requirement is to read the height of table&#39;s row, so if the row is going out of that particular slide i can remove it, the height will vary base on the text in it.\r\n\r\nI tried reading like these but for some reason not getting the accurate output:\r\n\r\n```\r\nint totalRows = table.getNumberOfRows();\r\n\r\ndouble rowHeight = 0;\r\nfor(int t =0; t&lt; totalTableRows; t++)\r\n{\r\n    //logic to read height of row\r\n\trowHeight  += table.getRows().get(t).getCells().get(0).getAnchor().getHeight();\r\n\r\n    //logic to remove row.\r\n\t\t\tif(rowHeight  &gt; slideHeight)\r\n\t\t\t{\r\n\t\t\t\tfor(int remove = t;t&lt; totalRows; t++)\r\n\t\t\t\t{\t\r\n\t\t\t\t\ttable.removeRow(remove);\r\n\t\t\t\t}\r\n\t\t\t}\r\n}\r\n```  \r\n\r\nNote: some rows and column has merged cells as well.","title":"How to read table row height for ppt table using apache poi?","body":"<p>I have table in one of my ppt slide, my requirement is to read the height of table's row, so if the row is going out of that particular slide i can remove it, the height will vary base on the text in it.</p>\n<p>I tried reading like these but for some reason not getting the accurate output:</p>\n<pre><code>int totalRows = table.getNumberOfRows();\n\ndouble rowHeight = 0;\nfor(int t =0; t&lt; totalTableRows; t++)\n{\n    //logic to read height of row\n    rowHeight  += table.getRows().get(t).getCells().get(0).getAnchor().getHeight();\n\n    //logic to remove row.\n            if(rowHeight  &gt; slideHeight)\n            {\n                for(int remove = t;t&lt; totalRows; t++)\n                {   \n                    table.removeRow(remove);\n                }\n            }\n}\n</code></pre>\n<p>Note: some rows and column has merged cells as well.</p>\n"},{"tags":["java","android","android-studio","sdk"],"answers":[{"tags":[],"owner":{"account_id":6893721,"reputation":87,"user_id":5296352,"display_name":"Hossein Farrokhi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1618102929,"creation_date":1618102929,"answer_id":67040575,"question_id":67040447,"body_markdown":"I ran into the same problem upon upgrading my android studio. Something seems to be wrong with the process of importing settings and configurations from the old version.\r\n\r\nLet&#39;s move the old configuration files to another *backup* location to see if it works. (we will not delete it, because who knows, maybe this is not the solution:) ). check these locations based on your android studio version :\r\n\r\n**for v 4.0 and upper:**\r\n\r\n`C:\\Users\\&lt;your user name&gt;\\AppData\\Roaming\\Google\\AndroidStudio 4.x`\r\n\r\n**for lower than 4.0 :**\r\n\r\n`C:\\Users\\&lt;yourUserName&gt;\\.AndroidStudio`\r\n\r\nJust move the folder to another location and start the Android studio again.\r\n\r\nIf everything is as expected, a dialog should pop up asking for importing settings and configuration:\r\n[![configuration import dialog on android studio][1]][1] \r\n\r\nSelect &#39;**do not import**&#39;, and you are good to go.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DNTSx.png","title":"Android studio does not open","body":"<p>I ran into the same problem upon upgrading my android studio. Something seems to be wrong with the process of importing settings and configurations from the old version.</p>\n<p>Let's move the old configuration files to another <em>backup</em> location to see if it works. (we will not delete it, because who knows, maybe this is not the solution:) ). check these locations based on your android studio version :</p>\n<p><strong>for v 4.0 and upper:</strong></p>\n<p><code>C:\\Users\\&lt;your user name&gt;\\AppData\\Roaming\\Google\\AndroidStudio 4.x</code></p>\n<p><strong>for lower than 4.0 :</strong></p>\n<p><code>C:\\Users\\&lt;yourUserName&gt;\\.AndroidStudio</code></p>\n<p>Just move the folder to another location and start the Android studio again.</p>\n<p>If everything is as expected, a dialog should pop up asking for importing settings and configuration:\n<a href=\"https://i.stack.imgur.com/DNTSx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DNTSx.png\" alt=\"configuration import dialog on android studio\" /></a></p>\n<p>Select '<strong>do not import</strong>', and you are good to go.</p>\n"}],"owner":{"account_id":8804978,"reputation":77,"user_id":6579956,"accept_rate":60,"display_name":"Justas Glodenis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67040575,"answer_count":1,"score":1,"last_activity_date":1661514733,"creation_date":1618101051,"question_id":67040447,"body_markdown":"2021-04-11 Installed the newest version of android studio. When trying to start it splash screen apears loads up and then empty screen appears and after ten seconds it closes. Android studio icon disappears from the taskbar. I can see that android is started in task manager. P.S. Closing it and trying to run it again or running it as Administrator does not work.\r\n[![Empty android studio window that closes after ten seconds][1]][1]\r\n\r\n\r\n[![Task Manager][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iLqdM.png\r\n  [2]: https://i.stack.imgur.com/CN7ln.png","title":"Android studio does not open","body":"<p>2021-04-11 Installed the newest version of android studio. When trying to start it splash screen apears loads up and then empty screen appears and after ten seconds it closes. Android studio icon disappears from the taskbar. I can see that android is started in task manager. P.S. Closing it and trying to run it again or running it as Administrator does not work.\n<a href=\"https://i.stack.imgur.com/iLqdM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iLqdM.png\" alt=\"Empty android studio window that closes after ten seconds\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/CN7ln.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CN7ln.png\" alt=\"Task Manager\" /></a></p>\n"},{"tags":["java","rest","asynchronous","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661514633,"creation_date":1661514633,"answer_id":73500608,"question_id":73499643,"body_markdown":"You should not mutate objects in `subscribe`. The function passed to subscribe will be called asynchronously in an unknown time in the future.\r\n\r\nSubscribe should be considered a terminal operation, and should only serve to connect to other part of your system. It should not modify values inside the scope of your datastream.\r\n\r\nWhat you want, is a pipeline that *collects* all events, and then *map* them to a dto with collected events.\r\n\r\nAs a rule of thumb your pipeline result must be composed of accumulated results in the operation chain. You should never have a &quot;subscribe&quot; in the middle of the operation chain, and you should never mutate an object with it.\r\n\r\nI will provide a simplified example so you can take time to analyze the logic that can reach the goal: accumulate new values asynchronously in a single result. In this example, I&#39;ve removed any notion of &quot;detail&quot; to connect directly groups to events, to simplify the overall code.\r\n\r\nThe snippet:\r\n\r\n```java\r\nimport reactor.core.publisher.Flux;\r\nimport reactor.core.publisher.Mono;\r\n\r\nimport java.time.Duration;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class AccumulateProperly {\r\n\r\n    // Data object definitions\r\n\r\n    record Event(String data) {}\r\n    record Resource(int id) {}\r\n\r\n    record Group(String keyCode, List&lt;Event&gt; events) {\r\n        // When adding events, do not mute object directly. Instead, create a derived version\r\n        Group merge(List&lt;Event&gt; newEvents) {\r\n            var allEvents = new ArrayList&lt;&gt;(events);\r\n            allEvents.addAll(newEvents);\r\n            return new Group(keyCode, allEvents);\r\n        }\r\n    }\r\n\r\n    record MyDto(List&lt;Group&gt; groups) { }\r\n\r\n    static Flux&lt;Resource&gt; findResourcesByKeyCode(String keyCode) {\r\n        return Flux.just(new Resource(1), new Resource(2));\r\n    }\r\n\r\n    static Flux&lt;Event&gt; findEventById(int id) {\r\n        return Flux.just(\r\n                new Event(&quot;resource_&quot;+id+&quot;_event_1&quot;),\r\n                new Event(&quot;resource_&quot;+id+&quot;_event_2&quot;)\r\n        );\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        MyDto dtoInstance = new MyDto(List.of(new Group(&quot;myGroup&quot;, List.of())));\r\n        System.out.println(&quot;INITIAL STATE:&quot;);\r\n        System.out.println(dtoInstance);\r\n\r\n        // Asynchronous operation pipeline\r\n        Mono&lt;MyDto&gt; dtoCompletionPipeline = Mono.just(dtoInstance)\r\n                .flatMap(dto -&gt; Flux.fromIterable(dto.groups)\r\n                            // for each group, find associated resources\r\n                            .flatMap(group -&gt; findResourcesByKeyCode(group.keyCode())\r\n                                    // For each resource, fetch its associated event\r\n                                    .flatMap(resource -&gt; findEventById(resource.id()))\r\n                                    // Collect all events for the group\r\n                                    .collectList()\r\n                                    // accumulate collected events in a new instance of the group\r\n                                    .map(group::merge)\r\n                            )\r\n                            // Collect all groups after they&#39;ve collected events\r\n                            .collectList()\r\n                            // Build a new dto instance from the completed set of groups\r\n                            .map(completedGroups -&gt; new MyDto(completedGroups))\r\n                );\r\n\r\n\r\n        // NOTE: block is here only because we are in a main function and that I want to print\r\n        // pipeline output before program extinction.\r\n        // Try to avoid block. Return your mono, or connect it to another Mono or Flux object using\r\n        // an operation like flatMap.\r\n        dtoInstance = dtoCompletionPipeline.block(Duration.ofSeconds(1));\r\n        System.out.println(&quot;OUTPUT STATE:&quot;);\r\n        System.out.println(dtoInstance);\r\n    }\r\n}\r\n``` \r\n\r\nIts output:\r\n\r\n```log\r\nINITIAL STATE:\r\nMyDto[groups=[Group[keyCode=myGroup, events=[]]]]\r\nOUTPUT STATE:\r\nMyDto[groups=[Group[keyCode=myGroup, events=[Event[data=resource_1_event_1], Event[data=resource_1_event_2], Event[data=resource_2_event_1], Event[data=resource_2_event_2]]]]]\r\n```","title":"Java Reactor API: how to wait for an object to be modified by asynchronous calls to be completely modified before sending it back to the caller?","body":"<p>You should not mutate objects in <code>subscribe</code>. The function passed to subscribe will be called asynchronously in an unknown time in the future.</p>\n<p>Subscribe should be considered a terminal operation, and should only serve to connect to other part of your system. It should not modify values inside the scope of your datastream.</p>\n<p>What you want, is a pipeline that <em>collects</em> all events, and then <em>map</em> them to a dto with collected events.</p>\n<p>As a rule of thumb your pipeline result must be composed of accumulated results in the operation chain. You should never have a &quot;subscribe&quot; in the middle of the operation chain, and you should never mutate an object with it.</p>\n<p>I will provide a simplified example so you can take time to analyze the logic that can reach the goal: accumulate new values asynchronously in a single result. In this example, I've removed any notion of &quot;detail&quot; to connect directly groups to events, to simplify the overall code.</p>\n<p>The snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import reactor.core.publisher.Flux;\nimport reactor.core.publisher.Mono;\n\nimport java.time.Duration;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AccumulateProperly {\n\n    // Data object definitions\n\n    record Event(String data) {}\n    record Resource(int id) {}\n\n    record Group(String keyCode, List&lt;Event&gt; events) {\n        // When adding events, do not mute object directly. Instead, create a derived version\n        Group merge(List&lt;Event&gt; newEvents) {\n            var allEvents = new ArrayList&lt;&gt;(events);\n            allEvents.addAll(newEvents);\n            return new Group(keyCode, allEvents);\n        }\n    }\n\n    record MyDto(List&lt;Group&gt; groups) { }\n\n    static Flux&lt;Resource&gt; findResourcesByKeyCode(String keyCode) {\n        return Flux.just(new Resource(1), new Resource(2));\n    }\n\n    static Flux&lt;Event&gt; findEventById(int id) {\n        return Flux.just(\n                new Event(&quot;resource_&quot;+id+&quot;_event_1&quot;),\n                new Event(&quot;resource_&quot;+id+&quot;_event_2&quot;)\n        );\n    }\n\n    public static void main(String[] args) {\n        MyDto dtoInstance = new MyDto(List.of(new Group(&quot;myGroup&quot;, List.of())));\n        System.out.println(&quot;INITIAL STATE:&quot;);\n        System.out.println(dtoInstance);\n\n        // Asynchronous operation pipeline\n        Mono&lt;MyDto&gt; dtoCompletionPipeline = Mono.just(dtoInstance)\n                .flatMap(dto -&gt; Flux.fromIterable(dto.groups)\n                            // for each group, find associated resources\n                            .flatMap(group -&gt; findResourcesByKeyCode(group.keyCode())\n                                    // For each resource, fetch its associated event\n                                    .flatMap(resource -&gt; findEventById(resource.id()))\n                                    // Collect all events for the group\n                                    .collectList()\n                                    // accumulate collected events in a new instance of the group\n                                    .map(group::merge)\n                            )\n                            // Collect all groups after they've collected events\n                            .collectList()\n                            // Build a new dto instance from the completed set of groups\n                            .map(completedGroups -&gt; new MyDto(completedGroups))\n                );\n\n\n        // NOTE: block is here only because we are in a main function and that I want to print\n        // pipeline output before program extinction.\n        // Try to avoid block. Return your mono, or connect it to another Mono or Flux object using\n        // an operation like flatMap.\n        dtoInstance = dtoCompletionPipeline.block(Duration.ofSeconds(1));\n        System.out.println(&quot;OUTPUT STATE:&quot;);\n        System.out.println(dtoInstance);\n    }\n}\n</code></pre>\n<p>Its output:</p>\n<pre><code>INITIAL STATE:\nMyDto[groups=[Group[keyCode=myGroup, events=[]]]]\nOUTPUT STATE:\nMyDto[groups=[Group[keyCode=myGroup, events=[Event[data=resource_1_event_1], Event[data=resource_1_event_2], Event[data=resource_2_event_1], Event[data=resource_2_event_2]]]]]\n</code></pre>\n"}],"owner":{"account_id":103902,"reputation":791,"user_id":278060,"accept_rate":70,"display_name":"Harkonnen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73500608,"answer_count":1,"score":1,"last_activity_date":1661514633,"creation_date":1661509895,"question_id":73499643,"body_markdown":"I&#39;m totally new to the Java Reactor API. \r\n\r\nI use a WebClient to retrieve data from an external webservice, which I then map to a DTO of class &quot;LearnDetailDTO&quot;.\r\n\r\nBut before sending back this DTO, I have to modify it with data I get from another webservice. For this, I chain the calls with flatMap(). I get my data from the second webservice, but my DTO is returned before it is modified with the new data.\r\n\r\nMy problem is: how to wait until all calls to the second webservice are finished and the DTO is modified before sending it back to the caller?\r\n\r\nHere is my code:\r\n\r\n    class Controller {\r\n\r\n       @GetMapping(value = &quot;/learn/detail/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n        public Mono&lt;LearnDetailDTO&gt; getLearnDetail() {\r\n    \r\n            return getLearnDetailDTO();\r\n        }\r\n        \r\n        private Mono&lt;LearnDetailDTO&gt; getLearnDetailDTO() {\r\n           \r\n            \r\n            WebClient client = WebClient.create(&quot;https://my_rest_webservice.com&quot;);\r\n\r\n            return client\r\n                .get()\r\n                .retrieve()\r\n                .bodyToMono(LearnDetailDTO.class)\r\n                .flatMap(learnDetailDTO -&gt; {\r\n                    LearnDetailDTO newDto = new LearnDetailDTO(learnDetailDTO );\r\n\r\n                    for (GroupDTO group : newDto.getGroups()) {\r\n                        String keyCode = group.getKeyCode();\r\n\r\n                        for (GroupDetailDto detail : group.getGroupsDetailList()) {\r\n                            \r\n                                  adeService.getResourcesList(keyCode) // one asynchonous rest call to get resources\r\n                                     .flatMap(resource -&gt; {\r\n                                         Long id = resource.getData().get(0).getId();\r\n                                         return adeService.getEventList(id); // another asynchronous rest call to get an events list with the resource coming from the previous call\r\n                                      })\r\n                                      .subscribe(event -&gt; {\r\n                                         detail.setCreneaux(event.getData());\r\n                                      });\r\n                        }\r\n                    }\r\n\r\n                    return Mono.just(newDto);\r\n                });\r\n\r\n    }\r\n\r\nI tried to block() my call to adeservice.getEventList() instead of subscribe(), but I get the following error: \r\n\r\n&gt; block()/blockFirst()/blockLast() are blocking, which is not supported\r\n&gt; in thread reactor-http-nio-2\r\n\r\nHow to be sure that my newDTO object is complete before returning it ?","title":"Java Reactor API: how to wait for an object to be modified by asynchronous calls to be completely modified before sending it back to the caller?","body":"<p>I'm totally new to the Java Reactor API.</p>\n<p>I use a WebClient to retrieve data from an external webservice, which I then map to a DTO of class &quot;LearnDetailDTO&quot;.</p>\n<p>But before sending back this DTO, I have to modify it with data I get from another webservice. For this, I chain the calls with flatMap(). I get my data from the second webservice, but my DTO is returned before it is modified with the new data.</p>\n<p>My problem is: how to wait until all calls to the second webservice are finished and the DTO is modified before sending it back to the caller?</p>\n<p>Here is my code:</p>\n<pre><code>class Controller {\n\n   @GetMapping(value = &quot;/learn/detail/&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Mono&lt;LearnDetailDTO&gt; getLearnDetail() {\n\n        return getLearnDetailDTO();\n    }\n    \n    private Mono&lt;LearnDetailDTO&gt; getLearnDetailDTO() {\n       \n        \n        WebClient client = WebClient.create(&quot;https://my_rest_webservice.com&quot;);\n\n        return client\n            .get()\n            .retrieve()\n            .bodyToMono(LearnDetailDTO.class)\n            .flatMap(learnDetailDTO -&gt; {\n                LearnDetailDTO newDto = new LearnDetailDTO(learnDetailDTO );\n\n                for (GroupDTO group : newDto.getGroups()) {\n                    String keyCode = group.getKeyCode();\n\n                    for (GroupDetailDto detail : group.getGroupsDetailList()) {\n                        \n                              adeService.getResourcesList(keyCode) // one asynchonous rest call to get resources\n                                 .flatMap(resource -&gt; {\n                                     Long id = resource.getData().get(0).getId();\n                                     return adeService.getEventList(id); // another asynchronous rest call to get an events list with the resource coming from the previous call\n                                  })\n                                  .subscribe(event -&gt; {\n                                     detail.setCreneaux(event.getData());\n                                  });\n                    }\n                }\n\n                return Mono.just(newDto);\n            });\n\n}\n</code></pre>\n<p>I tried to block() my call to adeservice.getEventList() instead of subscribe(), but I get the following error:</p>\n<blockquote>\n<p>block()/blockFirst()/blockLast() are blocking, which is not supported\nin thread reactor-http-nio-2</p>\n</blockquote>\n<p>How to be sure that my newDTO object is complete before returning it ?</p>\n"},{"tags":["java","jwt"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1636378365,"post_id":69884298,"comment_id":123532955,"body_markdown":"does your token have an expiration?","body":"does your token have an expiration?"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1636378717,"post_id":69884298,"comment_id":123533125,"body_markdown":"What is the result of `GregorianCalendar(2021,  Calendar.NOVEMBER, 8).getTime()` ? Isn&#39;t it just the current time? If you set the expiration time like this, your token will always be expired.  Instead use something like current time + x minutes, and without setting a fixed date. Can you pls. add the actual token to the question?","body":"What is the result of <code>GregorianCalendar(2021,  Calendar.NOVEMBER, 8).getTime()</code> ? Isn&#39;t it just the current time? If you set the expiration time like this, your token will always be expired.  Instead use something like current time + x minutes, and without setting a fixed date. Can you pls. add the actual token to the question?"},{"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"score":0,"creation_date":1636388810,"post_id":69884298,"comment_id":123537499,"body_markdown":"I modified the expiration date by adding 10 minutes. But still the validation fails.   ```Long currentTime = java.lang.System.currentTimeMillis();```\n```Date expirationDate = new Date( currentTime + 600000);```\n```logger.info(&quot;currentTime: &quot;+ currentTime);```\n```String jws = Jwts.builder().setSubject(&quot;adam&quot;)\n                              .setExpiration(expirationDate) ```","body":"I modified the expiration date by adding 10 minutes. But still the validation fails.   <code>Long currentTime = java.lang.System.currentTimeMillis();</code> <code>Date expirationDate = new Date( currentTime + 600000);</code> <code>logger.info(&quot;currentTime: &quot;+ currentTime);</code> <code>String jws = Jwts.builder().setSubject(&quot;adam&quot;)                               .setExpiration(expirationDate) </code>"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1636389381,"post_id":69884298,"comment_id":123537735,"body_markdown":"Please share your token, so we can see if the exp is s correct unix timestamp in seconds.","body":"Please share your token, so we can see if the exp is s correct unix timestamp in seconds."},{"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"score":0,"creation_date":1636406944,"post_id":69884298,"comment_id":123544065,"body_markdown":"I ran the verifier in jwt.io/#encoded-jwt using the secure string eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZGFtIiwiZXhwIjoxNjM2NDAzOTYzLCJpc3MiOiJzb21lVXNlckBteWNvbXBhbnkuY29tIiwiZ3JvdXBzIjpbInVzZXIiLCJhZG1pbiJdfQ.lpy7bAGHrJ40t75Pr8CpdS4rVgDs9SvyXo3NKaXqEio created in the above code (String jws).  The verifire tool says Signarure Verified. I do not understand why the validator.isValid () brings me false. Here is the token contents. \n```{\n  &quot;alg&quot;: &quot;HS256&quot;\n}```\n\n{\n  &quot;sub&quot;: &quot;adam&quot;,\n  &quot;exp&quot;: 1636403963,\n  &quot;iss&quot;: &quot;someUser@mycompany.com&quot;,\n  &quot;groups&quot;: [\n    &quot;user&quot;,\n    &quot;admin&quot;\n  ]\n}","body":"I ran the verifier in jwt.io/#encoded-jwt using the secure string eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJhZGFtIiwiZXhwIjoxNjM2NDAzOTY&zwnj;&#8203;zLCJpc3MiOiJzb21lVXN&zwnj;&#8203;lckBteWNvbXBhbnkuY29&zwnj;&#8203;tIiwiZ3JvdXBzIjpbInV&zwnj;&#8203;zZXIiLCJhZG1pbiJdfQ.&zwnj;&#8203;lpy7bAGHrJ40t75Pr8Cp&zwnj;&#8203;dS4rVgDs9SvyXo3NKaXq&zwnj;&#8203;Eio created in the above code (String jws).  The verifire tool says Signarure Verified. I do not understand why the validator.isValid () brings me false. Here is the token contents.  <code>{   &quot;alg&quot;: &quot;HS256&quot; }</code>  {   &quot;sub&quot;: &quot;adam&quot;,   &quot;exp&quot;: 1636403963,   &quot;iss&quot;: &quot;someUser@mycompany.com&quot;,   &quot;groups&quot;: [     &quot;user&quot;,     &quot;admin&quot;   ] }"},{"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"score":0,"creation_date":1636407373,"post_id":69884298,"comment_id":123544206,"body_markdown":"Actually, the timestamp seem off. I printed the time stamp during program execution is it was 1636403963193, but the exp: 1636403963 in the token has dropped last 3 digits?????","body":"Actually, the timestamp seem off. I printed the time stamp during program execution is it was 1636403963193, but the exp: 1636403963 in the token has dropped last 3 digits?????"},{"owner":{"account_id":9899349,"reputation":20513,"user_id":7329832,"display_name":"jps"},"score":0,"creation_date":1636408107,"post_id":69884298,"comment_id":123544411,"body_markdown":"The timestamp in the token is correct, as mentioned above it&#39;s a UNIX Timetamp in seconds since 1970/01/01 00:00 UTC. Your number is in milliseconds. Don&#39;t know how you got a verified signature, I could not verify the signature with the given secret that you show in your question. Please read [here](https://stackoverflow.com/questions/69862105/jwt-io-says-signature-verified-even-when-key-is-not-provided) how you can verify a signature on jwt.io (and avoid the most common error that lets you believe you verified, even when the secret is wrong)","body":"The timestamp in the token is correct, as mentioned above it&#39;s a UNIX Timetamp in seconds since 1970/01/01 00:00 UTC. Your number is in milliseconds. Don&#39;t know how you got a verified signature, I could not verify the signature with the given secret that you show in your question. Please read <a href=\"https://stackoverflow.com/questions/69862105/jwt-io-says-signature-verified-even-when-key-is-not-provided\">here</a> how you can verify a signature on jwt.io (and avoid the most common error that lets you believe you verified, even when the secret is wrong)"},{"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"score":0,"creation_date":1636471217,"post_id":69884298,"comment_id":123562708,"body_markdown":"I agree. I did that in the wrong order at jwt.io. But my biggest concern is why isValid() method return false in spite of hardcoding the right secret and feeding correct algorithm.","body":"I agree. I did that in the wrong order at jwt.io. But my biggest concern is why isValid() method return false in spite of hardcoding the right secret and feeding correct algorithm."}],"answers":[{"tags":[],"owner":{"account_id":5488460,"reputation":1,"user_id":4362551,"display_name":"Michael McCabe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661514489,"creation_date":1661514489,"answer_id":73500585,"question_id":69884298,"body_markdown":"You need to base64 decode the secret first.\r\n\r\nreplace...\r\n\r\n```\r\nSecretKeySpec secretKeySpec = new SecretKeySpec(&quot;MTIzNDU2Nzg=&quot;.getBytes(),signatureAlgorithm.getJcaName());\r\n```\r\n\r\n with \r\n\r\n```\r\nSecretKeySpec secretKeySpec = new SecretKeySpec(TextCodec.BASE64.decode(&quot;MTIzNDU2Nzg=&quot;), signatureAlgorithm.getJcaName());\r\n```\r\n\r\nand it should work!","title":"I have created a JWT object with some data. Then I decode that same JWT object just to compare and see if the validation passes. But it does not","body":"<p>You need to base64 decode the secret first.</p>\n<p>replace...</p>\n<pre><code>SecretKeySpec secretKeySpec = new SecretKeySpec(&quot;MTIzNDU2Nzg=&quot;.getBytes(),signatureAlgorithm.getJcaName());\n</code></pre>\n<p>with</p>\n<pre><code>SecretKeySpec secretKeySpec = new SecretKeySpec(TextCodec.BASE64.decode(&quot;MTIzNDU2Nzg=&quot;), signatureAlgorithm.getJcaName());\n</code></pre>\n<p>and it should work!</p>\n"}],"owner":{"account_id":6612713,"reputation":23,"user_id":11435304,"display_name":"prain99"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661514489,"creation_date":1636378236,"question_id":69884298,"body_markdown":"I have created a JWT object with some data. Then I decode that same JWT object just to compare and see if the validation passes. But it does not. Following is the code I have created. What could be the issue?\r\n                   \r\n\r\n                  SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\r\n                  //Make a JWT Token String\r\n\r\n                  String jws = Jwts.builder().setSubject(&quot;adam&quot;)\r\n                   .setExpiration(new java.util.GregorianCalendar(2021, \r\n                                                            Calendar.NOVEMBER, 8).getTime())\r\n                   .setIssuer(&quot;someUser@mycompany.com&quot;)\r\n                   .claim(&quot;groups&quot;, new String[] { &quot;user&quot;, &quot;admin&quot; })\r\n\r\n                    // HMAC using SHA-512  and 12345678 base64 encoded\r\n                    .signWith(signatureAlgorithm, &quot;MTIzNDU2Nzg=&quot;).compact();\r\n\r\n                  System.out.println(&quot;JWTS String: &quot;+ jws.toString());\r\n\r\n                  //=================================================\r\n                  //Decode the string back           \r\n                  Base64.Decoder decoder = Base64.getDecoder();\r\n                  String[] chunks = jws.split(&quot;\\\\.&quot;);\r\n                  String header = new String(decoder.decode(chunks[0]));\r\n                  String payload = new String(decoder.decode(chunks[1]));\r\n                  String signature = chunks[2];\r\n                 \r\n                  System.out.println(&quot;Header: &quot; + header);\r\n                  System.out.println(&quot;PayLoad: &quot; + payload);\r\n                  System.out.println(&quot;Signature: &quot; + signature);\r\n\r\n                  String tokenWithoutSignature = chunks[0] + &quot;.&quot; + chunks[1];\r\n                  SecretKeySpec secretKeySpec = new\r\n                    SecretKeySpec(&quot;MTIzNDU2Nzg=&quot;.getBytes(),signatureAlgorithm.getJcaName());\r\n                  DefaultJwtSignatureValidator validator = new\r\n                    DefaultJwtSignatureValidator(signatureAlgorithm,secretKeySpec);\r\n\r\n                  if (validator.isValid(tokenWithoutSignature, signature)){\r\n                        System.out.println(&quot;TOKEN IS VALID&quot;);\r\n                  }else{\r\n                        System.out.println(&quot;TOKEN IS INVALID&quot;);\r\n                  }","title":"I have created a JWT object with some data. Then I decode that same JWT object just to compare and see if the validation passes. But it does not","body":"<p>I have created a JWT object with some data. Then I decode that same JWT object just to compare and see if the validation passes. But it does not. Following is the code I have created. What could be the issue?</p>\n<pre><code>              SignatureAlgorithm signatureAlgorithm = SignatureAlgorithm.HS256;\n              //Make a JWT Token String\n\n              String jws = Jwts.builder().setSubject(&quot;adam&quot;)\n               .setExpiration(new java.util.GregorianCalendar(2021, \n                                                        Calendar.NOVEMBER, 8).getTime())\n               .setIssuer(&quot;someUser@mycompany.com&quot;)\n               .claim(&quot;groups&quot;, new String[] { &quot;user&quot;, &quot;admin&quot; })\n\n                // HMAC using SHA-512  and 12345678 base64 encoded\n                .signWith(signatureAlgorithm, &quot;MTIzNDU2Nzg=&quot;).compact();\n\n              System.out.println(&quot;JWTS String: &quot;+ jws.toString());\n\n              //=================================================\n              //Decode the string back           \n              Base64.Decoder decoder = Base64.getDecoder();\n              String[] chunks = jws.split(&quot;\\\\.&quot;);\n              String header = new String(decoder.decode(chunks[0]));\n              String payload = new String(decoder.decode(chunks[1]));\n              String signature = chunks[2];\n             \n              System.out.println(&quot;Header: &quot; + header);\n              System.out.println(&quot;PayLoad: &quot; + payload);\n              System.out.println(&quot;Signature: &quot; + signature);\n\n              String tokenWithoutSignature = chunks[0] + &quot;.&quot; + chunks[1];\n              SecretKeySpec secretKeySpec = new\n                SecretKeySpec(&quot;MTIzNDU2Nzg=&quot;.getBytes(),signatureAlgorithm.getJcaName());\n              DefaultJwtSignatureValidator validator = new\n                DefaultJwtSignatureValidator(signatureAlgorithm,secretKeySpec);\n\n              if (validator.isValid(tokenWithoutSignature, signature)){\n                    System.out.println(&quot;TOKEN IS VALID&quot;);\n              }else{\n                    System.out.println(&quot;TOKEN IS INVALID&quot;);\n              }\n</code></pre>\n"},{"tags":["java","multithreading","synchronization"],"answers":[{"tags":[],"owner":{"account_id":8436661,"reputation":365,"user_id":6330628,"accept_rate":54,"display_name":"Sean2148"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661514317,"creation_date":1661514317,"answer_id":73500554,"question_id":63287640,"body_markdown":"I know the question is a couple years old, but incase anyone else is also unsure, I&#39;ll give this a stab. I don&#39;t believe you need to have your TargetDataLine and SourceDataLine in seperate threads if you just want to record audio and simultaenously playback that audio instantly (as quick as the Java Sound API will allow anyway...).\r\n\r\nIf you don&#39;t want your program to hang then you&#39;ll need at least one thread for reading in audio, and outputting audio to your system. If you use 2 threads I believe the delay would be quite noticeable.\r\n\r\nBelow is a simple implementation for real-time recording and playback in a single thread. When I tested this with a microphone and speakers there is some latency, I&#39;d guess &lt; 1000ms. There&#39;s probably a much better way to do this with lower latency if you do some research. This may also be of interest: https://stackoverflow.com/questions/57699417/how-to-synchronize-a-targetdataline-and-sourcedataline-in-java-synchronize-audi\r\n\r\n    import javax.sound.sampled.*;\r\n\r\n    public class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\r\n\r\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\r\n        final SourceDataLine sourceLine = (SourceDataLine) AudioSystem.getLine(info);\r\n        sourceLine.open();\r\n\r\n        info = new DataLine.Info(TargetDataLine.class, format);\r\n        final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\r\n        targetLine.open();\r\n        byte[] data = new byte[1024];\r\n\r\n        sourceLine.start();\r\n        targetLine.start();\r\n\r\n        Thread thread = new Thread() {\r\n            @Override\r\n            public void run() {\r\n                while (true) {\r\n                    targetLine.read(data, 0, data.length);\r\n                    sourceLine.write(data, 0, data.length);\r\n                }\r\n            }\r\n        };\r\n\r\n        thread.start();\r\n    }\r\n}","title":"Continuous audio stream in java","body":"<p>I know the question is a couple years old, but incase anyone else is also unsure, I'll give this a stab. I don't believe you need to have your TargetDataLine and SourceDataLine in seperate threads if you just want to record audio and simultaenously playback that audio instantly (as quick as the Java Sound API will allow anyway...).</p>\n<p>If you don't want your program to hang then you'll need at least one thread for reading in audio, and outputting audio to your system. If you use 2 threads I believe the delay would be quite noticeable.</p>\n<p>Below is a simple implementation for real-time recording and playback in a single thread. When I tested this with a microphone and speakers there is some latency, I'd guess &lt; 1000ms. There's probably a much better way to do this with lower latency if you do some research. This may also be of interest: <a href=\"https://stackoverflow.com/questions/57699417/how-to-synchronize-a-targetdataline-and-sourcedataline-in-java-synchronize-audi\">How to synchronize a TargetDataLine and SourceDataLine in Java (Synchronize audio recording and playback)</a></p>\n<pre><code>import javax.sound.sampled.*;\n\npublic class Main {\n\npublic static void main(String[] args) throws Exception {\n    AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\n\n    DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\n    final SourceDataLine sourceLine = (SourceDataLine) AudioSystem.getLine(info);\n    sourceLine.open();\n\n    info = new DataLine.Info(TargetDataLine.class, format);\n    final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\n    targetLine.open();\n    byte[] data = new byte[1024];\n\n    sourceLine.start();\n    targetLine.start();\n\n    Thread thread = new Thread() {\n        @Override\n        public void run() {\n            while (true) {\n                targetLine.read(data, 0, data.length);\n                sourceLine.write(data, 0, data.length);\n            }\n        }\n    };\n\n    thread.start();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":18803738,"reputation":23,"user_id":13792384,"display_name":"exo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":421,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661514317,"creation_date":1596729978,"question_id":63287640,"body_markdown":"I am learning to use the sound API of Java. I&#39;ve watched a [tutorial](https://youtu.be/TprSF6EAmUA) on YouTube where the instructor simply creates SourceDataLine and TargetDataLine instances and uses them in separate threads. He calls the threads one after another with a Thread.sleep() method in between. Within that sleeping period, the required sound is captured and then the sound is heard.\r\n\r\nNow, in the program below, I&#39;ve tried to extend the idea and tried to achieve a continuous stream of audio. That is, I will speak and the sound will be heard automatically. But it cannot be achieved. I know I am at wrong as I&#39;m still a newbie in this regard. What changes should I make and where? It won&#39;t be a problem if there is a satisfying delay between recording and playing the sound.\r\n\r\n**P.S.** I will try to use this with OpenCV video sharing in another program. If you know something about that, please feel free to share it. Thanks!\r\n\r\n```\r\nimport javax.sound.sampled.*;\r\nimport java.io.ByteArrayOutputStream;\r\n\r\npublic class Main {\r\n    public boolean recording = true;\r\n    public int rate = 0;\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\r\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\r\n        DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\r\n        final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\r\n\r\n        info = new DataLine.Info(SourceDataLine.class, format);\r\n        final SourceDataLine sourceLine = (SourceDataLine) AudioSystem.getLine(info);\r\n\r\n\r\n        Main m = new Main();\r\n        new record(m, format, out, targetLine);\r\n        new play(m, format, out, sourceLine);\r\n    }\r\n\r\n    synchronized public void record(TargetDataLine targetLine, ByteArrayOutputStream out){\r\n        while(!recording){\r\n            try{\r\n                wait();\r\n            }catch(Exception e){\r\n                System.out.println(e);\r\n            }\r\n        }\r\n        byte[] data = new byte[targetLine.getBufferSize()/5];\r\n        int readBytes;\r\n        readBytes = targetLine.read(data, 0, data.length);\r\n        out.write(data, 0, readBytes);\r\n    }\r\n\r\n    synchronized public void play(SourceDataLine sourceLine, ByteArrayOutputStream out){\r\n        while(recording){\r\n            try{\r\n                wait();\r\n            }catch(Exception e){\r\n                System.out.println(e);\r\n            }\r\n        }\r\n        sourceLine.write(out.toByteArray(), 0, out.size());\r\n    }\r\n\r\n    synchronized public int change(){\r\n        rate++;\r\n        if(rate &gt; 6000 &amp;&amp; recording){\r\n            rate = 0;\r\n            recording = false;\r\n            notifyAll();\r\n            return 1;\r\n        }\r\n        else if(rate &gt; 6000 &amp;&amp; !recording){\r\n            rate = 0;\r\n            recording = true;\r\n            notifyAll();\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n}\r\n\r\nclass record implements Runnable{\r\n    private Main m;\r\n    private AudioFormat format;\r\n    private ByteArrayOutputStream out;\r\n    final TargetDataLine targetLine;\r\n\r\n    public record(Main m, AudioFormat format, ByteArrayOutputStream out, TargetDataLine targetLine) throws Exception{\r\n        this.m = m;\r\n        this.format = format;\r\n        this.out = out;\r\n        this.targetLine = targetLine;\r\n        targetLine.open();\r\n        System.out.println(&quot;Started recording...&quot;);\r\n        new Thread(this).start();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        targetLine.start();\r\n        while(true){\r\n            m.record(targetLine, out);\r\n            while(m.change() == 1) targetLine.stop();\r\n            targetLine.start();\r\n        }\r\n    }\r\n}\r\n\r\nclass play implements Runnable{\r\n    private Main m;\r\n    private AudioFormat format;\r\n    private ByteArrayOutputStream out;\r\n    final SourceDataLine sourceLine;\r\n\r\n    public play(Main m, AudioFormat format, ByteArrayOutputStream out, SourceDataLine sourceLine) throws Exception{\r\n        this.m = m;\r\n        this.format = format;\r\n        this.out = out;\r\n        this.sourceLine = sourceLine;\r\n        sourceLine.open();\r\n        System.out.println(&quot;Started playing...&quot;);\r\n        new Thread(this).start();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        sourceLine.start();\r\n        while(true){\r\n            m.play(sourceLine, out);\r\n            while(m.change() == 1) sourceLine.stop();\r\n            sourceLine.start();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n**Edit:**\r\n\r\nI can get two streams run one after another as follows, but I have to hard-code the threads. I wrote four threads individually. How can I write efficient code, i.e. make use of the two earlier threads and record-play sound continuously? My synchronization doesn&#39;t seem to work.\r\n\r\n```\r\nimport javax.sound.sampled.*;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.math.BigInteger;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception{\r\n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\r\n\r\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\r\n        final SourceDataLine sourceLine = (SourceDataLine) AudioSystem.getLine(info);\r\n        sourceLine.open();\r\n\r\n        info = new DataLine.Info(TargetDataLine.class, format);\r\n        final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\r\n        targetLine.open();\r\n\r\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\r\n        Thread record = new Thread(){\r\n            @Override\r\n            public void run(){\r\n                targetLine.start();\r\n                byte[] data = new byte[targetLine.getBufferSize()/5];\r\n                int readBytes;\r\n                while(true){\r\n                    readBytes = targetLine.read(data, 0, data.length);\r\n                    out.write(data, 0, readBytes);\r\n                }\r\n          }\r\n        };\r\n\r\n        Thread play = new Thread(){\r\n            @Override\r\n            public void run(){\r\n                sourceLine.start();\r\n                while(true){\r\n                    sourceLine.write(out.toByteArray(), 0, out.toByteArray().length);\r\n                }\r\n            }\r\n        };\r\n\r\n        final ByteArrayOutputStream out1 = new ByteArrayOutputStream();\r\n\r\n        Thread record1 = new Thread(() -&gt; {\r\n            targetLine.start();\r\n            byte[] data = new byte[targetLine.getBufferSize()/5];\r\n            int readBytes;\r\n            while(true){\r\n                readBytes = targetLine.read(data, 0, data.length);\r\n                out1.write(data, 0, readBytes);\r\n            }\r\n        });\r\n\r\n        Thread play1 = new Thread(() -&gt; {\r\n            sourceLine.start();\r\n            while(true){\r\n                sourceLine.write(out1.toByteArray(), 0, out1.toByteArray().length);\r\n            }\r\n        });\r\n\r\n        record.start();\r\n        System.out.println(&quot;Recording...&quot;);\r\n        Thread.sleep(4000);\r\n        targetLine.stop();\r\n        targetLine.drain();\r\n        targetLine.close();\r\n\r\n        play.start();\r\n        Thread.sleep(4000);\r\n        System.out.println(&quot;Playing...&quot;);\r\n        sourceLine.stop();\r\n        sourceLine.drain();\r\n        sourceLine.close();\r\n\r\n        targetLine.open();\r\n        sourceLine.open();\r\n        record1.start();\r\n        System.out.println(&quot;Recording...&quot;);\r\n        Thread.sleep(4000);\r\n        targetLine.stop();\r\n        targetLine.close();\r\n\r\n        play1.start();\r\n        Thread.sleep(4000);\r\n        System.out.println(&quot;Playing...&quot;);\r\n        sourceLine.stop();\r\n        sourceLine.close();\r\n    }\r\n}\r\n```","title":"Continuous audio stream in java","body":"<p>I am learning to use the sound API of Java. I've watched a <a href=\"https://youtu.be/TprSF6EAmUA\" rel=\"nofollow noreferrer\">tutorial</a> on YouTube where the instructor simply creates SourceDataLine and TargetDataLine instances and uses them in separate threads. He calls the threads one after another with a Thread.sleep() method in between. Within that sleeping period, the required sound is captured and then the sound is heard.</p>\n<p>Now, in the program below, I've tried to extend the idea and tried to achieve a continuous stream of audio. That is, I will speak and the sound will be heard automatically. But it cannot be achieved. I know I am at wrong as I'm still a newbie in this regard. What changes should I make and where? It won't be a problem if there is a satisfying delay between recording and playing the sound.</p>\n<p><strong>P.S.</strong> I will try to use this with OpenCV video sharing in another program. If you know something about that, please feel free to share it. Thanks!</p>\n<pre><code>import javax.sound.sampled.*;\nimport java.io.ByteArrayOutputStream;\n\npublic class Main {\n    public boolean recording = true;\n    public int rate = 0;\n\n    public static void main(String[] args) throws Exception{\n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n        DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n        final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\n\n        info = new DataLine.Info(SourceDataLine.class, format);\n        final SourceDataLine sourceLine = (SourceDataLine) AudioSystem.getLine(info);\n\n\n        Main m = new Main();\n        new record(m, format, out, targetLine);\n        new play(m, format, out, sourceLine);\n    }\n\n    synchronized public void record(TargetDataLine targetLine, ByteArrayOutputStream out){\n        while(!recording){\n            try{\n                wait();\n            }catch(Exception e){\n                System.out.println(e);\n            }\n        }\n        byte[] data = new byte[targetLine.getBufferSize()/5];\n        int readBytes;\n        readBytes = targetLine.read(data, 0, data.length);\n        out.write(data, 0, readBytes);\n    }\n\n    synchronized public void play(SourceDataLine sourceLine, ByteArrayOutputStream out){\n        while(recording){\n            try{\n                wait();\n            }catch(Exception e){\n                System.out.println(e);\n            }\n        }\n        sourceLine.write(out.toByteArray(), 0, out.size());\n    }\n\n    synchronized public int change(){\n        rate++;\n        if(rate &gt; 6000 &amp;&amp; recording){\n            rate = 0;\n            recording = false;\n            notifyAll();\n            return 1;\n        }\n        else if(rate &gt; 6000 &amp;&amp; !recording){\n            rate = 0;\n            recording = true;\n            notifyAll();\n            return 1;\n        }\n        return 0;\n    }\n}\n\nclass record implements Runnable{\n    private Main m;\n    private AudioFormat format;\n    private ByteArrayOutputStream out;\n    final TargetDataLine targetLine;\n\n    public record(Main m, AudioFormat format, ByteArrayOutputStream out, TargetDataLine targetLine) throws Exception{\n        this.m = m;\n        this.format = format;\n        this.out = out;\n        this.targetLine = targetLine;\n        targetLine.open();\n        System.out.println(&quot;Started recording...&quot;);\n        new Thread(this).start();\n    }\n\n    @Override\n    public void run() {\n        targetLine.start();\n        while(true){\n            m.record(targetLine, out);\n            while(m.change() == 1) targetLine.stop();\n            targetLine.start();\n        }\n    }\n}\n\nclass play implements Runnable{\n    private Main m;\n    private AudioFormat format;\n    private ByteArrayOutputStream out;\n    final SourceDataLine sourceLine;\n\n    public play(Main m, AudioFormat format, ByteArrayOutputStream out, SourceDataLine sourceLine) throws Exception{\n        this.m = m;\n        this.format = format;\n        this.out = out;\n        this.sourceLine = sourceLine;\n        sourceLine.open();\n        System.out.println(&quot;Started playing...&quot;);\n        new Thread(this).start();\n    }\n\n    @Override\n    public void run() {\n        sourceLine.start();\n        while(true){\n            m.play(sourceLine, out);\n            while(m.change() == 1) sourceLine.stop();\n            sourceLine.start();\n        }\n    }\n}\n\n</code></pre>\n<p><strong>Edit:</strong></p>\n<p>I can get two streams run one after another as follows, but I have to hard-code the threads. I wrote four threads individually. How can I write efficient code, i.e. make use of the two earlier threads and record-play sound continuously? My synchronization doesn't seem to work.</p>\n<pre><code>import javax.sound.sampled.*;\nimport java.io.ByteArrayOutputStream;\nimport java.math.BigInteger;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception{\n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.PCM_SIGNED, 44100, 16, 2, 4, 44100, false);\n\n        DataLine.Info info = new DataLine.Info(SourceDataLine.class, format);\n        final SourceDataLine sourceLine = (SourceDataLine) AudioSystem.getLine(info);\n        sourceLine.open();\n\n        info = new DataLine.Info(TargetDataLine.class, format);\n        final TargetDataLine targetLine = (TargetDataLine) AudioSystem.getLine(info);\n        targetLine.open();\n\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n        Thread record = new Thread(){\n            @Override\n            public void run(){\n                targetLine.start();\n                byte[] data = new byte[targetLine.getBufferSize()/5];\n                int readBytes;\n                while(true){\n                    readBytes = targetLine.read(data, 0, data.length);\n                    out.write(data, 0, readBytes);\n                }\n          }\n        };\n\n        Thread play = new Thread(){\n            @Override\n            public void run(){\n                sourceLine.start();\n                while(true){\n                    sourceLine.write(out.toByteArray(), 0, out.toByteArray().length);\n                }\n            }\n        };\n\n        final ByteArrayOutputStream out1 = new ByteArrayOutputStream();\n\n        Thread record1 = new Thread(() -&gt; {\n            targetLine.start();\n            byte[] data = new byte[targetLine.getBufferSize()/5];\n            int readBytes;\n            while(true){\n                readBytes = targetLine.read(data, 0, data.length);\n                out1.write(data, 0, readBytes);\n            }\n        });\n\n        Thread play1 = new Thread(() -&gt; {\n            sourceLine.start();\n            while(true){\n                sourceLine.write(out1.toByteArray(), 0, out1.toByteArray().length);\n            }\n        });\n\n        record.start();\n        System.out.println(&quot;Recording...&quot;);\n        Thread.sleep(4000);\n        targetLine.stop();\n        targetLine.drain();\n        targetLine.close();\n\n        play.start();\n        Thread.sleep(4000);\n        System.out.println(&quot;Playing...&quot;);\n        sourceLine.stop();\n        sourceLine.drain();\n        sourceLine.close();\n\n        targetLine.open();\n        sourceLine.open();\n        record1.start();\n        System.out.println(&quot;Recording...&quot;);\n        Thread.sleep(4000);\n        targetLine.stop();\n        targetLine.close();\n\n        play1.start();\n        Thread.sleep(4000);\n        System.out.println(&quot;Playing...&quot;);\n        sourceLine.stop();\n        sourceLine.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","tomcat"],"comments":[{"owner":{"account_id":24657838,"reputation":1931,"user_id":18554369,"display_name":"blabla_bingo"},"score":1,"creation_date":1661508609,"post_id":73499257,"comment_id":129794221,"body_markdown":"I&#39;m not sure about how to timeout slow queries from application server. But it&#39;s manipulable  in MySQL. Try the system variable `MAX_EXECUTION_TIME` .","body":"I&#39;m not sure about how to timeout slow queries from application server. But it&#39;s manipulable  in MySQL. Try the system variable <code>MAX_EXECUTION_TIME</code> ."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":1,"creation_date":1661574723,"post_id":73499257,"comment_id":129809883,"body_markdown":"What version of MySQL?  See also MariaDB.","body":"What version of MySQL?  See also MariaDB."},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1661647197,"post_id":73499257,"comment_id":129821432,"body_markdown":"You may find this URL useful, it has references to both MariaDB and MySQL options.  https://mariadb.com/kb/en/aborting-statements/\n  Look twice before you leap into this part of the world.  Do NOT forget there are sometimes pauses especially when buffer pool dirty pages are processing to storage media.","body":"You may find this URL useful, it has references to both MariaDB and MySQL options.  <a href=\"https://mariadb.com/kb/en/aborting-statements/\" rel=\"nofollow noreferrer\">mariadb.com/kb/en/aborting-statements</a>   Look twice before you leap into this part of the world.  Do NOT forget there are sometimes pauses especially when buffer pool dirty pages are processing to storage media."},{"owner":{"account_id":5577723,"reputation":2140,"user_id":4420649,"display_name":"Wilson Hauck"},"score":0,"creation_date":1661708412,"post_id":73499257,"comment_id":129830894,"body_markdown":"Short answer is Yes for MySQL db.  Review ALL max_? Global Variables.","body":"Short answer is Yes for MySQL db.  Review ALL max_? Global Variables."}],"answers":[{"tags":[],"owner":{"account_id":8998143,"reputation":425,"user_id":6707702,"display_name":"Mohit Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661513991,"creation_date":1661513991,"answer_id":73500480,"question_id":73499257,"body_markdown":"In hikari Connection Pool there is a property - maxLifetimeMs which you can manipulate in two different ways:\r\n\r\n1. Adding values in property file :\r\n \r\n\r\n&gt;     spring:\r\n&gt;         hikari:\r\n&gt;              max-lifetime: 840000\r\n\r\n2. Changing in the config :\r\n\r\n&gt;        final HikariDataSource dataSource;  \r\n&gt;        config.setMaxLifetime(840000);\r\n\r\nThis will have set the maximum time taken out by a query. No query can run beyond the duration set by you.\r\n\r\nFor identification of slow query you need to integrate any APM tool with your application server","title":"Is there any way to timeout slow queries on application server","body":"<p>In hikari Connection Pool there is a property - maxLifetimeMs which you can manipulate in two different ways:</p>\n<ol>\n<li>Adding values in property file :</li>\n</ol>\n<blockquote>\n<pre><code>spring:\n    hikari:\n         max-lifetime: 840000\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Changing in the config :</li>\n</ol>\n<blockquote>\n<pre><code>   final HikariDataSource dataSource;  \n   config.setMaxLifetime(840000);\n</code></pre>\n</blockquote>\n<p>This will have set the maximum time taken out by a query. No query can run beyond the duration set by you.</p>\n<p>For identification of slow query you need to integrate any APM tool with your application server</p>\n"}],"owner":{"account_id":10191003,"reputation":11,"user_id":7524429,"display_name":"Shivam Singhal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661513991,"creation_date":1661507996,"question_id":73499257,"body_markdown":"I am using MySQL DB and spring boot 2.0.0 deployed on tomcat server, is there any way I can timeout slow queries from my application server.","title":"Is there any way to timeout slow queries on application server","body":"<p>I am using MySQL DB and spring boot 2.0.0 deployed on tomcat server, is there any way I can timeout slow queries from my application server.</p>\n"},{"tags":["java","exception","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661508768,"creation_date":1661508768,"answer_id":73499409,"question_id":73498486,"body_markdown":"Your job is missing from the job registry.\r\n\r\nTry adding a JobRegistryBeanPostProcessor Bean to your configuration\r\n\r\n```\r\n    @Bean\r\n    public JobRegistryBeanPostProcessor jobRegistryBeanPostProcessor(JobRegistry jobRegistry) {\r\n        JobRegistryBeanPostProcessor postProcessor = new JobRegistryBeanPostProcessor();\r\n        postProcessor.setJobRegistry(jobRegistry);\r\n        return postProcessor;\r\n    }\r\n```","title":"&quot;No job configuration with the name [] was registered&quot; exception","body":"<p>Your job is missing from the job registry.</p>\n<p>Try adding a JobRegistryBeanPostProcessor Bean to your configuration</p>\n<pre><code>    @Bean\n    public JobRegistryBeanPostProcessor jobRegistryBeanPostProcessor(JobRegistry jobRegistry) {\n        JobRegistryBeanPostProcessor postProcessor = new JobRegistryBeanPostProcessor();\n        postProcessor.setJobRegistry(jobRegistry);\n        return postProcessor;\n    }\n</code></pre>\n"}],"owner":{"account_id":26164564,"reputation":31,"user_id":19850570,"display_name":"leetrinh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73499409,"answer_count":1,"score":1,"last_activity_date":1661513897,"creation_date":1661504170,"question_id":73498486,"body_markdown":"I am seeing this exception when trying to start a new spring batch job by quartz scheduler.\r\nThis is my job configuration:\r\n\r\n    @Autowired\r\n    private BagCmTrkRepository bagCmTrkRepo;\r\n\r\n    @Autowired\r\n    private BagTrkRepository bagTrkRepo;\r\n\r\n    @Setter(onMethod = @__({@Autowired, @Qualifier(&quot;reposDataSource&quot;)}))\r\n    private DataSource jobDataSource;\r\n\r\n    @Setter(onMethod = @__({@Autowired, @Qualifier(&quot;slaveEntityManagerFactory&quot;)}))\r\n    private EntityManagerFactory slaveManagerFactory;\r\n\r\n    private static final String SELECT_SQL = &quot;SELECT b &quot; +\r\n            &quot;FROM Bag b &quot; +\r\n            &quot;WHERE created&gt;= :startTime and created &lt; :endTime &quot; +\r\n            &quot;AND isDone = 1&quot;;\r\n\r\n    private final String masterStepName = &quot;bagCMMasterStep&quot;;\r\n\r\n    @Bean(&quot;bagCMPartitioning&quot;)\r\n    public BagCMPartitionerAndJobListener bagCMPartitionerAndJobListener() {\r\n        BagCMPartitionerAndJobListener partitioner = new BagCMPartitionerAndJobListener();\r\n        partitioner.setBagCmTrkRepo(bagCmTrkRepo);\r\n        partitioner.setJobDataSource(jobDataSource);\r\n        partitioner.setMasterStepName(masterStepName);\r\n        return partitioner;\r\n    }\r\n\r\n    @Bean(&quot;bagCMReader&quot;)\r\n    @StepScope\r\n    public JpaCursorItemReader&lt;Bag&gt; bagCMReader(@Value(&quot;#{stepExecutionContext[&#39;startTime&#39;]}&quot;) Object startTime,\r\n                                                @Value(&quot;#{stepExecutionContext[&#39;endTime&#39;]}&quot;) Object endTime) {\r\n        JpaCursorItemReader&lt;Bag&gt; cursorItemReader = new JpaCursorItemReader&lt;&gt;();\r\n        Map&lt;String, Object&gt; namedParameters = new HashMap&lt;&gt;() {{\r\n            put(&quot;startTime&quot;, (Timestamp) startTime);\r\n            put(&quot;endTime&quot;, (Timestamp) endTime);\r\n        }};\r\n        cursorItemReader.setName(&quot;CursorItemReader&quot;);\r\n        cursorItemReader.setQueryString(SELECT_SQL);\r\n        cursorItemReader.setEntityManagerFactory(slaveManagerFactory);\r\n        cursorItemReader.setParameterValues(namedParameters);\r\n        return cursorItemReader;\r\n    }\r\n\r\n    @Bean(&quot;bagCMProcessor&quot;)\r\n    @StepScope\r\n    public ItemProcessor&lt;Bag, BagTrk&gt; bagCMItemProcessor(@Value(&quot;#{stepExecution.jobExecution.jobId}&quot;) Object jobId) {\r\n        Long cmJobId = (Long) jobId;\r\n        return new BagCMProcessor(cmJobId);\r\n    }\r\n\r\n\r\n    @Bean(&quot;bagCMWriter&quot;)\r\n    @StepScope\r\n    public ItemWriter&lt;BagTrk&gt; bagCMItemWriter() {\r\n        return new BagCMWriter(bagTrkRepo);\r\n    }\r\n\r\n    @Bean(&quot;slaveCMStep&quot;)\r\n    public Step slaveCMStep() {\r\n        return steps.get(&quot;bagCMSlaveStep&quot;)\r\n                .&lt;Bag, BagTrk&gt;chunk(10)\r\n                .reader(bagCMReader(null, null))\r\n                .processor(bagCMItemProcessor(null))\r\n                .writer(bagCMItemWriter())\r\n                .build();\r\n    }\r\n\r\n    @Bean(&quot;masterCMStep&quot;)\r\n    public Step masterCMStep() {\r\n        return steps.get(masterStepName)\r\n                .partitioner(slaveCMStep().getName(), bagCMPartitionerAndJobListener())\r\n                .step(slaveCMStep())\r\n                .gridSize(BagCMPartitionerAndJobListener.NUMBER_OF_WINDOWS)\r\n                .taskExecutor(new SimpleAsyncTaskExecutor())\r\n                .build();\r\n    }\r\n\r\n    @Bean(&quot;cmJob&quot;)\r\n    public Job job() {\r\n        return jobs.get(&quot;cmJob&quot;)\r\n                .listener(bagCMPartitionerAndJobListener())\r\n                .start(masterCMStep())\r\n                .build();\r\n    }\r\n\r\n\r\n**and when starting the application, I got this:**\r\n\r\norg.springframework.batch.core.launch.NoSuchJobException: No job configuration with the name [cmJob] was registered\r\n\tat org.springframework.batch.core.configuration.support.MapJobRegistry.getJob(MapJobRegistry.java:68)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy86.getJob(Unknown Source)\r\n\tat vn.ghtk.archiving.ecom.bag.cm.job.BagCMQuartzJob.executeInternal(BagCMQuartzJob.java:29)\r\n\tat org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75)\r\n\tat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\r\n\tat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)\r\n\r\n\r\nCan anyone help me?\r\n\r\n\r\n","title":"&quot;No job configuration with the name [] was registered&quot; exception","body":"<p>I am seeing this exception when trying to start a new spring batch job by quartz scheduler.\nThis is my job configuration:</p>\n<pre><code>@Autowired\nprivate BagCmTrkRepository bagCmTrkRepo;\n\n@Autowired\nprivate BagTrkRepository bagTrkRepo;\n\n@Setter(onMethod = @__({@Autowired, @Qualifier(&quot;reposDataSource&quot;)}))\nprivate DataSource jobDataSource;\n\n@Setter(onMethod = @__({@Autowired, @Qualifier(&quot;slaveEntityManagerFactory&quot;)}))\nprivate EntityManagerFactory slaveManagerFactory;\n\nprivate static final String SELECT_SQL = &quot;SELECT b &quot; +\n        &quot;FROM Bag b &quot; +\n        &quot;WHERE created&gt;= :startTime and created &lt; :endTime &quot; +\n        &quot;AND isDone = 1&quot;;\n\nprivate final String masterStepName = &quot;bagCMMasterStep&quot;;\n\n@Bean(&quot;bagCMPartitioning&quot;)\npublic BagCMPartitionerAndJobListener bagCMPartitionerAndJobListener() {\n    BagCMPartitionerAndJobListener partitioner = new BagCMPartitionerAndJobListener();\n    partitioner.setBagCmTrkRepo(bagCmTrkRepo);\n    partitioner.setJobDataSource(jobDataSource);\n    partitioner.setMasterStepName(masterStepName);\n    return partitioner;\n}\n\n@Bean(&quot;bagCMReader&quot;)\n@StepScope\npublic JpaCursorItemReader&lt;Bag&gt; bagCMReader(@Value(&quot;#{stepExecutionContext['startTime']}&quot;) Object startTime,\n                                            @Value(&quot;#{stepExecutionContext['endTime']}&quot;) Object endTime) {\n    JpaCursorItemReader&lt;Bag&gt; cursorItemReader = new JpaCursorItemReader&lt;&gt;();\n    Map&lt;String, Object&gt; namedParameters = new HashMap&lt;&gt;() {{\n        put(&quot;startTime&quot;, (Timestamp) startTime);\n        put(&quot;endTime&quot;, (Timestamp) endTime);\n    }};\n    cursorItemReader.setName(&quot;CursorItemReader&quot;);\n    cursorItemReader.setQueryString(SELECT_SQL);\n    cursorItemReader.setEntityManagerFactory(slaveManagerFactory);\n    cursorItemReader.setParameterValues(namedParameters);\n    return cursorItemReader;\n}\n\n@Bean(&quot;bagCMProcessor&quot;)\n@StepScope\npublic ItemProcessor&lt;Bag, BagTrk&gt; bagCMItemProcessor(@Value(&quot;#{stepExecution.jobExecution.jobId}&quot;) Object jobId) {\n    Long cmJobId = (Long) jobId;\n    return new BagCMProcessor(cmJobId);\n}\n\n\n@Bean(&quot;bagCMWriter&quot;)\n@StepScope\npublic ItemWriter&lt;BagTrk&gt; bagCMItemWriter() {\n    return new BagCMWriter(bagTrkRepo);\n}\n\n@Bean(&quot;slaveCMStep&quot;)\npublic Step slaveCMStep() {\n    return steps.get(&quot;bagCMSlaveStep&quot;)\n            .&lt;Bag, BagTrk&gt;chunk(10)\n            .reader(bagCMReader(null, null))\n            .processor(bagCMItemProcessor(null))\n            .writer(bagCMItemWriter())\n            .build();\n}\n\n@Bean(&quot;masterCMStep&quot;)\npublic Step masterCMStep() {\n    return steps.get(masterStepName)\n            .partitioner(slaveCMStep().getName(), bagCMPartitionerAndJobListener())\n            .step(slaveCMStep())\n            .gridSize(BagCMPartitionerAndJobListener.NUMBER_OF_WINDOWS)\n            .taskExecutor(new SimpleAsyncTaskExecutor())\n            .build();\n}\n\n@Bean(&quot;cmJob&quot;)\npublic Job job() {\n    return jobs.get(&quot;cmJob&quot;)\n            .listener(bagCMPartitionerAndJobListener())\n            .start(masterCMStep())\n            .build();\n}\n</code></pre>\n<p><strong>and when starting the application, I got this:</strong></p>\n<p>org.springframework.batch.core.launch.NoSuchJobException: No job configuration with the name [cmJob] was registered\nat org.springframework.batch.core.configuration.support.MapJobRegistry.getJob(MapJobRegistry.java:68)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\nat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\nat jdk.proxy2/jdk.proxy2.$Proxy86.getJob(Unknown Source)\nat vn.ghtk.archiving.ecom.bag.cm.job.BagCMQuartzJob.executeInternal(BagCMQuartzJob.java:29)\nat org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:75)\nat org.quartz.core.JobRunShell.run(JobRunShell.java:202)\nat org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:573)</p>\n<p>Can anyone help me?</p>\n"},{"tags":["java","scala","intellij-idea","sbt"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661533259,"post_id":73499944,"comment_id":129802940,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1459856,"reputation":14996,"user_id":1374461,"display_name":"Jasper-M"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661513878,"creation_date":1661513362,"answer_id":73500348,"question_id":73499944,"body_markdown":"`dbutils-api_2.11` is compiled for Scala 2.11, and is not compatible with Scala 2.12. You should use `dbutils-api_2.12` if that exists, or otherwise just not use that library.\r\n\r\nFor Scala libraries you should use the `%%` syntax to avoid these kinds of issues: \r\n\r\n```\r\n&quot;com.databricks&quot; %% &quot;dbutils-api&quot; % &quot;0.0.4&quot;\r\n```\r\n\r\nNow the correct suffix will be added automatically by sbt.\r\n\r\nOn [mvnrepository](https://mvnrepository.com/artifact/com.databricks/dbutils-api) you can see which versions are available.","title":"scala 2.12 NoClassDefFoundError: scala/Product$class Caused by: ClassNotFoundException: scala.Product$class","body":"<p><code>dbutils-api_2.11</code> is compiled for Scala 2.11, and is not compatible with Scala 2.12. You should use <code>dbutils-api_2.12</code> if that exists, or otherwise just not use that library.</p>\n<p>For Scala libraries you should use the <code>%%</code> syntax to avoid these kinds of issues:</p>\n<pre><code>&quot;com.databricks&quot; %% &quot;dbutils-api&quot; % &quot;0.0.4&quot;\n</code></pre>\n<p>Now the correct suffix will be added automatically by sbt.</p>\n<p>On <a href=\"https://mvnrepository.com/artifact/com.databricks/dbutils-api\" rel=\"nofollow noreferrer\">mvnrepository</a> you can see which versions are available.</p>\n"}],"owner":{"account_id":23844531,"reputation":1,"user_id":17849192,"display_name":"Pankajkumar Shende"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661513878,"creation_date":1661511381,"question_id":73499944,"body_markdown":"I have getting this error when I execute the scala code using Jar file.\r\nBelow versions used \r\n\r\nscala version: 2.12  and \r\nsbt:  1.7.1   \r\nspark: 3.1.2.\r\njava - jdk 1.8.0_331\r\n\r\nError: NoClassDefFoundError: scala/Product$class Caused by: ClassNotFoundException: scala.Product$class\r\n\r\ndependent library used in sbt.build:\r\n\r\n    &quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.1.2&quot; %&quot;provided&quot;,\r\n    &quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.1.2&quot; %&quot;provided&quot;,\r\n    &quot;commons-validator&quot; % &quot;commons-validator&quot; % &quot;1.6&quot;,\r\n    &quot;org.elasticsearch&quot; %% &quot;elasticsearch-spark-20&quot; % &quot;7.14.1&quot;,   \r\n    &quot;com.github.pureconfig&quot; %% &quot;pureconfig&quot; % &quot;0.12.3&quot;,\r\n    &quot;org.rogach&quot; %% &quot;scallop&quot; % &quot;3.5.0&quot;,\r\n    &quot;com.github.dwickern&quot; %% &quot;scala-nameof&quot; % &quot;1.0.3&quot; ,\r\n    &quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-core&quot; % &quot;7.14.1&quot;,\r\n    &quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-client-esjava&quot; % &quot;7.14.1&quot;,\r\n    &quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-http-streams&quot; % &quot;7.14.1&quot;,\r\n    &quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-testkit&quot; % &quot;7.14.1&quot; % &quot;test&quot;,\r\n    &quot;com.databricks&quot; % &quot;dbutils-api_2.11&quot; % &quot;0.0.4&quot;\r\n\r\nTried multiple ways do not get the solution yet. any help much apreciated.\r\n\r\nThanks\r\n\r\n","title":"scala 2.12 NoClassDefFoundError: scala/Product$class Caused by: ClassNotFoundException: scala.Product$class","body":"<p>I have getting this error when I execute the scala code using Jar file.\nBelow versions used</p>\n<p>scala version: 2.12  and\nsbt:  1.7.1<br />\nspark: 3.1.2.\njava - jdk 1.8.0_331</p>\n<p>Error: NoClassDefFoundError: scala/Product$class Caused by: ClassNotFoundException: scala.Product$class</p>\n<p>dependent library used in sbt.build:</p>\n<pre><code>&quot;org.apache.spark&quot; %% &quot;spark-core&quot; % &quot;3.1.2&quot; %&quot;provided&quot;,\n&quot;org.apache.spark&quot; %% &quot;spark-sql&quot; % &quot;3.1.2&quot; %&quot;provided&quot;,\n&quot;commons-validator&quot; % &quot;commons-validator&quot; % &quot;1.6&quot;,\n&quot;org.elasticsearch&quot; %% &quot;elasticsearch-spark-20&quot; % &quot;7.14.1&quot;,   \n&quot;com.github.pureconfig&quot; %% &quot;pureconfig&quot; % &quot;0.12.3&quot;,\n&quot;org.rogach&quot; %% &quot;scallop&quot; % &quot;3.5.0&quot;,\n&quot;com.github.dwickern&quot; %% &quot;scala-nameof&quot; % &quot;1.0.3&quot; ,\n&quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-core&quot; % &quot;7.14.1&quot;,\n&quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-client-esjava&quot; % &quot;7.14.1&quot;,\n&quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-http-streams&quot; % &quot;7.14.1&quot;,\n&quot;com.sksamuel.elastic4s&quot; %% &quot;elastic4s-testkit&quot; % &quot;7.14.1&quot; % &quot;test&quot;,\n&quot;com.databricks&quot; % &quot;dbutils-api_2.11&quot; % &quot;0.0.4&quot;\n</code></pre>\n<p>Tried multiple ways do not get the solution yet. any help much apreciated.</p>\n<p>Thanks</p>\n"},{"tags":["javascript","java","ajax","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661513780,"creation_date":1661513780,"answer_id":73500441,"question_id":73489345,"body_markdown":"I found a solution that works, even if I was unable to determine the root of the problem.\r\n\r\nThe issue is the Ajax POST request. It seems that on some machines the request parameters will be submitted as part of the request body instead, which was causing the Rest endpoint to respond with a Bad Request error.\r\n\r\nThe solution was to change the command to a GET request and change the endpoint to `GetMapping`.\r\n\r\n```\r\n&quot;ajax&quot;: {\r\n            url: &quot;/ajax/my-ajax-api&quot;,\r\n            type: &quot;GET&quot;,\r\n            dataSrc: &quot;myResponseItem&quot;,\r\n            data: function ( d ) {\r\n                d.myId = $(&#39;#myId&#39;).val();\r\n                d.myOtherParameter = $(&#39;#myOtherParameter&#39;).val();\r\n            }\r\n        }\r\n```\r\n\r\n```\r\n@GetMapping(value = &quot;/ajax/my-ajax-api&quot;)\r\npublic MyResponseDto runThisMethod(@RequestParam Long myId, @RequestParam Integer myOtherParameter) {\r\n///\r\n}\r\n```\r\n","title":"Why am I getting a &quot;Required request parameter &lt;&gt; for method parameter type Long is not present&quot; when it is being correctly set in my API call?","body":"<p>I found a solution that works, even if I was unable to determine the root of the problem.</p>\n<p>The issue is the Ajax POST request. It seems that on some machines the request parameters will be submitted as part of the request body instead, which was causing the Rest endpoint to respond with a Bad Request error.</p>\n<p>The solution was to change the command to a GET request and change the endpoint to <code>GetMapping</code>.</p>\n<pre><code>&quot;ajax&quot;: {\n            url: &quot;/ajax/my-ajax-api&quot;,\n            type: &quot;GET&quot;,\n            dataSrc: &quot;myResponseItem&quot;,\n            data: function ( d ) {\n                d.myId = $('#myId').val();\n                d.myOtherParameter = $('#myOtherParameter').val();\n            }\n        }\n</code></pre>\n<pre><code>@GetMapping(value = &quot;/ajax/my-ajax-api&quot;)\npublic MyResponseDto runThisMethod(@RequestParam Long myId, @RequestParam Integer myOtherParameter) {\n///\n}\n</code></pre>\n"}],"owner":{"account_id":11865640,"reputation":395,"user_id":8683238,"accept_rate":100,"display_name":"Space Cadet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":784,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661513780,"creation_date":1661437764,"question_id":73489345,"body_markdown":"I have encountered a problem quite similar to the one described in [this thread][1]\r\n\r\nHowever none of the solutions proposed there have helped so I would appreciate any assistance anyone here can offer.\r\n\r\nI have a webpage that should get data from a Spring Boot Rest endpoint using an Ajax.Data call (described [here][2]).\r\n\r\nMy Spring Boot Rest API is as follows \r\n\r\n```\r\n@PostMapping(value = &quot;/ajax/my-ajax-api&quot;)\r\npublic MyResponseDto runThisMethod(@RequestParam Long myId, @RequestParam Integer myOtherParameter) {\r\n///\r\n}\r\n```\r\n\r\nThat API is called via the following Javascript code\r\n\r\n```\r\nif ($(&quot;#myDetailsDataTable&quot;).length) {\r\n    var myDataTable = $(&quot;#myDetailsDataTable&quot;).DataTable({\r\n        &quot;order&quot;: [[ 0, &#39;asc&#39; ]],\r\n        &quot;stateSave&quot;: true,\r\n        &quot;stateDuration&quot;: -1,\r\n        &quot;autoWidth&quot;: false,\r\n        &quot;ajax&quot;: {\r\n            url: &quot;/ajax/my-ajax-api&quot;,\r\n            type: &quot;POST&quot;,\r\n            dataSrc: &quot;myResponseItem&quot;,\r\n            data: function ( d ) {\r\n                d.myId = $(&#39;#myId&#39;).val();\r\n                console.log(d.myId)\r\n                d.myOtherParameter = $(&#39;#myOtherParameter&#39;).val();\r\n                console.log(d.myOtherParameter)\r\n            }\r\n        },\r\n        &quot;columns&quot;: [\r\n\t\t//Do a bunch of stuff with the column data here\r\n        ]\r\n    });\r\n\r\n    setInterval( function () {\r\n        myDataTable.ajax.reload(null, false);\r\n    }, 3000 );\r\n\r\n    myDataTable.on( &#39;xhr&#39;, function () {\r\n        let ajaxResponseJson = myDataTable.ajax.json();\r\n        //Do a bunch of stuff with the JSON\r\n    });\r\n}\r\n\r\n```\r\n\r\nThe problem is that the `myId` and `myOtherParameter` parameters are not being assigned/populated by that `&quot;ajax&quot;` command, for some reason I cannot determine. The `console.log` statements have proved that they&#39;re definitely being populated in the Javascript when the call is made, so I don&#39;t know why they&#39;re being excluded from the API call.\r\n\r\nThis is the error response:\r\n```\r\nerror: &quot;Required request parameter &#39;myId&#39; for method parameter type Long is not present&quot;\r\npath: &quot;&quot;\r\nstatus: 400\r\n```\r\n\r\nThis code works fine for other users. I have tried clearing my browser cache and making the call. I have also tried using another browser. But the same 400 error happens every time. I can only guess that it&#39;s something to do with my particular environment configuration. But I don&#39;t know what it could be. I am using Java 17, IntelliJ IDEA 2022.2.1 and the latest Chrome.\r\n\r\n\r\n  [1]: https://%20https://stackoverflow.com/questions/37107570/exception-org-springframework-web-bind-missingservletrequestparameterexception\r\n  [2]: https://datatables.net/reference/option/ajax.data","title":"Why am I getting a &quot;Required request parameter &lt;&gt; for method parameter type Long is not present&quot; when it is being correctly set in my API call?","body":"<p>I have encountered a problem quite similar to the one described in <a href=\"https://%20https://stackoverflow.com/questions/37107570/exception-org-springframework-web-bind-missingservletrequestparameterexception\" rel=\"nofollow noreferrer\">this thread</a></p>\n<p>However none of the solutions proposed there have helped so I would appreciate any assistance anyone here can offer.</p>\n<p>I have a webpage that should get data from a Spring Boot Rest endpoint using an Ajax.Data call (described <a href=\"https://datatables.net/reference/option/ajax.data\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>My Spring Boot Rest API is as follows</p>\n<pre><code>@PostMapping(value = &quot;/ajax/my-ajax-api&quot;)\npublic MyResponseDto runThisMethod(@RequestParam Long myId, @RequestParam Integer myOtherParameter) {\n///\n}\n</code></pre>\n<p>That API is called via the following Javascript code</p>\n<pre><code>if ($(&quot;#myDetailsDataTable&quot;).length) {\n    var myDataTable = $(&quot;#myDetailsDataTable&quot;).DataTable({\n        &quot;order&quot;: [[ 0, 'asc' ]],\n        &quot;stateSave&quot;: true,\n        &quot;stateDuration&quot;: -1,\n        &quot;autoWidth&quot;: false,\n        &quot;ajax&quot;: {\n            url: &quot;/ajax/my-ajax-api&quot;,\n            type: &quot;POST&quot;,\n            dataSrc: &quot;myResponseItem&quot;,\n            data: function ( d ) {\n                d.myId = $('#myId').val();\n                console.log(d.myId)\n                d.myOtherParameter = $('#myOtherParameter').val();\n                console.log(d.myOtherParameter)\n            }\n        },\n        &quot;columns&quot;: [\n        //Do a bunch of stuff with the column data here\n        ]\n    });\n\n    setInterval( function () {\n        myDataTable.ajax.reload(null, false);\n    }, 3000 );\n\n    myDataTable.on( 'xhr', function () {\n        let ajaxResponseJson = myDataTable.ajax.json();\n        //Do a bunch of stuff with the JSON\n    });\n}\n\n</code></pre>\n<p>The problem is that the <code>myId</code> and <code>myOtherParameter</code> parameters are not being assigned/populated by that <code>&quot;ajax&quot;</code> command, for some reason I cannot determine. The <code>console.log</code> statements have proved that they're definitely being populated in the Javascript when the call is made, so I don't know why they're being excluded from the API call.</p>\n<p>This is the error response:</p>\n<pre><code>error: &quot;Required request parameter 'myId' for method parameter type Long is not present&quot;\npath: &quot;&quot;\nstatus: 400\n</code></pre>\n<p>This code works fine for other users. I have tried clearing my browser cache and making the call. I have also tried using another browser. But the same 400 error happens every time. I can only guess that it's something to do with my particular environment configuration. But I don't know what it could be. I am using Java 17, IntelliJ IDEA 2022.2.1 and the latest Chrome.</p>\n"},{"tags":["java","variables","scope","try-catch","try-with-resources"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1661513143,"post_id":73500103,"comment_id":129795716,"body_markdown":"So you are sure that `sessionFactory.openSession()` won&#39;t throw an exception and fail to create a session in the first place?","body":"So you are sure that <code>sessionFactory.openSession()</code> won&#39;t throw an exception and fail to create a session in the first place?"},{"owner":{"account_id":11302207,"reputation":103,"user_id":8287786,"display_name":"Ali Hosseinzadeh"},"score":0,"creation_date":1661528771,"post_id":73500103,"comment_id":129801389,"body_markdown":"Duplicated. https://stackoverflow.com/questions/34380284/pass-variable-into-catch-java","body":"Duplicated. <a href=\"https://stackoverflow.com/questions/34380284/pass-variable-into-catch-java\" title=\"pass variable into catch java\">stackoverflow.com/questions/34380284/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":961326,"reputation":99,"user_id":985628,"display_name":"CurssedHammer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661513753,"creation_date":1661513066,"answer_id":73500281,"question_id":73500103,"body_markdown":"In Java 9 you can define the session outside of try block and use the reference inside try() like this:\r\n    \r\n    public void cleanUsersTable() {\r\n        Session session = sessionFactory.openSession();\r\n            try (session) {\r\n                this.session = session;\r\n                session.beginTransaction();\r\n                session.createQuery(&quot;DELETE FROM User&quot;)\r\n                        .executeUpdate();\r\n                session.getTransaction().commit();\r\n            } catch (Throwable e) {\r\n                session.getTransaction().rollback();\r\n            }\r\n       }\r\n\r\nAs highlighted in comments, we can face an exception while opening the session. A solution would be nested try:\r\n\r\n\r\n    public void cleanUsersTable() {\r\n        try (Session session = sessionFactory.openSession();) {\r\n    \t\ttry{\r\n                session.beginTransaction();\r\n                session.createQuery(&quot;DELETE FROM User&quot;)\r\n                        .executeUpdate();\r\n                session.getTransaction().commit();\r\n            } catch (Throwable e) {\r\n                session.getTransaction().rollback();\r\n            }\r\n       }\r\n    }","title":"Getting variable from try-with-resources in catch block","body":"<p>In Java 9 you can define the session outside of try block and use the reference inside try() like this:</p>\n<pre><code>public void cleanUsersTable() {\n    Session session = sessionFactory.openSession();\n        try (session) {\n            this.session = session;\n            session.beginTransaction();\n            session.createQuery(&quot;DELETE FROM User&quot;)\n                    .executeUpdate();\n            session.getTransaction().commit();\n        } catch (Throwable e) {\n            session.getTransaction().rollback();\n        }\n   }\n</code></pre>\n<p>As highlighted in comments, we can face an exception while opening the session. A solution would be nested try:</p>\n<pre><code>public void cleanUsersTable() {\n    try (Session session = sessionFactory.openSession();) {\n        try{\n            session.beginTransaction();\n            session.createQuery(&quot;DELETE FROM User&quot;)\n                    .executeUpdate();\n            session.getTransaction().commit();\n        } catch (Throwable e) {\n            session.getTransaction().rollback();\n        }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":25699509,"reputation":1,"user_id":19459745,"display_name":"eich1cyfaill"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73500281,"answer_count":1,"score":-1,"last_activity_date":1661513753,"creation_date":1661512158,"question_id":73500103,"body_markdown":"here i have try-with-resources to close session after it executes, but also i use session variable in catch block to rollback. The problem is i cant access to session variable that declared in try block from catch block, so the only way i see is to assign session from try block to session, which is class field. Is any way to access session variable from try block in catch block? To get rid of extra lines from this code?  \r\n\r\n```\r\nprivate Session session = null;\r\n\r\npublic void cleanUsersTable() {\r\n        try (Session session = sessionFactory.openSession()) {\r\n            this.session = session;\r\n            session.beginTransaction();\r\n            session.createQuery(&quot;DELETE FROM User&quot;)\r\n                    .executeUpdate();\r\n            session.getTransaction().commit();\r\n        } catch (Throwable e) {\r\n            session.getTransaction().rollback();\r\n        }\r\n    }","title":"Getting variable from try-with-resources in catch block","body":"<p>here i have try-with-resources to close session after it executes, but also i use session variable in catch block to rollback. The problem is i cant access to session variable that declared in try block from catch block, so the only way i see is to assign session from try block to session, which is class field. Is any way to access session variable from try block in catch block? To get rid of extra lines from this code?</p>\n<pre><code>private Session session = null;\n\npublic void cleanUsersTable() {\n        try (Session session = sessionFactory.openSession()) {\n            this.session = session;\n            session.beginTransaction();\n            session.createQuery(&quot;DELETE FROM User&quot;)\n                    .executeUpdate();\n            session.getTransaction().commit();\n        } catch (Throwable e) {\n            session.getTransaction().rollback();\n        }\n    }\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1661511139,"post_id":73497600,"comment_id":129795047,"body_markdown":"The `XmlCursor` needs to be created on the correct position in document. So how exactly are you determining the &quot;the right spot in the word document&quot;? What exactly is marking that spot?","body":"The <code>XmlCursor</code> needs to be created on the correct position in document. So how exactly are you determining the &quot;the right spot in the word document&quot;? What exactly is marking that spot?"}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661513566,"creation_date":1661513566,"answer_id":73500394,"question_id":73497600,"body_markdown":"The `XmlCursor` needs to be created on the correct position in document. That must not be a position, which is not before a start token. And that must not be a position inside any other body element which cannot contain a paragraph or a table.\r\n\r\nTo adjust the cursor properly before a start token, following method cn be used:\r\n\r\n     /*modifiers*/ XmlCursor setCursorToNextStartToken(XmlObject object) {\r\n      XmlCursor cursor = object.newCursor();\r\n      cursor.toEndToken(); //Now we are at end of the XmlObject.\r\n      //There always must be a next start token.\r\n      while(cursor.hasNextToken() &amp;&amp; cursor.toNextToken() != org.apache.xmlbeans.XmlCursor.TokenType.START);\r\n      //Now we are at the next start token and can insert new things here.\r\n      return cursor;\r\n     }\r\n\r\nBut the `XmlObject object` needs to be an body element which is at a position of the text body which allows to add a paragraph or a table.\r\n\r\nLet`s have a complete example again:\r\n\r\nIf WordTemplate.docx looks like...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n...then following code\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.FileInputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.apache.xmlbeans.XmlObject;\r\n    import org.apache.xmlbeans.XmlCursor;\r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTbl;\r\n    \r\n    public class WordCopyTableAfterTable {\r\n    \r\n     static XmlCursor setCursorToNextStartToken(XmlObject object) {\r\n      XmlCursor cursor = object.newCursor();\r\n      cursor.toEndToken(); //Now we are at end of the XmlObject.\r\n      //There always must be a next start token.\r\n      while(cursor.hasNextToken() &amp;&amp; cursor.toNextToken() != org.apache.xmlbeans.XmlCursor.TokenType.START);\r\n      //Now we are at the next start token and can insert new things here.\r\n      return cursor;\r\n     }\r\n    \r\n     static void removeCellValues(XWPFTableCell cell) {\r\n      for (XWPFParagraph paragraph : cell.getParagraphs()) {\r\n       for (int i = paragraph.getRuns().size()-1; i &gt;= 0; i--) {\r\n        paragraph.removeRun(i);\r\n       }  \r\n      }\r\n     }\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      //The data. Each row a new table.\r\n      String[][] data= new String[][] {\r\n       new String[] {&quot;John Doe&quot;, &quot;5/23/2019&quot;, &quot;1234.56&quot;},\r\n       new String[] {&quot;Jane Doe&quot;, &quot;12/2/2019&quot;, &quot;34.56&quot;},\r\n       new String[] {&quot;Marie Template&quot;, &quot;9/20/2019&quot;, &quot;4.56&quot;},\r\n       new String[] {&quot;Hans Template&quot;, &quot;10/2/2019&quot;, &quot;4567.89&quot;}\r\n      };\r\n    \r\n      String value;\r\n      XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;WordTemplate.docx&quot;));\r\n      XWPFTable tableTemplate;\r\n      CTTbl cTTblTemplate;\r\n      XWPFTable tableCopy;\r\n      XWPFTable table;\r\n      XWPFTableRow row;\r\n      XWPFTableCell cell;\r\n      XmlCursor cursor;\r\n      XWPFParagraph paragraph;\r\n      XWPFRun run;\r\n      \r\n      // get Heading 2 style\r\n      XWPFStyles styles = document.getStyles();\r\n      XWPFStyle\tstyle = styles.getStyleWithName(&quot;Heading 2&quot;); if (style == null) style = styles.getStyleWithName(&quot;heading 2&quot;);\r\n      String heading2StyleId = (style != null)?style.getStyleId():&quot;&quot;;\r\n      \r\n      //get first table (the template)\r\n      tableTemplate = document.getTableArray(0);\r\n      cTTblTemplate = tableTemplate.getCTTbl();\r\n      cursor = setCursorToNextStartToken(cTTblTemplate);\r\n    \r\n      //fill in first data in first table (the template)\r\n      for (int c = 0; c &lt; data[0].length; c++) {\r\n       value = data[0][c];\r\n       row = tableTemplate.getRow(1);\r\n       cell = row.getCell(c);\r\n       removeCellValues(cell);\r\n       cell.setText(value);\r\n      }\r\n    \r\n      paragraph = document.insertNewParagraph(cursor); //insert new empty paragraph\r\n      cursor = setCursorToNextStartToken(paragraph.getCTP());\r\n    \r\n      //fill in next data, each data row in one table\r\n      for (int t = 1; t &lt; data.length; t++) {\r\n       paragraph = document.insertNewParagraph(cursor); //insert new empty paragraph\r\n       paragraph.setStyle(heading2StyleId); //style it Heading 2\r\n       run = paragraph.createRun(); \r\n       run.setText(&quot;Subheading &quot; + (t+1));\r\n       cursor = setCursorToNextStartToken(paragraph.getCTP());\r\n         \r\n       table = document.insertNewTbl(cursor); //insert new empty table at position t\r\n       cursor = setCursorToNextStartToken(table.getCTTbl());\r\n    \r\n       tableCopy = new XWPFTable((CTTbl)cTTblTemplate.copy(), document); //copy the template table\r\n    \r\n       //fill in data in tableCopy\r\n       for (int c = 0; c &lt; data[t].length; c++) {\r\n        value = data[t][c];\r\n        row = tableCopy.getRow(1);\r\n        cell = row.getCell(c);\r\n        removeCellValues(cell);\r\n        cell.setText(value);\r\n       }\r\n       document.setTable(t, tableCopy); //set tableCopy at position t instead of table\r\n    \r\n       paragraph = document.insertNewParagraph(cursor); //insert new empty paragraph\r\n       cursor = setCursorToNextStartToken(paragraph.getCTP());\r\n      }\r\n    \r\n      FileOutputStream out = new FileOutputStream(&quot;WordResult.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n     }\r\n    }\r\n\r\n...produces following  `WordResult.docx`.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2617H.png\r\n  [2]: https://i.stack.imgur.com/d6Q4Y.png","title":"Insert varying amount of headings and tables with apache poi","body":"<p>The <code>XmlCursor</code> needs to be created on the correct position in document. That must not be a position, which is not before a start token. And that must not be a position inside any other body element which cannot contain a paragraph or a table.</p>\n<p>To adjust the cursor properly before a start token, following method cn be used:</p>\n<pre><code> /*modifiers*/ XmlCursor setCursorToNextStartToken(XmlObject object) {\n  XmlCursor cursor = object.newCursor();\n  cursor.toEndToken(); //Now we are at end of the XmlObject.\n  //There always must be a next start token.\n  while(cursor.hasNextToken() &amp;&amp; cursor.toNextToken() != org.apache.xmlbeans.XmlCursor.TokenType.START);\n  //Now we are at the next start token and can insert new things here.\n  return cursor;\n }\n</code></pre>\n<p>But the <code>XmlObject object</code> needs to be an body element which is at a position of the text body which allows to add a paragraph or a table.</p>\n<p>Let`s have a complete example again:</p>\n<p>If WordTemplate.docx looks like...</p>\n<p><a href=\"https://i.stack.imgur.com/2617H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2617H.png\" alt=\"enter image description here\" /></a></p>\n<p>...then following code</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.io.FileInputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.apache.xmlbeans.XmlObject;\nimport org.apache.xmlbeans.XmlCursor;\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.CTTbl;\n\npublic class WordCopyTableAfterTable {\n\n static XmlCursor setCursorToNextStartToken(XmlObject object) {\n  XmlCursor cursor = object.newCursor();\n  cursor.toEndToken(); //Now we are at end of the XmlObject.\n  //There always must be a next start token.\n  while(cursor.hasNextToken() &amp;&amp; cursor.toNextToken() != org.apache.xmlbeans.XmlCursor.TokenType.START);\n  //Now we are at the next start token and can insert new things here.\n  return cursor;\n }\n\n static void removeCellValues(XWPFTableCell cell) {\n  for (XWPFParagraph paragraph : cell.getParagraphs()) {\n   for (int i = paragraph.getRuns().size()-1; i &gt;= 0; i--) {\n    paragraph.removeRun(i);\n   }  \n  }\n }\n\n public static void main(String[] args) throws Exception {\n\n  //The data. Each row a new table.\n  String[][] data= new String[][] {\n   new String[] {&quot;John Doe&quot;, &quot;5/23/2019&quot;, &quot;1234.56&quot;},\n   new String[] {&quot;Jane Doe&quot;, &quot;12/2/2019&quot;, &quot;34.56&quot;},\n   new String[] {&quot;Marie Template&quot;, &quot;9/20/2019&quot;, &quot;4.56&quot;},\n   new String[] {&quot;Hans Template&quot;, &quot;10/2/2019&quot;, &quot;4567.89&quot;}\n  };\n\n  String value;\n  XWPFDocument document = new XWPFDocument(new FileInputStream(&quot;WordTemplate.docx&quot;));\n  XWPFTable tableTemplate;\n  CTTbl cTTblTemplate;\n  XWPFTable tableCopy;\n  XWPFTable table;\n  XWPFTableRow row;\n  XWPFTableCell cell;\n  XmlCursor cursor;\n  XWPFParagraph paragraph;\n  XWPFRun run;\n  \n  // get Heading 2 style\n  XWPFStyles styles = document.getStyles();\n  XWPFStyle style = styles.getStyleWithName(&quot;Heading 2&quot;); if (style == null) style = styles.getStyleWithName(&quot;heading 2&quot;);\n  String heading2StyleId = (style != null)?style.getStyleId():&quot;&quot;;\n  \n  //get first table (the template)\n  tableTemplate = document.getTableArray(0);\n  cTTblTemplate = tableTemplate.getCTTbl();\n  cursor = setCursorToNextStartToken(cTTblTemplate);\n\n  //fill in first data in first table (the template)\n  for (int c = 0; c &lt; data[0].length; c++) {\n   value = data[0][c];\n   row = tableTemplate.getRow(1);\n   cell = row.getCell(c);\n   removeCellValues(cell);\n   cell.setText(value);\n  }\n\n  paragraph = document.insertNewParagraph(cursor); //insert new empty paragraph\n  cursor = setCursorToNextStartToken(paragraph.getCTP());\n\n  //fill in next data, each data row in one table\n  for (int t = 1; t &lt; data.length; t++) {\n   paragraph = document.insertNewParagraph(cursor); //insert new empty paragraph\n   paragraph.setStyle(heading2StyleId); //style it Heading 2\n   run = paragraph.createRun(); \n   run.setText(&quot;Subheading &quot; + (t+1));\n   cursor = setCursorToNextStartToken(paragraph.getCTP());\n     \n   table = document.insertNewTbl(cursor); //insert new empty table at position t\n   cursor = setCursorToNextStartToken(table.getCTTbl());\n\n   tableCopy = new XWPFTable((CTTbl)cTTblTemplate.copy(), document); //copy the template table\n\n   //fill in data in tableCopy\n   for (int c = 0; c &lt; data[t].length; c++) {\n    value = data[t][c];\n    row = tableCopy.getRow(1);\n    cell = row.getCell(c);\n    removeCellValues(cell);\n    cell.setText(value);\n   }\n   document.setTable(t, tableCopy); //set tableCopy at position t instead of table\n\n   paragraph = document.insertNewParagraph(cursor); //insert new empty paragraph\n   cursor = setCursorToNextStartToken(paragraph.getCTP());\n  }\n\n  FileOutputStream out = new FileOutputStream(&quot;WordResult.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n }\n}\n</code></pre>\n<p>...produces following  <code>WordResult.docx</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/d6Q4Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d6Q4Y.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24366223,"reputation":23,"user_id":18299934,"display_name":"shtanddwn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661513566,"creation_date":1661499407,"question_id":73497600,"body_markdown":"I want to insert a varying amount of text into a word document. E.g.\r\n\r\n    Heading 1\r\n      Subheading 1\r\n        Table 1\r\n      Subheading 2\r\n        Table 2\r\n\r\nI used a cursor after finding the right spot in the word document, but don&#39;t know how I can create multiple stuff at that position. I got it to work with a single paragraph with text. I also tried using a for-loop after the while-statement but the createRun method referenced a paragraph that is null and therefore threw an error.\r\n\r\n\r\n\tXmlCursor cursor = table.getCTTbl().newCursor();\r\n\tcursor.toEndToken();\r\n\twhile (cursor.toNextToken() != org.apache.xmlbeans.XmlCursor.TokenType.START);\r\n\t    XWPFParagraph newParagraph = document.insertNewParagraph(cursor);\r\n\t    XWPFRun run = newParagraph.createRun();\r\n\t    run.setText(&quot;inserted new text &quot; + &quot;\\n&quot;);\r\n\r\n","title":"Insert varying amount of headings and tables with apache poi","body":"<p>I want to insert a varying amount of text into a word document. E.g.</p>\n<pre><code>Heading 1\n  Subheading 1\n    Table 1\n  Subheading 2\n    Table 2\n</code></pre>\n<p>I used a cursor after finding the right spot in the word document, but don't know how I can create multiple stuff at that position. I got it to work with a single paragraph with text. I also tried using a for-loop after the while-statement but the createRun method referenced a paragraph that is null and therefore threw an error.</p>\n<pre><code>XmlCursor cursor = table.getCTTbl().newCursor();\ncursor.toEndToken();\nwhile (cursor.toNextToken() != org.apache.xmlbeans.XmlCursor.TokenType.START);\n    XWPFParagraph newParagraph = document.insertNewParagraph(cursor);\n    XWPFRun run = newParagraph.createRun();\n    run.setText(&quot;inserted new text &quot; + &quot;\\n&quot;);\n</code></pre>\n"},{"tags":["java","angular","serialization","deserialization","formarray"],"answers":[{"tags":[],"owner":{"account_id":21845332,"reputation":59,"user_id":16138258,"display_name":"Matin Parsapour"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1661513279,"creation_date":1661513279,"answer_id":73500327,"question_id":73416274,"body_markdown":"After a week, I got what I can do\r\nI can&#39;t send FormArray object contains FormControls \r\nI had to create another object that contains only values (Not other data related to FormControls in angular)\r\nAnd then I send that object and everything is fine\r\nMaybe in future can help someone","title":"Send an object with nested list","body":"<p>After a week, I got what I can do\nI can't send FormArray object contains FormControls\nI had to create another object that contains only values (Not other data related to FormControls in angular)\nAnd then I send that object and everything is fine\nMaybe in future can help someone</p>\n"}],"owner":{"account_id":21845332,"reputation":59,"user_id":16138258,"display_name":"Matin Parsapour"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73500327,"answer_count":1,"score":0,"last_activity_date":1661513279,"creation_date":1660909516,"question_id":73416274,"body_markdown":"I&#39;m coding a webapplication that takes two array and a matrix from user using angular and then send them to java and then do some calculation, I&#39;m using FormGroup for this webapplicaiton, at the end when user sends data to server the FormGroup values are something like this:\r\n\r\n```\r\nobject {\r\ntargetFunctionValues= [1,2,3,4,5],\r\nconstraintsValues= [[1,2,3,4],[1,2,3,4]],\r\nresultValues=[1,2,3,4]\r\n}\r\n```\r\nI&#39;m using FormGroup for &quot;object&quot; and FormArray for &quot;list1&quot;, &quot;matrix1&quot;, &quot;list2&quot;.\r\nWhen data sends to server I get this error\r\n\r\n    Cannot deserialize value of type `java.lang.Double` from Object value (token `JsonToken.START_OBJECT`);\r\n\r\nin server I created a class that looks like this :\r\n\r\n```\r\npublic class MatricesValues {\r\n\r\n    private List&lt;Double&gt; targetFunctionValues;\r\n\r\n    private List&lt;List&lt;Double&gt;&gt; constraintsValues;\r\n\r\n    private List&lt;Double&gt; resultValues;\r\n}\r\n```\r\n\r\nand controller is like this:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/value&quot;)\r\npublic class ValueController {\r\n\r\n    @PostMapping(&quot;/send-data&quot;)\r\n    public void sendDate(@RequestBody MatricesValues values){\r\n        System.out.println(values.getTargetFunctionValues());\r\n        System.out.println(values.getConstraintsValues());\r\n        System.out.println(values.getResultValues());\r\n    }\r\n\r\n}\r\n```\r\nWhat can I do?","title":"Send an object with nested list","body":"<p>I'm coding a webapplication that takes two array and a matrix from user using angular and then send them to java and then do some calculation, I'm using FormGroup for this webapplicaiton, at the end when user sends data to server the FormGroup values are something like this:</p>\n<pre><code>object {\ntargetFunctionValues= [1,2,3,4,5],\nconstraintsValues= [[1,2,3,4],[1,2,3,4]],\nresultValues=[1,2,3,4]\n}\n</code></pre>\n<p>I'm using FormGroup for &quot;object&quot; and FormArray for &quot;list1&quot;, &quot;matrix1&quot;, &quot;list2&quot;.\nWhen data sends to server I get this error</p>\n<pre><code>Cannot deserialize value of type `java.lang.Double` from Object value (token `JsonToken.START_OBJECT`);\n</code></pre>\n<p>in server I created a class that looks like this :</p>\n<pre><code>public class MatricesValues {\n\n    private List&lt;Double&gt; targetFunctionValues;\n\n    private List&lt;List&lt;Double&gt;&gt; constraintsValues;\n\n    private List&lt;Double&gt; resultValues;\n}\n</code></pre>\n<p>and controller is like this:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/value&quot;)\npublic class ValueController {\n\n    @PostMapping(&quot;/send-data&quot;)\n    public void sendDate(@RequestBody MatricesValues values){\n        System.out.println(values.getTargetFunctionValues());\n        System.out.println(values.getConstraintsValues());\n        System.out.println(values.getResultValues());\n    }\n\n}\n</code></pre>\n<p>What can I do?</p>\n"},{"tags":["java","amazon-sns"],"answers":[{"tags":[],"owner":{"account_id":8634,"reputation":8079,"user_id":15647,"accept_rate":92,"display_name":"wheleph"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1629363924,"creation_date":1629363196,"answer_id":68844767,"question_id":68830214,"body_markdown":"At the time of writing (August 2021) AWS SDK for Java 2.x doesn&#39;t yet support all the features of AWS SDK for Java 1.x. But fortunately, you can use them side-by-side. Quote from the [official documentation][1]:\r\n\r\n&gt; You can use both versions of the AWS SDK for Java in your projects.\r\n\r\nAnd in 1.x you have [SnsMessageManager][2] that apparently does the job:\r\n\r\n&gt; public class SnsMessageManager \r\n&gt;\r\n&gt; extends Object \r\n&gt;\r\n&gt; Unmarshalls an SNS message and validates it using the SNS public certificate.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration-side-by-side.html\r\n  [2]: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sns/message/SnsMessageManager.html","title":"SNS verification using the AWS SDK for Java, version 2","body":"<p>At the time of writing (August 2021) AWS SDK for Java 2.x doesn't yet support all the features of AWS SDK for Java 1.x. But fortunately, you can use them side-by-side. Quote from the <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration-side-by-side.html\" rel=\"nofollow noreferrer\">official documentation</a>:</p>\n<blockquote>\n<p>You can use both versions of the AWS SDK for Java in your projects.</p>\n</blockquote>\n<p>And in 1.x you have <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sns/message/SnsMessageManager.html\" rel=\"nofollow noreferrer\">SnsMessageManager</a> that apparently does the job:</p>\n<blockquote>\n<p>public class SnsMessageManager</p>\n<p>extends Object</p>\n<p>Unmarshalls an SNS message and validates it using the SNS public certificate.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13433150,"reputation":31,"user_id":9692385,"display_name":"Nikita Piskaryov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661513154,"creation_date":1661512710,"answer_id":73500208,"question_id":68830214,"body_markdown":"For latest version of SNS SDK at the moment **1.12.286** - signature verification is done automatically during message deserialization to [SnsMessage](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sns/message/SnsMessage.html) object.\r\n\r\nYou can use [SnsMessageManager#parseMessage](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sns/message/SnsMessageManager.html#parseMessage-java.io.InputStream-) to deserialize incoming message to [SnsMessage](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sns/message/SnsMessage.html) object.\r\n\r\n**From SNS SDK javadoc**:\r\n&gt; Unmarshalls a message into a subclass of SnsMessage. This will automatically validate the authenticity of the mesage to ensure it was sent by SNS. If the validity of the message cannot be verified an exception will be thrown.\r\nParams:\r\nmessageBody – Input stream containing message JSON.\r\nReturns:\r\nUnmarshalled message object.\r\n\r\nIt&#39;s clear from SNS SDK source code as well:\r\n\r\n    SnsMessageManager#parseMessage -&gt; SignatureVerifier#verifySignature\r\n\r\nSo something like this will work:\r\n\r\n    InputStream messageInputStream = &quot;&lt;message received from SNS&gt;&quot;\r\n    SnsMessage snsMessage = new SnsMessageManager().parseMessage(messageInputStream)\r\n\r\n\r\nSee [this part of SNS documentation](https://docs.aws.amazon.com/sns/latest/dg/sns-verify-signature-of-message.html) is useful for signature verification details.","title":"SNS verification using the AWS SDK for Java, version 2","body":"<p>For latest version of SNS SDK at the moment <strong>1.12.286</strong> - signature verification is done automatically during message deserialization to <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sns/message/SnsMessage.html\" rel=\"nofollow noreferrer\">SnsMessage</a> object.</p>\n<p>You can use <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sns/message/SnsMessageManager.html#parseMessage-java.io.InputStream-\" rel=\"nofollow noreferrer\">SnsMessageManager#parseMessage</a> to deserialize incoming message to <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/sns/message/SnsMessage.html\" rel=\"nofollow noreferrer\">SnsMessage</a> object.</p>\n<p><strong>From SNS SDK javadoc</strong>:</p>\n<blockquote>\n<p>Unmarshalls a message into a subclass of SnsMessage. This will automatically validate the authenticity of the mesage to ensure it was sent by SNS. If the validity of the message cannot be verified an exception will be thrown.\nParams:\nmessageBody – Input stream containing message JSON.\nReturns:\nUnmarshalled message object.</p>\n</blockquote>\n<p>It's clear from SNS SDK source code as well:</p>\n<pre><code>SnsMessageManager#parseMessage -&gt; SignatureVerifier#verifySignature\n</code></pre>\n<p>So something like this will work:</p>\n<pre><code>InputStream messageInputStream = &quot;&lt;message received from SNS&gt;&quot;\nSnsMessage snsMessage = new SnsMessageManager().parseMessage(messageInputStream)\n</code></pre>\n<p>See <a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-verify-signature-of-message.html\" rel=\"nofollow noreferrer\">this part of SNS documentation</a> is useful for signature verification details.</p>\n"}],"owner":{"account_id":22499005,"reputation":53,"user_id":16695583,"display_name":"yshin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":982,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68844767,"answer_count":2,"score":5,"last_activity_date":1661513154,"creation_date":1629280545,"question_id":68830214,"body_markdown":"I use AWS SDK for Java 2.x,\r\n   dependency software.amazon.awssdk:sns\r\n\r\nI receive message from sns topic via http.\r\nI&#39;m wondering if there&#39;re any official or non-official but well-supported libraries that can do verification of signature.\r\n\r\nI&#39;ve implemented verification using code snippets from https://docs.aws.amazon.com/sns/latest/dg/sns-example-code-endpoint-java-servlet.html, but perhaps better solution is existing\r\n\r\n    public void verifySignature(SnsMessage message) {\r\n            String signatureVersion = message.getSignatureVersion();\r\n            if (signatureVersion.equals(&quot;1&quot;)) {\r\n                // Check the signature and throw an exception if the signature verification fails.\r\n                if (isMessageSignatureVersion1Valid(message)) {\r\n                    log.info(&quot;Signature verification succeeded&quot;);\r\n                } else {\r\n                    log.info(&quot;Signature verification failed&quot;);\r\n                    throw new SecurityException(&quot;Signature verification failed.&quot;);\r\n                }\r\n            } else {\r\n                log.info(&quot;Unexpected signature version. Unable to verify signature.&quot;);\r\n                throw new SecurityException(&quot;Unexpected signature version. Unable to verify signature.&quot;);\r\n            }\r\n        }","title":"SNS verification using the AWS SDK for Java, version 2","body":"<p>I use AWS SDK for Java 2.x,\ndependency software.amazon.awssdk:sns</p>\n<p>I receive message from sns topic via http.\nI'm wondering if there're any official or non-official but well-supported libraries that can do verification of signature.</p>\n<p>I've implemented verification using code snippets from <a href=\"https://docs.aws.amazon.com/sns/latest/dg/sns-example-code-endpoint-java-servlet.html\" rel=\"noreferrer\">https://docs.aws.amazon.com/sns/latest/dg/sns-example-code-endpoint-java-servlet.html</a>, but perhaps better solution is existing</p>\n<pre><code>public void verifySignature(SnsMessage message) {\n        String signatureVersion = message.getSignatureVersion();\n        if (signatureVersion.equals(&quot;1&quot;)) {\n            // Check the signature and throw an exception if the signature verification fails.\n            if (isMessageSignatureVersion1Valid(message)) {\n                log.info(&quot;Signature verification succeeded&quot;);\n            } else {\n                log.info(&quot;Signature verification failed&quot;);\n                throw new SecurityException(&quot;Signature verification failed.&quot;);\n            }\n        } else {\n            log.info(&quot;Unexpected signature version. Unable to verify signature.&quot;);\n            throw new SecurityException(&quot;Unexpected signature version. Unable to verify signature.&quot;);\n        }\n    }\n</code></pre>\n"},{"tags":["java","string","java-8","char","null-character"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1620876457,"post_id":67513196,"comment_id":119332429,"body_markdown":"Hmm.  I am hard-pressed to think of a **valid** use-case that involves testing to see if a string contains just NUL characters.  (The only use-cases I can think of involve treating non-text data as text ... and that&#39;s conceptually wrong.)","body":"Hmm.  I am hard-pressed to think of a <b>valid</b> use-case that involves testing to see if a string contains just NUL characters.  (The only use-cases I can think of involve treating non-text data as text ... and that&#39;s conceptually wrong.)"},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1620931038,"post_id":67513196,"comment_id":119351437,"body_markdown":"@StephenC, my service needs to call a downstream server, which is returning a parameter in json body say &quot;eCode&quot;, based on this I need to check if there&#39;s something went wrong in downstream server, so if this string is empty OR contains only null characters than everything is fine, other wise if &quot;eCode&quot; contains anything else than I need to returned an error response to the upstreams.","body":"@StephenC, my service needs to call a downstream server, which is returning a parameter in json body say &quot;eCode&quot;, based on this I need to check if there&#39;s something went wrong in downstream server, so if this string is empty OR contains only null characters than everything is fine, other wise if &quot;eCode&quot; contains anything else than I need to returned an error response to the upstreams."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1620970238,"post_id":67513196,"comment_id":119360202,"body_markdown":"OK ... so why is a server sending you a string that contains NUL characters in a JSON response?  That is ... umm ... bad design.  Are you sure that you haven&#39;t misunderstood the spec?  (Might it actually say &quot;an empty string or null&quot;?  There is a null value in JSON.)","body":"OK ... so why is a server sending you a string that contains NUL characters in a JSON response?  That is ... umm ... bad design.  Are you sure that you haven&#39;t misunderstood the spec?  (Might it actually say &quot;an empty string or null&quot;?  There is a null value in JSON.)"},{"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"score":0,"creation_date":1620996368,"post_id":67513196,"comment_id":119368930,"body_markdown":"No I have even tested calling the service, they are returning null character string, I initially thought it should be null or &quot;&quot; empty string but as my test cases got failed than I realized that they are returning something else, and that&#39;s indeed a bad design, I concur, But you know, I have to deal with it as I don&#39;t have the ownership of other service.","body":"No I have even tested calling the service, they are returning null character string, I initially thought it should be null or &quot;&quot; empty string but as my test cases got failed than I realized that they are returning something else, and that&#39;s indeed a bad design, I concur, But you know, I have to deal with it as I don&#39;t have the ownership of other service."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1620873263,"creation_date":1620873263,"answer_id":67513212,"question_id":67513196,"body_markdown":"A `char` literal (in Java) can be written multiple ways (all of which are equivalent). For example,\r\n\r\n\tSystem.out.println(&#39;\\u0000&#39; == &#39;\\0&#39;);\r\n\tSystem.out.println(&#39;\\u0000&#39; == 0);\r\n\r\nWill output\r\n\r\n    true\r\n    true\r\n\r\nbecause a `char` is a 16-bit integral type in Java. And all three of `\\u0000`, `\\0` and `0` are the same value. As for finding if a `String` contains only `0` `char` values - simply iterate it. Like,\r\n\r\n    boolean allNulls = true;\r\n    for (int i = 0; i &lt; s.length(); i++) {\r\n        if (s.charAt(i) != 0) {\r\n            allNulls = false;\r\n            break;\r\n        }\r\n    }","title":"How best to determine if a String contains only null characters?","body":"<p>A <code>char</code> literal (in Java) can be written multiple ways (all of which are equivalent). For example,</p>\n<pre><code>System.out.println('\\u0000' == '\\0');\nSystem.out.println('\\u0000' == 0);\n</code></pre>\n<p>Will output</p>\n<pre><code>true\ntrue\n</code></pre>\n<p>because a <code>char</code> is a 16-bit integral type in Java. And all three of <code>\\u0000</code>, <code>\\0</code> and <code>0</code> are the same value. As for finding if a <code>String</code> contains only <code>0</code> <code>char</code> values - simply iterate it. Like,</p>\n<pre><code>boolean allNulls = true;\nfor (int i = 0; i &lt; s.length(); i++) {\n    if (s.charAt(i) != 0) {\n        allNulls = false;\n        break;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620873399,"creation_date":1620873399,"answer_id":67513220,"question_id":67513196,"body_markdown":"You can get the `chars()` as an `IntStream`, then use `allMatch`:\r\n\r\n    if (yourString.chars().allMatch(x -&gt; x == 0)) {\r\n        // all null chars!\r\n    }","title":"How best to determine if a String contains only null characters?","body":"<p>You can get the <code>chars()</code> as an <code>IntStream</code>, then use <code>allMatch</code>:</p>\n<pre><code>if (yourString.chars().allMatch(x -&gt; x == 0)) {\n    // all null chars!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4706113,"reputation":172,"user_id":3808200,"accept_rate":50,"display_name":"Meetesh"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1620873537,"creation_date":1620873537,"answer_id":67513231,"question_id":67513196,"body_markdown":"You can use the existing String methods like\r\n`trim` and `isEmpty` with combination for this.\r\nconsider this:\r\n\r\n    String s = &quot;\\u0000&quot;;\r\n    s.trim().isBlank()","title":"How best to determine if a String contains only null characters?","body":"<p>You can use the existing String methods like\n<code>trim</code> and <code>isEmpty</code> with combination for this.\nconsider this:</p>\n<pre><code>String s = &quot;\\u0000&quot;;\ns.trim().isBlank()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13250674,"reputation":56,"user_id":9568260,"display_name":"Luca"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1620874643,"creation_date":1620874643,"answer_id":67513346,"question_id":67513196,"body_markdown":"\\u0000 is Unicode value , The console output is a space\r\n```java\r\nStream.of(&quot;\\u0000&quot;,&quot;\\0\\0&quot;,&quot;jack&quot;, &quot;luca&quot;)\r\n  .filter(s -&gt; !s.trim().equals(&quot;&quot;))\r\n  .forEach(System.out::println);\r\n```\r\n\r\noutput:  \r\n\r\n```\r\njack\r\nluca\r\n```","title":"How best to determine if a String contains only null characters?","body":"<p>\\u0000 is Unicode value , The console output is a space</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.of(&quot;\\u0000&quot;,&quot;\\0\\0&quot;,&quot;jack&quot;, &quot;luca&quot;)\n  .filter(s -&gt; !s.trim().equals(&quot;&quot;))\n  .forEach(System.out::println);\n</code></pre>\n<p>output:</p>\n<pre><code>jack\nluca\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user15793316"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1620894849,"creation_date":1620894492,"answer_id":67516166,"question_id":67513196,"body_markdown":"You can use a regular expression\r\n\r\nto match one or more `\\u0000`\r\n```\r\nboolean onlyNulls = string.matches(&quot;\\u0000+&quot;);  // or &quot;\\0+&quot;\r\n``` \r\n\r\nuse `*` instead of `+` to also match the empty string\r\n\r\n----- \r\n\r\n&lt;sup&gt;(the stream [solution](https://stackoverflow.com/a/67513220/15793316) by Sweeper is my preferred solution - IMHO it better resembles the intended task, despite I would use `&#39;\\u0000&#39;` instead of `0`)&lt;/sup&gt;","title":"How best to determine if a String contains only null characters?","body":"<p>You can use a regular expression</p>\n<p>to match one or more <code>\\u0000</code></p>\n<pre><code>boolean onlyNulls = string.matches(&quot;\\u0000+&quot;);  // or &quot;\\0+&quot;\n</code></pre>\n<p>use <code>*</code> instead of <code>+</code> to also match the empty string</p>\n<hr />\n<p><sup>(the stream <a href=\"https://stackoverflow.com/a/67513220/15793316\">solution</a> by Sweeper is my preferred solution - IMHO it better resembles the intended task, despite I would use <code>'\\u0000'</code> instead of <code>0</code>)</sup></p>\n"},{"tags":[],"owner":{"account_id":21543568,"reputation":5895,"user_id":15880865,"display_name":"Richard Onslow Roper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621332526,"creation_date":1621332526,"answer_id":67584136,"question_id":67513196,"body_markdown":"I do not think there is a predefined way to check it, and I think the second one you mentioned is the correct way of testing for the same","title":"How best to determine if a String contains only null characters?","body":"<p>I do not think there is a predefined way to check it, and I think the second one you mentioned is the correct way of testing for the same</p>\n"},{"tags":[],"owner":{"account_id":3756210,"reputation":104,"user_id":3122531,"display_name":"mginius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661512838,"creation_date":1661512838,"answer_id":73500240,"question_id":67513196,"body_markdown":"Other than the other answers (all valids), I&#39;ve just found a one liner, based on `org.apache.commons.lang3.StringUtils`:\r\n\r\n    StringUtils.containsOnly(&lt;string&gt;, &#39;\\u0000&#39;)\r\n\r\nJust a note: this method manages the empty string &quot;&quot; returning `true`.","title":"How best to determine if a String contains only null characters?","body":"<p>Other than the other answers (all valids), I've just found a one liner, based on <code>org.apache.commons.lang3.StringUtils</code>:</p>\n<pre><code>StringUtils.containsOnly(&lt;string&gt;, '\\u0000')\n</code></pre>\n<p>Just a note: this method manages the empty string &quot;&quot; returning <code>true</code>.</p>\n"}],"owner":{"account_id":12875245,"reputation":547,"user_id":9312181,"display_name":"tusharRawat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":67516166,"answer_count":7,"score":5,"last_activity_date":1661512838,"creation_date":1620873042,"question_id":67513196,"body_markdown":"What&#39;s the right way to check if a string contains null characters only?\r\n\r\n    String s = &quot;\\u0000&quot;;\r\n    if(s.charAt(0) == 0) {\r\n       System.out.println(&quot;null characters only&quot;);\r\n    }\r\n\r\nOr \r\n\r\n    String s = &quot;\\0\\0&quot;;\r\n    for(int i = 0; i &lt; s.length(); i++) {\r\n       if(s.charAt(i) == 0) \r\n           continue;\r\n    \r\n       else break;\r\n\r\n    }\r\n\r\n\r\nBoth work. But is there a better and more concise way to perform this check. Is there a utility to check if a string in java contains only null\r\ncharacters(`\\u0000` OR `\\0`) ?\r\n\r\nAnd what is the difference between `&#39;\\0&#39;` and `&#39;\\u0000&#39;`?","title":"How best to determine if a String contains only null characters?","body":"<p>What's the right way to check if a string contains null characters only?</p>\n<pre><code>String s = &quot;\\u0000&quot;;\nif(s.charAt(0) == 0) {\n   System.out.println(&quot;null characters only&quot;);\n}\n</code></pre>\n<p>Or</p>\n<pre><code>String s = &quot;\\0\\0&quot;;\nfor(int i = 0; i &lt; s.length(); i++) {\n   if(s.charAt(i) == 0) \n       continue;\n\n   else break;\n\n}\n</code></pre>\n<p>Both work. But is there a better and more concise way to perform this check. Is there a utility to check if a string in java contains only null\ncharacters(<code>\\u0000</code> OR <code>\\0</code>) ?</p>\n<p>And what is the difference between <code>'\\0'</code> and <code>'\\u0000'</code>?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2604610,"reputation":2447,"user_id":2256028,"accept_rate":89,"display_name":"dckuehn"},"score":0,"creation_date":1404437800,"post_id":24565539,"comment_id":38050037,"body_markdown":"You should close `fw` inside the try block as well as the catch-block.","body":"You should close <code>fw</code> inside the try block as well as the catch-block."},{"owner":{"account_id":4236329,"reputation":75,"user_id":3467373,"accept_rate":93,"display_name":"planker1010"},"score":0,"creation_date":1404438304,"post_id":24565539,"comment_id":38050150,"body_markdown":"@dckuehn Ok I tried that and when I open the .txt file I still don&#39;t see the info entered.","body":"@dckuehn Ok I tried that and when I open the .txt file I still don&#39;t see the info entered."},{"owner":{"account_id":2604610,"reputation":2447,"user_id":2256028,"accept_rate":89,"display_name":"dckuehn"},"score":0,"creation_date":1404438407,"post_id":24565539,"comment_id":38050173,"body_markdown":"sorry, I commented because it wasn&#39;t an answer. It&#39;s just something extra I noticed.  You should always close your files/filewriters, and in your code, your file isn&#39;t closed unless an exception occurs.","body":"sorry, I commented because it wasn&#39;t an answer. It&#39;s just something extra I noticed.  You should always close your files/filewriters, and in your code, your file isn&#39;t closed unless an exception occurs."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1404438562,"post_id":24565539,"comment_id":38050206,"body_markdown":"You&#39;ve modified the code from the original answer, which technically, work, making the provided answer invalid.  If you&#39;re going to change the code, add the updates as a separate block so people can see the progression","body":"You&#39;ve modified the code from the original answer, which technically, work, making the provided answer invalid.  If you&#39;re going to change the code, add the updates as a separate block so people can see the progression"},{"owner":{"account_id":4236329,"reputation":75,"user_id":3467373,"accept_rate":93,"display_name":"planker1010"},"score":0,"creation_date":1404438718,"post_id":24565539,"comment_id":38050253,"body_markdown":"@MadProgrammer sorry.","body":"@MadProgrammer sorry."},{"owner":{"account_id":2604610,"reputation":2447,"user_id":2256028,"accept_rate":89,"display_name":"dckuehn"},"score":0,"creation_date":1404438992,"post_id":24565539,"comment_id":38050307,"body_markdown":"@MadProgrammer I&#39;ve never heard this before, and I disagree.  I think an edit:update comment would be appropriate, but I don&#39;t want to have to scroll through multiple variations of code to try and find the difference.","body":"@MadProgrammer I&#39;ve never heard this before, and I disagree.  I think an edit:update comment would be appropriate, but I don&#39;t want to have to scroll through multiple variations of code to try and find the difference."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1404439125,"post_id":24565539,"comment_id":38050331,"body_markdown":"@dckuehn Possibly, but the problem now is, at least one of the answers invalid and could attract down votes simply because the original code on which the question was based is no longer valid.  Additionally, the post code should now &quot;work&quot;, while not the best solution, it&#39;s removed the problem that the question was originally posted for...","body":"@dckuehn Possibly, but the problem now is, at least one of the answers invalid and could attract down votes simply because the original code on which the question was based is no longer valid.  Additionally, the post code should now &quot;work&quot;, while not the best solution, it&#39;s removed the problem that the question was originally posted for..."},{"owner":{"account_id":3101890,"reputation":10709,"user_id":2855515,"accept_rate":100,"display_name":"brian"},"score":0,"creation_date":1404439308,"post_id":24565539,"comment_id":38050362,"body_markdown":"Did you want to use a FileWriter to append text possibly (judging from the var name fw)?  `try(PrintWriter pw = new PrintWriter(new BufferedWriter(new FileWriter(&quot;users.txt&quot;, true))))`  Where true means append.  Buffered is probably useless here.","body":"Did you want to use a FileWriter to append text possibly (judging from the var name fw)?  <code>try(PrintWriter pw = new PrintWriter(new BufferedWriter(new FileWriter(&quot;users.txt&quot;, true))))</code>  Where true means append.  Buffered is probably useless here."}],"answers":[{"tags":[],"owner":{"account_id":4423163,"reputation":3160,"user_id":3602436,"display_name":"EDToaster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1404439480,"creation_date":1404438308,"answer_id":24565609,"question_id":24565539,"body_markdown":"The problem is within the writeNewUser method: \r\n\r\n    public void writeNewUser() {\r\n\r\n        PrintWriter fw = null;\r\n    \r\n        try {\r\n            fw = new PrintWriter(&quot;users.txt&quot;);\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            bw.write(tfUsername.getText());\r\n            bw.newLine();\r\n            bw.write(tfPassword.getText());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            fw.close();    \r\n        }\r\n    }\r\n\r\nThe fw.close() is in the catch loop, but the problem is that it only closes when there is an error (thats why there is a catch block)\r\n\r\nThe fix for this:\r\n\r\n    public void writeNewUser() {\r\n    \r\n        PrintWriter fw = null;\r\n    \r\n        try {\r\n            fw = new PrintWriter(&quot;users.txt&quot;);\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            bw.write(tfUsername.getText());\r\n            bw.newLine();\r\n            bw.write(tfPassword.getText());\r\n            fw.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();   \r\n            fw.close \r\n        }\r\n    }\r\n\r\n^^put the fw.close() in the try and catch block.\r\n\r\n\r\nAs for making it repeatable, try saving the passwords and usernames (Using the scanner class) into an array before initializing the FileWriter, and then have a `for` loop to rewrite the array into the file.\r\n\r\nHope this helps:\r\nClassic","title":"In need of JavaFX help writing to a .txt file","body":"<p>The problem is within the writeNewUser method: </p>\n\n<pre><code>public void writeNewUser() {\n\n    PrintWriter fw = null;\n\n    try {\n        fw = new PrintWriter(\"users.txt\");\n        BufferedWriter bw = new BufferedWriter(fw);\n        bw.write(tfUsername.getText());\n        bw.newLine();\n        bw.write(tfPassword.getText());\n    } catch (IOException e) {\n        e.printStackTrace();\n        fw.close();    \n    }\n}\n</code></pre>\n\n<p>The fw.close() is in the catch loop, but the problem is that it only closes when there is an error (thats why there is a catch block)</p>\n\n<p>The fix for this:</p>\n\n<pre><code>public void writeNewUser() {\n\n    PrintWriter fw = null;\n\n    try {\n        fw = new PrintWriter(\"users.txt\");\n        BufferedWriter bw = new BufferedWriter(fw);\n        bw.write(tfUsername.getText());\n        bw.newLine();\n        bw.write(tfPassword.getText());\n        fw.close();\n    } catch (IOException e) {\n        e.printStackTrace();   \n        fw.close \n    }\n}\n</code></pre>\n\n<p>^^put the fw.close() in the try and catch block.</p>\n\n<p>As for making it repeatable, try saving the passwords and usernames (Using the scanner class) into an array before initializing the FileWriter, and then have a <code>for</code> loop to rewrite the array into the file.</p>\n\n<p>Hope this helps:\nClassic</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1404439823,"creation_date":1404438789,"answer_id":24565661,"question_id":24565539,"body_markdown":"You&#39;re &quot;original&quot; had the `fw.close` method within the `catch` block of the `try-catch` in your `writeNewUser` method...\r\n\r\n    public void writeNewUser() {      \r\n        PrintWriter fw = null;\r\n        try {\r\n            fw = new PrintWriter(&quot;users.txt&quot;);\r\n            BufferedWriter bw = new BufferedWriter(fw);\r\n            bw.write(tfUsername.getText());\r\n            bw.newLine();\r\n            bw.write(tfPassword.getText());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            fw.close();\r\n        }\r\n    }\r\n\r\nAs has been pointed out, this will only be called if something goes wrong.  Also, `PrintWriter#close` will throw an `IOException` and `fw` could be `null`, causing more issues...\r\n\r\nThe modified code is only marginally better...\r\n\r\n    public void writeNewUser() {      \r\n        PrintWriter fw = null;\r\n        try {\r\n            //....\r\n            fw.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nPlacing the `close` call in within the `try` section means that it will only be called if all goes well.  If an exception occurs for some reason, the resource will never be closed\r\n\r\nYou should also be closing the outer resource, the `BufferedWriter` in this case, this will chain the close call to each enclosing resource.\r\n\r\nInstead, you should use a `try-with-resources`, which will close the resources automatically, for example...\r\n\r\n    public void writeNewUser() {\r\n        try (BufferedWriter bw = new BufferedWriter(new PrintWriter(&quot;users.txt&quot;))) {\r\n            bw.write(tfUsername.getText());\r\n            bw.newLine();\r\n            bw.write(tfPassword.getText());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }\r\n\r\n\r\nTake a look at [The try-with-resources Statement](http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) for more details\r\n\r\n**Updated**\r\n\r\nTo append to the file, you might need to use `FileWriter` instead, for example...\r\n\r\n    public void writeNewUser() {\r\n        try (BufferedWriter bw = new BufferedWriter(new FileWriter(&quot;users.txt&quot;, true))) {\r\n            bw.write(tfUsername.getText());\r\n            bw.newLine();\r\n            bw.write(tfPassword.getText());\r\n            bw.newLine();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }\r\n","title":"In need of JavaFX help writing to a .txt file","body":"<p>You're \"original\" had the <code>fw.close</code> method within the <code>catch</code> block of the <code>try-catch</code> in your <code>writeNewUser</code> method...</p>\n\n<pre><code>public void writeNewUser() {      \n    PrintWriter fw = null;\n    try {\n        fw = new PrintWriter(\"users.txt\");\n        BufferedWriter bw = new BufferedWriter(fw);\n        bw.write(tfUsername.getText());\n        bw.newLine();\n        bw.write(tfPassword.getText());\n    } catch (IOException e) {\n        e.printStackTrace();\n        fw.close();\n    }\n}\n</code></pre>\n\n<p>As has been pointed out, this will only be called if something goes wrong.  Also, <code>PrintWriter#close</code> will throw an <code>IOException</code> and <code>fw</code> could be <code>null</code>, causing more issues...</p>\n\n<p>The modified code is only marginally better...</p>\n\n<pre><code>public void writeNewUser() {      \n    PrintWriter fw = null;\n    try {\n        //....\n        fw.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>Placing the <code>close</code> call in within the <code>try</code> section means that it will only be called if all goes well.  If an exception occurs for some reason, the resource will never be closed</p>\n\n<p>You should also be closing the outer resource, the <code>BufferedWriter</code> in this case, this will chain the close call to each enclosing resource.</p>\n\n<p>Instead, you should use a <code>try-with-resources</code>, which will close the resources automatically, for example...</p>\n\n<pre><code>public void writeNewUser() {\n    try (BufferedWriter bw = new BufferedWriter(new PrintWriter(\"users.txt\"))) {\n        bw.write(tfUsername.getText());\n        bw.newLine();\n        bw.write(tfPassword.getText());\n    } catch (IOException e) {\n        e.printStackTrace();\n\n    }\n}\n</code></pre>\n\n<p>Take a look at <a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow\">The try-with-resources Statement</a> for more details</p>\n\n<p><strong>Updated</strong></p>\n\n<p>To append to the file, you might need to use <code>FileWriter</code> instead, for example...</p>\n\n<pre><code>public void writeNewUser() {\n    try (BufferedWriter bw = new BufferedWriter(new FileWriter(\"users.txt\", true))) {\n        bw.write(tfUsername.getText());\n        bw.newLine();\n        bw.write(tfPassword.getText());\n        bw.newLine();\n    } catch (IOException e) {\n        e.printStackTrace();\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23395042,"reputation":26,"user_id":17459198,"display_name":"ondhokaar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661512330,"creation_date":1661512330,"answer_id":73500143,"question_id":24565539,"body_markdown":"missing `bw.close()` is causing a blank file. it should be added as follows:\r\n\r\n```\r\npublic void writeNewUser() {\r\n\r\n    PrintWriter fw = null;\r\n\r\n    try {\r\n        fw = new PrintWriter(&quot;users.txt&quot;);\r\n        BufferedWriter bw = new BufferedWriter(fw);\r\n        bw.write(tfUsername.getText());\r\n        bw.newLine();\r\n        bw.write(tfPassword.getText());\r\n        \r\n        bw.close();  //missing this won&#39;t write anything into file\r\n        fw.close();\r\n\r\n    } catch (IOException e) {\r\n        e.printStackTrace();\r\n        fw.close();    \r\n    }\r\n}\r\n\r\n```","title":"In need of JavaFX help writing to a .txt file","body":"<p>missing <code>bw.close()</code> is causing a blank file. it should be added as follows:</p>\n<pre><code>public void writeNewUser() {\n\n    PrintWriter fw = null;\n\n    try {\n        fw = new PrintWriter(&quot;users.txt&quot;);\n        BufferedWriter bw = new BufferedWriter(fw);\n        bw.write(tfUsername.getText());\n        bw.newLine();\n        bw.write(tfPassword.getText());\n        \n        bw.close();  //missing this won't write anything into file\n        fw.close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n        fw.close();    \n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":4236329,"reputation":75,"user_id":3467373,"accept_rate":93,"display_name":"planker1010"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18915,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":24565661,"answer_count":3,"score":1,"last_activity_date":1661512330,"creation_date":1404437601,"question_id":24565539,"body_markdown":"I need to create a JavaFX project that creates a gui to input a name and password. I have created the panes, and set the stage. The items show correctly, however I cant upon button click get the info to write to the file. It creates the file but will not store the data. I need to be able to several names and passwords so I can create a reader login program to check the .txt file. Here is the code I have. \r\nThanks. \r\n\r\n    import javax.swing.JOptionPane;\r\n    import javafx.application.Application;\r\n    import javafx.geometry.Pos;\r\n    import javafx.geometry.HPos;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.stage.Stage;\r\n\r\n    import java.io.*;\r\n\r\n    public class AddUser extends Application {\r\n        private TextField tfUsername = new TextField();\r\n        private TextField tfPassword = new TextField();\r\n        private Button btAddUser = new Button(&quot;Add User&quot;);\r\n        private Button btClear = new Button(&quot;Clear&quot;);\r\n  \r\n        @Override // Override the start method in the Application class\r\n        public void start(Stage primaryStage) {\r\n            // Create UI\r\n            GridPane gridPane = new GridPane();\r\n            gridPane.setHgap(5);\r\n            gridPane.setVgap(5);\r\n            gridPane.add(new Label(&quot;Username:&quot;), 0, 0);\r\n            gridPane.add(tfUsername, 1, 0);\r\n            gridPane.add(new Label(&quot;Password:&quot;), 0, 1);\r\n            gridPane.add(tfPassword, 1, 1);\r\n            gridPane.add(btAddUser, 1, 3);\r\n            gridPane.add(btClear, 1, 3);\r\n\r\n            // Set properties for UI\r\n            gridPane.setAlignment(Pos.CENTER);\r\n            tfUsername.setAlignment(Pos.BOTTOM_RIGHT);\r\n            tfPassword.setAlignment(Pos.BOTTOM_RIGHT);\r\n   \r\n            GridPane.setHalignment(btAddUser, HPos.LEFT);\r\n            GridPane.setHalignment(btClear, HPos.RIGHT);\r\n\r\n            // Process events\r\n            btAddUser.setOnAction(e -&gt; writeNewUser());\r\n  \r\n            btClear.setOnAction(e -&gt; {\r\n                tfUsername.clear();\r\n                tfPassword.clear();\r\n            });   \r\n  \r\n            // Create a scene and place it in the stage\r\n            Scene scene = new Scene(gridPane, 300, 150);\r\n            primaryStage.setTitle(&quot;Add User&quot;); // Set title\r\n            primaryStage.setScene(scene); // Place the scene in the stage\r\n            primaryStage.show(); // Display the stage\r\n        }\r\n        \r\n        public void writeNewUser() {\t  \r\n            PrintWriter fw = null;\r\n\t\r\n            try {\r\n                fw = new PrintWriter(&quot;users.txt&quot;);\r\n                BufferedWriter bw = new BufferedWriter(fw);\r\n                bw.write(tfUsername.getText());\r\n                bw.newLine();\r\n                bw.write(tfPassword.getText());\r\n                fw.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                \r\n            }\r\n        }\r\n  \r\n        /**\r\n         * The main method is only needed for the IDE with limited\r\n         * JavaFX support. Not needed for running from the command line.\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }   ","title":"In need of JavaFX help writing to a .txt file","body":"<p>I need to create a JavaFX project that creates a gui to input a name and password. I have created the panes, and set the stage. The items show correctly, however I cant upon button click get the info to write to the file. It creates the file but will not store the data. I need to be able to several names and passwords so I can create a reader login program to check the .txt file. Here is the code I have. \nThanks. </p>\n\n<pre><code>import javax.swing.JOptionPane;\nimport javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.geometry.HPos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.GridPane;\nimport javafx.stage.Stage;\n\nimport java.io.*;\n\npublic class AddUser extends Application {\n    private TextField tfUsername = new TextField();\n    private TextField tfPassword = new TextField();\n    private Button btAddUser = new Button(\"Add User\");\n    private Button btClear = new Button(\"Clear\");\n\n    @Override // Override the start method in the Application class\n    public void start(Stage primaryStage) {\n        // Create UI\n        GridPane gridPane = new GridPane();\n        gridPane.setHgap(5);\n        gridPane.setVgap(5);\n        gridPane.add(new Label(\"Username:\"), 0, 0);\n        gridPane.add(tfUsername, 1, 0);\n        gridPane.add(new Label(\"Password:\"), 0, 1);\n        gridPane.add(tfPassword, 1, 1);\n        gridPane.add(btAddUser, 1, 3);\n        gridPane.add(btClear, 1, 3);\n\n        // Set properties for UI\n        gridPane.setAlignment(Pos.CENTER);\n        tfUsername.setAlignment(Pos.BOTTOM_RIGHT);\n        tfPassword.setAlignment(Pos.BOTTOM_RIGHT);\n\n        GridPane.setHalignment(btAddUser, HPos.LEFT);\n        GridPane.setHalignment(btClear, HPos.RIGHT);\n\n        // Process events\n        btAddUser.setOnAction(e -&gt; writeNewUser());\n\n        btClear.setOnAction(e -&gt; {\n            tfUsername.clear();\n            tfPassword.clear();\n        });   \n\n        // Create a scene and place it in the stage\n        Scene scene = new Scene(gridPane, 300, 150);\n        primaryStage.setTitle(\"Add User\"); // Set title\n        primaryStage.setScene(scene); // Place the scene in the stage\n        primaryStage.show(); // Display the stage\n    }\n\n    public void writeNewUser() {      \n        PrintWriter fw = null;\n\n        try {\n            fw = new PrintWriter(\"users.txt\");\n            BufferedWriter bw = new BufferedWriter(fw);\n            bw.write(tfUsername.getText());\n            bw.newLine();\n            bw.write(tfPassword.getText());\n            fw.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n\n        }\n    }\n\n    /**\n     * The main method is only needed for the IDE with limited\n     * JavaFX support. Not needed for running from the command line.\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n}   \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":277035,"reputation":13804,"user_id":570767,"accept_rate":82,"display_name":"Azodious"},"score":10,"creation_date":1351507073,"post_id":13119926,"comment_id":17838679,"body_markdown":"[What have you tried?](http://mattgemmell.com/2008/12/08/what-have-you-tried/)","body":"<a href=\"http://mattgemmell.com/2008/12/08/what-have-you-tried/\" rel=\"nofollow noreferrer\">What have you tried?</a>"},{"owner":{"account_id":250700,"reputation":2194,"user_id":527580,"accept_rate":71,"display_name":"Thinhbk"},"score":11,"creation_date":1351507107,"post_id":13119926,"comment_id":17838695,"body_markdown":"Is this a homework?","body":"Is this a homework?"}],"answers":[{"tags":[],"owner":{"account_id":1575191,"reputation":1394,"user_id":1542739,"accept_rate":100,"display_name":"Praveenkumar_V"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1504294008,"creation_date":1351507182,"answer_id":13119986,"question_id":13119926,"body_markdown":"    import java.io.*;\r\n    public class CountChar \r\n    {\r\n    \r\n        public static void main(String[] args) throws IOException\r\n        {\r\n          String ch;\r\n    \t  BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\r\n    \t  System.out.print(&quot;Enter the Statement:&quot;);\r\n    \t  ch=br.readLine();\r\n    \t  int count=0,len=0;\r\n            do\r\n            {  \r\n              try\r\n              {\r\n    \t      char name[]=ch.toCharArray();\r\n                  len=name.length;\r\n                  count=0;\r\n                  for(int j=0;j&lt;len;j++)\r\n                   {\r\n                      if((name[0]==name[j])&amp;&amp;((name[0]&gt;=65&amp;&amp;name[0]&lt;=91)||(name[0]&gt;=97&amp;&amp;name[0]&lt;=123))) \r\n                          count++;\r\n                   }\r\n                  if(count!=0)\r\n                    System.out.println(name[0]+&quot; &quot;+count+&quot; Times&quot;);\r\n                  ch=ch.replace(&quot;&quot;+name[0],&quot;&quot;);          \r\n              }\r\n              catch(Exception ex){}\r\n            }\r\n            while(len!=1);\r\n       }\r\n        \r\n    }\r\n\r\n&gt; **Output**\r\n\r\n    Enter the Statement:asdf23123sfsdf\r\n    \r\n    a 1 Times\r\n    \r\n    s 3 Times\r\n    \r\n    d 2 Times\r\n    \r\n    f 3 Times\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>import java.io.*;\npublic class CountChar \n{\n\n    public static void main(String[] args) throws IOException\n    {\n      String ch;\n      BufferedReader br=new BufferedReader(new InputStreamReader(System.in));\n      System.out.print(\"Enter the Statement:\");\n      ch=br.readLine();\n      int count=0,len=0;\n        do\n        {  \n          try\n          {\n          char name[]=ch.toCharArray();\n              len=name.length;\n              count=0;\n              for(int j=0;j&lt;len;j++)\n               {\n                  if((name[0]==name[j])&amp;&amp;((name[0]&gt;=65&amp;&amp;name[0]&lt;=91)||(name[0]&gt;=97&amp;&amp;name[0]&lt;=123))) \n                      count++;\n               }\n              if(count!=0)\n                System.out.println(name[0]+\" \"+count+\" Times\");\n              ch=ch.replace(\"\"+name[0],\"\");          \n          }\n          catch(Exception ex){}\n        }\n        while(len!=1);\n   }\n\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Output</strong></p>\n</blockquote>\n\n<pre><code>Enter the Statement:asdf23123sfsdf\n\na 1 Times\n\ns 3 Times\n\nd 2 Times\n\nf 3 Times\n</code></pre>\n"},{"tags":[],"owner":{"account_id":938015,"reputation":21321,"user_id":966590,"accept_rate":100,"display_name":"Andrew Logvinov"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1351507814,"creation_date":1351507224,"answer_id":13119999,"question_id":13119926,"body_markdown":"You could use the following, provided String `s` is the string you want to process.\r\n\r\n    Map&lt;Character,Integer&gt; map = new HashMap&lt;Character,Integer&gt;();\r\n    for (int i = 0; i &lt; s.length(); i++) {\r\n      char c = s.charAt(i);\r\n      if (map.containsKey(c)) {\r\n        int cnt = map.get(c);\r\n        map.put(c, ++cnt);\r\n      } else {\r\n        map.put(c, 1);\r\n      }\r\n    }\r\n\r\nNote, it will count all of the chars, not only letters.","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>You could use the following, provided String <code>s</code> is the string you want to process.</p>\n\n<pre><code>Map&lt;Character,Integer&gt; map = new HashMap&lt;Character,Integer&gt;();\nfor (int i = 0; i &lt; s.length(); i++) {\n  char c = s.charAt(i);\n  if (map.containsKey(c)) {\n    int cnt = map.get(c);\n    map.put(c, ++cnt);\n  } else {\n    map.put(c, 1);\n  }\n}\n</code></pre>\n\n<p>Note, it will count all of the chars, not only letters.</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1351508461,"creation_date":1351507370,"answer_id":13120036,"question_id":13119926,"body_markdown":"A better way would be to create a [`Map`](http://docs.oracle.com/javase/7/docs/api/java/util/Map.html) to store your count. That would be a `Map&lt;Character, Integer&gt;` \r\n\r\nYou need iterate over each character of your string, and check whether its an alphabet. You can use [`Character#isAlphabetic`](http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isAlphabetic(int)) method for that. If it is an `alphabet`, increase its count in the `Map`. If the character is not already in the `Map` then add it with a count of `1`.\r\n\r\n**NOTE**: - **`Character.isAlphabetic`** method is new in **`Java 7`**. If you are using an older version, you should use [`Character#isLetter`](http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#isLetter(char))\r\n\r\n        String str = &quot;asdfasdfafk asd234asda&quot;;\r\n    \tMap&lt;Character, Integer&gt; charMap = new HashMap&lt;Character, Integer&gt;();\r\n    \tchar[] arr = str.toCharArray();\r\n\r\n    \tfor (char value: arr) {\r\n\r\n    \t   if (Character.isAlphabetic(value)) {\r\n    \t       if (charMap.containsKey(value)) {\r\n    \t           charMap.put(value, charMap.get(value) + 1);\r\n\r\n    \t       } else {\r\n    \t           charMap.put(value, 1);\r\n    \t       }\r\n    \t   }\r\n    \t}\r\n\r\n        System.out.println(charMap);\r\n\r\n**OUTPUT**: -\r\n\r\n    {f=3, d=4, s=4, a=6, k=1}\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>A better way would be to create a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Map.html\" rel=\"noreferrer\"><code>Map</code></a> to store your count. That would be a <code>Map&lt;Character, Integer&gt;</code> </p>\n\n<p>You need iterate over each character of your string, and check whether its an alphabet. You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#isAlphabetic%28int%29\" rel=\"noreferrer\"><code>Character#isAlphabetic</code></a> method for that. If it is an <code>alphabet</code>, increase its count in the <code>Map</code>. If the character is not already in the <code>Map</code> then add it with a count of <code>1</code>.</p>\n\n<p><strong>NOTE</strong>: - <strong><code>Character.isAlphabetic</code></strong> method is new in <strong><code>Java 7</code></strong>. If you are using an older version, you should use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#isLetter%28char%29\" rel=\"noreferrer\"><code>Character#isLetter</code></a></p>\n\n<pre><code>    String str = \"asdfasdfafk asd234asda\";\n    Map&lt;Character, Integer&gt; charMap = new HashMap&lt;Character, Integer&gt;();\n    char[] arr = str.toCharArray();\n\n    for (char value: arr) {\n\n       if (Character.isAlphabetic(value)) {\n           if (charMap.containsKey(value)) {\n               charMap.put(value, charMap.get(value) + 1);\n\n           } else {\n               charMap.put(value, 1);\n           }\n       }\n    }\n\n    System.out.println(charMap);\n</code></pre>\n\n<p><strong>OUTPUT</strong>: -</p>\n\n<pre><code>{f=3, d=4, s=4, a=6, k=1}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40794,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1351507938,"creation_date":1351507563,"answer_id":13120098,"question_id":13119926,"body_markdown":"Use google guava `Multiset&lt;String&gt;`. \r\n\r\n    Multiset&lt;String&gt; wordsMultiset = HashMultiset.create();\r\n    wordsMultiset.addAll(words);\r\n    for(Multiset.Entry&lt;E&gt; entry:wordsMultiset.entrySet()){\r\n         System.out.println(entry.getElement()+&quot; - &quot;+entry.getCount());\r\n    }\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>Use google guava <code>Multiset&lt;String&gt;</code>. </p>\n\n<pre><code>Multiset&lt;String&gt; wordsMultiset = HashMultiset.create();\nwordsMultiset.addAll(words);\nfor(Multiset.Entry&lt;E&gt; entry:wordsMultiset.entrySet()){\n     System.out.println(entry.getElement()+\" - \"+entry.getCount());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4454595,"reputation":109,"user_id":3625327,"display_name":"user3625327"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1399806301,"creation_date":1399806301,"answer_id":23591795,"question_id":13119926,"body_markdown":"\t void Findrepeter(){\r\n\t\tString s=&quot;mmababctamantlslmag&quot;;\r\n\t\tint distinct = 0 ;\r\n\r\n\t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n\r\n\t\t\tfor (int j = 0; j &lt; s.length(); j++) {\r\n\r\n\t\t\t\tif(s.charAt(i)==s.charAt(j))\r\n\t\t\t\t{\r\n\t\t\t\t\tdistinct++;\r\n\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\tSystem.out.println(s.charAt(i)+&quot;--&quot;+distinct);\r\n\t\t\tString d=String.valueOf(s.charAt(i)).trim();\r\n\t\t\ts=s.replaceAll(d,&quot;&quot;);\r\n\t\t\tdistinct = 0;\r\n\r\n\t\t}\r\n\t\t\r\n\t}","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code> void Findrepeter(){\n    String s=\"mmababctamantlslmag\";\n    int distinct = 0 ;\n\n    for (int i = 0; i &lt; s.length(); i++) {\n\n        for (int j = 0; j &lt; s.length(); j++) {\n\n            if(s.charAt(i)==s.charAt(j))\n            {\n                distinct++;\n\n            }\n        }   \n        System.out.println(s.charAt(i)+\"--\"+distinct);\n        String d=String.valueOf(s.charAt(i)).trim();\n        s=s.replaceAll(d,\"\");\n        distinct = 0;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499800714,"creation_date":1442246353,"answer_id":32569043,"question_id":13119926,"body_markdown":"    import java.util.HashMap;\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class HashMapDemo {\r\n    \t\t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t//Create HashMap object to Store Element as Key and Value \r\n    \t\tHashMap&lt;Character,Integer&gt; hm= new HashMap&lt;Character,Integer&gt;();\r\n    \t\t//Enter Your String From Console\r\n    \t\tSystem.out.println(&quot;Enter an String:&quot;);\r\n    \t\t//Create Scanner Class Object From Retrive the element from console to our java application\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\t//Store Data in an string format\r\n    \t\tString s1=sc.nextLine();\r\n    \t\t//find the length of an string and check that hashmap object contain the character or not by using \r\n    \t\t//containskey() if that map object contain element only one than count that value as one or if it contain more than one than increment value \r\n    \r\n    \t\tfor(int i=0;i&lt;s1.length();i++){\r\n    \t\t\tif(!hm.containsKey(s1.charAt(i))){\r\n    \t\t\t\thm.put(s1.charAt(i),(Integer)1);\r\n    \t\t\t}//if\r\n    \t\t\telse{\r\n    \t\t\t\thm.put(s1.charAt(i),hm.get(s1.charAt(i))+1);\r\n    \t\t\t}//else\r\n    \r\n    \t\t}//for\r\n    \r\n    \t\tSystem.out.println(&quot;The Charecters are:&quot;+hm);\r\n    \t}//main\r\n    }//HashMapDemo\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>import java.util.HashMap;\nimport java.util.Scanner;\n\n\npublic class HashMapDemo {\n\n    public static void main(String[] args) {\n        //Create HashMap object to Store Element as Key and Value \n        HashMap&lt;Character,Integer&gt; hm= new HashMap&lt;Character,Integer&gt;();\n        //Enter Your String From Console\n        System.out.println(\"Enter an String:\");\n        //Create Scanner Class Object From Retrive the element from console to our java application\n        Scanner sc = new Scanner(System.in);\n        //Store Data in an string format\n        String s1=sc.nextLine();\n        //find the length of an string and check that hashmap object contain the character or not by using \n        //containskey() if that map object contain element only one than count that value as one or if it contain more than one than increment value \n\n        for(int i=0;i&lt;s1.length();i++){\n            if(!hm.containsKey(s1.charAt(i))){\n                hm.put(s1.charAt(i),(Integer)1);\n            }//if\n            else{\n                hm.put(s1.charAt(i),hm.get(s1.charAt(i))+1);\n            }//else\n\n        }//for\n\n        System.out.println(\"The Charecters are:\"+hm);\n    }//main\n}//HashMapDemo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4341431,"reputation":1,"user_id":3544566,"display_name":"Pramod"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1457192687,"creation_date":1457192687,"answer_id":35816108,"question_id":13119926,"body_markdown":"    public static void main(String[] args) {\r\n    \t\tchar[] array = &quot;aabsbdcbdgratsbdbcfdgs&quot;.toCharArray();\r\n    \t\tchar[][] countArr = new char[array.length][2];\r\n    \t\tint lastIndex = 0;\r\n    \t\tfor (char c : array) {\r\n    \t\t\tint foundIndex = -1;\r\n    \t\t\tfor (int i = 0; i &lt; lastIndex; i++) {\r\n    \t\t\t\tif (countArr[i][0] == c) {\r\n    \t\t\t\t\tfoundIndex = i;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (foundIndex &gt;= 0) {\r\n    \t\t\t\tint a = countArr[foundIndex][1];\r\n    \t\t\t\tcountArr[foundIndex][1] = (char) ++a;\r\n    \t\t\t} else {\r\n    \t\t\t\tcountArr[lastIndex][0] = c;\r\n    \t\t\t\tcountArr[lastIndex][1] = &#39;1&#39;;\r\n    \t\t\t\tlastIndex++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tfor (int i = 0; i &lt; lastIndex; i++) {\r\n    \t\t\tSystem.out.println(countArr[i][0] + &quot; &quot; + countArr[i][1]);\r\n    \t\t}\r\n    \t}","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>public static void main(String[] args) {\n        char[] array = \"aabsbdcbdgratsbdbcfdgs\".toCharArray();\n        char[][] countArr = new char[array.length][2];\n        int lastIndex = 0;\n        for (char c : array) {\n            int foundIndex = -1;\n            for (int i = 0; i &lt; lastIndex; i++) {\n                if (countArr[i][0] == c) {\n                    foundIndex = i;\n                    break;\n                }\n            }\n            if (foundIndex &gt;= 0) {\n                int a = countArr[foundIndex][1];\n                countArr[foundIndex][1] = (char) ++a;\n            } else {\n                countArr[lastIndex][0] = c;\n                countArr[lastIndex][1] = '1';\n                lastIndex++;\n            }\n        }\n        for (int i = 0; i &lt; lastIndex; i++) {\n            System.out.println(countArr[i][0] + \" \" + countArr[i][1]);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8434409,"reputation":1,"user_id":6328990,"display_name":"EiShweSin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463128498,"creation_date":1463121201,"answer_id":37202790,"question_id":13119926,"body_markdown":"    //sample Input\r\n    /*2\r\n    7\r\n    saska\r\n    toro\r\n    winn\r\n    toro\r\n    vanco\r\n    saska\r\n    toro\r\n    3\r\n    edddddd\r\n    edddddd\r\n    edddddd*/\r\n    //sample output\r\n    /*4\r\n      1*/\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    \r\n    public class MyTestWhere {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint count, line;\r\n    \t\tScanner sn = new Scanner(System.in);\r\n    \t\tcount = sn.nextInt();\r\n    \t\tsn.nextLine();\t\t\t\r\n    \t\tfor (int i = 0; i &lt; count; i++) { \r\n    \t\t\tline = sn.nextInt();\r\n    \t\t\tsn.nextLine();\r\n    \t\t//\tString numArr[] = new String[line];\r\n    \t\t\tArrayList&lt;String&gt; Arr=new ArrayList&lt;String&gt;();\r\n    \t\t\tString first = sn.nextLine();\r\n    \t\t\tArr.add(first);String f;\r\n    \t\t\tfor (int j = 1; j &lt; line; j++) {\r\n    \t\t\t\tf= sn.nextLine();\r\n    \t\t\t\tfor(int k=0;k&lt;Arr.size();k++){\r\n    \t\t\t\t\tif(f.equalsIgnoreCase(Arr.get(k)))break;\r\n    \t\t\t\t\telse if(k== (Arr.size()-1)){Arr.add(f);}\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\t\r\n    \t\t\t\t\r\n    \t\t\tSystem.out.println(Arr.size());\r\n    \t\t\t\t\t\r\n    \t\t}\r\n    \t}\r\n    }\r\n    \t  \r\n    \t \r\n    \t \r\n\t","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>//sample Input\n/*2\n7\nsaska\ntoro\nwinn\ntoro\nvanco\nsaska\ntoro\n3\nedddddd\nedddddd\nedddddd*/\n//sample output\n/*4\n  1*/\n\nimport java.util.ArrayList;\nimport java.util.Scanner;\n\npublic class MyTestWhere {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        int count, line;\n        Scanner sn = new Scanner(System.in);\n        count = sn.nextInt();\n        sn.nextLine();          \n        for (int i = 0; i &lt; count; i++) { \n            line = sn.nextInt();\n            sn.nextLine();\n        //  String numArr[] = new String[line];\n            ArrayList&lt;String&gt; Arr=new ArrayList&lt;String&gt;();\n            String first = sn.nextLine();\n            Arr.add(first);String f;\n            for (int j = 1; j &lt; line; j++) {\n                f= sn.nextLine();\n                for(int k=0;k&lt;Arr.size();k++){\n                    if(f.equalsIgnoreCase(Arr.get(k)))break;\n                    else if(k== (Arr.size()-1)){Arr.add(f);}\n\n                }\n            }   \n\n            System.out.println(Arr.size());\n\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5304168,"reputation":145,"user_id":4761581,"accept_rate":14,"display_name":"praveen kumar bommali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464668696,"creation_date":1464668696,"answer_id":37536814,"question_id":13119926,"body_markdown":"    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Scanner;\r\n    import java.util.Set;\r\n    public class DuplicateCountChar{\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner inputString = new Scanner(System.in);\r\n    \t\tString token = inputString.nextLine();\r\n    \t\tchar[] ch = token.toCharArray();\r\n    \t\tMap&lt;Character, Integer&gt; dupCountMap =  new HashMap&lt;Character,Integer&gt;();\r\n    \t\t\r\n    \t\tfor (char c : ch) {\r\n    \t\t\tif(dupCountMap.containsKey(c)) { \r\n    \t\t\t\tdupCountMap.put(c, dupCountMap.get(c)+1);\r\n    \t\t\t}else {\r\n    \t\t\t\tdupCountMap.put(c, 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\r\n    \t\t\r\n    \t\tfor (char c : ch) {\r\n    \t\t\tSystem.out.println(&quot;Key = &quot;+c+ &quot;Value : &quot;+dupCountMap.get(c));\r\n    \t\t}\r\n    \t\t\r\n    \t\tSet&lt;Character&gt; keys = dupCountMap.keySet();\r\n    \t\tfor (Character character : keys) {\r\n    \t\t\tSystem.out.println(&quot;Key = &quot;+character+ &quot; Value : &quot; + dupCountMap.get(character));\r\n    \t\t}\r\n    \t\t\r\n    \t}**","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Scanner;\nimport java.util.Set;\npublic class DuplicateCountChar{\n\n    public static void main(String[] args) {\n        Scanner inputString = new Scanner(System.in);\n        String token = inputString.nextLine();\n        char[] ch = token.toCharArray();\n        Map&lt;Character, Integer&gt; dupCountMap =  new HashMap&lt;Character,Integer&gt;();\n\n        for (char c : ch) {\n            if(dupCountMap.containsKey(c)) { \n                dupCountMap.put(c, dupCountMap.get(c)+1);\n            }else {\n                dupCountMap.put(c, 1);\n            }\n        }\n\n\n        for (char c : ch) {\n            System.out.println(\"Key = \"+c+ \"Value : \"+dupCountMap.get(c));\n        }\n\n        Set&lt;Character&gt; keys = dupCountMap.keySet();\n        for (Character character : keys) {\n            System.out.println(\"Key = \"+character+ \" Value : \" + dupCountMap.get(character));\n        }\n\n    }**\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6987583,"reputation":17,"user_id":5357891,"display_name":"MOHAMMAD S HUSSAIN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466244655,"creation_date":1466243540,"answer_id":37895620,"question_id":13119926,"body_markdown":"In java... using for loop:\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    /**\r\n     *\r\n     * @author MD SADDAM HUSSAIN */\r\n    public class Learn {\r\n    \r\n        public static void main(String args[]) {\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n            String input = sc.next();\r\n            char process[] = input.toCharArray();\r\n            boolean status = false;\r\n            int index = 0;\r\n            for (int i = 0; i &lt; process.length; i++) {\r\n                for (int j = 0; j &lt; process.length; j++) {\r\n    \r\n                    if (i == j) {\r\n                        continue;\r\n                    } else {\r\n                        if (process[i] == process[j]) {\r\n                            status = true;\r\n                            index = i;\r\n                            break;\r\n                        } else {\r\n                            status = false;\r\n                           \r\n                        }\r\n                    }\r\n    \r\n                }\r\n                if (status) {\r\n                    System.out.print(&quot;&quot; + process[index]);\r\n                    \r\n                }\r\n            }\r\n        }\r\n    }","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>In java... using for loop:</p>\n\n<pre><code>import java.util.Scanner;\n\n/**\n *\n * @author MD SADDAM HUSSAIN */\npublic class Learn {\n\n    public static void main(String args[]) {\n\n        Scanner sc = new Scanner(System.in);\n        String input = sc.next();\n        char process[] = input.toCharArray();\n        boolean status = false;\n        int index = 0;\n        for (int i = 0; i &lt; process.length; i++) {\n            for (int j = 0; j &lt; process.length; j++) {\n\n                if (i == j) {\n                    continue;\n                } else {\n                    if (process[i] == process[j]) {\n                        status = true;\n                        index = i;\n                        break;\n                    } else {\n                        status = false;\n\n                    }\n                }\n\n            }\n            if (status) {\n                System.out.print(\"\" + process[index]);\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1278271,"reputation":361,"user_id":1233021,"display_name":"m190"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1476363286,"creation_date":1476363286,"answer_id":40021625,"question_id":13119926,"body_markdown":"Java 8 way:\r\n\r\n    &quot;The quick brown fox jumped over the lazy dog.&quot;\r\n            .chars()\r\n            .mapToObj(i -&gt; (char) i)\r\n            .collect(Collectors.groupingBy(Object::toString, Collectors.counting()));\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>Java 8 way:</p>\n\n<pre><code>\"The quick brown fox jumped over the lazy dog.\"\n        .chars()\n        .mapToObj(i -&gt; (char) i)\n        .collect(Collectors.groupingBy(Object::toString, Collectors.counting()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478238178,"creation_date":1478238178,"answer_id":40416021,"question_id":13119926,"body_markdown":"\r\n\r\n      public class StringCountwithOutHashMap {\r\n\t  public static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Plz Enter Your String: &quot;);\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tString s1 = sc.nextLine();\r\n\t\tint count = 0;\r\n\t\tfor (int i = 0; i &lt; s1.length(); i++) {\r\n\t\t\tfor (int j = 0; j &lt; s1.length(); j++) {\r\n\t\t\t\tif (s1.charAt(i) == s1.charAt(j)) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t} \r\n\t\t\t} \r\n\t\t\tSystem.out.println(s1.charAt(i) + &quot; --&gt; &quot; + count);\r\n\t\t\tString d = String.valueOf(s1.charAt(i)).trim();\r\n\t\t\ts1 = s1.replaceAll(d, &quot;&quot;);\r\n\t\t\tcount = 0;\r\n\t\t}}}","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>  public class StringCountwithOutHashMap {\n  public static void main(String[] args) {\n    System.out.println(\"Plz Enter Your String: \");\n    Scanner sc = new Scanner(System.in);\n    String s1 = sc.nextLine();\n    int count = 0;\n    for (int i = 0; i &lt; s1.length(); i++) {\n        for (int j = 0; j &lt; s1.length(); j++) {\n            if (s1.charAt(i) == s1.charAt(j)) {\n                count++;\n            } \n        } \n        System.out.println(s1.charAt(i) + \" --&gt; \" + count);\n        String d = String.valueOf(s1.charAt(i)).trim();\n        s1 = s1.replaceAll(d, \"\");\n        count = 0;\n    }}}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7224695,"reputation":11,"user_id":5513738,"display_name":"Rahul Khedekar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485223874,"creation_date":1485223874,"answer_id":41818899,"question_id":13119926,"body_markdown":"\r\n    public static void main(String args[]) {\r\n        char Char;\r\n        int count;\r\n        String a = &quot;Hi my name is Rahul&quot;;\r\n        a = a.toLowerCase();\r\n        for (Char = &#39;a&#39;; Char &lt;= &#39;z&#39;; Char++) {\r\n            count = 0;\r\n            for (int i = 0; i &lt; a.length(); i++) {\r\n                if (a.charAt(i) == Char) {\r\n                    count++;\r\n                }\r\n            }\r\n            System.out.println(&quot;Number of occurences of &quot; + Char + &quot; is &quot; + count);\r\n        }\r\n    }\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>public static void main(String args[]) {\n    char Char;\n    int count;\n    String a = \"Hi my name is Rahul\";\n    a = a.toLowerCase();\n    for (Char = 'a'; Char &lt;= 'z'; Char++) {\n        count = 0;\n        for (int i = 0; i &lt; a.length(); i++) {\n            if (a.charAt(i) == Char) {\n                count++;\n            }\n        }\n        System.out.println(\"Number of occurences of \" + Char + \" is \" + count);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6957929,"reputation":411,"user_id":5338398,"accept_rate":26,"display_name":"anuvrat singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486993747,"creation_date":1486993747,"answer_id":42205630,"question_id":13119926,"body_markdown":"    public static void main(String[] args) {\r\n    \t\tString name=&quot;AnuvratAnuvra&quot;;\r\n    \t\tchar[] arr = name.toCharArray();\r\n    \t\tHashMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\r\n    \t\t\r\n    \t\tfor(char val:arr){\t\t\t\r\n    \t\t\tmap.put(val,map.containsKey(val)?map.get(val)+1:1);\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor (Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\r\n    \t\t\tif(entry.getValue()&gt;1){\r\n    \t\t\tCharacter key = entry.getKey();\r\n    \t\t\tObject value = entry.getValue();\r\n    \r\n    \t\t\tSystem.out.println(key + &quot;:&quot;+value);\r\n    \t\t\t}\r\n    \t\t\t}\r\n    \t}\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>public static void main(String[] args) {\n        String name=\"AnuvratAnuvra\";\n        char[] arr = name.toCharArray();\n        HashMap&lt;Character, Integer&gt; map = new HashMap&lt;Character, Integer&gt;();\n\n        for(char val:arr){          \n            map.put(val,map.containsKey(val)?map.get(val)+1:1);         \n        }\n\n        for (Entry&lt;Character, Integer&gt; entry : map.entrySet()) {\n            if(entry.getValue()&gt;1){\n            Character key = entry.getKey();\n            Object value = entry.getValue();\n\n            System.out.println(key + \":\"+value);\n            }\n            }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7280779,"reputation":1,"user_id":5550627,"display_name":"Nikhil Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488736244,"creation_date":1488735682,"answer_id":42611760,"question_id":13119926,"body_markdown":"    public class CountH {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString input = &quot;Hi how are you&quot;;\r\n    \r\n    \t\tchar charCount = &#39;h&#39;;\r\n    \t\tint count = 0;\r\n    \r\n    \t\tinput = input.toLowerCase();\r\n    \r\n    \t\tfor (int i = 0; i &lt; input.length(); i++) {\r\n    \r\n    \t\t\tif (input.charAt(i) == charCount) {\r\n    \t\t\t\tcount++;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(count);\r\n    \t}\r\n    }","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>public class CountH {\n\n    public static void main(String[] args) {\n        String input = \"Hi how are you\";\n\n        char charCount = 'h';\n        int count = 0;\n\n        input = input.toLowerCase();\n\n        for (int i = 0; i &lt; input.length(); i++) {\n\n            if (input.charAt(i) == charCount) {\n                count++;\n            }\n\n        }\n\n        System.out.println(count);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10365152,"reputation":11,"user_id":7644414,"display_name":"kavya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489586105,"creation_date":1489586105,"answer_id":42811835,"question_id":13119926,"body_markdown":"\r\nclass A {\r\n\t\r\n    public static void getDuplicates(String S) {\r\n\t\tint count = 0;\r\n\t\tString t = &quot;&quot;;\r\n\t\tfor (int i = 0; i &lt; S.length() - 1; i++) {\r\n\t\t\tfor (int j = i + 1; j &lt; S.length(); j++) {\r\n\t\t\t\tif (S.charAt(i) == S.charAt(j) &amp;&amp; !t.contains(S.charAt(j) + &quot;&quot;)) {\r\n\t\t\t\t\tt = t + S.charAt(i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(t);\r\n\t}\r\n}\r\n\r\nclass B\r\npublic class B {\r\n\r\n\tpublic static void main(String[] args){\r\n\t\tA.getDuplicates(&quot;mymgsgkkabcdyy&quot;);\r\n\r\n\t}\r\n\r\n}\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>class A {</p>\n\n<pre><code>public static void getDuplicates(String S) {\n    int count = 0;\n    String t = \"\";\n    for (int i = 0; i &lt; S.length() - 1; i++) {\n        for (int j = i + 1; j &lt; S.length(); j++) {\n            if (S.charAt(i) == S.charAt(j) &amp;&amp; !t.contains(S.charAt(j) + \"\")) {\n                t = t + S.charAt(i);\n            }\n        }\n    }\n    System.out.println(t);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>class B\npublic class B {</p>\n\n<pre><code>public static void main(String[] args){\n    A.getDuplicates(\"mymgsgkkabcdyy\");\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7576348,"reputation":293,"user_id":5748612,"accept_rate":33,"display_name":"Gobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490469499,"creation_date":1490467774,"answer_id":43020511,"question_id":13119926,"body_markdown":"    public class DuplicateValue {\r\n        \r\n        public static void main(String[] args) {\r\n        \r\n        \tString s = &quot;hezzz&quot;;\r\n        \r\n        \tchar []st=s.toCharArray();\r\n        \r\n        \tint count=0;\r\n        \r\n        \tSet&lt;Character&gt; ch=new HashSet&lt;&gt;();\r\n        \tfor(Character cg:st){\r\n        \t\tif(ch.add(cg)==false){\r\n        \t\t\tint occurrences = Collections.frequency(ch, cg);\r\n        \t\t\tcount+=occurrences;\r\n        \t\t\tif(count&gt;1){\r\n        \t\t\tSystem.out.println(cg + &quot;: This character exist more than one time&quot;);\r\n        \t\t\t}\r\n        \t\t\telse{\r\n        \t\t\tSystem.out.println(cg);\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \t\r\n        \tSystem.out.println(count);\r\n        }\r\n    }","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>public class DuplicateValue {\n\n    public static void main(String[] args) {\n\n        String s = \"hezzz\";\n\n        char []st=s.toCharArray();\n\n        int count=0;\n\n        Set&lt;Character&gt; ch=new HashSet&lt;&gt;();\n        for(Character cg:st){\n            if(ch.add(cg)==false){\n                int occurrences = Collections.frequency(ch, cg);\n                count+=occurrences;\n                if(count&gt;1){\n                System.out.println(cg + \": This character exist more than one time\");\n                }\n                else{\n                System.out.println(cg);\n                }\n            }\n        }\n\n        System.out.println(count);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573350812,"creation_date":1495347153,"answer_id":44093747,"question_id":13119926,"body_markdown":"Using [Eclipse Collections][1] `CharAdapter` and `CharBag`:\r\n\r\n    CharBag bag = \r\n        Strings.asChars(&quot;The quick brown fox jumped over the lazy dog.&quot;).toBag();\r\n\r\n    Assert.assertEquals(1, bag.occurrencesOf(&#39;a&#39;));\r\n    Assert.assertEquals(4, bag.occurrencesOf(&#39;o&#39;));\r\n    Assert.assertEquals(8, bag.occurrencesOf(&#39; &#39;));\r\n    Assert.assertEquals(1, bag.occurrencesOf(&#39;.&#39;));\r\n\r\nNote: I am a committer for Eclipse Collections\r\n\r\n  [1]: https://www.eclipse.org/collections/","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>Using <a href=\"https://www.eclipse.org/collections/\" rel=\"nofollow noreferrer\">Eclipse Collections</a> <code>CharAdapter</code> and <code>CharBag</code>:</p>\n\n<pre><code>CharBag bag = \n    Strings.asChars(\"The quick brown fox jumped over the lazy dog.\").toBag();\n\nAssert.assertEquals(1, bag.occurrencesOf('a'));\nAssert.assertEquals(4, bag.occurrencesOf('o'));\nAssert.assertEquals(8, bag.occurrencesOf(' '));\nAssert.assertEquals(1, bag.occurrencesOf('.'));\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections</p>\n"},{"tags":[],"owner":{"account_id":10936663,"reputation":110,"user_id":8038120,"display_name":"steven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1495347999,"creation_date":1495347999,"answer_id":44093828,"question_id":13119926,"body_markdown":"You can also achieve it by iterating over your `String` and using a `switch` to check each individual character, adding a counter whenever it finds a match. Ah, maybe some code will make it clearer:\r\n\r\n**Main Application:**\r\n\r\n    public static void main(String[] args) {\r\n    \r\n            String test = &quot;The quick brown fox jumped over the lazy dog.&quot;;\r\n    \r\n            int countA = 0, countO = 0, countSpace = 0, countDot = 0;\r\n    \r\n            for (int i = 0; i &lt; test.length(); i++) {\r\n                switch (test.charAt(i)) {\r\n                    case &#39;a&#39;:\r\n                    case &#39;A&#39;: countA++; break;\r\n                    case &#39;o&#39;:\r\n                    case &#39;O&#39;: countO++; break;\r\n                    case &#39; &#39;: countSpace++; break;\r\n                    case &#39;.&#39;: countDot++; break;\r\n                }\r\n            }\r\n    \r\n            System.out.printf(&quot;%s%d%n%s%d%n%s%d%n%s%d&quot;, &quot;A: &quot;, countA, &quot;O: &quot;, countO, &quot;Space: &quot;, countSpace, &quot;Dot: &quot;, countDot);\r\n    \r\n        }\r\n\r\n**Output:**\r\n\r\n    A: 1\r\n    O: 4\r\n    Space: 8\r\n    Dot: 1","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>You can also achieve it by iterating over your <code>String</code> and using a <code>switch</code> to check each individual character, adding a counter whenever it finds a match. Ah, maybe some code will make it clearer:</p>\n\n<p><strong>Main Application:</strong></p>\n\n<pre><code>public static void main(String[] args) {\n\n        String test = \"The quick brown fox jumped over the lazy dog.\";\n\n        int countA = 0, countO = 0, countSpace = 0, countDot = 0;\n\n        for (int i = 0; i &lt; test.length(); i++) {\n            switch (test.charAt(i)) {\n                case 'a':\n                case 'A': countA++; break;\n                case 'o':\n                case 'O': countO++; break;\n                case ' ': countSpace++; break;\n                case '.': countDot++; break;\n            }\n        }\n\n        System.out.printf(\"%s%d%n%s%d%n%s%d%n%s%d\", \"A: \", countA, \"O: \", countO, \"Space: \", countSpace, \"Dot: \", countDot);\n\n    }\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>A: 1\nO: 4\nSpace: 8\nDot: 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8843869,"reputation":1,"user_id":6605386,"display_name":"Hassan Khan"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1497129953,"creation_date":1497129953,"answer_id":44478220,"question_id":13119926,"body_markdown":"    public static void findDuplicate(String letter)\r\n\t{\r\n\t\t\r\n\t\tfor(int i=0; i&lt;letter.length();i++)\r\n\t\t{\r\n\t\t\tfor( int j=i+1; j&lt;letter.length();j++)\r\n\t\t\t{\r\n\t\t\t\tif(letter.charAt(i)==letter.charAt(j))\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(letter.charAt(j));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nfindDuplicate(&quot;JAVA&quot;);\r\n\r\nThe OUTPUT is : A","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>public static void findDuplicate(String letter)\n{\n\n    for(int i=0; i&lt;letter.length();i++)\n    {\n        for( int j=i+1; j&lt;letter.length();j++)\n        {\n            if(letter.charAt(i)==letter.charAt(j))\n            {\n                System.out.println(letter.charAt(j));\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>findDuplicate(\"JAVA\");</p>\n\n<p>The OUTPUT is : A</p>\n"},{"tags":[],"owner":{"account_id":10288326,"reputation":1,"user_id":7590817,"display_name":"shivaR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498688978,"creation_date":1498688978,"answer_id":44813537,"question_id":13119926,"body_markdown":"\r\n                           Map&lt;Character,Integer&gt; listMap = new HashMap&lt;Character,Integer&gt;();                         \r\n                           Scanner in= new Scanner(System.in);\r\n                           System.out.println(&quot;enter the string&quot;);\r\n                           String name=in.nextLine().toString();\r\n                           Integer value=0;\r\n                           for(int i=0;i&lt;name.length();i++){\r\n                                         \r\n                                         if(i==0){\r\n                                                       listMap.put(name.charAt(0), 1);\r\n                                         }\r\n                                         else if(listMap.containsKey(name.charAt(i))){\r\n                                                                    value=listMap.get(name.charAt(i));\r\n                                                                    listMap.put(name.charAt(i), value+1);\r\n                                         \r\n                                         }else listMap.put(name.charAt(i),1);\r\n                                                       \r\n                                         \r\n                           }\r\n                           \r\n                           System.out.println(listMap);\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>                       Map&lt;Character,Integer&gt; listMap = new HashMap&lt;Character,Integer&gt;();                         \n                       Scanner in= new Scanner(System.in);\n                       System.out.println(\"enter the string\");\n                       String name=in.nextLine().toString();\n                       Integer value=0;\n                       for(int i=0;i&lt;name.length();i++){\n\n                                     if(i==0){\n                                                   listMap.put(name.charAt(0), 1);\n                                     }\n                                     else if(listMap.containsKey(name.charAt(i))){\n                                                                value=listMap.get(name.charAt(i));\n                                                                listMap.put(name.charAt(i), value+1);\n\n                                     }else listMap.put(name.charAt(i),1);\n\n\n                       }\n\n                       System.out.println(listMap);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7783966,"reputation":123,"user_id":5889493,"display_name":"Ashish Agrawal Yodlee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501069342,"creation_date":1501067786,"answer_id":45325366,"question_id":13119926,"body_markdown":"There are three ways to find duplicates\r\n\r\n\r\n\r\n    public class WAP_PrintDuplicates {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString input = &quot;iabccdeffghhijkkkl&quot;;\r\n    \r\n    \t\tfindDuplicate1(input);\r\n    \t\tfindDuplicate2(input);\r\n    \t\tfindDuplicate3(input);\r\n    \r\n    \t}\r\n    \r\n    \tprivate static void findDuplicate3(String input) {\r\n    \r\n    \t\tHashMap&lt;Character, Integer&gt; hm = new HashMap&lt;Character, Integer&gt;();\r\n    \r\n    \t\tfor (int i = 0; i &lt; input.length() - 1; i++) {\r\n    \t\t\tint ch = input.charAt(i);\r\n    \t\t\tif (hm.containsKey(input.charAt(i))) {\r\n    \t\t\t\tint value = hm.get(input.charAt(i));\r\n    \t\t\t\thm.put(input.charAt(i), value + 1);\r\n    \t\t\t} else {\r\n    \t\t\t\thm.put(input.charAt(i), 1);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSet&lt;Entry&lt;Character, Integer&gt;&gt; entryObj = hm.entrySet();\r\n    \t\tfor (Entry&lt;Character, Integer&gt; entry : entryObj) {\r\n    \r\n    \t\t\tif (entry.getValue() &gt; 1) {\r\n    \t\t\t\tSystem.out.println(&quot;Duplicate: &quot; + entry.getKey());\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate static void findDuplicate2(String input) {\r\n    \r\n    \t\tint i = 0;\r\n    \r\n    \t\tfor (int j = i + 1; j &lt; input.length(); j++, i++) {\r\n    \r\n    \t\t\tif (input.charAt(i) == input.charAt(j)) {\r\n    \t\t\t\tSystem.out.println(&quot;Duplicate is: &quot; + input.charAt(i));\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tprivate static void findDuplicate1(String input) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tfor (int i = 0; i &lt; input.length(); i++) {\r\n    \r\n    \t\t\tfor (int j = i + 1; j &lt; input.length(); j++) {\r\n    \r\n    \t\t\t\tif (input.charAt(i) == input.charAt(j)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Duplicate is: &quot; + input.charAt(i));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>There are three ways to find duplicates</p>\n\n<pre><code>public class WAP_PrintDuplicates {\n\n    public static void main(String[] args) {\n\n        String input = \"iabccdeffghhijkkkl\";\n\n        findDuplicate1(input);\n        findDuplicate2(input);\n        findDuplicate3(input);\n\n    }\n\n    private static void findDuplicate3(String input) {\n\n        HashMap&lt;Character, Integer&gt; hm = new HashMap&lt;Character, Integer&gt;();\n\n        for (int i = 0; i &lt; input.length() - 1; i++) {\n            int ch = input.charAt(i);\n            if (hm.containsKey(input.charAt(i))) {\n                int value = hm.get(input.charAt(i));\n                hm.put(input.charAt(i), value + 1);\n            } else {\n                hm.put(input.charAt(i), 1);\n            }\n        }\n        Set&lt;Entry&lt;Character, Integer&gt;&gt; entryObj = hm.entrySet();\n        for (Entry&lt;Character, Integer&gt; entry : entryObj) {\n\n            if (entry.getValue() &gt; 1) {\n                System.out.println(\"Duplicate: \" + entry.getKey());\n            }\n        }\n\n    }\n\n    private static void findDuplicate2(String input) {\n\n        int i = 0;\n\n        for (int j = i + 1; j &lt; input.length(); j++, i++) {\n\n            if (input.charAt(i) == input.charAt(j)) {\n                System.out.println(\"Duplicate is: \" + input.charAt(i));\n            }\n        }\n\n    }\n\n    private static void findDuplicate1(String input) {\n        // TODO Auto-generated method stub\n        for (int i = 0; i &lt; input.length(); i++) {\n\n            for (int j = i + 1; j &lt; input.length(); j++) {\n\n                if (input.charAt(i) == input.charAt(j)) {\n                    System.out.println(\"Duplicate is: \" + input.charAt(i));\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user6863325"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501873878,"creation_date":1501873878,"answer_id":45513947,"question_id":13119926,"body_markdown":"    public class dublicate \r\n    {\r\n    public static void main(String...a)\r\n    {\r\n    \tSystem.out.print(&quot;Enter the String&quot;);\r\n    \tScanner sc=new Scanner(System.in);\r\n    \tString st=sc.nextLine();\r\n    \tint [] ar=new int[256];\r\n    \tfor(int i=0;i&lt;st.length();i++)\r\n    \t{\r\n    \t\tar[st.charAt(i)]=ar[st.charAt(i)]+1;\r\n    \t}\r\n    \tfor(int i=0;i&lt;256;i++)\r\n    \t{\r\n    \t\tchar ch=(char)i;\r\n    \t\tif(ar[i]&gt;0)\r\n    \t\t{\r\n    \t\t\tif(ar[i]==1)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(ch);\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(ch+&quot;&quot;+ar[i]);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }\r\n    }","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>public class dublicate \n{\npublic static void main(String...a)\n{\n    System.out.print(\"Enter the String\");\n    Scanner sc=new Scanner(System.in);\n    String st=sc.nextLine();\n    int [] ar=new int[256];\n    for(int i=0;i&lt;st.length();i++)\n    {\n        ar[st.charAt(i)]=ar[st.charAt(i)]+1;\n    }\n    for(int i=0;i&lt;256;i++)\n    {\n        char ch=(char)i;\n        if(ar[i]&gt;0)\n        {\n            if(ar[i]==1)\n            {\n                System.out.print(ch);\n            }\n            else\n            {\n                System.out.print(ch+\"\"+ar[i]);\n            }\n        }\n    }\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11491077,"reputation":1,"user_id":8422031,"display_name":"SANCHIT SRIVASTAVA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504301841,"creation_date":1504286349,"answer_id":46005190,"question_id":13119926,"body_markdown":"    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int n = sc.nextInt();\r\n            String reverse1;\r\n            String reverse2;\r\n            int count = 0;\r\n            while(n &gt; 0)\r\n            {\r\n                String A = sc.next();\r\n                String B = sc.next();\r\n                reverse1 = new StringBuffer(A).reverse().toString();\r\n                reverse2 = new StringBuffer(B).reverse().toString();\r\n                if(!A.equals(reverse1))\r\n                {\r\n                    for(int i = 0; i &lt; A.length(); i++)\r\n                    {\r\n                        for(int j = 0; j &lt; A.length(); j++)\r\n                        {\r\n                            if(A.charAt(j) == A.charAt(i))\r\n                            {\r\n                                count++;\r\n                            }\r\n                        }\r\n                        if(count % 2 != 0)\r\n                        {\r\n                            A.replace(A.charAt(i),&quot;&quot;);\r\n                            count = 0;\r\n                        }\r\n                    }\r\n                    System.out.println(A);\r\n                }\r\n                n--;\r\n            } \r\n        }\r\n    }\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int n = sc.nextInt();\n        String reverse1;\n        String reverse2;\n        int count = 0;\n        while(n &gt; 0)\n        {\n            String A = sc.next();\n            String B = sc.next();\n            reverse1 = new StringBuffer(A).reverse().toString();\n            reverse2 = new StringBuffer(B).reverse().toString();\n            if(!A.equals(reverse1))\n            {\n                for(int i = 0; i &lt; A.length(); i++)\n                {\n                    for(int j = 0; j &lt; A.length(); j++)\n                    {\n                        if(A.charAt(j) == A.charAt(i))\n                        {\n                            count++;\n                        }\n                    }\n                    if(count % 2 != 0)\n                    {\n                        A.replace(A.charAt(i),\"\");\n                        count = 0;\n                    }\n                }\n                System.out.println(A);\n            }\n            n--;\n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8304881,"reputation":1165,"user_id":6242317,"accept_rate":100,"display_name":"Vicky"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1554669593,"creation_date":1518281390,"answer_id":48723167,"question_id":13119926,"body_markdown":"This is the implementation without using any Collection and with complexity order of n. Although the accepted solution is good enough and does not use Collection as well but it seems, it is not taking care of special characters.\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class DuplicateCharactersInString {\r\n    \tpublic static void main(String[] args) {\r\n\t    \tString string = &quot;check duplicate charcters in string&quot;;\r\n\t\t    string = string.toLowerCase();\r\n    \t\tchar[] charAr = string.toCharArray();\r\n\t    \tArrays.sort(charAr);\r\n\t\t    for (int i = 1; i &lt; charAr.length;) {\r\n\t\t\t    int count = recursiveMethod(charAr, i, 1);\r\n    \t\t\tif (count &gt; 1) {\r\n\t    \t\t\tSystem.out.println(&quot;&#39;&quot; + charAr[i] + &quot;&#39; comes &quot; + count + &quot; times&quot;);\r\n\t\t    \t\ti = i + count;\r\n\t\t\t    } else\r\n\t\t\t\t    i++;\r\n    \t\t}\r\n\t    }\r\n\r\n    \tpublic static int recursiveMethod(char[] charAr, int i, int count) {\r\n\t    \tif (ifEquals(charAr[i - 1], charAr[i])) {\r\n\t\t    \tcount = count + recursiveMethod(charAr, ++i, count);\r\n    \t\t}\r\n\t    \treturn count;\r\n\t    }\r\n\r\n    \tpublic static boolean ifEquals(char a, char b) {\r\n\t    \treturn a == b;\r\n\t    }\r\n    }\r\n\r\nOutput :\r\n\r\n    &#39; &#39; comes 4 times\r\n    &#39;a&#39; comes 2 times\r\n    &#39;c&#39; comes 5 times\r\n    &#39;e&#39; comes 3 times\r\n    &#39;h&#39; comes 2 times\r\n    &#39;i&#39; comes 3 times\r\n    &#39;n&#39; comes 2 times\r\n    &#39;r&#39; comes 3 times\r\n    &#39;s&#39; comes 2 times\r\n    &#39;t&#39; comes 3 times\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>This is the implementation without using any Collection and with complexity order of n. Although the accepted solution is good enough and does not use Collection as well but it seems, it is not taking care of special characters.</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class DuplicateCharactersInString {\n    public static void main(String[] args) {\n        String string = \"check duplicate charcters in string\";\n        string = string.toLowerCase();\n        char[] charAr = string.toCharArray();\n        Arrays.sort(charAr);\n        for (int i = 1; i &lt; charAr.length;) {\n            int count = recursiveMethod(charAr, i, 1);\n            if (count &gt; 1) {\n                System.out.println(\"'\" + charAr[i] + \"' comes \" + count + \" times\");\n                i = i + count;\n            } else\n                i++;\n        }\n    }\n\n    public static int recursiveMethod(char[] charAr, int i, int count) {\n        if (ifEquals(charAr[i - 1], charAr[i])) {\n            count = count + recursiveMethod(charAr, ++i, count);\n        }\n        return count;\n    }\n\n    public static boolean ifEquals(char a, char b) {\n        return a == b;\n    }\n}\n</code></pre>\n\n<p>Output :</p>\n\n<pre><code>' ' comes 4 times\n'a' comes 2 times\n'c' comes 5 times\n'e' comes 3 times\n'h' comes 2 times\n'i' comes 3 times\n'n' comes 2 times\n'r' comes 3 times\n's' comes 2 times\n't' comes 3 times\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8304881,"reputation":1165,"user_id":6242317,"accept_rate":100,"display_name":"Vicky"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1519140355,"creation_date":1519140355,"answer_id":48888657,"question_id":13119926,"body_markdown":"If your string only contains alphabets then you can use some thing like this.\r\n\r\n    public class StringExample {\r\n\tpublic static void main(String[] args) {\r\n\t\tString str = &quot;abcdabghplhhnfl&quot;.toLowerCase();\r\n\t\t// create a integer array for 26 alphabets.\r\n\t\t// where index 0,1,2.. will be the container for frequency of a,b,c...\r\n\t\tInteger[] ar = new Integer[26];\r\n\t\t// fill the integer array with character frequency.\r\n\t\tfor(int i=0;i&lt;str.length();i++) {\r\n\t\t\tint j = str.charAt(i) -&#39;a&#39;;\r\n\t\t\tif(ar[j]==null) {\r\n\t\t\t\tar[j]= 1;\r\n\t\t\t}else {\r\n\t\t\t\tar[j]+= 1;\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t// print only those alphabets having frequency greater then 1.\r\n\t\tfor(int i=0;i&lt;ar.length;i++) {\r\n\t\t\tif(ar[i]!=null &amp;&amp; ar[i]&gt;1) {\r\n\t\t\t\tchar c = (char) (97+i);\r\n\t\t\t\tSystem.out.println(&quot;&#39;&quot;+c+&quot;&#39; comes &quot;+ar[i]+&quot; times.&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    }\r\n\r\n**Output:**\r\n\r\n     &#39;a&#39; comes 2 times.\r\n     &#39;b&#39; comes 2 times.\r\n     &#39;h&#39; comes 3 times.\r\n     &#39;l&#39; comes 2 times.","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>If your string only contains alphabets then you can use some thing like this.</p>\n\n<pre><code>public class StringExample {\npublic static void main(String[] args) {\n    String str = \"abcdabghplhhnfl\".toLowerCase();\n    // create a integer array for 26 alphabets.\n    // where index 0,1,2.. will be the container for frequency of a,b,c...\n    Integer[] ar = new Integer[26];\n    // fill the integer array with character frequency.\n    for(int i=0;i&lt;str.length();i++) {\n        int j = str.charAt(i) -'a';\n        if(ar[j]==null) {\n            ar[j]= 1;\n        }else {\n            ar[j]+= 1;\n        }\n    }   \n    // print only those alphabets having frequency greater then 1.\n    for(int i=0;i&lt;ar.length;i++) {\n        if(ar[i]!=null &amp;&amp; ar[i]&gt;1) {\n            char c = (char) (97+i);\n            System.out.println(\"'\"+c+\"' comes \"+ar[i]+\" times.\");\n        }\n    }\n}\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code> 'a' comes 2 times.\n 'b' comes 2 times.\n 'h' comes 3 times.\n 'l' comes 2 times.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13269041,"reputation":1,"user_id":9580725,"display_name":"creator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522567373,"creation_date":1522553530,"answer_id":49594538,"question_id":13119926,"body_markdown":"    public class list {\r\n      \r\n        public static String name(Character k){\r\n            String s=&quot;the quick brown fox jumped over the lazy dog.&quot;;\r\n            int count=0;\r\n            String l1=&quot;&quot;;\r\n            String l=&quot;&quot;;\r\n            List&lt;Character&gt; list=new ArrayList&lt;Character&gt;();\r\n            for(int i1=0;i1&lt;s.length();i1++){\r\n                list.add(s.charAt(i1));\r\n            }\r\n            list.sort(null);\r\n            for (Character character : list) {\r\n                l+=character;\r\n            }\r\n            for (int i1=0;i1&lt;l.length();i1++) {\r\n                if((l.charAt(i1)==k)){\r\n                    count+=1;\r\n                    l1=l.charAt(i1)+&quot; &quot;+Integer.toString(count);\r\n                    if(k==&#39; &#39;){\r\n                        l1=&quot;Space&quot;+&quot; &quot;+Integer.toString(count);\r\n                    }\r\n                }else{\r\n                    count=0;\r\n                }\r\n            }\r\n            return l1;\r\n        }\r\n        public static void main(String[] args){\r\n            String g = name(&#39;.&#39;);\r\n            System.out.println(g);\r\n        }\r\n    }","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>public class list {\n\n    public static String name(Character k){\n        String s=\"the quick brown fox jumped over the lazy dog.\";\n        int count=0;\n        String l1=\"\";\n        String l=\"\";\n        List&lt;Character&gt; list=new ArrayList&lt;Character&gt;();\n        for(int i1=0;i1&lt;s.length();i1++){\n            list.add(s.charAt(i1));\n        }\n        list.sort(null);\n        for (Character character : list) {\n            l+=character;\n        }\n        for (int i1=0;i1&lt;l.length();i1++) {\n            if((l.charAt(i1)==k)){\n                count+=1;\n                l1=l.charAt(i1)+\" \"+Integer.toString(count);\n                if(k==' '){\n                    l1=\"Space\"+\" \"+Integer.toString(count);\n                }\n            }else{\n                count=0;\n            }\n        }\n        return l1;\n    }\n    public static void main(String[] args){\n        String g = name('.');\n        System.out.println(g);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8004185,"reputation":1391,"user_id":6037956,"display_name":"Soudipta Dutta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1523086413,"creation_date":1523085054,"answer_id":49704879,"question_id":13119926,"body_markdown":"Finding the duplicates in a `String`:\r\n\r\n## Example 1 : Using HashMap\r\n\r\n    public class a36 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString a = &quot;Gini Rani&quot;;\r\n    \t\tfix(a);\r\n    \t}//main\r\n    \tpublic static void fix(String a ){\r\n    \t\tMap&lt;Character ,Integer&gt; map = new HashMap&lt;&gt;();\r\n    \t\tfor (int i = 0; i &lt;a.length() ; i++ ) {\r\n            char ch = a.charAt(i);\r\n    \t\t\t    map.put(ch , map.getOrDefault(ch,0) +1 );\r\n    \t\t}//for\r\n    \r\n           List&lt;Character&gt; list = new ArrayList&lt;&gt;();\r\n           Set&lt;Map.Entry&lt;Character ,Integer&gt; &gt; entrySet = map.entrySet();\r\n    \r\n           for (  Map.Entry&lt;Character ,Integer&gt; entry : entrySet) {\r\n           \t     list.add( entry.getKey()  ); \r\n           \t     \r\n           \t     System.out.printf(  &quot; %s : %d %n&quot; ,  entry.getKey(), entry.getValue()           );\r\n           }//for\r\n           System.out.println(&quot;Duplicate elements =&gt; &quot; + list);\r\n    \r\n    \t}//fix\r\n    }\r\n\t\r\n## Example 2 : using Arrays.stream() in Java 8 \r\n\r\n    public class a37 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString aa = &quot;Protijayi Gini&quot;;\r\n    \t\tString[] stringarray = aa.split(&quot;&quot;);\r\n    \t\t\r\n\t\tMap&lt;String , Long&gt; map =  Arrays.stream(stringarray)\r\n\t\t\t.collect(Collectors.groupingBy(c -&gt; c , Collectors.counting()));\r\n            map.forEach( (k, v) -&gt; System.out.println(k + &quot; : &quot;+ v)        );\r\n    \t}\r\n    }\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>Finding the duplicates in a <code>String</code>:</p>\n\n<h2>Example 1 : Using HashMap</h2>\n\n<pre><code>public class a36 {\n    public static void main(String[] args) {\n        String a = \"Gini Rani\";\n        fix(a);\n    }//main\n    public static void fix(String a ){\n        Map&lt;Character ,Integer&gt; map = new HashMap&lt;&gt;();\n        for (int i = 0; i &lt;a.length() ; i++ ) {\n        char ch = a.charAt(i);\n                map.put(ch , map.getOrDefault(ch,0) +1 );\n        }//for\n\n       List&lt;Character&gt; list = new ArrayList&lt;&gt;();\n       Set&lt;Map.Entry&lt;Character ,Integer&gt; &gt; entrySet = map.entrySet();\n\n       for (  Map.Entry&lt;Character ,Integer&gt; entry : entrySet) {\n             list.add( entry.getKey()  ); \n\n             System.out.printf(  \" %s : %d %n\" ,  entry.getKey(), entry.getValue()           );\n       }//for\n       System.out.println(\"Duplicate elements =&gt; \" + list);\n\n    }//fix\n}\n</code></pre>\n\n<h2>Example 2 : using Arrays.stream() in Java 8</h2>\n\n<pre><code>public class a37 {\n    public static void main(String[] args) {\n        String aa = \"Protijayi Gini\";\n        String[] stringarray = aa.split(\"\");\n\n    Map&lt;String , Long&gt; map =  Arrays.stream(stringarray)\n        .collect(Collectors.groupingBy(c -&gt; c , Collectors.counting()));\n        map.forEach( (k, v) -&gt; System.out.println(k + \" : \"+ v)        );\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13393623,"reputation":81,"user_id":9665292,"display_name":"Curious QA"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524116307,"creation_date":1524114018,"answer_id":49913029,"question_id":13119926,"body_markdown":"    import java.util.Scanner;\r\n    \r\n        class Test\r\n        { \r\n        \t\r\n        \tstatic String s2=&quot;&quot;;\r\n        \tint l;\r\n        \tvoid countDuplicateCharacters(String Str)\r\n        \t{\r\n        \t\tString S=Str.toLowerCase();\r\n        \t\tfor(int i=0;i&lt;S.length();i++)\r\n        \t\t{\r\n        \t\t\tint k=1;\r\n        \t\t\tboolean value=\trepeatedCheck(S.charAt(i));\r\n        \t\t\tif(value==true)\r\n        \t\t\t\tcontinue;\r\n        \t\t\tfor(int j=i+1;j&lt;S.length();j++)\r\n        \t\t\t{\r\n        \t\t\t\r\n        \t\t\t\t\r\n        \t\t\t\tif(S.charAt(i)==S.charAt(j))\r\n        \t\t\t\t{   k++;\r\n        \t\t\t\t    \r\n        \t\t\t\t}\r\n        \t\t\t\t\r\n        \t\t}\r\n        \t\t\tSystem.out.println(&quot;character  &#39;&quot; +S.charAt(i)+&quot;&#39; : &quot;+k);\r\n        \t\t\t\r\n        \t\t\ts2=s2+S.charAt(i);\r\n        \t\t}\r\n        \t\t\t\r\n        \t}\r\n        \t\r\n        \tboolean repeatedCheck(char ch)\r\n        \t{\r\n        \t\tl=s2.length();\r\n        \t\tfor (int i=0;i&lt;l;i++)\r\n        \t\t{\r\n        \t\t\tif(s2.charAt(i)==ch)\r\n        \t\t\t{\r\n        \t\t\t\treturn true;\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\t\r\n        \t\treturn false;\r\n        \t}\r\n        \t\r\n        }\r\n    \r\n        public class Duplicacy {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tScanner sc=new Scanner(System.in);\r\n        \t\tSystem.out.println(&quot;Enter any String&quot;);\r\n        \t\tString s=sc.nextLine();\r\n        \t\tTest t=new Test();\r\n        \t\tt.countDuplicateCharacters(s);\r\n        \t\t\r\n        \t\t\r\n        \t}}","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>import java.util.Scanner;\n\n    class Test\n    { \n\n        static String s2=\"\";\n        int l;\n        void countDuplicateCharacters(String Str)\n        {\n            String S=Str.toLowerCase();\n            for(int i=0;i&lt;S.length();i++)\n            {\n                int k=1;\n                boolean value=  repeatedCheck(S.charAt(i));\n                if(value==true)\n                    continue;\n                for(int j=i+1;j&lt;S.length();j++)\n                {\n\n\n                    if(S.charAt(i)==S.charAt(j))\n                    {   k++;\n\n                    }\n\n            }\n                System.out.println(\"character  '\" +S.charAt(i)+\"' : \"+k);\n\n                s2=s2+S.charAt(i);\n            }\n\n        }\n\n        boolean repeatedCheck(char ch)\n        {\n            l=s2.length();\n            for (int i=0;i&lt;l;i++)\n            {\n                if(s2.charAt(i)==ch)\n                {\n                    return true;\n                }\n            }\n\n            return false;\n        }\n\n    }\n\n    public class Duplicacy {\n\n        public static void main(String[] args) {\n            Scanner sc=new Scanner(System.in);\n            System.out.println(\"Enter any String\");\n            String s=sc.nextLine();\n            Test t=new Test();\n            t.countDuplicateCharacters(s);\n\n\n        }}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8886664,"reputation":141,"user_id":6634724,"display_name":"Naveen Yalla"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1581342215,"creation_date":1581342215,"answer_id":60151751,"question_id":13119926,"body_markdown":"I solved this with 2 dimensional array.\r\nInput: aaaabbbcdefggggh\r\nOutput:a4b3cdefg4h\r\n\r\n    int[][] arr = new int[10][2];\r\n        String st = &quot;aaaabbbcdefggggh&quot;;\r\n        char[] stArr = st.toCharArray();\r\n        int i = 0;\r\n        int j = 0;\r\n        for (int k = 0; k &lt; stArr.length; k++) {\r\n            if (k == 0) {\r\n                arr[i][j] = stArr[k];\r\n                arr[i][j + 1] = 1;\r\n            } else {\r\n                if (arr[i][j] == stArr[k]) {\r\n                    arr[i][j + 1] = arr[i][j + 1] + 1;\r\n                } else {\r\n                    arr[++i][j] = stArr[k];\r\n                    arr[i][j + 1] = 1;\r\n                }\r\n            }\r\n        }\r\n        System.out.print(arr.length);\r\n        String output = &quot;&quot;;\r\n        for (int m = 0; m &lt; arr.length; m++) {\r\n            if (arr[m][1] &gt; 0) {\r\n                String character = Character.toString((char) arr[m][0]);\r\n                String cnt = arr[m][1] &gt; 1 ? String.valueOf(arr[m][1]) : &quot;&quot;;\r\n                output = output + character + cnt;\r\n\r\n            }\r\n        }\r\n        System.out.print(output);\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>I solved this with 2 dimensional array.\nInput: aaaabbbcdefggggh\nOutput:a4b3cdefg4h</p>\n\n<pre><code>int[][] arr = new int[10][2];\n    String st = \"aaaabbbcdefggggh\";\n    char[] stArr = st.toCharArray();\n    int i = 0;\n    int j = 0;\n    for (int k = 0; k &lt; stArr.length; k++) {\n        if (k == 0) {\n            arr[i][j] = stArr[k];\n            arr[i][j + 1] = 1;\n        } else {\n            if (arr[i][j] == stArr[k]) {\n                arr[i][j + 1] = arr[i][j + 1] + 1;\n            } else {\n                arr[++i][j] = stArr[k];\n                arr[i][j + 1] = 1;\n            }\n        }\n    }\n    System.out.print(arr.length);\n    String output = \"\";\n    for (int m = 0; m &lt; arr.length; m++) {\n        if (arr[m][1] &gt; 0) {\n            String character = Character.toString((char) arr[m][0]);\n            String cnt = arr[m][1] &gt; 1 ? String.valueOf(arr[m][1]) : \"\";\n            output = output + character + cnt;\n\n        }\n    }\n    System.out.print(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7400014,"reputation":13,"user_id":7334644,"display_name":"Sagar Tambade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623080188,"creation_date":1623071004,"answer_id":67872138,"question_id":13119926,"body_markdown":"**Simple and Easy way to find char occurrences &gt;** \r\n```\r\nvoid findOccurrences() {\r\n    String s = &quot;The quick brown fox jumped over the lazy dog.&quot;;\r\n    Map&lt;String, Integer&gt; occurrences = new LinkedHashMap&lt;String, Integer&gt;();\r\n    \r\n    for (String ch : s.split(&quot;&quot;)) {\r\n        Integer count = occurrences.get(ch);\r\n    \toccurrences.put(ch, count == null ? 1 : count + 1);\r\n    }\r\n    System.out.println(occurrences);\r\n}\r\n```\r\nThis will print output as:\r\n&gt;{T=1, h=2, e=4,  =8, q=1, u=2, i=1, c=1, k=1, b=1, r=2, o=4, w=1, n=1, f=1, x=1, j=1, m=1, p=1, d=2, v=1, t=1, l=1, a=1, z=1, y=1, g=1, .=1}\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p><strong>Simple and Easy way to find char occurrences &gt;</strong></p>\n<pre><code>void findOccurrences() {\n    String s = &quot;The quick brown fox jumped over the lazy dog.&quot;;\n    Map&lt;String, Integer&gt; occurrences = new LinkedHashMap&lt;String, Integer&gt;();\n    \n    for (String ch : s.split(&quot;&quot;)) {\n        Integer count = occurrences.get(ch);\n        occurrences.put(ch, count == null ? 1 : count + 1);\n    }\n    System.out.println(occurrences);\n}\n</code></pre>\n<p>This will print output as:</p>\n<blockquote>\n<p>{T=1, h=2, e=4,  =8, q=1, u=2, i=1, c=1, k=1, b=1, r=2, o=4, w=1, n=1, f=1, x=1, j=1, m=1, p=1, d=2, v=1, t=1, l=1, a=1, z=1, y=1, g=1, .=1}</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644409686,"creation_date":1644409686,"answer_id":71049637,"question_id":13119926,"body_markdown":"        String str = &quot;anand&quot;;\r\n        Map&lt;Character, Integer&gt; map\r\n            = new HashMap&lt;Character, Integer&gt;();\r\n  \r\n        // Converting string into a char array\r\n        char[] charArray = str.toCharArray();\r\n  \r\n        for (char c : charArray) {\r\n  \r\n            if (map.containsKey(c)) {\r\n  \r\n                // If character is present increment count by 1\r\n                map.put(c, map.get(c) + 1);\r\n            }\r\n            else {\r\n  \r\n              // If character is not present\r\n              //putting this character into map with 1 as it&#39;s value.\r\n                map.put(c, 1);\r\n            }\r\n        }\r\n\r\n        for (Map.Entry&lt;Character, Integer&gt; entry :\r\n             map.entrySet()) {\r\n\r\n                System.out.println(entry.getKey()\r\n                                   + &quot; : &quot;\r\n                                   + entry.getValue());\r\n        }\r\n\r\n&gt; **Output**:\r\n&gt; \r\n&gt; a:2 n:2 d:1\r\n\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<pre><code>    String str = &quot;anand&quot;;\n    Map&lt;Character, Integer&gt; map\n        = new HashMap&lt;Character, Integer&gt;();\n\n    // Converting string into a char array\n    char[] charArray = str.toCharArray();\n\n    for (char c : charArray) {\n\n        if (map.containsKey(c)) {\n\n            // If character is present increment count by 1\n            map.put(c, map.get(c) + 1);\n        }\n        else {\n\n          // If character is not present\n          //putting this character into map with 1 as it's value.\n            map.put(c, 1);\n        }\n    }\n\n    for (Map.Entry&lt;Character, Integer&gt; entry :\n         map.entrySet()) {\n\n            System.out.println(entry.getKey()\n                               + &quot; : &quot;\n                               + entry.getValue());\n    }\n</code></pre>\n<blockquote>\n<p><strong>Output</strong>:</p>\n<p>a:2 n:2 d:1</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6072565,"reputation":279,"user_id":4740870,"display_name":"Balakrishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658415165,"creation_date":1658414479,"answer_id":73068199,"question_id":13119926,"body_markdown":"Use the below code snippet\r\n\r\n\r\n    import java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class CountDuplicateChar {\r\n\r\n    public static void main(String... strings) {\r\n        withSortedString(&quot;aaaaabbcccccc&quot;);\r\n        withUnSortedString(&quot;aaaaab bcc *@ccccf&quot;);\r\n        withHashMap(&quot;bala&quot;);\r\n    }\r\n\r\n    private static void withHashMap(String inputString) {\r\n        Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\r\n        char[] charArray = inputString.toCharArray();\r\n        for (int i = 0 ; i &lt; charArray.length ; i++ ){\r\n            if (map.containsKey(charArray[i])) {\r\n                map.put(charArray[i],  map.get(charArray[i]) +1);\r\n            } else {\r\n                map.put(charArray[i], 1);\r\n            }\r\n        }\r\n        System.out.println(map);\r\n    }\r\n\r\n    private static void withUnSortedString(String unSortedString) {\r\n        int len = 0;\r\n        do {\r\n            char[] ch = unSortedString.toCharArray();\r\n            if (ch.length ==0)\r\n                break;\r\n            int count = 0 ;\r\n            for ( int i = 0 ; i &lt; ch.length; i++) {\r\n                if (ch[0] == ch[i]) {\r\n                    count++;\r\n                }\r\n            }\r\n            System.out.println(ch[0] + &quot; - &quot; + count + &quot;times&quot;);\r\n            unSortedString = unSortedString.replace(&quot;&quot;+ch[0],&quot;&quot;);\r\n        }while (len!=1);\r\n    }\r\n\r\n    private static void withSortedString(String s) {\r\n        for(int i=0; i&lt;s.length(); i++)\r\n        {\r\n            System.out.print(s.charAt(i)+&quot;&quot;+(s.lastIndexOf(s.charAt(i))-s.indexOf(s.charAt(i))+1));\r\n            i = s.lastIndexOf(s.charAt(i));\r\n        }\r\n        System.out.println(&quot; &quot;);\r\n    }\r\n}\r\n","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>Use the below code snippet</p>\n<pre><code>import java.util.HashMap;\n</code></pre>\n<p>import java.util.Map;</p>\n<p>public class CountDuplicateChar {</p>\n<pre><code>public static void main(String... strings) {\n    withSortedString(&quot;aaaaabbcccccc&quot;);\n    withUnSortedString(&quot;aaaaab bcc *@ccccf&quot;);\n    withHashMap(&quot;bala&quot;);\n}\n\nprivate static void withHashMap(String inputString) {\n    Map&lt;Character, Integer&gt; map = new HashMap&lt;&gt;();\n    char[] charArray = inputString.toCharArray();\n    for (int i = 0 ; i &lt; charArray.length ; i++ ){\n        if (map.containsKey(charArray[i])) {\n            map.put(charArray[i],  map.get(charArray[i]) +1);\n        } else {\n            map.put(charArray[i], 1);\n        }\n    }\n    System.out.println(map);\n}\n\nprivate static void withUnSortedString(String unSortedString) {\n    int len = 0;\n    do {\n        char[] ch = unSortedString.toCharArray();\n        if (ch.length ==0)\n            break;\n        int count = 0 ;\n        for ( int i = 0 ; i &lt; ch.length; i++) {\n            if (ch[0] == ch[i]) {\n                count++;\n            }\n        }\n        System.out.println(ch[0] + &quot; - &quot; + count + &quot;times&quot;);\n        unSortedString = unSortedString.replace(&quot;&quot;+ch[0],&quot;&quot;);\n    }while (len!=1);\n}\n\nprivate static void withSortedString(String s) {\n    for(int i=0; i&lt;s.length(); i++)\n    {\n        System.out.print(s.charAt(i)+&quot;&quot;+(s.lastIndexOf(s.charAt(i))-s.indexOf(s.charAt(i))+1));\n        i = s.lastIndexOf(s.charAt(i));\n    }\n    System.out.println(&quot; &quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":2464379,"reputation":4305,"user_id":2147814,"accept_rate":62,"display_name":"anand krish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661512311,"creation_date":1661511148,"answer_id":73499894,"question_id":13119926,"body_markdown":"Using **Java 8 streams** with **groupingBy()**\r\n\r\n    //way 1\r\n    String name = &quot;anandha&quot;;\r\n    Map&lt;Character,Long&gt; map = name.chars()\r\n                          .mapToObj(ch -&gt; (char)ch)\r\n\t\t\t\t\t\t  .collect(Collectors.groupingBy(ch -&gt; ch, Collectors.counting());\r\n    System.out.println(map);\r\nusing **LinkedHashmap**\r\n\r\n    //way2\r\n\tString name = &quot;anandha&quot;;\r\n    char[] charArray = name.toChararray();\r\n    Map&lt;Character,Integer&gt; map = new LinkedHashmap&lt;&gt;();\r\n    \r\n    for(char ch: charArray)\r\n    {\r\n        if(map.containsKey(ch))\r\n        {\r\n            map.put(ch,map.get(ch)+1);\r\n        }else\r\n        {\r\n            map.put(ch,1)\r\n        }\r\n    }\r\n\r\n    map.foreach((key,value)-&gt;{\r\n       {\r\n           System.out.println(key +&quot; : &quot;+ value);\r\n       }\r\n     });\r\n\r\n    //(OR) iterate map using the way above or below \r\n    for(Map.Entry mp: map.entrySet())\r\n    {\r\n        System.out.println(mp.getKey()+&quot; : &quot;+ mp.getValue());\r\n    }\r\n    }","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>Using <strong>Java 8 streams</strong> with <strong>groupingBy()</strong></p>\n<pre><code>//way 1\nString name = &quot;anandha&quot;;\nMap&lt;Character,Long&gt; map = name.chars()\n                      .mapToObj(ch -&gt; (char)ch)\n                      .collect(Collectors.groupingBy(ch -&gt; ch, Collectors.counting());\nSystem.out.println(map);\n</code></pre>\n<p>using <strong>LinkedHashmap</strong></p>\n<pre><code>//way2\nString name = &quot;anandha&quot;;\nchar[] charArray = name.toChararray();\nMap&lt;Character,Integer&gt; map = new LinkedHashmap&lt;&gt;();\n\nfor(char ch: charArray)\n{\n    if(map.containsKey(ch))\n    {\n        map.put(ch,map.get(ch)+1);\n    }else\n    {\n        map.put(ch,1)\n    }\n}\n\nmap.foreach((key,value)-&gt;{\n   {\n       System.out.println(key +&quot; : &quot;+ value);\n   }\n });\n\n//(OR) iterate map using the way above or below \nfor(Map.Entry mp: map.entrySet())\n{\n    System.out.println(mp.getKey()+&quot; : &quot;+ mp.getValue());\n}\n}\n</code></pre>\n"}],"owner":{"account_id":1575191,"reputation":1394,"user_id":1542739,"accept_rate":100,"display_name":"Praveenkumar_V"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":335093,"favorite_count":0,"down_vote_count":3,"up_vote_count":16,"accepted_answer_id":13119986,"answer_count":34,"score":13,"last_activity_date":1661512311,"creation_date":1351506958,"question_id":13119926,"body_markdown":"How can I find the number of occurrences of a character in a string?\r\n\r\n**For example: The quick brown fox jumped over the lazy dog**.\r\n\r\nSome example outputs are below, \r\n\r\n    &#39;a&#39; = 1\r\n    &#39;o&#39; = 4\r\n    &#39;space&#39; = 8\r\n    &#39;.&#39; = 1","title":"Find duplicate characters in a String and count the number of occurrences using Java","body":"<p>How can I find the number of occurrences of a character in a string?</p>\n\n<p><strong>For example: The quick brown fox jumped over the lazy dog</strong>.</p>\n\n<p>Some example outputs are below, </p>\n\n<pre><code>'a' = 1\n'o' = 4\n'space' = 8\n'.' = 1\n</code></pre>\n"},{"tags":["java","servlets","parameters","httprequest","servlet-filters"],"comments":[{"owner":{"account_id":194756,"reputation":6085,"user_id":437282,"display_name":"Pavel Veller"},"score":2,"creation_date":1334756745,"post_id":10210645,"comment_id":13113462,"body_markdown":"maybe show a code fragment of how you&#39;re doing it?","body":"maybe show a code fragment of how you&#39;re doing it?"},{"owner":{"account_id":946092,"reputation":5114,"user_id":973339,"accept_rate":67,"display_name":"evanwong"},"score":0,"creation_date":1334757402,"post_id":10210645,"comment_id":13113764,"body_markdown":"Did you get getInputStream() or getReader()? Seems like they are the ones which will interfere with the execution of getParameter()","body":"Did you get getInputStream() or getReader()? Seems like they are the ones which will interfere with the execution of getParameter()"}],"answers":[{"tags":[],"owner":{"account_id":7795,"reputation":116405,"user_id":13663,"accept_rate":75,"display_name":"Will Hartung"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1334794390,"creation_date":1334758567,"answer_id":10211289,"question_id":10210645,"body_markdown":"The only way would be for you to consume the entire input stream yourself in the filter, take what you want from it, and then create a new InputStream for the content you read, and put that InputStream in to a ServletRequestWrapper (or HttpServletRequestWrapper). \r\n\r\nThe downside is you&#39;ll have to parse the payload yourself, the standard doesn&#39;t make that capability available to you.\r\n\r\nAddenda --\r\n\r\nAs I said, you need to look at HttpServletRequestWrapper.\r\n\r\nIn a filter, you continue along by calling FilterChain.doFilter(request, response).\r\n\r\nFor trivial filters, the request and response are the same as the ones passed in to the filter. That doesn&#39;t have to be the case. You can replace those with your own requests and/or responses.\r\n\r\nHttpServletRequestWrapper is specifically designed to facilitate this. You pass it the original request, and then you can intercept all of the calls. You create your own subclass of this, and replace the getInputStream method with one of your own. You can&#39;t change the input stream of the original request, so instead you have this wrapper and return your own input stream.\r\n\r\nThe simplest case is to consume the original requests input stream in to a byte buffer, do whatever magic you want on it, then create a new ByteArrayInputStream from that buffer. This is what is returned in your wrapper, which is passed to the FilterChain.doFilter method.\r\n\r\nYou&#39;ll need to subclass ServletInputStream and make another wrapper for your ByteArrayInputStream, but that&#39;s not a big deal either.\r\n\r\n","title":"Http Servlet request lose params from POST body after read it once","body":"<p>The only way would be for you to consume the entire input stream yourself in the filter, take what you want from it, and then create a new InputStream for the content you read, and put that InputStream in to a ServletRequestWrapper (or HttpServletRequestWrapper). </p>\n\n<p>The downside is you'll have to parse the payload yourself, the standard doesn't make that capability available to you.</p>\n\n<p>Addenda --</p>\n\n<p>As I said, you need to look at HttpServletRequestWrapper.</p>\n\n<p>In a filter, you continue along by calling FilterChain.doFilter(request, response).</p>\n\n<p>For trivial filters, the request and response are the same as the ones passed in to the filter. That doesn't have to be the case. You can replace those with your own requests and/or responses.</p>\n\n<p>HttpServletRequestWrapper is specifically designed to facilitate this. You pass it the original request, and then you can intercept all of the calls. You create your own subclass of this, and replace the getInputStream method with one of your own. You can't change the input stream of the original request, so instead you have this wrapper and return your own input stream.</p>\n\n<p>The simplest case is to consume the original requests input stream in to a byte buffer, do whatever magic you want on it, then create a new ByteArrayInputStream from that buffer. This is what is returned in your wrapper, which is passed to the FilterChain.doFilter method.</p>\n\n<p>You'll need to subclass ServletInputStream and make another wrapper for your ByteArrayInputStream, but that's not a big deal either.</p>\n"},{"tags":[],"owner":{"account_id":264872,"reputation":9836,"user_id":551467,"accept_rate":100,"display_name":"pestrella"},"down_vote_count":0,"up_vote_count":132,"is_accepted":true,"score":132,"last_activity_date":1649260315,"creation_date":1371343827,"answer_id":17129256,"question_id":10210645,"body_markdown":"As an aside, an alternative way to solve this problem is to not use the filter chain and instead build your own interceptor component, perhaps using aspects, which can operate on the parsed request body. It will also likely be more efficient as you are only converting the request `InputStream` into your own model object once.\r\n\r\nHowever, I still think it&#39;s reasonable to want to read the request body more than once particularly as the request moves through the filter chain. I would typically use filter chains for certain operations that I want to keep at the HTTP layer, decoupled from the service components.\r\n\r\nAs suggested by [Will Hartung][1] I achieved this by extending `HttpServletRequestWrapper`, consuming the request `InputStream` and essentially caching the bytes.\r\n\r\n    public class MultiReadHttpServletRequest extends HttpServletRequestWrapper {\r\n      private ByteArrayOutputStream cachedBytes;\r\n    \r\n      public MultiReadHttpServletRequest(HttpServletRequest request) {\r\n        super(request);\r\n      }\r\n    \r\n      @Override\r\n      public ServletInputStream getInputStream() throws IOException {\r\n        if (cachedBytes == null)\r\n          cacheInputStream();\r\n    \r\n          return new CachedServletInputStream();\r\n      }\r\n        \r\n      @Override\r\n      public BufferedReader getReader() throws IOException{\r\n        return new BufferedReader(new InputStreamReader(getInputStream()));\r\n      }\r\n\r\n      private void cacheInputStream() throws IOException {\r\n        /* Cache the inputstream in order to read it multiple times. For\r\n         * convenience, I use apache.commons IOUtils\r\n         */\r\n        cachedBytes = new ByteArrayOutputStream();\r\n        IOUtils.copy(super.getInputStream(), cachedBytes);\r\n      }\r\n    \r\n     \r\n      /* An input stream which reads the cached request body */\r\n      private static class CachedServletInputStream extends     ServletInputStream {\r\n\r\n        private final ByteArrayInputStream buffer;\r\n\r\n        public CachedServletInputStream(byte[] contents) {\r\n          this.buffer = new ByteArrayInputStream(contents);\r\n        }\r\n\r\n        @Override\r\n        public int read() {\r\n          return buffer.read();\r\n        }\r\n\r\n        @Override\r\n        public boolean isFinished() {\r\n          return buffer.available() == 0;\r\n        }\r\n\r\n        @Override\r\n        public boolean isReady() {\r\n          return true;\r\n        }\r\n    \r\n        @Override\r\n        public void setReadListener(ReadListener listener) {\r\n      throw new RuntimeException(&quot;Not implemented&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nNow the request body can be read more than once by wrapping the original request before passing it through the filter chain:\r\n\r\n    public class MyFilter implements Filter {\r\n      @Override\r\n      public void doFilter(ServletRequest request, ServletResponse response,\r\n            FilterChain chain) throws IOException, ServletException {\r\n    \r\n        /* wrap the request in order to read the inputstream multiple times */\r\n        MultiReadHttpServletRequest multiReadRequest = new MultiReadHttpServletRequest((HttpServletRequest) request);\r\n\r\n        /* here I read the inputstream and do my thing with it; when I pass the\r\n         * wrapped request through the filter chain, the rest of the filters, and\r\n         * request handlers may read the cached inputstream\r\n         */\r\n        doMyThing(multiReadRequest.getInputStream());\r\n        //OR\r\n        anotherUsage(multiReadRequest.getReader());\r\n        chain.doFilter(multiReadRequest, response);\r\n      }\r\n    }\r\n\r\nThis solution will also allow you to read the request body multiple times via the `getParameterXXX` methods because the underlying call is `getInputStream()`, which will of course read the cached request `InputStream`.\r\n\r\n**Edit**\r\n\r\nFor newer version of `ServletInputStream` interface. You need to provide implementation of few more methods like `isReady`, `setReadListener` etc. Refer this [question][2] as provided in comment below.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/10211289/551467\r\n  [2]: https://stackoverflow.com/a/30748533/3503187","title":"Http Servlet request lose params from POST body after read it once","body":"<p>As an aside, an alternative way to solve this problem is to not use the filter chain and instead build your own interceptor component, perhaps using aspects, which can operate on the parsed request body. It will also likely be more efficient as you are only converting the request <code>InputStream</code> into your own model object once.</p>\n<p>However, I still think it's reasonable to want to read the request body more than once particularly as the request moves through the filter chain. I would typically use filter chains for certain operations that I want to keep at the HTTP layer, decoupled from the service components.</p>\n<p>As suggested by <a href=\"https://stackoverflow.com/a/10211289/551467\">Will Hartung</a> I achieved this by extending <code>HttpServletRequestWrapper</code>, consuming the request <code>InputStream</code> and essentially caching the bytes.</p>\n<pre><code>public class MultiReadHttpServletRequest extends HttpServletRequestWrapper {\n  private ByteArrayOutputStream cachedBytes;\n\n  public MultiReadHttpServletRequest(HttpServletRequest request) {\n    super(request);\n  }\n\n  @Override\n  public ServletInputStream getInputStream() throws IOException {\n    if (cachedBytes == null)\n      cacheInputStream();\n\n      return new CachedServletInputStream();\n  }\n    \n  @Override\n  public BufferedReader getReader() throws IOException{\n    return new BufferedReader(new InputStreamReader(getInputStream()));\n  }\n\n  private void cacheInputStream() throws IOException {\n    /* Cache the inputstream in order to read it multiple times. For\n     * convenience, I use apache.commons IOUtils\n     */\n    cachedBytes = new ByteArrayOutputStream();\n    IOUtils.copy(super.getInputStream(), cachedBytes);\n  }\n\n \n  /* An input stream which reads the cached request body */\n  private static class CachedServletInputStream extends     ServletInputStream {\n\n    private final ByteArrayInputStream buffer;\n\n    public CachedServletInputStream(byte[] contents) {\n      this.buffer = new ByteArrayInputStream(contents);\n    }\n\n    @Override\n    public int read() {\n      return buffer.read();\n    }\n\n    @Override\n    public boolean isFinished() {\n      return buffer.available() == 0;\n    }\n\n    @Override\n    public boolean isReady() {\n      return true;\n    }\n\n    @Override\n    public void setReadListener(ReadListener listener) {\n  throw new RuntimeException(&quot;Not implemented&quot;);\n    }\n  }\n}\n</code></pre>\n<p>Now the request body can be read more than once by wrapping the original request before passing it through the filter chain:</p>\n<pre><code>public class MyFilter implements Filter {\n  @Override\n  public void doFilter(ServletRequest request, ServletResponse response,\n        FilterChain chain) throws IOException, ServletException {\n\n    /* wrap the request in order to read the inputstream multiple times */\n    MultiReadHttpServletRequest multiReadRequest = new MultiReadHttpServletRequest((HttpServletRequest) request);\n\n    /* here I read the inputstream and do my thing with it; when I pass the\n     * wrapped request through the filter chain, the rest of the filters, and\n     * request handlers may read the cached inputstream\n     */\n    doMyThing(multiReadRequest.getInputStream());\n    //OR\n    anotherUsage(multiReadRequest.getReader());\n    chain.doFilter(multiReadRequest, response);\n  }\n}\n</code></pre>\n<p>This solution will also allow you to read the request body multiple times via the <code>getParameterXXX</code> methods because the underlying call is <code>getInputStream()</code>, which will of course read the cached request <code>InputStream</code>.</p>\n<p><strong>Edit</strong></p>\n<p>For newer version of <code>ServletInputStream</code> interface. You need to provide implementation of few more methods like <code>isReady</code>, <code>setReadListener</code> etc. Refer this <a href=\"https://stackoverflow.com/a/30748533/3503187\">question</a> as provided in comment below.</p>\n"},{"tags":[],"owner":{"account_id":268826,"reputation":1,"user_id":1853278,"display_name":"Zhengwei Zhan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1493306320,"creation_date":1372556894,"answer_id":17386371,"question_id":10210645,"body_markdown":"you can use servlet filter chain, but instead use the original one, you can create your own request yourownrequests extends HttpServletRequestWrapper.\r\n\r\n","title":"Http Servlet request lose params from POST body after read it once","body":"<p>you can use servlet filter chain, but instead use the original one, you can create your own request yourownrequests extends HttpServletRequestWrapper.</p>\n"},{"tags":[],"owner":{"account_id":225820,"reputation":4251,"user_id":957103,"accept_rate":87,"display_name":"Olivier.Roger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1409148226,"creation_date":1409148226,"answer_id":25529259,"question_id":10210645,"body_markdown":"If you have control over the request, you could set the content type to **binary/octet-stream**. This allows to query for parameters without consuming the input stream.\r\n\r\nHowever, this might be specific to some application servers. I only tested tomcat, jetty seems to behave the same way according to https://stackoverflow.com/a/11434646/957103.","title":"Http Servlet request lose params from POST body after read it once","body":"<p>If you have control over the request, you could set the content type to <strong>binary/octet-stream</strong>. This allows to query for parameters without consuming the input stream.</p>\n\n<p>However, this might be specific to some application servers. I only tested tomcat, jetty seems to behave the same way according to <a href=\"https://stackoverflow.com/a/11434646/957103\">https://stackoverflow.com/a/11434646/957103</a>.</p>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1411635290,"creation_date":1411635290,"answer_id":26034367,"question_id":10210645,"body_markdown":"Just overwriting of `getInputStream()` did not work in my case. My server implementation seems to parse parameters without calling  this method. I did not find any other way, but re-implement the all four getParameter* methods as well. Here is the code of `getParameterMap` (Apache Http Client and Google Guava library used):\r\n\r\n\t@Override\r\n\tpublic Map&lt;String, String[]&gt; getParameterMap() {\r\n\t\tIterable&lt;NameValuePair&gt; params = URLEncodedUtils.parse(getQueryString(), NullUtils.UTF8);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tString cts = getContentType();\r\n\t\t\tif (cts != null) {\r\n\t\t\t\tContentType ct = ContentType.parse(cts);\r\n\t\t\t\tif (ct.getMimeType().equals(ContentType.APPLICATION_FORM_URLENCODED.getMimeType())) {\r\n\t\t\t\t\tList&lt;NameValuePair&gt; postParams = URLEncodedUtils.parse(IOUtils.toString(getReader()), NullUtils.UTF8);\r\n\t\t\t\t\tparams = Iterables.concat(params, postParams);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new IllegalStateException(e);\r\n\t\t}\r\n\t\tMap&lt;String, String[]&gt; result = toMap(params);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static Map&lt;String, String[]&gt; toMap(Iterable&lt;NameValuePair&gt; body) {\r\n\t\tMap&lt;String, String[]&gt; result = new LinkedHashMap&lt;&gt;();\r\n\t\tfor (NameValuePair e : body) {\r\n\t\t\tString key = e.getName();\r\n\t\t\tString value = e.getValue();\r\n\t\t\tif (result.containsKey(key)) {\r\n\t\t\t\tString[] newValue = ObjectArrays.concat(result.get(key), value);\r\n\t\t\t\tresult.remove(key);\r\n\t\t\t\tresult.put(key, newValue);\r\n\t\t\t} else {\r\n\t\t\t\tresult.put(key, new String[] {value});\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}","title":"Http Servlet request lose params from POST body after read it once","body":"<p>Just overwriting of <code>getInputStream()</code> did not work in my case. My server implementation seems to parse parameters without calling  this method. I did not find any other way, but re-implement the all four getParameter* methods as well. Here is the code of <code>getParameterMap</code> (Apache Http Client and Google Guava library used):</p>\n\n<pre><code>@Override\npublic Map&lt;String, String[]&gt; getParameterMap() {\n    Iterable&lt;NameValuePair&gt; params = URLEncodedUtils.parse(getQueryString(), NullUtils.UTF8);\n\n    try {\n        String cts = getContentType();\n        if (cts != null) {\n            ContentType ct = ContentType.parse(cts);\n            if (ct.getMimeType().equals(ContentType.APPLICATION_FORM_URLENCODED.getMimeType())) {\n                List&lt;NameValuePair&gt; postParams = URLEncodedUtils.parse(IOUtils.toString(getReader()), NullUtils.UTF8);\n                params = Iterables.concat(params, postParams);\n            }\n        }\n    } catch (IOException e) {\n        throw new IllegalStateException(e);\n    }\n    Map&lt;String, String[]&gt; result = toMap(params);\n    return result;\n}\n\npublic static Map&lt;String, String[]&gt; toMap(Iterable&lt;NameValuePair&gt; body) {\n    Map&lt;String, String[]&gt; result = new LinkedHashMap&lt;&gt;();\n    for (NameValuePair e : body) {\n        String key = e.getName();\n        String value = e.getValue();\n        if (result.containsKey(key)) {\n            String[] newValue = ObjectArrays.concat(result.get(key), value);\n            result.remove(key);\n            result.put(key, newValue);\n        } else {\n            result.put(key, new String[] {value});\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5614107,"reputation":879,"user_id":4446047,"accept_rate":58,"display_name":"Lathy"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1568019458,"creation_date":1438774597,"answer_id":31831411,"question_id":10210645,"body_markdown":"I too had the same issue and I believe the code below is more simple and it is working for me,\r\n\r\n    public class MultiReadHttpServletRequest extends  HttpServletRequestWrapper {\r\n    \r\n     private String _body;\r\n \r\n    public MultiReadHttpServletRequest(HttpServletRequest request) throws IOException {\r\n       super(request);\r\n       _body = &quot;&quot;;\r\n       BufferedReader bufferedReader = request.getReader();           \r\n       String line;\r\n       while ((line = bufferedReader.readLine()) != null){\r\n           _body += line;\r\n       }\r\n    }\r\n\r\n    @Override\r\n    public ServletInputStream getInputStream() throws IOException {\r\n       final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(_body.getBytes());\r\n       return new ServletInputStream() {\r\n           public int read() throws IOException {\r\n               return byteArrayInputStream.read();\r\n           }\r\n       };\r\n    }\r\n\r\n    @Override\r\n    public BufferedReader getReader() throws IOException {\r\n       return new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n    }\r\n    }\r\n\r\nin the filter java class,\r\n\r\n\tHttpServletRequest properRequest = ((HttpServletRequest) req);\r\n\tMultiReadHttpServletRequest wrappedRequest = new MultiReadHttpServletRequest(properRequest);\r\n\treq = wrappedRequest;\r\n\tinputJson = IOUtils.toString(req.getReader());\r\n\tSystem.out.println(&quot;body&quot;+inputJson);\r\n\r\nPlease let me know if you have any queries\r\n","title":"Http Servlet request lose params from POST body after read it once","body":"<p>I too had the same issue and I believe the code below is more simple and it is working for me,</p>\n\n<pre><code>public class MultiReadHttpServletRequest extends  HttpServletRequestWrapper {\n\n private String _body;\n\npublic MultiReadHttpServletRequest(HttpServletRequest request) throws IOException {\n   super(request);\n   _body = \"\";\n   BufferedReader bufferedReader = request.getReader();           \n   String line;\n   while ((line = bufferedReader.readLine()) != null){\n       _body += line;\n   }\n}\n\n@Override\npublic ServletInputStream getInputStream() throws IOException {\n   final ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(_body.getBytes());\n   return new ServletInputStream() {\n       public int read() throws IOException {\n           return byteArrayInputStream.read();\n       }\n   };\n}\n\n@Override\npublic BufferedReader getReader() throws IOException {\n   return new BufferedReader(new InputStreamReader(this.getInputStream()));\n}\n}\n</code></pre>\n\n<p>in the filter java class,</p>\n\n<pre><code>HttpServletRequest properRequest = ((HttpServletRequest) req);\nMultiReadHttpServletRequest wrappedRequest = new MultiReadHttpServletRequest(properRequest);\nreq = wrappedRequest;\ninputJson = IOUtils.toString(req.getReader());\nSystem.out.println(\"body\"+inputJson);\n</code></pre>\n\n<p>Please let me know if you have any queries</p>\n"},{"tags":[],"owner":{"account_id":67357,"reputation":4188,"user_id":197141,"accept_rate":62,"display_name":"arberg"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1460632610,"creation_date":1460628578,"answer_id":36619972,"question_id":10210645,"body_markdown":"The above answers were very helpful, but still had some problems in my experience. On tomcat 7 servlet 3.0, the getParamter and getParamterValues also had to be overwritten. The solution here includes both get-query parameters and the post-body. It allows for getting raw-string easily. \r\n\r\nLike the other solutions it uses Apache commons-io and Googles Guava.\r\n\r\nIn this solution the getParameter* methods do not throw IOException but they use super.getInputStream() (to get the body) which may throw IOException. I catch it and throw runtimeException. It is not so nice.\r\n\r\n    import com.google.common.collect.Iterables;\r\n    import com.google.common.collect.ObjectArrays;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.utils.URLEncodedUtils;\r\n    import org.apache.http.entity.ContentType;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.nio.charset.Charset;\r\n    import java.util.Collections;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    \r\n    /**\r\n     * Purpose of this class is to make getParameter() return post data AND also be able to get entire\r\n     * body-string. In native implementation any of those two works, but not both together.\r\n     */\r\n    public class MultiReadHttpServletRequest extends HttpServletRequestWrapper {\r\n        public static final String UTF8 = &quot;UTF-8&quot;;\r\n        public static final Charset UTF8_CHARSET = Charset.forName(UTF8);\r\n        private ByteArrayOutputStream cachedBytes;\r\n        private Map&lt;String, String[]&gt; parameterMap;\r\n    \r\n        public MultiReadHttpServletRequest(HttpServletRequest request) {\r\n            super(request);\r\n        }\r\n    \r\n        public static void toMap(Iterable&lt;NameValuePair&gt; inputParams, Map&lt;String, String[]&gt; toMap) {\r\n            for (NameValuePair e : inputParams) {\r\n                String key = e.getName();\r\n                String value = e.getValue();\r\n                if (toMap.containsKey(key)) {\r\n                    String[] newValue = ObjectArrays.concat(toMap.get(key), value);\r\n                    toMap.remove(key);\r\n                    toMap.put(key, newValue);\r\n                } else {\r\n                    toMap.put(key, new String[]{value});\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n            if (cachedBytes == null) cacheInputStream();\r\n            return new CachedServletInputStream();\r\n        }\r\n    \r\n        @Override\r\n        public BufferedReader getReader() throws IOException {\r\n            return new BufferedReader(new InputStreamReader(getInputStream()));\r\n        }\r\n    \r\n        private void cacheInputStream() throws IOException {\r\n        /* Cache the inputStream in order to read it multiple times. For\r\n         * convenience, I use apache.commons IOUtils\r\n         */\r\n            cachedBytes = new ByteArrayOutputStream();\r\n            IOUtils.copy(super.getInputStream(), cachedBytes);\r\n        }\r\n    \r\n        @Override\r\n        public String getParameter(String key) {\r\n            Map&lt;String, String[]&gt; parameterMap = getParameterMap();\r\n            String[] values = parameterMap.get(key);\r\n            return values != null &amp;&amp; values.length &gt; 0 ? values[0] : null;\r\n        }\r\n    \r\n        @Override\r\n        public String[] getParameterValues(String key) {\r\n            Map&lt;String, String[]&gt; parameterMap = getParameterMap();\r\n            return parameterMap.get(key);\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, String[]&gt; getParameterMap() {\r\n            if (parameterMap == null) {\r\n                Map&lt;String, String[]&gt; result = new LinkedHashMap&lt;String, String[]&gt;();\r\n                decode(getQueryString(), result);\r\n                decode(getPostBodyAsString(), result);\r\n                parameterMap = Collections.unmodifiableMap(result);\r\n            }\r\n            return parameterMap;\r\n        }\r\n    \r\n        private void decode(String queryString, Map&lt;String, String[]&gt; result) {\r\n            if (queryString != null) toMap(decodeParams(queryString), result);\r\n        }\r\n    \r\n        private Iterable&lt;NameValuePair&gt; decodeParams(String body) {\r\n            Iterable&lt;NameValuePair&gt; params = URLEncodedUtils.parse(body, UTF8_CHARSET);\r\n            try {\r\n                String cts = getContentType();\r\n                if (cts != null) {\r\n                    ContentType ct = ContentType.parse(cts);\r\n                    if (ct.getMimeType().equals(ContentType.APPLICATION_FORM_URLENCODED.getMimeType())) {\r\n                        List&lt;NameValuePair&gt; postParams = URLEncodedUtils.parse(IOUtils.toString(getReader()), UTF8_CHARSET);\r\n                        params = Iterables.concat(params, postParams);\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                throw new IllegalStateException(e);\r\n            }\r\n            return params;\r\n        }\r\n    \r\n        public String getPostBodyAsString() {\r\n            try {\r\n                if (cachedBytes == null) cacheInputStream();\r\n                return cachedBytes.toString(UTF8);\r\n            } catch (UnsupportedEncodingException e) {\r\n                throw new RuntimeException(e);\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        /* An inputStream which reads the cached request body */\r\n        public class CachedServletInputStream extends ServletInputStream {\r\n            private ByteArrayInputStream input;\r\n    \r\n            public CachedServletInputStream() {\r\n                /* create a new input stream from the cached request body */\r\n                input = new ByteArrayInputStream(cachedBytes.toByteArray());\r\n            }\r\n    \r\n            @Override\r\n            public int read() throws IOException {\r\n                return input.read();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            String query = dk.bnr.util.StringUtil.nullToEmpty(getQueryString());\r\n            StringBuilder sb = new StringBuilder();\r\n            sb.append(&quot;URL=&#39;&quot;).append(getRequestURI()).append(query.isEmpty() ? &quot;&quot; : &quot;?&quot; + query).append(&quot;&#39;, body=&#39;&quot;);\r\n            sb.append(getPostBodyAsString());\r\n            sb.append(&quot;&#39;&quot;);\r\n            return sb.toString();\r\n        }\r\n    }","title":"Http Servlet request lose params from POST body after read it once","body":"<p>The above answers were very helpful, but still had some problems in my experience. On tomcat 7 servlet 3.0, the getParamter and getParamterValues also had to be overwritten. The solution here includes both get-query parameters and the post-body. It allows for getting raw-string easily. </p>\n\n<p>Like the other solutions it uses Apache commons-io and Googles Guava.</p>\n\n<p>In this solution the getParameter* methods do not throw IOException but they use super.getInputStream() (to get the body) which may throw IOException. I catch it and throw runtimeException. It is not so nice.</p>\n\n<pre><code>import com.google.common.collect.Iterables;\nimport com.google.common.collect.ObjectArrays;\n\nimport org.apache.commons.io.IOUtils;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.utils.URLEncodedUtils;\nimport org.apache.http.entity.ContentType;\n\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.nio.charset.Charset;\nimport java.util.Collections;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\n\n/**\n * Purpose of this class is to make getParameter() return post data AND also be able to get entire\n * body-string. In native implementation any of those two works, but not both together.\n */\npublic class MultiReadHttpServletRequest extends HttpServletRequestWrapper {\n    public static final String UTF8 = \"UTF-8\";\n    public static final Charset UTF8_CHARSET = Charset.forName(UTF8);\n    private ByteArrayOutputStream cachedBytes;\n    private Map&lt;String, String[]&gt; parameterMap;\n\n    public MultiReadHttpServletRequest(HttpServletRequest request) {\n        super(request);\n    }\n\n    public static void toMap(Iterable&lt;NameValuePair&gt; inputParams, Map&lt;String, String[]&gt; toMap) {\n        for (NameValuePair e : inputParams) {\n            String key = e.getName();\n            String value = e.getValue();\n            if (toMap.containsKey(key)) {\n                String[] newValue = ObjectArrays.concat(toMap.get(key), value);\n                toMap.remove(key);\n                toMap.put(key, newValue);\n            } else {\n                toMap.put(key, new String[]{value});\n            }\n        }\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        if (cachedBytes == null) cacheInputStream();\n        return new CachedServletInputStream();\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        return new BufferedReader(new InputStreamReader(getInputStream()));\n    }\n\n    private void cacheInputStream() throws IOException {\n    /* Cache the inputStream in order to read it multiple times. For\n     * convenience, I use apache.commons IOUtils\n     */\n        cachedBytes = new ByteArrayOutputStream();\n        IOUtils.copy(super.getInputStream(), cachedBytes);\n    }\n\n    @Override\n    public String getParameter(String key) {\n        Map&lt;String, String[]&gt; parameterMap = getParameterMap();\n        String[] values = parameterMap.get(key);\n        return values != null &amp;&amp; values.length &gt; 0 ? values[0] : null;\n    }\n\n    @Override\n    public String[] getParameterValues(String key) {\n        Map&lt;String, String[]&gt; parameterMap = getParameterMap();\n        return parameterMap.get(key);\n    }\n\n    @Override\n    public Map&lt;String, String[]&gt; getParameterMap() {\n        if (parameterMap == null) {\n            Map&lt;String, String[]&gt; result = new LinkedHashMap&lt;String, String[]&gt;();\n            decode(getQueryString(), result);\n            decode(getPostBodyAsString(), result);\n            parameterMap = Collections.unmodifiableMap(result);\n        }\n        return parameterMap;\n    }\n\n    private void decode(String queryString, Map&lt;String, String[]&gt; result) {\n        if (queryString != null) toMap(decodeParams(queryString), result);\n    }\n\n    private Iterable&lt;NameValuePair&gt; decodeParams(String body) {\n        Iterable&lt;NameValuePair&gt; params = URLEncodedUtils.parse(body, UTF8_CHARSET);\n        try {\n            String cts = getContentType();\n            if (cts != null) {\n                ContentType ct = ContentType.parse(cts);\n                if (ct.getMimeType().equals(ContentType.APPLICATION_FORM_URLENCODED.getMimeType())) {\n                    List&lt;NameValuePair&gt; postParams = URLEncodedUtils.parse(IOUtils.toString(getReader()), UTF8_CHARSET);\n                    params = Iterables.concat(params, postParams);\n                }\n            }\n        } catch (IOException e) {\n            throw new IllegalStateException(e);\n        }\n        return params;\n    }\n\n    public String getPostBodyAsString() {\n        try {\n            if (cachedBytes == null) cacheInputStream();\n            return cachedBytes.toString(UTF8);\n        } catch (UnsupportedEncodingException e) {\n            throw new RuntimeException(e);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    /* An inputStream which reads the cached request body */\n    public class CachedServletInputStream extends ServletInputStream {\n        private ByteArrayInputStream input;\n\n        public CachedServletInputStream() {\n            /* create a new input stream from the cached request body */\n            input = new ByteArrayInputStream(cachedBytes.toByteArray());\n        }\n\n        @Override\n        public int read() throws IOException {\n            return input.read();\n        }\n    }\n\n    @Override\n    public String toString() {\n        String query = dk.bnr.util.StringUtil.nullToEmpty(getQueryString());\n        StringBuilder sb = new StringBuilder();\n        sb.append(\"URL='\").append(getRequestURI()).append(query.isEmpty() ? \"\" : \"?\" + query).append(\"', body='\");\n        sb.append(getPostBodyAsString());\n        sb.append(\"'\");\n        return sb.toString();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111584,"reputation":2209,"user_id":294696,"accept_rate":100,"display_name":"Mikk"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1472157227,"creation_date":1472157227,"answer_id":39154300,"question_id":10210645,"body_markdown":"I know I&#39;m late, but this question was still relevant for me and this SO post was one of the top hits in Google. I&#39;m going ahead and post my solution in the hopes that someone else might save couple of hours.\r\n\r\nIn my case I needed to log all requests and responses with their bodies. Using Spring Framework the answer is actually quite simple, just use [ContentCachingRequestWrapper][1] and [ContentCachingResponseWrapper][2].\r\n\r\n    import org.springframework.web.util.ContentCachingRequestWrapper;\r\n    import org.springframework.web.util.ContentCachingResponseWrapper;\r\n    \r\n    import javax.servlet.*;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import java.io.IOException;\r\n    \r\n    public class LoggingFilter implements Filter {\r\n    \r\n        @Override\r\n        public void init(FilterConfig filterConfig) throws ServletException {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void destroy() {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n                throws IOException, ServletException {\r\n    \r\n            ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper((HttpServletRequest) request);\r\n            ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper((HttpServletResponse) response);\r\n    \r\n            try {\r\n                chain.doFilter(requestWrapper, responseWrapper);\r\n            } finally {\r\n    \r\n                String requestBody = new String(requestWrapper.getContentAsByteArray());\r\n                String responseBody = new String(responseWrapper.getContentAsByteArray());\r\n                // Do not forget this line after reading response content or actual response will be empty!\r\n                responseWrapper.copyBodyToResponse();\r\n    \r\n                // Write request and response body, headers, timestamps etc. to log files\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html &quot;ContentCachingRequestWrapper&quot;\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/ContentCachingResponseWrapper.html &quot;ContentCachingResponseWrapper&quot;","title":"Http Servlet request lose params from POST body after read it once","body":"<p>I know I'm late, but this question was still relevant for me and this SO post was one of the top hits in Google. I'm going ahead and post my solution in the hopes that someone else might save couple of hours.</p>\n\n<p>In my case I needed to log all requests and responses with their bodies. Using Spring Framework the answer is actually quite simple, just use <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/ContentCachingRequestWrapper.html\" title=\"ContentCachingRequestWrapper\">ContentCachingRequestWrapper</a> and <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/web/util/ContentCachingResponseWrapper.html\" title=\"ContentCachingResponseWrapper\">ContentCachingResponseWrapper</a>.</p>\n\n<pre><code>import org.springframework.web.util.ContentCachingRequestWrapper;\nimport org.springframework.web.util.ContentCachingResponseWrapper;\n\nimport javax.servlet.*;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.io.IOException;\n\npublic class LoggingFilter implements Filter {\n\n    @Override\n    public void init(FilterConfig filterConfig) throws ServletException {\n\n    }\n\n    @Override\n    public void destroy() {\n\n    }\n\n    @Override\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        ContentCachingRequestWrapper requestWrapper = new ContentCachingRequestWrapper((HttpServletRequest) request);\n        ContentCachingResponseWrapper responseWrapper = new ContentCachingResponseWrapper((HttpServletResponse) response);\n\n        try {\n            chain.doFilter(requestWrapper, responseWrapper);\n        } finally {\n\n            String requestBody = new String(requestWrapper.getContentAsByteArray());\n            String responseBody = new String(responseWrapper.getContentAsByteArray());\n            // Do not forget this line after reading response content or actual response will be empty!\n            responseWrapper.copyBodyToResponse();\n\n            // Write request and response body, headers, timestamps etc. to log files\n\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2690072,"reputation":651,"user_id":2323587,"display_name":"ashoka"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1482512412,"creation_date":1482511601,"answer_id":41305063,"question_id":10210645,"body_markdown":"First of all we should not read parameters within the filter. Usually the headers are read in the filter to do few authentication tasks. Having said that one can read the HttpRequest body completely in the Filter or Interceptor by using the CharStreams:\r\n\r\n    String body = com.google.common.io.CharStreams.toString(request.getReader());\r\n\r\nThis does not affect the subsequent reads at all.\r\n\r\n","title":"Http Servlet request lose params from POST body after read it once","body":"<p>First of all we should not read parameters within the filter. Usually the headers are read in the filter to do few authentication tasks. Having said that one can read the HttpRequest body completely in the Filter or Interceptor by using the CharStreams:</p>\n\n<pre><code>String body = com.google.common.io.CharStreams.toString(request.getReader());\n</code></pre>\n\n<p>This does not affect the subsequent reads at all.</p>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1611845174,"creation_date":1547831060,"answer_id":54258488,"question_id":10210645,"body_markdown":"So this is basically Lathy&#39;s answer BUT updated for newer requirements for ServletInputStream.  \r\n\r\nNamely (for ServletInputStream),  one has to implement:\r\n\r\n    public abstract boolean isFinished();\r\n    \r\n    public abstract boolean isReady();\r\n    \r\n    public abstract void setReadListener(ReadListener var1);\r\n\r\n\r\nThis is the edited Lathy&#39;s object\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    \r\n    public class RequestWrapper extends HttpServletRequestWrapper {\r\n    \r\n        private String _body;\r\n    \r\n        public RequestWrapper(HttpServletRequest request) throws IOException {\r\n            super(request);\r\n            _body = &quot;&quot;;\r\n            BufferedReader bufferedReader = request.getReader();\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null){\r\n                _body += line;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n    \r\n            CustomServletInputStream kid = new CustomServletInputStream(_body.getBytes());\r\n            return kid;\r\n        }\r\n    \r\n        @Override\r\n        public BufferedReader getReader() throws IOException {\r\n            return new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n        }\r\n    }\r\n\r\nand somewhere (??) I found this (which is a first-class class that deals with the &quot;extra&quot; methods.\r\n\r\n\r\n\r\n    import javax.servlet.ReadListener;\r\n    import javax.servlet.ServletInputStream;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    \r\n    public class CustomServletInputStream extends ServletInputStream {\r\n    \r\n        private byte[] myBytes;\r\n    \r\n        private int lastIndexRetrieved = -1;\r\n        private ReadListener readListener = null;\r\n    \r\n        public CustomServletInputStream(String s) {\r\n            try {\r\n                this.myBytes = s.getBytes(&quot;UTF-8&quot;);\r\n            } catch (UnsupportedEncodingException ex) {\r\n                throw new IllegalStateException(&quot;JVM did not support UTF-8&quot;, ex);\r\n            }\r\n        }\r\n    \r\n        public CustomServletInputStream(byte[] inputBytes) {\r\n            this.myBytes = inputBytes;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isFinished() {\r\n            return (lastIndexRetrieved == myBytes.length - 1);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isReady() {\r\n            // This implementation will never block\r\n            // We also never need to call the readListener from this method, as this method will never return false\r\n            return isFinished();\r\n        }\r\n    \r\n        @Override\r\n        public void setReadListener(ReadListener readListener) {\r\n            this.readListener = readListener;\r\n            if (!isFinished()) {\r\n                try {\r\n                    readListener.onDataAvailable();\r\n                } catch (IOException e) {\r\n                    readListener.onError(e);\r\n                }\r\n            } else {\r\n                try {\r\n                    readListener.onAllDataRead();\r\n                } catch (IOException e) {\r\n                    readListener.onError(e);\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int read() throws IOException {\r\n            int i;\r\n            if (!isFinished()) {\r\n                i = myBytes[lastIndexRetrieved + 1];\r\n                lastIndexRetrieved++;\r\n                if (isFinished() &amp;&amp; (readListener != null)) {\r\n                    try {\r\n                        readListener.onAllDataRead();\r\n                    } catch (IOException ex) {\r\n                        readListener.onError(ex);\r\n                        throw ex;\r\n                    }\r\n                }\r\n                return i;\r\n            } else {\r\n                return -1;\r\n            }\r\n        }\r\n    };\r\n\r\n\r\nUltimately, I was just trying to log the requests.  And the above frankensteined together pieces helped me create the below.\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.security.Principal;\r\n    import java.util.Enumeration;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    import javax.servlet.FilterChain;\r\n    import javax.servlet.ServletException;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    //one or the other based on spring version\r\n    //import org.springframework.boot.autoconfigure.web.ErrorAttributes;\r\n    import org.springframework.boot.web.servlet.error.ErrorAttributes;\r\n    \r\n    import org.springframework.core.Ordered;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.context.request.ServletRequestAttributes;\r\n    import org.springframework.web.context.request.WebRequest;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    \r\n    /**\r\n     * A filter which logs web requests that lead to an error in the system.\r\n     */\r\n    @Component\r\n    public class LogRequestFilter extends OncePerRequestFilter implements Ordered {\r\n    \r\n        // I tried apache.commons and slf4g loggers.  (one or the other in these next 2 lines of declaration */\r\n        //private final static org.apache.commons.logging.Log logger = org.apache.commons.logging.LogFactory.getLog(LogRequestFilter.class);\r\n        private static final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger(LogRequestFilter.class);\r\n    \r\n        // put filter at the end of all other filters to make sure we are processing after all others\r\n        private int order = Ordered.LOWEST_PRECEDENCE - 8;\r\n        private ErrorAttributes errorAttributes;\r\n    \r\n        @Override\r\n        public int getOrder() {\r\n            return order;\r\n        }\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n                throws ServletException, IOException {\r\n    \r\n            String temp = &quot;&quot;; /* for a breakpoint, remove for production/real code */\r\n    \r\n            /* change to true for easy way to comment out this code, remove this if-check for production/real code */\r\n            if (false) {\r\n                filterChain.doFilter(request, response);\r\n                return;\r\n            }\r\n    \r\n            /* make a &quot;copy&quot; to avoid issues with body-can-only-read-once issues */\r\n            RequestWrapper reqWrapper = new RequestWrapper(request);\r\n    \r\n            int status = HttpStatus.INTERNAL_SERVER_ERROR.value();\r\n            // pass through filter chain to do the actual request handling\r\n            filterChain.doFilter(reqWrapper, response);\r\n            status = response.getStatus();\r\n    \r\n            try {\r\n                Map&lt;String, Object&gt; traceMap = getTrace(reqWrapper, status);\r\n                // body can only be read after the actual request handling was done!\r\n                this.getBodyFromTheRequestCopy(reqWrapper, traceMap);\r\n                \r\n                /* now do something with all the pieces of information gatherered */\r\n                this.logTrace(reqWrapper, traceMap);\r\n            } catch (Exception ex) {\r\n                logger.error(&quot;LogRequestFilter FAILED: &quot; + ex.getMessage(), ex);\r\n            }\r\n        }\r\n    \r\n        private void getBodyFromTheRequestCopy(RequestWrapper rw, Map&lt;String, Object&gt; trace) {\r\n            try {\r\n                if (rw != null) {\r\n                    byte[] buf = IOUtils.toByteArray(rw.getInputStream());\r\n                    //byte[] buf = rw.getInputStream();\r\n                    if (buf.length &gt; 0) {\r\n                        String payloadSlimmed;\r\n                        try {\r\n                            String payload = new String(buf, 0, buf.length, rw.getCharacterEncoding());\r\n                            payloadSlimmed = payload.trim().replaceAll(&quot; +&quot;, &quot; &quot;);\r\n                        } catch (UnsupportedEncodingException ex) {\r\n                            payloadSlimmed = &quot;[unknown]&quot;;\r\n                        }\r\n    \r\n                        trace.put(&quot;body&quot;, payloadSlimmed);\r\n                    }\r\n                }\r\n            } catch (IOException ioex) {\r\n                trace.put(&quot;body&quot;, &quot;EXCEPTION: &quot; + ioex.getMessage());\r\n            }\r\n        }\r\n    \r\n        private void logTrace(HttpServletRequest request, Map&lt;String, Object&gt; trace) {\r\n            Object method = trace.get(&quot;method&quot;);\r\n            Object path = trace.get(&quot;path&quot;);\r\n            Object statusCode = trace.get(&quot;statusCode&quot;);\r\n    \r\n            logger.info(String.format(&quot;%s %s produced an status code &#39;%s&#39;. Trace: &#39;%s&#39;&quot;, method, path, statusCode,\r\n                    trace));\r\n        }\r\n    \r\n        protected Map&lt;String, Object&gt; getTrace(HttpServletRequest request, int status) {\r\n            Throwable exception = (Throwable) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\r\n    \r\n            Principal principal = request.getUserPrincipal();\r\n    \r\n            Map&lt;String, Object&gt; trace = new LinkedHashMap&lt;String, Object&gt;();\r\n            trace.put(&quot;method&quot;, request.getMethod());\r\n            trace.put(&quot;path&quot;, request.getRequestURI());\r\n            if (null != principal) {\r\n                trace.put(&quot;principal&quot;, principal.getName());\r\n            }\r\n            trace.put(&quot;query&quot;, request.getQueryString());\r\n            trace.put(&quot;statusCode&quot;, status);\r\n    \r\n            Enumeration headerNames = request.getHeaderNames();\r\n            while (headerNames.hasMoreElements()) {\r\n                String key = (String) headerNames.nextElement();\r\n                String value = request.getHeader(key);\r\n                trace.put(&quot;header:&quot; + key, value);\r\n            }\r\n    \r\n            if (exception != null &amp;&amp; this.errorAttributes != null) {\r\n                trace.put(&quot;error&quot;, this.errorAttributes\r\n                        .getErrorAttributes((WebRequest) new ServletRequestAttributes(request), true));\r\n            }\r\n    \r\n            return trace;\r\n        }\r\n    }\r\n\r\n\r\nPlease take this code with a grain of salt.\r\n\r\nThe MOST important &quot;test&quot; is if a POST works with a payload.  This is what will expose &quot;double read&quot; issues.\r\n\r\npseudo example code\r\n\r\n    import org.springframework.web.bind.annotation.*;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;myroute&quot;)\r\n    public class MyController {\r\n        @RequestMapping(method = RequestMethod.POST, produces = &quot;application/json&quot;)\r\n        @ResponseBody\r\n        public String getSomethingExample(@RequestBody MyCustomObject input) {\r\n    \r\n            String returnValue = &quot;&quot;;\r\n    \r\n            return returnValue;\r\n        }\r\n    }\r\n\r\nYou can replace &quot;MyCustomObject&quot; with plain ole &quot;Object&quot; if you just want to test.\r\n\r\n\r\nThis answer is frankensteined from several different SOF posts and examples..but it took a while to pull it all together so I hope it helps a future reader.\r\n\r\nPlease upvote Lathy&#39;s answer before mine. I could have not gotten this far without it.\r\n\r\n\r\nBelow is one/some of the exceptions I got while working this out.\r\n\r\n&gt; getReader() has already been called for this request\r\n\r\nLooks like some of the places I &quot;borrowed&quot; from are here:\r\n\r\nhttp://slackspace.de/articles/log-request-body-with-spring-boot/\r\n\r\nhttps://github.com/c0nscience/spring-web-logging/blob/master/src/main/java/org/zalando/springframework/web/logging/LoggingFilter.java\r\n\r\nhttps://howtodoinjava.com/servlets/httpservletrequestwrapper-example-read-request-body/\r\n\r\nhttps://www.oodlestechnologies.com/blogs/How-to-create-duplicate-object-of-httpServletRequest-object\r\n\r\nhttps://github.com/c0nscience/spring-web-logging/blob/master/src/main/java/org/zalando/springframework/web/logging/LoggingFilter.java\r\n\r\n\r\nJanuary 2021 APPEND.\r\n\r\nI have learned the hard way that the above code does NOT work for\r\n\r\n&gt; x-www-form-urlencoded\r\n\r\nConsider the example below:\r\n\r\n       @CrossOrigin\r\n        @ResponseBody\r\n        @PostMapping(path = &quot;/mypath&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\r\n        public ResponseEntity myMethodName(@RequestParam Map&lt;String, String&gt; parameters\r\n        ) {\r\n            /* DO YOU GET ANY PARAMETERS HERE?  Or are they empty because of logging/auditing filter ?*/\r\n            return new ResponseEntity(HttpStatus.OK);\r\n    \r\n        }\r\n\r\n\r\n\r\nI had to go through several of the other examples here.\r\n\r\nI came up with a &quot;wrapper&quot; that works explicitly for APPLICATION_FORM_URLENCODED_VALUE\r\n\r\n\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.util.ContentCachingRequestWrapper;\r\n    \r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import java.io.IOException;\r\n    \r\n    /**\r\n     * Makes a &quot;copy&quot; of the HttpRequest so the body can be accessed more than 1 time.\r\n     * WORKS WITH APPLICATION_FORM_URLENCODED_VALUE\r\n     * See : https://stackoverflow.com/questions/44182370/why-do-we-wrap-httpservletrequest-the-api-provides-an-httpservletrequestwrappe/44187955#44187955\r\n     */\r\n    public final class AppFormUrlEncodedSpecificContentCachingRequestWrapper extends ContentCachingRequestWrapper {\r\n    \r\n        public static final String ERROR_MSG_CONTENT_TYPE_NOT_SUPPORTED = &quot;ContentType not supported. (Input ContentType(s)=\\&quot;%1$s\\&quot;, Supported ContentType(s)=\\&quot;%2$s\\&quot;)&quot;;\r\n    \r\n        public static final String ERROR_MSG_PERSISTED_CONTENT_CACHING_REQUEST_WRAPPER_CONSTRUCTOR_FAILED = &quot;AppFormUrlEncodedSpecificContentCachingRequestWrapper constructor failed&quot;;\r\n    \r\n        private static final org.slf4j.Logger LOGGER = org.slf4j.LoggerFactory.getLogger(AppFormUrlEncodedSpecificContentCachingRequestWrapper.class);\r\n    \r\n        private byte[] body;\r\n    \r\n        private ServletInputStream inputStream;\r\n    \r\n        public AppFormUrlEncodedSpecificContentCachingRequestWrapper(HttpServletRequest request) {\r\n            super(request);\r\n            super.getParameterMap(); // init cache in ContentCachingRequestWrapper.  THIS IS THE VITAL CALL so that &quot;@RequestParam Map&lt;String, String&gt; parameters&quot; are populated on the REST Controller.  See https://stackoverflow.com/questions/10210645/http-servlet-request-lose-params-from-post-body-after-read-it-once/64924380#64924380\r\n    \r\n            String contentType = request.getContentType();\r\n            /* EXPLICTLY check for APPLICATION_FORM_URLENCODED_VALUE and allow nothing else */\r\n            if (null == contentType || !contentType.equalsIgnoreCase(MediaType.APPLICATION_FORM_URLENCODED_VALUE)) {\r\n                IllegalArgumentException ioex = new IllegalArgumentException(String.format(ERROR_MSG_CONTENT_TYPE_NOT_SUPPORTED, contentType, MediaType.APPLICATION_FORM_URLENCODED_VALUE));\r\n                LOGGER.error(ERROR_MSG_PERSISTED_CONTENT_CACHING_REQUEST_WRAPPER_CONSTRUCTOR_FAILED, ioex);\r\n                throw ioex;\r\n            }\r\n    \r\n            try {\r\n                loadBody(request);\r\n            } catch (IOException ioex) {\r\n                throw new RuntimeException(ioex);\r\n            }\r\n        }\r\n    \r\n        private void loadBody(HttpServletRequest request) throws IOException {\r\n            body = IOUtils.toByteArray(request.getInputStream());\r\n            inputStream = new CustomServletInputStream(this.getBody());\r\n        }\r\n    \r\n        private byte[] getBody() {\r\n            return body;\r\n        }\r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n            if (inputStream != null) {\r\n                return inputStream;\r\n            }\r\n            return super.getInputStream();\r\n        }\r\n    }\r\n\r\n\r\n\r\nNote Andrew Sneck&#39;s answer on this same page.\r\nIt is pretty much this : https://programmersought.com/article/23981013626/\r\n\r\nI have not had time to harmonize the two above implementations (my two that is).\r\n\r\n\r\nSo I created a Factory to &quot;choose&quot; from the two:\r\n\r\n\r\n    import org.springframework.http.MediaType;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import java.io.IOException;\r\n    \r\n    /**\r\n     * Factory to return different concretes of HttpServletRequestWrapper. APPLICATION_FORM_URLENCODED_VALUE needs a different concrete.\r\n     */\r\n    public class HttpServletRequestWrapperFactory {\r\n    \r\n        public static final String ERROR_MSG_HTTP_SERVLET_REQUEST_WRAPPER_FACTORY_CREATE_HTTP_SERVLET_REQUEST_WRAPPER_FAILED = &quot;HttpServletRequestWrapperFactory createHttpServletRequestWrapper FAILED&quot;;\r\n    \r\n        public static HttpServletRequestWrapper createHttpServletRequestWrapper(final HttpServletRequest request) {\r\n            HttpServletRequestWrapper returnItem = null;\r\n    \r\n            if (null != request) {\r\n                String contentType = request.getContentType();\r\n                if (null != contentType &amp;&amp; contentType.equalsIgnoreCase(MediaType.APPLICATION_FORM_URLENCODED_VALUE)) {\r\n                    returnItem = new AppFormUrlEncodedSpecificContentCachingRequestWrapper(request);\r\n                } else {\r\n                    try {\r\n                        returnItem = new PersistedBodyRequestWrapper(request);\r\n                    } catch (IOException ioex) {\r\n                        throw new RuntimeException(ERROR_MSG_HTTP_SERVLET_REQUEST_WRAPPER_FACTORY_CREATE_HTTP_SERVLET_REQUEST_WRAPPER_FAILED, ioex);\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return returnItem;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nBelow is the &quot;other&quot; one that works with JSON, etc.  It is the other concrete that the Factory can output.  I put it here so that my Jan 2021 APPEND is consistent..I don&#39;t know if the code below is perfect consistent with my original answer:\r\n\r\n\r\n    import org.springframework.http.MediaType;\r\n    \r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletRequestWrapper;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * Makes a &quot;copy&quot; of the HttpRequest so the body can be accessed more than 1 time.\r\n     * See : https://stackoverflow.com/questions/44182370/why-do-we-wrap-httpservletrequest-the-api-provides-an-httpservletrequestwrappe/44187955#44187955\r\n     * DOES NOT WORK WITH APPLICATION_FORM_URLENCODED_VALUE\r\n     */\r\n    public final class PersistedBodyRequestWrapper extends HttpServletRequestWrapper {\r\n    \r\n        public static final String ERROR_MSG_CONTENT_TYPE_NOT_SUPPORTED = &quot;ContentType not supported. (ContentType=\\&quot;%1$s\\&quot;)&quot;;\r\n    \r\n        public static final String ERROR_MSG_PERSISTED_BODY_REQUEST_WRAPPER_CONSTRUCTOR_FAILED = &quot;PersistedBodyRequestWrapper constructor FAILED&quot;;\r\n    \r\n        private static final org.slf4j.Logger LOGGER = org.slf4j.LoggerFactory.getLogger(PersistedBodyRequestWrapper.class);\r\n    \r\n        private String persistedBody;\r\n    \r\n        private final Map&lt;String, String[]&gt; parameterMap;\r\n    \r\n        public PersistedBodyRequestWrapper(final HttpServletRequest request) throws IOException {\r\n            super(request);\r\n    \r\n            String contentType = request.getContentType();\r\n            /* Allow everything EXCEPT APPLICATION_FORM_URLENCODED_VALUE */\r\n            if (null != contentType &amp;&amp; contentType.equalsIgnoreCase(MediaType.APPLICATION_FORM_URLENCODED_VALUE)) {\r\n                IllegalArgumentException ioex = new IllegalArgumentException(String.format(ERROR_MSG_CONTENT_TYPE_NOT_SUPPORTED, MediaType.APPLICATION_FORM_URLENCODED_VALUE));\r\n                LOGGER.error(ERROR_MSG_PERSISTED_BODY_REQUEST_WRAPPER_CONSTRUCTOR_FAILED, ioex);\r\n                throw ioex;\r\n            }\r\n    \r\n            parameterMap = request.getParameterMap();\r\n            this.persistedBody = &quot;&quot;;\r\n            BufferedReader bufferedReader = request.getReader();\r\n            String line;\r\n            while ((line = bufferedReader.readLine()) != null) {\r\n                this.persistedBody += line;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n            CustomServletInputStream csis = new CustomServletInputStream(this.persistedBody.getBytes(StandardCharsets.UTF_8));\r\n            return csis;\r\n        }\r\n    \r\n        @Override\r\n        public BufferedReader getReader() throws IOException {\r\n            return new BufferedReader(new InputStreamReader(this.getInputStream()));\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, String[]&gt; getParameterMap() {\r\n            return this.parameterMap;\r\n        }\r\n    }\r\n\r\n","title":"Http Servlet request lose params from POST body after read it once","body":"<p>So this is basically Lathy's answer BUT updated for newer requirements for ServletInputStream.</p>\n<p>Namely (for ServletInputStream),  one has to implement:</p>\n<pre><code>public abstract boolean isFinished();\n\npublic abstract boolean isReady();\n\npublic abstract void setReadListener(ReadListener var1);\n</code></pre>\n<p>This is the edited Lathy's object</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\n\npublic class RequestWrapper extends HttpServletRequestWrapper {\n\n    private String _body;\n\n    public RequestWrapper(HttpServletRequest request) throws IOException {\n        super(request);\n        _body = &quot;&quot;;\n        BufferedReader bufferedReader = request.getReader();\n        String line;\n        while ((line = bufferedReader.readLine()) != null){\n            _body += line;\n        }\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n\n        CustomServletInputStream kid = new CustomServletInputStream(_body.getBytes());\n        return kid;\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        return new BufferedReader(new InputStreamReader(this.getInputStream()));\n    }\n}\n</code></pre>\n<p>and somewhere (??) I found this (which is a first-class class that deals with the &quot;extra&quot; methods.</p>\n<pre><code>import javax.servlet.ReadListener;\nimport javax.servlet.ServletInputStream;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\n\npublic class CustomServletInputStream extends ServletInputStream {\n\n    private byte[] myBytes;\n\n    private int lastIndexRetrieved = -1;\n    private ReadListener readListener = null;\n\n    public CustomServletInputStream(String s) {\n        try {\n            this.myBytes = s.getBytes(&quot;UTF-8&quot;);\n        } catch (UnsupportedEncodingException ex) {\n            throw new IllegalStateException(&quot;JVM did not support UTF-8&quot;, ex);\n        }\n    }\n\n    public CustomServletInputStream(byte[] inputBytes) {\n        this.myBytes = inputBytes;\n    }\n\n    @Override\n    public boolean isFinished() {\n        return (lastIndexRetrieved == myBytes.length - 1);\n    }\n\n    @Override\n    public boolean isReady() {\n        // This implementation will never block\n        // We also never need to call the readListener from this method, as this method will never return false\n        return isFinished();\n    }\n\n    @Override\n    public void setReadListener(ReadListener readListener) {\n        this.readListener = readListener;\n        if (!isFinished()) {\n            try {\n                readListener.onDataAvailable();\n            } catch (IOException e) {\n                readListener.onError(e);\n            }\n        } else {\n            try {\n                readListener.onAllDataRead();\n            } catch (IOException e) {\n                readListener.onError(e);\n            }\n        }\n    }\n\n    @Override\n    public int read() throws IOException {\n        int i;\n        if (!isFinished()) {\n            i = myBytes[lastIndexRetrieved + 1];\n            lastIndexRetrieved++;\n            if (isFinished() &amp;&amp; (readListener != null)) {\n                try {\n                    readListener.onAllDataRead();\n                } catch (IOException ex) {\n                    readListener.onError(ex);\n                    throw ex;\n                }\n            }\n            return i;\n        } else {\n            return -1;\n        }\n    }\n};\n</code></pre>\n<p>Ultimately, I was just trying to log the requests.  And the above frankensteined together pieces helped me create the below.</p>\n<pre><code>import java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.security.Principal;\nimport java.util.Enumeration;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\nimport javax.servlet.FilterChain;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.apache.commons.io.IOUtils;\n\n//one or the other based on spring version\n//import org.springframework.boot.autoconfigure.web.ErrorAttributes;\nimport org.springframework.boot.web.servlet.error.ErrorAttributes;\n\nimport org.springframework.core.Ordered;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.context.request.ServletRequestAttributes;\nimport org.springframework.web.context.request.WebRequest;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\n\n/**\n * A filter which logs web requests that lead to an error in the system.\n */\n@Component\npublic class LogRequestFilter extends OncePerRequestFilter implements Ordered {\n\n    // I tried apache.commons and slf4g loggers.  (one or the other in these next 2 lines of declaration */\n    //private final static org.apache.commons.logging.Log logger = org.apache.commons.logging.LogFactory.getLog(LogRequestFilter.class);\n    private static final org.slf4j.Logger logger = org.slf4j.LoggerFactory.getLogger(LogRequestFilter.class);\n\n    // put filter at the end of all other filters to make sure we are processing after all others\n    private int order = Ordered.LOWEST_PRECEDENCE - 8;\n    private ErrorAttributes errorAttributes;\n\n    @Override\n    public int getOrder() {\n        return order;\n    }\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n\n        String temp = &quot;&quot;; /* for a breakpoint, remove for production/real code */\n\n        /* change to true for easy way to comment out this code, remove this if-check for production/real code */\n        if (false) {\n            filterChain.doFilter(request, response);\n            return;\n        }\n\n        /* make a &quot;copy&quot; to avoid issues with body-can-only-read-once issues */\n        RequestWrapper reqWrapper = new RequestWrapper(request);\n\n        int status = HttpStatus.INTERNAL_SERVER_ERROR.value();\n        // pass through filter chain to do the actual request handling\n        filterChain.doFilter(reqWrapper, response);\n        status = response.getStatus();\n\n        try {\n            Map&lt;String, Object&gt; traceMap = getTrace(reqWrapper, status);\n            // body can only be read after the actual request handling was done!\n            this.getBodyFromTheRequestCopy(reqWrapper, traceMap);\n            \n            /* now do something with all the pieces of information gatherered */\n            this.logTrace(reqWrapper, traceMap);\n        } catch (Exception ex) {\n            logger.error(&quot;LogRequestFilter FAILED: &quot; + ex.getMessage(), ex);\n        }\n    }\n\n    private void getBodyFromTheRequestCopy(RequestWrapper rw, Map&lt;String, Object&gt; trace) {\n        try {\n            if (rw != null) {\n                byte[] buf = IOUtils.toByteArray(rw.getInputStream());\n                //byte[] buf = rw.getInputStream();\n                if (buf.length &gt; 0) {\n                    String payloadSlimmed;\n                    try {\n                        String payload = new String(buf, 0, buf.length, rw.getCharacterEncoding());\n                        payloadSlimmed = payload.trim().replaceAll(&quot; +&quot;, &quot; &quot;);\n                    } catch (UnsupportedEncodingException ex) {\n                        payloadSlimmed = &quot;[unknown]&quot;;\n                    }\n\n                    trace.put(&quot;body&quot;, payloadSlimmed);\n                }\n            }\n        } catch (IOException ioex) {\n            trace.put(&quot;body&quot;, &quot;EXCEPTION: &quot; + ioex.getMessage());\n        }\n    }\n\n    private void logTrace(HttpServletRequest request, Map&lt;String, Object&gt; trace) {\n        Object method = trace.get(&quot;method&quot;);\n        Object path = trace.get(&quot;path&quot;);\n        Object statusCode = trace.get(&quot;statusCode&quot;);\n\n        logger.info(String.format(&quot;%s %s produced an status code '%s'. Trace: '%s'&quot;, method, path, statusCode,\n                trace));\n    }\n\n    protected Map&lt;String, Object&gt; getTrace(HttpServletRequest request, int status) {\n        Throwable exception = (Throwable) request.getAttribute(&quot;javax.servlet.error.exception&quot;);\n\n        Principal principal = request.getUserPrincipal();\n\n        Map&lt;String, Object&gt; trace = new LinkedHashMap&lt;String, Object&gt;();\n        trace.put(&quot;method&quot;, request.getMethod());\n        trace.put(&quot;path&quot;, request.getRequestURI());\n        if (null != principal) {\n            trace.put(&quot;principal&quot;, principal.getName());\n        }\n        trace.put(&quot;query&quot;, request.getQueryString());\n        trace.put(&quot;statusCode&quot;, status);\n\n        Enumeration headerNames = request.getHeaderNames();\n        while (headerNames.hasMoreElements()) {\n            String key = (String) headerNames.nextElement();\n            String value = request.getHeader(key);\n            trace.put(&quot;header:&quot; + key, value);\n        }\n\n        if (exception != null &amp;&amp; this.errorAttributes != null) {\n            trace.put(&quot;error&quot;, this.errorAttributes\n                    .getErrorAttributes((WebRequest) new ServletRequestAttributes(request), true));\n        }\n\n        return trace;\n    }\n}\n</code></pre>\n<p>Please take this code with a grain of salt.</p>\n<p>The MOST important &quot;test&quot; is if a POST works with a payload.  This is what will expose &quot;double read&quot; issues.</p>\n<p>pseudo example code</p>\n<pre><code>import org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(&quot;myroute&quot;)\npublic class MyController {\n    @RequestMapping(method = RequestMethod.POST, produces = &quot;application/json&quot;)\n    @ResponseBody\n    public String getSomethingExample(@RequestBody MyCustomObject input) {\n\n        String returnValue = &quot;&quot;;\n\n        return returnValue;\n    }\n}\n</code></pre>\n<p>You can replace &quot;MyCustomObject&quot; with plain ole &quot;Object&quot; if you just want to test.</p>\n<p>This answer is frankensteined from several different SOF posts and examples..but it took a while to pull it all together so I hope it helps a future reader.</p>\n<p>Please upvote Lathy's answer before mine. I could have not gotten this far without it.</p>\n<p>Below is one/some of the exceptions I got while working this out.</p>\n<blockquote>\n<p>getReader() has already been called for this request</p>\n</blockquote>\n<p>Looks like some of the places I &quot;borrowed&quot; from are here:</p>\n<p><a href=\"http://slackspace.de/articles/log-request-body-with-spring-boot/\" rel=\"noreferrer\">http://slackspace.de/articles/log-request-body-with-spring-boot/</a></p>\n<p><a href=\"https://github.com/c0nscience/spring-web-logging/blob/master/src/main/java/org/zalando/springframework/web/logging/LoggingFilter.java\" rel=\"noreferrer\">https://github.com/c0nscience/spring-web-logging/blob/master/src/main/java/org/zalando/springframework/web/logging/LoggingFilter.java</a></p>\n<p><a href=\"https://howtodoinjava.com/servlets/httpservletrequestwrapper-example-read-request-body/\" rel=\"noreferrer\">https://howtodoinjava.com/servlets/httpservletrequestwrapper-example-read-request-body/</a></p>\n<p><a href=\"https://www.oodlestechnologies.com/blogs/How-to-create-duplicate-object-of-httpServletRequest-object\" rel=\"noreferrer\">https://www.oodlestechnologies.com/blogs/How-to-create-duplicate-object-of-httpServletRequest-object</a></p>\n<p><a href=\"https://github.com/c0nscience/spring-web-logging/blob/master/src/main/java/org/zalando/springframework/web/logging/LoggingFilter.java\" rel=\"noreferrer\">https://github.com/c0nscience/spring-web-logging/blob/master/src/main/java/org/zalando/springframework/web/logging/LoggingFilter.java</a></p>\n<p>January 2021 APPEND.</p>\n<p>I have learned the hard way that the above code does NOT work for</p>\n<blockquote>\n<p>x-www-form-urlencoded</p>\n</blockquote>\n<p>Consider the example below:</p>\n<pre><code>   @CrossOrigin\n    @ResponseBody\n    @PostMapping(path = &quot;/mypath&quot;, consumes = {MediaType.APPLICATION_FORM_URLENCODED_VALUE})\n    public ResponseEntity myMethodName(@RequestParam Map&lt;String, String&gt; parameters\n    ) {\n        /* DO YOU GET ANY PARAMETERS HERE?  Or are they empty because of logging/auditing filter ?*/\n        return new ResponseEntity(HttpStatus.OK);\n\n    }\n</code></pre>\n<p>I had to go through several of the other examples here.</p>\n<p>I came up with a &quot;wrapper&quot; that works explicitly for APPLICATION_FORM_URLENCODED_VALUE</p>\n<pre><code>import org.apache.commons.io.IOUtils;\nimport org.springframework.http.MediaType;\nimport org.springframework.web.util.ContentCachingRequestWrapper;\n\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.IOException;\n\n/**\n * Makes a &quot;copy&quot; of the HttpRequest so the body can be accessed more than 1 time.\n * WORKS WITH APPLICATION_FORM_URLENCODED_VALUE\n * See : https://stackoverflow.com/questions/44182370/why-do-we-wrap-httpservletrequest-the-api-provides-an-httpservletrequestwrappe/44187955#44187955\n */\npublic final class AppFormUrlEncodedSpecificContentCachingRequestWrapper extends ContentCachingRequestWrapper {\n\n    public static final String ERROR_MSG_CONTENT_TYPE_NOT_SUPPORTED = &quot;ContentType not supported. (Input ContentType(s)=\\&quot;%1$s\\&quot;, Supported ContentType(s)=\\&quot;%2$s\\&quot;)&quot;;\n\n    public static final String ERROR_MSG_PERSISTED_CONTENT_CACHING_REQUEST_WRAPPER_CONSTRUCTOR_FAILED = &quot;AppFormUrlEncodedSpecificContentCachingRequestWrapper constructor failed&quot;;\n\n    private static final org.slf4j.Logger LOGGER = org.slf4j.LoggerFactory.getLogger(AppFormUrlEncodedSpecificContentCachingRequestWrapper.class);\n\n    private byte[] body;\n\n    private ServletInputStream inputStream;\n\n    public AppFormUrlEncodedSpecificContentCachingRequestWrapper(HttpServletRequest request) {\n        super(request);\n        super.getParameterMap(); // init cache in ContentCachingRequestWrapper.  THIS IS THE VITAL CALL so that &quot;@RequestParam Map&lt;String, String&gt; parameters&quot; are populated on the REST Controller.  See https://stackoverflow.com/questions/10210645/http-servlet-request-lose-params-from-post-body-after-read-it-once/64924380#64924380\n\n        String contentType = request.getContentType();\n        /* EXPLICTLY check for APPLICATION_FORM_URLENCODED_VALUE and allow nothing else */\n        if (null == contentType || !contentType.equalsIgnoreCase(MediaType.APPLICATION_FORM_URLENCODED_VALUE)) {\n            IllegalArgumentException ioex = new IllegalArgumentException(String.format(ERROR_MSG_CONTENT_TYPE_NOT_SUPPORTED, contentType, MediaType.APPLICATION_FORM_URLENCODED_VALUE));\n            LOGGER.error(ERROR_MSG_PERSISTED_CONTENT_CACHING_REQUEST_WRAPPER_CONSTRUCTOR_FAILED, ioex);\n            throw ioex;\n        }\n\n        try {\n            loadBody(request);\n        } catch (IOException ioex) {\n            throw new RuntimeException(ioex);\n        }\n    }\n\n    private void loadBody(HttpServletRequest request) throws IOException {\n        body = IOUtils.toByteArray(request.getInputStream());\n        inputStream = new CustomServletInputStream(this.getBody());\n    }\n\n    private byte[] getBody() {\n        return body;\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        if (inputStream != null) {\n            return inputStream;\n        }\n        return super.getInputStream();\n    }\n}\n</code></pre>\n<p>Note Andrew Sneck's answer on this same page.\nIt is pretty much this : <a href=\"https://programmersought.com/article/23981013626/\" rel=\"noreferrer\">https://programmersought.com/article/23981013626/</a></p>\n<p>I have not had time to harmonize the two above implementations (my two that is).</p>\n<p>So I created a Factory to &quot;choose&quot; from the two:</p>\n<pre><code>import org.springframework.http.MediaType;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.IOException;\n\n/**\n * Factory to return different concretes of HttpServletRequestWrapper. APPLICATION_FORM_URLENCODED_VALUE needs a different concrete.\n */\npublic class HttpServletRequestWrapperFactory {\n\n    public static final String ERROR_MSG_HTTP_SERVLET_REQUEST_WRAPPER_FACTORY_CREATE_HTTP_SERVLET_REQUEST_WRAPPER_FAILED = &quot;HttpServletRequestWrapperFactory createHttpServletRequestWrapper FAILED&quot;;\n\n    public static HttpServletRequestWrapper createHttpServletRequestWrapper(final HttpServletRequest request) {\n        HttpServletRequestWrapper returnItem = null;\n\n        if (null != request) {\n            String contentType = request.getContentType();\n            if (null != contentType &amp;&amp; contentType.equalsIgnoreCase(MediaType.APPLICATION_FORM_URLENCODED_VALUE)) {\n                returnItem = new AppFormUrlEncodedSpecificContentCachingRequestWrapper(request);\n            } else {\n                try {\n                    returnItem = new PersistedBodyRequestWrapper(request);\n                } catch (IOException ioex) {\n                    throw new RuntimeException(ERROR_MSG_HTTP_SERVLET_REQUEST_WRAPPER_FACTORY_CREATE_HTTP_SERVLET_REQUEST_WRAPPER_FAILED, ioex);\n                }\n            }\n        }\n\n        return returnItem;\n    }\n\n}\n</code></pre>\n<p>Below is the &quot;other&quot; one that works with JSON, etc.  It is the other concrete that the Factory can output.  I put it here so that my Jan 2021 APPEND is consistent..I don't know if the code below is perfect consistent with my original answer:</p>\n<pre><code>import org.springframework.http.MediaType;\n\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletRequestWrapper;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Map;\n\n/**\n * Makes a &quot;copy&quot; of the HttpRequest so the body can be accessed more than 1 time.\n * See : https://stackoverflow.com/questions/44182370/why-do-we-wrap-httpservletrequest-the-api-provides-an-httpservletrequestwrappe/44187955#44187955\n * DOES NOT WORK WITH APPLICATION_FORM_URLENCODED_VALUE\n */\npublic final class PersistedBodyRequestWrapper extends HttpServletRequestWrapper {\n\n    public static final String ERROR_MSG_CONTENT_TYPE_NOT_SUPPORTED = &quot;ContentType not supported. (ContentType=\\&quot;%1$s\\&quot;)&quot;;\n\n    public static final String ERROR_MSG_PERSISTED_BODY_REQUEST_WRAPPER_CONSTRUCTOR_FAILED = &quot;PersistedBodyRequestWrapper constructor FAILED&quot;;\n\n    private static final org.slf4j.Logger LOGGER = org.slf4j.LoggerFactory.getLogger(PersistedBodyRequestWrapper.class);\n\n    private String persistedBody;\n\n    private final Map&lt;String, String[]&gt; parameterMap;\n\n    public PersistedBodyRequestWrapper(final HttpServletRequest request) throws IOException {\n        super(request);\n\n        String contentType = request.getContentType();\n        /* Allow everything EXCEPT APPLICATION_FORM_URLENCODED_VALUE */\n        if (null != contentType &amp;&amp; contentType.equalsIgnoreCase(MediaType.APPLICATION_FORM_URLENCODED_VALUE)) {\n            IllegalArgumentException ioex = new IllegalArgumentException(String.format(ERROR_MSG_CONTENT_TYPE_NOT_SUPPORTED, MediaType.APPLICATION_FORM_URLENCODED_VALUE));\n            LOGGER.error(ERROR_MSG_PERSISTED_BODY_REQUEST_WRAPPER_CONSTRUCTOR_FAILED, ioex);\n            throw ioex;\n        }\n\n        parameterMap = request.getParameterMap();\n        this.persistedBody = &quot;&quot;;\n        BufferedReader bufferedReader = request.getReader();\n        String line;\n        while ((line = bufferedReader.readLine()) != null) {\n            this.persistedBody += line;\n        }\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        CustomServletInputStream csis = new CustomServletInputStream(this.persistedBody.getBytes(StandardCharsets.UTF_8));\n        return csis;\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        return new BufferedReader(new InputStreamReader(this.getInputStream()));\n    }\n\n    @Override\n    public Map&lt;String, String[]&gt; getParameterMap() {\n        return this.parameterMap;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4103855,"reputation":2505,"user_id":3368558,"display_name":"Markoorn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551184426,"creation_date":1551184426,"answer_id":54885705,"question_id":10210645,"body_markdown":"Spring has built-in support for this with an `AbstractRequestLoggingFilter`:\r\n\r\n    @Bean\r\n    public Filter loggingFilter(){\r\n        final AbstractRequestLoggingFilter filter = new AbstractRequestLoggingFilter() {\r\n            @Override\r\n            protected void beforeRequest(final HttpServletRequest request, final String message) {\r\n                \r\n            }\r\n\r\n            @Override\r\n            protected void afterRequest(final HttpServletRequest request, final String message) {\r\n\r\n            }\r\n        };\r\n        \r\n        filter.setIncludePayload(true);\r\n        filter.setIncludeQueryString(false);\r\n        filter.setMaxPayloadLength(1000000);\r\n\r\n        return filter;\r\n    }\r\n\r\nUnfortunately you still won&#39;t be able to read the payload directly off the request, but the String message parameter will include the payload so you can grab  it from there as follows:\r\n\r\n`String body = message.substring(message.indexOf(&quot;{&quot;), message.lastIndexOf(&quot;]&quot;));`\r\n","title":"Http Servlet request lose params from POST body after read it once","body":"<p>Spring has built-in support for this with an <code>AbstractRequestLoggingFilter</code>:</p>\n\n<pre><code>@Bean\npublic Filter loggingFilter(){\n    final AbstractRequestLoggingFilter filter = new AbstractRequestLoggingFilter() {\n        @Override\n        protected void beforeRequest(final HttpServletRequest request, final String message) {\n\n        }\n\n        @Override\n        protected void afterRequest(final HttpServletRequest request, final String message) {\n\n        }\n    };\n\n    filter.setIncludePayload(true);\n    filter.setIncludeQueryString(false);\n    filter.setMaxPayloadLength(1000000);\n\n    return filter;\n}\n</code></pre>\n\n<p>Unfortunately you still won't be able to read the payload directly off the request, but the String message parameter will include the payload so you can grab  it from there as follows:</p>\n\n<p><code>String body = message.substring(message.indexOf(\"{\"), message.lastIndexOf(\"]\"));</code></p>\n"},{"tags":[],"owner":{"account_id":13002350,"reputation":118,"user_id":9398040,"display_name":"Veli-Matti Sorvala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576881197,"creation_date":1576881197,"answer_id":59431994,"question_id":10210645,"body_markdown":"The method getContentAsByteArray() of the Spring class ContentCachingRequestWrapper  reads the body multiple times, but the methods getInputStream() and getReader() of the same class do not read the body multiple times:\r\n\r\n&quot;This class caches the request body by consuming the InputStream. If we read the InputStream in one of the filters, then other subsequent filters in the filter chain can&#39;t read it anymore. Because of this limitation, this class is not suitable in all situations.&quot; \r\n\r\nIn my case more general solution that solved this problem was to add following three classes to my Spring boot project (and the required dependencies to the pom file):\r\n\r\nCachedBodyHttpServletRequest.java:\r\n\r\n    public class CachedBodyHttpServletRequest extends HttpServletRequestWrapper {\r\n    \r\n        private byte[] cachedBody;\r\n    \r\n        public CachedBodyHttpServletRequest(HttpServletRequest request) throws IOException {\r\n            super(request);\r\n            InputStream requestInputStream = request.getInputStream();\r\n            this.cachedBody = StreamUtils.copyToByteArray(requestInputStream);\r\n        }\r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() throws IOException {\r\n            return new CachedBodyServletInputStream(this.cachedBody);\r\n        }\r\n    \r\n        @Override\r\n        public BufferedReader getReader() throws IOException {\r\n            // Create a reader from cachedContent\r\n            // and return it\r\n            ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(this.cachedBody);\r\n            return new BufferedReader(new InputStreamReader(byteArrayInputStream));\r\n        }\r\n    }\r\n\r\nCachedBodyServletInputStream.java:\r\n\r\n    public class CachedBodyServletInputStream extends ServletInputStream {\r\n    \r\n        private InputStream cachedBodyInputStream;\r\n    \r\n        public CachedBodyServletInputStream(byte[] cachedBody) {\r\n            this.cachedBodyInputStream = new ByteArrayInputStream(cachedBody);\r\n        }\r\n    \r\n        @Override\r\n        public boolean isFinished() {\r\n            try {\r\n                return cachedBodyInputStream.available() == 0;\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isReady() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public void setReadListener(ReadListener readListener) {\r\n            throw new UnsupportedOperationException();\r\n        }\r\n    \r\n        @Override\r\n        public int read() throws IOException {\r\n            return cachedBodyInputStream.read();\r\n        }\r\n    }\r\n\r\nContentCachingFilter.java:\r\n\r\n    @Order(value = Ordered.HIGHEST_PRECEDENCE)\r\n    @Component\r\n    @WebFilter(filterName = &quot;ContentCachingFilter&quot;, urlPatterns = &quot;/*&quot;)\r\n    public class ContentCachingFilter extends OncePerRequestFilter {\r\n    \r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\r\n            System.out.println(&quot;IN  ContentCachingFilter &quot;);\r\n            CachedBodyHttpServletRequest cachedBodyHttpServletRequest = new CachedBodyHttpServletRequest(httpServletRequest);\r\n            filterChain.doFilter(cachedBodyHttpServletRequest, httpServletResponse);\r\n        }\r\n    }\r\n\r\nI also added the following dependencies to pom:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.0.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n        &lt;version&gt;2.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nA tuturial and full source code is located here:\r\nhttps://www.baeldung.com/spring-reading-httpservletrequest-multiple-times\r\n\r\n\r\n\r\n","title":"Http Servlet request lose params from POST body after read it once","body":"<p>The method getContentAsByteArray() of the Spring class ContentCachingRequestWrapper  reads the body multiple times, but the methods getInputStream() and getReader() of the same class do not read the body multiple times:</p>\n\n<p>\"This class caches the request body by consuming the InputStream. If we read the InputStream in one of the filters, then other subsequent filters in the filter chain can't read it anymore. Because of this limitation, this class is not suitable in all situations.\" </p>\n\n<p>In my case more general solution that solved this problem was to add following three classes to my Spring boot project (and the required dependencies to the pom file):</p>\n\n<p>CachedBodyHttpServletRequest.java:</p>\n\n<pre><code>public class CachedBodyHttpServletRequest extends HttpServletRequestWrapper {\n\n    private byte[] cachedBody;\n\n    public CachedBodyHttpServletRequest(HttpServletRequest request) throws IOException {\n        super(request);\n        InputStream requestInputStream = request.getInputStream();\n        this.cachedBody = StreamUtils.copyToByteArray(requestInputStream);\n    }\n\n    @Override\n    public ServletInputStream getInputStream() throws IOException {\n        return new CachedBodyServletInputStream(this.cachedBody);\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        // Create a reader from cachedContent\n        // and return it\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(this.cachedBody);\n        return new BufferedReader(new InputStreamReader(byteArrayInputStream));\n    }\n}\n</code></pre>\n\n<p>CachedBodyServletInputStream.java:</p>\n\n<pre><code>public class CachedBodyServletInputStream extends ServletInputStream {\n\n    private InputStream cachedBodyInputStream;\n\n    public CachedBodyServletInputStream(byte[] cachedBody) {\n        this.cachedBodyInputStream = new ByteArrayInputStream(cachedBody);\n    }\n\n    @Override\n    public boolean isFinished() {\n        try {\n            return cachedBodyInputStream.available() == 0;\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        return false;\n    }\n\n    @Override\n    public boolean isReady() {\n        return true;\n    }\n\n    @Override\n    public void setReadListener(ReadListener readListener) {\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public int read() throws IOException {\n        return cachedBodyInputStream.read();\n    }\n}\n</code></pre>\n\n<p>ContentCachingFilter.java:</p>\n\n<pre><code>@Order(value = Ordered.HIGHEST_PRECEDENCE)\n@Component\n@WebFilter(filterName = \"ContentCachingFilter\", urlPatterns = \"/*\")\npublic class ContentCachingFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse, FilterChain filterChain) throws ServletException, IOException {\n        System.out.println(\"IN  ContentCachingFilter \");\n        CachedBodyHttpServletRequest cachedBodyHttpServletRequest = new CachedBodyHttpServletRequest(httpServletRequest);\n        filterChain.doFilter(cachedBodyHttpServletRequest, httpServletResponse);\n    }\n}\n</code></pre>\n\n<p>I also added the following dependencies to pom:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;4.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>A tuturial and full source code is located here:\n<a href=\"https://www.baeldung.com/spring-reading-httpservletrequest-multiple-times\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-reading-httpservletrequest-multiple-times</a></p>\n"},{"tags":[],"owner":{"account_id":5973459,"reputation":774,"user_id":4695118,"accept_rate":0,"display_name":"Andrew Sneck"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1612432623,"creation_date":1605850761,"answer_id":64924380,"question_id":10210645,"body_markdown":"I found good solution for any format of request body. \r\nI tested for `application/x-www-form-urlencoded` and `application/json` both worked very well. Problem of `ContentCachingRequestWrapper` that is designed only for `x-www-form-urlencoded` request body, but not work with e.g. json. I found solution for json [link][1]. It had trouble that it didn&#39;t support `x-www-form-urlencoded`.\r\nI joined both in my code:\r\n\r\n\r\n\r\n\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.springframework.web.util.ContentCachingRequestWrapper;\r\n    \r\n    import javax.servlet.ReadListener;\r\n    import javax.servlet.ServletInputStream;\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    \r\n    public class MyContentCachingRequestWrapper extends ContentCachingRequestWrapper {\r\n    \r\n        private byte[] body;\r\n    \r\n        public MyContentCachingRequestWrapper(HttpServletRequest request) throws IOException {\r\n            super(request);\r\n            super.getParameterMap(); // init cache in ContentCachingRequestWrapper\r\n            body = super.getContentAsByteArray(); // first option for application/x-www-form-urlencoded\r\n            if (body.length == 0) {\r\n              try {\r\n                body = IOUtils.toByteArray(super.getInputStream()); // second option for other body formats\r\n              } catch (IOException ex) {\r\n                body = new byte[0];\r\n              }\r\n            }\r\n        }\r\n    \r\n        public byte[] getBody() {\r\n            return body;\r\n        }\r\n    \r\n        @Override\r\n        public ServletInputStream getInputStream() {\r\n            return new RequestCachingInputStream(body);\r\n        }\r\n    \r\n        @Override\r\n        public BufferedReader getReader() throws IOException {\r\n            return new BufferedReader(new InputStreamReader(getInputStream(), getCharacterEncoding()));\r\n        }\r\n    \r\n        private static class RequestCachingInputStream extends ServletInputStream {\r\n    \r\n            private final ByteArrayInputStream inputStream;\r\n    \r\n            public RequestCachingInputStream(byte[] bytes) {\r\n                inputStream = new ByteArrayInputStream(bytes);\r\n            }\r\n    \r\n            @Override\r\n            public int read() throws IOException {\r\n                return inputStream.read();\r\n            }\r\n    \r\n            @Override\r\n            public boolean isFinished() {\r\n                return inputStream.available() == 0;\r\n            }\r\n    \r\n            @Override\r\n            public boolean isReady() {\r\n                return true;\r\n            }\r\n    \r\n            @Override\r\n            public void setReadListener(ReadListener readlistener) {\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://programmersought.com/article/23981013626/\r\n","title":"Http Servlet request lose params from POST body after read it once","body":"<p>I found good solution for any format of request body.\nI tested for <code>application/x-www-form-urlencoded</code> and <code>application/json</code> both worked very well. Problem of <code>ContentCachingRequestWrapper</code> that is designed only for <code>x-www-form-urlencoded</code> request body, but not work with e.g. json. I found solution for json <a href=\"https://programmersought.com/article/23981013626/\" rel=\"noreferrer\">link</a>. It had trouble that it didn't support <code>x-www-form-urlencoded</code>.\nI joined both in my code:</p>\n<pre><code>import org.apache.commons.io.IOUtils;\nimport org.springframework.web.util.ContentCachingRequestWrapper;\n\nimport javax.servlet.ReadListener;\nimport javax.servlet.ServletInputStream;\nimport javax.servlet.http.HttpServletRequest;\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\n\npublic class MyContentCachingRequestWrapper extends ContentCachingRequestWrapper {\n\n    private byte[] body;\n\n    public MyContentCachingRequestWrapper(HttpServletRequest request) throws IOException {\n        super(request);\n        super.getParameterMap(); // init cache in ContentCachingRequestWrapper\n        body = super.getContentAsByteArray(); // first option for application/x-www-form-urlencoded\n        if (body.length == 0) {\n          try {\n            body = IOUtils.toByteArray(super.getInputStream()); // second option for other body formats\n          } catch (IOException ex) {\n            body = new byte[0];\n          }\n        }\n    }\n\n    public byte[] getBody() {\n        return body;\n    }\n\n    @Override\n    public ServletInputStream getInputStream() {\n        return new RequestCachingInputStream(body);\n    }\n\n    @Override\n    public BufferedReader getReader() throws IOException {\n        return new BufferedReader(new InputStreamReader(getInputStream(), getCharacterEncoding()));\n    }\n\n    private static class RequestCachingInputStream extends ServletInputStream {\n\n        private final ByteArrayInputStream inputStream;\n\n        public RequestCachingInputStream(byte[] bytes) {\n            inputStream = new ByteArrayInputStream(bytes);\n        }\n\n        @Override\n        public int read() throws IOException {\n            return inputStream.read();\n        }\n\n        @Override\n        public boolean isFinished() {\n            return inputStream.available() == 0;\n        }\n\n        @Override\n        public boolean isReady() {\n            return true;\n        }\n\n        @Override\n        public void setReadListener(ReadListener readlistener) {\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1113987,"reputation":3302,"user_id":1103811,"display_name":"amuniz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156145,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":17129256,"answer_count":13,"score":110,"last_activity_date":1661512251,"creation_date":1334756450,"question_id":10210645,"body_markdown":"I&#39;m trying to access two http request parameters in a Java Servlet filter, nothing new here, but was surprised to find that the parameters have already been consumed! Because of this, they are not available in the filter chain anymore.\r\n\r\nIt seems that this only occurs when parameters come in a POST request body (a form submit, for example).\r\n\r\nIs there a way to read the parameters and NOT consume them?\r\n\r\nSo far I&#39;ve found only this reference: [Servlet Filter using request.getParameter loses Form data](http://restlet-discuss.1400322.n2.nabble.com/Servlet-Filter-using-request-getParameter-loses-Form-data-td2141035.html).\r\n\r\nThanks!","title":"Http Servlet request lose params from POST body after read it once","body":"<p>I'm trying to access two http request parameters in a Java Servlet filter, nothing new here, but was surprised to find that the parameters have already been consumed! Because of this, they are not available in the filter chain anymore.</p>\n<p>It seems that this only occurs when parameters come in a POST request body (a form submit, for example).</p>\n<p>Is there a way to read the parameters and NOT consume them?</p>\n<p>So far I've found only this reference: <a href=\"http://restlet-discuss.1400322.n2.nabble.com/Servlet-Filter-using-request-getParameter-loses-Form-data-td2141035.html\" rel=\"noreferrer\">Servlet Filter using request.getParameter loses Form data</a>.</p>\n<p>Thanks!</p>\n"},{"tags":["java","android","android-studio","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":25968388,"reputation":21,"user_id":19684024,"display_name":"Ulvi Ismayilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661512211,"creation_date":1661512211,"answer_id":73500110,"question_id":73484703,"body_markdown":"Issue which I tried to explain is that if I want to change video position during scrubbing, I must use TimeBar.OnScrubListener.onScrubMove(). In order to use this, function must access to DefaultTimeBar inside StyledPlayerView, and I did not know how to do it, yet solution is easy.\r\n\r\nI just need to add global DefaultTimeBar variable,\r\n\r\n    private DefaultTimeBar timeBar;\r\n\r\nthen initialize it through videoViewTutorial variable \r\n\r\n    timeBar = videoViewTutorial.findViewById(R.id.exo_progress);//Solution\r\n\r\nthen I just use the listener to achieve my desired result\r\n\r\n    timeBar.addListener(new TimeBar.OnScrubListener() { //Solution\r\n            @Override\r\n            public void onScrubStart(TimeBar timeBar, long position) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onScrubMove(TimeBar timeBar, long position) {\r\n                player.seekTo(position);\r\n            }\r\n\r\n            @Override\r\n            public void onScrubStop(TimeBar timeBar, long position, boolean canceled) {\r\n\r\n            }\r\n        });","title":"When TimeBar scrubbed video change position accordingly in ExoPlayer","body":"<p>Issue which I tried to explain is that if I want to change video position during scrubbing, I must use TimeBar.OnScrubListener.onScrubMove(). In order to use this, function must access to DefaultTimeBar inside StyledPlayerView, and I did not know how to do it, yet solution is easy.</p>\n<p>I just need to add global DefaultTimeBar variable,</p>\n<pre><code>private DefaultTimeBar timeBar;\n</code></pre>\n<p>then initialize it through videoViewTutorial variable</p>\n<pre><code>timeBar = videoViewTutorial.findViewById(R.id.exo_progress);//Solution\n</code></pre>\n<p>then I just use the listener to achieve my desired result</p>\n<pre><code>timeBar.addListener(new TimeBar.OnScrubListener() { //Solution\n        @Override\n        public void onScrubStart(TimeBar timeBar, long position) {\n\n        }\n\n        @Override\n        public void onScrubMove(TimeBar timeBar, long position) {\n            player.seekTo(position);\n        }\n\n        @Override\n        public void onScrubStop(TimeBar timeBar, long position, boolean canceled) {\n\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":25968388,"reputation":21,"user_id":19684024,"display_name":"Ulvi Ismayilov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73500110,"answer_count":1,"score":1,"last_activity_date":1661512211,"creation_date":1661417949,"question_id":73484703,"body_markdown":"I&#39;m using StyledPlayerView for controls. I want to implement that while user moves TimeBar video also change its position simultaneously(not after user stopped scrubbing).\r\nI know that I can use TimeBar.OnScrubListener(), but I cannot find a way to implement that method to default StyledPlayerView. Is there a way to do that? Thanks.\r\n\r\n    \r\n\r\n\r\npublic class ShowTutorialFragment extends Fragment {\r\n\r\n    private ExoPlayer player;\r\n    private NavController navController;\r\n    private ImageView imageViewClose;\r\n    private StyledPlayerView videoViewTutorial;\r\n    private boolean goBackLockScreen = false;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        Bundle bundle = getArguments();\r\n        if (bundle != null &amp;&amp; bundle.getString(&quot;whereItCame&quot;) == &quot;LockScreen&quot;)\r\n            goBackLockScreen = true;\r\n        return inflater.inflate(R.layout.fragment_show_tutorial, container, false);\r\n    }\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        initialize(view);\r\n        setListeners();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        player.pause();\r\n    }\r\n\r\n    private void initialize(View view) {\r\n        player = new ExoPlayer.Builder(requireContext()).build();\r\n        navController = Navigation.findNavController(view);\r\n        imageViewClose = view.findViewById(R.id.image_view_close_dialog);\r\n        videoViewTutorial = view.findViewById(R.id.video_view_tutorial);\r\n        playVideo();\r\n    }\r\n\r\n    private void playVideo() {\r\n        String path = &quot;android.resource://&quot; + getActivity().getPackageName() + &quot;/&quot; + R.raw.tutorial_video;\r\n        MediaItem mediaItem = MediaItem.fromUri(path);\r\n\r\n        videoViewTutorial.setPlayer(player); // Set the media item to be played.\r\n        videoViewTutorial.setShowPreviousButton(false);\r\n        videoViewTutorial.setShowNextButton(false);\r\n        player.setMediaItem(mediaItem); // Prepare the player.\r\n        player.prepare();\r\n        player.play();\r\n        Log.i(&quot;track&quot;, &quot;playVideo: &quot;+ player.getTrackSelector().toString());\r\n       /* setXButtonVisible();*/\r\n    }\r\n\r\n    private void setListeners() {\r\n        imageViewClose.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                player.release();\r\n                if (goBackLockScreen) {\r\n                    navController.navigate(R.id.action_showTutorialFragment_to_lockScreenFragment);\r\n                } else navController.navigate(R.id.action_showTutorialFragment_to_mainMenu);\r\n            }\r\n        });\r\n\r\n        videoViewTutorial.setOnLongClickListener(new View.OnLongClickListener() {\r\n            @Override\r\n            public boolean onLongClick(View v) {\r\n                player.pause();\r\n                videoViewTutorial.hideController();\r\n                return false;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\nmy xml code\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/layout_fl_container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@color/black&quot;\r\n    android:clickable=&quot;true&quot;\r\n    android:focusable=&quot;true&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;com.atgeotech.erpintel.views.tutorial.ShowTutorialFragment&quot;&gt;\r\n\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n\r\n        &gt;\r\n\r\n        &lt;com.google.android.exoplayer2.ui.StyledPlayerView\r\n            android:id=&quot;@+id/video_view_tutorial&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:longClickable=&quot;true&quot;\r\n            app:show_buffering=&quot;when_playing&quot;\r\n            app:show_shuffle_button=&quot;true&quot;\r\n            app:surface_type=&quot;surface_view&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/image_view_close_dialog&quot;\r\n            android:layout_width=&quot;35dp&quot;\r\n            android:layout_height=&quot;35dp&quot;\r\n            android:layout_gravity=&quot;end&quot;\r\n            android:layout_margin=&quot;8dp&quot;\r\n            android:background=&quot;@color/faded_black&quot;\r\n            android:clickable=&quot;true&quot;\r\n            android:focusable=&quot;true&quot;\r\n            android:visibility=&quot;visible&quot;\r\n            app:srcCompat=&quot;@drawable/ic_close_dialog&quot;\r\n            tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\r\n\r\n    &lt;/FrameLayout&gt;\r\n\r\n\r\n&lt;/LinearLayout&gt;\r\n","title":"When TimeBar scrubbed video change position accordingly in ExoPlayer","body":"<p>I'm using StyledPlayerView for controls. I want to implement that while user moves TimeBar video also change its position simultaneously(not after user stopped scrubbing).\nI know that I can use TimeBar.OnScrubListener(), but I cannot find a way to implement that method to default StyledPlayerView. Is there a way to do that? Thanks.</p>\n<p>public class ShowTutorialFragment extends Fragment {</p>\n<pre><code>private ExoPlayer player;\nprivate NavController navController;\nprivate ImageView imageViewClose;\nprivate StyledPlayerView videoViewTutorial;\nprivate boolean goBackLockScreen = false;\n\n\n\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    Bundle bundle = getArguments();\n    if (bundle != null &amp;&amp; bundle.getString(&quot;whereItCame&quot;) == &quot;LockScreen&quot;)\n        goBackLockScreen = true;\n    return inflater.inflate(R.layout.fragment_show_tutorial, container, false);\n}\n\n@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    initialize(view);\n    setListeners();\n\n}\n\n@Override\npublic void onPause() {\n    super.onPause();\n    player.pause();\n}\n\nprivate void initialize(View view) {\n    player = new ExoPlayer.Builder(requireContext()).build();\n    navController = Navigation.findNavController(view);\n    imageViewClose = view.findViewById(R.id.image_view_close_dialog);\n    videoViewTutorial = view.findViewById(R.id.video_view_tutorial);\n    playVideo();\n}\n\nprivate void playVideo() {\n    String path = &quot;android.resource://&quot; + getActivity().getPackageName() + &quot;/&quot; + R.raw.tutorial_video;\n    MediaItem mediaItem = MediaItem.fromUri(path);\n\n    videoViewTutorial.setPlayer(player); // Set the media item to be played.\n    videoViewTutorial.setShowPreviousButton(false);\n    videoViewTutorial.setShowNextButton(false);\n    player.setMediaItem(mediaItem); // Prepare the player.\n    player.prepare();\n    player.play();\n    Log.i(&quot;track&quot;, &quot;playVideo: &quot;+ player.getTrackSelector().toString());\n   /* setXButtonVisible();*/\n}\n\nprivate void setListeners() {\n    imageViewClose.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            player.release();\n            if (goBackLockScreen) {\n                navController.navigate(R.id.action_showTutorialFragment_to_lockScreenFragment);\n            } else navController.navigate(R.id.action_showTutorialFragment_to_mainMenu);\n        }\n    });\n\n    videoViewTutorial.setOnLongClickListener(new View.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View v) {\n            player.pause();\n            videoViewTutorial.hideController();\n            return false;\n        }\n    });\n\n}\n</code></pre>\n<p>}</p>\n<p>my xml code</p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/layout_fl_container&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:background=&quot;@color/black&quot;\nandroid:clickable=&quot;true&quot;\nandroid:focusable=&quot;true&quot;\nandroid:orientation=&quot;vertical&quot;\ntools:context=&quot;com.atgeotech.erpintel.views.tutorial.ShowTutorialFragment&quot;&gt;\n\n\n&lt;FrameLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;center&quot;\n\n    &gt;\n\n    &lt;com.google.android.exoplayer2.ui.StyledPlayerView\n        android:id=&quot;@+id/video_view_tutorial&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:longClickable=&quot;true&quot;\n        app:show_buffering=&quot;when_playing&quot;\n        app:show_shuffle_button=&quot;true&quot;\n        app:surface_type=&quot;surface_view&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/image_view_close_dialog&quot;\n        android:layout_width=&quot;35dp&quot;\n        android:layout_height=&quot;35dp&quot;\n        android:layout_gravity=&quot;end&quot;\n        android:layout_margin=&quot;8dp&quot;\n        android:background=&quot;@color/faded_black&quot;\n        android:clickable=&quot;true&quot;\n        android:focusable=&quot;true&quot;\n        android:visibility=&quot;visible&quot;\n        app:srcCompat=&quot;@drawable/ic_close_dialog&quot;\n        tools:ignore=&quot;SpeakableTextPresentCheck&quot; /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n"},{"tags":["java","selenium","testng","allure"],"answers":[{"tags":[],"owner":{"account_id":6155362,"reputation":151,"user_id":4798538,"display_name":"kiranjith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625823327,"creation_date":1625823327,"answer_id":68314600,"question_id":67256463,"body_markdown":"There is already an open issue with [allure-java][1] \r\n\r\n\r\n  [1]: https://github.com/allure-framework/allure-java/issues/369","title":"Allure reports displays disabled test cases as Unknown instead of Skipped","body":"<p>There is already an open issue with <a href=\"https://github.com/allure-framework/allure-java/issues/369\" rel=\"nofollow noreferrer\">allure-java</a></p>\n"},{"tags":[],"owner":{"account_id":3293544,"reputation":387,"user_id":2771287,"display_name":"Pradap Pandian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661511406,"creation_date":1661511406,"answer_id":73499951,"question_id":67256463,"body_markdown":"I have a work around for this. Once the result folder is generated. I will run the script to remove `skipped` test on the `.json` file. After this script run the `allure` report generation command.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    cd ./allure-results\r\n    ls\r\n    for D in *;\r\n    do\r\n    CREDENTIALS=$(jq -c &#39;. | .status&#39; $D)\r\n    a=$CREDENTIALS\r\n    b=&#39;&quot;skipped&quot;&#39;\r\n    if [[ $a == $b ]]\r\n    then\r\n    rm $D\r\n    fi\r\n    done\r\n    ls\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Allure reports displays disabled test cases as Unknown instead of Skipped","body":"<p>I have a work around for this. Once the result folder is generated. I will run the script to remove <code>skipped</code> test on the <code>.json</code> file. After this script run the <code>allure</code> report generation command.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>cd ./allure-results\nls\nfor D in *;\ndo\nCREDENTIALS=$(jq -c '. | .status' $D)\na=$CREDENTIALS\nb='\"skipped\"'\nif [[ $a == $b ]]\nthen\nrm $D\nfi\ndone\nls</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":1727674,"reputation":57,"user_id":1581989,"accept_rate":83,"display_name":"Ceyhun Ganioglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661511406,"creation_date":1619372636,"question_id":67256463,"body_markdown":"I use Java Selenium TestNG and Allure reports combination for my test framework. My problem is Allure shows strange behavior when I disable some test cases using ```enabled = false``` Allure shows does test cases as Unknown. I would like to make those test cases displayed as Skipped.\r\n\r\nIs there a way to do it either with a setting or workaround?","title":"Allure reports displays disabled test cases as Unknown instead of Skipped","body":"<p>I use Java Selenium TestNG and Allure reports combination for my test framework. My problem is Allure shows strange behavior when I disable some test cases using <code>enabled = false</code> Allure shows does test cases as Unknown. I would like to make those test cases displayed as Skipped.</p>\n<p>Is there a way to do it either with a setting or workaround?</p>\n"},{"tags":["java","jdbc"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1661472652,"post_id":73494788,"comment_id":129786943,"body_markdown":"How do you know that the only the first one comes.  I am thinking that only the last one comes.  I your code `cand=new Candidate();` you are creating anew object for each loop, but you are not adding it to a List (or array) and then you return that last Object `return cand;`","body":"How do you know that the only the first one comes.  I am thinking that only the last one comes.  I your code <code>cand=new Candidate();</code> you are creating anew object for each loop, but you are not adding it to a List (or array) and then you return that last Object <code>return cand;</code>"},{"owner":{"account_id":26018368,"reputation":21,"user_id":19726389,"display_name":"Champ "},"score":0,"creation_date":1661472718,"post_id":73494788,"comment_id":129786958,"body_markdown":"True the last one comes","body":"True the last one comes"},{"owner":{"account_id":26018368,"reputation":21,"user_id":19726389,"display_name":"Champ "},"score":0,"creation_date":1661472822,"post_id":73494788,"comment_id":129786978,"body_markdown":"How do I add to array","body":"How do I add to array"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661472834,"post_id":73494788,"comment_id":129786980,"body_markdown":"well you want your code to return a `List&lt;Candidate&gt;`, try it and let us know when/if you get stuck.","body":"well you want your code to return a <code>List&lt;Candidate&gt;</code>, try it and let us know when/if you get stuck."},{"owner":{"account_id":26018368,"reputation":21,"user_id":19726389,"display_name":"Champ "},"score":0,"creation_date":1661472894,"post_id":73494788,"comment_id":129786993,"body_markdown":"I have done it thanks","body":"I have done it thanks"},{"owner":{"account_id":26018368,"reputation":21,"user_id":19726389,"display_name":"Champ "},"score":0,"creation_date":1661472940,"post_id":73494788,"comment_id":129786998,"body_markdown":"How do I give you thumbs up &#128077;","body":"How do I give you thumbs up 👍"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661473295,"post_id":73494788,"comment_id":129787053,"body_markdown":"You just did. Cool.","body":"You just did. Cool."}],"answers":[{"tags":[],"owner":{"account_id":26018368,"reputation":21,"user_id":19726389,"display_name":"Champ "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661508372,"creation_date":1661508372,"answer_id":73499336,"question_id":73494788,"body_markdown":"After using arrayList I was able to get all the values successfully \r\n\r\n    public List&lt;Candidate&gt; CandTable(Candidate cand) throws SQLException, ClassNotFoundException {\r\n         Connection con = SQLConnection.connect();\r\n    //      Candidate cand = null;\r\n         List&lt;Candidate&gt; CT = new ArrayList();","title":"I want to get the result of all Candidates but only the first one comes","body":"<p>After using arrayList I was able to get all the values successfully</p>\n<pre><code>public List&lt;Candidate&gt; CandTable(Candidate cand) throws SQLException, ClassNotFoundException {\n     Connection con = SQLConnection.connect();\n//      Candidate cand = null;\n     List&lt;Candidate&gt; CT = new ArrayList();\n</code></pre>\n"}],"owner":{"account_id":26018368,"reputation":21,"user_id":19726389,"display_name":"Champ "},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1661511301,"creation_date":1661472280,"question_id":73494788,"body_markdown":"How do I get a full list of all candidates for example `positionName` should print all the first names\r\nThis my DAO\r\n\r\n```\r\npublic Candidate CandTable(String positionName) {\r\n\tCandidate cand = null;\r\n\ttry {  \r\n\t\tConnection con = SQLConnection.connect();\r\n\t\tString query = &quot;select * from candidate where positionName=?&quot;;\r\n\t\tPreparedStatement pst = con.prepareStatement(query);\r\n\t\tpst.setString(1, positionName);\r\n\t\tResultSet rs = pst.executeQuery();\r\n\t\twhile(rs.next()) {\r\n\t\t\tcand=new Candidate();\r\n\t\t\tcand.setStudentID(rs.getString(&quot;StudentID&quot;));\r\n\t\t\tcand.setEncodedImage(Base64.getEncoder().encodeToString(rs.getBytes(&quot;image&quot;)));\r\n\t\t\tcand.setFirstName(rs.getString(&quot;fName&quot;));\r\n\t\t\tcand.setLastName(rs.getString(&quot;lName&quot;));\r\n\t\t\tcand.setClassName(rs.getString(&quot;className&quot;));\r\n\t\t\tcand.setPostionName(rs.getString(&quot;positionName&quot;));\r\n\t\t\tcand.setSex(rs.getString(&quot;sex&quot;));\r\n\t\t\tcand.setDob(rs.getDate(&quot;dob&quot;));\r\n\t\t}\r\n\t} catch (Exception e){\r\n\t\te.printStackTrace();\r\n\t}\r\n\treturn cand;\r\n}\r\n```\r\n","title":"I want to get the result of all Candidates but only the first one comes","body":"<p>How do I get a full list of all candidates for example <code>positionName</code> should print all the first names\nThis my DAO</p>\n<pre><code>public Candidate CandTable(String positionName) {\n    Candidate cand = null;\n    try {  \n        Connection con = SQLConnection.connect();\n        String query = &quot;select * from candidate where positionName=?&quot;;\n        PreparedStatement pst = con.prepareStatement(query);\n        pst.setString(1, positionName);\n        ResultSet rs = pst.executeQuery();\n        while(rs.next()) {\n            cand=new Candidate();\n            cand.setStudentID(rs.getString(&quot;StudentID&quot;));\n            cand.setEncodedImage(Base64.getEncoder().encodeToString(rs.getBytes(&quot;image&quot;)));\n            cand.setFirstName(rs.getString(&quot;fName&quot;));\n            cand.setLastName(rs.getString(&quot;lName&quot;));\n            cand.setClassName(rs.getString(&quot;className&quot;));\n            cand.setPostionName(rs.getString(&quot;positionName&quot;));\n            cand.setSex(rs.getString(&quot;sex&quot;));\n            cand.setDob(rs.getDate(&quot;dob&quot;));\n        }\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n    return cand;\n}\n</code></pre>\n"},{"tags":["java","java-8","java-time"],"comments":[{"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"score":1,"creation_date":1438602972,"post_id":31786450,"comment_id":51501771,"body_markdown":"Know that an instant is not specific to any one time zone or offset. You&#39;ll need to interpret the Instant in refernce to a time zone, in order to determine the hour of day.","body":"Know that an instant is not specific to any one time zone or offset. You&#39;ll need to interpret the Instant in refernce to a time zone, in order to determine the hour of day."}],"answers":[{"tags":[],"owner":{"account_id":6610092,"reputation":1876,"user_id":5105572,"display_name":"Mrinal"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1438615873,"creation_date":1438615873,"answer_id":31791230,"question_id":31786450,"body_markdown":"`Instant` does not have any hour / minute. Please read the documentation of Instant class : https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n\r\nIf you use System Timezone to convert the Instant , you can use something like this : \r\n\r\n    LocalDateTime ldt1 = LocalDateTime.ofInstant(dt1, ZoneId.systemDefault());\r\n    \t\tLocalDateTime ldt2 = LocalDateTime.ofInstant(dt2, ZoneId.systemDefault());\r\n    \r\n    \t\tldt1 = ldt1\r\n    \t\t\t.withHour(ldt2.getHour())\r\n    \t\t\t.withMinute(ldt2.getMinute())\r\n    \t\t\t.withSecond(ldt2.getSecond());\r\n    \r\n    \t\tdt1 = ldt1.atZone(ZoneId.systemDefault()).toInstant();","title":"How to get and set specified time in java.time.Instant?","body":"<p><code>Instant</code> does not have any hour / minute. Please read the documentation of Instant class : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html</a></p>\n\n<p>If you use System Timezone to convert the Instant , you can use something like this : </p>\n\n<pre><code>LocalDateTime ldt1 = LocalDateTime.ofInstant(dt1, ZoneId.systemDefault());\n        LocalDateTime ldt2 = LocalDateTime.ofInstant(dt2, ZoneId.systemDefault());\n\n        ldt1 = ldt1\n            .withHour(ldt2.getHour())\n            .withMinute(ldt2.getMinute())\n            .withSecond(ldt2.getSecond());\n\n        dt1 = ldt1.atZone(ZoneId.systemDefault()).toInstant();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2259305,"reputation":141,"user_id":1989760,"display_name":"underscore_05"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1537519219,"creation_date":1490264066,"answer_id":42973053,"question_id":31786450,"body_markdown":"Convert first the `Instant` to `LocalDateTime`, and use UTC as its timezone, then you can get its hours.\r\n\r\n    import java.time.*\r\n    LocalDateTime.ofInstant(Instant.now(), ZoneOffset.UTC).getHour()\r\n\r\n","title":"How to get and set specified time in java.time.Instant?","body":"<p>Convert first the <code>Instant</code> to <code>LocalDateTime</code>, and use UTC as its timezone, then you can get its hours.</p>\n\n<pre><code>import java.time.*\nLocalDateTime.ofInstant(Instant.now(), ZoneOffset.UTC).getHour()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13039375,"reputation":13251,"user_id":9423231,"display_name":"frido"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1607554888,"creation_date":1544124554,"answer_id":53658366,"question_id":31786450,"body_markdown":"You have to interpret the Instant at some time zone to get [`ZonedDateTime`][1]. As an Instant measures the ellapsed seconds and nano seconds from epoch `1970-01-01T00:00:00Z` you should use `UTC` to get the same time as the Instant would print. (`Z` ≙ Zulu Time ≙ `UTC`)\r\n\r\n### Getting the time\r\n\r\n    Instant instant;\r\n\r\n    // get overall time\r\n    LocalTime time = instant.atZone(ZoneOffset.UTC).toLocalTime();\r\n    // get hour\r\n    int hour = instant.atZone(ZoneOffset.UTC).getHour();\r\n    // get minute\r\n    int minute = instant.atZone(ZoneOffset.UTC).getMinute();\r\n    // get second\r\n    int second = instant.atZone(ZoneOffset.UTC).getSecond();\r\n    // get nano\r\n    int nano = instant.atZone(ZoneOffset.UTC).getNano();\r\n\r\nThere are also methods to get days, month and year (`getX`).\r\n\r\n\r\n### Setting the time\r\n\r\nInstants are immutable so you can only &quot;set&quot; the time by creating a copy of your instant with the given time change.\r\n\r\n    instant = instant.atZone(ZoneOffset.UTC)\r\n            .withHour(hour)\r\n            .withMinute(minute)\r\n            .withSecond(second)\r\n            .withNano(nano)\r\n            .toInstant();\r\n\r\nThere are also methods to alter days, month and year (`withX`) as well as methods to add (`plusX`) or subtract (`minusX`) time or date values.\r\n\r\nTo set the time to a value given as a string use: `.with(LocalTime.parse(&quot;12:45:30&quot;))`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html","title":"How to get and set specified time in java.time.Instant?","body":"<p>You have to interpret the Instant at some time zone to get <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>. As an Instant measures the ellapsed seconds and nano seconds from epoch <code>1970-01-01T00:00:00Z</code> you should use <code>UTC</code> to get the same time as the Instant would print. (<code>Z</code> ≙ Zulu Time ≙ <code>UTC</code>)</p>\n<h3>Getting the time</h3>\n<pre><code>Instant instant;\n\n// get overall time\nLocalTime time = instant.atZone(ZoneOffset.UTC).toLocalTime();\n// get hour\nint hour = instant.atZone(ZoneOffset.UTC).getHour();\n// get minute\nint minute = instant.atZone(ZoneOffset.UTC).getMinute();\n// get second\nint second = instant.atZone(ZoneOffset.UTC).getSecond();\n// get nano\nint nano = instant.atZone(ZoneOffset.UTC).getNano();\n</code></pre>\n<p>There are also methods to get days, month and year (<code>getX</code>).</p>\n<h3>Setting the time</h3>\n<p>Instants are immutable so you can only &quot;set&quot; the time by creating a copy of your instant with the given time change.</p>\n<pre><code>instant = instant.atZone(ZoneOffset.UTC)\n        .withHour(hour)\n        .withMinute(minute)\n        .withSecond(second)\n        .withNano(nano)\n        .toInstant();\n</code></pre>\n<p>There are also methods to alter days, month and year (<code>withX</code>) as well as methods to add (<code>plusX</code>) or subtract (<code>minusX</code>) time or date values.</p>\n<p>To set the time to a value given as a string use: <code>.with(LocalTime.parse(&quot;12:45:30&quot;))</code></p>\n"},{"tags":[],"owner":{"account_id":10585637,"reputation":641,"user_id":7798091,"display_name":"Talha Akbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647103504,"creation_date":1647103504,"answer_id":71451488,"question_id":31786450,"body_markdown":"While the upper answer is a good, I used it but in Kotlin. Thankyou @frido\r\n\r\n    while (startDate.isBefore(endDate)) {\r\n            val year: Int = startDate.atZone(ZoneOffset.UTC).year\r\n            val month: Int = startDate.atZone(ZoneOffset.UTC).monthValue\r\n            val day: Int = startDate.atZone(ZoneOffset.UTC).dayOfMonth\r\n            System.out.printf(&quot;%d.%d.%d\\n&quot;, day, month, year)\r\n\r\n            startDate = startDate.atZone(ZoneOffset.UTC).withDayOfMonth(\r\n                day + 1\r\n            ).toInstant()\r\n        }","title":"How to get and set specified time in java.time.Instant?","body":"<p>While the upper answer is a good, I used it but in Kotlin. Thankyou @frido</p>\n<pre><code>while (startDate.isBefore(endDate)) {\n        val year: Int = startDate.atZone(ZoneOffset.UTC).year\n        val month: Int = startDate.atZone(ZoneOffset.UTC).monthValue\n        val day: Int = startDate.atZone(ZoneOffset.UTC).dayOfMonth\n        System.out.printf(&quot;%d.%d.%d\\n&quot;, day, month, year)\n\n        startDate = startDate.atZone(ZoneOffset.UTC).withDayOfMonth(\n            day + 1\n        ).toInstant()\n    }\n</code></pre>\n"}],"owner":{"account_id":1613111,"reputation":2349,"user_id":1491537,"accept_rate":42,"display_name":"kostepanych"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93413,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"answer_count":4,"score":32,"last_activity_date":1661511228,"creation_date":1438602489,"question_id":31786450,"body_markdown":"I have two java.time.Instant objects\r\n\r\n    Instant dt1;\r\n    Instant dt2;\r\n\r\nI want to get time (only hours and minutes without date) from dt2 and set it to dt1.  What is the best way to to this? Using \r\n\r\n    dt2.get(ChronoField.HOUR_OF_DAY) \r\n\r\nthrows java.time.temporal.UnsupportedTemporalTypeException","title":"How to get and set specified time in java.time.Instant?","body":"<p>I have two java.time.Instant objects</p>\n<pre><code>Instant dt1;\nInstant dt2;\n</code></pre>\n<p>I want to get time (only hours and minutes without date) from dt2 and set it to dt1.  What is the best way to to this? Using</p>\n<pre><code>dt2.get(ChronoField.HOUR_OF_DAY) \n</code></pre>\n<p>throws java.time.temporal.UnsupportedTemporalTypeException</p>\n"},{"tags":["java","tomcat9"],"comments":[{"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"score":0,"creation_date":1661750841,"post_id":73497155,"comment_id":129837114,"body_markdown":"any suggestions would be grt help","body":"any suggestions would be grt help"}],"owner":{"account_id":20837216,"reputation":11,"user_id":19849947,"display_name":"Mahajan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661510935,"creation_date":1661496970,"question_id":73497155,"body_markdown":"&gt; Server exception  \r\n      10-Aug-2022 10:59:30.517 INFO [Catalina-utility-2] org.apache.catalina.users.MemoryUserDatabase.backgroundProcess Reloading memory user database [UserDatabase] from updated source [file:/tomcat/conf/tomcat-users.xml]\r\n        10-Aug-2022 10:59:30.517 SEVERE [Catalina-utility-2] org.apache.catalina.users.MemoryUserDatabase.open The specified user database [conf/tomcat-users.xml] could not be found\r\n        10-Aug-2022 10:59:30.696 SEVERE [https-jsse-nio-8443-Acceptor] org.apache.tomcat.util.net.Acceptor.run Socket accept failed\r\n        \tjava.io.IOException: Too many open files\r\n        \t\tat sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\r\n        \t\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:421)\r\n        \t\tat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:249)\r\n        \t\tat org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:546)\r\n        \t\tat org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:79)\r\n        \t\tat org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:129)\r\n        \t\tat java.lang.Thread.run(Thread.java:750)\r\n    \r\n    \r\n        Server version: Apache Tomcat/9.0.63\r\n        Server built:   May 11 2022 07:52:11 UTC\r\n        Server number:  9.0.63.0\r\n        OS Name:        Linux\r\n        OS Version:     3.10.0-1160.71.1.el7.x86_64\r\n        Architecture:   amd64\r\n        JVM Version:    1.8.0_332-b09\r\n        JVM Vendor:     Red Hat, Inc.\r\n    \r\nAfter migration from tomcat 7 to tomcat 9. then randomly seen this exception. \r\n\r\nAnalysis\r\n    \r\n1. It is same webapp code from tomcat 7 to tomcat 9 so resource are closed properly with try and finally block as we have not seen the exception in tomcat 7.\r\n        \r\n2. Some places it is mentioned as increase in ulimit but not sure what is cause for this.","title":"org.apache.catalina.users.MemoryUserDatabase:conf/tomcat-users.xml] could not be found(java.io.IOException: Too many open files)","body":"<blockquote>\n<p>Server exception<br />\n10-Aug-2022 10:59:30.517 INFO [Catalina-utility-2] org.apache.catalina.users.MemoryUserDatabase.backgroundProcess Reloading memory user database [UserDatabase] from updated source [file:/tomcat/conf/tomcat-users.xml]\n10-Aug-2022 10:59:30.517 SEVERE [Catalina-utility-2] org.apache.catalina.users.MemoryUserDatabase.open The specified user database [conf/tomcat-users.xml] could not be found\n10-Aug-2022 10:59:30.696 SEVERE [https-jsse-nio-8443-Acceptor] org.apache.tomcat.util.net.Acceptor.run Socket accept failed\njava.io.IOException: Too many open files\nat sun.nio.ch.ServerSocketChannelImpl.accept0(Native Method)\nat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:421)\nat sun.nio.ch.ServerSocketChannelImpl.accept(ServerSocketChannelImpl.java:249)\nat org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:546)\nat org.apache.tomcat.util.net.NioEndpoint.serverSocketAccept(NioEndpoint.java:79)\nat org.apache.tomcat.util.net.Acceptor.run(Acceptor.java:129)\nat java.lang.Thread.run(Thread.java:750)</p>\n</blockquote>\n<pre><code>    Server version: Apache Tomcat/9.0.63\n    Server built:   May 11 2022 07:52:11 UTC\n    Server number:  9.0.63.0\n    OS Name:        Linux\n    OS Version:     3.10.0-1160.71.1.el7.x86_64\n    Architecture:   amd64\n    JVM Version:    1.8.0_332-b09\n    JVM Vendor:     Red Hat, Inc.\n</code></pre>\n<p>After migration from tomcat 7 to tomcat 9. then randomly seen this exception.</p>\n<p>Analysis</p>\n<ol>\n<li><p>It is same webapp code from tomcat 7 to tomcat 9 so resource are closed properly with try and finally block as we have not seen the exception in tomcat 7.</p>\n</li>\n<li><p>Some places it is mentioned as increase in ulimit but not sure what is cause for this.</p>\n</li>\n</ol>\n"},{"tags":["java","opencv","image-processing","contour","hough-transform"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1586594335,"post_id":61153926,"comment_id":108187039,"body_markdown":"Show your work so far.","body":"Show your work so far."},{"owner":{"account_id":4243704,"reputation":190,"user_id":3472963,"accept_rate":0,"display_name":"Saurabh Saluja"},"score":0,"creation_date":1586594778,"post_id":61153926,"comment_id":108187172,"body_markdown":"I have added the code part. Also added original image.","body":"I have added the code part. Also added original image."},{"owner":{"account_id":4243704,"reputation":190,"user_id":3472963,"accept_rate":0,"display_name":"Saurabh Saluja"},"score":0,"creation_date":1586696047,"post_id":61153926,"comment_id":108216481,"body_markdown":"@Thorbj&#248;rnRavnAndersen Can you help me with this algorithm.","body":"@Thorbj&#248;rnRavnAndersen Can you help me with this algorithm."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1586697374,"post_id":61153926,"comment_id":108217013,"body_markdown":"Sorry I have no idea.","body":"Sorry I have no idea."},{"owner":{"account_id":4243704,"reputation":190,"user_id":3472963,"accept_rate":0,"display_name":"Saurabh Saluja"},"score":0,"creation_date":1586701166,"post_id":61153926,"comment_id":108218545,"body_markdown":"I have solved it using findContours. How can I close this question.","body":"I have solved it using findContours. How can I close this question."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1586701589,"post_id":61153926,"comment_id":108218721,"body_markdown":"Answer it with your findings and do it well so future programmers having the same problem as you can find the answer and be helped.","body":"Answer it with your findings and do it well so future programmers having the same problem as you can find the answer and be helped."}],"answers":[{"tags":[],"owner":{"account_id":4243704,"reputation":190,"user_id":3472963,"accept_rate":0,"display_name":"Saurabh Saluja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586702246,"creation_date":1586701665,"answer_id":61172986,"question_id":61153926,"body_markdown":" \r\n    List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;(); \r\n    Imgproc.findContours(cannyOutput, contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    double inf = 0;\r\n    Rect max_rect = null;\r\n    for(int i=0; i&lt; contours.size();i++){\r\n        Rect rect = Imgproc.boundingRect(contours.get(i));\r\n\r\n        double area = rect.area();\r\n\r\n        if(inf &lt; area) {\r\n            max_rect = rect;\r\n            inf = area;\r\n            //Imgcodecs.imwrite(&quot;/Users/saurabhsaluja/Desktop/input&quot;+i+&quot;.jpg&quot;, img);\r\n        }\r\n\r\n        if(area &gt; 50000) {\r\n            System.out.println(area);\r\n            Imgproc.rectangle(img, new Point(rect.x,rect.y), new Point(rect.x+rect.width,rect.y+rect.height),new Scalar(0,0,0),5);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n[![enter image description here][1]][1]   \r\n\r\n  [1]: https://i.stack.imgur.com/FiD5E.jpg","title":"Detect Biggest Rectangle in the Image using Java Opencv [SOLVED]","body":"<pre><code>List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;(); \nImgproc.findContours(cannyOutput, contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\ndouble inf = 0;\nRect max_rect = null;\nfor(int i=0; i&lt; contours.size();i++){\n    Rect rect = Imgproc.boundingRect(contours.get(i));\n\n    double area = rect.area();\n\n    if(inf &lt; area) {\n        max_rect = rect;\n        inf = area;\n        //Imgcodecs.imwrite(\"/Users/saurabhsaluja/Desktop/input\"+i+\".jpg\", img);\n    }\n\n    if(area &gt; 50000) {\n        System.out.println(area);\n        Imgproc.rectangle(img, new Point(rect.x,rect.y), new Point(rect.x+rect.width,rect.y+rect.height),new Scalar(0,0,0),5);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/FiD5E.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FiD5E.jpg\" alt=\"enter image description here\"></a>   </p>\n"}],"owner":{"account_id":4243704,"reputation":190,"user_id":3472963,"accept_rate":0,"display_name":"Saurabh Saluja"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":860,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661510552,"creation_date":1586593320,"question_id":61153926,"body_markdown":"How can I detect the four corner points of the biggest square (at center of the image) using opencv in java\r\n\r\nI have solved this using findContours. \r\n\r\nOriginal Image\r\n\r\n[![enter image description here][1]][1]\r\n\r\nOutput Image\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nPlease find the code below. I don&#39;t now how to detect the end points of center square. I tried to detect lines using HoughLinesP but it is returning only 1 verticle line instead of giving all the 4 lines.\r\n\r\n\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\t\tSystem.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n\t\tString path = &quot;/Users/saurabhsaluja/Desktop/cimg.jpg&quot;;\r\n        Mat img = Imgcodecs.imread(path);\r\n\r\n        Mat destination = new Mat(img.rows(),img.cols(),img.type());\r\n        Core.addWeighted(img, 1.3, destination, -0.7, 0, destination);\r\n\r\n        Mat cannyOutput = new Mat();\r\n        int threshold = 15;\r\n        Mat srcGray = new Mat();\r\n        \r\n        Imgproc.cvtColor(destination, srcGray, Imgproc.COLOR_BGR2GRAY);        \r\n        Imgproc.Canny(srcGray, cannyOutput, threshold, threshold* 4);\r\n                \r\n        Mat element = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new  Size(10,10));\r\n        Mat element2 = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new  Size(10,10));\r\n\r\n        Imgproc.dilate(cannyOutput, cannyOutput, element);\r\n        Imgproc.dilate(cannyOutput, cannyOutput, element2);\r\n        \r\n        element = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new  Size(9,9));\r\n        element2 = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new  Size(9,9));\r\n\r\n        Imgproc.erode(cannyOutput, cannyOutput, element);\r\n        Imgproc.erode(cannyOutput, cannyOutput, element2);\r\n\r\n\t\tImgcodecs.imwrite(&quot;/Users/saurabhsaluja/Desktop/cannyOutput.jpg&quot;, cannyOutput); //THE IMAGE YOU ARE LOOKING AT\r\n\t\t\r\n\t\tMat lines = new Mat();\r\n\t\tImgproc.HoughLinesP(cannyOutput, lines, 1, Math.PI / 180, 50, 20, 20);\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; lines.cols(); i++) {\r\n\t\t\tdouble[] val = lines.get(0, i);\r\n\t\t\tImgproc.line(img, new Point(val[0], val[1]), new Point(val[2], val[3]), new Scalar(0, 0, 255), 2);\r\n\t\t}\r\n\t\t\r\n\t\tImgcodecs.imwrite(&quot;/Users/saurabhsaluja/Desktop/finalimg.jpg&quot;, img);\r\n\t\t\r\n\r\n\r\nSolution:\r\n\r\n        List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;(); \r\n        Imgproc.findContours(cannyOutput, contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\r\n        double inf = 0;\r\n        Rect max_rect = null;\r\n        for(int i=0; i&lt; contours.size();i++){\r\n            Rect rect = Imgproc.boundingRect(contours.get(i));\r\n            \r\n            double area = rect.area();\r\n            \r\n            if(inf &lt; area) {\r\n            \tmax_rect = rect;\r\n            \tinf = area;\r\n                //Imgcodecs.imwrite(&quot;/Users/saurabhsaluja/Desktop/input&quot;+i+&quot;.jpg&quot;, img);\r\n            }\r\n            \r\n            if(area &gt; 50000) {\r\n                System.out.println(area);\r\n                Imgproc.rectangle(img, new Point(rect.x,rect.y), new Point(rect.x+rect.width,rect.y+rect.height),new Scalar(0,0,0),5);\r\n            }\r\n        }\r\n\r\nNow just get the biggest by looking area of each counter.\r\n\r\nThanks.\r\nSolution Image:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1PmEi.jpg\r\n  [2]: https://i.stack.imgur.com/UiuHI.jpg\r\n  [3]: https://i.stack.imgur.com/zkJck.jpg","title":"Detect Biggest Rectangle in the Image using Java Opencv [SOLVED]","body":"<p>How can I detect the four corner points of the biggest square (at center of the image) using opencv in java</p>\n\n<p>I have solved this using findContours. </p>\n\n<p>Original Image</p>\n\n<p><a href=\"https://i.stack.imgur.com/1PmEi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1PmEi.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Output Image</p>\n\n<p><a href=\"https://i.stack.imgur.com/UiuHI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UiuHI.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Please find the code below. I don't now how to detect the end points of center square. I tried to detect lines using HoughLinesP but it is returning only 1 verticle line instead of giving all the 4 lines.</p>\n\n<pre><code>    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n    String path = \"/Users/saurabhsaluja/Desktop/cimg.jpg\";\n    Mat img = Imgcodecs.imread(path);\n\n    Mat destination = new Mat(img.rows(),img.cols(),img.type());\n    Core.addWeighted(img, 1.3, destination, -0.7, 0, destination);\n\n    Mat cannyOutput = new Mat();\n    int threshold = 15;\n    Mat srcGray = new Mat();\n\n    Imgproc.cvtColor(destination, srcGray, Imgproc.COLOR_BGR2GRAY);        \n    Imgproc.Canny(srcGray, cannyOutput, threshold, threshold* 4);\n\n    Mat element = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new  Size(10,10));\n    Mat element2 = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new  Size(10,10));\n\n    Imgproc.dilate(cannyOutput, cannyOutput, element);\n    Imgproc.dilate(cannyOutput, cannyOutput, element2);\n\n    element = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new  Size(9,9));\n    element2 = Imgproc.getStructuringElement(Imgproc.MORPH_RECT, new  Size(9,9));\n\n    Imgproc.erode(cannyOutput, cannyOutput, element);\n    Imgproc.erode(cannyOutput, cannyOutput, element2);\n\n    Imgcodecs.imwrite(\"/Users/saurabhsaluja/Desktop/cannyOutput.jpg\", cannyOutput); //THE IMAGE YOU ARE LOOKING AT\n\n    Mat lines = new Mat();\n    Imgproc.HoughLinesP(cannyOutput, lines, 1, Math.PI / 180, 50, 20, 20);\n\n    for(int i = 0; i &lt; lines.cols(); i++) {\n        double[] val = lines.get(0, i);\n        Imgproc.line(img, new Point(val[0], val[1]), new Point(val[2], val[3]), new Scalar(0, 0, 255), 2);\n    }\n\n    Imgcodecs.imwrite(\"/Users/saurabhsaluja/Desktop/finalimg.jpg\", img);\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>    List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;(); \n    Imgproc.findContours(cannyOutput, contours, new Mat(), Imgproc.RETR_LIST, Imgproc.CHAIN_APPROX_SIMPLE);\n    double inf = 0;\n    Rect max_rect = null;\n    for(int i=0; i&lt; contours.size();i++){\n        Rect rect = Imgproc.boundingRect(contours.get(i));\n\n        double area = rect.area();\n\n        if(inf &lt; area) {\n            max_rect = rect;\n            inf = area;\n            //Imgcodecs.imwrite(\"/Users/saurabhsaluja/Desktop/input\"+i+\".jpg\", img);\n        }\n\n        if(area &gt; 50000) {\n            System.out.println(area);\n            Imgproc.rectangle(img, new Point(rect.x,rect.y), new Point(rect.x+rect.width,rect.y+rect.height),new Scalar(0,0,0),5);\n        }\n    }\n</code></pre>\n\n<p>Now just get the biggest by looking area of each counter.</p>\n\n<p>Thanks.\nSolution Image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zkJck.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zkJck.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","android-studio","gradle","linker-errors"],"comments":[{"owner":{"account_id":9049766,"reputation":23,"user_id":6740470,"display_name":"jayu pipaliya"},"score":0,"creation_date":1661509321,"post_id":73499496,"comment_id":129794441,"body_markdown":"Having issue in generated values.xml","body":"Having issue in generated values.xml"}],"answers":[{"tags":[],"owner":{"account_id":9322747,"reputation":3516,"user_id":6921031,"display_name":"Sweta Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661510351,"creation_date":1661510351,"answer_id":73499738,"question_id":73499496,"body_markdown":"The error clearly says that it is unable to find a color resource &quot;zm_v1_black_alpha40&quot; in the XML file.\r\nPlease check if you have that resource.\r\nAnd try clean and rebuild the project.\r\nIf that doesn&#39;t solve the issue you may Invalidate cashes and restart the android studio.","title":"Having error of default values in android","body":"<p>The error clearly says that it is unable to find a color resource &quot;zm_v1_black_alpha40&quot; in the XML file.\nPlease check if you have that resource.\nAnd try clean and rebuild the project.\nIf that doesn't solve the issue you may Invalidate cashes and restart the android studio.</p>\n"}],"owner":{"account_id":9049766,"reputation":23,"user_id":6740470,"display_name":"jayu pipaliya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661510481,"creation_date":1661509245,"question_id":73499496,"body_markdown":"I have set target SDK 32 and in gradle-wraper.properties  distributionUrl version is gradle-7.4-bin.zip, in this case getting the error \r\n\r\n    build\\.transforms\\cafb50b311dc4addea1aa2a85f62b9a8\\transformed\\mobilertc\\res\\values\\values.xml: AAPT: error: resource color/zm_v1_black_alpha40 (aka com.cricket.livelineapp:color/zm_v1_black_alpha40) not found.\r\n\r\nbut when decreasing gradle-wraper.propeties version near about 6 and compilesdk 30, it&#39;s working fine but in this scenario getting an error in the integrated zoom SDK request minimum compile SDK version should be 32. ","title":"Having error of default values in android","body":"<p>I have set target SDK 32 and in gradle-wraper.properties  distributionUrl version is gradle-7.4-bin.zip, in this case getting the error</p>\n<pre><code>build\\.transforms\\cafb50b311dc4addea1aa2a85f62b9a8\\transformed\\mobilertc\\res\\values\\values.xml: AAPT: error: resource color/zm_v1_black_alpha40 (aka com.cricket.livelineapp:color/zm_v1_black_alpha40) not found.\n</code></pre>\n<p>but when decreasing gradle-wraper.propeties version near about 6 and compilesdk 30, it's working fine but in this scenario getting an error in the integrated zoom SDK request minimum compile SDK version should be 32.</p>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661499312,"creation_date":1661499312,"answer_id":73497583,"question_id":73497540,"body_markdown":"You could use a regex replacement/capture approach here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    int total = 0;\r\n    List&lt;WebElement&gt; totalFunds = driver.findElements(By.xpath(&quot;//div[@class=&#39;card-bordy&#39;]/div/div/div/div/div[2]/div/div/div[2]/div/p[2]&quot;));\r\n\r\n    for (int i=0;i &lt; totalFunds.size(); i++) {\r\n        String funds = totalFunds.get(i).getText();\r\n        String fu = funds.replaceAll(&quot;.*?(\\\\d{1,3}(?:,\\\\d{3})*).*&quot;, &quot;$1&quot;);\r\n        System.out.println(fu);\r\n    }","title":"Selenium with Java use split() method with multiple delimiters","body":"<p>You could use a regex replacement/capture approach here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int total = 0;\nList&lt;WebElement&gt; totalFunds = driver.findElements(By.xpath(&quot;//div[@class='card-bordy']/div/div/div/div/div[2]/div/div/div[2]/div/p[2]&quot;));\n\nfor (int i=0;i &lt; totalFunds.size(); i++) {\n    String funds = totalFunds.get(i).getText();\n    String fu = funds.replaceAll(&quot;.*?(\\\\d{1,3}(?:,\\\\d{3})*).*&quot;, &quot;$1&quot;);\n    System.out.println(fu);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22881048,"reputation":231,"user_id":17022635,"display_name":"siarhei987"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661510264,"creation_date":1661510264,"answer_id":73499712,"question_id":73497540,"body_markdown":"Your *xpath selector* can be simplified and made more robust with the *css selector* `By.cssSelector(&quot;.fund-size .fund-amount&quot;)`.\r\n\r\nAnd the value *₹3,460 Crs* can be converted to a number with help of `java.text.DecimalFormat` class.\r\n\r\n    List&lt;WebElement&gt; elements = driver\r\n            .findElements(By.cssSelector(&quot;.fund-size .fund-amount&quot;));\r\n    \r\n    DecimalFormat format = new DecimalFormat(&quot;₹###,### Crs&quot;);\r\n    \r\n    for (WebElement element : elements) {\r\n        Number number = format.parse(element.getText());\r\n        System.out.println(number);\r\n    }\r\n\r\nBut take in mind that `parse` method throws the `ParseExteption` exception.","title":"Selenium with Java use split() method with multiple delimiters","body":"<p>Your <em>xpath selector</em> can be simplified and made more robust with the <em>css selector</em> <code>By.cssSelector(&quot;.fund-size .fund-amount&quot;)</code>.</p>\n<p>And the value <em>₹3,460 Crs</em> can be converted to a number with help of <code>java.text.DecimalFormat</code> class.</p>\n<pre><code>List&lt;WebElement&gt; elements = driver\n        .findElements(By.cssSelector(&quot;.fund-size .fund-amount&quot;));\n\nDecimalFormat format = new DecimalFormat(&quot;₹###,### Crs&quot;);\n\nfor (WebElement element : elements) {\n    Number number = format.parse(element.getText());\n    System.out.println(number);\n}\n</code></pre>\n<p>But take in mind that <code>parse</code> method throws the <code>ParseExteption</code> exception.</p>\n"}],"owner":{"account_id":26164049,"reputation":25,"user_id":19850106,"display_name":"Codeception"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73497583,"answer_count":2,"score":2,"last_activity_date":1661510264,"creation_date":1661499033,"question_id":73497540,"body_markdown":"url - https://www.etmoney.com/mutual-funds/equity/focused/77\r\n\r\nOn the particular website I have to scape all the fund size and add all up and compare it later using Testng assertions.\r\nChallenge being that there are multiple delimiter on fund size (₹ , and space) 3 delimiters\r\n\r\nfor ex:(scraped fund size)\r\n\r\n₹110 Crs\r\n\r\n₹8,696 Crs\r\n\r\n₹3,460 Crs\r\n\r\n₹711 Crs\r\n\r\n₹5,990 Crs\r\n\r\n₹26,218 Crs\r\n\r\n₹7,907 Crs\r\n\r\n₹1,780 Crs\r\n\r\n₹956 Crs\r\n\r\n₹1,708 Crs\r\n\r\n₹1,330 Crs\r\n\r\n₹5,825 Crs\r\n\r\n₹18,712 Crs\r\n\r\nFinal output e like\r\n```\r\n110 \r\n8696\r\n3460\r\n711\r\n5990\r\n26218\r\n7907\r\n1780\r\n956 \r\n1708\r\n1330\r\n5825\r\n18712\r\n```\r\n\r\n```\r\nint total = 0;\r\n\t\tList&lt;WebElement&gt; totalFunds = driver.findElements(By.xpath(&quot;//div[@class=&#39;card-bordy&#39;]/div/div/div/div/div[2]/div/div/div[2]/div/p[2]&quot;));\r\n\r\nfor(int i=0;i&lt;totalFunds.size();i++) {\r\n\t\t\tString funds = totalFunds.get(i).getText();\r\n\t\t\tString fu = funds.split(&quot; &quot;)[0];\r\n\t\t\tSystem.out.println(fu.split(&quot;₹&quot;)[1]);\r\n```\r\n\r\nError - &quot;java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1&quot;","title":"Selenium with Java use split() method with multiple delimiters","body":"<p>url - <a href=\"https://www.etmoney.com/mutual-funds/equity/focused/77\" rel=\"nofollow noreferrer\">https://www.etmoney.com/mutual-funds/equity/focused/77</a></p>\n<p>On the particular website I have to scape all the fund size and add all up and compare it later using Testng assertions.\nChallenge being that there are multiple delimiter on fund size (₹ , and space) 3 delimiters</p>\n<p>for ex:(scraped fund size)</p>\n<p>₹110 Crs</p>\n<p>₹8,696 Crs</p>\n<p>₹3,460 Crs</p>\n<p>₹711 Crs</p>\n<p>₹5,990 Crs</p>\n<p>₹26,218 Crs</p>\n<p>₹7,907 Crs</p>\n<p>₹1,780 Crs</p>\n<p>₹956 Crs</p>\n<p>₹1,708 Crs</p>\n<p>₹1,330 Crs</p>\n<p>₹5,825 Crs</p>\n<p>₹18,712 Crs</p>\n<p>Final output e like</p>\n<pre><code>110 \n8696\n3460\n711\n5990\n26218\n7907\n1780\n956 \n1708\n1330\n5825\n18712\n</code></pre>\n<pre><code>int total = 0;\n        List&lt;WebElement&gt; totalFunds = driver.findElements(By.xpath(&quot;//div[@class='card-bordy']/div/div/div/div/div[2]/div/div/div[2]/div/p[2]&quot;));\n\nfor(int i=0;i&lt;totalFunds.size();i++) {\n            String funds = totalFunds.get(i).getText();\n            String fu = funds.split(&quot; &quot;)[0];\n            System.out.println(fu.split(&quot;₹&quot;)[1]);\n</code></pre>\n<p>Error - &quot;java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1&quot;</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"score":1,"creation_date":1544616202,"post_id":53742558,"comment_id":94337749,"body_markdown":"seems like this is due to your dependency conflicts. please post which version of `kafka-streams` and `kafka-client` do you use?","body":"seems like this is due to your dependency conflicts. please post which version of <code>kafka-streams</code> and <code>kafka-client</code> do you use?"},{"owner":{"account_id":14901603,"reputation":165,"user_id":10760266,"display_name":"R. B"},"score":0,"creation_date":1544618406,"post_id":53742558,"comment_id":94339003,"body_markdown":"kafka-streams 1.1.1","body":"kafka-streams 1.1.1"},{"owner":{"account_id":14901603,"reputation":165,"user_id":10760266,"display_name":"R. B"},"score":0,"creation_date":1544618424,"post_id":53742558,"comment_id":94339012,"body_markdown":"kafka-client 0.11.0.1","body":"kafka-client 0.11.0.1"},{"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"score":2,"creation_date":1544618500,"post_id":53742558,"comment_id":94339051,"body_markdown":"this is the problem. `kafka-streams` with version 1.1.1 expect to have `kafka-client` version  more than 1.0.0. so you need to update kafka-client  to 1.1.1","body":"this is the problem. <code>kafka-streams</code> with version 1.1.1 expect to have <code>kafka-client</code> version  more than 1.0.0. so you need to update kafka-client  to 1.1.1"}],"answers":[{"tags":[],"owner":{"account_id":2706223,"reputation":3719,"user_id":2335775,"accept_rate":100,"display_name":"Vasyl Sarzhynskyi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1544617917,"creation_date":1544617917,"answer_id":53743095,"question_id":53742558,"body_markdown":"you have conflicts between dependencies `org.apache.kafka:kafka-streams` and `org.apache.kafka:kafka-clients`.\r\naccording to your exception, you use `kafka-clients` version less than 1.0.0, but `kafka-streams` version is equal or higher than 1.0.0.\r\n\r\nmake sure that `kafka-clients` version is at least 1.0.0 (so you need to upgrade your `kafka-clients` version), otherwise you need to downgrade `kafka-streams` version.","title":"Receiving exception when trying to run simple Kafka Stream App","body":"<p>you have conflicts between dependencies <code>org.apache.kafka:kafka-streams</code> and <code>org.apache.kafka:kafka-clients</code>.\naccording to your exception, you use <code>kafka-clients</code> version less than 1.0.0, but <code>kafka-streams</code> version is equal or higher than 1.0.0.</p>\n\n<p>make sure that <code>kafka-clients</code> version is at least 1.0.0 (so you need to upgrade your <code>kafka-clients</code> version), otherwise you need to downgrade <code>kafka-streams</code> version.</p>\n"},{"tags":[],"owner":{"account_id":5945227,"reputation":61,"user_id":4674932,"display_name":"Sashikant Prasad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580296398,"creation_date":1580296398,"answer_id":59965842,"question_id":53742558,"body_markdown":"Required jars should be in class path. Hope below can help you.\r\n\r\n    C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\bin\\windows\\kafka-run-class.bat -cp  C:\\PROJECT\\KafkaDemos\\target\\classes;C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\libs\\kafka_2.11-2.4.0.jar;C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\libs\\kafka-clients-2.4.0.jar;C:\\PROJECT\\E\r\n    NVIRONMENT\\KAFKA_2_11\\libs\\kafka-streams-2.4.0.jar;C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\libs\\kafka-clients-2.4.0.jar;C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\libs\\slf4j-api-1.7.28.jar;C:\\PROJECT\\ENVIRONMENT\\ExtraJars\\apache-logging-log4j.jar;C:\\PROJECT\\ENVIRONMENT\\ExtraJars\\\r\n    rocksdbjni-6.5.3.jar; demo.wordcount.WordCount\r\n\r\n","title":"Receiving exception when trying to run simple Kafka Stream App","body":"<p>Required jars should be in class path. Hope below can help you.</p>\n\n<pre><code>C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\bin\\windows\\kafka-run-class.bat -cp  C:\\PROJECT\\KafkaDemos\\target\\classes;C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\libs\\kafka_2.11-2.4.0.jar;C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\libs\\kafka-clients-2.4.0.jar;C:\\PROJECT\\E\nNVIRONMENT\\KAFKA_2_11\\libs\\kafka-streams-2.4.0.jar;C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\libs\\kafka-clients-2.4.0.jar;C:\\PROJECT\\ENVIRONMENT\\KAFKA_2_11\\libs\\slf4j-api-1.7.28.jar;C:\\PROJECT\\ENVIRONMENT\\ExtraJars\\apache-logging-log4j.jar;C:\\PROJECT\\ENVIRONMENT\\ExtraJars\\\nrocksdbjni-6.5.3.jar; demo.wordcount.WordCount\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6780685,"reputation":445,"user_id":5255911,"display_name":"MaduKan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661510179,"creation_date":1661510179,"answer_id":73499695,"question_id":53742558,"body_markdown":"Its strange why the kafka-stream required separately. I thought it was included in the ksqldb. However following is what fixed the issue for me. Please shout if this isn&#39;t correct!\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.confluent.ksql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ksqldb-api-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.27.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n","title":"Receiving exception when trying to run simple Kafka Stream App","body":"<p>Its strange why the kafka-stream required separately. I thought it was included in the ksqldb. However following is what fixed the issue for me. Please shout if this isn't correct!</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.confluent.ksql&lt;/groupId&gt;\n        &lt;artifactId&gt;ksqldb-api-client&lt;/artifactId&gt;\n        &lt;version&gt;0.27.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n        &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14901603,"reputation":165,"user_id":10760266,"display_name":"R. B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6951,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53743095,"answer_count":3,"score":0,"last_activity_date":1661510179,"creation_date":1544615948,"question_id":53742558,"body_markdown":"I have been trying to run a simple wordcount application using Kafka however whenever I run it, I get the following error: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/kafka/common/utils/LogContext\r\n\t    at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:630)\r\n\t    at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:610)\r\n\t    at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:557)\r\n\t    at StreamsApp.main(StreamsApp.java:49)\r\n\t    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.kafka.common.utils.LogContext\r\n\t    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n\t    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\t    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t\r\nI am not sure why I keep getting this error... \r\nThe code for the main method is listed below. \r\n(Line 49)   KafkaStreams streams = new KafkaStreams(topology, props);\r\n\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n\r\n        Properties props = new Properties();\r\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, &quot;wordcount-application&quot;);\r\n        props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:9092&quot;);\r\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        // props.put(StreamsConfig.STATE_DIR_CONFIG, TestUtils.tempDirectory().getAbsolutePath());\r\n\r\n        StreamsBuilder builder = new StreamsBuilder();\r\n        KStream&lt;String, String&gt; textLines = builder.stream(&quot;inputTopic&quot;);\r\n        final Pattern pattern = Pattern.compile(&quot;\\\\W+&quot;, Pattern.UNICODE_CHARACTER_CLASS);\r\n\r\n        KTable&lt;String, Long&gt; wordCounts = textLines\r\n                .flatMapValues(value -&gt; Arrays.asList(pattern.split(value.toLowerCase())))\r\n                .groupBy((key, word) -&gt; word)\r\n                .count();\r\n\r\n        wordCounts\r\n                .foreach((w, c) -&gt; System.out.println(&quot;word: &quot; + w + &quot; -&gt; &quot; + c));\r\n\r\n\r\n        String outputTopic = &quot;outputTopic&quot;;\r\n        Serde&lt;String&gt; stringSerde = Serdes.String();\r\n        Serde&lt;Long&gt; longSerde = Serdes.Long();\r\n        wordCounts.to(stringSerde, longSerde, outputTopic);\r\n\r\n        Topology topology = builder.build();\r\n\r\n        KafkaStreams streams = new KafkaStreams(topology, props);\r\n        streams.start();\r\n\r\n        Thread.sleep(30000);\r\n        streams.close();\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Receiving exception when trying to run simple Kafka Stream App","body":"<p>I have been trying to run a simple wordcount application using Kafka however whenever I run it, I get the following error: </p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/kafka/common/utils/LogContext\n    at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:630)\n    at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:610)\n    at org.apache.kafka.streams.KafkaStreams.&lt;init&gt;(KafkaStreams.java:557)\n    at StreamsApp.main(StreamsApp.java:49)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\nCaused by: java.lang.ClassNotFoundException: org.apache.kafka.common.utils.LogContext\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n</code></pre>\n\n<p>I am not sure why I keep getting this error... \nThe code for the main method is listed below. \n(Line 49)   KafkaStreams streams = new KafkaStreams(topology, props);</p>\n\n<pre><code>public static void main(final String[] args) throws Exception {\n\n    Properties props = new Properties();\n    props.put(StreamsConfig.APPLICATION_ID_CONFIG, \"wordcount-application\");\n    props.put(StreamsConfig.BOOTSTRAP_SERVERS_CONFIG, \"localhost:9092\");\n    props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n    props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n    props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n    // props.put(StreamsConfig.STATE_DIR_CONFIG, TestUtils.tempDirectory().getAbsolutePath());\n\n    StreamsBuilder builder = new StreamsBuilder();\n    KStream&lt;String, String&gt; textLines = builder.stream(\"inputTopic\");\n    final Pattern pattern = Pattern.compile(\"\\\\W+\", Pattern.UNICODE_CHARACTER_CLASS);\n\n    KTable&lt;String, Long&gt; wordCounts = textLines\n            .flatMapValues(value -&gt; Arrays.asList(pattern.split(value.toLowerCase())))\n            .groupBy((key, word) -&gt; word)\n            .count();\n\n    wordCounts\n            .foreach((w, c) -&gt; System.out.println(\"word: \" + w + \" -&gt; \" + c));\n\n\n    String outputTopic = \"outputTopic\";\n    Serde&lt;String&gt; stringSerde = Serdes.String();\n    Serde&lt;Long&gt; longSerde = Serdes.Long();\n    wordCounts.to(stringSerde, longSerde, outputTopic);\n\n    Topology topology = builder.build();\n\n    KafkaStreams streams = new KafkaStreams(topology, props);\n    streams.start();\n\n    Thread.sleep(30000);\n    streams.close();\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring","hibernate","transactions"],"comments":[{"owner":{"account_id":9412832,"reputation":41,"user_id":7001334,"display_name":"nagaraju"},"score":0,"creation_date":1477471445,"post_id":40242156,"comment_id":67776344,"body_markdown":"please let me know how to slove this issue @Jerin Joseph","body":"please let me know how to slove this issue @Jerin Joseph"}],"answers":[{"tags":[],"owner":{"account_id":9412832,"reputation":41,"user_id":7001334,"display_name":"nagaraju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661509756,"creation_date":1477500430,"answer_id":40267928,"question_id":40242156,"body_markdown":"I resolved error by using the following annotation on top of my DAO class:\r\n\r\n```java\r\n@Transactional(propagation=Propagation.REQUIRED, re‌​adOnly=false)\r\n```","title":"nested exception is java.lang.IllegalStateException: No value for key bound to thread [http-bio-2016-exec-6]","body":"<p>I resolved error by using the following annotation on top of my DAO class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(propagation=Propagation.REQUIRED, re‌​adOnly=false)\n</code></pre>\n"}],"owner":{"account_id":9412832,"reputation":41,"user_id":7001334,"display_name":"nagaraju"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661509756,"creation_date":1477404237,"question_id":40242156,"body_markdown":"    Already value [org.springframework.orm.hibernate5.SessionHolder@485d518f] for key [org.hibernate.internal.SessionFactoryImpl@29375882] bound to thread [http-bio-2016-exec-6]\r\n    No value for key [org.hibernate.internal.SessionFactoryImpl@29375882] bound to thread [http-bio-2016-exec-6]\r\n\r\n\r\n**Entity**\r\n\r\n\t@Entity\r\n\t@Table(name = &quot;register&quot;)\r\n    \r\n\tpublic class Register{\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\r\n\t@Column(name = &quot;uname&quot;)\r\n\t@Size(min = 4, max = 10)\r\n\tprivate String uname;\r\n\r\n\t@Column(name = &quot;password&quot;)\r\n\t@Size(min = 4, max = 8)\r\n\tprivate String password;\r\n\r\n\t@Column(name = &quot;email&quot;)\r\n\t@NotEmpty\r\n\t@Email\r\n\tprivate String email;\r\n\r\n\t@Column(name = &quot;age&quot;)\r\n\t@NotNull\r\n\t@Min(10)\r\n\t@Max(40)\r\n\tprivate String age;\r\n\r\n\t@Column(name = &quot;dob&quot;)\r\n\t@NotNull\r\n\t@Past\r\n\tprivate String dob;\r\n\r\n\t@Column(name = &quot;country&quot;)\r\n\t@NotEmpty\r\n\tprivate String country;\r\n\r\n\t// setters and getters\r\n\r\n\tpublic String getUname() {\r\n\t\tSystem.out.println(&quot;control is in getUname method&quot;);\r\n\t\treturn uname;\r\n\t}\r\n\r\n\tpublic void setUname(String uname) {\r\n\t\tSystem.out.println(&quot;control is in getUname method&quot;);\r\n\r\n\t\tthis.uname = uname;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tSystem.out.println(&quot;control is in getPassword&quot;);\r\n\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getAge() {\r\n\t\treturn age;\r\n\t}\r\n\r\n\tpublic void setAge(String age) {\r\n\t\tSystem.out.println(&quot;control is in setAge method&quot;);\r\n\r\n\t\tthis.age = age;\r\n\t}\r\n\r\n\tpublic String getCountry() {\r\n\t\treturn country;\r\n\t}\r\n\r\n\tpublic void setCountry(String country) {\r\n\t\tthis.country = country;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getDob() {\r\n\t\treturn dob;\r\n\t}\r\n\r\n\tpublic void setDob(String dob) {\r\n\t\tthis.dob = dob;\r\n\t}\r\n\r\n**Context XML**\r\n\r\n    &lt;context:component-scan base-package=&quot;com.spring&quot; /&gt;\r\n\t&lt;tx:annotation-driven /&gt;\r\n\r\n\t&lt;context:annotation-config /&gt;\r\n\r\n\t&lt;mvc:annotation-driven /&gt;\r\n\r\n\t&lt;bean id=&quot;viewResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/usersdb&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;root&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;90141139&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;&gt;&lt;/property&gt;\r\n\t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;com.spring.model.Register&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;jdbc.fetch_size&quot;&gt;20&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;jdbc.batch_size&quot;&gt;25&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;connection.autoReconnect&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;connection.autoReconnectForPools&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;template&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTemplate&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t&lt;bean id=&quot;transactionManager&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;&gt;\r\n\t\t&lt;property name=&quot;sessionFactory&quot; ref=&quot;sessionFactory&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n&lt;/beans&gt;","title":"nested exception is java.lang.IllegalStateException: No value for key bound to thread [http-bio-2016-exec-6]","body":"<pre><code>Already value [org.springframework.orm.hibernate5.SessionHolder@485d518f] for key [org.hibernate.internal.SessionFactoryImpl@29375882] bound to thread [http-bio-2016-exec-6]\nNo value for key [org.hibernate.internal.SessionFactoryImpl@29375882] bound to thread [http-bio-2016-exec-6]\n</code></pre>\n\n<p><strong>Entity</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"register\")\n\npublic class Register{\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n\n@Column(name = \"uname\")\n@Size(min = 4, max = 10)\nprivate String uname;\n\n@Column(name = \"password\")\n@Size(min = 4, max = 8)\nprivate String password;\n\n@Column(name = \"email\")\n@NotEmpty\n@Email\nprivate String email;\n\n@Column(name = \"age\")\n@NotNull\n@Min(10)\n@Max(40)\nprivate String age;\n\n@Column(name = \"dob\")\n@NotNull\n@Past\nprivate String dob;\n\n@Column(name = \"country\")\n@NotEmpty\nprivate String country;\n\n// setters and getters\n\npublic String getUname() {\n    System.out.println(\"control is in getUname method\");\n    return uname;\n}\n\npublic void setUname(String uname) {\n    System.out.println(\"control is in getUname method\");\n\n    this.uname = uname;\n}\n\npublic String getEmail() {\n\n    return email;\n}\n\npublic void setEmail(String email) {\n    System.out.println(\"control is in getPassword\");\n\n    this.email = email;\n}\n\npublic String getAge() {\n    return age;\n}\n\npublic void setAge(String age) {\n    System.out.println(\"control is in setAge method\");\n\n    this.age = age;\n}\n\npublic String getCountry() {\n    return country;\n}\n\npublic void setCountry(String country) {\n    this.country = country;\n}\n\npublic String getPassword() {\n    return password;\n}\n\npublic void setPassword(String password) {\n    this.password = password;\n}\n\npublic String getDob() {\n    return dob;\n}\n\npublic void setDob(String dob) {\n    this.dob = dob;\n}\n</code></pre>\n\n<p><strong>Context XML</strong></p>\n\n<pre><code>&lt;context:component-scan base-package=\"com.spring\" /&gt;\n&lt;tx:annotation-driven /&gt;\n\n&lt;context:annotation-config /&gt;\n\n&lt;mvc:annotation-driven /&gt;\n\n&lt;bean id=\"viewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"prefix\" value=\"/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"com.mysql.jdbc.Driver\" /&gt;\n    &lt;property name=\"url\" value=\"jdbc:mysql://localhost:3306/usersdb\" /&gt;\n    &lt;property name=\"username\" value=\"root\" /&gt;\n    &lt;property name=\"password\" value=\"90141139\" /&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"&gt;&lt;/property&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.spring.model.Register&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"jdbc.fetch_size\"&gt;20&lt;/prop&gt;\n            &lt;prop key=\"jdbc.batch_size\"&gt;25&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"connection.autoReconnect\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"connection.autoReconnectForPools\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n\n&lt;/bean&gt;\n\n&lt;bean id=\"template\" class=\"org.springframework.orm.hibernate5.HibernateTemplate\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n&lt;bean id=\"transactionManager\"\n    class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\"&gt;\n    &lt;property name=\"sessionFactory\" ref=\"sessionFactory\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","android","kotlin","gson"],"comments":[{"owner":{"account_id":14722107,"reputation":5143,"user_id":10632369,"display_name":"tomerpacific"},"score":0,"creation_date":1661430002,"post_id":73487336,"comment_id":129773751,"body_markdown":"Add the code to show the API call you are making to get the JSON and what you are doing there.","body":"Add the code to show the API call you are making to get the JSON and what you are doing there."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1661434411,"post_id":73487336,"comment_id":129775539,"body_markdown":"This needs just basic List/Map manipulation, see https://kotlinlang.org/docs/collection-grouping.html","body":"This needs just basic List/Map manipulation, see <a href=\"https://kotlinlang.org/docs/collection-grouping.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/collection-grouping.html</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1661469569,"post_id":73487336,"comment_id":129786458,"body_markdown":"Could you please clarify what you want to achieve? Are you looking for code which supports both the old and the new JSON format at the same time (in that case [this question](https://stackoverflow.com/q/46568964) and similar ones might help)? Are you looking for conversion from the old JSON format to the new JSON format?","body":"Could you please clarify what you want to achieve? Are you looking for code which supports both the old and the new JSON format at the same time (in that case <a href=\"https://stackoverflow.com/q/46568964\">this question</a> and similar ones might help)? Are you looking for conversion from the old JSON format to the new JSON format?"}],"answers":[{"tags":[],"owner":{"account_id":4158911,"reputation":339,"user_id":3409417,"display_name":"litao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661509535,"creation_date":1661509535,"answer_id":73499556,"question_id":73487336,"body_markdown":"use @JsonAdapter annotation override write and read","title":"Grouping Gson response in Kotlin","body":"<p>use @JsonAdapter annotation override write and read</p>\n"}],"owner":{"account_id":3884646,"reputation":2581,"user_id":3216348,"accept_rate":27,"display_name":"Amay Diam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661509535,"creation_date":1661429704,"question_id":73487336,"body_markdown":"i want to Grouping Gson response to new model in kotlin. I have existing json like this:\r\n\r\n    {\r\n      &quot;content&quot;: {\r\n        &quot;data&quot;: [\r\n          {\r\n            &quot;Group&quot;: &quot;Data 1&quot;,\r\n            &quot;Message&quot;: &quot;HDKSSHSI&quot;\r\n          },\r\n          {\r\n            &quot;Group&quot;: &quot;Data 1&quot;,\r\n            &quot;Message&quot;: &quot;EIEENC&quot;\r\n          },\r\n          {\r\n            &quot;Group&quot;: &quot;Data 2&quot;,\r\n            &quot;Message&quot;: &quot;CBOXDLX&quot;\r\n          },\r\n          {\r\n            &quot;Group&quot;: &quot;Data 3&quot;,\r\n            &quot;Message&quot;: &quot;6999d&quot;\r\n          },\r\n          {\r\n            &quot;Group&quot;: &quot;Data 3&quot;,\r\n            &quot;Message&quot;: &quot;DKDD&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nwith gson model:\r\n\r\n      data class MyModel(\r\n      @SerializedName(&quot;content&quot; ) var content : Content? = Content()\r\n    )\r\n    \r\n    data class Content (\r\n      @SerializedName(&quot;data&quot; ) var data : ArrayList&lt;Data&gt; = arrayListOf()\r\n    )\r\n    \r\n    data class Data (\r\n      @SerializedName(&quot;Group&quot;   ) var Group   : String? = null,\r\n      @SerializedName(&quot;Message&quot; ) var Message : String? = null\r\n    )\r\n\r\nNow I want to grouping with new model, and looks new json format like this:\r\n\r\n    {\r\n      &quot;content&quot;: {\r\n        &quot;data&quot;: [\r\n          {\r\n            &quot;Group&quot;: &quot;Data 1&quot;,\r\n            &quot;Message&quot;: [\r\n              &quot;HDKSSHSI&quot;,\r\n              &quot;EIEENC&quot;\r\n            ]\r\n          },\r\n          {\r\n            &quot;Group&quot;: &quot;Data 2&quot;,\r\n            &quot;Message&quot;: [\r\n              &quot;CBOXDLX&quot;\r\n            ]\r\n          },\r\n          {\r\n            &quot;Group&quot;: &quot;Data 3&quot;,\r\n            &quot;Message&quot;: [\r\n              &quot;6999d&quot;,\r\n              &quot;DKDD&quot;\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nwith new model gson\r\n\r\n    data class ExampleJson2KtKotlin (\r\n      @SerializedName(&quot;content&quot; ) var content : Content? = Content()\r\n    )\r\n    data class Content (\r\n      @SerializedName(&quot;data&quot; ) var data : ArrayList&lt;Data&gt; = arrayListOf()\r\n    )\r\n    data class Data (\r\n      @SerializedName(&quot;Group&quot;   ) var Group   : String?           = null,\r\n      @SerializedName(&quot;Message&quot; ) var Message : ArrayList&lt;String&gt; = arrayListOf()\r\n    )\r\n\r\nso how to make it? thanks. sorry for my english","title":"Grouping Gson response in Kotlin","body":"<p>i want to Grouping Gson response to new model in kotlin. I have existing json like this:</p>\n<pre><code>{\n  &quot;content&quot;: {\n    &quot;data&quot;: [\n      {\n        &quot;Group&quot;: &quot;Data 1&quot;,\n        &quot;Message&quot;: &quot;HDKSSHSI&quot;\n      },\n      {\n        &quot;Group&quot;: &quot;Data 1&quot;,\n        &quot;Message&quot;: &quot;EIEENC&quot;\n      },\n      {\n        &quot;Group&quot;: &quot;Data 2&quot;,\n        &quot;Message&quot;: &quot;CBOXDLX&quot;\n      },\n      {\n        &quot;Group&quot;: &quot;Data 3&quot;,\n        &quot;Message&quot;: &quot;6999d&quot;\n      },\n      {\n        &quot;Group&quot;: &quot;Data 3&quot;,\n        &quot;Message&quot;: &quot;DKDD&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>with gson model:</p>\n<pre><code>  data class MyModel(\n  @SerializedName(&quot;content&quot; ) var content : Content? = Content()\n)\n\ndata class Content (\n  @SerializedName(&quot;data&quot; ) var data : ArrayList&lt;Data&gt; = arrayListOf()\n)\n\ndata class Data (\n  @SerializedName(&quot;Group&quot;   ) var Group   : String? = null,\n  @SerializedName(&quot;Message&quot; ) var Message : String? = null\n)\n</code></pre>\n<p>Now I want to grouping with new model, and looks new json format like this:</p>\n<pre><code>{\n  &quot;content&quot;: {\n    &quot;data&quot;: [\n      {\n        &quot;Group&quot;: &quot;Data 1&quot;,\n        &quot;Message&quot;: [\n          &quot;HDKSSHSI&quot;,\n          &quot;EIEENC&quot;\n        ]\n      },\n      {\n        &quot;Group&quot;: &quot;Data 2&quot;,\n        &quot;Message&quot;: [\n          &quot;CBOXDLX&quot;\n        ]\n      },\n      {\n        &quot;Group&quot;: &quot;Data 3&quot;,\n        &quot;Message&quot;: [\n          &quot;6999d&quot;,\n          &quot;DKDD&quot;\n        ]\n      }\n    ]\n  }\n}\n</code></pre>\n<p>with new model gson</p>\n<pre><code>data class ExampleJson2KtKotlin (\n  @SerializedName(&quot;content&quot; ) var content : Content? = Content()\n)\ndata class Content (\n  @SerializedName(&quot;data&quot; ) var data : ArrayList&lt;Data&gt; = arrayListOf()\n)\ndata class Data (\n  @SerializedName(&quot;Group&quot;   ) var Group   : String?           = null,\n  @SerializedName(&quot;Message&quot; ) var Message : ArrayList&lt;String&gt; = arrayListOf()\n)\n</code></pre>\n<p>so how to make it? thanks. sorry for my english</p>\n"},{"tags":["java","hash","hashcode"],"comments":[{"owner":{"account_id":877405,"reputation":6423,"user_id":103605,"accept_rate":60,"display_name":"rapha&#235;λ"},"score":0,"creation_date":1430729694,"post_id":30026097,"comment_id":48169203,"body_markdown":"ref your concern: You might want to look into automatic testing the equals/hashcode contract using https://github.com/jqno/equalsverifier","body":"ref your concern: You might want to look into automatic testing the equals/hashcode contract using <a href=\"https://github.com/jqno/equalsverifier\" rel=\"nofollow noreferrer\">github.com/jqno/equalsverifier</a>"},{"owner":{"account_id":3415784,"reputation":60457,"user_id":2864740,"accept_rate":78,"display_name":"user2864740"},"score":0,"creation_date":1430729702,"post_id":30026097,"comment_id":48169208,"body_markdown":"A simple way to make the code *conforming* to the Object specification is to return the same constant value from hashCode. This is not ideal (ie. bad collisions if ever used as a hash), but it will never &#39;fail&#39; because the contract is upheld..","body":"A simple way to make the code <i>conforming</i> to the Object specification is to return the same constant value from hashCode. This is not ideal (ie. bad collisions if ever used as a hash), but it will never &#39;fail&#39; because the contract is upheld.."}],"answers":[{"tags":[],"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430730261,"creation_date":1430729563,"answer_id":30026120,"question_id":30026097,"body_markdown":"*Can I only implement equals() but not hashCode()?*\r\n\r\nYes You can . Because they are just to method from the parent class `Object`, So it actually your choice to implement or not to (together or individual.) \r\n\r\n`All Java bibles say these two MUST be implemented together.`   \r\n  \r\nIf you are not using anything related to `hashcode`(as you said hash based container) it not a `MUST`, But it is a good practice to implement them together to avoid any unexpected circumstances.","title":"equals() without hashCode()","body":"<p><em>Can I only implement equals() but not hashCode()?</em></p>\n\n<p>Yes You can . Because they are just to method from the parent class <code>Object</code>, So it actually your choice to implement or not to (together or individual.) </p>\n\n<p><code>All Java bibles say these two MUST be implemented together.</code>   </p>\n\n<p>If you are not using anything related to <code>hashcode</code>(as you said hash based container) it not a <code>MUST</code>, But it is a good practice to implement them together to avoid any unexpected circumstances.</p>\n"},{"tags":[],"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430729603,"creation_date":1430729603,"answer_id":30026128,"question_id":30026097,"body_markdown":"Yes, you can, but is it recommended ? no\r\n\r\nWhat all books say, is that if equals returns true, the hashcodes MUST be identical, which will be so. But, it is best to specify it further, for your own instances, just like you do with equals.","title":"equals() without hashCode()","body":"<p>Yes, you can, but is it recommended ? no</p>\n\n<p>What all books say, is that if equals returns true, the hashcodes MUST be identical, which will be so. But, it is best to specify it further, for your own instances, just like you do with equals.</p>\n"},{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1430729728,"creation_date":1430729728,"answer_id":30026159,"question_id":30026097,"body_markdown":"As long as is not mandatory to implement hashCode, **whenever you implement equals, you MUST also implement hashCode**\r\n&gt;If you fail to do so, you will end up with broken objects. Why? An object’s hashCode method must take the same fields into account as its equals method. By overriding the equals method, you’re declaring some objects as equal to other objects, but the original hashCode method treats all objects as different. So you will have equal objects with different hash codes. For example, calling contains() on a HashMap will return false, even though the object has been added.\r\n","title":"equals() without hashCode()","body":"<p>As long as is not mandatory to implement hashCode, <strong>whenever you implement equals, you MUST also implement hashCode</strong></p>\n\n<blockquote>\n  <p>If you fail to do so, you will end up with broken objects. Why? An object’s hashCode method must take the same fields into account as its equals method. By overriding the equals method, you’re declaring some objects as equal to other objects, but the original hashCode method treats all objects as different. So you will have equal objects with different hash codes. For example, calling contains() on a HashMap will return false, even though the object has been added.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5270923,"reputation":425,"user_id":4209197,"display_name":"Dipen Adroja"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661509213,"creation_date":1430729735,"answer_id":30026161,"question_id":30026097,"body_markdown":"Technically, yes, you can only implement equals() method without implementing hashcode() method.\r\n\r\nBut that would be a [breach of contract](https://www.baeldung.com/java-equals-hashcode-contracts#2-equals-contract).\r\n\r\nThe standard practice says that you should implement both of them and for the equal object the hashcode should be the same.\r\n\r\n","title":"equals() without hashCode()","body":"<p>Technically, yes, you can only implement equals() method without implementing hashcode() method.</p>\n<p>But that would be a <a href=\"https://www.baeldung.com/java-equals-hashcode-contracts#2-equals-contract\" rel=\"nofollow noreferrer\">breach of contract</a>.</p>\n<p>The standard practice says that you should implement both of them and for the equal object the hashcode should be the same.</p>\n"},{"tags":[],"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1661509472,"creation_date":1430729793,"answer_id":30026179,"question_id":30026097,"body_markdown":"You can, but you&#39;ll be breaking the [general contract](https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()) of `equals`:\r\n\r\n&gt; If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.\r\n\r\n\r\n... and this will lead to weird bugs. Even if you don&#39;t think you&#39;re using the hash codes, any external code you pass the objects to might rely on them, even if it doesn&#39;t seem to be hash-based. If you&#39;re not going to give your objects a decent hash method, at least make it throw a runtime exception. It&#39;s almost always better to give your objects a decent hashCode, though.","title":"equals() without hashCode()","body":"<p>You can, but you'll be breaking the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html#hashCode()\" rel=\"nofollow noreferrer\">general contract</a> of <code>equals</code>:</p>\n<blockquote>\n<p>If two objects are equal according to the equals(Object) method, then calling the hashCode method on each of the two objects must produce the same integer result.</p>\n</blockquote>\n<p>... and this will lead to weird bugs. Even if you don't think you're using the hash codes, any external code you pass the objects to might rely on them, even if it doesn't seem to be hash-based. If you're not going to give your objects a decent hash method, at least make it throw a runtime exception. It's almost always better to give your objects a decent hashCode, though.</p>\n"},{"tags":[],"owner":{"account_id":6189920,"reputation":2014,"user_id":4822884,"accept_rate":60,"display_name":"francesco foresti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430730134,"creation_date":1430730134,"answer_id":30026264,"question_id":30026097,"body_markdown":"Well, obviously You can, but the fact that You don&#39;t plan to use hashing is not a sufficient reason not to implement it. Some of the libraries You use could make use of hashing. If you want to avoid testing equals or hashcode, You could try auto-generating those methods (most IDEs have that feature), or use project lombok (https://projectlombok.org)","title":"equals() without hashCode()","body":"<p>Well, obviously You can, but the fact that You don't plan to use hashing is not a sufficient reason not to implement it. Some of the libraries You use could make use of hashing. If you want to avoid testing equals or hashcode, You could try auto-generating those methods (most IDEs have that feature), or use project lombok (<a href=\"https://projectlombok.org\" rel=\"nofollow\">https://projectlombok.org</a>)</p>\n"},{"tags":[],"owner":{"account_id":1311305,"reputation":463,"user_id":1259257,"display_name":"mshohayeb"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497307775,"creation_date":1497307775,"answer_id":44509836,"question_id":30026097,"body_markdown":"Oracle&#39;s tutorial [answers][1] this\r\n\r\n&gt; **The hashCode() Method**\r\n\r\n\r\n&gt; By definition, if two objects are equal, their hash code must also be equal. If you override the equals() method, you change the way two objects are equated and Object&#39;s implementation of hashCode() is no longer valid. Therefore, if you override the equals() method, you must also override the hashCode() method as well.\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/IandI/objectclass.html","title":"equals() without hashCode()","body":"<p>Oracle's tutorial <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/objectclass.html\" rel=\"noreferrer\">answers</a> this</p>\n\n<blockquote>\n  <p><strong>The hashCode() Method</strong></p>\n  \n  <p>By definition, if two objects are equal, their hash code must also be equal. If you override the equals() method, you change the way two objects are equated and Object's implementation of hashCode() is no longer valid. Therefore, if you override the equals() method, you must also override the hashCode() method as well.</p>\n</blockquote>\n"}],"owner":{"account_id":5263154,"reputation":103,"user_id":4204069,"display_name":"twu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9013,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":30026179,"answer_count":7,"score":7,"last_activity_date":1661509472,"creation_date":1430729468,"question_id":30026097,"body_markdown":"Can I only implement equals() but not hashCode() if I only need to compare objects and not yet plan to put the objects into any hash based containers? \r\n\r\nSeems all Java bibles say these two MUST be implemented together. :(\r\n\r\nMy concerns:\r\n-If I always implement hashCode() together with equals() there will be lots of code not really used, and without unit test covering. (I&#39;m not going to unit test hashCode() if not used)\r\n-It&#39;s only until when I put the object into a hash based container I know how the objects are intended to be looked up. And only until then I can be sure which hashing strategy to use.","title":"equals() without hashCode()","body":"<p>Can I only implement equals() but not hashCode() if I only need to compare objects and not yet plan to put the objects into any hash based containers? </p>\n\n<p>Seems all Java bibles say these two MUST be implemented together. :(</p>\n\n<p>My concerns:\n-If I always implement hashCode() together with equals() there will be lots of code not really used, and without unit test covering. (I'm not going to unit test hashCode() if not used)\n-It's only until when I put the object into a hash based container I know how the objects are intended to be looked up. And only until then I can be sure which hashing strategy to use.</p>\n"},{"tags":["java","sql","jdbc","sql-injection"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1661244650,"post_id":73455600,"comment_id":129719352,"body_markdown":"&quot;I know method prepareStatement.setString() can avoid attack,but number of fields is uncertain before verification.&quot; &lt;- it just 4 different cases in your example not hundreds of combinations. Checking which passed values are null and preparing 3 different prepared statements and then setting the parameter with the appropriate method really isn&#39;t much code or hassle.","body":"&quot;I know method prepareStatement.setString() can avoid attack,but number of fields is uncertain before verification.&quot; &lt;- it just 4 different cases in your example not hundreds of combinations. Checking which passed values are null and preparing 3 different prepared statements and then setting the parameter with the appropriate method really isn&#39;t much code or hassle."},{"owner":{"account_id":10312719,"reputation":6453,"user_id":7607970,"display_name":"Psi"},"score":0,"creation_date":1661244687,"post_id":73455600,"comment_id":129719362,"body_markdown":"if the fields are maybe empty but are known at compile time, you can add all of them to your query and test for „input = column or input is missing“","body":"if the fields are maybe empty but are known at compile time, you can add all of them to your query and test for „input = column or input is missing“"},{"owner":{"account_id":107389,"reputation":157559,"user_id":285587,"accept_rate":61,"display_name":"Your Common Sense"},"score":0,"creation_date":1661244990,"post_id":73455600,"comment_id":129719488,"body_markdown":"[This is for PHP](https://phpdelusions.net/pdo_examples/dynamical_where) but you can get the idea. Collect parameters into array and then loop over this array doing smth like pst.setStr(i,param); Also there is an SQL based solution but you have to send each parameter twice","body":"<a href=\"https://phpdelusions.net/pdo_examples/dynamical_where\" rel=\"nofollow noreferrer\">This is for PHP</a> but you can get the idea. Collect parameters into array and then loop over this array doing smth like pst.setStr(i,param); Also there is an SQL based solution but you have to send each parameter twice"}],"answers":[{"tags":[],"owner":{"account_id":1635690,"reputation":150047,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661246305,"creation_date":1661245973,"answer_id":73456026,"question_id":73455600,"body_markdown":"You do not need dynamic SQL and can use bind variables in the query:\r\n\r\n``` java\r\nString query = &quot;select * from business where businessName LIKE &#39;%&#39; || ? || &#39;%&#39; AND businessAddress LIKE &#39;%&#39; || ? || &#39;%&#39;&quot;;\r\n```\r\n\r\n*(Assuming `||` is the string concatenation operator for your SQL dialect.)*\r\n\r\nAnd then use a prepared statement and bind `businessName` and `businessAddress` to the variables.\r\n\r\n``` java\r\nPreparedStatement st = con.prepareStatement(query);\r\nst.setString(1,businessName);\r\nst.setString(2,businessAddress);\r\nResultSet rs = st.executeQuery();\r\n```\r\n\r\n*(Add exception handling.)*\r\n\r\n---\r\n\r\nOr, if your SQL dialect requires you to handle `NULL` separately from the `LIKE` then :\r\n\r\n``` java\r\nString query = &quot;select * from business\r\n                where (:name IS NULL OR businessName LIKE &#39;%&#39; || :name || &#39;%&#39;)\r\n                AND   (:addr IS NULL OR businessAddress LIKE &#39;%&#39; || :addr || &#39;%&#39;)&quot;;\r\n```\r\n\r\nand use named bind variables `:name` and `:addr` (or use `?` pass the values twice).","title":"How can I modify the code to avoid SQL-injection attack?","body":"<p>You do not need dynamic SQL and can use bind variables in the query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;select * from business where businessName LIKE '%' || ? || '%' AND businessAddress LIKE '%' || ? || '%'&quot;;\n</code></pre>\n<p><em>(Assuming <code>||</code> is the string concatenation operator for your SQL dialect.)</em></p>\n<p>And then use a prepared statement and bind <code>businessName</code> and <code>businessAddress</code> to the variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>PreparedStatement st = con.prepareStatement(query);\nst.setString(1,businessName);\nst.setString(2,businessAddress);\nResultSet rs = st.executeQuery();\n</code></pre>\n<p><em>(Add exception handling.)</em></p>\n<hr />\n<p>Or, if your SQL dialect requires you to handle <code>NULL</code> separately from the <code>LIKE</code> then :</p>\n<pre class=\"lang-java prettyprint-override\"><code>String query = &quot;select * from business\n                where (:name IS NULL OR businessName LIKE '%' || :name || '%')\n                AND   (:addr IS NULL OR businessAddress LIKE '%' || :addr || '%')&quot;;\n</code></pre>\n<p>and use named bind variables <code>:name</code> and <code>:addr</code> (or use <code>?</code> pass the values twice).</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661247365,"creation_date":1661245982,"answer_id":73456027,"question_id":73455600,"body_markdown":"Never, ever, concatenate values into a query string like that. Always use prepared statements with parameters when executing queries, especially with user-sourced values.\r\n\r\nA simple solution for your case is to use a list of values for each parameter you add, and then set the values collected for those parameters before execute:\r\n\r\n```java\r\nStringBuilder sb = new StringBuilder(&quot;select * from business where 1=1 &quot;);\r\nList&lt;String&gt; parameters = new ArrayList&lt;&gt;();\r\nif (businessName != null) {\r\n    sb.append(&quot;and businessName like &#39;%&#39; || ? || &#39;%&#39; &quot;);\r\n    parameters.add(businessName);\r\n}\r\nif (businessAddress != null) {\r\n    sb.append(&quot;and businessAddress like &#39;%&#39; || ? || &#39;%&#39; &quot;);\r\n    parameters.add(businessAddress)\r\n}\r\n\r\ntry (Connection con = DBUtil.getConnection();\r\n     PreparedStatement pst = con.prepareStatement(sb.toString())) {\r\n    int index = 1;\r\n    for (String parameter : parameters) {\r\n        pst.setString(index++, parameter);\r\n    }\r\n    \r\n    try (ResultSet rs = pst.executeQuery()) {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nIf you have parameters of varying types, use a `List&lt;Object&gt;` and `setObject` instead.\r\n\r\n---\r\n\r\nThe solution in the [answer by MT0][1] also works, but not all database systems optimize that type of query well (especially if you have a lot of such conditions), which might affect performance. For only a few conditions, the solution by MT0 is more readable, while having same/similar performance.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73456026/466862","title":"How can I modify the code to avoid SQL-injection attack?","body":"<p>Never, ever, concatenate values into a query string like that. Always use prepared statements with parameters when executing queries, especially with user-sourced values.</p>\n<p>A simple solution for your case is to use a list of values for each parameter you add, and then set the values collected for those parameters before execute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb = new StringBuilder(&quot;select * from business where 1=1 &quot;);\nList&lt;String&gt; parameters = new ArrayList&lt;&gt;();\nif (businessName != null) {\n    sb.append(&quot;and businessName like '%' || ? || '%' &quot;);\n    parameters.add(businessName);\n}\nif (businessAddress != null) {\n    sb.append(&quot;and businessAddress like '%' || ? || '%' &quot;);\n    parameters.add(businessAddress)\n}\n\ntry (Connection con = DBUtil.getConnection();\n     PreparedStatement pst = con.prepareStatement(sb.toString())) {\n    int index = 1;\n    for (String parameter : parameters) {\n        pst.setString(index++, parameter);\n    }\n    \n    try (ResultSet rs = pst.executeQuery()) {\n        // ...\n    }\n}\n</code></pre>\n<p>If you have parameters of varying types, use a <code>List&lt;Object&gt;</code> and <code>setObject</code> instead.</p>\n<hr />\n<p>The solution in the <a href=\"https://stackoverflow.com/a/73456026/466862\">answer by MT0</a> also works, but not all database systems optimize that type of query well (especially if you have a lot of such conditions), which might affect performance. For only a few conditions, the solution by MT0 is more readable, while having same/similar performance.</p>\n"},{"tags":[],"owner":{"account_id":7532702,"reputation":49,"user_id":5720215,"display_name":"xylsh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661509362,"creation_date":1661246275,"answer_id":73456105,"question_id":73455600,"body_markdown":"Except Mark Rotteveel&#39;s answer, I think there are additional methods to solve your question.\r\n\r\n&lt;del&gt;1.Escape user&#39;s input string to avoid sql-injection.**But this way is not 100% secure**.You can use ESAPI to do this, please refer to [SQL_Injection_Prevention_Cheat_Sheet](https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html#defense-option-4-escaping-all-user-supplied-input).&lt;/del&gt;\r\n\r\n2.You can use ORM framework,like MyBatis. For example, MyBatis have [dynamic-sql](https://mybatis.org/mybatis-3/dynamic-sql.html),it allows you generate different sql according to different conditions. In addition, use `#{xxx}` not `${xxx}` to keep sql-injection away.","title":"How can I modify the code to avoid SQL-injection attack?","body":"<p>Except Mark Rotteveel's answer, I think there are additional methods to solve your question.</p>\n<p><del>1.Escape user's input string to avoid sql-injection.<strong>But this way is not 100% secure</strong>.You can use ESAPI to do this, please refer to <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/SQL_Injection_Prevention_Cheat_Sheet.html#defense-option-4-escaping-all-user-supplied-input\" rel=\"nofollow noreferrer\">SQL_Injection_Prevention_Cheat_Sheet</a>.</del></p>\n<p>2.You can use ORM framework,like MyBatis. For example, MyBatis have <a href=\"https://mybatis.org/mybatis-3/dynamic-sql.html\" rel=\"nofollow noreferrer\">dynamic-sql</a>,it allows you generate different sql according to different conditions. In addition, use <code>#{xxx}</code> not <code>${xxx}</code> to keep sql-injection away.</p>\n"}],"owner":{"account_id":23136850,"reputation":35,"user_id":17240969,"display_name":"sakura"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":435,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73456027,"answer_count":3,"score":1,"last_activity_date":1661509362,"creation_date":1661244124,"question_id":73455600,"body_markdown":"I need to implement a fuzzy search for two fields, `businessName` and `businessAddress`. Both of them can be `null`. If one field is `null`, search should be based on the other field.\r\n\r\nTo be specific,\r\n\r\n- if `businessName=&quot;name&quot;` and `businessAddress=&quot;address&quot;` then execute `select * from business where businessName like &#39;%name%&#39; and businessAddress like &#39;%address%&#39;`\r\n- if `businessName=null` and `businessAddress=&quot;address&quot;` then execute `select * from business where businessAddress like &#39;%address%&#39;`\r\n- if `businessName=null` and `businessAddress=null` then execute `select * from business`\r\n\r\nMy code:\r\n~~~\r\nStringBuilder sb = new StringBuilder(&quot;select * from business where 1=1 &quot;);\r\n\r\nif (businessName != null) {\r\n    sb.append(&quot;and businessName like &#39;%&quot; + businessName + &quot;%&#39; &quot;);\r\n}\r\nif (businessAddress != null) {\r\n    sb.append(&quot;and businessAddress like &#39;%&quot; + businessAddress + &quot;%&#39; &quot;);\r\n}\r\n\r\ntry {\r\n    con = DBUtil.getConnection();\r\n    pst = con.prepareStatement(sb.toString());\r\n    rs = pst.executeQuery();\r\n} ...\r\n~~~\r\nApparently it&#39;s in danger of SQL-injection attack. I know method `prepareStatement.setString()` can avoid attack, but number of fields is uncertain before verification.\r\n\r\nHow can I modify it? Separate method for each case or code like below seem ugly.\r\n~~~\r\nif(businessName!=null){\r\n    if(businessAddress!=null){\r\n        sql = ...;\r\n    }else {\r\n        sql = ...;\r\n    }\r\nelse{\r\n...\r\n~~~","title":"How can I modify the code to avoid SQL-injection attack?","body":"<p>I need to implement a fuzzy search for two fields, <code>businessName</code> and <code>businessAddress</code>. Both of them can be <code>null</code>. If one field is <code>null</code>, search should be based on the other field.</p>\n<p>To be specific,</p>\n<ul>\n<li>if <code>businessName=&quot;name&quot;</code> and <code>businessAddress=&quot;address&quot;</code> then execute <code>select * from business where businessName like '%name%' and businessAddress like '%address%'</code></li>\n<li>if <code>businessName=null</code> and <code>businessAddress=&quot;address&quot;</code> then execute <code>select * from business where businessAddress like '%address%'</code></li>\n<li>if <code>businessName=null</code> and <code>businessAddress=null</code> then execute <code>select * from business</code></li>\n</ul>\n<p>My code:</p>\n<pre><code>StringBuilder sb = new StringBuilder(&quot;select * from business where 1=1 &quot;);\n\nif (businessName != null) {\n    sb.append(&quot;and businessName like '%&quot; + businessName + &quot;%' &quot;);\n}\nif (businessAddress != null) {\n    sb.append(&quot;and businessAddress like '%&quot; + businessAddress + &quot;%' &quot;);\n}\n\ntry {\n    con = DBUtil.getConnection();\n    pst = con.prepareStatement(sb.toString());\n    rs = pst.executeQuery();\n} ...\n</code></pre>\n<p>Apparently it's in danger of SQL-injection attack. I know method <code>prepareStatement.setString()</code> can avoid attack, but number of fields is uncertain before verification.</p>\n<p>How can I modify it? Separate method for each case or code like below seem ugly.</p>\n<pre><code>if(businessName!=null){\n    if(businessAddress!=null){\n        sql = ...;\n    }else {\n        sql = ...;\n    }\nelse{\n...\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18544976,"reputation":241,"user_id":13512579,"display_name":"Navneet Singh"},"score":1,"creation_date":1661508272,"post_id":73499086,"comment_id":129794117,"body_markdown":"use this String s=scan.nextLine(); instead of String s=scan.next();","body":"use this String s=scan.nextLine(); instead of String s=scan.next();"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1661508418,"post_id":73499086,"comment_id":129794157,"body_markdown":"Is the fact that you expect an int output of `4` but get `42` a typo or do you seriously enter `4` but get an output of `42`?","body":"Is the fact that you expect an int output of <code>4</code> but get <code>42</code> a typo or do you seriously enter <code>4</code> but get an output of <code>42</code>?"}],"owner":{"account_id":23682463,"reputation":1,"user_id":17707857,"display_name":"Mohd Ghayas Khan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661507247,"answer_count":0,"score":0,"last_activity_date":1661509347,"creation_date":1661507135,"question_id":73499086,"body_markdown":"    import java.util.Scanner;\r\n\r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scan = new Scanner(System.in);\r\n            int i = scan.nextInt();\r\n            double d=scan.nextDouble();\r\n            scan.nextLine();\r\n            String s=scan.next(); \r\n            \r\n            // Write your code here.\r\n    \r\n            System.out.println(&quot;String: &quot; + s);\r\n            System.out.println(&quot;Double: &quot; + d);\r\n            System.out.println(&quot;Int: &quot; + i);\r\n        }\r\n    }\r\n\r\nAbove is my code.\r\n\r\nMy output is:\r\n\r\n```none\r\nString: Welcome\r\n\r\nDouble: 3.1415\r\n\r\nInt: 42\r\n```\r\n     \r\n\r\nBut the expected output would be like:\r\n\r\n```none\r\nString: Welcome to HackerRank&#39;s Java tutorials!\r\n\r\nDouble: 3.1415\r\n\r\nInt: 4\r\n```\r\nWhat is the problem?\r\n\r\n","title":"not getting string input properly after integer","body":"<pre><code>import java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        int i = scan.nextInt();\n        double d=scan.nextDouble();\n        scan.nextLine();\n        String s=scan.next(); \n        \n        // Write your code here.\n\n        System.out.println(&quot;String: &quot; + s);\n        System.out.println(&quot;Double: &quot; + d);\n        System.out.println(&quot;Int: &quot; + i);\n    }\n}\n</code></pre>\n<p>Above is my code.</p>\n<p>My output is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>String: Welcome\n\nDouble: 3.1415\n\nInt: 42\n</code></pre>\n<p>But the expected output would be like:</p>\n<pre class=\"lang-none prettyprint-override\"><code>String: Welcome to HackerRank's Java tutorials!\n\nDouble: 3.1415\n\nInt: 4\n</code></pre>\n<p>What is the problem?</p>\n"},{"tags":["java","android","android-camerax"],"owner":{"account_id":8098282,"reputation":31,"user_id":6102068,"display_name":"CHAMI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661509062,"creation_date":1661507341,"question_id":73499136,"body_markdown":"Hello I&#39;m developing an android application for scan printed text and get out put as a editable text. So I use android Camera x for these requirement\r\n\r\nHere I scan the image and get the output as many requirements(as an editable text).\r\nbut in here read full camera view and convert to all viewing text block.\r\nI need to fixed these scanning area (put rectangle and scan only this rectangle area text)\r\n\r\nI draw rectangle in camera preview. but TextRecognizer method cannot pass bitmap image data. It can pass only the input image data.\r\n\r\nThis may be image analyzer and text recognition part\r\n\r\n   \r\n\r\n      ImageAnalysis imageAnalysis =\r\n                new ImageAnalysis.Builder()\r\n                        .setTargetResolution(new Size(720, 1488))\r\n                        .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                        .build();\r\n\r\n\r\n\r\n        imageAnalysis.setAnalyzer(executor, new ImageAnalysis.Analyzer() {\r\n            @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\r\n            @Override\r\n            public void analyze(@NonNull ImageProxy imageProxy) {\r\n                mediaImage = imageProxy.getImage();\r\n                assert mediaImage != null;\r\n                InputImage image =InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\r\n\r\n                TextRecognizer recognizer = TextRecognition.getClient(TextRecognizerOptions.DEFAULT_OPTIONS);\r\n                Task&lt;Text&gt; result =\r\n                        recognizer.process(image)\r\n                                .addOnSuccessListener(new OnSuccessListener&lt;Text&gt;() {\r\n                                    @Override\r\n                                    public void onSuccess(Text visionText) {\r\n                                         for (Text.TextBlock block : visionText.getTextBlocks()) {\r\n                                             Rect boundingBox = block.getBoundingBox();\r\n                                             Point[] cornerPoints = block.getCornerPoints();\r\n                                             String text = block.getText();\r\n\r\n                                             Log.e(&quot;get Text&quot;, text);\r\n\r\n                                             for (Text.Line line : block.getLines()) {\r\n                                                 // ...\r\n                                                 for (Text.Element element : line.getElements()) {\r\n                                                     // ...\r\n                                                 }\r\n                                             }\r\n                                         }\r\n                                    }\r\n                                })\r\n                                .addOnFailureListener(\r\n                                        new OnFailureListener() {\r\n                                            @Override\r\n                                            public void onFailure(@NonNull Exception e) {\r\n                                                Log.e(&quot;text eger&quot;,e.getMessage());\r\n                                            }\r\n                                        }).addOnCompleteListener(new OnCompleteListener&lt;Text&gt;() {\r\n                                    @Override\r\n                                    public void onComplete(@NonNull Task&lt;Text&gt; task) {\r\n                                        Log.e(&quot;text eg&quot;, task.getResult().getText());\r\n                                        mediaImage.close();\r\n                                    }\r\n                                });\r\n            }\r\n        });\r\n        camera = cameraProvider.bindToLifecycle((LifecycleOwner)this,cameraSelector,preview,imageAnalysis);\r\n    }\r\n\r\n","title":"How do you focus only on a rectangle and read text inside of the rectangle in android camera x","body":"<p>Hello I'm developing an android application for scan printed text and get out put as a editable text. So I use android Camera x for these requirement</p>\n<p>Here I scan the image and get the output as many requirements(as an editable text).\nbut in here read full camera view and convert to all viewing text block.\nI need to fixed these scanning area (put rectangle and scan only this rectangle area text)</p>\n<p>I draw rectangle in camera preview. but TextRecognizer method cannot pass bitmap image data. It can pass only the input image data.</p>\n<p>This may be image analyzer and text recognition part</p>\n<pre><code>  ImageAnalysis imageAnalysis =\n            new ImageAnalysis.Builder()\n                    .setTargetResolution(new Size(720, 1488))\n                    .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                    .build();\n\n\n\n    imageAnalysis.setAnalyzer(executor, new ImageAnalysis.Analyzer() {\n        @SuppressLint(&quot;UnsafeOptInUsageError&quot;)\n        @Override\n        public void analyze(@NonNull ImageProxy imageProxy) {\n            mediaImage = imageProxy.getImage();\n            assert mediaImage != null;\n            InputImage image =InputImage.fromMediaImage(mediaImage, imageProxy.getImageInfo().getRotationDegrees());\n\n            TextRecognizer recognizer = TextRecognition.getClient(TextRecognizerOptions.DEFAULT_OPTIONS);\n            Task&lt;Text&gt; result =\n                    recognizer.process(image)\n                            .addOnSuccessListener(new OnSuccessListener&lt;Text&gt;() {\n                                @Override\n                                public void onSuccess(Text visionText) {\n                                     for (Text.TextBlock block : visionText.getTextBlocks()) {\n                                         Rect boundingBox = block.getBoundingBox();\n                                         Point[] cornerPoints = block.getCornerPoints();\n                                         String text = block.getText();\n\n                                         Log.e(&quot;get Text&quot;, text);\n\n                                         for (Text.Line line : block.getLines()) {\n                                             // ...\n                                             for (Text.Element element : line.getElements()) {\n                                                 // ...\n                                             }\n                                         }\n                                     }\n                                }\n                            })\n                            .addOnFailureListener(\n                                    new OnFailureListener() {\n                                        @Override\n                                        public void onFailure(@NonNull Exception e) {\n                                            Log.e(&quot;text eger&quot;,e.getMessage());\n                                        }\n                                    }).addOnCompleteListener(new OnCompleteListener&lt;Text&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Text&gt; task) {\n                                    Log.e(&quot;text eg&quot;, task.getResult().getText());\n                                    mediaImage.close();\n                                }\n                            });\n        }\n    });\n    camera = cameraProvider.bindToLifecycle((LifecycleOwner)this,cameraSelector,preview,imageAnalysis);\n}\n</code></pre>\n"},{"tags":["java","maven","javafx","scenebuilder","filechooser"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1661509823,"post_id":73499456,"comment_id":129794609,"body_markdown":"*”Is there another way to copy a video into `resources`?”* No. Once the application is packaged, the content of `resources` becomes part of the jar file, which is effectively read-only. Copy the file to a “well-known location”. Typically you can use something like `Paths.get(System.getProperty(“user.home”), “.application-name”)`, creating the directory if necessary.","body":"<i>”Is there another way to copy a video into <code>resources</code>?”</i> No. Once the application is packaged, the content of <code>resources</code> becomes part of the jar file, which is effectively read-only. Copy the file to a “well-known location”. Typically you can use something like <code>Paths.get(System.getProperty(“user.home”), “.application-name”)</code>, creating the directory if necessary."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":4,"creation_date":1661510368,"post_id":73499456,"comment_id":129794781,"body_markdown":"“Resources” are things that are bundled with the application itself. User-provided files are therefore not resources, and are not accessed the same way.","body":"“Resources” are things that are bundled with the application itself. User-provided files are therefore not resources, and are not accessed the same way."}],"owner":{"account_id":26008231,"reputation":1,"user_id":19717691,"display_name":"andreYLLI"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661516528,"answer_count":0,"score":0,"last_activity_date":1661509022,"creation_date":1661509022,"question_id":73499456,"body_markdown":"I have a problem with my javafx project which uses maven dependencies.\r\nThe goal is to upload a file via filechooser (in a configuration control) and then by clicking on a button, change the scene and view the video.\r\nThe main problem is that the video is imported correctly (I use Files.copy) but it doesn&#39;t appear until after recompiling the project.\r\nSolutions?\r\nIs there another way to copy a video into &quot;resources&quot;?\r\nThank you","title":"Show video in mediaView only after recompiling project - Maven JAVAFX","body":"<p>I have a problem with my javafx project which uses maven dependencies.\nThe goal is to upload a file via filechooser (in a configuration control) and then by clicking on a button, change the scene and view the video.\nThe main problem is that the video is imported correctly (I use Files.copy) but it doesn't appear until after recompiling the project.\nSolutions?\nIs there another way to copy a video into &quot;resources&quot;?\nThank you</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661508630,"creation_date":1661508630,"answer_id":73499390,"question_id":73494611,"body_markdown":"I found the answer on StackOverFlow, all I need to do is \r\n\r\n    android:fillViewport=&quot;true&quot;\r\nthen worked perfectly.\r\n[source][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55357491/edittexts-height-does-not-expand-to-its-parents-height#answer-55357789","title":"When surround LinedEditText with ScrollView the lines remove except the first line, and when I press enter new line created one by one. how to fix it?","body":"<p>I found the answer on StackOverFlow, all I need to do is</p>\n<pre><code>android:fillViewport=&quot;true&quot;\n</code></pre>\n<p>then worked perfectly.\n<a href=\"https://stackoverflow.com/questions/55357491/edittexts-height-does-not-expand-to-its-parents-height#answer-55357789\">source</a></p>\n"}],"owner":{"account_id":25938653,"reputation":43,"user_id":19658497,"display_name":"neverStop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661508630,"creation_date":1661470100,"question_id":73494611,"body_markdown":"I use this piece of code to draw lines across the whole screen which is works well, but when I scroll it is slow when scrolling.\r\n\r\n    public  class LinedEditText extends androidx.appcompat.widget.AppCompatEditText{\r\n\r\n    private Rect mRect;\r\n    protected Paint mPaint;\r\n\r\n    // we need this constructor for LayoutInflater\r\n    public LinedEditText(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n\r\n        mRect = new Rect();\r\n        mPaint = new Paint();\r\n        mPaint.setStyle(Paint.Style.FILL_AND_STROKE);\r\n        mPaint.setColor(Color.parseColor(&quot;#82B6C6&quot;));\r\n    }\r\n\r\n    @Override\r\n    public void onDraw(Canvas canvas) {\r\n        //int count = getLineCount();\r\n\r\n        int height = getHeight();\r\n        int line_height = getLineHeight();\r\n\r\n        int count = height / line_height;\r\n\r\n        if (getLineCount() &gt; count)\r\n            count = getLineCount();//for long text with scrolling\r\n\r\n        Rect r = mRect;\r\n        Paint paint = mPaint;\r\n        int baseline = getLineBounds(0, r);//first line\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n\r\n            canvas.drawLine(r.left, baseline + 1, r.right, baseline + 1, paint);\r\n            baseline += getLineHeight();//next line\r\n        }\r\n\r\n        super.onDraw(canvas);\r\n    }\r\n}\r\n\r\n\r\nHere is the XML code for edit text\r\n\r\n    &lt;com.example.myapp.LinedEditText\r\n            android:id=&quot;@+id/et_note&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:autofillHints=&quot;emailAddress&quot;\r\n            android:background=&quot;@null&quot;\r\n            android:gravity=&quot;start&quot;\r\n            android:hint=&quot;Add note&quot;\r\n            android:inputType=&quot;textCapSentences|textMultiLine&quot;\r\n            android:padding=&quot;10dp&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n            /&gt;\r\n\r\nAs I said it is slow during scrolling, so for this reason I have to use ScrollView, but after surround the EditText with scrollView, the lines are lines are removed from the EditText except the first line. When the text goes to new line, the EditText automatically create a new line which is not what I want, I want the whole screen with lines. How to solve that?","title":"When surround LinedEditText with ScrollView the lines remove except the first line, and when I press enter new line created one by one. how to fix it?","body":"<p>I use this piece of code to draw lines across the whole screen which is works well, but when I scroll it is slow when scrolling.</p>\n<pre><code>public  class LinedEditText extends androidx.appcompat.widget.AppCompatEditText{\n\nprivate Rect mRect;\nprotected Paint mPaint;\n\n// we need this constructor for LayoutInflater\npublic LinedEditText(Context context, AttributeSet attrs) {\n    super(context, attrs);\n\n    mRect = new Rect();\n    mPaint = new Paint();\n    mPaint.setStyle(Paint.Style.FILL_AND_STROKE);\n    mPaint.setColor(Color.parseColor(&quot;#82B6C6&quot;));\n}\n\n@Override\npublic void onDraw(Canvas canvas) {\n    //int count = getLineCount();\n\n    int height = getHeight();\n    int line_height = getLineHeight();\n\n    int count = height / line_height;\n\n    if (getLineCount() &gt; count)\n        count = getLineCount();//for long text with scrolling\n\n    Rect r = mRect;\n    Paint paint = mPaint;\n    int baseline = getLineBounds(0, r);//first line\n\n    for (int i = 0; i &lt; count; i++) {\n\n        canvas.drawLine(r.left, baseline + 1, r.right, baseline + 1, paint);\n        baseline += getLineHeight();//next line\n    }\n\n    super.onDraw(canvas);\n}\n</code></pre>\n<p>}</p>\n<p>Here is the XML code for edit text</p>\n<pre><code>&lt;com.example.myapp.LinedEditText\n        android:id=&quot;@+id/et_note&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:autofillHints=&quot;emailAddress&quot;\n        android:background=&quot;@null&quot;\n        android:gravity=&quot;start&quot;\n        android:hint=&quot;Add note&quot;\n        android:inputType=&quot;textCapSentences|textMultiLine&quot;\n        android:padding=&quot;10dp&quot;\n        android:textSize=&quot;20sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        /&gt;\n</code></pre>\n<p>As I said it is slow during scrolling, so for this reason I have to use ScrollView, but after surround the EditText with scrollView, the lines are lines are removed from the EditText except the first line. When the text goes to new line, the EditText automatically create a new line which is not what I want, I want the whole screen with lines. How to solve that?</p>\n"},{"tags":["java","spring-boot","elasticsearch","resthighlevelclient"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1661182904,"post_id":73446339,"comment_id":129705620,"body_markdown":"what version is the Elasticsearch cluster?","body":"what version is the Elasticsearch cluster?"},{"owner":{"account_id":5556018,"reputation":15,"user_id":4407337,"display_name":"Ayesha"},"score":0,"creation_date":1661260182,"post_id":73446339,"comment_id":129725436,"body_markdown":"Elasticsearch cluster version is 6.6","body":"Elasticsearch cluster version is 6.6"}],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661353960,"creation_date":1661353960,"answer_id":73475654,"question_id":73446339,"body_markdown":"Talking to a cluster in version 6 you probably need to send the `type` value that is defined in the mapping for your index instead of *&quot;_doc&quot;*.","title":"Elasticsearch exception [type=action_request_validation_exception, reason=Validation Failed: 1: type is missing;","body":"<p>Talking to a cluster in version 6 you probably need to send the <code>type</code> value that is defined in the mapping for your index instead of <em>&quot;_doc&quot;</em>.</p>\n"}],"owner":{"account_id":5556018,"reputation":15,"user_id":4407337,"display_name":"Ayesha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73475654,"answer_count":1,"score":1,"last_activity_date":1661508579,"creation_date":1661176674,"question_id":73446339,"body_markdown":"I am trying to do bulk insert using elastic search rest high-level client, getting type missing validation error.\r\n\r\nMy pom.xml has the following dependency versions\r\n\r\n    &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.6.9&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.3.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n         &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\r\n         &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\r\n    \t &lt;version&gt;7.15.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ncode snippet what I am using for bulk request\r\n\r\n    BulkRequest request = new BulkRequest();\r\n    \t\t    ObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t    list.forEach(data -&gt; {\r\n    \t\t        IndexRequest indexRequest = new IndexRequest(&quot;index2&quot;, &quot;_doc&quot;).source(objectMapper.convertValue(data, Map.class));\r\n    \t\t        request.add(indexRequest);\r\n    \t\t    });\r\n    \r\n    \t\t    BulkResponse bulkResponse = esClient.bulk(request, RequestOptions.DEFAULT);\r\n\r\n\r\nI am getting below error\r\n\r\n    org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=action_request_validation_exception, reason=Validation Failed: 1: type is missing;]\r\n    \tat org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:176) ~[elasticsearch-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2011) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1988) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1745) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n    \tat org.elasticsearch.client.RestHighLevelClient.bulk(RestHighLevelClient.java:577) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\r\n\r\nI have done reindexing using the below curl so that all the records in an index will have a common type name as &#39;_doc&#39;. And from the code, I am pointing to index2 which has common type _doc. This is the reason I am passing type as _doc. \r\n\r\n    curl --location --request POST &#39;{baseServerurl}/_reindex&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --header &#39;Cache-Control: no-cache&#39; \\\r\n    --data-raw &#39;{\r\n      &quot;source&quot;: {\r\n        &quot;index&quot;: &quot;index1&quot;,\r\n        &quot;type&quot;: &quot;user&quot;\r\n      },\r\n      &quot;dest&quot;: {\r\n        &quot;index&quot;: &quot;index2&quot;,\r\n        &quot;type&quot;: &quot;_doc&quot;\r\n      }\r\n    }&#39; \r\n\r\nHave removed the type declaration from my code mapping as upgrading ES to 7 don&#39;t support explicit type declaration at mapping level. ES dependency version that I am using is 7.15.\r\n\r\n","title":"Elasticsearch exception [type=action_request_validation_exception, reason=Validation Failed: 1: type is missing;","body":"<p>I am trying to do bulk insert using elastic search rest high-level client, getting type missing validation error.</p>\n<p>My pom.xml has the following dependency versions</p>\n<pre><code>&lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.9&lt;/version&gt;\n        &lt;relativePath/&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-elasticsearch&lt;/artifactId&gt;\n    &lt;version&gt;4.3.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n     &lt;groupId&gt;org.elasticsearch.client&lt;/groupId&gt;\n     &lt;artifactId&gt;elasticsearch-rest-high-level-client&lt;/artifactId&gt;\n     &lt;version&gt;7.15.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>code snippet what I am using for bulk request</p>\n<pre><code>BulkRequest request = new BulkRequest();\n            ObjectMapper objectMapper = new ObjectMapper();\n            list.forEach(data -&gt; {\n                IndexRequest indexRequest = new IndexRequest(&quot;index2&quot;, &quot;_doc&quot;).source(objectMapper.convertValue(data, Map.class));\n                request.add(indexRequest);\n            });\n\n            BulkResponse bulkResponse = esClient.bulk(request, RequestOptions.DEFAULT);\n</code></pre>\n<p>I am getting below error</p>\n<pre><code>org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=action_request_validation_exception, reason=Validation Failed: 1: type is missing;]\n    at org.elasticsearch.rest.BytesRestResponse.errorFromXContent(BytesRestResponse.java:176) ~[elasticsearch-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseEntity(RestHighLevelClient.java:2011) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.parseResponseException(RestHighLevelClient.java:1988) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.internalPerformRequest(RestHighLevelClient.java:1745) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequest(RestHighLevelClient.java:1702) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.performRequestAndParseEntity(RestHighLevelClient.java:1672) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n    at org.elasticsearch.client.RestHighLevelClient.bulk(RestHighLevelClient.java:577) ~[elasticsearch-rest-high-level-client-7.15.2.jar:7.15.2]\n</code></pre>\n<p>I have done reindexing using the below curl so that all the records in an index will have a common type name as '_doc'. And from the code, I am pointing to index2 which has common type _doc. This is the reason I am passing type as _doc.</p>\n<pre><code>curl --location --request POST '{baseServerurl}/_reindex' \\\n--header 'Content-Type: application/json' \\\n--header 'Cache-Control: no-cache' \\\n--data-raw '{\n  &quot;source&quot;: {\n    &quot;index&quot;: &quot;index1&quot;,\n    &quot;type&quot;: &quot;user&quot;\n  },\n  &quot;dest&quot;: {\n    &quot;index&quot;: &quot;index2&quot;,\n    &quot;type&quot;: &quot;_doc&quot;\n  }\n}' \n</code></pre>\n<p>Have removed the type declaration from my code mapping as upgrading ES to 7 don't support explicit type declaration at mapping level. ES dependency version that I am using is 7.15.</p>\n"},{"tags":["java","spring","spring-boot","model-view-controller","request"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1661510412,"post_id":73499285,"comment_id":129794792,"body_markdown":"can you show me your entity?","body":"can you show me your entity?"},{"owner":{"account_id":16795084,"reputation":232,"user_id":12141701,"display_name":"lukwas"},"score":0,"creation_date":1661519048,"post_id":73499285,"comment_id":129797753,"body_markdown":"add `Holiday` class, it might help determine problem","body":"add <code>Holiday</code> class, it might help determine problem"}],"owner":{"account_id":26165073,"reputation":1,"user_id":19851010,"display_name":"Andrija Aleksic"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661508465,"creation_date":1661508138,"question_id":73499285,"body_markdown":"I recently started learning the spring framework. I am stuck in this code here. I don&#39;t understand how `@ReqestParam` festival and `@RequestParam` federal (`boolean` values) can affect that my Controller is not returning attributes with the same name but type List. If I in URL state that `federal=true` and `festival = false`, my controller will return only the federal list with holidays.\r\n\r\n     @GetMapping(&quot;/holidays&quot;)\r\n    public String displayHolidays(@RequestParam(required = false) boolean festival,\r\n                                  @RequestParam(required = false) boolean federal,Model model) {\r\n\r\n        model.addAttribute(&quot;festival&quot;,festival);\r\n        model.addAttribute(&quot;federal&quot;,federal);\r\n        List&lt;Holiday&gt; holidays = Arrays.asList(\r\n                new Holiday(&quot; Jan 1 &quot;,&quot;New Year&#39;s Day&quot;, Holiday.Type.FESTIVAL),\r\n                new Holiday(&quot; Oct 31 &quot;,&quot;Halloween&quot;, Holiday.Type.FESTIVAL),\r\n                new Holiday(&quot; Nov 24 &quot;,&quot;Thanksgiving Day&quot;, Holiday.Type.FESTIVAL),\r\n                new Holiday(&quot; Dec 25 &quot;,&quot;Christmas&quot;, Holiday.Type.FESTIVAL),\r\n                new Holiday(&quot; Jan 17 &quot;,&quot;Martin Luther King Jr. Day&quot;, Holiday.Type.FEDERAL),\r\n                new Holiday(&quot; July 4 &quot;,&quot;Independence Day&quot;, Holiday.Type.FEDERAL),\r\n                new Holiday(&quot; Sep 5 &quot;,&quot;Labor Day&quot;, Holiday.Type.FEDERAL),\r\n                new Holiday(&quot; Nov 11 &quot;,&quot;Veterans Day&quot;, Holiday.Type.FEDERAL)\r\n        );\r\n        Holiday.Type[] types = Holiday.Type.values();\r\n        for (Holiday.Type type : types) {\r\n            model.addAttribute(type.toString(),\r\n                    (holidays.stream().filter(holiday -&gt; holiday.getType().equals(type)).collect(Collectors.toList())));\r\n        }\r\n        System.out.println(model.toString());\r\n        return &quot;holidays.html&quot;;\r\n    }\r\n","title":"request param is affecting attribute with same name","body":"<p>I recently started learning the spring framework. I am stuck in this code here. I don't understand how <code>@ReqestParam</code> festival and <code>@RequestParam</code> federal (<code>boolean</code> values) can affect that my Controller is not returning attributes with the same name but type List. If I in URL state that <code>federal=true</code> and <code>festival = false</code>, my controller will return only the federal list with holidays.</p>\n<pre><code> @GetMapping(&quot;/holidays&quot;)\npublic String displayHolidays(@RequestParam(required = false) boolean festival,\n                              @RequestParam(required = false) boolean federal,Model model) {\n\n    model.addAttribute(&quot;festival&quot;,festival);\n    model.addAttribute(&quot;federal&quot;,federal);\n    List&lt;Holiday&gt; holidays = Arrays.asList(\n            new Holiday(&quot; Jan 1 &quot;,&quot;New Year's Day&quot;, Holiday.Type.FESTIVAL),\n            new Holiday(&quot; Oct 31 &quot;,&quot;Halloween&quot;, Holiday.Type.FESTIVAL),\n            new Holiday(&quot; Nov 24 &quot;,&quot;Thanksgiving Day&quot;, Holiday.Type.FESTIVAL),\n            new Holiday(&quot; Dec 25 &quot;,&quot;Christmas&quot;, Holiday.Type.FESTIVAL),\n            new Holiday(&quot; Jan 17 &quot;,&quot;Martin Luther King Jr. Day&quot;, Holiday.Type.FEDERAL),\n            new Holiday(&quot; July 4 &quot;,&quot;Independence Day&quot;, Holiday.Type.FEDERAL),\n            new Holiday(&quot; Sep 5 &quot;,&quot;Labor Day&quot;, Holiday.Type.FEDERAL),\n            new Holiday(&quot; Nov 11 &quot;,&quot;Veterans Day&quot;, Holiday.Type.FEDERAL)\n    );\n    Holiday.Type[] types = Holiday.Type.values();\n    for (Holiday.Type type : types) {\n        model.addAttribute(type.toString(),\n                (holidays.stream().filter(holiday -&gt; holiday.getType().equals(type)).collect(Collectors.toList())));\n    }\n    System.out.println(model.toString());\n    return &quot;holidays.html&quot;;\n}\n</code></pre>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661501066,"creation_date":1661501066,"answer_id":73497909,"question_id":73497280,"body_markdown":"If you put [gson][1] or [jackson][2] on your classpath, jOOQ&#39;s [`DefaultConverterProvider`][3] will automatically use those to map your `JSONB` content to your data, so that should be all you need to do to make this work.\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://github.com/FasterXML/jackson\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/","title":"Jooq: jsonb fetchInto custom type","body":"<p>If you put <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a> or <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\">jackson</a> on your classpath, jOOQ's <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/converter-provider/\" rel=\"nofollow noreferrer\"><code>DefaultConverterProvider</code></a> will automatically use those to map your <code>JSONB</code> content to your data, so that should be all you need to do to make this work.</p>\n"}],"owner":{"account_id":15582826,"reputation":75,"user_id":11242146,"display_name":"whisperbye"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73497909,"answer_count":1,"score":2,"last_activity_date":1661508428,"creation_date":1661497582,"question_id":73497280,"body_markdown":"what&#39;s the correct way to map jsonb record into custom data type?\r\njust like normal table fields.\r\n\r\n```sql\r\ncreate table t_order\r\n(\r\n    id    serial\r\n        constraint t_order_pk\r\n            primary key,\r\n    key   varchar(255) not null,\r\n    value jsonb        not null\r\n);\r\n\r\ncreate unique index t_order_id_uindex\r\n    on t_order (id);\r\n\r\ncreate index t_order_value_index\r\n    on t_order using gin (value);\r\n```\r\n\r\n```java\r\n@Data\r\n@Builder\r\nclass Order {\r\n\r\n  private List&lt;OrderItem&gt; orderItems;\r\n\r\n  @Data\r\n  @Builder\r\n  public static class OrderItem {\r\n\r\n    private BigDecimal price;\r\n    private BigDecimal quantity;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Test\r\n  void findOrderById() {\r\n    var order =\r\n        dsl.select(T_ORDER.VALUE)\r\n            .from(T_ORDER)\r\n            .where(T_ORDER.ID.eq(1))\r\n            .fetchOptionalInto(Order.class); // OOPS!\r\n    assertTrue(order.isPresent());\r\n    log.info(order);\r\n}\r\n```\r\n","title":"Jooq: jsonb fetchInto custom type","body":"<p>what's the correct way to map jsonb record into custom data type?\njust like normal table fields.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table t_order\n(\n    id    serial\n        constraint t_order_pk\n            primary key,\n    key   varchar(255) not null,\n    value jsonb        not null\n);\n\ncreate unique index t_order_id_uindex\n    on t_order (id);\n\ncreate index t_order_value_index\n    on t_order using gin (value);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Builder\nclass Order {\n\n  private List&lt;OrderItem&gt; orderItems;\n\n  @Data\n  @Builder\n  public static class OrderItem {\n\n    private BigDecimal price;\n    private BigDecimal quantity;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n  void findOrderById() {\n    var order =\n        dsl.select(T_ORDER.VALUE)\n            .from(T_ORDER)\n            .where(T_ORDER.ID.eq(1))\n            .fetchOptionalInto(Order.class); // OOPS!\n    assertTrue(order.isPresent());\n    log.info(order);\n}\n</code></pre>\n"},{"tags":["java","multithreading","swing","background","paint"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1661465672,"post_id":73494051,"comment_id":129785790,"body_markdown":"Load the image in the background like [this](https://stackoverflow.com/a/25043676/230513). Invoking `panel.add(new JButton(&quot;Hello&quot;));` in `display()` shows that the GUI remain responsive as the image loads.","body":"Load the image in the background like <a href=\"https://stackoverflow.com/a/25043676/230513\">this</a>. Invoking <code>panel.add(new JButton(&quot;Hello&quot;));</code> in <code>display()</code> shows that the GUI remain responsive as the image loads."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1661468242,"post_id":73494051,"comment_id":129786243,"body_markdown":"Also, are you sure that the background image&#39;s resolution is not needlessly high?","body":"Also, are you sure that the background image&#39;s resolution is not needlessly high?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1661471704,"post_id":73494051,"comment_id":129786796,"body_markdown":"Don&#39;t use &quot;null&quot; in the drawImage(....) method. Instead use &quot;this&quot; and the component should repaint when the image is fully loaded.","body":"Don&#39;t use &quot;null&quot; in the drawImage(....) method. Instead use &quot;this&quot; and the component should repaint when the image is fully loaded."}],"answers":[{"tags":[],"owner":{"account_id":8604464,"reputation":134,"user_id":6445032,"display_name":"Rachid Rajjys"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661508357,"creation_date":1661508357,"answer_id":73499332,"question_id":73494051,"body_markdown":"With the help  suggested from trashgod and camickr,\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/25043676/230513 this  is how i have proceded.\r\n\r\n 1. Add all the text holder JLabels to the JPanel\r\n 2. write the paintComponent method as:\r\n```\r\n    @Override\r\n    protected void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        g.drawImage(vidThumbnailIcon.getImage(), 0, 0,componentToPaint.getWidth(),componenttoPaint.getHeight(), componentToPaint);\r\n    }\r\n```\r\n3. start a new Thread to download the image from URL using any multithreading technique such as SwingWorker or any other. and execute the downloading there then before the end, call `repaint()`.\r\n```\r\npublic void run() {\r\n        try{\r\n                    var imageURL = new URL(thumbnailURL);\r\n                    vidThumbnailIcon = new ImageIcon(ImageIO.read(imageURL));  \r\n                } catch (MalformedURLException ex) {\r\n                    vidThumbnailIcon = new ImageIcon(&quot;assets/icons/default_thumbnail.png&quot;);\r\n                } catch (Exception ex) {\r\n                    \r\n                    vidThumbnailIcon = new ImageIcon(&quot;assets/icons/default_thumbnail.png&quot;);\r\n                }\r\n        repaint();///this helps display the image right after the downloading has ended\r\n    }\r\n```\r\n4. finally call this thread object after the GUI set up\r\n   ```\r\n        initGUIComponents();\r\n        loadThumbnail(); ///In this method, you create a thread, use it to load the image and then call repaint() inside here.\r\n   ````\r\nI&#39;m not sure this is the best way to do it but atleast it worked for me. \r\nThank family for the support","title":"How to load a background image without hiding components on top in Swing","body":"<p>With the help  suggested from trashgod and camickr,</p>\n<p>[1]: <a href=\"https://stackoverflow.com/a/25043676/230513\">https://stackoverflow.com/a/25043676/230513</a> this  is how i have proceded.</p>\n<ol>\n<li>Add all the text holder JLabels to the JPanel</li>\n<li>write the paintComponent method as:</li>\n</ol>\n<pre><code>    @Override\n    protected void paintComponent(Graphics g){\n        super.paintComponent(g);\n        g.drawImage(vidThumbnailIcon.getImage(), 0, 0,componentToPaint.getWidth(),componenttoPaint.getHeight(), componentToPaint);\n    }\n</code></pre>\n<ol start=\"3\">\n<li>start a new Thread to download the image from URL using any multithreading technique such as SwingWorker or any other. and execute the downloading there then before the end, call <code>repaint()</code>.</li>\n</ol>\n<pre><code>public void run() {\n        try{\n                    var imageURL = new URL(thumbnailURL);\n                    vidThumbnailIcon = new ImageIcon(ImageIO.read(imageURL));  \n                } catch (MalformedURLException ex) {\n                    vidThumbnailIcon = new ImageIcon(&quot;assets/icons/default_thumbnail.png&quot;);\n                } catch (Exception ex) {\n                    \n                    vidThumbnailIcon = new ImageIcon(&quot;assets/icons/default_thumbnail.png&quot;);\n                }\n        repaint();///this helps display the image right after the downloading has ended\n    }\n</code></pre>\n<ol start=\"4\">\n<li>finally call this thread object after the GUI set up\n<pre><code>     initGUIComponents();\n     loadThumbnail(); ///In this method, you create a thread, use it to load the image and then call repaint() inside here.\n</code></pre>\n</li>\n</ol>\n<p>I'm not sure this is the best way to do it but atleast it worked for me.\nThank family for the support</p>\n"}],"owner":{"account_id":8604464,"reputation":134,"user_id":6445032,"display_name":"Rachid Rajjys"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73499332,"answer_count":1,"score":1,"last_activity_date":1661508357,"creation_date":1661464452,"question_id":73494051,"body_markdown":"I have a `JPanel` that holds a few `JLabel` that display some informations. And i use another JLabel to hold a background image that I&#39;m going to get from a URL. \r\nI have used `GirdBagLayout` to set this up and this is what I have.\r\n\r\n[![Youtube video from alux.com channel][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6uZ3m.png\r\n**Now The issue i have is this**:\r\nSince the image if of high resolution, it takes time to load hence the app seems slow.\r\n```\r\n    vidThumbnailIcon = new ImageIcon(ImageIO.read(imageURL)) ////http link\r\n    thumbnailLabel.setIcon(vidThumbnailIcon);\r\n```\r\nI have tried to put the previous lines of code in a different thread but, since it loads later, it does paint over the previously inserted `JLabels`\r\nThat means all other components disappear.\r\nI also tried using  the paint method like\r\n\r\n     @Override\r\n    protected void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        g.drawImage(vidThumbnailIcon.getImage(), 0, 0, this.getWidth(),this.getHeight(), null);\r\n    }\r\nand paint the background of the JPanel with no success.\r\n\r\nThe only way i have found is to get the image first, load the image to the background, and then add other components on top. But it&#39;s too slow, limited by my slow internet.\r\nIs there any alternative to this? Meaning, loading the image later but still not hiding everything else.\r\n\r\n**The code**\r\n\r\n    public class VideoDetailsView extends JPanel{\r\n    \r\n        private ImageIcon vidThumbnailIcon;\r\n        private Video video;\r\n        public VideoDetailsView(Video video){\r\n            this.video = video;\r\n            try{\r\n                var imageLink = new URL(video.thumbnailLink);\r\n                vidThumbnailIcon = new ImageIcon(ImageIO.read(imageLink));\r\n            } catch (MalformedURLException ex) {\r\n                vidThumbnailIcon = new ImageIcon(&quot;assets/icons/default_thumbnail.png&quot;);\r\n            } catch (Exception ex) { \r\n                vidThumbnailIcon = new ImageIcon(&quot;assets/icons/default_thumbnail.png&quot;);\r\n            }\r\n            initGUIComponents();\r\n        }\r\n    \r\n        private void initGUIComponents() {\r\n            var vidTitleLabel = new JLabel(video.title);\r\n            CustomComponent.customizeLabel(vidTitleLabel, 4);\r\n            var vidViewsLabel = new JLabel(video.viewCount);\r\n            CustomComponent.customizeLabel(vidViewsLabel, 1);\r\n            var vidChannelLabel = new JLabel(video.channel);\r\n            CustomComponent.customizeLabel(vidChannelLabel, 1);\r\n            var vidDateLabel = new JLabel(video.releaseDate);\r\n            CustomComponent.customizeLabel(vidDateLabel, 1);\r\n            var vidDurationLabel = new JLabel(video.duration);\r\n            CustomComponent.customizeLabel(vidDurationLabel, 1);\r\n            var vidCommentsLabel = new JLabel(video.commentCount);\r\n            CustomComponent.customizeLabel(vidCommentsLabel, 1);\r\n            \r\n            var layout = new GridBagLayout();    \r\n            var gbc = new GridBagConstraints();\r\n            setLayout(layout);\r\n       \r\n            gbc.weighty = 1;\r\n            gbc.anchor = GridBagConstraints.WEST;\r\n            addComponent(vidViewsLabel, this, layout,gbc, 0,0,1,1);\r\n            addComponent(vidCommentsLabel, this, layout, gbc, 0,1,1,1);\r\n            addComponent(vidChannelLabel, this, layout,gbc, 0,2,1,1);\r\n            addComponent(vidDateLabel, this, layout,gbc, 0,3,1,1);\r\n            addComponent(vidDurationLabel, this, layout,gbc, 0,4,1,1);\r\n            gbc.weightx = 1;\r\n            addComponent(vidTitleLabel, this, layout,gbc, 0,6,2,2);\r\n            \r\n        }\r\n       public void addComponent(JComponent component, Container container,\r\n                GridBagLayout layout, GridBagConstraints gbc,\r\n                int gridx, int gridy,\r\n                int gridwidth, int gridheight ){\r\n                gbc.gridx = gridx;\r\n                gbc.gridy = gridy;\r\n                gbc.gridwidth = gridwidth;\r\n                gbc.gridheight = gridheight;\r\n                container.add(component,gbc);\r\n        }\r\n        @Override\r\n        protected void paintComponent(Graphics g){\r\n            super.paintComponent(g);\r\n            g.drawImage(vidThumbnailIcon.getImage(), 0, 0, this.getWidth(),this.getHeight(), null);\r\n        }\r\n    }","title":"How to load a background image without hiding components on top in Swing","body":"<p>I have a <code>JPanel</code> that holds a few <code>JLabel</code> that display some informations. And i use another JLabel to hold a background image that I'm going to get from a URL.\nI have used <code>GirdBagLayout</code> to set this up and this is what I have.</p>\n<p><a href=\"https://i.stack.imgur.com/6uZ3m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6uZ3m.png\" alt=\"Youtube video from alux.com channel\" /></a></p>\n<p><strong>Now The issue i have is this</strong>:\nSince the image if of high resolution, it takes time to load hence the app seems slow.</p>\n<pre><code>    vidThumbnailIcon = new ImageIcon(ImageIO.read(imageURL)) ////http link\n    thumbnailLabel.setIcon(vidThumbnailIcon);\n</code></pre>\n<p>I have tried to put the previous lines of code in a different thread but, since it loads later, it does paint over the previously inserted <code>JLabels</code>\nThat means all other components disappear.\nI also tried using  the paint method like</p>\n<pre><code> @Override\nprotected void paintComponent(Graphics g){\n    super.paintComponent(g);\n    g.drawImage(vidThumbnailIcon.getImage(), 0, 0, this.getWidth(),this.getHeight(), null);\n}\n</code></pre>\n<p>and paint the background of the JPanel with no success.</p>\n<p>The only way i have found is to get the image first, load the image to the background, and then add other components on top. But it's too slow, limited by my slow internet.\nIs there any alternative to this? Meaning, loading the image later but still not hiding everything else.</p>\n<p><strong>The code</strong></p>\n<pre><code>public class VideoDetailsView extends JPanel{\n\n    private ImageIcon vidThumbnailIcon;\n    private Video video;\n    public VideoDetailsView(Video video){\n        this.video = video;\n        try{\n            var imageLink = new URL(video.thumbnailLink);\n            vidThumbnailIcon = new ImageIcon(ImageIO.read(imageLink));\n        } catch (MalformedURLException ex) {\n            vidThumbnailIcon = new ImageIcon(&quot;assets/icons/default_thumbnail.png&quot;);\n        } catch (Exception ex) { \n            vidThumbnailIcon = new ImageIcon(&quot;assets/icons/default_thumbnail.png&quot;);\n        }\n        initGUIComponents();\n    }\n\n    private void initGUIComponents() {\n        var vidTitleLabel = new JLabel(video.title);\n        CustomComponent.customizeLabel(vidTitleLabel, 4);\n        var vidViewsLabel = new JLabel(video.viewCount);\n        CustomComponent.customizeLabel(vidViewsLabel, 1);\n        var vidChannelLabel = new JLabel(video.channel);\n        CustomComponent.customizeLabel(vidChannelLabel, 1);\n        var vidDateLabel = new JLabel(video.releaseDate);\n        CustomComponent.customizeLabel(vidDateLabel, 1);\n        var vidDurationLabel = new JLabel(video.duration);\n        CustomComponent.customizeLabel(vidDurationLabel, 1);\n        var vidCommentsLabel = new JLabel(video.commentCount);\n        CustomComponent.customizeLabel(vidCommentsLabel, 1);\n        \n        var layout = new GridBagLayout();    \n        var gbc = new GridBagConstraints();\n        setLayout(layout);\n   \n        gbc.weighty = 1;\n        gbc.anchor = GridBagConstraints.WEST;\n        addComponent(vidViewsLabel, this, layout,gbc, 0,0,1,1);\n        addComponent(vidCommentsLabel, this, layout, gbc, 0,1,1,1);\n        addComponent(vidChannelLabel, this, layout,gbc, 0,2,1,1);\n        addComponent(vidDateLabel, this, layout,gbc, 0,3,1,1);\n        addComponent(vidDurationLabel, this, layout,gbc, 0,4,1,1);\n        gbc.weightx = 1;\n        addComponent(vidTitleLabel, this, layout,gbc, 0,6,2,2);\n        \n    }\n   public void addComponent(JComponent component, Container container,\n            GridBagLayout layout, GridBagConstraints gbc,\n            int gridx, int gridy,\n            int gridwidth, int gridheight ){\n            gbc.gridx = gridx;\n            gbc.gridy = gridy;\n            gbc.gridwidth = gridwidth;\n            gbc.gridheight = gridheight;\n            container.add(component,gbc);\n    }\n    @Override\n    protected void paintComponent(Graphics g){\n        super.paintComponent(g);\n        g.drawImage(vidThumbnailIcon.getImage(), 0, 0, this.getWidth(),this.getHeight(), null);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1661508036,"creation_date":1661508036,"answer_id":73499262,"question_id":73499206,"body_markdown":"The reason is because the cause is different. The `List` created by `List.of` doesn&#39;t allow nulls, and when `indexOf` receives a `null`, it simply throws a `NullPointerException` without a message:\r\n\r\n```java\r\n@Override\r\npublic int indexOf(Object o) {\r\n    if (!allowNulls &amp;&amp; o == null) {\r\n        throw new NullPointerException();\r\n    }\r\n    Object[] es = elements;\r\n    for (int i = 0; i &lt; es.length; i++) {\r\n        if (Objects.equals(o, es[i])) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\n```\r\n\r\n(from the `java.util.ImmutableCollections.ListN` class)\r\n\r\nOn the other hand, in the case of `int i = index;` it is compiled to the equivalent of `int i = index.intValue();`, and the JVM generates the message of the `NullPointerException` based on the method calls and variables involved.\r\n\r\n","title":"Why unboxing of method call parameters does not lead to a helpful NullPointerException","body":"<p>The reason is because the cause is different. The <code>List</code> created by <code>List.of</code> doesn't allow nulls, and when <code>indexOf</code> receives a <code>null</code>, it simply throws a <code>NullPointerException</code> without a message:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int indexOf(Object o) {\n    if (!allowNulls &amp;&amp; o == null) {\n        throw new NullPointerException();\n    }\n    Object[] es = elements;\n    for (int i = 0; i &lt; es.length; i++) {\n        if (Objects.equals(o, es[i])) {\n            return i;\n        }\n    }\n    return -1;\n}\n</code></pre>\n<p>(from the <code>java.util.ImmutableCollections.ListN</code> class)</p>\n<p>On the other hand, in the case of <code>int i = index;</code> it is compiled to the equivalent of <code>int i = index.intValue();</code>, and the JVM generates the message of the <code>NullPointerException</code> based on the method calls and variables involved.</p>\n"}],"owner":{"account_id":1164311,"reputation":1961,"user_id":1143246,"accept_rate":43,"display_name":"Claas Wilke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73499262,"answer_count":1,"score":3,"last_activity_date":1661508036,"creation_date":1661507739,"question_id":73499206,"body_markdown":"I investigated helpful NullPointerExceptions from Java 14 and tested different scenarios. Surprisingly, unboxing seems to lead to helfpul NPEs in some scenarios, whereas other scenarios do not contain any error message:\r\n\r\n    // NPE with message &#39;Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;index&quot; is null&#39;\r\n    Integer index = null;\r\n    int i = index;\r\n\r\n    // NPE with message null\r\n    List.of(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;).indexOf(index);\r\n\r\nI wonder, why the second example does not lead to the same message as the first one. I read JEP 358 and learned that the message is comuputed based on the byte code instructions. Are they different for these two scenrios? I expected both snearios to call Integer.intValue() to unbox the value.\r\n\r\n(Tested with Oracle JDK 17.0.4.1)","title":"Why unboxing of method call parameters does not lead to a helpful NullPointerException","body":"<p>I investigated helpful NullPointerExceptions from Java 14 and tested different scenarios. Surprisingly, unboxing seems to lead to helfpul NPEs in some scenarios, whereas other scenarios do not contain any error message:</p>\n<pre><code>// NPE with message 'Cannot invoke &quot;java.lang.Integer.intValue()&quot; because &quot;index&quot; is null'\nInteger index = null;\nint i = index;\n\n// NPE with message null\nList.of('a', 'b', 'c').indexOf(index);\n</code></pre>\n<p>I wonder, why the second example does not lead to the same message as the first one. I read JEP 358 and learned that the message is comuputed based on the byte code instructions. Are they different for these two scenrios? I expected both snearios to call Integer.intValue() to unbox the value.</p>\n<p>(Tested with Oracle JDK 17.0.4.1)</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1660833135,"post_id":73401154,"comment_id":129631014,"body_markdown":"Before using any tag you should read it carefully. The mono tag has nothing to do with your &quot;Mono&quot;, so don&#39;t misuse it.","body":"Before using any tag you should read it carefully. The mono tag has nothing to do with your &quot;Mono&quot;, so don&#39;t misuse it."}],"answers":[{"tags":[],"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661507574,"creation_date":1661507574,"answer_id":73499169,"question_id":73401154,"body_markdown":"[API documentation of Mono#fromRunnable](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html) states about the type parameter:\r\n\r\n&gt; The generic type of the upstream, which is preserved by this operator\r\n\r\n\r\nIt allows to use it as part of an operation chain without altering the resulting type.\r\n\r\n*Example*: \r\n\r\nThis code:\r\n\r\n```java\r\nMono&lt;String&gt; myMono = Mono.empty();\r\nmyMono = myMono.switchIfEmpty(Mono.fromRunnable(() \r\n         -&gt; System.err.println(&quot;WARNING, empty signal !&quot;)));\r\n\r\nString value = myMono.block(Duration.ofSeconds(1));\r\nSystem.out.println(&quot;Exported value is &quot;+value);\r\n```\r\n\r\n*Produces*:\r\n\r\n```log\r\nWARNING, empty signal !\r\nExported value is null\r\n```\r\n\r\nThe code above compiles fine, and provide a Mono for a String without having to add additional casts.\r\n\r\nThe posted example is not very good, but I suppose that this signature allows to use `fromRunnable` to launch side-effects in some case, without disturbing value type of the overall operation chain.\r\n\r\nIt&#39;s kinda like `Mono.empty()` with additional computing embedded with it.\r\n\r\n","title":"Why doesn&#39;t Mono.fromRunnable return Mono&lt;Void&gt;?","body":"<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">API documentation of Mono#fromRunnable</a> states about the type parameter:</p>\n<blockquote>\n<p>The generic type of the upstream, which is preserved by this operator</p>\n</blockquote>\n<p>It allows to use it as part of an operation chain without altering the resulting type.</p>\n<p><em>Example</em>:</p>\n<p>This code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;String&gt; myMono = Mono.empty();\nmyMono = myMono.switchIfEmpty(Mono.fromRunnable(() \n         -&gt; System.err.println(&quot;WARNING, empty signal !&quot;)));\n\nString value = myMono.block(Duration.ofSeconds(1));\nSystem.out.println(&quot;Exported value is &quot;+value);\n</code></pre>\n<p><em>Produces</em>:</p>\n<pre><code>WARNING, empty signal !\nExported value is null\n</code></pre>\n<p>The code above compiles fine, and provide a Mono for a String without having to add additional casts.</p>\n<p>The posted example is not very good, but I suppose that this signature allows to use <code>fromRunnable</code> to launch side-effects in some case, without disturbing value type of the overall operation chain.</p>\n<p>It's kinda like <code>Mono.empty()</code> with additional computing embedded with it.</p>\n"}],"owner":{"account_id":25504221,"reputation":11,"user_id":19296954,"display_name":"simplest"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1612,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661507574,"creation_date":1660817144,"question_id":73401154,"body_markdown":"`Runnable` returns `void` in Java. Why does `Mono.fromRunnable` return `Mono&lt;T&gt;` instead of `Mono&lt;Void&gt;`?\r\n\r\n","title":"Why doesn&#39;t Mono.fromRunnable return Mono&lt;Void&gt;?","body":"<p><code>Runnable</code> returns <code>void</code> in Java. Why does <code>Mono.fromRunnable</code> return <code>Mono&lt;T&gt;</code> instead of <code>Mono&lt;Void&gt;</code>?</p>\n"},{"tags":["java","password-encryption"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661231371,"post_id":73453407,"comment_id":129715646,"body_markdown":"try appending `value2 = value2 + line; `","body":"try appending <code>value2 = value2 + line; </code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661231848,"post_id":73453407,"comment_id":129715733,"body_markdown":"Step through your code with the debugger.","body":"Step through your code with the debugger."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661233590,"post_id":73453407,"comment_id":129716044,"body_markdown":"and clean up your code.  `throws IOException` - no it doesn&#39;t.  `String value2 =&quot;oracle&quot;;` - why? `String s = null;` - not used.","body":"and clean up your code.  <code>throws IOException</code> - no it doesn&#39;t.  <code>String value2 =&quot;oracle&quot;;</code> - why? <code>String s = null;</code> - not used."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661507461,"post_id":73453407,"comment_id":129793872,"body_markdown":"Don&#39;t encrypt passwords. See [tag:password-encryption] for why not. Hash them.","body":"Don&#39;t encrypt passwords. See <a href=\"https://stackoverflow.com/questions/tagged/password-encryption\">password-encryption</a> for why not. Hash them."}],"answers":[{"tags":[],"owner":{"account_id":408278,"reputation":9,"user_id":778846,"display_name":"pckumara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661498898,"creation_date":1661498898,"answer_id":73497509,"question_id":73453407,"body_markdown":"I was able to solve my issue by reading only 1st line of the BufferedReader.","title":"Returning null password when read decrypted password from decryppwd.sh file","body":"<p>I was able to solve my issue by reading only 1st line of the BufferedReader.</p>\n"}],"owner":{"account_id":408278,"reputation":9,"user_id":778846,"display_name":"pckumara"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73497509,"answer_count":1,"score":0,"last_activity_date":1661507508,"creation_date":1661231176,"question_id":73453407,"body_markdown":"I am working on Java web application that should get the decrypted password from .sh file.\r\n(e.g file name: decryppwd.sh)\r\n\r\nMy issue is it returns a blank password when using variable inside the decryppwd.sh file.\r\n\r\n    E.g:\r\n    #decrypted password#\r\n    pwd=&#39;Welcome123&#39;\r\n    echo pwd\r\n    #returns: &#39;&#39;\r\n\r\nBut if we directly use echo to return the password; it is returning the password from decryppwd.sh file.\r\n\r\n    E.g:\r\n    #decrypted password#\r\n    echo &#39;Welcome123&#39;\r\n    #returns: Welcome123\r\n\r\n\r\n**My code:**\r\n\r\n    public static String callPwdShellScript(String schema) throws IOException {\r\n        String s = null;\r\n        Process p =null;\r\n        String hostname =null;\r\n        String value2 =&quot;oracle&quot;;\r\n         \r\n    \r\n        try {\r\n         \t  p = Runtime.getRuntime().exec(“/usr/bin/bash /app/project/config/decryppwd.sh”);\r\n        \t\r\n    \t  BufferedInputStream buffer = new BufferedInputStream(p.getInputStream());\r\n                 BufferedReader commandResult = new BufferedReader(new InputStreamReader(buffer));\r\n                 String line = null;\r\n                 \r\n                   \twhile((line = commandResult.readLine())!=null)\r\n                   \t    {     \r\n                   \t\t\tvalue2 = line; \r\n    \t\t    }\t\r\n      \r\n        \tcatch(IOException e)\r\n    \t   \t {        \r\n    \t   \t \te.printStackTrace(); \r\n    \t   \t \tlogger.error(&quot;callPwdShellScript IOException: &quot; + e.getMessage());  \r\n    \t   \t }\r\n    \t   \t catch(Exception e) {\r\n    \t   \t\t logger.error(&quot;callPwdShellScript Exception: &quot; + e.getMessage()); \r\n    \t   \t }\r\n            \r\n            return value2; \t \r\n    }  \r\n\r\nPlease let me know where I have gone wrong.\r\n\r\n\r\n\r\n\r\n","title":"Returning null password when read decrypted password from decryppwd.sh file","body":"<p>I am working on Java web application that should get the decrypted password from .sh file.\n(e.g file name: decryppwd.sh)</p>\n<p>My issue is it returns a blank password when using variable inside the decryppwd.sh file.</p>\n<pre><code>E.g:\n#decrypted password#\npwd='Welcome123'\necho pwd\n#returns: ''\n</code></pre>\n<p>But if we directly use echo to return the password; it is returning the password from decryppwd.sh file.</p>\n<pre><code>E.g:\n#decrypted password#\necho 'Welcome123'\n#returns: Welcome123\n</code></pre>\n<p><strong>My code:</strong></p>\n<pre><code>public static String callPwdShellScript(String schema) throws IOException {\n    String s = null;\n    Process p =null;\n    String hostname =null;\n    String value2 =&quot;oracle&quot;;\n     \n\n    try {\n          p = Runtime.getRuntime().exec(“/usr/bin/bash /app/project/config/decryppwd.sh”);\n        \n      BufferedInputStream buffer = new BufferedInputStream(p.getInputStream());\n             BufferedReader commandResult = new BufferedReader(new InputStreamReader(buffer));\n             String line = null;\n             \n                while((line = commandResult.readLine())!=null)\n                    {     \n                        value2 = line; \n            }   \n  \n        catch(IOException e)\n         {        \n            e.printStackTrace(); \n            logger.error(&quot;callPwdShellScript IOException: &quot; + e.getMessage());  \n         }\n         catch(Exception e) {\n             logger.error(&quot;callPwdShellScript Exception: &quot; + e.getMessage()); \n         }\n        \n        return value2;   \n}  \n</code></pre>\n<p>Please let me know where I have gone wrong.</p>\n"},{"tags":["java","maven","jsp","jetty","netbeans-11"],"answers":[{"tags":[],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661506905,"creation_date":1661498161,"answer_id":73497383,"question_id":73417710,"body_markdown":"This was resolved by firstly upgrading the JDK being used from 1.8 to the current LTS JDK 17 version.\r\n\r\nThen, the non-Apache jetty-jsp artifact was removed, e. g. in pom.xml\r\n\r\n```\r\n&lt;!--\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-jsp&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;        \r\n--&gt;\r\n```\r\n\r\nthen add to the pom.xml\r\n\r\n```\r\n        &lt;dependency&gt; \r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n            &lt;artifactId&gt;apache-jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;        \r\n        &lt;/dependency&gt;\r\n\r\n```\r\n\r\nwith jettyVersion becoming at least \r\n\r\n```\r\n&lt;jettyVersion&gt;9.4.48.v20220622&lt;/jettyVersion&gt;\r\n```\r\n\r\nin the pom.xml.\r\n\r\nI also upgraded my Netbeans from NetBeans 11 to NetBeans 14, not sure if that also had a positive effect to get this working. Only tested so far inside NetBeans itself, haven&#39;t tried deploying the .jar yet to the operational server involved.\r\n\r\nStill experimenting if higher Jetty versions nearer to current (as of 2022-08-26) still work, but doing the above solved my issue with &quot;native&quot; Jetty JSP being deprecated in Jetty version 9.3.0.M2.\r\n\r\nOnce this was done, JSP functionality was present in the newer, higher Jetty versions beyond 9.3.0.M1.\r\n\r\nHope this helps someone.\r\n\r\nEDIT: I forgot I also had to do this to my WebappContext whens starting jetty to  make PWC6188 exception above go away when starting Jetty:\r\n\r\n```\r\n.\r\n.\r\n.\r\n            WebAppContext waContext = new WebAppContext(webDir, &quot;/&quot;);            \r\n              waContext.setInitParameter(&quot;org.eclipse.jetty.servlet.Default.dirAllowed&quot;, &quot;false&quot;);\r\n            waContext.setSecurityHandler(basicSecurity);  \r\n            \r\n            waContext.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*/[^/]*servlet-api-[^/]*\\\\.jar$|.*/javax.servlet.jsp.jstl-.*\\\\.jar$|.*/[^/]*taglibs.*\\\\.jar$&quot;);\r\n\r\n            server.setHandler(waContext);\r\n.\r\n.\r\n.\r\n```\r\n\r\ne.g. I  had to add\r\n\r\n```\r\nwaContext.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*/[^/]*servlet-api-[^/]*\\\\.jar$|.*/javax.servlet.jsp.jstl-.*\\\\.jar$|.*/[^/]*taglibs.*\\\\.jar$&quot;);\r\n```\r\n\r\nor else in Jetty 9.3.0.M2 I again had the same exception.","title":"Jetty - upgrading 9.3.0.M1 to 9.3.0.M2 breaks JSP functionality using Maven","body":"<p>This was resolved by firstly upgrading the JDK being used from 1.8 to the current LTS JDK 17 version.</p>\n<p>Then, the non-Apache jetty-jsp artifact was removed, e. g. in pom.xml</p>\n<pre><code>&lt;!--\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-jsp&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;        \n--&gt;\n</code></pre>\n<p>then add to the pom.xml</p>\n<pre><code>        &lt;dependency&gt; \n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;apache-jstl&lt;/artifactId&gt;\n            &lt;version&gt;${jettyVersion}&lt;/version&gt;        \n        &lt;/dependency&gt;\n\n</code></pre>\n<p>with jettyVersion becoming at least</p>\n<pre><code>&lt;jettyVersion&gt;9.4.48.v20220622&lt;/jettyVersion&gt;\n</code></pre>\n<p>in the pom.xml.</p>\n<p>I also upgraded my Netbeans from NetBeans 11 to NetBeans 14, not sure if that also had a positive effect to get this working. Only tested so far inside NetBeans itself, haven't tried deploying the .jar yet to the operational server involved.</p>\n<p>Still experimenting if higher Jetty versions nearer to current (as of 2022-08-26) still work, but doing the above solved my issue with &quot;native&quot; Jetty JSP being deprecated in Jetty version 9.3.0.M2.</p>\n<p>Once this was done, JSP functionality was present in the newer, higher Jetty versions beyond 9.3.0.M1.</p>\n<p>Hope this helps someone.</p>\n<p>EDIT: I forgot I also had to do this to my WebappContext whens starting jetty to  make PWC6188 exception above go away when starting Jetty:</p>\n<pre><code>.\n.\n.\n            WebAppContext waContext = new WebAppContext(webDir, &quot;/&quot;);            \n              waContext.setInitParameter(&quot;org.eclipse.jetty.servlet.Default.dirAllowed&quot;, &quot;false&quot;);\n            waContext.setSecurityHandler(basicSecurity);  \n            \n            waContext.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*/[^/]*servlet-api-[^/]*\\\\.jar$|.*/javax.servlet.jsp.jstl-.*\\\\.jar$|.*/[^/]*taglibs.*\\\\.jar$&quot;);\n\n            server.setHandler(waContext);\n.\n.\n.\n</code></pre>\n<p>e.g. I  had to add</p>\n<pre><code>waContext.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, &quot;.*/[^/]*servlet-api-[^/]*\\\\.jar$|.*/javax.servlet.jsp.jstl-.*\\\\.jar$|.*/[^/]*taglibs.*\\\\.jar$&quot;);\n</code></pre>\n<p>or else in Jetty 9.3.0.M2 I again had the same exception.</p>\n"}],"owner":{"account_id":7720988,"reputation":346,"user_id":5847235,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73497383,"answer_count":1,"score":1,"last_activity_date":1661507282,"creation_date":1660916493,"question_id":73417710,"body_markdown":"Related: https://stackoverflow.com/questions/73475420/jasper-exception-pwc6188-jetty-cannot-resolve-javax-servlet-jstl-fmt-tld-to-js\r\n\r\nRelated: https://stackoverflow.com/questions/68140774/jetty-9-migrate-from-jdk1-8-to-jdk11-http-java-sun-com-jsp-jstl-fmt-cannot-b\r\n\r\nI want to upgrade my Jetty instance as indicated above.\r\n\r\nI am at the 9.2.2.v20140723 Jetty Maven artifact currently, and I&#39;m working upward through the versions to get my Jetty instance current.\r\n\r\nBeyond Maven Jetty artifact 9.3.0.M1 (e. g. going to 9.3.0.M2 in my pom.xml), all JSP functionality stops working.\r\n\r\nThese Maven artifacts give me full JSP functionality using Jetty 9.3.0.M1 - Netbeans 11, JDK 1.8:\r\n\r\npom.xml:\r\n```\r\n.\r\n.\r\n.\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\r\n &lt;artifactId&gt;websocket-client&lt;/artifactId&gt;\r\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\r\n&lt;/dependency&gt; \r\n\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\r\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\r\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n &lt;artifactId&gt;jetty-jsp&lt;/artifactId&gt;\r\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n.\r\n.\r\n.\r\n```\r\n\r\nHOWEVER\r\n\r\nGoing to **9.3.0.M2** results in a compile-time failure e.g.\r\n\r\n```\r\nFailed to execute goal on project verdi: Could not resolve dependencies for project verishare:verdi:jar:1.0-SNAPSHOT: Could not find artifact org.eclipse.jetty:jetty-jsp:jar:9.3.0.M2 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\r\n```\r\n\r\ne. g. it appears the artifact\r\n\r\n```\r\norg.eclipse.jetty:jetty-jsp:jar:9.3.0.M1\r\n```\r\n\r\nhas been deprecated in the Central maven repo for Jetty version 9.3.0.M2 and upward.\r\n\r\n**What replaced org.eclipse.jetty:jetty-jsp:jar:9.3.0.M1?**\r\n\r\nNote that I have tried removing the pom.xml reference to jetty-jsp in my project and replacing with\r\n\r\npom.xml:\r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\r\n &lt;version&gt;9.3.0.M2&lt;/version&gt;\r\n&lt;/dependency&gt;         \r\n\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n &lt;version&gt;1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nat which point the code compiles, but trying to render any .jsp pages gives an exception.\r\n\r\nI have added to my WebAppContext as posts suggest\r\n\r\n```\r\nWebAppContext waContext = new WebAppContext(webDir, &quot;/&quot;);\r\n            waContext.setInitParameter(&quot;org.eclipse.jetty.servlet.Default.dirAllowed&quot;, &quot;false&quot;);\r\n            waContext.setSecurityHandler(basicSecurity);\r\n              waContext.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;,&quot;.*/[^/]*jstl.*\\\\.jar$&quot;);\r\n```\r\n\r\nbut the error remains the same if the 9.3.0.M2 version without the Jetty-JSP Maven artifact is run. The exception for 9.3.0.M2 with the JSTL and Apache-JSP artifacts is\r\n\r\n```\r\nHTTP ERROR 500\r\n\r\nProblem accessing /index.jsp. Reason:\r\n\r\n    Server Error\r\n\r\nCaused by:\r\n\r\norg.apache.jasper.JasperException: Unable to compile class for JSP\r\n\tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:579)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:405)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:349)\r\n\tat org.eclipse.jetty.jsp.JettyJspServlet.service(JettyJspServlet.java:107)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:806)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:587)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:526)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1128)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1062)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:113)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:507)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:284)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:237)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:240)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:93)\r\n\tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:53)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceRun.produceAndRun(ExecuteProduceRun.java:191)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceRun.run(ExecuteProduceRun.java:126)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:641)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:559)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\nCaused by: java.lang.NullPointerException\r\n\tat org.apache.jasper.JspCompilationContext.getTldResourcePath(JspCompilationContext.java:530)\r\n\tat org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:410)\r\n\tat org.apache.jasper.compiler.Parser.parseDirective(Parser.java:469)\r\n\tat org.apache.jasper.compiler.Parser.parseElements(Parser.java:1428)\r\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:139)\r\n\tat org.apache.jasper.compiler.ParserController.doParse(ParserController.java:227)\r\n\tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:100)\r\n\tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:356)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:336)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:323)\r\n\tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\r\n\t... 28 more\r\n\r\nCaused by:\r\n\r\njava.lang.NullPointerException\r\n\tat org.apache.jasper.JspCompilationContext.getTldResourcePath(JspCompilationContext.java:530)\r\n\tat org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:410)\r\n\tat org.apache.jasper.compiler.Parser.parseDirective(Parser.java:469)\r\n\tat org.apache.jasper.compiler.Parser.parseElements(Parser.java:1428)\r\n\tat org.apache.jasper.compiler.Parser.parse(Parser.java:139)\r\n\tat org.apache.jasper.compiler.ParserController.doParse(ParserController.java:227)\r\n\tat org.apache.jasper.compiler.ParserController.parse(ParserController.java:100)\r\n\tat org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:356)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:336)\r\n\tat org.apache.jasper.compiler.Compiler.compile(Compiler.java:323)\r\n\tat org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\r\n\tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\r\n\tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:405)\r\n\tat org.apache.jasper.servlet.JspServlet.service(JspServlet.java:349)\r\n\tat org.eclipse.jetty.jsp.JettyJspServlet.service(JettyJspServlet.java:107)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:806)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:587)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:526)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1128)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1062)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:113)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:507)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:284)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:237)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:240)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:93)\r\n\tat org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:53)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceRun.produceAndRun(ExecuteProduceRun.java:191)\r\n\tat org.eclipse.jetty.util.thread.strategy.ExecuteProduceRun.run(ExecuteProduceRun.java:126)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:641)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:559)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n\r\nHow can I upgrade Jetty beyond 9.3.0.M1 and retain JSP functionality?\r\n\r\nThanks!","title":"Jetty - upgrading 9.3.0.M1 to 9.3.0.M2 breaks JSP functionality using Maven","body":"<p>Related: <a href=\"https://stackoverflow.com/questions/73475420/jasper-exception-pwc6188-jetty-cannot-resolve-javax-servlet-jstl-fmt-tld-to-js\">Jasper exception PWC6188 - Jetty cannot resolve javax.servlet.jstl.fmt TLD to JSTL classes inside project</a></p>\n<p>Related: <a href=\"https://stackoverflow.com/questions/68140774/jetty-9-migrate-from-jdk1-8-to-jdk11-http-java-sun-com-jsp-jstl-fmt-cannot-b\">Jetty 9 migrate from JDK1.8 to JDK11 - http://java.sun.com/jsp/jstl/fmt cannot be resolved in JDK11 - fat exec jar</a></p>\n<p>I want to upgrade my Jetty instance as indicated above.</p>\n<p>I am at the 9.2.2.v20140723 Jetty Maven artifact currently, and I'm working upward through the versions to get my Jetty instance current.</p>\n<p>Beyond Maven Jetty artifact 9.3.0.M1 (e. g. going to 9.3.0.M2 in my pom.xml), all JSP functionality stops working.</p>\n<p>These Maven artifacts give me full JSP functionality using Jetty 9.3.0.M1 - Netbeans 11, JDK 1.8:</p>\n<p>pom.xml:</p>\n<pre><code>.\n.\n.\n&lt;dependency&gt;\n &lt;groupId&gt;org.eclipse.jetty.websocket&lt;/groupId&gt;\n &lt;artifactId&gt;websocket-client&lt;/artifactId&gt;\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\n&lt;/dependency&gt; \n\n&lt;dependency&gt;\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n &lt;artifactId&gt;jetty-servlet&lt;/artifactId&gt;\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n &lt;artifactId&gt;jetty-webapp&lt;/artifactId&gt;\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n &lt;artifactId&gt;jetty-jsp&lt;/artifactId&gt;\n &lt;version&gt;9.3.0.M1&lt;/version&gt;\n&lt;/dependency&gt;\n.\n.\n.\n</code></pre>\n<p>HOWEVER</p>\n<p>Going to <strong>9.3.0.M2</strong> results in a compile-time failure e.g.</p>\n<pre><code>Failed to execute goal on project verdi: Could not resolve dependencies for project verishare:verdi:jar:1.0-SNAPSHOT: Could not find artifact org.eclipse.jetty:jetty-jsp:jar:9.3.0.M2 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\n</code></pre>\n<p>e. g. it appears the artifact</p>\n<pre><code>org.eclipse.jetty:jetty-jsp:jar:9.3.0.M1\n</code></pre>\n<p>has been deprecated in the Central maven repo for Jetty version 9.3.0.M2 and upward.</p>\n<p><strong>What replaced org.eclipse.jetty:jetty-jsp:jar:9.3.0.M1?</strong></p>\n<p>Note that I have tried removing the pom.xml reference to jetty-jsp in my project and replacing with</p>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\n &lt;version&gt;9.3.0.M2&lt;/version&gt;\n&lt;/dependency&gt;         \n\n&lt;dependency&gt;\n &lt;groupId&gt;jstl&lt;/groupId&gt;\n &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n &lt;version&gt;1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>at which point the code compiles, but trying to render any .jsp pages gives an exception.</p>\n<p>I have added to my WebAppContext as posts suggest</p>\n<pre><code>WebAppContext waContext = new WebAppContext(webDir, &quot;/&quot;);\n            waContext.setInitParameter(&quot;org.eclipse.jetty.servlet.Default.dirAllowed&quot;, &quot;false&quot;);\n            waContext.setSecurityHandler(basicSecurity);\n              waContext.setAttribute(&quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;,&quot;.*/[^/]*jstl.*\\\\.jar$&quot;);\n</code></pre>\n<p>but the error remains the same if the 9.3.0.M2 version without the Jetty-JSP Maven artifact is run. The exception for 9.3.0.M2 with the JSTL and Apache-JSP artifacts is</p>\n<pre><code>HTTP ERROR 500\n\nProblem accessing /index.jsp. Reason:\n\n    Server Error\n\nCaused by:\n\norg.apache.jasper.JasperException: Unable to compile class for JSP\n    at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:579)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:405)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:349)\n    at org.eclipse.jetty.jsp.JettyJspServlet.service(JettyJspServlet.java:107)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:806)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:587)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:526)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1128)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1062)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:113)\n    at org.eclipse.jetty.server.Server.handle(Server.java:507)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:284)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:237)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:240)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:93)\n    at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:53)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceRun.produceAndRun(ExecuteProduceRun.java:191)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceRun.run(ExecuteProduceRun.java:126)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:641)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:559)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NullPointerException\n    at org.apache.jasper.JspCompilationContext.getTldResourcePath(JspCompilationContext.java:530)\n    at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:410)\n    at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:469)\n    at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1428)\n    at org.apache.jasper.compiler.Parser.parse(Parser.java:139)\n    at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:227)\n    at org.apache.jasper.compiler.ParserController.parse(ParserController.java:100)\n    at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:356)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:336)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:323)\n    at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\n    ... 28 more\n\nCaused by:\n\njava.lang.NullPointerException\n    at org.apache.jasper.JspCompilationContext.getTldResourcePath(JspCompilationContext.java:530)\n    at org.apache.jasper.compiler.Parser.parseTaglibDirective(Parser.java:410)\n    at org.apache.jasper.compiler.Parser.parseDirective(Parser.java:469)\n    at org.apache.jasper.compiler.Parser.parseElements(Parser.java:1428)\n    at org.apache.jasper.compiler.Parser.parse(Parser.java:139)\n    at org.apache.jasper.compiler.ParserController.doParse(ParserController.java:227)\n    at org.apache.jasper.compiler.ParserController.parse(ParserController.java:100)\n    at org.apache.jasper.compiler.Compiler.generateJava(Compiler.java:199)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:356)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:336)\n    at org.apache.jasper.compiler.Compiler.compile(Compiler.java:323)\n    at org.apache.jasper.JspCompilationContext.compile(JspCompilationContext.java:564)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:357)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:405)\n    at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:349)\n    at org.eclipse.jetty.jsp.JettyJspServlet.service(JettyJspServlet.java:107)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:806)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:587)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:526)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:223)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1128)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1062)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:113)\n    at org.eclipse.jetty.server.Server.handle(Server.java:507)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:284)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:237)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:240)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:93)\n    at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:53)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceRun.produceAndRun(ExecuteProduceRun.java:191)\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceRun.run(ExecuteProduceRun.java:126)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:641)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:559)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n<p>How can I upgrade Jetty beyond 9.3.0.M1 and retain JSP functionality?</p>\n<p>Thanks!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661506914,"post_id":73498246,"comment_id":129793702,"body_markdown":"A thread on the common pool is not inherited from your main thread, so I would think the behaviour in Java 11 is actually a bug. BTW, I assume this is an (over)simplified example, because normally you shouldn&#39;t use a thread local for the code as presented, you would just us a final or effectively final field for that.","body":"A thread on the common pool is not inherited from your main thread, so I would think the behaviour in Java 11 is actually a bug. BTW, I assume this is an (over)simplified example, because normally you shouldn&#39;t use a thread local for the code as presented, you would just us a final or effectively final field for that."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1661507061,"post_id":73498246,"comment_id":129793753,"body_markdown":"As an aside, Java 11.0.12 and 17.0.1 are not the latest versions. Try with Java 11.0.16.1 and 17.0.4.1.","body":"As an aside, Java 11.0.12 and 17.0.1 are not the latest versions. Try with Java 11.0.16.1 and 17.0.4.1."}],"owner":{"account_id":26163332,"reputation":11,"user_id":19849495,"display_name":"nguyendang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661506978,"creation_date":1661503064,"question_id":73498246,"body_markdown":"My idea is to share data from the main to the child thread (from the thread pool).\r\n\r\nI found InheritableThreadLocal\r\n\r\nBelow is my example:\r\n\r\n    public static void main(String[] args) {\r\n\t\tInheritableThreadLocal&lt;String&gt; inheritableThreadLocal =\r\n\t\t\tnew InheritableThreadLocal&lt;&gt;();\r\n\t\tSystem.out.println(&quot;Thread name: &quot; + Thread.currentThread().getName() + &quot; - Set data into inheritableThreadLocal: &quot; + &quot;ABCXYZ&quot;);\r\n\t\tinheritableThreadLocal.set(&quot;ABCXYZ&quot;);\r\n\t\tSystem.out.println();\r\n\r\n\t\tList&lt;Integer&gt; listIndex = List.of(1, 2);\r\n\t\tlistIndex\r\n\t\t\t.stream()\r\n\t\t\t.parallel()\r\n\t\t\t.map(index -&gt; {\r\n\t\t\t\tSystem.out.println(&quot;Thread name: &quot; + Thread.currentThread().getName() + &quot; - Get data from inheritableThreadLocal : &quot; + inheritableThreadLocal.get());\r\n\t\t\t\treturn inheritableThreadLocal.get();\r\n\t\t\t})\r\n\t\t\t.collect(Collectors.toList());\r\n\t}\r\n\r\nWhen tested I have strange behavior when running this example in different Java versions.\r\n\r\nJava 11.0.12:  \r\n\r\n    Thread name: main - Set data into inheritableThreadLocal: ABCXYZ\r\n    \r\n    Thread name: main - Get data from inheritableThreadLocal : ABCXYZ\r\n    Thread name: ForkJoinPool.commonPool-worker-3 - Get data from inheritableThreadLocal : ABCXYZ\r\n\r\nJava 17.0.1: \r\n\r\n    Thread name: main - Set data into inheritableThreadLocal: ABCXYZ\r\n    \r\n    Thread name: ForkJoinPool.commonPool-worker-1 - Get data from inheritableThreadLocal : null\r\n    Thread name: main - Get data from inheritableThreadLocal : ABCXYZ\r\n\r\n\r\nI do not know why have different output on different Java version like this (The thread on the pool can not find any data from inheritableThreadLocal area).\r\n\r\nCould anyone give me the answer?","title":"How to share data from Main Thread with Thread on the Common Pool","body":"<p>My idea is to share data from the main to the child thread (from the thread pool).</p>\n<p>I found InheritableThreadLocal</p>\n<p>Below is my example:</p>\n<pre><code>public static void main(String[] args) {\n    InheritableThreadLocal&lt;String&gt; inheritableThreadLocal =\n        new InheritableThreadLocal&lt;&gt;();\n    System.out.println(&quot;Thread name: &quot; + Thread.currentThread().getName() + &quot; - Set data into inheritableThreadLocal: &quot; + &quot;ABCXYZ&quot;);\n    inheritableThreadLocal.set(&quot;ABCXYZ&quot;);\n    System.out.println();\n\n    List&lt;Integer&gt; listIndex = List.of(1, 2);\n    listIndex\n        .stream()\n        .parallel()\n        .map(index -&gt; {\n            System.out.println(&quot;Thread name: &quot; + Thread.currentThread().getName() + &quot; - Get data from inheritableThreadLocal : &quot; + inheritableThreadLocal.get());\n            return inheritableThreadLocal.get();\n        })\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>When tested I have strange behavior when running this example in different Java versions.</p>\n<p>Java 11.0.12:</p>\n<pre><code>Thread name: main - Set data into inheritableThreadLocal: ABCXYZ\n\nThread name: main - Get data from inheritableThreadLocal : ABCXYZ\nThread name: ForkJoinPool.commonPool-worker-3 - Get data from inheritableThreadLocal : ABCXYZ\n</code></pre>\n<p>Java 17.0.1:</p>\n<pre><code>Thread name: main - Set data into inheritableThreadLocal: ABCXYZ\n\nThread name: ForkJoinPool.commonPool-worker-1 - Get data from inheritableThreadLocal : null\nThread name: main - Get data from inheritableThreadLocal : ABCXYZ\n</code></pre>\n<p>I do not know why have different output on different Java version like this (The thread on the pool can not find any data from inheritableThreadLocal area).</p>\n<p>Could anyone give me the answer?</p>\n"},{"tags":["java","list","file","rss","feed"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1661435175,"post_id":73488461,"comment_id":129775853,"body_markdown":"Since Feed implements Serializable, you should not be trying to write your Feed objects as text.  Instead of FileWriter and Scanner, use [ObjectOutputStream](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/ObjectOutputStream.html).writeObject and [ObjectInputStream](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/ObjectInputStream.html).readObject.","body":"Since Feed implements Serializable, you should not be trying to write your Feed objects as text.  Instead of FileWriter and Scanner, use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/ObjectOutputStream.html\" rel=\"nofollow noreferrer\">ObjectOutputStream</a>.writeObject and <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/ObjectInputStream.html\" rel=\"nofollow noreferrer\">ObjectInputStream</a>.readObject."},{"owner":{"account_id":26158307,"reputation":1,"user_id":19845260,"display_name":"clowny"},"score":0,"creation_date":1661436270,"post_id":73488461,"comment_id":129776392,"body_markdown":"I changed the saveSubscribedFeeds method like this: `public void saveSubscribedFeeds(List&lt;Feed&gt; feeds, File feedsFile) {\n\t\t\n\t\tString tmp = feeds.toString();\n\t    PrintWriter pw = null;\n\t\ttry {\n\t\t\tpw = new PrintWriter(new FileOutputStream(feedsFile));\n\t\t} catch (FileNotFoundException e) {\n\t\t\te.printStackTrace();\n\t\t}\n\t    pw.write(tmp);\n\t    pw.close();\n\t\t\n\t\t\n\t}`        I do not know if it is any good but it passes the JUnit Test","body":"I changed the saveSubscribedFeeds method like this: <code>public void saveSubscribedFeeds(List&lt;Feed&gt; feeds, File feedsFile) { \t\t \t\tString tmp = feeds.toString(); \t    PrintWriter pw = null; \t\ttry { \t\t\tpw = new PrintWriter(new FileOutputStream(feedsFile)); \t\t} catch (FileNotFoundException e) { \t\t\te.printStackTrace(); \t\t} \t    pw.write(tmp); \t    pw.close(); \t\t \t\t \t}</code>        I do not know if it is any good but it passes the JUnit Test"},{"owner":{"account_id":4440515,"reputation":1159,"user_id":3615143,"accept_rate":42,"display_name":"YvesHendseth"},"score":0,"creation_date":1661502291,"post_id":73488461,"comment_id":129792174,"body_markdown":"Please clarify what part is not working, is the method that reads the file or the method that writes into the file that is not working. Also, what error do you get? what is the current result?","body":"Please clarify what part is not working, is the method that reads the file or the method that writes into the file that is not working. Also, what error do you get? what is the current result?"}],"owner":{"account_id":26158307,"reputation":1,"user_id":19845260,"display_name":"clowny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661506704,"creation_date":1661434367,"question_id":73488461,"body_markdown":"I&#39;m gonna be honest I am panicking. I am doing an exam in a Java course and I have been stuck for some time now.\r\n\r\nI have to implement a RSS Feader and I am currently doing methods to save and load subscribed feeds. I thought I got the saveSubscribedFeeds method right because it passes the JUnit Test but I am starting to think I have some kind of error in there so that the loadSubscribeFeeds method cannot work properly. \r\n\r\nHere is the saveSubscribedFeeds method:\r\n\r\n\tpublic void saveSubscribedFeeds(List&lt;Feed&gt; feeds, File feedsFile) {\r\n\t\t\r\n\t\tFileWriter writer = null;\r\n        try {\r\n               writer = new FileWriter(feedsFile); \r\n            for(Feed f: feeds) {\r\n                writer.write(f + System.lineSeparator());\r\n            }\r\n            \r\n            writer.close();\r\n        } catch (IOException e) {\r\n                e.getMessage();\r\n        }\r\n\t\t\r\n\t}\r\n\r\nFor the loadSubscribedFeed method I already tried a Scanner, BufferedReader and FileInputStream and ObjectInputStream but nothing works. This is my current method:\r\n\r\n\tpublic List&lt;Feed&gt; loadSubscribedFeeds(File feedsFile) {\r\n\t\tScanner s = null;\r\n\t\ttry {\r\n\t\t\ts = new Scanner(feedsFile);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\t   List&lt;String&gt; listString = new ArrayList&lt;&gt;();\r\n\t\t\t    List&lt;Feed&gt; listFeed = new ArrayList&lt;&gt;();\r\n\t\t\t    \r\n\t\t\t    while (s.hasNextLine()) {\r\n\t\t\t        listString.add(s.nextLine());\r\n\t\t\t    }\r\n\t\t\t    \r\n\t\t\t    for(String f : listString) {\r\n\t\t\t    \tlistFeed.add(new Feed(f));\r\n\t\t\t    }\r\n\t\t\t    return listFeed;\r\n\t}\r\n\r\nhere is also the Feed class:\r\n```java\r\npublic class Feed implements Serializable, Comparable&lt;Feed&gt; {\r\n\t\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate String url;\r\n\tprivate String title;\r\n\tprivate String description;\r\n\tprivate String publishedDateString;\r\n\tprivate List&lt;Entry&gt; entries;\r\n\t\r\n\t\r\n\tpublic Feed(String url) {\r\n\t\tsuper();\r\n\t\tthis.url = url;\r\n\t\tthis.entries = new ArrayList&lt;Entry&gt;();\r\n\t\tthis.title = &quot;&quot;;\r\n\t\tthis.description = &quot;&quot;;\r\n\t\tthis.publishedDateString = &quot;&quot;;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Creates an instance of a Feed and transfers the feed\r\n\t * data form a SyndFeed object to the new instance.\r\n\t * @param url The URL string of this feed\r\n\t * @param sourceFeed The SyndFeed object holding the data for this feed instance\r\n\t */\r\n\tpublic Feed(String url, SyndFeed sourceFeed) {\r\n\t\tthis(url);\r\n\t\tsetTitle(sourceFeed.getTitle());\r\n\t\tsetDescription(sourceFeed.getDescription());\r\n\t\t\r\n\t\tif (sourceFeed.getPublishedDate() != null)\r\n\t\t\tsetPublishedDateString(FeaderUtils.DATE_FORMAT.format(sourceFeed.getPublishedDate()));\r\n\r\n\t\t\r\n\t\tfor (SyndEntry entryTemp : sourceFeed.getEntries()) {\r\n\t\t\tEntry entry = new Entry(entryTemp.getTitle());\r\n\t\t\tentry.setContent(entryTemp.getDescription().getValue());\r\n\t\t\tentry.setLinkUrl(entryTemp.getLink());\r\n\t\t\tentry.setParentFeedTitle(getTitle());\r\n\t\t\tif (entryTemp.getPublishedDate() != null) {\r\n\t\t\t\tentry.setPublishedDateString(FeaderUtils.DATE_FORMAT.format(entryTemp.getPublishedDate()));\r\n\t\t\t}\r\n\t\t\taddEntry(entry);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic String getUrl() {\r\n\t\treturn url;\r\n\t}\r\n\t\r\n\tpublic void setTitle(String title) {\r\n\t\tthis.title = title != null ? title : &quot;&quot;;\r\n\t}\r\n\r\n\tpublic String getTitle() {\r\n\t\treturn title;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description != null ? description : &quot;&quot;;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setPublishedDateString(String publishedDateString) {\r\n\t\tthis.publishedDateString = publishedDateString != null ? publishedDateString : &quot;&quot;;\r\n\t}\r\n\r\n\tpublic String getPublishedDateString() {\r\n\t\treturn publishedDateString;\r\n\t}\r\n\t\r\n\t/**\r\n\t * Returns a short string containing a combination of meta data for this feed\r\n\t * @return info string\r\n\t */\r\n\tpublic String getShortFeedInfo() {\r\n\t\treturn getTitle() + &quot; [&quot; +\r\n\t\t\t\tgetEntriesCount() + &quot; entries]: &quot; + \r\n\t\t\t\tgetDescription() +\r\n\t\t\t\t(getPublishedDateString() != null &amp;&amp; getPublishedDateString().length() &gt; 0\r\n\t\t\t\t\t? &quot; (updated &quot; + getPublishedDateString() + &quot;)&quot;\r\n\t\t\t\t\t: &quot;&quot;);\r\n\t}\r\n\t\r\n\tpublic void addEntry(Entry entry) {\r\n\t\tif (entry != null) entries.add(entry);\r\n\t}\r\n\r\n\tpublic List&lt;Entry&gt; getEntries() {\r\n\t\treturn entries;\r\n\t}\r\n\t\r\n\tpublic int getEntriesCount() {\r\n\t\treturn entries.size();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic boolean equals(Object obj) {\r\n\t\treturn (obj instanceof Feed)\r\n\t\t\t&amp;&amp; ((Feed)obj).getUrl().equals(url);\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic int hashCode() {\r\n\t\treturn url.hashCode();\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn getTitle();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int compareTo(Feed o) {\r\n\t\treturn getPublishedDateString().compareTo(o.getPublishedDateString());\r\n\t}\r\n\t\r\n}\r\n```\r\nMaybe someone out there will be able to help me or guide me in the correct direction.\r\nThanks already in advance.\r\n\r\n","title":"How to save and load Objects to and from a file","body":"<p>I'm gonna be honest I am panicking. I am doing an exam in a Java course and I have been stuck for some time now.</p>\n<p>I have to implement a RSS Feader and I am currently doing methods to save and load subscribed feeds. I thought I got the saveSubscribedFeeds method right because it passes the JUnit Test but I am starting to think I have some kind of error in there so that the loadSubscribeFeeds method cannot work properly.</p>\n<p>Here is the saveSubscribedFeeds method:</p>\n<pre><code>public void saveSubscribedFeeds(List&lt;Feed&gt; feeds, File feedsFile) {\n    \n    FileWriter writer = null;\n    try {\n           writer = new FileWriter(feedsFile); \n        for(Feed f: feeds) {\n            writer.write(f + System.lineSeparator());\n        }\n        \n        writer.close();\n    } catch (IOException e) {\n            e.getMessage();\n    }\n    \n}\n</code></pre>\n<p>For the loadSubscribedFeed method I already tried a Scanner, BufferedReader and FileInputStream and ObjectInputStream but nothing works. This is my current method:</p>\n<pre><code>public List&lt;Feed&gt; loadSubscribedFeeds(File feedsFile) {\n    Scanner s = null;\n    try {\n        s = new Scanner(feedsFile);\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n           List&lt;String&gt; listString = new ArrayList&lt;&gt;();\n            List&lt;Feed&gt; listFeed = new ArrayList&lt;&gt;();\n            \n            while (s.hasNextLine()) {\n                listString.add(s.nextLine());\n            }\n            \n            for(String f : listString) {\n                listFeed.add(new Feed(f));\n            }\n            return listFeed;\n}\n</code></pre>\n<p>here is also the Feed class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Feed implements Serializable, Comparable&lt;Feed&gt; {\n    \n    private static final long serialVersionUID = 1L;\n    \n    private String url;\n    private String title;\n    private String description;\n    private String publishedDateString;\n    private List&lt;Entry&gt; entries;\n    \n    \n    public Feed(String url) {\n        super();\n        this.url = url;\n        this.entries = new ArrayList&lt;Entry&gt;();\n        this.title = &quot;&quot;;\n        this.description = &quot;&quot;;\n        this.publishedDateString = &quot;&quot;;\n    }\n    \n    /**\n     * Creates an instance of a Feed and transfers the feed\n     * data form a SyndFeed object to the new instance.\n     * @param url The URL string of this feed\n     * @param sourceFeed The SyndFeed object holding the data for this feed instance\n     */\n    public Feed(String url, SyndFeed sourceFeed) {\n        this(url);\n        setTitle(sourceFeed.getTitle());\n        setDescription(sourceFeed.getDescription());\n        \n        if (sourceFeed.getPublishedDate() != null)\n            setPublishedDateString(FeaderUtils.DATE_FORMAT.format(sourceFeed.getPublishedDate()));\n\n        \n        for (SyndEntry entryTemp : sourceFeed.getEntries()) {\n            Entry entry = new Entry(entryTemp.getTitle());\n            entry.setContent(entryTemp.getDescription().getValue());\n            entry.setLinkUrl(entryTemp.getLink());\n            entry.setParentFeedTitle(getTitle());\n            if (entryTemp.getPublishedDate() != null) {\n                entry.setPublishedDateString(FeaderUtils.DATE_FORMAT.format(entryTemp.getPublishedDate()));\n            }\n            addEntry(entry);\n        }\n    }\n    \n    public String getUrl() {\n        return url;\n    }\n    \n    public void setTitle(String title) {\n        this.title = title != null ? title : &quot;&quot;;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setDescription(String description) {\n        this.description = description != null ? description : &quot;&quot;;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setPublishedDateString(String publishedDateString) {\n        this.publishedDateString = publishedDateString != null ? publishedDateString : &quot;&quot;;\n    }\n\n    public String getPublishedDateString() {\n        return publishedDateString;\n    }\n    \n    /**\n     * Returns a short string containing a combination of meta data for this feed\n     * @return info string\n     */\n    public String getShortFeedInfo() {\n        return getTitle() + &quot; [&quot; +\n                getEntriesCount() + &quot; entries]: &quot; + \n                getDescription() +\n                (getPublishedDateString() != null &amp;&amp; getPublishedDateString().length() &gt; 0\n                    ? &quot; (updated &quot; + getPublishedDateString() + &quot;)&quot;\n                    : &quot;&quot;);\n    }\n    \n    public void addEntry(Entry entry) {\n        if (entry != null) entries.add(entry);\n    }\n\n    public List&lt;Entry&gt; getEntries() {\n        return entries;\n    }\n    \n    public int getEntriesCount() {\n        return entries.size();\n    }\n    \n    @Override\n    public boolean equals(Object obj) {\n        return (obj instanceof Feed)\n            &amp;&amp; ((Feed)obj).getUrl().equals(url);\n    }\n    \n    @Override\n    public int hashCode() {\n        return url.hashCode();\n    }\n    \n    @Override\n    public String toString() {\n        return getTitle();\n    }\n\n    @Override\n    public int compareTo(Feed o) {\n        return getPublishedDateString().compareTo(o.getPublishedDateString());\n    }\n    \n}\n</code></pre>\n<p>Maybe someone out there will be able to help me or guide me in the correct direction.\nThanks already in advance.</p>\n"},{"tags":["java","dsl","truffle","graalvm"],"answers":[{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661506563,"creation_date":1661506563,"answer_id":73498973,"question_id":73488802,"body_markdown":"Sanity check: Are you using the truffle-api.jar from maven like suggested in the [docs][1]?\r\n\r\n&gt; The Language API JAR on Maven Central exports all API packages in its module-info. Apply the --upgrade-module-path option together with -Dgraalvm.locatorDisabled=true and this JAR to export Language API packages:\r\n\r\n    -Dgraalvm.locatorDisabled=true --module-path=&lt;yourModulePath&gt;:${truffle.dir} --upgrade-module-path=${truffle.dir}/truffle-api.ja\r\n\r\n\r\n  [1]: https://www.graalvm.org/22.2/graalvm-as-a-platform/implement-language/","title":"Combine custom DSL and provided languages with GraalVM / Truffle framework","body":"<p>Sanity check: Are you using the truffle-api.jar from maven like suggested in the <a href=\"https://www.graalvm.org/22.2/graalvm-as-a-platform/implement-language/\" rel=\"nofollow noreferrer\">docs</a>?</p>\n<blockquote>\n<p>The Language API JAR on Maven Central exports all API packages in its module-info. Apply the --upgrade-module-path option together with -Dgraalvm.locatorDisabled=true and this JAR to export Language API packages:</p>\n</blockquote>\n<pre><code>-Dgraalvm.locatorDisabled=true --module-path=&lt;yourModulePath&gt;:${truffle.dir} --upgrade-module-path=${truffle.dir}/truffle-api.ja\n</code></pre>\n"}],"owner":{"account_id":14540969,"reputation":491,"user_id":10502710,"display_name":"Troy Peterson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661506563,"creation_date":1661435665,"question_id":73488802,"body_markdown":"I am working with the Truffle framework on GraalVM to prototype implementation of a DSL. Currently my code application compiles the DSL directly to JVM bytecode using ASM, it then dynamically loads the generated class. In order to make it more maintainable and easier to extend I&#39;d like to implement my language on Truffle instead. \r\n\r\nI also currently use Python and JS via GraalVM / Truffle from the provided components. How can I get my language to work alongside the supplied ones? According to the documentation I need to set  &quot;-Dgraalvm.locatorDisabled=true&quot; for my language implementation to be found - this works. Without it I cannot use it. However, when I enable that then I am unable to use JS and Python. The documentation also says &quot;To still use the builtin languages add them to the module-path by pointing the module-path to all needed language homes (e.g. $GRAALVM/languages/js).&quot;.\r\n\r\nThis is not working for me. I get an error:\r\njava.lang.module.ResolutionException: Module org.graalvm.js does not read a module that exports com.oracle.truffle.api\r\n\r\nHow can I fix that.  Or alternatively, is there a better way possible to use my language along with the provided ones? It seems to me logically that there should be a programatic way to &#39;register&#39; my language with the context when I build it by passing it the language implementation class.\r\n\r\nI cannot deploy my language as a component because it is very specific to the host application and can only work in-process with my application. Building it as a component would complicate the build and deployment process and require including a massive number of additional JARS and would expose it to the wider system where it is irrelevant. \r\n\r\nFor context, the DSL in question is a query language (think SQL) that enables users to define queries for the system that efficiently interact with the in-memory cache. \r\n\r\nThanks,\r\nTroy\r\n\r\n\r\n\r\n\r\n\r\n","title":"Combine custom DSL and provided languages with GraalVM / Truffle framework","body":"<p>I am working with the Truffle framework on GraalVM to prototype implementation of a DSL. Currently my code application compiles the DSL directly to JVM bytecode using ASM, it then dynamically loads the generated class. In order to make it more maintainable and easier to extend I'd like to implement my language on Truffle instead.</p>\n<p>I also currently use Python and JS via GraalVM / Truffle from the provided components. How can I get my language to work alongside the supplied ones? According to the documentation I need to set  &quot;-Dgraalvm.locatorDisabled=true&quot; for my language implementation to be found - this works. Without it I cannot use it. However, when I enable that then I am unable to use JS and Python. The documentation also says &quot;To still use the builtin languages add them to the module-path by pointing the module-path to all needed language homes (e.g. $GRAALVM/languages/js).&quot;.</p>\n<p>This is not working for me. I get an error:\njava.lang.module.ResolutionException: Module org.graalvm.js does not read a module that exports com.oracle.truffle.api</p>\n<p>How can I fix that.  Or alternatively, is there a better way possible to use my language along with the provided ones? It seems to me logically that there should be a programatic way to 'register' my language with the context when I build it by passing it the language implementation class.</p>\n<p>I cannot deploy my language as a component because it is very specific to the host application and can only work in-process with my application. Building it as a component would complicate the build and deployment process and require including a massive number of additional JARS and would expose it to the wider system where it is irrelevant.</p>\n<p>For context, the DSL in question is a query language (think SQL) that enables users to define queries for the system that efficiently interact with the in-memory cache.</p>\n<p>Thanks,\nTroy</p>\n"},{"tags":["java","windows","intellij-idea","code-coverage"],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1567316514,"creation_date":1567310907,"answer_id":57743129,"question_id":57742666,"body_markdown":"Code coverage may not work if the path to the coverage library contains spaces. You can tell it by the following line in [idea.log](https://intellij-support.jetbrains.com/hc/articles/207241085):\r\n\r\n```\r\n2019-08-31 19:30:17,148 [ 130152]   INFO - ij.execution.JavaExecutionUtil - agent not used since the agent path contains spaces: C:\\Users\\Some User Name With Spaces\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\plugins\\coverage\\lib\r\nOne can move the agent libraries to a directory with no spaces in path and specify its path in idea.properties as java.test.agent.lib.path=&lt;path&gt; \r\n```\r\n\r\nThe workaround is to copy the specified lib directory into some new location without spaces, for example `c:\\coverage-lib`. Then in `Help` | **Edit Custom Properties** specify this new location:\r\n\r\n```\r\njava.test.agent.lib.path=c:/coverage-lib\r\n```\r\n\r\nYou also need to copy `IDEA_HOME\\lib\\intellij-coverage-agent-1.0.508.jar` (the version may be different) to the same location without spaces.\r\n\r\nRestart IntelliJ IDEA.","title":"Test coverage not working in IntelliJ IDEA","body":"<p>Code coverage may not work if the path to the coverage library contains spaces. You can tell it by the following line in <a href=\"https://intellij-support.jetbrains.com/hc/articles/207241085\" rel=\"nofollow noreferrer\">idea.log</a>:</p>\n\n<pre><code>2019-08-31 19:30:17,148 [ 130152]   INFO - ij.execution.JavaExecutionUtil - agent not used since the agent path contains spaces: C:\\Users\\Some User Name With Spaces\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\plugins\\coverage\\lib\nOne can move the agent libraries to a directory with no spaces in path and specify its path in idea.properties as java.test.agent.lib.path=&lt;path&gt; \n</code></pre>\n\n<p>The workaround is to copy the specified lib directory into some new location without spaces, for example <code>c:\\coverage-lib</code>. Then in <code>Help</code> | <strong>Edit Custom Properties</strong> specify this new location:</p>\n\n<pre><code>java.test.agent.lib.path=c:/coverage-lib\n</code></pre>\n\n<p>You also need to copy <code>IDEA_HOME\\lib\\intellij-coverage-agent-1.0.508.jar</code> (the version may be different) to the same location without spaces.</p>\n\n<p>Restart IntelliJ IDEA.</p>\n"},{"tags":[],"owner":{"account_id":22883169,"reputation":1,"user_id":17024481,"display_name":"Ethan Conrad"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661506170,"creation_date":1661506170,"answer_id":73498877,"question_id":57742666,"body_markdown":"I ran into this issue too. For me the problem was that my package name of the test class did not match the package name of the service class. Fixing these to match each other resolved it for me.","title":"Test coverage not working in IntelliJ IDEA","body":"<p>I ran into this issue too. For me the problem was that my package name of the test class did not match the package name of the service class. Fixing these to match each other resolved it for me.</p>\n"}],"owner":{"account_id":10318865,"reputation":315,"user_id":7612419,"display_name":"Sushan Baskota"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6608,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":57743129,"answer_count":2,"score":6,"last_activity_date":1661506446,"creation_date":1567302193,"question_id":57742666,"body_markdown":"While running the application with coverage, coverage is not showing. I see the difference in my logs compared to working machine logs is ***coverage-agent.jar*** is not logged in my console logs. Does anyone know the fix?\r\n\r\nI am running Intellij IDEA Ultimate 2019.2.1 and JDK version 1.8.221. I tried every option like uninstalling the IntelliJ, tried on community edition too, downgrading to a lower version, changing JDK version to higher 9 and lower 1.8.211, checked the plugins, also deleted the Intellij Settings folder but none of them worked.\r\nI reached to IntelliJ support team they also suggested to delete the IntelliJ settings folder, but that didn&#39;t work.\r\n\r\nHere is the log while running in coverage mode. Here we don&#39;t see coverage-agent jar invocation log.\r\n\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk1.8.0_221\\bin\\java.exe&quot; -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\lib\\idea_rt.jar=52886:C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\lib\\idea_rt.jar;C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\plugins\\junit\\lib\\junit-rt.jar;C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\plugins\\junit\\lib\\junit5-rt.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\ext\\jaccess.jar;C:\\Program \r\n```\r\n\r\nAnd this is the console log for the same project running on the different machine with same IntelliJ IDEA version and JDK version. Here coverage is working fine and the log has coverage-agent jar invocation log.\r\n\r\n```\r\n&quot;C:\\Program Files\\Java\\jdk1.8\\bin\\java.exe&quot; -ea -javaagent:C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\lib\\intellij-coverage-agent-1.0.508.jar=C:\\Users\\&lt;User&gt;\\AppData\\Local\\Temp\\coverage1args -Didea.test.cyclic.buffer.size=1048576 -javaagent:C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\lib\\idea_rt.jar=63530:C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\bin -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\lib\\idea_rt.jar;C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\plugins\\junit\\lib\\junit-rt.jar;C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\plugins\\junit\\lib\\junit5-rt.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\ext\\jaccess.jar;C:\\Program \r\n```\r\n\r\nHas anyone faced this kind of weird issue? My coverage was working until few days earlier.\r\n","title":"Test coverage not working in IntelliJ IDEA","body":"<p>While running the application with coverage, coverage is not showing. I see the difference in my logs compared to working machine logs is <em><strong>coverage-agent.jar</strong></em> is not logged in my console logs. Does anyone know the fix?</p>\n<p>I am running Intellij IDEA Ultimate 2019.2.1 and JDK version 1.8.221. I tried every option like uninstalling the IntelliJ, tried on community edition too, downgrading to a lower version, changing JDK version to higher 9 and lower 1.8.211, checked the plugins, also deleted the Intellij Settings folder but none of them worked.\nI reached to IntelliJ support team they also suggested to delete the IntelliJ settings folder, but that didn't work.</p>\n<p>Here is the log while running in coverage mode. Here we don't see coverage-agent jar invocation log.</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk1.8.0_221\\bin\\java.exe&quot; -ea -Didea.test.cyclic.buffer.size=1048576 &quot;-javaagent:C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\lib\\idea_rt.jar=52886:C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\bin&quot; -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\lib\\idea_rt.jar;C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\plugins\\junit\\lib\\junit-rt.jar;C:\\Users\\&lt;User&gt; Baskota\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6603.8\\plugins\\junit\\lib\\junit5-rt.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8.0_221\\jre\\lib\\ext\\jaccess.jar;C:\\Program \n</code></pre>\n<p>And this is the console log for the same project running on the different machine with same IntelliJ IDEA version and JDK version. Here coverage is working fine and the log has coverage-agent jar invocation log.</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk1.8\\bin\\java.exe&quot; -ea -javaagent:C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\lib\\intellij-coverage-agent-1.0.508.jar=C:\\Users\\&lt;User&gt;\\AppData\\Local\\Temp\\coverage1args -Didea.test.cyclic.buffer.size=1048576 -javaagent:C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\lib\\idea_rt.jar=63530:C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\bin -Dfile.encoding=UTF-8 -classpath &quot;C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\lib\\idea_rt.jar;C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\plugins\\junit\\lib\\junit-rt.jar;C:\\Users\\&lt;User&gt;\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\192.6262.58\\plugins\\junit\\lib\\junit5-rt.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\deploy.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\ext\\access-bridge-64.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\ext\\cldrdata.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\ext\\dnsns.jar;C:\\Program Files\\Java\\jdk1.8\\jre\\lib\\ext\\jaccess.jar;C:\\Program \n</code></pre>\n<p>Has anyone faced this kind of weird issue? My coverage was working until few days earlier.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":9011142,"reputation":1135,"user_id":6715678,"display_name":"mufazmi"},"score":0,"creation_date":1661474934,"post_id":73490613,"comment_id":129787261,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26143600,"reputation":9,"user_id":19832600,"display_name":"yazeed osman"},"score":0,"creation_date":1661506456,"post_id":73490613,"comment_id":129793568,"body_markdown":"i highlight it the proplem","body":"i highlight it the proplem"}],"owner":{"account_id":26143600,"reputation":9,"user_id":19832600,"display_name":"yazeed osman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661506413,"creation_date":1661443325,"question_id":73490613,"body_markdown":"[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gBPeD.png here it is","title":"error= configured to prefer settings resadpositories over project repositories but repository &#39;MavenRepo&#39; was added by build file &#39;build.gradle&#39;","body":"<p>[enter image description here][1]</p>\n<p>[1]: <a href=\"https://i.stack.imgur.com/gBPeD.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/gBPeD.png</a> here it is</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1661493128,"post_id":73496549,"comment_id":129789642,"body_markdown":"`extends AppCompatActivity` - why?","body":"<code>extends AppCompatActivity</code> - why?"},{"owner":{"account_id":17945478,"reputation":1363,"user_id":16177121,"display_name":"Sidharth Mudgil"},"score":0,"creation_date":1661493352,"post_id":73496549,"comment_id":129789696,"body_markdown":"is `TerCode` an activity? If not why extending `AppCompatActivity`","body":"is <code>TerCode</code> an activity? If not why extending <code>AppCompatActivity</code>"},{"owner":{"account_id":26163150,"reputation":37,"user_id":19849340,"display_name":"kaqnat332"},"score":0,"creation_date":1661493703,"post_id":73496549,"comment_id":129789772,"body_markdown":"i want to use getAssets","body":"i want to use getAssets"}],"answers":[{"tags":[],"owner":{"account_id":9545159,"reputation":748,"user_id":7091563,"display_name":"Nilupul Sandeepa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661506230,"creation_date":1661506230,"answer_id":73498890,"question_id":73496549,"body_markdown":"You should not be extending ```AppCompatActivity``` unless ```TerCode``` is an Activity. Remove ```AppCompatActivity``` extension and send you ```context``` of ```MainActivity``` to ```getTerCode``` method. And then use ```getAssets()``` method.\r\n\r\nMainActivity.java\r\n```\r\npackage com.example.switchdata;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\n\r\nimport tercodecomponent.TerCode;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TerCode t = new TerCode();\r\n        String s = t.getTerCode(getApplicationContext(), &quot;TERNAME&quot;);\r\n        Log.i(&quot;i&quot;, s);\r\n}\r\n```\r\n\r\nTerCode.java\r\n```\r\npackage tercodecomponent;\r\n\r\nimport android.content.Context;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class TerCode {\r\n\r\n    public String getTerCode(Context context, String iptname){\r\n\r\n        String json = &quot;&quot;;\r\n\r\n        String terCd = &quot;&quot;;\r\n        try {\r\n\r\n            InputStream is = context.getAssets().open(&quot;jsons/terData.json&quot;);  //jsonfile in assests\r\n            int fileSize = is.available();\r\n\r\n            byte[] buffer = new byte[fileSize];\r\n            is.read(buffer);\r\n            is.close();\r\n\r\n\r\n            json = new String(buffer, &quot;UTF-8&quot;);\r\n\r\n\r\n            JSONObject jsonObject = new JSONObject(json);\r\n            JSONObject res = jsonObject.getJSONObject(&quot;res&quot;);\r\n\r\n\r\n            JSONArray array = res.getJSONArray(&quot;NAME_LIST&quot;);\r\n\r\n           for (int i = 0; i &lt; array.length(); i++) {\r\n                JSONObject object = array.getJSONObject(i);\r\n\r\n                String terName = object.getString(&quot;trml_Nm&quot;);\r\n                String terCode = object.getString(&quot;trml_Cd&quot;);\r\n\r\n                if (iptname.equals(terName)) {\r\n                    terCd = terCode;\r\n                    break;\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return terCd;\r\n    }\r\n}\r\n```","title":"Call a Method of a class under other package","body":"<p>You should not be extending <code>AppCompatActivity</code> unless <code>TerCode</code> is an Activity. Remove <code>AppCompatActivity</code> extension and send you <code>context</code> of <code>MainActivity</code> to <code>getTerCode</code> method. And then use <code>getAssets()</code> method.</p>\n<p>MainActivity.java</p>\n<pre><code>package com.example.switchdata;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\n\nimport tercodecomponent.TerCode;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TerCode t = new TerCode();\n        String s = t.getTerCode(getApplicationContext(), &quot;TERNAME&quot;);\n        Log.i(&quot;i&quot;, s);\n}\n</code></pre>\n<p>TerCode.java</p>\n<pre><code>package tercodecomponent;\n\nimport android.content.Context;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class TerCode {\n\n    public String getTerCode(Context context, String iptname){\n\n        String json = &quot;&quot;;\n\n        String terCd = &quot;&quot;;\n        try {\n\n            InputStream is = context.getAssets().open(&quot;jsons/terData.json&quot;);  //jsonfile in assests\n            int fileSize = is.available();\n\n            byte[] buffer = new byte[fileSize];\n            is.read(buffer);\n            is.close();\n\n\n            json = new String(buffer, &quot;UTF-8&quot;);\n\n\n            JSONObject jsonObject = new JSONObject(json);\n            JSONObject res = jsonObject.getJSONObject(&quot;res&quot;);\n\n\n            JSONArray array = res.getJSONArray(&quot;NAME_LIST&quot;);\n\n           for (int i = 0; i &lt; array.length(); i++) {\n                JSONObject object = array.getJSONObject(i);\n\n                String terName = object.getString(&quot;trml_Nm&quot;);\n                String terCode = object.getString(&quot;trml_Cd&quot;);\n\n                if (iptname.equals(terName)) {\n                    terCd = terCode;\n                    break;\n                }\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        return terCd;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26163150,"reputation":37,"user_id":19849340,"display_name":"kaqnat332"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73498890,"answer_count":1,"score":1,"last_activity_date":1661506230,"creation_date":1661492713,"question_id":73496549,"body_markdown":"I am try to return String &#39;terCd&#39; to other package.\r\n\r\nBut, my app crash.\r\n\r\n\r\n\r\nerror message is\r\n\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.switchdata, PID: 10870 \r\n\r\njava.lang.RuntimeException: Unable to start activity \r\n\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference\r\n        \r\n\r\nat tercodecomponent.TerCode.getTerCode(TerCode.java:25)\r\n        \r\n\r\nat com.example.switchdata.MainActivity.onCreate(MainActivity.java:22)\r\n    \r\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference\r\n        \r\n        \r\n   \r\n-----------------------\r\n\r\nMainActivity.java\r\n```\r\npackage com.example.switchdata;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\n\r\n\r\nimport tercodecomponent.TerCode;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        TerCode t = new TerCode();\r\n        String s = t.getTerCode(&quot;TERNAME&quot;);\r\n        Log.i(&quot;i&quot;, s);\r\n\r\n\r\n\r\n    }\r\n```\r\nTerCode.java\r\n```\r\npackage tercodecomponent;\r\n\r\nimport android.content.Context;\r\n\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\n\r\npublic class TerCode extends AppCompatActivity {\r\n\r\n    public String getTerCode(String iptname){\r\n        Context context;\r\n\r\n        String json = &quot;&quot;;\r\n\r\n        String terCd = &quot;&quot;;\r\n        try {\r\n\r\n            InputStream is = getAssets().open(&quot;jsons/terData.json&quot;);  //jsonfile in assests\r\n            int fileSize = is.available();\r\n\r\n            byte[] buffer = new byte[fileSize];\r\n            is.read(buffer);\r\n            is.close();\r\n\r\n\r\n            json = new String(buffer, &quot;UTF-8&quot;);\r\n\r\n\r\n            JSONObject jsonObject = new JSONObject(json);\r\n            JSONObject res = jsonObject.getJSONObject(&quot;res&quot;);\r\n\r\n\r\n            JSONArray array = res.getJSONArray(&quot;NAME_LIST&quot;);\r\n\r\n           for (int i = 0; i &lt; array.length(); i++) {\r\n                JSONObject object = array.getJSONObject(i);\r\n\r\n                String terName = object.getString(&quot;trml_Nm&quot;);\r\n                String terCode = object.getString(&quot;trml_Cd&quot;);\r\n\r\n                if (iptname.equals(terName)) {\r\n                    terCd = terCode;\r\n                    break;\r\n                }\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return terCd;\r\n    }\r\n}\r\n\r\n```\r\n\r\nhow can I see &#39;Log.i(&quot;i&quot;, s);&#39;?","title":"Call a Method of a class under other package","body":"<p>I am try to return String 'terCd' to other package.</p>\n<p>But, my app crash.</p>\n<p>error message is</p>\n<p>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.switchdata, PID: 10870</p>\n<p>java.lang.RuntimeException: Unable to start activity</p>\n<p>java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference</p>\n<p>at tercodecomponent.TerCode.getTerCode(TerCode.java:25)</p>\n<p>at com.example.switchdata.MainActivity.onCreate(MainActivity.java:22)</p>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference</p>\n<hr />\n<p>MainActivity.java</p>\n<pre><code>package com.example.switchdata;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\n\n\nimport tercodecomponent.TerCode;\n\npublic class MainActivity extends AppCompatActivity {\n\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        TerCode t = new TerCode();\n        String s = t.getTerCode(&quot;TERNAME&quot;);\n        Log.i(&quot;i&quot;, s);\n\n\n\n    }\n</code></pre>\n<p>TerCode.java</p>\n<pre><code>package tercodecomponent;\n\nimport android.content.Context;\n\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport java.io.IOException;\nimport java.io.InputStream;\n\npublic class TerCode extends AppCompatActivity {\n\n    public String getTerCode(String iptname){\n        Context context;\n\n        String json = &quot;&quot;;\n\n        String terCd = &quot;&quot;;\n        try {\n\n            InputStream is = getAssets().open(&quot;jsons/terData.json&quot;);  //jsonfile in assests\n            int fileSize = is.available();\n\n            byte[] buffer = new byte[fileSize];\n            is.read(buffer);\n            is.close();\n\n\n            json = new String(buffer, &quot;UTF-8&quot;);\n\n\n            JSONObject jsonObject = new JSONObject(json);\n            JSONObject res = jsonObject.getJSONObject(&quot;res&quot;);\n\n\n            JSONArray array = res.getJSONArray(&quot;NAME_LIST&quot;);\n\n           for (int i = 0; i &lt; array.length(); i++) {\n                JSONObject object = array.getJSONObject(i);\n\n                String terName = object.getString(&quot;trml_Nm&quot;);\n                String terCode = object.getString(&quot;trml_Cd&quot;);\n\n                if (iptname.equals(terName)) {\n                    terCd = terCode;\n                    break;\n                }\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        } catch (JSONException e) {\n            e.printStackTrace();\n        }\n\n        return terCd;\n    }\n}\n\n</code></pre>\n<p>how can I see 'Log.i(&quot;i&quot;, s);'?</p>\n"},{"tags":["java","guava","auto-value"],"answers":[{"tags":[],"owner":{"account_id":96378,"reputation":1682,"user_id":261984,"accept_rate":62,"display_name":"Eddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661506068,"creation_date":1661506068,"answer_id":73498856,"question_id":73498797,"body_markdown":"There&#39;s a documented workaround in the [builders-howto documentation][1]. Quote:\r\n\r\n```\r\n  @AutoValue\r\n  public abstract class Foo {\r\n    public abstract ImmutableMap&lt;Integer, String&gt; map();\r\n    ...\r\n\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n      private final ImmutableMap.Builder&lt;Integer, String&gt; mapBuilder = ImmutableMap.builder();\r\n\r\n      public ImmutableMap.Builder&lt;Integer, String&gt; mapBuilder() {\r\n        return mapBuilder;\r\n      }\r\n\r\n      abstract Builder setMap(ImmutableMap&lt;Integer, String&gt; map); // not public\r\n\r\n      abstract Foo autoBuild(); // not public\r\n\r\n      public Foo build() {\r\n        setMap(mapBuilder.buildKeepingLast());\r\n        return autoBuild();\r\n      }\r\n\r\n      ...\r\n\r\n      // #start\r\n      // Needed only if your class has toBuilder() method\r\n      public Builder toBuilder() {\r\n        Builder builder = autoToBuilder();\r\n        builder.mapBuilder().putAll(map());\r\n        return builder;\r\n      }\r\n\r\n      abstract Builder autoToBuilder(); // not public\r\n      // #end\r\n    }\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://github.com/google/auto/blob/master/value/userguide/builders-howto.md#--create-a-builder-for-something-other-than-an-autovalue","title":"Replacing ImmutableMap keys in AutoValue with toBuilder()","body":"<p>There's a documented workaround in the <a href=\"https://github.com/google/auto/blob/master/value/userguide/builders-howto.md#--create-a-builder-for-something-other-than-an-autovalue\" rel=\"nofollow noreferrer\">builders-howto documentation</a>. Quote:</p>\n<pre><code>  @AutoValue\n  public abstract class Foo {\n    public abstract ImmutableMap&lt;Integer, String&gt; map();\n    ...\n\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n      private final ImmutableMap.Builder&lt;Integer, String&gt; mapBuilder = ImmutableMap.builder();\n\n      public ImmutableMap.Builder&lt;Integer, String&gt; mapBuilder() {\n        return mapBuilder;\n      }\n\n      abstract Builder setMap(ImmutableMap&lt;Integer, String&gt; map); // not public\n\n      abstract Foo autoBuild(); // not public\n\n      public Foo build() {\n        setMap(mapBuilder.buildKeepingLast());\n        return autoBuild();\n      }\n\n      ...\n\n      // #start\n      // Needed only if your class has toBuilder() method\n      public Builder toBuilder() {\n        Builder builder = autoToBuilder();\n        builder.mapBuilder().putAll(map());\n        return builder;\n      }\n\n      abstract Builder autoToBuilder(); // not public\n      // #end\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":96378,"reputation":1682,"user_id":261984,"accept_rate":62,"display_name":"Eddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661506068,"creation_date":1661505760,"question_id":73498797,"body_markdown":"I&#39;ve come across a problem when using AutoValue with geneated Builder and fields with Guava ImmutableMap.\r\n\r\nSay we have this Container value class:\r\n\r\n```java\r\npublic abstract class Container {\r\n   \r\n   public abstract ImmutableMap&lt;String, String&gt; metadata();\r\n\r\n   public abstract Builder toBuilder();\r\n\r\n   public static Builder builder() {\r\n      return new AutoValue_Container.Builder();\r\n   }\r\n\r\n   @AutoValue.Builder\r\n   public abstract static class Builder {\r\n\r\n      public abstract ImmutableMap.Builder&lt;String, String&gt; metadataBuilder();\r\n   \r\n      public final Builder addMetadata(String key, String value)  {\r\n         metadataBuilder().put(key, value);\r\n         return this;\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nWhen I want to do the following, the ImmutableMap builder throws\r\n` java.lang.IllegalArgumentException: Multiple entries with same key`\r\n\r\n```\r\naContainer.toBuilder().addMetadata(&quot;existingKey&quot;, &quot;someNewValue&quot;);\r\n```\r\n\r\nDoes anyone familiar with AutoValue know how to coax the implementation to do as told?","title":"Replacing ImmutableMap keys in AutoValue with toBuilder()","body":"<p>I've come across a problem when using AutoValue with geneated Builder and fields with Guava ImmutableMap.</p>\n<p>Say we have this Container value class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Container {\n   \n   public abstract ImmutableMap&lt;String, String&gt; metadata();\n\n   public abstract Builder toBuilder();\n\n   public static Builder builder() {\n      return new AutoValue_Container.Builder();\n   }\n\n   @AutoValue.Builder\n   public abstract static class Builder {\n\n      public abstract ImmutableMap.Builder&lt;String, String&gt; metadataBuilder();\n   \n      public final Builder addMetadata(String key, String value)  {\n         metadataBuilder().put(key, value);\n         return this;\n      }\n   }\n}\n</code></pre>\n<p>When I want to do the following, the ImmutableMap builder throws\n<code> java.lang.IllegalArgumentException: Multiple entries with same key</code></p>\n<pre><code>aContainer.toBuilder().addMetadata(&quot;existingKey&quot;, &quot;someNewValue&quot;);\n</code></pre>\n<p>Does anyone familiar with AutoValue know how to coax the implementation to do as told?</p>\n"},{"tags":["java","spring","rest"],"comments":[{"owner":{"account_id":5458530,"reputation":4307,"user_id":4341283,"accept_rate":50,"display_name":"STaefi"},"score":0,"creation_date":1511590024,"post_id":47482918,"comment_id":81920987,"body_markdown":"Yes it is possible, do you get an error or what?","body":"Yes it is possible, do you get an error or what?"},{"owner":{"account_id":2512916,"reputation":2168,"user_id":2184946,"accept_rate":59,"display_name":"Harsha Jayamanna"},"score":0,"creation_date":1511590121,"post_id":47482918,"comment_id":81921004,"body_markdown":"@STaefi i get a 400 error","body":"@STaefi i get a 400 error"},{"owner":{"account_id":11818558,"reputation":938,"user_id":8648223,"accept_rate":67,"display_name":"Amol Raje"},"score":0,"creation_date":1511591171,"post_id":47482918,"comment_id":81921182,"body_markdown":"use `@RequestParam` for passing `roleId` you can&#39;t pass  mutiple `@RequestBody` in one request","body":"use <code>@RequestParam</code> for passing <code>roleId</code> you can&#39;t pass  mutiple <code>@RequestBody</code> in one request"}],"answers":[{"tags":[],"owner":{"display_name":"user2080225"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511590222,"creation_date":1511589491,"answer_id":47483072,"question_id":47482918,"body_markdown":"You should create a POJO that has the properties that match your JSON and then everything is easier, because spring knows how to convert the data. You don&#39;t need any @RequestBody stuff in your DB layer. Keep that stuff in the controller. Your DB layer should just accept POJOs to persist, and not even know if it&#39;s coming from a request or not. Could be test case for example.\r\n\r\nHere&#39;s how i do it:\r\n\r\n    @RequestMapping(value = API_PATH + &quot;/signup&quot;, method = RequestMethod.POST)\r\n\t@OakSession\r\n\tpublic @ResponseBody SignupResponse signup(@RequestBody SignupRequest req) {\r\n\t\tlogRequest(&quot;signup&quot;, req);\r\n\t\tSignupResponse res = new SignupResponse();\r\n\t\tuserManagerService.signup(req, res, false);\r\n\t\treturn res;\r\n\t}\r\n\r\nTaken from here: (My project)\r\n\r\nhttps://github.com/Clay-Ferguson/meta64/blob/master/src/main/java/com/meta64/mobile/AppController.java","title":"Passing a DTO and other values in @RequestBody in Spring","body":"<p>You should create a POJO that has the properties that match your JSON and then everything is easier, because spring knows how to convert the data. You don't need any @RequestBody stuff in your DB layer. Keep that stuff in the controller. Your DB layer should just accept POJOs to persist, and not even know if it's coming from a request or not. Could be test case for example.</p>\n\n<p>Here's how i do it:</p>\n\n<pre><code>@RequestMapping(value = API_PATH + \"/signup\", method = RequestMethod.POST)\n@OakSession\npublic @ResponseBody SignupResponse signup(@RequestBody SignupRequest req) {\n    logRequest(\"signup\", req);\n    SignupResponse res = new SignupResponse();\n    userManagerService.signup(req, res, false);\n    return res;\n}\n</code></pre>\n\n<p>Taken from here: (My project)</p>\n\n<p><a href=\"https://github.com/Clay-Ferguson/meta64/blob/master/src/main/java/com/meta64/mobile/AppController.java\" rel=\"nofollow noreferrer\">https://github.com/Clay-Ferguson/meta64/blob/master/src/main/java/com/meta64/mobile/AppController.java</a></p>\n"},{"tags":[],"owner":{"account_id":11818558,"reputation":938,"user_id":8648223,"accept_rate":67,"display_name":"Amol Raje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661505890,"creation_date":1511591437,"answer_id":47483259,"question_id":47482918,"body_markdown":" try this \r\n\r\n    public User createUser( @RequestBody @Validated UserDto userDto,@RequestParam Integer roleId ){\r\n        return userService.createUser(userDto.getUsername(), userDto.getEmail(), userDto.getPassword(),roleId);\r\n    }\r\nfor passing value from url use \r\n`localhost:8085/user/user-api?roleId =45632` \r\nwith json\r\n\r\n    {\r\n      &quot;username&quot;: &quot;usernameABC&quot;,\r\n      &quot;email&quot; : &quot;abc@gmail.com&quot;,\r\n      &quot;emailRepeat&quot; : &quot;abc@gmail.com&quot;,\r\n      &quot;password&quot; : &quot;asdasd&quot;,\r\n      &quot;passwordRepeat&quot; : &quot;asdasd&quot;,\r\n    }\r\n\r\nOR \r\n\r\nyou can also add roleId into your UserDto class\r\n","title":"Passing a DTO and other values in @RequestBody in Spring","body":"<p>try this</p>\n<pre><code>public User createUser( @RequestBody @Validated UserDto userDto,@RequestParam Integer roleId ){\n    return userService.createUser(userDto.getUsername(), userDto.getEmail(), userDto.getPassword(),roleId);\n}\n</code></pre>\n<p>for passing value from url use\n<code>localhost:8085/user/user-api?roleId =45632</code>\nwith json</p>\n<pre><code>{\n  &quot;username&quot;: &quot;usernameABC&quot;,\n  &quot;email&quot; : &quot;abc@gmail.com&quot;,\n  &quot;emailRepeat&quot; : &quot;abc@gmail.com&quot;,\n  &quot;password&quot; : &quot;asdasd&quot;,\n  &quot;passwordRepeat&quot; : &quot;asdasd&quot;,\n}\n</code></pre>\n<p>OR</p>\n<p>you can also add roleId into your UserDto class</p>\n"},{"tags":[],"owner":{"account_id":25112780,"reputation":81,"user_id":18962213,"display_name":"Roon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651813736,"creation_date":1651813736,"answer_id":72136425,"question_id":47482918,"body_markdown":"You must include roleId in DTO. @RequestBody bind json into one Object.\r\n [see this post.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12893566/passing-multiple-variables-in-requestbody-to-a-spring-mvc-controller-using-ajax","title":"Passing a DTO and other values in @RequestBody in Spring","body":"<p>You must include roleId in DTO. @RequestBody bind json into one Object.\n<a href=\"https://stackoverflow.com/questions/12893566/passing-multiple-variables-in-requestbody-to-a-spring-mvc-controller-using-ajax\">see this post.</a></p>\n"}],"owner":{"account_id":2512916,"reputation":2168,"user_id":2184946,"accept_rate":59,"display_name":"Harsha Jayamanna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1661505890,"creation_date":1511587843,"question_id":47482918,"body_markdown":" I want a pass a dto and another value using the @RequestBody in spring. Something like shown in below,(This is my controller code)\r\n\r\n    public User createUser( @RequestBody @Validated UserDto userDto,@RequestBody Integer roleId ){\r\n    \t\treturn userService.createUser(userDto.getUsername(), userDto.getEmail(), userDto.getPassword(),roleId);\r\n    \t}\r\n\r\nBelow is the json I&#39;m sending via the post call.\r\n\r\n    {\r\n      &quot;username&quot;: &quot;usernameABC&quot;,\r\n      &quot;email&quot; : &quot;abc@gmail.com&quot;,\r\n      &quot;emailRepeat&quot; : &quot;abc@gmail.com&quot;,\r\n      &quot;password&quot; : &quot;asdasd&quot;,\r\n      &quot;passwordRepeat&quot; : &quot;asdasd&quot;,\r\n      &quot;roleId&quot; : 1\r\n    }\r\n\r\nIs it possible to do this? or do I have to include the **roleId** in the dto itself?","title":"Passing a DTO and other values in @RequestBody in Spring","body":"<p>I want a pass a dto and another value using the @RequestBody in spring. Something like shown in below,(This is my controller code)</p>\n\n<pre><code>public User createUser( @RequestBody @Validated UserDto userDto,@RequestBody Integer roleId ){\n        return userService.createUser(userDto.getUsername(), userDto.getEmail(), userDto.getPassword(),roleId);\n    }\n</code></pre>\n\n<p>Below is the json I'm sending via the post call.</p>\n\n<pre><code>{\n  \"username\": \"usernameABC\",\n  \"email\" : \"abc@gmail.com\",\n  \"emailRepeat\" : \"abc@gmail.com\",\n  \"password\" : \"asdasd\",\n  \"passwordRepeat\" : \"asdasd\",\n  \"roleId\" : 1\n}\n</code></pre>\n\n<p>Is it possible to do this? or do I have to include the <strong>roleId</strong> in the dto itself?</p>\n"},{"tags":["java","mockito","junit5","spy"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1661461566,"post_id":73492733,"comment_id":129785002,"body_markdown":"Interesting... Have you tried putting a breakpoint on the read method of the class ByteArrayInputStream and run your test in debug mode to see, if by any chance, you&#39;re not being called on the read unwantedly before your test makes the available verification?","body":"Interesting... Have you tried putting a breakpoint on the read method of the class ByteArrayInputStream and run your test in debug mode to see, if by any chance, you&#39;re not being called on the read unwantedly before your test makes the available verification?"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661505849,"creation_date":1661493071,"answer_id":73496579,"question_id":73492733,"body_markdown":"The behaviour you described is reproducible only on the following configuration:\r\n\r\n- mockito-core\r\n- JDK 17+\r\n\r\nThe simplest way for you to proceed is to switch to mockito-inline.\r\n\r\nIn case of mockito-core and JDK 17, the fields in the spy are not properly initialized:\r\n```\r\npublic ByteArrayInputStream(byte buf[]) {\r\n    this.buf = buf;\r\n    this.pos = 0;\r\n    this.count = buf.length;\r\n}\r\n```\r\nThe count variable should be equal to buf.length, but in the spy it is set to 0.\r\n\r\nThe problem stems from the fact that subclass mock maker is fundamentally limited on JDK17, mockito team seems to be aware of the problem and even considers switching to inline mock maker as default on JDK 17:\r\n\r\n[Switch the default mockmaker to the inline mockmaker on JDK 17+ #2589](https://github.com/mockito/mockito/issues/2589):\r\n\r\n&gt; TLDR: more and more use cases are broken (by default) with Mockito and JDK 17. That&#39;s because the subclass mockmaker runs into fundamental limitations on JDK 17, but the inline mockmaker works as expected.\r\n\r\n","title":"How to properly spy on an input stream","body":"<p>The behaviour you described is reproducible only on the following configuration:</p>\n<ul>\n<li>mockito-core</li>\n<li>JDK 17+</li>\n</ul>\n<p>The simplest way for you to proceed is to switch to mockito-inline.</p>\n<p>In case of mockito-core and JDK 17, the fields in the spy are not properly initialized:</p>\n<pre><code>public ByteArrayInputStream(byte buf[]) {\n    this.buf = buf;\n    this.pos = 0;\n    this.count = buf.length;\n}\n</code></pre>\n<p>The count variable should be equal to buf.length, but in the spy it is set to 0.</p>\n<p>The problem stems from the fact that subclass mock maker is fundamentally limited on JDK17, mockito team seems to be aware of the problem and even considers switching to inline mock maker as default on JDK 17:</p>\n<p><a href=\"https://github.com/mockito/mockito/issues/2589\" rel=\"nofollow noreferrer\">Switch the default mockmaker to the inline mockmaker on JDK 17+ #2589</a>:</p>\n<blockquote>\n<p>TLDR: more and more use cases are broken (by default) with Mockito and JDK 17. That's because the subclass mockmaker runs into fundamental limitations on JDK 17, but the inline mockmaker works as expected.</p>\n</blockquote>\n"}],"owner":{"account_id":1156433,"reputation":1407,"user_id":1136905,"accept_rate":83,"display_name":"swaechter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":73496579,"answer_count":1,"score":6,"last_activity_date":1661505849,"creation_date":1661455237,"question_id":73492733,"body_markdown":"My understanding is, that `Mockito.spy(object)` wraps a proxy around an existing object. This proxy delegates the method calls to the spied object and allows further verification (So it&#39;s different to a mock which provides no implementation).\r\n\r\nI want to spy on an input stream to ensure the close/read methods are properly called. But the following (simple) spy code doesn&#39;t work:\r\n\r\n```java\r\n// Create a spy input stream object\r\nString testData = &quot;Hello&quot;;\r\nInputStream inputStream = new ByteArrayInputStream(testData.getBytes(StandardCharsets.UTF_8));\r\nInputStream spiedInputStream = spy(inputStream);\r\nassertEquals(testData.getBytes(StandardCharsets.UTF_8).length, spiedInputStream.available()); // Fails: Expected 5, Actual 0\r\n\r\n// Read the input stream\r\nbyte [] readData = new byte[testData.length()];\r\nassertEquals(testData.getBytes(StandardCharsets.UTF_8).length, spiedInputStream.read(readData)); // Fails: Expected 5, Actual -1\r\nassertEquals(testData, new String(readData, StandardCharsets.UTF_8)); // Fails, readData is fully zeroed\r\n```\r\n\r\nSo what am I doing wrong (Ubuntu 22.04, Java 17, Mockito 4.7.0)\r\n","title":"How to properly spy on an input stream","body":"<p>My understanding is, that <code>Mockito.spy(object)</code> wraps a proxy around an existing object. This proxy delegates the method calls to the spied object and allows further verification (So it's different to a mock which provides no implementation).</p>\n<p>I want to spy on an input stream to ensure the close/read methods are properly called. But the following (simple) spy code doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a spy input stream object\nString testData = &quot;Hello&quot;;\nInputStream inputStream = new ByteArrayInputStream(testData.getBytes(StandardCharsets.UTF_8));\nInputStream spiedInputStream = spy(inputStream);\nassertEquals(testData.getBytes(StandardCharsets.UTF_8).length, spiedInputStream.available()); // Fails: Expected 5, Actual 0\n\n// Read the input stream\nbyte [] readData = new byte[testData.length()];\nassertEquals(testData.getBytes(StandardCharsets.UTF_8).length, spiedInputStream.read(readData)); // Fails: Expected 5, Actual -1\nassertEquals(testData, new String(readData, StandardCharsets.UTF_8)); // Fails, readData is fully zeroed\n</code></pre>\n<p>So what am I doing wrong (Ubuntu 22.04, Java 17, Mockito 4.7.0)</p>\n"},{"tags":["java","spring","spring-boot","soap"],"owner":{"account_id":7663885,"reputation":403,"user_id":5808194,"accept_rate":47,"display_name":"The Rock"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":489,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661505417,"creation_date":1661505417,"question_id":73498737,"body_markdown":"I am new in Spring Boot application i face an issue with xml format to soap envelope like below detail:\r\nI need to convert object from java class to xml and format xml tag to soap envelop like below:\r\n\r\nBookstore.java\r\n\r\n    package com.example.wsdltojavaclass.xmlrequest;\r\n    \r\n    import java.util.List;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlElementWrapper;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n    import javax.xml.bind.annotation.XmlSchema;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    import javax.xml.namespace.QName;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    \r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlRootElement(name = &quot;&quot;, namespace = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;)\r\n    public class Bookstore {\r\n        @XmlElementWrapper(name = &quot;bookList&quot;)\r\n        @XmlElement(name = &quot;book&quot;)\r\n        private List &lt; Book &gt; bookList;\r\n        private String name;\r\n        private String location;\r\n    \r\n    //    public void setBookList(List &lt; Book &gt; bookList) {\r\n    //        this.bookList = bookList;\r\n    //    }\r\n    //\r\n    //    public List &lt; Book &gt; getBooksList() {\r\n    //        return bookList;\r\n    //    }\r\n        \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getLocation() {\r\n            return location;\r\n        }\r\n    \r\n        public void setLocation(String location) {\r\n            this.location = location;\r\n        }\r\n    }\r\n\r\nMy Controller:\r\n\r\n\t\r\n\r\n    @GetMapping(&quot;/xml&quot;)\r\n    \tpublic void newroute() throws JAXBException, FileNotFoundException, JAXBException {\r\n    \t\tList&lt;Book&gt; bookList = new ArrayList&lt;Book&gt;();\r\n    \r\n    \t\tBookstore bookstore = new Bookstore();\r\n    \t\tbookstore.setName(&quot;Amazon Bookstore&quot;);\r\n    \t\tbookstore.setLocation(&quot;Newyorkt&quot;);\r\n    \t\tconvertObjectToXML(bookstore);\r\n    \t\t\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate static void convertObjectToXML(Bookstore bookstore) throws JAXBException, FileNotFoundException {\t\t\r\n    \t\tJAXBContext context = JAXBContext.newInstance(Bookstore.class);\r\n    \t\tMarshaller m = context.createMarshaller();\r\n    \t\tm.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n    \t\tm.marshal(bookstore, System.out);\r\n    \t\tm.marshal(bookstore, new File(BOOKSTORE_XML));\r\n    \t}\r\n\r\nAnd here is my result:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n    &lt;ns2: xmlns:ns2=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;name&gt;Amazon Bookstore&lt;/name&gt;\r\n        &lt;location&gt;Newyorkt&lt;/location&gt;\r\n    &lt;/ns2:&gt;\r\n\r\nMy expected result i need to change remove `&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;` and change format to \r\n\r\n    &lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:web=&quot;http://www.dataaccess.com/webservicesserver/&quot;&gt;\r\n       &lt;soap:Header/&gt;\r\n       &lt;soap:Body&gt;\r\n          &lt;web:name&gt;Amazon Bookstore&lt;/web:name&gt;\r\n          &lt;web:location&gt;Newyorkt&lt;/web:location&gt;\r\n       &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nSo how to change from ns2 to soap envelope?","title":"Object to xml tag and format soap envelope in Spring Boot","body":"<p>I am new in Spring Boot application i face an issue with xml format to soap envelope like below detail:\nI need to convert object from java class to xml and format xml tag to soap envelop like below:</p>\n<p>Bookstore.java</p>\n<pre><code>package com.example.wsdltojavaclass.xmlrequest;\n\nimport java.util.List;\n\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlElementWrapper;\nimport javax.xml.bind.annotation.XmlRootElement;\nimport javax.xml.bind.annotation.XmlSchema;\nimport javax.xml.bind.annotation.XmlType;\nimport javax.xml.namespace.QName;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAccessType;\n\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlRootElement(name = &quot;&quot;, namespace = &quot;http://schemas.xmlsoap.org/soap/envelope/&quot;)\npublic class Bookstore {\n    @XmlElementWrapper(name = &quot;bookList&quot;)\n    @XmlElement(name = &quot;book&quot;)\n    private List &lt; Book &gt; bookList;\n    private String name;\n    private String location;\n\n//    public void setBookList(List &lt; Book &gt; bookList) {\n//        this.bookList = bookList;\n//    }\n//\n//    public List &lt; Book &gt; getBooksList() {\n//        return bookList;\n//    }\n    \n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n}\n</code></pre>\n<p>My Controller:</p>\n<pre><code>@GetMapping(&quot;/xml&quot;)\n    public void newroute() throws JAXBException, FileNotFoundException, JAXBException {\n        List&lt;Book&gt; bookList = new ArrayList&lt;Book&gt;();\n\n        Bookstore bookstore = new Bookstore();\n        bookstore.setName(&quot;Amazon Bookstore&quot;);\n        bookstore.setLocation(&quot;Newyorkt&quot;);\n        convertObjectToXML(bookstore);\n        \n        \n    }\n\n    private static void convertObjectToXML(Bookstore bookstore) throws JAXBException, FileNotFoundException {       \n        JAXBContext context = JAXBContext.newInstance(Bookstore.class);\n        Marshaller m = context.createMarshaller();\n        m.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        m.marshal(bookstore, System.out);\n        m.marshal(bookstore, new File(BOOKSTORE_XML));\n    }\n</code></pre>\n<p>And here is my result:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2: xmlns:ns2=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;name&gt;Amazon Bookstore&lt;/name&gt;\n    &lt;location&gt;Newyorkt&lt;/location&gt;\n&lt;/ns2:&gt;\n</code></pre>\n<p>My expected result i need to change remove <code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;</code> and change format to</p>\n<pre><code>&lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:web=&quot;http://www.dataaccess.com/webservicesserver/&quot;&gt;\n   &lt;soap:Header/&gt;\n   &lt;soap:Body&gt;\n      &lt;web:name&gt;Amazon Bookstore&lt;/web:name&gt;\n      &lt;web:location&gt;Newyorkt&lt;/web:location&gt;\n   &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>So how to change from ns2 to soap envelope?</p>\n"},{"tags":["java","amazon-web-services","google-cloud-platform","google-kubernetes-engine"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":1,"creation_date":1661470017,"post_id":73494257,"comment_id":129786526,"body_markdown":"So, the two services are similar but not quite. GKE is a Managed Kubernetes service more similar to EKS. I don&#39;t know AWS well but think ECS is more similar to Cloud Run. To answer your question, you can use that Java method to get the Kubernetes cluster&#39;s credentials. You must then use a Kubernetes library to create a Config object that the Kubernetes client can then use to create a Kubernetes Job. The Container (Kubernetes) service is a meta service for connecting to clusters, interacting with clusters is done via `kubectl` or libraries.","body":"So, the two services are similar but not quite. GKE is a Managed Kubernetes service more similar to EKS. I don&#39;t know AWS well but think ECS is more similar to Cloud Run. To answer your question, you can use that Java method to get the Kubernetes cluster&#39;s credentials. You must then use a Kubernetes library to create a Config object that the Kubernetes client can then use to create a Kubernetes Job. The Container (Kubernetes) service is a meta service for connecting to clusters, interacting with clusters is done via <code>kubectl</code> or libraries."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":1,"creation_date":1661470035,"post_id":73494257,"comment_id":129786528,"body_markdown":"Have a look at Cloud Run&#39;s new [Jobs](https://cloud.google.com/run/docs/create-jobs) as this may (!?) be a closer analog to what you want on Google Cloud.","body":"Have a look at Cloud Run&#39;s new <a href=\"https://cloud.google.com/run/docs/create-jobs\" rel=\"nofollow noreferrer\">Jobs</a> as this may (!?) be a closer analog to what you want on Google Cloud."}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661505391,"creation_date":1661505391,"answer_id":73498729,"question_id":73494257,"body_markdown":"On GKE, like EKS, you are on Kubernetes environment. You can run a pod job if you want to run a Job!\r\n\r\nIn serverless world, you have Cloud Run Jobs, as mentioned by DazWilkin in the comments, but you have a timeout limited to 1H (if your job take longer prefer a PodJob, on GKE, or GKE Autopilot if y ou don&#39;t want to worry about cluster admin)\r\n\r\nYou can also have a look to the brand new [Batch service][1] on Google Cloud that perform something similar to AWS: Spawn a VM (Compute Engine) and run your container (or your code) on it. Destroy it at the end. \r\n\r\n\r\n  [1]: https://cloud.google.com/batch/docs/get-started","title":"Run job in GKE using a java client","body":"<p>On GKE, like EKS, you are on Kubernetes environment. You can run a pod job if you want to run a Job!</p>\n<p>In serverless world, you have Cloud Run Jobs, as mentioned by DazWilkin in the comments, but you have a timeout limited to 1H (if your job take longer prefer a PodJob, on GKE, or GKE Autopilot if y ou don't want to worry about cluster admin)</p>\n<p>You can also have a look to the brand new <a href=\"https://cloud.google.com/batch/docs/get-started\" rel=\"nofollow noreferrer\">Batch service</a> on Google Cloud that perform something similar to AWS: Spawn a VM (Compute Engine) and run your container (or your code) on it. Destroy it at the end.</p>\n"}],"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73498729,"answer_count":1,"score":0,"last_activity_date":1661505391,"creation_date":1661466376,"question_id":73494257,"body_markdown":"I have seen that it is possible to use the amazon aws java sdk to run jobs in an ECS cluster, this is done by using the class\r\n\r\n\r\ncom.amazonaws.services.ecs.AmazonECS;\r\n\r\nand using the method \r\n\r\nrunTask()\r\n\r\n\r\nThis is shown here https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/AmazonECS.html\r\n\r\nNow I would like to do the same but using Google Kubernetes Engine (GKE), that is, I want to be able to connect to the cluster from a java application to launch a Job inside the cluster. I have been taking a look at the class \r\n\r\n\r\nClusterManagerClient\r\n\r\nIt has a method called \r\n\r\ngetCluster()\r\n\r\nas shown here \r\n\r\nhttps://googleapis.dev/java/google-cloud-container/latest/com/google/cloud/container/v1/ClusterManagerClient.html\r\n\r\nHowever the Cluster object does not have any methods to run Jobs in the cluster\r\n\r\nhttps://googleapis.dev/java/google-cloud-container/latest/com/google/container/v1/Cluster.html\r\n\r\nI was wondering if google has any library similar to AWS to do this. ","title":"Run job in GKE using a java client","body":"<p>I have seen that it is possible to use the amazon aws java sdk to run jobs in an ECS cluster, this is done by using the class</p>\n<p>com.amazonaws.services.ecs.AmazonECS;</p>\n<p>and using the method</p>\n<p>runTask()</p>\n<p>This is shown here <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/AmazonECS.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/ecs/AmazonECS.html</a></p>\n<p>Now I would like to do the same but using Google Kubernetes Engine (GKE), that is, I want to be able to connect to the cluster from a java application to launch a Job inside the cluster. I have been taking a look at the class</p>\n<p>ClusterManagerClient</p>\n<p>It has a method called</p>\n<p>getCluster()</p>\n<p>as shown here</p>\n<p><a href=\"https://googleapis.dev/java/google-cloud-container/latest/com/google/cloud/container/v1/ClusterManagerClient.html\" rel=\"nofollow noreferrer\">https://googleapis.dev/java/google-cloud-container/latest/com/google/cloud/container/v1/ClusterManagerClient.html</a></p>\n<p>However the Cluster object does not have any methods to run Jobs in the cluster</p>\n<p><a href=\"https://googleapis.dev/java/google-cloud-container/latest/com/google/container/v1/Cluster.html\" rel=\"nofollow noreferrer\">https://googleapis.dev/java/google-cloud-container/latest/com/google/container/v1/Cluster.html</a></p>\n<p>I was wondering if google has any library similar to AWS to do this.</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600976311,"creation_date":1600976311,"answer_id":64053275,"question_id":63902641,"body_markdown":"To set **Check-in** date as `Tue 29 Sept` and **Check-out** date as `Wed 30 Sept` on https://www.booking.com/ you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use the following [tag:xpath] based [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n\tdriver.get(&quot;https://www.booking.com/index.en-gb.html?label=gen173nr-1BCAEoggI46AdIM1gEaGyIAQGYAQm4AQfIAQzYAQHoAQGIAgGoAgO4ArregvsFwAIB0gIkYWZiOGRhYmItNzgxOS00YWFjLWE2YTgtOWQwNTNkNDExYjBl2AIF4AIB;keep_landing=1&amp;sb_price_type=total&amp;&quot;);\r\n\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[contains(@class, &#39;xp__dates__checkin&#39;)]//span[contains(@class, &#39;calendar-restructure-sb&#39;)]&quot;))).click();\r\n\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class=&#39;xp-calendar&#39;]//table[@class=&#39;bui-calendar__dates&#39;]//tr//td[@data-date=&#39;2020-09-29&#39;]&quot;))).click();\r\n\tnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class=&#39;xp-calendar&#39;]//table[@class=&#39;bui-calendar__dates&#39;]//tr//td[@data-date=&#39;2020-09-30&#39;]&quot;))).click();\r\n\r\n\r\n- Browser Snapshots:\r\n\r\n[![booking_com_dates][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3AVse.png","title":"xpath to select start-date and departure-date not working for booking.com","body":"<p>To set <strong>Check-in</strong> date as <code>Tue 29 Sept</code> and <strong>Check-out</strong> date as <code>Wed 30 Sept</code> on <a href=\"https://www.booking.com/\" rel=\"nofollow noreferrer\">https://www.booking.com/</a> you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use the following <a href=\"/questions/tagged/xpath\" class=\"post-tag\" title=\"show questions tagged &#39;xpath&#39;\" rel=\"tag\">xpath</a> based <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<pre><code>driver.get(&quot;https://www.booking.com/index.en-gb.html?label=gen173nr-1BCAEoggI46AdIM1gEaGyIAQGYAQm4AQfIAQzYAQHoAQGIAgGoAgO4ArregvsFwAIB0gIkYWZiOGRhYmItNzgxOS00YWFjLWE2YTgtOWQwNTNkNDExYjBl2AIF4AIB;keep_landing=1&amp;sb_price_type=total&amp;&quot;);\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[contains(@class, 'xp__dates__checkin')]//span[contains(@class, 'calendar-restructure-sb')]&quot;))).click();\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class='xp-calendar']//table[@class='bui-calendar__dates']//tr//td[@data-date='2020-09-29']&quot;))).click();\nnew WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@class='xp-calendar']//table[@class='bui-calendar__dates']//tr//td[@data-date='2020-09-30']&quot;))).click();\n</code></pre>\n<ul>\n<li>Browser Snapshots:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/3AVse.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3AVse.png\" alt=\"booking_com_dates\" /></a></p>\n"}],"owner":{"account_id":10499540,"reputation":301,"user_id":7738644,"accept_rate":29,"display_name":"Madhusudhan R"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661505053,"creation_date":1600175652,"question_id":63902641,"body_markdown":"To select start-date and departure-date for https://www.booking.com/ my code is not giving error but date is not selected.Tried with the actions class but no use.\r\n\r\nlink:-     [booking.com][1]   \r\n\r\n\r\n    driver.findElement(By.xpath(&quot;//input[@id=&#39;ss&#39;]&quot;)).sendKeys(&quot;London&quot;);\r\n    Thread.sleep(5000);\r\n    driver.findElement(By.xpath(&quot;//span[contains(.,&#39;LondonGreater London,&#160;United Kingdom&#39;)]&quot;)).click();\r\n    Thread.sleep(9000);\r\n    driver.findElement(By.xpath(&quot;//div[@class=&#39;xp__dates-inner&#39;]&quot;)).click();\r\n\r\n    Actions startdate = new Actions(driver);\r\n    WebElement mainMenu = driver.findElement(By.xpath(&quot;.//div[@class= &#39;bui-calendar&#39;]//table[@class=&#39;bui-calendar__dates&#39;]//tr[@class=&#39;bui-calendar__row&#39;]//td[@data-date=&#39;2020-09-27&#39;]&quot;));\r\n    startdate.moveToElement(mainMenu).click().build().perform();\r\n\r\n    Thread.sleep(8000);\r\n    Actions enddate = new Actions(driver);\r\n    WebElement mainMenu1 = driver.findElement(By.xpath(&quot;.//div[@class= &#39;bui-calendar&#39;]//table[@class=&#39;bui-calendar__dates&#39;]//tr[@class=&#39;bui-calendar__row&#39;]//td[@data-date=&#39;2020-09-28&#39;]&quot;));\r\n    enddate.moveToElement(mainMenu1).click().build().perform();\r\n\r\n    driver.findElement(By.xpath(&quot;.//div[@class=&#39;sb-searchbox-submit-col -submit-button &#39;]&quot;)).click();\r\n    Thread.sleep(6000);\r\n\r\n\r\n  [1]: https://www.booking.com/index.en-gb.html?label=gen173nr-1BCAEoggI46AdIM1gEaGyIAQGYAQm4AQfIAQzYAQHoAQGIAgGoAgO4ArregvsFwAIB0gIkYWZiOGRhYmItNzgxOS00YWFjLWE2YTgtOWQwNTNkNDExYjBl2AIF4AIB;keep_landing=1&amp;sb_price_type=total&amp;","title":"xpath to select start-date and departure-date not working for booking.com","body":"<p>To select start-date and departure-date for <a href=\"https://www.booking.com/\" rel=\"nofollow noreferrer\">https://www.booking.com/</a> my code is not giving error but date is not selected.Tried with the actions class but no use.</p>\n<p>link:-     <a href=\"https://www.booking.com/index.en-gb.html?label=gen173nr-1BCAEoggI46AdIM1gEaGyIAQGYAQm4AQfIAQzYAQHoAQGIAgGoAgO4ArregvsFwAIB0gIkYWZiOGRhYmItNzgxOS00YWFjLWE2YTgtOWQwNTNkNDExYjBl2AIF4AIB;keep_landing=1&amp;sb_price_type=total&amp;\" rel=\"nofollow noreferrer\">booking.com</a></p>\n<pre><code>driver.findElement(By.xpath(&quot;//input[@id='ss']&quot;)).sendKeys(&quot;London&quot;);\nThread.sleep(5000);\ndriver.findElement(By.xpath(&quot;//span[contains(.,'LondonGreater London, United Kingdom')]&quot;)).click();\nThread.sleep(9000);\ndriver.findElement(By.xpath(&quot;//div[@class='xp__dates-inner']&quot;)).click();\n\nActions startdate = new Actions(driver);\nWebElement mainMenu = driver.findElement(By.xpath(&quot;.//div[@class= 'bui-calendar']//table[@class='bui-calendar__dates']//tr[@class='bui-calendar__row']//td[@data-date='2020-09-27']&quot;));\nstartdate.moveToElement(mainMenu).click().build().perform();\n\nThread.sleep(8000);\nActions enddate = new Actions(driver);\nWebElement mainMenu1 = driver.findElement(By.xpath(&quot;.//div[@class= 'bui-calendar']//table[@class='bui-calendar__dates']//tr[@class='bui-calendar__row']//td[@data-date='2020-09-28']&quot;));\nenddate.moveToElement(mainMenu1).click().build().perform();\n\ndriver.findElement(By.xpath(&quot;.//div[@class='sb-searchbox-submit-col -submit-button ']&quot;)).click();\nThread.sleep(6000);\n</code></pre>\n"},{"tags":["java","opencv","jvm","contour","jvm-crash"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1573463488,"post_id":58797931,"comment_id":103877281,"body_markdown":"It might be very helpful for others if you could add some more information about the used Linux distribution, the installed libopencv library and posting a small snippet which could be used to reproduce the issue.","body":"It might be very helpful for others if you could add some more information about the used Linux distribution, the installed libopencv library and posting a small snippet which could be used to reproduce the issue."},{"owner":{"account_id":6877756,"reputation":1,"user_id":5285640,"display_name":"Abhinav Parashar"},"score":0,"creation_date":1573465469,"post_id":58797931,"comment_id":103878217,"body_markdown":"Added more details.","body":"Added more details."},{"owner":{"account_id":2698713,"reputation":131,"user_id":2330004,"display_name":"narendraj9"},"score":0,"creation_date":1672748846,"post_id":58797931,"comment_id":132340613,"body_markdown":"Have you figured out what the problem was?","body":"Have you figured out what the problem was?"}],"owner":{"account_id":6877756,"reputation":1,"user_id":5285640,"display_name":"Abhinav Parashar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661505047,"creation_date":1573461329,"question_id":58797931,"body_markdown":"I am getting frequent JVM crash. Using opencv with Java Imgproc library. It gets called from findContours function of Imgproc library. \r\n\r\n&gt; Stack: [0x00007febe3875000,0x00007febe38f6000], \r\n&gt; sp=0x00007febe38f3ea0,  free space=507k Native frames: (J=compiled\r\n&gt; Java code, j=interpreted, Vv=VM code, C=native code) C \r\n&gt; [libopencv_java342.so+0x4a63f4]  cv::_OutputArray::create(int, int\r\n&gt; const*, int, int, bool, int) const+0x1b4\r\n&gt; \r\n&gt; Java frames: (J=compiled Java code, j=interpreted, Vv=VM code) J\r\n&gt; 103505  org.opencv.imgproc.Imgproc.findContours_1(JJJII)V (0 bytes) @\r\n&gt; 0x00007fecec55770e [0x00007fecec5576c0+0x4e]\r\n\r\n\r\nFatal error : \r\n\r\n&gt;  A fatal error has been detected by the Java Runtime Environment:\r\n&gt; \r\n&gt;   SIGSEGV (0xb) at pc=0x00007febd82453f4, pid=3462, tid=0x00007febe38f5700\r\n&gt; \r\n&gt;  JRE version: Java(TM) SE Runtime Environment (8.0_141-b15) (build 1.8.0_141-b15)\r\n&gt;  Java VM: Java HotSpot(TM) 64-Bit Server VM (25.141-b15 mixed mode linux-amd64 compressed oops)\r\n&gt;  Problematic frame:\r\n&gt;  C  [libopencv_java342.so+0x4a63f4]  cv::_OutputArray::create(int, int const*, int, int, bool, int) const+0x1b4\r\n&gt; \r\n&gt;  Failed to write core dump. Core dumps have been disabled. To enable core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n\r\nAdditional details : \r\n\r\nTried tuning JVM memory but didn&#39;t help. Any help would be appreciated.\r\n\r\nWe are using [Imgproc JAVA library][1] which usage libopencv_java342.so underneath. OS is Amazon Linux AMI VERSION=&quot;2018.03 (based on rhel fedora) \r\n\r\nBelow function of opencv is getting called from the library. \r\n\r\n&gt; private static native void findContours(long image_nativeObj, long\r\n&gt; contours_mat_nativeObj, long hierarchy_nativeObj, int mode, int\r\n&gt; method);\r\n\r\n  [1]: https://docs.opencv.org/2.4/modules/imgproc/doc/imgproc.html","title":"Frequent JVM crash by SIGSEGV on cv::_OutputArray::create at libopencv_java342.so","body":"<p>I am getting frequent JVM crash. Using opencv with Java Imgproc library. It gets called from findContours function of Imgproc library. </p>\n\n<blockquote>\n  <p>Stack: [0x00007febe3875000,0x00007febe38f6000], \n  sp=0x00007febe38f3ea0,  free space=507k Native frames: (J=compiled\n  Java code, j=interpreted, Vv=VM code, C=native code) C \n  [libopencv_java342.so+0x4a63f4]  cv::_OutputArray::create(int, int\n  const*, int, int, bool, int) const+0x1b4</p>\n  \n  <p>Java frames: (J=compiled Java code, j=interpreted, Vv=VM code) J\n  103505  org.opencv.imgproc.Imgproc.findContours_1(JJJII)V (0 bytes) @\n  0x00007fecec55770e [0x00007fecec5576c0+0x4e]</p>\n</blockquote>\n\n<p>Fatal error : </p>\n\n<blockquote>\n  <p>A fatal error has been detected by the Java Runtime Environment:</p>\n  \n  <p>SIGSEGV (0xb) at pc=0x00007febd82453f4, pid=3462, tid=0x00007febe38f5700</p>\n  \n  <p>JRE version: Java(TM) SE Runtime Environment (8.0_141-b15) (build 1.8.0_141-b15)\n   Java VM: Java HotSpot(TM) 64-Bit Server VM (25.141-b15 mixed mode linux-amd64 compressed oops)\n   Problematic frame:\n   C  [libopencv_java342.so+0x4a63f4]  cv::_OutputArray::create(int, int const*, int, int, bool, int) const+0x1b4</p>\n  \n  <p>Failed to write core dump. Core dumps have been disabled. To enable core dumping, try \"ulimit -c unlimited\" before starting Java again</p>\n</blockquote>\n\n<p>Additional details : </p>\n\n<p>Tried tuning JVM memory but didn't help. Any help would be appreciated.</p>\n\n<p>We are using <a href=\"https://docs.opencv.org/2.4/modules/imgproc/doc/imgproc.html\" rel=\"nofollow noreferrer\">Imgproc JAVA library</a> which usage libopencv_java342.so underneath. OS is Amazon Linux AMI VERSION=\"2018.03 (based on rhel fedora) </p>\n\n<p>Below function of opencv is getting called from the library. </p>\n\n<blockquote>\n  <p>private static native void findContours(long image_nativeObj, long\n  contours_mat_nativeObj, long hierarchy_nativeObj, int mode, int\n  method);</p>\n</blockquote>\n"},{"tags":["java","unit-testing","testng","testng.xml"],"owner":{"account_id":2500437,"reputation":1762,"user_id":2175704,"display_name":"Sameera De Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1661505037,"creation_date":1661500512,"question_id":73497820,"body_markdown":"\r\nIn my TestNG.xml file , I have two different  values for Test level parameter, &quot;TestRailRunId&quot;.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite thread-count=&quot;4&quot; name=&quot;Change_Management_Regression_Suite&quot; parallel=&quot;tests&quot;&gt;\r\n        &lt;listeners&gt;\r\n            &lt;listener class-name=&quot;com.sam.reporting.SuiteListener&quot; /&gt;\r\n            &lt;listener class-name=&quot;com.sam.reporting.Listeners&quot; /&gt;\r\n        &lt;/listeners&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;Chrome&quot; /&gt;\r\n        &lt;parameter name=&quot;browserVersion&quot; value=&quot;104&quot; /&gt;\r\n        &lt;test  name=&quot;CM-04&quot;&gt;\r\n            &lt;parameter name=&quot;TestRailRunId&quot; value=&quot;200&quot; /&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;com.sam.testdata.TC01&quot;/&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt; &lt;!-- Test --&gt;\r\n        &lt;test  name=&quot;CM-04&quot;&gt;\r\n            &lt;parameter name=&quot;TestRailRunId&quot; value=&quot;201&quot; /&gt;\r\n            &lt;classes&gt;\r\n                &lt;class name=&quot;com.sam.testdata.TC02&quot;/&gt;\r\n            &lt;/classes&gt;\r\n        &lt;/test&gt; &lt;!-- Test --&gt;\r\n    &lt;/suite&gt;\r\n\r\nSo in my &quot;SuiteListener&quot; class I implements ISuiteListener class. So in  it&#39;s onStart method,\r\nI want to get the TestRailRunId value  from current test.\r\n\r\nIS this possible? If so please help.\r\n\r\nCurrently what I did was defining it in Suite level and using below code snippet ,get the value.\r\n\r\n     String TestRailRunId = suite.getXmlSuite().getParameter(&quot;TestRailRunId&quot;);\r\n\r\nHere is the current full code.\r\n\r\n    @Override\r\n    public void onStart(ISuite suite) {\r\n     String TestRailRunId = suite.getXmlSuite().getParameter(&quot;TestRailRunId&quot;);\t\t\r\n    }","title":"TestNG get the value of &quot;test&quot; level parameter from &quot;ISuiteListener&quot; class&#39;s &quot;onStart&quot; method","body":"<p>In my TestNG.xml file , I have two different  values for Test level parameter, &quot;TestRailRunId&quot;.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite thread-count=&quot;4&quot; name=&quot;Change_Management_Regression_Suite&quot; parallel=&quot;tests&quot;&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name=&quot;com.sam.reporting.SuiteListener&quot; /&gt;\n        &lt;listener class-name=&quot;com.sam.reporting.Listeners&quot; /&gt;\n    &lt;/listeners&gt;\n    &lt;parameter name=&quot;browser&quot; value=&quot;Chrome&quot; /&gt;\n    &lt;parameter name=&quot;browserVersion&quot; value=&quot;104&quot; /&gt;\n    &lt;test  name=&quot;CM-04&quot;&gt;\n        &lt;parameter name=&quot;TestRailRunId&quot; value=&quot;200&quot; /&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.sam.testdata.TC01&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt; &lt;!-- Test --&gt;\n    &lt;test  name=&quot;CM-04&quot;&gt;\n        &lt;parameter name=&quot;TestRailRunId&quot; value=&quot;201&quot; /&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;com.sam.testdata.TC02&quot;/&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt; &lt;!-- Test --&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>So in my &quot;SuiteListener&quot; class I implements ISuiteListener class. So in  it's onStart method,\nI want to get the TestRailRunId value  from current test.</p>\n<p>IS this possible? If so please help.</p>\n<p>Currently what I did was defining it in Suite level and using below code snippet ,get the value.</p>\n<pre><code> String TestRailRunId = suite.getXmlSuite().getParameter(&quot;TestRailRunId&quot;);\n</code></pre>\n<p>Here is the current full code.</p>\n<pre><code>@Override\npublic void onStart(ISuite suite) {\n String TestRailRunId = suite.getXmlSuite().getParameter(&quot;TestRailRunId&quot;);      \n}\n</code></pre>\n"},{"tags":["java","android","android-mediasession","mediabrowserservicecompat"],"answers":[{"tags":[],"owner":{"account_id":2020103,"reputation":550,"user_id":1806493,"display_name":"GGK stands for Ukraine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661504904,"creation_date":1661504904,"answer_id":73498629,"question_id":73489270,"body_markdown":"note the following procedure, please:\r\n\r\n`FLAG_Browsable`: use this flag, then the MediaID is returned in `getLoadChildren`.\r\n\r\n`FLAG_PLAYABLE`: use this flag, then the MediaID is returned to `onPlayFromMediaID`. In `onPlayFromMediaID`you have to put the logic how your `mediaPlayer`knows what to do with the handed over `mediaID`\r\n\r\nI noticed that you didn&#39;t define any tabs. In `onLoadChildren` several queries on the `mediaID` make sense. The first level defines the tabs - these are missing in the post or in your code.\r\n\r\ne.g:\r\n        \r\n            MediaDescriptionCompat desc =\r\n                    new MediaDescriptionCompat.Builder()\r\n                            .setMediaId(AUDIOBOOK_HEADER)\r\n                            .setTitle(&quot;Library&quot;)\r\n                            .build();\r\n\r\n            MediaBrowserCompat.MediaItem albumList =\r\n                    new MediaBrowserCompat.MediaItem(desc,\r\n                            MediaBrowserCompat.MediaItem.FLAG_BROWSABLE);\r\n            mediaItems.add(albumList);\r\n\r\n            desc =\r\n                    new MediaDescriptionCompat.Builder()\r\n                            .setMediaId(LATEST_HEADER)\r\n                            .setTitle(&quot;Recently played&quot;)\r\n                            .build();\r\n\r\n            itemList =\r\n                    new MediaBrowserCompat.MediaItem(desc,\r\n                            MediaBrowserCompat.MediaItem.FLAG_BROWSABLE);\r\n            mediaItems.add(itemList);\r\n\r\n","title":"Android Auto - click on list entry put nothing happens","body":"<p>note the following procedure, please:</p>\n<p><code>FLAG_Browsable</code>: use this flag, then the MediaID is returned in <code>getLoadChildren</code>.</p>\n<p><code>FLAG_PLAYABLE</code>: use this flag, then the MediaID is returned to <code>onPlayFromMediaID</code>. In <code>onPlayFromMediaID</code>you have to put the logic how your <code>mediaPlayer</code>knows what to do with the handed over <code>mediaID</code></p>\n<p>I noticed that you didn't define any tabs. In <code>onLoadChildren</code> several queries on the <code>mediaID</code> make sense. The first level defines the tabs - these are missing in the post or in your code.</p>\n<p>e.g:</p>\n<pre><code>        MediaDescriptionCompat desc =\n                new MediaDescriptionCompat.Builder()\n                        .setMediaId(AUDIOBOOK_HEADER)\n                        .setTitle(&quot;Library&quot;)\n                        .build();\n\n        MediaBrowserCompat.MediaItem albumList =\n                new MediaBrowserCompat.MediaItem(desc,\n                        MediaBrowserCompat.MediaItem.FLAG_BROWSABLE);\n        mediaItems.add(albumList);\n\n        desc =\n                new MediaDescriptionCompat.Builder()\n                        .setMediaId(LATEST_HEADER)\n                        .setTitle(&quot;Recently played&quot;)\n                        .build();\n\n        itemList =\n                new MediaBrowserCompat.MediaItem(desc,\n                        MediaBrowserCompat.MediaItem.FLAG_BROWSABLE);\n        mediaItems.add(itemList);\n</code></pre>\n"}],"owner":{"account_id":17571005,"reputation":160,"user_id":12746725,"display_name":"Alejandro Gomez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73498629,"answer_count":1,"score":0,"last_activity_date":1661504904,"creation_date":1661437486,"question_id":73489270,"body_markdown":"I&#39;m struggling with Android Auto using Desktop Head Unit Emulator.\r\nSo far I create my media app in Android Auto, start it and all media albums where shown.\r\n\r\nHowever, when I click on an entry, nothing happens.\r\nIt is not clear to me how to catch the click in order to further start an action.\r\n\r\n        @Nullable\r\n    @Override\r\n    public BrowserRoot onGetRoot(@NonNull String clientPackageName, int clientUid, @Nullable Bundle rootHints) {\r\n\r\n        int maximumRootChildLimit = rootHints.getInt(\r\n                MediaConstants.BROWSER_ROOT_HINTS_KEY_ROOT_CHILDREN_LIMIT,\r\n                /* defaultValue= */ 4);\r\n\r\n        Bundle extras = new Bundle();\r\n        extras.putInt(\r\n                MediaConstants.DESCRIPTION_EXTRAS_KEY_CONTENT_STYLE_BROWSABLE,\r\n                MediaConstants.DESCRIPTION_EXTRAS_VALUE_CONTENT_STYLE_GRID_ITEM);\r\n        extras.putInt(\r\n                MediaConstants.DESCRIPTION_EXTRAS_KEY_CONTENT_STYLE_PLAYABLE,\r\n                MediaConstants.DESCRIPTION_EXTRAS_VALUE_CONTENT_STYLE_LIST_ITEM);\r\n        extras.putBoolean(\r\n                MediaConstants.BROWSER_SERVICE_EXTRAS_KEY_SEARCH_SUPPORTED, true);\r\n\r\n        return new BrowserRoot(MY_MEDIA_ROOT_ID, extras);\r\n\t}\r\n\r\n    @Override\r\n    public void onLoadChildren(@NonNull String parentId, @NonNull Result&lt;List&lt;MediaBrowserCompat.MediaItem&gt;&gt; result) {\r\n         if (MY_MEDIA_ROOT_ID.equals(parentId)) {\r\n              for (Album album : allAlbums) {\r\n              .....\r\n              MediaDescriptionCompat desc =\r\n                        new MediaDescriptionCompat.Builder()\r\n                                .setMediaId(mediaID)\r\n                                .setTitle(title)\r\n                                .setSubtitle(artist)\r\n                                .setIconBitmap(bitmap(mediaID))\r\n                                .setExtras(extras)\r\n                                .build();\r\n              mediaItems.add(albumList);\r\n              }\r\n         }\r\n         result.sendResult(mediaItems);\r\n     }\r\n\r\n\r\nI set the mediaID in my `PlaybackStateCompat.Builder`:\r\n\r\n    Bundle playbackStateExtras = new Bundle();\r\n        playbackStateExtras.putString(\r\n                MediaConstants.PLAYBACK_STATE_EXTRAS_KEY_MEDIA_ID,&quot;mediaID&quot;);\r\n        playbackstateBuilder.setExtras(playbackStateExtras);\r\n\r\nI set the mediaID in my `MediaMetadataCompat.Builder`\r\n\r\n    metadataBuilder.putString(MediaMetadata.METADATA_KEY_MEDIA_ID,&quot;mediaID&quot;);\r\n    mMediaSessionCompat.setMetadata(metadataBuilder.build());\r\n\r\nWhat have I overlooked in the documentation or didn&#39;t understand.\r\n\r\nThanks\r\nAlejandro","title":"Android Auto - click on list entry put nothing happens","body":"<p>I'm struggling with Android Auto using Desktop Head Unit Emulator.\nSo far I create my media app in Android Auto, start it and all media albums where shown.</p>\n<p>However, when I click on an entry, nothing happens.\nIt is not clear to me how to catch the click in order to further start an action.</p>\n<pre><code>    @Nullable\n@Override\npublic BrowserRoot onGetRoot(@NonNull String clientPackageName, int clientUid, @Nullable Bundle rootHints) {\n\n    int maximumRootChildLimit = rootHints.getInt(\n            MediaConstants.BROWSER_ROOT_HINTS_KEY_ROOT_CHILDREN_LIMIT,\n            /* defaultValue= */ 4);\n\n    Bundle extras = new Bundle();\n    extras.putInt(\n            MediaConstants.DESCRIPTION_EXTRAS_KEY_CONTENT_STYLE_BROWSABLE,\n            MediaConstants.DESCRIPTION_EXTRAS_VALUE_CONTENT_STYLE_GRID_ITEM);\n    extras.putInt(\n            MediaConstants.DESCRIPTION_EXTRAS_KEY_CONTENT_STYLE_PLAYABLE,\n            MediaConstants.DESCRIPTION_EXTRAS_VALUE_CONTENT_STYLE_LIST_ITEM);\n    extras.putBoolean(\n            MediaConstants.BROWSER_SERVICE_EXTRAS_KEY_SEARCH_SUPPORTED, true);\n\n    return new BrowserRoot(MY_MEDIA_ROOT_ID, extras);\n}\n\n@Override\npublic void onLoadChildren(@NonNull String parentId, @NonNull Result&lt;List&lt;MediaBrowserCompat.MediaItem&gt;&gt; result) {\n     if (MY_MEDIA_ROOT_ID.equals(parentId)) {\n          for (Album album : allAlbums) {\n          .....\n          MediaDescriptionCompat desc =\n                    new MediaDescriptionCompat.Builder()\n                            .setMediaId(mediaID)\n                            .setTitle(title)\n                            .setSubtitle(artist)\n                            .setIconBitmap(bitmap(mediaID))\n                            .setExtras(extras)\n                            .build();\n          mediaItems.add(albumList);\n          }\n     }\n     result.sendResult(mediaItems);\n }\n</code></pre>\n<p>I set the mediaID in my <code>PlaybackStateCompat.Builder</code>:</p>\n<pre><code>Bundle playbackStateExtras = new Bundle();\n    playbackStateExtras.putString(\n            MediaConstants.PLAYBACK_STATE_EXTRAS_KEY_MEDIA_ID,&quot;mediaID&quot;);\n    playbackstateBuilder.setExtras(playbackStateExtras);\n</code></pre>\n<p>I set the mediaID in my <code>MediaMetadataCompat.Builder</code></p>\n<pre><code>metadataBuilder.putString(MediaMetadata.METADATA_KEY_MEDIA_ID,&quot;mediaID&quot;);\nmMediaSessionCompat.setMetadata(metadataBuilder.build());\n</code></pre>\n<p>What have I overlooked in the documentation or didn't understand.</p>\n<p>Thanks\nAlejandro</p>\n"},{"tags":["java","midi","javax.sound.midi"],"answers":[{"tags":[],"owner":{"account_id":6062924,"reputation":146,"user_id":4734193,"display_name":"Troy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429127048,"creation_date":1429127048,"answer_id":29659425,"question_id":29659219,"body_markdown":"Have you checked out [Oracle MIDI-messages][1]?\n\n&gt; Closing Connections\n&gt;\n&gt;Once you&#39;re done with a connection, you can free up its resources by invoking the close method for each transmitter and receiver that you&#39;ve obtained. The Transmitter and Receiver interfaces each have a close method. Note that invoking Transmitter.setReceiver doesn&#39;t close the transmitter&#39;s current receiver. The receiver is left open, and it can still receive messages from any other transmitter that&#39;s connected to it.\n&gt;\n&gt;If you&#39;re also done with the devices, you can similarly make them available to other application programs by invoking MidiDevice.close(). Closing a device automatically closes all its transmitters and receivers.\n\n\n\n  [1]: http://docs.oracle.com/javase/tutorial/sound/MIDI-messages.html","title":"How to close a midi device?","body":"<p>Have you checked out <a href=\"http://docs.oracle.com/javase/tutorial/sound/MIDI-messages.html\" rel=\"nofollow noreferrer\">Oracle MIDI-messages</a>?</p>\n<blockquote>\n<p>Closing Connections</p>\n<p>Once you're done with a connection, you can free up its resources by invoking the close method for each transmitter and receiver that you've obtained. The Transmitter and Receiver interfaces each have a close method. Note that invoking Transmitter.setReceiver doesn't close the transmitter's current receiver. The receiver is left open, and it can still receive messages from any other transmitter that's connected to it.</p>\n<p>If you're also done with the devices, you can similarly make them available to other application programs by invoking MidiDevice.close(). Closing a device automatically closes all its transmitters and receivers.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429127059,"creation_date":1429127059,"answer_id":29659429,"question_id":29659219,"body_markdown":"You can call [MidiDevice::close()][1]\r\n&gt;explicit closing is done by calling close()\r\n\r\nBut the MIDI devices extends `Autocloseable`, so, according to the API, you have to close the `Transmitter` or `Receiver`. \r\n\r\nIn the [API][2]:\r\n&gt;**The device is closed after the last Receiver or Transmitter has been closed.** On the other hand, calling getReceiver or getTransmitter on the device instance directly does not open the device implicitly. Closing these Transmitters and Receivers does not close the device implicitly.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/sound/midi/MidiDevice.html#close()\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/javax/sound/midi/MidiDevice.html","title":"How to close a midi device?","body":"<p>You can call <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/sound/midi/MidiDevice.html#close()\" rel=\"nofollow\">MidiDevice::close()</a></p>\n\n<blockquote>\n  <p>explicit closing is done by calling close()</p>\n</blockquote>\n\n<p>But the MIDI devices extends <code>Autocloseable</code>, so, according to the API, you have to close the <code>Transmitter</code> or <code>Receiver</code>. </p>\n\n<p>In the <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/sound/midi/MidiDevice.html\" rel=\"nofollow\">API</a>:</p>\n\n<blockquote>\n  <p><strong>The device is closed after the last Receiver or Transmitter has been closed.</strong> On the other hand, calling getReceiver or getTransmitter on the device instance directly does not open the device implicitly. Closing these Transmitters and Receivers does not close the device implicitly.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6395225,"reputation":1133,"user_id":4959801,"display_name":"dotrinh DM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661504904,"creation_date":1661504904,"answer_id":73498630,"question_id":29659219,"body_markdown":"You can try:\r\n\r\n    midiDevice.close();\r\n    outputPort.close();\r\n    inputPort.close();","title":"How to close a midi device?","body":"<p>You can try:</p>\n<pre><code>midiDevice.close();\noutputPort.close();\ninputPort.close();\n</code></pre>\n"}],"owner":{"account_id":3856062,"reputation":145,"user_id":3194972,"accept_rate":60,"display_name":"user3194972"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":720,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":29659425,"answer_count":3,"score":3,"last_activity_date":1661504904,"creation_date":1429126396,"question_id":29659219,"body_markdown":"How do i close a midi device in java? I have tried re-initialising the MidiHandler object, but the device stays open until the program terminates. Also, if i unplug my midi controller while the program is running, it wont send notes after it is reconnected, even after reinitialising. I have to, again, terminate and start the program anew, in order for it to work. I am very new to using midi, so i might be fundamentally misunderstanding the whole concept. Here is what i have so far:\r\n\r\n    public class MidiHandler {\r\n\tMidiDevice device;\r\n\tMidiDevice.Info[] infos = MidiSystem.getMidiDeviceInfo();\r\n\t\r\n\tpublic MidiHandler() {\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; infos.length; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.device = MidiSystem.getMidiDevice(this.infos[i]);\r\n\t\t\t\t// does the device have any transmitters?\r\n\t\t\t\t// if it does, add it to the device list\r\n\t\t\t\tSystem.out.println(this.infos[i]);\r\n\r\n\t\t\t\t// get all transmitters\r\n\t\t\t\tList&lt;Transmitter&gt; transmitters = this.device.getTransmitters();\r\n\t\t\t\t// and for each transmitter\r\n\r\n\t\t\t\tfor (int j = 0; j &lt; transmitters.size(); j++) {\r\n\t\t\t\t\t// create a new receiver\r\n\t\t\t\t\ttransmitters.get(j).setReceiver(\r\n\t\t\t\t\t// using my own MidiInputReceiver\r\n\t\t\t\t\t\t\tnew MidiInputReceiver(this.device.getDeviceInfo()\r\n\t\t\t\t\t\t\t\t\t.toString()));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tTransmitter trans = this.device.getTransmitter();\r\n\t\t\t\ttrans.setReceiver(new MidiInputReceiver(this.device.getDeviceInfo()\r\n\t\t\t\t\t\t.toString()));\r\n\t\t\t\tthis.device.open();\r\n\t\t\t} catch (MidiUnavailableException e) {\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\tpublic void close() {\r\n\r\n\t}\r\n\t\r\n\tpublic String getInfos() {\r\n\t\tString infos = &quot;&quot;;\r\n\t\tfor(int i = 0; i &lt; this.infos.length; i++) {\r\n\t\t\tinfos += &quot;\\n&quot; + this.infos[i] + &quot; &quot;;\r\n\t\t}\r\n\t\treturn infos;\r\n\t}\r\n\r\n\t// tried to write my own class. I thought the send method handles an\r\n\t// MidiEvents sent to it\r\n\tpublic class MidiInputReceiver implements Receiver {\r\n\t\tSynthesizer\tsynth;\r\n\t\tMidiChannel[] mc;\r\n\t\tInstrument[] instr;\r\n\t\tint instrument;\r\n\t\tint channel;\r\n\t\t\r\n\t\tpublic MidiInputReceiver(String name) {\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tpatcher p = new patcher();\r\n\t\t\t\tthis.instrument = p.getInstrument();\r\n\t\t\t\tthis.channel = p.getChannel();\r\n\t\t\t\tthis.synth = MidiSystem.getSynthesizer();\r\n\t\t\t\tthis.synth.open();\r\n\t\t\t\tthis.mc = synth.getChannels();\r\n\t\t\t\tinstr = synth.getDefaultSoundbank().getInstruments();\r\n\t\t\t\tthis.synth.loadInstrument(instr[1]);\r\n\t\t\t\tmc[this.channel].programChange(0, this.instrument);\r\n\t\t\t}\r\n\t\t\tcatch (MidiUnavailableException e)\r\n\t\t\t{\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t\tSystem.exit(1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tpublic void send(MidiMessage msg, long timeStamp) {\r\n\t\t\t/*\r\n\t\t\t * Use to display midi message\r\n\t\t\t */ \r\n\t\t\tfor(int i = 0; i &lt; msg.getMessage().length; i++) {\r\n\t\t\t\tSystem.out.print(&quot;[&quot; + msg.getMessage()[i] + &quot;] &quot;);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t\tif (msg.getMessage()[0] == -112) {\r\n\t\t\t\tmc[this.channel].noteOn(msg.getMessage()[1], msg.getMessage()[2]+1000);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (msg.getMessage()[0] == -128) {\r\n\t\t\t\tmc[this.channel].noteOff(msg.getMessage()[1], msg.getMessage()[2]+1000);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tpublic void close() {\r\n\t\t}\r\n\t}\r\nThe main class simply instantiates a MidiHandler and that works fine, except for the issues above.","title":"How to close a midi device?","body":"<p>How do i close a midi device in java? I have tried re-initialising the MidiHandler object, but the device stays open until the program terminates. Also, if i unplug my midi controller while the program is running, it wont send notes after it is reconnected, even after reinitialising. I have to, again, terminate and start the program anew, in order for it to work. I am very new to using midi, so i might be fundamentally misunderstanding the whole concept. Here is what i have so far:</p>\n\n<pre><code>public class MidiHandler {\nMidiDevice device;\nMidiDevice.Info[] infos = MidiSystem.getMidiDeviceInfo();\n\npublic MidiHandler() {\n\n    for (int i = 0; i &lt; infos.length; i++) {\n        try {\n            this.device = MidiSystem.getMidiDevice(this.infos[i]);\n            // does the device have any transmitters?\n            // if it does, add it to the device list\n            System.out.println(this.infos[i]);\n\n            // get all transmitters\n            List&lt;Transmitter&gt; transmitters = this.device.getTransmitters();\n            // and for each transmitter\n\n            for (int j = 0; j &lt; transmitters.size(); j++) {\n                // create a new receiver\n                transmitters.get(j).setReceiver(\n                // using my own MidiInputReceiver\n                        new MidiInputReceiver(this.device.getDeviceInfo()\n                                .toString()));\n            }\n\n            Transmitter trans = this.device.getTransmitter();\n            trans.setReceiver(new MidiInputReceiver(this.device.getDeviceInfo()\n                    .toString()));\n            this.device.open();\n        } catch (MidiUnavailableException e) {\n        }\n    }\n\n}\n\npublic void close() {\n\n}\n\npublic String getInfos() {\n    String infos = \"\";\n    for(int i = 0; i &lt; this.infos.length; i++) {\n        infos += \"\\n\" + this.infos[i] + \" \";\n    }\n    return infos;\n}\n\n// tried to write my own class. I thought the send method handles an\n// MidiEvents sent to it\npublic class MidiInputReceiver implements Receiver {\n    Synthesizer synth;\n    MidiChannel[] mc;\n    Instrument[] instr;\n    int instrument;\n    int channel;\n\n    public MidiInputReceiver(String name) {\n        try\n        {\n            patcher p = new patcher();\n            this.instrument = p.getInstrument();\n            this.channel = p.getChannel();\n            this.synth = MidiSystem.getSynthesizer();\n            this.synth.open();\n            this.mc = synth.getChannels();\n            instr = synth.getDefaultSoundbank().getInstruments();\n            this.synth.loadInstrument(instr[1]);\n            mc[this.channel].programChange(0, this.instrument);\n        }\n        catch (MidiUnavailableException e)\n        {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n\n    public void send(MidiMessage msg, long timeStamp) {\n        /*\n         * Use to display midi message\n         */ \n        for(int i = 0; i &lt; msg.getMessage().length; i++) {\n            System.out.print(\"[\" + msg.getMessage()[i] + \"] \");\n\n        }\n        System.out.println();\n\n        if (msg.getMessage()[0] == -112) {\n            mc[this.channel].noteOn(msg.getMessage()[1], msg.getMessage()[2]+1000);\n        }\n\n        if (msg.getMessage()[0] == -128) {\n            mc[this.channel].noteOff(msg.getMessage()[1], msg.getMessage()[2]+1000);\n        }\n\n    }\n\n    public void close() {\n    }\n}\n</code></pre>\n\n<p>The main class simply instantiates a MidiHandler and that works fine, except for the issues above.</p>\n"},{"tags":["java","opencv","contour"],"answers":[{"tags":[],"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574284286,"creation_date":1574284286,"answer_id":58963443,"question_id":58963442,"body_markdown":"The problem is, that in Java, the API only implements filling the `MatOfInt`\r\nwith the **indices of the original point matrix**.\r\n\r\nThis is what the [Javadoc][ocv-javadoc] (directly generated from the C++ doc) says:\r\n\r\n&gt; `hull` Output convex hull. **It is either an integer vector of indices** or\r\n&gt; vector of points. **In the first case, the hull elements are 0-based indices\r\n&gt; of the convex hull points in the original array (since the set of convex hull\r\n&gt; points is a subset of the original point set).** In the second case, hull\r\n&gt; elements are the convex hull points themselves.\r\n&gt;\r\n&gt; _(Emphasis mine)_\r\n\r\nThere&#39;s no &quot;or&quot;. There&#39;s only the `MatOfInt`, which is the indices of the\r\noriginal `Point` matrix.\r\n\r\nYou could create a new matrix with the picked points via such a helper function:\r\n\r\n    private static MatOfPoint2f pickPoints(MatOfPoint points, MatOfInt indices) {\r\n    \tPoint[] pickedPoints = new Point[indices.rows()];\r\n    \tint newRow = 0;\r\n    \tfor (int index : indices.toArray()) {\r\n    \t\tpickedPoints[newRow++] = new Point(points.get(index, 0));\r\n    \t}\r\n    \treturn new MatOfPoint2f(pickedPoints);\r\n    }\r\n\r\nAnd then use it:\r\n\r\n    Imgproc.findContours(patternEdges, patternContours, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    MatOfInt patternHullIndices = new MatOfInt();\r\n    Imgproc.convexHull(patternContours.get(0), patternHullIndices);\r\n    Imgproc.contourArea(pickPoints(patternContours.get(0), patternHull));\r\n\r\n\r\n[ocv-javadoc]: https://docs.opencv.org/4.1.2/javadoc/org/opencv/imgproc/Imgproc.html#convexHull-org.opencv.core.MatOfPoint-org.opencv.core.MatOfInt-\r\n","title":"OpenCV 4.1 Java - contourArea() fails assertion depth == CV_32F || depth == CV_32S for hull matrix","body":"<p>The problem is, that in Java, the API only implements filling the <code>MatOfInt</code>\nwith the <strong>indices of the original point matrix</strong>.</p>\n\n<p>This is what the <a href=\"https://docs.opencv.org/4.1.2/javadoc/org/opencv/imgproc/Imgproc.html#convexHull-org.opencv.core.MatOfPoint-org.opencv.core.MatOfInt-\" rel=\"nofollow noreferrer\">Javadoc</a> (directly generated from the C++ doc) says:</p>\n\n<blockquote>\n  <p><code>hull</code> Output convex hull. <strong>It is either an integer vector of indices</strong> or\n  vector of points. <strong>In the first case, the hull elements are 0-based indices\n  of the convex hull points in the original array (since the set of convex hull\n  points is a subset of the original point set).</strong> In the second case, hull\n  elements are the convex hull points themselves.</p>\n  \n  <p><em>(Emphasis mine)</em></p>\n</blockquote>\n\n<p>There's no \"or\". There's only the <code>MatOfInt</code>, which is the indices of the\noriginal <code>Point</code> matrix.</p>\n\n<p>You could create a new matrix with the picked points via such a helper function:</p>\n\n<pre><code>private static MatOfPoint2f pickPoints(MatOfPoint points, MatOfInt indices) {\n    Point[] pickedPoints = new Point[indices.rows()];\n    int newRow = 0;\n    for (int index : indices.toArray()) {\n        pickedPoints[newRow++] = new Point(points.get(index, 0));\n    }\n    return new MatOfPoint2f(pickedPoints);\n}\n</code></pre>\n\n<p>And then use it:</p>\n\n<pre><code>Imgproc.findContours(patternEdges, patternContours, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\nMatOfInt patternHullIndices = new MatOfInt();\nImgproc.convexHull(patternContours.get(0), patternHullIndices);\nImgproc.contourArea(pickPoints(patternContours.get(0), patternHull));\n</code></pre>\n"}],"owner":{"account_id":1082221,"reputation":7484,"user_id":1078886,"accept_rate":52,"display_name":"try-catch-finally"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661504468,"creation_date":1574284286,"question_id":58963442,"body_markdown":"I&#39;ve tried to calculate the hull area from the hull points generated by\r\n`convexHull()`.\r\n\r\nI followed the [OpenCV Python tutorial][ocv-pytut] (because there&#39;s no Java tutorial) and fiddled around with code completion.\r\n\r\nThis is the code:\r\n\r\n    Imgproc.findContours(patternEdges, patternContours, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\r\n    MatOfInt patternHull = new MatOfInt();\r\n    Imgproc.convexHull(patternContours.get(0), patternHull);\r\n    Imgproc.contourArea(pickPoints(patternContours.get(0), patternHull)); // fails here\r\n\r\nBut this throws the following exception:\r\n\r\n\r\n&gt;     Exception in thread &quot;main&quot; CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.1.2) /home/build/git/opencv/modules/imgproc/src/shapedescr.cpp:274: error: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S) in function &#39;contourArea&#39;]\r\n&gt;     \tat org.opencv.imgproc.Imgproc.contourArea_1(Native Method)\r\n&gt;     \tat org.opencv.imgproc.Imgproc.contourArea(Imgproc.java:1607)\r\n&gt;     \tat com.acme.opencv.Test.main(Test.java:94)\r\n\r\nObviously the matrix internal data type is wrong. But why, and how can I convert it?\r\n\r\nI&#39;m using OpenCV 4.1.2.\r\n\r\n[ocv-pytut]: https://docs.opencv.org/master/d1/d32/tutorial_py_contour_properties.html\r\n","title":"OpenCV 4.1 Java - contourArea() fails assertion depth == CV_32F || depth == CV_32S for hull matrix","body":"<p>I've tried to calculate the hull area from the hull points generated by\n<code>convexHull()</code>.</p>\n\n<p>I followed the <a href=\"https://docs.opencv.org/master/d1/d32/tutorial_py_contour_properties.html\" rel=\"nofollow noreferrer\">OpenCV Python tutorial</a> (because there's no Java tutorial) and fiddled around with code completion.</p>\n\n<p>This is the code:</p>\n\n<pre><code>Imgproc.findContours(patternEdges, patternContours, new Mat(), Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\nMatOfInt patternHull = new MatOfInt();\nImgproc.convexHull(patternContours.get(0), patternHull);\nImgproc.contourArea(pickPoints(patternContours.get(0), patternHull)); // fails here\n</code></pre>\n\n<p>But this throws the following exception:</p>\n\n<blockquote>\n<pre><code>Exception in thread \"main\" CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.1.2) /home/build/git/opencv/modules/imgproc/src/shapedescr.cpp:274: error: (-215:Assertion failed) npoints &gt;= 0 &amp;&amp; (depth == CV_32F || depth == CV_32S) in function 'contourArea']\n  at org.opencv.imgproc.Imgproc.contourArea_1(Native Method)\n  at org.opencv.imgproc.Imgproc.contourArea(Imgproc.java:1607)\n  at com.acme.opencv.Test.main(Test.java:94)\n</code></pre>\n</blockquote>\n\n<p>Obviously the matrix internal data type is wrong. But why, and how can I convert it?</p>\n\n<p>I'm using OpenCV 4.1.2.</p>\n"},{"tags":["python","java","rest-assured","wiremock","wiremock-standalone"],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661504443,"creation_date":1661504443,"answer_id":73498548,"question_id":73497349,"body_markdown":"In the querkus [archive](https://github.com/quarkusio/quarkus-quickstarts/archive/main.zip) there is an example under the rest-client-quickstart on how to do this:\r\n```\r\npublic class WireMockExtensions implements QuarkusTestResourceLifecycleManager {\r\n\r\n    private static final String COUNTRIES_JSON_FILE = &quot;/extensions.json&quot;;\r\n    private static final String BASE_PATH = &quot;/api&quot;;\r\n    private static final int WIREMOCK_PORT = 7777;\r\n\r\n    private WireMockServer wireMockServer;\r\n\r\n    @Override\r\n    public Map&lt;String, String&gt; start() {\r\n        wireMockServer = new WireMockServer(WIREMOCK_PORT);\r\n        wireMockServer.start();\r\n        stubExtensions();\r\n        return Collections.singletonMap(&quot;quarkus.rest-client.\\&quot;org.acme.rest.client.ExtensionsService\\&quot;.url&quot;,\r\n                wireMockServer.baseUrl() + BASE_PATH);\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        if (Objects.nonNull(wireMockServer))\r\n            wireMockServer.stop();\r\n    }\r\n\r\n    private void stubExtensions() {\r\n\r\n        try (InputStream is = WireMockExtensions.class.getResourceAsStream(COUNTRIES_JSON_FILE)) {\r\n            String extensions = new String(is.readAllBytes());\r\n\r\n            // Stub for full list of extensions:\r\n            wireMockServer.stubFor(get(urlEqualTo(BASE_PATH))\r\n                    .willReturn(okJson(extensions)));\r\n\r\n            // Stub for each country\r\n            try (StringReader sr = new StringReader(extensions);\r\n                    JsonParser parser = Json.createParser(sr)) {\r\n                parser.next();\r\n                for (JsonValue extension : parser.getArray()) {\r\n                    String id = extension.asJsonObject().getString(&quot;id&quot;);\r\n\r\n                    wireMockServer.stubFor(get(urlEqualTo(BASE_PATH + &quot;/extensions?id=&quot; + URLEncoder.encode(id, StandardCharsets.UTF_8)))\r\n                            .willReturn(okJson(&quot;[&quot; + extension + &quot;]&quot;)));\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            fail(&quot;Could not configure Wiremock server. Caused by: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\nthe `extensions.json`:\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: &quot;io.quarkus:quarkus-rest-client&quot;,\r\n    &quot;keywords&quot;: [\r\n      &quot;call&quot;,\r\n      &quot;microprofile-rest-client&quot;,\r\n      &quot;quarkus-rest-client&quot;,\r\n      &quot;rest&quot;,\r\n      &quot;rest-client&quot;,\r\n      &quot;services&quot;,\r\n      &quot;web-client&quot;\r\n    ],\r\n    &quot;name&quot;: &quot;REST Client&quot;,\r\n    &quot;shortName&quot;: &quot;REST Client&quot;\r\n  },\r\n  {\r\n    &quot;id&quot;: &quot;io.quarkus:quarkus-resteasy&quot;,\r\n    &quot;keywords&quot;: [\r\n      &quot;endpoint&quot;,\r\n      &quot;framework&quot;,\r\n      &quot;jax&quot;,\r\n      &quot;jaxrs&quot;,\r\n      &quot;quarkus-resteasy&quot;,\r\n      &quot;rest&quot;,\r\n      &quot;resteasy&quot;,\r\n      &quot;web&quot;\r\n    ],\r\n    &quot;name&quot;: &quot;RESTEasy JAX-RS&quot;,\r\n    &quot;shortName&quot;: &quot;jax-rs&quot;\r\n  }\r\n]\r\n```","title":"WireMock set path as dynamic+","body":"<p>In the querkus <a href=\"https://github.com/quarkusio/quarkus-quickstarts/archive/main.zip\" rel=\"nofollow noreferrer\">archive</a> there is an example under the rest-client-quickstart on how to do this:</p>\n<pre><code>public class WireMockExtensions implements QuarkusTestResourceLifecycleManager {\n\n    private static final String COUNTRIES_JSON_FILE = &quot;/extensions.json&quot;;\n    private static final String BASE_PATH = &quot;/api&quot;;\n    private static final int WIREMOCK_PORT = 7777;\n\n    private WireMockServer wireMockServer;\n\n    @Override\n    public Map&lt;String, String&gt; start() {\n        wireMockServer = new WireMockServer(WIREMOCK_PORT);\n        wireMockServer.start();\n        stubExtensions();\n        return Collections.singletonMap(&quot;quarkus.rest-client.\\&quot;org.acme.rest.client.ExtensionsService\\&quot;.url&quot;,\n                wireMockServer.baseUrl() + BASE_PATH);\n    }\n\n    @Override\n    public void stop() {\n        if (Objects.nonNull(wireMockServer))\n            wireMockServer.stop();\n    }\n\n    private void stubExtensions() {\n\n        try (InputStream is = WireMockExtensions.class.getResourceAsStream(COUNTRIES_JSON_FILE)) {\n            String extensions = new String(is.readAllBytes());\n\n            // Stub for full list of extensions:\n            wireMockServer.stubFor(get(urlEqualTo(BASE_PATH))\n                    .willReturn(okJson(extensions)));\n\n            // Stub for each country\n            try (StringReader sr = new StringReader(extensions);\n                    JsonParser parser = Json.createParser(sr)) {\n                parser.next();\n                for (JsonValue extension : parser.getArray()) {\n                    String id = extension.asJsonObject().getString(&quot;id&quot;);\n\n                    wireMockServer.stubFor(get(urlEqualTo(BASE_PATH + &quot;/extensions?id=&quot; + URLEncoder.encode(id, StandardCharsets.UTF_8)))\n                            .willReturn(okJson(&quot;[&quot; + extension + &quot;]&quot;)));\n                }\n            }\n\n        } catch (IOException e) {\n            fail(&quot;Could not configure Wiremock server. Caused by: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>the <code>extensions.json</code>:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: &quot;io.quarkus:quarkus-rest-client&quot;,\n    &quot;keywords&quot;: [\n      &quot;call&quot;,\n      &quot;microprofile-rest-client&quot;,\n      &quot;quarkus-rest-client&quot;,\n      &quot;rest&quot;,\n      &quot;rest-client&quot;,\n      &quot;services&quot;,\n      &quot;web-client&quot;\n    ],\n    &quot;name&quot;: &quot;REST Client&quot;,\n    &quot;shortName&quot;: &quot;REST Client&quot;\n  },\n  {\n    &quot;id&quot;: &quot;io.quarkus:quarkus-resteasy&quot;,\n    &quot;keywords&quot;: [\n      &quot;endpoint&quot;,\n      &quot;framework&quot;,\n      &quot;jax&quot;,\n      &quot;jaxrs&quot;,\n      &quot;quarkus-resteasy&quot;,\n      &quot;rest&quot;,\n      &quot;resteasy&quot;,\n      &quot;web&quot;\n    ],\n    &quot;name&quot;: &quot;RESTEasy JAX-RS&quot;,\n    &quot;shortName&quot;: &quot;jax-rs&quot;\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":25550083,"reputation":11,"user_id":19334609,"display_name":"Samian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661504443,"creation_date":1661497971,"question_id":73497349,"body_markdown":"so i have this stub ive created \r\n\r\n\r\n     stubFor(get(urlEqualTo(&quot;/skyhost/v1/rms/resourceid/8471jd1da7362f0eb28642s2&quot;))\r\n    .willReturn(aResponse().withStatus(200)\r\n    .withBodyFile(&quot;getstub.json&quot;)\r\n    .withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)));\r\n\r\n }\r\n\r\nwhat i wane do is make this dynamic as there might be different resources ID not just the one ive provided in the stub. im confused on how to go about this. i want to be able to provide different resourceid and still be able to get that response back\r\n\r\n","title":"WireMock set path as dynamic+","body":"<p>so i have this stub ive created</p>\n<pre><code> stubFor(get(urlEqualTo(&quot;/skyhost/v1/rms/resourceid/8471jd1da7362f0eb28642s2&quot;))\n.willReturn(aResponse().withStatus(200)\n.withBodyFile(&quot;getstub.json&quot;)\n.withHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)));\n</code></pre>\n<p>}</p>\n<p>what i wane do is make this dynamic as there might be different resources ID not just the one ive provided in the stub. im confused on how to go about this. i want to be able to provide different resourceid and still be able to get that response back</p>\n"},{"tags":["java","spring","rest","spring-mvc","overriding"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1515747497,"post_id":48222634,"comment_id":83426656,"body_markdown":"Are you sure you are looking at the correct version of the documentation? this is the documentation of the current api https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.html and I can&#39;t find that method there.","body":"Are you sure you are looking at the correct version of the documentation? this is the documentation of the current api <a href=\"https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/rest/docs/current/api/org/&hellip;</a> and I can&#39;t find that method there."},{"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"score":0,"creation_date":1515747624,"post_id":48222634,"comment_id":83426719,"body_markdown":"@Stultuske Ohh.. I think this  method is now eliminated","body":"@Stultuske Ohh.. I think this  method is now eliminated"},{"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"score":0,"creation_date":1515747684,"post_id":48222634,"comment_id":83426755,"body_markdown":"@Stultuske can you tell me what merthod should I sued ? instead of this","body":"@Stultuske can you tell me what merthod should I sued ? instead of this"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1515747796,"post_id":48222634,"comment_id":83426821,"body_markdown":"I&#39;m afraid I&#39;m not familiar with those classes, so I can&#39;t be of much help there.","body":"I&#39;m afraid I&#39;m not familiar with those classes, so I can&#39;t be of much help there."},{"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"score":0,"creation_date":1515748075,"post_id":48222634,"comment_id":83426973,"body_markdown":"@Stultuske Okay Thanks","body":"@Stultuske Okay Thanks"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1515748390,"post_id":48222634,"comment_id":83427148,"body_markdown":"you could always change your dependency to that older version of Spring","body":"you could always change your dependency to that older version of Spring"},{"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"score":0,"creation_date":1515750444,"post_id":48222634,"comment_id":83428416,"body_markdown":"@Stultuske downgrading to a much older version instead of taking a few minutes for googling and reading the documentation is a pretty bad advice, IMHO.","body":"@Stultuske downgrading to a much older version instead of taking a few minutes for googling and reading the documentation is a pretty bad advice, IMHO."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1515750582,"post_id":48222634,"comment_id":83428503,"body_markdown":"@MarcTarin true, which is why I didn&#39;t post it as an answer. But, seeing as he&#39;s using that old documentation, there is a possibility he was required to use that version. not every company updates versions (even though they should) and there are some that will stay on old versions. if that&#39;s the case, the latest fix won&#39;t help either","body":"@MarcTarin true, which is why I didn&#39;t post it as an answer. But, seeing as he&#39;s using that old documentation, there is a possibility he was required to use that version. not every company updates versions (even though they should) and there are some that will stay on old versions. if that&#39;s the case, the latest fix won&#39;t help either"},{"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"score":0,"creation_date":1515752521,"post_id":48222634,"comment_id":83429763,"body_markdown":"@Stultuske point taken. But since the OP asked about what method to use in the current version, I simply assumed he had no such constraint.","body":"@Stultuske point taken. But since the OP asked about what method to use in the current version, I simply assumed he had no such constraint."}],"answers":[{"tags":[],"owner":{"account_id":7761220,"reputation":3129,"user_id":5873923,"display_name":"Marc Tarin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515754418,"creation_date":1515750450,"answer_id":48223512,"question_id":48222634,"body_markdown":"From the current reference documentation, [Configuring Spring Data REST](https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.configuration):\r\n\r\n&gt; To customize the configuration, register a RepositoryRestConfigurer (or extend RepositoryRestConfigurerAdapter) and implement or override the configure…-methods relevant to your use case.\r\n\r\nSDR configuration outside of `RepositoryRestMvcConfiguration` was addressed in [DATAREST-621](https://jira.spring.io/browse/DATAREST-621) and RepositoryRestConfigurer was introduced in [this commit](https://github.com/spring-projects/spring-data-rest/commit/12121f842ef4c481af5b84e4d2a5d625baaee178).","title":"Can&#39;t import `configureRepositoryRestConfiguration` in Spring","body":"<p>From the current reference documentation, <a href=\"https://docs.spring.io/spring-data/rest/docs/current/reference/html/#getting-started.configuration\" rel=\"nofollow noreferrer\">Configuring Spring Data REST</a>:</p>\n\n<blockquote>\n  <p>To customize the configuration, register a RepositoryRestConfigurer (or extend RepositoryRestConfigurerAdapter) and implement or override the configure…-methods relevant to your use case.</p>\n</blockquote>\n\n<p>SDR configuration outside of <code>RepositoryRestMvcConfiguration</code> was addressed in <a href=\"https://jira.spring.io/browse/DATAREST-621\" rel=\"nofollow noreferrer\">DATAREST-621</a> and RepositoryRestConfigurer was introduced in <a href=\"https://github.com/spring-projects/spring-data-rest/commit/12121f842ef4c481af5b84e4d2a5d625baaee178\" rel=\"nofollow noreferrer\">this commit</a>.</p>\n"},{"tags":[],"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1515756199,"creation_date":1515756199,"answer_id":48225273,"question_id":48222634,"body_markdown":"According to current version of spring document this method is not available so instead of `configureRepositoryRestConfiguration&#39;  we can override following method\r\n\r\n    @Configuration\r\n    public class MSARepositoryRestMvcConfiguration extends RepositoryRestMvcConfiguration {\r\n    \r\n        @Override\r\n        \tpublic RepositoryRestConfiguration config() {\r\n        \t\tRepositoryRestConfiguration config = super.config();\r\n            \tconfig.setBasePath(&quot;/api&quot;);\r\n                config.exposeIdsFor(User.class);\r\n        \t\treturn config; \r\n        \t}\r\n    }","title":"Can&#39;t import `configureRepositoryRestConfiguration` in Spring","body":"<p>According to current version of spring document this method is not available so instead of `configureRepositoryRestConfiguration'  we can override following method</p>\n\n<pre><code>@Configuration\npublic class MSARepositoryRestMvcConfiguration extends RepositoryRestMvcConfiguration {\n\n    @Override\n        public RepositoryRestConfiguration config() {\n            RepositoryRestConfiguration config = super.config();\n            config.setBasePath(\"/api\");\n            config.exposeIdsFor(User.class);\n            return config; \n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15032849,"reputation":526,"user_id":10850340,"display_name":"j.xavier.atero"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661504225,"creation_date":1661504225,"answer_id":73498501,"question_id":48222634,"body_markdown":"Check the current `configureRepositoryRestConfiguration` definition at [Interface RepositoryRestConfigurer][1].\r\n\r\nExample form [https://www.baeldung.com/spring-data-rest-serialize-entity-id][2]:\r\n\r\n    @Configuration\r\n    public class RestConfiguration implements RepositoryRestConfigurer {\r\n    \t@Override\r\n    \tpublic void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\r\n    \t\tconfig.exposeIdsFor(Person.class);\r\n    \t}\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/webmvc/config/RepositoryRestConfigurer.html\r\n  [2]: https://www.baeldung.com/spring-data-rest-serialize-entity-id","title":"Can&#39;t import `configureRepositoryRestConfiguration` in Spring","body":"<p>Check the current <code>configureRepositoryRestConfiguration</code> definition at <a href=\"https://docs.spring.io/spring-data/rest/docs/current/api/org/springframework/data/rest/webmvc/config/RepositoryRestConfigurer.html\" rel=\"nofollow noreferrer\">Interface RepositoryRestConfigurer</a>.</p>\n<p>Example form <a href=\"https://www.baeldung.com/spring-data-rest-serialize-entity-id\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-rest-serialize-entity-id</a>:</p>\n<pre><code>@Configuration\npublic class RestConfiguration implements RepositoryRestConfigurer {\n    @Override\n    public void configureRepositoryRestConfiguration(RepositoryRestConfiguration config, CorsRegistry cors) {\n        config.exposeIdsFor(Person.class);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11746001,"reputation":534,"user_id":8596751,"accept_rate":50,"display_name":"SFAH"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4641,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":48225273,"answer_count":3,"score":2,"last_activity_date":1661504225,"creation_date":1515747295,"question_id":48222634,"body_markdown":"I have extended my class from `RepositoryRestMvcConfiguration` according to [documentation][1] it has `configureRepositoryRestConfiguration` method which can be implemented but when I try to override this method I can&#39;t import it :| \r\nCan anybody tell me Why this problem occurred?\r\n\r\n**EDIT** : according to current version `configureRepositoryRestConfiguration` method is not avialble.. so what method should I used instead of this?\r\n\r\nHere is my code\r\n\r\n**MSARepositoryRestMvcConfiguration.java**\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.data.rest.core.config.RepositoryRestConfiguration;\r\n    import org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\r\n    import org.springframework.security.data.repository.query.SecurityEvaluationContextExtension;\r\n    import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\n    \r\n    @Configuration\r\n    public class MSARepositoryRestMvcConfiguration extends RepositoryRestMvcConfiguration {\r\n    \tprivate static final Logger LOG = LoggerFactory.getLogger(MSARepositoryRestMvcConfiguration.class);\r\n    \t\r\n    \t@Value(&quot;${static.path}&quot;)\r\n    \tprivate String staticPath;\r\n    \r\n    //    @Bean\r\n    //    public PasswordEncoder passwordEncoder() {\r\n    //        return new BCryptPasswordEncoder();\r\n    //    }\r\n      @Override\r\n    \tprotected void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\r\n        \tconfig.setBasePath(&quot;/api&quot;);\r\n           // config.exposeIdsFor(User.class,Order.class,HeroRating.class,RiderLocation.class,OrderItem.class,Address.class,ShopDetail.class,PromoCode.class,RiderDuty.class,Criteria.class,Setting.class);\r\n            config.setReturnBodyForPutAndPost(true);\r\n            config.setReturnBodyOnCreate(true);\r\n            config.setReturnBodyOnUpdate(true);\r\n        }\r\n        \r\n        @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n    \tsuper.addResourceHandlers(registry);\r\n    \t if(staticPath != null) {\r\n    \t\t  LOG.info(&quot;Serving static content from &quot; + staticPath);\r\n    \t\t  registry.addResourceHandler(&quot;/photos/**&quot;).addResourceLocations(&quot;file:&quot; + staticPath+&quot;photos/&quot;);\r\n    \t       registry.addResourceHandler(&quot;/&quot;).addResourceLocations(&quot;classpath:/static/&quot;);\r\n    \t}\r\n    \t}\r\n        \r\n        @Bean\r\n    \tpublic SecurityEvaluationContextExtension securityEvaluationContextExtension() {\r\n    \t\treturn new SecurityEvaluationContextExtension();\r\n    \t}\r\n    }\r\n\r\n**Error**\r\nIt gives an error on `configureRepositoryRestConfiguration` to remove override annotation\r\n\r\n**ErrorMessage**\r\n    \r\n    The method configureRepositoryRestConfiguration(RepositoryRestConfiguration) of type MSARepositoryRestMvcConfiguration must override or implement a supertype method\r\n\r\n  [1]: https://docs.spring.io/autorepo/docs/spring-data-rest/2.2.0.M1/api/org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.html#configureRepositoryRestConfiguration(org.springframework.data.rest.core.config.RepositoryRestConfiguration)","title":"Can&#39;t import `configureRepositoryRestConfiguration` in Spring","body":"<p>I have extended my class from <code>RepositoryRestMvcConfiguration</code> according to <a href=\"https://docs.spring.io/autorepo/docs/spring-data-rest/2.2.0.M1/api/org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.html#configureRepositoryRestConfiguration(org.springframework.data.rest.core.config.RepositoryRestConfiguration)\" rel=\"nofollow noreferrer\">documentation</a> it has <code>configureRepositoryRestConfiguration</code> method which can be implemented but when I try to override this method I can't import it :| \nCan anybody tell me Why this problem occurred?</p>\n\n<p><strong>EDIT</strong> : according to current version <code>configureRepositoryRestConfiguration</code> method is not avialble.. so what method should I used instead of this?</p>\n\n<p>Here is my code</p>\n\n<p><strong>MSARepositoryRestMvcConfiguration.java</strong></p>\n\n<pre><code>import org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.data.rest.core.config.RepositoryRestConfiguration;\nimport org.springframework.data.rest.webmvc.config.RepositoryRestMvcConfiguration;\nimport org.springframework.security.data.repository.query.SecurityEvaluationContextExtension;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\n\n@Configuration\npublic class MSARepositoryRestMvcConfiguration extends RepositoryRestMvcConfiguration {\n    private static final Logger LOG = LoggerFactory.getLogger(MSARepositoryRestMvcConfiguration.class);\n\n    @Value(\"${static.path}\")\n    private String staticPath;\n\n//    @Bean\n//    public PasswordEncoder passwordEncoder() {\n//        return new BCryptPasswordEncoder();\n//    }\n  @Override\n    protected void configureRepositoryRestConfiguration(RepositoryRestConfiguration config) {\n        config.setBasePath(\"/api\");\n       // config.exposeIdsFor(User.class,Order.class,HeroRating.class,RiderLocation.class,OrderItem.class,Address.class,ShopDetail.class,PromoCode.class,RiderDuty.class,Criteria.class,Setting.class);\n        config.setReturnBodyForPutAndPost(true);\n        config.setReturnBodyOnCreate(true);\n        config.setReturnBodyOnUpdate(true);\n    }\n\n    @Override\npublic void addResourceHandlers(ResourceHandlerRegistry registry) {\n    super.addResourceHandlers(registry);\n     if(staticPath != null) {\n          LOG.info(\"Serving static content from \" + staticPath);\n          registry.addResourceHandler(\"/photos/**\").addResourceLocations(\"file:\" + staticPath+\"photos/\");\n           registry.addResourceHandler(\"/\").addResourceLocations(\"classpath:/static/\");\n    }\n    }\n\n    @Bean\n    public SecurityEvaluationContextExtension securityEvaluationContextExtension() {\n        return new SecurityEvaluationContextExtension();\n    }\n}\n</code></pre>\n\n<p><strong>Error</strong>\nIt gives an error on <code>configureRepositoryRestConfiguration</code> to remove override annotation</p>\n\n<p><strong>ErrorMessage</strong></p>\n\n<pre><code>The method configureRepositoryRestConfiguration(RepositoryRestConfiguration) of type MSARepositoryRestMvcConfiguration must override or implement a supertype method\n</code></pre>\n"},{"tags":["java","logging","log4j"],"comments":[{"owner":{"account_id":2700437,"reputation":2554,"user_id":2331271,"display_name":"Julien"},"score":0,"creation_date":1661502203,"post_id":73498054,"comment_id":129792145,"body_markdown":"Can you add the exception that is thrown ?","body":"Can you add the exception that is thrown ?"},{"owner":{"account_id":21383153,"reputation":568,"user_id":15748724,"display_name":"Shubham Kumar"},"score":0,"creation_date":1661502736,"post_id":73498054,"comment_id":129792300,"body_markdown":"It doesn’t throws any exception it just stops logging","body":"It doesn’t throws any exception it just stops logging"}],"answers":[{"tags":[],"owner":{"account_id":21383153,"reputation":568,"user_id":15748724,"display_name":"Shubham Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661504190,"creation_date":1661504190,"answer_id":73498490,"question_id":73498054,"body_markdown":"For some reason if you want to add additional fields then you will also need to set default Configuration:\r\n\r\n```java\r\nimport org.apache.logging.log4j.Level;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.core.Logger;\r\nimport org.apache.logging.log4j.core.appender.ConsoleAppender;\r\nimport org.apache.logging.log4j.core.appender.FileAppender;\r\nimport org.apache.logging.log4j.core.config.DefaultConfiguration;\r\nimport org.apache.logging.log4j.core.layout.JsonLayout;\r\nimport org.apache.logging.log4j.core.util.KeyValuePair;\r\n\r\npublic class Try {\r\n    Logger logger;\r\n    Try(){\r\n        KeyValuePair[] kvs = {new KeyValuePair(&quot;hip&quot;, &quot;hi&quot;)};\r\n        System.out.println(kvs[0].toString());\r\n        logger = (Logger) LogManager.getLogger(&quot;com.try1&quot;);\r\n        logger.setLevel(Level.DEBUG);\r\n\r\n        logger.addAppender(ConsoleAppender.newBuilder().setName(&quot;console.builder1&quot;)\r\n                .setLayout(JsonLayout.newBuilder()\r\n                        .setProperties(true)\r\n                        .setConfiguration(new DefaultConfiguration()) // magic happens here...\r\n                        .setAdditionalFields(kvs)\r\n                        .setComplete(true)\r\n                        .build())\r\n                .build());\r\n    }\r\n    public void debug(String message){\r\n        System.out.println(logger.isEnabled(Level.DEBUG));\r\n        logger.debug(message);\r\n    }\r\n}\r\n\r\n```","title":"JsonLayout stops working with additional fields","body":"<p>For some reason if you want to add additional fields then you will also need to set default Configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.Logger;\nimport org.apache.logging.log4j.core.appender.ConsoleAppender;\nimport org.apache.logging.log4j.core.appender.FileAppender;\nimport org.apache.logging.log4j.core.config.DefaultConfiguration;\nimport org.apache.logging.log4j.core.layout.JsonLayout;\nimport org.apache.logging.log4j.core.util.KeyValuePair;\n\npublic class Try {\n    Logger logger;\n    Try(){\n        KeyValuePair[] kvs = {new KeyValuePair(&quot;hip&quot;, &quot;hi&quot;)};\n        System.out.println(kvs[0].toString());\n        logger = (Logger) LogManager.getLogger(&quot;com.try1&quot;);\n        logger.setLevel(Level.DEBUG);\n\n        logger.addAppender(ConsoleAppender.newBuilder().setName(&quot;console.builder1&quot;)\n                .setLayout(JsonLayout.newBuilder()\n                        .setProperties(true)\n                        .setConfiguration(new DefaultConfiguration()) // magic happens here...\n                        .setAdditionalFields(kvs)\n                        .setComplete(true)\n                        .build())\n                .build());\n    }\n    public void debug(String message){\n        System.out.println(logger.isEnabled(Level.DEBUG));\n        logger.debug(message);\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":21383153,"reputation":568,"user_id":15748724,"display_name":"Shubham Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661504190,"creation_date":1661501977,"question_id":73498054,"body_markdown":"I am trying to add some additional fields but `JsonLayout` seems to fail with that.\r\nI am new to java and couldn&#39;t find out what am I missing...\r\n\r\n```java\r\n\r\nimport org.apache.logging.log4j.Level;\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.core.Logger;\r\nimport org.apache.logging.log4j.core.appender.ConsoleAppender;\r\nimport org.apache.logging.log4j.core.appender.FileAppender;\r\nimport org.apache.logging.log4j.core.layout.JsonLayout;\r\nimport org.apache.logging.log4j.core.util.KeyValuePair;\r\n\r\npublic class Try {\r\n    Logger logger;\r\n    Try(){\r\n        KeyValuePair[] kvs = {new KeyValuePair(&quot;hip&quot;, &quot;hi&quot;)};\r\n        System.out.println(kvs[0].toString());\r\n        logger = (Logger) LogManager.getLogger(&quot;com.try1&quot;);\r\n        logger.setLevel(Level.DEBUG);\r\n\r\n        logger.addAppender(ConsoleAppender.newBuilder().setName(&quot;console.builder1&quot;)\r\n                .setLayout(JsonLayout.newBuilder().setProperties(true)\r\n                        .setAdditionalFields(kvs)\r\n                        .setComplete(true)\r\n                        .build())\r\n                .build());\r\n    }\r\n    public void debug(String message){\r\n        System.out.println(logger.isEnabled(Level.DEBUG));\r\n        logger.debug(message);\r\n    }\r\n}\r\n\r\n```\r\n\r\nIf i remove`.setAdditionalFields(kvs)` line everything just works magically. But with this log4j prints nothing.","title":"JsonLayout stops working with additional fields","body":"<p>I am trying to add some additional fields but <code>JsonLayout</code> seems to fail with that.\nI am new to java and couldn't find out what am I missing...</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.apache.logging.log4j.Level;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.core.Logger;\nimport org.apache.logging.log4j.core.appender.ConsoleAppender;\nimport org.apache.logging.log4j.core.appender.FileAppender;\nimport org.apache.logging.log4j.core.layout.JsonLayout;\nimport org.apache.logging.log4j.core.util.KeyValuePair;\n\npublic class Try {\n    Logger logger;\n    Try(){\n        KeyValuePair[] kvs = {new KeyValuePair(&quot;hip&quot;, &quot;hi&quot;)};\n        System.out.println(kvs[0].toString());\n        logger = (Logger) LogManager.getLogger(&quot;com.try1&quot;);\n        logger.setLevel(Level.DEBUG);\n\n        logger.addAppender(ConsoleAppender.newBuilder().setName(&quot;console.builder1&quot;)\n                .setLayout(JsonLayout.newBuilder().setProperties(true)\n                        .setAdditionalFields(kvs)\n                        .setComplete(true)\n                        .build())\n                .build());\n    }\n    public void debug(String message){\n        System.out.println(logger.isEnabled(Level.DEBUG));\n        logger.debug(message);\n    }\n}\n\n</code></pre>\n<p>If i remove<code>.setAdditionalFields(kvs)</code> line everything just works magically. But with this log4j prints nothing.</p>\n"},{"tags":["java","android","pdf","gradle","itext7"],"comments":[{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":0,"creation_date":1661366742,"post_id":73478116,"comment_id":129758171,"body_markdown":"Can you attach the PDF file that you end up getting after trying to add a paragraph into it? Can you also try adding a table and a paragraph (you are saying adding tables works well) and attach the resultant PDF as well?","body":"Can you attach the PDF file that you end up getting after trying to add a paragraph into it? Can you also try adding a table and a paragraph (you are saying adding tables works well) and attach the resultant PDF as well?"},{"owner":{"account_id":11129418,"reputation":542,"user_id":8169814,"display_name":"Malik Saifullah"},"score":0,"creation_date":1661367537,"post_id":73478116,"comment_id":129758446,"body_markdown":"Your code seems to be working fine with the 2nd implementation of gradle and paragraph does add the text. so sharing the resultant pdf would make us understand the problem better.","body":"Your code seems to be working fine with the 2nd implementation of gradle and paragraph does add the text. so sharing the resultant pdf would make us understand the problem better."},{"owner":{"account_id":26152533,"reputation":1,"user_id":19840264,"display_name":"Andhy C7"},"score":0,"creation_date":1661368540,"post_id":73478116,"comment_id":129758755,"body_markdown":"Thanks for replying, I have also added the following code to check that the problem is only when adding text.\nIt turns out that I only get a small table with 3 columns and 6 rows (including the headers) and with all the cells empty","body":"Thanks for replying, I have also added the following code to check that the problem is only when adding text. It turns out that I only get a small table with 3 columns and 6 rows (including the headers) and with all the cells empty"},{"owner":{"account_id":26152533,"reputation":1,"user_id":19840264,"display_name":"Andhy C7"},"score":0,"creation_date":1661368758,"post_id":73478116,"comment_id":129758817,"body_markdown":"```\nTable tabla = new Table(3);\n        tabla.addCell(&quot;User&quot;);\n        tabla.addCell(&quot;Name&quot;);\n        tabla.addCell(&quot;Surname&quot;);\n        for(int i = 0; i &lt; 5 ; i++){\n            tabla.addCell(String.valueOf(&quot;Text &quot; + i));\n            tabla.addCell(String.valueOf(&quot;Text &quot; + i));\n            tabla.addCell(String.valueOf(&quot;Text &quot; + i));\n        }\n        document.add(tabla);\n        document.close();\n\n```","body":"``` Table tabla = new Table(3);         tabla.addCell(&quot;User&quot;);         tabla.addCell(&quot;Name&quot;);         tabla.addCell(&quot;Surname&quot;);         for(int i = 0; i &lt; 5 ; i++){             tabla.addCell(String.valueOf(&quot;Text &quot; + i));             tabla.addCell(String.valueOf(&quot;Text &quot; + i));             tabla.addCell(String.valueOf(&quot;Text &quot; + i));         }         document.add(tabla);         document.close();  ```"},{"owner":{"account_id":26152533,"reputation":1,"user_id":19840264,"display_name":"Andhy C7"},"score":0,"creation_date":1661369409,"post_id":73478116,"comment_id":129759008,"body_markdown":"The problem is that neither the text with Paragraph nor the text entered for each Cell of the table or headers is printed. the resulting Pdf only contains the empty and auto-adjusted table as for null texts (with minimum width and height)","body":"The problem is that neither the text with Paragraph nor the text entered for each Cell of the table or headers is printed. the resulting Pdf only contains the empty and auto-adjusted table as for null texts (with minimum width and height)"}],"owner":{"account_id":26152533,"reputation":1,"user_id":19840264,"display_name":"Andhy C7"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1074,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661504062,"creation_date":1661366031,"question_id":73478116,"body_markdown":"I see iText 7 not working for me with AndroidStudio Chipmunk 2021.2.1. \r\n\r\nI have tried these two implementation ways in the Gradle of my Android Studio project:\r\n```\r\nimplementation &#39;com.itextpdf:itext7-core:7.1.8&#39;\r\n```\r\nwhere the **PdfWriter, PdfDocument, Document and Paragraph classes** throw the error **&quot;Cannot resolve symbol&quot;**\r\n\r\nAnd the other way of Implementation:\r\n```\r\nimplementation &#39;com.itextpdf:kernel:7.1.8&#39;\r\nimplementation &#39;com.itextpdf:layout:7.1.8&#39;\r\nimplementation &#39;com.itextpdf:io:7.1.8&#39;\r\n```\r\nin this case **the Paragraph Class (from Layout) DOES NOT ADD the text I want.**\r\n\r\ndocument.add(new Paragraph(&quot;Text for my Pdf&quot;));\r\n\r\nand the &quot;Paragraph&quot; doesn&#39;t work at all (it doesn&#39;t add any text to the PDF), \r\nI add tables but no text. \r\n\r\nCould you please help me with this form of implementation in Gradle or how to import the library ?\r\n\r\nThis is the code of my MainActivity\r\n```\r\n...\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfWriter;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.layout.element.Paragraph;\r\n\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        try {\r\n            createPdf();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    private void createPdf() throws FileNotFoundException {\r\n        String pdfPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\r\n        File file = new File(pdfPath, &quot;myPDF.pdf&quot;);\r\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\r\n        PdfDocument pdfDocument = new PdfDocument(writer);\r\n        Document document = new Document(pdfDocument);\r\n\r\n        // Adding paragraphs to document\r\n        document.add(new Paragraph(&quot;Text for my PDF&quot;));\r\n\r\n       Table tabla = new Table(3); tabla.addCell(&quot;User&quot;); \r\n       tabla.addCell(&quot;Name&quot;);\r\n       tabla.addCell(&quot;Surname&quot;); \r\n\r\n       for(int i = 0; i &lt; 5 ; i++){ \r\n\r\n        tabla.addCell(String.valueOf(&quot;Text &quot; + i)); \r\n        tabla.addCell(String.valueOf(&quot;Text &quot; + i)); \r\n        tabla.addCell(String.valueOf(&quot;Text &quot; + i));\r\n    } \r\n       document.add(tabla); \r\n       document.close();\r\n\r\n        Toast.makeText(this, &quot;The PDF document has been created successfully&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n}\r\n```\r\n\r\n","title":"Problems with iText 7 to create PDF in Android Studio 2021","body":"<p>I see iText 7 not working for me with AndroidStudio Chipmunk 2021.2.1.</p>\n<p>I have tried these two implementation ways in the Gradle of my Android Studio project:</p>\n<pre><code>implementation 'com.itextpdf:itext7-core:7.1.8'\n</code></pre>\n<p>where the <strong>PdfWriter, PdfDocument, Document and Paragraph classes</strong> throw the error <strong>&quot;Cannot resolve symbol&quot;</strong></p>\n<p>And the other way of Implementation:</p>\n<pre><code>implementation 'com.itextpdf:kernel:7.1.8'\nimplementation 'com.itextpdf:layout:7.1.8'\nimplementation 'com.itextpdf:io:7.1.8'\n</code></pre>\n<p>in this case <strong>the Paragraph Class (from Layout) DOES NOT ADD the text I want.</strong></p>\n<p>document.add(new Paragraph(&quot;Text for my Pdf&quot;));</p>\n<p>and the &quot;Paragraph&quot; doesn't work at all (it doesn't add any text to the PDF),\nI add tables but no text.</p>\n<p>Could you please help me with this form of implementation in Gradle or how to import the library ?</p>\n<p>This is the code of my MainActivity</p>\n<pre><code>...\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfWriter;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.layout.element.Paragraph;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        try {\n            createPdf();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        }\n    }\n    private void createPdf() throws FileNotFoundException {\n        String pdfPath = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS).toString();\n        File file = new File(pdfPath, &quot;myPDF.pdf&quot;);\n        PdfWriter writer = new PdfWriter(String.valueOf(file));\n        PdfDocument pdfDocument = new PdfDocument(writer);\n        Document document = new Document(pdfDocument);\n\n        // Adding paragraphs to document\n        document.add(new Paragraph(&quot;Text for my PDF&quot;));\n\n       Table tabla = new Table(3); tabla.addCell(&quot;User&quot;); \n       tabla.addCell(&quot;Name&quot;);\n       tabla.addCell(&quot;Surname&quot;); \n\n       for(int i = 0; i &lt; 5 ; i++){ \n\n        tabla.addCell(String.valueOf(&quot;Text &quot; + i)); \n        tabla.addCell(String.valueOf(&quot;Text &quot; + i)); \n        tabla.addCell(String.valueOf(&quot;Text &quot; + i));\n    } \n       document.add(tabla); \n       document.close();\n\n        Toast.makeText(this, &quot;The PDF document has been created successfully&quot;, Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mocking","mockito"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661436689,"post_id":73486344,"comment_id":129776591,"body_markdown":"Whitch `query` method of `JdbcTemplate` are you calling? You must mock the exact one. For example this works: `Mockito.when(mockTemplate.query(Mockito.anyString(), Mockito.any(Object[].class), Mockito.any(ResultSetExtractor.class))).thenReturn(List.of(1, 2, 3)); ResultSetExtractor&lt;Integer&gt; extractor = rs -&gt; rs.findColumn(null);System.out.println(mockTemplate.query(&quot;ciao&quot;, new Object[10], extractor))`","body":"Whitch <code>query</code> method of <code>JdbcTemplate</code> are you calling? You must mock the exact one. For example this works: <code>Mockito.when(mockTemplate.query(Mockito.anyString(), Mockito.any(Object[].class), Mockito.any(ResultSetExtractor.class))).thenReturn(List.of(1&zwnj;&#8203;, 2, 3)); ResultSetExtractor&lt;Integer&gt; extractor = rs -&gt; rs.findColumn(null);System.out.println(mockTemplate.query(&quot;c&zwnj;&#8203;iao&quot;, new Object[10], extractor))</code>"},{"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"score":0,"creation_date":1661438055,"post_id":73486344,"comment_id":129777266,"body_markdown":"@Pp88: Thank you for the response. I tried the above code but still the list named &quot;matches&quot; (in the example above) continue to be empty in the DAO layer even though I pass a pre populated with  &quot;thenReturn(expectedresultList);&quot;. Any idea where I am going wrong ?","body":"@Pp88: Thank you for the response. I tried the above code but still the list named &quot;matches&quot; (in the example above) continue to be empty in the DAO layer even though I pass a pre populated with  &quot;thenReturn(expectedresultList);&quot;. Any idea where I am going wrong ?"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661441001,"post_id":73486344,"comment_id":129778546,"body_markdown":"Sorry now that I&#39;m reading better you are calling `query` with `ParameterizedRowMapper` and never mocking the correct call try this `Mockito.when(mockTemplate.query(Mockito.anyString(), Mockito.any(ParameterizedRowMapper.class))).thenReturn(expectedresultList);`","body":"Sorry now that I&#39;m reading better you are calling <code>query</code> with <code>ParameterizedRowMapper</code> and never mocking the correct call try this <code>Mockito.when(mockTemplate.query(Mockito.anyString(), Mockito.any(ParameterizedRowMapper.class))).thenReturn(expec&zwnj;&#8203;tedresultList);</code>"},{"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"score":0,"creation_date":1661499204,"post_id":73486344,"comment_id":129791263,"body_markdown":"Ohhh thank you very much @Pp88, this worked. Can you please post this as Answer so that I can mark it as resolved. I do not know how to mark a comment as the answer.","body":"Ohhh thank you very much @Pp88, this worked. Can you please post this as Answer so that I can mark it as resolved. I do not know how to mark a comment as the answer."}],"answers":[{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661503481,"creation_date":1661502486,"answer_id":73498131,"question_id":73486344,"body_markdown":"You are moking the wrong `query` method. The one you are moking is: \r\n```\r\nquery(String query, Object[] param, RowMapper&lt;T&gt; rowMapper)\r\n```\r\nbut in your code you are calling \r\n```\r\nquery(String query, ParameterizedRowMapper&lt;T&gt; rowMapper)\r\n``` \r\nMocking the correct method will fix the issue: \r\n```\r\nMockito.when(mockTemplate.query(Mockito.anyString(),  Mockito.any(ParameterizedRowMapper.class))).thenReturn(expectedresultList);\r\n```","title":"Mockito JdbcTemplate with ParameterizedRowMapper returns empty list","body":"<p>You are moking the wrong <code>query</code> method. The one you are moking is:</p>\n<pre><code>query(String query, Object[] param, RowMapper&lt;T&gt; rowMapper)\n</code></pre>\n<p>but in your code you are calling</p>\n<pre><code>query(String query, ParameterizedRowMapper&lt;T&gt; rowMapper)\n</code></pre>\n<p>Mocking the correct method will fix the issue:</p>\n<pre><code>Mockito.when(mockTemplate.query(Mockito.anyString(),  Mockito.any(ParameterizedRowMapper.class))).thenReturn(expectedresultList);\n</code></pre>\n"}],"owner":{"account_id":7833265,"reputation":293,"user_id":5922395,"accept_rate":75,"display_name":"vick_4444"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73498131,"answer_count":1,"score":1,"last_activity_date":1661503481,"creation_date":1661425283,"question_id":73486344,"body_markdown":"I am testing my test class using Mockito (v4.7.0), I have mocked all the layers starting from Service to DAO layer which is where getJdbcTemplate is used to retrieve records from DB and loop through it to apply a business logic. When I run the test,\r\n\r\n1&gt; The mocked returned list within the DAO method is 0 for some reason.\r\n\r\n2&gt; I also found that the control hasn&#39;t traversed the rows to apply the business logic. \r\n\r\nCan anyone please guide me how to proceed with this. Below are the sample test class and also the sample rowmapper block.  I have listed what I have already tried that did not work, out in below code. Much appreciated if anyone can point me in the right direction.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class AToolControllerMockitoTest  {\r\n    \r\n    \t\r\n    \t@Rule\r\n        public MockitoRule initRule = MockitoJUnit.rule();\r\n    \r\n    \t@InjectMocks\r\n    \tprivate AToolController aToolController;\r\n    \r\n    \t@Mock\r\n    \tMandatoryAssociationsDTO mandatoryAssociationsDTO;\r\n    \t\r\n    \t\r\n    \t@Before\r\n    \tpublic void init() throws NamingException, AppException {\r\n    \t\tMockitoAnnotations.openMocks(this);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic final void testDoMandatoryAssocaitionsist() throws AppException {\r\n    \r\n    \t\tExtDTO extDTO;\r\n    \t\t\r\n    \t\t Mockito.when(mandatoryAssociationsDTO.getPlan_id()).thenReturn(1234);\r\n    \t\t Mockito.when(mandatoryAssociationsDTO.getSortOrder()).thenReturn(&quot;ASC&quot;);\r\n    \t\t\r\n    \t\t List&lt;MandatoryAssociationsDTO&gt; expectedresultList  = new ArrayList&lt;&gt;();\r\n    \t\t expectedresultList.add(new MandatoryAssociationsDTO());\r\n    \t\t expectedresultList.add(new MandatoryAssociationsDTO());\r\n    \t\t expectedresultList.add(new MandatoryAssociationsDTO());\r\n    \t\t expectedresultList.add(new MandatoryAssociationsDTO());\r\n    \t        \r\n    \t\t JdbcTemplate mockTemplate = Mockito.mock( JdbcTemplate.class);\r\n    \r\n    \t\t//Example 1 did not work\r\n    //\t\t Mockito.when(mockTemplate.query(this.getQuery().toString(), ArgumentMatchers.&lt;Object[]&gt;any(), ArgumentMatchers.&lt;RowMapper&lt;MandatoryAssociationsDTO&gt;&gt;any())).thenReturn(expectedresultList);\r\n    \t\t\r\n    \t\t//Example 2 did not work\r\n    //\t\t Mockito.when(mockTemplate.query(this.getQuery().toString(),  ArgumentMatchers.&lt;Object[]&gt;any(),\r\n    //\t\t\t\t (ResultSetExtractor&lt;T&gt;) ArgumentMatchers.any(MandatoryAssociationsDTO.class)));\r\n    \r\n    \t\t//Example 3 did not work\r\n    //\t\t Mockito.when(mockTemplate.query(\r\n    //\t\t\t\t    Mockito.anyString(), \r\n    //\t\t\t\t    Mockito.any(Object[].class), \r\n    //\t\t\t\t    ArgumentMatchers.&lt;RowMapper&lt;MandatoryAssociationsDTO&gt;&gt;any())\r\n    //\t\t\t\t).thenReturn(expectedresultList);\r\n    \t\t \r\n    \t\t//Example 4 did not work\r\n    //\t\t Mockito.when(mockTemplate.query( Mockito.anyString(), ArgumentMatchers.&lt;Object[]&gt;any(),\r\n    //\t                ArgumentMatchers.&lt;RowMapper&lt;MandatoryAssociationsDTO&gt;&gt;any())).thenReturn(expectedresultList);\r\n    \t\t \r\n    \t\t //Example 5 did not work\r\n    \t\t Mockito.when(mockTemplate.query(Mockito.anyString(), ArgumentMatchers.&lt;Object[]&gt;any(), Mockito.any(ResultSetExtractor.class))).thenReturn(expectedresultList);\r\n    \t\t \r\n    \r\n    \t\t AToolService ptService = Mockito.spy(new AToolService());\r\n    \t\t AToolDAOImpl ptDAO = Mockito.spy(AToolDAOImpl.class);\r\n    \t\t ptDAO.setJdbcTemplate(mockTemplate);\r\n    \t\t ptService.setPtDAO(ptDAO);\r\n    \t\t \r\n    \t\t aToolController.setPtService(ptService);\r\n    \t\t \r\n    \t\t \r\n    \t\t\r\n    \t\r\n    \t\textDTO = aToolController.getMandatoryAssociationsList(mandatoryAssociationsDTO);\r\n    \r\n    \t\tassertEquals(4, ((List&lt;MandatoryAssociationsDTO&gt;) extDTO.getData()).size());\r\n    \r\n    \t}\t\r\n    \t\r\n    }\r\n\r\nAnd the rowmapper block looks as below which is not being traversed or the return list populated with 4 mocked objects. \r\n\r\n\tmatches = getJdbcTemplate().query(sqlStr, new ParameterizedRowMapper&lt;MandatoryAssociationsDTO&gt;() {\r\n\t\tpublic MandatoryAssociationsDTO mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tMandatoryAssociationsDTO bean = new MandatoryAssociationsDTO();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t//Some business logic here for resultset get operations. \r\n                //I would like to traverse this block via mock if possible.\r\n\t\t\t\t\r\n\t\t\t\treturn bean;\r\n\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\tlogger.error(&quot;SQLException: getMandatoryAssociationsList()&quot;, e);\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\t\r\n\tSystem.out.println(&quot;Matches count: &quot;+matches.size()); //is 0","title":"Mockito JdbcTemplate with ParameterizedRowMapper returns empty list","body":"<p>I am testing my test class using Mockito (v4.7.0), I have mocked all the layers starting from Service to DAO layer which is where getJdbcTemplate is used to retrieve records from DB and loop through it to apply a business logic. When I run the test,</p>\n<p>1&gt; The mocked returned list within the DAO method is 0 for some reason.</p>\n<p>2&gt; I also found that the control hasn't traversed the rows to apply the business logic.</p>\n<p>Can anyone please guide me how to proceed with this. Below are the sample test class and also the sample rowmapper block.  I have listed what I have already tried that did not work, out in below code. Much appreciated if anyone can point me in the right direction.</p>\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class AToolControllerMockitoTest  {\n\n    \n    @Rule\n    public MockitoRule initRule = MockitoJUnit.rule();\n\n    @InjectMocks\n    private AToolController aToolController;\n\n    @Mock\n    MandatoryAssociationsDTO mandatoryAssociationsDTO;\n    \n    \n    @Before\n    public void init() throws NamingException, AppException {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    public final void testDoMandatoryAssocaitionsist() throws AppException {\n\n        ExtDTO extDTO;\n        \n         Mockito.when(mandatoryAssociationsDTO.getPlan_id()).thenReturn(1234);\n         Mockito.when(mandatoryAssociationsDTO.getSortOrder()).thenReturn(&quot;ASC&quot;);\n        \n         List&lt;MandatoryAssociationsDTO&gt; expectedresultList  = new ArrayList&lt;&gt;();\n         expectedresultList.add(new MandatoryAssociationsDTO());\n         expectedresultList.add(new MandatoryAssociationsDTO());\n         expectedresultList.add(new MandatoryAssociationsDTO());\n         expectedresultList.add(new MandatoryAssociationsDTO());\n            \n         JdbcTemplate mockTemplate = Mockito.mock( JdbcTemplate.class);\n\n        //Example 1 did not work\n//       Mockito.when(mockTemplate.query(this.getQuery().toString(), ArgumentMatchers.&lt;Object[]&gt;any(), ArgumentMatchers.&lt;RowMapper&lt;MandatoryAssociationsDTO&gt;&gt;any())).thenReturn(expectedresultList);\n        \n        //Example 2 did not work\n//       Mockito.when(mockTemplate.query(this.getQuery().toString(),  ArgumentMatchers.&lt;Object[]&gt;any(),\n//               (ResultSetExtractor&lt;T&gt;) ArgumentMatchers.any(MandatoryAssociationsDTO.class)));\n\n        //Example 3 did not work\n//       Mockito.when(mockTemplate.query(\n//                  Mockito.anyString(), \n//                  Mockito.any(Object[].class), \n//                  ArgumentMatchers.&lt;RowMapper&lt;MandatoryAssociationsDTO&gt;&gt;any())\n//              ).thenReturn(expectedresultList);\n         \n        //Example 4 did not work\n//       Mockito.when(mockTemplate.query( Mockito.anyString(), ArgumentMatchers.&lt;Object[]&gt;any(),\n//                  ArgumentMatchers.&lt;RowMapper&lt;MandatoryAssociationsDTO&gt;&gt;any())).thenReturn(expectedresultList);\n         \n         //Example 5 did not work\n         Mockito.when(mockTemplate.query(Mockito.anyString(), ArgumentMatchers.&lt;Object[]&gt;any(), Mockito.any(ResultSetExtractor.class))).thenReturn(expectedresultList);\n         \n\n         AToolService ptService = Mockito.spy(new AToolService());\n         AToolDAOImpl ptDAO = Mockito.spy(AToolDAOImpl.class);\n         ptDAO.setJdbcTemplate(mockTemplate);\n         ptService.setPtDAO(ptDAO);\n         \n         aToolController.setPtService(ptService);\n         \n         \n        \n    \n        extDTO = aToolController.getMandatoryAssociationsList(mandatoryAssociationsDTO);\n\n        assertEquals(4, ((List&lt;MandatoryAssociationsDTO&gt;) extDTO.getData()).size());\n\n    }   \n    \n}\n</code></pre>\n<p>And the rowmapper block looks as below which is not being traversed or the return list populated with 4 mocked objects.</p>\n<pre><code>matches = getJdbcTemplate().query(sqlStr, new ParameterizedRowMapper&lt;MandatoryAssociationsDTO&gt;() {\n    public MandatoryAssociationsDTO mapRow(ResultSet rs, int rowNum) throws SQLException {\n        try {\n            \n            MandatoryAssociationsDTO bean = new MandatoryAssociationsDTO();\n            \n            \n            //Some business logic here for resultset get operations. \n            //I would like to traverse this block via mock if possible.\n            \n            return bean;\n\n        } catch (SQLException e) {\n            logger.error(&quot;SQLException: getMandatoryAssociationsList()&quot;, e);\n            throw e;\n        }\n    }\n\n});\n\nSystem.out.println(&quot;Matches count: &quot;+matches.size()); //is 0\n</code></pre>\n"},{"tags":["java","spring","string","validation"],"answers":[{"tags":[],"owner":{"account_id":234666,"reputation":609,"user_id":3657208,"display_name":"cisk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661502635,"creation_date":1661502635,"answer_id":73498160,"question_id":73498080,"body_markdown":"Java Validation APIs provide a `@Pattern` annotation which accepts a regex:\r\n\r\nhttps://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html","title":"Validation of a string Spring Boot","body":"<p>Java Validation APIs provide a <code>@Pattern</code> annotation which accepts a regex:</p>\n<p><a href=\"https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/7/api/javax/validation/constraints/Pattern.html</a></p>\n"},{"tags":[],"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661503398,"creation_date":1661503398,"answer_id":73498318,"question_id":73498080,"body_markdown":"As mentioned in answer above, you can use regex,`@Email` annotation accepts regexp as argument.\r\n\r\nIn your specific case, to validate that email doesn&#39;t contain string `@domain.com` you can use following regex:\r\n\r\n\r\n   \r\n\r\n     @Email(regexp =&quot;^((?!@domain.com).)*$&quot;)\r\n        @NotBlank\r\n        @Length(min = 5, max = 100)\r\n        String email;","title":"Validation of a string Spring Boot","body":"<p>As mentioned in answer above, you can use regex,<code>@Email</code> annotation accepts regexp as argument.</p>\n<p>In your specific case, to validate that email doesn't contain string <code>@domain.com</code> you can use following regex:</p>\n<pre><code> @Email(regexp =&quot;^((?!@domain.com).)*$&quot;)\n    @NotBlank\n    @Length(min = 5, max = 100)\n    String email;\n</code></pre>\n"}],"owner":{"account_id":24650422,"reputation":59,"user_id":18547584,"display_name":"Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":752,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1661503398,"creation_date":1661502214,"question_id":73498080,"body_markdown":"I am using Spring Boot and I want to validate an email. In my DTO I have the field\r\n\r\n    @NotBlank\r\n    @Email\r\n    @Length(min = 5, max = 100)\r\n    String email\r\n\r\nNow I want to validate, that for example the email does not contain subline `&quot;@domain.com&quot;`.\r\nI can create my own annotation for validation, that is not a problem. But maybe there are already developed solutions about String format?\r\n\r\nThank You.","title":"Validation of a string Spring Boot","body":"<p>I am using Spring Boot and I want to validate an email. In my DTO I have the field</p>\n<pre><code>@NotBlank\n@Email\n@Length(min = 5, max = 100)\nString email\n</code></pre>\n<p>Now I want to validate, that for example the email does not contain subline <code>&quot;@domain.com&quot;</code>.\nI can create my own annotation for validation, that is not a problem. But maybe there are already developed solutions about String format?</p>\n<p>Thank You.</p>\n"},{"tags":["java","mockito","java-stream","jooq"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1661246582,"post_id":73456148,"comment_id":129720056,"body_markdown":"I can&#39;t believe that in Case 1 the for loop is entered.","body":"I can&#39;t believe that in Case 1 the for loop is entered."},{"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"score":0,"creation_date":1661247155,"post_id":73456148,"comment_id":129720264,"body_markdown":"It doesn&#39;t make sense, I agree, but it does happen. Added a screenshot.","body":"It doesn&#39;t make sense, I agree, but it does happen. Added a screenshot."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1661247340,"post_id":73456148,"comment_id":129720340,"body_markdown":"You need to provide information how it is mocked. I would assume you mock the method used for the foreach-loop, but not `data#stream`. Please provide a [mcve].","body":"You need to provide information how it is mocked. I would assume you mock the method used for the foreach-loop, but not <code>data#stream</code>. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"score":0,"creation_date":1661247771,"post_id":73456148,"comment_id":129720490,"body_markdown":"@daniu yeah, like that. So the class is mocked Mockito.mock(SearcService.class), and the method is called where this foreach-loop is called.","body":"@daniu yeah, like that. So the class is mocked Mockito.mock(SearcService.class), and the method is called where this foreach-loop is called."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1661248037,"post_id":73456148,"comment_id":129720608,"body_markdown":"The SearchService as such is irrelevant, `record` is what is being looped/streamd. In your screenshot it says that `record` is a mock, and its behavior depends on how you mock it - that&#39;s the point of mocking.","body":"The SearchService as such is irrelevant, <code>record</code> is what is being looped/streamd. In your screenshot it says that <code>record</code> is a mock, and its behavior depends on how you mock it - that&#39;s the point of mocking."},{"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"score":0,"creation_date":1661248468,"post_id":73456148,"comment_id":129720796,"body_markdown":"@daniu \nOh that one, got it. Thank you. \nRecord is built the same way for both stream/for-loop. \nThe tests are old ones and they&#39;re not changed, the actual code is changed from for-loop to stream and this issue got up.","body":"@daniu  Oh that one, got it. Thank you.  Record is built the same way for both stream/for-loop.  The tests are old ones and they&#39;re not changed, the actual code is changed from for-loop to stream and this issue got up."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1661250595,"post_id":73456148,"comment_id":129721556,"body_markdown":"It doesn&#39;t matter how &quot;Record is built&quot; if you mock it in the test. Again, please provide a [mcve]. The issue you have is not in the code you show.","body":"It doesn&#39;t matter how &quot;Record is built&quot; if you mock it in the test. Again, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The issue you have is not in the code you show."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1661251320,"post_id":73456148,"comment_id":129721821,"body_markdown":"Sorry, it&#39;s not `Record` that&#39;s the issue, the problem is that `Result` gives a record even though it is empty. Looks to me like the loop behavior is wrong, but again, one can only guess.","body":"Sorry, it&#39;s not <code>Record</code> that&#39;s the issue, the problem is that <code>Result</code> gives a record even though it is empty. Looks to me like the loop behavior is wrong, but again, one can only guess."},{"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"score":0,"creation_date":1661252233,"post_id":73456148,"comment_id":129722125,"body_markdown":"@daniu Exactly, loop behaves like there is something in the list, but there&#39;s nothing. \nI&#39;ll update the description once I get deeper into the whole mocking logic. \nI was sure it&#39;s something with the loop, since that&#39;s the only change in the code, but seems like I have to dig more.","body":"@daniu Exactly, loop behaves like there is something in the list, but there&#39;s nothing.  I&#39;ll update the description once I get deeper into the whole mocking logic.  I was sure it&#39;s something with the loop, since that&#39;s the only change in the code, but seems like I have to dig more."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":1,"creation_date":1661257789,"post_id":73456148,"comment_id":129724408,"body_markdown":"As others have requested, can you please show how you mock `Result`.","body":"As others have requested, can you please show how you mock <code>Result</code>."},{"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"score":0,"creation_date":1661318510,"post_id":73456148,"comment_id":129740070,"body_markdown":"Added how the Result is mocked. It&#39;s a private method in the test class which is called with different parameters based on the test case. Not sure, but seems like that private method where this for loop is located in the method that&#39;s being tested is&#39;t processing the object correctly cuse it&#39;s not a real object.","body":"Added how the Result is mocked. It&#39;s a private method in the test class which is called with different parameters based on the test case. Not sure, but seems like that private method where this for loop is located in the method that&#39;s being tested is&#39;t processing the object correctly cuse it&#39;s not a real object."},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":1,"creation_date":1661318982,"post_id":73456148,"comment_id":129740138,"body_markdown":"You’re clearly mocking the Iterator on data which is used in the for loop, but not data.stream…so there is your problem. It would be easier if data was a Collection, then you would not have to mock that.","body":"You’re clearly mocking the Iterator on data which is used in the for loop, but not data.stream…so there is your problem. It would be easier if data was a Collection, then you would not have to mock that."},{"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1661332844,"post_id":73456148,"comment_id":129744720,"body_markdown":"@slindenau: `data` is a jOOQ `Result`, which extends `List`, but I think the problem is that mockito doesn&#39;t call actual `default` methods, by default?","body":"@slindenau: <code>data</code> is a jOOQ <code>Result</code>, which extends <code>List</code>, but I think the problem is that mockito doesn&#39;t call actual <code>default</code> methods, by default?"},{"owner":{"account_id":4635391,"reputation":1131,"user_id":3756780,"display_name":"slindenau"},"score":0,"creation_date":1661333031,"post_id":73456148,"comment_id":129744795,"body_markdown":"@LukasEder i do remember having problems myself with `default` methods on an interface in combination with Mockito. So that might be worth looking into indeed.","body":"@LukasEder i do remember having problems myself with <code>default</code> methods on an interface in combination with Mockito. So that might be worth looking into indeed."}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1661332719,"creation_date":1661329091,"answer_id":73469713,"question_id":73456148,"body_markdown":"### Why it didn&#39;t work\r\n\r\nYou&#39;re mocking `Result.iterator()`:\r\n\r\n```java\r\nwhen(deviceDataResultMock.iterator()).thenReturn(resultIterator);\r\n```\r\n\r\nBut you didn&#39;t mock `Result.spliterator()`, or at least I didn&#39;t see it, which is what&#39;s being called by `Result.stream()`, which is just `Collection.stream()`:\r\n\r\n```java\r\ndefault Stream&lt;E&gt; stream() {\r\n    return StreamSupport.stream(spliterator(), false);\r\n}\r\n```\r\n\r\nSo, you&#39;ll have to mock the `spliterator()` method as well, and probably a few others, too! Alternatively, tell Mockito to call `default` methods:\r\n\r\nhttps://stackoverflow.com/q/27663252/521799\r\n\r\n### A comment on mocking in general\r\n\r\nI&#39;m not convinced that mocking the jOOQ API is a very good idea. The jOOQ API is vast, and you&#39;ll likely forget to mock this or that method as this question here has aptly shown. With your current setup, you&#39;re planning on updating your mock *every time* you project a new column? E.g. you&#39;re doing this:\r\n\r\n```java\r\nwhen(recordMock.get(DEVICEID.getName()).thenReturn(deviceId);\r\n```\r\n\r\nWhat if the column is renamed? Or another column is projected? You&#39;ll have to update this test. That feels like quite the chore, and it&#39;s very error prone.\r\n\r\nWhile jOOQ itself has [JDBC mocking capabilities][1], please consider the bold disclaimer on that manual page:\r\n\r\n&gt; Disclaimer: The general idea of mocking a JDBC connection with this jOOQ API is to provide quick workarounds, injection points, etc. using a very simple JDBC abstraction. It is NOT RECOMMENDED to emulate an entire database (including complex state transitions, transactions, locking, etc.) using this mock API. Once you have this requirement, please consider using an actual database product instead for integration testing, rather than implementing your test database inside of a MockDataProvider\r\n\r\nWhen working with databases, it&#39;s usually best to resort to running integration tests, see the following resources for some details:\r\n\r\n- https://stackoverflow.com/q/57443526/521799\r\n- [Using H2 as a Test Database Product with jOOQ][2]\r\n- [How to Integration Test Stored Procedures with jOOQ][3]\r\n- [Using Testcontainers to Generate jOOQ Code][4]\r\n\r\nOf course, you can write a few smoke tests to ensure jOOQ works correctly if you don&#39;t trust jOOQ (jOOQ being an external dependency). But the jOOQ unit and integration tests are vast, so in general, you should be able to trust core types like `Result` or `Record` to do the right thing for you. What you really want to test is your query correctness, and that, you can only integration test against an actual database instance.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/mocking-connection/\r\n  [2]: https://blog.jooq.org/using-h2-as-a-test-database-product/\r\n  [3]: https://blog.jooq.org/how-to-integration-test-stored-procedures-with-jooq/\r\n  [4]: https://blog.jooq.org/using-testcontainers-to-generate-jooq-code/","title":"Unit test: Collection being processed with for-loop but not with streams","body":"<h3>Why it didn't work</h3>\n<p>You're mocking <code>Result.iterator()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(deviceDataResultMock.iterator()).thenReturn(resultIterator);\n</code></pre>\n<p>But you didn't mock <code>Result.spliterator()</code>, or at least I didn't see it, which is what's being called by <code>Result.stream()</code>, which is just <code>Collection.stream()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>default Stream&lt;E&gt; stream() {\n    return StreamSupport.stream(spliterator(), false);\n}\n</code></pre>\n<p>So, you'll have to mock the <code>spliterator()</code> method as well, and probably a few others, too! Alternatively, tell Mockito to call <code>default</code> methods:</p>\n<p><a href=\"https://stackoverflow.com/q/27663252/521799\">Can you make mockito (1.10.17) work with default methods in interfaces?</a></p>\n<h3>A comment on mocking in general</h3>\n<p>I'm not convinced that mocking the jOOQ API is a very good idea. The jOOQ API is vast, and you'll likely forget to mock this or that method as this question here has aptly shown. With your current setup, you're planning on updating your mock <em>every time</em> you project a new column? E.g. you're doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(recordMock.get(DEVICEID.getName()).thenReturn(deviceId);\n</code></pre>\n<p>What if the column is renamed? Or another column is projected? You'll have to update this test. That feels like quite the chore, and it's very error prone.</p>\n<p>While jOOQ itself has <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/mocking-connection/\" rel=\"noreferrer\">JDBC mocking capabilities</a>, please consider the bold disclaimer on that manual page:</p>\n<blockquote>\n<p>Disclaimer: The general idea of mocking a JDBC connection with this jOOQ API is to provide quick workarounds, injection points, etc. using a very simple JDBC abstraction. It is NOT RECOMMENDED to emulate an entire database (including complex state transitions, transactions, locking, etc.) using this mock API. Once you have this requirement, please consider using an actual database product instead for integration testing, rather than implementing your test database inside of a MockDataProvider</p>\n</blockquote>\n<p>When working with databases, it's usually best to resort to running integration tests, see the following resources for some details:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/57443526/521799\">Integration testing with Jooq</a></li>\n<li><a href=\"https://blog.jooq.org/using-h2-as-a-test-database-product/\" rel=\"noreferrer\">Using H2 as a Test Database Product with jOOQ</a></li>\n<li><a href=\"https://blog.jooq.org/how-to-integration-test-stored-procedures-with-jooq/\" rel=\"noreferrer\">How to Integration Test Stored Procedures with jOOQ</a></li>\n<li><a href=\"https://blog.jooq.org/using-testcontainers-to-generate-jooq-code/\" rel=\"noreferrer\">Using Testcontainers to Generate jOOQ Code</a></li>\n</ul>\n<p>Of course, you can write a few smoke tests to ensure jOOQ works correctly if you don't trust jOOQ (jOOQ being an external dependency). But the jOOQ unit and integration tests are vast, so in general, you should be able to trust core types like <code>Result</code> or <code>Record</code> to do the right thing for you. What you really want to test is your query correctness, and that, you can only integration test against an actual database instance.</p>\n"}],"owner":{"account_id":7990857,"reputation":113,"user_id":6028761,"display_name":"Nautilus "},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1351,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"accepted_answer_id":73469713,"answer_count":1,"score":9,"last_activity_date":1661503247,"creation_date":1661246460,"question_id":73456148,"body_markdown":"Issue with unit test is that the same collection is processed differently in a stream and in a for loop. \r\nThe collection in both cases is empty ```(data.size() = 0)```, but in the Case 1 that collection is somehow processed, in other words it will step in the for-loop.\r\nIn Case 2, that collection is just skipped (which is expected since it&#39;s empty). \r\n\r\nTests are using Mockito, and ```Result&lt;Record&gt;``` is comming for JOOQ.\r\n\r\nThe tests are old and unchanged, the only change is going from for-loop to stream. \r\n\r\n\r\n**Case 1** \r\n``` \r\nprivate SearchResult iterateData(\r\n      Result&lt;Record&gt; data, ...) {\r\n\r\n      for (Record record : data) {\r\n           doSomething(record);\r\n    }\r\n```\r\n\r\n**Case 2**\r\n``` \r\nprivate SearchResult iterateData(\r\n      Result&lt;Record&gt; data, ...) {\r\n      data.stream().forEach(record -&gt; doSomething(record)); \r\n```\r\n\r\n\r\nScreenshot of Case 1\r\n[for loop example][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NMg8l.png\r\n\r\n**Mocked Result object** \r\n```\r\nprivate DefaultSearchRequestModel rowSpecificValuesTestSetup(\r\n      parameters...) {\r\n    \r\n\r\n    DefaultSearchRequestModel searchRequest = new DefaultSearchRequestModel(\r\n        Arrays.asList(....),\r\n        Collections.singletonList(\r\n            new SearchFilter(\r\n                &quot;test&quot;,\r\n                Collections.singletonList(...)));\r\n\r\n    List&lt;Column&gt; columns =\r\n        this.searchService.filterUserAllowedColumns(...);\r\n\r\n    Condition searchCondition =\r\n        this.searchRepositoryMock.getSearchConditions(...);\r\n\r\n    List&lt;TableJoinMapping&gt; joinMappings = ColumnHelper.getColumnTranslateDeviceJoinMappings(\r\n        columns,\r\n        searchRequest.getFilters());\r\n\r\n    Result&lt;Record&gt; deviceDataResultMock = Mockito.mock(Result.class);\r\n    Iterator&lt;Record&gt; resultIterator = Mockito.mock(Iterator.class);\r\n    final Table fromTableMock = Mockito.mock(Table.class);\r\n    when(resultIterator.hasNext()).thenReturn(true, false);\r\n    Record recordMock = Mockito.mock(Record.class);\r\n    when(resultIterator.next()).thenReturn(recordMock);\r\n    when(deviceDataResultMock.iterator()).thenReturn(resultIterator);\r\n    when(recordMock.get(CONTRACTID)).thenReturn(contractId);\r\n   ...\r\nwhen(this.userPermissions.getAccessPermissions()).thenReturn(searchRequest.getColumns().stream().map\r\n        (name -&gt; Column.findByName(name).getId()).collect(\r\n        Collectors.toList()));\r\n    when(this.searchRepositoryMock.getCurrentTable(companyId))\r\n        .thenReturn(fromTableMock);\r\n    when(recordMock.get(TYPEID)).thenReturn(financialTypeId);\r\n    when(this.searchRepositoryMock.getDeviceData(\r\n        ArgumentMatchers.anyList(),\r\n        ArgumentMatchers.anyList(),\r\n        any(),\r\n        any(),\r\n        eq(searchRequest.getPageSize()),\r\n        eq(searchRequest.getPage()),\r\n        eq(searchRequest.getSortCriterias()),\r\n        eq(fromTableMock),\r\n        ArgumentMatchers.anyList(),\r\n        eq(Optional.empty()),\r\n        eq(this.dslContextMock)))\r\n        .thenReturn(deviceDataResultMock);\r\n\r\n    return searchRequest;\r\n  }```","title":"Unit test: Collection being processed with for-loop but not with streams","body":"<p>Issue with unit test is that the same collection is processed differently in a stream and in a for loop.\nThe collection in both cases is empty <code>(data.size() = 0)</code>, but in the Case 1 that collection is somehow processed, in other words it will step in the for-loop.\nIn Case 2, that collection is just skipped (which is expected since it's empty).</p>\n<p>Tests are using Mockito, and <code>Result&lt;Record&gt;</code> is comming for JOOQ.</p>\n<p>The tests are old and unchanged, the only change is going from for-loop to stream.</p>\n<p><strong>Case 1</strong></p>\n<pre><code>private SearchResult iterateData(\n      Result&lt;Record&gt; data, ...) {\n\n      for (Record record : data) {\n           doSomething(record);\n    }\n</code></pre>\n<p><strong>Case 2</strong></p>\n<pre><code>private SearchResult iterateData(\n      Result&lt;Record&gt; data, ...) {\n      data.stream().forEach(record -&gt; doSomething(record)); \n</code></pre>\n<p>Screenshot of Case 1\n<a href=\"https://i.stack.imgur.com/NMg8l.png\" rel=\"nofollow noreferrer\">for loop example</a></p>\n<p><strong>Mocked Result object</strong></p>\n<pre><code>private DefaultSearchRequestModel rowSpecificValuesTestSetup(\n      parameters...) {\n    \n\n    DefaultSearchRequestModel searchRequest = new DefaultSearchRequestModel(\n        Arrays.asList(....),\n        Collections.singletonList(\n            new SearchFilter(\n                &quot;test&quot;,\n                Collections.singletonList(...)));\n\n    List&lt;Column&gt; columns =\n        this.searchService.filterUserAllowedColumns(...);\n\n    Condition searchCondition =\n        this.searchRepositoryMock.getSearchConditions(...);\n\n    List&lt;TableJoinMapping&gt; joinMappings = ColumnHelper.getColumnTranslateDeviceJoinMappings(\n        columns,\n        searchRequest.getFilters());\n\n    Result&lt;Record&gt; deviceDataResultMock = Mockito.mock(Result.class);\n    Iterator&lt;Record&gt; resultIterator = Mockito.mock(Iterator.class);\n    final Table fromTableMock = Mockito.mock(Table.class);\n    when(resultIterator.hasNext()).thenReturn(true, false);\n    Record recordMock = Mockito.mock(Record.class);\n    when(resultIterator.next()).thenReturn(recordMock);\n    when(deviceDataResultMock.iterator()).thenReturn(resultIterator);\n    when(recordMock.get(CONTRACTID)).thenReturn(contractId);\n   ...\nwhen(this.userPermissions.getAccessPermissions()).thenReturn(searchRequest.getColumns().stream().map\n        (name -&gt; Column.findByName(name).getId()).collect(\n        Collectors.toList()));\n    when(this.searchRepositoryMock.getCurrentTable(companyId))\n        .thenReturn(fromTableMock);\n    when(recordMock.get(TYPEID)).thenReturn(financialTypeId);\n    when(this.searchRepositoryMock.getDeviceData(\n        ArgumentMatchers.anyList(),\n        ArgumentMatchers.anyList(),\n        any(),\n        any(),\n        eq(searchRequest.getPageSize()),\n        eq(searchRequest.getPage()),\n        eq(searchRequest.getSortCriterias()),\n        eq(fromTableMock),\n        ArgumentMatchers.anyList(),\n        eq(Optional.empty()),\n        eq(this.dslContextMock)))\n        .thenReturn(deviceDataResultMock);\n\n    return searchRequest;\n  }```\n</code></pre>\n"},{"tags":["javascript","python","java","dart","biginteger"],"comments":[{"owner":{"account_id":19147933,"reputation":793,"user_id":13986472,"display_name":"zergski"},"score":0,"creation_date":1661496235,"post_id":73496989,"comment_id":129790378,"body_markdown":"in js typedArray you have Bigint64Array type, tried? https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays","body":"in js typedArray you have Bigint64Array type, tried? <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Typed_arrays</a>"},{"owner":{"account_id":10474938,"reputation":7168,"user_id":7721752,"display_name":"ukBaz"},"score":0,"creation_date":1661497806,"post_id":73496989,"comment_id":129790828,"body_markdown":"For Python I think it is `int.from_bytes` functionality that you are looking for. https://docs.python.org/3/library/stdtypes.html#int.from_bytes","body":"For Python I think it is <code>int.from_bytes</code> functionality that you are looking for. <a href=\"https://docs.python.org/3/library/stdtypes.html#int.from_bytes\" rel=\"nofollow noreferrer\">docs.python.org/3/library/stdtypes.html#int.from_bytes</a>"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661503194,"creation_date":1661498256,"answer_id":73497402,"question_id":73496989,"body_markdown":"In Java a byte is a signed 8-bit value (ranges from -128 to 127). To get an unsigned value, you can bitwise AND it with 255. Try\r\n\r\n```\r\nBigInteger _convertBytesToBigInt(byte[] bytes) {\r\n        BigInteger result = BigInteger.ZERO;\r\n        for (byte z : bytes) {\r\n            result = (result.shiftLeft(8)).or(BigInteger.valueOf(z &amp; 0xff));\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nSide note regarding `writeBigInt`: just use `Number#byteValue()` instead of `toString()` and `parseInt()`.\r\n\r\n**Udate**\r\n\r\n_convertBytesToBigInt() assumes the bytes to be given in big-endian whereas writeBigInt writes little-endian. Here&#39;s a corrected version for that, too:\r\n\r\n```\r\nbyte[] writeBigInt(BigInteger number) {\r\n    // Not handling negative numbers. Decide how you want to do that.\r\n    int bytes = (number.bitLength() + 7) &gt;&gt; 3;\r\n    BigInteger b256 = BigInteger.valueOf(256);\r\n    byte[] result = new byte[bytes];\r\n    for (int i = 0; i &lt; bytes; i++) {\r\n        result[bytes-1-i] = number.remainder(b256).byteValue();\r\n        number = number.shiftRight(8);\r\n    }\r\n    return result;\r\n}\r\n```","title":"convert strings&#39;s byte array to big integer and perform functions in any language","body":"<p>In Java a byte is a signed 8-bit value (ranges from -128 to 127). To get an unsigned value, you can bitwise AND it with 255. Try</p>\n<pre><code>BigInteger _convertBytesToBigInt(byte[] bytes) {\n        BigInteger result = BigInteger.ZERO;\n        for (byte z : bytes) {\n            result = (result.shiftLeft(8)).or(BigInteger.valueOf(z &amp; 0xff));\n        }\n        return result;\n    }\n</code></pre>\n<p>Side note regarding <code>writeBigInt</code>: just use <code>Number#byteValue()</code> instead of <code>toString()</code> and <code>parseInt()</code>.</p>\n<p><strong>Udate</strong></p>\n<p>_convertBytesToBigInt() assumes the bytes to be given in big-endian whereas writeBigInt writes little-endian. Here's a corrected version for that, too:</p>\n<pre><code>byte[] writeBigInt(BigInteger number) {\n    // Not handling negative numbers. Decide how you want to do that.\n    int bytes = (number.bitLength() + 7) &gt;&gt; 3;\n    BigInteger b256 = BigInteger.valueOf(256);\n    byte[] result = new byte[bytes];\n    for (int i = 0; i &lt; bytes; i++) {\n        result[bytes-1-i] = number.remainder(b256).byteValue();\n        number = number.shiftRight(8);\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":18302804,"reputation":176,"user_id":13327203,"display_name":"Sandip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":525,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73497402,"answer_count":1,"score":1,"last_activity_date":1661503194,"creation_date":1661495969,"question_id":73496989,"body_markdown":"I want to convert String&#39;s byte array to BigInteger and vis-versa. \r\n\r\nI&#39;m able to do this for some language specifically. For example:- \r\n\r\nin java: ```new BigInteger(&quot;ab&quot;.getBytes())```\r\n\r\nand in dart: ```_convertBytesToBigInt(Uint8List.fromList(Utf8Encoder().convert(&#39;ab&#39;)))```\r\n\r\nwhere ```_convertBytesToBigInt()``` method is from dartlang sdk&#39;s github issue discussion ([here][1] and [here][2]).\r\n\r\nI tried coping the same code from dart to java: \r\n\r\n```\r\n    BigInteger _convertBytesToBigInt(byte[] bytes) {\r\n        BigInteger result = BigInteger.ZERO;\r\n        for (byte z : bytes) {\r\n// reading in big-endian, so we essentially concat the new byte to the end\r\n            result = (result.shiftLeft(8)).or(BigInteger.valueOf(z));\r\n        }\r\n        return result;\r\n    }\r\n```\r\n\r\nand this don&#39;t work when I try to perform simple multiplication/division in java (but it works in flutter however)\r\n\r\n```\r\n// in java:\r\n\r\nbyte[] x = writeBigInt(_convertBytesToBigInt(writeBigInt(_convertBytesToBigInt(&quot;ab&quot;.getBytes()).multiply(BigInteger.TEN))).divide(BigInteger.TEN));\r\n//returns [-25, -6] but it should return [97,98]\r\n```\r\n\r\n```\r\n//in dart:\r\n\r\nUint8List y = _writeBigInt(_convertBytesToBigInt(_writeBigInt(\r\n          _convertBytesToBigInt(\r\n                  Uint8List.fromList(const Utf8Encoder().convert(&#39;ab&#39;))) *\r\n              BigInt.two)) ~/\r\n      BigInt.two);\r\n\r\n//it returns [97,98] which is expected result.\r\n```\r\n\r\nI tried copying Java&#39;s BigInteger class and it&#39;s ```toByteArray()``` method but again, it don&#39;t work with dart properly.\r\n\r\nThese methods works normally if I try without multiplication/division, so only possible thing is, they both multiply/divide in different way if I&#39;m not wrong.\r\n\r\nIs there ANY solution for this? So that I can turn byte arr to BigInteger in ANY language (specifically popular ones like Java, Dart/flutter, Rust, Python, JS, etc).\r\n\r\nNOTE: \r\n\r\nFollowing are the methods which I used in dart and java respectively.\r\n\r\n```\r\nBigInt _convertBytesToBigInt(Uint8List bytes) {\r\n  BigInt result = BigInt.zero;\r\n\r\n  for (final byte in bytes) {\r\n// reading in big-endian, so we essentially concat the new byte to the end\r\n    result = (result &lt;&lt; 8) | BigInt.from(byte);\r\n  }\r\n  return result;\r\n}\r\n\r\nUint8List _writeBigInt(BigInt number) {\r\n  // Not handling negative numbers. Decide how you want to do that.\r\n  int bytes = (number.bitLength + 7) &gt;&gt; 3;\r\n  var b256 = BigInt.from(256);\r\n  var result = Uint8List(bytes);\r\n  for (int i = 0; i &lt; bytes; i++) {\r\n    result[i] = number.remainder(b256).toInt();\r\n    number = number &gt;&gt; 8;\r\n  }\r\n  return result;\r\n}\r\n```\r\n\r\n```\r\nBigInteger _convertBytesToBigInt(byte[] bytes) {\r\n        BigInteger result = BigInteger.ZERO;\r\n        for (byte z : bytes) {\r\n// reading in big-endian, so we essentially concat the new byte to the end\r\n            result = (result.shiftLeft(8)).or(BigInteger.valueOf(z));\r\n        }\r\n        return result;\r\n    }\r\n\r\nstatic byte[] writeBigInt(BigInteger number) {\r\n        // Not handling negative numbers. Decide how you want to do that.\r\n        int bytes = (number.bitLength() + 7) &gt;&gt; 3;\r\n        BigInteger b256 = BigInteger.valueOf(256);\r\n        byte[] result = new byte[bytes];\r\n        for (int i = 0; i &lt; bytes; i++) {\r\n            result[i] = (byte) Integer.parseInt(number.remainder(b256).toString());\r\n            number = number.shiftRight(8);\r\n        }\r\n        return result;\r\n    }\r\n```\r\n  [1]: https://github.com/dart-lang/sdk/issues/32803#issuecomment-963346017\r\n  [2]: https://github.com/dart-lang/sdk/issues/32803#issuecomment-387405784","title":"convert strings&#39;s byte array to big integer and perform functions in any language","body":"<p>I want to convert String's byte array to BigInteger and vis-versa.</p>\n<p>I'm able to do this for some language specifically. For example:-</p>\n<p>in java: <code>new BigInteger(&quot;ab&quot;.getBytes())</code></p>\n<p>and in dart: <code>_convertBytesToBigInt(Uint8List.fromList(Utf8Encoder().convert('ab')))</code></p>\n<p>where <code>_convertBytesToBigInt()</code> method is from dartlang sdk's github issue discussion (<a href=\"https://github.com/dart-lang/sdk/issues/32803#issuecomment-963346017\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://github.com/dart-lang/sdk/issues/32803#issuecomment-387405784\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>I tried coping the same code from dart to java:</p>\n<pre><code>    BigInteger _convertBytesToBigInt(byte[] bytes) {\n        BigInteger result = BigInteger.ZERO;\n        for (byte z : bytes) {\n// reading in big-endian, so we essentially concat the new byte to the end\n            result = (result.shiftLeft(8)).or(BigInteger.valueOf(z));\n        }\n        return result;\n    }\n</code></pre>\n<p>and this don't work when I try to perform simple multiplication/division in java (but it works in flutter however)</p>\n<pre><code>// in java:\n\nbyte[] x = writeBigInt(_convertBytesToBigInt(writeBigInt(_convertBytesToBigInt(&quot;ab&quot;.getBytes()).multiply(BigInteger.TEN))).divide(BigInteger.TEN));\n//returns [-25, -6] but it should return [97,98]\n</code></pre>\n<pre><code>//in dart:\n\nUint8List y = _writeBigInt(_convertBytesToBigInt(_writeBigInt(\n          _convertBytesToBigInt(\n                  Uint8List.fromList(const Utf8Encoder().convert('ab'))) *\n              BigInt.two)) ~/\n      BigInt.two);\n\n//it returns [97,98] which is expected result.\n</code></pre>\n<p>I tried copying Java's BigInteger class and it's <code>toByteArray()</code> method but again, it don't work with dart properly.</p>\n<p>These methods works normally if I try without multiplication/division, so only possible thing is, they both multiply/divide in different way if I'm not wrong.</p>\n<p>Is there ANY solution for this? So that I can turn byte arr to BigInteger in ANY language (specifically popular ones like Java, Dart/flutter, Rust, Python, JS, etc).</p>\n<p>NOTE:</p>\n<p>Following are the methods which I used in dart and java respectively.</p>\n<pre><code>BigInt _convertBytesToBigInt(Uint8List bytes) {\n  BigInt result = BigInt.zero;\n\n  for (final byte in bytes) {\n// reading in big-endian, so we essentially concat the new byte to the end\n    result = (result &lt;&lt; 8) | BigInt.from(byte);\n  }\n  return result;\n}\n\nUint8List _writeBigInt(BigInt number) {\n  // Not handling negative numbers. Decide how you want to do that.\n  int bytes = (number.bitLength + 7) &gt;&gt; 3;\n  var b256 = BigInt.from(256);\n  var result = Uint8List(bytes);\n  for (int i = 0; i &lt; bytes; i++) {\n    result[i] = number.remainder(b256).toInt();\n    number = number &gt;&gt; 8;\n  }\n  return result;\n}\n</code></pre>\n<pre><code>BigInteger _convertBytesToBigInt(byte[] bytes) {\n        BigInteger result = BigInteger.ZERO;\n        for (byte z : bytes) {\n// reading in big-endian, so we essentially concat the new byte to the end\n            result = (result.shiftLeft(8)).or(BigInteger.valueOf(z));\n        }\n        return result;\n    }\n\nstatic byte[] writeBigInt(BigInteger number) {\n        // Not handling negative numbers. Decide how you want to do that.\n        int bytes = (number.bitLength() + 7) &gt;&gt; 3;\n        BigInteger b256 = BigInteger.valueOf(256);\n        byte[] result = new byte[bytes];\n        for (int i = 0; i &lt; bytes; i++) {\n            result[i] = (byte) Integer.parseInt(number.remainder(b256).toString());\n            number = number.shiftRight(8);\n        }\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","ssl"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1575491546,"post_id":59183640,"comment_id":104588935,"body_markdown":"Normally, `cacerts` is located in `JRE_HOME/lib/security/cacerts`. Are you sure the `cacerts` file you have is the one used when you run Java?","body":"Normally, <code>cacerts</code> is located in <code>JRE_HOME&#47;lib&#47;security&#47;cacerts</code>. Are you sure the <code>cacerts</code> file you have is the one used when you run Java?"}],"answers":[{"tags":[],"owner":{"account_id":2869735,"reputation":448,"user_id":2463341,"accept_rate":44,"display_name":"Vinnie"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1575490836,"creation_date":1575490836,"answer_id":59184112,"question_id":59183640,"body_markdown":"I would try using the dynamic debug utility. There is an option to turn on SSL debugging which ought to help you.\r\n\r\nAs per the [official documentation][1] \r\n\r\n&gt; JSSE provides dynamic debug tracing support. This is similar to the\r\n&gt; support used for debugging access control failures in the Java SE\r\n&gt; platform. The generic Java dynamic debug tracing support is accessed\r\n&gt; with the java.security.debug system property, whereas the\r\n&gt; JSSE-specific dynamic debug tracing support is accessed with the\r\n&gt; javax.net.debug system property. Current options are:\r\n&gt; \r\n&gt;     all: Turn on all debugging\r\n&gt;     ssl: Turn on SSL debugging\r\n&gt; \r\n&gt; The following can be used with the ssl option:\r\n&gt; \r\n&gt;     record: Enable per-record tracing\r\n&gt;     handshake: Print each handshake message\r\n&gt;     keygen: Print key generation data\r\n&gt;     session: Print session activity\r\n&gt;     defaultctx: Print default SSL initialization\r\n&gt;     sslctx: Print SSLContext tracing\r\n&gt;     sessioncache: Print session cache tracing\r\n&gt;     keymanager: Print key manager tracing\r\n&gt;     trustmanager: Print trust manager tracing\r\n\r\nI think this ought to help you.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug","title":"How to debug Java HTTPS cert validation","body":"<p>I would try using the dynamic debug utility. There is an option to turn on SSL debugging which ought to help you.</p>\n\n<p>As per the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/jsse/JSSERefGuide.html#Debug\" rel=\"nofollow noreferrer\">official documentation</a> </p>\n\n<blockquote>\n  <p>JSSE provides dynamic debug tracing support. This is similar to the\n  support used for debugging access control failures in the Java SE\n  platform. The generic Java dynamic debug tracing support is accessed\n  with the java.security.debug system property, whereas the\n  JSSE-specific dynamic debug tracing support is accessed with the\n  javax.net.debug system property. Current options are:</p>\n\n<pre><code>all: Turn on all debugging\nssl: Turn on SSL debugging\n</code></pre>\n  \n  <p>The following can be used with the ssl option:</p>\n\n<pre><code>record: Enable per-record tracing\nhandshake: Print each handshake message\nkeygen: Print key generation data\nsession: Print session activity\ndefaultctx: Print default SSL initialization\nsslctx: Print SSLContext tracing\nsessioncache: Print session cache tracing\nkeymanager: Print key manager tracing\ntrustmanager: Print trust manager tracing\n</code></pre>\n</blockquote>\n\n<p>I think this ought to help you.</p>\n"},{"tags":[],"owner":{"account_id":13847202,"reputation":2671,"user_id":9996073,"display_name":"Misantorp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1575565058,"creation_date":1575492186,"answer_id":59184413,"question_id":59183640,"body_markdown":"This doesn&#39;t answer your question directly. If you really need to debug it, check out Vinnie&#39;s answer instead.\r\n\r\nThe error message is pretty specific and I think you&#39;ve already given the answer as to why it fails - your traffic is intercepted and the certificates are replaced &quot;in flight&quot;. Your problem probably is that your JVM isn&#39;t loading `/etc/ssl/certs/java/cacerts` and is not able to trust the intercepted certificate chain. To specify that specific `cacerts` file, add `-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts` as a VM option, like so\r\n```\r\njava -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -jar thirdPartyApplication.jar\r\n```","title":"How to debug Java HTTPS cert validation","body":"<p>This doesn't answer your question directly. If you really need to debug it, check out Vinnie's answer instead.</p>\n\n<p>The error message is pretty specific and I think you've already given the answer as to why it fails - your traffic is intercepted and the certificates are replaced \"in flight\". Your problem probably is that your JVM isn't loading <code>/etc/ssl/certs/java/cacerts</code> and is not able to trust the intercepted certificate chain. To specify that specific <code>cacerts</code> file, add <code>-Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts</code> as a VM option, like so</p>\n\n<pre><code>java -Djavax.net.ssl.trustStore=/etc/ssl/certs/java/cacerts -jar thirdPartyApplication.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661502830,"creation_date":1661436597,"answer_id":73489046,"question_id":59183640,"body_markdown":"Assuming you are using the default `SUN` provider, start the JVM with the following argument:\r\n\r\n```\r\n-Djava.security.debug=certpath\r\n```\r\n\r\nhttps://docs.oracle.com/en/java/javase/17/security/troubleshooting-security.html\r\n\r\n&gt; Turns on debugging for the PKIX `CertPathValidator` and `CertPathBuilder` implementations. Use the `ocsp` option with the `certpath` option for OCSP protocol tracing. A hexadecimal dump of the OCSP request and response bytes is displayed. \r\n\r\nOther providers may also use this switch.","title":"How to debug Java HTTPS cert validation","body":"<p>Assuming you are using the default <code>SUN</code> provider, start the JVM with the following argument:</p>\n<pre><code>-Djava.security.debug=certpath\n</code></pre>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/security/troubleshooting-security.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/17/security/troubleshooting-security.html</a></p>\n<blockquote>\n<p>Turns on debugging for the PKIX <code>CertPathValidator</code> and <code>CertPathBuilder</code> implementations. Use the <code>ocsp</code> option with the <code>certpath</code> option for OCSP protocol tracing. A hexadecimal dump of the OCSP request and response bytes is displayed.</p>\n</blockquote>\n<p>Other providers may also use this switch.</p>\n"}],"owner":{"account_id":743251,"reputation":13440,"user_id":725937,"accept_rate":51,"display_name":"abergmeier"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1713,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1661502830,"creation_date":1575488804,"question_id":59183640,"body_markdown":"I have a third-party Java Application. It tries to download files via HTTPS. Sadly in my company network, HTTPS is intercepted and certs are replaced with non-rooted custom ones.\r\n\r\nNow while I have our non-rooted CAs in `/etc/ssl/certs/java/cacerts` (double-checked) it still fails to download with:\r\n\r\n```\r\njava.io.IOException: Error downloading [https://zlib.net/zlib-1.2.11.tar.gz] to /tmp/zlib-1.2.11.tar.gz: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nIs there any way to debug what JAVA is trying to do internally with cert validation?\r\nThings like:\r\n\r\n - Which CAs it&#39;s loading\r\n - What steps it takes for validation\r\n - Why validation is failing (in detail)\r\n\r\nBonus points if I don&#39;t need to use reflection or something obscure ;)","title":"How to debug Java HTTPS cert validation","body":"<p>I have a third-party Java Application. It tries to download files via HTTPS. Sadly in my company network, HTTPS is intercepted and certs are replaced with non-rooted custom ones.</p>\n\n<p>Now while I have our non-rooted CAs in <code>/etc/ssl/certs/java/cacerts</code> (double-checked) it still fails to download with:</p>\n\n<pre><code>java.io.IOException: Error downloading [https://zlib.net/zlib-1.2.11.tar.gz] to /tmp/zlib-1.2.11.tar.gz: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n\n<p>Is there any way to debug what JAVA is trying to do internally with cert validation?\nThings like:</p>\n\n<ul>\n<li>Which CAs it's loading</li>\n<li>What steps it takes for validation</li>\n<li>Why validation is failing (in detail)</li>\n</ul>\n\n<p>Bonus points if I don't need to use reflection or something obscure ;)</p>\n"},{"tags":["java","arrays","multidimensional-array","double","names"],"comments":[{"owner":{"account_id":22982031,"reputation":425,"user_id":17108793,"display_name":"Enrico"},"score":0,"creation_date":1639296875,"post_id":70321314,"comment_id":124309121,"body_markdown":"Can you clarify what you have to do? Does every player have 4 scores? So you have to read 8 players with each 4 scores and save them in an array and print it?","body":"Can you clarify what you have to do? Does every player have 4 scores? So you have to read 8 players with each 4 scores and save them in an array and print it?"}],"answers":[{"tags":[],"owner":{"account_id":11092824,"reputation":484,"user_id":8144061,"accept_rate":100,"display_name":"Wing Kui Tsoi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1639310540,"creation_date":1639310540,"answer_id":70323355,"question_id":70321314,"body_markdown":"How about try this out? And you may add some validations by yourself.\r\n\r\n    public class finalScore {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the number of game players: &quot;);\r\n    \t\tint numOfPlayers = scan.nextInt();\r\n    \t\t\r\n    \t\tString[] names = new String[numOfPlayers];\r\n    \t\tdouble[][] scores = new double[numOfPlayers][4];\r\n    \r\n    \t\tfor (int i = 1; i &lt; names.length + 1; i++) {\r\n    \t\t\tSystem.out.println(&quot;Enter a players name for quarter &quot; + i + &quot;: &quot;);\r\n    \t\t\tString name = scan.next();\r\n    \t\t\tString result = name.substring(0, 1).toUpperCase() + name.substring(1);\r\n    \t\t\tString lastName = scan.next();\r\n    \t\t\tString result2 = lastName.substring(0, 1).toUpperCase() + lastName.substring(1);\r\n    \t\t\tSystem.out.println(result + &quot; &quot; + result2);\r\n    \t\t\tname = result + &quot; &quot; + result2;\r\n    \t\t\tnames[i - 1] = name;\r\n    \t\t\t\r\n    \t\t\t// enter scores\r\n    \t\t\tSystem.out.println(&quot;Enter &quot; + names[i - 1] + &quot;\\&#39;s score: &quot;);\r\n    \t\t\tSystem.out.print(&quot;Q1: &quot;);\r\n    \t\t\tscores[i-1][0] = scan.nextInt();\r\n    \t\t\tSystem.out.print(&quot;Q2: &quot;);\r\n    \t\t\tscores[i-1][1] = scan.nextInt();\r\n    \t\t\tSystem.out.print(&quot;Q3: &quot;);\r\n    \t\t\tscores[i-1][2] = scan.nextInt();\r\n    \t\t\tSystem.out.print(&quot;Q4: &quot;);\r\n    \t\t\tscores[i-1][3] = scan.nextInt();\r\n    \t\t\t/*\r\n    \t\t\tSystem.out.print( &quot;Name: &quot; + name + &quot;\\t&quot;);\r\n    \t\t\tSystem.out.print( &quot;Q1: &quot; + scores[i-1][0] + &quot;\\t&quot;);\r\n    \t\t\tSystem.out.print( &quot;Q2: &quot; + scores[i-1][1] + &quot;\\t&quot;);\r\n    \t\t\tSystem.out.print( &quot;Q3: &quot; + scores[i-1][2] + &quot;\\t&quot;);\r\n    \t\t\tSystem.out.print( &quot;Q4: &quot; + scores[i-1][3] + &quot;\\t&quot;);\r\n    \t\t\tSystem.out.println();\r\n    \t\t\t*/\r\n    \t\t}\r\n    \t\tSystem.out.format(&quot;%15s%15s%15s%15s%15s%15s%n&quot;, new String[] {&quot;Name&quot;, &quot;Q1&quot;, &quot;Q2&quot;, &quot;Q3&quot;, &quot;Q4&quot;, &quot;Total&quot;});\r\n    \t\tfor (int i = 0; i &lt; names.length; i++) {\r\n    \t\t\tdouble total = scores[i][0] + scores[i][1] + scores[i][2] + scores[i][3];\r\n    \t\t\tSystem.out.format(&quot;%15s%15s%15s%15s%15s%15s%n&quot;, new String[] {names[i], \r\n    \t\t\t\t\tString.valueOf(scores[i][0]), \r\n    \t\t\t\t\tString.valueOf(scores[i][1]), \r\n    \t\t\t\t\tString.valueOf(scores[i][2]), \r\n    \t\t\t\t\tString.valueOf(scores[i][3]),\r\n    \t\t\t\t\tString.valueOf(total)\r\n    \t\t\t\t\t});\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    }","title":"how would I use a 2d array to print the quarter and total","body":"<p>How about try this out? And you may add some validations by yourself.</p>\n<pre><code>public class finalScore {\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter the number of game players: &quot;);\n        int numOfPlayers = scan.nextInt();\n        \n        String[] names = new String[numOfPlayers];\n        double[][] scores = new double[numOfPlayers][4];\n\n        for (int i = 1; i &lt; names.length + 1; i++) {\n            System.out.println(&quot;Enter a players name for quarter &quot; + i + &quot;: &quot;);\n            String name = scan.next();\n            String result = name.substring(0, 1).toUpperCase() + name.substring(1);\n            String lastName = scan.next();\n            String result2 = lastName.substring(0, 1).toUpperCase() + lastName.substring(1);\n            System.out.println(result + &quot; &quot; + result2);\n            name = result + &quot; &quot; + result2;\n            names[i - 1] = name;\n            \n            // enter scores\n            System.out.println(&quot;Enter &quot; + names[i - 1] + &quot;\\'s score: &quot;);\n            System.out.print(&quot;Q1: &quot;);\n            scores[i-1][0] = scan.nextInt();\n            System.out.print(&quot;Q2: &quot;);\n            scores[i-1][1] = scan.nextInt();\n            System.out.print(&quot;Q3: &quot;);\n            scores[i-1][2] = scan.nextInt();\n            System.out.print(&quot;Q4: &quot;);\n            scores[i-1][3] = scan.nextInt();\n            /*\n            System.out.print( &quot;Name: &quot; + name + &quot;\\t&quot;);\n            System.out.print( &quot;Q1: &quot; + scores[i-1][0] + &quot;\\t&quot;);\n            System.out.print( &quot;Q2: &quot; + scores[i-1][1] + &quot;\\t&quot;);\n            System.out.print( &quot;Q3: &quot; + scores[i-1][2] + &quot;\\t&quot;);\n            System.out.print( &quot;Q4: &quot; + scores[i-1][3] + &quot;\\t&quot;);\n            System.out.println();\n            */\n        }\n        System.out.format(&quot;%15s%15s%15s%15s%15s%15s%n&quot;, new String[] {&quot;Name&quot;, &quot;Q1&quot;, &quot;Q2&quot;, &quot;Q3&quot;, &quot;Q4&quot;, &quot;Total&quot;});\n        for (int i = 0; i &lt; names.length; i++) {\n            double total = scores[i][0] + scores[i][1] + scores[i][2] + scores[i][3];\n            System.out.format(&quot;%15s%15s%15s%15s%15s%15s%n&quot;, new String[] {names[i], \n                    String.valueOf(scores[i][0]), \n                    String.valueOf(scores[i][1]), \n                    String.valueOf(scores[i][2]), \n                    String.valueOf(scores[i][3]),\n                    String.valueOf(total)\n                    });\n        }\n    }\n    \n}\n</code></pre>\n"}],"owner":{"account_id":22930958,"reputation":3,"user_id":17065255,"display_name":"lil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":70323355,"answer_count":1,"score":-2,"last_activity_date":1661502821,"creation_date":1639289088,"question_id":70321314,"body_markdown":"\r\nWrite a program that will display eight players scores in a 4-quarter game. The program should\r\ndisplay the players first and last names, uppercasing the first and first letters of the last name.\r\nThe score is to be entered by the user, but the entry can only hold two digits. The program\r\nshould total the game score for each player. The output should display the entire\r\nmultidimensional array\r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    \r\n    \r\n    public class finalScore {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\t\r\n    \t\tScanner scan = new Scanner (System.in);\r\n    \t\t\r\n    \t\tSystem.out.print(&quot;Enter the number of game players: &quot;);\r\n    \t\t// using array\r\n    \t    int numOfPlayers = scan.nextInt();\r\n    \t    String[] names = new String[numOfPlayers];\r\n    \t    double[] scores = new double[numOfPlayers];\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \t    \r\n          // using for loop to all the names of the player \r\n    \r\n    \t    String list=&quot;&quot;;\r\n    \t    for (int i=0; i&lt;names.length; i++){\r\n    \t    \t list += &quot; Quarter &quot; + (i+1) + &quot;: &quot; + scores[i] + &quot; points |||&quot;;\r\n    \r\n            }\r\n    \r\n            //return;\r\n    \r\n    \t    \t// asking user to enter players name\r\n    \t     System.out.print(&quot;Enter a players name for quarter 1, &quot; );\r\n    \t      String name;\r\n    \t      name= scan.next();\r\n    \t      // UpperCasing the first letter of the first name\r\n    \t      String result = name.substring(0, 1).toUpperCase()+name.substring(1);\t      \r\n    \t      String lastName=scan.next();\r\n    \t      // UpperCasing last name \r\n    \t      String result2=lastName.substring(0, 1).toUpperCase()+lastName.substring(1);\r\n    \t      System.out.println(result + &quot; &quot; +result2);\r\n    \t      \r\n    \t      \r\n    \t      \r\n    \t      \r\n    \t      \r\n    \r\n    \t   // print name for scores\r\n    \t      names[i] = name;\r\n    \t      // enter name score\r\n    \t      System.out.print(&quot;Enter &quot; + result + &quot; &quot;+ result2 +&quot;\\&#39;s score: &quot;);\r\n    \t      System.out.println(&quot;\\n&quot;);\r\n    \t      //System.out.println( &quot;Name: \\t&quot; + &quot;Q1. &quot;);\r\n    \r\n    \t     \r\n    \t      \r\n    \t      while(scan.hasNext()) {\r\n    \t        if(scan.hasNextDouble()) {\r\n    \t          double score = scan.nextDouble();\r\n    \t          scores[numOfPlayers] = score;\r\n    \t          break;\r\n    \t        } else {\r\n    \t\t\t      System.out.println( &quot;Name: \\t&quot; + &quot;Q1. &quot;);\r\n    \r\n    \t          System.out.println(&quot;ERROR: Invalid Input&quot;);\r\n    \t          scan.next();\r\n    \t        }\r\n    \t      }\r\n    \t    }\r\n    \t\t      \r\n    \t\t      \r\n    \t\t      \r\n    \t\t      \r\n    \r\n    \t\t         \r\n    \t\t\t\t//System.out.println(&quot;      \\tQ1. &quot; );\r\n    \r\n    \t\t          \r\n    \t\t          //System.out.println(  Arrays.toString(names  ) + &quot;\\t&quot; +Arrays.toString(scores));\r\n    \t\t          //\r\n    \t\t          \r\n    \t\t}\r\n\r\nthis is what the output is supposed to look like and I can&#39;t figure it out I&#39;m new do this please help me out \r\n\r\n\r\n                Q1.    Q2.       Q3     Q4.     Total\r\n    Bob Smith.  1       2       3      4        10\r\n    Allien Heart 1      2       3      4        10\r\n    \t\t          ","title":"how would I use a 2d array to print the quarter and total","body":"<p>Write a program that will display eight players scores in a 4-quarter game. The program should\ndisplay the players first and last names, uppercasing the first and first letters of the last name.\nThe score is to be entered by the user, but the entry can only hold two digits. The program\nshould total the game score for each player. The output should display the entire\nmultidimensional array</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\n\npublic class finalScore {\n\n    public static void main(String[] args) {\n        \n        \n        Scanner scan = new Scanner (System.in);\n        \n        System.out.print(&quot;Enter the number of game players: &quot;);\n        // using array\n        int numOfPlayers = scan.nextInt();\n        String[] names = new String[numOfPlayers];\n        double[] scores = new double[numOfPlayers];\n\n\n\n\n\n        \n      // using for loop to all the names of the player \n\n        String list=&quot;&quot;;\n        for (int i=0; i&lt;names.length; i++){\n             list += &quot; Quarter &quot; + (i+1) + &quot;: &quot; + scores[i] + &quot; points |||&quot;;\n\n        }\n\n        //return;\n\n            // asking user to enter players name\n         System.out.print(&quot;Enter a players name for quarter 1, &quot; );\n          String name;\n          name= scan.next();\n          // UpperCasing the first letter of the first name\n          String result = name.substring(0, 1).toUpperCase()+name.substring(1);       \n          String lastName=scan.next();\n          // UpperCasing last name \n          String result2=lastName.substring(0, 1).toUpperCase()+lastName.substring(1);\n          System.out.println(result + &quot; &quot; +result2);\n          \n          \n          \n          \n          \n\n       // print name for scores\n          names[i] = name;\n          // enter name score\n          System.out.print(&quot;Enter &quot; + result + &quot; &quot;+ result2 +&quot;\\'s score: &quot;);\n          System.out.println(&quot;\\n&quot;);\n          //System.out.println( &quot;Name: \\t&quot; + &quot;Q1. &quot;);\n\n         \n          \n          while(scan.hasNext()) {\n            if(scan.hasNextDouble()) {\n              double score = scan.nextDouble();\n              scores[numOfPlayers] = score;\n              break;\n            } else {\n                  System.out.println( &quot;Name: \\t&quot; + &quot;Q1. &quot;);\n\n              System.out.println(&quot;ERROR: Invalid Input&quot;);\n              scan.next();\n            }\n          }\n        }\n              \n              \n              \n              \n\n                 \n                //System.out.println(&quot;      \\tQ1. &quot; );\n\n                  \n                  //System.out.println(  Arrays.toString(names  ) + &quot;\\t&quot; +Arrays.toString(scores));\n                  //\n                  \n        }\n</code></pre>\n<p>this is what the output is supposed to look like and I can't figure it out I'm new do this please help me out</p>\n<pre><code>            Q1.    Q2.       Q3     Q4.     Total\nBob Smith.  1       2       3      4        10\nAllien Heart 1      2       3      4        10\n                  \n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","validation","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":26036230,"reputation":260,"user_id":19741639,"display_name":"viking"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661502684,"creation_date":1661502684,"answer_id":73498170,"question_id":73497421,"body_markdown":"You need to register your validator.\r\n\r\n&gt; After we&#39;ve defined the validator, we need to map it to a specific\r\n&gt; event which is generated after the request is accepted.\r\n\r\nThis can be done in three ways:\r\n\r\n&gt; Add Component annotation with name “beforeCreateAccountValidator“.\r\n&gt; Spring Boot will recognize prefix beforeCreate which determines the\r\n&gt; event we want to catch, and it will also recognize WebsiteUser class\r\n&gt; from Component name.\r\n\r\n```\r\n@Component(&quot;beforeCreateAccountValidator&quot;)\r\n    public class AccountValidator implements Validator {\r\n     ...\r\n}\r\n```\r\n\r\n&gt; Create Bean in Application Context with @Bean annotation:\r\n\r\n```\r\n@Bean\r\npublic AccountValidator beforeCreateAccountValidator () {\r\n    return new AccountValidator ();\r\n}\r\n```\r\n\r\n&gt; Manual registration:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class SpringDataRestApplication implements RepositoryRestConfigurer {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringDataRestApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void configureValidatingRepositoryEventListener(\r\n      ValidatingRepositoryEventListener v) {\r\n        v.addValidator(&quot;beforeCreate&quot;, new AccountValidator ());\r\n    }\r\n}\r\n```","title":"Custom Spring validator not working properly","body":"<p>You need to register your validator.</p>\n<blockquote>\n<p>After we've defined the validator, we need to map it to a specific\nevent which is generated after the request is accepted.</p>\n</blockquote>\n<p>This can be done in three ways:</p>\n<blockquote>\n<p>Add Component annotation with name “beforeCreateAccountValidator“.\nSpring Boot will recognize prefix beforeCreate which determines the\nevent we want to catch, and it will also recognize WebsiteUser class\nfrom Component name.</p>\n</blockquote>\n<pre><code>@Component(&quot;beforeCreateAccountValidator&quot;)\n    public class AccountValidator implements Validator {\n     ...\n}\n</code></pre>\n<blockquote>\n<p>Create Bean in Application Context with @Bean annotation:</p>\n</blockquote>\n<pre><code>@Bean\npublic AccountValidator beforeCreateAccountValidator () {\n    return new AccountValidator ();\n}\n</code></pre>\n<blockquote>\n<p>Manual registration:</p>\n</blockquote>\n<pre><code>@SpringBootApplication\npublic class SpringDataRestApplication implements RepositoryRestConfigurer {\n    public static void main(String[] args) {\n        SpringApplication.run(SpringDataRestApplication.class, args);\n    }\n\n    @Override\n    public void configureValidatingRepositoryEventListener(\n      ValidatingRepositoryEventListener v) {\n        v.addValidator(&quot;beforeCreate&quot;, new AccountValidator ());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73498170,"answer_count":1,"score":2,"last_activity_date":1661502684,"creation_date":1661498415,"question_id":73497421,"body_markdown":"I&#39;m trying to make artificial CONSTRAINT violation by Spring instead of throwing exception from DB (an expert sad DB-produced errors have high performance cost):\r\n\r\n```\r\nimport javax.validation.ConstraintViolation;\r\nimport javax.validation.Validator;\r\n\r\n@Component\r\npublic class AccountValidator implements org.springframework.validation.Validator {\r\n\t\r\n    @Autowired\r\n    private Validator validator;\r\n\r\n\tprivate final AccountService accountService;\r\n\tpublic AccountValidator(@Qualifier(&quot;accountServiceAlias&quot;)AccountService accountService) {\r\n\t\tthis.accountService = accountService;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic boolean supports(Class&lt;?&gt; clazz) {\r\n\t\treturn AccountRequestDTO.class.equals(clazz);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void validate(Object target, Errors errors) {\r\n\t\t\r\n\t    Set&lt;ConstraintViolation&lt;Object&gt;&gt; validates = validator.validate(target);\r\n\t    for (ConstraintViolation&lt;Object&gt; constraintViolation : validates) {\r\n\t        String propertyPath = constraintViolation.getPropertyPath().toString();\r\n\t        String message = constraintViolation.getMessage();\r\n\t        errors.rejectValue(propertyPath, &quot;&quot;, message);\r\n\t    }\r\n\t\t\r\n\t\tAccountRequestDTO account = (AccountRequestDTO) target;\r\n\t\tif(accountService.getPhone(account.getPhone()) != null){\r\n\t\t\terrors.rejectValue(&quot;phone&quot;, &quot;&quot;, &quot;Validator in action! This number is already in use.&quot;);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nHowever, second part of **validate()** method never works for reasons I cant understand and always pass a call from controller to be handled in **try-catch** block throwing exception from DB:\r\n```\r\n\tpublic void saveAccount(AccountRequestDTO accountRequestDTO) throws Exception {\r\n\t\t\r\n\t\tLocalDate birthday = LocalDate.parse(accountRequestDTO.getBirthday());\r\n\t\tif (LocalDate.from(birthday).until(LocalDate.now(), ChronoUnit.YEARS) &lt; 18) {\r\n\t\t\tthrow new RegistrationException(&quot;You must be 18+ to register&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tAccount account = new Account(accountRequestDTO.getName(), accountRequestDTO.getSurname(),\r\n\t\t\t\taccountRequestDTO.getPhone(), birthday, BCrypt.hashpw\r\n\t\t\t\t(accountRequestDTO.getPassword(), BCrypt.gensalt(4)));\r\n\t\taccount.addRole(Role.CLIENT);\r\n\t\ttry {\r\n\t\t\taccountRepository.save(account);\r\n\t\t}\r\n\t\tcatch (RuntimeException exc) {\r\n\t\t\tthrow new PersistenceException(&quot;Database exception: this number is already in use.&quot;);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nHere&#39;s a controller method:\r\n```\r\n\t@PostMapping(&quot;/confirm&quot;)\r\n\tpublic String signIn(@ModelAttribute(&quot;account&quot;) @Valid AccountRequestDTO accountRequestDTO,\r\n\t\t\tBindingResult result, Model model) {\r\n\t\t\r\n\t\taccountValidator.validate(accountRequestDTO, result);\r\n\t\tif(result.hasErrors()) {\r\n\t\t\treturn &quot;/auth/register&quot;;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\taccountService.saveAccount(accountRequestDTO);\r\n\t\t}\r\n\t\tcatch (Exception exc) {\r\n\t\t\tmodel.addAttribute(&quot;message&quot;, exc.getMessage());\r\n\t\t\treturn &quot;/auth/register&quot;;\t\t\t\r\n\t\t}\r\n\t\treturn &quot;/auth/login&quot;;\r\n\t}\t\r\n```\r\n\r\nAt service:\r\n```\r\n\t@Transactional(readOnly = true)\r\n\tpublic String getPhone(String phone){\r\n\t\treturn accountRepository.getPhone(phone);\r\n\t}\r\n```\r\nJpaRepository query:\r\n```\r\n\t@Query(&quot;SELECT phone FROM Account accounts WHERE phone=:check&quot;)\r\n\tString getPhone(String check);\r\n```\r\n\r\nTests are green:\r\n```\r\n\t@BeforeAll\r\n\tstatic void prepare() {\r\n\t\tsearch = new String(&quot;0000000000&quot;);\r\n\t}\r\n\r\n\t@BeforeEach\r\n\tvoid set_up() {\r\n\t\taccount = new Account\r\n\t\t\t\t(&quot;Admin&quot;, &quot;Adminov&quot;, &quot;0000000000&quot;, LocalDate.of(2001, 01, 01), &quot;superadmin&quot;);\r\n\t\taccountRepository.save(account);\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid check_if_phone_presents() {\t\t\r\n        assertThat(accountRepository.getPhone(search).equals(account.getPhone())).isTrue();\r\n\t}\r\n\t\r\n\t@Test\r\n\tvoid check_if_phone_not_presents() {\r\n\t\tString newPhone = &quot;9999999999&quot;;\r\n\t\tassertThat(accountRepository.getPhone(newPhone)).isNull();\r\n\t}\t\r\n\t\t\r\n    @AfterEach\r\n    void tear_down() {\r\n    \taccountRepository.deleteAll();\r\n    \taccount = null;\r\n    }\r\n\t\r\n    @AfterAll\r\n    static void clear() {\r\n    \tsearch = null;\r\n    }\r\n```","title":"Custom Spring validator not working properly","body":"<p>I'm trying to make artificial CONSTRAINT violation by Spring instead of throwing exception from DB (an expert sad DB-produced errors have high performance cost):</p>\n<pre><code>import javax.validation.ConstraintViolation;\nimport javax.validation.Validator;\n\n@Component\npublic class AccountValidator implements org.springframework.validation.Validator {\n    \n    @Autowired\n    private Validator validator;\n\n    private final AccountService accountService;\n    public AccountValidator(@Qualifier(&quot;accountServiceAlias&quot;)AccountService accountService) {\n        this.accountService = accountService;\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; clazz) {\n        return AccountRequestDTO.class.equals(clazz);\n    }\n\n    @Override\n    public void validate(Object target, Errors errors) {\n        \n        Set&lt;ConstraintViolation&lt;Object&gt;&gt; validates = validator.validate(target);\n        for (ConstraintViolation&lt;Object&gt; constraintViolation : validates) {\n            String propertyPath = constraintViolation.getPropertyPath().toString();\n            String message = constraintViolation.getMessage();\n            errors.rejectValue(propertyPath, &quot;&quot;, message);\n        }\n        \n        AccountRequestDTO account = (AccountRequestDTO) target;\n        if(accountService.getPhone(account.getPhone()) != null){\n            errors.rejectValue(&quot;phone&quot;, &quot;&quot;, &quot;Validator in action! This number is already in use.&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>However, second part of <strong>validate()</strong> method never works for reasons I cant understand and always pass a call from controller to be handled in <strong>try-catch</strong> block throwing exception from DB:</p>\n<pre><code>    public void saveAccount(AccountRequestDTO accountRequestDTO) throws Exception {\n        \n        LocalDate birthday = LocalDate.parse(accountRequestDTO.getBirthday());\n        if (LocalDate.from(birthday).until(LocalDate.now(), ChronoUnit.YEARS) &lt; 18) {\n            throw new RegistrationException(&quot;You must be 18+ to register&quot;);\n        }\n        \n        Account account = new Account(accountRequestDTO.getName(), accountRequestDTO.getSurname(),\n                accountRequestDTO.getPhone(), birthday, BCrypt.hashpw\n                (accountRequestDTO.getPassword(), BCrypt.gensalt(4)));\n        account.addRole(Role.CLIENT);\n        try {\n            accountRepository.save(account);\n        }\n        catch (RuntimeException exc) {\n            throw new PersistenceException(&quot;Database exception: this number is already in use.&quot;);\n        }\n    }\n</code></pre>\n<p>Here's a controller method:</p>\n<pre><code>    @PostMapping(&quot;/confirm&quot;)\n    public String signIn(@ModelAttribute(&quot;account&quot;) @Valid AccountRequestDTO accountRequestDTO,\n            BindingResult result, Model model) {\n        \n        accountValidator.validate(accountRequestDTO, result);\n        if(result.hasErrors()) {\n            return &quot;/auth/register&quot;;\n        }\n        try {\n            accountService.saveAccount(accountRequestDTO);\n        }\n        catch (Exception exc) {\n            model.addAttribute(&quot;message&quot;, exc.getMessage());\n            return &quot;/auth/register&quot;;            \n        }\n        return &quot;/auth/login&quot;;\n    }   \n</code></pre>\n<p>At service:</p>\n<pre><code>    @Transactional(readOnly = true)\n    public String getPhone(String phone){\n        return accountRepository.getPhone(phone);\n    }\n</code></pre>\n<p>JpaRepository query:</p>\n<pre><code>    @Query(&quot;SELECT phone FROM Account accounts WHERE phone=:check&quot;)\n    String getPhone(String check);\n</code></pre>\n<p>Tests are green:</p>\n<pre><code>    @BeforeAll\n    static void prepare() {\n        search = new String(&quot;0000000000&quot;);\n    }\n\n    @BeforeEach\n    void set_up() {\n        account = new Account\n                (&quot;Admin&quot;, &quot;Adminov&quot;, &quot;0000000000&quot;, LocalDate.of(2001, 01, 01), &quot;superadmin&quot;);\n        accountRepository.save(account);\n    }\n    \n    @Test\n    void check_if_phone_presents() {        \n        assertThat(accountRepository.getPhone(search).equals(account.getPhone())).isTrue();\n    }\n    \n    @Test\n    void check_if_phone_not_presents() {\n        String newPhone = &quot;9999999999&quot;;\n        assertThat(accountRepository.getPhone(newPhone)).isNull();\n    }   \n        \n    @AfterEach\n    void tear_down() {\n        accountRepository.deleteAll();\n        account = null;\n    }\n    \n    @AfterAll\n    static void clear() {\n        search = null;\n    }\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8911,"page":1081,"page_size":100}
