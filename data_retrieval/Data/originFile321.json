{"items":[{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":4,"creation_date":1688844779,"post_id":76644563,"comment_id":135129681,"body_markdown":"You shouldn&#39;t be downloading libraries yourself - Gradle will manage dependencies for you. The libraries you need can be put in your build.gradle. Did you check the docs, e.g. https://docs.gradle.org/current/userguide/declaring_dependencies.html?","body":"You shouldn&#39;t be downloading libraries yourself - Gradle will manage dependencies for you. The libraries you need can be put in your build.gradle. Did you check the docs, e.g. <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/declaring_dependencies.htm&zwnj;&#8203;l</a>?"}],"answers":[{"tags":[],"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688845123,"creation_date":1688845123,"answer_id":76644643,"question_id":76644563,"body_markdown":"As already pointed out in the comments, Gradle is made for downloading the libraries for you. Just declare the library coordinates in your `build.gradle(.kts)`, for example:\r\n\r\n```kotlin\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;)\r\n}\r\n```\r\n\r\nAs a side note, in Kotlin you shouldn&#39;t need any Apache Commons library, most of these utilities are already in the Kotlin stdlib","title":"Kotlin Library directory location","body":"<p>As already pointed out in the comments, Gradle is made for downloading the libraries for you. Just declare the library coordinates in your <code>build.gradle(.kts)</code>, for example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>repositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(&quot;org.apache.commons:commons-lang3:3.12.0&quot;)\n}\n</code></pre>\n<p>As a side note, in Kotlin you shouldn't need any Apache Commons library, most of these utilities are already in the Kotlin stdlib</p>\n"}],"owner":{"account_id":303249,"reputation":267,"user_id":612079,"accept_rate":56,"display_name":"Sparfy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76644643,"answer_count":1,"score":0,"last_activity_date":1688845123,"creation_date":1688843421,"question_id":76644563,"body_markdown":"I have downloaded the Apache common library.  Where should I put it in my directory structure?\r\n\r\nNot at all sure where it should go and also how to link to it in Gradle.  ( would be nice to be able to link to it with the dependencies popup, but you have to hard type it in )\r\n","title":"Kotlin Library directory location","body":"<p>I have downloaded the Apache common library.  Where should I put it in my directory structure?</p>\n<p>Not at all sure where it should go and also how to link to it in Gradle.  ( would be nice to be able to link to it with the dependencies popup, but you have to hard type it in )</p>\n"},{"tags":["java","java-8","timezone","timezone-offset"],"comments":[{"owner":{"account_id":5031739,"reputation":2502,"user_id":4041711,"accept_rate":53,"display_name":"Shubham Chaurasia"},"score":0,"creation_date":1483362411,"post_id":41427384,"comment_id":70060245,"body_markdown":"try `ZoneOffset.systemDefault()`","body":"try <code>ZoneOffset.systemDefault()</code>"},{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":2,"creation_date":1483362429,"post_id":41427384,"comment_id":70060253,"body_markdown":"Many timezones have different offsets due to daylight savings time.","body":"Many timezones have different offsets due to daylight savings time."},{"owner":{"account_id":8431463,"reputation":1868,"user_id":6327046,"display_name":"Marc Philipp"},"score":29,"creation_date":1483362488,"post_id":41427384,"comment_id":70060292,"body_markdown":"`ZoneOffset.systemDefault()` returns a `ZoneId`, though.","body":"<code>ZoneOffset.systemDefault()</code> returns a <code>ZoneId</code>, though."},{"owner":{"account_id":7527744,"reputation":1350,"user_id":5717245,"display_name":"Alexander Yanyshin"},"score":4,"creation_date":1483362580,"post_id":41427384,"comment_id":70060345,"body_markdown":"Current ZoneOffset is a function of ZoneId and Instant. `ZoneOffset current = zone.getRules().getOffset(instant)`","body":"Current ZoneOffset is a function of ZoneId and Instant. <code>ZoneOffset current = zone.getRules().getOffset(instant)</code>"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1483363988,"post_id":41427384,"comment_id":70061041,"body_markdown":"@yanys that instant is from Instant.now()?","body":"@yanys that instant is from Instant.now()?"},{"owner":{"account_id":7527744,"reputation":1350,"user_id":5717245,"display_name":"Alexander Yanyshin"},"score":0,"creation_date":1483364430,"post_id":41427384,"comment_id":70061263,"body_markdown":"@FredSuvn if you want to know ZoneId for now, than yes, it is.","body":"@FredSuvn if you want to know ZoneId for now, than yes, it is."},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1483372820,"post_id":41427384,"comment_id":70065444,"body_markdown":"@yanys I don&#39;t understand why a zoneoffset is influenced by a instant. A zoneoffset is not fixed??","body":"@yanys I don&#39;t understand why a zoneoffset is influenced by a instant. A zoneoffset is not fixed??"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1483400782,"post_id":41427384,"comment_id":70075189,"body_markdown":"@FredSuvn I believe yanys is getting at the concept that it makes no sense to ask for an offset without specifying a time zone and a moment (a date-time value). Ex: Daylight Saving Time in `America/Los_Angeles` causes the offset to be `-08:00` currently, but changes to `-07:00` in the summer. So you cannot ask for an offset without saying **when in effect** and for **which time zone**. See [my Answer](http://stackoverflow.com/a/41430483/642706) for more discussion.","body":"@FredSuvn I believe yanys is getting at the concept that it makes no sense to ask for an offset without specifying a time zone and a moment (a date-time value). Ex: Daylight Saving Time in <code>America&#47;Los_Angeles</code> causes the offset to be <code>-08:00</code> currently, but changes to <code>-07:00</code> in the summer. So you cannot ask for an offset without saying <b>when in effect</b> and for <b>which time zone</b>. See <a href=\"http://stackoverflow.com/a/41430483/642706\">my Answer</a> for more discussion."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":294,"is_accepted":true,"score":294,"last_activity_date":1688845003,"creation_date":1483375615,"answer_id":41430483,"question_id":41427384,"body_markdown":"# tl;dr\r\n\r\n\tOffsetDateTime.now().getOffset()\r\n\r\nBut you likely should be using a time zone rather than a mere offset-from-UTC.\r\n\r\n\tZoneId.systemDefault()\r\n\r\n# Offset versus Time Zone\r\n\r\nAn [offset-from-UTC][1] is merely a number of hour, minutes, and seconds —&#160;nothing more. For example, `-08:00` means eight hours behind the UTC, and `+05:45` means five hours and forty-five minutes ahead of [UTC][2].\r\n\r\nA [time zone][3] is a **history of past, present, and future changes to the offset** used by the people of a particular region. Anomalies such as [Daylight Saving Time (DST)][4] causing shifts in the offset over specific periods of time are tracked over time, in the past as they happened, and in the future when politicians have announced planned changes.\r\n\r\nSo **better to use a zone** when known.\r\n\r\nThe offset for any region varies over time. For example, [DST in the United States][5] shifts the offset by an hour for about half the year and then restoring that hour back to the offset during the other half of the year. The entire purpose of a time zone is to document those shifts in offset.\r\n\r\nSo it really **makes no sense to ask for an offset without a date-time**. In [`America/Los_Angeles`][6], for example in part of this year the offset is `-08:00` but in another part of the year it is `-07:00` during DST.\r\n\r\n## `OffsetDateTime`\r\n\r\nSo let&#39;s specify a moment as an [`OffsetDateTime`][7], and then extract the [`ZoneOffset`][8].\r\n\r\n\tOffsetDateTime odt = OffsetDateTime.now ();\r\n\tZoneOffset zoneOffset = odt.getOffset ();\r\n\r\n&gt;odt.toString(): 2017-01-02T15:19:47.162-08:00\r\n\r\n&gt;zoneOffset.toString(): -08:00\r\n\r\nThat `now` method is actually applying implicitly the JVM’s current default time zone. I suggest you always make that explicit by specifying your desired/expected time zone. Even if you want the current default zone, say so explicitly to make your intentions clear. Eliminate the ambiguity about whether you intended the default or failed to consider time zone as so often happens with programmers. Call [`ZoneId.systemDefault`][9].\r\n\r\n\tOffsetDateTime odt = OffsetDateTime.now ( ZoneId.systemDefault () );\r\n\tZoneOffset zoneOffset = odt.getOffset ();\r\n\r\n&gt;ZoneId.systemDefault().toString(): America/Los_Angeles\r\n\r\n&gt;odt: 2017-01-02T15:19:47.162-08:00\r\n\r\n&gt;zoneOffsetOfOdt: -08:00\r\n\r\nA caution about depending on the default zone: This default can be changed at any moment by any code in any thread within the JVM. If important, ask the user for their intended time zone.\r\n\r\nYou can ask the offset for its amount of time as a total number of seconds.\r\n\r\n\tint offsetSeconds = zoneOffset.getTotalSeconds ();\r\n\r\n&gt;offsetSeconds: -28800\r\n\r\n## `ZonedDateTime`\r\n\r\nAnother example: Perhaps you want to know what the offset will be on Christmas Day this year in Qu&#233;bec. Specify the time zone `America/Montreal`, get a [`ZonedDateTime`][10], ask for its offset as a `ZoneOffset` object.\r\n\r\n\tZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n\tLocalDate ld = LocalDate.of( 2017 , 12 , 25 );\r\n\tZonedDateTime zdtXmas = ld.atStartOfDay( z );\r\n\tZoneOffset zoneOffsetXmas = zdtXmas.getOffset();\r\n\r\n&gt;zdtXmas.toString(): 2017-12-25T00:00-05:00[America/Montreal]\r\n\r\n&gt;zoneOffsetXmas.toString(): -05:00\r\n\r\n&gt;zoneOffsetXmas.getTotalSeconds(): -18000\r\n\r\n[![Table of date-time types in Java, both modern and legacy.][11]][11]\r\n\r\n## `ZoneId`\r\n\r\nAs suggested in the comment by yanys, you can interrogate a [`ZoneId`][12] for a particular `ZoneOffset` by passing a moment as an `Instant`. The [`Instant`][13] class represents a moment on the timeline in [UTC][2] with a resolution of [nanoseconds][14] (up to nine (9) digits of a decimal fraction).\r\n\r\nThis is just another route to the same destination. Just like with `OffsetDateTime` and `ZonedDateTime` discussed above, we are specifying (a) a time zone, and (b) a moment.\r\n\r\n\tInstant instant = zdtXmas.toInstant();\r\n\tZoneOffset zo = z.getRules().getOffset( instant );\r\n\r\n&gt;For ZoneId: America/Montreal at instant: 2017-12-25T05:00:00Z the ZoneOffset is: -05:00\r\n\r\nSee all these examples’ [code live at IdeOne.com][15].\r\n\r\n## `ZoneOffset.systemDefault`\r\n\r\nThe `ZoneOffset` class, a subclass of `ZoneId`, inherits the [`systemDefault`][16] method. However, we cannot use that method for the purpose of determining the current offset. The inherited method returns an object of the superclass, `ZoneId`, not an object of the subclass, `ZoneOffset`. \r\n\r\n\tZoneOffset zoneOffset = ZoneOffset.systemDefault() ;  // Error.\r\n    // Fails to compile. \r\n    // Every ZoneOffset is a ZoneId, but not every ZoneId is a ZoneOffset. \r\n    // We cannot assign a superclass object to a reference variable of the subclass type.\r\n\r\n&gt;error: incompatible types: ZoneId cannot be converted to ZoneOffset\r\n\r\nBut there is another way.\r\n\r\n### Rules of the time zone\r\n\r\nTo get the current offset, we must take an alternate route. We need to go through the rules of the default time zone.\r\n\r\n```java\r\nZoneId zoneId = ZoneId.systemDefault ( );\r\nZoneRules rules = zoneId.getRules ( );\r\n```\r\n\r\nThe rules change over time — by definition, as discussed above. So we must specify the moment for which we want to know the offset in effect. We specify the moment as an `Instant` object, a date and time as seen with an offset of zero hours-minutes-seconds from UTC.\r\n\r\n```java\r\nInstant now = Instant.now ( );\r\nZoneOffset offset = rules.getOffset ( now );\r\n```\r\n\r\nDump to console.\r\n\r\n```java\r\nSystem.out.println ( &quot;For zone &quot; + zoneId + &quot; at &quot; + now + &quot;, the offset is &quot; + offset );\r\n```\r\n\r\n&gt;For zone America/Los_Angeles at 2023-07-07T23:19:09.084624Z, the offset is -07:00\r\n\r\n\r\n# Solar Time versus Political time\r\n\r\nA bit more about offsets and time zones…\r\n\r\n[Solar Time][17] has been used since pre-history, tracking each day by noting when the sun is directly overhead. Poke a stick in the ground, and watch its shadow. When the shadow is shortest, when the shadow begins to grow rather than shrink, then you know it is now noon. Formalize that with a [sundial][18] to track the hours pass.\r\n\r\nWith solar time, as you travel from town to town moving westward, noon arrives a little bit later. Moving eastward, noon arrives a bit sooner. So every town has its own noon, shared only with towns to the north and south along the same longitude.\r\n\r\nSolar time was largely abandoned in the modern era. As trains, telegraphs, and telephones arrived, so did the need to coordinate temporally. So a point was picked for its near solar time of noon, and a large swath of land so many miles to the west and to the east is declared to all share the same 12:00 on the clock, the **same number of hours offset ahead or behind the [Greenwich Prime Meridian][19] line**. So began the tradition of every train stop displaying prominently a clock to let the town know of the [standard time][20] for their larger region rather than solar time for their own town. Generally, towns in the western edge of that time zone region will see their train station clock read 12:00 a little *before* the sun is overhead. Clocks in towns in the eastern edge of the region read 12:00 a little *after* the sun is overhead.\r\n\r\nPoliticians around the world showed a penchant for changing the offset(s) of their jurisdiction. The reasons vary, such diplomacy, war &amp; occupation, and the silliness of [Daylight Saving Time (DST)][4]. The reasons vary, but their changes come with surprising frequency. A time zone is a name given to a region to track its history of such changes. So an **[offset-from-UTC][1] is merely a number of hours-minutes-seconds** ahead or behind the prime meridian. A **time zone is much more: a history** of the past, present, and future changes to the offsets of a particular region. While two neighboring regions may today share the same offset-from-UTC, in the past or future they may differ depending on the differing whims or logic of their politicians.\r\n\r\nThis means modern time-tracking defined by politicians has little to do with geography. For example, the huge country of India today has a single time zone (offset-from-UTC of +05:30). So solar noon (sun directly over your head) is hours apart in various places across the vast subcontinent. The politicians of India decided this to help unify their diverse democracy. In other examples around the world, we see regions use their time zone as a symbol for international relations such as being different than their offending neighbor country, or choosing the same zone as a neighbor as relations thaw as seen recently in North Korea changing to match South Korea. So, nowadays, solar time is only one of several considerations in time-tracking.\r\n\r\n---\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*][21] framework is built into Java 8 and later. These classes supplant the troublesome old [legacy][22] date-time classes such as [`java.util.Date`][23], [`Calendar`][24], &amp; [`SimpleDateFormat`][25].\r\n\r\nTo learn more, see the [*Oracle Tutorial*][26]. And search Stack Overflow for many examples and explanations. Specification is [JSR 310][27].\r\n\r\nThe [*Joda-Time*][28] project, now in [maintenance mode][29], advises migration to the [java.time][21] classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver][30] compliant with [JDBC 4.2][31] or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*.\r\n\r\nWhere to obtain the java.time classes?\r\n\r\n - [**Java SE 8**][32], [**Java SE 9**][33], [**Java SE 10**][34], [**Java SE 11**][35], and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**][33] brought some minor features and fixes.\r\n - [**Java SE 6**][36] and [**Java SE 7**][37]\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***][38].\r\n - [**Android**][39]\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*][40] brings a [subset of the *java.time*][41] functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***][42] project adapts [***ThreeTen-Backport***][38] (mentioned above) to Android. See &quot;*https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project*&quot;.\r\n\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][43]][43]\r\n\r\n\r\n  [1]: //en.wikipedia.org/wiki/UTC_offset\r\n  [2]: //en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: //en.wikipedia.org/wiki/Time_zone\r\n  [4]: //en.wikipedia.org/wiki/Daylight_saving_time\r\n  [5]: //en.wikipedia.org/wiki/Daylight_saving_time_in_the_United_States\r\n  [6]: //time.is/Los_Angeles\r\n  [7]: //docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html\r\n  [8]: //docs.oracle.com/javase/10/docs/api/java/time/ZoneOffset.html\r\n  [9]: //docs.oracle.com/javase/10/docs/api/java/time/ZoneId.html#systemDefault()\r\n  [10]: //docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\r\n  [11]: //i.stack.imgur.com/rdzIW.png\r\n  [12]: //docs.oracle.com/javase/10/docs/api/java/time/ZoneId.html\r\n  [13]: //docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [14]: //en.wikipedia.org/wiki/Nanosecond\r\n  [15]: //ideone.com/cROb1H\r\n  [16]: //docs.oracle.com/javase/10/docs/api/java/time/ZoneId.html#systemDefault()\r\n  [17]: //en.wikipedia.org/wiki/Solar_time\r\n  [18]: //en.wikipedia.org/wiki/Sundial\r\n  [19]: //en.wikipedia.org/wiki/Prime_meridian_(Greenwich)\r\n  [20]: //en.wikipedia.org/wiki/Standard_time\r\n  [21]: //docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\r\n  [22]: //en.wikipedia.org/wiki/Legacy_system\r\n  [23]: //docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\r\n  [24]: //docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\r\n  [25]: //docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\r\n  [26]: //docs.oracle.com/javase/tutorial/datetime/TOC.html\r\n  [27]: //jcp.org/en/jsr/detail?id=310\r\n  [28]: //www.joda.org/joda-time/\r\n  [29]: //en.wikipedia.org/wiki/Maintenance_mode\r\n  [30]: //en.wikipedia.org/wiki/JDBC_driver\r\n  [31]: //openjdk.java.net/jeps/170\r\n  [32]: //en.wikipedia.org/wiki/Java_version_history#Java_SE_8\r\n  [33]: //en.wikipedia.org/wiki/Java_version_history#Java_SE_9\r\n  [34]: //en.wikipedia.org/wiki/Java_version_history#Java_SE_10\r\n  [35]: //en.wikipedia.org/wiki/Java_version_history#Java_SE_11\r\n  [36]: //en.wikipedia.org/wiki/Java_version_history#Java_SE_6\r\n  [37]: //en.wikipedia.org/wiki/Java_version_history#Java_SE_7\r\n  [38]: //www.threeten.org/threetenbp/\r\n  [39]: //en.wikipedia.org/wiki/Android_(operating_system)\r\n  [40]: //developer.android.com/studio/write/java8-support#library-desugaring\r\n  [41]: //developer.android.com/studio/write/java8-support-table\r\n  [42]: //github.com/JakeWharton/ThreeTenABP\r\n  [43]: //i.stack.imgur.com/Sksw9.png","title":"How to get default ZoneOffset in Java 8?","body":"<h1>tl;dr</h1>\n<pre><code>OffsetDateTime.now().getOffset()\n</code></pre>\n<p>But you likely should be using a time zone rather than a mere offset-from-UTC.</p>\n<pre><code>ZoneId.systemDefault()\n</code></pre>\n<h1>Offset versus Time Zone</h1>\n<p>An <a href=\"//en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> is merely a number of hour, minutes, and seconds — nothing more. For example, <code>-08:00</code> means eight hours behind the UTC, and <code>+05:45</code> means five hours and forty-five minutes ahead of <a href=\"//en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>.</p>\n<p>A <a href=\"//en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a> is a <strong>history of past, present, and future changes to the offset</strong> used by the people of a particular region. Anomalies such as <a href=\"//en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a> causing shifts in the offset over specific periods of time are tracked over time, in the past as they happened, and in the future when politicians have announced planned changes.</p>\n<p>So <strong>better to use a zone</strong> when known.</p>\n<p>The offset for any region varies over time. For example, <a href=\"//en.wikipedia.org/wiki/Daylight_saving_time_in_the_United_States\" rel=\"noreferrer\">DST in the United States</a> shifts the offset by an hour for about half the year and then restoring that hour back to the offset during the other half of the year. The entire purpose of a time zone is to document those shifts in offset.</p>\n<p>So it really <strong>makes no sense to ask for an offset without a date-time</strong>. In <a href=\"//time.is/Los_Angeles\" rel=\"noreferrer\"><code>America/Los_Angeles</code></a>, for example in part of this year the offset is <code>-08:00</code> but in another part of the year it is <code>-07:00</code> during DST.</p>\n<h2><code>OffsetDateTime</code></h2>\n<p>So let's specify a moment as an <a href=\"//docs.oracle.com/javase/10/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a>, and then extract the <a href=\"//docs.oracle.com/javase/10/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a>.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now ();\nZoneOffset zoneOffset = odt.getOffset ();\n</code></pre>\n<blockquote>\n<p>odt.toString(): 2017-01-02T15:19:47.162-08:00</p>\n</blockquote>\n<blockquote>\n<p>zoneOffset.toString(): -08:00</p>\n</blockquote>\n<p>That <code>now</code> method is actually applying implicitly the JVM’s current default time zone. I suggest you always make that explicit by specifying your desired/expected time zone. Even if you want the current default zone, say so explicitly to make your intentions clear. Eliminate the ambiguity about whether you intended the default or failed to consider time zone as so often happens with programmers. Call <a href=\"//docs.oracle.com/javase/10/docs/api/java/time/ZoneId.html#systemDefault()\" rel=\"noreferrer\"><code>ZoneId.systemDefault</code></a>.</p>\n<pre><code>OffsetDateTime odt = OffsetDateTime.now ( ZoneId.systemDefault () );\nZoneOffset zoneOffset = odt.getOffset ();\n</code></pre>\n<blockquote>\n<p>ZoneId.systemDefault().toString(): America/Los_Angeles</p>\n</blockquote>\n<blockquote>\n<p>odt: 2017-01-02T15:19:47.162-08:00</p>\n</blockquote>\n<blockquote>\n<p>zoneOffsetOfOdt: -08:00</p>\n</blockquote>\n<p>A caution about depending on the default zone: This default can be changed at any moment by any code in any thread within the JVM. If important, ask the user for their intended time zone.</p>\n<p>You can ask the offset for its amount of time as a total number of seconds.</p>\n<pre><code>int offsetSeconds = zoneOffset.getTotalSeconds ();\n</code></pre>\n<blockquote>\n<p>offsetSeconds: -28800</p>\n</blockquote>\n<h2><code>ZonedDateTime</code></h2>\n<p>Another example: Perhaps you want to know what the offset will be on Christmas Day this year in Québec. Specify the time zone <code>America/Montreal</code>, get a <a href=\"//docs.oracle.com/javase/10/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>, ask for its offset as a <code>ZoneOffset</code> object.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\nLocalDate ld = LocalDate.of( 2017 , 12 , 25 );\nZonedDateTime zdtXmas = ld.atStartOfDay( z );\nZoneOffset zoneOffsetXmas = zdtXmas.getOffset();\n</code></pre>\n<blockquote>\n<p>zdtXmas.toString(): 2017-12-25T00:00-05:00[America/Montreal]</p>\n</blockquote>\n<blockquote>\n<p>zoneOffsetXmas.toString(): -05:00</p>\n</blockquote>\n<blockquote>\n<p>zoneOffsetXmas.getTotalSeconds(): -18000</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/rdzIW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rdzIW.png\" alt=\"Table of date-time types in Java, both modern and legacy.\" /></a></p>\n<h2><code>ZoneId</code></h2>\n<p>As suggested in the comment by yanys, you can interrogate a <a href=\"//docs.oracle.com/javase/10/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> for a particular <code>ZoneOffset</code> by passing a moment as an <code>Instant</code>. The <a href=\"//docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"//en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"//en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction).</p>\n<p>This is just another route to the same destination. Just like with <code>OffsetDateTime</code> and <code>ZonedDateTime</code> discussed above, we are specifying (a) a time zone, and (b) a moment.</p>\n<pre><code>Instant instant = zdtXmas.toInstant();\nZoneOffset zo = z.getRules().getOffset( instant );\n</code></pre>\n<blockquote>\n<p>For ZoneId: America/Montreal at instant: 2017-12-25T05:00:00Z the ZoneOffset is: -05:00</p>\n</blockquote>\n<p>See all these examples’ <a href=\"//ideone.com/cROb1H\" rel=\"noreferrer\">code live at IdeOne.com</a>.</p>\n<h2><code>ZoneOffset.systemDefault</code></h2>\n<p>The <code>ZoneOffset</code> class, a subclass of <code>ZoneId</code>, inherits the <a href=\"//docs.oracle.com/javase/10/docs/api/java/time/ZoneId.html#systemDefault()\" rel=\"noreferrer\"><code>systemDefault</code></a> method. However, we cannot use that method for the purpose of determining the current offset. The inherited method returns an object of the superclass, <code>ZoneId</code>, not an object of the subclass, <code>ZoneOffset</code>.</p>\n<pre><code>ZoneOffset zoneOffset = ZoneOffset.systemDefault() ;  // Error.\n// Fails to compile. \n// Every ZoneOffset is a ZoneId, but not every ZoneId is a ZoneOffset. \n// We cannot assign a superclass object to a reference variable of the subclass type.\n</code></pre>\n<blockquote>\n<p>error: incompatible types: ZoneId cannot be converted to ZoneOffset</p>\n</blockquote>\n<p>But there is another way.</p>\n<h3>Rules of the time zone</h3>\n<p>To get the current offset, we must take an alternate route. We need to go through the rules of the default time zone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ZoneId zoneId = ZoneId.systemDefault ( );\nZoneRules rules = zoneId.getRules ( );\n</code></pre>\n<p>The rules change over time — by definition, as discussed above. So we must specify the moment for which we want to know the offset in effect. We specify the moment as an <code>Instant</code> object, a date and time as seen with an offset of zero hours-minutes-seconds from UTC.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Instant now = Instant.now ( );\nZoneOffset offset = rules.getOffset ( now );\n</code></pre>\n<p>Dump to console.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println ( &quot;For zone &quot; + zoneId + &quot; at &quot; + now + &quot;, the offset is &quot; + offset );\n</code></pre>\n<blockquote>\n<p>For zone America/Los_Angeles at 2023-07-07T23:19:09.084624Z, the offset is -07:00</p>\n</blockquote>\n<h1>Solar Time versus Political time</h1>\n<p>A bit more about offsets and time zones…</p>\n<p><a href=\"//en.wikipedia.org/wiki/Solar_time\" rel=\"noreferrer\">Solar Time</a> has been used since pre-history, tracking each day by noting when the sun is directly overhead. Poke a stick in the ground, and watch its shadow. When the shadow is shortest, when the shadow begins to grow rather than shrink, then you know it is now noon. Formalize that with a <a href=\"//en.wikipedia.org/wiki/Sundial\" rel=\"noreferrer\">sundial</a> to track the hours pass.</p>\n<p>With solar time, as you travel from town to town moving westward, noon arrives a little bit later. Moving eastward, noon arrives a bit sooner. So every town has its own noon, shared only with towns to the north and south along the same longitude.</p>\n<p>Solar time was largely abandoned in the modern era. As trains, telegraphs, and telephones arrived, so did the need to coordinate temporally. So a point was picked for its near solar time of noon, and a large swath of land so many miles to the west and to the east is declared to all share the same 12:00 on the clock, the <strong>same number of hours offset ahead or behind the <a href=\"//en.wikipedia.org/wiki/Prime_meridian_(Greenwich)\" rel=\"noreferrer\">Greenwich Prime Meridian</a> line</strong>. So began the tradition of every train stop displaying prominently a clock to let the town know of the <a href=\"//en.wikipedia.org/wiki/Standard_time\" rel=\"noreferrer\">standard time</a> for their larger region rather than solar time for their own town. Generally, towns in the western edge of that time zone region will see their train station clock read 12:00 a little <em>before</em> the sun is overhead. Clocks in towns in the eastern edge of the region read 12:00 a little <em>after</em> the sun is overhead.</p>\n<p>Politicians around the world showed a penchant for changing the offset(s) of their jurisdiction. The reasons vary, such diplomacy, war &amp; occupation, and the silliness of <a href=\"//en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a>. The reasons vary, but their changes come with surprising frequency. A time zone is a name given to a region to track its history of such changes. So an <strong><a href=\"//en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> is merely a number of hours-minutes-seconds</strong> ahead or behind the prime meridian. A <strong>time zone is much more: a history</strong> of the past, present, and future changes to the offsets of a particular region. While two neighboring regions may today share the same offset-from-UTC, in the past or future they may differ depending on the differing whims or logic of their politicians.</p>\n<p>This means modern time-tracking defined by politicians has little to do with geography. For example, the huge country of India today has a single time zone (offset-from-UTC of +05:30). So solar noon (sun directly over your head) is hours apart in various places across the vast subcontinent. The politicians of India decided this to help unify their diverse democracy. In other examples around the world, we see regions use their time zone as a symbol for international relations such as being different than their offending neighbor country, or choosing the same zone as a neighbor as relations thaw as seen recently in North Korea changing to match South Korea. So, nowadays, solar time is only one of several considerations in time-tracking.</p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"//docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"//en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"//docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"//docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"//docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"//docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"//jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"//www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"//en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"//docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"//en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"//openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"//en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"//en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"//en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"//en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"//en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"//en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"//en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"//www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"//en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"//developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"//developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"//github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"//www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See &quot;*<a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project*%22\">https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project*&quot;</a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Sksw9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Sksw9.png\" alt=\"Table of which java.time library to use with which version of Java or Android\" /></a></p>\n"},{"tags":[],"owner":{"account_id":9977083,"reputation":31,"user_id":7381308,"display_name":"cavok"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582986168,"creation_date":1582986168,"answer_id":60466100,"question_id":41427384,"body_markdown":"Depending on your objective, you may be able to **bypass `ZoneOffset` entirely**.\r\n\r\nAssuming you just need a `ZoneOffset` for e.g. `LocalDateTime.ofEpochSecond()`, you may replace\r\n\r\n    ZoneOffset offset = OffsetDateTime.now().getOffset();\r\n    LocalDateTime dt1 = LocalDateTime.ofEpochSecond(seconds, 0, offset);\r\n\r\nwith \r\n   \r\n    LocalDateTime dt2 = LocalDateTime.ofInstant(\r\n        Instant.ofEpochSecond(seconds), \r\n        ZoneId.systemDefault());\r\n\r\nwhere `dt1.equals(dt2)` is `true`.","title":"How to get default ZoneOffset in Java 8?","body":"<p>Depending on your objective, you may be able to <strong>bypass <code>ZoneOffset</code> entirely</strong>.</p>\n\n<p>Assuming you just need a <code>ZoneOffset</code> for e.g. <code>LocalDateTime.ofEpochSecond()</code>, you may replace</p>\n\n<pre><code>ZoneOffset offset = OffsetDateTime.now().getOffset();\nLocalDateTime dt1 = LocalDateTime.ofEpochSecond(seconds, 0, offset);\n</code></pre>\n\n<p>with </p>\n\n<pre><code>LocalDateTime dt2 = LocalDateTime.ofInstant(\n    Instant.ofEpochSecond(seconds), \n    ZoneId.systemDefault());\n</code></pre>\n\n<p>where <code>dt1.equals(dt2)</code> is <code>true</code>.</p>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130476,"favorite_count":0,"down_vote_count":1,"up_vote_count":129,"accepted_answer_id":41430483,"answer_count":2,"score":128,"last_activity_date":1688845003,"creation_date":1483362164,"question_id":41427384,"body_markdown":"With Java 8 we know use `ZoneId.default()` can get system default `ZoneId`, but how to get default `ZoneOffset`?\r\n\r\nI see that a `ZoneId` has some &quot;rules&quot; and each rule has a `ZoneOffset`, is that means a `ZoneId` may have more than one `ZoneOffset`?","title":"How to get default ZoneOffset in Java 8?","body":"<p>With Java 8 we know use <code>ZoneId.default()</code> can get system default <code>ZoneId</code>, but how to get default <code>ZoneOffset</code>?</p>\n<p>I see that a <code>ZoneId</code> has some &quot;rules&quot; and each rule has a <code>ZoneOffset</code>, is that means a <code>ZoneId</code> may have more than one <code>ZoneOffset</code>?</p>\n"},{"tags":["java","android","arrays"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1688841857,"post_id":76644447,"comment_id":135129352,"body_markdown":"How is `imageArray` defined and populated?","body":"How is <code>imageArray</code> defined and populated?"},{"owner":{"account_id":27301848,"reputation":1,"user_id":20818450,"display_name":"matias villegas"},"score":0,"creation_date":1688844721,"post_id":76644447,"comment_id":135129674,"body_markdown":"defined:     private Drawable[] imageArray;\n\n\npopulated:         imageArray = new Drawable[]{\n                getResources().getDrawable(R.drawable.cama),\n                getResources().getDrawable(R.drawable.computer),\n        };","body":"defined:     private Drawable[] imageArray;   populated:         imageArray = new Drawable[]{                 getResources().getDrawable(R.drawable.cama),                 getResources().getDrawable(R.drawable.computer),         };"},{"owner":{"account_id":14861941,"reputation":1836,"user_id":10732434,"display_name":"sanitizedUser"},"score":0,"creation_date":1688914772,"post_id":76644447,"comment_id":135135341,"body_markdown":"Why did you put the code in a comment? Edit your question instead.","body":"Why did you put the code in a comment? Edit your question instead."}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688844995,"creation_date":1688844995,"answer_id":76644638,"question_id":76644447,"body_markdown":"Replace:\r\n\r\n```java\r\nDrawable ima = getResources().getDrawable(imageArray[index], getTheme());\r\n```\r\n\r\nwith:\r\n\r\n```java\r\nDrawable ima = imageArray[index];\r\n```\r\n\r\nYour `imageArray` is an array of `Drawable`, not an array of drawable resource IDs.","title":"How to make an arr of drawables in android studio","body":"<p>Replace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Drawable ima = getResources().getDrawable(imageArray[index], getTheme());\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Drawable ima = imageArray[index];\n</code></pre>\n<p>Your <code>imageArray</code> is an array of <code>Drawable</code>, not an array of drawable resource IDs.</p>\n"}],"owner":{"account_id":27301848,"reputation":1,"user_id":20818450,"display_name":"matias villegas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688844995,"creation_date":1688841773,"question_id":76644447,"body_markdown":"I&#39;ve been trying to use android studio to make an app with an Array of drawables so that you can traverse it with forwards and backwards buttons, most of the rest of the code is finished, but the line where I declare the drawable object ima it thorws an error saying drawable cannot be conversted into int, can somebody please help me with this?\r\n\r\n\r\n````\r\n buttonNext.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                index++;\r\n                if(index &gt; imageList1.size() -1){\r\n                    index = 0;\r\n                }\r\n                Drawable ima = getResources().getDrawable(imageArray[index], getTheme());\r\n\r\n                image.setImageDrawable(ima);\r\n```\r\n`","title":"How to make an arr of drawables in android studio","body":"<p>I've been trying to use android studio to make an app with an Array of drawables so that you can traverse it with forwards and backwards buttons, most of the rest of the code is finished, but the line where I declare the drawable object ima it thorws an error saying drawable cannot be conversted into int, can somebody please help me with this?</p>\n<pre><code> buttonNext.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                index++;\n                if(index &gt; imageList1.size() -1){\n                    index = 0;\n                }\n                Drawable ima = getResources().getDrawable(imageArray[index], getTheme());\n\n                image.setImageDrawable(ima);\n```\n`\n</code></pre>\n"},{"tags":["java","multithreading","synchronization","race-condition","synchronized"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":1,"creation_date":1688833691,"post_id":76643857,"comment_id":135128456,"body_markdown":"One thing you could do is to add a single &#39;transaction complete&#39; object which is the object that is waited on.  And every transaction completion notifies that object, so all waiters wake up and recheck for completion of their particular transaction.  That seems a bit hokey to me, but I don&#39;t see any simple way to fix this.","body":"One thing you could do is to add a single &#39;transaction complete&#39; object which is the object that is waited on.  And every transaction completion notifies that object, so all waiters wake up and recheck for completion of their particular transaction.  That seems a bit hokey to me, but I don&#39;t see any simple way to fix this."},{"owner":{"account_id":25465038,"reputation":206,"user_id":19264217,"display_name":"Максим Цюпко"},"score":1,"creation_date":1688838917,"post_id":76643857,"comment_id":135129016,"body_markdown":"Create new table which holds all accounts and their active transactions. Then, if you try to make transfer between accounts check if users in this table have active transactions. If they have then sleep your thread, else process transfer.","body":"Create new table which holds all accounts and their active transactions. Then, if you try to make transfer between accounts check if users in this table have active transactions. If they have then sleep your thread, else process transfer."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1688840853,"post_id":76643857,"comment_id":135129202,"body_markdown":"One way this is solved in the real world is to use an optimistic lock.  Especially for long held locks (your interactive session) optimistic locks are preferred.  Optimistic locks do not work well if there is contention (lots of changes) so you do have to be careful of that situation.","body":"One way this is solved in the real world is to use an optimistic lock.  Especially for long held locks (your interactive session) optimistic locks are preferred.  Optimistic locks do not work well if there is contention (lots of changes) so you do have to be careful of that situation."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1688983187,"post_id":76643857,"comment_id":135143488,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":3625596,"reputation":390,"user_id":3023327,"accept_rate":50,"display_name":"Demian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688844351,"creation_date":1688844351,"answer_id":76644609,"question_id":76643857,"body_markdown":"If you want to run multiple transactions in parallel you could consider this possible solution\r\n\r\n\r\nFirst some sort of java objects to deal with the concurrency of the application.\r\n\r\n        private final Set&lt;Integer&gt; accountsInUse = ConcurrentHashMap.newKeySet();\r\n        private final Set&lt;Future&lt;TransactionResult&gt;&gt; transactions = ConcurrentHashMap.newKeySet();\r\n        private final ReentrantReadWriteLock lock = new ReentrantReadWriteLock();\r\n        private final ReentrantReadWriteLock.ReadLock reader = lock.readLock();\r\n        private final ReentrantReadWriteLock.WriteLock writer = lock.writeLock();\r\n    \r\n        private final ExecutorService executor = Executors.newFixedThreadPool(5);\r\n        private final Timer transactionChecker = new Timer();\r\n\r\n\r\naccountsInUse is basically  to know what accounts are beign used at the moment.  Reentrant objects are to protect accountsInUse to be written or read when another thread is accessing it.\r\n\r\nThe executor is to run your transactions in separately and transactions is to know if they already finish or not.\r\n\r\nNow you need a callable class to do your operations \r\n\r\n    static class TransactionThread implements Callable&lt;TransactionResult&gt; {\r\n\r\n        Account acc1;\r\n        Account acc2;\r\n        double amount;\r\n\r\n        TransactionThread(Account acc1, Account acc2, double amount) {\r\n            this.acc1 = acc1;\r\n            this.acc2 = acc2;\r\n            this.amount = amount;\r\n        }\r\n\r\n        @Override\r\n        public TransactionResult call() throws Exception {\r\n            if (acc1.getBalance() &lt; amount) {\r\n                throw new InvalidAmountException(&quot;Not enough money in sender account&quot;);\r\n            }\r\n\r\n            if (amount &lt; 0) {\r\n                throw new InvalidAmountException(&quot;Amount must be positive&quot;);\r\n            }\r\n            Account[] accounts = orderAccounts(acc1, acc2);\r\n\r\n            acc1.setLastTransaction(new Transaction(-amount, acc1, acc2));\r\n            acc1.updateBalance(-amount);\r\n            acc2.setLastTransaction(new Transaction(amount, acc1, acc2));\r\n            acc2.updateBalance(amount);\r\n\r\n            return new TransactionResult(&quot;SUCCESS&quot;, acc1.getID(), acc2.getID());\r\n        }\r\n    }\r\n    record TransactionResult(String status, int acc1Id, int acc2Id) {\r\n    }\r\n\r\n \r\nThen you need to update the method to run your transactions \r\n\r\n\r\n\r\n    public void transfer(String acc1, String acc2, double amount) throws InvalidAmountException,\r\n                AccountNotExists, AccountNotAvailable, SafeIllegalArgumentException {\r\n            //controllare se amount sia corretto, altrimenti errore, se ne occupa ConnectionHandler con IOException()\r\n            writer.lock();\r\n            if (acc1.equals(acc2)) {\r\n                writer.unlock();\r\n                throw new SafeIllegalArgumentException(&quot;You can&#39;t transfer money to yourself&quot;);\r\n            }\r\n            //devo verificare che il conto non sia nella lista transfer_i;\r\n            Account g1 = getAccount(acc1);\r\n            Account g2 = getAccount(acc2);\r\n            reader.lock();\r\n        if(accountsInUse.contains(g1.getID()) || accountsInUse.contains(g2.getID())) {\r\n            writer.unlock();\r\n            throw new SafeIllegalArgumentException(&quot;Accounts in Use&quot;);\r\n        }\r\n        reader.unlock();\r\n        writer.lock();\r\n        accountsInUse.add(g1.getID());\r\n        accountsInUse.add(g2.getID());\r\n        //se gli account non esistono viene lanciata l&#39;eccezione AccountNotExists gestito dal getAccount():\r\n        transactions.add(executor.submit(new TransactionThread(g1, g2, amount)));\r\n        writer.unlock();\r\n        }\r\n\r\nHere you use the WriteLock and ReadLock to prevent other thread to write/read in your accsountsInUse Set while is not allowed.\r\n\r\nNote that every thread you execute with the Executor return a Future, That object will tell you if the process is over or not.\r\n\r\nSo finally, you need something to check for the Future list of objects (transactions). A timer can help on this.\r\n\r\nSo in your constructor:\r\n\r\n    public Bank() {\r\n            accounts = new ArrayList&lt;&gt;();\r\n            transfer_i = new ArrayList&lt;&gt;();\r\n            TimerTask taskChecker = new TimerTask() {\r\n                @Override\r\n                public void run() {\r\n                    reader.lock();\r\n                    List&lt;Integer&gt; finishedTransactions = transactions.stream()\r\n                            .filter(Future::isDone).map(f-&gt;{\r\n                                try {\r\n                                    return f.get();\r\n                                } catch (InterruptedException | ExecutionException e) {\r\n                                    throw new RuntimeException(e);\r\n                                }\r\n                            })\r\n                            .flatMap(tr -&gt; Stream.of(tr.acc1Id(), tr.acc2Id()))\r\n                            .toList();\r\n                    accountsInUse.stream().filter(finishedTransactions::contains).toList().forEach(accountsInUse::remove);\r\n                    reader.unlock();\r\n                }\r\n            };\r\n            transactionChecker.schedule(taskChecker, 0, 1000);\r\n        }\r\n\r\n\r\nThis is just a simple timer that will be checking for all finished transactions  and remove them from the accountsInUse Set if they are done..\r\n\r\nThere are lots of improvements that can be made here but I just did a quick sample on how you can handle this. Hope this helps.\r\n","title":"Race condition with synchronized() blocks","body":"<p>If you want to run multiple transactions in parallel you could consider this possible solution</p>\n<p>First some sort of java objects to deal with the concurrency of the application.</p>\n<pre><code>    private final Set&lt;Integer&gt; accountsInUse = ConcurrentHashMap.newKeySet();\n    private final Set&lt;Future&lt;TransactionResult&gt;&gt; transactions = ConcurrentHashMap.newKeySet();\n    private final ReentrantReadWriteLock lock = new ReentrantReadWriteLock();\n    private final ReentrantReadWriteLock.ReadLock reader = lock.readLock();\n    private final ReentrantReadWriteLock.WriteLock writer = lock.writeLock();\n\n    private final ExecutorService executor = Executors.newFixedThreadPool(5);\n    private final Timer transactionChecker = new Timer();\n</code></pre>\n<p>accountsInUse is basically  to know what accounts are beign used at the moment.  Reentrant objects are to protect accountsInUse to be written or read when another thread is accessing it.</p>\n<p>The executor is to run your transactions in separately and transactions is to know if they already finish or not.</p>\n<p>Now you need a callable class to do your operations</p>\n<pre><code>static class TransactionThread implements Callable&lt;TransactionResult&gt; {\n\n    Account acc1;\n    Account acc2;\n    double amount;\n\n    TransactionThread(Account acc1, Account acc2, double amount) {\n        this.acc1 = acc1;\n        this.acc2 = acc2;\n        this.amount = amount;\n    }\n\n    @Override\n    public TransactionResult call() throws Exception {\n        if (acc1.getBalance() &lt; amount) {\n            throw new InvalidAmountException(&quot;Not enough money in sender account&quot;);\n        }\n\n        if (amount &lt; 0) {\n            throw new InvalidAmountException(&quot;Amount must be positive&quot;);\n        }\n        Account[] accounts = orderAccounts(acc1, acc2);\n\n        acc1.setLastTransaction(new Transaction(-amount, acc1, acc2));\n        acc1.updateBalance(-amount);\n        acc2.setLastTransaction(new Transaction(amount, acc1, acc2));\n        acc2.updateBalance(amount);\n\n        return new TransactionResult(&quot;SUCCESS&quot;, acc1.getID(), acc2.getID());\n    }\n}\nrecord TransactionResult(String status, int acc1Id, int acc2Id) {\n}\n</code></pre>\n<p>Then you need to update the method to run your transactions</p>\n<pre><code>public void transfer(String acc1, String acc2, double amount) throws InvalidAmountException,\n            AccountNotExists, AccountNotAvailable, SafeIllegalArgumentException {\n        //controllare se amount sia corretto, altrimenti errore, se ne occupa ConnectionHandler con IOException()\n        writer.lock();\n        if (acc1.equals(acc2)) {\n            writer.unlock();\n            throw new SafeIllegalArgumentException(&quot;You can't transfer money to yourself&quot;);\n        }\n        //devo verificare che il conto non sia nella lista transfer_i;\n        Account g1 = getAccount(acc1);\n        Account g2 = getAccount(acc2);\n        reader.lock();\n    if(accountsInUse.contains(g1.getID()) || accountsInUse.contains(g2.getID())) {\n        writer.unlock();\n        throw new SafeIllegalArgumentException(&quot;Accounts in Use&quot;);\n    }\n    reader.unlock();\n    writer.lock();\n    accountsInUse.add(g1.getID());\n    accountsInUse.add(g2.getID());\n    //se gli account non esistono viene lanciata l'eccezione AccountNotExists gestito dal getAccount():\n    transactions.add(executor.submit(new TransactionThread(g1, g2, amount)));\n    writer.unlock();\n    }\n</code></pre>\n<p>Here you use the WriteLock and ReadLock to prevent other thread to write/read in your accsountsInUse Set while is not allowed.</p>\n<p>Note that every thread you execute with the Executor return a Future, That object will tell you if the process is over or not.</p>\n<p>So finally, you need something to check for the Future list of objects (transactions). A timer can help on this.</p>\n<p>So in your constructor:</p>\n<pre><code>public Bank() {\n        accounts = new ArrayList&lt;&gt;();\n        transfer_i = new ArrayList&lt;&gt;();\n        TimerTask taskChecker = new TimerTask() {\n            @Override\n            public void run() {\n                reader.lock();\n                List&lt;Integer&gt; finishedTransactions = transactions.stream()\n                        .filter(Future::isDone).map(f-&gt;{\n                            try {\n                                return f.get();\n                            } catch (InterruptedException | ExecutionException e) {\n                                throw new RuntimeException(e);\n                            }\n                        })\n                        .flatMap(tr -&gt; Stream.of(tr.acc1Id(), tr.acc2Id()))\n                        .toList();\n                accountsInUse.stream().filter(finishedTransactions::contains).toList().forEach(accountsInUse::remove);\n                reader.unlock();\n            }\n        };\n        transactionChecker.schedule(taskChecker, 0, 1000);\n    }\n</code></pre>\n<p>This is just a simple timer that will be checking for all finished transactions  and remove them from the accountsInUse Set if they are done..</p>\n<p>There are lots of improvements that can be made here but I just did a quick sample on how you can handle this. Hope this helps.</p>\n"}],"owner":{"account_id":26293447,"reputation":1,"user_id":19960113,"display_name":"esthy05"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688844351,"creation_date":1688832794,"question_id":76643857,"body_markdown":"```\r\npackage server.Bank;\r\n\r\nimport server.Bank.Exceptions.*;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class\r\nBank {\r\n\r\n    private final ArrayList&lt;Account&gt; accounts;//lista di account\r\n    private final ArrayList&lt;Account&gt; transfer_i;//lista di account che stanno effettuando sessione interattive\r\n\r\n    /* Costruttore della classe */\r\n    public Bank() {\r\n        accounts = new ArrayList&lt;&gt;();\r\n        transfer_i = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    /* Metodo di apertura del conto */\r\n    public void open(String name, Double amount) throws AccountAlreadyExists, InvalidAmountException {\r\n        synchronized (accounts) {\r\n            if (existsAccount(name)) {\r\n                throw new AccountAlreadyExists(&quot;The account already exists&quot;);\r\n            } else if (invalidAmount(amount)) {\r\n                throw new InvalidAmountException(&quot;You can&#39;t open an account with a negative amount&quot;);\r\n            }\r\n            int ID = accounts.size();\r\n            accounts.add(new Account(name, amount, ID));\r\n        }\r\n    }\r\n\r\n    private boolean existsAccount(String name) {\r\n        for (Account a : accounts) {\r\n            if (a.getName().equals(name)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private boolean invalidAmount(Double amount) {\r\n        return amount &lt; 0;\r\n    }\r\n\r\n    /* Restituisce un account in base al nome */\r\n    public Account getAccount(String name) throws AccountNotExists {\r\n        if (name == null) {             //eccezione se parametro == null (prima eccezione)\r\n            throw new AccountNotExists(&quot;Name cannot be null&quot;);\r\n        }\r\n        for (Account account : accounts) {\r\n            if (account.getName().equals(name)) {\r\n                return account;\r\n            }\r\n        }                               //eccezione se nome non presente (seconda eccezione)\r\n        throw new AccountNotExists(&quot;Account with given name not found&quot;);\r\n    }\r\n\r\n    /* Comando list del client */\r\n    public String list() {\r\n        String s = &quot;&quot;;\r\n        if (accounts.size() == 0) {\r\n            s = &quot;No account has been registered yet&quot;;\r\n        } else {\r\n            for (Account a : accounts) {\r\n                s += a.toString() + &quot;\\n\\n&quot;;\r\n            }\r\n        }\r\n        return s;\r\n    }\r\n\r\n    public void transfer(String acc1, String acc2, double amount) throws InvalidAmountException,\r\n      AccountNotExists, AccountNotAvailable, SafeIllegalArgumentException {\r\n        //controllare se amount sia corretto, altrimenti errore, se ne occupa ConnectionHandler con IOException()\r\n        if (acc1.equals(acc2)) {\r\n            throw new SafeIllegalArgumentException(&quot;You can&#39;t transfer money to yourself&quot;);\r\n        }\r\n        //devo verificare che il conto non sia nella lista transfer_i;\r\n        Account g1 = getAccount(acc1);\r\n        Account g2 = getAccount(acc2);\r\n        //se gli account non esistono viene lanciata l&#39;eccezione AccountNotExists gestito dal getAccount():\r\n        while (isTransfer_i(g1) || isTransfer_i(g2)) {\r\n            synchronized(this) {\r\n                try {\r\n                    wait();\r\n                    //aspetta che entrambi i conti NON siano presenti nella lista\r\n                } catch (InterruptedException e) {\r\n                    System.out.println(&quot;Thread interrupted&quot;);\r\n                }\r\n            }\r\n        }\r\n        //race condition here\r\n        transaction(g1, g2, amount);\r\n    }\r\n\r\n    /* Effettivo trasferimento dei soldi da un conto all&#39;altro */\r\n    private void transaction(Account acc1, Account acc2, double amount) throws InvalidAmountException {\r\n        //verifica che l&#39;amount sia valido\r\n        if (acc1.getBalance() &lt; amount) {\r\n            throw new InvalidAmountException(&quot;Not enough money in sender account&quot;);\r\n        }\r\n\r\n        if (amount &lt; 0) {\r\n            throw new InvalidAmountException(&quot;Amount must be positive&quot;);\r\n        }\r\n        Account[] accounts = orderAccounts(acc1,acc2);\r\n        synchronized (accounts[0]) {\r\n            synchronized (accounts[1]) {\r\n                //effettua trasferimento da un conto all&#39;altro\r\n                try {\r\n                    if (accounts[0].getName().equals(&quot;Account1&quot;)) {\r\n                        Thread.sleep(6000);\r\n                    }\r\n                }\r\n                catch (InterruptedException e){}\r\n\r\n                acc1.setLastTransaction(new Transaction(-amount, acc1, acc2));\r\n                acc1.updateBalance(-amount);\r\n                acc2.setLastTransaction(new Transaction(amount, acc1, acc2));\r\n                acc2.updateBalance(amount);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private Account[] orderAccounts(Account acc1, Account acc2){\r\n        Account[] order = new Account[2];\r\n        if (acc1.getID() &lt; acc2.getID()) {\r\n            order[0] = acc1;\r\n            order[1] = acc2;\r\n        } else {\r\n            order[0] = acc2;\r\n            order[1] = acc1;\r\n        }\r\n        return order;\r\n    }\r\n\r\n    /* Avvio di una sessione interattiva */\r\n    public void transfer_iInitiate(String acc1, String acc2) throws AccountNotExists, AccountNotAvailable, SafeIllegalArgumentException {\r\n        if (acc1.equals(acc2)) {\r\n            throw new SafeIllegalArgumentException(&quot;You can&#39;t transfer money to yourself&quot;);\r\n        }\r\n        Account g1 = getAccount(acc1);\r\n        Account g2 = getAccount(acc2);\r\n\r\n        while (getAccountTransfer_i(acc1) != null || getAccountTransfer_i(acc2) != null) {\r\n            synchronized(this) {\r\n                try {\r\n                    wait();\r\n                } catch (InterruptedException e) {\r\n                    System.out.println(&quot;Thread interrupted&quot;);\r\n                }\r\n            }\r\n        }\r\n        //race condition here\r\n        Account[] accounts = orderAccounts(g1,g2);\r\n        synchronized (accounts[0]) {\r\n            synchronized (accounts[1]) {\r\n                transfer_i.add(g1);\r\n                transfer_i.add(g2);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public void move(String acc1, String acc2, double amount) throws InvalidAmountException, AccountNotExists, AccountNotAvailable, SafeIllegalArgumentException {\r\n        Account g1 = getAccount(acc1);\r\n        Account g2 = getAccount(acc2);\r\n        transaction(g1, g2, amount);\r\n    }\r\n\r\n    /* Termina la sessione interattiva */\r\n    public void transfer_iEnd(String acc1, String acc2) throws AccountNotExists {\r\n        Account g1 = getAccount(acc1);\r\n        Account g2 = getAccount(acc2);\r\n        Account[] accounts = orderAccounts(g1,g2);\r\n        synchronized (accounts[0]) {\r\n            synchronized (accounts[1]) {\r\n                transfer_i.remove(g2);\r\n            }\r\n            transfer_i.remove(g1);\r\n        }\r\n        synchronized(this) {\r\n            notifyAll();\r\n        }\r\n    }\r\n\r\n    public Account getAccountTransfer_i(String name) {\r\n        Account res = null;\r\n        for (Account account : transfer_i) {\r\n            if (account.getName().equals(name)) {\r\n                res = account;\r\n            }\r\n        }\r\n        return res;\r\n    }\r\n\r\n    public boolean isTransfer_i(Account name) {\r\n        return transfer_i.contains(name);\r\n        //true se contiene il conto\r\n    }\r\n}\r\n```\r\nI&#39;m trying to do a simple bank-project with multithreading. The two main operations are transfer and transfer_i (means an interactive session to transfer money from an account to the other). \r\nI have two race condition problems, in method transfer_iInitiate, and transfer (look for `//race condition` comment). \r\nTransfer_iInitiate memorises the accounts involved in an interactive session inside of the ArrayList&lt;Account&gt; transfer_i. How to avoid this race condition, without using synchronized in the method signature or without using synchronized(this)? As the aim is to simultaneously do a transfer_i from a to b and a transfer_i from c to d (in two different threads). (where a, b, c and d are the name of different Accounts)\r\n\r\n\r\nI tried to use:\r\n```\r\nsyncrhonized(acc1){\r\n  synchronized(acc2){\r\n  ....\r\n  }\r\n}\r\n```\r\nwhere inside of the synchronized block i put either the while and the operations transfer_i.add(...). Unfortunately I realized that I cannot call wait on two objects in a row inside of the while (on acc1 e acc2), and I can&#39;t think of a different solution, any suggestion?","title":"Race condition with synchronized() blocks","body":"<pre><code>package server.Bank;\n\nimport server.Bank.Exceptions.*;\n\nimport java.util.ArrayList;\n\npublic class\nBank {\n\n    private final ArrayList&lt;Account&gt; accounts;//lista di account\n    private final ArrayList&lt;Account&gt; transfer_i;//lista di account che stanno effettuando sessione interattive\n\n    /* Costruttore della classe */\n    public Bank() {\n        accounts = new ArrayList&lt;&gt;();\n        transfer_i = new ArrayList&lt;&gt;();\n    }\n\n    /* Metodo di apertura del conto */\n    public void open(String name, Double amount) throws AccountAlreadyExists, InvalidAmountException {\n        synchronized (accounts) {\n            if (existsAccount(name)) {\n                throw new AccountAlreadyExists(&quot;The account already exists&quot;);\n            } else if (invalidAmount(amount)) {\n                throw new InvalidAmountException(&quot;You can't open an account with a negative amount&quot;);\n            }\n            int ID = accounts.size();\n            accounts.add(new Account(name, amount, ID));\n        }\n    }\n\n    private boolean existsAccount(String name) {\n        for (Account a : accounts) {\n            if (a.getName().equals(name)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private boolean invalidAmount(Double amount) {\n        return amount &lt; 0;\n    }\n\n    /* Restituisce un account in base al nome */\n    public Account getAccount(String name) throws AccountNotExists {\n        if (name == null) {             //eccezione se parametro == null (prima eccezione)\n            throw new AccountNotExists(&quot;Name cannot be null&quot;);\n        }\n        for (Account account : accounts) {\n            if (account.getName().equals(name)) {\n                return account;\n            }\n        }                               //eccezione se nome non presente (seconda eccezione)\n        throw new AccountNotExists(&quot;Account with given name not found&quot;);\n    }\n\n    /* Comando list del client */\n    public String list() {\n        String s = &quot;&quot;;\n        if (accounts.size() == 0) {\n            s = &quot;No account has been registered yet&quot;;\n        } else {\n            for (Account a : accounts) {\n                s += a.toString() + &quot;\\n\\n&quot;;\n            }\n        }\n        return s;\n    }\n\n    public void transfer(String acc1, String acc2, double amount) throws InvalidAmountException,\n      AccountNotExists, AccountNotAvailable, SafeIllegalArgumentException {\n        //controllare se amount sia corretto, altrimenti errore, se ne occupa ConnectionHandler con IOException()\n        if (acc1.equals(acc2)) {\n            throw new SafeIllegalArgumentException(&quot;You can't transfer money to yourself&quot;);\n        }\n        //devo verificare che il conto non sia nella lista transfer_i;\n        Account g1 = getAccount(acc1);\n        Account g2 = getAccount(acc2);\n        //se gli account non esistono viene lanciata l'eccezione AccountNotExists gestito dal getAccount():\n        while (isTransfer_i(g1) || isTransfer_i(g2)) {\n            synchronized(this) {\n                try {\n                    wait();\n                    //aspetta che entrambi i conti NON siano presenti nella lista\n                } catch (InterruptedException e) {\n                    System.out.println(&quot;Thread interrupted&quot;);\n                }\n            }\n        }\n        //race condition here\n        transaction(g1, g2, amount);\n    }\n\n    /* Effettivo trasferimento dei soldi da un conto all'altro */\n    private void transaction(Account acc1, Account acc2, double amount) throws InvalidAmountException {\n        //verifica che l'amount sia valido\n        if (acc1.getBalance() &lt; amount) {\n            throw new InvalidAmountException(&quot;Not enough money in sender account&quot;);\n        }\n\n        if (amount &lt; 0) {\n            throw new InvalidAmountException(&quot;Amount must be positive&quot;);\n        }\n        Account[] accounts = orderAccounts(acc1,acc2);\n        synchronized (accounts[0]) {\n            synchronized (accounts[1]) {\n                //effettua trasferimento da un conto all'altro\n                try {\n                    if (accounts[0].getName().equals(&quot;Account1&quot;)) {\n                        Thread.sleep(6000);\n                    }\n                }\n                catch (InterruptedException e){}\n\n                acc1.setLastTransaction(new Transaction(-amount, acc1, acc2));\n                acc1.updateBalance(-amount);\n                acc2.setLastTransaction(new Transaction(amount, acc1, acc2));\n                acc2.updateBalance(amount);\n            }\n        }\n    }\n\n\n    private Account[] orderAccounts(Account acc1, Account acc2){\n        Account[] order = new Account[2];\n        if (acc1.getID() &lt; acc2.getID()) {\n            order[0] = acc1;\n            order[1] = acc2;\n        } else {\n            order[0] = acc2;\n            order[1] = acc1;\n        }\n        return order;\n    }\n\n    /* Avvio di una sessione interattiva */\n    public void transfer_iInitiate(String acc1, String acc2) throws AccountNotExists, AccountNotAvailable, SafeIllegalArgumentException {\n        if (acc1.equals(acc2)) {\n            throw new SafeIllegalArgumentException(&quot;You can't transfer money to yourself&quot;);\n        }\n        Account g1 = getAccount(acc1);\n        Account g2 = getAccount(acc2);\n\n        while (getAccountTransfer_i(acc1) != null || getAccountTransfer_i(acc2) != null) {\n            synchronized(this) {\n                try {\n                    wait();\n                } catch (InterruptedException e) {\n                    System.out.println(&quot;Thread interrupted&quot;);\n                }\n            }\n        }\n        //race condition here\n        Account[] accounts = orderAccounts(g1,g2);\n        synchronized (accounts[0]) {\n            synchronized (accounts[1]) {\n                transfer_i.add(g1);\n                transfer_i.add(g2);\n            }\n        }\n\n    }\n\n    public void move(String acc1, String acc2, double amount) throws InvalidAmountException, AccountNotExists, AccountNotAvailable, SafeIllegalArgumentException {\n        Account g1 = getAccount(acc1);\n        Account g2 = getAccount(acc2);\n        transaction(g1, g2, amount);\n    }\n\n    /* Termina la sessione interattiva */\n    public void transfer_iEnd(String acc1, String acc2) throws AccountNotExists {\n        Account g1 = getAccount(acc1);\n        Account g2 = getAccount(acc2);\n        Account[] accounts = orderAccounts(g1,g2);\n        synchronized (accounts[0]) {\n            synchronized (accounts[1]) {\n                transfer_i.remove(g2);\n            }\n            transfer_i.remove(g1);\n        }\n        synchronized(this) {\n            notifyAll();\n        }\n    }\n\n    public Account getAccountTransfer_i(String name) {\n        Account res = null;\n        for (Account account : transfer_i) {\n            if (account.getName().equals(name)) {\n                res = account;\n            }\n        }\n        return res;\n    }\n\n    public boolean isTransfer_i(Account name) {\n        return transfer_i.contains(name);\n        //true se contiene il conto\n    }\n}\n</code></pre>\n<p>I'm trying to do a simple bank-project with multithreading. The two main operations are transfer and transfer_i (means an interactive session to transfer money from an account to the other).\nI have two race condition problems, in method transfer_iInitiate, and transfer (look for <code>//race condition</code> comment).\nTransfer_iInitiate memorises the accounts involved in an interactive session inside of the ArrayList transfer_i. How to avoid this race condition, without using synchronized in the method signature or without using synchronized(this)? As the aim is to simultaneously do a transfer_i from a to b and a transfer_i from c to d (in two different threads). (where a, b, c and d are the name of different Accounts)</p>\n<p>I tried to use:</p>\n<pre><code>syncrhonized(acc1){\n  synchronized(acc2){\n  ....\n  }\n}\n</code></pre>\n<p>where inside of the synchronized block i put either the while and the operations transfer_i.add(...). Unfortunately I realized that I cannot call wait on two objects in a row inside of the while (on acc1 e acc2), and I can't think of a different solution, any suggestion?</p>\n"},{"tags":["java","linux","gradle","manjaro"],"owner":{"account_id":28977609,"reputation":1,"user_id":22196325,"display_name":"MSW"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688843369,"creation_date":1688843223,"question_id":76644546,"body_markdown":"I wanted to build this app\r\n[Link to the code](https://github.com/asifrpatel/ImageEraser)\r\n\r\nCan anyone guide me on how to build this into an APK.\r\n\r\nI am new on the gradle builder.\r\n\r\nI installed it on my system just to build this app.\r\n\r\nI use Manjaro Linux.\r\n\r\nThanks in advance\r\n\r\nI tried \r\n\r\n`gradle build`\r\n\r\nIt said \r\n\r\n```\r\nWelcome to Gradle 8.2!\r\n\r\nHere are the highlights of this release:\r\n - Kotlin DSL: new reference documentation, assignment syntax by default\r\n - Kotlin DSL is now the default with Gradle init\r\n - Improved suggestions to resolve errors in console output\r\n\r\nFor more details see https://docs.gradle.org/8.2/release-notes.html\r\n\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* Where:\r\nBuild file &#39;/home/manveer/Desktop/ImageEraser/app/build.gradle&#39; line: 1\r\n\r\n* What went wrong:\r\nA problem occurred evaluating project &#39;:app&#39;.\r\n&gt; org/gradle/initialization/BuildCompletionListener\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n&gt; Get more help at https://help.gradle.org.\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nFor more on this, please refer to https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\r\n\r\nBUILD FAILED in 1m 13s\r\n\r\n```\r\n\r\n","title":"How to build this into APK?","body":"<p>I wanted to build this app\n<a href=\"https://github.com/asifrpatel/ImageEraser\" rel=\"nofollow noreferrer\">Link to the code</a></p>\n<p>Can anyone guide me on how to build this into an APK.</p>\n<p>I am new on the gradle builder.</p>\n<p>I installed it on my system just to build this app.</p>\n<p>I use Manjaro Linux.</p>\n<p>Thanks in advance</p>\n<p>I tried</p>\n<p><code>gradle build</code></p>\n<p>It said</p>\n<pre><code>Welcome to Gradle 8.2!\n\nHere are the highlights of this release:\n - Kotlin DSL: new reference documentation, assignment syntax by default\n - Kotlin DSL is now the default with Gradle init\n - Improved suggestions to resolve errors in console output\n\nFor more details see https://docs.gradle.org/8.2/release-notes.html\n\nStarting a Gradle Daemon (subsequent builds will be faster)\n\nFAILURE: Build failed with an exception.\n\n* Where:\nBuild file '/home/manveer/Desktop/ImageEraser/app/build.gradle' line: 1\n\n* What went wrong:\nA problem occurred evaluating project ':app'.\n&gt; org/gradle/initialization/BuildCompletionListener\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n&gt; Get more help at https://help.gradle.org.\n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 9.0.\n\nYou can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\n\nFor more on this, please refer to https://docs.gradle.org/8.2/userguide/command_line_interface.html#sec:command_line_warnings in the Gradle documentation.\n\nBUILD FAILED in 1m 13s\n\n</code></pre>\n"},{"tags":["java","exception","arguments","program-entry-point"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688842624,"post_id":76644493,"comment_id":135129450,"body_markdown":"Check args.length == o","body":"Check args.length == o"}],"answers":[{"tags":[],"owner":{"account_id":91942,"reputation":8072,"user_id":252218,"accept_rate":91,"display_name":"BoppreH"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688842676,"creation_date":1688842676,"answer_id":76644508,"question_id":76644493,"body_markdown":"`args` is a normal array. If you try to access an item beyond the last index (`args[0]` when `args` is empty, for example), then you&#39;ll always get an exception.\r\n\r\nTo avoid it, you can test its length before accessing the element:\r\n\r\n```java\r\nif (args.length &gt; 0) {\r\n    System.out.println(&quot;We have one or more arguments.&quot;);\r\n    // You can safely use `args[0]` here.\r\n}\r\n```","title":"What does &quot;args&quot; equal or return in &quot;main&quot; if it has no value, I.E. no args (arguments) were passed when the program was executed","body":"<p><code>args</code> is a normal array. If you try to access an item beyond the last index (<code>args[0]</code> when <code>args</code> is empty, for example), then you'll always get an exception.</p>\n<p>To avoid it, you can test its length before accessing the element:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (args.length &gt; 0) {\n    System.out.println(&quot;We have one or more arguments.&quot;);\n    // You can safely use `args[0]` here.\n}\n</code></pre>\n"}],"owner":{"account_id":25370906,"reputation":33,"user_id":19184722,"display_name":"STC2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76644508,"answer_count":1,"score":0,"last_activity_date":1688842676,"creation_date":1688842413,"question_id":76644493,"body_markdown":"I have this code here:\r\n\r\n```\r\ntry {\r\n\tSystem.out.print(&quot;There are args!: &quot; + args[0]);\r\n} catch (Exception e) {\r\n\tSystem.out.print(&quot;No args&quot;);\r\n}\r\n```\r\nI am checking if arguments were passed when I executed the program. If no arguments are passed, and I try to print the first index of arguments, an Exception is thrown. I can use a Try-Catch block to catch the Exception, and declare there is no arguments.\r\n\r\nHow could I do this with an &#39;If Statement&#39;?\r\n\r\nI tried:\r\n\r\n```\r\nif (args[0] == null)\r\n\r\n//And\r\n\r\nif (args[0] == &#39;&#39;)\r\n```\r\nAnd still got an Exception. What is &quot;args[0]&quot; equal to if no arguments are passed?\r\n\r\n\r\n....................","title":"What does &quot;args&quot; equal or return in &quot;main&quot; if it has no value, I.E. no args (arguments) were passed when the program was executed","body":"<p>I have this code here:</p>\n<pre><code>try {\n    System.out.print(&quot;There are args!: &quot; + args[0]);\n} catch (Exception e) {\n    System.out.print(&quot;No args&quot;);\n}\n</code></pre>\n<p>I am checking if arguments were passed when I executed the program. If no arguments are passed, and I try to print the first index of arguments, an Exception is thrown. I can use a Try-Catch block to catch the Exception, and declare there is no arguments.</p>\n<p>How could I do this with an 'If Statement'?</p>\n<p>I tried:</p>\n<pre><code>if (args[0] == null)\n\n//And\n\nif (args[0] == '')\n</code></pre>\n<p>And still got an Exception. What is &quot;args[0]&quot; equal to if no arguments are passed?</p>\n<p>....................</p>\n"},{"tags":["java","html","spring","web","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":2157242,"reputation":15454,"user_id":1912167,"accept_rate":80,"display_name":"Tom Verelst"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1394358360,"creation_date":1394268831,"answer_id":22267220,"question_id":22266775,"body_markdown":"You can use the index of the iteration status:    \r\n    \r\n    &lt;tr th:each=&quot;item,iterator : ${items}&quot;&gt;\r\n        &lt;td th:text=&quot;${iterator.index}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;","title":"add a serial number while performing iteration in thymeleaf","body":"<p>You can use the index of the iteration status:    </p>\n\n<pre><code>&lt;tr th:each=\"item,iterator : ${items}\"&gt;\n    &lt;td th:text=\"${iterator.index}\"&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8195918,"reputation":119,"user_id":6168777,"display_name":"Tony Banks"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688841544,"creation_date":1578648754,"answer_id":59678878,"question_id":22266775,"body_markdown":"You can use the iterationStatus to begin with 1 instead of 0.\r\n \r\n     &lt;tr th:each=&quot;item,iterationStatus : ${items}&quot;&gt;\r\n        &lt;td th:text=${iterationStatus.count}&gt;&lt;/td&gt;\r\n     &lt;/tr&gt;\r\n    \r\nThis gives the table Sno. Starting with 1.\r\nYou may visit https://www.ansiboug.com/2023/07/add-serial-number-while-performing.html for more details.","title":"add a serial number while performing iteration in thymeleaf","body":"<p>You can use the iterationStatus to begin with 1 instead of 0.</p>\n<pre><code> &lt;tr th:each=&quot;item,iterationStatus : ${items}&quot;&gt;\n    &lt;td th:text=${iterationStatus.count}&gt;&lt;/td&gt;\n &lt;/tr&gt;\n</code></pre>\n<p>This gives the table Sno. Starting with 1.\nYou may visit <a href=\"https://www.ansiboug.com/2023/07/add-serial-number-while-performing.html\" rel=\"nofollow noreferrer\">https://www.ansiboug.com/2023/07/add-serial-number-while-performing.html</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":7822670,"reputation":1609,"user_id":5915318,"display_name":"David Kariuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650363696,"creation_date":1650363696,"answer_id":71923364,"question_id":22266775,"body_markdown":"To get the index:\r\n\r\n    &lt;tr th:each=&quot;item: ${items}&quot;&gt;\r\n        &lt;td th:text=&quot;${iterator.indexOf(item)}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n\r\nTo get a numbering increment index by one.\r\n\r\n     &lt;tr th:each=&quot;item: ${items}&quot;&gt;\r\n        &lt;td th:text=&quot;${iterator.indexOf(item) + 1}&quot;&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;","title":"add a serial number while performing iteration in thymeleaf","body":"<p>To get the index:</p>\n<pre><code>&lt;tr th:each=&quot;item: ${items}&quot;&gt;\n    &lt;td th:text=&quot;${iterator.indexOf(item)}&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n<p>To get a numbering increment index by one.</p>\n<pre><code> &lt;tr th:each=&quot;item: ${items}&quot;&gt;\n    &lt;td th:text=&quot;${iterator.indexOf(item) + 1}&quot;&gt;&lt;/td&gt;\n&lt;/tr&gt;\n</code></pre>\n"}],"owner":{"account_id":2375333,"reputation":1612,"user_id":2078883,"accept_rate":28,"display_name":"Deepak Ramakrishnan Kalidass"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3710,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1688841544,"creation_date":1394265870,"question_id":22266775,"body_markdown":"I have a senario in which i must perform iteration on a list and display result as a grid.Also include serial number in it. Now what I did for serial number is given below\r\n\r\n    &lt;div th:with=&quot;i=0&quot;&gt;\r\n     &lt;tr th:each=&quot;mydate:${data.Listdata}&quot; &gt;\r\n      &lt;div th:with=&quot;i=${i+1}&quot;&gt;\r\n       &lt;td th:text=&quot;${i}&quot;&gt;\r\n      &lt;/div&gt;\r\n        //other codes\r\n     &lt;/tr&gt;\r\n    &lt;/div&gt;\r\n\r\nbut only 1 appears in all serial number.Can anyone help me with this?\r\n\r\n","title":"add a serial number while performing iteration in thymeleaf","body":"<p>I have a senario in which i must perform iteration on a list and display result as a grid.Also include serial number in it. Now what I did for serial number is given below</p>\n\n<pre><code>&lt;div th:with=\"i=0\"&gt;\n &lt;tr th:each=\"mydate:${data.Listdata}\" &gt;\n  &lt;div th:with=\"i=${i+1}\"&gt;\n   &lt;td th:text=\"${i}\"&gt;\n  &lt;/div&gt;\n    //other codes\n &lt;/tr&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>but only 1 appears in all serial number.Can anyone help me with this?</p>\n"},{"tags":["java"],"owner":{"account_id":3368514,"reputation":11,"user_id":2828414,"display_name":"bhups"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688840868,"creation_date":1688840868,"question_id":76644396,"body_markdown":"I am interested in using Apple sandbox users for my automation, and I want to bypass the UI and execute the automation using the APIs. I have found the APIs to list users, modify users, and clear purchase history, but I am not sure if there is a way to create and delete users programmatically. https://developer.apple.com/documentation/appstoreconnectapi/sandbox_testers\r\nCurrently, our app calls Apple to get the payment receipt, and then our internal workflows are triggered based on the response received from Apple. Is there a way to bypass UI and achieve the same thing using the backend APIs for sandbox user accounts?\r\nI also need some clarification on how to generate the JWT token for authorization purposes. Do I need to regenerate the JWT token every 30 days?\r\nThank you for your time and consideration.\r\n\r\nI work for Amazon and went through internal documentation, Apple documentation and also had several discussion with my teammates who worked on implementing the features. ","title":"Automate Apple in-app purchase/subscription using backend APIs","body":"<p>I am interested in using Apple sandbox users for my automation, and I want to bypass the UI and execute the automation using the APIs. I have found the APIs to list users, modify users, and clear purchase history, but I am not sure if there is a way to create and delete users programmatically. <a href=\"https://developer.apple.com/documentation/appstoreconnectapi/sandbox_testers\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/appstoreconnectapi/sandbox_testers</a>\nCurrently, our app calls Apple to get the payment receipt, and then our internal workflows are triggered based on the response received from Apple. Is there a way to bypass UI and achieve the same thing using the backend APIs for sandbox user accounts?\nI also need some clarification on how to generate the JWT token for authorization purposes. Do I need to regenerate the JWT token every 30 days?\nThank you for your time and consideration.</p>\n<p>I work for Amazon and went through internal documentation, Apple documentation and also had several discussion with my teammates who worked on implementing the features.</p>\n"},{"tags":["java","spring","shell","spring-shell"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1688841706,"post_id":76644366,"comment_id":135129339,"body_markdown":"In my opinion, the problem is with the command-line parsing. What is the code for parsing the command-line?","body":"In my opinion, the problem is with the command-line parsing. What is the code for parsing the command-line?"},{"owner":{"account_id":1300809,"reputation":56617,"user_id":1250772,"accept_rate":45,"display_name":"Kaz"},"score":1,"creation_date":1688850388,"post_id":76644366,"comment_id":135130191,"body_markdown":"What happens if you try `calc -- &quot;-V * V&quot;`? `--` is a common convention (established by POSIX) which says `--` is the last option argument; all arguments which follow are non-option arguments. Whatever argument parser you are using might support that.","body":"What happens if you try <code>calc -- &quot;-V * V&quot;</code>? <code>--</code> is a common convention (established by POSIX) which says <code>--</code> is the last option argument; all arguments which follow are non-option arguments. Whatever argument parser you are using might support that."},{"owner":{"account_id":19690422,"reputation":43,"user_id":14415494,"display_name":"Mikhail Krasikov"},"score":0,"creation_date":1688887019,"post_id":76644366,"comment_id":135132355,"body_markdown":"@DevilsHnd no, this is definitely not the problem, since according to the debug, the program does not even reach the entry point to the program via `@ShellMethod(value = &quot;Calculate a numeral expression.&quot;, key = &quot;calc&quot;)`","body":"@DevilsHnd no, this is definitely not the problem, since according to the debug, the program does not even reach the entry point to the program via <code>@ShellMethod(value = &quot;Calculate a numeral expression.&quot;, key = &quot;calc&quot;)</code>"},{"owner":{"account_id":19690422,"reputation":43,"user_id":14415494,"display_name":"Mikhail Krasikov"},"score":0,"creation_date":1688887272,"post_id":76644366,"comment_id":135132376,"body_markdown":"@Kaz, it works after this, thanks! I think it&#39;s better than nothing in my case. Any other suggestions?","body":"@Kaz, it works after this, thanks! I think it&#39;s better than nothing in my case. Any other suggestions?"},{"owner":{"account_id":1300809,"reputation":56617,"user_id":1250772,"accept_rate":45,"display_name":"Kaz"},"score":1,"creation_date":1688888126,"post_id":76644366,"comment_id":135132437,"body_markdown":"@MikhailKrasikov The other suggestion would be not to worry about it.  The minus signs are incorrect input. The only issue is that you don&#39;t have a perfectly consistent diagonstic for an incorrect input case. This is something that can be &quot;documented away&quot;.  The program does its best to diagnose the non-existence of the unary minus, except when command line option processing sees it first. It matters most to new users who are experimenting rather than reading documentation. Users who know that there is no minus don&#39;t benefit from perfect diagnosis any more.","body":"@MikhailKrasikov The other suggestion would be not to worry about it.  The minus signs are incorrect input. The only issue is that you don&#39;t have a perfectly consistent diagonstic for an incorrect input case. This is something that can be &quot;documented away&quot;.  The program does its best to diagnose the non-existence of the unary minus, except when command line option processing sees it first. It matters most to new users who are experimenting rather than reading documentation. Users who know that there is no minus don&#39;t benefit from perfect diagnosis any more."},{"owner":{"account_id":19690422,"reputation":43,"user_id":14415494,"display_name":"Mikhail Krasikov"},"score":0,"creation_date":1688888927,"post_id":76644366,"comment_id":135132522,"body_markdown":"@Kaz, that&#39;s true, thanks!","body":"@Kaz, that&#39;s true, thanks!"}],"owner":{"account_id":19690422,"reputation":43,"user_id":14415494,"display_name":"Mikhail Krasikov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688840515,"creation_date":1688840515,"question_id":76644366,"body_markdown":"I&#39;m creating a console calculator-application of Roman numbers, as a practice, and using Java, Spring Shell 3.1.2. Right now it works correctly with Roman numbers like:\r\n\r\n```\r\ncalc &quot;V + V&quot;\r\nresult: X\r\n```\r\n\r\n```\r\ncalc &quot;V * V&quot;\r\nresult: XXV\r\n```\r\n\r\nSince Roman numbers have no such thing as negative values, I would like to show the user a notification about this if he tries to enter a command:\r\n\r\n```\r\ncalc &quot;-V * V&quot;\r\nresult: Roman numerals must be positive.\r\n```\r\n\r\nI&#39;ve already created all the necessary logic in the code, through parsing and exceptions.\r\nHowever, I faced with another problem when checking how it works. I&#39;m trying to write something like to the console myself, and **the problem is**:\r\n\r\n```\r\ncalc &quot;-V * V&quot;\r\nresult: \r\n2001E:(pos 0): Unrecognised option &#39;-V * V&#39;\r\n2000E:(pos 0): Missing mandatory option, longnames=&#39;expression&#39;, shortnames=&#39;&#39;\r\n```\r\n\r\nI&#39;ve tried various input options in the console, such as using the characters `&#39;-V*V&#39;` instead of `&#39;-V*V&#39;`, missing characters and all that, but it doesn&#39;t help. The only thing that changes the situation at least a little is a similar input option: `calc &quot;V * -V&quot;`\r\n\r\nCan you recommend me something? Is it possible somehow to turn-off flags option in the Spring Shell application?","title":"Is there any way to disable denoting command-line options or flags, in Spring Shell when using the &#39;-&#39; character?","body":"<p>I'm creating a console calculator-application of Roman numbers, as a practice, and using Java, Spring Shell 3.1.2. Right now it works correctly with Roman numbers like:</p>\n<pre><code>calc &quot;V + V&quot;\nresult: X\n</code></pre>\n<pre><code>calc &quot;V * V&quot;\nresult: XXV\n</code></pre>\n<p>Since Roman numbers have no such thing as negative values, I would like to show the user a notification about this if he tries to enter a command:</p>\n<pre><code>calc &quot;-V * V&quot;\nresult: Roman numerals must be positive.\n</code></pre>\n<p>I've already created all the necessary logic in the code, through parsing and exceptions.\nHowever, I faced with another problem when checking how it works. I'm trying to write something like to the console myself, and <strong>the problem is</strong>:</p>\n<pre><code>calc &quot;-V * V&quot;\nresult: \n2001E:(pos 0): Unrecognised option '-V * V'\n2000E:(pos 0): Missing mandatory option, longnames='expression', shortnames=''\n</code></pre>\n<p>I've tried various input options in the console, such as using the characters <code>'-V*V'</code> instead of <code>'-V*V'</code>, missing characters and all that, but it doesn't help. The only thing that changes the situation at least a little is a similar input option: <code>calc &quot;V * -V&quot;</code></p>\n<p>Can you recommend me something? Is it possible somehow to turn-off flags option in the Spring Shell application?</p>\n"},{"tags":["java","jar","executable-jar"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688837180,"post_id":76644109,"comment_id":135128859,"body_markdown":"Address your resources as `/res/foo...`","body":"Address your resources as <code>&#47;res&#47;foo...</code>"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688839420,"creation_date":1688839420,"answer_id":76644309,"question_id":76644109,"body_markdown":"Resource names are case sensitive. The resource is called `res/pauseButtons.png` with a `p`, but you try to load it as `res/PauseButtons.png` with a `P`.","title":".jar file won&#39;t load resources in properly","body":"<p>Resource names are case sensitive. The resource is called <code>res/pauseButtons.png</code> with a <code>p</code>, but you try to load it as <code>res/PauseButtons.png</code> with a <code>P</code>.</p>\n"}],"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76644309,"answer_count":1,"score":-1,"last_activity_date":1688839420,"creation_date":1688836505,"question_id":76644109,"body_markdown":"I made a simple little java game that uses many .png files. I exported my game as a .jar file using VSCode. I try to load up my .jar file and the menu screen works fine but when I click play I get an error indicating my pauseOverlay is not being loaded properly \r\n\r\nException in thread &quot;Thread-0&quot; java.lang.IllegalArgumentException: input == null!\r\n\tat java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1356)\r\n\r\nThis is weird because everything else seems to work fine. Also, when I run my code in my IDE it all works fine. \r\nThe specific line in question that is not loading properly is line 43 in the PauseOverlay class.\r\n\r\nTo be honest, I am very lost and don&#39;t know where to start to fix this issue so that my program can properly run as a .jar file. Here is the code on github: https://github.com/stefancohn/DuckWorld","title":".jar file won&#39;t load resources in properly","body":"<p>I made a simple little java game that uses many .png files. I exported my game as a .jar file using VSCode. I try to load up my .jar file and the menu screen works fine but when I click play I get an error indicating my pauseOverlay is not being loaded properly</p>\n<p>Exception in thread &quot;Thread-0&quot; java.lang.IllegalArgumentException: input == null!\nat java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1356)</p>\n<p>This is weird because everything else seems to work fine. Also, when I run my code in my IDE it all works fine.\nThe specific line in question that is not loading properly is line 43 in the PauseOverlay class.</p>\n<p>To be honest, I am very lost and don't know where to start to fix this issue so that my program can properly run as a .jar file. Here is the code on github: <a href=\"https://github.com/stefancohn/DuckWorld\" rel=\"nofollow noreferrer\">https://github.com/stefancohn/DuckWorld</a></p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23411499,"reputation":48,"user_id":17473106,"display_name":"sudhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688839337,"creation_date":1688839337,"answer_id":76644307,"question_id":76643503,"body_markdown":"A few things - \r\n\r\n1. Instead of using your `EsLetra` method, you should consider using `Character.isLetter()` to check if a character is a letter.\r\n\r\n2. This will also allow you to use `kbd.next()` instead of `kbd.nextLine()` to take in a `char` instead of a `String`.\r\n\r\n3. Finally, I think your problem isn&#39;t in the inner `while` condition, it&#39;s in the do-while loop. As far as I can see, that runs infinitely because neither `intentos` nor `word` change, so there is no terminating condition.","title":"Asking for a new String with a while loop","body":"<p>A few things -</p>\n<ol>\n<li><p>Instead of using your <code>EsLetra</code> method, you should consider using <code>Character.isLetter()</code> to check if a character is a letter.</p>\n</li>\n<li><p>This will also allow you to use <code>kbd.next()</code> instead of <code>kbd.nextLine()</code> to take in a <code>char</code> instead of a <code>String</code>.</p>\n</li>\n<li><p>Finally, I think your problem isn't in the inner <code>while</code> condition, it's in the do-while loop. As far as I can see, that runs infinitely because neither <code>intentos</code> nor <code>word</code> change, so there is no terminating condition.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":27991778,"reputation":35,"user_id":21377483,"display_name":"CDAMXI"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76644307,"answer_count":1,"score":0,"last_activity_date":1688839337,"creation_date":1688827766,"question_id":76643503,"body_markdown":"I&#39;m trying to create a game in Java where there are two players. The first player thinks of a word and tells the program how many characters are there in the word they thought and the second player must guess the letters so they can find out what the word was.\r\n\r\nBut if the second player puts something that&#39;s not a letter, the program should ask for another letter, but even if the player puts a letter, it will always ask for a new letter no matter what.\r\n\r\n\r\nHere&#39;s what I&#39;ve done so far\r\n\r\nNOTE: The game is not fully ready yet\r\nFYI: I&#39;m relatively new to programming\r\n\r\n```\r\nstatic Scanner kbd = new Scanner(System.in);\r\n    public static void main(String[] args){\r\n        int intentos = 25;\r\n        System.out.println(&quot;N&#250;mero de inentos: &quot; + intentos);\r\n        System.out.print(&quot;N&#250;mero de caracteres: &quot;);\r\n        int length = kbd.nextInt();\r\n        kbd.nextLine();\r\n        \r\n        while(length &lt;= 0){\r\n            System.out.println(&quot;N&#250;mero de caracteres no valido, por favor introduzca otro.&quot;);\r\n            System.out.print(&quot;N&#250;mero de caracteres: &quot;);\r\n            length = kbd.nextInt();\r\n        }\r\n        \r\n        String word = WordConEspaciosVacios(length);\r\n        System.out.println(&quot;Palabra: &quot;+ word);\r\n        \r\n        do{\r\n            System.out.print(&quot;Letra deseada: &quot;);\r\n            String letra = kbd.nextLine();\r\n            \r\n            while(!EsLetra(letra)){ //Problem is here\r\n                System.out.print(&quot;Letra deseada: &quot;);\r\n                letra = kbd.nextLine();\r\n                kbd.nextLine();\r\n            }\r\n        } while(HayHuecos(word) &amp;&amp; intentos != 0);\r\n    }\r\n    \r\n    private static String WordConEspaciosVacios(int n){\r\n        String word = &quot;&quot;;\r\n        \r\n        for(int i = 0; i &lt; n; i++){\r\n            word = word+&quot;_&quot;;\r\n        }\r\n        \r\n        return word;\r\n    }\r\n    \r\n    private static boolean HayHuecos(String word){\r\n        boolean HayHuecos = false;\r\n        char First;\r\n        for(int i = 0; i &lt; word.length() &amp;&amp; !HayHuecos; i++){\r\n            First = word.charAt(i);\r\n            if(First == &#39;_&#39;){HayHuecos = true;}\r\n        }\r\n        \r\n        return HayHuecos;\r\n    }\r\n    \r\n    public static boolean EsLetra(String letra){\r\n        String abc = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\r\n        boolean EsLetra = false;\r\n        letra = letra.toLowerCase();\r\n        \r\n        if(letra.length() == 1){\r\n            for(int i = 0; i &lt; abc.length() &amp;&amp; !EsLetra; i++){\r\n                if(abc.charAt(i) == letra.charAt(0)){EsLetra = true;}\r\n            }\r\n        }\r\n        \r\n        return EsLetra;\r\n    }\r\n```\r\n","title":"Asking for a new String with a while loop","body":"<p>I'm trying to create a game in Java where there are two players. The first player thinks of a word and tells the program how many characters are there in the word they thought and the second player must guess the letters so they can find out what the word was.</p>\n<p>But if the second player puts something that's not a letter, the program should ask for another letter, but even if the player puts a letter, it will always ask for a new letter no matter what.</p>\n<p>Here's what I've done so far</p>\n<p>NOTE: The game is not fully ready yet\nFYI: I'm relatively new to programming</p>\n<pre><code>static Scanner kbd = new Scanner(System.in);\n    public static void main(String[] args){\n        int intentos = 25;\n        System.out.println(&quot;Número de inentos: &quot; + intentos);\n        System.out.print(&quot;Número de caracteres: &quot;);\n        int length = kbd.nextInt();\n        kbd.nextLine();\n        \n        while(length &lt;= 0){\n            System.out.println(&quot;Número de caracteres no valido, por favor introduzca otro.&quot;);\n            System.out.print(&quot;Número de caracteres: &quot;);\n            length = kbd.nextInt();\n        }\n        \n        String word = WordConEspaciosVacios(length);\n        System.out.println(&quot;Palabra: &quot;+ word);\n        \n        do{\n            System.out.print(&quot;Letra deseada: &quot;);\n            String letra = kbd.nextLine();\n            \n            while(!EsLetra(letra)){ //Problem is here\n                System.out.print(&quot;Letra deseada: &quot;);\n                letra = kbd.nextLine();\n                kbd.nextLine();\n            }\n        } while(HayHuecos(word) &amp;&amp; intentos != 0);\n    }\n    \n    private static String WordConEspaciosVacios(int n){\n        String word = &quot;&quot;;\n        \n        for(int i = 0; i &lt; n; i++){\n            word = word+&quot;_&quot;;\n        }\n        \n        return word;\n    }\n    \n    private static boolean HayHuecos(String word){\n        boolean HayHuecos = false;\n        char First;\n        for(int i = 0; i &lt; word.length() &amp;&amp; !HayHuecos; i++){\n            First = word.charAt(i);\n            if(First == '_'){HayHuecos = true;}\n        }\n        \n        return HayHuecos;\n    }\n    \n    public static boolean EsLetra(String letra){\n        String abc = &quot;abcdefghijklmnopqrstuvwxyz&quot;;\n        boolean EsLetra = false;\n        letra = letra.toLowerCase();\n        \n        if(letra.length() == 1){\n            for(int i = 0; i &lt; abc.length() &amp;&amp; !EsLetra; i++){\n                if(abc.charAt(i) == letra.charAt(0)){EsLetra = true;}\n            }\n        }\n        \n        return EsLetra;\n    }\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688820229,"post_id":76642989,"comment_id":135126936,"body_markdown":"[Set the renderer](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComboBox.html#setRenderer(javax.swing.ListCellRenderer)) to show whatever you&#39;d like to see","body":"<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComboBox.html#setRenderer(javax.swing.ListCellRenderer)\" rel=\"nofollow noreferrer\">Set the renderer</a> to show whatever you&#39;d like to see"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1688823812,"post_id":76642989,"comment_id":135127384,"body_markdown":"Code for in the **getProgramingByName()** method: `String val = null, v; for (int i = 0; i &lt; cb.getItemCount(); i++) { v = cb.getItemAt(i); if (text.toLowerCase().contains(v.toLowerCase())) { val = v; break; } } return val;`.","body":"Code for in the <b>getProgramingByName()</b> method: <code>String val = null, v; for (int i = 0; i &lt; cb.getItemCount(); i++) { v = cb.getItemAt(i); if (text.toLowerCase().contains(v.toLowerCase())) { val = v; break; } } return val;</code>."},{"owner":{"account_id":28169604,"reputation":3,"user_id":21528347,"display_name":"user21528347"},"score":0,"creation_date":1688837904,"post_id":76642989,"comment_id":135128914,"body_markdown":"@g00se http://www.java2s.com/Tutorials/Java/Swing_How_to/JComboBox/Create_custom_JComboBox_Renderer.htm checked this example but no luck. it would be great you can provide  me some example reference.","body":"@g00se <a href=\"http://www.java2s.com/Tutorials/Java/Swing_How_to/JComboBox/Create_custom_JComboBox_Renderer.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorials/Java/Swing_How_to/JComboBox/&hellip;</a> checked this example but no luck. it would be great you can provide  me some example reference."}],"owner":{"account_id":28169604,"reputation":3,"user_id":21528347,"display_name":"user21528347"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688839185,"creation_date":1688819815,"question_id":76642989,"body_markdown":"Need to set text which is other than what we have in String[] in combo box. In need to provide read-only view where need to show the earlier selected text from combo box and which was saved in database. Now i need to read those (getProgramingByName(String)) and show it Jcombox box. \r\n\r\nBut I can see we can only set text which present in String[]. \r\ncb.setSelectedItem(lang), where lang should be part of languages. Here reason of setting text other than what we have in String[] may be source of String[] is now changed also UI is only read only purpose.\r\n\r\ncode : \r\n\r\n      public class ComboxBoxDemo implements ActionListener {\r\n\r\n\tJFrame f;\r\n\tJLabel label;\r\n\tJTextField txtField;\r\n\tJButton loadBtn;\r\n\tJComboBox cb;\r\n\r\n\tComboxBoxDemo() {\r\n\t\tString languages[] = { &quot;C&quot;, &quot;C++&quot;, &quot;C#&quot;, &quot;Java&quot;, &quot;PHP&quot; };\r\n\t\tf = new JFrame(&quot;ComboBox Example&quot;);\r\n\r\n\t\ttxtField = new JTextField(20);\r\n\t\tcb = new JComboBox(languages);\r\n\t\tloadBtn = new JButton(&quot;Load&quot;);\r\n\t\tloadBtn.addActionListener(this);\r\n\r\n\t\tf.add(txtField);\r\n\t\tf.add(cb);\r\n\t\tf.add(loadBtn);\r\n\t\tf.setLayout(new FlowLayout());\r\n\t\tf.setSize(350, 350);\r\n\t\tf.setVisible(true);\r\n\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tnew ComboxBoxDemo();\r\n\t}\r\n\r\n\tpublic static String getProgramingByName(String text) {\r\n\t\t// have the logic to get saved info\r\n\t\treturn &quot;Java1&quot;; // other than what we have in String[]\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void actionPerformed(ActionEvent e) {\r\n\t\tif (loadBtn == e.getSource()) {\r\n\t\t\tString text = txtField.getText();\r\n\t\t\tif (text != null) {\r\n\t\t\t\tString lang = getProgramingByName(text);\r\n\t\t\t\tcb.setSelectedItem(lang);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nEDITS:\r\n\r\n    cb.setRenderer(new ItemRenderer());\r\n    \r\n    class ItemRenderer extends BasicComboBoxRenderer {\r\n    \tpublic Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected,\r\n    \t\t\tboolean cellHasFocus) {\r\n    \t\tsuper.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n    \r\n    \t\tSystem.out.println( &quot;\\n Index :&quot;+index + &quot; Value :&quot;+value);\r\n    \t\r\n    \t\tString items = (String) value;\r\n    \r\n    \t\tif (index == -1) {\r\n    \t\t\tsetText(ComboxBoxDemo.getProgramingByName(&quot;test&quot;));\r\n    \t\t} else {\r\n    \t\t\tsetText(items);\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n    }\r\n\r\nAfter adding above when UI open&#39;s i can see Java1 is visible but when i select any item like C#, C etc it still show Java1 in combo box. \r\nUI :\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mb83J.png","title":"Need to set text other than what we have in String[] in jcombobox","body":"<p>Need to set text which is other than what we have in String[] in combo box. In need to provide read-only view where need to show the earlier selected text from combo box and which was saved in database. Now i need to read those (getProgramingByName(String)) and show it Jcombox box.</p>\n<p>But I can see we can only set text which present in String[].\ncb.setSelectedItem(lang), where lang should be part of languages. Here reason of setting text other than what we have in String[] may be source of String[] is now changed also UI is only read only purpose.</p>\n<p>code :</p>\n<pre><code>  public class ComboxBoxDemo implements ActionListener {\n\nJFrame f;\nJLabel label;\nJTextField txtField;\nJButton loadBtn;\nJComboBox cb;\n\nComboxBoxDemo() {\n    String languages[] = { &quot;C&quot;, &quot;C++&quot;, &quot;C#&quot;, &quot;Java&quot;, &quot;PHP&quot; };\n    f = new JFrame(&quot;ComboBox Example&quot;);\n\n    txtField = new JTextField(20);\n    cb = new JComboBox(languages);\n    loadBtn = new JButton(&quot;Load&quot;);\n    loadBtn.addActionListener(this);\n\n    f.add(txtField);\n    f.add(cb);\n    f.add(loadBtn);\n    f.setLayout(new FlowLayout());\n    f.setSize(350, 350);\n    f.setVisible(true);\n\n}\n\npublic static void main(String[] args) {\n    new ComboxBoxDemo();\n}\n\npublic static String getProgramingByName(String text) {\n    // have the logic to get saved info\n    return &quot;Java1&quot;; // other than what we have in String[]\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    if (loadBtn == e.getSource()) {\n        String text = txtField.getText();\n        if (text != null) {\n            String lang = getProgramingByName(text);\n            cb.setSelectedItem(lang);\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>EDITS:</p>\n<pre><code>cb.setRenderer(new ItemRenderer());\n\nclass ItemRenderer extends BasicComboBoxRenderer {\n    public Component getListCellRendererComponent(JList list, Object value, int index, boolean isSelected,\n            boolean cellHasFocus) {\n        super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n\n        System.out.println( &quot;\\n Index :&quot;+index + &quot; Value :&quot;+value);\n    \n        String items = (String) value;\n\n        if (index == -1) {\n            setText(ComboxBoxDemo.getProgramingByName(&quot;test&quot;));\n        } else {\n            setText(items);\n        }\n        return this;\n    }\n}\n</code></pre>\n<p>After adding above when UI open's i can see Java1 is visible but when i select any item like C#, C etc it still show Java1 in combo box.\nUI :\n<a href=\"https://i.stack.imgur.com/Mb83J.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3550987,"reputation":4313,"user_id":2965883,"accept_rate":79,"display_name":"ares"},"score":0,"creation_date":1410353555,"post_id":25765935,"comment_id":40292476,"body_markdown":"This link can help [Verify Java](https://www.java.com/en/download/installed.jsp)","body":"This link can help <a href=\"https://www.java.com/en/download/installed.jsp\" rel=\"nofollow noreferrer\">Verify Java</a>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1410353618,"post_id":25765935,"comment_id":40292510,"body_markdown":"Use `java -version` instead of `javac -version`.","body":"Use <code>java -version</code> instead of <code>javac -version</code>."},{"owner":{"account_id":217879,"reputation":307,"user_id":473904,"display_name":"Valentino Dell&#39;Aica"},"score":0,"creation_date":1410353703,"post_id":25765935,"comment_id":40292564,"body_markdown":"On windows, java has an automatic updater, so why bother?\nFor other OS, the package manager has the same function, so why bother too?","body":"On windows, java has an automatic updater, so why bother? For other OS, the package manager has the same function, so why bother too?"},{"owner":{"account_id":4172428,"reputation":2097,"user_id":3419894,"display_name":"JonK"},"score":0,"creation_date":1410353850,"post_id":25765935,"comment_id":40292672,"body_markdown":"@ValentinoDell&#39;Aica Because I would imagine the majority of developers wouldn&#39;t want their JDK upgraded mid-project. That would cause no end of trouble. Upgrading core libraries has to be a conscious decision, not something that just happens automatically as and when a new version of the library comes out.","body":"@ValentinoDell&#39;Aica Because I would imagine the majority of developers wouldn&#39;t want their JDK upgraded mid-project. That would cause no end of trouble. Upgrading core libraries has to be a conscious decision, not something that just happens automatically as and when a new version of the library comes out."},{"owner":{"account_id":217879,"reputation":307,"user_id":473904,"display_name":"Valentino Dell&#39;Aica"},"score":0,"creation_date":1414753236,"post_id":25765935,"comment_id":41945977,"body_markdown":"@JonK you&#39;re right. But if you only upgrade the minor version of JDK (no other user libraries) the Api is consistent","body":"@JonK you&#39;re right. But if you only upgrade the minor version of JDK (no other user libraries) the Api is consistent"},{"owner":{"account_id":4172428,"reputation":2097,"user_id":3419894,"display_name":"JonK"},"score":0,"creation_date":1414753736,"post_id":25765935,"comment_id":41946258,"body_markdown":"@ValentinoDell&#39;Aica The API may be consistent but the minor version may also introduce new bugs into operations that you previously relied up - it still means you have to expend significant effort regression testing to make sure that everything still works the way it should.","body":"@ValentinoDell&#39;Aica The API may be consistent but the minor version may also introduce new bugs into operations that you previously relied up - it still means you have to expend significant effort regression testing to make sure that everything still works the way it should."},{"owner":{"account_id":217879,"reputation":307,"user_id":473904,"display_name":"Valentino Dell&#39;Aica"},"score":0,"creation_date":1414767300,"post_id":25765935,"comment_id":41953983,"body_markdown":"@JonK By my experience, it&#39;s difficult to find the same runtime both in developer machine(s) and customer enviroments, so your code should work without relying on a particular implementation. Btw since they are API we should rely on the fact that with same input we get the same output, just for a matter of consistency, else we would need to work in EXACT copy of customer machine, which he/she never update so we are sure of the application behavior. But in the end this will nullify the benefit of working with a high level, VM based language","body":"@JonK By my experience, it&#39;s difficult to find the same runtime both in developer machine(s) and customer enviroments, so your code should work without relying on a particular implementation. Btw since they are API we should rely on the fact that with same input we get the same output, just for a matter of consistency, else we would need to work in EXACT copy of customer machine, which he/she never update so we are sure of the application behavior. But in the end this will nullify the benefit of working with a high level, VM based language"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1410353559,"creation_date":1410353559,"answer_id":25765967,"question_id":25765935,"body_markdown":"You can use the command line option `-fullversion`,\r\n\r\n    java -fullversion\r\n\r\nor (as other&#39;s have noted),\r\n\r\n    java -version\r\n\r\nor you could use some code\r\n\r\n\tString version = System.getProperty(&quot;java.version&quot;);\r\n\tSystem.out.println(version);","title":"FInd Java JDK update version and update","body":"<p>You can use the command line option <code>-fullversion</code>,</p>\n\n<pre><code>java -fullversion\n</code></pre>\n\n<p>or (as other's have noted),</p>\n\n<pre><code>java -version\n</code></pre>\n\n<p>or you could use some code</p>\n\n<pre><code>String version = System.getProperty(\"java.version\");\nSystem.out.println(version);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2794770,"reputation":4406,"user_id":2404181,"display_name":"Michael Kazarian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415348735,"creation_date":1410353930,"answer_id":25766088,"question_id":25765935,"body_markdown":"&gt;Is there a way to update vs re-install java?\r\n\r\nIf you use Windows java can check for updates. If you use Linux you can get updates automatically in depend from settings of package manager. More detailed answer depends from your OS.","title":"FInd Java JDK update version and update","body":"<blockquote>\n  <p>Is there a way to update vs re-install java?</p>\n</blockquote>\n\n<p>If you use Windows java can check for updates. If you use Linux you can get updates automatically in depend from settings of package manager. More detailed answer depends from your OS.</p>\n"}],"owner":{"account_id":1011513,"reputation":151,"user_id":1023993,"accept_rate":76,"display_name":"user1023993"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1688838978,"creation_date":1410353435,"question_id":25765935,"body_markdown":"how do you determine the update package of your jdk? when i run\r\n\r\n&gt; javac -version\r\n\r\nI get the following `1.7.0`\r\n\r\ndoes this mean there have been no updates applied?\r\n\r\nshould running the update from the java icon in the tray or from control panel update the jDK as well as the JRE or just the JRE\r\n\r\nIs there a way to update vs re-install java?","title":"FInd Java JDK update version and update","body":"<p>how do you determine the update package of your jdk? when i run</p>\n\n<blockquote>\n  <p>javac -version</p>\n</blockquote>\n\n<p>I get the following <code>1.7.0</code></p>\n\n<p>does this mean there have been no updates applied?</p>\n\n<p>should running the update from the java icon in the tray or from control panel update the jDK as well as the JRE or just the JRE</p>\n\n<p>Is there a way to update vs re-install java?</p>\n"},{"tags":["java","qr-code","zxing","binary-data"],"answers":[{"tags":[],"owner":{"account_id":6179811,"reputation":348,"user_id":7206367,"display_name":"Yurelle"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1688838295,"creation_date":1605254049,"answer_id":64817275,"question_id":64817274,"body_markdown":"**Update - Apr. 24, 2023:**\r\nI Just rewrote my Base45 Library to be compliant with RFC-9285 Base45 Standard, and it is no longer dependent upon ZXing. The code in this answer is old; the repo uses a more efficient algorithm, which results in much simpler code, and it improved the storage efficiency loss down to only 3% behind raw binary.\r\n\r\nSee: v2.1.0\r\nhttps://github.com/yurelle/Base45Encoder\r\n\r\n----\r\n\r\n**Update - Nov. 13, 2021:**\r\nI recently went back and published the referenced code as a project on GitHub for anyone who wants to use it.\r\nhttps://github.com/yurelle/Base45Encoder\r\n\r\n----\r\n\r\nI developed a solution which only introduces a storage efficiency loss of -8%. It exploits a built-in compression optimization of the ZXING QR Code Library.\r\n\r\n**Explanation**\r\n\r\nZXING will automatically detect if your String payload is purely AlphaNumeric (by their own definition), and if so, it will automatically compress 2 AlphaNumeric characters into 11 bits. The definition ZXING uses for &quot;alphanumeric&quot; is all-caps only, 0-9, and a few special symbols (&#39;/&#39;, &#39;:&#39;, etc.). All told, their definition allows 45 possible values. Then, it packs 2 of these Base45 digits into 11 bits.\r\n\r\n2 digits in base 45 is 2,025 possible values. 11 bits has a maximum storage capacity of 2,048 possible states. This is only a loss of 1.1% in storage efficiency behind raw binary.\r\n\r\n\r\n      45 ^ 2 = 2,025\r\n      2 ^ 11 = 2,048\r\n      2,048 - 2,025 = 23\r\n      23 / 2,048 = 0.01123046875 = 1.123%\r\n\r\nHowever, this is the ideal / theoretical efficiency. My implementation processes data in chunks, using a Long as a computational buffer. However, since Java Long&#39;s are singed, we can only use the lower 7 bytes. The conversion code requires continuously positive values; using the highest 8th byte would contaminate the sign bit and randomly produce negative values.\r\n\r\n\r\nReal-World Test:\r\n\r\nUsing a 7 byte Long to encode a 2KB buffer of random bytes, we get the following results.\r\n\r\n      Raw Binary Size:        2,048\r\n      Encoded String Size:    3,218\r\n      QR Code Alphanum Size:  2,213 (after the QR Code compresses 2 base45 digits to 11 bits)\r\n\r\nThis is a real-world storage efficiency loss of only 8%.\r\n\r\n      2,213 - 2,048 = 165\r\n      165 / 2,048 = 0.08056640625 = 8.0566%\r\n\r\n\r\n\r\n**Solution**\r\n\r\nI implemented it as a self-contained static utility class, so all you have to do is call:\r\n\r\n    //Encode\r\n    final byte[] myBinaryData = ...;\r\n    final String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(myBinaryData);\r\n\r\n    //Decode\r\n    final byte[] decodedBytes = BinaryToBase45Encoder.decodeBase45QrPayload(encodedStr);\r\n\r\n\r\nAlternatively, you can also do it via InputStreams:\r\n\r\n    //Encode\r\n    final InputStream in_1 = ... ;\r\n    final String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(in_1);\r\n\r\n    //Decode\r\n    final InputStream in_2 = ... ;\r\n    final byte[] decodedBytes = BinaryToBase45Encoder.decodeBase45QrPayload(in_2);\r\n\r\n\r\nHere&#39;s the implementation\r\n\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.lang.reflect.Field;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedList;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * For some reason none of the Java QR Code libraries support binary payloads. At least, none that\r\n     * I could find anyway. The commonly suggested workaround for this is to use Base64 encoding.\r\n     * However, this results in a 33% payload size inflation. If your payload is already near the size\r\n     * limit of QR codes, this is a lot.\r\n     *\r\n     * This class implements an encoder which takes advantage of a built-in compression optimization\r\n     * of the ZXING QR Code library, to enable the storage of Binary data into a QR Code, with a\r\n     * storage efficiency loss of only -8%.\r\n     *\r\n     * The built-in optimization is this: ZXING will automatically detect if your String payload is\r\n     * purely AlphaNumeric (by their own definition), and if so, it will automatically compress 2\r\n     * AlphaNumeric characters into 11 bits.\r\n     *\r\n     *\r\n     * ----------------------\r\n     *\r\n     *\r\n     * The included ALPHANUMERIC_TABLE is the conversion table used by the ZXING library as a reverse\r\n     * index for determining if a given input data should be classified as alphanumeric.\r\n     *\r\n     * See:\r\n     *\r\n     *      com.google.zxing.qrcode.encoder.Encoder.chooseMode(String content, String encoding)\r\n     *\r\n     * which scans through the input string one character at a time and passes them to:\r\n     *\r\n     *      getAlphanumericCode(int code)\r\n     *\r\n     * in the same class, which uses that character as a numeric index into the the\r\n     * ALPHANUMERIC_TABLE.\r\n     *\r\n     * If you examine the values, you&#39;ll notice that it ignores / disqualifies certain values, and\r\n     * effectively converts the input into base 45 (0 -&gt; 44; -1 is interpreted by the calling code\r\n     * to mean a failure). This is confirmed in the function:\r\n     *\r\n     *      appendAlphanumericBytes(CharSequence content, BitArray bits)\r\n     *\r\n     * where they pack 2 of these base 45 digits into 11 bits. This presents us with an opportunity.\r\n     * If we can take our data, and convert it into a compatible base 45 alphanumeric representation,\r\n     * then the QR Encoder will automatically pack that data into sub-byte chunks.\r\n     *\r\n     * 2 digits in base 45 is 2,025 possible values. 11 bits has a maximum storage capacity of 2,048\r\n     * possible states. This is only a loss of 1.1% in storage efficiency behind raw binary.\r\n     *\r\n     *      45 ^ 2 = 2,025\r\n     *      2 ^ 11 = 2,048\r\n     *      2,048 - 2,025 = 23\r\n     *      23 / 2,048 = 0.01123046875 = 1.123%\r\n     *\r\n     * However, this is the ideal / theoretical efficiency. This implementation processes data in\r\n     * chunks, using a Long as a computational buffer. However, since Java Long&#39;s are singed, we\r\n     * can only use the lower 7 bytes. The conversion code requires continuously positive values;\r\n     * using the highest 8th byte would contaminate the sign bit and randomly produce negative\r\n     * values.\r\n     *\r\n     *\r\n     * Real-World Test:\r\n     *\r\n     * Using a 7 byte Long to encode a 2KB buffer of random bytes, we get the following results.\r\n     *\r\n     *      Raw Binary Size:        2,048\r\n     *      Encoded String Size:    3,218\r\n     *      QR Code Alphanum Size:  2,213 (after the QR Code compresses 2 base45 digits to 11 bits)\r\n     *\r\n     * This is a real-world storage efficiency loss of only 8%.\r\n     *\r\n     *      2,213 - 2,048 = 165\r\n     *      165 / 2,048 = 0.08056640625 = 8.0566%\r\n     */\r\n    public class BinaryToBase45Encoder {\r\n        public final static int[] ALPHANUMERIC_TABLE;\r\n    \r\n        /*\r\n         * You could probably just copy &amp; paste the array literal from the ZXING source code; it&#39;s only\r\n         * an array definition. But I was unsure of the licensing issues with posting it on the internet,\r\n         * so I did it this way.\r\n         */\r\n        static {\r\n            final Field SOURCE_ALPHANUMERIC_TABLE;\r\n            int[] tmp;\r\n    \r\n            //Copy lookup table from ZXING Encoder class\r\n            try {\r\n                SOURCE_ALPHANUMERIC_TABLE = com.google.zxing.qrcode.encoder.Encoder.class.getDeclaredField(&quot;ALPHANUMERIC_TABLE&quot;);\r\n                SOURCE_ALPHANUMERIC_TABLE.setAccessible(true);\r\n                tmp = (int[]) SOURCE_ALPHANUMERIC_TABLE.get(null);\r\n            } catch (NoSuchFieldException e) {\r\n                e.printStackTrace();//Shouldn&#39;t happen\r\n                tmp = null;\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();//Shouldn&#39;t happen\r\n                tmp = null;\r\n            }\r\n    \r\n            //Store\r\n            ALPHANUMERIC_TABLE = tmp;\r\n        }\r\n    \r\n        public static final int NUM_DISTINCT_ALPHANUM_VALUES = 45;\r\n        public static final char[] alphaNumReverseIndex = new char[NUM_DISTINCT_ALPHANUM_VALUES];\r\n    \r\n        static {\r\n            //Build AlphaNum Index\r\n            final int len = ALPHANUMERIC_TABLE.length;\r\n            for (int x = 0; x &lt; len; x++) {\r\n                // The base45 result which the alphanum lookup table produces.\r\n                // i.e. the base45 digit value which String characters are\r\n                // converted into.\r\n                //\r\n                // We use this value to build a reverse lookup table to find\r\n                // the String character we have to send to the encoder, to\r\n                // make it produce the given base45 digit value.\r\n                final int base45DigitValue = ALPHANUMERIC_TABLE[x];\r\n    \r\n                //Ignore the -1 records\r\n                if (base45DigitValue &gt; -1) {\r\n                    //The index into the lookup table which produces the given base45 digit value.\r\n                    //\r\n                    //i.e. to produce a base45 digit with the numeric value in base45DigitValue, we need\r\n                    //to send the Encoder a String character with the numeric value in x.\r\n                    alphaNumReverseIndex[base45DigitValue] = (char) x;\r\n                }\r\n            }\r\n        }\r\n    \r\n        /*\r\n         * The storage capacity of one digit in the number system; i.e. the maximum\r\n         * possible number of distinct values which can be stored in 1 logical digit\r\n         */\r\n        public static final int QR_PAYLOAD_NUMERIC_BASE = NUM_DISTINCT_ALPHANUM_VALUES;\r\n    \r\n        /*\r\n         * We can&#39;t use all 8 bytes, because the Long is signed, and the conversion math\r\n         * requires consistently positive values. If we populated all 8 bytes, then the\r\n         * last byte has the potential to contaminate the sign bit, and break the\r\n         * conversion math. So, we only use the lower 7 bytes, and avoid this problem.\r\n         */\r\n        public static final int LONG_USABLE_BYTES = Long.BYTES - 1;\r\n    \r\n        //The following mapping was determined by brute-forcing -1 Long (all bits 1), and compressing to base45 until it hit zero.\r\n        public static final int[] BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION = new int[] {0,2,3,5,6,8,9,11,12};\r\n        public static final int NUM_BASE45_DIGITS_PER_LONG = BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION[LONG_USABLE_BYTES];\r\n        public static final Map&lt;Integer, Integer&gt; BASE45_TO_BINARY_DIGIT_COUNT_CONVERSION = new HashMap&lt;&gt;();\r\n    \r\n        static {\r\n            //Build Reverse Lookup\r\n            int len = BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION.length;\r\n            for (int x=0; x&lt;len; x++) {\r\n                int numB45Digits = BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION[x];\r\n                BASE45_TO_BINARY_DIGIT_COUNT_CONVERSION.put(numB45Digits, x);\r\n            }\r\n        }\r\n    \r\n        public static String encodeToBase45QrPayload(final byte[] inputData) throws IOException {\r\n            return encodeToBase45QrPayload(new ByteArrayInputStream(inputData));\r\n        }\r\n    \r\n        public static String encodeToBase45QrPayload(final InputStream in) throws IOException {\r\n            //Init conversion state vars\r\n            final StringBuilder strOut = new StringBuilder();\r\n            int data;\r\n            long buf = 0;\r\n    \r\n            // Process all input data in chunks of size LONG.BYTES, this allows for economies of scale\r\n            // so we can process more digits of arbitrary size before we hit the wall of the binary\r\n            // chunk size in a power of 2, and have to transmit a sub-optimal chunk of the &quot;crumbs&quot;\r\n            // left over; i.e. the slack space between where the multiples of QR_PAYLOAD_NUMERIC_BASE\r\n            // and the powers of 2 don&#39;t quite line up.\r\n            while(in.available() &gt; 0) {\r\n                //Fill buffer\r\n                int numBytesStored = 0;\r\n                while (numBytesStored &lt; LONG_USABLE_BYTES &amp;&amp; in.available() &gt; 0) {\r\n                    //Read next byte\r\n                    data = in.read();\r\n    \r\n                    //Push byte into buffer\r\n                    buf = (buf &lt;&lt; 8) | data; //8 bits per byte\r\n    \r\n                    //Increment\r\n                    numBytesStored++;\r\n                }\r\n    \r\n                //Write out in lower base\r\n                final StringBuilder outputChunkBuffer = new StringBuilder();\r\n                final int numBase45Digits = BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION[numBytesStored];\r\n                int numB45DigitsProcessed = 0;\r\n                while(numB45DigitsProcessed &lt; numBase45Digits) {\r\n                    //Chunk out a digit\r\n                    final byte digit = (byte) (buf % QR_PAYLOAD_NUMERIC_BASE);\r\n    \r\n                    //Drop digit data from buffer\r\n                    buf = buf / QR_PAYLOAD_NUMERIC_BASE;\r\n    \r\n                    //Write Digit\r\n                    outputChunkBuffer.append(alphaNumReverseIndex[(int) digit]);\r\n    \r\n                    //Track output digits\r\n                    numB45DigitsProcessed++;\r\n                }\r\n    \r\n                /*\r\n                 * The way this code works, the processing output results in a First-In-Last-Out digit\r\n                 * reversal. So, we need to buffer the chunk output, and feed it to the OutputStream\r\n                 * backwards to correct this.\r\n                 *\r\n                 * We could probably get away with writing the bytes out in inverted order, and then\r\n                 * flipping them back on the decode side, but just to be safe, I&#39;m always keeping\r\n                 * them in the proper order.\r\n                 */\r\n                strOut.append(outputChunkBuffer.reverse().toString());\r\n            }\r\n    \r\n            //Return\r\n            return strOut.toString();\r\n        }\r\n    \r\n        public static byte[] decodeBase45QrPayload(final String inputStr) throws IOException {\r\n            //Prep for InputStream\r\n            final byte[] buf = inputStr.getBytes();//Use the default encoding (the same encoding that the &#39;char&#39; primitive uses)\r\n    \r\n            return decodeBase45QrPayload(new ByteArrayInputStream(buf));\r\n        }\r\n    \r\n        public static byte[] decodeBase45QrPayload(final InputStream in) throws IOException {\r\n            //Init conversion state vars\r\n            final ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n            int data;\r\n            long buf = 0;\r\n            int x=0;\r\n    \r\n            // Process all input data in chunks of size LONG.BYTES, this allows for economies of scale\r\n            // so we can process more digits of arbitrary size before we hit the wall of the binary\r\n            // chunk size in a power of 2, and have to transmit a sub-optimal chunk of the &quot;crumbs&quot;\r\n            // left over; i.e. the slack space between where the multiples of QR_PAYLOAD_NUMERIC_BASE\r\n            // and the powers of 2 don&#39;t quite line up.\r\n            while(in.available() &gt; 0) {\r\n                //Convert &amp; Fill Buffer\r\n                int numB45Digits = 0;\r\n                while (numB45Digits &lt; NUM_BASE45_DIGITS_PER_LONG &amp;&amp; in.available() &gt; 0) {\r\n                    //Read in next char\r\n                    char c = (char) in.read();\r\n    \r\n                    //Translate back through lookup table\r\n                    int digit = ALPHANUMERIC_TABLE[(int) c];\r\n    \r\n                    //Shift buffer up one digit to make room\r\n                    buf *= QR_PAYLOAD_NUMERIC_BASE;\r\n    \r\n                    //Append next digit\r\n                    buf += digit;\r\n    \r\n                    //Increment\r\n                    numB45Digits++;\r\n                }\r\n    \r\n                //Write out in higher base\r\n                final LinkedList&lt;Byte&gt; outputChunkBuffer = new LinkedList&lt;&gt;();\r\n                final int numBytes = BASE45_TO_BINARY_DIGIT_COUNT_CONVERSION.get(numB45Digits);\r\n                int numBytesProcessed = 0;\r\n                while(numBytesProcessed &lt; numBytes) {\r\n                    //Chunk out 1 byte\r\n                    final byte chunk = (byte) buf;\r\n    \r\n                    //Shift buffer to next byte\r\n                    buf = buf &gt;&gt; 8; //8 bits per byte\r\n    \r\n                    //Write byte to output\r\n                    //\r\n                    //Again, we need to invert the order of the bytes, so as we chunk them off, push\r\n                    //them onto a FILO stack; inverting their order.\r\n                    outputChunkBuffer.push(chunk);\r\n    \r\n                    //Increment\r\n                    numBytesProcessed++;\r\n                }\r\n    \r\n                //Write chunk buffer to output stream (in reverse order)\r\n                while (outputChunkBuffer.size() &gt; 0) {\r\n                    out.write(outputChunkBuffer.pop());\r\n                }\r\n            }\r\n    \r\n            //Return\r\n            out.flush();\r\n            out.close();\r\n            return out.toByteArray();\r\n        }\r\n    }\r\n\r\nHere are some tests I ran to verify the code:\r\n\r\n\r\n    @Test\r\n    public void stringEncodingTest() throws IOException {\r\n        //Init test data\r\n        final String testStr = &quot;Some cool input data! !@#$%^&amp;*()_+&quot;;\r\n\r\n        //Encode\r\n        final String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(testStr.getBytes(&quot;UTF-8&quot;));\r\n\r\n        //Decode\r\n        final byte[] decodedBytes = BinaryToBase45Encoder.decodeBase45QrPayload(encodedStr);\r\n        final String decodedStr = new String(decodedBytes, &quot;UTF-8&quot;);\r\n\r\n        //Output\r\n        final boolean matches = testStr.equals(decodedStr);\r\n        assert(matches);\r\n        System.out.println(&quot;They match!&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void binaryEncodingAccuracyTest() throws IOException {\r\n        //Init test data\r\n        final int maxBytes = 10_000;\r\n        for (int x=1; x&lt;=maxBytes; x++) {\r\n            System.out.print(&quot;x: &quot; + x + &quot;\\t&quot;);\r\n\r\n            //Encode\r\n            final byte[] inputArray = getTestBytes(x);\r\n            final String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(inputArray);\r\n\r\n            //Decode\r\n            final byte[] decodedBytes = BinaryToBase45Encoder.decodeBase45QrPayload(encodedStr);\r\n\r\n            //Output\r\n            for (int y=0; y&lt;x; y++) {\r\n                assertEquals(inputArray[y], decodedBytes[y]);\r\n            }\r\n            System.out.println(&quot;Passed!&quot;);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void binaryEncodingEfficiencyTest() throws IOException, WriterException, NoSuchMethodException, InvocationTargetException, IllegalAccessException {\r\n        //Init test data\r\n        final byte[] inputData = new byte[2048];\r\n        new Random().nextBytes(inputData);\r\n\r\n        //Encode\r\n        final String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(inputData);\r\n\r\n        //Write to QR Code Encoder // Have to use Reflection to force access, since the function is not public.\r\n        final BitArray qrCode = new BitArray();\r\n        final Method appendAlphanumericBytes = com.google.zxing.qrcode.encoder.Encoder.class.getDeclaredMethod(&quot;appendAlphanumericBytes&quot;, CharSequence.class, BitArray.class);\r\n        appendAlphanumericBytes.setAccessible(true);\r\n        appendAlphanumericBytes.invoke(null, encodedStr, qrCode);\r\n\r\n        //Output\r\n        final int origSize = inputData.length;\r\n        final int qrSize = qrCode.getSizeInBytes();\r\n        System.out.println(&quot;Raw Binary Size:\\t\\t&quot; + origSize + &quot;\\nEncoded String Size:\\t&quot; + encodedStr.length() + &quot;\\nQR Code Alphanum Size:\\t&quot; + qrSize);\r\n\r\n        //Calculate Storage Efficiency Loss\r\n        final int delta = origSize - qrSize;\r\n        final double efficiency = ((double) delta) / origSize;\r\n        System.out.println(&quot;Storage Efficiency Loss: &quot; + String.format(&quot;%.3f&quot;, efficiency * 100) + &quot;%&quot;);\r\n    }\r\n\r\n    public static byte[] getTestBytes(int numBytes) {\r\n        final Random rand = new Random();\r\n        final ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        for (int x=0; x&lt;numBytes; x++) {\r\n            //bos.write(255);// -1 (byte) = 255 (int) = 1111 1111\r\n\r\n            byte b = (byte) rand.nextInt();\r\n            bos.write(b);\r\n        }\r\n        return bos.toByteArray();\r\n    }\r\n","title":"Store Binary Data in QR Code (ZXING Java Library)","body":"<p><strong>Update - Apr. 24, 2023:</strong>\nI Just rewrote my Base45 Library to be compliant with RFC-9285 Base45 Standard, and it is no longer dependent upon ZXing. The code in this answer is old; the repo uses a more efficient algorithm, which results in much simpler code, and it improved the storage efficiency loss down to only 3% behind raw binary.</p>\n<p>See: v2.1.0\n<a href=\"https://github.com/yurelle/Base45Encoder\" rel=\"nofollow noreferrer\">https://github.com/yurelle/Base45Encoder</a></p>\n<hr />\n<p><strong>Update - Nov. 13, 2021:</strong>\nI recently went back and published the referenced code as a project on GitHub for anyone who wants to use it.\n<a href=\"https://github.com/yurelle/Base45Encoder\" rel=\"nofollow noreferrer\">https://github.com/yurelle/Base45Encoder</a></p>\n<hr />\n<p>I developed a solution which only introduces a storage efficiency loss of -8%. It exploits a built-in compression optimization of the ZXING QR Code Library.</p>\n<p><strong>Explanation</strong></p>\n<p>ZXING will automatically detect if your String payload is purely AlphaNumeric (by their own definition), and if so, it will automatically compress 2 AlphaNumeric characters into 11 bits. The definition ZXING uses for &quot;alphanumeric&quot; is all-caps only, 0-9, and a few special symbols ('/', ':', etc.). All told, their definition allows 45 possible values. Then, it packs 2 of these Base45 digits into 11 bits.</p>\n<p>2 digits in base 45 is 2,025 possible values. 11 bits has a maximum storage capacity of 2,048 possible states. This is only a loss of 1.1% in storage efficiency behind raw binary.</p>\n<pre><code>  45 ^ 2 = 2,025\n  2 ^ 11 = 2,048\n  2,048 - 2,025 = 23\n  23 / 2,048 = 0.01123046875 = 1.123%\n</code></pre>\n<p>However, this is the ideal / theoretical efficiency. My implementation processes data in chunks, using a Long as a computational buffer. However, since Java Long's are singed, we can only use the lower 7 bytes. The conversion code requires continuously positive values; using the highest 8th byte would contaminate the sign bit and randomly produce negative values.</p>\n<p>Real-World Test:</p>\n<p>Using a 7 byte Long to encode a 2KB buffer of random bytes, we get the following results.</p>\n<pre><code>  Raw Binary Size:        2,048\n  Encoded String Size:    3,218\n  QR Code Alphanum Size:  2,213 (after the QR Code compresses 2 base45 digits to 11 bits)\n</code></pre>\n<p>This is a real-world storage efficiency loss of only 8%.</p>\n<pre><code>  2,213 - 2,048 = 165\n  165 / 2,048 = 0.08056640625 = 8.0566%\n</code></pre>\n<p><strong>Solution</strong></p>\n<p>I implemented it as a self-contained static utility class, so all you have to do is call:</p>\n<pre><code>//Encode\nfinal byte[] myBinaryData = ...;\nfinal String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(myBinaryData);\n\n//Decode\nfinal byte[] decodedBytes = BinaryToBase45Encoder.decodeBase45QrPayload(encodedStr);\n</code></pre>\n<p>Alternatively, you can also do it via InputStreams:</p>\n<pre><code>//Encode\nfinal InputStream in_1 = ... ;\nfinal String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(in_1);\n\n//Decode\nfinal InputStream in_2 = ... ;\nfinal byte[] decodedBytes = BinaryToBase45Encoder.decodeBase45QrPayload(in_2);\n</code></pre>\n<p>Here's the implementation</p>\n<pre><code>import java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.lang.reflect.Field;\nimport java.util.HashMap;\nimport java.util.LinkedList;\nimport java.util.Map;\n\n/**\n * For some reason none of the Java QR Code libraries support binary payloads. At least, none that\n * I could find anyway. The commonly suggested workaround for this is to use Base64 encoding.\n * However, this results in a 33% payload size inflation. If your payload is already near the size\n * limit of QR codes, this is a lot.\n *\n * This class implements an encoder which takes advantage of a built-in compression optimization\n * of the ZXING QR Code library, to enable the storage of Binary data into a QR Code, with a\n * storage efficiency loss of only -8%.\n *\n * The built-in optimization is this: ZXING will automatically detect if your String payload is\n * purely AlphaNumeric (by their own definition), and if so, it will automatically compress 2\n * AlphaNumeric characters into 11 bits.\n *\n *\n * ----------------------\n *\n *\n * The included ALPHANUMERIC_TABLE is the conversion table used by the ZXING library as a reverse\n * index for determining if a given input data should be classified as alphanumeric.\n *\n * See:\n *\n *      com.google.zxing.qrcode.encoder.Encoder.chooseMode(String content, String encoding)\n *\n * which scans through the input string one character at a time and passes them to:\n *\n *      getAlphanumericCode(int code)\n *\n * in the same class, which uses that character as a numeric index into the the\n * ALPHANUMERIC_TABLE.\n *\n * If you examine the values, you'll notice that it ignores / disqualifies certain values, and\n * effectively converts the input into base 45 (0 -&gt; 44; -1 is interpreted by the calling code\n * to mean a failure). This is confirmed in the function:\n *\n *      appendAlphanumericBytes(CharSequence content, BitArray bits)\n *\n * where they pack 2 of these base 45 digits into 11 bits. This presents us with an opportunity.\n * If we can take our data, and convert it into a compatible base 45 alphanumeric representation,\n * then the QR Encoder will automatically pack that data into sub-byte chunks.\n *\n * 2 digits in base 45 is 2,025 possible values. 11 bits has a maximum storage capacity of 2,048\n * possible states. This is only a loss of 1.1% in storage efficiency behind raw binary.\n *\n *      45 ^ 2 = 2,025\n *      2 ^ 11 = 2,048\n *      2,048 - 2,025 = 23\n *      23 / 2,048 = 0.01123046875 = 1.123%\n *\n * However, this is the ideal / theoretical efficiency. This implementation processes data in\n * chunks, using a Long as a computational buffer. However, since Java Long's are singed, we\n * can only use the lower 7 bytes. The conversion code requires continuously positive values;\n * using the highest 8th byte would contaminate the sign bit and randomly produce negative\n * values.\n *\n *\n * Real-World Test:\n *\n * Using a 7 byte Long to encode a 2KB buffer of random bytes, we get the following results.\n *\n *      Raw Binary Size:        2,048\n *      Encoded String Size:    3,218\n *      QR Code Alphanum Size:  2,213 (after the QR Code compresses 2 base45 digits to 11 bits)\n *\n * This is a real-world storage efficiency loss of only 8%.\n *\n *      2,213 - 2,048 = 165\n *      165 / 2,048 = 0.08056640625 = 8.0566%\n */\npublic class BinaryToBase45Encoder {\n    public final static int[] ALPHANUMERIC_TABLE;\n\n    /*\n     * You could probably just copy &amp; paste the array literal from the ZXING source code; it's only\n     * an array definition. But I was unsure of the licensing issues with posting it on the internet,\n     * so I did it this way.\n     */\n    static {\n        final Field SOURCE_ALPHANUMERIC_TABLE;\n        int[] tmp;\n\n        //Copy lookup table from ZXING Encoder class\n        try {\n            SOURCE_ALPHANUMERIC_TABLE = com.google.zxing.qrcode.encoder.Encoder.class.getDeclaredField(&quot;ALPHANUMERIC_TABLE&quot;);\n            SOURCE_ALPHANUMERIC_TABLE.setAccessible(true);\n            tmp = (int[]) SOURCE_ALPHANUMERIC_TABLE.get(null);\n        } catch (NoSuchFieldException e) {\n            e.printStackTrace();//Shouldn't happen\n            tmp = null;\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();//Shouldn't happen\n            tmp = null;\n        }\n\n        //Store\n        ALPHANUMERIC_TABLE = tmp;\n    }\n\n    public static final int NUM_DISTINCT_ALPHANUM_VALUES = 45;\n    public static final char[] alphaNumReverseIndex = new char[NUM_DISTINCT_ALPHANUM_VALUES];\n\n    static {\n        //Build AlphaNum Index\n        final int len = ALPHANUMERIC_TABLE.length;\n        for (int x = 0; x &lt; len; x++) {\n            // The base45 result which the alphanum lookup table produces.\n            // i.e. the base45 digit value which String characters are\n            // converted into.\n            //\n            // We use this value to build a reverse lookup table to find\n            // the String character we have to send to the encoder, to\n            // make it produce the given base45 digit value.\n            final int base45DigitValue = ALPHANUMERIC_TABLE[x];\n\n            //Ignore the -1 records\n            if (base45DigitValue &gt; -1) {\n                //The index into the lookup table which produces the given base45 digit value.\n                //\n                //i.e. to produce a base45 digit with the numeric value in base45DigitValue, we need\n                //to send the Encoder a String character with the numeric value in x.\n                alphaNumReverseIndex[base45DigitValue] = (char) x;\n            }\n        }\n    }\n\n    /*\n     * The storage capacity of one digit in the number system; i.e. the maximum\n     * possible number of distinct values which can be stored in 1 logical digit\n     */\n    public static final int QR_PAYLOAD_NUMERIC_BASE = NUM_DISTINCT_ALPHANUM_VALUES;\n\n    /*\n     * We can't use all 8 bytes, because the Long is signed, and the conversion math\n     * requires consistently positive values. If we populated all 8 bytes, then the\n     * last byte has the potential to contaminate the sign bit, and break the\n     * conversion math. So, we only use the lower 7 bytes, and avoid this problem.\n     */\n    public static final int LONG_USABLE_BYTES = Long.BYTES - 1;\n\n    //The following mapping was determined by brute-forcing -1 Long (all bits 1), and compressing to base45 until it hit zero.\n    public static final int[] BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION = new int[] {0,2,3,5,6,8,9,11,12};\n    public static final int NUM_BASE45_DIGITS_PER_LONG = BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION[LONG_USABLE_BYTES];\n    public static final Map&lt;Integer, Integer&gt; BASE45_TO_BINARY_DIGIT_COUNT_CONVERSION = new HashMap&lt;&gt;();\n\n    static {\n        //Build Reverse Lookup\n        int len = BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION.length;\n        for (int x=0; x&lt;len; x++) {\n            int numB45Digits = BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION[x];\n            BASE45_TO_BINARY_DIGIT_COUNT_CONVERSION.put(numB45Digits, x);\n        }\n    }\n\n    public static String encodeToBase45QrPayload(final byte[] inputData) throws IOException {\n        return encodeToBase45QrPayload(new ByteArrayInputStream(inputData));\n    }\n\n    public static String encodeToBase45QrPayload(final InputStream in) throws IOException {\n        //Init conversion state vars\n        final StringBuilder strOut = new StringBuilder();\n        int data;\n        long buf = 0;\n\n        // Process all input data in chunks of size LONG.BYTES, this allows for economies of scale\n        // so we can process more digits of arbitrary size before we hit the wall of the binary\n        // chunk size in a power of 2, and have to transmit a sub-optimal chunk of the &quot;crumbs&quot;\n        // left over; i.e. the slack space between where the multiples of QR_PAYLOAD_NUMERIC_BASE\n        // and the powers of 2 don't quite line up.\n        while(in.available() &gt; 0) {\n            //Fill buffer\n            int numBytesStored = 0;\n            while (numBytesStored &lt; LONG_USABLE_BYTES &amp;&amp; in.available() &gt; 0) {\n                //Read next byte\n                data = in.read();\n\n                //Push byte into buffer\n                buf = (buf &lt;&lt; 8) | data; //8 bits per byte\n\n                //Increment\n                numBytesStored++;\n            }\n\n            //Write out in lower base\n            final StringBuilder outputChunkBuffer = new StringBuilder();\n            final int numBase45Digits = BINARY_TO_BASE45_DIGIT_COUNT_CONVERSION[numBytesStored];\n            int numB45DigitsProcessed = 0;\n            while(numB45DigitsProcessed &lt; numBase45Digits) {\n                //Chunk out a digit\n                final byte digit = (byte) (buf % QR_PAYLOAD_NUMERIC_BASE);\n\n                //Drop digit data from buffer\n                buf = buf / QR_PAYLOAD_NUMERIC_BASE;\n\n                //Write Digit\n                outputChunkBuffer.append(alphaNumReverseIndex[(int) digit]);\n\n                //Track output digits\n                numB45DigitsProcessed++;\n            }\n\n            /*\n             * The way this code works, the processing output results in a First-In-Last-Out digit\n             * reversal. So, we need to buffer the chunk output, and feed it to the OutputStream\n             * backwards to correct this.\n             *\n             * We could probably get away with writing the bytes out in inverted order, and then\n             * flipping them back on the decode side, but just to be safe, I'm always keeping\n             * them in the proper order.\n             */\n            strOut.append(outputChunkBuffer.reverse().toString());\n        }\n\n        //Return\n        return strOut.toString();\n    }\n\n    public static byte[] decodeBase45QrPayload(final String inputStr) throws IOException {\n        //Prep for InputStream\n        final byte[] buf = inputStr.getBytes();//Use the default encoding (the same encoding that the 'char' primitive uses)\n\n        return decodeBase45QrPayload(new ByteArrayInputStream(buf));\n    }\n\n    public static byte[] decodeBase45QrPayload(final InputStream in) throws IOException {\n        //Init conversion state vars\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\n        int data;\n        long buf = 0;\n        int x=0;\n\n        // Process all input data in chunks of size LONG.BYTES, this allows for economies of scale\n        // so we can process more digits of arbitrary size before we hit the wall of the binary\n        // chunk size in a power of 2, and have to transmit a sub-optimal chunk of the &quot;crumbs&quot;\n        // left over; i.e. the slack space between where the multiples of QR_PAYLOAD_NUMERIC_BASE\n        // and the powers of 2 don't quite line up.\n        while(in.available() &gt; 0) {\n            //Convert &amp; Fill Buffer\n            int numB45Digits = 0;\n            while (numB45Digits &lt; NUM_BASE45_DIGITS_PER_LONG &amp;&amp; in.available() &gt; 0) {\n                //Read in next char\n                char c = (char) in.read();\n\n                //Translate back through lookup table\n                int digit = ALPHANUMERIC_TABLE[(int) c];\n\n                //Shift buffer up one digit to make room\n                buf *= QR_PAYLOAD_NUMERIC_BASE;\n\n                //Append next digit\n                buf += digit;\n\n                //Increment\n                numB45Digits++;\n            }\n\n            //Write out in higher base\n            final LinkedList&lt;Byte&gt; outputChunkBuffer = new LinkedList&lt;&gt;();\n            final int numBytes = BASE45_TO_BINARY_DIGIT_COUNT_CONVERSION.get(numB45Digits);\n            int numBytesProcessed = 0;\n            while(numBytesProcessed &lt; numBytes) {\n                //Chunk out 1 byte\n                final byte chunk = (byte) buf;\n\n                //Shift buffer to next byte\n                buf = buf &gt;&gt; 8; //8 bits per byte\n\n                //Write byte to output\n                //\n                //Again, we need to invert the order of the bytes, so as we chunk them off, push\n                //them onto a FILO stack; inverting their order.\n                outputChunkBuffer.push(chunk);\n\n                //Increment\n                numBytesProcessed++;\n            }\n\n            //Write chunk buffer to output stream (in reverse order)\n            while (outputChunkBuffer.size() &gt; 0) {\n                out.write(outputChunkBuffer.pop());\n            }\n        }\n\n        //Return\n        out.flush();\n        out.close();\n        return out.toByteArray();\n    }\n}\n</code></pre>\n<p>Here are some tests I ran to verify the code:</p>\n<pre><code>@Test\npublic void stringEncodingTest() throws IOException {\n    //Init test data\n    final String testStr = &quot;Some cool input data! !@#$%^&amp;*()_+&quot;;\n\n    //Encode\n    final String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(testStr.getBytes(&quot;UTF-8&quot;));\n\n    //Decode\n    final byte[] decodedBytes = BinaryToBase45Encoder.decodeBase45QrPayload(encodedStr);\n    final String decodedStr = new String(decodedBytes, &quot;UTF-8&quot;);\n\n    //Output\n    final boolean matches = testStr.equals(decodedStr);\n    assert(matches);\n    System.out.println(&quot;They match!&quot;);\n}\n\n@Test\npublic void binaryEncodingAccuracyTest() throws IOException {\n    //Init test data\n    final int maxBytes = 10_000;\n    for (int x=1; x&lt;=maxBytes; x++) {\n        System.out.print(&quot;x: &quot; + x + &quot;\\t&quot;);\n\n        //Encode\n        final byte[] inputArray = getTestBytes(x);\n        final String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(inputArray);\n\n        //Decode\n        final byte[] decodedBytes = BinaryToBase45Encoder.decodeBase45QrPayload(encodedStr);\n\n        //Output\n        for (int y=0; y&lt;x; y++) {\n            assertEquals(inputArray[y], decodedBytes[y]);\n        }\n        System.out.println(&quot;Passed!&quot;);\n    }\n}\n\n@Test\npublic void binaryEncodingEfficiencyTest() throws IOException, WriterException, NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n    //Init test data\n    final byte[] inputData = new byte[2048];\n    new Random().nextBytes(inputData);\n\n    //Encode\n    final String encodedStr = BinaryToBase45Encoder.encodeToBase45QrPayload(inputData);\n\n    //Write to QR Code Encoder // Have to use Reflection to force access, since the function is not public.\n    final BitArray qrCode = new BitArray();\n    final Method appendAlphanumericBytes = com.google.zxing.qrcode.encoder.Encoder.class.getDeclaredMethod(&quot;appendAlphanumericBytes&quot;, CharSequence.class, BitArray.class);\n    appendAlphanumericBytes.setAccessible(true);\n    appendAlphanumericBytes.invoke(null, encodedStr, qrCode);\n\n    //Output\n    final int origSize = inputData.length;\n    final int qrSize = qrCode.getSizeInBytes();\n    System.out.println(&quot;Raw Binary Size:\\t\\t&quot; + origSize + &quot;\\nEncoded String Size:\\t&quot; + encodedStr.length() + &quot;\\nQR Code Alphanum Size:\\t&quot; + qrSize);\n\n    //Calculate Storage Efficiency Loss\n    final int delta = origSize - qrSize;\n    final double efficiency = ((double) delta) / origSize;\n    System.out.println(&quot;Storage Efficiency Loss: &quot; + String.format(&quot;%.3f&quot;, efficiency * 100) + &quot;%&quot;);\n}\n\npublic static byte[] getTestBytes(int numBytes) {\n    final Random rand = new Random();\n    final ByteArrayOutputStream bos = new ByteArrayOutputStream();\n    for (int x=0; x&lt;numBytes; x++) {\n        //bos.write(255);// -1 (byte) = 255 (int) = 1111 1111\n\n        byte b = (byte) rand.nextInt();\n        bos.write(b);\n    }\n    return bos.toByteArray();\n}\n</code></pre>\n"}],"owner":{"account_id":6179811,"reputation":348,"user_id":7206367,"display_name":"Yurelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2208,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":64817275,"answer_count":1,"score":4,"last_activity_date":1688838295,"creation_date":1605254049,"question_id":64817274,"body_markdown":"My Java program needs to send a binary payload via QR Code, but I can&#39;t get it to work. I have tried several QR Code libraries and many approaches, but all seem to have this problem. My current implementation uses ZXING.\r\n\r\nThe problem is that all the Java libraries I&#39;ve tried seem to be focused on String payloads, and do not provide support for binary data. The common suggested [solution][1] to this is to encode the binary data as Base64. However, my data is already near the size limit of QR Codes. With the 33% inflation caused by Base64 encoding, my data is too big. I have already expended significant effort into reducing the size of the payload, and it currently consists of 4 character hashes delimited by new lines; all inside max level compression by the Java Deflator class. I can&#39;t make it any smaller.\r\n\r\nI need a way to store binary data in a QR code with minimal data inflation overhead.\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/37996101/storing-binary-data-in-qr-codes","title":"Store Binary Data in QR Code (ZXING Java Library)","body":"<p>My Java program needs to send a binary payload via QR Code, but I can't get it to work. I have tried several QR Code libraries and many approaches, but all seem to have this problem. My current implementation uses ZXING.</p>\n<p>The problem is that all the Java libraries I've tried seem to be focused on String payloads, and do not provide support for binary data. The common suggested <a href=\"https://stackoverflow.com/questions/37996101/storing-binary-data-in-qr-codes\">solution</a> to this is to encode the binary data as Base64. However, my data is already near the size limit of QR Codes. With the 33% inflation caused by Base64 encoding, my data is too big. I have already expended significant effort into reducing the size of the payload, and it currently consists of 4 character hashes delimited by new lines; all inside max level compression by the Java Deflator class. I can't make it any smaller.</p>\n<p>I need a way to store binary data in a QR code with minimal data inflation overhead.</p>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":13141180,"reputation":4284,"user_id":9492730,"display_name":"dododo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688837729,"creation_date":1688837729,"answer_id":76644195,"question_id":76627239,"body_markdown":"`shardCollection` is a [helper][1] specific only to mongo shell, not mongo drivers. You can&#39;t run it from the driver. See the answer [here][2] or my answer for a similar question [here][3]\r\n\r\n\r\n  [1]: https://www.mongodb.com/docs/manual/reference/method/sh.shardCollection/\r\n  [2]: https://stackoverflow.com/questions/24268475/programmatically-set-shard-key-with-mongodb-java-driver\r\n  [3]: https://stackoverflow.com/questions/72014860/running-custom-commands-in-mongodb-node-driver/72016129#72016129","title":"no such command: &#39;shardCollection&#39;","body":"<p><code>shardCollection</code> is a <a href=\"https://www.mongodb.com/docs/manual/reference/method/sh.shardCollection/\" rel=\"nofollow noreferrer\">helper</a> specific only to mongo shell, not mongo drivers. You can't run it from the driver. See the answer <a href=\"https://stackoverflow.com/questions/24268475/programmatically-set-shard-key-with-mongodb-java-driver\">here</a> or my answer for a similar question <a href=\"https://stackoverflow.com/questions/72014860/running-custom-commands-in-mongodb-node-driver/72016129#72016129\">here</a></p>\n"}],"owner":{"account_id":15021757,"reputation":1,"user_id":10842986,"display_name":"B.Yang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688837729,"creation_date":1688634584,"question_id":76627239,"body_markdown":"my mongo-java-driver version is 3.12.10\r\nmongodb version is 6.0.4，and a sharded cluster is deployed\r\nExecute the following command in the java program to report an error \r\n`com.mongodb.MongoCommandException: Command failed with error 59 (CommandNotFound): &#39;no such command: &#39;shardCollection&#39;&#39; on server xxx:27018. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;no such command: &#39;enableSharding&#39;&quot;, &quot;code&quot;: 59, &quot;codeName&quot;: &quot;CommandNotFound&quot;, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1688634311, &quot;i&quot;: 1}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1688634317, &quot;i&quot;: 3}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1688634311, &quot;i&quot;: 1}}}`\r\n\r\nthis is my command\r\n`Document append = new Document(&quot;shardCollection&quot;, new BsonString(dataBase + &quot;.&quot; + collect)).append(&quot;key&quot;, new Document(&quot;_id&quot;, &quot;hashed&quot;));\r\n                        admin.runCommand(append);`\r\n\r\n\r\nIs the reason for this error because mongo-driver does not support fragmentation?\r\nCan someone help me? Thanks a lot","title":"no such command: &#39;shardCollection&#39;","body":"<p>my mongo-java-driver version is 3.12.10\nmongodb version is 6.0.4，and a sharded cluster is deployed\nExecute the following command in the java program to report an error\n<code>com.mongodb.MongoCommandException: Command failed with error 59 (CommandNotFound): 'no such command: 'shardCollection'' on server xxx:27018. The full response is {&quot;ok&quot;: 0.0, &quot;errmsg&quot;: &quot;no such command: 'enableSharding'&quot;, &quot;code&quot;: 59, &quot;codeName&quot;: &quot;CommandNotFound&quot;, &quot;lastCommittedOpTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1688634311, &quot;i&quot;: 1}}, &quot;$clusterTime&quot;: {&quot;clusterTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1688634317, &quot;i&quot;: 3}}, &quot;signature&quot;: {&quot;hash&quot;: {&quot;$binary&quot;: {&quot;base64&quot;: &quot;AAAAAAAAAAAAAAAAAAAAAAAAAAA=&quot;, &quot;subType&quot;: &quot;00&quot;}}, &quot;keyId&quot;: 0}}, &quot;operationTime&quot;: {&quot;$timestamp&quot;: {&quot;t&quot;: 1688634311, &quot;i&quot;: 1}}}</code></p>\n<p>this is my command\n<code>Document append = new Document(&quot;shardCollection&quot;, new BsonString(dataBase + &quot;.&quot; + collect)).append(&quot;key&quot;, new Document(&quot;_id&quot;, &quot;hashed&quot;)); admin.runCommand(append);</code></p>\n<p>Is the reason for this error because mongo-driver does not support fragmentation?\nCan someone help me? Thanks a lot</p>\n"},{"tags":["java","reflection","drag-and-drop"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1688975172,"post_id":76644153,"comment_id":135141765,"body_markdown":"You are not supposed to call this method. [What is the XY problem?](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378)","body":"You are not supposed to call this method. <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">What is the XY problem?</a>"},{"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"score":0,"creation_date":1689006442,"post_id":76644153,"comment_id":135149005,"body_markdown":"Unfortunately, in the Mac implementation of DragSource/DragGestureRecognizer, something&#39;s not getting reset properly in cases where the mouse is released outside the source component. The result is that next time you click inside the component, you see the drag cursor immediately - there&#39;s no waiting for an actual drag gesture. I&#39;ve tried: DGR&#39;s resetRecognizer() method, but it seems to have no effect. The flawed behavior is intermittent. And again,  it&#39;s not present at all in Windows implementations.","body":"Unfortunately, in the Mac implementation of DragSource/DragGestureRecognizer, something&#39;s not getting reset properly in cases where the mouse is released outside the source component. The result is that next time you click inside the component, you see the drag cursor immediately - there&#39;s no waiting for an actual drag gesture. I&#39;ve tried: DGR&#39;s resetRecognizer() method, but it seems to have no effect. The flawed behavior is intermittent. And again,  it&#39;s not present at all in Windows implementations."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689097037,"post_id":76644153,"comment_id":135163878,"body_markdown":"So, a perfect example of XY problem.","body":"So, a perfect example of XY problem."},{"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"score":0,"creation_date":1689110638,"post_id":76644153,"comment_id":135166428,"body_markdown":"So is there another way around this? Any suggestion would be most appreciated.","body":"So is there another way around this? Any suggestion would be most appreciated."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1689143078,"post_id":76644153,"comment_id":135169483,"body_markdown":"I don’t know, but the first step to find out, is to open a question about the Drag&amp;Drop problem rather than asking how to invoke a specific non-API method via Reflection. If there are people knowing the answer for the Java/MacOS/Drag&amp;Drop problem, they currently don’t know that you have the question.","body":"I don’t know, but the first step to find out, is to open a question about the Drag&amp;Drop problem rather than asking how to invoke a specific non-API method via Reflection. If there are people knowing the answer for the Java/MacOS/Drag&amp;Drop problem, they currently don’t know that you have the question."}],"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688837059,"creation_date":1688837059,"question_id":76644153,"body_markdown":"Implementing drag and drop operations for a Java NetBeans app, I&#39;d like to call the following static method that&#39;s in the source code for the DragSource object:\r\n\r\n**SunDragSourceContextPeer.setDragDropInProgress(false);**\r\n\r\nHowever, when I try to drop this line into a DragSource listener, I get the error message:\r\n\r\n&quot;Package sun.awt.dnd is not visible (package sun.awt.dnd is declared in module java.desktop, which does not export it to the unnamed module)&quot;\r\n\r\nIs there a way around this? Perhaps using reflection?\r\n\r\n","title":"Java reflection for DragSource method","body":"<p>Implementing drag and drop operations for a Java NetBeans app, I'd like to call the following static method that's in the source code for the DragSource object:</p>\n<p><strong>SunDragSourceContextPeer.setDragDropInProgress(false);</strong></p>\n<p>However, when I try to drop this line into a DragSource listener, I get the error message:</p>\n<p>&quot;Package sun.awt.dnd is not visible (package sun.awt.dnd is declared in module java.desktop, which does not export it to the unnamed module)&quot;</p>\n<p>Is there a way around this? Perhaps using reflection?</p>\n"},{"tags":["java","algorithm","backtracking"],"comments":[{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1688832387,"post_id":76643799,"comment_id":135128325,"body_markdown":"Try to debug your recursive method.","body":"Try to debug your recursive method."},{"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"score":0,"creation_date":1688836948,"post_id":76643799,"comment_id":135128833,"body_markdown":"@nonas What is there to debug? OP said that the solution works, they just want an explanation as to why it works.","body":"@nonas What is there to debug? OP said that the solution works, they just want an explanation as to why it works."},{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1688841577,"post_id":76643799,"comment_id":135129316,"body_markdown":"Morgan, OP asked why the `if condition [...] prevented the removal` so first he/she should try to test/debug his/her recursive method. Or draw a tree diagram as you did.","body":"Morgan, OP asked why the <code>if condition [...] prevented the removal</code> so first he/she should try to test/debug his/her recursive method. Or draw a tree diagram as you did."},{"owner":{"display_name":"user18473608"},"score":0,"creation_date":1688841891,"post_id":76643799,"comment_id":135129357,"body_markdown":"Debugging is not limited to &quot;search bugs&quot;. While debugging, you can follow the loop execution step by step.","body":"Debugging is not limited to &quot;search bugs&quot;. While debugging, you can follow the loop execution step by step."}],"answers":[{"tags":[],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688836825,"creation_date":1688836825,"answer_id":76644139,"question_id":76643799,"body_markdown":"You are correct. The if-statement will not pass when `tempList = {1, 2, 3}`. This makes sense as the condition is: `!tempList.contains(nums[i])`, since in this scenario `tempList` and `num` are identical in elements, the if-statement will not pass.\r\n\r\nSo why does it look like the if-statement passes when `tempList = {1, 2, 3}`? We can see that after [1, 2, 3] there are seemingly unreachable states, namely: `[1, 3], [1], [2, 3], [3]`. This is in fact an illusion as these states were caused by the function being called by earlier cases.\r\n\r\nThis is because the recursive function branches variably. As in, some &quot;nodes&quot; will branch into several other nodes, while others will simply terminate. Consider the following diagram with num = [1, 2, 3] and the starting node being the empty array:[![Tree][1]][1]\r\n\r\n\r\nThere are two primary ways to traverse this tree.\r\n\r\n 1. [Breadth-first Search][2]\r\n 2. [Depth-first Search][3]\r\n\r\nI believe you expected your solution to traverse it in a breadth-first search manner, which would output the following:\r\n\r\n`[[], [1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]`\r\n\r\nIn reality, your solution traverses the tree in a depth-first search manner which explains your output of: \r\n\r\n`[[], [1], [1, 2], [1, 2, 3], [1, 3], [2], [2, 3], [3]]`\r\n\r\nThis is because it follows the tree in this order:\r\n[![Depth-first Search traverse of tree][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NnSmq.png\r\n  [2]: https://en.wikipedia.org/wiki/Breadth-first_search\r\n  [3]: https://en.wikipedia.org/wiki/Depth-first_search\r\n  [4]: https://i.stack.imgur.com/s8pQT.png","title":"Difficulty in understanding the backtracking logic","body":"<p>You are correct. The if-statement will not pass when <code>tempList = {1, 2, 3}</code>. This makes sense as the condition is: <code>!tempList.contains(nums[i])</code>, since in this scenario <code>tempList</code> and <code>num</code> are identical in elements, the if-statement will not pass.</p>\n<p>So why does it look like the if-statement passes when <code>tempList = {1, 2, 3}</code>? We can see that after [1, 2, 3] there are seemingly unreachable states, namely: <code>[1, 3], [1], [2, 3], [3]</code>. This is in fact an illusion as these states were caused by the function being called by earlier cases.</p>\n<p>This is because the recursive function branches variably. As in, some &quot;nodes&quot; will branch into several other nodes, while others will simply terminate. Consider the following diagram with num = [1, 2, 3] and the starting node being the empty array:<a href=\"https://i.stack.imgur.com/NnSmq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NnSmq.png\" alt=\"Tree\" /></a></p>\n<p>There are two primary ways to traverse this tree.</p>\n<ol>\n<li><a href=\"https://en.wikipedia.org/wiki/Breadth-first_search\" rel=\"nofollow noreferrer\">Breadth-first Search</a></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\">Depth-first Search</a></li>\n</ol>\n<p>I believe you expected your solution to traverse it in a breadth-first search manner, which would output the following:</p>\n<p><code>[[], [1], [2], [3], [1, 2], [1, 3], [2, 3], [1, 2, 3]]</code></p>\n<p>In reality, your solution traverses the tree in a depth-first search manner which explains your output of:</p>\n<p><code>[[], [1], [1, 2], [1, 2, 3], [1, 3], [2], [2, 3], [3]]</code></p>\n<p>This is because it follows the tree in this order:\n<a href=\"https://i.stack.imgur.com/s8pQT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s8pQT.png\" alt=\"Depth-first Search traverse of tree\" /></a></p>\n"}],"owner":{"account_id":20628016,"reputation":89,"user_id":15143409,"display_name":"Kumar_Maddy "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76644139,"answer_count":1,"score":1,"last_activity_date":1688836825,"creation_date":1688831917,"question_id":76643799,"body_markdown":"I was trying to write the code for all possible subsets for an array of unique elements.\r\n\r\ne.g. Input : nums=[1,2,3]\r\n     Output: [[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]  \r\nThe output can be in any order.\r\n\r\nI see this particular code is working correctly and satisfying all test cases. \r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\r\n        List&lt;List&lt;Integer&gt;&gt;solution= new ArrayList&lt;&gt;();\r\n        backtrack(solution,new ArrayList&lt;&gt;(), nums,0);\r\n        return solution;\r\n    }\r\n\r\n    private void backtrack(List&lt;List&lt;Integer&gt;&gt; sol, List&lt;Integer&gt;tempList, int[] nums, int start){\r\n        sol.add(new ArrayList&lt;&gt;(tempList));\r\n        for(int i=start;i&lt;nums.length;i++){\r\n            if(!tempList.contains(nums[i])){\r\n                tempList.add(nums[i]);\r\n                backtrack(sol,tempList,nums,i);   \r\n                tempList.remove(tempList.size()-1);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\nI get following output which is correct ```[[],[1],[1,2],[1,2,3],[1,3],[2],[2,3],[3]]```\r\n\r\nHowever I am having a doubt  that when templist=[1,2,3] the if clause should prevent the further function call enclosed within it. However I see that                 ```tempList.remove(tempList.size()-1);``` is still being called and **2** and **3** are being removed after that.  \r\nCan anyone please clarify how this is being possible as the *if condition* should have prevented the removal of the last elements of the tempList. ? \r\n\r\n","title":"Difficulty in understanding the backtracking logic","body":"<p>I was trying to write the code for all possible subsets for an array of unique elements.</p>\n<p>e.g. Input : nums=[1,2,3]\nOutput: [[],[1],[2],[1,2],[3],[1,3],[2,3],[1,2,3]]<br />\nThe output can be in any order.</p>\n<p>I see this particular code is working correctly and satisfying all test cases.</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; subsets(int[] nums) {\n        List&lt;List&lt;Integer&gt;&gt;solution= new ArrayList&lt;&gt;();\n        backtrack(solution,new ArrayList&lt;&gt;(), nums,0);\n        return solution;\n    }\n\n    private void backtrack(List&lt;List&lt;Integer&gt;&gt; sol, List&lt;Integer&gt;tempList, int[] nums, int start){\n        sol.add(new ArrayList&lt;&gt;(tempList));\n        for(int i=start;i&lt;nums.length;i++){\n            if(!tempList.contains(nums[i])){\n                tempList.add(nums[i]);\n                backtrack(sol,tempList,nums,i);   \n                tempList.remove(tempList.size()-1);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>I get following output which is correct <code>[[],[1],[1,2],[1,2,3],[1,3],[2],[2,3],[3]]</code></p>\n<p>However I am having a doubt  that when templist=[1,2,3] the if clause should prevent the further function call enclosed within it. However I see that                 <code>tempList.remove(tempList.size()-1);</code> is still being called and <strong>2</strong> and <strong>3</strong> are being removed after that.<br />\nCan anyone please clarify how this is being possible as the <em>if condition</em> should have prevented the removal of the last elements of the tempList. ?</p>\n"},{"tags":["java","maven","javafx"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688835827,"post_id":76644016,"comment_id":135128696,"body_markdown":"You might shave a bit off the dependency issue were you to &#39;go modern&#39; and build with modules and `jlink`","body":"You might shave a bit off the dependency issue were you to &#39;go modern&#39; and build with modules and <code>jlink</code>"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1688836093,"post_id":76644016,"comment_id":135128730,"body_markdown":"See the tag [info](https://stackoverflow.com/tags/javafx/info) for more.","body":"See the tag <a href=\"https://stackoverflow.com/tags/javafx/info\">info</a> for more."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1688842883,"post_id":76644016,"comment_id":135129479,"body_markdown":"The build tool doesn&#39;t matter here. What matters is that your clients have all dependencies present/&quot;installed&quot;. How did your project handle deployment previously? Because all that _should_ have changed with regards to deployment is the need to ensure JavaFX is present on client computers, as unlike Swing, JavaFX is not part of Java SE. If you control the network and the clients, then this is an administration/IT responsibility. Otherwise, you have to instruct your clients what else they need to install, probably with instructions on _how_ to install those things, to get the app working.","body":"The build tool doesn&#39;t matter here. What matters is that your clients have all dependencies present/&quot;installed&quot;. How did your project handle deployment previously? Because all that <i>should</i> have changed with regards to deployment is the need to ensure JavaFX is present on client computers, as unlike Swing, JavaFX is not part of Java SE. If you control the network and the clients, then this is an administration/IT responsibility. Otherwise, you have to instruct your clients what else they need to install, probably with instructions on <i>how</i> to install those things, to get the app working."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688843350,"post_id":76644016,"comment_id":135129535,"body_markdown":"Or your deployment strategy can include the dependencies, including JavaFX, with your application. In that case, you may just have to accept the increased bandwidth usage.","body":"Or your deployment strategy can include the dependencies, including JavaFX, with your application. In that case, you may just have to accept the increased bandwidth usage."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1688858286,"post_id":76644016,"comment_id":135130759,"body_markdown":"“I was able to migrate it to javafx with maven and I can build it with dependencies and run.” -&gt; how did you do that? What is your Maven project file? What is your build command and run command?  How do your users get the app?  Do they install it on their machine?  Does the app have prerequisites like a Java runtime or JavaFX modules installed on the machine? How do your users get and install the prerequisites?  How do they update the app or the stuff used to run it?  What Java and JavaFX versions are required?  Which OS type and versions are supported?  Edit your question to improve it.","body":"“I was able to migrate it to javafx with maven and I can build it with dependencies and run.” -&gt; how did you do that? What is your Maven project file? What is your build command and run command?  How do your users get the app?  Do they install it on their machine?  Does the app have prerequisites like a Java runtime or JavaFX modules installed on the machine? How do your users get and install the prerequisites?  How do they update the app or the stuff used to run it?  What Java and JavaFX versions are required?  Which OS type and versions are supported?  Edit your question to improve it."}],"owner":{"account_id":18599417,"reputation":115,"user_id":13554589,"display_name":"Kanishka"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688835098,"creation_date":1688835098,"question_id":76644016,"body_markdown":"I have a small question. I don&#39;t know whether it is stupid. I had a legacy ant java swing project. I was able to migrate it to javafx with maven and I can build it with dependencies and run. but the thing is when I build it with dependencies, application size is little bit high. The thing is I wanted to deploy it to many places through the network but it take time and consume bandwidth. I wanted to deploy it like in ant where ant build lib separately and project separately so that I only needed to deploy the executable jar with out supporting library files. Someone can enlighten me on that, so thankful.","title":"Build maven javafx project like ant","body":"<p>I have a small question. I don't know whether it is stupid. I had a legacy ant java swing project. I was able to migrate it to javafx with maven and I can build it with dependencies and run. but the thing is when I build it with dependencies, application size is little bit high. The thing is I wanted to deploy it to many places through the network but it take time and consume bandwidth. I wanted to deploy it like in ant where ant build lib separately and project separately so that I only needed to deploy the executable jar with out supporting library files. Someone can enlighten me on that, so thankful.</p>\n"},{"tags":["java","android","spring","spring-boot","webview"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1688810614,"post_id":76642187,"comment_id":135125977,"body_markdown":"I would upgrade to 2.7.13 rather than 2.7.0. If that doesn&#39;t help, if you `curl -i http://localhost/js/app/myApp.js` with 2.6.15 and 2.7.13 what output do you get in each case?","body":"I would upgrade to 2.7.13 rather than 2.7.0. If that doesn&#39;t help, if you <code>curl -i http:&#47;&#47;localhost&#47;js&#47;app&#47;myApp.js</code> with 2.6.15 and 2.7.13 what output do you get in each case?"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1688832129,"post_id":76642187,"comment_id":135128296,"body_markdown":"Both those responses look fine to me so It&#39;s not clear why the browser would complain about one and not the other. Please update your question with a [minimal, reproducible example](/help/mcve).","body":"Both those responses look fine to me so It&#39;s not clear why the browser would complain about one and not the other. Please update your question with a <a href=\"/help/mcve\">minimal, reproducible example</a>."}],"owner":{"account_id":5599655,"reputation":2173,"user_id":4436276,"accept_rate":46,"display_name":"Piotr Żak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688834843,"creation_date":1688807253,"question_id":76642187,"body_markdown":"I did upgrade from spring boot **2.6.15** to **2.7.0**\r\n\r\nMore about my set up:\r\n\r\n**html thymeleaf page named myPage.html**\r\n\r\n\r\nis in directory **myproject/src/main/resources/templates/html/myPage.html**\r\n\r\n  \r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;MyPage&lt;/title&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n        &lt;title&gt;&lt;/title&gt;\r\n        &lt;link href=&#39;https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons&#39; rel=&quot;stylesheet&quot;&gt;\r\n        &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; th:href=&quot;@{/img/favicon.png}&quot; /&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/app/myApp.js}&quot; &gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n**myApp.js** \r\n\r\nis in directory **myproject/src/main/resources/static/js/app/myApp.js**\r\n\r\n**spring controller**\r\n\r\n    package com.myapp;\r\n    \r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    \r\n    @Controller\r\n    public class ViewController {\r\n    \r\n      @GetMapping(&quot;/myPage&quot;)\r\n      public String myPage() {\r\n        return &quot;html/myPage&quot;;\r\n      }\r\n    \r\n    }\r\n\r\nBefore update to spring boot 2.7.0 I was able to load this html page containing javascript in my android app and everything was working fine using this code to load\r\n\r\n  \r\n      webView.getSettings().setJavaScriptEnabled(true);\r\n      webView.loadUrl(&quot;http://localhost:8080/myPage&quot;);\r\n\r\n\r\nAfter update to springboot 2.7.0\r\n\r\nI&#39;m receiving an error:\r\n\r\nI/chromium: [INFO:CONSOLE(0)] &quot;Refused to execute script from &#39;http://localhost:8080/js/app/myApp.js&#39; because its MIME type (&#39;&#39;) is not executable, and strict MIME type checking is enabled.&quot;, source: http://localhost/myPage (0)\r\n\r\n\r\nI was trying to find in release notes what was changed with MIME, Content-Type etc. but I found nothing https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes\r\nI also have checked deprecation list from 2.5.0 https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/deprecated-list.html\r\nbut again nothing. Maybe some body of you know what could happen and how to fix that?\r\n\r\nEdit:\r\n\r\nI have tried SpringBoot version 2.7.13 but the error remain the same.\r\n\r\nCurl for both 2.6.15 and 2.7.13 but result are the same. \r\n\r\n**2.6.15:**\r\n\r\n    HTTP/1.1 200 \r\n    Vary: origin,access-control-request-method,access-control-request-headers,accept-encoding\r\n    Last-Modified: Sat, 08 Jul 2023 08:49:59 GMT\r\n    Cache-Control: no-store\r\n    Accept-Ranges: bytes\r\n    X-Content-Type-Options: nosniff\r\n    X-XSS-Protection: 1; mode=block\r\n    X-Frame-Options: DENY\r\n    Content-Type: application/javascript\r\n    Content-Length: 2453575\r\n    Date: Sat, 08 Jul 2023 12:02:28 GMT\r\n\r\n**2.7.13:** \r\n\r\n    HTTP/1.1 200 \r\n    Vary: origin,access-control-request-method,access-control-request-headers,accept-encoding\r\n    Last-Modified: Sat, 08 Jul 2023 08:49:59 GMT\r\n    Cache-Control: no-store\r\n    Accept-Ranges: bytes\r\n    X-Content-Type-Options: nosniff\r\n    X-XSS-Protection: 1; mode=block\r\n    X-Frame-Options: DENY\r\n    Content-Type: application/javascript\r\n    Content-Length: 2453575\r\n    Date: Sat, 08 Jul 2023 11:53:14 GMT\r\n\r\nThere must be some change in spring serving content-type but how to track it?\r\n\r\n","title":"SpringBoot migration 2.6.15 to 2.7.0 error: because its MIME type (&#39;&#39;) is not executable, and strict MIME type checking is enabled","body":"<p>I did upgrade from spring boot <strong>2.6.15</strong> to <strong>2.7.0</strong></p>\n<p>More about my set up:</p>\n<p><strong>html thymeleaf page named myPage.html</strong></p>\n<p>is in directory <strong>myproject/src/main/resources/templates/html/myPage.html</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;MyPage&lt;/title&gt;\n    &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel=&quot;stylesheet&quot;&gt;\n    &lt;link rel=&quot;icon&quot; type=&quot;image/png&quot; th:href=&quot;@{/img/favicon.png}&quot; /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=&quot;app&quot;&gt;&lt;/div&gt;\n&lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/js/app/myApp.js}&quot; &gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>myApp.js</strong></p>\n<p>is in directory <strong>myproject/src/main/resources/static/js/app/myApp.js</strong></p>\n<p><strong>spring controller</strong></p>\n<pre><code>package com.myapp;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class ViewController {\n\n  @GetMapping(&quot;/myPage&quot;)\n  public String myPage() {\n    return &quot;html/myPage&quot;;\n  }\n\n}\n</code></pre>\n<p>Before update to spring boot 2.7.0 I was able to load this html page containing javascript in my android app and everything was working fine using this code to load</p>\n<pre><code>  webView.getSettings().setJavaScriptEnabled(true);\n  webView.loadUrl(&quot;http://localhost:8080/myPage&quot;);\n</code></pre>\n<p>After update to springboot 2.7.0</p>\n<p>I'm receiving an error:</p>\n<p>I/chromium: [INFO:CONSOLE(0)] &quot;Refused to execute script from 'http://localhost:8080/js/app/myApp.js' because its MIME type ('') is not executable, and strict MIME type checking is enabled.&quot;, source: http://localhost/myPage (0)</p>\n<p>I was trying to find in release notes what was changed with MIME, Content-Type etc. but I found nothing <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes</a>\nI also have checked deprecation list from 2.5.0 <a href=\"https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/deprecated-list.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/2.5.x/javadoc-api/deprecated-list.html</a>\nbut again nothing. Maybe some body of you know what could happen and how to fix that?</p>\n<p>Edit:</p>\n<p>I have tried SpringBoot version 2.7.13 but the error remain the same.</p>\n<p>Curl for both 2.6.15 and 2.7.13 but result are the same.</p>\n<p><strong>2.6.15:</strong></p>\n<pre><code>HTTP/1.1 200 \nVary: origin,access-control-request-method,access-control-request-headers,accept-encoding\nLast-Modified: Sat, 08 Jul 2023 08:49:59 GMT\nCache-Control: no-store\nAccept-Ranges: bytes\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nX-Frame-Options: DENY\nContent-Type: application/javascript\nContent-Length: 2453575\nDate: Sat, 08 Jul 2023 12:02:28 GMT\n</code></pre>\n<p><strong>2.7.13:</strong></p>\n<pre><code>HTTP/1.1 200 \nVary: origin,access-control-request-method,access-control-request-headers,accept-encoding\nLast-Modified: Sat, 08 Jul 2023 08:49:59 GMT\nCache-Control: no-store\nAccept-Ranges: bytes\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nX-Frame-Options: DENY\nContent-Type: application/javascript\nContent-Length: 2453575\nDate: Sat, 08 Jul 2023 11:53:14 GMT\n</code></pre>\n<p>There must be some change in spring serving content-type but how to track it?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":5906169,"reputation":10565,"user_id":4647853,"accept_rate":74,"display_name":"Michal Kordas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429970023,"creation_date":1429970023,"answer_id":29866062,"question_id":29866013,"body_markdown":"To provide default values for any type, you can use e.g. [ObjectUtils.firstNonNull(T...)][1] from Apache Commons or [MoreObjects.firstNonNull(T,T)][2] from Guava.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#firstNonNull(T...)\r\n  [2]: http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/MoreObjects.html#firstNonNull(T,%20T)","title":"What is corresponding method to StringUtils.defaultIfEmpty() but for LocalDate?","body":"<p>To provide default values for any type, you can use e.g. <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ObjectUtils.html#firstNonNull(T...)\" rel=\"nofollow\">ObjectUtils.firstNonNull(T...)</a> from Apache Commons or <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/base/MoreObjects.html#firstNonNull(T,%20T)\" rel=\"nofollow\">MoreObjects.firstNonNull(T,T)</a> from Guava.</p>\n"},{"tags":[],"owner":{"account_id":1808506,"reputation":308,"user_id":1645046,"accept_rate":27,"display_name":"Saransh Sharma"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688834439,"creation_date":1688834439,"answer_id":76643978,"question_id":29866013,"body_markdown":"With my case there was no way to check empty dates , but you can still do that using this method that I finally thought of sharing with anyone who gets lost in the java world \r\n\r\n1. First check if the localDate is null using the LocalDate.parse methods example here https://stackoverflow.com/questions/60626114/checking-if-localdatetime-is-null-in-a-conditional#:~:text=A%20simple%20if%20(dateSentFormatted%20!%3D,it%20still%20sometimes%20the%20clearest.\r\n2. Then decide what you wish to do either by creating a new object or instantiate for the date that you might want to specify like say today&#39;s date or depending on your use case. \r\n\r\nThanks","title":"What is corresponding method to StringUtils.defaultIfEmpty() but for LocalDate?","body":"<p>With my case there was no way to check empty dates , but you can still do that using this method that I finally thought of sharing with anyone who gets lost in the java world</p>\n<ol>\n<li>First check if the localDate is null using the LocalDate.parse methods example here https://stackoverflow.com/questions/60626114/checking-if-localdatetime-is-null-in-a-conditional#:~:text=A%20simple%20if%20(dateSentFormatted%20!%3D,it%20still%20sometimes%20the%20clearest.</li>\n<li>Then decide what you wish to do either by creating a new object or instantiate for the date that you might want to specify like say today's date or depending on your use case.</li>\n</ol>\n<p>Thanks</p>\n"}],"owner":{"account_id":1808506,"reputation":308,"user_id":1645046,"accept_rate":27,"display_name":"Saransh Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1058,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688834439,"creation_date":1429969695,"question_id":29866013,"body_markdown":"    private ClientIdentifier(final Client client, final CodeValue documentType, \r\n                             final String documentKey, final LocalDate validity, \r\n                             final String description) {\r\n        this.client = client;\r\n        this.documentType = documentType;\r\n        this.documentKey = StringUtils.defaultIfEmpty(documentKey, null);\r\n        this.validity = LocaleUtils.defaultIfEmpty(validity,null); // I am confused in this part\r\n        this.description = StringUtils.defaultIfEmpty(description, null);\r\n    }\r\n\r\nI am passing LocalDate but don&#39;t know which utility to use for checking defualtIfEmpty","title":"What is corresponding method to StringUtils.defaultIfEmpty() but for LocalDate?","body":"<pre><code>private ClientIdentifier(final Client client, final CodeValue documentType, \n                         final String documentKey, final LocalDate validity, \n                         final String description) {\n    this.client = client;\n    this.documentType = documentType;\n    this.documentKey = StringUtils.defaultIfEmpty(documentKey, null);\n    this.validity = LocaleUtils.defaultIfEmpty(validity,null); // I am confused in this part\n    this.description = StringUtils.defaultIfEmpty(description, null);\n}\n</code></pre>\n\n<p>I am passing LocalDate but don't know which utility to use for checking defualtIfEmpty</p>\n"},{"tags":["java","macos","jpackage",".app","notarize"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688702872,"creation_date":1688702872,"answer_id":76633886,"question_id":76468483,"body_markdown":"You are building `--type app-image`, which means jpackage will prepare all files on disk and terminate. You need a second jpackage run, starting off from the app-image and leading to either PKG or DMG.\r\n\r\nThis two step process can be used for cases where (for whatever reason) you need to add or tweak files that would be inside the package after the second step. For this reason I believe all code signing options should be valid for the second run only.\r\n\r\nIf you do not need the second run at all, run JPackage with `--type DMG` directly. As such files were always marked broken by MacOS (I guess it was the missing signature on my end) I switched to PKG and was positively surprised.","title":"jpackage is not finding certificates when using --mac- flags to sign before notarization on MacOS","body":"<p>You are building <code>--type app-image</code>, which means jpackage will prepare all files on disk and terminate. You need a second jpackage run, starting off from the app-image and leading to either PKG or DMG.</p>\n<p>This two step process can be used for cases where (for whatever reason) you need to add or tweak files that would be inside the package after the second step. For this reason I believe all code signing options should be valid for the second run only.</p>\n<p>If you do not need the second run at all, run JPackage with <code>--type DMG</code> directly. As such files were always marked broken by MacOS (I guess it was the missing signature on my end) I switched to PKG and was positively surprised.</p>\n"},{"tags":[],"owner":{"account_id":8306532,"reputation":119,"user_id":9951547,"display_name":"boolean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688834368,"creation_date":1688834368,"answer_id":76643972,"question_id":76468483,"body_markdown":"I found an issue in jpackage&#39;s code. My organization certificates have accentuation in the name. I&#39;m from Brasil, so we use a lot of accentuations here, like &quot;Jo&#227;o&quot; and &quot;Inform&#225;tica&quot;, etc.. \r\n\r\nThe option `--mac-sign` tells that jpackage should assign the package according with the certificates available in the keychain.\r\n\r\nWhen jpackage tries to find the certificates installed in the system with the command `/usr/bin/security find-certificate -c Developer ID Application: My Inform&#225;tica Organization` the output is something like this: \r\n\r\n```\r\n[12:12:45.999] Output:\r\n    keychain: &quot;/Users/MyUser/Library/Keychains/login.keychain-db&quot;\r\n    version: 512\r\n    class: 0x80001000 \r\n    attributes:\r\n        &quot;alis&quot;&lt;blob&gt;=0x446576656C6F7065722049443A20416E696D6174692053697374656D617320646520496E666F726DC3A174696361204C746461202D20455050202836355A3444  &quot;Developer ID Application: My Inform\\303\\241tica Organization (USER_ID)&quot;\r\n        &quot;cenc&quot;&lt;uint32&gt;=0x00000003 \r\n        &quot;ctyp&quot;&lt;uint32&gt;=0x00000001 \r\n        &quot;hpky&quot;&lt;blob&gt;=0x85815880BCCB6724HASH199EE84FE26B0C9F  &quot;\\205\\201X\\200\\274\\313g$\\002\\016\\014d\\031\\342k\\014\\237&quot;\r\n```\r\n\r\n\r\nThen, the `MacBaseInstallerBundler.java` class from JDK tries to match the output with the given `--mac-signing-key-user-name` parameter (in my case `My Inform&#225;tica Organization`) \r\n\r\n```\r\nPattern p = Pattern.compile(&quot;\\&quot;alis\\&quot;&lt;blob&gt;=\\&quot;([^\\&quot;]+)\\&quot;&quot;);\r\nMatcher m = p.matcher(baos.toString());\r\nif (!m.find()) {\r\n   Log.error(MessageFormat.format(I18N.getString(&quot;error.cert.not.found&quot;), key, keychainName));\r\n   return null;\r\n}\r\n```\r\n\r\nThe matcher doesn&#39;t find my developer certificate because it is looking for `My Inform&#225;tica Organization` but the output returns `My Inform\\303\\241tica Organization`.\r\n\r\nAnd we see the message in the logs: `No certificate found matching [{0}] using keychain [{1}]`\r\n\r\nAll of that is at jpackage&#39;s code from [openJDK17][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk17\r\n  [2]: https://i.stack.imgur.com/rcTCQ.png\r\n\r\nI really don&#39;t known if there is an option in Mac system or in Java that returns the output from `security find-certificate` in UTF-8. As I was running out of time, the easiest solution was to make another apple account.\r\n\r\n**Solution:** I had to make another apple account WITHOUT accentuation in my name (My Informatica Organization) and ask again to enroll in the apple&#39;s developer program.\r\n\r\n[EDIT] I already sent an e-mail to jdk bug report, but no response.\r\n","title":"jpackage is not finding certificates when using --mac- flags to sign before notarization on MacOS","body":"<p>I found an issue in jpackage's code. My organization certificates have accentuation in the name. I'm from Brasil, so we use a lot of accentuations here, like &quot;João&quot; and &quot;Informática&quot;, etc..</p>\n<p>The option <code>--mac-sign</code> tells that jpackage should assign the package according with the certificates available in the keychain.</p>\n<p>When jpackage tries to find the certificates installed in the system with the command <code>/usr/bin/security find-certificate -c Developer ID Application: My Informática Organization</code> the output is something like this:</p>\n<pre><code>[12:12:45.999] Output:\n    keychain: &quot;/Users/MyUser/Library/Keychains/login.keychain-db&quot;\n    version: 512\n    class: 0x80001000 \n    attributes:\n        &quot;alis&quot;&lt;blob&gt;=0x446576656C6F7065722049443A20416E696D6174692053697374656D617320646520496E666F726DC3A174696361204C746461202D20455050202836355A3444  &quot;Developer ID Application: My Inform\\303\\241tica Organization (USER_ID)&quot;\n        &quot;cenc&quot;&lt;uint32&gt;=0x00000003 \n        &quot;ctyp&quot;&lt;uint32&gt;=0x00000001 \n        &quot;hpky&quot;&lt;blob&gt;=0x85815880BCCB6724HASH199EE84FE26B0C9F  &quot;\\205\\201X\\200\\274\\313g$\\002\\016\\014d\\031\\342k\\014\\237&quot;\n</code></pre>\n<p>Then, the <code>MacBaseInstallerBundler.java</code> class from JDK tries to match the output with the given <code>--mac-signing-key-user-name</code> parameter (in my case <code>My Informática Organization</code>)</p>\n<pre><code>Pattern p = Pattern.compile(&quot;\\&quot;alis\\&quot;&lt;blob&gt;=\\&quot;([^\\&quot;]+)\\&quot;&quot;);\nMatcher m = p.matcher(baos.toString());\nif (!m.find()) {\n   Log.error(MessageFormat.format(I18N.getString(&quot;error.cert.not.found&quot;), key, keychainName));\n   return null;\n}\n</code></pre>\n<p>The matcher doesn't find my developer certificate because it is looking for <code>My Informática Organization</code> but the output returns <code>My Inform\\303\\241tica Organization</code>.</p>\n<p>And we see the message in the logs: <code>No certificate found matching [{0}] using keychain [{1}]</code></p>\n<p>All of that is at jpackage's code from <a href=\"https://github.com/openjdk/jdk17\" rel=\"nofollow noreferrer\">openJDK17</a></p>\n<p><a href=\"https://i.stack.imgur.com/rcTCQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rcTCQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I really don't known if there is an option in Mac system or in Java that returns the output from <code>security find-certificate</code> in UTF-8. As I was running out of time, the easiest solution was to make another apple account.</p>\n<p><strong>Solution:</strong> I had to make another apple account WITHOUT accentuation in my name (My Informatica Organization) and ask again to enroll in the apple's developer program.</p>\n<p>[EDIT] I already sent an e-mail to jdk bug report, but no response.</p>\n"}],"owner":{"account_id":8306532,"reputation":119,"user_id":9951547,"display_name":"boolean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76643972,"answer_count":2,"score":0,"last_activity_date":1688834368,"creation_date":1686687916,"question_id":76468483,"body_markdown":"I&#39;m trying to build an app-image for macos with the following `jpackage` version:\r\n```\r\nopenjdk 17.0.2 2022-01-18\r\nOpenJDK Runtime Environment (build 17.0.2+8-86)\r\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\r\n```\r\n\r\nI&#39;m using a bash file to build the command:\r\n\r\n```\r\n&quot;$JDK/bin/jpackage&quot; --type app-image --input &quot;$INPUT/target/&quot; --dest &quot;$INPUT/target/output&quot; --name &quot;$NAME&quot; \\\r\n  --main-jar my-jar.jar --main-class org.test.Launcher --add-modules &quot;$JDK_MODULES&quot; \\\r\n  --resource-dir &quot;$RES&quot; --copyright &quot;$COPYRIGHT&quot; --app-version &quot;$VERSION&quot; --description &quot;$DESC&quot; --vendor &quot;$VENDOR&quot; \\\r\n  --verbose --mac-package-identifier &quot;$IDENTIFIER&quot; --mac-sign --mac-package-signing-prefix &quot;$IDENTIFIER&quot; \\\r\n  --mac-signing-key-user-name &quot;My Organization (USER_ID_OF_CERTIFICATE)&quot; \\\r\n  --mac-signing-keychain &quot;/Users/MyUser/Library/Keychains/login.keychain-db&quot;\r\n```\r\n\r\nThe complete output of this command is the following:\r\n\r\n\r\n```\r\n[16:59:06.497] Running /usr/bin/security\r\n[16:59:06.527] Command [PID: 20771]:\r\n    /usr/bin/security find-certificate -c Developer ID Application: My Organization (USER_ID_OF_CERTIFICATE) -a /Users/MyUser/Library/Keychains/login.keychain-db\r\n[16:59:06.527] Output:\r\n    keychain: &quot;/Users/MyUser/Library/Keychains/login.keychain-db&quot;\r\n    version: 512\r\n    class: 0x80001000 \r\n    attributes:\r\n        [omitted by me]\r\n[16:59:06.530] Returned: 0\r\n\r\n[16:59:06.531] jdk.jpackage.internal.ConfigException: Signature explicitly requested but no signing certificate found\r\n\tat jdk.jpackage/jdk.jpackage.internal.MacAppBundler.doValidate(MacAppBundler.java:136)\r\n\tat jdk.jpackage/jdk.jpackage.internal.AppImageBundler.validate(AppImageBundler.java:70)\r\n\tat jdk.jpackage/jdk.jpackage.internal.Arguments.generateBundle(Arguments.java:675)\r\n\tat jdk.jpackage/jdk.jpackage.internal.Arguments.processArguments(Arguments.java:550)\r\n\tat jdk.jpackage/jdk.jpackage.main.Main.execute(Main.java:91)\r\n\tat jdk.jpackage/jdk.jpackage.main.Main.main(Main.java:52)\r\n[16:59:06.533] jdk.jpackage.internal.PackagerException: Bundler Mac Application Image skipped because of a configuration problem: Signature explicitly requested but no signing certificate found \r\nAdvice to fix: Specify a valid mac-signing-key-user-name and mac-signing-keychain\r\n\tat jdk.jpackage/jdk.jpackage.internal.Arguments.generateBundle(Arguments.java:688)\r\n\tat jdk.jpackage/jdk.jpackage.internal.Arguments.processArguments(Arguments.java:550)\r\n\tat jdk.jpackage/jdk.jpackage.main.Main.execute(Main.java:91)\r\n\tat jdk.jpackage/jdk.jpackage.main.Main.main(Main.java:52)\r\nCaused by: jdk.jpackage.internal.ConfigException: Signature explicitly requested but no signing certificate found\r\n\tat jdk.jpackage/jdk.jpackage.internal.MacAppBundler.doValidate(MacAppBundler.java:136)\r\n\tat jdk.jpackage/jdk.jpackage.internal.AppImageBundler.validate(AppImageBundler.java:70)\r\n\tat jdk.jpackage/jdk.jpackage.internal.Arguments.generateBundle(Arguments.java:675)\r\n\t... 3 more\r\n[16:59:06.531] No certificate found matching [Developer ID Application: My Organization (USER_ID_OF_CERTIFICATE)] using keychain [/Users/MyUser/Library/Keychains/login.keychain-db]\r\n```\r\n\r\nIn addition, the requested Developer ID Application is at the keychain:\r\n\r\n```\r\nsecurity find-identity -v -p codesigning\r\n  1) HASH_ID_HERE &quot;Developer ID Application: My Organization (USER_ID_OF_CERTIFICATE)&quot;\r\n     1 valid identities found\r\n```\r\n\r\n\r\nCan anyone help with this issue? I already found some articles about, but without success.\r\n\r\nThis issue relates with this [one here][1], **I was not** using the `--mac-` flags but then I was having problems with notarization with the same `libjli.dylib`. This post is me trying the solution of the old one.\r\n\r\n```json\r\n{\r\n  &quot;logFormatVersion&quot;: 1,\r\n  &quot;status&quot;: &quot;Invalid&quot;,\r\n  &quot;statusSummary&quot;: &quot;Archive contains critical validation errors&quot;,\r\n  &quot;statusCode&quot;: 4000,\r\n  &quot;issues&quot;: [\r\n    {\r\n      &quot;severity&quot;: &quot;error&quot;,\r\n      &quot;code&quot;: null,\r\n      &quot;path&quot;: &quot;path/to/my/APP.app/Contents/runtime/Contents/MacOS/libjli.dylib&quot;,\r\n      &quot;message&quot;: &quot;The signature of the binary is invalid.&quot;,\r\n      &quot;docUrl&quot;: &quot;https://developer.apple.com/documentation/security/notarizing_macos_software_before_distribution/resolving_common_notarization_issues#3087735&quot;,\r\n      &quot;architecture&quot;: &quot;x86_64&quot;\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70813502/apple-macos-app-notarisation-fails-due-to-libjli-dylib-in-temurin-jdk","title":"jpackage is not finding certificates when using --mac- flags to sign before notarization on MacOS","body":"<p>I'm trying to build an app-image for macos with the following <code>jpackage</code> version:</p>\n<pre><code>openjdk 17.0.2 2022-01-18\nOpenJDK Runtime Environment (build 17.0.2+8-86)\nOpenJDK 64-Bit Server VM (build 17.0.2+8-86, mixed mode, sharing)\n</code></pre>\n<p>I'm using a bash file to build the command:</p>\n<pre><code>&quot;$JDK/bin/jpackage&quot; --type app-image --input &quot;$INPUT/target/&quot; --dest &quot;$INPUT/target/output&quot; --name &quot;$NAME&quot; \\\n  --main-jar my-jar.jar --main-class org.test.Launcher --add-modules &quot;$JDK_MODULES&quot; \\\n  --resource-dir &quot;$RES&quot; --copyright &quot;$COPYRIGHT&quot; --app-version &quot;$VERSION&quot; --description &quot;$DESC&quot; --vendor &quot;$VENDOR&quot; \\\n  --verbose --mac-package-identifier &quot;$IDENTIFIER&quot; --mac-sign --mac-package-signing-prefix &quot;$IDENTIFIER&quot; \\\n  --mac-signing-key-user-name &quot;My Organization (USER_ID_OF_CERTIFICATE)&quot; \\\n  --mac-signing-keychain &quot;/Users/MyUser/Library/Keychains/login.keychain-db&quot;\n</code></pre>\n<p>The complete output of this command is the following:</p>\n<pre><code>[16:59:06.497] Running /usr/bin/security\n[16:59:06.527] Command [PID: 20771]:\n    /usr/bin/security find-certificate -c Developer ID Application: My Organization (USER_ID_OF_CERTIFICATE) -a /Users/MyUser/Library/Keychains/login.keychain-db\n[16:59:06.527] Output:\n    keychain: &quot;/Users/MyUser/Library/Keychains/login.keychain-db&quot;\n    version: 512\n    class: 0x80001000 \n    attributes:\n        [omitted by me]\n[16:59:06.530] Returned: 0\n\n[16:59:06.531] jdk.jpackage.internal.ConfigException: Signature explicitly requested but no signing certificate found\n    at jdk.jpackage/jdk.jpackage.internal.MacAppBundler.doValidate(MacAppBundler.java:136)\n    at jdk.jpackage/jdk.jpackage.internal.AppImageBundler.validate(AppImageBundler.java:70)\n    at jdk.jpackage/jdk.jpackage.internal.Arguments.generateBundle(Arguments.java:675)\n    at jdk.jpackage/jdk.jpackage.internal.Arguments.processArguments(Arguments.java:550)\n    at jdk.jpackage/jdk.jpackage.main.Main.execute(Main.java:91)\n    at jdk.jpackage/jdk.jpackage.main.Main.main(Main.java:52)\n[16:59:06.533] jdk.jpackage.internal.PackagerException: Bundler Mac Application Image skipped because of a configuration problem: Signature explicitly requested but no signing certificate found \nAdvice to fix: Specify a valid mac-signing-key-user-name and mac-signing-keychain\n    at jdk.jpackage/jdk.jpackage.internal.Arguments.generateBundle(Arguments.java:688)\n    at jdk.jpackage/jdk.jpackage.internal.Arguments.processArguments(Arguments.java:550)\n    at jdk.jpackage/jdk.jpackage.main.Main.execute(Main.java:91)\n    at jdk.jpackage/jdk.jpackage.main.Main.main(Main.java:52)\nCaused by: jdk.jpackage.internal.ConfigException: Signature explicitly requested but no signing certificate found\n    at jdk.jpackage/jdk.jpackage.internal.MacAppBundler.doValidate(MacAppBundler.java:136)\n    at jdk.jpackage/jdk.jpackage.internal.AppImageBundler.validate(AppImageBundler.java:70)\n    at jdk.jpackage/jdk.jpackage.internal.Arguments.generateBundle(Arguments.java:675)\n    ... 3 more\n[16:59:06.531] No certificate found matching [Developer ID Application: My Organization (USER_ID_OF_CERTIFICATE)] using keychain [/Users/MyUser/Library/Keychains/login.keychain-db]\n</code></pre>\n<p>In addition, the requested Developer ID Application is at the keychain:</p>\n<pre><code>security find-identity -v -p codesigning\n  1) HASH_ID_HERE &quot;Developer ID Application: My Organization (USER_ID_OF_CERTIFICATE)&quot;\n     1 valid identities found\n</code></pre>\n<p>Can anyone help with this issue? I already found some articles about, but without success.</p>\n<p>This issue relates with this <a href=\"https://stackoverflow.com/questions/70813502/apple-macos-app-notarisation-fails-due-to-libjli-dylib-in-temurin-jdk\">one here</a>, <strong>I was not</strong> using the <code>--mac-</code> flags but then I was having problems with notarization with the same <code>libjli.dylib</code>. This post is me trying the solution of the old one.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;logFormatVersion&quot;: 1,\n  &quot;status&quot;: &quot;Invalid&quot;,\n  &quot;statusSummary&quot;: &quot;Archive contains critical validation errors&quot;,\n  &quot;statusCode&quot;: 4000,\n  &quot;issues&quot;: [\n    {\n      &quot;severity&quot;: &quot;error&quot;,\n      &quot;code&quot;: null,\n      &quot;path&quot;: &quot;path/to/my/APP.app/Contents/runtime/Contents/MacOS/libjli.dylib&quot;,\n      &quot;message&quot;: &quot;The signature of the binary is invalid.&quot;,\n      &quot;docUrl&quot;: &quot;https://developer.apple.com/documentation/security/notarizing_macos_software_before_distribution/resolving_common_notarization_issues#3087735&quot;,\n      &quot;architecture&quot;: &quot;x86_64&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","oop","nullpointerexception"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1688830639,"post_id":76643551,"comment_id":135128144,"body_markdown":"Please provide a [mre] and the full exception stacktrace","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the full exception stacktrace"},{"owner":{"account_id":26213183,"reputation":5,"user_id":19891678,"display_name":"Johann"},"score":0,"creation_date":1688831664,"post_id":76643551,"comment_id":135128243,"body_markdown":"I&#39;ll edit the post","body":"I&#39;ll edit the post"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1688886520,"post_id":76643551,"comment_id":135132313,"body_markdown":"You haven&#39;t provided a [mre]. From the print out it is obvious that `computerGuess` is `null`. Find out why.","body":"You haven&#39;t provided a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. From the print out it is obvious that <code>computerGuess</code> is <code>null</code>. Find out why."}],"answers":[{"tags":[],"owner":{"account_id":15823709,"reputation":25,"user_id":11417309,"display_name":"xScub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688832149,"creation_date":1688832149,"answer_id":76643815,"question_id":76643551,"body_markdown":"I can only assume that it is because when you call \r\n\r\n    computerGuess = easy.getComputerGuess(attempt);\r\nThe attempt is == 1 and you `return getSecretCode().`\r\nI don&#39;t see where this secret code is being initialized so I can only assume it is null.\r\n\r\nI would start looking there to make sure the secretcode is being initialized correctly.","title":"NullPointerException even though my variables are declared and initialized?","body":"<p>I can only assume that it is because when you call</p>\n<pre><code>computerGuess = easy.getComputerGuess(attempt);\n</code></pre>\n<p>The attempt is == 1 and you <code>return getSecretCode().</code>\nI don't see where this secret code is being initialized so I can only assume it is null.</p>\n<p>I would start looking there to make sure the secretcode is being initialized correctly.</p>\n"}],"owner":{"account_id":26213183,"reputation":5,"user_id":19891678,"display_name":"Johann"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688832149,"creation_date":1688828396,"question_id":76643551,"body_markdown":"My code works in the beginning where A user inputs their code for the AI to solve using a randomly generated 4-digit number with each digit being unique from one another.\r\n\r\nMain Class\r\n\r\n```\r\n            playerGuess = easy.getPlayerGuess(attempt);\r\n            computerGuess = easy.getComputerGuess(attempt);\r\n            \r\n            System.out.println(playerGuess+&quot; &quot;+computerGuess);\r\n            \r\n            easy.countBulls(playerGuess, computerCode);\r\n            easy.countCows(playerGuess, computerCode);\r\n            easy.countCompBulls(computerGuess, playerCode);\r\n            easy.countCompCows(computerGuess, playerCode);\r\n```\r\n\r\nI call a getter to initialize the variable of &quot;computerGuess&quot; and that getter produces its values. But when returned to be counted it says that the variable is null.\r\n\r\nCounter Class\r\n\r\n```\r\n    public void countCompBulls(String Cguess, String UsecretCode) {\r\n        setCompBulls(0);\r\n        for (int i = 0; i &lt; getCodeLength(); i++) {\r\n            if (Cguess.charAt(i) == getUserCode().charAt(i)) {\r\n                int ctr = 0;\r\n                setCompBulls(ctr++);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nGetter\r\n\r\n```\r\n    public String getComputerGuess(int attempt) {\r\n        if (attempt == 1){ \r\n            return getSecretCode();\r\n        }\r\n        String compGuess = generateUniqueRandomCode();\r\n        return compGuess;\r\n    }\r\n```\r\n\r\nCode Generator Class\r\n\r\n```\r\n    public String generateCompCode() {\r\n        List&lt;Integer&gt; digits = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt;= 9; i++) {\r\n            digits.add(i);\r\n        }\r\n        Collections.shuffle(digits);\r\n\r\n        StringBuilder codeBuilder = new StringBuilder();\r\n        for (int i = 0; i &lt; CODE_LENGTH; i++) {\r\n            codeBuilder.append(digits.get(i));\r\n        }\r\n        \r\n        return codeBuilder.toString();\r\n    }\r\n    \r\n    public String generateUniqueRandomCode() {\r\n        String CompCode;\r\n        do {\r\n            CompCode = generateCompCode();\r\n        } while (!isValidCode(CompCode));\r\n        return CompCode;\r\n    }\r\n```\r\n\r\nAs far as I know these are the ones involved in generating that random number.\r\n\r\nI tried placing the &quot;computerGuess&quot; outside the for loop block that it is in to see if anything changes. Same thing happened when I placed it as a class variable.\r\n\r\nComplete Main Code:\r\n\r\n      public static void playGame() {\r\n      System.out.println(&quot;Choose 1 for Easy AI, Choose 2 for Medium AI&quot;);\r\n      int choice = in.nextInt();\r\n    \r\n    \r\n      p.getPlayerCodeFromUser();\r\n      String playerCode = p.getUserCode();\r\n      p.setSecretCode();\r\n      String computerCode = p.getSecretCode(); \r\n\r\n      String playerGuess = &quot;&quot;;\r\n      String computerGuess;\r\n      for (int attempt = 1; attempt &lt;= 7; attempt++) {\r\n        System.out.println(&quot;\\nAttempt &quot; + attempt);\r\n        \r\n        if(choice == 1){\r\n            \r\n        playerGuess = easy.getPlayerGuess(attempt);\r\n        computerGuess = easy.getComputerGuess(attempt);\r\n        \r\n        System.out.println(playerGuess+&quot; &quot;+computerGuess);\r\n        \r\n        easy.countBulls(playerGuess, computerCode);\r\n        easy.countCows(playerGuess, computerCode);\r\n        easy.countCompBulls(computerGuess, playerCode);\r\n        easy.countCompCows(computerGuess, playerCode);\r\n        }\r\n\r\n\r\nGetter Class:\r\n    \r\n\r\n        public String getComputerGuess(int attempt) {\r\n        if (attempt == 1){ \r\n            return getSecretCode();\r\n        }\r\n        String compGuess = generateUniqueRandomCode();\r\n        return compGuess;\r\n        }\r\n\r\n            public void countCompBulls(String Cguess, String UsecretCode) \r\n        {\r\n        setCompBulls(0);\r\n        for (int i = 0; i &lt; getCodeLength(); i++) {\r\n            if (Cguess.charAt(i) == getUserCode().charAt(i)) {\r\n                int ctr = 0;\r\n                setCompBulls(ctr++);\r\n         }\r\n         }\r\n         }\r\n    \r\n        public void countCompCows(String Cguess, String UsecretCode) {\r\n        setCompCows(0);\r\n        for (int i = 0; i &lt; getCodeLength(); i++) {\r\n            if (Cguess.charAt(i) != UsecretCode.charAt(i) &amp;&amp; \r\n        UsecretCode.contains(String.valueOf(Cguess.charAt(i)))) {\r\n                int ctr = 0;\r\n                setCompCows(ctr++);\r\n        }\r\n        }\r\n        } \r\n\r\nExample and Stack Trace:\r\n\r\n    Welcome to Bulls and Cows Game!\r\n    You will be playing against the computer.\r\n    Try to guess each other&#39;s secret code.\r\n    Choose 1 for Easy AI, Choose 2 for Medium AI\r\n    1\r\n    \r\n    Attempt 1\r\n    Enter your secret code (4 digits, no repeated digits): 1234\r\n    Enter your guess (attempt 1): 1234\r\n    1234 null\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;String.charAt(int)&quot; because &quot;Cguess&quot; is null\r\n    \tat Task4.EasyAi.countCompBulls(EasyAi.java:49)\r\n    \tat Task4.Task4Main.playGame(Task4Main.java:46)\r\n    \tat Task4.Task4Main.main(Task4Main.java:14)\r\n    Local\\NetBeans\\Cache\\18\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\n    Local\\NetBeans\\Cache\\18\\executor-snippets\\run.xml:68: Java returned: 1\r\n    BUILD FAILED (total time: 14 seconds)","title":"NullPointerException even though my variables are declared and initialized?","body":"<p>My code works in the beginning where A user inputs their code for the AI to solve using a randomly generated 4-digit number with each digit being unique from one another.</p>\n<p>Main Class</p>\n<pre><code>            playerGuess = easy.getPlayerGuess(attempt);\n            computerGuess = easy.getComputerGuess(attempt);\n            \n            System.out.println(playerGuess+&quot; &quot;+computerGuess);\n            \n            easy.countBulls(playerGuess, computerCode);\n            easy.countCows(playerGuess, computerCode);\n            easy.countCompBulls(computerGuess, playerCode);\n            easy.countCompCows(computerGuess, playerCode);\n</code></pre>\n<p>I call a getter to initialize the variable of &quot;computerGuess&quot; and that getter produces its values. But when returned to be counted it says that the variable is null.</p>\n<p>Counter Class</p>\n<pre><code>    public void countCompBulls(String Cguess, String UsecretCode) {\n        setCompBulls(0);\n        for (int i = 0; i &lt; getCodeLength(); i++) {\n            if (Cguess.charAt(i) == getUserCode().charAt(i)) {\n                int ctr = 0;\n                setCompBulls(ctr++);\n            }\n        }\n    }\n</code></pre>\n<p>Getter</p>\n<pre><code>    public String getComputerGuess(int attempt) {\n        if (attempt == 1){ \n            return getSecretCode();\n        }\n        String compGuess = generateUniqueRandomCode();\n        return compGuess;\n    }\n</code></pre>\n<p>Code Generator Class</p>\n<pre><code>    public String generateCompCode() {\n        List&lt;Integer&gt; digits = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt;= 9; i++) {\n            digits.add(i);\n        }\n        Collections.shuffle(digits);\n\n        StringBuilder codeBuilder = new StringBuilder();\n        for (int i = 0; i &lt; CODE_LENGTH; i++) {\n            codeBuilder.append(digits.get(i));\n        }\n        \n        return codeBuilder.toString();\n    }\n    \n    public String generateUniqueRandomCode() {\n        String CompCode;\n        do {\n            CompCode = generateCompCode();\n        } while (!isValidCode(CompCode));\n        return CompCode;\n    }\n</code></pre>\n<p>As far as I know these are the ones involved in generating that random number.</p>\n<p>I tried placing the &quot;computerGuess&quot; outside the for loop block that it is in to see if anything changes. Same thing happened when I placed it as a class variable.</p>\n<p>Complete Main Code:</p>\n<pre><code>  public static void playGame() {\n  System.out.println(&quot;Choose 1 for Easy AI, Choose 2 for Medium AI&quot;);\n  int choice = in.nextInt();\n\n\n  p.getPlayerCodeFromUser();\n  String playerCode = p.getUserCode();\n  p.setSecretCode();\n  String computerCode = p.getSecretCode(); \n\n  String playerGuess = &quot;&quot;;\n  String computerGuess;\n  for (int attempt = 1; attempt &lt;= 7; attempt++) {\n    System.out.println(&quot;\\nAttempt &quot; + attempt);\n    \n    if(choice == 1){\n        \n    playerGuess = easy.getPlayerGuess(attempt);\n    computerGuess = easy.getComputerGuess(attempt);\n    \n    System.out.println(playerGuess+&quot; &quot;+computerGuess);\n    \n    easy.countBulls(playerGuess, computerCode);\n    easy.countCows(playerGuess, computerCode);\n    easy.countCompBulls(computerGuess, playerCode);\n    easy.countCompCows(computerGuess, playerCode);\n    }\n</code></pre>\n<p>Getter Class:</p>\n<pre><code>    public String getComputerGuess(int attempt) {\n    if (attempt == 1){ \n        return getSecretCode();\n    }\n    String compGuess = generateUniqueRandomCode();\n    return compGuess;\n    }\n\n        public void countCompBulls(String Cguess, String UsecretCode) \n    {\n    setCompBulls(0);\n    for (int i = 0; i &lt; getCodeLength(); i++) {\n        if (Cguess.charAt(i) == getUserCode().charAt(i)) {\n            int ctr = 0;\n            setCompBulls(ctr++);\n     }\n     }\n     }\n\n    public void countCompCows(String Cguess, String UsecretCode) {\n    setCompCows(0);\n    for (int i = 0; i &lt; getCodeLength(); i++) {\n        if (Cguess.charAt(i) != UsecretCode.charAt(i) &amp;&amp; \n    UsecretCode.contains(String.valueOf(Cguess.charAt(i)))) {\n            int ctr = 0;\n            setCompCows(ctr++);\n    }\n    }\n    } \n</code></pre>\n<p>Example and Stack Trace:</p>\n<pre><code>Welcome to Bulls and Cows Game!\nYou will be playing against the computer.\nTry to guess each other's secret code.\nChoose 1 for Easy AI, Choose 2 for Medium AI\n1\n\nAttempt 1\nEnter your secret code (4 digits, no repeated digits): 1234\nEnter your guess (attempt 1): 1234\n1234 null\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;String.charAt(int)&quot; because &quot;Cguess&quot; is null\n    at Task4.EasyAi.countCompBulls(EasyAi.java:49)\n    at Task4.Task4Main.playGame(Task4Main.java:46)\n    at Task4.Task4Main.main(Task4Main.java:14)\nLocal\\NetBeans\\Cache\\18\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nLocal\\NetBeans\\Cache\\18\\executor-snippets\\run.xml:68: Java returned: 1\nBUILD FAILED (total time: 14 seconds)\n</code></pre>\n"},{"tags":["java","android","android-studio","webview","copy-paste"],"comments":[{"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"score":0,"creation_date":1689164610,"post_id":76643785,"comment_id":135174183,"body_markdown":"Any idea?????????","body":"Any idea?????????"},{"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"score":0,"creation_date":1689235216,"post_id":76643785,"comment_id":135185315,"body_markdown":"Maybe something could be done using the `menu` object?","body":"Maybe something could be done using the <code>menu</code> object?"}],"owner":{"account_id":16093327,"reputation":300,"user_id":12632670,"display_name":"chris oojer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688831675,"creation_date":1688831675,"question_id":76643785,"body_markdown":"I am adding a menu item for texts selection. Normally it shows cut, copy, paste, etc. I added a one more item to this menu and named the item as &quot;FORMAT&quot;.\r\n\r\nFor this I added the following code in my Activity Java\r\n\r\n    @Override\r\n    public void onActionModeStarted(ActionMode mode) {\r\n        super.onActionModeStarted(mode);\r\n        Menu menu = mode.getMenu();\r\n        //menu.clear();\r\n        mode.getMenuInflater().inflate(R.menu.compose, menu);\r\n    }\r\n\r\n\r\nI have added the &quot;FORMAT&quot; following by this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n        &lt;item android:id=&quot;@+id/format&quot;\r\n            android:title=&quot;FORMAT&quot;\r\n            android:visible=&quot;true&quot;\r\n            app:showAsAction=&quot;never&quot; /&gt;\r\n\r\n    &lt;/menu&gt;\r\n\r\n\r\nI am able to get my menu item while long press on texts.. Below is the screen, which reflects my menu item.\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nNow I want to move the menu item &quot;FORMAT&quot; to the start of the menu next to the &quot;Cut&quot; menu, but I have got no idea how to do this.\r\n\r\nHere is what I want to achieve:\r\n\r\n[![enter code here][2]][2]\r\n\r\n\r\nCan you please show me an example how I can move the menu &quot;FORMAT&quot; next to &quot;Cut&quot;??\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7chUM.png\r\n  [2]: https://i.stack.imgur.com/HbeNr.png","title":"Android how to move the menu item next to cut menu item?","body":"<p>I am adding a menu item for texts selection. Normally it shows cut, copy, paste, etc. I added a one more item to this menu and named the item as &quot;FORMAT&quot;.</p>\n<p>For this I added the following code in my Activity Java</p>\n<pre><code>@Override\npublic void onActionModeStarted(ActionMode mode) {\n    super.onActionModeStarted(mode);\n    Menu menu = mode.getMenu();\n    //menu.clear();\n    mode.getMenuInflater().inflate(R.menu.compose, menu);\n}\n</code></pre>\n<p>I have added the &quot;FORMAT&quot; following by this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;item android:id=&quot;@+id/format&quot;\n        android:title=&quot;FORMAT&quot;\n        android:visible=&quot;true&quot;\n        app:showAsAction=&quot;never&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>I am able to get my menu item while long press on texts.. Below is the screen, which reflects my menu item.</p>\n<p><a href=\"https://i.stack.imgur.com/7chUM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7chUM.png\" alt=\"enter image description here\" /></a></p>\n<p>Now I want to move the menu item &quot;FORMAT&quot; to the start of the menu next to the &quot;Cut&quot; menu, but I have got no idea how to do this.</p>\n<p>Here is what I want to achieve:</p>\n<p><a href=\"https://i.stack.imgur.com/HbeNr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HbeNr.png\" alt=\"enter code here\" /></a></p>\n<p>Can you please show me an example how I can move the menu &quot;FORMAT&quot; next to &quot;Cut&quot;??</p>\n"},{"tags":["java","math"],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688830721,"creation_date":1688830416,"answer_id":76643681,"question_id":76643530,"body_markdown":"Calculation starts with zero values. During exchanges persons&#39; balances reach negative values. \r\n\r\nTo make **real** exchanges, you have to **add absolute value of minimal** negative balances, so balances never will negative.\r\n\r\nImagine graph of balance for a person. It is saw-like polyline, and you have to lift it up until the most bottom teeth becomes 0. \r\n\r\n(add value 3 for this graph)\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2vyD6.png","title":"min value required to process all values","body":"<p>Calculation starts with zero values. During exchanges persons' balances reach negative values.</p>\n<p>To make <strong>real</strong> exchanges, you have to <strong>add absolute value of minimal</strong> negative balances, so balances never will negative.</p>\n<p>Imagine graph of balance for a person. It is saw-like polyline, and you have to lift it up until the most bottom teeth becomes 0.</p>\n<p>(add value 3 for this graph)</p>\n<p><a href=\"https://i.stack.imgur.com/2vyD6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2vyD6.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76643681,"answer_count":1,"score":0,"last_activity_date":1688831642,"creation_date":1688828089,"question_id":76643530,"body_markdown":"There are two persons`(A, B)` and they exchanges money with each other. \r\n\r\nFor example, \r\n\r\n    values to be exchanged {50,50,50,50}\r\n    value from whom to whom {ABAB}\r\n\r\nIn `from whom to whom`, at every char index shows that person who is on receiving end to get money. Like at `index 0`, `A` will be getting money from `B`. Amount value at every exchange will be the at the same index in `values to be exchanged` as character index in `from whom to whom`\r\n\r\n\r\nI want to know, min initial money required for each A and B to complete this whole exchange (`values to be exchanged &amp; value from whom to whom` )\r\n\r\n\r\n\r\n\r\n    \r\n\r\n    \r\n\r\n\r\nThis is the code, I&#39;m just trying to understand the math over here, How negated min value is becoming the min balances required to complete the whole exchange ? Code I can understand but not the math behind it","title":"min value required to process all values","body":"<p>There are two persons<code>(A, B)</code> and they exchanges money with each other.</p>\n<p>For example,</p>\n<pre><code>values to be exchanged {50,50,50,50}\nvalue from whom to whom {ABAB}\n</code></pre>\n<p>In <code>from whom to whom</code>, at every char index shows that person who is on receiving end to get money. Like at <code>index 0</code>, <code>A</code> will be getting money from <code>B</code>. Amount value at every exchange will be the at the same index in <code>values to be exchanged</code> as character index in <code>from whom to whom</code></p>\n<p>I want to know, min initial money required for each A and B to complete this whole exchange (<code>values to be exchanged &amp; value from whom to whom</code> )</p>\n<p>This is the code, I'm just trying to understand the math over here, How negated min value is becoming the min balances required to complete the whole exchange ? Code I can understand but not the math behind it</p>\n"},{"tags":["java","swing","jfreechart"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688836527,"post_id":76643780,"comment_id":135128784,"body_markdown":"If required, [JFreeChart v2.0.0](https://github.com/jfree/jfreechart), not yet released, is _modular_.","body":"If required, <a href=\"https://github.com/jfree/jfreechart\" rel=\"nofollow noreferrer\">JFreeChart v2.0.0</a>, not yet released, is <i>modular</i>."}],"owner":{"account_id":23246418,"reputation":1,"user_id":17334956,"display_name":"Vrinda Chauhan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688831637,"creation_date":1688831637,"question_id":76643780,"body_markdown":"i am not able to import defaultcategorydataset in my program  \r\n\r\nimport org.jfree.data.category.CategoryDataset; is not visible in the module\r\n.. I imported  category dataset instead of defaultcategorydataset but still it is not working\r\n","title":"import org.jfree.data.category.CategoryDataset; is not visible in the module","body":"<p>i am not able to import defaultcategorydataset in my program</p>\n<p>import org.jfree.data.category.CategoryDataset; is not visible in the module\n.. I imported  category dataset instead of defaultcategorydataset but still it is not working</p>\n"},{"tags":["java","spring","mongodb","maven"],"answers":[{"tags":[],"owner":{"account_id":2404464,"reputation":1067,"user_id":2101345,"display_name":"Cyva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1484830316,"creation_date":1484830316,"answer_id":41742240,"question_id":41741713,"body_markdown":"In my application I configure through Java code. I use @EnableMongAuditing this way and also create convertes for ZonedDateTime.\r\n\r\n    @Configuration\r\n    @EnableMongoAuditing\r\n    @EnableMongoRepositories(basePackages = { BASE_PACKAGE })\r\n    public class MongoConfiguration extends AbstractMongoConfiguration {\r\n    \r\n        public static final String BASE_PACKAGE = &quot;package.with.aggregates&quot;;\r\n    \r\n        @Value(&quot;${spring.data.mongodb.uri}&quot;)\r\n        private String mongoUri;\r\n    \r\n        @Value(&quot;${spring.data.mongodb.database}&quot;)\r\n        private String databaseName;\r\n    \r\n        @Override\r\n        protected String getDatabaseName() {\r\n            return databaseName;\r\n        }\r\n    \r\n        @Override\r\n        public Mongo mongo() throws Exception {\r\n            return new MongoClient(new MongoClientURI(mongoUri));\r\n        }\r\n    \r\n        // Here you must add converters to Joda datetypes. In my solution is ZonedDateTime\r\n        @Override\r\n        public CustomConversions customConversions() {\r\n            List&lt;Converter&lt;?, ?&gt;&gt; converterList = new ArrayList&lt;&gt;();\r\n            converterList.add(new DateToZonedDateTimeConverter());\r\n            converterList.add(new ZonedDateTimeToDateConverter());\r\n            return new CustomConversions(converterList);\r\n        }\r\n    \r\n        @Override\r\n        protected String getMappingBasePackage() {\r\n            return BASE_PACKAGE;\r\n        }\r\n    }","title":"mongodb auditing in spring boot for saving createdDate, lastModifiedDate, createdBy, lastModifiedBy","body":"<p>In my application I configure through Java code. I use @EnableMongAuditing this way and also create convertes for ZonedDateTime.</p>\n\n<pre><code>@Configuration\n@EnableMongoAuditing\n@EnableMongoRepositories(basePackages = { BASE_PACKAGE })\npublic class MongoConfiguration extends AbstractMongoConfiguration {\n\n    public static final String BASE_PACKAGE = \"package.with.aggregates\";\n\n    @Value(\"${spring.data.mongodb.uri}\")\n    private String mongoUri;\n\n    @Value(\"${spring.data.mongodb.database}\")\n    private String databaseName;\n\n    @Override\n    protected String getDatabaseName() {\n        return databaseName;\n    }\n\n    @Override\n    public Mongo mongo() throws Exception {\n        return new MongoClient(new MongoClientURI(mongoUri));\n    }\n\n    // Here you must add converters to Joda datetypes. In my solution is ZonedDateTime\n    @Override\n    public CustomConversions customConversions() {\n        List&lt;Converter&lt;?, ?&gt;&gt; converterList = new ArrayList&lt;&gt;();\n        converterList.add(new DateToZonedDateTimeConverter());\n        converterList.add(new ZonedDateTimeToDateConverter());\n        return new CustomConversions(converterList);\n    }\n\n    @Override\n    protected String getMappingBasePackage() {\n        return BASE_PACKAGE;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6379814,"reputation":3935,"user_id":4949653,"display_name":"torina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511453441,"creation_date":1511453441,"answer_id":47459612,"question_id":41741713,"body_markdown":"@EnableMongoAuditing can actually be placed anywhere in configurations (next to @Configuration annotation) ","title":"mongodb auditing in spring boot for saving createdDate, lastModifiedDate, createdBy, lastModifiedBy","body":"<p>@EnableMongoAuditing can actually be placed anywhere in configurations (next to @Configuration annotation) </p>\n"},{"tags":[],"owner":{"account_id":8878226,"reputation":6251,"user_id":6629515,"display_name":"Oleksandr Yefymov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688831566,"creation_date":1688831566,"answer_id":76643776,"question_id":41741713,"body_markdown":"Simple solution if   `@CreatedDate or @LastModifiedDate` not work as expected (it was not working for me at all).\r\n\r\n1. Add unified class for audit, that then you&#39;ll extend in any entity (document):\r\n\r\n&gt;     @Data\r\n&gt;     public abstract class AuditableDates {\r\n&gt;     \r\n&gt;       @CreatedDate\r\n&gt;       Instant createdDate;\r\n&gt;     \r\n&gt;       @LastModifiedDate\r\n&gt;       Instant updatedDate;\r\n&gt;     }\r\n\r\n2. Add config, to notify Spring auditable enabled\r\n\r\n&gt;     @Configuration\r\n&gt;     @EnableMongoAuditing\r\n&gt;     public class DbConfig {\r\n&gt;     }\r\n\r\n3. Extend our Audiable interface - success, on create/edit you&#39;ll have expected data in DB.\r\n\r\n&gt;     public class User extends AuditableDates {\r\n\r\nIn case you use Joda time (or any other specific type), additional CustomConversions should be added.","title":"mongodb auditing in spring boot for saving createdDate, lastModifiedDate, createdBy, lastModifiedBy","body":"<p>Simple solution if   <code>@CreatedDate or @LastModifiedDate</code> not work as expected (it was not working for me at all).</p>\n<ol>\n<li>Add unified class for audit, that then you'll extend in any entity (document):</li>\n</ol>\n<blockquote>\n<pre><code>@Data\npublic abstract class AuditableDates {\n\n  @CreatedDate\n  Instant createdDate;\n\n  @LastModifiedDate\n  Instant updatedDate;\n}\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>Add config, to notify Spring auditable enabled</li>\n</ol>\n<blockquote>\n<pre><code>@Configuration\n@EnableMongoAuditing\npublic class DbConfig {\n}\n</code></pre>\n</blockquote>\n<ol start=\"3\">\n<li>Extend our Audiable interface - success, on create/edit you'll have expected data in DB.</li>\n</ol>\n<blockquote>\n<pre><code>public class User extends AuditableDates {\n</code></pre>\n</blockquote>\n<p>In case you use Joda time (or any other specific type), additional CustomConversions should be added.</p>\n"}],"owner":{"account_id":3132942,"reputation":205,"user_id":2650162,"accept_rate":50,"display_name":"Mehrish Yousuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7967,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41742240,"answer_count":3,"score":3,"last_activity_date":1688831566,"creation_date":1484828512,"question_id":41741713,"body_markdown":"I am using spring boot, therefore I am not using any xml files for configurations. \r\nWhat I have to do is to EnableMongoAuditing for saving createdDate, lastModifiedDate etc while saving data using MongoRepositories. \r\n\r\nMy model class \r\n\r\n    @Component\r\n    @Document(collection = &quot;CAPPING&quot;)\r\n    public class TemporaryCapping extends BaseEntity {\r\n    \r\n        @Field(&quot;contract_id&quot;)\r\n        private BigInteger contractId;\r\n    \r\n        @Field(&quot;period_id&quot;)\r\n        private BigInteger periodId;\r\n    \r\n        @Field(&quot;user_id&quot;)\r\n        private BigInteger userId;\r\n    \r\n        @Field(&quot;amount&quot;)\r\n        private Double amount;\r\n    \r\n        @Field(&quot;type_of_capping&quot;)\r\n        private TypeOfCapping typeOfCapping;\r\n    \r\n        public BigInteger getContractId() {\r\n            return contractId;\r\n        }\r\n    \r\n        public void setContractId(BigInteger contractId) {\r\n            this.contractId = contractId;\r\n        }\r\n    \r\n        public BigInteger getPeriodId() {\r\n            return periodId;\r\n        }\r\n    \r\n        public void setPeriodId(BigInteger periodId) {\r\n            this.periodId = periodId;\r\n        }\r\n    \r\n        public BigInteger getUserId() {\r\n            return userId;\r\n        }\r\n    \r\n        public void setUserId(BigInteger userId) {\r\n            this.userId = userId;\r\n        }\r\n    \r\n        public Double getAmount() {\r\n            return amount;\r\n        }\r\n    \r\n        public void setAmount(Double amount) {\r\n            this.amount = amount;\r\n        }\r\n    \r\n        public TypeOfCapping getTypeOfCapping() {\r\n            return typeOfCapping;\r\n        }\r\n    \r\n        public void setTypeOfCapping(TypeOfCapping typeOfCapping) {\r\n            this.typeOfCapping = typeOfCapping;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n \r\n\r\n    public class BaseEntity implements Serializable{\r\n    \r\n    @Id\r\n    @Indexed(unique = true)\r\n    private BigInteger id;\r\n    \r\n    @CreatedDate\r\n    private DateTime createdDate;\r\n    \r\n    @Field(&quot;modified_date&quot;)\r\n    private BigInteger modifiedDate;\r\n    \r\n    public BigInteger getId() {\r\n        return id;\r\n    }\r\n    \r\n    public void setId(BigInteger id) {\r\n        this.id = id;\r\n    }\r\n    \r\n    public DateTime getCreatedDate() {\r\n        return createdDate;\r\n    }\r\n    \r\n    public void setCreatedDate(DateTime createdDate) {\r\n        this.createdDate = createdDate;\r\n    }\r\n    \r\n    public BigInteger getModifiedDate() {\r\n        return modifiedDate;\r\n    }\r\n    \r\n    public void setModifiedDate(BigInteger modifiedDate) {\r\n        this.modifiedDate = modifiedDate;\r\n    }\r\n\r\nI have used @CreateDate annotation for saving createDate. \r\nand I have used jodatime dependency for DateTime \r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n    &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n    &lt;version&gt;2.9.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nspring-data-mongodb is also added in the dependencies. \r\n\r\nThis is my main application class\r\n\r\n  \r\n\r\n \r\n\r\n     @SpringBootApplication\r\n        @EnableMongoAuditing\r\n       public class Application {\r\n    \r\n       public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n       }\r\n    \r\n    } \r\n\r\n\r\nWhere I am wrong in this impelmentation as the date is not getting saved in database? \r\nAlso I know that for saving @createdBy you need to write AuditorAware bean but for now I am just trying to save createdBy.\r\n\r\nWhere should @EnableMongoAuditing be used?  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"mongodb auditing in spring boot for saving createdDate, lastModifiedDate, createdBy, lastModifiedBy","body":"<p>I am using spring boot, therefore I am not using any xml files for configurations. \nWhat I have to do is to EnableMongoAuditing for saving createdDate, lastModifiedDate etc while saving data using MongoRepositories. </p>\n\n<p>My model class </p>\n\n<pre><code>@Component\n@Document(collection = \"CAPPING\")\npublic class TemporaryCapping extends BaseEntity {\n\n    @Field(\"contract_id\")\n    private BigInteger contractId;\n\n    @Field(\"period_id\")\n    private BigInteger periodId;\n\n    @Field(\"user_id\")\n    private BigInteger userId;\n\n    @Field(\"amount\")\n    private Double amount;\n\n    @Field(\"type_of_capping\")\n    private TypeOfCapping typeOfCapping;\n\n    public BigInteger getContractId() {\n        return contractId;\n    }\n\n    public void setContractId(BigInteger contractId) {\n        this.contractId = contractId;\n    }\n\n    public BigInteger getPeriodId() {\n        return periodId;\n    }\n\n    public void setPeriodId(BigInteger periodId) {\n        this.periodId = periodId;\n    }\n\n    public BigInteger getUserId() {\n        return userId;\n    }\n\n    public void setUserId(BigInteger userId) {\n        this.userId = userId;\n    }\n\n    public Double getAmount() {\n        return amount;\n    }\n\n    public void setAmount(Double amount) {\n        this.amount = amount;\n    }\n\n    public TypeOfCapping getTypeOfCapping() {\n        return typeOfCapping;\n    }\n\n    public void setTypeOfCapping(TypeOfCapping typeOfCapping) {\n        this.typeOfCapping = typeOfCapping;\n    }\n\n\n}\n\n\n\npublic class BaseEntity implements Serializable{\n\n@Id\n@Indexed(unique = true)\nprivate BigInteger id;\n\n@CreatedDate\nprivate DateTime createdDate;\n\n@Field(\"modified_date\")\nprivate BigInteger modifiedDate;\n\npublic BigInteger getId() {\n    return id;\n}\n\npublic void setId(BigInteger id) {\n    this.id = id;\n}\n\npublic DateTime getCreatedDate() {\n    return createdDate;\n}\n\npublic void setCreatedDate(DateTime createdDate) {\n    this.createdDate = createdDate;\n}\n\npublic BigInteger getModifiedDate() {\n    return modifiedDate;\n}\n\npublic void setModifiedDate(BigInteger modifiedDate) {\n    this.modifiedDate = modifiedDate;\n}\n</code></pre>\n\n<p>I have used @CreateDate annotation for saving createDate. \nand I have used jodatime dependency for DateTime </p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;joda-time&lt;/groupId&gt;\n&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n&lt;version&gt;2.9.7&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>spring-data-mongodb is also added in the dependencies. </p>\n\n<p>This is my main application class</p>\n\n<pre><code> @SpringBootApplication\n    @EnableMongoAuditing\n   public class Application {\n\n   public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n   }\n\n} \n</code></pre>\n\n<p>Where I am wrong in this impelmentation as the date is not getting saved in database? \nAlso I know that for saving @createdBy you need to write AuditorAware bean but for now I am just trying to save createdBy.</p>\n\n<p>Where should @EnableMongoAuditing be used?  </p>\n"},{"tags":["java","templating","multilinestring"],"answers":[{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390215799,"creation_date":1390215799,"answer_id":21232281,"question_id":21232185,"body_markdown":"You can use [`String#format()`][1]:  \r\n\r\n    String title = &quot;Princess&quot;;\r\n    String name  = &quot;Luna&quot;;\r\n    String community = &quot;Stackoverflow&quot;;\r\n    String text = String.format(&quot;Dear %s %s!\\n&quot; +  \r\n                &quot;This is a question to %s-Community\\n&quot; + \r\n                &quot;for simple approach how to code with Java multiline Strings?\\n&quot; + \r\n                &quot;Like this one.\\n&quot; + \r\n                &quot;But it must be simple approach without using of Template-Engine-Frameworks!\\n&quot; + \r\n                &quot;\\n&quot; +\r\n                &quot;Thx for ...&quot;, title, name, community); \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Simple way templating multiline strings in java code","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\"><code>String#format()</code></a>:  </p>\n\n<pre><code>String title = \"Princess\";\nString name  = \"Luna\";\nString community = \"Stackoverflow\";\nString text = String.format(\"Dear %s %s!\\n\" +  \n            \"This is a question to %s-Community\\n\" + \n            \"for simple approach how to code with Java multiline Strings?\\n\" + \n            \"Like this one.\\n\" + \n            \"But it must be simple approach without using of Template-Engine-Frameworks!\\n\" + \n            \"\\n\" +\n            \"Thx for ...\", title, name, community); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390215886,"creation_date":1390215886,"answer_id":21232318,"question_id":21232185,"body_markdown":"One basic way of doing it would be to use `String.format(...)`\r\n\r\nExample:\r\n\r\n    String title = &quot;Princess&quot;;\r\n    String name  = &quot;Celestia&quot;;\r\n    String community = &quot;Stackoverflow&quot;;\r\n    \r\n    String text = String.format(\r\n        &quot;Dear %s %s!%n&quot; +  \r\n        &quot;This is a question to %s-Community%n&quot; + \r\n        &quot;for simple approach how to code with Java multiline Strings?%n&quot; + \r\n        &quot;Like this one.%n&quot; + \r\n        &quot;But it must be simple approach without using of Template-Engine-Frameworks!%n&quot; + \r\n        &quot;%n&quot; + \r\n        &quot;Thx for ...&quot;, title, name, community);\r\n\r\n[More info][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29","title":"Simple way templating multiline strings in java code","body":"<p>One basic way of doing it would be to use <code>String.format(...)</code></p>\n\n<p>Example:</p>\n\n<pre><code>String title = \"Princess\";\nString name  = \"Celestia\";\nString community = \"Stackoverflow\";\n\nString text = String.format(\n    \"Dear %s %s!%n\" +  \n    \"This is a question to %s-Community%n\" + \n    \"for simple approach how to code with Java multiline Strings?%n\" + \n    \"Like this one.%n\" + \n    \"But it must be simple approach without using of Template-Engine-Frameworks!%n\" + \n    \"%n\" + \n    \"Thx for ...\", title, name, community);\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.lang.String,%20java.lang.Object...%29\" rel=\"nofollow\">More info</a></p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390216274,"creation_date":1390215887,"answer_id":21232319,"question_id":21232185,"body_markdown":"Java has no built-in support for templating.  Your choices are:\r\n\r\n  - use an existing templating framework / engine,\r\n  - build your own templating framework / engine (or similar), or\r\n  - write a lot of &quot;string bashing&quot; code ... like in your question.\r\n\r\nYou may be able to write the above code a bit more concisely using `String.format(...)`, `MessageFormat` and similar, but they don&#39;t get you very far ... unless your templating is very simple.\r\n\r\n-----------------\r\n\r\nBy contrast, some languages have built-in support for string interpolation, &quot;here&quot; documents, or a concise structure building syntax that can be adapted to templating.","title":"Simple way templating multiline strings in java code","body":"<p>Java has no built-in support for templating.  Your choices are:</p>\n\n<ul>\n<li>use an existing templating framework / engine,</li>\n<li>build your own templating framework / engine (or similar), or</li>\n<li>write a lot of \"string bashing\" code ... like in your question.</li>\n</ul>\n\n<p>You may be able to write the above code a bit more concisely using <code>String.format(...)</code>, <code>MessageFormat</code> and similar, but they don't get you very far ... unless your templating is very simple.</p>\n\n<hr>\n\n<p>By contrast, some languages have built-in support for string interpolation, \"here\" documents, or a concise structure building syntax that can be adapted to templating.</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642174951,"creation_date":1390215896,"answer_id":21232324,"question_id":21232185,"body_markdown":"You can use [`java.text.MessageFormat`](http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html) for this:\r\n````java\r\nString[] args = {&quot;Princess&quot;, &quot;Luna&quot;, &quot;Stackoverflow&quot;};\r\nString text = MessageFormat.format(&quot;Bla bla, {1}, and {2} and {3}&quot;, args);\r\n````","title":"Simple way templating multiline strings in java code","body":"<p>You can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\"><code>java.text.MessageFormat</code></a> for this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] args = {&quot;Princess&quot;, &quot;Luna&quot;, &quot;Stackoverflow&quot;};\nString text = MessageFormat.format(&quot;Bla bla, {1}, and {2} and {3}&quot;, args);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":115492,"reputation":11986,"user_id":303254,"accept_rate":60,"display_name":"Orel Eraki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390215907,"creation_date":1390215907,"answer_id":21232328,"question_id":21232185,"body_markdown":"You can use `Java Resources` in order to achieve it [HERE][1]&lt;br /&gt;\r\nOr you can keep the current method you&#39;re using with different approach like [HERE][2]\r\n\r\n\r\n  [1]: http://journals.ecs.soton.ac.uk/java/tutorial/intl/datamgmt/strings.html\r\n  [2]: https://stackoverflow.com/questions/878573/java-multiline-string","title":"Simple way templating multiline strings in java code","body":"<p>You can use <code>Java Resources</code> in order to achieve it <a href=\"http://journals.ecs.soton.ac.uk/java/tutorial/intl/datamgmt/strings.html\" rel=\"nofollow noreferrer\">HERE</a><br />\nOr you can keep the current method you're using with different approach like <a href=\"https://stackoverflow.com/questions/878573/java-multiline-string\">HERE</a></p>\n"},{"tags":[],"owner":{"account_id":293998,"reputation":18107,"user_id":597624,"accept_rate":72,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1390216709,"creation_date":1390216220,"answer_id":21232441,"question_id":21232185,"body_markdown":"You can create your own small &amp; simply template engine with few lines of code:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        String title = &quot;Princes&quot;;\r\n        String name  = &quot;Luna&quot;;\r\n        String community = &quot;Stackoverflow&quot;;\r\n        \r\n        InputStream stream = DemoMailCreater.class.getResourceAsStream(&quot;demo.mail&quot;);\r\n        \r\n        \r\n        byte[] buffer = new byte[stream.available()];\r\n        stream.read(buffer);\r\n        \r\n        String text = new String(buffer);\r\n        \r\n        text = text.replaceAll(&quot;&#167;TITLE&#167;&quot;, title);\r\n        text = text.replaceAll(&quot;&#167;NAME&#167;&quot;, name);\r\n        text = text.replaceAll(&quot;&#167;COMMUNITY&#167;&quot;, community);\r\n        \r\n        System.out.println(text);\r\n        \r\n    }\r\n\r\n\r\n\r\nand small text file e.g. in the same folder (package) `demo.mail`:\r\n\r\n    Dear &#167;TITLE&#167; &#167;NAME&#167;!\r\n    This is a question to &#167;COMMUNITY&#167;-Community\r\n    for simple approach how to code with Java multiline Strings? \r\n    Like this one.\r\n    But it must be simple approach without using of Template-Engine-Frameworks!\r\n    \r\n    Thx for ... \r\n\r\n\r\n","title":"Simple way templating multiline strings in java code","body":"<p>You can create your own small &amp; simply template engine with few lines of code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n\n    String title = \"Princes\";\n    String name  = \"Luna\";\n    String community = \"Stackoverflow\";\n\n    InputStream stream = DemoMailCreater.class.getResourceAsStream(\"demo.mail\");\n\n\n    byte[] buffer = new byte[stream.available()];\n    stream.read(buffer);\n\n    String text = new String(buffer);\n\n    text = text.replaceAll(\"§TITLE§\", title);\n    text = text.replaceAll(\"§NAME§\", name);\n    text = text.replaceAll(\"§COMMUNITY§\", community);\n\n    System.out.println(text);\n\n}\n</code></pre>\n\n<p>and small text file e.g. in the same folder (package) <code>demo.mail</code>:</p>\n\n<pre><code>Dear §TITLE§ §NAME§!\nThis is a question to §COMMUNITY§-Community\nfor simple approach how to code with Java multiline Strings? \nLike this one.\nBut it must be simple approach without using of Template-Engine-Frameworks!\n\nThx for ... \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2327073,"reputation":19387,"user_id":2041318,"accept_rate":68,"display_name":"jmarceli"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1636533197,"creation_date":1636533197,"answer_id":69909990,"question_id":21232185,"body_markdown":"With Java 15+:\r\n\r\n```\r\nString title = &quot;Princess&quot;;\r\nString name = &quot;Luna&quot;;\r\nString community = &quot;Stackoverflow&quot;;\r\n\r\nString text = &quot;&quot;&quot;\r\n        Dear %s %s!\r\n        This is a question to %s-Community\r\n        for simple approach how to code with Java multiline Strings?\r\n        &quot;&quot;&quot;.formatted(title, name, community);\r\n```","title":"Simple way templating multiline strings in java code","body":"<p>With Java 15+:</p>\n<pre><code>String title = &quot;Princess&quot;;\nString name = &quot;Luna&quot;;\nString community = &quot;Stackoverflow&quot;;\n\nString text = &quot;&quot;&quot;\n        Dear %s %s!\n        This is a question to %s-Community\n        for simple approach how to code with Java multiline Strings?\n        &quot;&quot;&quot;.formatted(title, name, community);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6385423,"reputation":99,"user_id":5078095,"display_name":"gbear605"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688831265,"creation_date":1688831265,"answer_id":76643750,"question_id":21232185,"body_markdown":"Java 21 (releasing September 2023) is introducing a string templating syntax as a preview feature. This is [JEP 430][1]. A preview feature means that all Java 21 JDKs must include it, but it will be gated behind a compiler flag, and future Java versions may remove or change it. So it will likely be included as a final feature in future Java versions, but there&#39;s no guarantee.\r\n\r\nWith the current version, a template expression is written as a normal string prefixed by `STR.` and contains embedded expressions written like `\\{variableName}`.\r\n\r\n```java\r\nString name = &quot;Joan&quot;;\r\nString info = STR.&quot;My name is \\{name}&quot;;\r\nassert info.equals(&quot;My name is Joan&quot;);   // true\r\n``` \r\n\r\nExpressions can be written inside of these, like so:\r\n\r\n```java\r\nString filePath = &quot;tmp.dat&quot;;\r\nFile   file     = new File(filePath);\r\nString msg = STR.&quot;The file \\{filePath} \\{file.exists() ? &quot;does&quot; : &quot;does not&quot;} exist&quot;;\r\n```\r\n\r\nThese also work with text blocks.\r\n\r\n```java\r\nString title = &quot;My Web Page&quot;;\r\nString text  = &quot;Hello, world&quot;;\r\nString html = STR.&quot;&quot;&quot;\r\n        &lt;html&gt;\r\n          &lt;head&gt;\r\n            &lt;title&gt;\\{title}&lt;/title&gt;\r\n          &lt;/head&gt;\r\n          &lt;body&gt;\r\n            &lt;p&gt;\\{text}&lt;/p&gt;\r\n          &lt;/body&gt;\r\n        &lt;/html&gt;\r\n        &quot;&quot;&quot;;\r\n```\r\n\r\n(All of these examples are from the JEP.)\r\n\r\n  [1]: https://openjdk.org/jeps/430","title":"Simple way templating multiline strings in java code","body":"<p>Java 21 (releasing September 2023) is introducing a string templating syntax as a preview feature. This is <a href=\"https://openjdk.org/jeps/430\" rel=\"nofollow noreferrer\">JEP 430</a>. A preview feature means that all Java 21 JDKs must include it, but it will be gated behind a compiler flag, and future Java versions may remove or change it. So it will likely be included as a final feature in future Java versions, but there's no guarantee.</p>\n<p>With the current version, a template expression is written as a normal string prefixed by <code>STR.</code> and contains embedded expressions written like <code>\\{variableName}</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = &quot;Joan&quot;;\nString info = STR.&quot;My name is \\{name}&quot;;\nassert info.equals(&quot;My name is Joan&quot;);   // true\n</code></pre>\n<p>Expressions can be written inside of these, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String filePath = &quot;tmp.dat&quot;;\nFile   file     = new File(filePath);\nString msg = STR.&quot;The file \\{filePath} \\{file.exists() ? &quot;does&quot; : &quot;does not&quot;} exist&quot;;\n</code></pre>\n<p>These also work with text blocks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String title = &quot;My Web Page&quot;;\nString text  = &quot;Hello, world&quot;;\nString html = STR.&quot;&quot;&quot;\n        &lt;html&gt;\n          &lt;head&gt;\n            &lt;title&gt;\\{title}&lt;/title&gt;\n          &lt;/head&gt;\n          &lt;body&gt;\n            &lt;p&gt;\\{text}&lt;/p&gt;\n          &lt;/body&gt;\n        &lt;/html&gt;\n        &quot;&quot;&quot;;\n</code></pre>\n<p>(All of these examples are from the JEP.)</p>\n"}],"owner":{"account_id":285020,"reputation":16261,"user_id":2688545,"accept_rate":100,"display_name":"michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4464,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":21232441,"answer_count":8,"score":2,"last_activity_date":1688831265,"creation_date":1390215575,"question_id":21232185,"body_markdown":"I&#39;m often run in to the following situation: I have long multiline strings where properties must be injected - e.g. something like templating. But I don&#39;t want to inlcude a complete templating engine (like velocity or freemarker) in my projects.\r\n\r\nHow can this be done in a simple way:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String title = &quot;Princess&quot;;\r\n    String name  = &quot;Luna&quot;;\r\n    String community = &quot;Stackoverflow&quot;;\r\n\r\n    String text =\r\n       &quot;Dear &quot; + title + &quot; &quot; + name + &quot;!\\n&quot; +  \r\n       &quot;This is a question to &quot; + community + &quot;-Community\\n&quot; + \r\n       &quot;for simple approach how to code with Java multiline Strings?\\n&quot; + \r\n       &quot;Like this one.\\n&quot; + \r\n       &quot;But it must be simple approach without using of Template-Engine-Frameworks!\\n&quot; + \r\n       &quot;\\n&quot; + \r\n       &quot;Thx for ...&quot;; ","title":"Simple way templating multiline strings in java code","body":"<p>I'm often run in to the following situation: I have long multiline strings where properties must be injected - e.g. something like templating. But I don't want to inlcude a complete templating engine (like velocity or freemarker) in my projects.</p>\n\n<p>How can this be done in a simple way:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String title = \"Princess\";\nString name  = \"Luna\";\nString community = \"Stackoverflow\";\n\nString text =\n   \"Dear \" + title + \" \" + name + \"!\\n\" +  \n   \"This is a question to \" + community + \"-Community\\n\" + \n   \"for simple approach how to code with Java multiline Strings?\\n\" + \n   \"Like this one.\\n\" + \n   \"But it must be simple approach without using of Template-Engine-Frameworks!\\n\" + \n   \"\\n\" + \n   \"Thx for ...\"; \n</code></pre>\n"},{"tags":["java","android","user-interface","overlay"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688922080,"post_id":76641953,"comment_id":135136314,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28513741,"reputation":1,"user_id":21823373,"display_name":"Renata Sayavedra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688831154,"creation_date":1688803430,"question_id":76641953,"body_markdown":"I&#39;ve started an Android project that appear on top of other apps but it just show a simple message that appear on top of other apps. \r\n\r\nI want to implement it like that type of scrollable view that contains a survey or a series of questions, and when the user clicks on the &quot;Next&quot; button, it automatically scrolls down to the next question without allowing manual scrolling.","title":"How to Create a Scrollable Survey Overlay in an Android App","body":"<p>I've started an Android project that appear on top of other apps but it just show a simple message that appear on top of other apps.</p>\n<p>I want to implement it like that type of scrollable view that contains a survey or a series of questions, and when the user clicks on the &quot;Next&quot; button, it automatically scrolls down to the next question without allowing manual scrolling.</p>\n"},{"tags":["java","hibernate","jpa","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1688970017,"post_id":76643644,"comment_id":135140804,"body_markdown":"Have you read the migration guide for Hibernate 6.x?","body":"Have you read the migration guide for Hibernate 6.x?"},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1688988567,"post_id":76643644,"comment_id":135144549,"body_markdown":"With the new version of Quarkus that works with jakarte, is there any change in Hibernate, what consideration should I take?","body":"With the new version of Quarkus that works with jakarte, is there any change in Hibernate, what consideration should I take?"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1688997232,"post_id":76643644,"comment_id":135146690,"body_markdown":"There are a lot of changes that have gone into Hibernate 6 (included with Quarkus 3). See https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#jpa-hibernate-orm","body":"There are a lot of changes that have gone into Hibernate 6 (included with Quarkus 3). See <a href=\"https://github.com/quarkusio/quarkus/wiki/Migration-Guide-3.0#jpa-hibernate-orm\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/wiki/&hellip;</a>"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688829814,"creation_date":1688829814,"question_id":76643644,"body_markdown":"Good afternoon, I am currently working with quarkus 3.2.0 and I am having problems consuming a DB object of type SYS_REFCURSO, up to version 2.6 of quarkus I could obtain the data without problems, however, in this case I am having the following when trying return list from DB:\r\n\r\n    08-07-2023 11:12:29 ERROR [or.hi.AssertionFailure] (executor-thread-1) HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: possible non-threadsafe access to the session\r\n    08-07-2023 11:12:29 ERROR [io.qu.ve.ht.ru.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /api/v2/FindPostpaidAccountByDocument failed, error id: a8eae0c4-5347-4d11-bd08-df8d2f860a76-1: org.jboss.resteasy.spi.UnhandledException: org.hibernate.AssertionFailure: possible non-threadsafe access to the session                                                 \r\n            at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:107)                                                                             \r\n            at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:344)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:205)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:452)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:240)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:154)\r\n            at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:321)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:157)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:229)\r\n            at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:82)\r\n            at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:147)\r\n            at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:93)\r\n            at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n            at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n            at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n            at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: org.hibernate.AssertionFailure: possible non-threadsafe access to the session\r\n            at org.hibernate.event.internal.DefaultPostLoadEventListener.onPostLoad(DefaultPostLoadEventListener.java:49)\r\n            at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\r\n            at org.hibernate.sql.results.jdbc.internal.JdbcValuesSourceProcessingStateStandardImpl.lambda$postLoad$0(JdbcValuesSourceProcessingStateStandardImpl.java:183)\r\n            at java.base/java.util.HashMap.forEach(HashMap.java:1421)\r\n            at org.hibernate.sql.results.jdbc.internal.JdbcValuesSourceProcessingStateStandardImpl.postLoad(JdbcValuesSourceProcessingStateStandardImpl.java:175)\r\n            at org.hibernate.sql.results.jdbc.internal.JdbcValuesSourceProcessingStateStandardImpl.finishUp(JdbcValuesSourceProcessingStateStandardImpl.java:165)\r\n            at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:251)\r\n            at org.hibernate.procedure.internal.ProcedureOutputsImpl.access$000(ProcedureOutputsImpl.java:31)\r\n            at org.hibernate.procedure.internal.ProcedureOutputsImpl$ProcedureCurrentReturnState.lambda$buildExtendedReturn$0(ProcedureOutputsImpl.java:127)\r\n            at org.hibernate.result.internal.ResultSetOutputImpl.getResultList(ResultSetOutputImpl.java:37)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.getResultList(ProcedureCallImpl.java:978)\r\n            at com.tmve.account.repositoty.impl.FindPostpaidAccountByDocumentRepository.getPostpaidAccount(FindPostpaidAccountByDocumentRepository.java:32)\r\n            at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentService.java:42)\r\n            at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentController.java:46)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument$$superforward(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass$$function$$1.apply(Unknown Source)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\r\n            at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor.restMethodInvoke(QuarkusRestPathTemplateInterceptor.java:39)\r\n            at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor_Bean.intercept(Unknown Source)\r\n            at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\r\n            at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:154)\r\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:118)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:560)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:452)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:413)\r\n            at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:321)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:415)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:378)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:356)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:70)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:429)\r\n            ... 15 more\r\n\r\nMy entity class\r\n\r\n    ackage com.tmve.account.beans;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    import java.sql.Date;\r\n    \r\n    @NamedStoredProcedureQueries({\r\n            @NamedStoredProcedureQuery(\r\n                    name = PostpaidAccount.NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE,\r\n                    procedureName = &quot;PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID&quot;,\r\n                    resultClasses = {PostpaidAccount.class},\r\n                    parameters = {\r\n                            @StoredProcedureParameter(mode = ParameterMode.IN, type = String.class),\r\n                            @StoredProcedureParameter(mode = ParameterMode.IN, type = Integer.class),\r\n                            @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = void.class),\r\n                    })\r\n    })\r\n    @Getter\r\n    @Entity\r\n    @ToString\r\n    public class PostpaidAccount {\r\n    \r\n        public static final String NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE=  &quot;BuscarCuentasRolesxDocId&quot;;\r\n        private static final long serialVersionUID = 5853819176277617472L;\r\n    \r\n        @Id\r\n        @Column(name = &quot;V_NUMERO_CUENTA&quot;)\r\n        Long account;\r\n        @Column(name = &quot;V_NUM_CTA_PAGADORA&quot;)\r\n        Long billingAccountNumber;\r\n        @Column(name = &quot;V_NUM_CTA_DIG_VERI&quot;)\r\n        Long billingAccountNumberValidators;\r\n        @Column(name = &quot;V_TIPO_CUENTA&quot;)\r\n        String accountType;\r\n        @Column(name = &quot;V_ESTADO&quot;)\r\n        String accountStatus;\r\n        @Column(name = &quot;V_NOMBRE_ESTADO&quot;)\r\n        String accountStatusDescription;\r\n        @Column(name = &quot;V_ID_PRODUCTO&quot;)\r\n        int productoId;\r\n        @Column(name = &quot;NOMBRE_PRODUCTO&quot;)\r\n        String productName;\r\n        @Column(name = &quot;FECHA_INICIO_PROD&quot;)\r\n        Date customerSince;\r\n        @Column(name = &quot;V_TITULAR_CUENTA&quot;)\r\n        String accountHolder;\r\n        @Column(name = &quot;V_TIPO_RELACION&quot;)\r\n        String relationshipType;\r\n        @Column(name = &quot;V_PLATAF&quot;)\r\n        int platformId;\r\n        @Column(name = &quot;V_IDENTIFICADOR&quot;)\r\n        String identifier;\r\n        @Column(name = &quot;NOMBRE_AREA&quot;)\r\n        String marketName;\r\n    }\r\n\r\nMy Repository\r\n\r\n    package com.tmve.account.repositoty.impl;\r\n    \r\n    import com.tmve.account.beans.PostpaidAccount;\r\n    import com.tmve.account.repositoty.IFindPostpaidAccountByDocumentRepository;\r\n    import jakarta.enterprise.context.ApplicationScoped;\r\n    import jakarta.inject.Inject;\r\n    import jakarta.inject.Singleton;\r\n    import jakarta.persistence.EntityManager;\r\n    import jakarta.persistence.StoredProcedureQuery;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    \r\n    import java.util.List;\r\n    \r\n    @Slf4j\r\n    @Singleton\r\n    public class FindPostpaidAccountByDocumentRepository implements IFindPostpaidAccountByDocumentRepository {\r\n    \r\n        @Inject\r\n        EntityManager entityManager;\r\n    \r\n        @Override\r\n        public List&lt;PostpaidAccount&gt; getPostpaidAccount(String documentType, String documentNumber) {\r\n    \r\n            StoredProcedureQuery storedProcedureQuery=entityManager\r\n                    .createNamedStoredProcedureQuery(&quot;BuscarCuentasRolesxDocId&quot;);\r\n            storedProcedureQuery.setParameter(1,documentNumber);\r\n            storedProcedureQuery.setParameter(2,Integer.parseInt(documentType));\r\n    \r\n            storedProcedureQuery.execute();\r\n    \r\n            return (List&lt;PostpaidAccount&gt;) storedProcedureQuery.getResultList();\r\n        }\r\n    }\r\n\r\nWhen it is going to return the list, it is that it gives the hibernate exception described\r\n\r\n\r\nMy properties\r\n\r\n    quarkus.datasource.db-kind=oracle\r\n    #quarkus.datasource.jdbc.driver=io.opentelemetry.instrumentation.jdbc.OpenTelemetryDriver\r\n    quarkus.datasource.jdbc.url=${URL_CONNECTION_BD:jdbc:oracle:thin:@xxxxxxxx:xxxxxx/PERSDES}\r\n    quarkus.datasource.username=${USERNAME_CONNECTION_BD:APP_MS_PERS_DEV}\r\n    quarkus.datasource.password=${PASSWORD_CONNECTION_BD:xxxxxxxxx}\r\n    quarkus.http.port=${PORT:8080}\r\n    quarkus.http.ssl-port=${PORT-SSl:8082}\r\n    quarkus.hibernate-orm.dialect=org.hibernate.dialect.OracleDialect\r\n    \r\n    quarkus.hibernate-orm.log.sql=false\r\n    quarkus.hibernate-orm.jdbc.timezone=${TIME_ZONE_JDBC:GMT-4}\r\n    quarkus.hibernate-orm.validate-in-dev-mode = false\r\n    \r\n    quarkus.log.level=INFO\r\n    quarkus.log.category.&quot;org.hibernate&quot;.level=INFO\r\n    # Send output to a trace.log file under the /tmp directory\r\n    quarkus.log.file.path=/tmp/trace.log\r\n    quarkus.log.console.format=%d{dd-MM-yyyy HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n\r\n    # Configure a named handler that logs to console\r\n    quarkus.log.handler.console.&quot;STRUCTURED_LOGGING&quot;.format=%e%n\r\n    # Configure a named handler that logs to file\r\n    quarkus.log.handler.file.&quot;STRUCTURED_LOGGING_FILE&quot;.enable=true\r\n    quarkus.log.handler.file.&quot;STRUCTURED_LOGGING_FILE&quot;.format=%e%n\r\n    # Configure the category and link the two named handlers to it\r\n    quarkus.log.category.&quot;io.quarkus.category&quot;.level=INFO\r\n    quarkus.log.category.&quot;io.quarkus.category&quot;.handlers=STRUCTURED_LOGGING,STRUCTURED_LOGGING_FILE\r\n    \r\n    quarkus.application.name=FindPostpaidAccountByDocument\r\n    quarkus.opentelemetry.enabled=true\r\n    quarkus.opentelemetry.tracer.exporter.otlp.endpoint=${URL_JAEGER:http://172.28.2.107:4317}\r\n    \r\n    # Parametros para el certificado SSL\r\n    quarkus.ssl.native=true\r\n    quarkus.http.ssl.certificate.key-store-file=${UBICATION_CERTIFICATE_SSL:META-INF/resources/srvdevrma1.jks}\r\n    quarkus.http.ssl.certificate.key-store-file-type=${TYPE_CERTIFICATE_SSL:JKS}\r\n    quarkus.http.ssl.certificate.key-store-password=${PASSWORD_CERTIFICATE_SSL:xxxxxxxxxx}\r\n    quarkus.http.ssl.certificate.key-store-key-alias=${ALIAS_CERTIFICATE_SSL:srvdevrma1}\r\n    quarkus.native.add-all-charsets=true\r\n    quarkus.http.insecure-requests=disabled\r\n    quarkus.http.cors=true\r\n    quarkus.jackson.timezone=${TIME_ZONE:GMT-4}\r\n    \r\n    quarkus.swagger-ui.path=/api/v2/FindPostpaidAccountByDocument/swagger-ui/\r\n    quarkus.smallrye-openapi.path=/api/v2/FindPostpaidAccountByDocument/swagger\r\n    quarkus.swagger-ui.always-include=true\r\n    \r\n    quarkus.smallrye-openapi.info-title=FindPostpaidAccountByDocument\r\n    quarkus.smallrye-openapi.info-version=1.0.1\r\n    quarkus.smallrye-openapi.info-description=Microservicio que consulta todas las cuentas (USO y PAGADORA) asociado a un cliente pospago mediante su Documento Identidad\r\n    quarkus.smallrye-openapi.info-contact-email=gsgci.requerimientos@telefonica.com\r\n    quarkus.smallrye-openapi.info-contact-name=Middleware TI\r\n\r\nMy pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.tmve.account&lt;/groupId&gt;\r\n      &lt;artifactId&gt;find-postpaid-account-by-document-v2&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;properties&gt;\r\n        &lt;compiler-plugin.version&gt;3.11.0&lt;/compiler-plugin.version&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\r\n        &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\r\n        &lt;quarkus.platform.version&gt;3.2.0.Final&lt;/quarkus.platform.version&gt;\r\n        &lt;skipITs&gt;true&lt;/skipITs&gt;\r\n        &lt;surefire-plugin.version&gt;3.0.0&lt;/surefire-plugin.version&gt;\r\n      &lt;/properties&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n          &lt;version&gt;1.18.26&lt;/version&gt;\r\n          &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-opentelemetry&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-jacoco&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-jdbc-oracle&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n          &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n          &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n          &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\r\n            &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\r\n            &lt;extensions&gt;true&lt;/extensions&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;build&lt;/goal&gt;\r\n                  &lt;goal&gt;generate-code&lt;/goal&gt;\r\n                  &lt;goal&gt;generate-code-tests&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;compilerArgs&gt;\r\n                &lt;arg&gt;-parameters&lt;/arg&gt;\r\n              &lt;/compilerArgs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;systemPropertyVariables&gt;\r\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n              &lt;/systemPropertyVariables&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                  &lt;goal&gt;verify&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;systemPropertyVariables&gt;\r\n                    &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\r\n                    &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\r\n                    &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\r\n                  &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;native&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;property&gt;\r\n              &lt;name&gt;native&lt;/name&gt;\r\n            &lt;/property&gt;\r\n          &lt;/activation&gt;\r\n          &lt;properties&gt;\r\n            &lt;skipITs&gt;false&lt;/skipITs&gt;\r\n            &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\r\n          &lt;/properties&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nThis is how the Stored Procedure is displayed in BD:\r\n\r\n    DECLARE\r\n      V_NUMERO_DOC VARCHAR2(20);\r\n      V_TIPO_DOC NUMBER;\r\n      V_LISTA SYS_REFCURSOR;\r\n    BEGIN\r\n      V_NUMERO_DOC := &#39;000000&#39;;\r\n      V_TIPO_DOC := 1;\r\n    \r\n      PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(\r\n        V_NUMERO_DOC =&gt; V_NUMERO_DOC,\r\n        V_TIPO_DOC =&gt; V_TIPO_DOC,\r\n        V_LISTA =&gt; V_LISTA\r\n      );\r\nWhat could be happening, am I missing something in particular?\r\n\r\nIn version of Quarkus prior to version 3.0 work with javax and hibernate without problem with this type of object\r\n\r\n  [1]: https://i.stack.imgur.com/cmATY.png","title":"org.hibernate.AssertionFailure: possible non-threadsafe access to the session Quarkus 3.2.0","body":"<p>Good afternoon, I am currently working with quarkus 3.2.0 and I am having problems consuming a DB object of type SYS_REFCURSO, up to version 2.6 of quarkus I could obtain the data without problems, however, in this case I am having the following when trying return list from DB:</p>\n<pre><code>08-07-2023 11:12:29 ERROR [or.hi.AssertionFailure] (executor-thread-1) HHH000099: an assertion failure occurred (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: possible non-threadsafe access to the session\n08-07-2023 11:12:29 ERROR [io.qu.ve.ht.ru.QuarkusErrorHandler] (executor-thread-1) HTTP Request to /api/v2/FindPostpaidAccountByDocument failed, error id: a8eae0c4-5347-4d11-bd08-df8d2f860a76-1: org.jboss.resteasy.spi.UnhandledException: org.hibernate.AssertionFailure: possible non-threadsafe access to the session                                                 \n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:107)                                                                             \n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:344)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:205)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:452)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:240)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:154)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:321)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:157)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:229)\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:82)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:147)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:93)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.hibernate.AssertionFailure: possible non-threadsafe access to the session\n        at org.hibernate.event.internal.DefaultPostLoadEventListener.onPostLoad(DefaultPostLoadEventListener.java:49)\n        at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)\n        at org.hibernate.sql.results.jdbc.internal.JdbcValuesSourceProcessingStateStandardImpl.lambda$postLoad$0(JdbcValuesSourceProcessingStateStandardImpl.java:183)\n        at java.base/java.util.HashMap.forEach(HashMap.java:1421)\n        at org.hibernate.sql.results.jdbc.internal.JdbcValuesSourceProcessingStateStandardImpl.postLoad(JdbcValuesSourceProcessingStateStandardImpl.java:175)\n        at org.hibernate.sql.results.jdbc.internal.JdbcValuesSourceProcessingStateStandardImpl.finishUp(JdbcValuesSourceProcessingStateStandardImpl.java:165)\n        at org.hibernate.result.internal.OutputsImpl.extractResults(OutputsImpl.java:251)\n        at org.hibernate.procedure.internal.ProcedureOutputsImpl.access$000(ProcedureOutputsImpl.java:31)\n        at org.hibernate.procedure.internal.ProcedureOutputsImpl$ProcedureCurrentReturnState.lambda$buildExtendedReturn$0(ProcedureOutputsImpl.java:127)\n        at org.hibernate.result.internal.ResultSetOutputImpl.getResultList(ResultSetOutputImpl.java:37)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.getResultList(ProcedureCallImpl.java:978)\n        at com.tmve.account.repositoty.impl.FindPostpaidAccountByDocumentRepository.getPostpaidAccount(FindPostpaidAccountByDocumentRepository.java:32)\n        at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentService.java:42)\n        at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentController.java:46)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument$$superforward(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass$$function$$1.apply(Unknown Source)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:73)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:62)\n        at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor.restMethodInvoke(QuarkusRestPathTemplateInterceptor.java:39)\n        at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:30)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:27)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:154)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:118)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:560)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:452)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:413)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:321)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:415)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:378)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:356)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:70)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:429)\n        ... 15 more\n</code></pre>\n<p>My entity class</p>\n<pre><code>ackage com.tmve.account.beans;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.ToString;\n\nimport java.sql.Date;\n\n@NamedStoredProcedureQueries({\n        @NamedStoredProcedureQuery(\n                name = PostpaidAccount.NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE,\n                procedureName = &quot;PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID&quot;,\n                resultClasses = {PostpaidAccount.class},\n                parameters = {\n                        @StoredProcedureParameter(mode = ParameterMode.IN, type = String.class),\n                        @StoredProcedureParameter(mode = ParameterMode.IN, type = Integer.class),\n                        @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = void.class),\n                })\n})\n@Getter\n@Entity\n@ToString\npublic class PostpaidAccount {\n\n    public static final String NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE=  &quot;BuscarCuentasRolesxDocId&quot;;\n    private static final long serialVersionUID = 5853819176277617472L;\n\n    @Id\n    @Column(name = &quot;V_NUMERO_CUENTA&quot;)\n    Long account;\n    @Column(name = &quot;V_NUM_CTA_PAGADORA&quot;)\n    Long billingAccountNumber;\n    @Column(name = &quot;V_NUM_CTA_DIG_VERI&quot;)\n    Long billingAccountNumberValidators;\n    @Column(name = &quot;V_TIPO_CUENTA&quot;)\n    String accountType;\n    @Column(name = &quot;V_ESTADO&quot;)\n    String accountStatus;\n    @Column(name = &quot;V_NOMBRE_ESTADO&quot;)\n    String accountStatusDescription;\n    @Column(name = &quot;V_ID_PRODUCTO&quot;)\n    int productoId;\n    @Column(name = &quot;NOMBRE_PRODUCTO&quot;)\n    String productName;\n    @Column(name = &quot;FECHA_INICIO_PROD&quot;)\n    Date customerSince;\n    @Column(name = &quot;V_TITULAR_CUENTA&quot;)\n    String accountHolder;\n    @Column(name = &quot;V_TIPO_RELACION&quot;)\n    String relationshipType;\n    @Column(name = &quot;V_PLATAF&quot;)\n    int platformId;\n    @Column(name = &quot;V_IDENTIFICADOR&quot;)\n    String identifier;\n    @Column(name = &quot;NOMBRE_AREA&quot;)\n    String marketName;\n}\n</code></pre>\n<p>My Repository</p>\n<pre><code>package com.tmve.account.repositoty.impl;\n\nimport com.tmve.account.beans.PostpaidAccount;\nimport com.tmve.account.repositoty.IFindPostpaidAccountByDocumentRepository;\nimport jakarta.enterprise.context.ApplicationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Singleton;\nimport jakarta.persistence.EntityManager;\nimport jakarta.persistence.StoredProcedureQuery;\nimport lombok.extern.slf4j.Slf4j;\n\n\nimport java.util.List;\n\n@Slf4j\n@Singleton\npublic class FindPostpaidAccountByDocumentRepository implements IFindPostpaidAccountByDocumentRepository {\n\n    @Inject\n    EntityManager entityManager;\n\n    @Override\n    public List&lt;PostpaidAccount&gt; getPostpaidAccount(String documentType, String documentNumber) {\n\n        StoredProcedureQuery storedProcedureQuery=entityManager\n                .createNamedStoredProcedureQuery(&quot;BuscarCuentasRolesxDocId&quot;);\n        storedProcedureQuery.setParameter(1,documentNumber);\n        storedProcedureQuery.setParameter(2,Integer.parseInt(documentType));\n\n        storedProcedureQuery.execute();\n\n        return (List&lt;PostpaidAccount&gt;) storedProcedureQuery.getResultList();\n    }\n}\n</code></pre>\n<p>When it is going to return the list, it is that it gives the hibernate exception described</p>\n<p>My properties</p>\n<pre><code>quarkus.datasource.db-kind=oracle\n#quarkus.datasource.jdbc.driver=io.opentelemetry.instrumentation.jdbc.OpenTelemetryDriver\nquarkus.datasource.jdbc.url=${URL_CONNECTION_BD:jdbc:oracle:thin:@xxxxxxxx:xxxxxx/PERSDES}\nquarkus.datasource.username=${USERNAME_CONNECTION_BD:APP_MS_PERS_DEV}\nquarkus.datasource.password=${PASSWORD_CONNECTION_BD:xxxxxxxxx}\nquarkus.http.port=${PORT:8080}\nquarkus.http.ssl-port=${PORT-SSl:8082}\nquarkus.hibernate-orm.dialect=org.hibernate.dialect.OracleDialect\n\nquarkus.hibernate-orm.log.sql=false\nquarkus.hibernate-orm.jdbc.timezone=${TIME_ZONE_JDBC:GMT-4}\nquarkus.hibernate-orm.validate-in-dev-mode = false\n\nquarkus.log.level=INFO\nquarkus.log.category.&quot;org.hibernate&quot;.level=INFO\n# Send output to a trace.log file under the /tmp directory\nquarkus.log.file.path=/tmp/trace.log\nquarkus.log.console.format=%d{dd-MM-yyyy HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n\n# Configure a named handler that logs to console\nquarkus.log.handler.console.&quot;STRUCTURED_LOGGING&quot;.format=%e%n\n# Configure a named handler that logs to file\nquarkus.log.handler.file.&quot;STRUCTURED_LOGGING_FILE&quot;.enable=true\nquarkus.log.handler.file.&quot;STRUCTURED_LOGGING_FILE&quot;.format=%e%n\n# Configure the category and link the two named handlers to it\nquarkus.log.category.&quot;io.quarkus.category&quot;.level=INFO\nquarkus.log.category.&quot;io.quarkus.category&quot;.handlers=STRUCTURED_LOGGING,STRUCTURED_LOGGING_FILE\n\nquarkus.application.name=FindPostpaidAccountByDocument\nquarkus.opentelemetry.enabled=true\nquarkus.opentelemetry.tracer.exporter.otlp.endpoint=${URL_JAEGER:http://172.28.2.107:4317}\n\n# Parametros para el certificado SSL\nquarkus.ssl.native=true\nquarkus.http.ssl.certificate.key-store-file=${UBICATION_CERTIFICATE_SSL:META-INF/resources/srvdevrma1.jks}\nquarkus.http.ssl.certificate.key-store-file-type=${TYPE_CERTIFICATE_SSL:JKS}\nquarkus.http.ssl.certificate.key-store-password=${PASSWORD_CERTIFICATE_SSL:xxxxxxxxxx}\nquarkus.http.ssl.certificate.key-store-key-alias=${ALIAS_CERTIFICATE_SSL:srvdevrma1}\nquarkus.native.add-all-charsets=true\nquarkus.http.insecure-requests=disabled\nquarkus.http.cors=true\nquarkus.jackson.timezone=${TIME_ZONE:GMT-4}\n\nquarkus.swagger-ui.path=/api/v2/FindPostpaidAccountByDocument/swagger-ui/\nquarkus.smallrye-openapi.path=/api/v2/FindPostpaidAccountByDocument/swagger\nquarkus.swagger-ui.always-include=true\n\nquarkus.smallrye-openapi.info-title=FindPostpaidAccountByDocument\nquarkus.smallrye-openapi.info-version=1.0.1\nquarkus.smallrye-openapi.info-description=Microservicio que consulta todas las cuentas (USO y PAGADORA) asociado a un cliente pospago mediante su Documento Identidad\nquarkus.smallrye-openapi.info-contact-email=gsgci.requerimientos@telefonica.com\nquarkus.smallrye-openapi.info-contact-name=Middleware TI\n</code></pre>\n<p>My pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.tmve.account&lt;/groupId&gt;\n  &lt;artifactId&gt;find-postpaid-account-by-document-v2&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n  &lt;properties&gt;\n    &lt;compiler-plugin.version&gt;3.11.0&lt;/compiler-plugin.version&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;quarkus.platform.artifact-id&gt;quarkus-bom&lt;/quarkus.platform.artifact-id&gt;\n    &lt;quarkus.platform.group-id&gt;io.quarkus.platform&lt;/quarkus.platform.group-id&gt;\n    &lt;quarkus.platform.version&gt;3.2.0.Final&lt;/quarkus.platform.version&gt;\n    &lt;skipITs&gt;true&lt;/skipITs&gt;\n    &lt;surefire-plugin.version&gt;3.0.0&lt;/surefire-plugin.version&gt;\n  &lt;/properties&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;${quarkus.platform.artifact-id}&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-hibernate-orm&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-hibernate-validator&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;1.18.26&lt;/version&gt;\n      &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-opentelemetry&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-jacoco&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy-jackson&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-jdbc-oracle&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-arc&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-resteasy&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-junit5&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n      &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n      &lt;artifactId&gt;gson&lt;/artifactId&gt;\n      &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-smallrye-openapi&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;${quarkus.platform.group-id}&lt;/groupId&gt;\n        &lt;artifactId&gt;quarkus-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${quarkus.platform.version}&lt;/version&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;build&lt;/goal&gt;\n              &lt;goal&gt;generate-code&lt;/goal&gt;\n              &lt;goal&gt;generate-code-tests&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;-parameters&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;systemPropertyVariables&gt;\n            &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n            &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n          &lt;/systemPropertyVariables&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${surefire-plugin.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;integration-test&lt;/goal&gt;\n              &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;systemPropertyVariables&gt;\n                &lt;native.image.path&gt;${project.build.directory}/${project.build.finalName}-runner&lt;/native.image.path&gt;\n                &lt;java.util.logging.manager&gt;org.jboss.logmanager.LogManager&lt;/java.util.logging.manager&gt;\n                &lt;maven.home&gt;${maven.home}&lt;/maven.home&gt;\n              &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;native&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;property&gt;\n          &lt;name&gt;native&lt;/name&gt;\n        &lt;/property&gt;\n      &lt;/activation&gt;\n      &lt;properties&gt;\n        &lt;skipITs&gt;false&lt;/skipITs&gt;\n        &lt;quarkus.package.type&gt;native&lt;/quarkus.package.type&gt;\n      &lt;/properties&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>This is how the Stored Procedure is displayed in BD:</p>\n<pre><code>DECLARE\n  V_NUMERO_DOC VARCHAR2(20);\n  V_TIPO_DOC NUMBER;\n  V_LISTA SYS_REFCURSOR;\nBEGIN\n  V_NUMERO_DOC := '000000';\n  V_TIPO_DOC := 1;\n\n  PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(\n    V_NUMERO_DOC =&gt; V_NUMERO_DOC,\n    V_TIPO_DOC =&gt; V_TIPO_DOC,\n    V_LISTA =&gt; V_LISTA\n  );\n</code></pre>\n<p>What could be happening, am I missing something in particular?</p>\n<p>In version of Quarkus prior to version 3.0 work with javax and hibernate without problem with this type of object</p>\n"},{"tags":["java","multithreading","thread-synchronization"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":7,"creation_date":1688770521,"post_id":76640605,"comment_id":135123179,"body_markdown":"Yes, it&#39;s necessary. The section of the JLS you linked is talking about `synchronized`, not `java.util.concurrent.locks`.","body":"Yes, it&#39;s necessary. The section of the JLS you linked is talking about <code>synchronized</code>, not <code>java.util.concurrent.locks</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1688770915,"post_id":76640605,"comment_id":135123210,"body_markdown":"FYI, it&#39;s more idiomatic to `lock()` before `try`. That way it doesn&#39;t try to unlock if it should fail to lock.","body":"FYI, it&#39;s more idiomatic to <code>lock()</code> before <code>try</code>. That way it doesn&#39;t try to unlock if it should fail to lock."},{"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"score":0,"creation_date":1688771026,"post_id":76640605,"comment_id":135123223,"body_markdown":"@Slaw but `java.util.concurrent` classes simply wrap (decorate) the basic `synchronized`, `wait()`, etc., don&#39;t they? If something is true for those, it must also be true for `java.util.concurrent`, mustn&#39;t it?","body":"@Slaw but <code>java.util.concurrent</code> classes simply wrap (decorate) the basic <code>synchronized</code>, <code>wait()</code>, etc., don&#39;t they? If something is true for those, it must also be true for <code>java.util.concurrent</code>, mustn&#39;t it?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1688772397,"post_id":76640605,"comment_id":135123341,"body_markdown":"No, it mustn&#39;t. There&#39;s a reason these are referred to as explicit locks.","body":"No, it mustn&#39;t. There&#39;s a reason these are referred to as explicit locks."},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1688801162,"post_id":76640605,"comment_id":135125111,"body_markdown":"@JoreJoh No, `Lock` doesn&#39;t _decorate_ synchronized.","body":"@JoreJoh No, <code>Lock</code> doesn&#39;t <i>decorate</i> synchronized."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1688823292,"post_id":76640605,"comment_id":135127317,"body_markdown":"Re, &quot;...wrap...the basic `synchronized`...&quot; `Lock` is [more powerful](https://en.wikipedia.org/wiki/Expressive_power_(computer_science)) than `synchronized` blocks. That&#39;s why Locks were added. They let you do things that you _cannot_ do with `synchronized` and `o.wait()` and `o.notify()`. (e.g., you can lock a `Lock` in one function, and then unlock it in a different function.) If Lock implementations and synchronized blocks both happen to &quot;wrap&quot; the same underlying mechanism (they almost certainly do) then that&#39;s an implementation detail, not part of the language.","body":"Re, &quot;...wrap...the basic <code>synchronized</code>...&quot; <code>Lock</code> is <a href=\"https://en.wikipedia.org/wiki/Expressive_power_(computer_science)\" rel=\"nofollow noreferrer\">more powerful</a> than <code>synchronized</code> blocks. That&#39;s why Locks were added. They let you do things that you <i>cannot</i> do with <code>synchronized</code> and <code>o.wait()</code> and <code>o.notify()</code>. (e.g., you can lock a <code>Lock</code> in one function, and then unlock it in a different function.) If Lock implementations and synchronized blocks both happen to &quot;wrap&quot; the same underlying mechanism (they almost certainly do) then that&#39;s an implementation detail, not part of the language."}],"answers":[{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1688773527,"creation_date":1688772265,"answer_id":76640716,"question_id":76640605,"body_markdown":"The section of the _Java Language Specification_ (JLS) you linked is talking about `synchronized`. Specifically, it&#39;s saying that if you have the following:\r\n\r\n```lang-java\r\nsynchronized (someObj) {\r\n    // guarded code\r\n}\r\n```\r\n\r\nThen when that `synchronized` block exits for any reason, including an exception being thrown from within the block, it&#39;s guaranteed the implicit monitor of `someObj` will be unlocked.\r\n\r\nThe [`java.util.concurrent.locks`][1] API is a separate thing, and is not covered by the JLS (though obviously relies on the Java Memory Model (JMM) as defined by the JLS). That means you have to read the Javadoc of the API to know how its defined to work.\r\n\r\nHere&#39;s an excerpt from the package documentation:\r\n\r\n&gt; Interfaces and classes providing a framework for locking and waiting for conditions **that is distinct from built-in synchronization and monitors** _[emphasis added]_. The framework permits much greater flexibility in the use of locks and conditions, at the expense of more awkward syntax.\r\n\r\n\r\nAnd here&#39;s an excerpt from the documentation of [`Lock`][2]:\r\n\r\n&gt; With this increased flexibility comes additional responsibility. **The absence of block-structured locking removes the automatic release of locks that occurs with `synchronized` methods and statements** _[emphasis added]_. In most cases, the following idiom should be used:\r\n&gt;\r\n&gt; ```lang-java \r\n&gt; Lock l = ...;\r\n&gt; l.lock();\r\n&gt; try {\r\n&gt;   // access the resource protected by this lock\r\n&gt; } finally {\r\n&gt;   l.unlock();\r\n&gt; }\r\n&gt;```\r\n\r\nAs you can see, it&#39;s necessary to unlock the lock in a `finally` block&lt;sup&gt;1&lt;/sup&gt;. Also note that the call to `lock()` is done _before_ the `try` block. This prevents trying to unlock the lock in the case where the call to `lock()` failed for whatever reason.\r\n\r\n\r\n---\r\n\r\n\r\n&lt;sup&gt;1. A major reason why the `java.util.concurrent.locks` API was created is to provide more flexibility than the block-structure of `synchronized`. You may have a more complex scenario where you need to call `unlock()` far removed from the call to `lock()` or at some unspecified moment in the future, meaning calling `unlock()` in a `finally` block may not be the correct approach. But as noted by the documentation, that means you, the developer, have more responsibility. It&#39;s up to _you_ to guarantee `unlock()` is called when appropriate.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/locks/package-summary.html\r\n  [2]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/locks/Lock.html","title":"Is it really necessary to put lock.unlock() in a finally block?","body":"<p>The section of the <em>Java Language Specification</em> (JLS) you linked is talking about <code>synchronized</code>. Specifically, it's saying that if you have the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>synchronized (someObj) {\n    // guarded code\n}\n</code></pre>\n<p>Then when that <code>synchronized</code> block exits for any reason, including an exception being thrown from within the block, it's guaranteed the implicit monitor of <code>someObj</code> will be unlocked.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/locks/package-summary.html\" rel=\"noreferrer\"><code>java.util.concurrent.locks</code></a> API is a separate thing, and is not covered by the JLS (though obviously relies on the Java Memory Model (JMM) as defined by the JLS). That means you have to read the Javadoc of the API to know how its defined to work.</p>\n<p>Here's an excerpt from the package documentation:</p>\n<blockquote>\n<p>Interfaces and classes providing a framework for locking and waiting for conditions <strong>that is distinct from built-in synchronization and monitors</strong> <em>[emphasis added]</em>. The framework permits much greater flexibility in the use of locks and conditions, at the expense of more awkward syntax.</p>\n</blockquote>\n<p>And here's an excerpt from the documentation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/locks/Lock.html\" rel=\"noreferrer\"><code>Lock</code></a>:</p>\n<blockquote>\n<p>With this increased flexibility comes additional responsibility. <strong>The absence of block-structured locking removes the automatic release of locks that occurs with <code>synchronized</code> methods and statements</strong> <em>[emphasis added]</em>. In most cases, the following idiom should be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Lock l = ...;\nl.lock();\ntry {\n  // access the resource protected by this lock\n} finally {\n  l.unlock();\n}\n</code></pre>\n</blockquote>\n<p>As you can see, it's necessary to unlock the lock in a <code>finally</code> block<sup>1</sup>. Also note that the call to <code>lock()</code> is done <em>before</em> the <code>try</code> block. This prevents trying to unlock the lock in the case where the call to <code>lock()</code> failed for whatever reason.</p>\n<hr />\n<p><sup>1. A major reason why the <code>java.util.concurrent.locks</code> API was created is to provide more flexibility than the block-structure of <code>synchronized</code>. You may have a more complex scenario where you need to call <code>unlock()</code> far removed from the call to <code>lock()</code> or at some unspecified moment in the future, meaning calling <code>unlock()</code> in a <code>finally</code> block may not be the correct approach. But as noted by the documentation, that means you, the developer, have more responsibility. It's up to <em>you</em> to guarantee <code>unlock()</code> is called when appropriate.</sup></p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76640716,"answer_count":1,"score":0,"last_activity_date":1688829792,"creation_date":1688770202,"question_id":76640605,"body_markdown":"Is it really necessary to `lock.unlock()` in a `finally` block? The following is a common idiom\r\n```java\r\ntry {\r\n    lock.lock();\r\n    // some code\r\n} catch (Exception e) {\r\n    // exception handling\r\n} finally {\r\n    lock.unlock();\r\n}\r\n```\r\nhowever, here&#39;s what [the Java Language Specification](https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html) has to say:\r\n\r\n&gt; If execution of the body is ever completed, either normally **or abruptly** *[presumably, e.g. due to an exception]*, an **unlock action is automatically performed** on that same monitor.\r\n\r\nIs it really necessary to put `lock.unlock()` in a `finally` block then? Or did I misunderstand the specification?","title":"Is it really necessary to put lock.unlock() in a finally block?","body":"<p>Is it really necessary to <code>lock.unlock()</code> in a <code>finally</code> block? The following is a common idiom</p>\n<pre class=\"lang-java prettyprint-override\"><code>try {\n    lock.lock();\n    // some code\n} catch (Exception e) {\n    // exception handling\n} finally {\n    lock.unlock();\n}\n</code></pre>\n<p>however, here's what <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html\" rel=\"nofollow noreferrer\">the Java Language Specification</a> has to say:</p>\n<blockquote>\n<p>If execution of the body is ever completed, either normally <strong>or abruptly</strong> <em>[presumably, e.g. due to an exception]</em>, an <strong>unlock action is automatically performed</strong> on that same monitor.</p>\n</blockquote>\n<p>Is it really necessary to put <code>lock.unlock()</code> in a <code>finally</code> block then? Or did I misunderstand the specification?</p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688829258,"creation_date":1688829258,"answer_id":76643613,"question_id":76643561,"body_markdown":"I added withN around id and this solved the problem:\r\n\r\n    protected PutItemResult insert(String table, String id, String key, String value) {\r\n         PutItemRequest request = new PutItemRequest()\r\n            .withTableName(table)\r\n            .addItemEntry(&quot;Id&quot;, new AttributeValue().withN(id))\r\n            .addItemEntry(key, new AttributeValue(value));\r\n        return dynamoDbClient.putItem(request);\r\n    }","title":"One or more parameter values were invalid: Type mismatch for key Id expected: N actual: S","body":"<p>I added withN around id and this solved the problem:</p>\n<pre><code>protected PutItemResult insert(String table, String id, String key, String value) {\n     PutItemRequest request = new PutItemRequest()\n        .withTableName(table)\n        .addItemEntry(&quot;Id&quot;, new AttributeValue().withN(id))\n        .addItemEntry(key, new AttributeValue(value));\n    return dynamoDbClient.putItem(request);\n}\n</code></pre>\n"}],"owner":{"account_id":281380,"reputation":2648,"user_id":577647,"accept_rate":69,"display_name":"tolga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688829258,"creation_date":1688828543,"question_id":76643561,"body_markdown":"I want to insert a key value pair into DynamoDB.\r\n\r\nHere is my insert method in the service class:\r\n\r\n    protected PutItemResult insert(String table, String id, String key, String value){\r\n        PutItemRequest request = new PutItemRequest()\r\n            .withTableName(table)\r\n            .addItemEntry(&quot;Id&quot;, new AttributeValue(id))\r\n            .addItemEntry(key, new AttributeValue(value));\r\n        return dynamoDbClient.putItem(request);\r\n    }\r\n\r\nWhat I understand from the following error, Id should be a number?\r\n\r\n    One or more parameter values were invalid: Type mismatch for key Id expected: N actual: S\r\n\r\nBut when I change the method definition:\r\n   \r\n    insert(String table, Integer id, String key, String value){\r\n\r\nI see the following warning:\r\n\r\n    The constructor AttributeValue(Integer) is undefined\r\n\r\nWhat is the type of the Id in DynamoDB? How should I define it in Java?","title":"One or more parameter values were invalid: Type mismatch for key Id expected: N actual: S","body":"<p>I want to insert a key value pair into DynamoDB.</p>\n<p>Here is my insert method in the service class:</p>\n<pre><code>protected PutItemResult insert(String table, String id, String key, String value){\n    PutItemRequest request = new PutItemRequest()\n        .withTableName(table)\n        .addItemEntry(&quot;Id&quot;, new AttributeValue(id))\n        .addItemEntry(key, new AttributeValue(value));\n    return dynamoDbClient.putItem(request);\n}\n</code></pre>\n<p>What I understand from the following error, Id should be a number?</p>\n<pre><code>One or more parameter values were invalid: Type mismatch for key Id expected: N actual: S\n</code></pre>\n<p>But when I change the method definition:</p>\n<pre><code>insert(String table, Integer id, String key, String value){\n</code></pre>\n<p>I see the following warning:</p>\n<pre><code>The constructor AttributeValue(Integer) is undefined\n</code></pre>\n<p>What is the type of the Id in DynamoDB? How should I define it in Java?</p>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"owner":{"account_id":5965676,"reputation":629,"user_id":4689521,"display_name":"M4V3N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688829206,"creation_date":1688827794,"question_id":76643506,"body_markdown":"I have the following datamodel:\r\n\r\n    +-------------------------+\r\n    | Newsletter              |\r\n    +-------------------------+\r\n    | Long id                |\r\n    | String title           |\r\n    | Category category      |\r\n    | Set&lt;User&gt; users        |\r\n    +-------------------------+\r\n\r\n    +-------------------------+\r\n    | Category               |\r\n    +-------------------------+\r\n    | Long id                |\r\n    | String title           |\r\n    | List&lt;UserConfig&gt; cfgs  |\r\n    +-------------------------+\r\n\r\n    +-------------------------+\r\n    | UserConfig              |\r\n    +-------------------------+\r\n    | Long id                |\r\n    | Category category      |\r\n    | User user              |\r\n    | boolean visible        |\r\n    +-------------------------+\r\n\r\n    +-------------------------+\r\n    | User                   |\r\n    +-------------------------+\r\n    | Long id                |\r\n    | String name            |\r\n    +-------------------------+\r\n\r\n&gt; Newsletter MANY-TO-MANY User (uni-directional)\r\n&gt; \r\n&gt; Newsletter MANY-TO-ONE Category (uni-directional)\r\n&gt; \r\n&gt; Category ONE-TO-MANY UserConfig (bi-directional)\r\n&gt; \r\n&gt; UserConfig MANY-TO-ONE User (uni-directional)\r\n\r\nEach newsletter has one category, it can be assigned to multiple users.\r\nEach user can configure for himself whether the category should be visible or not.\r\n\r\nI would like to filter and sort for various properties, but doing it for the visible property seems to be rather difficult because of the datamodel.\r\n\r\n**Explanation**: I would like to retrieve all newsletter for a specific user, with it, the category title, all the other usernames that receive that newsletter and whether the category for this specific user is visible or not.\r\n\r\nTo filter, I created a method: `searchNewsletters(Specification&lt;Newsletter&gt; s, Pageable p)`\r\n\r\nBecause sorting on joined tables with Pageable is rather difficult (in this case impossible for visible property or usernames) I am using JPA spec also for sorting.\r\n\r\n    public static Specification&lt;Newsletter&gt; withSortProperty(String sortProperty, Sort.Direction sortDirection, String userId) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n          switch (sortProperty) {\r\n            case ...\r\n            case UserConfig_.VISIBLE:\r\n             /* HOW ? */\r\n            default: ...\r\n          }\r\n          return null;\r\n        };\r\n      }\r\n\r\nThe things I tried always return duplicate records. I am always filtering for a specific user, so maybe I can use this in some way, by passing a certain userId to the sort method.\r\nBut these tries also failed:\r\n\r\n    public static Specification&lt;Newsletter&gt; withSortProperty(String sortProperty, Sort.Direction sortDirection, String userId) {\r\n        return (root, query, criteriaBuilder) -&gt; {\r\n          switch (sortProperty) {\r\n            case ...\r\n            case UserConfig_.VISIBLE:\r\n             Join&lt;Newsletter, Category&gt; cj = root.join(Newsletter.category);\r\n          Join&lt;Category, UserConfig&gt; configJoin = cj.join(Category_.configs);\r\n          Join&lt;UserConfig, User&gt; rj = configJoin.join(UserConfig.user);\r\n\r\n          Predicate idPredicate = criteriaBuilder.equal(rj.get(User_.ID), id);\r\n          query.where(idPredicate );\r\n\r\n          query.orderBy(sortDirection == Sort.Direction.DESC\r\n              ? criteriaBuilder.desc(configJoin.get(UserConfig.visible))\r\n              : criteriaBuilder.asc(configJoin.get(UserConfig.visible)));\r\n            default: ...\r\n          }\r\n          return null;\r\n        };\r\n      }\r\n\r\nIs this even possible? Should I re-think my datamodel? I could sort in memory instead but I really would like to sort in the DB if possible.\r\n\r\n","title":"How to sort complex datamodel with JPA specification?","body":"<p>I have the following datamodel:</p>\n<pre><code>+-------------------------+\n| Newsletter              |\n+-------------------------+\n| Long id                |\n| String title           |\n| Category category      |\n| Set&lt;User&gt; users        |\n+-------------------------+\n\n+-------------------------+\n| Category               |\n+-------------------------+\n| Long id                |\n| String title           |\n| List&lt;UserConfig&gt; cfgs  |\n+-------------------------+\n\n+-------------------------+\n| UserConfig              |\n+-------------------------+\n| Long id                |\n| Category category      |\n| User user              |\n| boolean visible        |\n+-------------------------+\n\n+-------------------------+\n| User                   |\n+-------------------------+\n| Long id                |\n| String name            |\n+-------------------------+\n</code></pre>\n<blockquote>\n<p>Newsletter MANY-TO-MANY User (uni-directional)</p>\n<p>Newsletter MANY-TO-ONE Category (uni-directional)</p>\n<p>Category ONE-TO-MANY UserConfig (bi-directional)</p>\n<p>UserConfig MANY-TO-ONE User (uni-directional)</p>\n</blockquote>\n<p>Each newsletter has one category, it can be assigned to multiple users.\nEach user can configure for himself whether the category should be visible or not.</p>\n<p>I would like to filter and sort for various properties, but doing it for the visible property seems to be rather difficult because of the datamodel.</p>\n<p><strong>Explanation</strong>: I would like to retrieve all newsletter for a specific user, with it, the category title, all the other usernames that receive that newsletter and whether the category for this specific user is visible or not.</p>\n<p>To filter, I created a method: <code>searchNewsletters(Specification&lt;Newsletter&gt; s, Pageable p)</code></p>\n<p>Because sorting on joined tables with Pageable is rather difficult (in this case impossible for visible property or usernames) I am using JPA spec also for sorting.</p>\n<pre><code>public static Specification&lt;Newsletter&gt; withSortProperty(String sortProperty, Sort.Direction sortDirection, String userId) {\n    return (root, query, criteriaBuilder) -&gt; {\n      switch (sortProperty) {\n        case ...\n        case UserConfig_.VISIBLE:\n         /* HOW ? */\n        default: ...\n      }\n      return null;\n    };\n  }\n</code></pre>\n<p>The things I tried always return duplicate records. I am always filtering for a specific user, so maybe I can use this in some way, by passing a certain userId to the sort method.\nBut these tries also failed:</p>\n<pre><code>public static Specification&lt;Newsletter&gt; withSortProperty(String sortProperty, Sort.Direction sortDirection, String userId) {\n    return (root, query, criteriaBuilder) -&gt; {\n      switch (sortProperty) {\n        case ...\n        case UserConfig_.VISIBLE:\n         Join&lt;Newsletter, Category&gt; cj = root.join(Newsletter.category);\n      Join&lt;Category, UserConfig&gt; configJoin = cj.join(Category_.configs);\n      Join&lt;UserConfig, User&gt; rj = configJoin.join(UserConfig.user);\n\n      Predicate idPredicate = criteriaBuilder.equal(rj.get(User_.ID), id);\n      query.where(idPredicate );\n\n      query.orderBy(sortDirection == Sort.Direction.DESC\n          ? criteriaBuilder.desc(configJoin.get(UserConfig.visible))\n          : criteriaBuilder.asc(configJoin.get(UserConfig.visible)));\n        default: ...\n      }\n      return null;\n    };\n  }\n</code></pre>\n<p>Is this even possible? Should I re-think my datamodel? I could sort in memory instead but I really would like to sort in the DB if possible.</p>\n"},{"tags":["java","spring-boot","cloud-foundry"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688829171,"creation_date":1688826343,"answer_id":76643413,"question_id":76643358,"body_markdown":"To map routes to your app:\r\n\r\n1. Go to the app `Overview` page.\r\n2. In the panel on the left side of the page, under `Networking`, click `Routes`.\r\n3. To add a new route, click `Map a Route`.\r\n4. Enter the route and click `Map`.\r\n5. Under `Choose Protocol`, select either `HTTP1` or `HTTP2`.\r\n\r\nBased on: [https://docs.vmware.com/en/VMware-Tanzu-Application-Service/3.0/tas-for-vms/manage-apps.html][1]\r\n\r\nIf you want to map a route during deployment add following to the `manifest.yml`:\r\n```\r\nroutes:\r\n  - route: pcf-host.your-domain.com/app-service/info\r\n```\r\nBased on: [https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html#routes][2]\r\n\r\n\r\n  [1]: https://docs.vmware.com/en/VMware-Tanzu-Application-Service/3.0/tas-for-vms/manage-apps.html\r\n  [2]: https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html#routes","title":"How to map a route in Pivotal Cloud Foundry to a landing page","body":"<p>To map routes to your app:</p>\n<ol>\n<li>Go to the app <code>Overview</code> page.</li>\n<li>In the panel on the left side of the page, under <code>Networking</code>, click <code>Routes</code>.</li>\n<li>To add a new route, click <code>Map a Route</code>.</li>\n<li>Enter the route and click <code>Map</code>.</li>\n<li>Under <code>Choose Protocol</code>, select either <code>HTTP1</code> or <code>HTTP2</code>.</li>\n</ol>\n<p>Based on: <a href=\"https://docs.vmware.com/en/VMware-Tanzu-Application-Service/3.0/tas-for-vms/manage-apps.html\" rel=\"nofollow noreferrer\">https://docs.vmware.com/en/VMware-Tanzu-Application-Service/3.0/tas-for-vms/manage-apps.html</a></p>\n<p>If you want to map a route during deployment add following to the <code>manifest.yml</code>:</p>\n<pre><code>routes:\n  - route: pcf-host.your-domain.com/app-service/info\n</code></pre>\n<p>Based on: <a href=\"https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html#routes\" rel=\"nofollow noreferrer\">https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html#routes</a></p>\n"}],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76643413,"answer_count":1,"score":1,"last_activity_date":1688829171,"creation_date":1688825517,"question_id":76643358,"body_markdown":"I want PCF **(Pivotal Cloud Foundry)** route to a landing page. I have an application called `app-service`, it has a landing page which can be accessed by the link `localhost:8080/app-service/info`. How can I configure in Manifest.yml file for PCF so that simply clicking on route which is available in Pivotal Cloud Foundry **AppsManager** Dashboard to a landing page.\r\nCurrently after making deployment in PCF, when I click the link (which is route) in dashboard page, it say `Whitelabel Error Page`. So the requirement is to redirect PCF route to a landing page in Spring Boot.","title":"How to map a route in Pivotal Cloud Foundry to a landing page","body":"<p>I want PCF <strong>(Pivotal Cloud Foundry)</strong> route to a landing page. I have an application called <code>app-service</code>, it has a landing page which can be accessed by the link <code>localhost:8080/app-service/info</code>. How can I configure in Manifest.yml file for PCF so that simply clicking on route which is available in Pivotal Cloud Foundry <strong>AppsManager</strong> Dashboard to a landing page.\nCurrently after making deployment in PCF, when I click the link (which is route) in dashboard page, it say <code>Whitelabel Error Page</code>. So the requirement is to redirect PCF route to a landing page in Spring Boot.</p>\n"},{"tags":["java","json","parsing"],"comments":[{"owner":{"account_id":4337266,"reputation":5191,"user_id":3541465,"accept_rate":40,"display_name":"Aakash"},"score":2,"creation_date":1438788689,"post_id":2591098,"comment_id":51595297,"body_markdown":"https://androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial/ : try this","body":"<a href=\"https://androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial/\" rel=\"nofollow noreferrer\">androidbeasts.wordpress.com/2015/08/04/json-parsing-tutorial</a> : try this"},{"owner":{"account_id":3000565,"reputation":2167,"user_id":2546146,"accept_rate":75,"display_name":"Iman Akbari"},"score":15,"creation_date":1457521872,"post_id":2591098,"comment_id":59440771,"body_markdown":"java&#39;s built in JSON libraries are the quickets way to do so, but in my experience GSON is the best library for parsing a JSON into a POJO painlessly.","body":"java&#39;s built in JSON libraries are the quickets way to do so, but in my experience GSON is the best library for parsing a JSON into a POJO painlessly."},{"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"score":4,"creation_date":1467059706,"post_id":2591098,"comment_id":63564544,"body_markdown":"There are many notorious java libraries in java: jackson, gson, org.json, genson, etc. Choosing one should take into account their relative performance and feature set. Here is a benchmark did using JMH that compares the performance of the most popular json libraries in java: https://github.com/fabienrenaud/java-json-benchmark. See my post below for some more info.","body":"There are many notorious java libraries in java: jackson, gson, org.json, genson, etc. Choosing one should take into account their relative performance and feature set. Here is a benchmark did using JMH that compares the performance of the most popular json libraries in java: <a href=\"https://github.com/fabienrenaud/java-json-benchmark\" rel=\"nofollow noreferrer\">github.com/fabienrenaud/java-json-benchmark</a>. See my post below for some more info."},{"owner":{"account_id":444874,"reputation":663,"user_id":836967,"display_name":"Giancarlo Romeo"},"score":2,"creation_date":1497635966,"post_id":2591098,"comment_id":76178609,"body_markdown":"use Gson https://github.com/google/gson","body":"use Gson <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">github.com/google/gson</a>"},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":8,"creation_date":1517417993,"post_id":2591098,"comment_id":84090895,"body_markdown":"@JaysonMinard agreed. Asked for mod intervention. This should be closed really. I initially assumed (wrongly) I couldn&#39;t do so while the question was protected, so I unprotected it and did my thing. Re-protected it now to prevent low rep answers and such like, while waiting for a mod.","body":"@JaysonMinard agreed. Asked for mod intervention. This should be closed really. I initially assumed (wrongly) I couldn&#39;t do so while the question was protected, so I unprotected it and did my thing. Re-protected it now to prevent low rep answers and such like, while waiting for a mod."},{"owner":{"account_id":1891677,"reputation":145566,"user_id":1709587,"accept_rate":71,"display_name":"Mark Amery"},"score":7,"creation_date":1517834061,"post_id":2591098,"comment_id":84241765,"body_markdown":"This question is being [discussed on Meta](https://meta.stackoverflow.com/q/362807/1709587).","body":"This question is being <a href=\"https://meta.stackoverflow.com/q/362807/1709587\">discussed on Meta</a>."},{"owner":{"account_id":1100188,"reputation":5557,"user_id":1201863,"accept_rate":58,"display_name":"Luc"},"score":1,"creation_date":1553004892,"post_id":2591098,"comment_id":97219141,"body_markdown":"@ImanAkbari What JSON library is built-in? I found [Java Specification Request 353](https://jcp.org/en/jsr/detail?id=353) but that just specifies what objects should exist, it is not an implementation. Something generic-sounding like `org.json` is also third party (and unmaintained, it seems). Which libraries are you talking about?","body":"@ImanAkbari What JSON library is built-in? I found <a href=\"https://jcp.org/en/jsr/detail?id=353\" rel=\"nofollow noreferrer\">Java Specification Request 353</a> but that just specifies what objects should exist, it is not an implementation. Something generic-sounding like <code>org.json</code> is also third party (and unmaintained, it seems). Which libraries are you talking about?"},{"owner":{"account_id":3000565,"reputation":2167,"user_id":2546146,"accept_rate":75,"display_name":"Iman Akbari"},"score":1,"creation_date":1553106697,"post_id":2591098,"comment_id":97266838,"body_markdown":"@Luc you are right, my bad. I meant `org.json` they are all 3rd party.","body":"@Luc you are right, my bad. I meant <code>org.json</code> they are all 3rd party."},{"owner":{"account_id":3793595,"reputation":2392,"user_id":3149444,"accept_rate":56,"display_name":"Perimosh"},"score":0,"creation_date":1558911963,"post_id":2591098,"comment_id":99244880,"body_markdown":"Most people confuses between parsing and map. Mapping is really wasy, you can use Gjson, Jackson and others. But, parsing is a different thing. You can use reg exps and such complex techniques. For parsing I would go with something like JsonPath.","body":"Most people confuses between parsing and map. Mapping is really wasy, you can use Gjson, Jackson and others. But, parsing is a different thing. You can use reg exps and such complex techniques. For parsing I would go with something like JsonPath."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1690377923,"post_id":2591098,"comment_id":135345049,"body_markdown":"@Luc There are two JSON standard APIs in JakartaEE: Jakarta JSON Processing API and Jakarta JSON Binding API (based on the former).","body":"@Luc There are two JSON standard APIs in JakartaEE: Jakarta JSON Processing API and Jakarta JSON Binding API (based on the former)."}],"answers":[{"tags":[],"owner":{"account_id":2408034,"reputation":925,"user_id":2103911,"display_name":"rputta"},"down_vote_count":13,"up_vote_count":94,"is_accepted":false,"score":81,"last_activity_date":1488201505,"creation_date":1361687072,"answer_id":15049250,"question_id":2591098,"body_markdown":"[quick-json parser](https://code.google.com/p/quick-json/) is very straightforward, flexible, very fast and customizable. Try it\r\n\r\nFeatures:\r\n\r\n- Compliant with JSON specification (RFC4627) \r\n- High-Performance JSON parser \r\n- Supports Flexible/Configurable parsing approach \r\n- Configurable validation of key/value pairs of any JSON Hierarchy \r\n- Easy to use # Very small footprint\r\n- Raises developer friendly and easy to trace exceptions \r\n- Pluggable Custom Validation support - Keys/Values can be validated by configuring custom validators as and when encountered \r\n- Validating and Non-Validating parser support \r\n- Support for two types of configuration (JSON/XML) for using quick-JSON validating parser \r\n- Requires JDK 1.5\r\n- No dependency on external libraries \r\n- Support for JSON Generation through object serialisation \r\n- Support for collection type selection during parsing process \r\n\r\nIt can be used like this:\r\n\r\n    JsonParserFactory factory=JsonParserFactory.getInstance();\r\n    JSONParser parser=factory.newJsonParser();\r\n    Map jsonMap=parser.parseJson(jsonString);","title":"How to parse JSON in Java","body":"<p><a href=\"https://code.google.com/p/quick-json/\" rel=\"noreferrer\">quick-json parser</a> is very straightforward, flexible, very fast and customizable. Try it</p>\n\n<p>Features:</p>\n\n<ul>\n<li>Compliant with JSON specification (RFC4627) </li>\n<li>High-Performance JSON parser </li>\n<li>Supports Flexible/Configurable parsing approach </li>\n<li>Configurable validation of key/value pairs of any JSON Hierarchy </li>\n<li>Easy to use # Very small footprint</li>\n<li>Raises developer friendly and easy to trace exceptions </li>\n<li>Pluggable Custom Validation support - Keys/Values can be validated by configuring custom validators as and when encountered </li>\n<li>Validating and Non-Validating parser support </li>\n<li>Support for two types of configuration (JSON/XML) for using quick-JSON validating parser </li>\n<li>Requires JDK 1.5</li>\n<li>No dependency on external libraries </li>\n<li>Support for JSON Generation through object serialisation </li>\n<li>Support for collection type selection during parsing process </li>\n</ul>\n\n<p>It can be used like this:</p>\n\n<pre><code>JsonParserFactory factory=JsonParserFactory.getInstance();\nJSONParser parser=factory.newJsonParser();\nMap jsonMap=parser.parseJson(jsonString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1398557,"reputation":9636,"user_id":1327788,"accept_rate":84,"display_name":"Giovanni Botta"},"down_vote_count":3,"up_vote_count":26,"is_accepted":false,"score":23,"last_activity_date":1439510665,"creation_date":1365442626,"answer_id":15885408,"question_id":2591098,"body_markdown":"I believe the best practice should be to go through the official [Java JSON API](http://json-processing-spec.java.net/) which are still work in progress.","title":"How to parse JSON in Java","body":"<p>I believe the best practice should be to go through the official <a href=\"http://json-processing-spec.java.net/\" rel=\"noreferrer\">Java JSON API</a> which are still work in progress.</p>\n"},{"tags":[],"owner":{"account_id":2182740,"reputation":10568,"user_id":1931858,"display_name":"user1931858"},"down_vote_count":38,"up_vote_count":990,"is_accepted":false,"score":952,"last_activity_date":1609529406,"creation_date":1380092175,"answer_id":18998203,"question_id":2591098,"body_markdown":"The [org.json][1] library is easy to use. \r\n\r\nJust remember (while casting or using methods like `getJSONObject` and `getJSONArray`) that in JSON notation\r\n\r\n- `[ … ]` represents an array, so library will parse it to `JSONArray` \r\n- `{ … }` represents an object, so library will parse it to `JSONObject`\r\n\r\nExample code below:\r\n\r\n    import org.json.*;\r\n\r\n    String jsonString = ... ; //assign your JSON String here\r\n    JSONObject obj = new JSONObject(jsonString);\r\n    String pageName = obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\r\n\r\n    JSONArray arr = obj.getJSONArray(&quot;posts&quot;); // notice that `&quot;posts&quot;: [...]`\r\n    for (int i = 0; i &lt; arr.length(); i++)\r\n    {\r\n        String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\r\n        ......\r\n    }\r\nYou may find more examples from: [Parse JSON in Java][2]\r\n\r\nDownloadable jar:  http://mvnrepository.com/artifact/org.json/json\r\n\r\n  [1]: https://github.com/stleary/JSON-java\r\n  [2]: http://theoryapp.com/parse-json-in-java/","title":"How to parse JSON in Java","body":"<p>The <a href=\"https://github.com/stleary/JSON-java\" rel=\"noreferrer\">org.json</a> library is easy to use.</p>\n<p>Just remember (while casting or using methods like <code>getJSONObject</code> and <code>getJSONArray</code>) that in JSON notation</p>\n<ul>\n<li><code>[ … ]</code> represents an array, so library will parse it to <code>JSONArray</code></li>\n<li><code>{ … }</code> represents an object, so library will parse it to <code>JSONObject</code></li>\n</ul>\n<p>Example code below:</p>\n<pre><code>import org.json.*;\n\nString jsonString = ... ; //assign your JSON String here\nJSONObject obj = new JSONObject(jsonString);\nString pageName = obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\n\nJSONArray arr = obj.getJSONArray(&quot;posts&quot;); // notice that `&quot;posts&quot;: [...]`\nfor (int i = 0; i &lt; arr.length(); i++)\n{\n    String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\n    ......\n}\n</code></pre>\n<p>You may find more examples from: <a href=\"http://theoryapp.com/parse-json-in-java/\" rel=\"noreferrer\">Parse JSON in Java</a></p>\n<p>Downloadable jar:  <a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">http://mvnrepository.com/artifact/org.json/json</a></p>\n"},{"tags":[],"owner":{"account_id":1532888,"reputation":1092,"user_id":1429640,"accept_rate":71,"display_name":"brainmurphy1"},"down_vote_count":12,"up_vote_count":24,"is_accepted":false,"score":12,"last_activity_date":1452887129,"creation_date":1400118977,"answer_id":23668021,"question_id":2591098,"body_markdown":"This blew my mind with how easy it was. You can just pass a `String` holding your JSON to the constructor of a JSONObject in the default org.json package. \r\n\r\n    JSONArray rootOfPage =  new JSONArray(JSONString);\r\nDone. *Drops microphone*.\r\nThis works with `JSONObjects` as well. After that, you can just look through your hierarchy of `Objects` using the `get()` methods on your objects.","title":"How to parse JSON in Java","body":"<p>This blew my mind with how easy it was. You can just pass a <code>String</code> holding your JSON to the constructor of a JSONObject in the default org.json package. </p>\n\n<pre><code>JSONArray rootOfPage =  new JSONArray(JSONString);\n</code></pre>\n\n<p>Done. <em>Drops microphone</em>.\nThis works with <code>JSONObjects</code> as well. After that, you can just look through your hierarchy of <code>Objects</code> using the <code>get()</code> methods on your objects.</p>\n"},{"tags":[],"owner":{"account_id":2231509,"reputation":1486,"user_id":1968938,"display_name":"nondescript"},"down_vote_count":2,"up_vote_count":118,"is_accepted":false,"score":116,"last_activity_date":1535154344,"creation_date":1424302478,"answer_id":28596047,"question_id":2591098,"body_markdown":"1. If one wants to create Java object from JSON and vice versa, use GSON or JACKSON third party jars etc.\r\n\r\n        //from object to JSON \r\n        Gson gson = new Gson();\r\n        gson.toJson(yourObject);\r\n\r\n        // from JSON to object \r\n        yourObject o = gson.fromJson(JSONString,yourObject.class);\r\n\r\n2. But if one just want to parse a JSON string and get some values, (OR create a JSON string from scratch to send over wire) just use JaveEE jar which contains JsonReader, JsonArray, JsonObject etc. You may want to download the implementation of that spec like javax.json. With these two jars I am able to parse the json and use the values.  \r\n\r\n  These APIs actually follow the DOM/SAX parsing model of XML.       \r\n     \r\n        \r\n\r\n        Response response = request.get(); // REST call \r\n            JsonReader jsonReader = Json.createReader(new StringReader(response.readEntity(String.class)));\r\n    \t\tJsonArray jsonArray = jsonReader.readArray();\r\n            ListIterator l = jsonArray.listIterator();\r\n            while ( l.hasNext() ) {\r\n                  JsonObject j = (JsonObject)l.next();\r\n                  JsonObject ciAttr = j.getJsonObject(&quot;ciAttributes&quot;);","title":"How to parse JSON in Java","body":"<ol>\n<li><p>If one wants to create Java object from JSON and vice versa, use GSON or JACKSON third party jars etc.</p>\n\n<pre><code>//from object to JSON \nGson gson = new Gson();\ngson.toJson(yourObject);\n\n// from JSON to object \nyourObject o = gson.fromJson(JSONString,yourObject.class);\n</code></pre></li>\n<li><p>But if one just want to parse a JSON string and get some values, (OR create a JSON string from scratch to send over wire) just use JaveEE jar which contains JsonReader, JsonArray, JsonObject etc. You may want to download the implementation of that spec like javax.json. With these two jars I am able to parse the json and use the values.  </p>\n\n<p>These APIs actually follow the DOM/SAX parsing model of XML.       </p>\n\n<pre><code>Response response = request.get(); // REST call \n    JsonReader jsonReader = Json.createReader(new StringReader(response.readEntity(String.class)));\n    JsonArray jsonArray = jsonReader.readArray();\n    ListIterator l = jsonArray.listIterator();\n    while ( l.hasNext() ) {\n          JsonObject j = (JsonObject)l.next();\n          JsonObject ciAttr = j.getJsonObject(\"ciAttributes\");\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6622309,"reputation":101,"user_id":5113554,"display_name":"Sreekanth"},"down_vote_count":5,"up_vote_count":11,"is_accepted":false,"score":6,"last_activity_date":1436847796,"creation_date":1436847260,"answer_id":31397524,"question_id":2591098,"body_markdown":"Please do something like this:\r\n\r\n    JSONParser jsonParser = new JSONParser();\r\n    JSONObject obj = (JSONObject) jsonParser.parse(contentString);\r\n    String product = (String) jsonObject.get(&quot;productId&quot;);","title":"How to parse JSON in Java","body":"<p>Please do something like this:</p>\n\n<pre><code>JSONParser jsonParser = new JSONParser();\nJSONObject obj = (JSONObject) jsonParser.parse(contentString);\nString product = (String) jsonObject.get(\"productId\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6698019,"reputation":127,"user_id":5165508,"display_name":"LReddy"},"down_vote_count":8,"up_vote_count":14,"is_accepted":false,"score":6,"last_activity_date":1438094436,"creation_date":1438094436,"answer_id":31679576,"question_id":2591098,"body_markdown":"    {\r\n       &quot;pageInfo&quot;: {\r\n             &quot;pageName&quot;: &quot;abc&quot;,\r\n             &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n        },\r\n        &quot;posts&quot;: [\r\n             {\r\n                  &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n                  &quot;actor_id&quot;: &quot;1234567890&quot;,\r\n                  &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n                  &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n                  &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n                  &quot;likesCount&quot;: &quot;2&quot;,\r\n                  &quot;comments&quot;: [],\r\n                  &quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n             }\r\n        ]\r\n    }\r\n    \r\n    Java code :\r\n    \r\n    JSONObject obj = new JSONObject(responsejsonobj);\r\n    String pageName = obj.getJSONObject(&quot;pageInfo&quot;).getString(&quot;pageName&quot;);\r\n    \r\n    JSONArray arr = obj.getJSONArray(&quot;posts&quot;);\r\n    for (int i = 0; i &lt; arr.length(); i++)\r\n    {\r\n        String post_id = arr.getJSONObject(i).getString(&quot;post_id&quot;);\r\n        ......etc\r\n    }","title":"How to parse JSON in Java","body":"<pre><code>{\n   \"pageInfo\": {\n         \"pageName\": \"abc\",\n         \"pagePic\": \"http://example.com/content.jpg\"\n    },\n    \"posts\": [\n         {\n              \"post_id\": \"123456789012_123456789012\",\n              \"actor_id\": \"1234567890\",\n              \"picOfPersonWhoPosted\": \"http://example.com/photo.jpg\",\n              \"nameOfPersonWhoPosted\": \"Jane Doe\",\n              \"message\": \"Sounds cool. Can't wait to see it!\",\n              \"likesCount\": \"2\",\n              \"comments\": [],\n              \"timeOfPost\": \"1234567890\"\n         }\n    ]\n}\n\nJava code :\n\nJSONObject obj = new JSONObject(responsejsonobj);\nString pageName = obj.getJSONObject(\"pageInfo\").getString(\"pageName\");\n\nJSONArray arr = obj.getJSONArray(\"posts\");\nfor (int i = 0; i &lt; arr.length(); i++)\n{\n    String post_id = arr.getJSONObject(i).getString(\"post_id\");\n    ......etc\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6484127,"reputation":9341,"user_id":5020253,"accept_rate":88,"display_name":"SDekov"},"down_vote_count":1,"up_vote_count":693,"is_accepted":false,"score":692,"last_activity_date":1688828127,"creation_date":1438336472,"answer_id":31743324,"question_id":2591098,"body_markdown":"For the sake of the example lets assume you have a class **`Person`** with just a `name`.\r\n\r\n    private class Person {\r\n        public String name;\r\n\r\n        public Person(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n[Jackson][5] ([Maven][6])\r\n=\r\nMy personal favourite and probably the most widely used.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    \r\n    // De-serialize to an object\r\n    Person user = mapper.readValue(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;, Person.class);\r\n    System.out.println(user.name); //John\r\n    \r\n    // Read a single attribute\r\n    JsonNode nameNode = mapper.readTree(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;);\r\n    System.out.println(nameNode.get(&quot;name&quot;).asText());\r\n\r\n[Google GSON][1] ([Maven][2])\r\n=\r\n\r\n\r\n    Gson g = new Gson();\r\n\r\n    // De-serialize to an object\r\n    Person person = g.fromJson(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;, Person.class);\r\n    System.out.println(person.name); //John\r\n\r\n    // Read a single attribute\r\n    JsonObject jsonObject = new JsonParser().parse(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;).getAsJsonObject();\r\n    System.out.println(jsonObject.get(&quot;name&quot;).getAsString()); //John\r\n\r\n\r\n[Org.JSON][3] ([Maven][4])\r\n=\r\n**This suggestion is listed here simply because it appears to be quite popular due to stackoverflow reference to it. I would not recommend using it as it is more a proof-of-concept project than an actual library.**\r\n\r\n    JSONObject obj = new JSONObject(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;);\r\n\r\n    System.out.println(obj.getString(&quot;name&quot;)); //John\r\n\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: http://mvnrepository.com/artifact/com.google.code.gson/gson\r\n  [3]: https://github.com/stleary/JSON-java\r\n  [4]: http://mvnrepository.com/artifact/org.json/json\r\n  [5]: https://github.com/FasterXML/jackson-databind/\r\n  [6]: http://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind","title":"How to parse JSON in Java","body":"<p>For the sake of the example lets assume you have a class <strong><code>Person</code></strong> with just a <code>name</code>.</p>\n<pre><code>private class Person {\n    public String name;\n\n    public Person(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<h1><a href=\"https://github.com/FasterXML/jackson-databind/\" rel=\"noreferrer\">Jackson</a> (<a href=\"http://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind\" rel=\"noreferrer\">Maven</a>)</h1>\n<p>My personal favourite and probably the most widely used.</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n\n// De-serialize to an object\nPerson user = mapper.readValue(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;, Person.class);\nSystem.out.println(user.name); //John\n\n// Read a single attribute\nJsonNode nameNode = mapper.readTree(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;);\nSystem.out.println(nameNode.get(&quot;name&quot;).asText());\n</code></pre>\n<h1><a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Google GSON</a> (<a href=\"http://mvnrepository.com/artifact/com.google.code.gson/gson\" rel=\"noreferrer\">Maven</a>)</h1>\n<pre><code>Gson g = new Gson();\n\n// De-serialize to an object\nPerson person = g.fromJson(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;, Person.class);\nSystem.out.println(person.name); //John\n\n// Read a single attribute\nJsonObject jsonObject = new JsonParser().parse(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;).getAsJsonObject();\nSystem.out.println(jsonObject.get(&quot;name&quot;).getAsString()); //John\n</code></pre>\n<h1><a href=\"https://github.com/stleary/JSON-java\" rel=\"noreferrer\">Org.JSON</a> (<a href=\"http://mvnrepository.com/artifact/org.json/json\" rel=\"noreferrer\">Maven</a>)</h1>\n<p><strong>This suggestion is listed here simply because it appears to be quite popular due to stackoverflow reference to it. I would not recommend using it as it is more a proof-of-concept project than an actual library.</strong></p>\n<pre><code>JSONObject obj = new JSONObject(&quot;{\\&quot;name\\&quot;: \\&quot;John\\&quot;}&quot;);\n\nSystem.out.println(obj.getString(&quot;name&quot;)); //John\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3005841,"reputation":483,"user_id":2550410,"display_name":"Shailendra Singh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1444154910,"creation_date":1440851960,"answer_id":32286142,"question_id":2591098,"body_markdown":"If you have some Java class(say Message) representing the JSON string(jsonString), you can use [Jackson][1]  JSON library with:\r\n\r\n    Message message= new ObjectMapper().readValue(jsonString, Message.class);\r\n\r\nand from message object you can fetch any of its attribute.\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n","title":"How to parse JSON in Java","body":"<p>If you have some Java class(say Message) representing the JSON string(jsonString), you can use <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a>  JSON library with:</p>\n\n<pre><code>Message message= new ObjectMapper().readValue(jsonString, Message.class);\n</code></pre>\n\n<p>and from message object you can fetch any of its attribute.</p>\n"},{"tags":[],"owner":{"account_id":154853,"reputation":3380,"user_id":371082,"accept_rate":52,"display_name":"dade"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1620193517,"creation_date":1450273872,"answer_id":34313816,"question_id":2591098,"body_markdown":"Almost all the answers given requires a full deserialization of the JSON into a Java object before accessing the value in the property of interest. Another alternative, which does not go this route is to use [JsonPATH][1] which is like XPath for JSON and allows traversing of JSON objects.\r\n\r\nIt is a specification and the good folks at JayWay have created a Java implementation for the specification which you can find here: [https://github.com/jayway/JsonPath][2]\r\n\r\nSo basically to use it, add it to your project, eg:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t&lt;version&gt;${version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nand to use:\r\n\r\n```lang-java\r\nString pageName = JsonPath.read(yourJsonString, &quot;$.pageInfo.pageName&quot;);\r\nString pagePic = JsonPath.read(yourJsonString, &quot;$.pageInfo.pagePic&quot;);\r\nString post_id = JsonPath.read(yourJsonString, &quot;$.pagePosts[0].post_id&quot;);\r\n```\r\n\r\netc...\r\n\r\nCheck the JsonPath specification page for more information on the other ways to transverse JSON.\r\n\r\n  [1]: http://goessner.net/articles/JsonPath/\r\n  [2]: https://github.com/jayway/JsonPath","title":"How to parse JSON in Java","body":"<p>Almost all the answers given requires a full deserialization of the JSON into a Java object before accessing the value in the property of interest. Another alternative, which does not go this route is to use <a href=\"http://goessner.net/articles/JsonPath/\" rel=\"noreferrer\">JsonPATH</a> which is like XPath for JSON and allows traversing of JSON objects.</p>\n<p>It is a specification and the good folks at JayWay have created a Java implementation for the specification which you can find here: <a href=\"https://github.com/jayway/JsonPath\" rel=\"noreferrer\">https://github.com/jayway/JsonPath</a></p>\n<p>So basically to use it, add it to your project, eg:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;${version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pageName = JsonPath.read(yourJsonString, &quot;$.pageInfo.pageName&quot;);\nString pagePic = JsonPath.read(yourJsonString, &quot;$.pageInfo.pagePic&quot;);\nString post_id = JsonPath.read(yourJsonString, &quot;$.pagePosts[0].post_id&quot;);\n</code></pre>\n<p>etc...</p>\n<p>Check the JsonPath specification page for more information on the other ways to transverse JSON.</p>\n"},{"tags":[],"owner":{"account_id":5426896,"reputation":58746,"user_id":4318868,"display_name":"Slava Vedenin"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1620230120,"creation_date":1450301019,"answer_id":34322365,"question_id":2591098,"body_markdown":"In addition to other answers, I recomend this online opensource service [jsonschema2pojo.org][1] for quick generating Java classes from json or json schema for GSON, Jackson 1.x or Jackson 2.x. For example, if you have:\r\n\r\n```json\r\n{\r\n   &quot;pageInfo&quot;: {\r\n\t\t &quot;pageName&quot;: &quot;abc&quot;,\r\n\t\t &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n\t}\r\n\t&quot;posts&quot;: [\r\n\t\t {\r\n\t\t\t  &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n\t\t\t  &quot;actor_id&quot;: 1234567890,\r\n\t\t\t  &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n\t\t\t  &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n\t\t\t  &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n\t\t\t  &quot;likesCount&quot;: 2,\r\n\t\t\t  &quot;comments&quot;: [],\r\n\t\t\t  &quot;timeOfPost&quot;: 1234567890\r\n\t\t }\r\n\t]\r\n}\r\n```\r\n\r\nThe [jsonschema2pojo.org][1] for GSON generated:\r\n\r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    public class Container {\r\n        @SerializedName(&quot;pageInfo&quot;)\r\n        @Expose\r\n        public PageInfo pageInfo;\r\n        @SerializedName(&quot;posts&quot;)\r\n        @Expose\r\n        public List&lt;Post&gt; posts = new ArrayList&lt;Post&gt;();\r\n    }\r\n    \r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    public class PageInfo {\r\n        @SerializedName(&quot;pageName&quot;)\r\n        @Expose\r\n        public String pageName;\r\n        @SerializedName(&quot;pagePic&quot;)\r\n        @Expose\r\n        public String pagePic;\r\n    }\r\n    \r\n    @Generated(&quot;org.jsonschema2pojo&quot;)\r\n    public class Post {\r\n        @SerializedName(&quot;post_id&quot;)\r\n        @Expose\r\n        public String postId;\r\n        @SerializedName(&quot;actor_id&quot;)\r\n        @Expose\r\n        public long actorId;\r\n        @SerializedName(&quot;picOfPersonWhoPosted&quot;)\r\n        @Expose\r\n        public String picOfPersonWhoPosted;\r\n        @SerializedName(&quot;nameOfPersonWhoPosted&quot;)\r\n        @Expose\r\n        public String nameOfPersonWhoPosted;\r\n        @SerializedName(&quot;message&quot;)\r\n        @Expose\r\n        public String message;\r\n        @SerializedName(&quot;likesCount&quot;)\r\n        @Expose\r\n        public long likesCount;\r\n        @SerializedName(&quot;comments&quot;)\r\n        @Expose\r\n        public List&lt;Object&gt; comments = new ArrayList&lt;Object&gt;();\r\n        @SerializedName(&quot;timeOfPost&quot;)\r\n        @Expose\r\n        public long timeOfPost;\r\n    }\r\n\r\n  [1]: http://www.jsonschema2pojo.org/","title":"How to parse JSON in Java","body":"<p>In addition to other answers, I recomend this online opensource service <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a> for quick generating Java classes from json or json schema for GSON, Jackson 1.x or Jackson 2.x. For example, if you have:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;pageInfo&quot;: {\n         &quot;pageName&quot;: &quot;abc&quot;,\n         &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n    }\n    &quot;posts&quot;: [\n         {\n              &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n              &quot;actor_id&quot;: 1234567890,\n              &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n              &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n              &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n              &quot;likesCount&quot;: 2,\n              &quot;comments&quot;: [],\n              &quot;timeOfPost&quot;: 1234567890\n         }\n    ]\n}\n</code></pre>\n<p>The <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a> for GSON generated:</p>\n<pre><code>@Generated(&quot;org.jsonschema2pojo&quot;)\npublic class Container {\n    @SerializedName(&quot;pageInfo&quot;)\n    @Expose\n    public PageInfo pageInfo;\n    @SerializedName(&quot;posts&quot;)\n    @Expose\n    public List&lt;Post&gt; posts = new ArrayList&lt;Post&gt;();\n}\n\n@Generated(&quot;org.jsonschema2pojo&quot;)\npublic class PageInfo {\n    @SerializedName(&quot;pageName&quot;)\n    @Expose\n    public String pageName;\n    @SerializedName(&quot;pagePic&quot;)\n    @Expose\n    public String pagePic;\n}\n\n@Generated(&quot;org.jsonschema2pojo&quot;)\npublic class Post {\n    @SerializedName(&quot;post_id&quot;)\n    @Expose\n    public String postId;\n    @SerializedName(&quot;actor_id&quot;)\n    @Expose\n    public long actorId;\n    @SerializedName(&quot;picOfPersonWhoPosted&quot;)\n    @Expose\n    public String picOfPersonWhoPosted;\n    @SerializedName(&quot;nameOfPersonWhoPosted&quot;)\n    @Expose\n    public String nameOfPersonWhoPosted;\n    @SerializedName(&quot;message&quot;)\n    @Expose\n    public String message;\n    @SerializedName(&quot;likesCount&quot;)\n    @Expose\n    public long likesCount;\n    @SerializedName(&quot;comments&quot;)\n    @Expose\n    public List&lt;Object&gt; comments = new ArrayList&lt;Object&gt;();\n    @SerializedName(&quot;timeOfPost&quot;)\n    @Expose\n    public long timeOfPost;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4126058,"reputation":449,"user_id":3385180,"display_name":"venkat"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1454653164,"creation_date":1454653164,"answer_id":35217501,"question_id":2591098,"body_markdown":"**Gson** is easy to learn and implement, what we need to know are following two methods\r\n\r\n - ***toJson()*** – Convert Java object to JSON format\r\n   \r\n - ***fromJson()*** – Convert JSON into Java object\r\n\r\n`\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import com.google.gson.Gson;\r\n    \r\n    public class GsonExample {\r\n        public static void main(String[] args) {\r\n    \r\n        Gson gson = new Gson();\r\n    \r\n        try {\r\n    \r\n            BufferedReader br = new BufferedReader(\r\n                new FileReader(&quot;c:\\\\file.json&quot;));\r\n    \r\n            //convert the json string back to object\r\n            DataObject obj = gson.fromJson(br, DataObject.class);\r\n    \r\n            System.out.println(obj);\r\n    \r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        }\r\n    }\r\n\r\n`","title":"How to parse JSON in Java","body":"<p><strong>Gson</strong> is easy to learn and implement, what we need to know are following two methods</p>\n\n<ul>\n<li><p><strong><em>toJson()</em></strong> – Convert Java object to JSON format</p></li>\n<li><p><strong><em>fromJson()</em></strong> – Convert JSON into Java object</p></li>\n</ul>\n\n<p>`</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport com.google.gson.Gson;\n\npublic class GsonExample {\n    public static void main(String[] args) {\n\n    Gson gson = new Gson();\n\n    try {\n\n        BufferedReader br = new BufferedReader(\n            new FileReader(\"c:\\\\file.json\"));\n\n        //convert the json string back to object\n        DataObject obj = gson.fromJson(br, DataObject.class);\n\n        System.out.println(obj);\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    }\n}\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":2626176,"reputation":612,"user_id":2273117,"accept_rate":54,"display_name":"sumit kumar"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1598439278,"creation_date":1458653992,"answer_id":36155967,"question_id":2591098,"body_markdown":"Read the following blog post, [JSON in Java][1].\r\n\r\nThis post is a little bit old, but still I want to answer you question.\r\n\r\nStep 1: Create a POJO class of your data.\r\n\r\nStep 2: Now create a object using JSON.\r\n```java\r\nEmployee employee = null;\r\nObjectMapper mapper = new ObjectMapper();\r\ntry {\r\n    employee =  mapper.readValue(newFile(&quot;/home/sumit/employee.json&quot;), Employee.class);\r\n} \r\ncatch(JsonGenerationException e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\nFor further reference you can refer to the following [link][1].\r\n\r\n  [1]: http://javahai.blogspot.in/2016/03/create-java-object-from-json-string.html\r\n","title":"How to parse JSON in Java","body":"<p>Read the following blog post, <a href=\"http://javahai.blogspot.in/2016/03/create-java-object-from-json-string.html\" rel=\"nofollow noreferrer\">JSON in Java</a>.</p>\n<p>This post is a little bit old, but still I want to answer you question.</p>\n<p>Step 1: Create a POJO class of your data.</p>\n<p>Step 2: Now create a object using JSON.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Employee employee = null;\nObjectMapper mapper = new ObjectMapper();\ntry {\n    employee =  mapper.readValue(newFile(&quot;/home/sumit/employee.json&quot;), Employee.class);\n} \ncatch(JsonGenerationException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>For further reference you can refer to the following <a href=\"http://javahai.blogspot.in/2016/03/create-java-object-from-json-string.html\" rel=\"nofollow noreferrer\">link</a>.</p>\n"},{"tags":[],"owner":{"account_id":288786,"reputation":1246,"user_id":589407,"display_name":"justin.hughey"},"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1462226316,"creation_date":1462226316,"answer_id":36992320,"question_id":2591098,"body_markdown":"The below example shows how to read the text in the question, represented as the &quot;jsonText&quot; variable.  This solution uses the Java EE7 [javax.json][1] API (which is mentioned in some of the other answers).  The reason I&#39;ve added it as a separate answer is that the following code shows how to _actually_ access some of the values shown in the question.  An [implementation of the javax.json API][2] would be required to make this code run.  The full package for each of the classes required was included as I didn&#39;t want to declare &quot;import&quot; statements.\r\n\r\n    javax.json.JsonReader jr = \r\n        javax.json.Json.createReader(new StringReader(jsonText));\r\n    javax.json.JsonObject jo = jr.readObject();\r\n\r\n    //Read the page info.\r\n    javax.json.JsonObject pageInfo = jo.getJsonObject(&quot;pageInfo&quot;);\r\n    System.out.println(pageInfo.getString(&quot;pageName&quot;));\r\n\r\n    //Read the posts.\r\n    javax.json.JsonArray posts = jo.getJsonArray(&quot;posts&quot;);\r\n    //Read the first post.\r\n    javax.json.JsonObject post = posts.getJsonObject(0);\r\n    //Read the post_id field.\r\n    String postId = post.getString(&quot;post_id&quot;);\r\n\r\nNow, before anyone goes and downvotes this answer because it doesn&#39;t use GSON, org.json, Jackson, or any of the other 3rd party frameworks available, it&#39;s an example of &quot;required code&quot; per the question to parse the provided text.  I am well aware that [adherence to the current standard JSR 353 was not being considered for JDK 9][3] and as such the [JSR 353 spec][4] should be treated the same as any other 3rd party JSON handling implementation.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/json/package-summary.html\r\n  [2]: https://jsonp.java.net/download.html\r\n  [3]: http://openjdk.java.net/jeps/198\r\n  [4]: https://jcp.org/en/jsr/detail?id=353","title":"How to parse JSON in Java","body":"<p>The below example shows how to read the text in the question, represented as the \"jsonText\" variable.  This solution uses the Java EE7 <a href=\"http://docs.oracle.com/javaee/7/api/javax/json/package-summary.html\" rel=\"noreferrer\">javax.json</a> API (which is mentioned in some of the other answers).  The reason I've added it as a separate answer is that the following code shows how to <em>actually</em> access some of the values shown in the question.  An <a href=\"https://jsonp.java.net/download.html\" rel=\"noreferrer\">implementation of the javax.json API</a> would be required to make this code run.  The full package for each of the classes required was included as I didn't want to declare \"import\" statements.</p>\n\n<pre><code>javax.json.JsonReader jr = \n    javax.json.Json.createReader(new StringReader(jsonText));\njavax.json.JsonObject jo = jr.readObject();\n\n//Read the page info.\njavax.json.JsonObject pageInfo = jo.getJsonObject(\"pageInfo\");\nSystem.out.println(pageInfo.getString(\"pageName\"));\n\n//Read the posts.\njavax.json.JsonArray posts = jo.getJsonArray(\"posts\");\n//Read the first post.\njavax.json.JsonObject post = posts.getJsonObject(0);\n//Read the post_id field.\nString postId = post.getString(\"post_id\");\n</code></pre>\n\n<p>Now, before anyone goes and downvotes this answer because it doesn't use GSON, org.json, Jackson, or any of the other 3rd party frameworks available, it's an example of \"required code\" per the question to parse the provided text.  I am well aware that <a href=\"http://openjdk.java.net/jeps/198\" rel=\"noreferrer\">adherence to the current standard JSR 353 was not being considered for JDK 9</a> and as such the <a href=\"https://jcp.org/en/jsr/detail?id=353\" rel=\"noreferrer\">JSR 353 spec</a> should be treated the same as any other 3rd party JSON handling implementation.</p>\n"},{"tags":[],"owner":{"account_id":3706082,"reputation":3972,"user_id":3084577,"accept_rate":97,"display_name":"lubilis"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1620178789,"creation_date":1464794413,"answer_id":37572764,"question_id":2591098,"body_markdown":"You could use [Google Gson][1].\r\n\r\nUsing this library you only need to create a model with the same JSON structure. Then the model is automatically filled in. You have to call your variables as your JSON keys, or use [`@SerializedName`][2] if you want to use different names.\r\n\r\n# JSON #\r\n\r\nFrom your example:\r\n\r\n```json\r\n{\r\n\t&quot;pageInfo&quot;: {\r\n\t\t&quot;pageName&quot;: &quot;abc&quot;,\r\n\t\t&quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n\t}\r\n\t&quot;posts&quot;: [\r\n\t\t{\r\n\t\t\t&quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n\t\t\t&quot;actor_id&quot;: &quot;1234567890&quot;,\r\n\t\t\t&quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n\t\t\t&quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n\t\t\t&quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n\t\t\t&quot;likesCount&quot;: &quot;2&quot;,\r\n\t\t\t&quot;comments&quot;: [],\r\n\t\t\t&quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\n# Model #\r\n\r\n    class MyModel {\r\n\r\n        private PageInfo pageInfo;\r\n        private ArrayList&lt;Post&gt; posts = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    class PageInfo {\r\n\r\n        private String pageName;\r\n        private String pagePic;\r\n    }\r\n\r\n    class Post {\r\n\r\n        private String post_id;\r\n\r\n        @SerializedName(&quot;actor_id&quot;) // &lt;- example SerializedName\r\n        private String actorId;\r\n\r\n        private String picOfPersonWhoPosted;\r\n        private String nameOfPersonWhoPosted;\r\n        private String message;\r\n        private String likesCount;\r\n        private ArrayList&lt;String&gt; comments;\r\n        private String timeOfPost;\r\n    }\r\n\r\n# Parsing #\r\n\r\nNow you can parse using Gson library:\r\n\r\n    MyModel model = gson.fromJson(jsonString, MyModel.class);\r\n\r\n# Gradle import #\r\n\r\nRemember to import the library in the app Gradle file\r\n\r\n    implementation &#39;com.google.code.gson:gson:2.8.6&#39; // or earlier versions\r\n\r\n# Automatic model generation #\r\n\r\nYou can generate model from JSON automatically using online tools like [this][3].\r\n\r\n\r\n  [1]: https://github.com/google/gson\r\n  [2]: https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/SerializedName.html\r\n  [3]: http://www.jsonschema2pojo.org/","title":"How to parse JSON in Java","body":"<p>You could use <a href=\"https://github.com/google/gson\" rel=\"noreferrer\">Google Gson</a>.</p>\n<p>Using this library you only need to create a model with the same JSON structure. Then the model is automatically filled in. You have to call your variables as your JSON keys, or use <a href=\"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/SerializedName.html\" rel=\"noreferrer\"><code>@SerializedName</code></a> if you want to use different names.</p>\n<h1>JSON</h1>\n<p>From your example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;pageInfo&quot;: {\n        &quot;pageName&quot;: &quot;abc&quot;,\n        &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n    }\n    &quot;posts&quot;: [\n        {\n            &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n            &quot;actor_id&quot;: &quot;1234567890&quot;,\n            &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n            &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n            &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n            &quot;likesCount&quot;: &quot;2&quot;,\n            &quot;comments&quot;: [],\n            &quot;timeOfPost&quot;: &quot;1234567890&quot;\n        }\n    ]\n}\n</code></pre>\n<h1>Model</h1>\n<pre><code>class MyModel {\n\n    private PageInfo pageInfo;\n    private ArrayList&lt;Post&gt; posts = new ArrayList&lt;&gt;();\n}\n\nclass PageInfo {\n\n    private String pageName;\n    private String pagePic;\n}\n\nclass Post {\n\n    private String post_id;\n\n    @SerializedName(&quot;actor_id&quot;) // &lt;- example SerializedName\n    private String actorId;\n\n    private String picOfPersonWhoPosted;\n    private String nameOfPersonWhoPosted;\n    private String message;\n    private String likesCount;\n    private ArrayList&lt;String&gt; comments;\n    private String timeOfPost;\n}\n</code></pre>\n<h1>Parsing</h1>\n<p>Now you can parse using Gson library:</p>\n<pre><code>MyModel model = gson.fromJson(jsonString, MyModel.class);\n</code></pre>\n<h1>Gradle import</h1>\n<p>Remember to import the library in the app Gradle file</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.8.6' // or earlier versions\n</code></pre>\n<h1>Automatic model generation</h1>\n<p>You can generate model from JSON automatically using online tools like <a href=\"http://www.jsonschema2pojo.org/\" rel=\"noreferrer\">this</a>.</p>\n"},{"tags":[],"owner":{"account_id":1639112,"reputation":1539,"user_id":1511914,"accept_rate":73,"display_name":"fabien"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1467176996,"creation_date":1467059535,"answer_id":38062714,"question_id":2591098,"body_markdown":"There are many JSON libraries available in Java.\r\n\r\nThe most notorious ones are: Jackson, GSON, Genson, FastJson and org.json.\r\n\r\nThere are typically three things one should look at for choosing any library:\r\n\r\n 1. Performance\r\n 2. Ease of use (code is simple to write and legible) - that goes with features.\r\n 3. For mobile apps: dependency/jar size\r\n\r\nSpecifically for JSON libraries (and any serialization/deserialization libs), databinding is also usually of interest as it removes the need of writing boiler-plate code to pack/unpack the data.\r\n\r\nFor 1, see this benchmark: https://github.com/fabienrenaud/java-json-benchmark I did using [JMH][1] which compares (jackson, gson, genson, fastjson, org.json, jsonp) performance of serializers and deserializers using stream and databind APIs.\r\nFor 2, you can find numerous examples on the Internet. The benchmark above can also be used as a source of examples...\r\n\r\nQuick takeaway of the benchmark: **Jackson** performs 5 to 6 times better than org.json and more than twice better than GSON.\r\n\r\nFor your particular example, the following code decodes your json with jackson:\r\n\r\n    public class MyObj {\r\n        \r\n        private PageInfo pageInfo;\r\n        private List&lt;Post&gt; posts;\r\n\r\n        static final class PageInfo {\r\n            private String pageName;\r\n            private String pagePic;\r\n        }\r\n\r\n        static final class Post {\r\n            private String post_id;\r\n            @JsonProperty(&quot;actor_id&quot;);\r\n            private String actorId;\r\n            @JsonProperty(&quot;picOfPersonWhoPosted&quot;)\r\n            private String pictureOfPoster;\r\n            @JsonProperty(&quot;nameOfPersonWhoPosted&quot;)\r\n            private String nameOfPoster;\r\n            private String likesCount;\r\n            private List&lt;String&gt; comments;\r\n            private String timeOfPost;\r\n        }\r\n\r\n        private static final ObjectMapper JACKSON = new ObjectMapper();\r\n        public static void main(String[] args) throws IOException {\r\n            MyObj o = JACKSON.readValue(args[0], MyObj.class); // assumes args[0] contains your json payload provided in your question.\r\n        }\r\n    }\r\n\r\nLet me know if you have any questions.\r\n\r\n  [1]: http://openjdk.java.net/projects/code-tools/jmh/","title":"How to parse JSON in Java","body":"<p>There are many JSON libraries available in Java.</p>\n\n<p>The most notorious ones are: Jackson, GSON, Genson, FastJson and org.json.</p>\n\n<p>There are typically three things one should look at for choosing any library:</p>\n\n<ol>\n<li>Performance</li>\n<li>Ease of use (code is simple to write and legible) - that goes with features.</li>\n<li>For mobile apps: dependency/jar size</li>\n</ol>\n\n<p>Specifically for JSON libraries (and any serialization/deserialization libs), databinding is also usually of interest as it removes the need of writing boiler-plate code to pack/unpack the data.</p>\n\n<p>For 1, see this benchmark: <a href=\"https://github.com/fabienrenaud/java-json-benchmark\" rel=\"noreferrer\">https://github.com/fabienrenaud/java-json-benchmark</a> I did using <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"noreferrer\">JMH</a> which compares (jackson, gson, genson, fastjson, org.json, jsonp) performance of serializers and deserializers using stream and databind APIs.\nFor 2, you can find numerous examples on the Internet. The benchmark above can also be used as a source of examples...</p>\n\n<p>Quick takeaway of the benchmark: <strong>Jackson</strong> performs 5 to 6 times better than org.json and more than twice better than GSON.</p>\n\n<p>For your particular example, the following code decodes your json with jackson:</p>\n\n<pre><code>public class MyObj {\n\n    private PageInfo pageInfo;\n    private List&lt;Post&gt; posts;\n\n    static final class PageInfo {\n        private String pageName;\n        private String pagePic;\n    }\n\n    static final class Post {\n        private String post_id;\n        @JsonProperty(\"actor_id\");\n        private String actorId;\n        @JsonProperty(\"picOfPersonWhoPosted\")\n        private String pictureOfPoster;\n        @JsonProperty(\"nameOfPersonWhoPosted\")\n        private String nameOfPoster;\n        private String likesCount;\n        private List&lt;String&gt; comments;\n        private String timeOfPost;\n    }\n\n    private static final ObjectMapper JACKSON = new ObjectMapper();\n    public static void main(String[] args) throws IOException {\n        MyObj o = JACKSON.readValue(args[0], MyObj.class); // assumes args[0] contains your json payload provided in your question.\n    }\n}\n</code></pre>\n\n<p>Let me know if you have any questions.</p>\n"},{"tags":[],"owner":{"account_id":3765239,"reputation":11306,"user_id":3128926,"accept_rate":76,"display_name":"Levent Divilioglu"},"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1620247693,"creation_date":1468350366,"answer_id":38337023,"question_id":2591098,"body_markdown":"&lt;h3&gt;A - Explanation&lt;/h3&gt;\r\n\r\nYou can use **Jackson** libraries, for binding JSON String into **POJO** (***Plain Old Java Object***) instances. POJO is simply a class with only private fields and public getter/setter methods. Jackson is going to traverse the methods (using **reflection**), and maps the JSON object into the POJO instance as the field names of the class fits to the field names of the JSON object.\r\n\r\nIn your JSON object, which is actually a **composite** object, the main object consists o two sub-objects. So, our POJO classes should have the same hierarchy. I&#39;ll call the whole JSON Object as **Page** object. **Page** object consist of a **PageInfo** object, and a **Post** object array.\r\n\r\nSo we have to create three different POJO classes;\r\n\r\n - **Page** Class, a composite of **PageInfo** Class and array of **Post** Instances\r\n - **PageInfo** Class\r\n - **Posts** Class\r\n\r\nThe only package I&#39;ve used is Jackson ObjectMapper, what we do is binding data;\r\n\r\n    com.fasterxml.jackson.databind.ObjectMapper\r\n\r\nThe required dependencies, the jar files is listed below;\r\n\r\n - **jackson-core-2.5.1.jar**\r\n - **jackson-databind-2.5.1.jar**\r\n - **jackson-annotations-2.5.0.jar**\r\n\r\nHere is the required code;\r\n\r\n&lt;h3&gt;B - Main POJO Class : Page&lt;/h3&gt;\r\n\r\n    package com.levo.jsonex.model;\r\n    \r\n    public class Page {\r\n    \t\r\n    \tprivate PageInfo pageInfo;\r\n    \tprivate Post[] posts;\r\n    \r\n    \tpublic PageInfo getPageInfo() {\r\n    \t\treturn pageInfo;\r\n    \t}\r\n    \r\n    \tpublic void setPageInfo(PageInfo pageInfo) {\r\n    \t\tthis.pageInfo = pageInfo;\r\n    \t}\r\n    \r\n    \tpublic Post[] getPosts() {\r\n    \t\treturn posts;\r\n    \t}\r\n    \r\n    \tpublic void setPosts(Post[] posts) {\r\n    \t\tthis.posts = posts;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;C - Child POJO Class : PageInfo&lt;/h3&gt;\r\n\r\n    package com.levo.jsonex.model;\r\n    \r\n    public class PageInfo {\r\n    \t\r\n    \tprivate String pageName;\r\n    \tprivate String pagePic;\r\n    \t\r\n    \tpublic String getPageName() {\r\n    \t\treturn pageName;\r\n    \t}\r\n    \t\r\n    \tpublic void setPageName(String pageName) {\r\n    \t\tthis.pageName = pageName;\r\n    \t}\r\n    \t\r\n    \tpublic String getPagePic() {\r\n    \t\treturn pagePic;\r\n    \t}\r\n    \t\r\n    \tpublic void setPagePic(String pagePic) {\r\n    \t\tthis.pagePic = pagePic;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;D - Child POJO Class : Post&lt;/h3&gt;\r\n\r\n    package com.levo.jsonex.model;\r\n    \r\n    public class Post {\r\n    \t\r\n    \tprivate String post_id;\r\n    \tprivate String actor_id;\r\n    \tprivate String picOfPersonWhoPosted;\r\n    \tprivate String nameOfPersonWhoPosted;\r\n    \tprivate String message;\r\n    \tprivate int likesCount;\r\n    \tprivate String[] comments;\r\n    \tprivate int timeOfPost;\r\n    \r\n    \tpublic String getPost_id() {\r\n    \t\treturn post_id;\r\n    \t}\r\n    \r\n    \tpublic void setPost_id(String post_id) {\r\n    \t\tthis.post_id = post_id;\r\n    \t}\r\n    \r\n    \tpublic String getActor_id() {\r\n    \t\treturn actor_id;\r\n    \t}\r\n    \r\n    \tpublic void setActor_id(String actor_id) {\r\n    \t\tthis.actor_id = actor_id;\r\n    \t}\r\n    \r\n    \tpublic String getPicOfPersonWhoPosted() {\r\n    \t\treturn picOfPersonWhoPosted;\r\n    \t}\r\n    \t\r\n    \tpublic void setPicOfPersonWhoPosted(String picOfPersonWhoPosted) {\r\n    \t\tthis.picOfPersonWhoPosted = picOfPersonWhoPosted;\r\n    \t}\r\n    \r\n    \tpublic String getNameOfPersonWhoPosted() {\r\n    \t\treturn nameOfPersonWhoPosted;\r\n    \t}\r\n    \r\n    \tpublic void setNameOfPersonWhoPosted(String nameOfPersonWhoPosted) {\r\n    \t\tthis.nameOfPersonWhoPosted = nameOfPersonWhoPosted;\r\n    \t}\r\n    \r\n    \tpublic String getMessage() {\r\n    \t\treturn message;\r\n    \t}\r\n    \r\n    \tpublic void setMessage(String message) {\r\n    \t\tthis.message = message;\r\n    \t}\r\n    \r\n    \tpublic int getLikesCount() {\r\n    \t\treturn likesCount;\r\n    \t}\r\n    \r\n    \tpublic void setLikesCount(int likesCount) {\r\n    \t\tthis.likesCount = likesCount;\r\n    \t}\r\n    \r\n    \tpublic String[] getComments() {\r\n    \t\treturn comments;\r\n    \t}\r\n    \r\n    \tpublic void setComments(String[] comments) {\r\n    \t\tthis.comments = comments;\r\n    \t}\r\n    \r\n    \tpublic int getTimeOfPost() {\r\n    \t\treturn timeOfPost;\r\n    \t}\r\n    \r\n    \tpublic void setTimeOfPost(int timeOfPost) {\r\n    \t\tthis.timeOfPost = timeOfPost;\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;E - Sample JSON File : sampleJSONFile.json&lt;/h3&gt;\r\n\r\nI&#39;ve just copied your JSON sample into this file and put it under the project folder.\r\n\r\n```json\r\n{\r\n   &quot;pageInfo&quot;: {\r\n\t\t &quot;pageName&quot;: &quot;abc&quot;,\r\n\t\t &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n\t},\r\n\t&quot;posts&quot;: [\r\n\t\t {\r\n\t\t\t  &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n\t\t\t  &quot;actor_id&quot;: &quot;1234567890&quot;,\r\n\t\t\t  &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n\t\t\t  &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n\t\t\t  &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n\t\t\t  &quot;likesCount&quot;: &quot;2&quot;,\r\n\t\t\t  &quot;comments&quot;: [],\r\n\t\t\t  &quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n\t\t }\r\n\t]\r\n}\r\n```\r\n\r\n&lt;h3&gt;F - Demo Code&lt;/h3&gt;\r\n\r\n    package com.levo.jsonex;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.levo.jsonex.model.Page;\r\n    import com.levo.jsonex.model.PageInfo;\r\n    import com.levo.jsonex.model.Post;\r\n    \r\n    public class JSONDemo {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t\r\n    \t\ttry {\r\n    \t\t\tPage page = objectMapper.readValue(new File(&quot;sampleJSONFile.json&quot;), Page.class);\r\n    \t\t\t\r\n    \t\t\tprintParsedObject(page);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate static void printParsedObject(Page page) {\r\n    \t\tprintPageInfo(page.getPageInfo());\r\n    \t\tSystem.out.println();\r\n    \t\tprintPosts(page.getPosts());\r\n    \t}\r\n    \r\n    \tprivate static void printPageInfo(PageInfo pageInfo) {\r\n    \t\tSystem.out.println(&quot;Page Info;&quot;);\r\n    \t\tSystem.out.println(&quot;**********&quot;);\r\n    \t\tSystem.out.println(&quot;\\tPage Name : &quot; + pageInfo.getPageName());\r\n    \t\tSystem.out.println(&quot;\\tPage Pic  : &quot; + pageInfo.getPagePic());\r\n    \t}\r\n    \t\r\n    \tprivate static void printPosts(Post[] posts) {\r\n    \t\tSystem.out.println(&quot;Page Posts;&quot;);\r\n    \t\tSystem.out.println(&quot;**********&quot;);\r\n    \t\tfor(Post post : posts) {\r\n    \t\t\tprintPost(post);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tprivate static void printPost(Post post) {\r\n    \t\tSystem.out.println(&quot;\\tPost Id                   : &quot; + post.getPost_id());\r\n    \t\tSystem.out.println(&quot;\\tActor Id                  : &quot; + post.getActor_id());\r\n    \t\tSystem.out.println(&quot;\\tPic Of Person Who Posted  : &quot; + post.getPicOfPersonWhoPosted());\r\n    \t\tSystem.out.println(&quot;\\tName Of Person Who Posted : &quot; + post.getNameOfPersonWhoPosted());\r\n    \t\tSystem.out.println(&quot;\\tMessage                   : &quot; + post.getMessage());\r\n    \t\tSystem.out.println(&quot;\\tLikes Count               : &quot; + post.getLikesCount());\r\n    \t\tSystem.out.println(&quot;\\tComments                  : &quot; + Arrays.toString(post.getComments()));\r\n    \t\tSystem.out.println(&quot;\\tTime Of Post              : &quot; + post.getTimeOfPost());\r\n    \t}\r\n    \t\r\n    }\r\n\r\n&lt;h3&gt;G - Demo Output&lt;/h3&gt;\r\n\r\n    Page Info;\r\n    ****(*****\r\n    \tPage Name : abc\r\n    \tPage Pic  : http://example.com/content.jpg\r\n    Page Posts;\r\n    **********\r\n    \tPost Id                   : 123456789012_123456789012\r\n    \tActor Id                  : 1234567890\r\n    \tPic Of Person Who Posted  : http://example.com/photo.jpg\r\n    \tName Of Person Who Posted : Jane Doe\r\n    \tMessage                   : Sounds cool. Can&#39;t wait to see it!\r\n    \tLikes Count               : 2\r\n    \tComments                  : []\r\n    \tTime Of Post              : 1234567890\r\n\r\n","title":"How to parse JSON in Java","body":"<h3>A - Explanation</h3>\n<p>You can use <strong>Jackson</strong> libraries, for binding JSON String into <strong>POJO</strong> (<em><strong>Plain Old Java Object</strong></em>) instances. POJO is simply a class with only private fields and public getter/setter methods. Jackson is going to traverse the methods (using <strong>reflection</strong>), and maps the JSON object into the POJO instance as the field names of the class fits to the field names of the JSON object.</p>\n<p>In your JSON object, which is actually a <strong>composite</strong> object, the main object consists o two sub-objects. So, our POJO classes should have the same hierarchy. I'll call the whole JSON Object as <strong>Page</strong> object. <strong>Page</strong> object consist of a <strong>PageInfo</strong> object, and a <strong>Post</strong> object array.</p>\n<p>So we have to create three different POJO classes;</p>\n<ul>\n<li><strong>Page</strong> Class, a composite of <strong>PageInfo</strong> Class and array of <strong>Post</strong> Instances</li>\n<li><strong>PageInfo</strong> Class</li>\n<li><strong>Posts</strong> Class</li>\n</ul>\n<p>The only package I've used is Jackson ObjectMapper, what we do is binding data;</p>\n<pre><code>com.fasterxml.jackson.databind.ObjectMapper\n</code></pre>\n<p>The required dependencies, the jar files is listed below;</p>\n<ul>\n<li><strong>jackson-core-2.5.1.jar</strong></li>\n<li><strong>jackson-databind-2.5.1.jar</strong></li>\n<li><strong>jackson-annotations-2.5.0.jar</strong></li>\n</ul>\n<p>Here is the required code;</p>\n<h3>B - Main POJO Class : Page</h3>\n<pre><code>package com.levo.jsonex.model;\n\npublic class Page {\n    \n    private PageInfo pageInfo;\n    private Post[] posts;\n\n    public PageInfo getPageInfo() {\n        return pageInfo;\n    }\n\n    public void setPageInfo(PageInfo pageInfo) {\n        this.pageInfo = pageInfo;\n    }\n\n    public Post[] getPosts() {\n        return posts;\n    }\n\n    public void setPosts(Post[] posts) {\n        this.posts = posts;\n    }\n    \n}\n</code></pre>\n<h3>C - Child POJO Class : PageInfo</h3>\n<pre><code>package com.levo.jsonex.model;\n\npublic class PageInfo {\n    \n    private String pageName;\n    private String pagePic;\n    \n    public String getPageName() {\n        return pageName;\n    }\n    \n    public void setPageName(String pageName) {\n        this.pageName = pageName;\n    }\n    \n    public String getPagePic() {\n        return pagePic;\n    }\n    \n    public void setPagePic(String pagePic) {\n        this.pagePic = pagePic;\n    }\n    \n}\n</code></pre>\n<h3>D - Child POJO Class : Post</h3>\n<pre><code>package com.levo.jsonex.model;\n\npublic class Post {\n    \n    private String post_id;\n    private String actor_id;\n    private String picOfPersonWhoPosted;\n    private String nameOfPersonWhoPosted;\n    private String message;\n    private int likesCount;\n    private String[] comments;\n    private int timeOfPost;\n\n    public String getPost_id() {\n        return post_id;\n    }\n\n    public void setPost_id(String post_id) {\n        this.post_id = post_id;\n    }\n\n    public String getActor_id() {\n        return actor_id;\n    }\n\n    public void setActor_id(String actor_id) {\n        this.actor_id = actor_id;\n    }\n\n    public String getPicOfPersonWhoPosted() {\n        return picOfPersonWhoPosted;\n    }\n    \n    public void setPicOfPersonWhoPosted(String picOfPersonWhoPosted) {\n        this.picOfPersonWhoPosted = picOfPersonWhoPosted;\n    }\n\n    public String getNameOfPersonWhoPosted() {\n        return nameOfPersonWhoPosted;\n    }\n\n    public void setNameOfPersonWhoPosted(String nameOfPersonWhoPosted) {\n        this.nameOfPersonWhoPosted = nameOfPersonWhoPosted;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public void setMessage(String message) {\n        this.message = message;\n    }\n\n    public int getLikesCount() {\n        return likesCount;\n    }\n\n    public void setLikesCount(int likesCount) {\n        this.likesCount = likesCount;\n    }\n\n    public String[] getComments() {\n        return comments;\n    }\n\n    public void setComments(String[] comments) {\n        this.comments = comments;\n    }\n\n    public int getTimeOfPost() {\n        return timeOfPost;\n    }\n\n    public void setTimeOfPost(int timeOfPost) {\n        this.timeOfPost = timeOfPost;\n    }\n    \n}\n</code></pre>\n<h3>E - Sample JSON File : sampleJSONFile.json</h3>\n<p>I've just copied your JSON sample into this file and put it under the project folder.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;pageInfo&quot;: {\n         &quot;pageName&quot;: &quot;abc&quot;,\n         &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n    },\n    &quot;posts&quot;: [\n         {\n              &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n              &quot;actor_id&quot;: &quot;1234567890&quot;,\n              &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n              &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n              &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n              &quot;likesCount&quot;: &quot;2&quot;,\n              &quot;comments&quot;: [],\n              &quot;timeOfPost&quot;: &quot;1234567890&quot;\n         }\n    ]\n}\n</code></pre>\n<h3>F - Demo Code</h3>\n<pre><code>package com.levo.jsonex;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.levo.jsonex.model.Page;\nimport com.levo.jsonex.model.PageInfo;\nimport com.levo.jsonex.model.Post;\n\npublic class JSONDemo {\n    \n    public static void main(String[] args) {\n        ObjectMapper objectMapper = new ObjectMapper();\n        \n        try {\n            Page page = objectMapper.readValue(new File(&quot;sampleJSONFile.json&quot;), Page.class);\n            \n            printParsedObject(page);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        \n    }\n    \n    private static void printParsedObject(Page page) {\n        printPageInfo(page.getPageInfo());\n        System.out.println();\n        printPosts(page.getPosts());\n    }\n\n    private static void printPageInfo(PageInfo pageInfo) {\n        System.out.println(&quot;Page Info;&quot;);\n        System.out.println(&quot;**********&quot;);\n        System.out.println(&quot;\\tPage Name : &quot; + pageInfo.getPageName());\n        System.out.println(&quot;\\tPage Pic  : &quot; + pageInfo.getPagePic());\n    }\n    \n    private static void printPosts(Post[] posts) {\n        System.out.println(&quot;Page Posts;&quot;);\n        System.out.println(&quot;**********&quot;);\n        for(Post post : posts) {\n            printPost(post);\n        }\n    }\n    \n    private static void printPost(Post post) {\n        System.out.println(&quot;\\tPost Id                   : &quot; + post.getPost_id());\n        System.out.println(&quot;\\tActor Id                  : &quot; + post.getActor_id());\n        System.out.println(&quot;\\tPic Of Person Who Posted  : &quot; + post.getPicOfPersonWhoPosted());\n        System.out.println(&quot;\\tName Of Person Who Posted : &quot; + post.getNameOfPersonWhoPosted());\n        System.out.println(&quot;\\tMessage                   : &quot; + post.getMessage());\n        System.out.println(&quot;\\tLikes Count               : &quot; + post.getLikesCount());\n        System.out.println(&quot;\\tComments                  : &quot; + Arrays.toString(post.getComments()));\n        System.out.println(&quot;\\tTime Of Post              : &quot; + post.getTimeOfPost());\n    }\n    \n}\n</code></pre>\n<h3>G - Demo Output</h3>\n<pre><code>Page Info;\n****(*****\n    Page Name : abc\n    Page Pic  : http://example.com/content.jpg\nPage Posts;\n**********\n    Post Id                   : 123456789012_123456789012\n    Actor Id                  : 1234567890\n    Pic Of Person Who Posted  : http://example.com/photo.jpg\n    Name Of Person Who Posted : Jane Doe\n    Message                   : Sounds cool. Can't wait to see it!\n    Likes Count               : 2\n    Comments                  : []\n    Time Of Post              : 1234567890\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2985164,"reputation":5188,"user_id":2534191,"accept_rate":25,"display_name":"Yuriy N."},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1620230102,"creation_date":1469285203,"answer_id":38543017,"question_id":2591098,"body_markdown":"Top answers on this page use too simple examples like object with one property (e.g. {name: value}). I think that still simple but real life example can help someone. \r\n\r\nSo this is the JSON returned by Google Translate API: \r\n\r\n```json\r\n{\r\n  &quot;data&quot;: \r\n\t {\r\n\t\t&quot;translations&quot;: \r\n\t\t  [\r\n\t\t\t{\r\n\t\t\t  &quot;translatedText&quot;: &quot;Arbeit&quot;\r\n\t\t\t }\r\n\t\t  ]\r\n\t }\r\n}\r\n```\r\n\r\nI want to retrieve the value of &quot;translatedText&quot; attribute e.g. &quot;Arbeit&quot; using Google&#39;s Gson.\r\n\r\nTwo possible approaches: \r\n\r\n1. Retrieve just one needed attribute\r\n\r\n        String json  = callToTranslateApi(&quot;work&quot;, &quot;de&quot;);\r\n\t\tJsonObject jsonObject = new JsonParser().parse(json).getAsJsonObject();\r\n\t\treturn jsonObject.get(&quot;data&quot;).getAsJsonObject()\r\n                .get(&quot;translations&quot;).getAsJsonArray()\r\n                .get(0).getAsJsonObject()\r\n                .get(&quot;translatedText&quot;).getAsString();\r\n\r\n2. Create Java object from JSON\r\n\r\n        class ApiResponse {\r\n\t    \tData data;\t\t\r\n\t\t    class Data {\r\n\t\t\t    Translation[] translations;\t\t\t\r\n\t\t\t    class Translation {\r\n\t\t\t\t    String translatedText;\r\n\t\t\t    }\r\n\t\t     }\r\n\t     }\r\n     ...\r\n\r\n    \r\n\r\n         Gson g = new Gson();\r\n\t\t String json =callToTranslateApi(&quot;work&quot;, &quot;de&quot;);\r\n\t\t ApiResponse response = g.fromJson(json, ApiResponse.class);\r\n         return response.data.translations[0].translatedText;","title":"How to parse JSON in Java","body":"<p>Top answers on this page use too simple examples like object with one property (e.g. {name: value}). I think that still simple but real life example can help someone.</p>\n<p>So this is the JSON returned by Google Translate API:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;data&quot;: \n     {\n        &quot;translations&quot;: \n          [\n            {\n              &quot;translatedText&quot;: &quot;Arbeit&quot;\n             }\n          ]\n     }\n}\n</code></pre>\n<p>I want to retrieve the value of &quot;translatedText&quot; attribute e.g. &quot;Arbeit&quot; using Google's Gson.</p>\n<p>Two possible approaches:</p>\n<ol>\n<li><p>Retrieve just one needed attribute</p>\n<pre><code> String json  = callToTranslateApi(&quot;work&quot;, &quot;de&quot;);\n JsonObject jsonObject = new JsonParser().parse(json).getAsJsonObject();\n return jsonObject.get(&quot;data&quot;).getAsJsonObject()\n         .get(&quot;translations&quot;).getAsJsonArray()\n         .get(0).getAsJsonObject()\n         .get(&quot;translatedText&quot;).getAsString();\n</code></pre>\n</li>\n<li><p>Create Java object from JSON</p>\n<pre><code> class ApiResponse {\n     Data data;      \n     class Data {\n         Translation[] translations;         \n         class Translation {\n             String translatedText;\n         }\n      }\n  }\n</code></pre>\n<p>...</p>\n<pre><code>  Gson g = new Gson();\n  String json =callToTranslateApi(&quot;work&quot;, &quot;de&quot;);\n  ApiResponse response = g.fromJson(json, ApiResponse.class);\n  return response.data.translations[0].translatedText;\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4905259,"reputation":821,"user_id":3952164,"display_name":"Ravi Durairaj"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1620287650,"creation_date":1469524473,"answer_id":38585739,"question_id":2591098,"body_markdown":"You can use **Jayway JsonPath**. Below is a GitHub link with source code, pom details and good documentation.\r\n\r\nhttps://github.com/jayway/JsonPath\r\n\r\nPlease follow the below steps.\r\n\r\n**Step 1**: Add the jayway JSON path dependency in your class path using Maven or download the JAR file and manually add it.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n**Step 2**: Please save your input JSON as a file for this example. In my case I saved your JSON as sampleJson.txt. Note you missed a comma between pageInfo and posts.\r\n\r\n**Step 3**: Read the JSON contents from the above file using bufferedReader and save it as String.\r\n\r\n```lang-java\r\nBufferedReader br = new BufferedReader(new FileReader(&quot;D:\\\\sampleJson.txt&quot;));\r\n\r\nStringBuilder sb = new StringBuilder();\r\nString line = br.readLine();\r\n\r\nwhile (line != null) {\r\n\tsb.append(line);\r\n\tsb.append(System.lineSeparator());\r\n\tline = br.readLine();\r\n}\r\nbr.close();\r\nString jsonInput = sb.toString();\r\n```\r\n \r\n**Step 4**: Parse your JSON string using jayway JSON parser.\r\n\r\n```lang-java\r\nObject document = Configuration.defaultConfiguration().jsonProvider().parse(jsonInput);\r\n```\r\n\r\n**Step 5**: Read the details like below.\r\n\r\n```lang-java\r\nString pageName = JsonPath.read(document, &quot;$.pageInfo.pageName&quot;);\r\nString pagePic = JsonPath.read(document, &quot;$.pageInfo.pagePic&quot;);\r\nString post_id = JsonPath.read(document, &quot;$.posts[0].post_id&quot;);\r\n\r\nSystem.out.println(&quot;$.pageInfo.pageName &quot; + pageName);\r\nSystem.out.println(&quot;$.pageInfo.pagePic &quot; + pagePic);\r\nSystem.out.println(&quot;$.posts[0].post_id &quot; + post_id);\r\n```\r\n\r\n**The output will be**:\r\n\r\n```\r\n$.pageInfo.pageName = abc\r\n$.pageInfo.pagePic = http://example.com/content.jpg\r\n$.posts[0].post_id  = 123456789012_123456789012\r\n```","title":"How to parse JSON in Java","body":"<p>You can use <strong>Jayway JsonPath</strong>. Below is a GitHub link with source code, pom details and good documentation.</p>\n<p><a href=\"https://github.com/jayway/JsonPath\" rel=\"nofollow noreferrer\">https://github.com/jayway/JsonPath</a></p>\n<p>Please follow the below steps.</p>\n<p><strong>Step 1</strong>: Add the jayway JSON path dependency in your class path using Maven or download the JAR file and manually add it.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Step 2</strong>: Please save your input JSON as a file for this example. In my case I saved your JSON as sampleJson.txt. Note you missed a comma between pageInfo and posts.</p>\n<p><strong>Step 3</strong>: Read the JSON contents from the above file using bufferedReader and save it as String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader br = new BufferedReader(new FileReader(&quot;D:\\\\sampleJson.txt&quot;));\n\nStringBuilder sb = new StringBuilder();\nString line = br.readLine();\n\nwhile (line != null) {\n    sb.append(line);\n    sb.append(System.lineSeparator());\n    line = br.readLine();\n}\nbr.close();\nString jsonInput = sb.toString();\n</code></pre>\n<p><strong>Step 4</strong>: Parse your JSON string using jayway JSON parser.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Object document = Configuration.defaultConfiguration().jsonProvider().parse(jsonInput);\n</code></pre>\n<p><strong>Step 5</strong>: Read the details like below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pageName = JsonPath.read(document, &quot;$.pageInfo.pageName&quot;);\nString pagePic = JsonPath.read(document, &quot;$.pageInfo.pagePic&quot;);\nString post_id = JsonPath.read(document, &quot;$.posts[0].post_id&quot;);\n\nSystem.out.println(&quot;$.pageInfo.pageName &quot; + pageName);\nSystem.out.println(&quot;$.pageInfo.pagePic &quot; + pagePic);\nSystem.out.println(&quot;$.posts[0].post_id &quot; + post_id);\n</code></pre>\n<p><strong>The output will be</strong>:</p>\n<pre><code>$.pageInfo.pageName = abc\n$.pageInfo.pagePic = http://example.com/content.jpg\n$.posts[0].post_id  = 123456789012_123456789012\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3494520,"reputation":1114,"user_id":2923205,"display_name":"Md Samiul Alim Sakib"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1620247744,"creation_date":1471291067,"answer_id":38962135,"question_id":2591098,"body_markdown":"Use [minimal-json][1] which is very fast and easy to use.\r\nYou can parse from String obj and Stream.\r\n\r\nSample data:\r\n\r\n```json\r\n{\r\n  &quot;order&quot;: 4711,\r\n  &quot;items&quot;: [\r\n\t{\r\n\t  &quot;name&quot;: &quot;NE555 Timer IC&quot;,\r\n\t  &quot;cat-id&quot;: &quot;645723&quot;,\r\n\t  &quot;quantity&quot;: 10,\r\n\t},\r\n\t{\r\n\t  &quot;name&quot;: &quot;LM358N OpAmp IC&quot;,\r\n\t  &quot;cat-id&quot;: &quot;764525&quot;,\r\n\t  &quot;quantity&quot;: 2\r\n\t}\r\n  ]\r\n}\r\n```\r\n\r\nParsing:\r\n\r\n```lang-java\r\nJsonObject object = Json.parse(input).asObject();\r\nint orders = object.get(&quot;order&quot;).asInt();\r\nJsonArray items = object.get(&quot;items&quot;).asArray();\r\n```\r\n\r\nCreating JSON:\r\n\r\n```lang-java\r\nJsonObject user = Json.object().add(&quot;name&quot;, &quot;Sakib&quot;).add(&quot;age&quot;, 23);\r\n```\r\nMaven:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.eclipsesource.minimal-json&lt;/groupId&gt;\r\n  &lt;artifactId&gt;minimal-json&lt;/artifactId&gt;\r\n  &lt;version&gt;0.9.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n[1]: https://github.com/ralfstx/minimal-json","title":"How to parse JSON in Java","body":"<p>Use <a href=\"https://github.com/ralfstx/minimal-json\" rel=\"noreferrer\">minimal-json</a> which is very fast and easy to use.\nYou can parse from String obj and Stream.</p>\n<p>Sample data:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;order&quot;: 4711,\n  &quot;items&quot;: [\n    {\n      &quot;name&quot;: &quot;NE555 Timer IC&quot;,\n      &quot;cat-id&quot;: &quot;645723&quot;,\n      &quot;quantity&quot;: 10,\n    },\n    {\n      &quot;name&quot;: &quot;LM358N OpAmp IC&quot;,\n      &quot;cat-id&quot;: &quot;764525&quot;,\n      &quot;quantity&quot;: 2\n    }\n  ]\n}\n</code></pre>\n<p>Parsing:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject object = Json.parse(input).asObject();\nint orders = object.get(&quot;order&quot;).asInt();\nJsonArray items = object.get(&quot;items&quot;).asArray();\n</code></pre>\n<p>Creating JSON:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JsonObject user = Json.object().add(&quot;name&quot;, &quot;Sakib&quot;).add(&quot;age&quot;, 23);\n</code></pre>\n<p>Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.eclipsesource.minimal-json&lt;/groupId&gt;\n  &lt;artifactId&gt;minimal-json&lt;/artifactId&gt;\n  &lt;version&gt;0.9.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3782951,"reputation":3298,"user_id":3141849,"accept_rate":70,"display_name":"Parth Solanki"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1621960719,"creation_date":1474018013,"answer_id":39528000,"question_id":2591098,"body_markdown":"**I have JSON like this:**\r\n\r\n    {\r\n       &quot;pageInfo&quot;: {\r\n             &quot;pageName&quot;: &quot;abc&quot;,\r\n             &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n        }\r\n    }\r\n\r\n**Java class**\r\n\r\n    class PageInfo {\r\n\r\n        private String pageName;\r\n        private String pagePic;\r\n\r\n        // Getters and setters\r\n    }\r\n\r\n**Code for converting this JSON to a Java class.**\r\n\r\n        PageInfo pageInfo = JsonPath.parse(jsonString).read(&quot;$.pageInfo&quot;, PageInfo.class);\r\n\r\n**Maven**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"How to parse JSON in Java","body":"<p><strong>I have JSON like this:</strong></p>\n<pre><code>{\n   &quot;pageInfo&quot;: {\n         &quot;pageName&quot;: &quot;abc&quot;,\n         &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n    }\n}\n</code></pre>\n<p><strong>Java class</strong></p>\n<pre><code>class PageInfo {\n\n    private String pageName;\n    private String pagePic;\n\n    // Getters and setters\n}\n</code></pre>\n<p><strong>Code for converting this JSON to a Java class.</strong></p>\n<pre><code>    PageInfo pageInfo = JsonPath.parse(jsonString).read(&quot;$.pageInfo&quot;, PageInfo.class);\n</code></pre>\n<p><strong>Maven</strong></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3119757,"reputation":2028,"user_id":2639772,"display_name":"Jose Manuel Gomez Alvarez"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1479729909,"creation_date":1479729909,"answer_id":40719777,"question_id":2591098,"body_markdown":"First you need to select an **implementation library** to do that.\r\n\r\nThe **Java API for JSON Processing (JSR 353)** provides portable APIs to parse, generate, transform, and query JSON using object model and streaming APIs. \r\n\r\nThe **reference implementation** is here: https://jsonp.java.net/ \r\n\r\nHere you can find a **list of implementations** of JSR 353:\r\n\r\n\r\nhttps://stackoverflow.com/questions/27984619/what-are-the-api-that-does-implement-jsr-353-json\r\n\r\nAnd **to help you decide**... I found this article as well:\r\n\r\nhttp://blog.takipi.com/the-ultimate-json-library-json-simple-vs-gson-vs-jackson-vs-json/\r\n\r\n\r\nIf you go for Jackson, here is a good article about conversion between JSON to/from Java using Jackson: https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/\r\n\r\nHope it helps!\r\n","title":"How to parse JSON in Java","body":"<p>First you need to select an <strong>implementation library</strong> to do that.</p>\n\n<p>The <strong>Java API for JSON Processing (JSR 353)</strong> provides portable APIs to parse, generate, transform, and query JSON using object model and streaming APIs. </p>\n\n<p>The <strong>reference implementation</strong> is here: <a href=\"https://jsonp.java.net/\" rel=\"noreferrer\">https://jsonp.java.net/</a> </p>\n\n<p>Here you can find a <strong>list of implementations</strong> of JSR 353:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/27984619/what-are-the-api-that-does-implement-jsr-353-json\">What are the API that does implement JSR-353 (JSON)</a></p>\n\n<p>And <strong>to help you decide</strong>... I found this article as well:</p>\n\n<p><a href=\"http://blog.takipi.com/the-ultimate-json-library-json-simple-vs-gson-vs-jackson-vs-json/\" rel=\"noreferrer\">http://blog.takipi.com/the-ultimate-json-library-json-simple-vs-gson-vs-jackson-vs-json/</a></p>\n\n<p>If you go for Jackson, here is a good article about conversion between JSON to/from Java using Jackson: <a href=\"https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/\" rel=\"noreferrer\">https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/</a></p>\n\n<p>Hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":1907716,"reputation":3402,"user_id":1722236,"accept_rate":89,"display_name":"Olivier Tonglet"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1540548925,"creation_date":1486537767,"answer_id":42106801,"question_id":2591098,"body_markdown":"Since nobody mentioned it yet, here is a beginning of a solution using [Nashorn][1] (JavaScript runtime part of Java 8, but deprecated in Java 11).\r\n\r\n**Solution**\r\n\r\n    private static final String EXTRACTOR_SCRIPT =\r\n        &quot;var fun = function(raw) { &quot; +\r\n        &quot;var json = JSON.parse(raw); &quot; +\r\n        &quot;return [json.pageInfo.pageName, json.pageInfo.pagePic, json.posts[0].post_id];};&quot;;\r\n\r\n    public void run() throws ScriptException, NoSuchMethodException {\r\n        ScriptEngine engine = new ScriptEngineManager().getEngineByName(&quot;nashorn&quot;);\r\n        engine.eval(EXTRACTOR_SCRIPT);\r\n        Invocable invocable = (Invocable) engine;\r\n        JSObject result = (JSObject) invocable.invokeFunction(&quot;fun&quot;, JSON);\r\n        result.values().forEach(e -&gt; System.out.println(e));\r\n    }\r\n\r\n**Performance comparison**\r\n\r\nI wrote JSON content containing three arrays of respectively 20, 20 and 100 elements. I only want to get the 100 elements from the third array. I use the following JavaScript function to parse and get my entries.\r\n\r\n    var fun = function(raw) {JSON.parse(raw).entries};\r\n\r\nRunning the call a million times using **Nashorn** takes 7.5~7.8 seconds\r\n\r\n    (JSObject) invocable.invokeFunction(&quot;fun&quot;, json);\r\n\r\n**org.json** takes 20~21 seconds\r\n\r\n    new JSONObject(JSON).getJSONArray(&quot;entries&quot;);\r\n\r\n**Jackson** takes 6.5~7 seconds\r\n\r\n    mapper.readValue(JSON, Entries.class).getEntries();\r\n\r\nIn this case Jackson performs better than Nashorn, which performs much better than org.json.\r\nNashorn API is harder to use than org.json&#39;s or Jackson&#39;s. Depending on your requirements Jackson and Nashorn both can be viable solutions.\r\n\r\n  [1]: http://openjdk.java.net/projects/nashorn/\r\n","title":"How to parse JSON in Java","body":"<p>Since nobody mentioned it yet, here is a beginning of a solution using <a href=\"http://openjdk.java.net/projects/nashorn/\" rel=\"noreferrer\">Nashorn</a> (JavaScript runtime part of Java 8, but deprecated in Java 11).</p>\n\n<p><strong>Solution</strong></p>\n\n<pre><code>private static final String EXTRACTOR_SCRIPT =\n    \"var fun = function(raw) { \" +\n    \"var json = JSON.parse(raw); \" +\n    \"return [json.pageInfo.pageName, json.pageInfo.pagePic, json.posts[0].post_id];};\";\n\npublic void run() throws ScriptException, NoSuchMethodException {\n    ScriptEngine engine = new ScriptEngineManager().getEngineByName(\"nashorn\");\n    engine.eval(EXTRACTOR_SCRIPT);\n    Invocable invocable = (Invocable) engine;\n    JSObject result = (JSObject) invocable.invokeFunction(\"fun\", JSON);\n    result.values().forEach(e -&gt; System.out.println(e));\n}\n</code></pre>\n\n<p><strong>Performance comparison</strong></p>\n\n<p>I wrote JSON content containing three arrays of respectively 20, 20 and 100 elements. I only want to get the 100 elements from the third array. I use the following JavaScript function to parse and get my entries.</p>\n\n<pre><code>var fun = function(raw) {JSON.parse(raw).entries};\n</code></pre>\n\n<p>Running the call a million times using <strong>Nashorn</strong> takes 7.5~7.8 seconds</p>\n\n<pre><code>(JSObject) invocable.invokeFunction(\"fun\", json);\n</code></pre>\n\n<p><strong>org.json</strong> takes 20~21 seconds</p>\n\n<pre><code>new JSONObject(JSON).getJSONArray(\"entries\");\n</code></pre>\n\n<p><strong>Jackson</strong> takes 6.5~7 seconds</p>\n\n<pre><code>mapper.readValue(JSON, Entries.class).getEntries();\n</code></pre>\n\n<p>In this case Jackson performs better than Nashorn, which performs much better than org.json.\nNashorn API is harder to use than org.json's or Jackson's. Depending on your requirements Jackson and Nashorn both can be viable solutions.</p>\n"},{"tags":[],"owner":{"account_id":1569791,"reputation":287,"user_id":7562509,"accept_rate":25,"display_name":"slashron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517770605,"creation_date":1487915770,"answer_id":42431778,"question_id":2591098,"body_markdown":"You can use `JsonNode` for a structured tree representation of your JSON string. It&#39;s part of the rock solid [*jackson* library][1] which is omnipresent.\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonNode yourObj = mapper.readTree(&quot;{\\&quot;k\\&quot;:\\&quot;v\\&quot;}&quot;);\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n","title":"How to parse JSON in Java","body":"<p>You can use <code>JsonNode</code> for a structured tree representation of your JSON string. It's part of the rock solid <a href=\"https://github.com/FasterXML/jackson\" rel=\"nofollow noreferrer\"><em>jackson</em> library</a> which is omnipresent.</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonNode yourObj = mapper.readTree(\"{\\\"k\\\":\\\"v\\\"}\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4159728,"reputation":469,"user_id":3410093,"display_name":"lalitbhagtani"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1517770841,"creation_date":1488543477,"answer_id":42578711,"question_id":2591098,"body_markdown":"There are many open source libraries present to parse JSON content to an object or just to read JSON values. Your requirement is just to read values and parsing it to custom object. So org.json library is enough in your case.\r\n\r\nUse org.json library to parse it and create JsonObject:\r\n\r\n    JSONObject jsonObj = new JSONObject(&lt;jsonStr&gt;);\r\n\r\nNow, use this object to get your values:\r\n\r\n    String id = jsonObj.getString(&quot;pageInfo&quot;);\r\n\r\nYou can see a complete example here:\r\n\r\n[How to parse JSON in Java][1]\r\n\r\n  [1]: http://codedestine.com/how-read-write-json-in-java\r\n","title":"How to parse JSON in Java","body":"<p>There are many open source libraries present to parse JSON content to an object or just to read JSON values. Your requirement is just to read values and parsing it to custom object. So org.json library is enough in your case.</p>\n\n<p>Use org.json library to parse it and create JsonObject:</p>\n\n<pre><code>JSONObject jsonObj = new JSONObject(&lt;jsonStr&gt;);\n</code></pre>\n\n<p>Now, use this object to get your values:</p>\n\n<pre><code>String id = jsonObj.getString(\"pageInfo\");\n</code></pre>\n\n<p>You can see a complete example here:</p>\n\n<p><a href=\"http://codedestine.com/how-read-write-json-in-java\" rel=\"noreferrer\">How to parse JSON in Java</a></p>\n"},{"tags":[],"owner":{"account_id":5883650,"reputation":570,"user_id":4632306,"accept_rate":60,"display_name":"Srinath Murugula"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517770907,"creation_date":1491913472,"answer_id":43345851,"question_id":2591098,"body_markdown":"We can use the JSONObject class to convert a JSON string to a JSON object,\r\nand to iterate over the JSON object. Use the following code.\r\n\r\n    JSONObject jObj = new JSONObject(contents.trim());\r\n    Iterator&lt;?&gt; keys = jObj.keys();\r\n\r\n    while( keys.hasNext() ) {\r\n      String key = (String)keys.next();\r\n      if ( jObj.get(key) instanceof JSONObject ) {           \r\n        System.out.println(jObj.getString(String key));\r\n      }\r\n    }\r\n","title":"How to parse JSON in Java","body":"<p>We can use the JSONObject class to convert a JSON string to a JSON object,\nand to iterate over the JSON object. Use the following code.</p>\n\n<pre><code>JSONObject jObj = new JSONObject(contents.trim());\nIterator&lt;?&gt; keys = jObj.keys();\n\nwhile( keys.hasNext() ) {\n  String key = (String)keys.next();\n  if ( jObj.get(key) instanceof JSONObject ) {           \n    System.out.println(jObj.getString(String key));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12024630,"reputation":323,"user_id":8796988,"display_name":"LittleBigUllah"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1508433603,"creation_date":1508433603,"answer_id":46835494,"question_id":2591098,"body_markdown":"You can use the Gson Library to parse the JSON string.\r\n\r\n    Gson gson = new Gson();\r\n    JsonObject jsonObject = gson.fromJson(jsonAsString, JsonObject.class);\r\n    \r\n    String pageName = jsonObject.getAsJsonObject(&quot;pageInfo&quot;).get(&quot;pageName&quot;).getAsString();\r\n    String pagePic = jsonObject.getAsJsonObject(&quot;pageInfo&quot;).get(&quot;pagePic&quot;).getAsString();\r\n    String postId = jsonObject.getAsJsonArray(&quot;posts&quot;).get(0).getAsJsonObject().get(&quot;post_id&quot;).getAsString();\r\n\r\nYou can also loop through the &quot;posts&quot; array as so:\r\n\r\n    JsonArray posts = jsonObject.getAsJsonArray(&quot;posts&quot;);\r\n    for (JsonElement post : posts) {\r\n      String postId = post.getAsJsonObject().get(&quot;post_id&quot;).getAsString();\r\n      //do something\r\n    }","title":"How to parse JSON in Java","body":"<p>You can use the Gson Library to parse the JSON string.</p>\n\n<pre><code>Gson gson = new Gson();\nJsonObject jsonObject = gson.fromJson(jsonAsString, JsonObject.class);\n\nString pageName = jsonObject.getAsJsonObject(\"pageInfo\").get(\"pageName\").getAsString();\nString pagePic = jsonObject.getAsJsonObject(\"pageInfo\").get(\"pagePic\").getAsString();\nString postId = jsonObject.getAsJsonArray(\"posts\").get(0).getAsJsonObject().get(\"post_id\").getAsString();\n</code></pre>\n\n<p>You can also loop through the \"posts\" array as so:</p>\n\n<pre><code>JsonArray posts = jsonObject.getAsJsonArray(\"posts\");\nfor (JsonElement post : posts) {\n  String postId = post.getAsJsonObject().get(\"post_id\").getAsString();\n  //do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3544715,"reputation":518,"user_id":2960975,"display_name":"Jaroslav Tulach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511250235,"creation_date":1511250235,"answer_id":47407749,"question_id":2591098,"body_markdown":"One can use [Apache @Model annotation][1] to create **Java** model classes representing structure of **JSON** files and use them to access various elements in the **JSON** tree. Unlike other solutions this one *works completely without reflection* and is thus suitable for environments where reflection is impossible or comes with significant overhead.\r\n\r\nThere is a [sample Maven project][2] showing the usage. First of all it defines the structure:\r\n\r\n    @Model(className=&quot;RepositoryInfo&quot;, properties = {\r\n        @Property(name = &quot;id&quot;, type = int.class),\r\n        @Property(name = &quot;name&quot;, type = String.class),\r\n        @Property(name = &quot;owner&quot;, type = Owner.class),\r\n        @Property(name = &quot;private&quot;, type = boolean.class),\r\n    })\r\n    final class RepositoryCntrl {\r\n        @Model(className = &quot;Owner&quot;, properties = {\r\n            @Property(name = &quot;login&quot;, type = String.class)\r\n        })\r\n        static final class OwnerCntrl {\r\n        }\r\n    }\r\n\r\nand then it uses the generated RepositoryInfo and Owner classes to parse the provided input stream and pick certain information up while doing that:\r\n\r\n    List&lt;RepositoryInfo&gt; repositories = new ArrayList&lt;&gt;();\r\n    try (InputStream is = initializeStream(args)) {\r\n        Models.parse(CONTEXT, RepositoryInfo.class, is, repositories);\r\n    }\r\n    \r\n    System.err.println(&quot;there is &quot; + repositories.size() + &quot; repositories&quot;);\r\n    repositories.stream().filter((repo) -&gt; repo != null).forEach((repo) -&gt; {\r\n        System.err.println(&quot;repository &quot; + repo.getName() + \r\n            &quot; is owned by &quot; + repo.getOwner().getLogin()\r\n        );\r\n    })\r\n\r\nThat is it! In addition to that here is a [live gist][3] showing similar example together with asynchronous network communication.\r\n\r\n  [1]: https://github.com/apache/incubator-netbeans-html4j\r\n  [2]: https://github.com/JaroslavTulach/incubator-netbeans-html4j/blob/examples/examples/jsonparse/README.md\r\n  [3]: http://dew.apidesign.org/dew/#7138581","title":"How to parse JSON in Java","body":"<p>One can use <a href=\"https://github.com/apache/incubator-netbeans-html4j\" rel=\"nofollow noreferrer\">Apache @Model annotation</a> to create <strong>Java</strong> model classes representing structure of <strong>JSON</strong> files and use them to access various elements in the <strong>JSON</strong> tree. Unlike other solutions this one <em>works completely without reflection</em> and is thus suitable for environments where reflection is impossible or comes with significant overhead.</p>\n\n<p>There is a <a href=\"https://github.com/JaroslavTulach/incubator-netbeans-html4j/blob/examples/examples/jsonparse/README.md\" rel=\"nofollow noreferrer\">sample Maven project</a> showing the usage. First of all it defines the structure:</p>\n\n<pre><code>@Model(className=\"RepositoryInfo\", properties = {\n    @Property(name = \"id\", type = int.class),\n    @Property(name = \"name\", type = String.class),\n    @Property(name = \"owner\", type = Owner.class),\n    @Property(name = \"private\", type = boolean.class),\n})\nfinal class RepositoryCntrl {\n    @Model(className = \"Owner\", properties = {\n        @Property(name = \"login\", type = String.class)\n    })\n    static final class OwnerCntrl {\n    }\n}\n</code></pre>\n\n<p>and then it uses the generated RepositoryInfo and Owner classes to parse the provided input stream and pick certain information up while doing that:</p>\n\n<pre><code>List&lt;RepositoryInfo&gt; repositories = new ArrayList&lt;&gt;();\ntry (InputStream is = initializeStream(args)) {\n    Models.parse(CONTEXT, RepositoryInfo.class, is, repositories);\n}\n\nSystem.err.println(\"there is \" + repositories.size() + \" repositories\");\nrepositories.stream().filter((repo) -&gt; repo != null).forEach((repo) -&gt; {\n    System.err.println(\"repository \" + repo.getName() + \n        \" is owned by \" + repo.getOwner().getLogin()\n    );\n})\n</code></pre>\n\n<p>That is it! In addition to that here is a <a href=\"http://dew.apidesign.org/dew/#7138581\" rel=\"nofollow noreferrer\">live gist</a> showing similar example together with asynchronous network communication.</p>\n"},{"tags":[],"owner":{"account_id":11892553,"reputation":418,"user_id":8702924,"display_name":"Akash Roy"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1620319936,"creation_date":1526549654,"answer_id":50388077,"question_id":2591098,"body_markdown":"You need to use JsonNode and ObjectMapper class from the  jackson library to fetch the nodes of your Json tree.Add the below dependency in your pom.xml to get an access to the Jackson classes.\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.9.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nYou shall give a try on the below code, this would work :\r\n\r\n```lang-java\r\nimport com.fasterxml.jackson.core.JsonGenerationException;\r\nimport com.fasterxml.jackson.databind.JsonMappingException;\r\nimport com.fasterxml.jackson.databind.JsonNode;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nclass JsonNodeExtractor{\r\n\r\n\tpublic void convertToJson(){\r\n\r\n\t\tString filepath = &quot;c:\\\\data.json&quot;;\r\n\t\tObjectMapper mapper = new ObjectMapper();\r\n\t\tJsonNode node =  mapper.readTree(filepath);\r\n\r\n\t\t// create a JsonNode for every root or subroot element in the Json String\r\n\t\tJsonNode pageInfoRoot = node.path(&quot;pageInfo&quot;);\r\n\r\n\t\t// Fetching elements under &#39;pageInfo&#39;\r\n\t\tString pageName =  pageInfoRoot.path(&quot;pageName&quot;).asText();\r\n\t\tString pagePic = pageInfoRoot.path(&quot;pagePic&quot;).asText();\r\n\r\n\t\t// Now fetching elements under posts\r\n\t\tJsonNode  postsNode = node.path(&quot;posts&quot;);\r\n\t\tString post_id = postsNode .path(&quot;post_id&quot;).asText();\r\n\t\tString nameOfPersonWhoPosted = postsNode \r\n\t\t.path(&quot;nameOfPersonWhoPosted&quot;).asText();\r\n\t}\r\n}\r\n```\r\n","title":"How to parse JSON in Java","body":"<p>You need to use JsonNode and ObjectMapper class from the  jackson library to fetch the nodes of your Json tree.Add the below dependency in your pom.xml to get an access to the Jackson classes.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.9.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You shall give a try on the below code, this would work :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.fasterxml.jackson.core.JsonGenerationException;\nimport com.fasterxml.jackson.databind.JsonMappingException;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nclass JsonNodeExtractor{\n\n    public void convertToJson(){\n\n        String filepath = &quot;c:\\\\data.json&quot;;\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode node =  mapper.readTree(filepath);\n\n        // create a JsonNode for every root or subroot element in the Json String\n        JsonNode pageInfoRoot = node.path(&quot;pageInfo&quot;);\n\n        // Fetching elements under 'pageInfo'\n        String pageName =  pageInfoRoot.path(&quot;pageName&quot;).asText();\n        String pagePic = pageInfoRoot.path(&quot;pagePic&quot;).asText();\n\n        // Now fetching elements under posts\n        JsonNode  postsNode = node.path(&quot;posts&quot;);\n        String post_id = postsNode .path(&quot;post_id&quot;).asText();\n        String nameOfPersonWhoPosted = postsNode \n        .path(&quot;nameOfPersonWhoPosted&quot;).asText();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14381595,"reputation":3662,"user_id":10388629,"display_name":"Pika Supports Ukraine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1539910133,"creation_date":1539910133,"answer_id":52884452,"question_id":2591098,"body_markdown":"`jsoniter` (jsoniterator) is a relatively new and simple json library, designed to be simple and fast. All you need to do to deserialize json data is\r\n\r\n    JsonIterator.deserialize(jsonData, int[].class);\r\nwhere `jsonData` is a string of json data.\r\n\r\nCheck out the [official website][1]\r\n  [1]: http://jsoniter.com/\r\nfor more information.","title":"How to parse JSON in Java","body":"<p><code>jsoniter</code> (jsoniterator) is a relatively new and simple json library, designed to be simple and fast. All you need to do to deserialize json data is</p>\n\n<pre><code>JsonIterator.deserialize(jsonData, int[].class);\n</code></pre>\n\n<p>where <code>jsonData</code> is a string of json data.</p>\n\n<p>Check out the <a href=\"http://jsoniter.com/\" rel=\"nofollow noreferrer\">official website</a>\nfor more information.</p>\n"},{"tags":[],"owner":{"account_id":3274316,"reputation":1168,"user_id":2756833,"display_name":"mfe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553960569,"creation_date":1553960569,"answer_id":55433076,"question_id":2591098,"body_markdown":"You can use [DSM][1] stream parsing library for parsing complex json and XML document. DSM parse data only once and not load all data into memory. \r\n\r\nLet&#39;s say we have **Page** class to deserialize given json data.\r\n\r\nPage class\r\n\r\n    public class Page {\r\n        private String pageName;\r\n        private String pageImage;\r\n        private List&lt;Sting&gt; postIds;\r\n        \r\n        // getter/setter\r\n                \r\n    }\r\n\r\n\r\nCreate a yaml Mapping file.\r\n\r\n    result:\r\n      type: object     # result is array\r\n      path: /posts\r\n      fields:\r\n        pageName:\r\n            path: /pageInfo/pageName\r\n        pageImage:\r\n            path: /pageInfo/pagePic\r\n        postIds:\r\n          path: post_id\r\n          type: array\r\n\r\n\r\nUse DSM to extract fields.\r\n\r\n    DSM dsm=new DSMBuilder(new File(&quot;path-to-yaml-config.yaml&quot;)).create(Page.class);\r\n    Page page= (Page)dsm.toObject(new path-to-json-data.json&quot;);\r\n\r\n**page** variable serialized to json:\r\n\r\n    {\r\n      &quot;pageName&quot; : &quot;abc&quot;,\r\n      &quot;pageImage&quot; : &quot;http://example.com/content.jpg&quot;,\r\n      &quot;postIds&quot; : [ &quot;123456789012_123456789012&quot; ]\r\n    }\r\n\r\n\r\n**DSM is very good for complex json and xml.**\r\n\r\n  [1]: https://mfatihercik.github.io/dsm","title":"How to parse JSON in Java","body":"<p>You can use <a href=\"https://mfatihercik.github.io/dsm\" rel=\"nofollow noreferrer\">DSM</a> stream parsing library for parsing complex json and XML document. DSM parse data only once and not load all data into memory. </p>\n\n<p>Let's say we have <strong>Page</strong> class to deserialize given json data.</p>\n\n<p>Page class</p>\n\n<pre><code>public class Page {\n    private String pageName;\n    private String pageImage;\n    private List&lt;Sting&gt; postIds;\n\n    // getter/setter\n\n}\n</code></pre>\n\n<p>Create a yaml Mapping file.</p>\n\n<pre><code>result:\n  type: object     # result is array\n  path: /posts\n  fields:\n    pageName:\n        path: /pageInfo/pageName\n    pageImage:\n        path: /pageInfo/pagePic\n    postIds:\n      path: post_id\n      type: array\n</code></pre>\n\n<p>Use DSM to extract fields.</p>\n\n<pre><code>DSM dsm=new DSMBuilder(new File(\"path-to-yaml-config.yaml\")).create(Page.class);\nPage page= (Page)dsm.toObject(new path-to-json-data.json\");\n</code></pre>\n\n<p><strong>page</strong> variable serialized to json:</p>\n\n<pre><code>{\n  \"pageName\" : \"abc\",\n  \"pageImage\" : \"http://example.com/content.jpg\",\n  \"postIds\" : [ \"123456789012_123456789012\" ]\n}\n</code></pre>\n\n<p><strong>DSM is very good for complex json and xml.</strong></p>\n"},{"tags":[],"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575467224,"creation_date":1575467224,"answer_id":59177514,"question_id":2591098,"body_markdown":"There are 2 main options...\r\n\r\n 1. Object mapping. When you deserialize JSON data to a number of instances of:\r\n\r\n 1.1. Some predefined classes, like Maps. In this case, you don&#39;t have to design your own POJO classes. Some libraries: org.json.simple [https://www.mkyong.com/java/json-simple-example-read-and-write-json/][1]\r\n\r\n 1.2. Your own POJO classes. You have to design your own POJO classes to present JSON data, but this may be helpful if you are going to use them into your business logic as well. Some libraries: Gson, Jackson (see [http://tutorials.jenkov.com/java-json/index.html][2])\r\n\r\nThe main backwards of the mapping is that it leads to intensive memory allocation (and GC pressure) and CPU utilization.\r\n\r\n  2. Stream oriented parsing. For example, both Gson and Jackson support such lightweight parsing. Also, you can take a look at an example of custom, fast and GC-free parser [https://github.com/anatolygudkov/green-jelly][3]. Prefer this way in case you need to parse a lot of data and in latency sensitivity applications.  \r\n\r\n\r\n  [1]: https://www.mkyong.com/java/json-simple-example-read-and-write-json/\r\n  [2]: http://tutorials.jenkov.com/java-json/index.html\r\n  [3]: https://github.com/anatolygudkov/green-jelly","title":"How to parse JSON in Java","body":"<p>There are 2 main options...</p>\n\n<ol>\n<li><p>Object mapping. When you deserialize JSON data to a number of instances of:</p>\n\n<p>1.1. Some predefined classes, like Maps. In this case, you don't have to design your own POJO classes. Some libraries: org.json.simple <a href=\"https://www.mkyong.com/java/json-simple-example-read-and-write-json/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/java/json-simple-example-read-and-write-json/</a></p>\n\n<p>1.2. Your own POJO classes. You have to design your own POJO classes to present JSON data, but this may be helpful if you are going to use them into your business logic as well. Some libraries: Gson, Jackson (see <a href=\"http://tutorials.jenkov.com/java-json/index.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-json/index.html</a>)</p></li>\n</ol>\n\n<p>The main backwards of the mapping is that it leads to intensive memory allocation (and GC pressure) and CPU utilization.</p>\n\n<ol start=\"2\">\n<li>Stream oriented parsing. For example, both Gson and Jackson support such lightweight parsing. Also, you can take a look at an example of custom, fast and GC-free parser <a href=\"https://github.com/anatolygudkov/green-jelly\" rel=\"nofollow noreferrer\">https://github.com/anatolygudkov/green-jelly</a>. Prefer this way in case you need to parse a lot of data and in latency sensitivity applications.  </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":472248,"reputation":19503,"user_id":880619,"accept_rate":100,"display_name":"Jasper de Vries"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588437478,"creation_date":1588437478,"answer_id":61562860,"question_id":2591098,"body_markdown":"Jakarta (Java) Enterprise Edition 8 includes the [JSON-B](http://json-b.net/) (Java API for JSON Binding). So, if you are using a Jakarta EE 8 server, like [Payara](https://www.payara.fish/) 5, JSON-B will be available out of the box.\r\n\r\nA simple example, without custom configuration:\r\n\r\n```\r\npublic static class Dog {\r\n    public String name;\r\n    public int age;\r\n    public boolean bites;\r\n}\r\n\r\n// Create a dog instance\r\nDog dog = new Dog();\r\ndog.name = &quot;Falco&quot;;\r\ndog.age = 4;\r\ndog.bites = false;\r\n\r\n// Create Jsonb and serialize\r\nJsonb jsonb = JsonbBuilder.create();\r\nString result = jsonb.toJson(dog);\r\n\r\n// Deserialize back\r\ndog = jsonb.fromJson(&quot;{\\&quot;name\\&quot;:\\&quot;Falco\\&quot;,\\&quot;age\\&quot;:4,\\&quot;bites\\&quot;:false}&quot;, Dog.class);\r\n```\r\n\r\nYou can [customize the mapping](http://json-b.net/docs/user-guide.html#customized-mapping) by using configuration, annotations, adapters and (de)serializers.\r\n\r\nIf you are not using a Jakarta EE 8 use can always [install JSON-B](http://json-b.net/docs/user-guide.html#installation).\r\n ","title":"How to parse JSON in Java","body":"<p>Jakarta (Java) Enterprise Edition 8 includes the <a href=\"http://json-b.net/\" rel=\"nofollow noreferrer\">JSON-B</a> (Java API for JSON Binding). So, if you are using a Jakarta EE 8 server, like <a href=\"https://www.payara.fish/\" rel=\"nofollow noreferrer\">Payara</a> 5, JSON-B will be available out of the box.</p>\n\n<p>A simple example, without custom configuration:</p>\n\n<pre><code>public static class Dog {\n    public String name;\n    public int age;\n    public boolean bites;\n}\n\n// Create a dog instance\nDog dog = new Dog();\ndog.name = \"Falco\";\ndog.age = 4;\ndog.bites = false;\n\n// Create Jsonb and serialize\nJsonb jsonb = JsonbBuilder.create();\nString result = jsonb.toJson(dog);\n\n// Deserialize back\ndog = jsonb.fromJson(\"{\\\"name\\\":\\\"Falco\\\",\\\"age\\\":4,\\\"bites\\\":false}\", Dog.class);\n</code></pre>\n\n<p>You can <a href=\"http://json-b.net/docs/user-guide.html#customized-mapping\" rel=\"nofollow noreferrer\">customize the mapping</a> by using configuration, annotations, adapters and (de)serializers.</p>\n\n<p>If you are not using a Jakarta EE 8 use can always <a href=\"http://json-b.net/docs/user-guide.html#installation\" rel=\"nofollow noreferrer\">install JSON-B</a>.</p>\n"},{"tags":[],"owner":{"account_id":16311168,"reputation":85,"user_id":11779756,"display_name":"Bhargav Patel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598439052,"creation_date":1594184892,"answer_id":62787929,"question_id":2591098,"body_markdown":"If you have maven project then add below dependency  or normal project add json-simple jar.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;20180813&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nWrite below java code for convert JSON string to JSON array.\r\n```\r\nJSONArray ja = new JSONArray(String jsonString);\r\n```","title":"How to parse JSON in Java","body":"<p>If you have maven project then add below dependency  or normal project add json-simple jar.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20180813&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Write below java code for convert JSON string to JSON array.</p>\n<pre><code>JSONArray ja = new JSONArray(String jsonString);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1509886,"reputation":2831,"user_id":1412279,"display_name":"bebbo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644251418,"creation_date":1644244140,"answer_id":71020214,"question_id":2591098,"body_markdown":"If your data is simple and you don&#39;t want external dependencies, use some lines of code:\r\n\r\n\t/**\r\n\t * A very simple JSON parser for one level, everything quoted.\r\n\t * @param json the json content.\r\n\t * @return a key =&gt; value map.\r\n\t */\r\n\tpublic static Map&lt;String, String&gt; simpleParseJson(String json) {\r\n\t\tMap&lt;String, String&gt; map = new TreeMap&lt;&gt;();\r\n\t\tString qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\r\n\t\tfor (int i = 1; i + 3 &lt; qs.length; i += 4) {\r\n\t\t\tmap.put(qs[i].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;), qs[i + 2].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;));\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\nSo this data\r\n\r\n    {&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:&quot;30&quot;, &quot;car&quot;:&quot;a \\&quot;quoted\\&quot; back\\\\slash car&quot;}\r\n\r\nyields a map containing\r\n\r\n    {age=30, car=a &quot;quoted&quot; back\\slash car, name=John}\r\n  \r\n\r\nThis can be upgraded to work with unquoted values too...\r\n\r\n\t/**\r\n\t * A very simple JSON parser for one level, names are quoted.\r\n\t * @param json the json content.\r\n\t * @return a key =&gt; value map.\r\n\t */\r\n\tpublic static Map&lt;String, String&gt; simpleParseJson(String json) {\r\n\t\tMap&lt;String, String&gt; map = new TreeMap&lt;&gt;();\r\n\t\tString qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;,  &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\r\n\t\tfor (int i = 1; i + 1 &lt; qs.length; i += 4) {\r\n\t\t\tif (qs[i + 1].trim().length() &gt; 1) {\r\n\t\t\t\tString x = qs[i + 1].trim();\r\n\t\t\t\tmap.put(qs[i].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;), x.substring(1, x.length() - 1).trim().replace(&#39;\\u0001&#39;, &#39;&quot;&#39;));\r\n\t\t\t\ti -= 2;\r\n\t\t\t} else {\r\n\t\t\t\tmap.put(qs[i].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;), qs[i + 2].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\nAnd to solve complex structure, it gets ugly...\r\n... **SORRY!!!** ... but I could not resist to code it^^\r\nThis parses the given JSON in question and way more. It yields nested maps and lists.\r\n\r\n\t/**\r\n\t * A very simple JSON parser, names are quoted.\r\n\t * \r\n\t * @param json the json content.\r\n\t * @return a key =&gt; value map.\r\n\t */\r\n\tpublic static Map&lt;String, Object&gt; simpleParseJson(String json) {\r\n\t\tMap&lt;String, Object&gt; map = new TreeMap&lt;&gt;();\r\n\t\tString qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\r\n\t\tint index[] = { 1 };\r\n\t\trecurse(index, map, qs);\r\n\t\treturn map;\r\n\t}\r\n\r\n\t/**\r\n\t * Eierlegende Wollmilchsau.\r\n\t * \r\n\t * @param index index into array.\r\n\t * @param map   the current map to fill.\r\n\t * @param qs    the data.\r\n\t */\r\n\tprivate static void recurse(int[] index, Map&lt;String, Object&gt; map, String[] qs) {\r\n\t\tint i = index[0];\r\n\t\tfor (;; i += 4) {\r\n\t\t\tString end = qs[i - 1].trim(); // check for termination of an object\r\n\t\t\tif (end.startsWith(&quot;}&quot;)) {\r\n\t\t\t\tqs[i - 1] = end.substring(1).trim();\r\n\t\t\t\ti -= 4;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tString key = qs[i].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;);\r\n\t\t\tString x = qs[i + 1].trim();\r\n\t\t\tif (x.endsWith(&quot;{&quot;)) {\r\n\t\t\t\tx = x.substring(0, x.length() - 1).trim();\r\n\t\t\t\tif (x.endsWith(&quot;[&quot;)) {\r\n\t\t\t\t\tList&lt;Object&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\t\tindex[0] = i + 2;\r\n\t\t\t\t\tfor (;;) {\r\n\t\t\t\t\t\tMap&lt;String, Object&gt; inner = new TreeMap&lt;&gt;();\r\n\t\t\t\t\t\tlist.add(inner);\r\n\t\t\t\t\t\trecurse(index, inner, qs);\r\n\t\t\t\t\t\tmap.put(key, list);\r\n\t\t\t\t\t\ti = index[0];\r\n\r\n\t\t\t\t\t\tString y = qs[i + 3]; // check for termination of array\r\n\t\t\t\t\t\tif (y.startsWith(&quot;]&quot;)) {\r\n\t\t\t\t\t\t\tqs[i + 3] = y.substring(1).trim();\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tMap&lt;String, Object&gt; inner = new TreeMap&lt;&gt;();\r\n\t\t\t\tindex[0] = i + 2;\r\n\t\t\t\trecurse(index, inner, qs);\r\n\t\t\t\tmap.put(key, inner);\r\n\t\t\t\ti = index[0];\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif (x.length() &gt; 1) { // unquoted\r\n\t\t\t\tString value = x.substring(1, x.length() - 1).trim().replace(&#39;\\u0001&#39;, &#39;&quot;&#39;);\r\n\t\t\t\tif (&quot;[]&quot;.equals(value)) // handle empty array\r\n\t\t\t\t\tmap.put(key, new ArrayList&lt;&gt;());\r\n\t\t\t\telse\r\n\t\t\t\t\tmap.put(key, value);\r\n\t\t\t\ti -= 2;\r\n\t\t\t} else {\r\n\t\t\t\tmap.put(key, qs[i + 2].replace(&#39;\\u0001&#39;, &#39;&quot;&#39;));\r\n\t\t\t}\r\n\t\t}\r\n\t\tindex[0] = i;\r\n\t}\r\n\r\nyields - if you print the map:\r\n\r\n    {pageInfo={pageName=abc, pagePic=http://example.com/content.jpg}, posts=[{actor_id=1234567890, comments=[], likesCount=2, message=Sounds cool. Can&#39;t wait to see it!, nameOfPersonWhoPosted=Jane Doe, picOfPersonWhoPosted=http://example.com/photo.jpg, post_id=123456789012_123456789012, timeOfPost=1234567890}]}\r\n\r\n","title":"How to parse JSON in Java","body":"<p>If your data is simple and you don't want external dependencies, use some lines of code:</p>\n<pre><code>/**\n * A very simple JSON parser for one level, everything quoted.\n * @param json the json content.\n * @return a key =&gt; value map.\n */\npublic static Map&lt;String, String&gt; simpleParseJson(String json) {\n    Map&lt;String, String&gt; map = new TreeMap&lt;&gt;();\n    String qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\n    for (int i = 1; i + 3 &lt; qs.length; i += 4) {\n        map.put(qs[i].replace('\\u0001', '&quot;'), qs[i + 2].replace('\\u0001', '&quot;'));\n    }\n    return map;\n}\n</code></pre>\n<p>So this data</p>\n<pre><code>{&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:&quot;30&quot;, &quot;car&quot;:&quot;a \\&quot;quoted\\&quot; back\\\\slash car&quot;}\n</code></pre>\n<p>yields a map containing</p>\n<pre><code>{age=30, car=a &quot;quoted&quot; back\\slash car, name=John}\n</code></pre>\n<p>This can be upgraded to work with unquoted values too...</p>\n<pre><code>/**\n * A very simple JSON parser for one level, names are quoted.\n * @param json the json content.\n * @return a key =&gt; value map.\n */\npublic static Map&lt;String, String&gt; simpleParseJson(String json) {\n    Map&lt;String, String&gt; map = new TreeMap&lt;&gt;();\n    String qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;,  &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\n    for (int i = 1; i + 1 &lt; qs.length; i += 4) {\n        if (qs[i + 1].trim().length() &gt; 1) {\n            String x = qs[i + 1].trim();\n            map.put(qs[i].replace('\\u0001', '&quot;'), x.substring(1, x.length() - 1).trim().replace('\\u0001', '&quot;'));\n            i -= 2;\n        } else {\n            map.put(qs[i].replace('\\u0001', '&quot;'), qs[i + 2].replace('\\u0001', '&quot;'));\n        }\n    }\n    return map;\n}\n</code></pre>\n<p>And to solve complex structure, it gets ugly...\n... <strong>SORRY!!!</strong> ... but I could not resist to code it^^\nThis parses the given JSON in question and way more. It yields nested maps and lists.</p>\n<pre><code>/**\n * A very simple JSON parser, names are quoted.\n * \n * @param json the json content.\n * @return a key =&gt; value map.\n */\npublic static Map&lt;String, Object&gt; simpleParseJson(String json) {\n    Map&lt;String, Object&gt; map = new TreeMap&lt;&gt;();\n    String qs[] = json.replace(&quot;\\\\\\&quot;&quot;, &quot;\\u0001&quot;).replace(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;).split(&quot;\\&quot;&quot;);\n    int index[] = { 1 };\n    recurse(index, map, qs);\n    return map;\n}\n\n/**\n * Eierlegende Wollmilchsau.\n * \n * @param index index into array.\n * @param map   the current map to fill.\n * @param qs    the data.\n */\nprivate static void recurse(int[] index, Map&lt;String, Object&gt; map, String[] qs) {\n    int i = index[0];\n    for (;; i += 4) {\n        String end = qs[i - 1].trim(); // check for termination of an object\n        if (end.startsWith(&quot;}&quot;)) {\n            qs[i - 1] = end.substring(1).trim();\n            i -= 4;\n            break;\n        }\n\n        String key = qs[i].replace('\\u0001', '&quot;');\n        String x = qs[i + 1].trim();\n        if (x.endsWith(&quot;{&quot;)) {\n            x = x.substring(0, x.length() - 1).trim();\n            if (x.endsWith(&quot;[&quot;)) {\n                List&lt;Object&gt; list = new ArrayList&lt;&gt;();\n                index[0] = i + 2;\n                for (;;) {\n                    Map&lt;String, Object&gt; inner = new TreeMap&lt;&gt;();\n                    list.add(inner);\n                    recurse(index, inner, qs);\n                    map.put(key, list);\n                    i = index[0];\n\n                    String y = qs[i + 3]; // check for termination of array\n                    if (y.startsWith(&quot;]&quot;)) {\n                        qs[i + 3] = y.substring(1).trim();\n                        break;\n                    }\n                }\n                continue;\n            }\n\n            Map&lt;String, Object&gt; inner = new TreeMap&lt;&gt;();\n            index[0] = i + 2;\n            recurse(index, inner, qs);\n            map.put(key, inner);\n            i = index[0];\n            continue;\n        }\n        if (x.length() &gt; 1) { // unquoted\n            String value = x.substring(1, x.length() - 1).trim().replace('\\u0001', '&quot;');\n            if (&quot;[]&quot;.equals(value)) // handle empty array\n                map.put(key, new ArrayList&lt;&gt;());\n            else\n                map.put(key, value);\n            i -= 2;\n        } else {\n            map.put(key, qs[i + 2].replace('\\u0001', '&quot;'));\n        }\n    }\n    index[0] = i;\n}\n</code></pre>\n<p>yields - if you print the map:</p>\n<pre><code>{pageInfo={pageName=abc, pagePic=http://example.com/content.jpg}, posts=[{actor_id=1234567890, comments=[], likesCount=2, message=Sounds cool. Can't wait to see it!, nameOfPersonWhoPosted=Jane Doe, picOfPersonWhoPosted=http://example.com/photo.jpg, post_id=123456789012_123456789012, timeOfPost=1234567890}]}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3641890,"reputation":410,"user_id":3035786,"accept_rate":50,"display_name":"Mugeesh Husain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1649519130,"creation_date":1644659367,"answer_id":71090749,"question_id":2591098,"body_markdown":"Any kind of json array\r\nsteps to solve the issue.\r\n\r\n 1. Convert your JSON object to a java object.\r\n 2.  You can use this [link](https://json2csharp.com/json-to-pojo) or any online tool.\r\n 3. Save out as a java class like `Myclass.java`.\r\n 4. `Myclass obj = new Gson().fromJson(JsonStr, Myclass.class);`\r\n 5. Using `obj`, you can get your values.\r\n","title":"How to parse JSON in Java","body":"<p>Any kind of json array\nsteps to solve the issue.</p>\n<ol>\n<li>Convert your JSON object to a java object.</li>\n<li>You can use this <a href=\"https://json2csharp.com/json-to-pojo\" rel=\"nofollow noreferrer\">link</a> or any online tool.</li>\n<li>Save out as a java class like <code>Myclass.java</code>.</li>\n<li><code>Myclass obj = new Gson().fromJson(JsonStr, Myclass.class);</code></li>\n<li>Using <code>obj</code>, you can get your values.</li>\n</ol>\n"}],"owner":{"account_id":67441,"reputation":33841,"user_id":2355649,"accept_rate":51,"display_name":"Muhammad Maqsoodur Rehman"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2426864,"favorite_count":0,"down_vote_count":38,"up_vote_count":1360,"answer_count":36,"score":1322,"last_activity_date":1688828127,"creation_date":1270630821,"question_id":2591098,"body_markdown":"I have the following JSON text. How can I parse it to get the values of `pageName`, `pagePic`, `post_id`, etc.?\r\n\r\n``` lang-json\r\n{\r\n  &quot;pageInfo&quot;: {\r\n    &quot;pageName&quot;: &quot;abc&quot;,\r\n    &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\r\n  },\r\n  &quot;posts&quot;: [\r\n    {\r\n      &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\r\n      &quot;actor_id&quot;: &quot;1234567890&quot;,\r\n      &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\r\n      &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\r\n      &quot;message&quot;: &quot;Sounds cool. Can&#39;t wait to see it!&quot;,\r\n      &quot;likesCount&quot;: &quot;2&quot;,\r\n      &quot;comments&quot;: [],\r\n      &quot;timeOfPost&quot;: &quot;1234567890&quot;\r\n    }\r\n  ]\r\n}\r\n```","title":"How to parse JSON in Java","body":"<p>I have the following JSON text. How can I parse it to get the values of <code>pageName</code>, <code>pagePic</code>, <code>post_id</code>, etc.?</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;pageInfo&quot;: {\n    &quot;pageName&quot;: &quot;abc&quot;,\n    &quot;pagePic&quot;: &quot;http://example.com/content.jpg&quot;\n  },\n  &quot;posts&quot;: [\n    {\n      &quot;post_id&quot;: &quot;123456789012_123456789012&quot;,\n      &quot;actor_id&quot;: &quot;1234567890&quot;,\n      &quot;picOfPersonWhoPosted&quot;: &quot;http://example.com/photo.jpg&quot;,\n      &quot;nameOfPersonWhoPosted&quot;: &quot;Jane Doe&quot;,\n      &quot;message&quot;: &quot;Sounds cool. Can't wait to see it!&quot;,\n      &quot;likesCount&quot;: &quot;2&quot;,\n      &quot;comments&quot;: [],\n      &quot;timeOfPost&quot;: &quot;1234567890&quot;\n    }\n  ]\n}\n</code></pre>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":2181574,"reputation":2045,"user_id":1930935,"accept_rate":83,"display_name":"Olavi Mustanoja"},"score":0,"creation_date":1417086834,"post_id":27169234,"comment_id":42829669,"body_markdown":"you should split the strings in two first; the other part being the integer part, and the other the string part. then first compare the integers - if the integers are not equal, the string that should appear first is the one with the smaller integer part. If they are equal, the string that should appear first is the one with *alphabetically smaller* string part.","body":"you should split the strings in two first; the other part being the integer part, and the other the string part. then first compare the integers - if the integers are not equal, the string that should appear first is the one with the smaller integer part. If they are equal, the string that should appear first is the one with <i>alphabetically smaller</i> string part."},{"owner":{"account_id":1522669,"reputation":11674,"user_id":1421925,"accept_rate":90,"display_name":"Magnilex"},"score":0,"creation_date":1417086837,"post_id":27169234,"comment_id":42829672,"body_markdown":"Parse the integer from the string and compare it before comparing the rest of the string. If it always starts with unique integers, you can even skip the rest of the string.","body":"Parse the integer from the string and compare it before comparing the rest of the string. If it always starts with unique integers, you can even skip the rest of the string."},{"owner":{"account_id":5399543,"reputation":173,"user_id":4299771,"accept_rate":80,"display_name":"Thaven"},"score":0,"creation_date":1417086961,"post_id":27169234,"comment_id":42829754,"body_markdown":"The string can be in any format - e.g: other 1, other 2, 1 some 2 other 3, ... I therefor think it would be difficult to split the string and compare only the integer part.","body":"The string can be in any format - e.g: other 1, other 2, 1 some 2 other 3, ... I therefor think it would be difficult to split the string and compare only the integer part."},{"owner":{"account_id":72628,"reputation":32475,"user_id":209629,"accept_rate":58,"display_name":"vz0"},"score":0,"creation_date":1417087086,"post_id":27169234,"comment_id":42829819,"body_markdown":"May more than one number appear on the string?; is &quot;1 some 2&quot; a valid element?","body":"May more than one number appear on the string?; is &quot;1 some 2&quot; a valid element?"},{"owner":{"account_id":2362295,"reputation":4187,"user_id":2068732,"accept_rate":67,"display_name":"matdev"},"score":0,"creation_date":1631176092,"post_id":27169234,"comment_id":122153729,"body_markdown":"For info, the code in your question does sort your objects in alphanumeric order","body":"For info, the code in your question does sort your objects in alphanumeric order"}],"answers":[{"tags":[],"owner":{"account_id":1060138,"reputation":15246,"user_id":1061944,"accept_rate":41,"display_name":"Murtaza Khursheed Hussain"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1417086929,"creation_date":1417086929,"answer_id":27169350,"question_id":27169234,"body_markdown":"Your solution lies in [The Alphanum Algorithm][1] and you can implement like [this][2]\r\n\r\n\r\n  [1]: http://www.davekoelle.com/alphanum.html\r\n  [2]: http://www.davekoelle.com/files/AlphanumComparator.java","title":"How to sort Alphanumeric String","body":"<p>Your solution lies in <a href=\"http://www.davekoelle.com/alphanum.html\" rel=\"noreferrer\">The Alphanum Algorithm</a> and you can implement like <a href=\"http://www.davekoelle.com/files/AlphanumComparator.java\" rel=\"noreferrer\">this</a></p>\n"},{"tags":[],"owner":{"account_id":1807690,"reputation":3480,"user_id":1644440,"accept_rate":100,"display_name":"Zhedar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417087318,"creation_date":1417087318,"answer_id":27169487,"question_id":27169234,"body_markdown":"You need to implement your own `Comparator` to do this kind of custom sorting. The default `String.compareTo()` method seems to sort numbers before characters. When `0` in `20some` gets compared to `s` in `3some` the `0` has a higher sort priority and therefore the whole word gets sorted in first.  \r\nWhat you would need to do is this: try to split you strings into the number and the character part. That&#39;s a hard task since those `String`s can consist of many of those parts (or don&#39;t they?). You may use algorithms like `Alphanum`, which Murtaza already showed to you.  \r\nIf you want to implement it yourself, you could check, where the number part ends. Then parse it to an `int` with `Integer.parse()`. Compare `int` parts if they exist in both `String`s, then compare the rest. Well that may not be the most professional solution, but as a beginner you may want craft those things yourself to learn it.","title":"How to sort Alphanumeric String","body":"<p>You need to implement your own <code>Comparator</code> to do this kind of custom sorting. The default <code>String.compareTo()</code> method seems to sort numbers before characters. When <code>0</code> in <code>20some</code> gets compared to <code>s</code> in <code>3some</code> the <code>0</code> has a higher sort priority and therefore the whole word gets sorted in first.<br>\nWhat you would need to do is this: try to split you strings into the number and the character part. That's a hard task since those <code>String</code>s can consist of many of those parts (or don't they?). You may use algorithms like <code>Alphanum</code>, which Murtaza already showed to you.<br>\nIf you want to implement it yourself, you could check, where the number part ends. Then parse it to an <code>int</code> with <code>Integer.parse()</code>. Compare <code>int</code> parts if they exist in both <code>String</code>s, then compare the rest. Well that may not be the most professional solution, but as a beginner you may want craft those things yourself to learn it.</p>\n"},{"tags":[],"owner":{"account_id":4914668,"reputation":29,"user_id":3958896,"accept_rate":25,"display_name":"Vishu"},"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1417087336,"creation_date":1417087336,"answer_id":27169497,"question_id":27169234,"body_markdown":"        String [] str = new String[]{&quot;1some&quot;, &quot;2some&quot;, &quot;20some&quot;, &quot;21some&quot;, &quot;3some&quot;, &quot;some&quot;};\r\n        List&lt;String&gt; list = Arrays.asList(str);\r\n\r\n        Collections.sort(list, String.CASE_INSENSITIVE_ORDER);\r\n        System.out.println(list);","title":"How to sort Alphanumeric String","body":"<pre><code>    String [] str = new String[]{\"1some\", \"2some\", \"20some\", \"21some\", \"3some\", \"some\"};\n    List&lt;String&gt; list = Arrays.asList(str);\n\n    Collections.sort(list, String.CASE_INSENSITIVE_ORDER);\n    System.out.println(list);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1417089240,"creation_date":1417087376,"answer_id":27169507,"question_id":27169234,"body_markdown":"Here is a self-contained example on how to do this (not particularly optimized):\r\n\r\n    final Pattern p = Pattern.compile(&quot;^\\\\d+&quot;);\r\n    String[] examples = { \r\n       &quot;1some&quot;, &quot;2some&quot;, &quot;20some&quot;, &quot;21some&quot;, &quot;3some&quot;, &quot;some&quot;, &quot;1abc&quot;, &quot;abc&quot;\r\n    };\r\n    Comparator&lt;String&gt; c = new Comparator&lt;String&gt;() {\r\n    \t@Override\r\n    \tpublic int compare(String object1, String object2) {\r\n    \t\tMatcher m = p.matcher(object1);\r\n    \t\tInteger number1 = null;\r\n    \t\tif (!m.find()) {\r\n    \t\t\treturn object1.compareTo(object2);\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tInteger number2 = null;\r\n    \t\t\tnumber1 = Integer.parseInt(m.group());\r\n    \t\t\tm = p.matcher(object2);\r\n    \t\t\tif (!m.find()) {\r\n    \t\t\t\treturn object1.compareTo(object2);\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\tnumber2 = Integer.parseInt(m.group());\r\n    \t\t\t\tint comparison = number1.compareTo(number2);\r\n    \t\t\t\tif (comparison != 0) {\r\n    \t\t\t\t\treturn comparison;\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\treturn object1.compareTo(object2);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    };\r\n    List&lt;String&gt; examplesList = new ArrayList&lt;String&gt;(Arrays.asList(examples));\r\n    Collections.sort(examplesList, c);\r\n    System.out.println(examplesList);\r\n\r\n**Output**\r\n\r\n    [1abc, 1some, 2some, 3some, 20some, 21some, abc, some]\r\n\r\n**Explanation**\r\n\r\n - The example uses a constant `Pattern` to infer whether a number is in the `String`&#39;s starting position.\r\n - If not present in the first `String`, it compares it as is to the second.\r\n - If present indeed in the first, it checks the second.\r\n - If not present in the second, it compares the two `String`s as is, again\r\n - If present in both, it compares the `Integer`s instead of the whole `String`s, hence resulting in a numerical comparison rather than a lexicographical one\r\n - If the number compare identical, it goes back to lexicographic comparison of the whole `String`s (thanks [MihaiC](https://stackoverflow.com/users/3826188/mihaic) for spotting this one)","title":"How to sort Alphanumeric String","body":"<p>Here is a self-contained example on how to do this (not particularly optimized):</p>\n\n<pre><code>final Pattern p = Pattern.compile(\"^\\\\d+\");\nString[] examples = { \n   \"1some\", \"2some\", \"20some\", \"21some\", \"3some\", \"some\", \"1abc\", \"abc\"\n};\nComparator&lt;String&gt; c = new Comparator&lt;String&gt;() {\n    @Override\n    public int compare(String object1, String object2) {\n        Matcher m = p.matcher(object1);\n        Integer number1 = null;\n        if (!m.find()) {\n            return object1.compareTo(object2);\n        }\n        else {\n            Integer number2 = null;\n            number1 = Integer.parseInt(m.group());\n            m = p.matcher(object2);\n            if (!m.find()) {\n                return object1.compareTo(object2);\n            }\n            else {\n                number2 = Integer.parseInt(m.group());\n                int comparison = number1.compareTo(number2);\n                if (comparison != 0) {\n                    return comparison;\n                }\n                else {\n                    return object1.compareTo(object2);\n                }\n            }\n        }\n    }\n};\nList&lt;String&gt; examplesList = new ArrayList&lt;String&gt;(Arrays.asList(examples));\nCollections.sort(examplesList, c);\nSystem.out.println(examplesList);\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[1abc, 1some, 2some, 3some, 20some, 21some, abc, some]\n</code></pre>\n\n<p><strong>Explanation</strong></p>\n\n<ul>\n<li>The example uses a constant <code>Pattern</code> to infer whether a number is in the <code>String</code>'s starting position.</li>\n<li>If not present in the first <code>String</code>, it compares it as is to the second.</li>\n<li>If present indeed in the first, it checks the second.</li>\n<li>If not present in the second, it compares the two <code>String</code>s as is, again</li>\n<li>If present in both, it compares the <code>Integer</code>s instead of the whole <code>String</code>s, hence resulting in a numerical comparison rather than a lexicographical one</li>\n<li>If the number compare identical, it goes back to lexicographic comparison of the whole <code>String</code>s (thanks <a href=\"https://stackoverflow.com/users/3826188/mihaic\">MihaiC</a> for spotting this one)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2417794,"reputation":2126,"user_id":2111482,"display_name":"Roshith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417087527,"creation_date":1417087527,"answer_id":27169559,"question_id":27169234,"body_markdown":"You can&#39;t use the default String compareTo() instead need compare the Strings following the below algorithm.\r\n\r\n1. Loop through the first and second String  character by character and get a chunk of all strings or numbers\r\n2. Check if the chunks are numbers or strings \r\n3. If numbers sort numerically else use String compareTo()\r\n\r\nRepeat the steps.\r\n\r\n\r\n\r\n","title":"How to sort Alphanumeric String","body":"<p>You can't use the default String compareTo() instead need compare the Strings following the below algorithm.</p>\n\n<ol>\n<li>Loop through the first and second String  character by character and get a chunk of all strings or numbers</li>\n<li>Check if the chunks are numbers or strings </li>\n<li>If numbers sort numerically else use String compareTo()</li>\n</ol>\n\n<p>Repeat the steps.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1417089184,"creation_date":1417088839,"answer_id":27170019,"question_id":27169234,"body_markdown":"First make an alphanumerical comparator splitting the string in String or Integer parts.\r\n\r\n    public class AlphaNumericalComparator implements Comparator&lt;String&gt; {\r\n        @Override\r\n        public int compare(String o1, String o2) {\r\n            List&lt;Object&gt; parts1 = partsOf(o1);\r\n            List&lt;Object&gt; parts2 = partsOf(o2);\r\n            while (!parts1.isEmpty() &amp;&amp; !parts2.isEmpty()) {\r\n                Object part1 = parts1.remove(0);\r\n                Object part2 = parts2.remove(0);\r\n                int cmp = 0;\r\n                if (part1 instanceof Integer &amp;&amp; part2 instanceof Integer) {\r\n                    cmp = Integer.compare((Integer)part1, (Integer)part2);\r\n                } else if (part1 instanceof String &amp;&amp; part2 instanceof String) {\r\n                    cmp = ((String) part1).compareTo((String) part2);\r\n                } else {\r\n                    cmp = part1 instanceof String ? 1 : -1; // XXXa &gt; XXX1\r\n                }\r\n                if (cmp != 0) {\r\n                    return cmp;\r\n                }\r\n            }\r\n            if (parts1.isEmpty() &amp;&amp; parts2.isEmpty()) {\r\n                return 0;\r\n            }\r\n            return parts1.isEmpty() ? -1 : 1;\r\n        }\r\n        \r\n        private List&lt;Object&gt; partsOf(String s) {\r\n            List&lt;Object&gt; parts = new LinkedList&lt;&gt;();\r\n            int pos0 = 0;\r\n            int pos = 0;\r\n            boolean wasDigit = false;\r\n            while (true) {\r\n                if (pos &gt;= s.length()\r\n                        || Character.isDigit(s.charAt(pos)) != wasDigit) {\r\n                    if (pos &gt; pos0) {\r\n                        String part = s.substring(pos0, pos);\r\n                        parts.add(wasDigit? Integer.valueOf(part) : part);\r\n                        pos0 = pos;\r\n                    }\r\n                    if (pos &gt;= s.length()) {\r\n                        break;\r\n                    }\r\n                    wasDigit = !wasDigit;\r\n                }\r\n                ++pos;\r\n            }\r\n            return parts;\r\n        }\r\n    };\r\n\r\nThen use this comparator in your own one, in Java 8 you may simply use Comparator&#39;s static methods.","title":"How to sort Alphanumeric String","body":"<p>First make an alphanumerical comparator splitting the string in String or Integer parts.</p>\n\n<pre><code>public class AlphaNumericalComparator implements Comparator&lt;String&gt; {\n    @Override\n    public int compare(String o1, String o2) {\n        List&lt;Object&gt; parts1 = partsOf(o1);\n        List&lt;Object&gt; parts2 = partsOf(o2);\n        while (!parts1.isEmpty() &amp;&amp; !parts2.isEmpty()) {\n            Object part1 = parts1.remove(0);\n            Object part2 = parts2.remove(0);\n            int cmp = 0;\n            if (part1 instanceof Integer &amp;&amp; part2 instanceof Integer) {\n                cmp = Integer.compare((Integer)part1, (Integer)part2);\n            } else if (part1 instanceof String &amp;&amp; part2 instanceof String) {\n                cmp = ((String) part1).compareTo((String) part2);\n            } else {\n                cmp = part1 instanceof String ? 1 : -1; // XXXa &gt; XXX1\n            }\n            if (cmp != 0) {\n                return cmp;\n            }\n        }\n        if (parts1.isEmpty() &amp;&amp; parts2.isEmpty()) {\n            return 0;\n        }\n        return parts1.isEmpty() ? -1 : 1;\n    }\n\n    private List&lt;Object&gt; partsOf(String s) {\n        List&lt;Object&gt; parts = new LinkedList&lt;&gt;();\n        int pos0 = 0;\n        int pos = 0;\n        boolean wasDigit = false;\n        while (true) {\n            if (pos &gt;= s.length()\n                    || Character.isDigit(s.charAt(pos)) != wasDigit) {\n                if (pos &gt; pos0) {\n                    String part = s.substring(pos0, pos);\n                    parts.add(wasDigit? Integer.valueOf(part) : part);\n                    pos0 = pos;\n                }\n                if (pos &gt;= s.length()) {\n                    break;\n                }\n                wasDigit = !wasDigit;\n            }\n            ++pos;\n        }\n        return parts;\n    }\n};\n</code></pre>\n\n<p>Then use this comparator in your own one, in Java 8 you may simply use Comparator's static methods.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521002748,"creation_date":1417099651,"answer_id":27173320,"question_id":27169234,"body_markdown":"You can do the core of it in one line using regex to extract the numeric part:\r\n\r\n    Collections.sort(selectedNodes, new Comparator&lt;DefaultMutableTreeNode&gt;() {\r\n        @Override\r\n        public int compare(DefaultMutableTreeNode o1,\r\n            DefaultMutableTreeNode o2) {\r\n            return Integer.parseInt(o1.getUserObject().toString().replaceAll(&quot;\\\\D&quot;, &quot;&quot;)) -\r\n                Integer.parseInt(o2.getUserObject().toString().replaceAll(&quot;\\\\D&quot;, &quot;&quot;));\r\n        }\r\n    });","title":"How to sort Alphanumeric String","body":"<p>You can do the core of it in one line using regex to extract the numeric part:</p>\n\n<pre><code>Collections.sort(selectedNodes, new Comparator&lt;DefaultMutableTreeNode&gt;() {\n    @Override\n    public int compare(DefaultMutableTreeNode o1,\n        DefaultMutableTreeNode o2) {\n        return Integer.parseInt(o1.getUserObject().toString().replaceAll(\"\\\\D\", \"\")) -\n            Integer.parseInt(o2.getUserObject().toString().replaceAll(\"\\\\D\", \"\"));\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7587839,"reputation":513,"user_id":5756353,"display_name":"RookRaven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531807300,"creation_date":1531807300,"answer_id":51374219,"question_id":27169234,"body_markdown":"This is a working solution is Java. If you have any suggestions on the code, please let me know on my [Gist][1].\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class FB {\r\n    \r\n    \tpublic static int comparator(String s1, String s2) {\r\n    \r\n    \t\tString[] pt1 = s1.split(&quot;((?&lt;=[a-z])(?=[0-9]))|((?&lt;=[0-9])(?=[a-z]))&quot;); \r\n    \t\tString[] pt2 = s2.split(&quot;((?&lt;=[a-z])(?=[0-9]))|((?&lt;=[0-9])(?=[a-z]))&quot;); \r\n    //pt1 and pt2 arrays will have the string split in alphabets and numbers\r\n\r\n    \t\tint i=0;\r\n    \t\tif(Arrays.equals(pt1, pt2))\r\n    \t\t\treturn 0;\r\n    \t\telse{\r\n    \t\t\tfor(i=0;i&lt;Math.min(pt1.length, pt2.length);i++)\r\n    \t\t\t\tif(!pt1[i].equals(pt2[i])) {\r\n    \t\t\t\t\tif(!isNumber(pt1[i],pt2[i])) {\r\n    \t\t\t\t\t\tif(pt1[i].compareTo(pt2[i])&gt;0)\r\n    \t\t\t\t\t\t\treturn 1;\r\n    \t\t\t\t\t\telse\r\n    \t\t\t\t\t\t\treturn -1;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse {\r\n    \t\t\t\t\t\tint nu1 = Integer.parseInt(pt1[i]);\r\n    \t\t\t\t\t\tint nu2 = Integer.parseInt(pt2[i]);\r\n    \t\t\t\t\t\tif(nu1&gt;nu2)\r\n    \t\t\t\t\t\t\treturn 1;\r\n    \t\t\t\t\t\telse\r\n    \t\t\t\t\t\t\treturn -1;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tif(pt1.length&gt;i)\r\n    \t\t\treturn 1;\r\n    \t\telse\r\n    \t\t\treturn -1;\r\n    \t}\r\n    \r\n    \tprivate static Boolean isNumber(String n1, String n2) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\ttry {\r\n    \t\t\tint nu1 = Integer.parseInt(n1);\r\n    \t\t\tint nu2 = Integer.parseInt(n2);\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \t\tcatch(Exception x) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \r\n    \t\tString[] examples = {&quot;1some&quot;, &quot;2some&quot;, &quot;20some&quot;, &quot;21some&quot;, &quot;3some&quot;, &quot;some&quot;, &quot;1abc&quot;, &quot;abc&quot;};\r\n    \t\tList&lt;String&gt; values = new ArrayList&lt;String&gt;(Arrays.asList(examples));\r\n    \r\n    \t\tSystem.out.println(values);\r\n    \t\tComparator&lt;String&gt; com = (o1,o2) -&gt; {return comparator(o1,o2);}; //lambda expression\r\n    \r\n    \t\tCollections.sort(values,com);\r\n    \t\tSystem.out.println(values);\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    [1some, 2some, 20some, 21some, 3some, some, 1abc, abc]\r\n    [1abc, 1some, 2some, 3some, 20some, 21some, abc, some]\r\n\r\n  [1]: https://gist.github.com/akshaymnair/00a060b51d6d4e47fbc9d3dfcf99ef14\r\n","title":"How to sort Alphanumeric String","body":"<p>This is a working solution is Java. If you have any suggestions on the code, please let me know on my <a href=\"https://gist.github.com/akshaymnair/00a060b51d6d4e47fbc9d3dfcf99ef14\" rel=\"nofollow noreferrer\">Gist</a>.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class FB {\n\n    public static int comparator(String s1, String s2) {\n\n        String[] pt1 = s1.split(\"((?&lt;=[a-z])(?=[0-9]))|((?&lt;=[0-9])(?=[a-z]))\"); \n        String[] pt2 = s2.split(\"((?&lt;=[a-z])(?=[0-9]))|((?&lt;=[0-9])(?=[a-z]))\"); \n//pt1 and pt2 arrays will have the string split in alphabets and numbers\n\n        int i=0;\n        if(Arrays.equals(pt1, pt2))\n            return 0;\n        else{\n            for(i=0;i&lt;Math.min(pt1.length, pt2.length);i++)\n                if(!pt1[i].equals(pt2[i])) {\n                    if(!isNumber(pt1[i],pt2[i])) {\n                        if(pt1[i].compareTo(pt2[i])&gt;0)\n                            return 1;\n                        else\n                            return -1;\n                    }\n                    else {\n                        int nu1 = Integer.parseInt(pt1[i]);\n                        int nu2 = Integer.parseInt(pt2[i]);\n                        if(nu1&gt;nu2)\n                            return 1;\n                        else\n                            return -1;\n                    }\n                }\n        }\n\n        if(pt1.length&gt;i)\n            return 1;\n        else\n            return -1;\n    }\n\n    private static Boolean isNumber(String n1, String n2) {\n        // TODO Auto-generated method stub\n        try {\n            int nu1 = Integer.parseInt(n1);\n            int nu2 = Integer.parseInt(n2);\n            return true;\n        }\n        catch(Exception x) {\n            return false;\n        }\n\n    }\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n\n        String[] examples = {\"1some\", \"2some\", \"20some\", \"21some\", \"3some\", \"some\", \"1abc\", \"abc\"};\n        List&lt;String&gt; values = new ArrayList&lt;String&gt;(Arrays.asList(examples));\n\n        System.out.println(values);\n        Comparator&lt;String&gt; com = (o1,o2) -&gt; {return comparator(o1,o2);}; //lambda expression\n\n        Collections.sort(values,com);\n        System.out.println(values);\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[1some, 2some, 20some, 21some, 3some, some, 1abc, abc]\n[1abc, 1some, 2some, 3some, 20some, 21some, abc, some]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":363131,"reputation":2750,"user_id":706695,"accept_rate":78,"display_name":"HRgiger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550227935,"creation_date":1550227935,"answer_id":54707742,"question_id":27169234,"body_markdown":"If you know that pattern is always NUMALPHA or ALPHANUM and alpha always same:\r\n\r\n    if(str1.length() != str2.length()){\r\n       return str1.length() - str2.length();\r\n    }\r\n    \r\n    return str1.compareTo(str2);","title":"How to sort Alphanumeric String","body":"<p>If you know that pattern is always NUMALPHA or ALPHANUM and alpha always same:</p>\n\n<pre><code>if(str1.length() != str2.length()){\n   return str1.length() - str2.length();\n}\n\nreturn str1.compareTo(str2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13807269,"reputation":11,"user_id":9965795,"display_name":"Yash Srivastav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562324121,"creation_date":1562323802,"answer_id":56901608,"question_id":27169234,"body_markdown":"If you have alphanumeric string array you can directly sort it by using \r\n    \r\n    Arrays.sort(Array_name)\r\nand \r\nthen to print:\r\n\r\n    for(String a : Array_name)\r\n        System.out.print(a);\r\n","title":"How to sort Alphanumeric String","body":"<p>If you have alphanumeric string array you can directly sort it by using </p>\n\n<pre><code>Arrays.sort(Array_name)\n</code></pre>\n\n<p>and \nthen to print:</p>\n\n<pre><code>for(String a : Array_name)\n    System.out.print(a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10942972,"reputation":127,"user_id":8042132,"display_name":"Govind Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1573549678,"creation_date":1573288304,"answer_id":58777625,"question_id":27169234,"body_markdown":"\r\n\r\n&gt; How to Sort String,AlphaNumeric and Numeric value in Java using\r\n&gt; Comparator\r\n\r\n \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class AlphaNumericSorting {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tfinal Pattern p = Pattern.compile(&quot;^\\\\d+&quot;);\r\n    \t\tString[] examples = { &quot;CD&quot;, &quot;DE&quot;, &quot;0A&quot;, &quot;0B&quot;, &quot;0C&quot;, &quot;12&quot;, &quot;0K&quot;, &quot;TA&quot;, &quot;0D&quot;, &quot;01&quot;, &quot;02&quot;, &quot;11&quot;, &quot;AB&quot;, &quot;MN&quot; };\r\n    \t\tComparator&lt;String&gt; c = new Comparator&lt;String&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic int compare(String object1, String object2) {\r\n    \t\t\t\tMatcher m = p.matcher(object1);\r\n    \t\t\t\tInteger number1 = null;\r\n    \t\t\t\tif (!m.find()) {\r\n    \t\t\t\t\tMatcher m1 = p.matcher(object2);\r\n    \t\t\t\t\tif (m1.find()) {\r\n    \t\t\t\t\t\treturn object2.compareTo(object1);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\treturn object1.compareTo(object2);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tInteger number2 = null;\r\n    \t\t\t\t\tnumber1 = Integer.parseInt(m.group());\r\n    \t\t\t\t\tm = p.matcher(object2);\r\n    \t\t\t\t\tif (!m.find()) {\r\n    \t\t\t\t\t\t// return object1.compareTo(object2);\r\n    \t\t\t\t\t\tMatcher m1 = p.matcher(object1);\r\n    \t\t\t\t\t\tif (m1.find()) {\r\n    \t\t\t\t\t\t\treturn object2.compareTo(object1);\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\treturn object1.compareTo(object2);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tnumber2 = Integer.parseInt(m.group());\r\n    \t\t\t\t\t\tint comparison = number1.compareTo(number2);\r\n    \t\t\t\t\t\tif (comparison != 0) {\r\n    \t\t\t\t\t\t\treturn comparison;\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\treturn object1.compareTo(object2);\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tList&lt;String&gt; examplesList = new ArrayList&lt;String&gt;(Arrays.asList(examples));\r\n    \t\tCollections.sort(examplesList, c);\r\n    \t\tSystem.out.println(examplesList);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\nOUTPUT:-\r\n\r\n**[AB, CD, DE, MN, TA, 0A, 0B, 0C, 0D, 0K, 01, 02, 11, 12**]","title":"How to sort Alphanumeric String","body":"<blockquote>\n  <p>How to Sort String,AlphaNumeric and Numeric value in Java using\n  Comparator</p>\n</blockquote>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class AlphaNumericSorting {\n    public static void main(String[] args) {\n        final Pattern p = Pattern.compile(\"^\\\\d+\");\n        String[] examples = { \"CD\", \"DE\", \"0A\", \"0B\", \"0C\", \"12\", \"0K\", \"TA\", \"0D\", \"01\", \"02\", \"11\", \"AB\", \"MN\" };\n        Comparator&lt;String&gt; c = new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String object1, String object2) {\n                Matcher m = p.matcher(object1);\n                Integer number1 = null;\n                if (!m.find()) {\n                    Matcher m1 = p.matcher(object2);\n                    if (m1.find()) {\n                        return object2.compareTo(object1);\n                    } else {\n                        return object1.compareTo(object2);\n                    }\n                } else {\n                    Integer number2 = null;\n                    number1 = Integer.parseInt(m.group());\n                    m = p.matcher(object2);\n                    if (!m.find()) {\n                        // return object1.compareTo(object2);\n                        Matcher m1 = p.matcher(object1);\n                        if (m1.find()) {\n                            return object2.compareTo(object1);\n                        } else {\n                            return object1.compareTo(object2);\n                        }\n                    } else {\n                        number2 = Integer.parseInt(m.group());\n                        int comparison = number1.compareTo(number2);\n                        if (comparison != 0) {\n                            return comparison;\n                        } else {\n                            return object1.compareTo(object2);\n                        }\n                    }\n                }\n            }\n        };\n        List&lt;String&gt; examplesList = new ArrayList&lt;String&gt;(Arrays.asList(examples));\n        Collections.sort(examplesList, c);\n        System.out.println(examplesList);\n    }\n}\n</code></pre>\n\n<p>OUTPUT:-</p>\n\n<p><strong>[AB, CD, DE, MN, TA, 0A, 0B, 0C, 0D, 0K, 01, 02, 11, 12</strong>]</p>\n"},{"tags":[],"owner":{"account_id":5946082,"reputation":13,"user_id":4675543,"display_name":"Yonchev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688827840,"creation_date":1688827840,"answer_id":76643510,"question_id":27169234,"body_markdown":"I use this comparator for order first numeric and then alphabet\r\n\r\n    public class NumericAlphaComparator implements Comparator&lt;String&gt; {\r\n\r\n    @Override\r\n    public int compare(String o1, String o2) {\r\n        int pos1 = 0;\r\n        int pos2 = 0;\r\n\r\n        while (pos1 &lt; o1.length() &amp;&amp; pos2 &lt; o2.length()) {\r\n            char c1 = o1.charAt(pos1);\r\n            char c2 = o2.charAt(pos2);\r\n\r\n            if (Character.isDigit(c1) &amp;&amp; Character.isDigit(c2)) {\r\n                // Both characters are digits, compare numerically\r\n                int num1 = extractNumber(o1, pos1);\r\n                int num2 = extractNumber(o2, pos2);\r\n\r\n                if (num1 != num2) {\r\n                    return Integer.compare(num1, num2);\r\n                }\r\n            } else {\r\n                // One or both characters are non-digits, compare lexicographically\r\n                int cmp = Character.compare(c1, c2);\r\n                if (cmp != 0) {\r\n                    return cmp;\r\n                }\r\n            }\r\n\r\n            pos1++;\r\n            pos2++;\r\n        }\r\n\r\n        // Handle the case where one string is a prefix of the other\r\n        if (pos1 == o1.length() &amp;&amp; pos2 == o2.length()) {\r\n            return 0;\r\n        } else {\r\n            return pos1 == o1.length() ? -1 : 1;\r\n        }\r\n    }\r\n\r\n    private int extractNumber(String s, int startPos) {\r\n        int num = 0;\r\n        while (startPos &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(startPos))) {\r\n            num = num * 10 + (s.charAt(startPos) - &#39;0&#39;);\r\n            startPos++;\r\n        }\r\n        return num;\r\n    }\r\n}\r\n","title":"How to sort Alphanumeric String","body":"<p>I use this comparator for order first numeric and then alphabet</p>\n<pre><code>public class NumericAlphaComparator implements Comparator&lt;String&gt; {\n\n@Override\npublic int compare(String o1, String o2) {\n    int pos1 = 0;\n    int pos2 = 0;\n\n    while (pos1 &lt; o1.length() &amp;&amp; pos2 &lt; o2.length()) {\n        char c1 = o1.charAt(pos1);\n        char c2 = o2.charAt(pos2);\n\n        if (Character.isDigit(c1) &amp;&amp; Character.isDigit(c2)) {\n            // Both characters are digits, compare numerically\n            int num1 = extractNumber(o1, pos1);\n            int num2 = extractNumber(o2, pos2);\n\n            if (num1 != num2) {\n                return Integer.compare(num1, num2);\n            }\n        } else {\n            // One or both characters are non-digits, compare lexicographically\n            int cmp = Character.compare(c1, c2);\n            if (cmp != 0) {\n                return cmp;\n            }\n        }\n\n        pos1++;\n        pos2++;\n    }\n\n    // Handle the case where one string is a prefix of the other\n    if (pos1 == o1.length() &amp;&amp; pos2 == o2.length()) {\n        return 0;\n    } else {\n        return pos1 == o1.length() ? -1 : 1;\n    }\n}\n\nprivate int extractNumber(String s, int startPos) {\n    int num = 0;\n    while (startPos &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(startPos))) {\n        num = num * 10 + (s.charAt(startPos) - '0');\n        startPos++;\n    }\n    return num;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":5399543,"reputation":173,"user_id":4299771,"accept_rate":80,"display_name":"Thaven"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50637,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":27169507,"answer_count":12,"score":15,"last_activity_date":1688827840,"creation_date":1417086606,"question_id":27169234,"body_markdown":"I have a problem with sorting strings which include integers. If I use the below code I get sorting like:\r\n1some, 2some, 20some, 21some, 3some, some\r\n\r\nHowever I want it sorted like:\r\n1some, 2some, 3some, 20some, 21some, some\r\n\r\nHow can I do this?\r\n\r\nThanks!\r\n\r\n    Collections.sort(selectedNodes,\r\n    \tnew Comparator&lt;DefaultMutableTreeNode&gt;() {\r\n    \t@Override\r\n    \tpublic int compare(DefaultMutableTreeNode o1,\r\n    \t\tDefaultMutableTreeNode o2) {\r\n    \t\treturn o1.getUserObject().toString()\r\n    \t\t\t.compareTo(o2.getUserObject().toString());\r\n    \t}\r\n    \t});\r\n","title":"How to sort Alphanumeric String","body":"<p>I have a problem with sorting strings which include integers. If I use the below code I get sorting like:\n1some, 2some, 20some, 21some, 3some, some</p>\n\n<p>However I want it sorted like:\n1some, 2some, 3some, 20some, 21some, some</p>\n\n<p>How can I do this?</p>\n\n<p>Thanks!</p>\n\n<pre><code>Collections.sort(selectedNodes,\n    new Comparator&lt;DefaultMutableTreeNode&gt;() {\n    @Override\n    public int compare(DefaultMutableTreeNode o1,\n        DefaultMutableTreeNode o2) {\n        return o1.getUserObject().toString()\n            .compareTo(o2.getUserObject().toString());\n    }\n    });\n</code></pre>\n"},{"tags":["java","android","action","sharing"],"owner":{"account_id":28976336,"reputation":1,"user_id":22195356,"display_name":"Nael Aljamal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688827478,"creation_date":1688827478,"question_id":76643493,"body_markdown":"&quot;If I click on any photo and start swiping left or right, and then click on &#39;save,&#39; &#39;share,&#39; or &#39;set as wallpaper,&#39; it executes the action on the first photo I clicked.&quot;\r\n\r\n&quot;I&#39;m using Java code on the Android Studio platform.&quot;\r\n\r\nUpdate the onInterceptTouchEvent() method","title":"Photo Interaction Bug: Actions Executed on Initial Selection Instead of Current Photo","body":"<p>&quot;If I click on any photo and start swiping left or right, and then click on 'save,' 'share,' or 'set as wallpaper,' it executes the action on the first photo I clicked.&quot;</p>\n<p>&quot;I'm using Java code on the Android Studio platform.&quot;</p>\n<p>Update the onInterceptTouchEvent() method</p>\n"},{"tags":["java","spring-boot","autowired","feign"],"owner":{"account_id":19829315,"reputation":88,"user_id":14524260,"display_name":"Meg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688827455,"creation_date":1688827455,"question_id":76643491,"body_markdown":"I am trying to autowire FineractServiceOpenFeign and ClientRepository but it&#39;s not getting autowired and throwing null pointer exception.Can someone please help in checking? I tried using @ComponentScan due to several modules and packages but it&#39;s still not working.\r\n```\r\npackage org.mifos.chatbot.server.service.Impl;\r\n\r\n\r\nimport org.mifos.chatbot.server.repository.ClientRepository;\r\nimport org.mifos.chatbot.server.service.FineractService;\r\nimport org.mifos.chatbot.server.config.openFeign.FineractServiceOpenFeign;\r\nimport org.mifos.chatbot.server.model.Client;\r\nimport org.mifos.chatbot.server.model.Tracker;\r\nimport org.mifos.chatbot.server.request.PostAuthenticationRequest;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class FineractServiceImpl implements FineractService {\r\n\r\n   @Autowired\r\n   private ClientRepository clientRepository;\r\n   @Autowired\r\n   private FineractServiceOpenFeign openFeign;\r\n\r\n    @Override\r\n    public void authorization(String text) {\r\n        String[] splitString = text.split(&quot;\\\\:&quot;);\r\n\r\n        if (splitString.length &gt;= 2) {\r\n            String adminUsername = splitString[1];\r\n            String adminPassword = splitString[2];\r\n            String clientUsername = splitString[3];\r\n\r\n            // TODO add logging\r\n            PostAuthenticationRequest request = PostAuthenticationRequest.builder()\r\n                    .username(adminUsername)\r\n                    .password(adminPassword)\r\n                    .build();\r\n            // TODO check if tenantIdentifier will always be default\r\n//            ResponseEntity feignResponse = openFeign.authenticate\r\n//                    (request, &quot;default&quot;);\r\n            // TODO verify the client exists\r\n            //if(feignResponse.getStatusCode().value() == 200) {\r\n            if(true) {\r\n                Client client = Client.builder()\r\n                        .adminUsername(adminUsername)\r\n                        .adminPassword(adminPassword)\r\n                        .clientUsername(clientUsername)\r\n                        .build();\r\n                clientRepository.save(client);\r\n                // TODO any values that need to be saved in db? What are next steps?\r\n            }\r\n            else {\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void getLoanStatus(Tracker tracker) {\r\n        // 1. find list of loans\r\n        ResponseEntity feignResponse = openFeign.getLoan(226, &quot;default&quot;);\r\n        if(feignResponse.getStatusCode().value() == 200) {\r\n\r\n        }\r\n        else {\r\n\r\n        }\r\n\r\n        // 2. if only one item then return the loan status and call loan/{id} api\r\n        // 3. if multiple items then ask the loan id\r\n        // 4. call loan/{id} api\r\n    }\r\n}\r\n```\r\n```\r\npackage org.mifos.chatbot.server;\r\n\r\nimport org.mifos.chatbot.server.config.openFeign.FineractServiceOpenFeign;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\r\nimport org.springframework.cloud.openfeign.EnableFeignClients;\r\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@EnableSwagger2\r\n@EnableFeignClients({&quot;org.mifos&quot;})\r\n@EnableMongoRepositories(basePackages = &quot;org.mifos&quot;)\r\n@SpringBootApplication(scanBasePackages = {\r\n        &quot;org.mifos.chatbot.server.service&quot;,\r\n        &quot;org.mifos.chatbot.server.repository&quot;,\r\n        &quot;org.mifos.chatbot.server&quot;})\r\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\r\npublic class ChatbotApplication {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(ChatbotApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n```\r\npackage org.mifos.chatbot.server.repository;\r\n\r\nimport org.mifos.chatbot.server.model.Client;\r\nimport org.springframework.data.mongodb.repository.MongoRepository;\r\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@EnableMongoRepositories\r\n@Repository\r\npublic interface ClientRepository extends MongoRepository&lt;Client, String&gt; {\r\n\r\n}\r\n```\r\n```\r\npackage org.mifos.chatbot.server.config.openFeign;\r\n\r\nimport org.mifos.chatbot.server.request.PostAuthenticationRequest;\r\nimport org.springframework.cloud.openfeign.FeignClient;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Component;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\n@FeignClient(name=&quot;fineract-provider&quot;, url = &quot;https://localhost:8080/fineract-provider/api&quot;)\r\n@Component\r\npublic interface FineractServiceOpenFeign {\r\n    @PostMapping(value = &quot;/v1/authentication&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; authenticate(@RequestBody PostAuthenticationRequest request, @RequestParam String tenantIdentifier);\r\n\r\n    @GetMapping(value = &quot;v1/self/loans/{loanId}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public ResponseEntity&lt;String&gt; getLoan(@PathVariable Integer loanId, @RequestParam String tenantIdentifier);\r\n}\r\n```\r\nThis is the structure of my server module that has all the above files \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T8YGY.png","title":"Cannot autowire ClientRepository and FineractServiceOpenFeign","body":"<p>I am trying to autowire FineractServiceOpenFeign and ClientRepository but it's not getting autowired and throwing null pointer exception.Can someone please help in checking? I tried using @ComponentScan due to several modules and packages but it's still not working.</p>\n<pre><code>package org.mifos.chatbot.server.service.Impl;\n\n\nimport org.mifos.chatbot.server.repository.ClientRepository;\nimport org.mifos.chatbot.server.service.FineractService;\nimport org.mifos.chatbot.server.config.openFeign.FineractServiceOpenFeign;\nimport org.mifos.chatbot.server.model.Client;\nimport org.mifos.chatbot.server.model.Tracker;\nimport org.mifos.chatbot.server.request.PostAuthenticationRequest;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class FineractServiceImpl implements FineractService {\n\n   @Autowired\n   private ClientRepository clientRepository;\n   @Autowired\n   private FineractServiceOpenFeign openFeign;\n\n    @Override\n    public void authorization(String text) {\n        String[] splitString = text.split(&quot;\\\\:&quot;);\n\n        if (splitString.length &gt;= 2) {\n            String adminUsername = splitString[1];\n            String adminPassword = splitString[2];\n            String clientUsername = splitString[3];\n\n            // TODO add logging\n            PostAuthenticationRequest request = PostAuthenticationRequest.builder()\n                    .username(adminUsername)\n                    .password(adminPassword)\n                    .build();\n            // TODO check if tenantIdentifier will always be default\n//            ResponseEntity feignResponse = openFeign.authenticate\n//                    (request, &quot;default&quot;);\n            // TODO verify the client exists\n            //if(feignResponse.getStatusCode().value() == 200) {\n            if(true) {\n                Client client = Client.builder()\n                        .adminUsername(adminUsername)\n                        .adminPassword(adminPassword)\n                        .clientUsername(clientUsername)\n                        .build();\n                clientRepository.save(client);\n                // TODO any values that need to be saved in db? What are next steps?\n            }\n            else {\n\n            }\n        }\n    }\n\n    @Override\n    public void getLoanStatus(Tracker tracker) {\n        // 1. find list of loans\n        ResponseEntity feignResponse = openFeign.getLoan(226, &quot;default&quot;);\n        if(feignResponse.getStatusCode().value() == 200) {\n\n        }\n        else {\n\n        }\n\n        // 2. if only one item then return the loan status and call loan/{id} api\n        // 3. if multiple items then ask the loan id\n        // 4. call loan/{id} api\n    }\n}\n</code></pre>\n<pre><code>package org.mifos.chatbot.server;\n\nimport org.mifos.chatbot.server.config.openFeign.FineractServiceOpenFeign;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.ImportAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.domain.EntityScan;\nimport org.springframework.cloud.openfeign.EnableFeignClients;\nimport org.springframework.cloud.openfeign.FeignAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@EnableSwagger2\n@EnableFeignClients({&quot;org.mifos&quot;})\n@EnableMongoRepositories(basePackages = &quot;org.mifos&quot;)\n@SpringBootApplication(scanBasePackages = {\n        &quot;org.mifos.chatbot.server.service&quot;,\n        &quot;org.mifos.chatbot.server.repository&quot;,\n        &quot;org.mifos.chatbot.server&quot;})\n@ImportAutoConfiguration({FeignAutoConfiguration.class})\npublic class ChatbotApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(ChatbotApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>package org.mifos.chatbot.server.repository;\n\nimport org.mifos.chatbot.server.model.Client;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.data.mongodb.repository.config.EnableMongoRepositories;\nimport org.springframework.stereotype.Repository;\n\n@EnableMongoRepositories\n@Repository\npublic interface ClientRepository extends MongoRepository&lt;Client, String&gt; {\n\n}\n</code></pre>\n<pre><code>package org.mifos.chatbot.server.config.openFeign;\n\nimport org.mifos.chatbot.server.request.PostAuthenticationRequest;\nimport org.springframework.cloud.openfeign.FeignClient;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.bind.annotation.*;\n\n@FeignClient(name=&quot;fineract-provider&quot;, url = &quot;https://localhost:8080/fineract-provider/api&quot;)\n@Component\npublic interface FineractServiceOpenFeign {\n    @PostMapping(value = &quot;/v1/authentication&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String&gt; authenticate(@RequestBody PostAuthenticationRequest request, @RequestParam String tenantIdentifier);\n\n    @GetMapping(value = &quot;v1/self/loans/{loanId}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    public ResponseEntity&lt;String&gt; getLoan(@PathVariable Integer loanId, @RequestParam String tenantIdentifier);\n}\n</code></pre>\n<p>This is the structure of my server module that has all the above files\n<a href=\"https://i.stack.imgur.com/T8YGY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T8YGY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-jdbc","dbunit","spring-test-dbunit","dbrider"],"answers":[{"tags":[],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688826952,"creation_date":1688826952,"answer_id":76643459,"question_id":76641181,"body_markdown":"After searching all over the places I found [this][1] issue. Looks like `Database Rider` needs the binary data &quot;converted&quot; with (the popular) `Base 64` binary-to-text algorithm. I think that makes sense, but I was under the assumption that all configuration files would store the data, in exactly the same format as the database — but for binary data, they have a small &quot;indirection&quot; layer.\r\n\r\nAnyway, for my example, I took the `Lorem ipsum` string as my data source. I then converted this string to a bytes array: `new byte[] { 76, 111, 114, 101, 109, 32, 105, 112, 115, 117, 109 }`, and finally encoded the resultant bytes array into `Base64`: `TG9yZW0gaXBzdW0=` ...and that&#39;s how it should be stored in the configuration files for `Database Rider`.\r\n\r\n&gt; I use this snippet `Base64.getEncoder().encodeToString(&quot;Lorem ipsum&quot;.getBytes(StandardCharsets.UTF_8))` to do all the *conversion ceremony*.\r\n\r\n  [1]: https://github.com/database-rider/database-rider/issues/216","title":"How to represent a bytes array with DB Rider in YAML configuration","body":"<p>After searching all over the places I found <a href=\"https://github.com/database-rider/database-rider/issues/216\" rel=\"nofollow noreferrer\">this</a> issue. Looks like <code>Database Rider</code> needs the binary data &quot;converted&quot; with (the popular) <code>Base 64</code> binary-to-text algorithm. I think that makes sense, but I was under the assumption that all configuration files would store the data, in exactly the same format as the database — but for binary data, they have a small &quot;indirection&quot; layer.</p>\n<p>Anyway, for my example, I took the <code>Lorem ipsum</code> string as my data source. I then converted this string to a bytes array: <code>new byte[] { 76, 111, 114, 101, 109, 32, 105, 112, 115, 117, 109 }</code>, and finally encoded the resultant bytes array into <code>Base64</code>: <code>TG9yZW0gaXBzdW0=</code> ...and that's how it should be stored in the configuration files for <code>Database Rider</code>.</p>\n<blockquote>\n<p>I use this snippet <code>Base64.getEncoder().encodeToString(&quot;Lorem ipsum&quot;.getBytes(StandardCharsets.UTF_8))</code> to do all the <em>conversion ceremony</em>.</p>\n</blockquote>\n"}],"owner":{"account_id":5973669,"reputation":6765,"user_id":4695271,"accept_rate":69,"display_name":"x80486"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76643459,"answer_count":1,"score":0,"last_activity_date":1688826952,"creation_date":1688785419,"question_id":76641181,"body_markdown":"I have a series of test cases using `Spring Jdbc`, `Database Rider`, and `H2` — with `Java 17.x`. Everything works fine, but I can&#39;t find a way to represent a byte array in the YAML configuration file :/\r\n\r\nThis is what I have:\r\n\r\n```java\r\n@Getter\r\n@Builder\r\npublic final class Category {\r\n  ...\r\n\r\n  private byte[] picture;\r\n}\r\n```\r\n\r\n```java\r\npublic class CategoryJdbc implements ICategoryJdbc {\r\n  private static final RowMapper&lt;Category&gt; ROW_MAPPER = (rs, rowNum) -&gt; Category.builder()\r\n      ...\r\n      .picture(rs.getBytes(&quot;picture&quot;))\r\n      .build();\r\n\r\n  private final NamedParameterJdbcTemplate template;\r\n\r\n  @Override\r\n  @Transactional(readOnly = true)\r\n  public Optional&lt;Category&gt; findById(final Long primaryKey) {\r\n    final var result = template.queryForObject(queries.getProperty(&quot;find-category-by-identifier&quot;),\r\n        new MapSqlParameterSource(&quot;id&quot;, primaryKey), ROW_MAPPER);\r\n    return Optional.ofNullable(result);\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@DBRider\r\n@ExtendWith(SpringExtension.class)\r\nclass CategoryJdbcTest {\r\n  @Autowired\r\n  private ICategoryJdbc jdbc;\r\n\r\n  @Test\r\n  @DataSet(&quot;categories.yml&quot;)\r\n  void findById_WhenEntityExists() {\r\n    Assertions.assertThat(jdbc.findById(1L)).hasValueSatisfying(it -&gt; {\r\n      Assertions.assertThat(it.getId()).isEqualTo(1);\r\n      Assertions.assertThat(it.getName()).isEqualTo(&quot;Beverages&quot;);\r\n      Assertions.assertThat(it.getDescription()).isEqualTo(&quot;Soft drinks, coffees, teas, beers, and ales&quot;);\r\n      Assertions.assertThat(it.getPicture())\r\n          .isEqualTo(new byte[] { 0x4c, 0x6f, 72, 65, 0x6d, 20, 69, 70, 73, 75, 0x6d });\r\n    });\r\n  }\r\n}\r\n\r\n```\r\n\r\n```yaml\r\ncategories:\r\n  - id: 1\r\n    name: &quot;Beverages&quot;\r\n    description: &quot;Soft drinks, coffees, teas, beers, and ales&quot;\r\n    picture: \\x4c6f72656d20697073756d # Lorem ipsum\r\n```\r\n\r\n&gt; For testing, I converted `Lorem ipsum` to a bytes array: `4c 6f 72 65 6d 20 69 70 73 75 6d`.\r\n\r\nDoes anyone knows how to represent the same in the YAML file, in such way that `rs.getBytes(&quot;picture&quot;)` interprets it correctly?\r\n\r\nI&#39;ve tested this with the built-in `H2` [binary data types][1] as well — because `bytea` is built-in a `PostgreSQL` data type, but looks like it works as well in `H2`, even though I don&#39;t see it listed in `H2`&#39;s website.\r\n\r\n  [1]: https://h2database.com/html/datatypes.html#binary_type","title":"How to represent a bytes array with DB Rider in YAML configuration","body":"<p>I have a series of test cases using <code>Spring Jdbc</code>, <code>Database Rider</code>, and <code>H2</code> — with <code>Java 17.x</code>. Everything works fine, but I can't find a way to represent a byte array in the YAML configuration file :/</p>\n<p>This is what I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Builder\npublic final class Category {\n  ...\n\n  private byte[] picture;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class CategoryJdbc implements ICategoryJdbc {\n  private static final RowMapper&lt;Category&gt; ROW_MAPPER = (rs, rowNum) -&gt; Category.builder()\n      ...\n      .picture(rs.getBytes(&quot;picture&quot;))\n      .build();\n\n  private final NamedParameterJdbcTemplate template;\n\n  @Override\n  @Transactional(readOnly = true)\n  public Optional&lt;Category&gt; findById(final Long primaryKey) {\n    final var result = template.queryForObject(queries.getProperty(&quot;find-category-by-identifier&quot;),\n        new MapSqlParameterSource(&quot;id&quot;, primaryKey), ROW_MAPPER);\n    return Optional.ofNullable(result);\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@DBRider\n@ExtendWith(SpringExtension.class)\nclass CategoryJdbcTest {\n  @Autowired\n  private ICategoryJdbc jdbc;\n\n  @Test\n  @DataSet(&quot;categories.yml&quot;)\n  void findById_WhenEntityExists() {\n    Assertions.assertThat(jdbc.findById(1L)).hasValueSatisfying(it -&gt; {\n      Assertions.assertThat(it.getId()).isEqualTo(1);\n      Assertions.assertThat(it.getName()).isEqualTo(&quot;Beverages&quot;);\n      Assertions.assertThat(it.getDescription()).isEqualTo(&quot;Soft drinks, coffees, teas, beers, and ales&quot;);\n      Assertions.assertThat(it.getPicture())\n          .isEqualTo(new byte[] { 0x4c, 0x6f, 72, 65, 0x6d, 20, 69, 70, 73, 75, 0x6d });\n    });\n  }\n}\n\n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>categories:\n  - id: 1\n    name: &quot;Beverages&quot;\n    description: &quot;Soft drinks, coffees, teas, beers, and ales&quot;\n    picture: \\x4c6f72656d20697073756d # Lorem ipsum\n</code></pre>\n<blockquote>\n<p>For testing, I converted <code>Lorem ipsum</code> to a bytes array: <code>4c 6f 72 65 6d 20 69 70 73 75 6d</code>.</p>\n</blockquote>\n<p>Does anyone knows how to represent the same in the YAML file, in such way that <code>rs.getBytes(&quot;picture&quot;)</code> interprets it correctly?</p>\n<p>I've tested this with the built-in <code>H2</code> <a href=\"https://h2database.com/html/datatypes.html#binary_type\" rel=\"nofollow noreferrer\">binary data types</a> as well — because <code>bytea</code> is built-in a <code>PostgreSQL</code> data type, but looks like it works as well in <code>H2</code>, even though I don't see it listed in <code>H2</code>'s website.</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":28942997,"reputation":171,"user_id":22169190,"display_name":"Medzila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688769654,"creation_date":1688769654,"answer_id":76640574,"question_id":76640295,"body_markdown":"From what you wrote you basically want to group all the rows having the same id.\r\n\r\nSo why not just use groupBy ?\r\n\r\n    myDataset.groupBy(&quot;the_id_value&quot;) \r\n\r\nthen you can apply whatever logic you want, like create an object from the aggregation of all rows. Of course, you can mix both repartition and groupBy for better performance.\r\n\r\nSee some examples: \r\nhttps://sparkbyexamples.com/spark/using-groupby-on-dataframe/?expand_article=1","title":"How to group rows with same value in dataframe using repartition","body":"<p>From what you wrote you basically want to group all the rows having the same id.</p>\n<p>So why not just use groupBy ?</p>\n<pre><code>myDataset.groupBy(&quot;the_id_value&quot;) \n</code></pre>\n<p>then you can apply whatever logic you want, like create an object from the aggregation of all rows. Of course, you can mix both repartition and groupBy for better performance.</p>\n<p>See some examples:\n<a href=\"https://sparkbyexamples.com/spark/using-groupby-on-dataframe/?expand_article=1\" rel=\"nofollow noreferrer\">https://sparkbyexamples.com/spark/using-groupby-on-dataframe/?expand_article=1</a></p>\n"}],"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688826460,"creation_date":1688764772,"question_id":76640295,"body_markdown":"I am using Spark and the Java api for Spark so my code is not in scala or python. \r\n\r\nI have a `Dataset&lt;Row&gt;` dataframe that I want to partition based on a column ID value that the rows share:\r\n\r\n```\r\ndf.repartition(&quot;the_id_value&quot;)\r\n```\r\n\r\nThe result is that all rows with the same ID are together in the same partition, but each partition consists of many different groups of those rows. For example, all rows with ID=1 and ID=2 are put into the same partition. \r\n\r\nI need to iterate through each partition and process the data and would like it if the partition only contained rows from 1 unique ID instead of multiple IDs. I understand that this means there will a much larger number of partitions. I either need repartition to work in a way where only rows of one specific ID is present in each partition, or after repartitioning, I can further group the rows in each partition based on that unique ID again. Any ideas on how to do that? The goal is that I can iterate, create an Object (I need to make 1 Object for every unique ID) using the Rows.","title":"How to group rows with same value in dataframe using repartition","body":"<p>I am using Spark and the Java api for Spark so my code is not in scala or python.</p>\n<p>I have a <code>Dataset&lt;Row&gt;</code> dataframe that I want to partition based on a column ID value that the rows share:</p>\n<pre><code>df.repartition(&quot;the_id_value&quot;)\n</code></pre>\n<p>The result is that all rows with the same ID are together in the same partition, but each partition consists of many different groups of those rows. For example, all rows with ID=1 and ID=2 are put into the same partition.</p>\n<p>I need to iterate through each partition and process the data and would like it if the partition only contained rows from 1 unique ID instead of multiple IDs. I understand that this means there will a much larger number of partitions. I either need repartition to work in a way where only rows of one specific ID is present in each partition, or after repartitioning, I can further group the rows in each partition based on that unique ID again. Any ideas on how to do that? The goal is that I can iterate, create an Object (I need to make 1 Object for every unique ID) using the Rows.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688824806,"post_id":76643199,"comment_id":135127503,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":28850361,"reputation":366,"user_id":22096391,"display_name":"Murtaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688826108,"creation_date":1688826108,"answer_id":76643400,"question_id":76643199,"body_markdown":"It&#39;s problem with your gradle, some files is&#39;t downloaded correctly.\r\nconnect your laptop to wifi when creating a new project, it download some missing gradle file and it will be fix.\r\n\r\nIf the specified plugin version has not been downloaded, Gradle downloads it the next time you build your project or click **File &gt; Sync Project with Gradle Files** from the Android Studio menu bar.\r\n\r\nRead about gradle\r\n\r\nhttps://gradle.org/\r\n\r\nhttps://developer.android.com/build/releases/gradle-plugin\r\n","title":"what would i do if my default mainActivity.java is error in Android studio?","body":"<p>It's problem with your gradle, some files is't downloaded correctly.\nconnect your laptop to wifi when creating a new project, it download some missing gradle file and it will be fix.</p>\n<p>If the specified plugin version has not been downloaded, Gradle downloads it the next time you build your project or click <strong>File &gt; Sync Project with Gradle Files</strong> from the Android Studio menu bar.</p>\n<p>Read about gradle</p>\n<p><a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\">https://gradle.org/</a></p>\n<p><a href=\"https://developer.android.com/build/releases/gradle-plugin\" rel=\"nofollow noreferrer\">https://developer.android.com/build/releases/gradle-plugin</a></p>\n"}],"owner":{"account_id":28976133,"reputation":1,"user_id":22195198,"display_name":"aleeTop"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688826108,"creation_date":1688823060,"question_id":76643199,"body_markdown":"when ever i create a new project in android studio is showing an error message both the xml file and .java file when i build it showing me 7 error in the mainActivity and 1 error in the xml file[enter image description here](https://i.stack.imgur.com/L27Ad.jpg) \r\n\r\nI&#39;ve tried to refresh both the file but all in vein  ","title":"what would i do if my default mainActivity.java is error in Android studio?","body":"<p>when ever i create a new project in android studio is showing an error message both the xml file and .java file when i build it showing me 7 error in the mainActivity and 1 error in the xml file<a href=\"https://i.stack.imgur.com/L27Ad.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I've tried to refresh both the file but all in vein</p>\n"},{"tags":["java","compilation","package","gnu-make","git-bash"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1688814722,"post_id":76642633,"comment_id":135126371,"body_markdown":"`warning: [path] Invalid filename: ../java:../build/EmulationServer` which means your makefile is specifying the classpath wrong.  You&#39;re still running under windows, so the classpath separator is `;`, not `:`.","body":"<code>warning: [path] Invalid filename: ..&#47;java:..&#47;build&#47;EmulationServer</code> which means your makefile is specifying the classpath wrong.  You&#39;re still running under windows, so the classpath separator is <code>;</code>, not <code>:</code>."},{"owner":{"account_id":18862898,"reputation":1,"user_id":13759304,"display_name":"Arda ALICI"},"score":0,"creation_date":1688825471,"post_id":76642633,"comment_id":135127572,"body_markdown":"Hi I just edited the post to include the makefile can you take a look if you have the time because only &quot;:&quot; I saw was on the &quot;header&quot; like things which I dont think are the ones","body":"Hi I just edited the post to include the makefile can you take a look if you have the time because only &quot;:&quot; I saw was on the &quot;header&quot; like things which I dont think are the ones"},{"owner":{"account_id":904308,"reputation":94856,"user_id":939557,"accept_rate":78,"display_name":"MadScientist"},"score":0,"creation_date":1688826171,"post_id":76642633,"comment_id":135127650,"body_markdown":"It&#39;s right here: `COMPILE_CLASSPATH=$(JAVA_DIR):$(BUILD_DIR)`  In general you usually can&#39;t just take a makefile written for a POSIX system and run it on Windows, without changes.  Windows is too different.","body":"It&#39;s right here: <code>COMPILE_CLASSPATH=$(JAVA_DIR):$(BUILD_DIR)</code>  In general you usually can&#39;t just take a makefile written for a POSIX system and run it on Windows, without changes.  Windows is too different."},{"owner":{"account_id":18862898,"reputation":1,"user_id":13759304,"display_name":"Arda ALICI"},"score":0,"creation_date":1688831296,"post_id":76642633,"comment_id":135128205,"body_markdown":"Well no luck.. I decided to throw this idea all together and use VirtualBox and DebianOS.. It worked much easier. Thanks anyways for your help &lt;3","body":"Well no luck.. I decided to throw this idea all together and use VirtualBox and DebianOS.. It worked much easier. Thanks anyways for your help &lt;3"}],"owner":{"account_id":18862898,"reputation":1,"user_id":13759304,"display_name":"Arda ALICI"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688825748,"creation_date":1688814508,"question_id":76642633,"body_markdown":"I am new to these things so excuse me if my question is dumb.\r\n\r\nI am trying to install a Emulator software on my windows 11 pc but the software comes as a makefile like directory and the instuctions told me to install it with git bash. But no matter what I did I couldnt get it to work as intended. The make all command keeps throwing the errors shown below to me.\r\n\r\n```\r\nC:\\Users\\arday\\rp2040pio&gt;make all\r\ncd ./java ; make -f Makefile.Server all\r\nmake[1]: Entering directory &#39;C:/Users/arday/rp2040pio/java&#39;\r\njavac -Xlint:all -Xdiags:verbose -d ../build/EmulationServer -cp ../java:../build/EmulationServer ../java/org/soundpaint/rp2040pio/EmulationServer.java\r\nwarning: [path] Invalid filename: ../java:../build/EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:37: error: package CmdOptions does not exist\r\n  private static final CmdOptions.FlagOptionDeclaration optVersion =\r\n                                 ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:40: error: package CmdOptions does not exist\r\n  private static final CmdOptions.FlagOptionDeclaration optHelp =\r\n                                 ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:43: error: package CmdOptions does not exist\r\n  private static final CmdOptions.FlagOptionDeclaration optSilent =\r\n                                 ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:46: error: package CmdOptions does not exist\r\n  private static final CmdOptions.FlagOptionDeclaration optVerbose =\r\n                                 ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:49: error: package CmdOptions does not exist\r\n  private static final CmdOptions.IntegerOptionDeclaration optPort =\r\n                                 ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:54: error: package CmdOptions does not exist\r\n  private static final List&lt;CmdOptions.OptionDeclaration&lt;?&gt;&gt;\r\n                                      ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:60: error: cannot find symbol\r\n  private final CmdOptions options;\r\n                ^\r\n  symbol:   class CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:74: error: cannot find symbol\r\n  private CmdOptions parseArgs(final String argv[])\r\n          ^\r\n  symbol:   class CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:101: error: cannot find symbol\r\n  private void checkValidity(final CmdOptions options)\r\n                                   ^\r\n  symbol:   class CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:102: error: package CmdOptions does not exist\r\n    throws CmdOptions.ParseException\r\n                     ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:38: error: package CmdOptions does not exist\r\n    CmdOptions.createFlagOption(false, &#39;V&#39;, &quot;version&quot;, CmdOptions.Flag.OFF,\r\n                                                                 ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:38: error: cannot find symbol\r\n    CmdOptions.createFlagOption(false, &#39;V&#39;, &quot;version&quot;, CmdOptions.Flag.OFF,\r\n    ^\r\n  symbol:   variable CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:41: error: package CmdOptions does not exist\r\n    CmdOptions.createFlagOption(false, &#39;h&#39;, &quot;help&quot;, CmdOptions.Flag.OFF,\r\n                                                              ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:41: error: cannot find symbol\r\n    CmdOptions.createFlagOption(false, &#39;h&#39;, &quot;help&quot;, CmdOptions.Flag.OFF,\r\n    ^\r\n  symbol:   variable CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:44: error: package CmdOptions does not exist\r\n    CmdOptions.createFlagOption(false, &#39;s&#39;, &quot;silent&quot;, CmdOptions.Flag.OFF,\r\n                                                                ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:44: error: cannot find symbol\r\n    CmdOptions.createFlagOption(false, &#39;s&#39;, &quot;silent&quot;, CmdOptions.Flag.OFF,\r\n    ^\r\n  symbol:   variable CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:47: error: package CmdOptions does not exist\r\n    CmdOptions.createFlagOption(false, &#39;v&#39;, &quot;verbose&quot;, CmdOptions.Flag.OFF,\r\n                                                                 ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:47: error: cannot find symbol\r\n    CmdOptions.createFlagOption(false, &#39;v&#39;, &quot;verbose&quot;, CmdOptions.Flag.OFF,\r\n    ^\r\n  symbol:   variable CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:51: error: cannot find symbol\r\n                                   Constants.\r\n                                   ^\r\n  symbol:   variable Constants\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:50: error: cannot find symbol\r\n    CmdOptions.createIntegerOption(&quot;PORT&quot;, false, &#39;p&#39;, &quot;port&quot;,\r\n    ^\r\n  symbol:   variable CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:56: error: package CmdOptions does not exist\r\n    Arrays.asList(new CmdOptions.OptionDeclaration&lt;?&gt;[]\r\n                                ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:69: error: package CmdOptions does not exist\r\n    if (options.getValue(optSilent) != CmdOptions.Flag.ON) {\r\n                                                 ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:76: error: cannot find symbol\r\n    final CmdOptions options;\r\n          ^\r\n  symbol:   class CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:78: error: cannot find symbol\r\n      options = new CmdOptions(PRG_TITLE, PRG_FULL_NAME, null,\r\n                    ^\r\n  symbol:   class CmdOptions\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:82: error: package CmdOptions does not exist\r\n    } catch (final CmdOptions.ParseException e) {\r\n                             ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:87: error: package CmdOptions does not exist\r\n    if (options.getValue(optVersion) == CmdOptions.Flag.ON) {\r\n                                                  ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:89: error: cannot find symbol\r\n      console.println(Constants.getEmulatorIdAndVersionWithOs());\r\n                      ^\r\n  symbol:   variable Constants\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:93: error: package CmdOptions does not exist\r\n    if (options.getValue(optHelp) == CmdOptions.Flag.ON) {\r\n                                               ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:106: error: package CmdOptions does not exist\r\n      throw new CmdOptions.\r\n                          ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:109: error: package CmdOptions does not exist\r\n    if ((options.getValue(optSilent) == CmdOptions.Flag.ON) &amp;&amp;\r\n                                                  ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:110: error: package CmdOptions does not exist\r\n        (options.getValue(optVerbose) == CmdOptions.Flag.ON)) {\r\n                                                   ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:111: error: package CmdOptions does not exist\r\n      throw new CmdOptions.\r\n                          ^\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:120: error: cannot find symbol\r\n                   Constants.getEmulatorIdAndVersionWithOs(),\r\n                   ^\r\n  symbol:   variable Constants\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:121: error: cannot find symbol\r\n                   Constants.getCmdLineCopyrightNotice());\r\n                   ^\r\n  symbol:   variable Constants\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:127: error: cannot find symbol\r\n      final Emulator emulator = new Emulator(console);\r\n            ^\r\n  symbol:   class Emulator\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:127: error: cannot find symbol\r\n      final Emulator emulator = new Emulator(console);\r\n                                    ^\r\n  symbol:   class Emulator\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:128: error: cannot find symbol\r\n      final LocalAddressSpace memory = new LocalAddressSpace(emulator);\r\n            ^\r\n  symbol:   class LocalAddressSpace\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:128: error: cannot find symbol\r\n      final LocalAddressSpace memory = new LocalAddressSpace(emulator);\r\n                                           ^\r\n  symbol:   class LocalAddressSpace\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:130: error: cannot find symbol\r\n      final RemoteAddressSpaceServer server =\r\n            ^\r\n  symbol:   class RemoteAddressSpaceServer\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:131: error: cannot find symbol\r\n        new RemoteAddressSpaceServer(console, memory, port);\r\n            ^\r\n  symbol:   class RemoteAddressSpaceServer\r\n  location: class EmulationServer\r\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:132: error: package CmdOptions does not exist\r\n      if (options.getValue(optSilent) != CmdOptions.Flag.ON) {\r\n                                                   ^\r\n41 errors\r\n1 warning\r\nmake[1]: *** [Makefile.Server:98: ../build/EmulationServer/org/soundpaint/rp2040pio/EmulationServer.class] Error 1\r\nmake[1]: Leaving directory &#39;C:/Users/arday/rp2040pio/java&#39;\r\nmake: *** [Makefile:28: all] Error 2\r\n```\r\nMAKEFILE\r\n\r\n```\r\n\r\nROOT_DIR=.\r\ninclude defs.mak\r\n\r\nall:\r\n\tcd $(JAVA_DIR) ; make -f Makefile.Server all\r\n\tcd $(JAVA_DIR) ; make -f Makefile.Monitor all\r\n\tcd $(JAVA_DIR) ; make -f Makefile.Observer all\r\n\tcd $(JAVA_DIR) ; make -f Makefile.Diagram all\r\n\tcd $(JAVA_DIR) ; make -f Makefile.GPIOObserver all\r\n\tcd $(JAVA_DIR) ; make -f Makefile.CodeObserver all\r\n\tcd $(JAVA_DIR) ; make -f Makefile.FifoObserver all\r\n\tcd $(JAVA_DIR) ; make -f Makefile.DocTool all\r\n\r\nrun: all\r\n\tcd $(JAVA_DIR) ; make -f Makefile.Server run\r\n\r\ntags:\r\n\t- find $(JAVA_DIR) -name \\*.java -exec etags {} \\; -print\r\n\r\nobjclean:\r\n\trm -rf $(ROOT_BUILD_DIR)\r\n\trm -rf $(JAR_DIR)\r\n\trm -rf $(RST_DOC_DIR)\r\n\r\nbkpclean:\r\n\t- find $(JAVA_DIR) -name \\*~ -exec /bin/rm -f {} \\; -print\r\n\trm -f *~\r\n\r\ncoreclean:\r\n\trm -f core core.* vgcore.*\r\n\trm -f $(JAVA_DIR)/core $(JAVA_DIR)/core.* $(JAVA_DIR)/vgcore.*\r\n\r\nclean: objclean\r\n\r\ndistclean: objclean bkpclean coreclean\r\n\r\ntarball: distclean\r\n\t@TGZ_DATE=`date +%Y-%m-%d_%H-%M-%S` ; \\\r\n\tPROJECT_NAME=rpi2040pio ; \\\r\n\tPROJECT_PATH=`basename \\`pwd\\`` ; \\\r\n\tTGZ_PREFIX=$$PROJECT_NAME\\_$$TGZ_DATE ; cd .. ; \\\r\n\ttar cvf ./$$TGZ_PREFIX.tar.bz2 \\\r\n\t\t--exclude=untracked \\\r\n\t\t--exclude=.git \\\r\n\t\t--transform=s/$$PROJECT_PATH/$$TGZ_PREFIX/ \\\r\n\t\t--bzip2 $$PROJECT_PATH\r\n\r\n```\r\n\r\nMakefile.server\r\n\r\n```\r\n\r\nROOT_DIR=..\r\ninclude ../defs.mak\r\n\r\nBUILD_DIR=$(ROOT_BUILD_DIR)/EmulationServer\r\nCOMPILE_CLASSPATH=$(JAVA_DIR):$(BUILD_DIR)\r\nRUN_CLASSPATH=.\r\nPIO_DIR=$(JAVA_DIR)/org/soundpaint/rp2040pio\r\nJAVA_SRC=$(wildcard $(PIO_DIR)/EmulationServer.java)\r\nJAVA_OBJ=$(patsubst $(JAVA_DIR)/%.java,$(BUILD_DIR)/%.class,$(JAVA_SRC))\r\n\r\nMEDIA_SRC_DIR=$(JAVA_DIR)/media\r\nMEDIA_OBJ_DIR=$(BUILD_DIR)/media\r\nMEDIA_SRC=$(wildcard $(MEDIA_SRC_DIR)/*.png $(MEDIA_SRC_DIR)/*.html)\r\nMEDIA_OBJ=$(patsubst $(MEDIA_SRC_DIR)/%,$(MEDIA_OBJ_DIR)/%,$(MEDIA_SRC))\r\n\r\nEXAMPLES_SRC_DIR=$(JAVA_DIR)/examples\r\nEXAMPLES_OBJ_DIR=$(BUILD_DIR)/examples\r\nEXAMPLES_SRC=$(wildcard $(EXAMPLES_SRC_DIR)/*.hex) $(wildcard $(EXAMPLES_SRC_DIR)/*.mon)\r\nEXAMPLES_OBJ=$(patsubst $(EXAMPLES_SRC_DIR)/%,$(EXAMPLES_OBJ_DIR)/%,$(EXAMPLES_SRC))\r\n\r\nJAR_OBJ=$(JAR_DIR)/rp2040pio_server.jar\r\n\r\nall: obj jar\r\n\r\nobj: $(BUILD_DIR) $(JAVA_OBJ) \\\r\n\t$(MEDIA_OBJ_DIR) $(MEDIA_OBJ) \\\r\n\t$(EXAMPLES_OBJ_DIR) $(EXAMPLES_OBJ)\r\n\r\n$(BUILD_DIR):\r\n\tmkdir -p $@\r\n\r\n$(MEDIA_OBJ_DIR):\r\n\techo BUILD_MEDIA_DIR=$(MEDIA_OBJ_DIR)\r\n\tmkdir -p $@\r\n\r\n$(EXAMPLES_OBJ_DIR):\r\n\techo BUILD_EXAMPLES_DIR=$(EXAMPLES_OBJ_DIR)\r\n\tmkdir -p $@\r\n\r\n$(JAR_DIR):\r\n\tmkdir -p $@\r\n\r\njar: $(JAR_DIR) $(JAR_OBJ)\r\n\r\n$(JAR_OBJ): $(JAVA_OBJ)\r\n\tcd $(BUILD_DIR) ; \\\r\n\tjar -0cvfm ../$(JAR_OBJ) ../$(JAVA_DIR)/META-INF/MANIFEST.MF.Server .\r\n\r\n$(MEDIA_OBJ_DIR)/%: $(MEDIA_SRC_DIR)/%\r\n\tcp -pf $&lt; $@\r\n\r\n$(EXAMPLES_OBJ_DIR)/%.hex: $(EXAMPLES_SRC_DIR)/%.hex\r\n\tcp -pf $&lt; $@\r\n\r\n$(EXAMPLES_OBJ_DIR)/%.mon: $(EXAMPLES_SRC_DIR)/%.mon\r\n\tcp -pf $&lt; $@\r\n\r\ndepend:\r\n\r\nrun: all\r\n\tcd $(JAR_DIR) ; java -jar $(JAR_OBJ)\r\n\t#cd $(BUILD_DIR) ; java -ea -cp $(RUN_CLASSPATH) org.soundpaint.rp2040pio.Main\r\n\r\nobjclean:\r\n\t- rm -rf $(BUILD_DIR)\r\n\r\njarclean:\r\n\t- rm -rf $(JAR_DIR)\r\n\r\nclean: objclean jarclean\r\n\r\n.SUFFIXES: $(SUFFIXES) .java .class\r\n\r\n$(BUILD_DIR)%class: $(JAVA_DIR)%java\r\n\tjavac -Xlint:all -Xdiags:verbose -d $(BUILD_DIR) -cp $(COMPILE_CLASSPATH) $&lt;\r\n\r\n```\r\n\r\nI don&#39;t have much knowledge about this compiling your own app thing so all i did to try to solve it was google it online which didn&#39;t help much and make sure everything was up to date","title":"Git Bash make all command failing","body":"<p>I am new to these things so excuse me if my question is dumb.</p>\n<p>I am trying to install a Emulator software on my windows 11 pc but the software comes as a makefile like directory and the instuctions told me to install it with git bash. But no matter what I did I couldnt get it to work as intended. The make all command keeps throwing the errors shown below to me.</p>\n<pre><code>C:\\Users\\arday\\rp2040pio&gt;make all\ncd ./java ; make -f Makefile.Server all\nmake[1]: Entering directory 'C:/Users/arday/rp2040pio/java'\njavac -Xlint:all -Xdiags:verbose -d ../build/EmulationServer -cp ../java:../build/EmulationServer ../java/org/soundpaint/rp2040pio/EmulationServer.java\nwarning: [path] Invalid filename: ../java:../build/EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:37: error: package CmdOptions does not exist\n  private static final CmdOptions.FlagOptionDeclaration optVersion =\n                                 ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:40: error: package CmdOptions does not exist\n  private static final CmdOptions.FlagOptionDeclaration optHelp =\n                                 ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:43: error: package CmdOptions does not exist\n  private static final CmdOptions.FlagOptionDeclaration optSilent =\n                                 ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:46: error: package CmdOptions does not exist\n  private static final CmdOptions.FlagOptionDeclaration optVerbose =\n                                 ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:49: error: package CmdOptions does not exist\n  private static final CmdOptions.IntegerOptionDeclaration optPort =\n                                 ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:54: error: package CmdOptions does not exist\n  private static final List&lt;CmdOptions.OptionDeclaration&lt;?&gt;&gt;\n                                      ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:60: error: cannot find symbol\n  private final CmdOptions options;\n                ^\n  symbol:   class CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:74: error: cannot find symbol\n  private CmdOptions parseArgs(final String argv[])\n          ^\n  symbol:   class CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:101: error: cannot find symbol\n  private void checkValidity(final CmdOptions options)\n                                   ^\n  symbol:   class CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:102: error: package CmdOptions does not exist\n    throws CmdOptions.ParseException\n                     ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:38: error: package CmdOptions does not exist\n    CmdOptions.createFlagOption(false, 'V', &quot;version&quot;, CmdOptions.Flag.OFF,\n                                                                 ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:38: error: cannot find symbol\n    CmdOptions.createFlagOption(false, 'V', &quot;version&quot;, CmdOptions.Flag.OFF,\n    ^\n  symbol:   variable CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:41: error: package CmdOptions does not exist\n    CmdOptions.createFlagOption(false, 'h', &quot;help&quot;, CmdOptions.Flag.OFF,\n                                                              ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:41: error: cannot find symbol\n    CmdOptions.createFlagOption(false, 'h', &quot;help&quot;, CmdOptions.Flag.OFF,\n    ^\n  symbol:   variable CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:44: error: package CmdOptions does not exist\n    CmdOptions.createFlagOption(false, 's', &quot;silent&quot;, CmdOptions.Flag.OFF,\n                                                                ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:44: error: cannot find symbol\n    CmdOptions.createFlagOption(false, 's', &quot;silent&quot;, CmdOptions.Flag.OFF,\n    ^\n  symbol:   variable CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:47: error: package CmdOptions does not exist\n    CmdOptions.createFlagOption(false, 'v', &quot;verbose&quot;, CmdOptions.Flag.OFF,\n                                                                 ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:47: error: cannot find symbol\n    CmdOptions.createFlagOption(false, 'v', &quot;verbose&quot;, CmdOptions.Flag.OFF,\n    ^\n  symbol:   variable CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:51: error: cannot find symbol\n                                   Constants.\n                                   ^\n  symbol:   variable Constants\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:50: error: cannot find symbol\n    CmdOptions.createIntegerOption(&quot;PORT&quot;, false, 'p', &quot;port&quot;,\n    ^\n  symbol:   variable CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:56: error: package CmdOptions does not exist\n    Arrays.asList(new CmdOptions.OptionDeclaration&lt;?&gt;[]\n                                ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:69: error: package CmdOptions does not exist\n    if (options.getValue(optSilent) != CmdOptions.Flag.ON) {\n                                                 ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:76: error: cannot find symbol\n    final CmdOptions options;\n          ^\n  symbol:   class CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:78: error: cannot find symbol\n      options = new CmdOptions(PRG_TITLE, PRG_FULL_NAME, null,\n                    ^\n  symbol:   class CmdOptions\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:82: error: package CmdOptions does not exist\n    } catch (final CmdOptions.ParseException e) {\n                             ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:87: error: package CmdOptions does not exist\n    if (options.getValue(optVersion) == CmdOptions.Flag.ON) {\n                                                  ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:89: error: cannot find symbol\n      console.println(Constants.getEmulatorIdAndVersionWithOs());\n                      ^\n  symbol:   variable Constants\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:93: error: package CmdOptions does not exist\n    if (options.getValue(optHelp) == CmdOptions.Flag.ON) {\n                                               ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:106: error: package CmdOptions does not exist\n      throw new CmdOptions.\n                          ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:109: error: package CmdOptions does not exist\n    if ((options.getValue(optSilent) == CmdOptions.Flag.ON) &amp;&amp;\n                                                  ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:110: error: package CmdOptions does not exist\n        (options.getValue(optVerbose) == CmdOptions.Flag.ON)) {\n                                                   ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:111: error: package CmdOptions does not exist\n      throw new CmdOptions.\n                          ^\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:120: error: cannot find symbol\n                   Constants.getEmulatorIdAndVersionWithOs(),\n                   ^\n  symbol:   variable Constants\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:121: error: cannot find symbol\n                   Constants.getCmdLineCopyrightNotice());\n                   ^\n  symbol:   variable Constants\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:127: error: cannot find symbol\n      final Emulator emulator = new Emulator(console);\n            ^\n  symbol:   class Emulator\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:127: error: cannot find symbol\n      final Emulator emulator = new Emulator(console);\n                                    ^\n  symbol:   class Emulator\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:128: error: cannot find symbol\n      final LocalAddressSpace memory = new LocalAddressSpace(emulator);\n            ^\n  symbol:   class LocalAddressSpace\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:128: error: cannot find symbol\n      final LocalAddressSpace memory = new LocalAddressSpace(emulator);\n                                           ^\n  symbol:   class LocalAddressSpace\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:130: error: cannot find symbol\n      final RemoteAddressSpaceServer server =\n            ^\n  symbol:   class RemoteAddressSpaceServer\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:131: error: cannot find symbol\n        new RemoteAddressSpaceServer(console, memory, port);\n            ^\n  symbol:   class RemoteAddressSpaceServer\n  location: class EmulationServer\n..\\java\\org\\soundpaint\\rp2040pio\\EmulationServer.java:132: error: package CmdOptions does not exist\n      if (options.getValue(optSilent) != CmdOptions.Flag.ON) {\n                                                   ^\n41 errors\n1 warning\nmake[1]: *** [Makefile.Server:98: ../build/EmulationServer/org/soundpaint/rp2040pio/EmulationServer.class] Error 1\nmake[1]: Leaving directory 'C:/Users/arday/rp2040pio/java'\nmake: *** [Makefile:28: all] Error 2\n</code></pre>\n<p>MAKEFILE</p>\n<pre><code>\nROOT_DIR=.\ninclude defs.mak\n\nall:\n    cd $(JAVA_DIR) ; make -f Makefile.Server all\n    cd $(JAVA_DIR) ; make -f Makefile.Monitor all\n    cd $(JAVA_DIR) ; make -f Makefile.Observer all\n    cd $(JAVA_DIR) ; make -f Makefile.Diagram all\n    cd $(JAVA_DIR) ; make -f Makefile.GPIOObserver all\n    cd $(JAVA_DIR) ; make -f Makefile.CodeObserver all\n    cd $(JAVA_DIR) ; make -f Makefile.FifoObserver all\n    cd $(JAVA_DIR) ; make -f Makefile.DocTool all\n\nrun: all\n    cd $(JAVA_DIR) ; make -f Makefile.Server run\n\ntags:\n    - find $(JAVA_DIR) -name \\*.java -exec etags {} \\; -print\n\nobjclean:\n    rm -rf $(ROOT_BUILD_DIR)\n    rm -rf $(JAR_DIR)\n    rm -rf $(RST_DOC_DIR)\n\nbkpclean:\n    - find $(JAVA_DIR) -name \\*~ -exec /bin/rm -f {} \\; -print\n    rm -f *~\n\ncoreclean:\n    rm -f core core.* vgcore.*\n    rm -f $(JAVA_DIR)/core $(JAVA_DIR)/core.* $(JAVA_DIR)/vgcore.*\n\nclean: objclean\n\ndistclean: objclean bkpclean coreclean\n\ntarball: distclean\n    @TGZ_DATE=`date +%Y-%m-%d_%H-%M-%S` ; \\\n    PROJECT_NAME=rpi2040pio ; \\\n    PROJECT_PATH=`basename \\`pwd\\`` ; \\\n    TGZ_PREFIX=$$PROJECT_NAME\\_$$TGZ_DATE ; cd .. ; \\\n    tar cvf ./$$TGZ_PREFIX.tar.bz2 \\\n        --exclude=untracked \\\n        --exclude=.git \\\n        --transform=s/$$PROJECT_PATH/$$TGZ_PREFIX/ \\\n        --bzip2 $$PROJECT_PATH\n\n</code></pre>\n<p>Makefile.server</p>\n<pre><code>\nROOT_DIR=..\ninclude ../defs.mak\n\nBUILD_DIR=$(ROOT_BUILD_DIR)/EmulationServer\nCOMPILE_CLASSPATH=$(JAVA_DIR):$(BUILD_DIR)\nRUN_CLASSPATH=.\nPIO_DIR=$(JAVA_DIR)/org/soundpaint/rp2040pio\nJAVA_SRC=$(wildcard $(PIO_DIR)/EmulationServer.java)\nJAVA_OBJ=$(patsubst $(JAVA_DIR)/%.java,$(BUILD_DIR)/%.class,$(JAVA_SRC))\n\nMEDIA_SRC_DIR=$(JAVA_DIR)/media\nMEDIA_OBJ_DIR=$(BUILD_DIR)/media\nMEDIA_SRC=$(wildcard $(MEDIA_SRC_DIR)/*.png $(MEDIA_SRC_DIR)/*.html)\nMEDIA_OBJ=$(patsubst $(MEDIA_SRC_DIR)/%,$(MEDIA_OBJ_DIR)/%,$(MEDIA_SRC))\n\nEXAMPLES_SRC_DIR=$(JAVA_DIR)/examples\nEXAMPLES_OBJ_DIR=$(BUILD_DIR)/examples\nEXAMPLES_SRC=$(wildcard $(EXAMPLES_SRC_DIR)/*.hex) $(wildcard $(EXAMPLES_SRC_DIR)/*.mon)\nEXAMPLES_OBJ=$(patsubst $(EXAMPLES_SRC_DIR)/%,$(EXAMPLES_OBJ_DIR)/%,$(EXAMPLES_SRC))\n\nJAR_OBJ=$(JAR_DIR)/rp2040pio_server.jar\n\nall: obj jar\n\nobj: $(BUILD_DIR) $(JAVA_OBJ) \\\n    $(MEDIA_OBJ_DIR) $(MEDIA_OBJ) \\\n    $(EXAMPLES_OBJ_DIR) $(EXAMPLES_OBJ)\n\n$(BUILD_DIR):\n    mkdir -p $@\n\n$(MEDIA_OBJ_DIR):\n    echo BUILD_MEDIA_DIR=$(MEDIA_OBJ_DIR)\n    mkdir -p $@\n\n$(EXAMPLES_OBJ_DIR):\n    echo BUILD_EXAMPLES_DIR=$(EXAMPLES_OBJ_DIR)\n    mkdir -p $@\n\n$(JAR_DIR):\n    mkdir -p $@\n\njar: $(JAR_DIR) $(JAR_OBJ)\n\n$(JAR_OBJ): $(JAVA_OBJ)\n    cd $(BUILD_DIR) ; \\\n    jar -0cvfm ../$(JAR_OBJ) ../$(JAVA_DIR)/META-INF/MANIFEST.MF.Server .\n\n$(MEDIA_OBJ_DIR)/%: $(MEDIA_SRC_DIR)/%\n    cp -pf $&lt; $@\n\n$(EXAMPLES_OBJ_DIR)/%.hex: $(EXAMPLES_SRC_DIR)/%.hex\n    cp -pf $&lt; $@\n\n$(EXAMPLES_OBJ_DIR)/%.mon: $(EXAMPLES_SRC_DIR)/%.mon\n    cp -pf $&lt; $@\n\ndepend:\n\nrun: all\n    cd $(JAR_DIR) ; java -jar $(JAR_OBJ)\n    #cd $(BUILD_DIR) ; java -ea -cp $(RUN_CLASSPATH) org.soundpaint.rp2040pio.Main\n\nobjclean:\n    - rm -rf $(BUILD_DIR)\n\njarclean:\n    - rm -rf $(JAR_DIR)\n\nclean: objclean jarclean\n\n.SUFFIXES: $(SUFFIXES) .java .class\n\n$(BUILD_DIR)%class: $(JAVA_DIR)%java\n    javac -Xlint:all -Xdiags:verbose -d $(BUILD_DIR) -cp $(COMPILE_CLASSPATH) $&lt;\n\n</code></pre>\n<p>I don't have much knowledge about this compiling your own app thing so all i did to try to solve it was google it online which didn't help much and make sure everything was up to date</p>\n"},{"tags":["java","wicket"],"comments":[{"owner":{"account_id":232499,"reputation":17233,"user_id":497381,"display_name":"martin-g"},"score":0,"creation_date":1688847353,"post_id":76643224,"comment_id":135129920,"body_markdown":"How do you mount the page ? What url do you use to call it ? Please create a mini application demonstrating the problem and put it somewhere, e.g. Github, and we can debug it for you!","body":"How do you mount the page ? What url do you use to call it ? Please create a mini application demonstrating the problem and put it somewhere, e.g. Github, and we can debug it for you!"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":1,"creation_date":1688851109,"post_id":76643224,"comment_id":135130241,"body_markdown":"the problem was indeed in mounting, changing url-pattern from `&lt;url-pattern&gt;/counter&lt;/url-pattern&gt;` to `&lt;url-pattern&gt;/counter/*&lt;/url-pattern&gt;` in `web.xml` fixed everything. Apparently the query params that `Link` element produces at the end of the url were throwing it off or something. Thanks for the comment!","body":"the problem was indeed in mounting, changing url-pattern from <code>&lt;url-pattern&gt;&#47;counter&lt;&#47;url-pattern&gt;</code> to <code>&lt;url-pattern&gt;&#47;counter&#47;*&lt;&#47;url-pattern&gt;</code> in <code>web.xml</code> fixed everything. Apparently the query params that <code>Link</code> element produces at the end of the url were throwing it off or something. Thanks for the comment!"}],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688825032,"creation_date":1688823393,"question_id":76643224,"body_markdown":"This is my html page:\r\n\r\n```html\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:wicket=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot; /&gt;\r\n    &lt;title&gt;Apache Wicket HelloWorld&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;a href=&quot;#&quot; wicket:id=&quot;counter-link&quot;&gt;&lt;/a&gt;&lt;label wicket:id=&quot;counter-label&quot;&gt;&lt;/label&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nAnd this is its corresponding Java class:\r\n\r\n```java\r\npublic class MyCounter extends WebPage {\r\n    public MyCounter() {\r\n        add(new Link&lt;Void&gt;(&quot;counter-link&quot;) {\r\n            @Override\r\n            public void onClick() {\r\n                //link code goes here\r\n            }\r\n        });\r\n        \r\n        add(new Label(&quot;counter-label&quot;, &quot;Was clicked 0 times&quot;));\r\n    }\r\n}\r\n```\r\n\r\nHere if I try to set Link in, and then call the page it just returns 404 and the logs don&#39;t show any errors:\r\n\r\n```\r\n15:29:48.551 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.552 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.553 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.553 [http-nio-8080-exec-15] DEBUG org.apache.wicket.request.mapper.CompoundRequestMapper -- No compatible mapper found for URL &#39;&#39;\r\n15:29:48.553 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.554 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.554 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.554 [http-nio-8080-exec-15] DEBUG org.apache.wicket.MarkupContainer -- Add counter-link to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 0]\r\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.MarkupContainer -- Add counter-label to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 0]\r\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.MarkupContainer -- Add _header_ to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 0]\r\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- &#39;http-nio-8080-exec-15&#39; attempting to acquire lock to page with id &#39;2&#39;\r\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- http-nio-8080-exec-15 acquired lock to page 2\r\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Page &#39;[Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 0]&#39; is not stateless because of component with path &#39;counter-link&#39;.\r\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- Begin render [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1]\r\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- Begin render [HtmlHeaderContainer [Component id = _header_]]\r\n15:29:48.556 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- internalRenderHead: [Link [Component id = counter-link]]\r\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Page &#39;[Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1]&#39; is not stateless because of component with path &#39;counter-link&#39;.\r\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- internalRenderHead: [Component id = counter-label]\r\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- internalRenderHead: [HtmlHeaderContainer [Component id = _header_]]\r\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- internalRenderHead: [MyCounter [Component id = 2]]\r\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Rendered [HtmlHeaderContainer [Component id = _header_]]\r\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- End render [HtmlHeaderContainer [Component id = _header_]]\r\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- Begin render [Link [Component id = counter-link]]\r\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Rendered [Link [Component id = counter-link]]\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- End render [Link [Component id = counter-link]]\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- Begin render [Component id = counter-label]\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Rendered [Component id = counter-label]\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- End render [Component id = counter-label]\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Rendered [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1]\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- End render [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1]\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- &#39;http-nio-8080-exec-15&#39; attempting to acquire lock to page with id &#39;2&#39;\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- http-nio-8080-exec-15 acquired lock to page 2\r\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- ending request for page [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1], request org.apache.wicket.protocol.http.servlet.ServletWebRequest@35792874\r\n15:29:48.561 [Wicket-AsyncPageStore-PageSavingThread] DEBUG org.apache.wicket.pageStore.AsynchronousPageStore$PageAddingRunnable -- Saving asynchronously: PendingAdd [sessionId=EC0425FA3075CE007424F77A684F8201, pageId=2, pageClass=org.apache.wicket.pageStore.SerializedPage]...\r\n15:29:48.561 [Wicket-AsyncPageStore-PageSavingThread] DEBUG org.apache.wicket.pageStore.DiskPageStore -- Storing data for page with id &#39;2&#39; in session with id &#39;EC0425FA3075CE007424F77A684F8201&#39;\r\n15:29:48.561 [http-nio-8080-exec-15] DEBUG org.apache.wicket.pageStore.AsynchronousPageStore -- Offered for storing asynchronously page with id &#39;2&#39;\r\n15:29:48.562 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- &#39;http-nio-8080-exec-15&#39; released lock to page with id &#39;2&#39;\r\n15:29:48.562 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.PageAccessSynchronizer -- &#39;http-nio-8080-exec-15&#39; notifying blocked threads\r\n```\r\n\r\n**BUT** if I remove the Link and set another Label instead then everything works\r\n\r\n```java\r\npublic class MyCounter extends WebPage {\r\n    public MyCounter() {\r\n        add(new Label(&quot;counter-link&quot;, &quot;Some text&quot;));\r\n        add(new Label(&quot;counter-label&quot;, &quot;Was clicked 0 times&quot;));\r\n    }\r\n}\r\n```\r\n\r\nand logs look the same:\r\n\r\n```\r\n15:32:08.005 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:32:08.009 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:32:08.009 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:32:08.009 [http-nio-8080-exec-1] DEBUG org.apache.wicket.request.mapper.CompoundRequestMapper -- No compatible mapper found for URL &#39;&#39;\r\n15:32:08.010 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:32:08.010 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:32:08.017 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path &#39;/wicket_demo_war&#39;, filterPrefix &#39;counte/&#39;, uri &#39;/wicket_demo_war/counter&#39;\r\n15:32:08.040 [http-nio-8080-exec-1] DEBUG org.apache.wicket.MarkupContainer -- Add counter-link to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 0]\r\n15:32:08.040 [http-nio-8080-exec-1] DEBUG org.apache.wicket.MarkupContainer -- Add counter-label to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 0]\r\n15:32:08.044 [http-nio-8080-exec-1] DEBUG org.apache.wicket.markup.MarkupCache -- Load markup: cacheKey=com.asgarov.wicket.demo.counter.MyCounter_en_US.html\r\n15:32:08.055 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource &#39;com/asgarov/wicket/demo/counter/MyCounter_en_US.html&#39; using finder&#39;[classpath]&#39;\r\n15:32:08.056 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource &#39;com/asgarov/wicket/demo/counter/MyCounter_en_US.html&#39; using finder&#39;[webapppath: /]&#39;\r\n15:32:08.056 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource &#39;com/asgarov/wicket/demo/counter/MyCounter_en_US.html&#39; using finder&#39;[classpath: META-INF/resources/]&#39;\r\n15:32:08.057 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource &#39;com/asgarov/wicket/demo/counter/MyCounter_en.html&#39; using finder&#39;[classpath]&#39;\r\n15:32:08.057 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource &#39;com/asgarov/wicket/demo/counter/MyCounter_en.html&#39; using finder&#39;[webapppath: /]&#39;\r\n15:32:08.057 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource &#39;com/asgarov/wicket/demo/counter/MyCounter_en.html&#39; using finder&#39;[classpath: META-INF/resources/]&#39;\r\n15:32:08.057 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource &#39;com/asgarov/wicket/demo/counter/MyCounter.html&#39; using finder&#39;[classpath]&#39;\r\n15:32:08.064 [http-nio-8080-exec-1] DEBUG org.apache.wicket.markup.MarkupCache -- Loading markup from file:/home/asgarov1/DevTools/apache-tomcat-9.0.76/webapps/wicket_demo_war/WEB-INF/classes/com/asgarov/wicket/demo/counter/MyCounter.html\r\n15:32:08.088 [http-nio-8080-exec-1] DEBUG org.apache.wicket.MarkupContainer -- Add _header_ to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 0]\r\n15:32:08.090 [http-nio-8080-exec-1] DEBUG org.apache.wicket.page.DefaultPageLockManager -- &#39;http-nio-8080-exec-1&#39; attempting to acquire lock to page with id &#39;0&#39;\r\n15:32:08.090 [http-nio-8080-exec-1] DEBUG org.apache.wicket.page.DefaultPageLockManager -- http-nio-8080-exec-1 acquired lock to page 0\r\n15:32:08.093 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- Begin render [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 1]\r\n15:32:08.094 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- Begin render [HtmlHeaderContainer [Component id = _header_]]\r\n15:32:08.097 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- internalRenderHead: [Component id = counter-link]\r\n15:32:08.097 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- internalRenderHead: [Component id = counter-label]\r\n15:32:08.097 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- internalRenderHead: [HtmlHeaderContainer [Component id = _header_]]\r\n15:32:08.097 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- internalRenderHead: [MyCounter [Component id = 0]]\r\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- Rendered [HtmlHeaderContainer [Component id = _header_]]\r\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- End render [HtmlHeaderContainer [Component id = _header_]]\r\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- Begin render [Component id = counter-link]\r\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- Rendered [Component id = counter-link]\r\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- End render [Component id = counter-link]\r\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- Begin render [Component id = counter-label]\r\n15:32:08.099 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- Rendered [Component id = counter-label]\r\n15:32:08.099 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- End render [Component id = counter-label]\r\n15:32:08.099 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- Rendered [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 1]\r\n15:32:08.099 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- End render [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 1]\r\n15:32:08.104 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- ending request for page [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 1], request org.apache.wicket.protocol.http.servlet.ServletWebRequest@63e89a88\r\n15:32:08.105 [http-nio-8080-exec-1] DEBUG org.apache.wicket.page.DefaultPageLockManager -- &#39;http-nio-8080-exec-1&#39; released lock to page with id &#39;0&#39;\r\n15:32:08.105 [http-nio-8080-exec-1] DEBUG org.apache.wicket.page.PageAccessSynchronizer -- &#39;http-nio-8080-exec-1&#39; notifying blocked threads\r\n\r\n```\r\n\r\nWhat could be causing this, that Link element doesn&#39;t work but Label does when everything else is the same? ","title":"Apache Wicket doesn&#39;t work when I add Link","body":"<p>This is my html page:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html xmlns:wicket=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot; /&gt;\n    &lt;title&gt;Apache Wicket HelloWorld&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;a href=&quot;#&quot; wicket:id=&quot;counter-link&quot;&gt;&lt;/a&gt;&lt;label wicket:id=&quot;counter-label&quot;&gt;&lt;/label&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>And this is its corresponding Java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCounter extends WebPage {\n    public MyCounter() {\n        add(new Link&lt;Void&gt;(&quot;counter-link&quot;) {\n            @Override\n            public void onClick() {\n                //link code goes here\n            }\n        });\n        \n        add(new Label(&quot;counter-label&quot;, &quot;Was clicked 0 times&quot;));\n    }\n}\n</code></pre>\n<p>Here if I try to set Link in, and then call the page it just returns 404 and the logs don't show any errors:</p>\n<pre><code>15:29:48.551 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.552 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.553 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.553 [http-nio-8080-exec-15] DEBUG org.apache.wicket.request.mapper.CompoundRequestMapper -- No compatible mapper found for URL ''\n15:29:48.553 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.554 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.554 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.554 [http-nio-8080-exec-15] DEBUG org.apache.wicket.MarkupContainer -- Add counter-link to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 0]\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.MarkupContainer -- Add counter-label to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 0]\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.MarkupContainer -- Add _header_ to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 0]\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- 'http-nio-8080-exec-15' attempting to acquire lock to page with id '2'\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- http-nio-8080-exec-15 acquired lock to page 2\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Page '[Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 0]' is not stateless because of component with path 'counter-link'.\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- Begin render [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1]\n15:29:48.555 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- Begin render [HtmlHeaderContainer [Component id = _header_]]\n15:29:48.556 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- internalRenderHead: [Link [Component id = counter-link]]\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Page '[Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1]' is not stateless because of component with path 'counter-link'.\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- internalRenderHead: [Component id = counter-label]\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- internalRenderHead: [HtmlHeaderContainer [Component id = _header_]]\n15:29:48.557 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- internalRenderHead: [MyCounter [Component id = 2]]\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Rendered [HtmlHeaderContainer [Component id = _header_]]\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- End render [HtmlHeaderContainer [Component id = _header_]]\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- Begin render [Link [Component id = counter-link]]\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.558 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Rendered [Link [Component id = counter-link]]\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- End render [Link [Component id = counter-link]]\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- Begin render [Component id = counter-label]\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Rendered [Component id = counter-label]\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- End render [Component id = counter-label]\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- Rendered [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1]\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Component -- End render [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1]\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- 'http-nio-8080-exec-15' attempting to acquire lock to page with id '2'\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- http-nio-8080-exec-15 acquired lock to page 2\n15:29:48.559 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:29:48.560 [http-nio-8080-exec-15] DEBUG org.apache.wicket.Page -- ending request for page [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 2, render count = 1], request org.apache.wicket.protocol.http.servlet.ServletWebRequest@35792874\n15:29:48.561 [Wicket-AsyncPageStore-PageSavingThread] DEBUG org.apache.wicket.pageStore.AsynchronousPageStore$PageAddingRunnable -- Saving asynchronously: PendingAdd [sessionId=EC0425FA3075CE007424F77A684F8201, pageId=2, pageClass=org.apache.wicket.pageStore.SerializedPage]...\n15:29:48.561 [Wicket-AsyncPageStore-PageSavingThread] DEBUG org.apache.wicket.pageStore.DiskPageStore -- Storing data for page with id '2' in session with id 'EC0425FA3075CE007424F77A684F8201'\n15:29:48.561 [http-nio-8080-exec-15] DEBUG org.apache.wicket.pageStore.AsynchronousPageStore -- Offered for storing asynchronously page with id '2'\n15:29:48.562 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.DefaultPageLockManager -- 'http-nio-8080-exec-15' released lock to page with id '2'\n15:29:48.562 [http-nio-8080-exec-15] DEBUG org.apache.wicket.page.PageAccessSynchronizer -- 'http-nio-8080-exec-15' notifying blocked threads\n</code></pre>\n<p><strong>BUT</strong> if I remove the Link and set another Label instead then everything works</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCounter extends WebPage {\n    public MyCounter() {\n        add(new Label(&quot;counter-link&quot;, &quot;Some text&quot;));\n        add(new Label(&quot;counter-label&quot;, &quot;Was clicked 0 times&quot;));\n    }\n}\n</code></pre>\n<p>and logs look the same:</p>\n<pre><code>15:32:08.005 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:32:08.009 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:32:08.009 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:32:08.009 [http-nio-8080-exec-1] DEBUG org.apache.wicket.request.mapper.CompoundRequestMapper -- No compatible mapper found for URL ''\n15:32:08.010 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:32:08.010 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:32:08.017 [http-nio-8080-exec-1] DEBUG org.apache.wicket.protocol.http.servlet.ServletWebRequest -- Calculating context relative path from: context path '/wicket_demo_war', filterPrefix 'counte/', uri '/wicket_demo_war/counter'\n15:32:08.040 [http-nio-8080-exec-1] DEBUG org.apache.wicket.MarkupContainer -- Add counter-link to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 0]\n15:32:08.040 [http-nio-8080-exec-1] DEBUG org.apache.wicket.MarkupContainer -- Add counter-label to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 0]\n15:32:08.044 [http-nio-8080-exec-1] DEBUG org.apache.wicket.markup.MarkupCache -- Load markup: cacheKey=com.asgarov.wicket.demo.counter.MyCounter_en_US.html\n15:32:08.055 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource 'com/asgarov/wicket/demo/counter/MyCounter_en_US.html' using finder'[classpath]'\n15:32:08.056 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource 'com/asgarov/wicket/demo/counter/MyCounter_en_US.html' using finder'[webapppath: /]'\n15:32:08.056 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource 'com/asgarov/wicket/demo/counter/MyCounter_en_US.html' using finder'[classpath: META-INF/resources/]'\n15:32:08.057 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource 'com/asgarov/wicket/demo/counter/MyCounter_en.html' using finder'[classpath]'\n15:32:08.057 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource 'com/asgarov/wicket/demo/counter/MyCounter_en.html' using finder'[webapppath: /]'\n15:32:08.057 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource 'com/asgarov/wicket/demo/counter/MyCounter_en.html' using finder'[classpath: META-INF/resources/]'\n15:32:08.057 [http-nio-8080-exec-1] DEBUG org.apache.wicket.core.util.resource.locator.ResourceStreamLocator -- Attempting to locate resource 'com/asgarov/wicket/demo/counter/MyCounter.html' using finder'[classpath]'\n15:32:08.064 [http-nio-8080-exec-1] DEBUG org.apache.wicket.markup.MarkupCache -- Loading markup from file:/home/asgarov1/DevTools/apache-tomcat-9.0.76/webapps/wicket_demo_war/WEB-INF/classes/com/asgarov/wicket/demo/counter/MyCounter.html\n15:32:08.088 [http-nio-8080-exec-1] DEBUG org.apache.wicket.MarkupContainer -- Add _header_ to [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 0]\n15:32:08.090 [http-nio-8080-exec-1] DEBUG org.apache.wicket.page.DefaultPageLockManager -- 'http-nio-8080-exec-1' attempting to acquire lock to page with id '0'\n15:32:08.090 [http-nio-8080-exec-1] DEBUG org.apache.wicket.page.DefaultPageLockManager -- http-nio-8080-exec-1 acquired lock to page 0\n15:32:08.093 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- Begin render [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 1]\n15:32:08.094 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- Begin render [HtmlHeaderContainer [Component id = _header_]]\n15:32:08.097 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- internalRenderHead: [Component id = counter-link]\n15:32:08.097 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- internalRenderHead: [Component id = counter-label]\n15:32:08.097 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- internalRenderHead: [HtmlHeaderContainer [Component id = _header_]]\n15:32:08.097 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- internalRenderHead: [MyCounter [Component id = 0]]\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- Rendered [HtmlHeaderContainer [Component id = _header_]]\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- End render [HtmlHeaderContainer [Component id = _header_]]\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- Begin render [Component id = counter-link]\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- Rendered [Component id = counter-link]\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- End render [Component id = counter-link]\n15:32:08.098 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- Begin render [Component id = counter-label]\n15:32:08.099 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- Rendered [Component id = counter-label]\n15:32:08.099 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- End render [Component id = counter-label]\n15:32:08.099 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- Rendered [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 1]\n15:32:08.099 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Component -- End render [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 1]\n15:32:08.104 [http-nio-8080-exec-1] DEBUG org.apache.wicket.Page -- ending request for page [Page class = com.asgarov.wicket.demo.counter.MyCounter, id = 0, render count = 1], request org.apache.wicket.protocol.http.servlet.ServletWebRequest@63e89a88\n15:32:08.105 [http-nio-8080-exec-1] DEBUG org.apache.wicket.page.DefaultPageLockManager -- 'http-nio-8080-exec-1' released lock to page with id '0'\n15:32:08.105 [http-nio-8080-exec-1] DEBUG org.apache.wicket.page.PageAccessSynchronizer -- 'http-nio-8080-exec-1' notifying blocked threads\n\n</code></pre>\n<p>What could be causing this, that Link element doesn't work but Label does when everything else is the same?</p>\n"},{"tags":["java","sql","spring","spring-boot","sql-scripts"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1472762886,"post_id":39280340,"comment_id":65895623,"body_markdown":"Put them in application.yml. Make them profile dependent.","body":"Put them in application.yml. Make them profile dependent."},{"owner":{"account_id":6528666,"reputation":972,"user_id":5050573,"accept_rate":64,"display_name":"Laurynas"},"score":0,"creation_date":1472763794,"post_id":39280340,"comment_id":65896010,"body_markdown":"I had such idea, but at the moment I would like to get values from DB :)","body":"I had such idea, but at the moment I would like to get values from DB :)"}],"answers":[{"tags":[],"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1688824907,"creation_date":1472765530,"answer_id":39281180,"question_id":39280340,"body_markdown":"By default, Spring-Boot loads `data.sql` and/or `data-${platform}.sql`.\r\n\r\nHowever, keep in mind that the script would be loaded at every start, so I would think it makes more sense (at least for production), to just have the values already present in the database, not re-inserted at every start. **I&#39;ve personally only used database initialization for test/dev purposes when using a memory database.** Still, this is the feature provided by Spring-Boot. \r\n\r\nsource: [spring-boot-howto-database-initialization][1]:\r\n\r\n&gt; Spring JDBC has a DataSource initializer feature. Spring Boot enables\r\n&gt; it by default and loads SQL from the standard locations schema.sql and\r\n&gt; data.sql (in the root of the classpath). In addition Spring Boot will\r\n&gt; load the schema-${platform}.sql and data-${platform}.sql files (if\r\n&gt; present).\r\n\r\nsrc/main/resources/**data-oracle.sql:**\r\n\r\n    insert into...\r\n    insert into...\r\n\r\n - You may define the platform with: `spring.sql.init.platform=oracle`.\r\n - You may change the name of the sql script to load with: `spring.sql.init.data-locations=myscript.sql`.\r\n - Along with `data.sql`, Spring-boot also loads `schema.sql` (before `data.sql`).\r\n - You could also have an &quot;update or insert&quot; logic in your data.sql: https://stackoverflow.com/questions/4015199/oracle-sql-update-if-exists-else-insert\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html","title":"How to run SQL scripts and get data on application startup?","body":"<p>By default, Spring-Boot loads <code>data.sql</code> and/or <code>data-${platform}.sql</code>.</p>\n<p>However, keep in mind that the script would be loaded at every start, so I would think it makes more sense (at least for production), to just have the values already present in the database, not re-inserted at every start. <strong>I've personally only used database initialization for test/dev purposes when using a memory database.</strong> Still, this is the feature provided by Spring-Boot.</p>\n<p>source: <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">spring-boot-howto-database-initialization</a>:</p>\n<blockquote>\n<p>Spring JDBC has a DataSource initializer feature. Spring Boot enables\nit by default and loads SQL from the standard locations schema.sql and\ndata.sql (in the root of the classpath). In addition Spring Boot will\nload the schema-${platform}.sql and data-${platform}.sql files (if\npresent).</p>\n</blockquote>\n<p>src/main/resources/<strong>data-oracle.sql:</strong></p>\n<pre><code>insert into...\ninsert into...\n</code></pre>\n<ul>\n<li>You may define the platform with: <code>spring.sql.init.platform=oracle</code>.</li>\n<li>You may change the name of the sql script to load with: <code>spring.sql.init.data-locations=myscript.sql</code>.</li>\n<li>Along with <code>data.sql</code>, Spring-boot also loads <code>schema.sql</code> (before <code>data.sql</code>).</li>\n<li>You could also have an &quot;update or insert&quot; logic in your data.sql: <a href=\"https://stackoverflow.com/questions/4015199/oracle-sql-update-if-exists-else-insert\">oracle sql: update if exists else insert</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3730361,"reputation":1846,"user_id":3102965,"accept_rate":74,"display_name":"Siddharth Sachdeva"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1545168434,"creation_date":1545101966,"answer_id":53825807,"question_id":39280340,"body_markdown":"If you want to insert data based on some business logic I would recommend you to have Event Listener. So basically on application startup &quot;OnApplicationEvent&quot; as it is annotated with @EventListener method will be called automatically.\r\n\r\nAlso as in your case you need to get the data, you simply use your repository object to get the data as well.\r\n\r\nHere&#39;s one example:\r\n\r\n    @Component\r\n    public class OnApplicationStartUp {\r\n\r\n\t   @Autowired\r\n\t   private ServiceRepository repository;\r\n\r\n\r\n\t   @EventListener\r\n\t   public void onApplicationEvent(ContextRefreshedEvent event) {\r\n\r\n           //Write your business logic here.\r\n\t\t   if (repository.findAll().size() &lt;= 0) {\r\n\t\t\t   preloadData();\r\n\t\t   }else{\r\n               fetchData();\r\n           }\r\n\t   }\r\n\r\n\t    private void preloadData() {\r\n\r\n           List&lt;Service&gt; services = new ArrayList&lt;&gt;();\r\n\t\t   Service someService= new Service(&quot;name&quot;, &quot;type&quot;);\r\n\t\t   services.add(someService);\r\n           ...\r\n           ...\r\n           repository.saveAll(services);\r\n       }\r\n    }","title":"How to run SQL scripts and get data on application startup?","body":"<p>If you want to insert data based on some business logic I would recommend you to have Event Listener. So basically on application startup \"OnApplicationEvent\" as it is annotated with @EventListener method will be called automatically.</p>\n\n<p>Also as in your case you need to get the data, you simply use your repository object to get the data as well.</p>\n\n<p>Here's one example:</p>\n\n<pre><code>@Component\npublic class OnApplicationStartUp {\n\n   @Autowired\n   private ServiceRepository repository;\n\n\n   @EventListener\n   public void onApplicationEvent(ContextRefreshedEvent event) {\n\n       //Write your business logic here.\n       if (repository.findAll().size() &lt;= 0) {\n           preloadData();\n       }else{\n           fetchData();\n       }\n   }\n\n    private void preloadData() {\n\n       List&lt;Service&gt; services = new ArrayList&lt;&gt;();\n       Service someService= new Service(\"name\", \"type\");\n       services.add(someService);\n       ...\n       ...\n       repository.saveAll(services);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10910903,"reputation":264,"user_id":8020330,"display_name":"Cocuthemyth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553007891,"creation_date":1545120365,"answer_id":53828685,"question_id":39280340,"body_markdown":"If you getting from application.properties file you can use Environment class.\r\nLike that \r\n\r\n    Autowired\r\n    private Environment environment;\r\n    ...\r\n    environment.getProperty(&quot;propertyName&quot;)\r\n\r\nor you can define your own property file. then you can get from it with \r\n`@PropertySource(name = &quot;myProperties&quot;, value = &quot;example.properties&quot;)` annotation\r\n\r\nYou need to use @Value annotation to get a specific value from the property file which you defined.  \r\n\r\n    @Value(&quot;${propertyNameInYourPropertFile}&quot;)\r\n    private String url;\r\n\r\n\r\nAnd You want to start something when Application is just started, you can use this before a method \r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\nBut need to use @Service or @Component Annotation, which Class has the method. \r\n\r\nTotally, You can use this.\r\n\r\nexample.properties :\r\n\r\n    url=yourValue\r\n    userName=yourDBUserName\r\n    password=yourDBPassword\r\n\r\nexample class :\r\n\r\n    @Service\r\n    @PropertySource(name = &quot;myProperties&quot;, value = &quot;example.properties&quot;)\r\n    public class Start{\r\n    \r\n        @Value(&quot;${url}&quot;)\r\n        private String url;\r\n        \r\n        @Value(&quot;${userName}&quot;)\r\n        private String userName;\r\n        \r\n        @Value(&quot;${password}&quot;)\r\n        private String password;\r\n    \r\n    \r\n        //Run this method when application started\r\n        @EventListener(ApplicationReadyEvent.class)\r\n        public ResultSet getConnection()\r\n        {\r\n    \r\n            //Connect to Database\r\n            Connection connection = null;\r\n            String QUERY=&quot;your sql query&quot;;\r\n            try {\r\n                DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());\r\n                connection = DriverManager.getConnection(url, userName, password );\r\n            } catch (SQLException e) {\r\n            }\r\n    \r\n    \r\n            //Run your query\r\n            Statement stmt = null;\r\n            try {\r\n                stmt = connection.createStatement();\r\n            } catch (SQLException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n            ResultSet rs = null;\r\n            try {\r\n                rs = stmt.executeQuery(QUERY);\r\n            } catch (SQLException e1) {\r\n                e1.printStackTrace();\r\n            }\r\n    \r\n            return rs;\r\n        }\r\n    \r\n    }\r\n     ","title":"How to run SQL scripts and get data on application startup?","body":"<p>If you getting from application.properties file you can use Environment class.\nLike that </p>\n\n<pre><code>Autowired\nprivate Environment environment;\n...\nenvironment.getProperty(\"propertyName\")\n</code></pre>\n\n<p>or you can define your own property file. then you can get from it with \n<code>@PropertySource(name = \"myProperties\", value = \"example.properties\")</code> annotation</p>\n\n<p>You need to use @Value annotation to get a specific value from the property file which you defined.  </p>\n\n<pre><code>@Value(\"${propertyNameInYourPropertFile}\")\nprivate String url;\n</code></pre>\n\n<p>And You want to start something when Application is just started, you can use this before a method </p>\n\n<pre><code>@EventListener(ApplicationReadyEvent.class)\n</code></pre>\n\n<p>But need to use @Service or @Component Annotation, which Class has the method. </p>\n\n<p>Totally, You can use this.</p>\n\n<p>example.properties :</p>\n\n<pre><code>url=yourValue\nuserName=yourDBUserName\npassword=yourDBPassword\n</code></pre>\n\n<p>example class :</p>\n\n<pre><code>@Service\n@PropertySource(name = \"myProperties\", value = \"example.properties\")\npublic class Start{\n\n    @Value(\"${url}\")\n    private String url;\n\n    @Value(\"${userName}\")\n    private String userName;\n\n    @Value(\"${password}\")\n    private String password;\n\n\n    //Run this method when application started\n    @EventListener(ApplicationReadyEvent.class)\n    public ResultSet getConnection()\n    {\n\n        //Connect to Database\n        Connection connection = null;\n        String QUERY=\"your sql query\";\n        try {\n            DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());\n            connection = DriverManager.getConnection(url, userName, password );\n        } catch (SQLException e) {\n        }\n\n\n        //Run your query\n        Statement stmt = null;\n        try {\n            stmt = connection.createStatement();\n        } catch (SQLException e1) {\n            e1.printStackTrace();\n        }\n        ResultSet rs = null;\n        try {\n            rs = stmt.executeQuery(QUERY);\n        } catch (SQLException e1) {\n            e1.printStackTrace();\n        }\n\n        return rs;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13520631,"reputation":6475,"user_id":9753985,"display_name":"Emeric"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1572518627,"creation_date":1572518627,"answer_id":58641619,"question_id":39280340,"body_markdown":"What worked for me is using `DataSourceInitializer`:\r\n\r\n    @Bean\r\n    public DataSourceInitializer dataSourceInitializer(@Qualifier(&quot;dataSource&quot;) final DataSource dataSource) {\r\n        ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\r\n        resourceDatabasePopulator.addScript(new ClassPathResource(&quot;/data.sql&quot;));\r\n        DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\r\n        dataSourceInitializer.setDataSource(dataSource);\r\n        dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\r\n        return dataSourceInitializer;\r\n    }\r\n\r\n&gt; Used to set up a database during initialization and clean up a\r\n&gt; database during destruction.\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/init/DataSourceInitializer.html\r\n","title":"How to run SQL scripts and get data on application startup?","body":"<p>What worked for me is using <code>DataSourceInitializer</code>:</p>\n\n<pre><code>@Bean\npublic DataSourceInitializer dataSourceInitializer(@Qualifier(\"dataSource\") final DataSource dataSource) {\n    ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator();\n    resourceDatabasePopulator.addScript(new ClassPathResource(\"/data.sql\"));\n    DataSourceInitializer dataSourceInitializer = new DataSourceInitializer();\n    dataSourceInitializer.setDataSource(dataSource);\n    dataSourceInitializer.setDatabasePopulator(resourceDatabasePopulator);\n    return dataSourceInitializer;\n}\n</code></pre>\n\n<blockquote>\n  <p>Used to set up a database during initialization and clean up a\n  database during destruction.</p>\n</blockquote>\n\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/init/DataSourceInitializer.html\" rel=\"noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/datasource/init/DataSourceInitializer.html</a></p>\n"},{"tags":[],"owner":{"account_id":13715324,"reputation":191,"user_id":9896584,"display_name":"Philip Dilip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575796221,"creation_date":1575795450,"answer_id":59233867,"question_id":39280340,"body_markdown":" 1. Define a Spring Bean (e.g. GlobalConfigurationBean)&lt;br&gt;\r\nwith Scope: @Scope(scopeName = WebApplicationContext.SCOPE_APPLICATION) &lt;br&gt;\r\nThis Bean would be responsible for fetching the data from your Database Table (maintaining Configuration properties) during Bean initialization.\r\n\r\n 2. Annotate a method using @PostConstruct.&lt;br&gt; This method would have the logic to fetch the Configuration parameters from your database table.\r\n\r\n 3. The scope of this bean would ensure that required Configurations are fetched only once from the database table (e.g. using Hibernate query or pure native SQL) and &lt;br&gt; are available to all beans from different contexts within same application.\r\n\r\nNow just inject this bean wherever you wish to use those Configuration Properties or parameters.&lt;br&gt;\r\n&lt;br&gt;\r\nOR \r\n&lt;br&gt;&lt;br&gt;\r\nUse:: Apache Commons DatabaseConfiguration &lt;-- &lt;br&gt;\r\nNOTE:: It doesn&#39;t support caching. But I guess you don&#39;t need caching as the database configuration properties should be loaded only once, at the start of application launch. &lt;br&gt;\r\n&lt;br&gt;\r\nOR \r\n&lt;br&gt;&lt;br&gt;\r\nTrandational Old way: Define a Custom Implementation of &quot;PropertyPlaceHolderConfigurer&quot; by extending it, and define it as a Spring Bean.&lt;br&gt;\r\nThis implementaion should have logic to fetch the data from your database table, that holds configuration properties.","title":"How to run SQL scripts and get data on application startup?","body":"<ol>\n<li><p>Define a Spring Bean (e.g. GlobalConfigurationBean)<br>\nwith Scope: @Scope(scopeName = WebApplicationContext.SCOPE_APPLICATION) <br>\nThis Bean would be responsible for fetching the data from your Database Table (maintaining Configuration properties) during Bean initialization.</p></li>\n<li><p>Annotate a method using @PostConstruct.<br> This method would have the logic to fetch the Configuration parameters from your database table.</p></li>\n<li><p>The scope of this bean would ensure that required Configurations are fetched only once from the database table (e.g. using Hibernate query or pure native SQL) and <br> are available to all beans from different contexts within same application.</p></li>\n</ol>\n\n<p>Now just inject this bean wherever you wish to use those Configuration Properties or parameters.<br>\n<br>\nOR \n<br><br>\nUse:: Apache Commons DatabaseConfiguration &lt;-- <br>\nNOTE:: It doesn't support caching. But I guess you don't need caching as the database configuration properties should be loaded only once, at the start of application launch. <br>\n<br>\nOR \n<br><br>\nTrandational Old way: Define a Custom Implementation of \"PropertyPlaceHolderConfigurer\" by extending it, and define it as a Spring Bean.<br>\nThis implementaion should have logic to fetch the data from your database table, that holds configuration properties.</p>\n"},{"tags":[],"owner":{"account_id":14230288,"reputation":241,"user_id":10279724,"display_name":"pjsagar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1617136219,"creation_date":1596713123,"answer_id":63282549,"question_id":39280340,"body_markdown":"If want to load data from sql script after startup, use ResourceDatabasePopulator class object as follows. \r\n\r\n```\r\nimport org.springframework.boot.context.event.ApplicationReadyEvent;\r\nimport org.springframework.context.event.EventListener;\r\nimport org.springframework.core.io.ClassPathResource;\r\nimport org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;\r\n\r\nimport javax.sql.DataSource;\r\n\r\n@Component\r\npublic class InitializeData {\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void loadData() {\r\n            ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator(false, false, &quot;UTF-8&quot;, new ClassPathResource(&quot;data.sql&quot;));\r\n        resourceDatabasePopulator.execute(dataSource);\r\n    }\r\n}\r\n```\r\nIt will easily load data from sql file and dont worry about wrong sql statements inside sql file as it will be ignored.","title":"How to run SQL scripts and get data on application startup?","body":"<p>If want to load data from sql script after startup, use ResourceDatabasePopulator class object as follows.</p>\n<pre><code>import org.springframework.boot.context.event.ApplicationReadyEvent;\nimport org.springframework.context.event.EventListener;\nimport org.springframework.core.io.ClassPathResource;\nimport org.springframework.jdbc.datasource.init.ResourceDatabasePopulator;\n\nimport javax.sql.DataSource;\n\n@Component\npublic class InitializeData {\n\n    @Autowired\n    private DataSource dataSource;\n\n    @EventListener(ApplicationReadyEvent.class)\n    public void loadData() {\n            ResourceDatabasePopulator resourceDatabasePopulator = new ResourceDatabasePopulator(false, false, &quot;UTF-8&quot;, new ClassPathResource(&quot;data.sql&quot;));\n        resourceDatabasePopulator.execute(dataSource);\n    }\n}\n</code></pre>\n<p>It will easily load data from sql file and dont worry about wrong sql statements inside sql file as it will be ignored.</p>\n"},{"tags":[],"owner":{"account_id":26621031,"reputation":19,"user_id":20239816,"display_name":"Hari Krishnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672297083,"creation_date":1672219839,"answer_id":74938502,"question_id":39280340,"body_markdown":" Initialize Database(Execute schema.sql and data.sql) using JDBC in spring boot \r\n    \r\nNote: Follow these steps \r\n       \r\n1. create sample project pom.xml (edit it based on your version)\r\n                \r\n                &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n                &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n                \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n                \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n                \t&lt;parent&gt;\r\n                \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n                \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n                \t&lt;/parent&gt;\r\n                \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n                \t&lt;artifactId&gt;Init_Sql_Script&lt;/artifactId&gt;\r\n                \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n                \t&lt;name&gt;Init_Sql_Script&lt;/name&gt;\r\n                \t&lt;description&gt;Initialize a Database Using Basic SQL Scripts&lt;/description&gt;\r\n                \t&lt;properties&gt;\r\n                \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n                \t&lt;/properties&gt;\r\n                \t&lt;dependencies&gt;\r\n                \r\n                \t\t&lt;dependency&gt;\r\n                \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                \t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n                \t\t&lt;/dependency&gt;\r\n                \r\n                \t\t&lt;dependency&gt;\r\n                \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                \t\t&lt;/dependency&gt;\r\n                \r\n                \t\t&lt;dependency&gt;\r\n                \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n                \t\t&lt;/dependency&gt;\r\n                \r\n                \t\t&lt;dependency&gt;\r\n                \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n                \t\t&lt;/dependency&gt;\r\n                \t&lt;/dependencies&gt;\r\n                \r\n                \t&lt;build&gt;\r\n                \t\t&lt;plugins&gt;\r\n                \t\t\t&lt;plugin&gt;\r\n                \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                \t\t\t&lt;/plugin&gt;\r\n                \t\t&lt;/plugins&gt;\r\n                \t&lt;/build&gt;\r\n                \r\n                &lt;/project&gt;\r\n                \r\n                \r\n2.  application properties &amp;&amp; create new db name like employee in ur DB\r\n            \r\n                # connection code for spring boot to your DB\r\n                spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n                spring.datasource.url=jdbc:mysql://localhost:3306/employee\r\n                spring.datasource.username=Hari\r\n                spring.datasource.password=1998\r\n                \r\n                spring.jpa.hibernate.ddl-auto=none\r\n                \r\n                #--- control the sql db initialization (from schema.sql and data.sql)---\r\n                spring. SQL.init.mode=always\r\n                \r\n                \r\n                #---if any error it skips the script and executes the next script----\r\n                #spring.sql.init.continue-on-error=true\r\n                \r\n3.  create two SQL files (schema.sql-create table query and data.sql-insert query) in the resource folder \r\n4. run the application after that check db thats all Try it.\r\n\r\n\r\nIt is working for me I Hope its working for u also ","title":"How to run SQL scripts and get data on application startup?","body":"<p>Initialize Database(Execute schema.sql and data.sql) using JDBC in spring boot</p>\n<p>Note: Follow these steps</p>\n<ol>\n<li><p>create sample project pom.xml (edit it based on your version)</p>\n<pre><code>         &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n         &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n             &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n             &lt;parent&gt;\n                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                 &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n                 &lt;version&gt;3.0.1&lt;/version&gt;\n                 &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n             &lt;/parent&gt;\n             &lt;groupId&gt;com.example&lt;/groupId&gt;\n             &lt;artifactId&gt;Init_Sql_Script&lt;/artifactId&gt;\n             &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n             &lt;name&gt;Init_Sql_Script&lt;/name&gt;\n             &lt;description&gt;Initialize a Database Using Basic SQL Scripts&lt;/description&gt;\n             &lt;properties&gt;\n                 &lt;java.version&gt;17&lt;/java.version&gt;\n             &lt;/properties&gt;\n             &lt;dependencies&gt;\n\n                 &lt;dependency&gt;\n                     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                     &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n                 &lt;/dependency&gt;\n\n                 &lt;dependency&gt;\n                     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                     &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n                 &lt;/dependency&gt;\n\n                 &lt;dependency&gt;\n                     &lt;groupId&gt;mysql&lt;/groupId&gt;\n                     &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                     &lt;scope&gt;runtime&lt;/scope&gt;\n                 &lt;/dependency&gt;\n\n                 &lt;dependency&gt;\n                     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                     &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                     &lt;scope&gt;test&lt;/scope&gt;\n                 &lt;/dependency&gt;\n             &lt;/dependencies&gt;\n\n             &lt;build&gt;\n                 &lt;plugins&gt;\n                     &lt;plugin&gt;\n                         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                         &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                     &lt;/plugin&gt;\n                 &lt;/plugins&gt;\n             &lt;/build&gt;\n\n         &lt;/project&gt;\n</code></pre>\n</li>\n<li><p>application properties &amp;&amp; create new db name like employee in ur DB</p>\n<pre><code>        # connection code for spring boot to your DB\n        spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n        spring.datasource.url=jdbc:mysql://localhost:3306/employee\n        spring.datasource.username=Hari\n        spring.datasource.password=1998\n\n        spring.jpa.hibernate.ddl-auto=none\n\n        #--- control the sql db initialization (from schema.sql and data.sql)---\n        spring. SQL.init.mode=always\n\n\n        #---if any error it skips the script and executes the next script----\n        #spring.sql.init.continue-on-error=true\n</code></pre>\n</li>\n<li><p>create two SQL files (schema.sql-create table query and data.sql-insert query) in the resource folder</p>\n</li>\n<li><p>run the application after that check db thats all Try it.</p>\n</li>\n</ol>\n<p>It is working for me I Hope its working for u also</p>\n"}],"owner":{"account_id":6528666,"reputation":972,"user_id":5050573,"accept_rate":64,"display_name":"Laurynas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115865,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":39281180,"answer_count":7,"score":38,"last_activity_date":1688824907,"creation_date":1472761583,"question_id":39280340,"body_markdown":"I am developing a Spring Boot application. At the moment some of my configs are hard coded (e.g. Hystrix properties).\r\n\r\nSo I would like to get these configs on my application start up time or just after that. \r\n\r\nIs it possible to do that using Spring Boot? I mean to run SQL script on start up and get data.\r\n\r\nHow should properties/configs be retrieved and stored in my application?\r\n\r\nI am using MyBatis and Oracle DB.","title":"How to run SQL scripts and get data on application startup?","body":"<p>I am developing a Spring Boot application. At the moment some of my configs are hard coded (e.g. Hystrix properties).</p>\n\n<p>So I would like to get these configs on my application start up time or just after that. </p>\n\n<p>Is it possible to do that using Spring Boot? I mean to run SQL script on start up and get data.</p>\n\n<p>How should properties/configs be retrieved and stored in my application?</p>\n\n<p>I am using MyBatis and Oracle DB.</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"display_name":"user357812"},"score":1,"creation_date":1293023971,"post_id":4508682,"comment_id":4936422,"body_markdown":"If you go with XPath 1.0, then you need to register the `xsi` prefix - `http://www.w3.org/2001/XMLSchema-instance` namespace URI bound for the attribute name test `@xsi:type`. There are a lot of answers in SO about registering namespace in java.","body":"If you go with XPath 1.0, then you need to register the <code>xsi</code> prefix - <code>http:&#47;&#47;www.w3.org&#47;2001&#47;XMLSchema-instance</code> namespace URI bound for the attribute name test <code>@xsi:type</code>. There are a lot of answers in SO about registering namespace in java."},{"owner":{"account_id":26231,"reputation":883,"user_id":68046,"accept_rate":88,"display_name":"XanderLynn"},"score":0,"creation_date":1293037629,"post_id":4508682,"comment_id":4939318,"body_markdown":"You are right. I registered the namespace by creating a class that implemented NamespaceContext then on my xpath.compile(&quot;//*[@xsi:type=&#39;wi:Webi&#39;] &quot;) this seems to have given me the correct answer.","body":"You are right. I registered the namespace by creating a class that implemented NamespaceContext then on my xpath.compile(&quot;//*[@xsi:type=&#39;wi:Webi&#39;] &quot;) this seems to have given me the correct answer."}],"answers":[{"tags":[],"owner":{"account_id":103447,"reputation":6421,"user_id":277084,"accept_rate":100,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1293017324,"creation_date":1293017324,"answer_id":4508713,"question_id":4508682,"body_markdown":"There&#39;s &quot;runs fast and light&quot; efficiency, then there&#39;s &quot;developer writing fewer lines of code&quot; efficiency. Which are you most concerned about?\r\n\r\nIf it&#39;s speed, look into SAX processing as it cannot be overstated how much more efficient it can be if your requirements can get by with it.  It&#39;s quite a mental adjustment going from DOM to SAX but I recommend it.\r\n\r\nOtherwise if you need to stick with DOM, look at XPath to easily extract all matching elements.","title":"Efficient XML Parsing for specific xsi:type","body":"<p>There's \"runs fast and light\" efficiency, then there's \"developer writing fewer lines of code\" efficiency. Which are you most concerned about?</p>\n\n<p>If it's speed, look into SAX processing as it cannot be overstated how much more efficient it can be if your requirements can get by with it.  It's quite a mental adjustment going from DOM to SAX but I recommend it.</p>\n\n<p>Otherwise if you need to stick with DOM, look at XPath to easily extract all matching elements.</p>\n"}],"owner":{"account_id":26231,"reputation":883,"user_id":68046,"accept_rate":88,"display_name":"XanderLynn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1342,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":4508713,"answer_count":1,"score":2,"last_activity_date":1688824407,"creation_date":1293017151,"question_id":4508682,"body_markdown":"I have a directory of large xml files with the following setup:\r\n\r\n    &lt;io:InfoObjects xmlns:crole=&quot;http://enterprise.businessobjects.com/3.0/customrole&quot; \r\n     xmlns:fo=&quot;http://enterprise.businessobjects.com/3.0/folder&quot;  \r\n     xmlns:io=&quot;http://enterprise.businessobjects.com/3.0/infoobject&quot; \r\n     xmlns:md.dc=&quot;http://enterprise.businessobjects.com/3.0/metadata.dataconnection&quot;  \r\n     xmlns:un=&quot;http://enterprise.businessobjects.com/3.0/universe&quot; \r\n     xmlns:wi=&quot;http://enterprise.businessobjects.com/3.0/webi&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n     xsi:schemaLocation=&quot;http://enterprise.businessobjects.com/3.0/customrole BusinessObjects_CustomRole.xsd  \r\n     http://enterprise.businessobjects.com/3.0/folder BusinessObjects_Folder.xsd \r\n     http://enterprise.businessobjects.com/3.0/infoobject BusinessObjects_InfoObject.xsd  \r\n     http://enterprise.businessobjects.com/3.0/metadata.dataconnection BusinessObjects_MetaData_DataConnection.xsd \r\n     http://enterprise.businessobjects.com/3.0/universe BusinessObjects_Universe.xsd \r\n     http://enterprise.businessobjects.com/3.0/webi BusinessObjects_Webi.xsd&quot; version=&quot;1200&quot; illegalCharsEncoded=&quot;true&quot;&gt;\r\n     &lt;io:InfoObject xsi:type=&quot;wi:Webi&quot;&gt;\r\n      &lt;io:ID&gt;1&lt;/io:ID&gt; \r\n      &lt;io:Name&gt;MyName&lt;/io:Name&gt;\r\n      &lt;io:Description&gt;NoDesc&lt;/io:Description&gt;\r\n     &lt;/io:InfoObject&gt;\r\n    &lt;/io:InfoObjects&gt;\r\n\r\nI am currently using dom and parsing through each node/element until I find my specific type of wi:Webi. This seems terribly inefficient and feel that I am missing a Java function that would allow me to simply extract all elements/nodes with the type of &quot;wi:Webi&quot;. Is there a simpler solution?\r\n\r\nI am using Java 1.5.\r\n\r\nUpdates\r\n---\r\n\r\nI am starting to use XPath but, am having issues with the expression creation. So far I am trying:\r\n \r\n\r\n    xpath.compile(&quot;//*[@xsi:type=&#39;wi:Webi&#39;]&quot;);\r\n\r\nAccording to other Stack Overflow posts who had similar issues I need to define in my expression the namespace. I was hoping that the *[@xsi:type] search would state for any child with type of wi:Webi return it as in the nodelist.\r\n","title":"Efficient XML Parsing for specific xsi:type","body":"<p>I have a directory of large xml files with the following setup:</p>\n<pre><code>&lt;io:InfoObjects xmlns:crole=&quot;http://enterprise.businessobjects.com/3.0/customrole&quot; \n xmlns:fo=&quot;http://enterprise.businessobjects.com/3.0/folder&quot;  \n xmlns:io=&quot;http://enterprise.businessobjects.com/3.0/infoobject&quot; \n xmlns:md.dc=&quot;http://enterprise.businessobjects.com/3.0/metadata.dataconnection&quot;  \n xmlns:un=&quot;http://enterprise.businessobjects.com/3.0/universe&quot; \n xmlns:wi=&quot;http://enterprise.businessobjects.com/3.0/webi&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n xsi:schemaLocation=&quot;http://enterprise.businessobjects.com/3.0/customrole BusinessObjects_CustomRole.xsd  \n http://enterprise.businessobjects.com/3.0/folder BusinessObjects_Folder.xsd \n http://enterprise.businessobjects.com/3.0/infoobject BusinessObjects_InfoObject.xsd  \n http://enterprise.businessobjects.com/3.0/metadata.dataconnection BusinessObjects_MetaData_DataConnection.xsd \n http://enterprise.businessobjects.com/3.0/universe BusinessObjects_Universe.xsd \n http://enterprise.businessobjects.com/3.0/webi BusinessObjects_Webi.xsd&quot; version=&quot;1200&quot; illegalCharsEncoded=&quot;true&quot;&gt;\n &lt;io:InfoObject xsi:type=&quot;wi:Webi&quot;&gt;\n  &lt;io:ID&gt;1&lt;/io:ID&gt; \n  &lt;io:Name&gt;MyName&lt;/io:Name&gt;\n  &lt;io:Description&gt;NoDesc&lt;/io:Description&gt;\n &lt;/io:InfoObject&gt;\n&lt;/io:InfoObjects&gt;\n</code></pre>\n<p>I am currently using dom and parsing through each node/element until I find my specific type of wi:Webi. This seems terribly inefficient and feel that I am missing a Java function that would allow me to simply extract all elements/nodes with the type of &quot;wi:Webi&quot;. Is there a simpler solution?</p>\n<p>I am using Java 1.5.</p>\n<h2>Updates</h2>\n<p>I am starting to use XPath but, am having issues with the expression creation. So far I am trying:</p>\n<pre><code>xpath.compile(&quot;//*[@xsi:type='wi:Webi']&quot;);\n</code></pre>\n<p>According to other Stack Overflow posts who had similar issues I need to define in my expression the namespace. I was hoping that the *[@xsi:type] search would state for any child with type of wi:Webi return it as in the nodelist.</p>\n"},{"tags":["java","android-studio","accessibility","android-permissions"],"owner":{"account_id":27072924,"reputation":11,"user_id":20623318,"display_name":"Amila Udara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688824285,"creation_date":1688806691,"question_id":76642153,"body_markdown":"These are the codes I wrote to show the lock screen to the user when opening a locked app in my app locker app. It works without any problem. But there is a small problem.\r\n\r\n- For example, if I lock WhatsApp, every time I open WhatsApp, I see the lock screen. But when I unlock the lock and chat with someone, I use emojis. When I go to the place where I want to select emoji, I see the lock screen on WhatsApp. It is a problem for the user. For another example, if someone sends me a photo, when I touch on that photo in WhatsApp, I see the lock screen. I saw this only on WhatsApp. In many other apps, this kind of lock screen is shown to the user at unnecessary times.\r\n\r\nSo it causes trouble for the user. Please help me to solve that problem.\r\n\r\n \r\n\r\n    import android.accessibilityservice.AccessibilityService; \r\n    import android.accessibilityservice.AccessibilityServiceInfo; \r\n    import android.app.Notification; \r\n    import android.app.PendingIntent; \r\n    import android.content.Context; \r\n    import android.content.Intent; \r\n    import android.util.Log; \r\n    import android.view.accessibility.AccessibilityEvent; \r\n    import android.widget.Toast; \r\n    import androidx.core.app.NotificationCompat; \r\n    import com.coremora.secure.MainActivity; \r\n    import com.coremora.secure.R; \r\n    import com.coremora.secure.lockScreens.PatternLockScreen;   \r\n    import com.coremora.secure.lockScreens.PinCodeLockScreen; \r\n    import static com.coremora.secure.MainActivity.dbPackage; \r\n    import static com.coremora.secure.MainActivity.pass; \r\n    import static com.coremora.secure.MainActivity.passType; \r\n    import static com.coremora.secure.MainActivity.updateData; \r\n   \r\n    public class MyAccessibilityService extends AccessibilityService { \r\n\r\n    static String secondApp = &quot;&quot;; \r\n\r\n    public static void getAppAndLock(Context context, AccessibilityEvent event) { \r\n\r\n        String topActivity = event.getPackageName() + &quot;&quot;; \r\n        if (secondApp.equals(context.getPackageName()) || secondApp.equals(topActivity) || topActivity.equals(context.getPackageName())) { \r\n        } else { \r\n            for (String currentPackage : dbPackage) { \r\n                if (topActivity.equals(currentPackage)) { \r\n                    if (!pass.equals(&quot;&quot;)) { \r\n                        if (passType.equals(&quot;pin&quot;)) { \r\n                            Intent intent = new Intent(context, PinCodeLockScreen.class); \r\n                            intent.putExtra(&quot;packageName&quot;,topActivity); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);                             intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); \r\n                            context.startActivity(intent); \r\n                        } else { \r\n                            Intent intent = new Intent(context, PatternLockScreen.class); \r\n                            intent.putExtra(&quot;packageName&quot;, topActivity); \r\n                           intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);                            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); \r\n                            context.startActivity(intent); \r\n                        } \r\n                    } \r\n                } \r\n            } \r\n        } \r\n        secondApp = topActivity; \r\n    } \r\n \r\n    @Override \r\n    public void onAccessibilityEvent(AccessibilityEvent event) { \r\n\r\n        getAppAndLock(this, event); \r\n    } \r\n \r\n    @Override \r\n    public void onServiceConnected() { \r\n        updateData(this); \r\n        AccessibilityServiceInfo info = new AccessibilityServiceInfo(); \r\n        info.eventTypes = AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED; \r\n        info.feedbackType = AccessibilityServiceInfo.FEEDBACK_SPOKEN; \r\n        this.setServiceInfo(info); \r\n    } \r\n\r\n    @Override \r\n    public void onInterrupt() { \r\n        Toast.makeText(this, &quot;Service Interrupt&quot;, Toast.LENGTH_SHORT).show(); \r\n    } \r\n \r\n    @Override \r\n    public int onStartCommand(Intent intent, int flags, int startId) { \r\n\r\n        Intent notificationIntent = new Intent(this, MainActivity.class); \r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, \r\n                0, notificationIntent, PendingIntent.FLAG_IMMUTABLE); \r\n\r\n        Notification notification = new NotificationCompat.Builder(this, App.CHANNEL_ID) \r\n                .setContentTitle(&quot;App Lock&quot;) \r\n                .setContentText(&quot;App Lock service started&quot;) \r\n                .setSmallIcon(R.drawable.icon) \r\n                .setContentIntent(pendingIntent) \r\n                .build(); \r\n\r\n        startForeground(1, notification); \r\n        return START_STICKY; \r\n      } \r\n    } ","title":"How to use Accessibility Permission in Android Studio","body":"<p>These are the codes I wrote to show the lock screen to the user when opening a locked app in my app locker app. It works without any problem. But there is a small problem.</p>\n<ul>\n<li>For example, if I lock WhatsApp, every time I open WhatsApp, I see the lock screen. But when I unlock the lock and chat with someone, I use emojis. When I go to the place where I want to select emoji, I see the lock screen on WhatsApp. It is a problem for the user. For another example, if someone sends me a photo, when I touch on that photo in WhatsApp, I see the lock screen. I saw this only on WhatsApp. In many other apps, this kind of lock screen is shown to the user at unnecessary times.</li>\n</ul>\n<p>So it causes trouble for the user. Please help me to solve that problem.</p>\n<pre><code>import android.accessibilityservice.AccessibilityService; \nimport android.accessibilityservice.AccessibilityServiceInfo; \nimport android.app.Notification; \nimport android.app.PendingIntent; \nimport android.content.Context; \nimport android.content.Intent; \nimport android.util.Log; \nimport android.view.accessibility.AccessibilityEvent; \nimport android.widget.Toast; \nimport androidx.core.app.NotificationCompat; \nimport com.coremora.secure.MainActivity; \nimport com.coremora.secure.R; \nimport com.coremora.secure.lockScreens.PatternLockScreen;   \nimport com.coremora.secure.lockScreens.PinCodeLockScreen; \nimport static com.coremora.secure.MainActivity.dbPackage; \nimport static com.coremora.secure.MainActivity.pass; \nimport static com.coremora.secure.MainActivity.passType; \nimport static com.coremora.secure.MainActivity.updateData; \n\npublic class MyAccessibilityService extends AccessibilityService { \n\nstatic String secondApp = &quot;&quot;; \n\npublic static void getAppAndLock(Context context, AccessibilityEvent event) { \n\n    String topActivity = event.getPackageName() + &quot;&quot;; \n    if (secondApp.equals(context.getPackageName()) || secondApp.equals(topActivity) || topActivity.equals(context.getPackageName())) { \n    } else { \n        for (String currentPackage : dbPackage) { \n            if (topActivity.equals(currentPackage)) { \n                if (!pass.equals(&quot;&quot;)) { \n                    if (passType.equals(&quot;pin&quot;)) { \n                        Intent intent = new Intent(context, PinCodeLockScreen.class); \n                        intent.putExtra(&quot;packageName&quot;,topActivity); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);                             intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); \n                        context.startActivity(intent); \n                    } else { \n                        Intent intent = new Intent(context, PatternLockScreen.class); \n                        intent.putExtra(&quot;packageName&quot;, topActivity); \n                       intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);                            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); \n                        context.startActivity(intent); \n                    } \n                } \n            } \n        } \n    } \n    secondApp = topActivity; \n} \n\n@Override \npublic void onAccessibilityEvent(AccessibilityEvent event) { \n\n    getAppAndLock(this, event); \n} \n\n@Override \npublic void onServiceConnected() { \n    updateData(this); \n    AccessibilityServiceInfo info = new AccessibilityServiceInfo(); \n    info.eventTypes = AccessibilityEvent.TYPE_WINDOW_STATE_CHANGED; \n    info.feedbackType = AccessibilityServiceInfo.FEEDBACK_SPOKEN; \n    this.setServiceInfo(info); \n} \n\n@Override \npublic void onInterrupt() { \n    Toast.makeText(this, &quot;Service Interrupt&quot;, Toast.LENGTH_SHORT).show(); \n} \n\n@Override \npublic int onStartCommand(Intent intent, int flags, int startId) { \n\n    Intent notificationIntent = new Intent(this, MainActivity.class); \n    PendingIntent pendingIntent = PendingIntent.getActivity(this, \n            0, notificationIntent, PendingIntent.FLAG_IMMUTABLE); \n\n    Notification notification = new NotificationCompat.Builder(this, App.CHANNEL_ID) \n            .setContentTitle(&quot;App Lock&quot;) \n            .setContentText(&quot;App Lock service started&quot;) \n            .setSmallIcon(R.drawable.icon) \n            .setContentIntent(pendingIntent) \n            .build(); \n\n    startForeground(1, notification); \n    return START_STICKY; \n  } \n} \n</code></pre>\n"},{"tags":["java","integer"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1688824466,"post_id":76643271,"comment_id":135127448,"body_markdown":"Where are you running this? Do you have a console to enter input?","body":"Where are you running this? Do you have a console to enter input?"},{"owner":{"account_id":4655329,"reputation":1,"user_id":3771062,"display_name":"user3771062"},"score":0,"creation_date":1688824762,"post_id":76643271,"comment_id":135127495,"body_markdown":"We are running the program in BlueJ, There is an Input Console.The error is coming for in.readLine()","body":"We are running the program in BlueJ, There is an Input Console.The error is coming for in.readLine()"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688824814,"post_id":76643271,"comment_id":135127504,"body_markdown":"You need to enter each input separately followed by Enter. Sometimes IDEs are not good at this","body":"You need to enter each input separately followed by Enter. Sometimes IDEs are not good at this"},{"owner":{"account_id":4655329,"reputation":1,"user_id":3771062,"display_name":"user3771062"},"score":0,"creation_date":1688824965,"post_id":76643271,"comment_id":135127513,"body_markdown":"I got the solution. Thanks","body":"I got the solution. Thanks"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1688827123,"post_id":76643271,"comment_id":135127765,"body_markdown":"The issue has nothing to do with buffering. Read the error.","body":"The issue has nothing to do with buffering. Read the error."}],"owner":{"account_id":4655329,"reputation":1,"user_id":3771062,"display_name":"user3771062"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688824257,"creation_date":1688824257,"question_id":76643271,"body_markdown":"I am beginner of Java . When i ran the below program\r\n Adding the below code \r\n\r\n\r\nGot the below error \r\n\r\n       import java.io.*;\r\n        public class Main\r\n        {\r\n        public static void main(String args[]) throws IOException\r\n               {\r\n                    InputStreamReader read = new InputStreamReader(System.in);\r\n                    BufferedReader in = new BufferedReader(read);\r\n                    int a;\r\n                    int b;\r\n                    int c;\r\n                    double d=0;\r\n                    System.out.println(&quot;Enter the values of a, b and c&quot;);\r\n                    a=Integer.parseInt(in.readLine());\r\n                    b=Integer.parseInt(in.readLine());\r\n                    c=Integer.parseInt(in.readLine());\r\n                    d=b*b-4*a*c;\r\n                    if(d&gt;0)\r\n                           System.out.println(&quot;Roots are real and unequal&quot;);\r\n                    if(d==0)\r\n                           System.out.println(&quot;Roots are real and equal&quot;);\r\n                    if(d&lt;0)\r\n                           System.out.println(&quot;Roots are imaginary and unequal&quot;);   \r\n                \r\n                }\r\n        }\r\n\r\nI got the below error, need help on this \r\n\r\n    Got the below error \r\n    \r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: null\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:614)\r\n    \tat java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n    \tat Main.main(Main.java:17)\r\n\r\nThanks,\r\n\r\n\r\n\r\n\r\n","title":"Buffer reader issue in Java","body":"<p>I am beginner of Java . When i ran the below program\nAdding the below code</p>\n<p>Got the below error</p>\n<pre><code>   import java.io.*;\n    public class Main\n    {\n    public static void main(String args[]) throws IOException\n           {\n                InputStreamReader read = new InputStreamReader(System.in);\n                BufferedReader in = new BufferedReader(read);\n                int a;\n                int b;\n                int c;\n                double d=0;\n                System.out.println(&quot;Enter the values of a, b and c&quot;);\n                a=Integer.parseInt(in.readLine());\n                b=Integer.parseInt(in.readLine());\n                c=Integer.parseInt(in.readLine());\n                d=b*b-4*a*c;\n                if(d&gt;0)\n                       System.out.println(&quot;Roots are real and unequal&quot;);\n                if(d==0)\n                       System.out.println(&quot;Roots are real and equal&quot;);\n                if(d&lt;0)\n                       System.out.println(&quot;Roots are imaginary and unequal&quot;);   \n            \n            }\n    }\n</code></pre>\n<p>I got the below error, need help on this</p>\n<pre><code>Got the below error \n\nException in thread &quot;main&quot; java.lang.NumberFormatException: null\n    at java.base/java.lang.Integer.parseInt(Integer.java:614)\n    at java.base/java.lang.Integer.parseInt(Integer.java:770)\n    at Main.main(Main.java:17)\n</code></pre>\n<p>Thanks,</p>\n"},{"tags":["java","database","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1688824881,"post_id":76643257,"comment_id":135127509,"body_markdown":"What is the point of setting the row count to 0 in the while loop. This will add a row and then reset the rows to 0, so you can only ever have 1 row. Get rid of the setRowCount(..) statement. If you need to reload the data, then the setRowCount() statement should be executed BEFORE the while loop.","body":"What is the point of setting the row count to 0 in the while loop. This will add a row and then reset the rows to 0, so you can only ever have 1 row. Get rid of the setRowCount(..) statement. If you need to reload the data, then the setRowCount() statement should be executed BEFORE the while loop."},{"owner":{"account_id":28976102,"reputation":1,"user_id":22195175,"display_name":"bilalsahi business"},"score":0,"creation_date":1688824982,"post_id":76643257,"comment_id":135127517,"body_markdown":"thanks but can you please tell me how to remove existing rows and add new one","body":"thanks but can you please tell me how to remove existing rows and add new one"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688825025,"post_id":76643257,"comment_id":135127522,"body_markdown":"I just did. Did you read the last sentence?","body":"I just did. Did you read the last sentence?"}],"owner":{"account_id":28976102,"reputation":1,"user_id":22195175,"display_name":"bilalsahi business"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688823964,"creation_date":1688823964,"question_id":76643257,"body_markdown":"I had tried to fetch data from database and set it into the jtable but does not set their expected. I tried to fetch the required rows from database and set all those rows into jtable. when I use tbm.setRowCount(0); Only one last row in database table is displayed there and when I do not use this statement, I am able to set all my required row but they set there under the existing rows I am unable to erase the previous rows.\r\n\r\nI use this code on my button\r\n```\r\n\r\n` try {\r\n            \r\n            \r\n            String DataBaseURL = &quot;jdbc:ucanaccess://posproject1.accdb&quot;;\r\n            Connection connection=DriverManager.getConnection(DataBaseURL);\r\n            System.out.println(&quot;Successfully connected to data base&quot;);\r\n\r\nStatement st= connection.createStatement();\r\n            \r\n            String sql1=&quot;SELECT * FROM Staff&quot;;\r\n            ResultSet rs =st.executeQuery(sql1);\r\n           \r\nDefaultTableModel tbm =(DefaultTableModel)jTable1.getModel();\r\n            while(rs.next()){\r\n               \r\n          tbm.setRowCount(0);\r\n           tbm.addRow(new Object[]{rs.getString(8), rs.getString(1), rs.getString(2),rs.getString(3),rs.getString(4),rs.getString(5),rs.getString(6),rs.getString(7)});\r\n            \r\n            }\r\n             \r\n            connection.close();\r\n\r\n} catch (SQLException ex) {\r\n            Logger.getLogger(AddNewStaff.class.getName()).log(Level.SEVERE, null, ex);\r\n        }`\r\n```\r\n\r\n [This is the image when I add a new record and click add button that contain the above code with setRowCount(0);  It only displays the last row of my database table](https://i.stack.imgur.com/UCkyD.png)\r\n\r\n[Here is the Image when I did not use setRowCount(0); It display all my required rows but the first two rows are the rows that are here before the click because of I had added this same code in default custom code of table so when ever I open this window it display all the existing record by using same code without setRowCount(0); but when I tried to add new record it display the required record but under the existing record ](https://i.stack.imgur.com/fkSWa.png)\r\n\r\n\r\nI tried to set my required record in jtable starting to set from first row and remove the existing record.\r\nBut I don&#39;t know how to start setting from first row and how to erase all the previous displayed records from jtable.","title":"How to add data from database and jform to jtable perfectly?","body":"<p>I had tried to fetch data from database and set it into the jtable but does not set their expected. I tried to fetch the required rows from database and set all those rows into jtable. when I use tbm.setRowCount(0); Only one last row in database table is displayed there and when I do not use this statement, I am able to set all my required row but they set there under the existing rows I am unable to erase the previous rows.</p>\n<p>I use this code on my button</p>\n<pre><code>\n` try {\n            \n            \n            String DataBaseURL = &quot;jdbc:ucanaccess://posproject1.accdb&quot;;\n            Connection connection=DriverManager.getConnection(DataBaseURL);\n            System.out.println(&quot;Successfully connected to data base&quot;);\n\nStatement st= connection.createStatement();\n            \n            String sql1=&quot;SELECT * FROM Staff&quot;;\n            ResultSet rs =st.executeQuery(sql1);\n           \nDefaultTableModel tbm =(DefaultTableModel)jTable1.getModel();\n            while(rs.next()){\n               \n          tbm.setRowCount(0);\n           tbm.addRow(new Object[]{rs.getString(8), rs.getString(1), rs.getString(2),rs.getString(3),rs.getString(4),rs.getString(5),rs.getString(6),rs.getString(7)});\n            \n            }\n             \n            connection.close();\n\n} catch (SQLException ex) {\n            Logger.getLogger(AddNewStaff.class.getName()).log(Level.SEVERE, null, ex);\n        }`\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UCkyD.png\" rel=\"nofollow noreferrer\">This is the image when I add a new record and click add button that contain the above code with setRowCount(0);  It only displays the last row of my database table</a></p>\n<p><a href=\"https://i.stack.imgur.com/fkSWa.png\" rel=\"nofollow noreferrer\">Here is the Image when I did not use setRowCount(0); It display all my required rows but the first two rows are the rows that are here before the click because of I had added this same code in default custom code of table so when ever I open this window it display all the existing record by using same code without setRowCount(0); but when I tried to add new record it display the required record but under the existing record </a></p>\n<p>I tried to set my required record in jtable starting to set from first row and remove the existing record.\nBut I don't know how to start setting from first row and how to erase all the previous displayed records from jtable.</p>\n"},{"tags":["java","apache-spark","dataset"],"comments":[{"owner":{"account_id":279438,"reputation":2211,"user_id":574591,"accept_rate":67,"display_name":"Alina"},"score":0,"creation_date":1525778225,"post_id":43385835,"comment_id":87481821,"body_markdown":"Did you find the solution?","body":"Did you find the solution?"},{"owner":{"account_id":3595333,"reputation":565,"user_id":3000244,"display_name":"Shikkou"},"score":0,"creation_date":1532358288,"post_id":43385835,"comment_id":89932601,"body_markdown":"I assume you have the same fields in Base and Enriched, with Enriched having just one more column. Do you have the same order in both classes?","body":"I assume you have the same fields in Base and Enriched, with Enriched having just one more column. Do you have the same order in both classes?"}],"answers":[{"tags":[],"owner":{"account_id":28942997,"reputation":171,"user_id":22169190,"display_name":"Medzila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688822651,"creation_date":1688822651,"answer_id":76643175,"question_id":43385835,"body_markdown":"Hard to tell from the small piece of code, but I forsee a problem with your model here.\r\n\r\nYou have to make sure Enriched.class and Base.class have the same ordered fields.\r\n\r\nSo for example, this won&#39;t provide the same order:\r\n\r\n    Base:\r\n     x;\r\n     y;\r\n    \r\n    Enriched:\r\n     y;\r\n     x;\r\n\r\nwon&#39;t be ordered the same...\r\n","title":"How to keep the same schema&#39;s column order with Spark Dataset&#39;s map?","body":"<p>Hard to tell from the small piece of code, but I forsee a problem with your model here.</p>\n<p>You have to make sure Enriched.class and Base.class have the same ordered fields.</p>\n<p>So for example, this won't provide the same order:</p>\n<pre><code>Base:\n x;\n y;\n\nEnriched:\n y;\n x;\n</code></pre>\n<p>won't be ordered the same...</p>\n"}],"owner":{"account_id":6010212,"reputation":111,"user_id":4720895,"display_name":"Henrique Castro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1191,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1688822651,"creation_date":1492067748,"question_id":43385835,"body_markdown":"I&#39;m reading data from a Hive table and then trying to enrich it with an extra column that is derived from the other columns.\r\nBut I&#39;m having issues with Spark changing my schema and ordering all columns by name.\r\n\r\nAfter calling withColumn() and encoding it with my enriched class the schema is correct but whenever I call map() the schema changes and the order of the columns is wrong. How can I tell Spark to keep the original order of the columns?\r\n\r\n    session.table(&quot;myTable&quot;)\r\n        .as(Encoders.bean(Base.class))\r\n        .withColumn(&quot;enrichedColumn&quot;, lit(&quot;&quot;))\r\n        .as(Encoders.bean(Enriched.class))\r\n        .map(enriched -&gt; enriched.enrich(), Encoders.bean(Enriched.class))\r\n        .printSchema();","title":"How to keep the same schema&#39;s column order with Spark Dataset&#39;s map?","body":"<p>I'm reading data from a Hive table and then trying to enrich it with an extra column that is derived from the other columns.\nBut I'm having issues with Spark changing my schema and ordering all columns by name.</p>\n\n<p>After calling withColumn() and encoding it with my enriched class the schema is correct but whenever I call map() the schema changes and the order of the columns is wrong. How can I tell Spark to keep the original order of the columns?</p>\n\n<pre><code>session.table(\"myTable\")\n    .as(Encoders.bean(Base.class))\n    .withColumn(\"enrichedColumn\", lit(\"\"))\n    .as(Encoders.bean(Enriched.class))\n    .map(enriched -&gt; enriched.enrich(), Encoders.bean(Enriched.class))\n    .printSchema();\n</code></pre>\n"},{"tags":["java","tomcat","servlets","java-ee-6","j-security-check"],"owner":{"account_id":15292594,"reputation":1,"user_id":11033691,"display_name":"Ahson Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688821969,"creation_date":1688821969,"question_id":76643132,"body_markdown":"```\r\n&lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; dataSourceName=&quot;jdbc/startup&quot; \r\nuserTable=&quot;users&quot; userNameCol=&quot;user_name&quot; userCredCol=&quot;user_password&quot; userRoleTable=&quot;user_roles&quot; roleNameCol=&quot;role_name&quot; /&gt;  &lt;/Realm&gt;\r\n```\r\ni wanted to authenticate user by email instead of username while there is no any option of email in tomcat 9 realm.\r\n\r\ni tried to let my users login by email, but there is no functionality in j_security_check.","title":"How do i authenticate user by email in j_security_check?","body":"<pre><code>&lt;Realm className=&quot;org.apache.catalina.realm.DataSourceRealm&quot; dataSourceName=&quot;jdbc/startup&quot; \nuserTable=&quot;users&quot; userNameCol=&quot;user_name&quot; userCredCol=&quot;user_password&quot; userRoleTable=&quot;user_roles&quot; roleNameCol=&quot;role_name&quot; /&gt;  &lt;/Realm&gt;\n</code></pre>\n<p>i wanted to authenticate user by email instead of username while there is no any option of email in tomcat 9 realm.</p>\n<p>i tried to let my users login by email, but there is no functionality in j_security_check.</p>\n"},{"tags":["java","ibm-mq","spring-jms"],"comments":[{"owner":{"account_id":28975716,"reputation":1,"user_id":22194870,"display_name":"prasanth reddy"},"score":0,"creation_date":1688820200,"post_id":76643008,"comment_id":135126934,"body_markdown":"new dependecies:\nivy.xml :\n&lt;dependency org=&quot;com.ibm.mq&quot; name=&quot;com.ibm.mq.allclient&quot; rev=&quot;9.3.2.1&quot;/&gt;                                                       old  dependecies: &lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mq&quot;     rev=&quot;7.0.1.7&quot; /&gt; \n&lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mqjms&quot;  rev=&quot;7.0.1.7&quot; /&gt; \n&lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mq.pcf&quot; rev=&quot;7.0.1.7&quot; /&gt;","body":"new dependecies: ivy.xml : &lt;dependency org=&quot;com.ibm.mq&quot; name=&quot;com.ibm.mq.allclient&quot; rev=&quot;9.3.2.1&quot;/&gt;                                                       old  dependecies: &lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mq&quot;     rev=&quot;7.0.1.7&quot; /&gt;  &lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mqjms&quot;  rev=&quot;7.0.1.7&quot; /&gt;  &lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mq.pcf&quot; rev=&quot;7.0.1.7&quot; /&gt;"}],"owner":{"account_id":28975716,"reputation":1,"user_id":22194870,"display_name":"prasanth reddy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688820127,"creation_date":1688820127,"question_id":76643008,"body_markdown":"while sending message to queue we are getting this exception after upgrading our IBM mq server from 7.5 to 9.3 version , I have also updated ibm mq dependencies from 7.x version to 9.x version. \r\n\r\nit was working fine with old version of IBM mq.\r\n\r\nivy.xml dependencies:\r\n&lt;dependency org=&quot;com.ibm.mq&quot; name=&quot;com.ibm.mq.allclient&quot; rev=&quot;9.3.2.1&quot;/&gt;\r\n\r\nOld dependencies:\r\n&lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mq&quot;     rev=&quot;7.0.1.7&quot; /&gt; \r\n&lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mqjms&quot;  rev=&quot;7.0.1.7&quot; /&gt; \r\n&lt;dependency org=&quot;com.ibm&quot; name=&quot;com.ibm.mq.pcf&quot; rev=&quot;7.0.1.7&quot; /&gt;`\r\n\r\ntotal error :\r\n\r\n&lt;pre&gt;&lt;code&gt; Caused by: java.lang.Exception: Failed to send JMS message to queue://QueueManger/MYQUEUE after 3 tries.\r\n    at com.west.judicial.common.jms.writer.JmsSender.send(JmsSender.java:130) \\~\\[CommonServiceJmsUtil-2022.01.1.jar:?\\]\r\n    ... 26 more\r\nCaused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.msg.client.jms.DetailedJMSException: JMSCC0005: The specified value &#39;0&#39; is not allowed for &#39;JMSDeliveryMode&#39;.\r\nThe given value is not allowed for the property specified.\r\nChange the value to a value that is supported for the property.\r\n    at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:316) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:169) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:487) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:559) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:648) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at com.west.judicial.common.jms.writer.JmsSender.send(JmsSender.java:120) \\~\\[CommonServiceJmsUtil-2022.01.1.jar:?\\]\r\n    ... 26 more\r\n\\*\\*Caused by: com.ibm.msg.client.jms.DetailedJMSException: JMSCC0005: The specified value &#39;0&#39; is not allowed for &#39;JMSDeliveryMode&#39;.\\*\\*\r\n    at sun.reflect.GeneratedConstructorAccessor130.newInstance(Unknown Source) \\~\\[?:?\\]\r\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) \\~\\[?:1.8.0_212\\]\r\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) \\~\\[?:1.8.0_212\\]\r\n    at com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsErrorUtils.createException(JmsErrorUtils.java:126) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsMessageImpl.setJMSDeliveryMode(JmsMessageImpl.java:1092) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsMessageImpl.copyMessageState(JmsMessageImpl.java:601) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsMessageImpl.\\&lt;init\\&gt;(JmsMessageImpl.java:572) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsTextMessageImpl.\\&lt;init\\&gt;(JmsTextMessageImpl.java:142) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsMessageImpl.messageToJmsMessageImpl(JmsMessageImpl.java:2514) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsMessageProducerImpl.sendMessage(JmsMessageProducerImpl.java:785) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsMessageProducerImpl.synchronousSendInternal(JmsMessageProducerImpl.java:2055) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsMessageProducerImpl.sendInternal(JmsMessageProducerImpl.java:1993) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.msg.client.jms.internal.JmsMessageProducerImpl.send(JmsMessageProducerImpl.java:1573) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at com.ibm.mq.jms.MQMessageProducer.send(MQMessageProducer.java:321) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\r\n    at org.springframework.jms.core.JmsTemplate.doSend(JmsTemplate.java:623) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.core.JmsTemplate.doSend(JmsTemplate.java:597) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.core.JmsTemplate$3.doInJms(JmsTemplate.java:562) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:484) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:559) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:648) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\r\n    at com.west.judicial.common.jms.writer.JmsSender.send(JmsSender.java:120)\r\n  &lt;/code&gt;&lt;/pre&gt;\r\n\r\nif I set jmsDeliveryMode explicitly in the code it will work but I wanted to know why it is not working with new version of IBM mq?","title":"JMSCC0005: The specified value &#39;0&#39; is not allowed for &#39;JMSDeliveryMode&#39;. The given value is not allowed for the property specified","body":"<p>while sending message to queue we are getting this exception after upgrading our IBM mq server from 7.5 to 9.3 version , I have also updated ibm mq dependencies from 7.x version to 9.x version.</p>\n<p>it was working fine with old version of IBM mq.</p>\n<p>ivy.xml dependencies:\n</p>\n<p>Old dependencies:\n\n\n`</p>\n<p>total error :</p>\n<pre><code> Caused by: java.lang.Exception: Failed to send JMS message to queue://QueueManger/MYQUEUE after 3 tries.\n    at com.west.judicial.common.jms.writer.JmsSender.send(JmsSender.java:130) \\~\\[CommonServiceJmsUtil-2022.01.1.jar:?\\]\n    ... 26 more\nCaused by: org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.msg.client.jms.DetailedJMSException: JMSCC0005: The specified value '0' is not allowed for 'JMSDeliveryMode'.\nThe given value is not allowed for the property specified.\nChange the value to a value that is supported for the property.\n    at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:316) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:169) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:487) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:559) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:648) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at com.west.judicial.common.jms.writer.JmsSender.send(JmsSender.java:120) \\~\\[CommonServiceJmsUtil-2022.01.1.jar:?\\]\n    ... 26 more\n\\*\\*Caused by: com.ibm.msg.client.jms.DetailedJMSException: JMSCC0005: The specified value '0' is not allowed for 'JMSDeliveryMode'.\\*\\*\n    at sun.reflect.GeneratedConstructorAccessor130.newInstance(Unknown Source) \\~\\[?:?\\]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) \\~\\[?:1.8.0_212\\]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) \\~\\[?:1.8.0_212\\]\n    at com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsErrorUtils.createException(JmsErrorUtils.java:126) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsMessageImpl.setJMSDeliveryMode(JmsMessageImpl.java:1092) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsMessageImpl.copyMessageState(JmsMessageImpl.java:601) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsMessageImpl.\\(JmsMessageImpl.java:572) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsTextMessageImpl.\\(JmsTextMessageImpl.java:142) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsMessageImpl.messageToJmsMessageImpl(JmsMessageImpl.java:2514) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsMessageProducerImpl.sendMessage(JmsMessageProducerImpl.java:785) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsMessageProducerImpl.synchronousSendInternal(JmsMessageProducerImpl.java:2055) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsMessageProducerImpl.sendInternal(JmsMessageProducerImpl.java:1993) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.msg.client.jms.internal.JmsMessageProducerImpl.send(JmsMessageProducerImpl.java:1573) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at com.ibm.mq.jms.MQMessageProducer.send(MQMessageProducer.java:321) \\~\\[com.ibm.mq.allclient-9.3.2.1.jar:9.3.2.1 - p932-001-230405\\]\n    at org.springframework.jms.core.JmsTemplate.doSend(JmsTemplate.java:623) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.core.JmsTemplate.doSend(JmsTemplate.java:597) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.core.JmsTemplate$3.doInJms(JmsTemplate.java:562) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:484) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.core.JmsTemplate.send(JmsTemplate.java:559) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at org.springframework.jms.core.JmsTemplate.convertAndSend(JmsTemplate.java:648) \\~\\[spring-jms-4.3.2.RELEASE.jar:4.3.2.RELEASE\\]\n    at com.west.judicial.common.jms.writer.JmsSender.send(JmsSender.java:120)\n  </code></pre>\n<p>if I set jmsDeliveryMode explicitly in the code it will work but I wanted to know why it is not working with new version of IBM mq?</p>\n"},{"tags":["java","jersey","aws-sdk"],"owner":{"account_id":16790821,"reputation":35,"user_id":12138506,"display_name":"Kush Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688818183,"creation_date":1688818183,"question_id":76642869,"body_markdown":"I have 2 project mycodecore and mycodeweb, mycodeweb is a jersey web project and it uses mycodecore as dependency which has all aws sdk implementation, \r\nrecently I am trying to update aws quicksight sdk version from 1.11.583 to 1.12.500, I got following exceptions as some class not found in aws-java-sdk-core and then jackson-core hence I updated these respectively to 1.12.500 and 2.15.2. All this update is in mycodecore pom.\r\n\r\nNow when i am trying to run my webapp I am mycodeweb I am getting following exception \r\n\r\n    Jul 08, 2023 2:01:51 PM org.apache.catalina.core.ApplicationContext log\r\n    SEVERE: Servlet.init() for servlet [TopicService] threw exception\r\n    java.lang.IllegalArgumentException\r\n    \tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\r\n    \tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\r\n    \tat jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\r\n    \tat com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\r\n    \tat com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\r\n    \tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$1.f(WebAppResourcesScanner.java:94)\r\n    \tat com.sun.jersey.core.util.Closing.f(Closing.java:71)\r\n    \tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:92)\r\n    \tat com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\r\n    \tat com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\r\n    \tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\r\n    \tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\r\n    \tat com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\r\n    \tat com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\r\n    \tat com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\r\n    \tat com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\r\n    \tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1115)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1064)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:961)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4676)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4984)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1362)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1352)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nWhat should I do next ?\r\n\r\n\r\n\r\n","title":"IllegalArgumentException Error while trying to update aws java SDK version","body":"<p>I have 2 project mycodecore and mycodeweb, mycodeweb is a jersey web project and it uses mycodecore as dependency which has all aws sdk implementation,\nrecently I am trying to update aws quicksight sdk version from 1.11.583 to 1.12.500, I got following exceptions as some class not found in aws-java-sdk-core and then jackson-core hence I updated these respectively to 1.12.500 and 2.15.2. All this update is in mycodecore pom.</p>\n<p>Now when i am trying to run my webapp I am mycodeweb I am getting following exception</p>\n<pre><code>Jul 08, 2023 2:01:51 PM org.apache.catalina.core.ApplicationContext log\nSEVERE: Servlet.init() for servlet [TopicService] threw exception\njava.lang.IllegalArgumentException\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:170)\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:153)\n    at jersey.repackaged.org.objectweb.asm.ClassReader.&lt;init&gt;(ClassReader.java:424)\n    at com.sun.jersey.spi.scanning.AnnotationScannerListener.onProcess(AnnotationScannerListener.java:138)\n    at com.sun.jersey.core.spi.scanning.JarFileScanner.scan(JarFileScanner.java:97)\n    at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner$1.f(WebAppResourcesScanner.java:94)\n    at com.sun.jersey.core.util.Closing.f(Closing.java:71)\n    at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:92)\n    at com.sun.jersey.spi.scanning.servlet.WebAppResourcesScanner.scan(WebAppResourcesScanner.java:79)\n    at com.sun.jersey.api.core.ScanningResourceConfig.init(ScanningResourceConfig.java:80)\n    at com.sun.jersey.api.core.servlet.WebAppResourceConfig.init(WebAppResourceConfig.java:102)\n    at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:89)\n    at com.sun.jersey.api.core.servlet.WebAppResourceConfig.&lt;init&gt;(WebAppResourceConfig.java:74)\n    at com.sun.jersey.spi.container.servlet.WebComponent.getWebAppResourceConfig(WebComponent.java:668)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:435)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.getDefaultResourceConfig(ServletContainer.java:602)\n    at com.sun.jersey.spi.container.servlet.WebServletConfig.getDefaultResourceConfig(WebServletConfig.java:87)\n    at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:699)\n    at com.sun.jersey.spi.container.servlet.WebComponent.createResourceConfig(WebComponent.java:674)\n    at com.sun.jersey.spi.container.servlet.WebComponent.init(WebComponent.java:205)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:394)\n    at com.sun.jersey.spi.container.servlet.ServletContainer.init(ServletContainer.java:577)\n    at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1115)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1064)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:961)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4676)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4984)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1362)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1352)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>What should I do next ?</p>\n"},{"tags":["java","swing","translation","jfilechooser"],"comments":[{"owner":{"account_id":27028764,"reputation":561,"user_id":20585541,"display_name":"Ben the Coder"},"score":0,"creation_date":1690896434,"post_id":76640899,"comment_id":135414772,"body_markdown":"Hang on... Why not just use something like [Bing Translate](https://www.bing.com/translator)?","body":"Hang on... Why not just use something like <a href=\"https://www.bing.com/translator\" rel=\"nofollow noreferrer\">Bing Translate</a>?"}],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688777113,"creation_date":1688777113,"answer_id":76640920,"question_id":76640899,"body_markdown":"According to https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/macosx/classes/com/apple/laf/AquaFileChooserUI.java, it might be one of \r\n - `&quot;FileChooser.newFolderButtonText&quot;`\r\n - `&quot;FileChooser.newFolderTitleText&quot;`\r\n - `&quot;FileChooser.newFolderPromptText&quot;`\r\n\r\nI haven&#39;t tried that out myself, just looked for a resource, but this example file seems to point the way.\r\n\r\nGL &amp; HF\r\n","title":"Java JFileChooser &quot;New Folder&quot; translation","body":"<p>According to <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/macosx/classes/com/apple/laf/AquaFileChooserUI.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/macosx/classes/com/apple/laf/AquaFileChooserUI.java</a>, it might be one of</p>\n<ul>\n<li><code>&quot;FileChooser.newFolderButtonText&quot;</code></li>\n<li><code>&quot;FileChooser.newFolderTitleText&quot;</code></li>\n<li><code>&quot;FileChooser.newFolderPromptText&quot;</code></li>\n</ul>\n<p>I haven't tried that out myself, just looked for a resource, but this example file seems to point the way.</p>\n<p>GL &amp; HF</p>\n"},{"tags":[],"owner":{"account_id":59184,"reputation":9708,"user_id":177145,"display_name":"aterai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688817699,"creation_date":1688817699,"answer_id":76642840,"question_id":76640899,"body_markdown":"The following definition exists in `com/sun/swing/internal/plaf/basic/resources/basic_fr.java`, so changing it may work.\r\n\r\n    // com/sun/swing/internal/plaf/basic/resources/basic_fr.java:67:\r\n    { &quot;FileChooser.other.newFolder&quot;, &quot;NewFolder&quot; },\r\n    { &quot;FileChooser.other.newFolder.subsequent&quot;, &quot;NewFolder.{0}&quot; },\r\n    { &quot;FileChooser.win32.newFolder&quot;, &quot;Nouveau dossier&quot; },\r\n    { &quot;FileChooser.win32.newFolder.subsequent&quot;, &quot;Nouveau dossier ({0})&quot; },\r\n\r\n\r\n&lt;!--&gt;\r\n**FileChooserNewFolderTest.java**\r\n\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n    \r\n    public class FileChooserNewFolderTest {\r\n      private Component makeUI() {\r\n        JTextArea log = new JTextArea();\r\n        log.append(UIManager.getString(&quot;FileChooser.newFolderActionLabelText&quot;) + &quot;\\n&quot;);\r\n        log.append(UIManager.getString(&quot;FileChooser.newFolderAccessibleName&quot;) + &quot;\\n&quot;);\r\n        log.append(UIManager.getString(&quot;FileChooser.other.newFolder&quot;) + &quot;\\n&quot;);\r\n        log.append(UIManager.getString(&quot;FileChooser.other.newFolder.subsequent&quot;) + &quot;\\n&quot;);\r\n        log.append(UIManager.getString(&quot;FileChooser.win32.newFolder&quot;) + &quot;\\n&quot;);\r\n        log.append(UIManager.getString(&quot;FileChooser.win32.newFolder.subsequent&quot;) + &quot;\\n&quot;);\r\n    \r\n        UIManager.put(&quot;FileChooser.newFolderActionLabelText&quot;, &quot;Nouveau dossier&quot;);\r\n        UIManager.put(&quot;FileChooser.newFolderAccessibleName&quot;, &quot;Nouveau dossier&quot;);\r\n        UIManager.put(&quot;FileChooser.other.newFolder&quot;, &quot;Nouveau dossier&quot;);\r\n        UIManager.put(&quot;FileChooser.other.newFolder.subsequent&quot;, &quot;Nouveau dossier ({0})&quot;);\r\n        UIManager.put(&quot;FileChooser.win32.newFolder&quot;, &quot;Nouveau dossier&quot;);\r\n        UIManager.put(&quot;FileChooser.win32.newFolder.subsequent&quot;, &quot;Nouveau dossier ({0})&quot;);\r\n    \r\n        JButton button = new JButton(&quot;show JFileChooser&quot;);\r\n        button.addActionListener(e -&gt; {\r\n          JFileChooser fileChooser = new JFileChooser();\r\n          int retValue = fileChooser.showOpenDialog(log.getRootPane());\r\n          if (retValue == JFileChooser.APPROVE_OPTION) {\r\n            log.append(fileChooser.getSelectedFile().getAbsolutePath() + &quot;\\n&quot;);\r\n          }\r\n        });\r\n        Box box = Box.createHorizontalBox();\r\n        box.add(Box.createHorizontalGlue());\r\n        box.add(button);\r\n        box.add(Box.createHorizontalGlue());\r\n        JPanel p = new JPanel(new BorderLayout());\r\n        p.add(box, BorderLayout.NORTH);\r\n        p.add(new JScrollPane(log));\r\n        return p;\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n          try {\r\n            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n          } catch (UnsupportedLookAndFeelException ignored) {\r\n            Toolkit.getDefaultToolkit().beep();\r\n          } catch (ClassNotFoundException | InstantiationException | IllegalAccessException ex) {\r\n            ex.printStackTrace();\r\n            return;\r\n          }\r\n          JFrame frame = new JFrame();\r\n          frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n          frame.getContentPane().add(new FileChooserNewFolderTest().makeUI());\r\n          frame.setSize(320, 240);\r\n          frame.setLocationRelativeTo(null);\r\n          frame.setVisible(true);\r\n        });\r\n      }\r\n    }\r\n\r\n","title":"Java JFileChooser &quot;New Folder&quot; translation","body":"<p>The following definition exists in <code>com/sun/swing/internal/plaf/basic/resources/basic_fr.java</code>, so changing it may work.</p>\n<pre><code>// com/sun/swing/internal/plaf/basic/resources/basic_fr.java:67:\n{ &quot;FileChooser.other.newFolder&quot;, &quot;NewFolder&quot; },\n{ &quot;FileChooser.other.newFolder.subsequent&quot;, &quot;NewFolder.{0}&quot; },\n{ &quot;FileChooser.win32.newFolder&quot;, &quot;Nouveau dossier&quot; },\n{ &quot;FileChooser.win32.newFolder.subsequent&quot;, &quot;Nouveau dossier ({0})&quot; },\n</code></pre>\n\n<p><strong>FileChooserNewFolderTest.java</strong></p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\npublic class FileChooserNewFolderTest {\n  private Component makeUI() {\n    JTextArea log = new JTextArea();\n    log.append(UIManager.getString(&quot;FileChooser.newFolderActionLabelText&quot;) + &quot;\\n&quot;);\n    log.append(UIManager.getString(&quot;FileChooser.newFolderAccessibleName&quot;) + &quot;\\n&quot;);\n    log.append(UIManager.getString(&quot;FileChooser.other.newFolder&quot;) + &quot;\\n&quot;);\n    log.append(UIManager.getString(&quot;FileChooser.other.newFolder.subsequent&quot;) + &quot;\\n&quot;);\n    log.append(UIManager.getString(&quot;FileChooser.win32.newFolder&quot;) + &quot;\\n&quot;);\n    log.append(UIManager.getString(&quot;FileChooser.win32.newFolder.subsequent&quot;) + &quot;\\n&quot;);\n\n    UIManager.put(&quot;FileChooser.newFolderActionLabelText&quot;, &quot;Nouveau dossier&quot;);\n    UIManager.put(&quot;FileChooser.newFolderAccessibleName&quot;, &quot;Nouveau dossier&quot;);\n    UIManager.put(&quot;FileChooser.other.newFolder&quot;, &quot;Nouveau dossier&quot;);\n    UIManager.put(&quot;FileChooser.other.newFolder.subsequent&quot;, &quot;Nouveau dossier ({0})&quot;);\n    UIManager.put(&quot;FileChooser.win32.newFolder&quot;, &quot;Nouveau dossier&quot;);\n    UIManager.put(&quot;FileChooser.win32.newFolder.subsequent&quot;, &quot;Nouveau dossier ({0})&quot;);\n\n    JButton button = new JButton(&quot;show JFileChooser&quot;);\n    button.addActionListener(e -&gt; {\n      JFileChooser fileChooser = new JFileChooser();\n      int retValue = fileChooser.showOpenDialog(log.getRootPane());\n      if (retValue == JFileChooser.APPROVE_OPTION) {\n        log.append(fileChooser.getSelectedFile().getAbsolutePath() + &quot;\\n&quot;);\n      }\n    });\n    Box box = Box.createHorizontalBox();\n    box.add(Box.createHorizontalGlue());\n    box.add(button);\n    box.add(Box.createHorizontalGlue());\n    JPanel p = new JPanel(new BorderLayout());\n    p.add(box, BorderLayout.NORTH);\n    p.add(new JScrollPane(log));\n    return p;\n  }\n\n  public static void main(String[] args) {\n    EventQueue.invokeLater(() -&gt; {\n      try {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n      } catch (UnsupportedLookAndFeelException ignored) {\n        Toolkit.getDefaultToolkit().beep();\n      } catch (ClassNotFoundException | InstantiationException | IllegalAccessException ex) {\n        ex.printStackTrace();\n        return;\n      }\n      JFrame frame = new JFrame();\n      frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n      frame.getContentPane().add(new FileChooserNewFolderTest().makeUI());\n      frame.setSize(320, 240);\n      frame.setLocationRelativeTo(null);\n      frame.setVisible(true);\n    });\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1759235,"reputation":11,"user_id":1606779,"display_name":"Rui Baptista"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688817699,"creation_date":1688776563,"question_id":76640899,"body_markdown":"I&#39;m trying to translate JFileChooser into French and so far I have this:\r\n\r\n```java\r\nimport javax.swing.JFileChooser;\r\nimport javax.swing.UIManager;\r\n\r\npublic class JFileChooserTest {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tUIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n\t\t\r\n\t\tUIManager.put(&quot;FileChooser.acceptAllFileFilterText&quot;, &quot;Tous les fichiers&quot;);\r\n\t\tUIManager.put(&quot;FileChooser.directoryOpenButtonText&quot;, &quot;Ouvrir&quot;);\r\n\t\tUIManager.put(&quot;FileChooser.openButtonText&quot;, &quot;Ouvrir&quot;);\r\n\t\tUIManager.put(&quot;FileChooser.saveButtonText&quot;, &quot;Enregitrer&quot;);\r\n\t\tUIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Annuler&quot;);\r\n\t\tUIManager.put(&quot;FileChooser.lookInLabelText&quot;, &quot;Organiser :&quot;);\r\n\t\tUIManager.put(&quot;FileChooser.fileNameLabelText&quot;, &quot;Nom du fichier :&quot;);\r\n\t\tUIManager.put(&quot;FileChooser.filesOfTypeLabelText&quot;, &quot;Type :&quot;);\r\n\t\t\r\n\t\tJFileChooser chooser = new JFileChooser();\r\n\t\tchooser.setDialogTitle(&quot;Ouvrir&quot;);\r\n\t\tchooser.showOpenDialog(null);\r\n    }\r\n}\r\n```\r\n\r\n\r\nI can&#39;t find the translation for &quot;New Folder&quot;. How can I get it?\r\n\r\n[![https://i.stack.imgur.com/Ps45U.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ps45U.png","title":"Java JFileChooser &quot;New Folder&quot; translation","body":"<p>I'm trying to translate JFileChooser into French and so far I have this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFileChooser;\nimport javax.swing.UIManager;\n\npublic class JFileChooserTest {\n\n    public static void main(String[] args) throws Exception {\n        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n        \n        UIManager.put(&quot;FileChooser.acceptAllFileFilterText&quot;, &quot;Tous les fichiers&quot;);\n        UIManager.put(&quot;FileChooser.directoryOpenButtonText&quot;, &quot;Ouvrir&quot;);\n        UIManager.put(&quot;FileChooser.openButtonText&quot;, &quot;Ouvrir&quot;);\n        UIManager.put(&quot;FileChooser.saveButtonText&quot;, &quot;Enregitrer&quot;);\n        UIManager.put(&quot;FileChooser.cancelButtonText&quot;, &quot;Annuler&quot;);\n        UIManager.put(&quot;FileChooser.lookInLabelText&quot;, &quot;Organiser :&quot;);\n        UIManager.put(&quot;FileChooser.fileNameLabelText&quot;, &quot;Nom du fichier :&quot;);\n        UIManager.put(&quot;FileChooser.filesOfTypeLabelText&quot;, &quot;Type :&quot;);\n        \n        JFileChooser chooser = new JFileChooser();\n        chooser.setDialogTitle(&quot;Ouvrir&quot;);\n        chooser.showOpenDialog(null);\n    }\n}\n</code></pre>\n<p>I can't find the translation for &quot;New Folder&quot;. How can I get it?</p>\n<p><a href=\"https://i.stack.imgur.com/Ps45U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ps45U.png\" alt=\"https://i.stack.imgur.com/Ps45U.png\" /></a></p>\n"},{"tags":["java","android","android-studio","kotlin"],"owner":{"account_id":24093797,"reputation":23,"user_id":18066679,"display_name":"Learner_Android"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688817697,"creation_date":1688809483,"question_id":76642298,"body_markdown":"I am unable to build my project have tried many things still not able to build the project here is the gradle file \r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\n    ext {\r\n        compose_version = &#39;1.0.0-beta01&#39;\r\n    }\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.0.4&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.30&quot;\r\n        classpath &#39;com.google.dagger:hilt-android-gradle-plugin:2.38&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n\r\nhere is the ```app/build.gradle file```\r\n\r\n```plugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;kotlin-android&#39;\r\n    id &#39;kotlin-kapt&#39;\r\n    id &#39;dagger.hilt.android.plugin&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 30\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.plcoding.jetpackcomposepokedex&quot;\r\n        minSdk 21\r\n        targetSdk 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n        useIR = true\r\n    }\r\n    buildFeatures {\r\n        compose true\r\n    }\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion compose_version\r\n        kotlinCompilerVersion &#39;1.4.30&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.core:core-ktx:1.3.2&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.2.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &quot;androidx.compose.ui:ui:$compose_version&quot;\r\n    implementation &quot;androidx.compose.material:material:$compose_version&quot;\r\n    implementation &quot;androidx.compose.ui:ui-tooling:$compose_version&quot;\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.3.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.3.0-alpha06&#39;\r\n    testImplementation &#39;junit:junit:4.+&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.2&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.3.0&#39;\r\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_version&quot;\r\n\r\n    implementation &quot;androidx.compose.material:material-icons-core:$compose_version&quot;\r\n    implementation &quot;androidx.compose.material:material-icons-extended:$compose_version&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-compose:1.0.0-alpha04&quot;\r\n    implementation &quot;androidx.navigation:navigation-compose:1.0.0-alpha09&quot;\r\n    implementation &quot;androidx.constraintlayout:constraintlayout-compose:1.0.0-alpha05&quot;\r\n\r\n    // Retrofit\r\n    implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n    implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n    implementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\r\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:4.9.0&quot;\r\n\r\n    // Timber\r\n    implementation &#39;com.jakewharton.timber:timber:4.7.1&#39;\r\n\r\n    // Coroutines\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.4.3&#39;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.3&#39;\r\n\r\n    // Coroutine Lifecycle Scopes\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.3.1&quot;\r\n\r\n    // Coil\r\n    implementation &quot;io.coil-kt:coil:1.1.1&quot;\r\n    implementation &quot;com.google.accompanist:accompanist-coil:0.7.0&quot;\r\n\r\n    //Dagger - Hilt\r\n    implementation &quot;com.google.dagger:hilt-android:2.33-beta&quot;\r\n    kapt &quot;com.google.dagger:hilt-android-compiler:2.33-beta&quot;\r\n    implementation &quot;androidx.hilt:hilt-lifecycle-viewmodel:1.0.0-alpha03&quot;\r\n    kapt &quot;androidx.hilt:hilt-compiler:1.0.0-beta01&quot;\r\n    implementation &#39;androidx.hilt:hilt-navigation-compose:1.0.0-alpha01&#39;\r\n\r\n    implementation &#39;com.android.support:palette-v7:28.0.0&#39;\r\n}\r\n```\r\nso i am still unable to figure out what is causing the issue here please help\r\n\r\nthe error that i am getting \r\n`ComposeOptions.kotlinCompilerVersion is deprecated. Compose now uses the kotlin compiler defined in your buildscript.\r\n`\r\nplease help\r\nI have already tried all the things from internet still can&#39;t build my project please help here\r\n\r\nPlease tell me in detail about the problem and how to resolve any such issues if i again encounter them in furture","title":"ComposeOptions.kotlinCompilerVersion is deprecated. Compose now uses the kotlin compiler defined in your buildscript","body":"<p>I am unable to build my project have tried many things still not able to build the project here is the gradle file</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    ext {\n        compose_version = '1.0.0-beta01'\n    }\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.4'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.4.30&quot;\n        classpath 'com.google.dagger:hilt-android-gradle-plugin:2.38'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>here is the <code>app/build.gradle file</code></p>\n<pre><code>    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-kapt'\n    id 'dagger.hilt.android.plugin'\n}\n\nandroid {\n    compileSdk 30\n\n    defaultConfig {\n        applicationId &quot;com.plcoding.jetpackcomposepokedex&quot;\n        minSdk 21\n        targetSdk 30\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n        useIR = true\n    }\n    buildFeatures {\n        compose true\n    }\n    composeOptions {\n        kotlinCompilerExtensionVersion compose_version\n        kotlinCompilerVersion '1.4.30'\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.core:core-ktx:1.3.2'\n    implementation 'androidx.appcompat:appcompat:1.2.0'\n    implementation 'com.google.android.material:material:1.3.0'\n    implementation &quot;androidx.compose.ui:ui:$compose_version&quot;\n    implementation &quot;androidx.compose.material:material:$compose_version&quot;\n    implementation &quot;androidx.compose.ui:ui-tooling:$compose_version&quot;\n    implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.3.1'\n    implementation 'androidx.activity:activity-compose:1.3.0-alpha06'\n    testImplementation 'junit:junit:4.+'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.2'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.3.0'\n    androidTestImplementation &quot;androidx.compose.ui:ui-test-junit4:$compose_version&quot;\n\n    implementation &quot;androidx.compose.material:material-icons-core:$compose_version&quot;\n    implementation &quot;androidx.compose.material:material-icons-extended:$compose_version&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-compose:1.0.0-alpha04&quot;\n    implementation &quot;androidx.navigation:navigation-compose:1.0.0-alpha09&quot;\n    implementation &quot;androidx.constraintlayout:constraintlayout-compose:1.0.0-alpha05&quot;\n\n    // Retrofit\n    implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n    implementation &quot;com.squareup.okhttp3:okhttp:4.9.0&quot;\n    implementation &quot;com.squareup.okhttp3:logging-interceptor:4.9.0&quot;\n\n    // Timber\n    implementation 'com.jakewharton.timber:timber:4.7.1'\n\n    // Coroutines\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.4.3'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.4.3'\n\n    // Coroutine Lifecycle Scopes\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-runtime-ktx:2.3.1&quot;\n\n    // Coil\n    implementation &quot;io.coil-kt:coil:1.1.1&quot;\n    implementation &quot;com.google.accompanist:accompanist-coil:0.7.0&quot;\n\n    //Dagger - Hilt\n    implementation &quot;com.google.dagger:hilt-android:2.33-beta&quot;\n    kapt &quot;com.google.dagger:hilt-android-compiler:2.33-beta&quot;\n    implementation &quot;androidx.hilt:hilt-lifecycle-viewmodel:1.0.0-alpha03&quot;\n    kapt &quot;androidx.hilt:hilt-compiler:1.0.0-beta01&quot;\n    implementation 'androidx.hilt:hilt-navigation-compose:1.0.0-alpha01'\n\n    implementation 'com.android.support:palette-v7:28.0.0'\n}\n</code></pre>\n<p>so i am still unable to figure out what is causing the issue here please help</p>\n<p>the error that i am getting\n<code>ComposeOptions.kotlinCompilerVersion is deprecated. Compose now uses the kotlin compiler defined in your buildscript. </code>\nplease help\nI have already tried all the things from internet still can't build my project please help here</p>\n<p>Please tell me in detail about the problem and how to resolve any such issues if i again encounter them in furture</p>\n"},{"tags":["java","spring-boot","elasticsearch","knn"],"answers":[{"tags":[],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688816897,"creation_date":1688816897,"answer_id":76642786,"question_id":76636933,"body_markdown":"1. `ClassCastException` in Elasticsearch usually occurs when there is a mismatch between expected data type and data in Elastic index. \r\n2. Anyway doing `kNN`(k-Nearest Neighbors) search directly in Java client is not advised and not good approach. In fact, once I was also required to do so and did,  sharing piece of code where I did implement `kNN Search`:\r\n\r\n       private static Response performKNNSearch(RestClient restClient, String indexName,\r\n                                String vectorField, String value, int k) throws Exception {\r\n            String endpoint = &quot;/&quot; + indexName + &quot;/_search&quot;;\r\n    \r\n            Map&lt;String, Object&gt; knnQuery = new HashMap&lt;&gt;();\r\n            knnQuery.put(&quot;field&quot;, vectorField);\r\n            knnQuery.put(&quot;k&quot;, k);\r\n            knnQuery.put(&quot;num_candidates&quot;, k);\r\n    \r\n            List&lt;Double&gt; vectorValues = new ArrayList&lt;&gt;();\r\n            String[] vectorComponents = value.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).split(&quot;,&quot;);\r\n            for (String component : vectorComponents) {\r\n                vectorValues.add(Double.parseDouble(component.trim()));\r\n            }\r\n            knnQuery.put(&quot;query_vector&quot;, vectorValues);\r\n    \r\n            Map&lt;String, Object&gt; requestPayload = new HashMap&lt;&gt;();\r\n            requestPayload.put(&quot;knn&quot;, knnQuery);\r\n    \r\n            //Serialize the request payload as JSON\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\r\n    \r\n            ObjectWriter objectWriter = objectMapper.writer();\r\n            String payloadJSON = objectWriter.writeValueAsString(requestPayload);\r\n    \r\n            Request request = new Request(&quot;POST&quot;, endpoint);\r\n            request.setJsonEntity(payloadJSON);\r\n    \r\n            return restClient.performRequest(request);\r\n        }\r\n\r\n- In the code `vectorField` is the field in `index` that contains `vectors` to search, `value` is the vector value for which the nearest neighbors will be searched, and finally `k` is the number of nearest neighbors to retrieve.  \r\n\r\n3. Another approach which I would advise as the easiest way and most used one, make `kNN search-template` in `elastic dev tool` and in Java client simply invoke that particular search-template. In this way you just need to change your search-template in dev tool without making hard code changes. \r\n- [Following material](https://www.elastic.co/guide/en/elasticsearch/reference/current/knn-search.html) shows you how to make kNN search in dev tool by making search-template.\r\n- After making kNN search template you can call it with the following command and can see the template itself:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iTb6T.png\r\n\r\n- In Java client as usual make Rest client builder, then to invoke search-template from Elasticsearch you can use the following code part:\r\n\r\n      SearchTemplateRequest request = new SearchTemplateRequest();\r\n            request.setRequest(new SearchRequest(&quot;index-name&quot;)); \r\n    \r\n            request.setScriptType(ScriptType.STORED);\r\n            request.setScript(&quot;knn_search_template&quot;);\r\n    \r\n            // Set the template parameters\r\n            Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\r\n            params.put(&quot;queryVector&quot;, &quot;[-1, 3, -12]&quot;);\r\n            params.put(&quot;k&quot;, 1);                             \r\n            params.put(&quot;numCandidates&quot;, 2);             \r\n\r\n\r\n- `k` represents the number of nearest neighbors to retrieve. It determines how many similar documents will be returned as search result.\r\n- `numCandidates` represents the number of approximate nearest neighbors to consider during the search. It is used to optimize the k-NN search process by limiting the number of candidates that are considered for the final result set.\r\n\r\nP.S. You can use both ways, and actually it depends on your requirements, but from my experience using search-templates are much more efficient and keeps code clear. Good luck\r\n","title":"How to perform knn Search in Spring boot with elastic search","body":"<ol>\n<li><p><code>ClassCastException</code> in Elasticsearch usually occurs when there is a mismatch between expected data type and data in Elastic index.</p>\n</li>\n<li><p>Anyway doing <code>kNN</code>(k-Nearest Neighbors) search directly in Java client is not advised and not good approach. In fact, once I was also required to do so and did,  sharing piece of code where I did implement <code>kNN Search</code>:</p>\n<pre><code>private static Response performKNNSearch(RestClient restClient, String indexName,\n                         String vectorField, String value, int k) throws Exception {\n     String endpoint = &quot;/&quot; + indexName + &quot;/_search&quot;;\n\n     Map&lt;String, Object&gt; knnQuery = new HashMap&lt;&gt;();\n     knnQuery.put(&quot;field&quot;, vectorField);\n     knnQuery.put(&quot;k&quot;, k);\n     knnQuery.put(&quot;num_candidates&quot;, k);\n\n     List&lt;Double&gt; vectorValues = new ArrayList&lt;&gt;();\n     String[] vectorComponents = value.replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).split(&quot;,&quot;);\n     for (String component : vectorComponents) {\n         vectorValues.add(Double.parseDouble(component.trim()));\n     }\n     knnQuery.put(&quot;query_vector&quot;, vectorValues);\n\n     Map&lt;String, Object&gt; requestPayload = new HashMap&lt;&gt;();\n     requestPayload.put(&quot;knn&quot;, knnQuery);\n\n     //Serialize the request payload as JSON\n     ObjectMapper objectMapper = new ObjectMapper();\n     objectMapper.enable(SerializationFeature.INDENT_OUTPUT);\n\n     ObjectWriter objectWriter = objectMapper.writer();\n     String payloadJSON = objectWriter.writeValueAsString(requestPayload);\n\n     Request request = new Request(&quot;POST&quot;, endpoint);\n     request.setJsonEntity(payloadJSON);\n\n     return restClient.performRequest(request);\n }\n</code></pre>\n</li>\n</ol>\n<ul>\n<li>In the code <code>vectorField</code> is the field in <code>index</code> that contains <code>vectors</code> to search, <code>value</code> is the vector value for which the nearest neighbors will be searched, and finally <code>k</code> is the number of nearest neighbors to retrieve.</li>\n</ul>\n<ol start=\"3\">\n<li>Another approach which I would advise as the easiest way and most used one, make <code>kNN search-template</code> in <code>elastic dev tool</code> and in Java client simply invoke that particular search-template. In this way you just need to change your search-template in dev tool without making hard code changes.</li>\n</ol>\n<ul>\n<li><a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/knn-search.html\" rel=\"nofollow noreferrer\">Following material</a> shows you how to make kNN search in dev tool by making search-template.</li>\n<li>After making kNN search template you can call it with the following command and can see the template itself:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/iTb6T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTb6T.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>In Java client as usual make Rest client builder, then to invoke search-template from Elasticsearch you can use the following code part:</p>\n<pre><code>SearchTemplateRequest request = new SearchTemplateRequest();\n      request.setRequest(new SearchRequest(&quot;index-name&quot;)); \n\n      request.setScriptType(ScriptType.STORED);\n      request.setScript(&quot;knn_search_template&quot;);\n\n      // Set the template parameters\n      Map&lt;String, Object&gt; params = new HashMap&lt;&gt;();\n      params.put(&quot;queryVector&quot;, &quot;[-1, 3, -12]&quot;);\n      params.put(&quot;k&quot;, 1);                             \n      params.put(&quot;numCandidates&quot;, 2);             \n</code></pre>\n</li>\n<li><p><code>k</code> represents the number of nearest neighbors to retrieve. It determines how many similar documents will be returned as search result.</p>\n</li>\n<li><p><code>numCandidates</code> represents the number of approximate nearest neighbors to consider during the search. It is used to optimize the k-NN search process by limiting the number of candidates that are considered for the final result set.</p>\n</li>\n</ul>\n<p>P.S. You can use both ways, and actually it depends on your requirements, but from my experience using search-templates are much more efficient and keeps code clear. Good luck</p>\n"}],"owner":{"account_id":28970033,"reputation":11,"user_id":22190565,"display_name":"Gnanaprakash S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688816897,"creation_date":1688732337,"question_id":76636933,"body_markdown":"        String hostname = &quot;localhost&quot;;\r\n        int port = 9200;\r\n\r\n        RestHighLevelClient client = new RestHighLevelClient(\r\n                RestClient.builder(new HttpHost(hostname, port, &quot;http&quot;)));\r\n        SearchRequest searchRequest = new SearchRequest(&quot;book&quot;);\r\n        SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\r\n\r\n        Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;field&quot;, &quot;name&quot;);\r\n        params.put(&quot;query_vector&quot;, &quot;Harry potter&quot;);\r\n        params.put(&quot;k&quot;, &quot;3&quot;);\r\n\r\n        String scriptSource = &quot;double distance = 0;\\n&quot; +\r\n                &quot;for (def field : doc.keySet()) {\\n&quot; +\r\n                &quot;    if (field == params.field || field == &#39;query_vector&#39; || field == &#39;k&#39;) continue;\\n&quot; +\r\n                &quot;    distance += Math.abs(Double.parseDouble(String.valueOf(doc[field])) - Double.parseDouble(params.query_vector));\\n&quot; +\r\n                &quot;}\\n&quot; +\r\n                &quot;return 1.0 / (distance + 1e-10);&quot;;\r\n\r\n        //ScriptQueryBuilder scriptQuery = QueryBuilders.scriptQuery(new Script(scriptSource, ScriptType.INLINE, &quot;painless&quot;, params));\r\n        Script script=new Script(ScriptType.INLINE,\r\n                &quot;painless&quot;,\r\n                scriptSource,\r\n                params\r\n                );\r\n        ScriptQueryBuilder scriptQuery = QueryBuilders.scriptQuery(script);\r\n        sourceBuilder.query(scriptQuery);\r\n        searchRequest.source(sourceBuilder);\r\n\r\n        SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n        System.out.println(searchResponse.getHits());\r\n        return searchResponse.getHits();\r\n\r\nthis is my code I am trying to perform knn search I have an index named **book** and I have field **name** and I am trying to serach wherever the harrypotter is in the name field in my index.\r\nI am passing the field and qiuery vector and k value in Map\r\n\r\nI expected the results which has the name harry potter but there is an exception throwing while calling the API\r\n\r\n&gt;   Elasticsearch exception [type=class_cast_exception, reason=Cannot\r\n&gt; cast from [double] to [boolean].]\r\n\r\nand I am not sure where I am trying to cast double to boolean\r\n","title":"How to perform knn Search in Spring boot with elastic search","body":"<pre><code>    String hostname = &quot;localhost&quot;;\n    int port = 9200;\n\n    RestHighLevelClient client = new RestHighLevelClient(\n            RestClient.builder(new HttpHost(hostname, port, &quot;http&quot;)));\n    SearchRequest searchRequest = new SearchRequest(&quot;book&quot;);\n    SearchSourceBuilder sourceBuilder = new SearchSourceBuilder();\n\n    Map&lt;String,Object&gt; params = new HashMap&lt;&gt;();\n    params.put(&quot;field&quot;, &quot;name&quot;);\n    params.put(&quot;query_vector&quot;, &quot;Harry potter&quot;);\n    params.put(&quot;k&quot;, &quot;3&quot;);\n\n    String scriptSource = &quot;double distance = 0;\\n&quot; +\n            &quot;for (def field : doc.keySet()) {\\n&quot; +\n            &quot;    if (field == params.field || field == 'query_vector' || field == 'k') continue;\\n&quot; +\n            &quot;    distance += Math.abs(Double.parseDouble(String.valueOf(doc[field])) - Double.parseDouble(params.query_vector));\\n&quot; +\n            &quot;}\\n&quot; +\n            &quot;return 1.0 / (distance + 1e-10);&quot;;\n\n    //ScriptQueryBuilder scriptQuery = QueryBuilders.scriptQuery(new Script(scriptSource, ScriptType.INLINE, &quot;painless&quot;, params));\n    Script script=new Script(ScriptType.INLINE,\n            &quot;painless&quot;,\n            scriptSource,\n            params\n            );\n    ScriptQueryBuilder scriptQuery = QueryBuilders.scriptQuery(script);\n    sourceBuilder.query(scriptQuery);\n    searchRequest.source(sourceBuilder);\n\n    SearchResponse searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n    System.out.println(searchResponse.getHits());\n    return searchResponse.getHits();\n</code></pre>\n<p>this is my code I am trying to perform knn search I have an index named <strong>book</strong> and I have field <strong>name</strong> and I am trying to serach wherever the harrypotter is in the name field in my index.\nI am passing the field and qiuery vector and k value in Map</p>\n<p>I expected the results which has the name harry potter but there is an exception throwing while calling the API</p>\n<blockquote>\n<p>Elasticsearch exception [type=class_cast_exception, reason=Cannot\ncast from [double] to [boolean].]</p>\n</blockquote>\n<p>and I am not sure where I am trying to cast double to boolean</p>\n"},{"tags":["java","spring","constructor","telegram-bot","abstraction"],"answers":[{"tags":[],"owner":{"account_id":28567270,"reputation":44,"user_id":21869980,"display_name":"PSchickling"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688816712,"creation_date":1688816712,"answer_id":76642779,"question_id":76641830,"body_markdown":"Another idea could be using a Configuration.\r\n\r\n```java\r\n@Configuration\r\npublic class MyConfiguration {\r\n\r\n   @Bean\r\n   public BotService botService(@Value(&quot;${token}&quot;) String token, UserService userService){\r\n       return new BotService(token, userService);\r\n   }\r\n\r\n   @Bean\r\n   public MessageService messageService(BotService botService, UserService userService){\r\n       MessageService messageService = new MessageService(userService);\r\n       messageService.setBotService(botService);\r\n       botService.setMessageService(messageService); // Maybe do that inside of messageService.setBotService(...)\r\n       return messageService;\r\n   }\r\n\r\n}\r\n```","title":"Constructors pattern","body":"<p>Another idea could be using a Configuration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class MyConfiguration {\n\n   @Bean\n   public BotService botService(@Value(&quot;${token}&quot;) String token, UserService userService){\n       return new BotService(token, userService);\n   }\n\n   @Bean\n   public MessageService messageService(BotService botService, UserService userService){\n       MessageService messageService = new MessageService(userService);\n       messageService.setBotService(botService);\n       botService.setMessageService(messageService); // Maybe do that inside of messageService.setBotService(...)\n       return messageService;\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28974372,"reputation":9,"user_id":22193862,"display_name":"Psyjewnaut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688816712,"creation_date":1688801336,"question_id":76641830,"body_markdown":"For a good abstraction in a project with the Telegram Bot API, I want to pass the bot class to a Class with logic that execute the this.bot.\r\nInstances of classes must be one, of course.\r\nCan you tell me if this approach is correct? It may recursive exceptions be thrown?\r\n\r\nBotService class:\r\n\r\n```\r\nprivate final MessageService messageService;\r\n\r\nprivate final UserService userService;\r\n\r\npublic BotService(@Value(&quot;${token}&quot;) String token, UserService userService) {\r\n        super(token);\r\n        this.userService = userService;\r\n        this.messageService = new MessageService(this, userService);//is good idea?\r\n    }\r\n```\r\nMessageService class:\r\n```\r\n    private final BotService botServise;\r\n\r\n    private final UserService userService;\r\n\r\n    public MessageService(BotService botService, UserService userService) {\r\n        this.botService = botService;\r\n        this.userService = userService;\r\n    }\r\n\r\n```\r\n\r\nThe BotService creates a new MessageService and works with it, and the MessageService handles the logic and calls back to the same parent BotService.  MessageService use is only one method - botService.execute();  \r\nIs this pattern is good or do you have better ideas?\r\n\r\nI tried Spring boot autowired, but when highload, the executes sequence of the program is violated. \r\nAnd I don&#39;t want returns from MessageService to BotService. I want all the logic to be in the MessageService and just send  BotService.execute();\r\n","title":"Constructors pattern","body":"<p>For a good abstraction in a project with the Telegram Bot API, I want to pass the bot class to a Class with logic that execute the this.bot.\nInstances of classes must be one, of course.\nCan you tell me if this approach is correct? It may recursive exceptions be thrown?</p>\n<p>BotService class:</p>\n<pre><code>private final MessageService messageService;\n\nprivate final UserService userService;\n\npublic BotService(@Value(&quot;${token}&quot;) String token, UserService userService) {\n        super(token);\n        this.userService = userService;\n        this.messageService = new MessageService(this, userService);//is good idea?\n    }\n</code></pre>\n<p>MessageService class:</p>\n<pre><code>    private final BotService botServise;\n\n    private final UserService userService;\n\n    public MessageService(BotService botService, UserService userService) {\n        this.botService = botService;\n        this.userService = userService;\n    }\n\n</code></pre>\n<p>The BotService creates a new MessageService and works with it, and the MessageService handles the logic and calls back to the same parent BotService.  MessageService use is only one method - botService.execute();<br />\nIs this pattern is good or do you have better ideas?</p>\n<p>I tried Spring boot autowired, but when highload, the executes sequence of the program is violated.\nAnd I don't want returns from MessageService to BotService. I want all the logic to be in the MessageService and just send  BotService.execute();</p>\n"},{"tags":["java","selenium-webdriver","rest-assured"],"owner":{"account_id":14905400,"reputation":103,"user_id":10762815,"display_name":"Nilesh G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688816691,"creation_date":1687949194,"question_id":76572418,"body_markdown":"We are using RestAssured for SOAP calls. The API that we are testing requires &#39;WSS-Password Type&#39; and &#39;WSS TimeToLive&#39; to be set. We are able to do it easily in [SoapUI][1] as we need to add properties in properties pane on left bottom side. However, for doing it programmatically, we don&#39;t know how to pass it. We are using the below statement:\r\n\r\n    this.request.given().header(&quot;WSS-Password Type&quot;, &quot;PasswordText&quot;,&quot;WSS TimeToLive&quot;, &quot;5000&quot;,&quot;Authentication Type&quot;,&quot;No Authorization&quot;,&quot;Content-Type&quot;, &quot;text/xml&quot;).body(payload).when().request(Method.POST, uri_path);\r\n\r\nIt is giving the below error in response:\r\n\r\n&gt; An error was discovered processing the \\&lt;wsse:Security\\&gt; header\r\n\r\nThis is a showstopper for us. How can we fix it?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SoapUI\r\n\r\n","title":"How to Pass &#39;WSS-Password Type&#39; , &#39;WSS TimeToLive&#39; in Restassured","body":"<p>We are using RestAssured for SOAP calls. The API that we are testing requires 'WSS-Password Type' and 'WSS TimeToLive' to be set. We are able to do it easily in <a href=\"https://en.wikipedia.org/wiki/SoapUI\" rel=\"nofollow noreferrer\">SoapUI</a> as we need to add properties in properties pane on left bottom side. However, for doing it programmatically, we don't know how to pass it. We are using the below statement:</p>\n<pre><code>this.request.given().header(&quot;WSS-Password Type&quot;, &quot;PasswordText&quot;,&quot;WSS TimeToLive&quot;, &quot;5000&quot;,&quot;Authentication Type&quot;,&quot;No Authorization&quot;,&quot;Content-Type&quot;, &quot;text/xml&quot;).body(payload).when().request(Method.POST, uri_path);\n</code></pre>\n<p>It is giving the below error in response:</p>\n<blockquote>\n<p>An error was discovered processing the &lt;wsse:Security&gt; header</p>\n</blockquote>\n<p>This is a showstopper for us. How can we fix it?</p>\n"},{"tags":["java","udp"],"answers":[{"tags":[],"owner":{"account_id":28975601,"reputation":1,"user_id":22194777,"display_name":"Lol2836"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688813607,"creation_date":1688813607,"answer_id":76642566,"question_id":73002516,"body_markdown":"You can refer to the example below:\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.net.*;\r\nimport java.nio.ByteBuffer;\r\nimport java.util.Random;\r\n\r\nfinal class Main {\r\n    private static DatagramSocket server;\r\n    private static InetAddress address;\r\n    private static final int PORT = 19132;\r\n    private static DatagramPacket packetReceive;\r\n    private static final byte[] BYTE_RECEIVE = new byte[8192];\r\n    private static DatagramPacket packetSend;\r\n    private static final byte[] BYTE_SEND = new byte[8192];\r\n    private static final byte[] OFFLINE_MESSAGE_DATA_ID = {\r\n            0, (byte) 0xff,\r\n            (byte) 0xff,\r\n            0, (byte) 0xfe,\r\n            (byte) 0xfe,\r\n            (byte) 0xfe,\r\n            (byte) 0xfe,\r\n            (byte) 0xfd,\r\n            (byte) 0xfd,\r\n            (byte) 0xfd,\r\n            (byte) 0xfd,\r\n            (byte) 0x12,\r\n            (byte) 0x34,\r\n            (byte) 0x56,\r\n            (byte) 0x78\r\n    };\r\n    private static final String serverId = &quot;MCPE;Dedicated Server;589;1.20.1;0;10;13253860892328930865;Bedrock level;Survival;1;19132;19133&quot;;\r\n\r\n    public static void main(String[] a) throws IOException {\r\n        address = InetAddress.getLocalHost();\r\n        server = new DatagramSocket(PORT, address);\r\n\r\n        packetReceive = new DatagramPacket(BYTE_RECEIVE, BYTE_RECEIVE.length);\r\n\r\n        for (; ; ) {\r\n            server.receive(packetReceive);\r\n            if (packetReceive.getData()[0] == 1) {\r\n                final int lengthServerId = serverId.getBytes().length;\r\n                final ByteBuffer bufReceive = ByteBuffer.wrap(packetReceive.getData());\r\n                final ByteBuffer bufSend = ByteBuffer.allocate(Byte.BYTES + (Long.BYTES * 2) + OFFLINE_MESSAGE_DATA_ID.length + (Short.BYTES + lengthServerId));\r\n                bufSend.put((byte) 0x1c);\r\n                bufSend.putLong(bufReceive.getLong(1));\r\n                bufSend.putLong(new Random().nextLong());\r\n                bufSend.put(OFFLINE_MESSAGE_DATA_ID);\r\n                bufSend.put(\r\n                        ByteBuffer.allocate(Short.BYTES + lengthServerId)\r\n                                .putShort((short) serverId.length())\r\n                                .put(serverId.getBytes())\r\n                                .array()\r\n                );\r\n\r\n                packetSend = new DatagramPacket(BYTE_SEND, BYTE_SEND.length, packetReceive.getAddress(), packetReceive.getPort());\r\n                packetSend.setData(bufSend.array());\r\n                server.send(packetSend);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nI see you are missing `p2.setPort(packet.getPort());`.\r\n\r\nI hope the above answer is helpful to you.","title":"Simplest minecraft pe server","body":"<p>You can refer to the example below:</p>\n<pre><code>import java.io.IOException;\nimport java.net.*;\nimport java.nio.ByteBuffer;\nimport java.util.Random;\n\nfinal class Main {\n    private static DatagramSocket server;\n    private static InetAddress address;\n    private static final int PORT = 19132;\n    private static DatagramPacket packetReceive;\n    private static final byte[] BYTE_RECEIVE = new byte[8192];\n    private static DatagramPacket packetSend;\n    private static final byte[] BYTE_SEND = new byte[8192];\n    private static final byte[] OFFLINE_MESSAGE_DATA_ID = {\n            0, (byte) 0xff,\n            (byte) 0xff,\n            0, (byte) 0xfe,\n            (byte) 0xfe,\n            (byte) 0xfe,\n            (byte) 0xfe,\n            (byte) 0xfd,\n            (byte) 0xfd,\n            (byte) 0xfd,\n            (byte) 0xfd,\n            (byte) 0x12,\n            (byte) 0x34,\n            (byte) 0x56,\n            (byte) 0x78\n    };\n    private static final String serverId = &quot;MCPE;Dedicated Server;589;1.20.1;0;10;13253860892328930865;Bedrock level;Survival;1;19132;19133&quot;;\n\n    public static void main(String[] a) throws IOException {\n        address = InetAddress.getLocalHost();\n        server = new DatagramSocket(PORT, address);\n\n        packetReceive = new DatagramPacket(BYTE_RECEIVE, BYTE_RECEIVE.length);\n\n        for (; ; ) {\n            server.receive(packetReceive);\n            if (packetReceive.getData()[0] == 1) {\n                final int lengthServerId = serverId.getBytes().length;\n                final ByteBuffer bufReceive = ByteBuffer.wrap(packetReceive.getData());\n                final ByteBuffer bufSend = ByteBuffer.allocate(Byte.BYTES + (Long.BYTES * 2) + OFFLINE_MESSAGE_DATA_ID.length + (Short.BYTES + lengthServerId));\n                bufSend.put((byte) 0x1c);\n                bufSend.putLong(bufReceive.getLong(1));\n                bufSend.putLong(new Random().nextLong());\n                bufSend.put(OFFLINE_MESSAGE_DATA_ID);\n                bufSend.put(\n                        ByteBuffer.allocate(Short.BYTES + lengthServerId)\n                                .putShort((short) serverId.length())\n                                .put(serverId.getBytes())\n                                .array()\n                );\n\n                packetSend = new DatagramPacket(BYTE_SEND, BYTE_SEND.length, packetReceive.getAddress(), packetReceive.getPort());\n                packetSend.setData(bufSend.array());\n                server.send(packetSend);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I see you are missing <code>p2.setPort(packet.getPort());</code>.</p>\n<p>I hope the above answer is helpful to you.</p>\n"}],"owner":{"account_id":23644163,"reputation":40,"user_id":18596910,"display_name":"Yuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688813607,"creation_date":1657957936,"question_id":73002516,"body_markdown":"I tried to make a simple server which only displays its info on servers list in Minecraft Windows 10 Edition version 1.1.5. (answers to the client&#39;s ping)\r\nlike the Breadix:\r\n[![servers list][1]][1]\r\n\r\n\r\nHere is my code:\r\n``` java\r\nimport io.netty.buffer.ByteBuf;\r\nimport io.netty.buffer.Unpooled;\r\nimport me.theentropyshard.grasspath.raknet.Binary;\r\n\r\nimport java.net.DatagramPacket;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetSocketAddress;\r\nimport java.util.Random;\r\n\r\npublic class Server {\r\n    private static Server instance = null;\r\n\r\n    public static final byte[] RAKNET_MAGIC = new byte[]{\r\n            0x00, (byte) 0xff, (byte) 0xff, 0x00,\r\n            (byte) 0xfe, (byte) 0xfe, (byte) 0xfe, (byte) 0xfe,\r\n            (byte) 0xfd, (byte) 0xfd, (byte) 0xfd, (byte) 0xfd,\r\n            0x12, 0x34, 0x56, 0x78};\r\n\r\n    protected Server() {\r\n        instance = this;\r\n        try {\r\n            byte[] buffer = new byte[4096];\r\n            DatagramSocket socket = new DatagramSocket(new InetSocketAddress(&quot;127.0.0.1&quot;, 19132));\r\n            ByteBuf byteBuffer = Unpooled.buffer();\r\n            DatagramPacket packet = new DatagramPacket(buffer, 0, buffer.length);\r\n            socket.receive(packet);\r\n            while(true) {\r\n                if(packet.getData()[0] == 0x01) {\r\n                    long pingID = Binary.readLong(packet.getData());\r\n                    System.out.println(&quot;long &quot; + pingID);\r\n                    byteBuffer.clear();\r\n                    DatagramPacket p2 = new DatagramPacket(byteBuffer.array(), 0, byteBuffer.array().length);\r\n                    p2.setAddress(packet.getAddress());\r\n                    String text = &quot;MCPE;My Server;113;1.1.5;0;20&quot;;\r\n                    byteBuffer.writeByte(0x1c);\r\n                    byteBuffer.writeLong(pingID);\r\n                    byteBuffer.writeLong(new Random().nextLong());\r\n                    byteBuffer.writeBytes(RAKNET_MAGIC);\r\n                    byteBuffer.writeShort(text.length());\r\n                    byteBuffer.writeBytes(text.getBytes());\r\n                    p2.setData(byteBuffer.array());\r\n                    socket.send(p2);\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static Server getServer() {\r\n        return Server.instance;\r\n    }\r\n```\r\n\r\nI have read some articles about raknet, udp:\r\n\r\n[Documentation][2]&lt;br/&gt;\r\n[Protocol][3]\r\n\r\nAlso I looked at this lib, it shows info, but it outdated and has problem, but it is another story:&lt;br/&gt;\r\n[JRakLibPlus][4]\r\n\r\nI get the ping packet from the client (0x01) but cant figure out how to send pong packet (0x1c).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hI5ZO.png\r\n  [2]: https://wiki.vg/Pocket_Edition_Protocol_Documentation\r\n  [3]: https://wiki.vg/Pocket_Minecraft_Protocol\r\n  [4]: https://github.com/alejzeis/JRakLibPlus","title":"Simplest minecraft pe server","body":"<p>I tried to make a simple server which only displays its info on servers list in Minecraft Windows 10 Edition version 1.1.5. (answers to the client's ping)\nlike the Breadix:\n<a href=\"https://i.stack.imgur.com/hI5ZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hI5ZO.png\" alt=\"servers list\" /></a></p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.netty.buffer.ByteBuf;\nimport io.netty.buffer.Unpooled;\nimport me.theentropyshard.grasspath.raknet.Binary;\n\nimport java.net.DatagramPacket;\nimport java.net.DatagramSocket;\nimport java.net.InetSocketAddress;\nimport java.util.Random;\n\npublic class Server {\n    private static Server instance = null;\n\n    public static final byte[] RAKNET_MAGIC = new byte[]{\n            0x00, (byte) 0xff, (byte) 0xff, 0x00,\n            (byte) 0xfe, (byte) 0xfe, (byte) 0xfe, (byte) 0xfe,\n            (byte) 0xfd, (byte) 0xfd, (byte) 0xfd, (byte) 0xfd,\n            0x12, 0x34, 0x56, 0x78};\n\n    protected Server() {\n        instance = this;\n        try {\n            byte[] buffer = new byte[4096];\n            DatagramSocket socket = new DatagramSocket(new InetSocketAddress(&quot;127.0.0.1&quot;, 19132));\n            ByteBuf byteBuffer = Unpooled.buffer();\n            DatagramPacket packet = new DatagramPacket(buffer, 0, buffer.length);\n            socket.receive(packet);\n            while(true) {\n                if(packet.getData()[0] == 0x01) {\n                    long pingID = Binary.readLong(packet.getData());\n                    System.out.println(&quot;long &quot; + pingID);\n                    byteBuffer.clear();\n                    DatagramPacket p2 = new DatagramPacket(byteBuffer.array(), 0, byteBuffer.array().length);\n                    p2.setAddress(packet.getAddress());\n                    String text = &quot;MCPE;My Server;113;1.1.5;0;20&quot;;\n                    byteBuffer.writeByte(0x1c);\n                    byteBuffer.writeLong(pingID);\n                    byteBuffer.writeLong(new Random().nextLong());\n                    byteBuffer.writeBytes(RAKNET_MAGIC);\n                    byteBuffer.writeShort(text.length());\n                    byteBuffer.writeBytes(text.getBytes());\n                    p2.setData(byteBuffer.array());\n                    socket.send(p2);\n                }\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static Server getServer() {\n        return Server.instance;\n    }\n</code></pre>\n<p>I have read some articles about raknet, udp:</p>\n<p><a href=\"https://wiki.vg/Pocket_Edition_Protocol_Documentation\" rel=\"nofollow noreferrer\">Documentation</a><br/>\n<a href=\"https://wiki.vg/Pocket_Minecraft_Protocol\" rel=\"nofollow noreferrer\">Protocol</a></p>\n<p>Also I looked at this lib, it shows info, but it outdated and has problem, but it is another story:<br/>\n<a href=\"https://github.com/alejzeis/JRakLibPlus\" rel=\"nofollow noreferrer\">JRakLibPlus</a></p>\n<p>I get the ping packet from the client (0x01) but cant figure out how to send pong packet (0x1c).</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":28567270,"reputation":44,"user_id":21869980,"display_name":"PSchickling"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688812679,"creation_date":1688812679,"answer_id":76642507,"question_id":76642449,"body_markdown":"First, in your configuration, you defined `generate-ddl: true`. This allows JPA to alter the database schema according to your entity definition. In case your database is already initialized, you turn it to false.\r\n\r\nSecond, you can use `@Temporal` to define the precision of your date/datetime/timestamp value in the database. When you have only the precision of the date, then you can use `@Temporal(TemporalType.DATE)` to define the precision for the database column. You could, for example, use the Java class with the corresponding precision.\r\n```java\r\n@Temporal(TemporalType.DATE)\r\nprivate java.util.Date updatedAt;\r\n```","title":"Hibernate alters tables each time I start the Spring Boot application","body":"<p>First, in your configuration, you defined <code>generate-ddl: true</code>. This allows JPA to alter the database schema according to your entity definition. In case your database is already initialized, you turn it to false.</p>\n<p>Second, you can use <code>@Temporal</code> to define the precision of your date/datetime/timestamp value in the database. When you have only the precision of the date, then you can use <code>@Temporal(TemporalType.DATE)</code> to define the precision for the database column. You could, for example, use the Java class with the corresponding precision.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Temporal(TemporalType.DATE)\nprivate java.util.Date updatedAt;\n</code></pre>\n"}],"owner":{"account_id":19858185,"reputation":330,"user_id":14547085,"display_name":"overheated"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688812679,"creation_date":1688811761,"question_id":76642449,"body_markdown":"Each time I start my spring boot application, hibernate is altering some fields across all of my tables. This alternation is happening only to **Timestamp** and Date types such as **LocalDate** or **LocalDateTime** but not to other fields such as int, String or other objects. \r\nHibernate is setting the datatype to **Timestamp** even though it already is defined as Timestamp.\r\n\r\n*Using: Java 17, PostgreSQL 15.3, Spring Boot 3.1.1*\r\n\r\n**Console**\r\n\r\n```Hibernate: alter table if exists public.users alter column created_at set data type timestamp(6)\r\nHibernate: alter table if exists public.users alter column deleted_at set data type timestamp(6)\r\nHibernate: alter table if exists public.users alter column updated_at set data type timestamp(6)\r\n```\r\n\r\n\r\n**Application.yml**\r\n```spring:\r\n  datasource:\r\n    url: ${DATASOURCE_URL:jdbc:postgresql://localhost:5432/ddltest}\r\n    username: ${DB_USERNAME:postgres}\r\n    password: ${DB_PASSWORD:root}\r\n  jpa:\r\n    show-sql: true\r\n    properties:\r\n      hibernate:\r\n        default_schema: public\r\n        enable_lazy_load_no_trans: true\r\n        jdbc:\r\n          time_zone: UTC\r\n    open-in-view: false\r\n    generate-ddl: true\r\nserver:\r\n  port: ${API_PORT:8080}\r\n  servlet:\r\n    context-path: /api/v1\r\n```\r\n\r\n**Entity Class**\r\n```@Entity\r\n@Table(name = &quot;users&quot;)\r\n@Getter\r\n@Setter\r\npublic class User{\r\n\r\n    @Column(name = &quot;first_name&quot;)\r\n    private String firstName;\r\n\r\n    @Column(name = &quot;last_name&quot;)\r\n    private String lastName;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password&quot;)\r\n    private String password;\r\n    \r\n    @Column(name = &quot;deleted_at&quot;)\r\n    private Timestamp deletedAt;\r\n\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Timestamp updatedAt;\r\n    \r\n}\r\n```\r\n\r\n**POM.XML**\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.vojvoda&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ecommerce-api&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ecommerce-api&lt;/name&gt;\r\n    &lt;description&gt;ecommerce-api&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n                &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n                &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n                &lt;version&gt;0.11.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"Hibernate alters tables each time I start the Spring Boot application","body":"<p>Each time I start my spring boot application, hibernate is altering some fields across all of my tables. This alternation is happening only to <strong>Timestamp</strong> and Date types such as <strong>LocalDate</strong> or <strong>LocalDateTime</strong> but not to other fields such as int, String or other objects.\nHibernate is setting the datatype to <strong>Timestamp</strong> even though it already is defined as Timestamp.</p>\n<p><em>Using: Java 17, PostgreSQL 15.3, Spring Boot 3.1.1</em></p>\n<p><strong>Console</strong></p>\n<pre><code>Hibernate: alter table if exists public.users alter column deleted_at set data type timestamp(6)\nHibernate: alter table if exists public.users alter column updated_at set data type timestamp(6)\n</code></pre>\n<p><strong>Application.yml</strong></p>\n<pre><code>  datasource:\n    url: ${DATASOURCE_URL:jdbc:postgresql://localhost:5432/ddltest}\n    username: ${DB_USERNAME:postgres}\n    password: ${DB_PASSWORD:root}\n  jpa:\n    show-sql: true\n    properties:\n      hibernate:\n        default_schema: public\n        enable_lazy_load_no_trans: true\n        jdbc:\n          time_zone: UTC\n    open-in-view: false\n    generate-ddl: true\nserver:\n  port: ${API_PORT:8080}\n  servlet:\n    context-path: /api/v1\n</code></pre>\n<p><strong>Entity Class</strong></p>\n<pre><code>@Table(name = &quot;users&quot;)\n@Getter\n@Setter\npublic class User{\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;password&quot;)\n    private String password;\n    \n    @Column(name = &quot;deleted_at&quot;)\n    private Timestamp deletedAt;\n\n    @Column(name = &quot;updated_at&quot;)\n    private Timestamp updatedAt;\n    \n}\n</code></pre>\n<p><strong>POM.XML</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.vojvoda&lt;/groupId&gt;\n    &lt;artifactId&gt;ecommerce-api&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ecommerce-api&lt;/name&gt;\n    &lt;description&gt;ecommerce-api&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n                &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n                &lt;version&gt;0.11.5&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-storage","android-glide"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1688731903,"post_id":76636447,"comment_id":135116845,"body_markdown":"getDownloadUrl is asynchronous and returns immediately before the URL is available.  You can&#39;t use `imageUrl` until after the callback is invoked.  It looks like you&#39;re trying to use it before the URL is actually loaded. You should add some logging to see how it&#39;s actually working.","body":"getDownloadUrl is asynchronous and returns immediately before the URL is available.  You can&#39;t use <code>imageUrl</code> until after the callback is invoked.  It looks like you&#39;re trying to use it before the URL is actually loaded. You should add some logging to see how it&#39;s actually working."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1688812166,"post_id":76636447,"comment_id":135126127,"body_markdown":"Aside from my answer, if you understand Kotlin, then I think that this [resource](https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46) will help. Here is the corresponding [repo](https://github.com/alexmamo/CloudStorageJetpackCompose).","body":"Aside from my answer, if you understand Kotlin, then I think that this <a href=\"https://medium.com/firebase-tips-tricks/how-to-upload-an-image-to-cloud-storage-and-save-the-url-in-firestore-42711ca1df46\" rel=\"nofollow noreferrer\">resource</a> will help. Here is the corresponding <a href=\"https://github.com/alexmamo/CloudStorageJetpackCompose\" rel=\"nofollow noreferrer\">repo</a>."}],"answers":[{"tags":[],"owner":{"account_id":13874847,"reputation":132,"user_id":10016783,"display_name":"return 0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688734049,"creation_date":1688734049,"answer_id":76637130,"question_id":76636447,"body_markdown":"This line\r\n\r\n        Glide.with(this).load(imgUrl).into(imageView);\r\nIs being called outside the thread where you are initializing **imgUrl** at which point the **getDownloadUrl()** task is not done.\r\n\r\nYou need to call it after the task is done and from the main thread.\r\nYour run block should therefore look like below\r\n\r\n``` public void run() {\r\n    imgRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n        @Override\r\n        public void onSuccess(Uri uri) {\r\n            imgUrl = uri.toString();\r\n            myImg.setValue(imgUrl);\r\n//Change start\r\nrunOnUIThread(new Runnable() {\r\n    public void run() {\r\n       Glide.with(this).load(imgUrl).into(imageView);                \r\n    }\r\n});\r\n//Change end\r\n\r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception exception) {\r\n            System.out.println(&quot;foto linki yollanamadı.&quot;);\r\n        }\r\n    });\r\n}\r\n```\r\n","title":"I can&#39;t apply glide with firebase storage","body":"<p>This line</p>\n<pre><code>    Glide.with(this).load(imgUrl).into(imageView);\n</code></pre>\n<p>Is being called outside the thread where you are initializing <strong>imgUrl</strong> at which point the <strong>getDownloadUrl()</strong> task is not done.</p>\n<p>You need to call it after the task is done and from the main thread.\nYour run block should therefore look like below</p>\n<pre><code>    imgRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n        @Override\n        public void onSuccess(Uri uri) {\n            imgUrl = uri.toString();\n            myImg.setValue(imgUrl);\n//Change start\nrunOnUIThread(new Runnable() {\n    public void run() {\n       Glide.with(this).load(imgUrl).into(imageView);                \n    }\n});\n//Change end\n\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception exception) {\n            System.out.println(&quot;foto linki yollanamadı.&quot;);\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688812136,"creation_date":1688812136,"answer_id":76642469,"question_id":76636447,"body_markdown":"When you get the download URL of a file from the Firebase Storage, you actually perform an asynchronous operation. What you need to understand is that such an operation takes time. How much time it will take? We don&#39;t know, as it depends on too many factors. So when you attach a listener to such an operation, the `onSuccess()` method will fire when the operation for getting the download URL is successful. This means that by the time you&#39;re using:\r\n\r\n    Glide.with(this).load(imgUrl).into(imageView);\r\n\r\nThe operation for getting the download URL isn&#39;t complete, that&#39;s why the `imgUrl` is null. The solution is always the same. Any code that needs data from an asynchronous operation, needs to be inside the `onSuccess()` method or be called from there. So in your case that would be:\r\n\r\n```\r\npublic void run() {\r\n    imgRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n        @Override\r\n        public void onSuccess(Uri uri) {\r\n            imgUrl = uri.toString();\r\n            myImg.setValue(imgUrl);\r\n            Glide.with(this).load(imgUrl).into(imageView); //&#128072;\r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception exception) {\r\n            System.out.println(&quot;foto linki yollanamadı.&quot;);\r\n        }\r\n    });\r\n}\r\n```\r\n","title":"I can&#39;t apply glide with firebase storage","body":"<p>When you get the download URL of a file from the Firebase Storage, you actually perform an asynchronous operation. What you need to understand is that such an operation takes time. How much time it will take? We don't know, as it depends on too many factors. So when you attach a listener to such an operation, the <code>onSuccess()</code> method will fire when the operation for getting the download URL is successful. This means that by the time you're using:</p>\n<pre><code>Glide.with(this).load(imgUrl).into(imageView);\n</code></pre>\n<p>The operation for getting the download URL isn't complete, that's why the <code>imgUrl</code> is null. The solution is always the same. Any code that needs data from an asynchronous operation, needs to be inside the <code>onSuccess()</code> method or be called from there. So in your case that would be:</p>\n<pre><code>public void run() {\n    imgRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n        @Override\n        public void onSuccess(Uri uri) {\n            imgUrl = uri.toString();\n            myImg.setValue(imgUrl);\n            Glide.with(this).load(imgUrl).into(imageView); //👈\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception exception) {\n            System.out.println(&quot;foto linki yollanamadı.&quot;);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":28969650,"reputation":1,"user_id":22190268,"display_name":"Kenan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688812136,"creation_date":1688728290,"question_id":76636447,"body_markdown":"I can get link with this, i tested with realtime database on firebase but i&#39;cant use link as a String.but when i write like  Glide.with(this).load(&quot;link&quot;).into(imageView);\r\n\r\n```java\r\npublic void run() {\r\n    imgRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n        @Override\r\n        public void onSuccess(Uri uri) {\r\n            imgUrl = uri.toString();\r\n            myImg.setValue(imgUrl);\r\n\r\n        }\r\n    }).addOnFailureListener(new OnFailureListener() {\r\n        @Override\r\n        public void onFailure(@NonNull Exception exception) {\r\n            System.out.println(&quot;foto linki yollanamadı.&quot;);\r\n        }\r\n    });\r\n}\r\n\r\nthread.start();\r\nGlide.with(this).load(imgUrl).into(imageView);\r\n```\r\n\r\n\r\n\r\nI tried lots of things. How can I solve this. I want to use as a string like that:\r\n```java\r\nGlide.with(this).load(imgUrl).into(imageView);\r\n```","title":"I can&#39;t apply glide with firebase storage","body":"<p>I can get link with this, i tested with realtime database on firebase but i'cant use link as a String.but when i write like  Glide.with(this).load(&quot;link&quot;).into(imageView);</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void run() {\n    imgRef.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n        @Override\n        public void onSuccess(Uri uri) {\n            imgUrl = uri.toString();\n            myImg.setValue(imgUrl);\n\n        }\n    }).addOnFailureListener(new OnFailureListener() {\n        @Override\n        public void onFailure(@NonNull Exception exception) {\n            System.out.println(&quot;foto linki yollanamadı.&quot;);\n        }\n    });\n}\n\nthread.start();\nGlide.with(this).load(imgUrl).into(imageView);\n</code></pre>\n<p>I tried lots of things. How can I solve this. I want to use as a string like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Glide.with(this).load(imgUrl).into(imageView);\n</code></pre>\n"},{"tags":["java","android","kotlin","retrofit","okhttp"],"answers":[{"tags":[],"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688811993,"creation_date":1643289084,"answer_id":70879155,"question_id":70876974,"body_markdown":"You can use CacheControl for this https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cache/. Check the URL yourself and set it yourself before creating the call, or put the logic in an application interceptor.\r\n\r\n```\r\nRequest request = new Request.Builder()\r\n    .cacheControl(CacheControl.Builder()\r\n      .noCache()\r\n      .build())\r\n    .url(&quot;http://publicobject.com/helloworld.txt&quot;)\r\n    .build();\r\n```\r\n\r\nhttps://square.github.io/okhttp/features/caching/","title":"Cache for only specific URLs with retrofit","body":"<p>You can use CacheControl for this <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cache/\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/4.x/okhttp/okhttp3/-cache/</a>. Check the URL yourself and set it yourself before creating the call, or put the logic in an application interceptor.</p>\n<pre><code>Request request = new Request.Builder()\n    .cacheControl(CacheControl.Builder()\n      .noCache()\n      .build())\n    .url(&quot;http://publicobject.com/helloworld.txt&quot;)\n    .build();\n</code></pre>\n<p><a href=\"https://square.github.io/okhttp/features/caching/\" rel=\"nofollow noreferrer\">https://square.github.io/okhttp/features/caching/</a></p>\n"}],"owner":{"account_id":7953740,"reputation":993,"user_id":6003772,"display_name":"Hamid Sj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":377,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688811993,"creation_date":1643279278,"question_id":70876974,"body_markdown":"I need to cache response of only specific url addresses in my app; but what I found with many searches that I&#39;ve done was cache with size limit for response;\r\nAnyone knows a way to do caching for only specific urls?","title":"Cache for only specific URLs with retrofit","body":"<p>I need to cache response of only specific url addresses in my app; but what I found with many searches that I've done was cache with size limit for response;\nAnyone knows a way to do caching for only specific urls?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688811865,"creation_date":1688370625,"answer_id":76602780,"question_id":76594349,"body_markdown":"&gt; I get it that somehow the User class getter gives a null value, but how did it work at first then?\r\n\r\nWhen you read data from the Realtime Database, you actually perform an asynchronous operation. What you need to understand is that such an operation takes time. However, there is no way you can know ahead of time how much time it will take, as it depends on too many factors. So when you attach a listener to a reference, the `onDataChange()` method will fire when the operation for reading the data completes. This means that by the time you&#39;re using:\r\n\r\n    binding.name.setText(u.getName());\r\n\r\nThe operation for reading the data isn&#39;t complete, that&#39;s why `u.getName()` is null. The solution is always the same. Any code that needs data from the Realtime Database, needs to be inside the onComplete `onDataChange()` method or be called from there. So in your case that would be:\r\n\r\n    FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).child(FirebaseAuth.getInstance().getUid())\r\n            .addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    u = snapshot.getValue(Users.class);\r\n                    Toast.makeText(ProfileActivity.this, u.getName(), Toast.LENGTH_SHORT).show();\r\n                    binding.name.setText(u.getName()); //&#128072;\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Log.d(TAG, &quot;${it.exception?.message}&quot;) //Never ignore potential errors!\r\n                }\r\n            });\r\n\r\nIf you want to use the value `u.getName()` outside the `onDataChange()` method, then I recommend you use a [callback][1]. For more info, I recommend you can check the following article:\r\n\r\n* [How to read data from Firebase Realtime Database using get()?][2]\r\n\r\nAnd the following video:\r\n\r\n* [https://youtu.be/mOB40wowo6Y][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\r\n  [2]: https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\r\n  [3]: https://youtu.be/mOB40wowo6Y","title":"How to get the data from Firebase and store it in a model class (Android)","body":"<blockquote>\n<p>I get it that somehow the User class getter gives a null value, but how did it work at first then?</p>\n</blockquote>\n<p>When you read data from the Realtime Database, you actually perform an asynchronous operation. What you need to understand is that such an operation takes time. However, there is no way you can know ahead of time how much time it will take, as it depends on too many factors. So when you attach a listener to a reference, the <code>onDataChange()</code> method will fire when the operation for reading the data completes. This means that by the time you're using:</p>\n<pre><code>binding.name.setText(u.getName());\n</code></pre>\n<p>The operation for reading the data isn't complete, that's why <code>u.getName()</code> is null. The solution is always the same. Any code that needs data from the Realtime Database, needs to be inside the onComplete <code>onDataChange()</code> method or be called from there. So in your case that would be:</p>\n<pre><code>FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).child(FirebaseAuth.getInstance().getUid())\n        .addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                u = snapshot.getValue(Users.class);\n                Toast.makeText(ProfileActivity.this, u.getName(), Toast.LENGTH_SHORT).show();\n                binding.name.setText(u.getName()); //👈\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Log.d(TAG, &quot;${it.exception?.message}&quot;) //Never ignore potential errors!\n            }\n        });\n</code></pre>\n<p>If you want to use the value <code>u.getName()</code> outside the <code>onDataChange()</code> method, then I recommend you use a <a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774\">callback</a>. For more info, I recommend you can check the following article:</p>\n<ul>\n<li><a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">How to read data from Firebase Realtime Database using get()?</a></li>\n</ul>\n<p>And the following video:</p>\n<ul>\n<li><a href=\"https://youtu.be/mOB40wowo6Y\" rel=\"nofollow noreferrer\">https://youtu.be/mOB40wowo6Y</a></li>\n</ul>\n"}],"owner":{"account_id":24830565,"reputation":79,"user_id":18709793,"display_name":"Newbie_programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76602780,"answer_count":1,"score":1,"last_activity_date":1688811865,"creation_date":1688208693,"question_id":76594349,"body_markdown":"I was trying to work with Firebase Database. I get the data storing part but I cannot retrieve the data from the database and store it in a model class. The model class is below:\r\n\r\n```\r\npackage com.joy.chat_two_point_o.models;\r\n\r\npublic class Users {\r\n    private String uid,name,phoneNumber,profileImage,email,password;\r\n\r\n    public Users(String uid, String name, String phoneNumber, String profileImage, String email, String password) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.phoneNumber = phoneNumber;\r\n        this.profileImage = profileImage;\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n    public Users(String email, String password, String uid) {\r\n        this.email = email;\r\n        this.password = password;\r\n        this.uid = uid;\r\n    }\r\n\r\n    public Users(String name, String profileImage) {\r\n        this.name = name;\r\n        this.profileImage = profileImage;\r\n    }\r\n\r\n    public Users(String uid, String name, String phoneNumber, String profileImage) {\r\n        this.uid = uid;\r\n        this.name = name;\r\n        this.phoneNumber = phoneNumber;\r\n        this.profileImage = profileImage;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public Users() {}\r\n\r\n    public String getUid() {\r\n        return uid;\r\n    }\r\n\r\n    public void setUid(String uid) {\r\n        this.uid = uid;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getProfileImage() {\r\n        return profileImage;\r\n    }\r\n\r\n    public void setProfileImage(String profileImage) {\r\n        this.profileImage = profileImage;\r\n    }\r\n}\r\n```\r\n\r\nI want to retrieve the data from the database and store it in this class so that I can use it later and I won&#39;t need to call the database again and again since I only need a single node&#39;s data.\r\n\r\n\r\nThe code I wrote-\r\n\r\n\r\n```\r\nFirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).child(FirebaseAuth.getInstance().getUid())\r\n                        .addValueEventListener(new ValueEventListener() {\r\n                            @Override\r\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                                u = snapshot.getValue(Users.class);\r\n                                Toast.makeText(ProfileActivity.this, u.getName(), Toast.LENGTH_SHORT).show();\r\n                            }\r\n\r\n                            @Override\r\n                            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                            }\r\n                        });\r\n        binding.name.setText(u.getName());\r\n```\r\n\r\nHere, the first toast works, which means it shows the data I wanted. But whenever I use it somewhere else like the textview(name) it doesn&#39;t work and gives me this error-\r\n\r\n`java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String com.joy.chat_two_point_o.models.Users.getName()&#39; on a null object`\r\n\r\nI get it that somehow the User class getter gives a null value, but how did it work at first then? And why it doesn&#39;t work outside the onDataChange function? Can someone please explain? I tried to watch some videos but they use get() method instead of this &quot;User Class&quot; way. I read the documentation and did the same still it isn&#39;t working. Please tell me what am I doing wrong here?\r\n","title":"How to get the data from Firebase and store it in a model class (Android)","body":"<p>I was trying to work with Firebase Database. I get the data storing part but I cannot retrieve the data from the database and store it in a model class. The model class is below:</p>\n<pre><code>package com.joy.chat_two_point_o.models;\n\npublic class Users {\n    private String uid,name,phoneNumber,profileImage,email,password;\n\n    public Users(String uid, String name, String phoneNumber, String profileImage, String email, String password) {\n        this.uid = uid;\n        this.name = name;\n        this.phoneNumber = phoneNumber;\n        this.profileImage = profileImage;\n        this.email = email;\n        this.password = password;\n    }\n\n    public Users(String email, String password, String uid) {\n        this.email = email;\n        this.password = password;\n        this.uid = uid;\n    }\n\n    public Users(String name, String profileImage) {\n        this.name = name;\n        this.profileImage = profileImage;\n    }\n\n    public Users(String uid, String name, String phoneNumber, String profileImage) {\n        this.uid = uid;\n        this.name = name;\n        this.phoneNumber = phoneNumber;\n        this.profileImage = profileImage;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public Users() {}\n\n    public String getUid() {\n        return uid;\n    }\n\n    public void setUid(String uid) {\n        this.uid = uid;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getProfileImage() {\n        return profileImage;\n    }\n\n    public void setProfileImage(String profileImage) {\n        this.profileImage = profileImage;\n    }\n}\n</code></pre>\n<p>I want to retrieve the data from the database and store it in this class so that I can use it later and I won't need to call the database again and again since I only need a single node's data.</p>\n<p>The code I wrote-</p>\n<pre><code>FirebaseDatabase.getInstance().getReference().child(&quot;users&quot;).child(FirebaseAuth.getInstance().getUid())\n                        .addValueEventListener(new ValueEventListener() {\n                            @Override\n                            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                                u = snapshot.getValue(Users.class);\n                                Toast.makeText(ProfileActivity.this, u.getName(), Toast.LENGTH_SHORT).show();\n                            }\n\n                            @Override\n                            public void onCancelled(@NonNull DatabaseError error) {\n\n                            }\n                        });\n        binding.name.setText(u.getName());\n</code></pre>\n<p>Here, the first toast works, which means it shows the data I wanted. But whenever I use it somewhere else like the textview(name) it doesn't work and gives me this error-</p>\n<p><code>java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String com.joy.chat_two_point_o.models.Users.getName()' on a null object</code></p>\n<p>I get it that somehow the User class getter gives a null value, but how did it work at first then? And why it doesn't work outside the onDataChange function? Can someone please explain? I tried to watch some videos but they use get() method instead of this &quot;User Class&quot; way. I read the documentation and did the same still it isn't working. Please tell me what am I doing wrong here?</p>\n"},{"tags":["java","security","sonarqube","zip","hotspot"],"answers":[{"tags":[],"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688811626,"creation_date":1688811626,"answer_id":76642439,"question_id":76642067,"body_markdown":"Extracting zip is insecure due to zip bomb problem or say the zip may contain files not secure enough to extract \r\n\r\nrefer https://wiki.sei.cmu.edu/confluence/display/java/IDS04-J.+Safely+extract+files+from+ZipInputStream   for valid code ","title":"Why is that a security problem in sonarqube?","body":"<p>Extracting zip is insecure due to zip bomb problem or say the zip may contain files not secure enough to extract</p>\n<p>refer <a href=\"https://wiki.sei.cmu.edu/confluence/display/java/IDS04-J.+Safely+extract+files+from+ZipInputStream\" rel=\"nofollow noreferrer\">https://wiki.sei.cmu.edu/confluence/display/java/IDS04-J.+Safely+extract+files+from+ZipInputStream</a>   for valid code</p>\n"}],"owner":{"account_id":5061652,"reputation":107,"user_id":4063044,"accept_rate":0,"display_name":"Rolf Warnecke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":154,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688811626,"creation_date":1688805309,"question_id":76642067,"body_markdown":"i have the following method:\r\n\r\n        public List&lt;String&gt; getZipFileList(String fullPath) throws IOException {\r\n    \t    logger.debug(&quot;====&gt; ZipService: getZipFileList &lt;====&quot;);\r\n    \t    List&lt;String&gt; fileList = new ArrayList&lt;&gt;();\r\n    \t\r\n    \t    try (ZipFile zipFile = new ZipFile(fullPath)) {\r\n    \t        Enumeration&lt;? extends ZipEntry&gt; zipEntries = zipFile.entries();\r\n    \t        while (zipEntries.hasMoreElements()) {\r\n    \t            String fileName = ((ZipEntry) zipEntries.nextElement()).getName();\r\n    \t            fileList.add(fileName);\r\n    \t        }\r\n    \t    }\r\n    \t\r\n    \t    return fileList;\r\n        }\r\n\r\nIn the line with the Enumeration say Sonarqube the following message: \r\n\r\n&gt; Make sure that expanding this archive file is safe here.\r\n\r\nWhy is that not safe and how can I fix it ?","title":"Why is that a security problem in sonarqube?","body":"<p>i have the following method:</p>\n<pre><code>    public List&lt;String&gt; getZipFileList(String fullPath) throws IOException {\n        logger.debug(&quot;====&gt; ZipService: getZipFileList &lt;====&quot;);\n        List&lt;String&gt; fileList = new ArrayList&lt;&gt;();\n    \n        try (ZipFile zipFile = new ZipFile(fullPath)) {\n            Enumeration&lt;? extends ZipEntry&gt; zipEntries = zipFile.entries();\n            while (zipEntries.hasMoreElements()) {\n                String fileName = ((ZipEntry) zipEntries.nextElement()).getName();\n                fileList.add(fileName);\n            }\n        }\n    \n        return fileList;\n    }\n</code></pre>\n<p>In the line with the Enumeration say Sonarqube the following message:</p>\n<blockquote>\n<p>Make sure that expanding this archive file is safe here.</p>\n</blockquote>\n<p>Why is that not safe and how can I fix it ?</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671009950,"creation_date":1671009950,"answer_id":74796044,"question_id":74795136,"body_markdown":"It seems to be removed in 3.17 due to being deprecated\r\n\r\nhttps://camel.apache.org/manual/camel-3x-upgrade-guide-3_17.html#_deprecated_components\r\n\r\n```\r\nThe following components that had been marked as deprecated, were removed in this release:\r\n    ... \r\n    \r\n    • camel-hystrix\r\n    \r\n    ...\r\n```","title":"Canel upgrade from 3.16.0 to 3.19.0 HystrixConfigurationDefinition missing","body":"<p>It seems to be removed in 3.17 due to being deprecated</p>\n<p><a href=\"https://camel.apache.org/manual/camel-3x-upgrade-guide-3_17.html#_deprecated_components\" rel=\"nofollow noreferrer\">https://camel.apache.org/manual/camel-3x-upgrade-guide-3_17.html#_deprecated_components</a></p>\n<pre><code>The following components that had been marked as deprecated, were removed in this release:\n    ... \n    \n    • camel-hystrix\n    \n    ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4137574,"reputation":51,"user_id":3393856,"accept_rate":0,"display_name":"Bhim"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671012912,"creation_date":1671012912,"answer_id":74796648,"question_id":74795136,"body_markdown":"It&#39;s resolved Now. I have added camel jaxb dependency ","title":"Canel upgrade from 3.16.0 to 3.19.0 HystrixConfigurationDefinition missing","body":"<p>It's resolved Now. I have added camel jaxb dependency</p>\n"},{"tags":[],"owner":{"account_id":8087513,"reputation":41,"user_id":6094599,"display_name":"mihai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688811410,"creation_date":1688811410,"answer_id":76642425,"question_id":74795136,"body_markdown":"A possible solution would be to add camel-spring-xml (that helped me to fix)","title":"Canel upgrade from 3.16.0 to 3.19.0 HystrixConfigurationDefinition missing","body":"<p>A possible solution would be to add camel-spring-xml (that helped me to fix)</p>\n"}],"owner":{"account_id":4137574,"reputation":51,"user_id":3393856,"accept_rate":0,"display_name":"Bhim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688811410,"creation_date":1671004829,"question_id":74795136,"body_markdown":"I am updating Apache camel from 3.16.0 to Apache Camel 3.19.0 and getting below error.\r\n\r\nException in thread **org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected Exception parsing XML document from class path resource [myContext.xml]; nested exception us java.lang.NoClassDefFoundError: Lorg/apache/camel/model/HystrixConfigurationDefinition;**\r\n\r\n**Caused by: Java.lang.ClassNotFoundException: org.apache.camel.model.HystrixConfigurationDefinition at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)**\r\n\r\nI tried finding the solution but No luck. I investigated dependency tree as well. I am new to Apache camel.\r\nAny help much appreciated.\r\n","title":"Canel upgrade from 3.16.0 to 3.19.0 HystrixConfigurationDefinition missing","body":"<p>I am updating Apache camel from 3.16.0 to Apache Camel 3.19.0 and getting below error.</p>\n<p>Exception in thread <strong>org.springframework.beans.factory.BeanDefinitionStoreException: Unexpected Exception parsing XML document from class path resource [myContext.xml]; nested exception us java.lang.NoClassDefFoundError: Lorg/apache/camel/model/HystrixConfigurationDefinition;</strong></p>\n<p><strong>Caused by: Java.lang.ClassNotFoundException: org.apache.camel.model.HystrixConfigurationDefinition at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)</strong></p>\n<p>I tried finding the solution but No luck. I investigated dependency tree as well. I am new to Apache camel.\nAny help much appreciated.</p>\n"},{"tags":["java","hosting","war","free","portfolio"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688810899,"post_id":76642369,"comment_id":135126008,"body_markdown":"Not the right kind of question for this site but Java hosting is seldom free or cheap as it&#39;s relatively resource-intensive. I would host it yourself. You&#39;d learn and save a lot","body":"Not the right kind of question for this site but Java hosting is seldom free or cheap as it&#39;s relatively resource-intensive. I would host it yourself. You&#39;d learn and save a lot"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688812423,"post_id":76642369,"comment_id":135126144,"body_markdown":"Host it yourself and use ngrok if you don&#39;t want to buy a domain.","body":"Host it yourself and use ngrok if you don&#39;t want to buy a domain."}],"answers":[{"tags":[],"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688811394,"creation_date":1688811394,"answer_id":76642423,"question_id":76642369,"body_markdown":"You can try\r\n\r\n - https://www.back4app.com/ \r\n - https://render.com/\r\n\r\nThis offers java deployment as docker \r\nsamle dockerFile https://github.com/rksharma1401/apache-camel-microservice/blob/main/Dockerfile","title":"Places to host Java WAR projects for a portfolio? Cheap or Free","body":"<p>You can try</p>\n<ul>\n<li><a href=\"https://www.back4app.com/\" rel=\"nofollow noreferrer\">https://www.back4app.com/</a></li>\n<li><a href=\"https://render.com/\" rel=\"nofollow noreferrer\">https://render.com/</a></li>\n</ul>\n<p>This offers java deployment as docker\nsamle dockerFile <a href=\"https://github.com/rksharma1401/apache-camel-microservice/blob/main/Dockerfile\" rel=\"nofollow noreferrer\">https://github.com/rksharma1401/apache-camel-microservice/blob/main/Dockerfile</a></p>\n"}],"owner":{"account_id":28975197,"reputation":3,"user_id":22194468,"display_name":"Bob Ross Jr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76642423,"answer_count":1,"score":0,"last_activity_date":1688811394,"creation_date":1688810515,"question_id":76642369,"body_markdown":"Does anybody know of any sites that let you host java .war project files for free or cheap?\r\n\r\nI want to host some applications for a portfolio, so I&#39;m not looking for the most robust service. \r\nI&#39;m aware of the free credit with AWS and GCS, but looking for something more long-term. \r\n\r\nAlternatively, any ideas on showcasing projects for a portfolio? \r\n\r\nThanks","title":"Places to host Java WAR projects for a portfolio? Cheap or Free","body":"<p>Does anybody know of any sites that let you host java .war project files for free or cheap?</p>\n<p>I want to host some applications for a portfolio, so I'm not looking for the most robust service.\nI'm aware of the free credit with AWS and GCS, but looking for something more long-term.</p>\n<p>Alternatively, any ideas on showcasing projects for a portfolio?</p>\n<p>Thanks</p>\n"},{"tags":["java","arrays","unique"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494833883,"creation_date":1494833883,"answer_id":43973823,"question_id":43973678,"body_markdown":"An easier approach may be to use Java 8&#39;s stream capabilities to count the number of appearances each element has, and then filter our the non-unique ones:\r\n\r\n    List&lt;Integer&gt; uniqueElements =\r\n        Arrays.stream(num)\r\n              .boxed()\r\n              .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n              .entrySet()\r\n              .stream()\r\n              .filter(e -&gt; e.getValue() == 1)\r\n              .map(Map.Entry::getKey)\r\n              .collect(Collectors.toList());","title":"Print only non repeated elements in an array?","body":"<p>An easier approach may be to use Java 8's stream capabilities to count the number of appearances each element has, and then filter our the non-unique ones:</p>\n\n<pre><code>List&lt;Integer&gt; uniqueElements =\n    Arrays.stream(num)\n          .boxed()\n          .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n          .entrySet()\n          .stream()\n          .filter(e -&gt; e.getValue() == 1)\n          .map(Map.Entry::getKey)\n          .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1202806,"reputation":23213,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494836122,"creation_date":1494836122,"answer_id":43974445,"question_id":43973678,"body_markdown":"Maybe this can be helpful:\r\n\r\n    static int[] uniqueElementsFrom(int[] arr) {\r\n        final Map&lt;Integer, Integer&gt; numberOfOccurences = new HashMap&lt;Integer, Integer&gt;();\r\n\r\n        for (int i : arr) {\r\n            if (!numberOfOccurences.containsKey(i)) {\r\n                numberOfOccurences.put(i, 1);\r\n            } else {\r\n                numberOfOccurences.put(i, numberOfOccurences.get(i) + 1);\r\n            }\r\n        }\r\n\r\n        final Set&lt;Integer&gt; integers = numberOfOccurences.keySet();\r\n\r\n        List&lt;Integer&gt; uniques = new LinkedList&lt;Integer&gt;();\r\n        for (int i: integers) {\r\n            if (numberOfOccurences.get(i) == 1) {\r\n                uniques.add(i);\r\n            }\r\n        }\r\n\r\n        final int[] uniqueIntsArray = new int[uniques.size()];\r\n        for (int counter = 0; counter &lt; uniques.size(); counter++) {\r\n            uniqueIntsArray[counter] = uniques.get(counter);\r\n        }\r\n        return uniqueIntsArray;\r\n    }","title":"Print only non repeated elements in an array?","body":"<p>Maybe this can be helpful:</p>\n\n<pre><code>static int[] uniqueElementsFrom(int[] arr) {\n    final Map&lt;Integer, Integer&gt; numberOfOccurences = new HashMap&lt;Integer, Integer&gt;();\n\n    for (int i : arr) {\n        if (!numberOfOccurences.containsKey(i)) {\n            numberOfOccurences.put(i, 1);\n        } else {\n            numberOfOccurences.put(i, numberOfOccurences.get(i) + 1);\n        }\n    }\n\n    final Set&lt;Integer&gt; integers = numberOfOccurences.keySet();\n\n    List&lt;Integer&gt; uniques = new LinkedList&lt;Integer&gt;();\n    for (int i: integers) {\n        if (numberOfOccurences.get(i) == 1) {\n            uniques.add(i);\n        }\n    }\n\n    final int[] uniqueIntsArray = new int[uniques.size()];\n    for (int counter = 0; counter &lt; uniques.size(); counter++) {\n        uniqueIntsArray[counter] = uniques.get(counter);\n    }\n    return uniqueIntsArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3724603,"reputation":8203,"user_id":3098783,"accept_rate":67,"display_name":"Jankapunkt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494837699,"creation_date":1494836954,"answer_id":43974678,"question_id":43973678,"body_markdown":"You can use two Maps to store the found/abandoned values and therefore iterate the array only once.\r\n\r\n**The approach:**\r\n\r\n - for each element in array\r\n - is the element indexed (already found)?\r\n - if no index it (to a HashMap)\r\n - if yes, remove it from index and put on abandoned list\r\n - the results are the keys of the index map.\r\n\r\n**The code:**\r\n\r\n\r\n    Set getUniqueValues(int[] numbers) {\r\n      \r\n      HashMap&lt;Integer,Boolean&gt; numIndex = new HashMap&lt;Integer, Boolean&gt;();\r\n      HashMap&lt;Integer,Boolean&gt; abandoned = new HashMap&lt;Integer, Boolean&gt;();\r\n    \r\n      \r\n      for (int i = 0; i &lt; numbers.length; i++) {\r\n          int currentNumber = numbers[i];\r\n          \r\n          try {\r\n              // check if already abandoned and skip this iteration\r\n              if ( abandoned.get(currentNumber) != null) continue;\r\n          } catch(Exception e) {\r\n    \r\n          }\r\n          \r\n          boolean isInIndex;\r\n          try {\r\n              // check if it is already indexed\r\n              isInIndex = numIndex.get(currentNumber);\r\n          } catch(Exception e) {\r\n              // if not, we found it the first time\r\n              isInIndex = false;\r\n          }\r\n          \r\n          if (isInIndex == false){\r\n              //so we put it to the index\r\n              numIndex.put(currentNumber, true);\r\n          }else{\r\n              // if it appeared, we abandon it\r\n              numIndex.remove(currentNumber);\r\n              abandoned.put(currentNumber, true);\r\n          }\r\n      }\r\n       return numIndex.keySet(); \r\n    }\r\n\r\n**Further readings:**\r\n\r\nThe maps use wrapper classes (Integer, Boolean), which are auto converted by Java: \r\n\r\nhttps://stackoverflow.com/questions/16148575/hashmap-and-int-as-key#16148593\r\n\r\nThe function returns a set, which may be converted to an array:\r\n\r\nhttps://stackoverflow.com/questions/1090556/java-how-to-convert-hashmapstring-object-to-array#1090564","title":"Print only non repeated elements in an array?","body":"<p>You can use two Maps to store the found/abandoned values and therefore iterate the array only once.</p>\n\n<p><strong>The approach:</strong></p>\n\n<ul>\n<li>for each element in array</li>\n<li>is the element indexed (already found)?</li>\n<li>if no index it (to a HashMap)</li>\n<li>if yes, remove it from index and put on abandoned list</li>\n<li>the results are the keys of the index map.</li>\n</ul>\n\n<p><strong>The code:</strong></p>\n\n<pre><code>Set getUniqueValues(int[] numbers) {\n\n  HashMap&lt;Integer,Boolean&gt; numIndex = new HashMap&lt;Integer, Boolean&gt;();\n  HashMap&lt;Integer,Boolean&gt; abandoned = new HashMap&lt;Integer, Boolean&gt;();\n\n\n  for (int i = 0; i &lt; numbers.length; i++) {\n      int currentNumber = numbers[i];\n\n      try {\n          // check if already abandoned and skip this iteration\n          if ( abandoned.get(currentNumber) != null) continue;\n      } catch(Exception e) {\n\n      }\n\n      boolean isInIndex;\n      try {\n          // check if it is already indexed\n          isInIndex = numIndex.get(currentNumber);\n      } catch(Exception e) {\n          // if not, we found it the first time\n          isInIndex = false;\n      }\n\n      if (isInIndex == false){\n          //so we put it to the index\n          numIndex.put(currentNumber, true);\n      }else{\n          // if it appeared, we abandon it\n          numIndex.remove(currentNumber);\n          abandoned.put(currentNumber, true);\n      }\n  }\n   return numIndex.keySet(); \n}\n</code></pre>\n\n<p><strong>Further readings:</strong></p>\n\n<p>The maps use wrapper classes (Integer, Boolean), which are auto converted by Java: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/16148575/hashmap-and-int-as-key#16148593\">HashMap and int as key</a></p>\n\n<p>The function returns a set, which may be converted to an array:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1090556/java-how-to-convert-hashmapstring-object-to-array#1090564\">Java: how to convert HashMap&lt;String, Object&gt; to array</a></p>\n"},{"tags":[],"owner":{"account_id":9689681,"reputation":188,"user_id":7188123,"display_name":"Jyotsana Nandwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494837440,"creation_date":1494837440,"answer_id":43974821,"question_id":43973678,"body_markdown":"If you want to correct your current  code, there are just 2 problems i can see : \r\n1. if(num[i]==num[j]), you want to do equality check, use == because = is assignment operator, and you want to compare num[i] to num[j].\r\n2. break from inner loop when you found a repetition of any int, i.e. flag=1. When flag=0, it means there is no repetition of this number and you are good to go. See corrected code below :\r\n\r\n    for(int i=0;i&lt;size;i++)\r\n        {   \r\n            for(int j=0;j&lt;size;j++)\r\n            {\r\n                if(i!=j)\r\n                {\r\n                    if(num[i]==num[j])\r\n                    {\r\n                        flag=1; //it is repeated number\r\n                        break; //break the loop as we already found a repetition of this number\r\n                    }\r\n\r\n                }\r\n            }\r\n            if(flag==0)\r\n            {\r\n                cnt++;\r\n                System.out.println(num[i]+&quot; &quot;); //here is your non-repeated number\r\n            }\r\n        }","title":"Print only non repeated elements in an array?","body":"<p>If you want to correct your current  code, there are just 2 problems i can see : \n1. if(num[i]==num[j]), you want to do equality check, use == because = is assignment operator, and you want to compare num[i] to num[j].\n2. break from inner loop when you found a repetition of any int, i.e. flag=1. When flag=0, it means there is no repetition of this number and you are good to go. See corrected code below :</p>\n\n<pre><code>for(int i=0;i&lt;size;i++)\n    {   \n        for(int j=0;j&lt;size;j++)\n        {\n            if(i!=j)\n            {\n                if(num[i]==num[j])\n                {\n                    flag=1; //it is repeated number\n                    break; //break the loop as we already found a repetition of this number\n                }\n\n            }\n        }\n        if(flag==0)\n        {\n            cnt++;\n            System.out.println(num[i]+\" \"); //here is your non-repeated number\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4203782,"reputation":1870,"user_id":3443247,"accept_rate":100,"display_name":"Sufiyan Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549563447,"creation_date":1549563447,"answer_id":54579797,"question_id":43973678,"body_markdown":"Using **EXOR** Operation. Only works when the repeat count is **Even** and has only 1 unique number.\r\n\r\n    public class MyClass {\r\n        public static void main (String[] args) \r\n        { \r\n              \r\n            int arr[] = { 1, 2, 5, 4, 6, 8, 9, 2, 1, 4, 5, 8, 9 }; \r\n            int n = arr.length; \r\n            int v = 0;\r\n            for(int i = 0 ; i&lt; n ; i++ ){\r\n                v = v ^ arr[i]; //XOR Operation\r\n            }\r\n              \r\n            System.out.print(v); \r\n        } \r\n    }\r\n\r\n","title":"Print only non repeated elements in an array?","body":"<p>Using <strong>EXOR</strong> Operation. Only works when the repeat count is <strong>Even</strong> and has only 1 unique number.</p>\n\n<pre><code>public class MyClass {\n    public static void main (String[] args) \n    { \n\n        int arr[] = { 1, 2, 5, 4, 6, 8, 9, 2, 1, 4, 5, 8, 9 }; \n        int n = arr.length; \n        int v = 0;\n        for(int i = 0 ; i&lt; n ; i++ ){\n            v = v ^ arr[i]; //XOR Operation\n        }\n\n        System.out.print(v); \n    } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28953875,"reputation":11,"user_id":22177839,"display_name":"Jawad Zaarour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688810824,"creation_date":1688810824,"answer_id":76642387,"question_id":43973678,"body_markdown":"You can use this readable solution:\r\n\r\n     // Create a HashMap to store the count of each element\r\n        Map&lt;Integer, Integer&gt; countMap = new HashMap&lt;&gt;();\r\n\r\n        Arrays.stream(array)\r\n                .forEach(num -&gt; countMap.put(num, countMap.getOrDefault(num, 0) + 1));\r\n\r\n        countMap.entrySet().stream()\r\n                .filter(entry -&gt; entry.getValue() == 1)\r\n                .map(Map.Entry::getKey)\r\n                .forEach(System.out::println);\r\nJava 8 features: \r\n\r\n\r\n - ***getOrDefault***:\r\n \r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\r\n - ***stream***\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html","title":"Print only non repeated elements in an array?","body":"<p>You can use this readable solution:</p>\n<pre><code> // Create a HashMap to store the count of each element\n    Map&lt;Integer, Integer&gt; countMap = new HashMap&lt;&gt;();\n\n    Arrays.stream(array)\n            .forEach(num -&gt; countMap.put(num, countMap.getOrDefault(num, 0) + 1));\n\n    countMap.entrySet().stream()\n            .filter(entry -&gt; entry.getValue() == 1)\n            .map(Map.Entry::getKey)\n            .forEach(System.out::println);\n</code></pre>\n<p>Java 8 features:</p>\n<ul>\n<li><em><strong>getOrDefault</strong></em>:</li>\n</ul>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-</a></p>\n<ul>\n<li><em><strong>stream</strong></em></li>\n</ul>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html</a></p>\n"}],"owner":{"account_id":9396310,"reputation":39,"user_id":7344668,"accept_rate":0,"display_name":"user7344668"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1688810824,"creation_date":1494833295,"question_id":43973678,"body_markdown":"Here is my code snippet\r\n    \r\n    import java.util.*;\r\n    public class UniqueEl\r\n    {\r\n    \tpublic static void main(String []p)\r\n    \t{\r\n    \t\tScanner sc=new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Enter Array size&quot;);\r\n    \t\tint size=sc.nextInt();\r\n    \t\t//boolean ischeck=true;\r\n    \t\tint flag=0,cnt=0;\r\n    \t\tint []num=new int[size];\r\n    \t\tSystem.out.println(&quot;Enter Array Elements&quot;);\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t{\r\n    \t\t\tnum[i]=sc.nextInt();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Display Array Elements&quot;);\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Array Elements are :-&quot;+num[i]);\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Unique elements from the array &quot;);\r\n    \t\tfor(int i=0;i&lt;size;i++)\r\n    \t\t{\t\r\n    \t\t\tfor(int j=0;j&lt;size;j++)\r\n    \t\t\t{\r\n    \t\t\t\tif(i!=j)\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif(num[i]=num[j])\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tflag=1;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\telse\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tflag=0;\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif(flag==1)\r\n    \t\t\t{\r\n    \t\t\t\tcnt++;\r\n    \t\t\tSystem.out.println(num[i]+&quot; &quot;);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n   \r\nHere In this array code I have to print non-repeated integer value \r\n\r\n\r\n Say Array value is :-[1,1,2,3,1,2,4,5]\r\n    answer should be :-[3,4,5]\r\n    that is non repeated integer value I have to print .Can any one help me to solve this problem","title":"Print only non repeated elements in an array?","body":"<p>Here is my code snippet</p>\n\n<pre><code>import java.util.*;\npublic class UniqueEl\n{\n    public static void main(String []p)\n    {\n        Scanner sc=new Scanner(System.in);\n        System.out.println(\"Enter Array size\");\n        int size=sc.nextInt();\n        //boolean ischeck=true;\n        int flag=0,cnt=0;\n        int []num=new int[size];\n        System.out.println(\"Enter Array Elements\");\n        for(int i=0;i&lt;size;i++)\n        {\n            num[i]=sc.nextInt();\n        }\n        System.out.println(\"Display Array Elements\");\n        for(int i=0;i&lt;size;i++)\n        {\n            System.out.println(\"Array Elements are :-\"+num[i]);\n        }\n        System.out.println(\"Unique elements from the array \");\n        for(int i=0;i&lt;size;i++)\n        {   \n            for(int j=0;j&lt;size;j++)\n            {\n                if(i!=j)\n                {\n                    if(num[i]=num[j])\n                    {\n                        flag=1;\n                    }\n                    else\n                    {\n                        flag=0;\n                        break;\n                    }\n\n                }\n            }\n            if(flag==1)\n            {\n                cnt++;\n            System.out.println(num[i]+\" \");\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Here In this array code I have to print non-repeated integer value </p>\n\n<p>Say Array value is :-[1,1,2,3,1,2,4,5]\n    answer should be :-[3,4,5]\n    that is non repeated integer value I have to print .Can any one help me to solve this problem</p>\n"},{"tags":["java","maven","google-app-engine","google-cloud-platform","google-cloud-datastore"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":1,"creation_date":1597650981,"post_id":63445036,"comment_id":112191437,"body_markdown":"Did you try to follow [this doc](https://cloud.google.com/datastore/docs/tools/datastore-emulator) about the datastore emulator?","body":"Did you try to follow <a href=\"https://cloud.google.com/datastore/docs/tools/datastore-emulator\" rel=\"nofollow noreferrer\">this doc</a> about the datastore emulator?"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1597722165,"post_id":63445036,"comment_id":112219087,"body_markdown":"@guillaumeblaquiere Thanks for the reply. I tried following that doc, but I&#39;m getting this error in my servlet: `IllegalArgumentException: Project endpoint &quot;::1:8954/v1/projects/happy-coding-gcloud&quot; must include scheme.`","body":"@guillaumeblaquiere Thanks for the reply. I tried following that doc, but I&#39;m getting this error in my servlet: <code>IllegalArgumentException: Project endpoint &quot;::1:8954&#47;v1&#47;projects&#47;happy-coding-gcloud&quot; must include scheme.</code>"},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1597722210,"post_id":63445036,"comment_id":112219098,"body_markdown":"Taking a step back, I&#39;m really hoping there&#39;s an easier way to run Datastore locally. Java 8 made it very easy without requiring any extra commands outside of running the devserver, so I&#39;m hoping there&#39;s something similar with Java 11. My end goal is creating a curriculum for students, so every barrier is very painful.","body":"Taking a step back, I&#39;m really hoping there&#39;s an easier way to run Datastore locally. Java 8 made it very easy without requiring any extra commands outside of running the devserver, so I&#39;m hoping there&#39;s something similar with Java 11. My end goal is creating a curriculum for students, so every barrier is very painful."},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1597735992,"post_id":63445036,"comment_id":112223246,"body_markdown":"It&#39;s one of the pain point by migrating from the 1st App Engine generation, with lot of tool included, and the 2nd generation with only a webserver for App Engine, and all the other tools external (Datastore, Scheduler, Task, MemoryStore,...)","body":"It&#39;s one of the pain point by migrating from the 1st App Engine generation, with lot of tool included, and the 2nd generation with only a webserver for App Engine, and all the other tools external (Datastore, Scheduler, Task, MemoryStore,...)"},{"owner":{"account_id":16508716,"reputation":1311,"user_id":11928130,"display_name":"tzovourn"},"score":0,"creation_date":1598018731,"post_id":63445036,"comment_id":112329821,"body_markdown":"I would suggest you to report this issue with [Google Issue Tracker](https://developers.google.com/issue-tracker/) which is intended for tracking reproducible issues and feature requests during product development.","body":"I would suggest you to report this issue with <a href=\"https://developers.google.com/issue-tracker/\" rel=\"nofollow noreferrer\">Google Issue Tracker</a> which is intended for tracking reproducible issues and feature requests during product development."},{"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"score":0,"creation_date":1598131888,"post_id":63445036,"comment_id":112359822,"body_markdown":"@guillaumeblaquiere Thanks for your suggestion. I was finally able to get it working, and I&#39;ve posted an answer below. Thanks again for the pointer.","body":"@guillaumeblaquiere Thanks for your suggestion. I was finally able to get it working, and I&#39;ve posted an answer below. Thanks again for the pointer."}],"answers":[{"tags":[],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598131832,"creation_date":1598131832,"answer_id":63541294,"question_id":63445036,"body_markdown":"Based on [guillaume blaquiere](https://stackoverflow.com/users/11372593/guillaume-blaquiere)&#39;s suggestion in their [comment](https://stackoverflow.com/questions/63445036/whats-the-equivalent-of-appenginerun-for-the-java-11-cloud-sdk#comment112191437_63445036), I tried following [this guide](https://cloud.google.com/datastore/docs/tools/datastore-emulator) for manually running Datastore locally.\r\n\r\nI ran `gcloud beta emulators datastore start` in one command line, which seemed to run fine, and then I ran `$(gcloud beta emulators datastore env-init)` in another command line, and I got this error:\r\n\r\n```bash\r\nERROR: (gcloud.beta.emulators.datastore.env-init)\r\nUnable to find env.yaml in the data_dir \r\n[/tmp/tmp.zolNZC8fnr/emulators/datastore]. \r\nPlease ensure you have started the appropriate emulator.\r\n```\r\n\r\nI went back to the first command line where I ran Datastore, and I noticed this line in the output:\r\n\r\n```bash\r\nStorage: /tmp/tmp.sxkNeaNHxo/emulators/datastore/WEB-INF/appengine-generated/local_db.bin\r\n```\r\n\r\nI copied that directory path into the `data-dir` argument:\r\n\r\n```bash\r\n$(gcloud beta emulators datastore env-init --data-dir=/tmp/tmp.sxkNeaNHxo/emulators/datastore)\r\n```\r\n\r\nThat command seemed to succeed (with no output) so I ran my local server: `mvn package exec:java`\r\n\r\nFinally, this seems to work locally.\r\n\r\nTo summarize:\r\n\r\n**Step 1:** Run this command: `gcloud beta emulators datastore start`\r\n\r\n**Step 2:** In the output, find the line that looks like this:\r\n\r\n`Storage: /tmp/tmp.sxkNeaNHxo/emulators/datastore/WEB-INF/appengine-generated/local_db.bin`\r\n\r\nCopy the `/tmp/tmp.YOUR_PATH_HERE/emulators/datastore` path.\r\n\r\n**Step 3:** In a different command line, run this command, pasting in the path you just copied:\r\n\r\n`$(gcloud beta emulators datastore env-init --data-dir=/tmp/tmp.YOUR_PATH_HERE/emulators/datastore)`\r\n\r\n**Step 4:** In that second command line, run your local server: `mvn package exec:java`\r\n\r\nThis feels pretty convoluted (and undocumented), so I&#39;m still very open to suggestions for how to streamline this. But for now, this at least works.","title":"What&#39;s the equivalent of appengine:run for the Java 11 Cloud SDK?","body":"<p>Based on <a href=\"https://stackoverflow.com/users/11372593/guillaume-blaquiere\">guillaume blaquiere</a>'s suggestion in their <a href=\"https://stackoverflow.com/questions/63445036/whats-the-equivalent-of-appenginerun-for-the-java-11-cloud-sdk#comment112191437_63445036\">comment</a>, I tried following <a href=\"https://cloud.google.com/datastore/docs/tools/datastore-emulator\" rel=\"nofollow noreferrer\">this guide</a> for manually running Datastore locally.</p>\n<p>I ran <code>gcloud beta emulators datastore start</code> in one command line, which seemed to run fine, and then I ran <code>$(gcloud beta emulators datastore env-init)</code> in another command line, and I got this error:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ERROR: (gcloud.beta.emulators.datastore.env-init)\nUnable to find env.yaml in the data_dir \n[/tmp/tmp.zolNZC8fnr/emulators/datastore]. \nPlease ensure you have started the appropriate emulator.\n</code></pre>\n<p>I went back to the first command line where I ran Datastore, and I noticed this line in the output:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>Storage: /tmp/tmp.sxkNeaNHxo/emulators/datastore/WEB-INF/appengine-generated/local_db.bin\n</code></pre>\n<p>I copied that directory path into the <code>data-dir</code> argument:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>$(gcloud beta emulators datastore env-init --data-dir=/tmp/tmp.sxkNeaNHxo/emulators/datastore)\n</code></pre>\n<p>That command seemed to succeed (with no output) so I ran my local server: <code>mvn package exec:java</code></p>\n<p>Finally, this seems to work locally.</p>\n<p>To summarize:</p>\n<p><strong>Step 1:</strong> Run this command: <code>gcloud beta emulators datastore start</code></p>\n<p><strong>Step 2:</strong> In the output, find the line that looks like this:</p>\n<p><code>Storage: /tmp/tmp.sxkNeaNHxo/emulators/datastore/WEB-INF/appengine-generated/local_db.bin</code></p>\n<p>Copy the <code>/tmp/tmp.YOUR_PATH_HERE/emulators/datastore</code> path.</p>\n<p><strong>Step 3:</strong> In a different command line, run this command, pasting in the path you just copied:</p>\n<p><code>$(gcloud beta emulators datastore env-init --data-dir=/tmp/tmp.YOUR_PATH_HERE/emulators/datastore)</code></p>\n<p><strong>Step 4:</strong> In that second command line, run your local server: <code>mvn package exec:java</code></p>\n<p>This feels pretty convoluted (and undocumented), so I'm still very open to suggestions for how to streamline this. But for now, this at least works.</p>\n"},{"tags":[],"owner":{"account_id":6467423,"reputation":121,"user_id":5008813,"accept_rate":86,"display_name":"Tim Cobra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688810736,"creation_date":1688810736,"answer_id":76642381,"question_id":63445036,"body_markdown":"You can keep it all running locally in Java 11 in the same way it all worked for Java 8.\r\nBut you need to keep the Legacy Bundled Services:\r\n[https://cloud.google.com/appengine/docs/standard/java-gen2/services/access#java-11][1]\r\n - So you still have a appengine-web.xml which gcloud coverts to an app.yaml in the staging directory\r\n - You need to add `&lt;app-engine-apis&gt;true&lt;/app-engine-apis&gt;` to your appengine-web.xml file.\r\n - I also needed to ensure I had the latest maven gcloud, appengine SDK, and other dependencies in my pom.xml file.\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/standard/java-gen2/services/access#java-11","title":"What&#39;s the equivalent of appengine:run for the Java 11 Cloud SDK?","body":"<p>You can keep it all running locally in Java 11 in the same way it all worked for Java 8.\nBut you need to keep the Legacy Bundled Services:\n<a href=\"https://cloud.google.com/appengine/docs/standard/java-gen2/services/access#java-11\" rel=\"nofollow noreferrer\">https://cloud.google.com/appengine/docs/standard/java-gen2/services/access#java-11</a></p>\n<ul>\n<li>So you still have a appengine-web.xml which gcloud coverts to an app.yaml in the staging directory</li>\n<li>You need to add <code>&lt;app-engine-apis&gt;true&lt;/app-engine-apis&gt;</code> to your appengine-web.xml file.</li>\n<li>I also needed to ensure I had the latest maven gcloud, appengine SDK, and other dependencies in my pom.xml file.</li>\n</ul>\n"}],"owner":{"account_id":467643,"reputation":41696,"user_id":873165,"accept_rate":84,"display_name":"Kevin Workman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":884,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":63541294,"answer_count":2,"score":2,"last_activity_date":1688810736,"creation_date":1597642184,"question_id":63445036,"body_markdown":"**tl;dr:** How can I run [this project](https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/datastore-hello-world) locally, in a way that Datastore will work? (Zip download link [here](https://downgit.github.io/#/home?url=https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/datastore-hello-world).)\r\n\r\nI&#39;m migrating a Java 8 project that used App Engine and Datastore over to Java 11.\r\n\r\nWith Java 8, I used the Cloud SDK-based [App Engine plugin](https://cloud.google.com/appengine/docs/standard/java/using-maven) to run the server locally using `mvn appengine:run` and to deploy to the live server using `mvn appengine:deploy`.\r\n\r\nI followed [this guide](https://cloud.google.com/appengine/docs/standard/java11/java-differences) which told me to delete the `appengine-web.xml` file and use `app.yaml` instead..\r\n\r\nTo deploy to the live server, I can still use `mvn appengine:deploy` and this works fine, with and without Datastore.\r\n\r\nTo deploy locally, I run `mvn package exec:java`. This works fine for running a basic server without Datastore, but if I add some [example Datastore code](https://cloud.google.com/datastore/docs/reference/libraries#client-libraries-install-java), then I get this error:\r\n\r\n```\r\njava.lang.IllegalArgumentException: A project ID is required for this service but could not be determined from the builder or the environment. Please set a project ID using the builder.\r\n```\r\n\r\nI know this is because I don&#39;t have a local App Engine environment running. But if I try to run the local server using `mvn appengine:run` then I get this error complaining about the missing `appengine-web.xml` file:\r\n\r\n```\r\n[ERROR] Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:run (default-cli) on project datastore-hello-world:\r\nFailed to run devappserver: java.nio.file.NoSuchFileException:\r\nC:\\Users\\kevin\\Documents\\GitHub\\HappyCoding\\examples\\google-cloud\\google-cloud-example-projects\\datastore-hello-world\\target\\datastore-hello-world-1\\WEB-INF\\appengine-web.xml -&gt; [Help 1]\r\n```\r\n\r\nSo I&#39;m stuck between needing to run `mvn appengine:run` which requires `appengine-web.xml`, and needing to update to Java 11, which says to use `app.yaml` instead of `appengine-web.xml`.\r\n\r\nThe [Java 11 App Engine docs](https://cloud.google.com/appengine/docs/standard/java11/testing-and-deploying-your-app#running_locally) only say this about running locally:\r\n\r\n&gt; To test your application&#39;s functionality before deploying, run your application in your local environment with the development tools that you usually use.\r\n\r\nThe above  [GitHub](https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/datastore-hello-world) and [zip](https://downgit.github.io/#/home?url=https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/datastore-hello-world) links contain the whole project (5 total files), but in the interest of including my code directly in the question, here are the files that matter the most:\r\n\r\n**pom.xml**\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\r\n  &lt;artifactId&gt;datastore-hello-world&lt;/artifactId&gt;\r\n  &lt;version&gt;1&lt;/version&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;!-- App Engine currently supports Java 11 --&gt;\r\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;jetty.version&gt;9.4.31.v20200723&lt;/jetty.version&gt;\r\n\r\n    &lt;!-- Project-specific properties --&gt;\r\n    &lt;mainClass&gt;io.happycoding.ServerMain&lt;/mainClass&gt;\r\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;!-- Java Servlets API --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n      &lt;version&gt;4.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Jetty --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;!-- Datastore --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;google-cloud-datastore&lt;/artifactId&gt;\r\n      &lt;version&gt;1.104.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;\r\n                ${project.build.directory}/classes/META-INF/resources\r\n              &lt;/outputDirectory&gt;\r\n              &lt;resources&gt;\r\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\r\n              &lt;/resources&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Package everything into a single executable jar file. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n              &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                  &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n                &lt;/transformer&gt;\r\n              &lt;/transformers&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- Exec plugin for deploying the local server. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;java&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\r\n          &lt;version&gt;1&lt;/version&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n**ServerMain.java**\r\n\r\n```java\r\npackage io.happycoding;\r\n\r\nimport java.net.URL;\r\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\r\nimport org.eclipse.jetty.server.Handler;\r\nimport org.eclipse.jetty.server.handler.DefaultHandler;\r\nimport org.eclipse.jetty.server.Server;\r\nimport org.eclipse.jetty.servlet.DefaultServlet;\r\nimport org.eclipse.jetty.webapp.Configuration;\r\nimport org.eclipse.jetty.webapp.WebAppContext;\r\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\r\n\r\n/**\r\n * Starts up the server, including a DefaultServlet that handles static files,\r\n * and any servlet classes annotated with the @WebServlet annotation.\r\n */\r\npublic class ServerMain {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n\r\n    // Create a server that listens on port 8080.\r\n    Server server = new Server(8080);\r\n    WebAppContext webAppContext = new WebAppContext();\r\n    server.setHandler(webAppContext);\r\n\r\n    // Load static content from inside the jar file.\r\n    URL webAppDir =\r\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\r\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\r\n\r\n    // Enable annotations so the server sees classes annotated with @WebServlet.\r\n    webAppContext.setConfigurations(new Configuration[]{ \r\n      new AnnotationConfiguration(),\r\n      new WebInfConfiguration(), \r\n    });\r\n\r\n    // Look for annotations in the classes directory (dev server) and in the\r\n    // jar file (live server)\r\n    webAppContext.setAttribute(\r\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \r\n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\r\n\r\n    // Handle static resources, e.g. html files.\r\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\r\n\r\n    // Start the server! &#128640;\r\n    server.start();\r\n    System.out.println(&quot;Server started!&quot;);\r\n\r\n    // Keep the main thread alive while the server is running.\r\n    server.join();\r\n  }\r\n}\r\n```\r\n\r\n**HelloWorldServlet.java**\r\n\r\n```java\r\npackage io.happycoding.servlets;\r\n\r\nimport com.google.cloud.datastore.Datastore;\r\nimport com.google.cloud.datastore.DatastoreOptions;\r\nimport com.google.cloud.datastore.Entity;\r\nimport com.google.cloud.datastore.Key;\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.annotation.WebServlet;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/hello&quot;)\r\npublic class HelloWorldServlet extends HttpServlet {\r\n\r\n  @Override\r\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\r\n      throws IOException {\r\n\r\n    Datastore datastore = DatastoreOptions.getDefaultInstance().getService();\r\n\r\n    String kind = &quot;Task&quot;;\r\n    // The name/ID for the new entity\r\n    String name = &quot;sampletask1&quot;;\r\n    // The Cloud Datastore key for the new entity\r\n    Key taskKey = datastore.newKeyFactory().setKind(kind).newKey(name);\r\n\r\n    // Prepares the new entity\r\n    Entity task = Entity.newBuilder(taskKey)\r\n        .set(&quot;description&quot;, &quot;Buy milk&quot;)\r\n        .build();\r\n\r\n    // Saves the entity\r\n    datastore.put(task);\r\n\r\n    System.out.printf(&quot;Saved %s: %s%n&quot;, task.getKey().getName(), task.getString(&quot;description&quot;));\r\n\r\n    //Retrieve entity\r\n    Entity retrieved = datastore.get(taskKey);\r\n\r\n    response.setContentType(&quot;text/html;&quot;);\r\n    response.getWriter().println(&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;);\r\n    response.getWriter().println(&quot;Retrieved: &quot; + taskKey.getName() + &quot;: &quot; + retrieved.getString(&quot;description&quot;));\r\n  }\r\n}\r\n```\r\n\r\n**How can I run a Java 11 App Engine server locally so that Datastore works?**","title":"What&#39;s the equivalent of appengine:run for the Java 11 Cloud SDK?","body":"<p><strong>tl;dr:</strong> How can I run <a href=\"https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/datastore-hello-world\" rel=\"nofollow noreferrer\">this project</a> locally, in a way that Datastore will work? (Zip download link <a href=\"https://downgit.github.io/#/home?url=https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/datastore-hello-world\" rel=\"nofollow noreferrer\">here</a>.)</p>\n<p>I'm migrating a Java 8 project that used App Engine and Datastore over to Java 11.</p>\n<p>With Java 8, I used the Cloud SDK-based <a href=\"https://cloud.google.com/appengine/docs/standard/java/using-maven\" rel=\"nofollow noreferrer\">App Engine plugin</a> to run the server locally using <code>mvn appengine:run</code> and to deploy to the live server using <code>mvn appengine:deploy</code>.</p>\n<p>I followed <a href=\"https://cloud.google.com/appengine/docs/standard/java11/java-differences\" rel=\"nofollow noreferrer\">this guide</a> which told me to delete the <code>appengine-web.xml</code> file and use <code>app.yaml</code> instead..</p>\n<p>To deploy to the live server, I can still use <code>mvn appengine:deploy</code> and this works fine, with and without Datastore.</p>\n<p>To deploy locally, I run <code>mvn package exec:java</code>. This works fine for running a basic server without Datastore, but if I add some <a href=\"https://cloud.google.com/datastore/docs/reference/libraries#client-libraries-install-java\" rel=\"nofollow noreferrer\">example Datastore code</a>, then I get this error:</p>\n<pre><code>java.lang.IllegalArgumentException: A project ID is required for this service but could not be determined from the builder or the environment. Please set a project ID using the builder.\n</code></pre>\n<p>I know this is because I don't have a local App Engine environment running. But if I try to run the local server using <code>mvn appengine:run</code> then I get this error complaining about the missing <code>appengine-web.xml</code> file:</p>\n<pre><code>[ERROR] Failed to execute goal com.google.cloud.tools:appengine-maven-plugin:2.2.0:run (default-cli) on project datastore-hello-world:\nFailed to run devappserver: java.nio.file.NoSuchFileException:\nC:\\Users\\kevin\\Documents\\GitHub\\HappyCoding\\examples\\google-cloud\\google-cloud-example-projects\\datastore-hello-world\\target\\datastore-hello-world-1\\WEB-INF\\appengine-web.xml -&gt; [Help 1]\n</code></pre>\n<p>So I'm stuck between needing to run <code>mvn appengine:run</code> which requires <code>appengine-web.xml</code>, and needing to update to Java 11, which says to use <code>app.yaml</code> instead of <code>appengine-web.xml</code>.</p>\n<p>The <a href=\"https://cloud.google.com/appengine/docs/standard/java11/testing-and-deploying-your-app#running_locally\" rel=\"nofollow noreferrer\">Java 11 App Engine docs</a> only say this about running locally:</p>\n<blockquote>\n<p>To test your application's functionality before deploying, run your application in your local environment with the development tools that you usually use.</p>\n</blockquote>\n<p>The above  <a href=\"https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/datastore-hello-world\" rel=\"nofollow noreferrer\">GitHub</a> and <a href=\"https://downgit.github.io/#/home?url=https://github.com/KevinWorkman/HappyCoding/tree/gh-pages/examples/google-cloud/google-cloud-example-projects/datastore-hello-world\" rel=\"nofollow noreferrer\">zip</a> links contain the whole project (5 total files), but in the interest of including my code directly in the question, here are the files that matter the most:</p>\n<p><strong>pom.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;io.happycoding&lt;/groupId&gt;\n  &lt;artifactId&gt;datastore-hello-world&lt;/artifactId&gt;\n  &lt;version&gt;1&lt;/version&gt;\n\n  &lt;properties&gt;\n    &lt;!-- App Engine currently supports Java 11 --&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;jetty.version&gt;9.4.31.v20200723&lt;/jetty.version&gt;\n\n    &lt;!-- Project-specific properties --&gt;\n    &lt;mainClass&gt;io.happycoding.ServerMain&lt;/mainClass&gt;\n    &lt;googleCloudProjectId&gt;YOUR_PROJECT_ID_HERE&lt;/googleCloudProjectId&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;!-- Java Servlets API --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Jetty --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n      &lt;artifactId&gt;jetty-annotations&lt;/artifactId&gt;\n      &lt;version&gt;${jetty.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Datastore --&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;google-cloud-datastore&lt;/artifactId&gt;\n      &lt;version&gt;1.104.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Copy static resources like html files into the output jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.7&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-web-resources&lt;/id&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;copy-resources&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;\n                ${project.build.directory}/classes/META-INF/resources\n              &lt;/outputDirectory&gt;\n              &lt;resources&gt;\n                &lt;resource&gt;&lt;directory&gt;./src/main/webapp&lt;/directory&gt;&lt;/resource&gt;\n              &lt;/resources&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Package everything into a single executable jar file. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;shade&lt;/goal&gt;&lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n              &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                  &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n                &lt;/transformer&gt;\n              &lt;/transformers&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- Exec plugin for deploying the local server. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;java&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;mainClass&gt;${mainClass}&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n\n      &lt;!-- App Engine plugin for deploying to the live site. --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;projectId&gt;${googleCloudProjectId}&lt;/projectId&gt;\n          &lt;version&gt;1&lt;/version&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><strong>ServerMain.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding;\n\nimport java.net.URL;\nimport org.eclipse.jetty.annotations.AnnotationConfiguration;\nimport org.eclipse.jetty.server.Handler;\nimport org.eclipse.jetty.server.handler.DefaultHandler;\nimport org.eclipse.jetty.server.Server;\nimport org.eclipse.jetty.servlet.DefaultServlet;\nimport org.eclipse.jetty.webapp.Configuration;\nimport org.eclipse.jetty.webapp.WebAppContext;\nimport org.eclipse.jetty.webapp.WebInfConfiguration;\n\n/**\n * Starts up the server, including a DefaultServlet that handles static files,\n * and any servlet classes annotated with the @WebServlet annotation.\n */\npublic class ServerMain {\n\n  public static void main(String[] args) throws Exception {\n\n    // Create a server that listens on port 8080.\n    Server server = new Server(8080);\n    WebAppContext webAppContext = new WebAppContext();\n    server.setHandler(webAppContext);\n\n    // Load static content from inside the jar file.\n    URL webAppDir =\n        ServerMain.class.getClassLoader().getResource(&quot;META-INF/resources&quot;);\n    webAppContext.setResourceBase(webAppDir.toURI().toString());\n\n    // Enable annotations so the server sees classes annotated with @WebServlet.\n    webAppContext.setConfigurations(new Configuration[]{ \n      new AnnotationConfiguration(),\n      new WebInfConfiguration(), \n    });\n\n    // Look for annotations in the classes directory (dev server) and in the\n    // jar file (live server)\n    webAppContext.setAttribute(\n        &quot;org.eclipse.jetty.server.webapp.ContainerIncludeJarPattern&quot;, \n        &quot;.*/target/classes/|.*\\\\.jar&quot;);\n\n    // Handle static resources, e.g. html files.\n    webAppContext.addServlet(DefaultServlet.class, &quot;/&quot;);\n\n    // Start the server! 🚀\n    server.start();\n    System.out.println(&quot;Server started!&quot;);\n\n    // Keep the main thread alive while the server is running.\n    server.join();\n  }\n}\n</code></pre>\n<p><strong>HelloWorldServlet.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.happycoding.servlets;\n\nimport com.google.cloud.datastore.Datastore;\nimport com.google.cloud.datastore.DatastoreOptions;\nimport com.google.cloud.datastore.Entity;\nimport com.google.cloud.datastore.Key;\nimport java.io.IOException;\n\nimport javax.servlet.annotation.WebServlet;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/hello&quot;)\npublic class HelloWorldServlet extends HttpServlet {\n\n  @Override\n  public void doGet(HttpServletRequest request, HttpServletResponse response)\n      throws IOException {\n\n    Datastore datastore = DatastoreOptions.getDefaultInstance().getService();\n\n    String kind = &quot;Task&quot;;\n    // The name/ID for the new entity\n    String name = &quot;sampletask1&quot;;\n    // The Cloud Datastore key for the new entity\n    Key taskKey = datastore.newKeyFactory().setKind(kind).newKey(name);\n\n    // Prepares the new entity\n    Entity task = Entity.newBuilder(taskKey)\n        .set(&quot;description&quot;, &quot;Buy milk&quot;)\n        .build();\n\n    // Saves the entity\n    datastore.put(task);\n\n    System.out.printf(&quot;Saved %s: %s%n&quot;, task.getKey().getName(), task.getString(&quot;description&quot;));\n\n    //Retrieve entity\n    Entity retrieved = datastore.get(taskKey);\n\n    response.setContentType(&quot;text/html;&quot;);\n    response.getWriter().println(&quot;&lt;h1&gt;Hello world!&lt;/h1&gt;&quot;);\n    response.getWriter().println(&quot;Retrieved: &quot; + taskKey.getName() + &quot;: &quot; + retrieved.getString(&quot;description&quot;));\n  }\n}\n</code></pre>\n<p><strong>How can I run a Java 11 App Engine server locally so that Datastore works?</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":28970238,"reputation":1,"user_id":22190716,"display_name":"St&#233;phane Gauthier"},"score":0,"creation_date":1688734685,"post_id":76637185,"comment_id":135117423,"body_markdown":"Sorry, a part of the copy/paste was interpreted. Here is what I received :&lt;div class=&quot;embeddable-page-container&quot;&gt;\n                                                                                                    &lt;/div&gt;","body":"Sorry, a part of the copy/paste was interpreted. Here is what I received :&lt;div class=&quot;embeddable-page-container&quot;&gt;                                                                                                     &lt;/div&gt;"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688735252,"post_id":76637185,"comment_id":135117538,"body_markdown":"You need an HTML parser to build the DOM where you can search for HTML elements. On Java on common that still works even if the page is not 100% compliant to the HTML spec is https://jsoup.org See e.g. https://stackoverflow.com/a/2835555/150978","body":"You need an HTML parser to build the DOM where you can search for HTML elements. On Java on common that still works even if the page is not 100% compliant to the HTML spec is <a href=\"https://jsoup.org\" rel=\"nofollow noreferrer\">jsoup.org</a> See e.g. <a href=\"https://stackoverflow.com/a/2835555/150978\">stackoverflow.com/a/2835555/150978</a>"},{"owner":{"account_id":28970238,"reputation":1,"user_id":22190716,"display_name":"St&#233;phane Gauthier"},"score":0,"creation_date":1688741685,"post_id":76637185,"comment_id":135118879,"body_markdown":"I tried &#39;&#39;&#39;Document doc = Jsoup.connect(url).get();&quot; but when I try to search &#39;&#39;&#39;Elements elements = body.select(&quot;.embeddable-page-slim&quot;);&#39;&#39;&#39; Elements is still empty","body":"I tried &#39;&#39;&#39;Document doc = Jsoup.connect(url).get();&quot; but when I try to search &#39;&#39;&#39;Elements elements = body.select(&quot;.embeddable-page-slim&quot;);&#39;&#39;&#39; Elements is still empty"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1688742646,"post_id":76637185,"comment_id":135119078,"body_markdown":"`embeddable-page-slim` is different from `embeddable-page-body` in your question, is this a typo? Print the HTML code retrieved by Jsoup to make sure you really get the same HTML file and the element you search is really present.","body":"<code>embeddable-page-slim</code> is different from <code>embeddable-page-body</code> in your question, is this a typo? Print the HTML code retrieved by Jsoup to make sure you really get the same HTML file and the element you search is really present."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688756521,"post_id":76637185,"comment_id":135121515,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28970238,"reputation":1,"user_id":22190716,"display_name":"St&#233;phane Gauthier"},"score":0,"creation_date":1688810568,"post_id":76637185,"comment_id":135125974,"body_markdown":"First message updated.","body":"First message updated."}],"owner":{"account_id":28970238,"reputation":1,"user_id":22190716,"display_name":"St&#233;phane Gauthier"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688810523,"creation_date":1688734547,"question_id":76637185,"body_markdown":"When I try to get the HTML source from this url : https://www.weatherlink.com/embeddablePage/show/44a2d6b116484f5a8013ffad079046b9/slim\r\n\r\nIf I request the source code to Chrome Navigator, I see :\r\n\r\n    &lt; body class=&quot;embeddable-page-body&quot;&gt;\r\n    &lt; !-- Google Tag Manager (noscript) --&gt;\r\n    &lt; noscript&gt;&lt;iframe src=&quot;https://www.googletagmanager.com/ns.html?id=GTM-NLLVC3L&quot; height=&quot;0&quot; width=&quot;0&quot; &quot;display:none;visibility:hidden&quot;&gt;&lt;/iframe&gt;&lt;/noscript&gt;\r\n    \r\n    &lt; div class=&quot;embeddable-page-container&quot;&gt;\r\n    &lt; /div&gt;\r\n\r\nIf I see Google inspector, I can read :\r\n\r\n    &lt; div class=&quot;embeddable-page-container&quot;&gt;\r\n    &lt; div&gt;\r\n    &lt; div class=&quot;embeddable-page embeddable-page-slim&quot;&gt;\r\n    &lt; div class=&quot;container-fluid&quot;&gt;\r\n    ::before\r\n    &lt; div class=&quot;row embeddable-page-header&quot; style=&quot;height: 54px;&quot;&gt;\r\n    ::before\r\n    &lt; span&gt; Plage Thal&#232;s &lt; /span&gt;\r\n    &lt; br&gt;\r\n    &lt; span class=&quot;conditions&quot; id=&quot;conditionsUpdated&quot; data-toggle=&quot;tooltip&quot; title=&quot;Last successful refresh at 11:37 Jul 08,2023&quot;&gt; Conditions as of: 11:37 Saturday, Jul 08,2023 &lt; /span&gt;\r\n    ::after\r\n    &lt; /div&gt;\r\n    &lt; /div&gt;\r\n\r\nHow to get the information inside the &quot;embeddable-page-container&quot; DIV and so on ? Or a more precise question : how to get the date of the last successful refresh, which is in &#39;&lt;span class=&quot;conditions&quot; ...&#39; inside &quot;embeddable-page-container&quot;, inside &quot;embeddable-page embeddable-page-slim&quot;, inside &quot;container-fluid&quot;, inside &quot;row embeddable-page-header slim-embeddable-page-header&quot; ?\r\n\r\nI tried with URLConnection and a BufferReader.\r\nI tried with Ion.\r\nI tied with jsoup.\r\n\r\nIn all cases, the result was an empty &lt; div class=&quot;embeddable-page-container&quot;&gt; :\r\n\r\n\r\n","title":"Problem to get complete HTML code from an URL","body":"<p>When I try to get the HTML source from this url : <a href=\"https://www.weatherlink.com/embeddablePage/show/44a2d6b116484f5a8013ffad079046b9/slim\" rel=\"nofollow noreferrer\">https://www.weatherlink.com/embeddablePage/show/44a2d6b116484f5a8013ffad079046b9/slim</a></p>\n<p>If I request the source code to Chrome Navigator, I see :</p>\n<pre><code>&lt; body class=&quot;embeddable-page-body&quot;&gt;\n&lt; !-- Google Tag Manager (noscript) --&gt;\n&lt; noscript&gt;&lt;iframe src=&quot;https://www.googletagmanager.com/ns.html?id=GTM-NLLVC3L&quot; height=&quot;0&quot; width=&quot;0&quot; &quot;display:none;visibility:hidden&quot;&gt;&lt;/iframe&gt;&lt;/noscript&gt;\n\n&lt; div class=&quot;embeddable-page-container&quot;&gt;\n&lt; /div&gt;\n</code></pre>\n<p>If I see Google inspector, I can read :</p>\n<pre><code>&lt; div class=&quot;embeddable-page-container&quot;&gt;\n&lt; div&gt;\n&lt; div class=&quot;embeddable-page embeddable-page-slim&quot;&gt;\n&lt; div class=&quot;container-fluid&quot;&gt;\n::before\n&lt; div class=&quot;row embeddable-page-header&quot; style=&quot;height: 54px;&quot;&gt;\n::before\n&lt; span&gt; Plage Thalès &lt; /span&gt;\n&lt; br&gt;\n&lt; span class=&quot;conditions&quot; id=&quot;conditionsUpdated&quot; data-toggle=&quot;tooltip&quot; title=&quot;Last successful refresh at 11:37 Jul 08,2023&quot;&gt; Conditions as of: 11:37 Saturday, Jul 08,2023 &lt; /span&gt;\n::after\n&lt; /div&gt;\n&lt; /div&gt;\n</code></pre>\n<p>How to get the information inside the &quot;embeddable-page-container&quot; DIV and so on ? Or a more precise question : how to get the date of the last successful refresh, which is in '&lt;span class=&quot;conditions&quot; ...' inside &quot;embeddable-page-container&quot;, inside &quot;embeddable-page embeddable-page-slim&quot;, inside &quot;container-fluid&quot;, inside &quot;row embeddable-page-header slim-embeddable-page-header&quot; ?</p>\n<p>I tried with URLConnection and a BufferReader.\nI tried with Ion.\nI tied with jsoup.</p>\n<p>In all cases, the result was an empty &lt; div class=&quot;embeddable-page-container&quot;&gt; :</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6184254,"reputation":472,"user_id":4818807,"display_name":"Tom Trumper"},"score":0,"creation_date":1459262370,"post_id":36285374,"comment_id":60200616,"body_markdown":"To clarify, are you trying to get the size of the image itself (1x1) or the size of the `img` element containing the image (300x250)?","body":"To clarify, are you trying to get the size of the image itself (1x1) or the size of the <code>img</code> element containing the image (300x250)?"},{"owner":{"account_id":6184254,"reputation":472,"user_id":4818807,"display_name":"Tom Trumper"},"score":0,"creation_date":1459267925,"post_id":36285374,"comment_id":60204510,"body_markdown":"What&#39;s the end goal of getting the size of the image?","body":"What&#39;s the end goal of getting the size of the image?"}],"answers":[{"tags":[],"owner":{"account_id":923153,"reputation":5107,"user_id":954442,"accept_rate":83,"display_name":"Andrew Regan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459289149,"creation_date":1459289149,"answer_id":36295970,"question_id":36285374,"body_markdown":"Irrespective of the size of the image itself, it&#39;s pretty clear from the [WebDriver spec][1] that it&#39;s CSS that determines the `&lt;img&gt;` element&#39;s dimensions, the same rule applied to every other type of element.\r\n\r\nI think that&#39;s fair enough. Your markup clearly doesn&#39;t match the underlying image, but presumably there&#39;s some justification for that we can&#39;t see. Since your element&#39;s inflated size has an impact on the positioning of other elements, it&#39;s only fair that WebDriver accurately reports *their* locations, rather than pretending that they&#39;re neatly tucked alongside a tiny square.\r\n\r\nIf you need workarounds: you could create a `getImageRect()` method with a special override for that URL pattern or Id, you could use an HTTP library to check the real image&#39;s size on startup and cache it, or you could simply hardcode 1x1.\r\n\r\n\r\n  [1]: https://w3c.github.io/webdriver/webdriver-spec.html#get-element-rect","title":"Selenium get natural height and width of an element. should not rely on style attribute. GetSize(), GetLocation() and getRect() fails to do so","body":"<p>Irrespective of the size of the image itself, it's pretty clear from the <a href=\"https://w3c.github.io/webdriver/webdriver-spec.html#get-element-rect\" rel=\"nofollow\">WebDriver spec</a> that it's CSS that determines the <code>&lt;img&gt;</code> element's dimensions, the same rule applied to every other type of element.</p>\n\n<p>I think that's fair enough. Your markup clearly doesn't match the underlying image, but presumably there's some justification for that we can't see. Since your element's inflated size has an impact on the positioning of other elements, it's only fair that WebDriver accurately reports <em>their</em> locations, rather than pretending that they're neatly tucked alongside a tiny square.</p>\n\n<p>If you need workarounds: you could create a <code>getImageRect()</code> method with a special override for that URL pattern or Id, you could use an HTTP library to check the real image's size on startup and cache it, or you could simply hardcode 1x1.</p>\n"},{"tags":[],"owner":{"account_id":3447044,"reputation":41737,"user_id":2887618,"display_name":"Florent B."},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1655009617,"creation_date":1459291673,"answer_id":36296478,"question_id":36285374,"body_markdown":"The getSize method returns the rendered web element size and not the physical size of an image.\r\nIf your goal is to get the intrinsic height and width, then you could try to get the naturalWidth and naturalHeight properties:\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    WebDriverWait wait = new WebDriverWait(driver, 20);\r\n    driver.get(&quot;http://stackoverflow.com&quot;);\r\n\r\n    // get the intrinsic size with the getAttribute method\r\n    WebElement ele = driver.findElement(By.cssSelector(&quot;img&quot;));\r\n    String naturalWidth = ele.getAttribute(&quot;naturalWidth&quot;);\r\n    String naturalHeight = ele.getAttribute(&quot;naturalHeight&quot;);\r\n\r\n    // get the intrinsic size with a piece of Javascript\r\n    ArrayList result = (ArrayList)((JavascriptExecutor) driver).executeScript(\r\n            &quot;return [arguments[0].naturalWidth, arguments[0].naturalHeight];&quot;, ele);\r\n    Long naturalWidth2 = (Long)result.get(0);\r\n    Long naturalHeight2 = (Long)result.get(1);","title":"Selenium get natural height and width of an element. should not rely on style attribute. GetSize(), GetLocation() and getRect() fails to do so","body":"<p>The getSize method returns the rendered web element size and not the physical size of an image.\nIf your goal is to get the intrinsic height and width, then you could try to get the naturalWidth and naturalHeight properties:</p>\n<pre><code>WebDriver driver = new FirefoxDriver();\nWebDriverWait wait = new WebDriverWait(driver, 20);\ndriver.get(&quot;http://stackoverflow.com&quot;);\n\n// get the intrinsic size with the getAttribute method\nWebElement ele = driver.findElement(By.cssSelector(&quot;img&quot;));\nString naturalWidth = ele.getAttribute(&quot;naturalWidth&quot;);\nString naturalHeight = ele.getAttribute(&quot;naturalHeight&quot;);\n\n// get the intrinsic size with a piece of Javascript\nArrayList result = (ArrayList)((JavascriptExecutor) driver).executeScript(\n        &quot;return [arguments[0].naturalWidth, arguments[0].naturalHeight];&quot;, ele);\nLong naturalWidth2 = (Long)result.get(0);\nLong naturalHeight2 = (Long)result.get(1);\n</code></pre>\n"}],"owner":{"account_id":6337558,"reputation":143,"user_id":4920533,"accept_rate":100,"display_name":"Maniraj Mkr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22682,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":36296478,"answer_count":2,"score":9,"last_activity_date":1688808744,"creation_date":1459257242,"question_id":36285374,"body_markdown":"Here is the scenario.\r\n\r\nWhen am using GetSize(), GetLocation() Functions against the image ID &#39;FlashID1x&#39; its always giving 250,300 but the actual height and width of an element is 1 X 1 which is basically wrong.\r\n\r\n\r\nHere is my target dom:\r\n\r\n&lt;!-- language: html --&gt;\r\n    &lt;img id=&quot;FlashID1x&quot; border=&quot;0&quot; width=&quot;300&quot; height=&quot;250&quot; style=&quot;width:300px;height:250px;&quot; alt=&quot;&quot; src=&quot;http://s2.adform.net/Banners/invisible.gif?bv=2&quot;/&gt;\r\n\r\nHere is my code:\r\n\r\n    System.out.println(&quot;total : &quot;+iframe.size());  \r\n    //driver.switchTo().frame(frame);\r\n    \r\n    org.openqa.selenium.Point point=driver.findElement(By.xpath(&quot;.//*[@id=&#39;FlashID1x&#39;]&quot;)).getLocation();  \r\n    System.out.println(&quot;X Position : &quot;+point.x);  \r\n    System.out.println(&quot;Y Position : &quot;+point.y);  \r\n    \r\n    System.out.println(&quot;X getX : &quot;+point.getX());  \r\n    System.out.println(&quot;Y gety : &quot;+point.getY());  \r\n    \r\n    Rectangle pointer=driver.findElement(By.xpath(&quot;.//*[@id=&#39;FlashID1x&#39;]&quot;)).getRect();\r\n    System.out.println(&quot;height : &quot;+pointer.hashCode();\r\n    System.out.println(&quot; width : &quot;+pointer.getWidth());  \r\n    \r\n    System.out.println(&quot;getHeight : &quot;+pointer.getHeight());  \r\n    System.out.println(&quot; getWidth : &quot;+pointer.getWidth());  ","title":"Selenium get natural height and width of an element. should not rely on style attribute. GetSize(), GetLocation() and getRect() fails to do so","body":"<p>Here is the scenario.</p>\n<p>When am using GetSize(), GetLocation() Functions against the image ID 'FlashID1x' its always giving 250,300 but the actual height and width of an element is 1 X 1 which is basically wrong.</p>\n<p>Here is my target dom:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img id=&quot;FlashID1x&quot; border=&quot;0&quot; width=&quot;300&quot; height=&quot;250&quot; style=&quot;width:300px;height:250px;&quot; alt=&quot;&quot; src=&quot;http://s2.adform.net/Banners/invisible.gif?bv=2&quot;/&gt;\n</code></pre>\n<p>Here is my code:</p>\n<pre><code>System.out.println(&quot;total : &quot;+iframe.size());  \n//driver.switchTo().frame(frame);\n\norg.openqa.selenium.Point point=driver.findElement(By.xpath(&quot;.//*[@id='FlashID1x']&quot;)).getLocation();  \nSystem.out.println(&quot;X Position : &quot;+point.x);  \nSystem.out.println(&quot;Y Position : &quot;+point.y);  \n\nSystem.out.println(&quot;X getX : &quot;+point.getX());  \nSystem.out.println(&quot;Y gety : &quot;+point.getY());  \n\nRectangle pointer=driver.findElement(By.xpath(&quot;.//*[@id='FlashID1x']&quot;)).getRect();\nSystem.out.println(&quot;height : &quot;+pointer.hashCode();\nSystem.out.println(&quot; width : &quot;+pointer.getWidth());  \n\nSystem.out.println(&quot;getHeight : &quot;+pointer.getHeight());  \nSystem.out.println(&quot; getWidth : &quot;+pointer.getWidth());  \n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","scroll","selenium-rc"],"answers":[{"tags":[],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"down_vote_count":2,"up_vote_count":142,"is_accepted":true,"score":140,"last_activity_date":1589917648,"creation_date":1346907574,"answer_id":12293212,"question_id":12293158,"body_markdown":"*Scenario/Test steps:*&lt;br&gt;\r\n1. Open a browser and navigate to [TestURL][1]&lt;br&gt;\r\n2. Scroll down some pixel and scroll up\r\n\r\nFor **Scroll down**:\r\n\r\n    WebDriver driver = new FirefoxDriver();\r\n    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;window.scrollBy(0,250)&quot;);\r\n\r\nOR, you can do as follows:\r\n\r\n    jse.executeScript(&quot;scroll(0, 250);&quot;);\r\n\r\nFor **Scroll up**:\r\n\r\n    jse.executeScript(&quot;window.scrollBy(0,-250)&quot;);\r\n    OR,\r\n    jse.executeScript(&quot;scroll(0, -250);&quot;);\r\n\r\n**Scroll to the bottom of the page:**\r\n\r\n*Scenario/Test steps:*&lt;br&gt;\r\n1. Open a browser and navigate to [TestURL][1]&lt;br&gt;\r\n2. Scroll to the bottom of the page\r\n\r\n***Way 1: By using JavaScriptExecutor***\r\n\r\n    jse.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n\r\n***Way 2: By pressing ctrl+end***\r\n\r\n    driver.findElement(By.cssSelector(&quot;body&quot;)).sendKeys(Keys.CONTROL, Keys.END);\r\n\r\n***Way 3: By using Java Robot class***\r\n\r\n    Robot robot = new Robot();\r\n    robot.keyPress(KeyEvent.VK_CONTROL);\r\n    robot.keyPress(KeyEvent.VK_END);\r\n    robot.keyRelease(KeyEvent.VK_END);\r\n    robot.keyRelease(KeyEvent.VK_CONTROL);\r\n\r\n\r\n  [1]: https://link.testproject.io/bsg","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p><em>Scenario/Test steps:</em><br>\n1. Open a browser and navigate to <a href=\"https://link.testproject.io/bsg\" rel=\"noreferrer\">TestURL</a><br>\n2. Scroll down some pixel and scroll up</p>\n\n<p>For <strong>Scroll down</strong>:</p>\n\n<pre><code>WebDriver driver = new FirefoxDriver();\nJavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(\"window.scrollBy(0,250)\");\n</code></pre>\n\n<p>OR, you can do as follows:</p>\n\n<pre><code>jse.executeScript(\"scroll(0, 250);\");\n</code></pre>\n\n<p>For <strong>Scroll up</strong>:</p>\n\n<pre><code>jse.executeScript(\"window.scrollBy(0,-250)\");\nOR,\njse.executeScript(\"scroll(0, -250);\");\n</code></pre>\n\n<p><strong>Scroll to the bottom of the page:</strong></p>\n\n<p><em>Scenario/Test steps:</em><br>\n1. Open a browser and navigate to <a href=\"https://link.testproject.io/bsg\" rel=\"noreferrer\">TestURL</a><br>\n2. Scroll to the bottom of the page</p>\n\n<p><strong><em>Way 1: By using JavaScriptExecutor</em></strong></p>\n\n<pre><code>jse.executeScript(\"window.scrollTo(0, document.body.scrollHeight)\");\n</code></pre>\n\n<p><strong><em>Way 2: By pressing ctrl+end</em></strong></p>\n\n<pre><code>driver.findElement(By.cssSelector(\"body\")).sendKeys(Keys.CONTROL, Keys.END);\n</code></pre>\n\n<p><strong><em>Way 3: By using Java Robot class</em></strong></p>\n\n<pre><code>Robot robot = new Robot();\nrobot.keyPress(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_END);\nrobot.keyRelease(KeyEvent.VK_END);\nrobot.keyRelease(KeyEvent.VK_CONTROL);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2940400,"reputation":63,"user_id":2518419,"display_name":"Maddy"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1620497621,"creation_date":1372299788,"answer_id":17333551,"question_id":12293158,"body_markdown":"Try this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\tActions dragger = new Actions(driver);\r\n\tWebElement draggablePartOfScrollbar = driver.findElement(By.xpath(&quot;//*[@id=&#39;jobreslist_outercontainer&#39;]/div/div[2]/div&quot;));\r\n\r\n\t// drag downwards\r\n\tint numberOfPixelsToDragTheScrollbarDown = 50;\r\n\tfor (int i = 10; i &lt; 500; i += numberOfPixelsToDragTheScrollbarDown) {\r\n\t\ttry {\r\n\t\t\t// this causes a gradual drag of the scroll bar, 10 units at a time\r\n\t\t\tdragger.moveToElement(draggablePartOfScrollbar).clickAndHold().moveByOffset(0, numberOfPixelsToDragTheScrollbarDown).release().perform();\r\n\t\t\tThread.sleep(1000L);\r\n\t\t} catch(Exception e1) {}\r\n\t}\r\n\r\n\t// now drag opposite way (downwards)\r\n\tnumberOfPixelsToDragTheScrollbarDown = -50;\r\n\tfor (int i = 500; i &gt; 10; i += numberOfPixelsToDragTheScrollbarDown) {\r\n\t\t// this causes a gradual drag of the scroll bar, -10 units at a time\r\n\t\tdragger.moveToElement(draggablePartOfScrollbar).clickAndHold().moveByOffset(0, numberOfPixelsToDragTheScrollbarDown).release().perform();\r\n\t\tThread.sleep(1000L);\r\n\t}\r\n\t\t\t","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>Try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Actions dragger = new Actions(driver);\nWebElement draggablePartOfScrollbar = driver.findElement(By.xpath(&quot;//*[@id='jobreslist_outercontainer']/div/div[2]/div&quot;));\n\n// drag downwards\nint numberOfPixelsToDragTheScrollbarDown = 50;\nfor (int i = 10; i &lt; 500; i += numberOfPixelsToDragTheScrollbarDown) {\n    try {\n        // this causes a gradual drag of the scroll bar, 10 units at a time\n        dragger.moveToElement(draggablePartOfScrollbar).clickAndHold().moveByOffset(0, numberOfPixelsToDragTheScrollbarDown).release().perform();\n        Thread.sleep(1000L);\n    } catch(Exception e1) {}\n}\n\n// now drag opposite way (downwards)\nnumberOfPixelsToDragTheScrollbarDown = -50;\nfor (int i = 500; i &gt; 10; i += numberOfPixelsToDragTheScrollbarDown) {\n    // this causes a gradual drag of the scroll bar, -10 units at a time\n    dragger.moveToElement(draggablePartOfScrollbar).clickAndHold().moveByOffset(0, numberOfPixelsToDragTheScrollbarDown).release().perform();\n    Thread.sleep(1000L);\n}\n        \n</code></pre>\n"},{"tags":[],"owner":{"account_id":141904,"reputation":2311,"user_id":349268,"accept_rate":78,"display_name":"rs79"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1433438770,"creation_date":1433438770,"answer_id":30650359,"question_id":12293158,"body_markdown":"This may not be an exact answer to your question (in terms of WebDriver), but I&#39;ve found that the `java.awt` library is more stable than `selenium.Keys`.\r\nSo, a page down action using the former will be:\r\n\r\n    Robot robot = new Robot();\r\n    robot.keyPress(KeyEvent.VK_PAGE_DOWN);\r\n    robot.keyRelease(KeyEvent.VK_PAGE_DOWN);","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>This may not be an exact answer to your question (in terms of WebDriver), but I've found that the <code>java.awt</code> library is more stable than <code>selenium.Keys</code>.\nSo, a page down action using the former will be:</p>\n\n<pre><code>Robot robot = new Robot();\nrobot.keyPress(KeyEvent.VK_PAGE_DOWN);\nrobot.keyRelease(KeyEvent.VK_PAGE_DOWN);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2701078,"reputation":291,"user_id":4934250,"display_name":"Mukesh Otwani"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1433969563,"creation_date":1433967320,"answer_id":30766435,"question_id":12293158,"body_markdown":"There are many ways to scroll up and down in Selenium Webdriver I always use Java Script to do the same.\r\n\r\nBelow is the code which always works for me if I want to scroll up or down\r\n\r\n     // This  will scroll page 400 pixel vertical\r\n      ((JavascriptExecutor)driver).executeScript(&quot;scroll(0,400)&quot;);\r\n\r\nYou can get full code from here [Scroll Page in Selenium][1]\r\n\r\nIf you want to scroll for a element then below piece of code will work for you.\r\n\r\n    je.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;,element);\r\n\r\nYou will get the full doc here [Scroll for specific Element][2]\r\n\r\n\r\n  [1]: http://learn-automation.com/how-to-scroll-a-page-in-selenium-webdriver/\r\n  [2]: http://learn-automation.com/how-to-scroll-into-view-in-selenium-webdriver/\r\n","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>There are many ways to scroll up and down in Selenium Webdriver I always use Java Script to do the same.</p>\n\n<p>Below is the code which always works for me if I want to scroll up or down</p>\n\n<pre><code> // This  will scroll page 400 pixel vertical\n  ((JavascriptExecutor)driver).executeScript(\"scroll(0,400)\");\n</code></pre>\n\n<p>You can get full code from here <a href=\"http://learn-automation.com/how-to-scroll-a-page-in-selenium-webdriver/\">Scroll Page in Selenium</a></p>\n\n<p>If you want to scroll for a element then below piece of code will work for you.</p>\n\n<pre><code>je.executeScript(\"arguments[0].scrollIntoView(true);\",element);\n</code></pre>\n\n<p>You will get the full doc here <a href=\"http://learn-automation.com/how-to-scroll-into-view-in-selenium-webdriver/\">Scroll for specific Element</a></p>\n"},{"tags":[],"owner":{"account_id":4243094,"reputation":453,"user_id":3472488,"display_name":"user3472488"},"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1589917834,"creation_date":1434821608,"answer_id":30956991,"question_id":12293158,"body_markdown":"**Scrolling to the bottom of a page:**\r\n\r\n    JavascriptExecutor js = ((JavascriptExecutor) driver);\r\n    js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n\r\n","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p><strong>Scrolling to the bottom of a page:</strong></p>\n\n<pre><code>JavascriptExecutor js = ((JavascriptExecutor) driver);\njs.executeScript(\"window.scrollTo(0, document.body.scrollHeight)\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9069973,"reputation":11,"user_id":6753575,"display_name":"SufiWorld"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620505966,"creation_date":1472056771,"answer_id":39128782,"question_id":12293158,"body_markdown":"You should add a scroll to the page to select all elements using:\r\n\r\n```\r\nSelenium.executeScript(&quot;window.scrollBy(0,450)&quot;, &quot;&quot;);\r\n```\r\n\r\nIf you have a large list, add the scroll several times through the execution. Note the scroll only go to a certain point in the page for example `(0, 450)`.","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>You should add a scroll to the page to select all elements using:</p>\n<pre><code>Selenium.executeScript(&quot;window.scrollBy(0,450)&quot;, &quot;&quot;);\n</code></pre>\n<p>If you have a large list, add the scroll several times through the execution. Note the scroll only go to a certain point in the page for example <code>(0, 450)</code>.</p>\n"},{"tags":[],"owner":{"account_id":8719684,"reputation":157,"user_id":6523227,"accept_rate":67,"display_name":"Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478164272,"creation_date":1478164272,"answer_id":40397564,"question_id":12293158,"body_markdown":"    JavascriptExecutor jse = ((JavascriptExecutor) driver);\r\n    jse.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n\r\nThis code works for me. As the page which I&#39;m testing, loads as we scroll down.","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<pre><code>JavascriptExecutor jse = ((JavascriptExecutor) driver);\njse.executeScript(\"window.scrollTo(0, document.body.scrollHeight)\");\n</code></pre>\n\n<p>This code works for me. As the page which I'm testing, loads as we scroll down.</p>\n"},{"tags":[],"owner":{"display_name":"user7123229"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1478789976,"creation_date":1478780987,"answer_id":40527670,"question_id":12293158,"body_markdown":"Javascript executor always does the job perfectly:\r\n\r\n    ((JavascriptExecutor) driver).executeScript(&quot;scroll(0,300)&quot;);\r\n\r\nwhere `(0,300)` are the horizontal and vertical distances respectively. Put your distances as per your requirements. \r\n\r\nIf you a perfectionist and like to get the exact distance you like to scroll up to on the first attempt, use this tool, [MeasureIt][1]. It&#39;s a brilliant firefox add-on.\r\n\r\n\r\n  [1]: https://addons.mozilla.org/en-US/firefox/addon/measureit/","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>Javascript executor always does the job perfectly:</p>\n\n<pre><code>((JavascriptExecutor) driver).executeScript(\"scroll(0,300)\");\n</code></pre>\n\n<p>where <code>(0,300)</code> are the horizontal and vertical distances respectively. Put your distances as per your requirements. </p>\n\n<p>If you a perfectionist and like to get the exact distance you like to scroll up to on the first attempt, use this tool, <a href=\"https://addons.mozilla.org/en-US/firefox/addon/measureit/\" rel=\"nofollow noreferrer\">MeasureIt</a>. It's a brilliant firefox add-on.</p>\n"},{"tags":[],"owner":{"account_id":4567054,"reputation":2070,"user_id":3707806,"accept_rate":88,"display_name":"KthProg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484850626,"creation_date":1484850258,"answer_id":41749038,"question_id":12293158,"body_markdown":"I did not want to use JavaScript, or any external libraries, so this was my solution (C#):\r\n\r\n    IWebElement body = Driver.FindElement(By.TagName(&quot;body&quot;));\r\n    \r\n    IAction scrollDown = new Actions(Driver)\r\n        .MoveToElement(body, body.Size.Width - 10, 15) // position mouse over scrollbar\r\n        .ClickAndHold()\r\n        .MoveByOffset(0, 50) // scroll down\r\n        .Release()\r\n        .Build();\r\n    \r\n    scrollDown.Perform();\r\n\r\nYou can also easily make this an extension method for scrolling up or down on any element.","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>I did not want to use JavaScript, or any external libraries, so this was my solution (C#):</p>\n\n<pre><code>IWebElement body = Driver.FindElement(By.TagName(\"body\"));\n\nIAction scrollDown = new Actions(Driver)\n    .MoveToElement(body, body.Size.Width - 10, 15) // position mouse over scrollbar\n    .ClickAndHold()\n    .MoveByOffset(0, 50) // scroll down\n    .Release()\n    .Build();\n\nscrollDown.Perform();\n</code></pre>\n\n<p>You can also easily make this an extension method for scrolling up or down on any element.</p>\n"},{"tags":[],"owner":{"account_id":11023622,"reputation":71,"user_id":8097153,"display_name":"CreaThor"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1501233740,"creation_date":1501232510,"answer_id":45369225,"question_id":12293158,"body_markdown":"    JavascriptExecutor js = ((JavascriptExecutor) driver);\r\n\r\n**Scroll down:**\r\n\r\n    js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight);&quot;);\r\n\r\n**Scroll up:**\r\n\r\n    js.executeScript(&quot;window.scrollTo(0, -document.body.scrollHeight);&quot;);","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<pre><code>JavascriptExecutor js = ((JavascriptExecutor) driver);\n</code></pre>\n\n<p><strong>Scroll down:</strong></p>\n\n<pre><code>js.executeScript(\"window.scrollTo(0, document.body.scrollHeight);\");\n</code></pre>\n\n<p><strong>Scroll up:</strong></p>\n\n<pre><code>js.executeScript(\"window.scrollTo(0, -document.body.scrollHeight);\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11058276,"reputation":71,"user_id":8120486,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688807779,"creation_date":1520333751,"answer_id":49129130,"question_id":12293158,"body_markdown":"Thanks for Ripon Al Wasim&#39;s answer. I did some improvement. because of network problems, I retry three times until break loop.\r\n\r\n\r\n&lt;!-- language: py --&gt;\r\n    driver.get(url)\r\n    # Get scroll height\r\n    last_height = driver.execute_script(&quot;return document.body.scrollHeight&quot;)\r\n    try_times = 0\r\n    while True:\r\n        # Scroll down to bottom\r\n        driver.execute_script(&quot;window.scrollBy(0,2000)&quot;)\r\n\r\n        # Wait to load page\r\n        time.sleep(scroll_delay)\r\n        # Calculate new scroll height and compare with last scroll height\r\n        new_height = driver.execute_script(&quot;return document.body.scrollHeight&quot;)\r\n\r\n        if last_height == new_height:\r\n            try_times += 1\r\n\r\n        if try_times &gt; 3:\r\n            try_times = 0\r\n            break\r\n        last_height = new_height","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>Thanks for Ripon Al Wasim's answer. I did some improvement. because of network problems, I retry three times until break loop.</p>\n<pre class=\"lang-py prettyprint-override\"><code>driver.get(url)\n# Get scroll height\nlast_height = driver.execute_script(&quot;return document.body.scrollHeight&quot;)\ntry_times = 0\nwhile True:\n    # Scroll down to bottom\n    driver.execute_script(&quot;window.scrollBy(0,2000)&quot;)\n\n    # Wait to load page\n    time.sleep(scroll_delay)\n    # Calculate new scroll height and compare with last scroll height\n    new_height = driver.execute_script(&quot;return document.body.scrollHeight&quot;)\n\n    if last_height == new_height:\n        try_times += 1\n\n    if try_times &gt; 3:\n        try_times = 0\n        break\n    last_height = new_height\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10369327,"reputation":118,"user_id":7647465,"display_name":"Tapan Khimani"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1538722341,"creation_date":1538722341,"answer_id":52659875,"question_id":12293158,"body_markdown":"1. If you want to scroll the page vertically to perform some action, you can do it using the following JavaScript.\r\n        **((JavascriptExecutor)driver).executeScript(“window.scrollTo(0,\r\ndocument.body.scrollHeight)”);**\r\n\r\n            Where ‘JavascriptExecutor’ is an interface, which helps executing JavaScript through Selenium WebDriver. You can use the following code to import.\r\n\r\n**import org.openqa.selenium.JavascriptExecutor;** \r\n\r\n2.If you want to scroll at a particular element, you need to use the following JavaScript.\r\n\r\n**WebElement element =\r\ndriver.findElement(By.xpath(“//input [@id=’email’]”));((JavascriptExecutor)\r\ndriver).executeScript(“arguments[0].scrollIntoView();”, element);**\r\n\r\nWhere ‘element’ is the locator where you want to scroll.\r\n\r\n3.If you want to scroll at a particular coordinate, use the following JavaScript.  \r\n**((JavascriptExecutor)driver).executeScript(“window.scrollBy(200,300)”);\r\nWhere ‘200,300’ are the coordinates.**\r\n\r\n4.If you want to scroll up in a vertical direction, you can use the following JavaScript.\r\n**((JavascriptExecutor)\r\ndriver).executeScript(“window.scrollTo(document.body.scrollHeight,0)”);**\r\n\r\n\r\n5. If you want to scroll horizontally in the right direction, use the following JavaScript.\r\n**((JavascriptExecutor)driver).executeScript(“window.scrollBy(2000,0)”);**\r\n\r\n6. If you want to scroll horizontally in the left direction, use the following JavaScript.\r\n**((JavascriptExecutor)driver).executeScript(“window.scrollBy(-2000,0)”);**","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<ol>\n<li><p>If you want to scroll the page vertically to perform some action, you can do it using the following JavaScript.\n    <strong>((JavascriptExecutor)driver).executeScript(“window.scrollTo(0,\ndocument.body.scrollHeight)”);</strong></p>\n\n<pre><code>    Where ‘JavascriptExecutor’ is an interface, which helps executing JavaScript through Selenium WebDriver. You can use the following code to import.\n</code></pre></li>\n</ol>\n\n<p><strong>import org.openqa.selenium.JavascriptExecutor;</strong> </p>\n\n<p>2.If you want to scroll at a particular element, you need to use the following JavaScript.</p>\n\n<p><strong>WebElement element =\ndriver.findElement(By.xpath(“//input [@id=’email’]”));((JavascriptExecutor)\ndriver).executeScript(“arguments[0].scrollIntoView();”, element);</strong></p>\n\n<p>Where ‘element’ is the locator where you want to scroll.</p>\n\n<p>3.If you want to scroll at a particular coordinate, use the following JavaScript.<br>\n<strong>((JavascriptExecutor)driver).executeScript(“window.scrollBy(200,300)”);\nWhere ‘200,300’ are the coordinates.</strong></p>\n\n<p>4.If you want to scroll up in a vertical direction, you can use the following JavaScript.\n<strong>((JavascriptExecutor)\ndriver).executeScript(“window.scrollTo(document.body.scrollHeight,0)”);</strong></p>\n\n<ol start=\"5\">\n<li><p>If you want to scroll horizontally in the right direction, use the following JavaScript.\n<strong>((JavascriptExecutor)driver).executeScript(“window.scrollBy(2000,0)”);</strong></p></li>\n<li><p>If you want to scroll horizontally in the left direction, use the following JavaScript.\n<strong>((JavascriptExecutor)driver).executeScript(“window.scrollBy(-2000,0)”);</strong></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3599900,"reputation":497,"user_id":3003424,"accept_rate":60,"display_name":"Shiv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583649759,"creation_date":1583649759,"answer_id":60585111,"question_id":12293158,"body_markdown":"1.To scroll page to the bottom use window.scrollTo(0,document.body.scrollHeight) as parameter \r\n\r\n//Code to navigate to bottom\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    JavascriptExecutor jsExecuter = (JavascriptExecutor)driver;\r\n    jsExecuter.executeScript(window.scrollTo(0,document.body.scrollHeight));\r\n\r\n2.To scroll page to the top use window.scrollTo(0,document.body.scrollTop) as parameter \r\n\r\n//Code to navigate to top\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    JavascriptExecutor jsExecuter = (JavascriptExecutor)driver;\r\n    jsExecuter.executeScript(window.scrollTo(0,document.body.scrollTop));\r\n\r\n3.To scroll page to the Left use window.scrollTo(0,document.body.scrollLeft) as parameter \r\n\r\n//Code to navigate to left\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    JavascriptExecutor jsExecuter = (JavascriptExecutor)driver;\r\n    jsExecuter.executeScript(window.scrollTo(0,document.body.scrollLeft));\r\n\r\n4.To scroll to certain point \r\nwindow.scrollTo(0,500) as parameter \r\n\r\n//Code to navigate to certain point e.g. 500 is passed as value here\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    JavascriptExecutor jsExecuter = (JavascriptExecutor)driver;\r\n    jsExecuter.executeScript(window.scrollTo(0,500));\r\n\r\n\r\nTo check the navigation directly in browser , open developers tool in browser and navigate to console.\r\nExecute the command on console window.scrollTo(0,400)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ryoDb.png","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>1.To scroll page to the bottom use window.scrollTo(0,document.body.scrollHeight) as parameter </p>\n\n<p>//Code to navigate to bottom</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\nJavascriptExecutor jsExecuter = (JavascriptExecutor)driver;\njsExecuter.executeScript(window.scrollTo(0,document.body.scrollHeight));\n</code></pre>\n\n<p>2.To scroll page to the top use window.scrollTo(0,document.body.scrollTop) as parameter </p>\n\n<p>//Code to navigate to top</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\nJavascriptExecutor jsExecuter = (JavascriptExecutor)driver;\njsExecuter.executeScript(window.scrollTo(0,document.body.scrollTop));\n</code></pre>\n\n<p>3.To scroll page to the Left use window.scrollTo(0,document.body.scrollLeft) as parameter </p>\n\n<p>//Code to navigate to left</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\nJavascriptExecutor jsExecuter = (JavascriptExecutor)driver;\njsExecuter.executeScript(window.scrollTo(0,document.body.scrollLeft));\n</code></pre>\n\n<p>4.To scroll to certain point \nwindow.scrollTo(0,500) as parameter </p>\n\n<p>//Code to navigate to certain point e.g. 500 is passed as value here</p>\n\n<pre><code>WebDriver driver = new ChromeDriver();\nJavascriptExecutor jsExecuter = (JavascriptExecutor)driver;\njsExecuter.executeScript(window.scrollTo(0,500));\n</code></pre>\n\n<p>To check the navigation directly in browser , open developers tool in browser and navigate to console.\nExecute the command on console window.scrollTo(0,400)\n<a href=\"https://i.stack.imgur.com/ryoDb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ryoDb.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":14600848,"reputation":51,"user_id":10545152,"display_name":"Whizdom Trainings"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597171879,"creation_date":1597149281,"answer_id":63358268,"question_id":12293158,"body_markdown":"JavascriptExecutor is best to scroll down a web page\r\n```window.scrollTo``` Function in JavascriptExecutor can do this\r\n\r\n    JavascriptExecutor js = ((JavascriptExecutor) driver);\r\n    js.executeScript(&quot;window.scrollTo(0,100&quot;); \r\n\r\n\r\nAbove code will scroll down by 100 y coordinates","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>JavascriptExecutor is best to scroll down a web page\n<code>window.scrollTo</code> Function in JavascriptExecutor can do this</p>\n<pre><code>JavascriptExecutor js = ((JavascriptExecutor) driver);\njs.executeScript(&quot;window.scrollTo(0,100&quot;); \n</code></pre>\n<p>Above code will scroll down by 100 y coordinates</p>\n"},{"tags":[],"owner":{"account_id":16109102,"reputation":51,"user_id":13674651,"display_name":"Ana Gabriela Guzman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600052915,"creation_date":1600042713,"answer_id":63876732,"question_id":12293158,"body_markdown":"    JavascriptExecutor jse = (JavascriptExecutor)driver;\r\n    jse.executeScript(&quot;window.scrollBy(0,250)&quot;);","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<pre><code>JavascriptExecutor jse = (JavascriptExecutor)driver;\njse.executeScript(&quot;window.scrollBy(0,250)&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6547316,"reputation":9829,"user_id":5062890,"display_name":"Masih Jahangiri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626242479,"creation_date":1626239455,"answer_id":68372351,"question_id":12293158,"body_markdown":"## Javascript\r\nWe can scroll to a specific element:\r\n``` lang-js\r\nconst element = await driver.findElement(...)\r\nawait driver.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element)\r\nawait driver.sleep(500);\r\n```","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<h2 id=\"javascript-fi4k\">Javascript</h2>\n<p>We can scroll to a specific element:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const element = await driver.findElement(...)\nawait driver.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element)\nawait driver.sleep(500);\n</code></pre>\n"}],"owner":{"account_id":306604,"reputation":37084,"user_id":617450,"accept_rate":61,"display_name":"Ripon Al Wasim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":549631,"favorite_count":0,"down_vote_count":0,"up_vote_count":85,"accepted_answer_id":12293212,"answer_count":16,"score":85,"last_activity_date":1688807779,"creation_date":1346907098,"question_id":12293158,"body_markdown":"I have written the following code in Selenium 1 (a.k.a Selenium RC) for page scrolling using java:\r\n\r\n    selenium.getEval(&quot;scrollBy(0, 250)&quot;);\r\n\r\nWhat is the equivalent code in Selenium 2 (WebDriver)?","title":"Page scroll up or down in Selenium WebDriver (Selenium 2) using java","body":"<p>I have written the following code in Selenium 1 (a.k.a Selenium RC) for page scrolling using java:</p>\n\n<pre><code>selenium.getEval(\"scrollBy(0, 250)\");\n</code></pre>\n\n<p>What is the equivalent code in Selenium 2 (WebDriver)?</p>\n"},{"tags":["java","snmp","snmp4j"],"answers":[{"tags":[],"owner":{"account_id":15823709,"reputation":25,"user_id":11417309,"display_name":"xScub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688807709,"creation_date":1688807709,"answer_id":76642205,"question_id":73958440,"body_markdown":"Typically oids that end with a .0 are part of a tree, while oid that do not end with a .0 are part of a table\r\n\r\nTo better understand tables\r\n\r\n    1.3.6.1.4.1.xxx.xxx.1 will denote the start of a table.\r\n    1.3.6.1.4.1.xxx.xxx.1.1.1 will denote a column entry.\r\n    1.3.6.1.4.1.xxx.xxx.1.1.1.2 will denote a row entry.\r\n\r\nGiven the table:\r\n\r\n     |a|b|c|\r\n    1\r\n    2\r\n    3\r\n\r\nYou can expect to find value at column B row 3 at oid address\r\n1.3.6.1.4.1.xxx.xxx.1.1.2.3 \r\n\r\n","title":"snmp4j map table to pojo","body":"<p>Typically oids that end with a .0 are part of a tree, while oid that do not end with a .0 are part of a table</p>\n<p>To better understand tables</p>\n<pre><code>1.3.6.1.4.1.xxx.xxx.1 will denote the start of a table.\n1.3.6.1.4.1.xxx.xxx.1.1.1 will denote a column entry.\n1.3.6.1.4.1.xxx.xxx.1.1.1.2 will denote a row entry.\n</code></pre>\n<p>Given the table:</p>\n<pre><code> |a|b|c|\n1\n2\n3\n</code></pre>\n<p>You can expect to find value at column B row 3 at oid address\n1.3.6.1.4.1.xxx.xxx.1.1.2.3</p>\n"}],"owner":{"account_id":1247323,"reputation":1647,"user_id":1319938,"accept_rate":67,"display_name":"mah454"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688807709,"creation_date":1664962379,"question_id":73958440,"body_markdown":"I have a pojo like this :     \r\n\r\n    public class IpAddress {\r\n        private String index ;\r\n        private String ip ;\r\n        private String netmask ;\r\n        // Getter &amp; Setter ....\r\n    }     \r\nnow i wrote a code with snmp4j for fetch table and map result to list of this pojo :     \r\n```\r\npublic class MainClass {\r\n    private static final Address address = GenericAddress.parse(&quot;udp://10.10.10.2/161&quot;);\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        CommunityTarget&lt;Address&gt; target = new CommunityTarget&lt;&gt;();\r\n        target.setCommunity(new OctetString(&quot;private&quot;));\r\n        target.setAddress(address);\r\n        target.setRetries(5);\r\n        target.setTimeout(15000);\r\n        target.setVersion(SnmpConstants.version2c);\r\n\r\n        List&lt;IpAddress&gt; ipAddressList = doWalkTable(&quot;.1.3.6.1.2.1.4.20&quot;, target);\r\n\r\n        System.out.println(ipAddressList);\r\n    }\r\n    public static List&lt;IpAddress&gt; doWalkTable(String tableOid, Target&lt;Address&gt; target) throws IOException {\r\n        List&lt;IpAddress&gt; ipAddressList = new ArrayList&lt;&gt;();\r\n        TransportMapping&lt;? extends Address&gt; transport = new DefaultUdpTransportMapping();\r\n        Snmp snmp = new Snmp(transport);\r\n        transport.listen();\r\n\r\n        TableUtils tableUtils = new TableUtils(snmp, new DefaultPDUFactory());\r\n        List&lt;TableEvent&gt; events = tableUtils.getTable(target, new OID[]{new OID(tableOid)}, null, null);\r\n        if (events == null || events.size() == 0) {\r\n            System.out.println(&quot;Error: Unable to read table...&quot;);\r\n            return ipAddressList;\r\n        }\r\n\r\n        for (TableEvent event : events) {\r\n            if (event == null) {\r\n                continue;\r\n            }\r\n            if (event.isError()) {\r\n                System.out.println(&quot;Error: table OID [&quot; + tableOid + &quot;] &quot; + event.getErrorMessage());\r\n                continue;\r\n            }\r\n\r\n            VariableBinding[] varBindings = event.getColumns();\r\n\r\n            if (varBindings == null || varBindings.length == 0) {\r\n                continue;\r\n            }\r\n            for (VariableBinding varBinding : varBindings) {\r\n                if (varBinding == null) {\r\n                    continue;\r\n                }\r\n\r\n                // -&gt; How can fill ipAddressList ????\r\n            }\r\n            System.out.println(&quot;------------------------------------------------------&quot;);\r\n\r\n        }\r\n        snmp.close();\r\n        return ipAddressList;\r\n    }\r\n}\r\n```   \r\n\r\nthis is result of snmptable :    \r\n\r\n    # snmptable -v 2c -c public 10.10.10.2 IP-MIB::ipAddrTable\r\n      \r\n      ipAdEntAddr ipAdEntIfIndex ipAdEntNetMask ipAdEntBcastAddr ipAdEntReasmMaxSize\r\n      10.10.10.2              2  255.255.255.0                1               18024\r\n      115.54.20.12            4  255.255.255.0                1               18024\r\n\r\nMy problem is :    \r\n**1)** there is any solution to find out OID is table or tree ?       \r\n**2)** I can not understand how can detect row and columns from TableEvent . \r\nresult does not have any identifier for calculate number of rows or number of columns .   \r\n","title":"snmp4j map table to pojo","body":"<p>I have a pojo like this :</p>\n<pre><code>public class IpAddress {\n    private String index ;\n    private String ip ;\n    private String netmask ;\n    // Getter &amp; Setter ....\n}     \n</code></pre>\n<p>now i wrote a code with snmp4j for fetch table and map result to list of this pojo :</p>\n<pre><code>public class MainClass {\n    private static final Address address = GenericAddress.parse(&quot;udp://10.10.10.2/161&quot;);\n\n    public static void main(String[] args) throws Exception {\n        CommunityTarget&lt;Address&gt; target = new CommunityTarget&lt;&gt;();\n        target.setCommunity(new OctetString(&quot;private&quot;));\n        target.setAddress(address);\n        target.setRetries(5);\n        target.setTimeout(15000);\n        target.setVersion(SnmpConstants.version2c);\n\n        List&lt;IpAddress&gt; ipAddressList = doWalkTable(&quot;.1.3.6.1.2.1.4.20&quot;, target);\n\n        System.out.println(ipAddressList);\n    }\n    public static List&lt;IpAddress&gt; doWalkTable(String tableOid, Target&lt;Address&gt; target) throws IOException {\n        List&lt;IpAddress&gt; ipAddressList = new ArrayList&lt;&gt;();\n        TransportMapping&lt;? extends Address&gt; transport = new DefaultUdpTransportMapping();\n        Snmp snmp = new Snmp(transport);\n        transport.listen();\n\n        TableUtils tableUtils = new TableUtils(snmp, new DefaultPDUFactory());\n        List&lt;TableEvent&gt; events = tableUtils.getTable(target, new OID[]{new OID(tableOid)}, null, null);\n        if (events == null || events.size() == 0) {\n            System.out.println(&quot;Error: Unable to read table...&quot;);\n            return ipAddressList;\n        }\n\n        for (TableEvent event : events) {\n            if (event == null) {\n                continue;\n            }\n            if (event.isError()) {\n                System.out.println(&quot;Error: table OID [&quot; + tableOid + &quot;] &quot; + event.getErrorMessage());\n                continue;\n            }\n\n            VariableBinding[] varBindings = event.getColumns();\n\n            if (varBindings == null || varBindings.length == 0) {\n                continue;\n            }\n            for (VariableBinding varBinding : varBindings) {\n                if (varBinding == null) {\n                    continue;\n                }\n\n                // -&gt; How can fill ipAddressList ????\n            }\n            System.out.println(&quot;------------------------------------------------------&quot;);\n\n        }\n        snmp.close();\n        return ipAddressList;\n    }\n}\n</code></pre>\n<p>this is result of snmptable :</p>\n<pre><code># snmptable -v 2c -c public 10.10.10.2 IP-MIB::ipAddrTable\n  \n  ipAdEntAddr ipAdEntIfIndex ipAdEntNetMask ipAdEntBcastAddr ipAdEntReasmMaxSize\n  10.10.10.2              2  255.255.255.0                1               18024\n  115.54.20.12            4  255.255.255.0                1               18024\n</code></pre>\n<p>My problem is :<br />\n<strong>1)</strong> there is any solution to find out OID is table or tree ?<br />\n<strong>2)</strong> I can not understand how can detect row and columns from TableEvent .\nresult does not have any identifier for calculate number of rows or number of columns .</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"owner":{"account_id":63345,"reputation":17149,"user_id":187543,"accept_rate":89,"display_name":"cpx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688807248,"creation_date":1688807248,"question_id":76642185,"body_markdown":"I have seen the use of following to output native SQL queries in console in a Spring Boot project:\r\n\r\n    spring.jpa.properties.hibernate.show_sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.properties.hibernate.type=trace\r\n\r\nHowever these flood the console with ton of queries since everything gets logged.\r\n\r\nHow can I log only a selected repository Rest API based method i.e. which has `@Query` annotation with JPA query over it?\r\n\r\nWhat methods are available and how is it possible to configure? I haven&#39;t found a single working approach.\r\n","title":"Logging single or, selected method&#39;s query in Spring JPA Data Rest API based repository","body":"<p>I have seen the use of following to output native SQL queries in console in a Spring Boot project:</p>\n<pre><code>spring.jpa.properties.hibernate.show_sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.properties.hibernate.type=trace\n</code></pre>\n<p>However these flood the console with ton of queries since everything gets logged.</p>\n<p>How can I log only a selected repository Rest API based method i.e. which has <code>@Query</code> annotation with JPA query over it?</p>\n<p>What methods are available and how is it possible to configure? I haven't found a single working approach.</p>\n"},{"tags":["java","spring","asynchronous","aop","spring-aop"],"comments":[{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":2,"creation_date":1570474492,"post_id":58275121,"comment_id":102917624,"body_markdown":"Show your current code and explain what would you like to change.","body":"Show your current code and explain what would you like to change."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1688806635,"creation_date":1570499036,"answer_id":58279169,"question_id":58275121,"body_markdown":"What strikes me first when reading your question is: Why don&#39;t you just try, instead of asking a question here and waiting for an answer? After one minute you would know.\r\n\r\nThe second question is: Why would you want to create a new thread every single time an aspect&#39;s advice is being executed? Would that really be faster than synchronous execution? From your aspect name `ControllerLogger`, I conclude that all it does is logging. But anyway, maybe your logging is so slow that it actually makes sense to make it asynchronous. Usually, you can configure that for your logging framework already, so the aspect would not need to take care of it.\r\n\r\nFinally, the answer to your question: I have never tried that before myself, but it took me two minutes to test:\r\n\r\n  * Add a statement like `System.out.println(Thread.currentThread() + &quot; -&gt; &quot; + Thread.currentThread().getId());` to both your aspect advice and a target method.\r\n  * Run without `@Async` / `@EnableAsync`. Note the results.\r\n  * Run again with `@Async` / `@EnableAsync`. Note the results.\r\n\r\nFor me I saw something like this before:\r\n\r\n```none\r\nThread[main,5,main] -&gt; 1\r\nThread[main,5,main] -&gt; 1\r\nThread[main,5,main] -&gt; 1\r\nThread[main,5,main] -&gt; 1\r\n```\r\n\r\nAnd this after activating asynchronous execution (3 aspect advices executed):\r\n\r\n```none\r\nThread[main,5,main] -&gt; 1\r\nThread[SimpleAsyncTaskExecutor-1,5,main] -&gt; 18\r\nThread[SimpleAsyncTaskExecutor-2,5,main] -&gt; 25\r\nThread[SimpleAsyncTaskExecutor-3,5,main] -&gt; 26\r\n```\r\n\r\nSo the answer is: Yes, aspect advices like `@Before` or `@After` for Spring AOP will be executed asynchronously.\r\n\r\nBe careful with `@Around` advices, though, because if the target methods (and thus also the around advice) returns a type other than `void` or `Future` (as documented in the [`@Async` annotation&#39;s Javadoc](https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/Async.html)), you will get runtime exceptions because the asynchronously executed advice will return `null` to the intercepted method first. So you would see an exception like this:\r\n\r\n```none\r\nException in thread &quot;main&quot; \r\norg.springframework.aop.AopInvocationException: Null return value from advice does not match primitive return type for: public int spring.aop.MyController.doSomething(java.lang.String,int)\r\n\tat org.springframework.aop.framework.CglibAopProxy.processReturnType(CglibAopProxy.java:362)\r\n\tat org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:84)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:658)\r\n\tat spring.aop.MyController$$EnhancerBySpringCGLIB$$c28d13a5.doSomething(&lt;generated&gt;)\r\n\tat spring.aop.DemoApplication.main(DemoApplication.java:28)\r\n```\r\n\r\nSo be sure to use `@Async` + `@Around` only in cases for which asynchronous execution actually makes sense and for which the annotation was designed.\r\n\r\n---\r\n\r\n**Update:** The exception above will only appear for methods returning primitive types, e.g. if your method returns an `int` and an around advice is executed and calling `JoinPoint.proceed()`. If the same method would return `Integer` instead, the around advice would execute without an error, but return `null`, which is something your caller does not expect and would potentially break your program. So as I said, be careful how to use this with `@Around`.\r\n\r\n---\r\n\r\n**Update 2:** Even if the target method returns a `Future` but the around advice returns something other, e.g. `Object`, `proceed()` will return `null`. Only if you make the around advice also have a return type of `Future`, it actually works and the caller can handle the future as expected and after waiting for `isDone()` actually receives the expected result.","title":"Will an aspect be executed asynchronously if I put @Async method on it?","body":"<p>What strikes me first when reading your question is: Why don't you just try, instead of asking a question here and waiting for an answer? After one minute you would know.</p>\n<p>The second question is: Why would you want to create a new thread every single time an aspect's advice is being executed? Would that really be faster than synchronous execution? From your aspect name <code>ControllerLogger</code>, I conclude that all it does is logging. But anyway, maybe your logging is so slow that it actually makes sense to make it asynchronous. Usually, you can configure that for your logging framework already, so the aspect would not need to take care of it.</p>\n<p>Finally, the answer to your question: I have never tried that before myself, but it took me two minutes to test:</p>\n<ul>\n<li>Add a statement like <code>System.out.println(Thread.currentThread() + &quot; -&gt; &quot; + Thread.currentThread().getId());</code> to both your aspect advice and a target method.</li>\n<li>Run without <code>@Async</code> / <code>@EnableAsync</code>. Note the results.</li>\n<li>Run again with <code>@Async</code> / <code>@EnableAsync</code>. Note the results.</li>\n</ul>\n<p>For me I saw something like this before:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread[main,5,main] -&gt; 1\nThread[main,5,main] -&gt; 1\nThread[main,5,main] -&gt; 1\nThread[main,5,main] -&gt; 1\n</code></pre>\n<p>And this after activating asynchronous execution (3 aspect advices executed):</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread[main,5,main] -&gt; 1\nThread[SimpleAsyncTaskExecutor-1,5,main] -&gt; 18\nThread[SimpleAsyncTaskExecutor-2,5,main] -&gt; 25\nThread[SimpleAsyncTaskExecutor-3,5,main] -&gt; 26\n</code></pre>\n<p>So the answer is: Yes, aspect advices like <code>@Before</code> or <code>@After</code> for Spring AOP will be executed asynchronously.</p>\n<p>Be careful with <code>@Around</code> advices, though, because if the target methods (and thus also the around advice) returns a type other than <code>void</code> or <code>Future</code> (as documented in the <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/annotation/Async.html\" rel=\"nofollow noreferrer\"><code>@Async</code> annotation's Javadoc</a>), you will get runtime exceptions because the asynchronously executed advice will return <code>null</code> to the intercepted method first. So you would see an exception like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; \norg.springframework.aop.AopInvocationException: Null return value from advice does not match primitive return type for: public int spring.aop.MyController.doSomething(java.lang.String,int)\n    at org.springframework.aop.framework.CglibAopProxy.processReturnType(CglibAopProxy.java:362)\n    at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:84)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:658)\n    at spring.aop.MyController$$EnhancerBySpringCGLIB$$c28d13a5.doSomething(&lt;generated&gt;)\n    at spring.aop.DemoApplication.main(DemoApplication.java:28)\n</code></pre>\n<p>So be sure to use <code>@Async</code> + <code>@Around</code> only in cases for which asynchronous execution actually makes sense and for which the annotation was designed.</p>\n<hr />\n<p><strong>Update:</strong> The exception above will only appear for methods returning primitive types, e.g. if your method returns an <code>int</code> and an around advice is executed and calling <code>JoinPoint.proceed()</code>. If the same method would return <code>Integer</code> instead, the around advice would execute without an error, but return <code>null</code>, which is something your caller does not expect and would potentially break your program. So as I said, be careful how to use this with <code>@Around</code>.</p>\n<hr />\n<p><strong>Update 2:</strong> Even if the target method returns a <code>Future</code> but the around advice returns something other, e.g. <code>Object</code>, <code>proceed()</code> will return <code>null</code>. Only if you make the around advice also have a return type of <code>Future</code>, it actually works and the caller can handle the future as expected and after waiting for <code>isDone()</code> actually receives the expected result.</p>\n"}],"owner":{"account_id":13280693,"reputation":1818,"user_id":9591240,"display_name":"Pasha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7112,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":58279169,"answer_count":1,"score":6,"last_activity_date":1688806635,"creation_date":1570472501,"question_id":58275121,"body_markdown":"I have my `ControllerLogger` class that has some methods with `@Before` and `@AfterReturning` annotations.\r\n\r\nWill they start to be executed asynchronously if I put `@Async` on each of them along with `@EnableAsync`?\r\n\r\nHow then the proxies be resolved and created for the methods and will they be?","title":"Will an aspect be executed asynchronously if I put @Async method on it?","body":"<p>I have my <code>ControllerLogger</code> class that has some methods with <code>@Before</code> and <code>@AfterReturning</code> annotations.</p>\n\n<p>Will they start to be executed asynchronously if I put <code>@Async</code> on each of them along with <code>@EnableAsync</code>?</p>\n\n<p>How then the proxies be resolved and created for the methods and will they be?</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"score":1,"creation_date":1688823123,"post_id":76642150,"comment_id":135127302,"body_markdown":"Paste the code directly inside a code block instead of showing a screenshot.\nBe more specific in your issue, what are you expecting it to show?\nAlso, just because your code builds successfully, doesn&#39;t mean it will run as you&#39;d imagine.","body":"Paste the code directly inside a code block instead of showing a screenshot. Be more specific in your issue, what are you expecting it to show? Also, just because your code builds successfully, doesn&#39;t mean it will run as you&#39;d imagine."}],"owner":{"account_id":28975074,"reputation":1,"user_id":22194373,"display_name":"Vaishhh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688806622,"creation_date":1688806622,"question_id":76642150,"body_markdown":"[SEE](https://i.stack.imgur.com/fmdvd.png)\r\n\r\nI was running a code on NetBeans and was expecting a output as the code was error free.\r\nbut it was only showing that the run:\r\n                                 BUILD SUCCESSFUL.\r\nSometimes it would work just fine but sometimes it would not show output.\r\nHow to solve thiss ?? please help.","title":"NetBeans won&#39;t show the output sometimes ,, it will only show run: then BUILD SUCCESSFUL","body":"<p><a href=\"https://i.stack.imgur.com/fmdvd.png\" rel=\"nofollow noreferrer\">SEE</a></p>\n<p>I was running a code on NetBeans and was expecting a output as the code was error free.\nbut it was only showing that the run:\nBUILD SUCCESSFUL.\nSometimes it would work just fine but sometimes it would not show output.\nHow to solve thiss ?? please help.</p>\n"},{"tags":["java","junit5","spring-test","hikaricp"],"comments":[{"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"score":0,"creation_date":1688832521,"post_id":76642082,"comment_id":135128345,"body_markdown":"Probably I&#39;m hitting this: https://github.com/brettwooldridge/HikariCP/issues/811","body":"Probably I&#39;m hitting this: <a href=\"https://github.com/brettwooldridge/HikariCP/issues/811\" rel=\"nofollow noreferrer\">github.com/brettwooldridge/HikariCP/issues/811</a>"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1689228481,"post_id":76642082,"comment_id":135184119,"body_markdown":"it most probably has to do with the general setup of the test. nothing of what you posted gives any indication on what the issue is. without knowing the code of the test class it is not possible to answer this question correctly. everything would be speculation","body":"it most probably has to do with the general setup of the test. nothing of what you posted gives any indication on what the issue is. without knowing the code of the test class it is not possible to answer this question correctly. everything would be speculation"}],"owner":{"account_id":2719548,"reputation":2231,"user_id":2346131,"display_name":"Lavish Kothari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688805534,"creation_date":1688805534,"question_id":76642082,"body_markdown":"I&#39;ve enabled parallel JUnit tests using the following properties:\r\n```\r\njunit.jupiter.execution.parallel.enabled = true\r\n\r\njunit.jupiter.execution.parallel.mode.default = concurrent\r\njunit.jupiter.execution.parallel.mode.classes.default = concurrent\r\n\r\njunit.jupiter.execution.parallel.config.strategy = fixed\r\njunit.jupiter.execution.parallel.config.fixed.parallelism = 8\r\n```\r\n\r\nI&#39;m observing some weird behavior with the DB connections. Following is the exceptions that I&#39;m getting:\r\n```\r\n### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (springHikariCP) has been closed.\r\n\tat org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:96)\r\n```\r\n\r\nMy hikariCP config bean looks like this\r\n```xml\r\n    &lt;bean id=&quot;hikariConfig&quot; class=&quot;com.zaxxer.hikari.HikariConfig&quot;&gt;\r\n        &lt;property name=&quot;poolName&quot; value=&quot;springHikariCP&quot;/&gt;\r\n        &lt;property name=&quot;connectionTestQuery&quot; value=&quot;SELECT 1&quot;/&gt;\r\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${spring.datasource.url}&quot;/&gt;\r\n        &lt;property name=&quot;maximumPoolSize&quot; value=&quot;24&quot;/&gt;\r\n        &lt;property name=&quot;idleTimeout&quot; value=&quot;10000&quot;/&gt;\r\n        &lt;property name=&quot;transactionIsolation&quot; value=&quot;TRANSACTION_READ_UNCOMMITTED&quot;/&gt;\r\n    &lt;/bean&gt;\r\n```\r\nWhat could be the reason for these exceptions? (I&#39;m not seeing these exceptions and the tests are passing when I don&#39;t make the tests parallel)\r\nIs there any specific thing that I should do, specifically with the connection pool, to make it function properly with in concurrent setup as well?","title":"Connection pool related errors when running JUnit 5 tests in parallel","body":"<p>I've enabled parallel JUnit tests using the following properties:</p>\n<pre><code>junit.jupiter.execution.parallel.enabled = true\n\njunit.jupiter.execution.parallel.mode.default = concurrent\njunit.jupiter.execution.parallel.mode.classes.default = concurrent\n\njunit.jupiter.execution.parallel.config.strategy = fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism = 8\n</code></pre>\n<p>I'm observing some weird behavior with the DB connections. Following is the exceptions that I'm getting:</p>\n<pre><code>### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: HikariDataSource HikariDataSource (springHikariCP) has been closed.\n    at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:96)\n</code></pre>\n<p>My hikariCP config bean looks like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;bean id=&quot;hikariConfig&quot; class=&quot;com.zaxxer.hikari.HikariConfig&quot;&gt;\n        &lt;property name=&quot;poolName&quot; value=&quot;springHikariCP&quot;/&gt;\n        &lt;property name=&quot;connectionTestQuery&quot; value=&quot;SELECT 1&quot;/&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\n        &lt;property name=&quot;jdbcUrl&quot; value=&quot;${spring.datasource.url}&quot;/&gt;\n        &lt;property name=&quot;maximumPoolSize&quot; value=&quot;24&quot;/&gt;\n        &lt;property name=&quot;idleTimeout&quot; value=&quot;10000&quot;/&gt;\n        &lt;property name=&quot;transactionIsolation&quot; value=&quot;TRANSACTION_READ_UNCOMMITTED&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>What could be the reason for these exceptions? (I'm not seeing these exceptions and the tests are passing when I don't make the tests parallel)\nIs there any specific thing that I should do, specifically with the connection pool, to make it function properly with in concurrent setup as well?</p>\n"},{"tags":["java","spring","multithreading","aop","spring-aop"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688555230,"post_id":76619212,"comment_id":135088047,"body_markdown":"Instead of adding complexity with a threadpool I would first start with implementing it without and see if this really is an issue (it rarely is in my experience). Also to apply metrics on method excution there are already various solution out there which integrate with Spring (like Micrometer for instance).","body":"Instead of adding complexity with a threadpool I would first start with implementing it without and see if this really is an issue (it rarely is in my experience). Also to apply metrics on method excution there are already various solution out there which integrate with Spring (like Micrometer for instance)."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1688804985,"post_id":76619212,"comment_id":135125478,"body_markdown":"The accepted answer involves a lot of manual work. Simply use `@Async`, but please note the caveats I explained in my answer to the question I marked this one as a duplicate of. Please also note my thoughts about whether you ought to use asynchronous advice at all. That it is possible, does not necessarily mean that it ought to be used unless strictly necessary. P.S.: Your second try to ask this question is certainly better than the [first one](https://stackoverflow.com/q/76603831/1082681). &#128521;","body":"The accepted answer involves a lot of manual work. Simply use <code>@Async</code>, but please note the caveats I explained in my answer to the question I marked this one as a duplicate of. Please also note my thoughts about whether you ought to use asynchronous advice at all. That it is possible, does not necessarily mean that it ought to be used unless strictly necessary. P.S.: Your second try to ask this question is certainly better than the <a href=\"https://stackoverflow.com/q/76603831/1082681\">first one</a>. 😉"}],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688552151,"creation_date":1688552151,"answer_id":76619338,"question_id":76619212,"body_markdown":"I don&#39;t think that its a responsibility of AOP framework to provide multi threaded execution. The business code gets wrapped by advices and basically you can run the code in advice before the business code, after the business code or around the business code (by possibly omitting the business code execution).\r\n\r\nHaving said that, there is nothing that stops you to spawn a thread (or in a more realistic scenario, probably, using a thread from thread pool) from within an advice and &quot;offload&quot; the potentially expensive execution to that thread.\r\n\r\nOf course it will be the responsibility of the programmer to handle possible errors that might arise during the code execution (both the aspect&#39;s code and the business code itself). \r\n\r\nThis probably answers also your second question: you should be ok with these 3 types , no need to create additional types for that.\r\n\r\nIn a pseudo code it looks like this:\r\n\r\n```java\r\n@Aspect\r\n@Configuration\r\npublic class ExecutionTimeAspect {\r\n\r\n    private ThreadPool theadPool = ... // you can user executors of java, maybe queues for async task execution and so on, I name it &#39;generic thread pool&#39; here, which is technology agnostic\r\n\r\n    @Around(&quot;execution(* com.poc.app..*.*(..))&quot;)\r\n    public Object execute(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        threadPool.execute(this::executeExpensiveOperation); // this is off-loaded to another thread actually \r\n        return joinPoint.proceed();\r\n    }\r\n\r\n    private void executeExpensiveOperation() {\r\n       // this should be run in a separate thread \r\n    }\r\n}\r\n```\r\n\r\n","title":"Spring AOP running advices in separate threads","body":"<p>I don't think that its a responsibility of AOP framework to provide multi threaded execution. The business code gets wrapped by advices and basically you can run the code in advice before the business code, after the business code or around the business code (by possibly omitting the business code execution).</p>\n<p>Having said that, there is nothing that stops you to spawn a thread (or in a more realistic scenario, probably, using a thread from thread pool) from within an advice and &quot;offload&quot; the potentially expensive execution to that thread.</p>\n<p>Of course it will be the responsibility of the programmer to handle possible errors that might arise during the code execution (both the aspect's code and the business code itself).</p>\n<p>This probably answers also your second question: you should be ok with these 3 types , no need to create additional types for that.</p>\n<p>In a pseudo code it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Configuration\npublic class ExecutionTimeAspect {\n\n    private ThreadPool theadPool = ... // you can user executors of java, maybe queues for async task execution and so on, I name it 'generic thread pool' here, which is technology agnostic\n\n    @Around(&quot;execution(* com.poc.app..*.*(..))&quot;)\n    public Object execute(ProceedingJoinPoint joinPoint) throws Throwable {\n        threadPool.execute(this::executeExpensiveOperation); // this is off-loaded to another thread actually \n        return joinPoint.proceed();\n    }\n\n    private void executeExpensiveOperation() {\n       // this should be run in a separate thread \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":397984,"reputation":535,"user_id":762421,"accept_rate":36,"display_name":"user762421"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688804889,"accepted_answer_id":76619338,"answer_count":1,"score":0,"last_activity_date":1688805089,"creation_date":1688551054,"question_id":76619212,"body_markdown":"I have below Java code which intercepts the method `getUserDetails()` using Spring AOP and logs its execution time. The method `calculateExecutionTime` gets executed in the same thread as `getUserDetails()`. \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.poc.app.data;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public class User {\r\n        public String getUserDetails() {\r\n            return &quot;user details&quot;;\r\n        }\r\n    }\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.poc.app.aspect;\r\n\r\n    import org.aspectj.lang.ProceedingJoinPoint;\r\n    import org.aspectj.lang.annotation.Around;\r\n    import org.aspectj.lang.annotation.Aspect;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Aspect\r\n    @Configuration\r\n    public class ExecutionTimeAspect {\r\n        private Logger logger = LoggerFactory.getLogger(this.getClass());\r\n    \r\n        @Around(&quot;execution(* com.poc.app..*.*(..))&quot;)\r\n        public Object calculateExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n            long startTime = System.currentTimeMillis();\r\n            Object returnValue = joinPoint.proceed();\r\n            long timeTaken = System.currentTimeMillis() - startTime;\r\n            logger.info(&quot;Time taken by {} to complete execution is: {}&quot;, joinPoint, timeTaken);\r\n            return returnValue;\r\n        }\r\n    }\r\n\r\nQuestion: I am working on creating another Aspect to capture runtime data of various methods (like the input parameter values, the return values) using @Before and @After Spring AOP advices. \r\n\r\n 1. Is it possible to run those advices in a separate thread then the\r\n    one running the actual methods say `getUserDetails` in this example?\r\n 2. Is it possible to create a custom advice types similar to @Before\r\n    and @After and have them run in separate thread then the method\r\n    being intercepted?","title":"Spring AOP running advices in separate threads","body":"<p>I have below Java code which intercepts the method <code>getUserDetails()</code> using Spring AOP and logs its execution time. The method <code>calculateExecutionTime</code> gets executed in the same thread as <code>getUserDetails()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.poc.app.data;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic class User {\n    public String getUserDetails() {\n        return &quot;user details&quot;;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package com.poc.app.aspect;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.context.annotation.Configuration;\n\n@Aspect\n@Configuration\npublic class ExecutionTimeAspect {\n    private Logger logger = LoggerFactory.getLogger(this.getClass());\n\n    @Around(&quot;execution(* com.poc.app..*.*(..))&quot;)\n    public Object calculateExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object returnValue = joinPoint.proceed();\n        long timeTaken = System.currentTimeMillis() - startTime;\n        logger.info(&quot;Time taken by {} to complete execution is: {}&quot;, joinPoint, timeTaken);\n        return returnValue;\n    }\n}\n</code></pre>\n<p>Question: I am working on creating another Aspect to capture runtime data of various methods (like the input parameter values, the return values) using @Before and @After Spring AOP advices.</p>\n<ol>\n<li>Is it possible to run those advices in a separate thread then the\none running the actual methods say <code>getUserDetails</code> in this example?</li>\n<li>Is it possible to create a custom advice types similar to @Before\nand @After and have them run in separate thread then the method\nbeing intercepted?</li>\n</ol>\n"},{"tags":["java","arrays","mongodb"],"answers":[{"tags":[],"owner":{"account_id":23800529,"reputation":1,"user_id":17810813,"display_name":"hinhnhumoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688804716,"creation_date":1688573713,"answer_id":76622215,"question_id":76622110,"body_markdown":"Just very simple casting trick:\r\n```\r\nList&lt;Integer&gt; yearList = (List&lt;Integer&gt;) document.get(&quot;years&quot;);\r\n```","title":"How to extract a List from a Bson Document","body":"<p>Just very simple casting trick:</p>\n<pre><code>List&lt;Integer&gt; yearList = (List&lt;Integer&gt;) document.get(&quot;years&quot;);\n</code></pre>\n"}],"owner":{"account_id":23800529,"reputation":1,"user_id":17810813,"display_name":"hinhnhumoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688804716,"creation_date":1688573047,"question_id":76622110,"body_markdown":"i&#39;m facing a problem when i want to get a list out of a mongoDb document that i get from this function:\r\nmongoDbAccess.getCollection(collection).find(params).projection(projection);\r\n\r\nProblem is my Document has a list of years in it like :\r\n\r\n    {\r\n      &quot;name&quot;:&quot;Emily&quot;,\r\n      &quot;years&quot;:[2019,2016,2015]\r\n    }\r\n\r\nand i can&#39;t get the right way to extract the years list easily.\r\n\r\n\r\nI already tried using \r\n\r\n    List&lt;?&gt; yearList = document.get(&quot;years&quot;, List.class);\r\n\r\nbut this somehow return null.\r\n\r\ni know i always can just get the string out of it and then turns it back into a List but there must be an easier way to do this. \r\nThanks for any helps.","title":"How to extract a List from a Bson Document","body":"<p>i'm facing a problem when i want to get a list out of a mongoDb document that i get from this function:\nmongoDbAccess.getCollection(collection).find(params).projection(projection);</p>\n<p>Problem is my Document has a list of years in it like :</p>\n<pre><code>{\n  &quot;name&quot;:&quot;Emily&quot;,\n  &quot;years&quot;:[2019,2016,2015]\n}\n</code></pre>\n<p>and i can't get the right way to extract the years list easily.</p>\n<p>I already tried using</p>\n<pre><code>List&lt;?&gt; yearList = document.get(&quot;years&quot;, List.class);\n</code></pre>\n<p>but this somehow return null.</p>\n<p>i know i always can just get the string out of it and then turns it back into a List but there must be an easier way to do this.\nThanks for any helps.</p>\n"},{"tags":["java","minecraft"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1688439576,"post_id":76609080,"comment_id":135070978,"body_markdown":"You&#39;ve noticed the underlying cause? `Caused by: java.lang.SecurityException: Invalid signature file digest for Manifest main attributes`","body":"You&#39;ve noticed the underlying cause? <code>Caused by: java.lang.SecurityException: Invalid signature file digest for Manifest main attributes</code>"},{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1688440369,"post_id":76609080,"comment_id":135071024,"body_markdown":"Always look for the &quot;caused by...&quot; line. It&#39;s not indented for a reason.","body":"Always look for the &quot;caused by...&quot; line. It&#39;s not indented for a reason."}],"answers":[{"tags":[],"owner":{"account_id":27591513,"reputation":1,"user_id":21058566,"display_name":"BUCYUM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688804716,"creation_date":1688522122,"answer_id":76616675,"question_id":76609080,"body_markdown":"Add excludes to the pom.xml:\r\n\r\n    &lt;excludes&gt;\r\n        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n    &lt;/excludes&gt;","title":"My bukkit plugin won&#39;t load:Error loading plugin: Directory &#39;xxx.jar&#39; failed to load","body":"<p>Add excludes to the pom.xml:</p>\n<pre><code>&lt;excludes&gt;\n    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n&lt;/excludes&gt;\n</code></pre>\n"}],"owner":{"account_id":27591513,"reputation":1,"user_id":21058566,"display_name":"BUCYUM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":348,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688804716,"creation_date":1688437830,"question_id":76609080,"body_markdown":"Before I imported mirai-core, the plugin worked normally, but now importing it I get an error, I just called the mirai-core API.\r\nThis is not likely to be a problem with failed logins QQ, the server just started it failed to load.\r\n\r\n\r\nThis is the log:\r\n```\r\nStarting org.bukkit.craftbukkit.Main\r\n*** Warning, you&#39;ve not updated in a while! ***\r\n*** Please download a new build as per instructions from https://papermc.io/downloads/paper ***\r\nSystem Info: Java 19 (OpenJDK 64-Bit Server VM 19.0.1+10-21) Host: Windows 11 10.0 (amd64)\r\nLoading libraries, please wait...\r\n2023-07-04 09:39:37,444 ServerMain WARN Advanced terminal features are not available in this environment\r\n[09:39:40 ERROR]: [DirectoryProviderSource] Error loading plugin: Directory &#39;plugins\\QToSer-1.0-SNAPSHOT.jar&#39; failed to load!\r\njava.lang.RuntimeException: Directory &#39;plugins\\QToSer-1.0-SNAPSHOT.jar&#39; failed to load!\r\n\tat io.papermc.paper.plugin.provider.source.FileProviderSource.registerProviders(FileProviderSource.java:59) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paper.plugin.provider.source.DirectoryProviderSource.lambda$registerProviders$1(DirectoryProviderSource.java:34) ~[paper-1.20.jar:git-Paper-3]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[?:?]\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:133) ~[?:?]\r\n\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\r\n\tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\r\n\tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[?:?]\r\n\tat io.papermc.paper.plugin.provider.source.DirectoryProviderSource.registerProviders(DirectoryProviderSource.java:32) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paper.plugin.provider.source.DirectoryProviderSource.registerProviders(DirectoryProviderSource.java:14) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paper.plugin.util.EntrypointUtil.registerProvidersFromSource(EntrypointUtil.java:14) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paper.plugin.PluginInitializerManager.load(PluginInitializerManager.java:100) ~[paper-1.20.jar:git-Paper-3]\r\n\tat net.minecraft.server.Main.main(Main.java:126) ~[paper-1.20.jar:git-Paper-3]\r\n\tat org.bukkit.craftbukkit.Main.main(Main.java:316) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paperclip.Paperclip.lambda$main$0(Paperclip.java:42) ~[app:?]\r\n\tat java.lang.Thread.run(Thread.java:1589) ~[?:?]\r\nCaused by: java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\r\n\tat sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340) ~[?:?]\r\n\tat sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282) ~[?:?]\r\n\tat java.util.jar.JarVerifier.processEntry(JarVerifier.java:327) ~[?:?]\r\n\tat java.util.jar.JarVerifier.update(JarVerifier.java:239) ~[?:?]\r\n\tat java.util.jar.JarFile.initializeVerifier(JarFile.java:760) ~[?:?]\r\n\tat java.util.jar.JarFile.getInputStream(JarFile.java:846) ~[?:?]\r\n\tat io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProviderFactory.create(SpigotPluginProviderFactory.java:36) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProviderFactory.create(SpigotPluginProviderFactory.java:16) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paper.plugin.provider.type.PluginFileType.getConfig(PluginFileType.java:77) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paper.plugin.provider.type.PluginFileType.register(PluginFileType.java:70) ~[paper-1.20.jar:git-Paper-3]\r\n\tat io.papermc.paper.plugin.provider.source.FileProviderSource.registerProviders(FileProviderSource.java:57) ~[paper-1.20.jar:git-Paper-3]\r\n\t... 20 more\r\n[09:39:49 INFO]: Environment: authHost=&#39;https://authserver.mojang.com&#39;, accountsHost=&#39;https://api.mojang.com&#39;, sessionHost=&#39;https://sessionserver.mojang.com&#39;, servicesHost=&#39;https://api.minecraftservices.com&#39;, name=&#39;PROD&#39;\r\n[09:39:52 INFO]: Loaded 7 recipes\r\n[09:39:53 INFO]: Starting minecraft server version 1.20\r\n[09:39:53 INFO]: Loading properties\r\n[09:39:53 INFO]: This server is running Paper version git-Paper-3 (MC: 1.20) (Implementing API version 1.20-R0.1-SNAPSHOT) (Git: dc30ee5)\r\n[09:39:53 INFO]: Using 4 threads for Netty based IO\r\n```\r\n\r\n\r\nThis is code:\r\n\r\n``` Java\r\npublic final class QToSer extends JavaPlugin implements Listener, CommandExecutor {\r\n\r\n    public static void say(String s) {\r\n        CommandSender sender = Bukkit.getConsoleSender();\r\n        sender.sendMessage(s);\r\n    }\r\n\r\n    public static ToQ toQ = new ToQ();\r\n\r\n    @Override\r\n    public void onEnable() {\r\n        getServer().getPluginManager().registerEvents(new CServerLoad(), this);\r\n        getServer().getPluginManager().registerEvents(new CAsyncPlayerChat(), this);\r\n        getServer().getPluginManager().registerEvents(new CPlayerJoinEvent(), this);\r\n        Bukkit.getPluginCommand(&quot;send&quot;).setExecutor(this);\r\n    }\r\n\r\n    @Override\r\n    public boolean onCommand(@NotNull CommandSender sender, @NotNull Command command, @NotNull String label, String[] args) {\r\n        if (command.getName().equalsIgnoreCase(&quot;send&quot;)) {\r\n            if (!(sender.isOp() || sender.hasPermission(&quot;group.vip&quot;) || sender.hasPermission(&quot;group.lv8&quot;))){\r\n                sender.sendMessage(&quot;你没有权限让机器人自愿发话&quot;);\r\n                return true;\r\n            }\r\n            try {\r\n                toQ.bot.getGroup(*********).sendMessage(args[0]);\r\n            } catch (Exception e) {\r\n                say(e.getMessage());\r\n                return false;\r\n            }\r\n        } else if (command.getName().equalsIgnoreCase(&quot;loginbot&quot;)) {\r\n            if (sender.isOp()){\r\n                toQ.bot.login();\r\n                toQ.bot.getEventChannel().registerListenerHost(new ConMessage());\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void onDisable() {\r\n    }\r\n}\r\n\r\n```\r\nToQ Class:\r\n```\r\npackage org.poem.qtoser;\r\n\r\nimport net.mamoe.mirai.*;\r\nimport net.mamoe.mirai.utils.BotConfiguration;\r\n\r\npublic class ToQ {\r\n    public Bot bot;\r\n    public ToQ(){\r\n        bot = BotFactory.INSTANCE.newBot(**********,&quot;**********&quot;,new BotConfiguration() {{\r\n            setProtocol(MiraiProtocol.ANDROID_PHONE);\r\n            fileBasedDeviceInfo();\r\n        }});\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nplugin.yml:\r\n\r\n```\r\nname: QToSer\r\nversion: &#39;${project.version}&#39;\r\nmain: org.poem.qtoser.QToSer\r\napi-version: 1.19\r\ncommands:\r\n  send:\r\n    description: 向机器人发送消息.\r\n    usage: /send [message]\r\n```\r\n\r\n\r\n\r\nI tried code transfers that would result in not being enabled, but you know, it didn&#39;t work. Because he reported an error when loading from the startup server, I had no clue at all.","title":"My bukkit plugin won&#39;t load:Error loading plugin: Directory &#39;xxx.jar&#39; failed to load","body":"<p>Before I imported mirai-core, the plugin worked normally, but now importing it I get an error, I just called the mirai-core API.\nThis is not likely to be a problem with failed logins QQ, the server just started it failed to load.</p>\n<p>This is the log:</p>\n<pre><code>Starting org.bukkit.craftbukkit.Main\n*** Warning, you've not updated in a while! ***\n*** Please download a new build as per instructions from https://papermc.io/downloads/paper ***\nSystem Info: Java 19 (OpenJDK 64-Bit Server VM 19.0.1+10-21) Host: Windows 11 10.0 (amd64)\nLoading libraries, please wait...\n2023-07-04 09:39:37,444 ServerMain WARN Advanced terminal features are not available in this environment\n[09:39:40 ERROR]: [DirectoryProviderSource] Error loading plugin: Directory 'plugins\\QToSer-1.0-SNAPSHOT.jar' failed to load!\njava.lang.RuntimeException: Directory 'plugins\\QToSer-1.0-SNAPSHOT.jar' failed to load!\n    at io.papermc.paper.plugin.provider.source.FileProviderSource.registerProviders(FileProviderSource.java:59) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paper.plugin.provider.source.DirectoryProviderSource.lambda$registerProviders$1(DirectoryProviderSource.java:34) ~[paper-1.20.jar:git-Paper-3]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[?:?]\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[?:?]\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[?:?]\n    at java.util.Iterator.forEachRemaining(Iterator.java:133) ~[?:?]\n    at java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921) ~[?:?]\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[?:?]\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[?:?]\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150) ~[?:?]\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173) ~[?:?]\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[?:?]\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[?:?]\n    at io.papermc.paper.plugin.provider.source.DirectoryProviderSource.registerProviders(DirectoryProviderSource.java:32) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paper.plugin.provider.source.DirectoryProviderSource.registerProviders(DirectoryProviderSource.java:14) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paper.plugin.util.EntrypointUtil.registerProvidersFromSource(EntrypointUtil.java:14) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paper.plugin.PluginInitializerManager.load(PluginInitializerManager.java:100) ~[paper-1.20.jar:git-Paper-3]\n    at net.minecraft.server.Main.main(Main.java:126) ~[paper-1.20.jar:git-Paper-3]\n    at org.bukkit.craftbukkit.Main.main(Main.java:316) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paperclip.Paperclip.lambda$main$0(Paperclip.java:42) ~[app:?]\n    at java.lang.Thread.run(Thread.java:1589) ~[?:?]\nCaused by: java.lang.SecurityException: Invalid signature file digest for Manifest main attributes\n    at sun.security.util.SignatureFileVerifier.processImpl(SignatureFileVerifier.java:340) ~[?:?]\n    at sun.security.util.SignatureFileVerifier.process(SignatureFileVerifier.java:282) ~[?:?]\n    at java.util.jar.JarVerifier.processEntry(JarVerifier.java:327) ~[?:?]\n    at java.util.jar.JarVerifier.update(JarVerifier.java:239) ~[?:?]\n    at java.util.jar.JarFile.initializeVerifier(JarFile.java:760) ~[?:?]\n    at java.util.jar.JarFile.getInputStream(JarFile.java:846) ~[?:?]\n    at io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProviderFactory.create(SpigotPluginProviderFactory.java:36) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paper.plugin.provider.type.spigot.SpigotPluginProviderFactory.create(SpigotPluginProviderFactory.java:16) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paper.plugin.provider.type.PluginFileType.getConfig(PluginFileType.java:77) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paper.plugin.provider.type.PluginFileType.register(PluginFileType.java:70) ~[paper-1.20.jar:git-Paper-3]\n    at io.papermc.paper.plugin.provider.source.FileProviderSource.registerProviders(FileProviderSource.java:57) ~[paper-1.20.jar:git-Paper-3]\n    ... 20 more\n[09:39:49 INFO]: Environment: authHost='https://authserver.mojang.com', accountsHost='https://api.mojang.com', sessionHost='https://sessionserver.mojang.com', servicesHost='https://api.minecraftservices.com', name='PROD'\n[09:39:52 INFO]: Loaded 7 recipes\n[09:39:53 INFO]: Starting minecraft server version 1.20\n[09:39:53 INFO]: Loading properties\n[09:39:53 INFO]: This server is running Paper version git-Paper-3 (MC: 1.20) (Implementing API version 1.20-R0.1-SNAPSHOT) (Git: dc30ee5)\n[09:39:53 INFO]: Using 4 threads for Netty based IO\n</code></pre>\n<p>This is code:</p>\n<pre><code>public final class QToSer extends JavaPlugin implements Listener, CommandExecutor {\n\n    public static void say(String s) {\n        CommandSender sender = Bukkit.getConsoleSender();\n        sender.sendMessage(s);\n    }\n\n    public static ToQ toQ = new ToQ();\n\n    @Override\n    public void onEnable() {\n        getServer().getPluginManager().registerEvents(new CServerLoad(), this);\n        getServer().getPluginManager().registerEvents(new CAsyncPlayerChat(), this);\n        getServer().getPluginManager().registerEvents(new CPlayerJoinEvent(), this);\n        Bukkit.getPluginCommand(&quot;send&quot;).setExecutor(this);\n    }\n\n    @Override\n    public boolean onCommand(@NotNull CommandSender sender, @NotNull Command command, @NotNull String label, String[] args) {\n        if (command.getName().equalsIgnoreCase(&quot;send&quot;)) {\n            if (!(sender.isOp() || sender.hasPermission(&quot;group.vip&quot;) || sender.hasPermission(&quot;group.lv8&quot;))){\n                sender.sendMessage(&quot;你没有权限让机器人自愿发话&quot;);\n                return true;\n            }\n            try {\n                toQ.bot.getGroup(*********).sendMessage(args[0]);\n            } catch (Exception e) {\n                say(e.getMessage());\n                return false;\n            }\n        } else if (command.getName().equalsIgnoreCase(&quot;loginbot&quot;)) {\n            if (sender.isOp()){\n                toQ.bot.login();\n                toQ.bot.getEventChannel().registerListenerHost(new ConMessage());\n            }\n        }\n        return false;\n    }\n\n    @Override\n    public void onDisable() {\n    }\n}\n\n</code></pre>\n<p>ToQ Class:</p>\n<pre><code>package org.poem.qtoser;\n\nimport net.mamoe.mirai.*;\nimport net.mamoe.mirai.utils.BotConfiguration;\n\npublic class ToQ {\n    public Bot bot;\n    public ToQ(){\n        bot = BotFactory.INSTANCE.newBot(**********,&quot;**********&quot;,new BotConfiguration() {{\n            setProtocol(MiraiProtocol.ANDROID_PHONE);\n            fileBasedDeviceInfo();\n        }});\n    }\n}\n\n</code></pre>\n<p>plugin.yml:</p>\n<pre><code>name: QToSer\nversion: '${project.version}'\nmain: org.poem.qtoser.QToSer\napi-version: 1.19\ncommands:\n  send:\n    description: 向机器人发送消息.\n    usage: /send [message]\n</code></pre>\n<p>I tried code transfers that would result in not being enabled, but you know, it didn't work. Because he reported an error when loading from the startup server, I had no clue at all.</p>\n"},{"tags":["java","spring-boot","jdbc","spring-jdbc"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1688788548,"post_id":76641170,"comment_id":135124396,"body_markdown":"Instead of passing values in a query, Create a setter of `DisputeLog` and set the value using the setter. That&#39;s creating a dependency injection.","body":"Instead of passing values in a query, Create a setter of <code>DisputeLog</code> and set the value using the setter. That&#39;s creating a dependency injection."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1688788683,"post_id":76641170,"comment_id":135124403,"body_markdown":"Can you please show me your entity?","body":"Can you please show me your entity?"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688804654,"creation_date":1688804654,"answer_id":76642029,"question_id":76641170,"body_markdown":"Without seeing the code of your Java class DisputeLog I&#39;m assuming it is just a simple POJO with fields and getters/setters written according to Java conventions. Like this:\r\n```\r\npublic class DisputeLog {\r\n    private String fromValues;\r\n    public String getFromValues() {\r\n        return fromValues;\r\n    }\r\n    public void setFromValues(String fromValues) {\r\n        this.fromValues = fromValues;\r\n    }\r\n}\r\n```\r\nIn this case when you have a JSON object like in your post the mapping will not work because your JSON property has a different name: `FROM_VALUES` That&#39;s why you are getting `null` from the getter. To get it work you can either rename JSON property or add an annotation to the Java field. Like this:\r\n```\r\neither:\r\n{\r\n    &quot;fromValues&quot;: &quot;Y&quot;\r\n}\r\nor:\r\n    @JsonProperty(&quot;FROM_VALUES&quot;)\r\n    private String fromValues;\r\n\r\n```\r\nAnother problem causing SQL exception is that the SQL string ends with semicolon. It is not necessary and not valid when using JDBC. Just remove semicolon and it should fly.\r\n\r\nHope it helps.","title":"RequestBody doesn&#39;t get body JSON and jdbc.BadSqlGrammarException","body":"<p>Without seeing the code of your Java class DisputeLog I'm assuming it is just a simple POJO with fields and getters/setters written according to Java conventions. Like this:</p>\n<pre><code>public class DisputeLog {\n    private String fromValues;\n    public String getFromValues() {\n        return fromValues;\n    }\n    public void setFromValues(String fromValues) {\n        this.fromValues = fromValues;\n    }\n}\n</code></pre>\n<p>In this case when you have a JSON object like in your post the mapping will not work because your JSON property has a different name: <code>FROM_VALUES</code> That's why you are getting <code>null</code> from the getter. To get it work you can either rename JSON property or add an annotation to the Java field. Like this:</p>\n<pre><code>either:\n{\n    &quot;fromValues&quot;: &quot;Y&quot;\n}\nor:\n    @JsonProperty(&quot;FROM_VALUES&quot;)\n    private String fromValues;\n\n</code></pre>\n<p>Another problem causing SQL exception is that the SQL string ends with semicolon. It is not necessary and not valid when using JDBC. Just remove semicolon and it should fly.</p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":18576586,"reputation":17,"user_id":20541149,"display_name":"Pao Beltran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76642029,"answer_count":1,"score":0,"last_activity_date":1688804654,"creation_date":1688785005,"question_id":76641170,"body_markdown":"I&#39;m trying to make a fast CRUD app usins java spring boot with jdbc as database, I&#39;m having some troubles with adding something new to the database (DisputeLog in this case), at first I&#39;m having an error 500 for the jdbc.BadSqlGrammarException but i still don&#39;t notice something bad at all with the query, and also the params that i sent in the body JSON are not being taken at the moment with of the @ResponseBody.\r\nI&#39;ll be grateful if someone could help me notice my mistake.\r\n\r\nException:\r\n\r\n```\r\n2023-07-07 19:45:13.425 ERROR 12115 --- [nio-8096-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO ENGAGE_AR_DISPUTES.DISPUTE_LOGS(FROM_VALUES, TO_VALUES,SOURCE, DISPUTE_ID, CREATED_BY) VALUES(&#39;null&#39;,&#39;null&#39;,&#39;null&#39;,&#39;null&#39;,&#39;null&#39;);]; nested exception is com.ibm.db2.jcc.am.SqlSyntaxErrorException: [jcc][10145][10844][4.28.11] Invalid parameter 1: Parameter index is out of range. ERRORCODE=-4461, SQLSTATE=42815] with root cause\r\n\r\n```\r\n\r\n\r\n\r\nController:\r\n\r\n```\r\n@PostMapping(&quot;/create-dispute-log&quot;)\r\n    public ResponseEntity&lt;DisputeLog&gt; createDispute(@RequestBody DisputeLog disputeLog){\r\n        System.out.println(&quot;dispute log id: &quot;+disputeLog.getDisputeLogID());\r\n        return new ResponseEntity&lt;DisputeLog&gt;(disputeLogService.addNewDisputeLog(disputeLog), HttpStatus.CREATED);\r\n    }\r\n```\r\n\r\n\r\nService:\r\n\r\n\r\n```\r\n  public DisputeLog addNewDisputeLog(DisputeLog disputeLog){\r\n        disputeLog.setCreatedAt(new Timestamp(System.currentTimeMillis()));\r\n        String query=&quot;INSERT INTO ENGAGE_AR_DISPUTES.DISPUTE_LOGS(FROM_VALUES, &quot; +\r\n                &quot;TO_VALUES,SOURCE, DISPUTE_ID, CREATED_BY) VALUES(&#39;&quot;\r\n                +disputeLog.getFromValues()+&quot;&#39;,&#39;&quot;+disputeLog.getToValues()+&quot;&#39;,&#39;&quot;+disputeLog.getSource()+&quot;&#39;,&#39;&quot;+\r\n                disputeLog.getDisputeID()+&quot;&#39;,&#39;&quot;+disputeLog.getCreatedBy()+&quot;&#39;);&quot;;\r\n        jdbcTemplate.update(query);\r\n        DisputeLog newDisputeLog=disputeLog;\r\n        return newDisputeLog;\r\n    }\r\n```\r\n\r\n\r\nJSON sent in the body at Insomnia:\r\n\r\n```\r\n{\r\n\t&quot;FROM_VALUES&quot;: &quot;Y&quot;,\r\n\t&quot;TO_VALUES&quot;:&quot;Z&quot;,\r\n\t&quot;SOURCE&quot;: &quot;ES&quot;,\r\n\t&quot;DISPUTE_ID&quot;:&quot;5567&quot;,\r\n\t&quot;CREATED_BY&quot;:&quot;AB5W1&quot;\t\r\n}\r\n```\r\n\r\n\r\n\r\nI tried to change the statement but still doesn&#39;t work.","title":"RequestBody doesn&#39;t get body JSON and jdbc.BadSqlGrammarException","body":"<p>I'm trying to make a fast CRUD app usins java spring boot with jdbc as database, I'm having some troubles with adding something new to the database (DisputeLog in this case), at first I'm having an error 500 for the jdbc.BadSqlGrammarException but i still don't notice something bad at all with the query, and also the params that i sent in the body JSON are not being taken at the moment with of the @ResponseBody.\nI'll be grateful if someone could help me notice my mistake.</p>\n<p>Exception:</p>\n<pre><code>2023-07-07 19:45:13.425 ERROR 12115 --- [nio-8096-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [INSERT INTO ENGAGE_AR_DISPUTES.DISPUTE_LOGS(FROM_VALUES, TO_VALUES,SOURCE, DISPUTE_ID, CREATED_BY) VALUES('null','null','null','null','null');]; nested exception is com.ibm.db2.jcc.am.SqlSyntaxErrorException: [jcc][10145][10844][4.28.11] Invalid parameter 1: Parameter index is out of range. ERRORCODE=-4461, SQLSTATE=42815] with root cause\n\n</code></pre>\n<p>Controller:</p>\n<pre><code>@PostMapping(&quot;/create-dispute-log&quot;)\n    public ResponseEntity&lt;DisputeLog&gt; createDispute(@RequestBody DisputeLog disputeLog){\n        System.out.println(&quot;dispute log id: &quot;+disputeLog.getDisputeLogID());\n        return new ResponseEntity&lt;DisputeLog&gt;(disputeLogService.addNewDisputeLog(disputeLog), HttpStatus.CREATED);\n    }\n</code></pre>\n<p>Service:</p>\n<pre><code>  public DisputeLog addNewDisputeLog(DisputeLog disputeLog){\n        disputeLog.setCreatedAt(new Timestamp(System.currentTimeMillis()));\n        String query=&quot;INSERT INTO ENGAGE_AR_DISPUTES.DISPUTE_LOGS(FROM_VALUES, &quot; +\n                &quot;TO_VALUES,SOURCE, DISPUTE_ID, CREATED_BY) VALUES('&quot;\n                +disputeLog.getFromValues()+&quot;','&quot;+disputeLog.getToValues()+&quot;','&quot;+disputeLog.getSource()+&quot;','&quot;+\n                disputeLog.getDisputeID()+&quot;','&quot;+disputeLog.getCreatedBy()+&quot;');&quot;;\n        jdbcTemplate.update(query);\n        DisputeLog newDisputeLog=disputeLog;\n        return newDisputeLog;\n    }\n</code></pre>\n<p>JSON sent in the body at Insomnia:</p>\n<pre><code>{\n    &quot;FROM_VALUES&quot;: &quot;Y&quot;,\n    &quot;TO_VALUES&quot;:&quot;Z&quot;,\n    &quot;SOURCE&quot;: &quot;ES&quot;,\n    &quot;DISPUTE_ID&quot;:&quot;5567&quot;,\n    &quot;CREATED_BY&quot;:&quot;AB5W1&quot;    \n}\n</code></pre>\n<p>I tried to change the statement but still doesn't work.</p>\n"},{"tags":["javascript","java","node.js","authentication","passwords"],"answers":[{"tags":[],"owner":{"account_id":1718578,"reputation":935,"user_id":1575119,"accept_rate":40,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608967559,"creation_date":1490787187,"answer_id":43092310,"question_id":38202798,"body_markdown":"In this line,\r\n&gt; Salt must be in the form of: $Vers$log2(NumRounds)$saltvalue]\r\n\r\n**$Vers** is bcrypt_id &lt;br&gt;\r\n**$log2(NumRounds)** is a parameter that tells it how many times to execute that internal hash function. &lt;br&gt;\r\n\r\nSo you need to generate salt and has password in this way: &lt;br&gt;\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    var bcrypt = require(&#39;bcryptjs&#39;);\r\n    bcrypt.genSalt(10, function(err, salt) {\r\n        bcrypt.hash(&quot;any_password&quot;, salt, function(err, hash) {\r\n            // Store hash in your password DB.\r\n        });\r\n    });\r\n\r\n&lt;!-- end snippet --&gt;\r\n&lt;br&gt;\r\n\r\nRead more [here][1]\r\n\r\n\r\n  [1]: https://github.com/dcodeIO/bcrypt.js/blob/master/README.md","title":"Invalid salt Error in autentication process in nodejs","body":"<p>In this line,</p>\n<blockquote>\n<p>Salt must be in the form of: $Vers$log2(NumRounds)$saltvalue]</p>\n</blockquote>\n<p><strong>$Vers</strong> is bcrypt_id <br>\n<strong>$log2(NumRounds)</strong> is a parameter that tells it how many times to execute that internal hash function. <br></p>\n<p>So you need to generate salt and has password in this way: <br></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var bcrypt = require('bcryptjs');\nbcrypt.genSalt(10, function(err, salt) {\n    bcrypt.hash(\"any_password\", salt, function(err, hash) {\n        // Store hash in your password DB.\n    });\n});</code></pre>\r\n</div>\r\n</div>\r\n\n<br></p>\n<p>Read more <a href=\"https://github.com/dcodeIO/bcrypt.js/blob/master/README.md\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"display_name":"user7075574"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584990894,"creation_date":1584990894,"answer_id":60820164,"question_id":38202798,"body_markdown":"A readable way to generate:\r\n\r\n```\r\nconst bcrypt = require(&quot;bcryptjs&quot;)\r\n\r\nconst hash = async (text, size) =&gt; {\r\n    try {\r\n        const salt = await bcrypt.genSalt(size);\r\n\r\n        const hash = await bcrypt.hash(text, salt);\r\n\r\n        return hash\r\n    } catch(error) {\r\n        console.log(error)\r\n    }\r\n}\r\n```","title":"Invalid salt Error in autentication process in nodejs","body":"<p>A readable way to generate:</p>\n\n<pre><code>const bcrypt = require(\"bcryptjs\")\n\nconst hash = async (text, size) =&gt; {\n    try {\n        const salt = await bcrypt.genSalt(size);\n\n        const hash = await bcrypt.hash(text, salt);\n\n        return hash\n    } catch(error) {\n        console.log(error)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14204637,"reputation":470,"user_id":11375887,"display_name":"Jonathan Mendoza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590867721,"creation_date":1586564456,"answer_id":61150570,"question_id":38202798,"body_markdown":"Another possible solution with promises\r\n\r\n\r\n    bcrypt.genSalt(10)\r\n        .then(\r\n            salt =&gt; {\r\n                bcrypt.hash(password, salt)\r\n                    .then(hash =&gt; {\r\n                        console.log(`INFO: Hash generated: ${hash}`)\r\n                            // Store hash in your password DB.\r\n                    });\r\n            }\r\n        ).catch(err =&gt; console.log(err));\r\n\r\n\r\nConsole\r\n\r\n    jmendoza@jmendoza-ThinkPad-T420:~/IdeaProjects/NodeJS-API-Course/Intermediate-Node-API$ npm run dev\r\n    \r\n    &gt; intermediate-node-api@1.0.0 dev /home/jmendoza/IdeaProjects/NodeJS-API-Course/Intermediate-Node-API\r\n    &gt; nodemon src/app.js\r\n    \r\n    [nodemon] 2.0.3\r\n    [nodemon] to restart at any time, enter `rs`\r\n    [nodemon] watching path(s): *.*\r\n    [nodemon] watching extensions: js,mjs,json\r\n    [nodemon] starting `node src/app.js`\r\n    INFO: A NodeJS API is listining on port: 3000\r\n    INFO: mongoDB, Atlas. Connected\r\n    INFO: SALT: 15\r\n    POST /api/v1/users 200 28.146 ms - 40\r\n    INFO: Hash generated: $2b$10$1/4o27jmhscGEgTyF54NQurLbZvXI9zFROZKhlm0EoHsBE24NTAVu\r\n\r\n\r\nYou can see the complete code in my repository:\r\n\r\nhttps://github.com/JonathanM2ndoza/NodeJS-API-Course/blob/master/Advanced-Node-API/src/modules/encrypt.ts","title":"Invalid salt Error in autentication process in nodejs","body":"<p>Another possible solution with promises</p>\n\n<pre><code>bcrypt.genSalt(10)\n    .then(\n        salt =&gt; {\n            bcrypt.hash(password, salt)\n                .then(hash =&gt; {\n                    console.log(`INFO: Hash generated: ${hash}`)\n                        // Store hash in your password DB.\n                });\n        }\n    ).catch(err =&gt; console.log(err));\n</code></pre>\n\n<p>Console</p>\n\n<pre><code>jmendoza@jmendoza-ThinkPad-T420:~/IdeaProjects/NodeJS-API-Course/Intermediate-Node-API$ npm run dev\n\n&gt; intermediate-node-api@1.0.0 dev /home/jmendoza/IdeaProjects/NodeJS-API-Course/Intermediate-Node-API\n&gt; nodemon src/app.js\n\n[nodemon] 2.0.3\n[nodemon] to restart at any time, enter `rs`\n[nodemon] watching path(s): *.*\n[nodemon] watching extensions: js,mjs,json\n[nodemon] starting `node src/app.js`\nINFO: A NodeJS API is listining on port: 3000\nINFO: mongoDB, Atlas. Connected\nINFO: SALT: 15\nPOST /api/v1/users 200 28.146 ms - 40\nINFO: Hash generated: $2b$10$1/4o27jmhscGEgTyF54NQurLbZvXI9zFROZKhlm0EoHsBE24NTAVu\n</code></pre>\n\n<p>You can see the complete code in my repository:</p>\n\n<p><a href=\"https://github.com/JonathanM2ndoza/NodeJS-API-Course/blob/master/Advanced-Node-API/src/modules/encrypt.ts\" rel=\"nofollow noreferrer\">https://github.com/JonathanM2ndoza/NodeJS-API-Course/blob/master/Advanced-Node-API/src/modules/encrypt.ts</a></p>\n"},{"tags":[],"owner":{"account_id":13056430,"reputation":21,"user_id":9435129,"display_name":"Vinh_Pha"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599320186,"creation_date":1599314380,"answer_id":63754717,"question_id":38202798,"body_markdown":"convert saltinDB to int\r\n\r\n    saltinDB = parseInt(saltinDB)","title":"Invalid salt Error in autentication process in nodejs","body":"<p>convert saltinDB to int</p>\n<pre><code>saltinDB = parseInt(saltinDB)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24212719,"reputation":11,"user_id":18169016,"display_name":"Mohit Gangwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688126582,"creation_date":1687860622,"answer_id":76563806,"question_id":38202798,"body_markdown":"```\r\nbcrypt.genSalt(10)\r\n    .then(\r\n        salt =&gt; {\r\n            bcrypt.hash(password, salt)\r\n                .then(hash =&gt; {\r\n                    console.log(`INFO: Hash generated: ${hash}`)\r\n                        // Store hash in your password DB.\r\n                });\r\n        }\r\n    ).catch(err =&gt; console.log(err));\r\n```\r\nthis now worked for me","title":"Invalid salt Error in autentication process in nodejs","body":"<pre><code>bcrypt.genSalt(10)\n    .then(\n        salt =&gt; {\n            bcrypt.hash(password, salt)\n                .then(hash =&gt; {\n                    console.log(`INFO: Hash generated: ${hash}`)\n                        // Store hash in your password DB.\n                });\n        }\n    ).catch(err =&gt; console.log(err));\n</code></pre>\n<p>this now worked for me</p>\n"},{"tags":[],"owner":{"account_id":4378273,"reputation":1167,"user_id":3570692,"display_name":"kawerewagaba"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688803374,"creation_date":1688802945,"answer_id":76641925,"question_id":38202798,"body_markdown":"It&#39;s a data type issue!\r\n\r\n`saltRounds` should be of type `Number`. The issue can arise if you&#39;re using an `.env` file to store the value - all values are stored as `String`s in the env file.\r\n\r\nIn this case either assign the value in the code `const saltRounds = 10` or coerce the env variable to a number `const saltRounds = Number(process.env.BCRYPT_COST);`.\r\n\r\nBetter still, since this value is not about to change, it can directly be passed to the hash function\r\n\r\n`const passwordHash = await bcrypt.hash(password, 10);`","title":"Invalid salt Error in autentication process in nodejs","body":"<p>It's a data type issue!</p>\n<p><code>saltRounds</code> should be of type <code>Number</code>. The issue can arise if you're using an <code>.env</code> file to store the value - all values are stored as <code>String</code>s in the env file.</p>\n<p>In this case either assign the value in the code <code>const saltRounds = 10</code> or coerce the env variable to a number <code>const saltRounds = Number(process.env.BCRYPT_COST);</code>.</p>\n<p>Better still, since this value is not about to change, it can directly be passed to the hash function</p>\n<p><code>const passwordHash = await bcrypt.hash(password, 10);</code></p>\n"}],"owner":{"account_id":5036448,"reputation":367,"user_id":4045063,"accept_rate":37,"display_name":"Nag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":6,"score":2,"last_activity_date":1688804301,"creation_date":1467719631,"question_id":38202798,"body_markdown":"Am new to javascript and nodejs, I wrote a code to do authentication of the user from the password and salt present in database, Below is the code in nodejs were i receive a usercode and password and i retrieve the data from database and compare the password and salt present in DB with the received password.\r\n\r\nThe salt stored in DB is generated by base64 format.\r\n\r\n\r\n    var Bcrypt = require(&#39;bcrypt&#39;);   \r\n    var pg = require(&#39;pg&#39;);\r\n    var usercode = &#39;tarun&#39;;\r\n    var clientid=&#39;214057357158656&#39;;\r\n    var password=&#39;tarun&#39;;\r\n    var connectionString = &quot;postgres://dbusername:password@localhost:5432/USCProduction&quot;;\r\n    console.log(&#39;connectin to DB&#39;);\r\n    var client = new pg.Client(connectionString);\r\n    client.connect(function(err) {   \r\n    \t   \r\n    \tif(err) {\r\n            console.log(err);\r\n          }\r\n    \tvar Query =&#39;select password, salt from muser, mclient where usercode=&#39;+&quot;&#39;&quot;+usercode+&quot;&#39;&quot;+&#39; and muser.clientid=&#39;+clientid+&#39; and muser.clientid=mclient.clientid and mclient.status=1&#39;;\r\n    \tconsole.log(&#39;executing query&#39;,Query);\r\n    \tclient.query(Query, function(err, result) {\r\n       \r\n       if(err){\r\n    \t   console.log(&#39;Error in executing Query&#39;);\r\n    \t   client.end();\r\n       } else {\r\n    \t   console.log(result.rows);\r\n    \t   var passinDB=result.rows[0].password;\r\n    \t   var saltinDB=result.rows[0].salt;\r\n           console.log(&#39;passwordinDB : &#39;,passinDB);\r\n\t       console.log(&#39;saltinDB : &#39;,saltinDB);\r\n     client.end();\r\n        Bcrypt.hash(passinDB, saltinDB, function(err, hash) {\r\n    \t    if(err) {\r\n    \t            return console.error(err);\r\n    \t    }\r\n    \t    console.log(hash);\r\n        Bcrypt.compare(password, hash, function(err, isMatch) {\r\n            if(err) {\r\n                    return console.error(err);\r\n            }\r\n            console.log(&#39;do they match?&#39;, isMatch);\r\n        });\r\n    \r\n    });\r\n       }\r\n       \t});\r\n    });\r\n\r\n\r\nAm facing the following error while ececuting the code \r\n\r\n    passwordinDB :  StAxL1r3bb/5k/6D6+BulwxhXFs=\r\n    saltinDB :  FOhs8crXyO8=\r\n        [Error: Invalid salt. Salt must be in the form of: $Vers$log2(NumRounds)$saltvalue]\r\n\r\nits unable to find number of rounds of the salt or any other i may be missing in the code ,how to over come this error.\r\n\r\nThank You..!!","title":"Invalid salt Error in autentication process in nodejs","body":"<p>Am new to javascript and nodejs, I wrote a code to do authentication of the user from the password and salt present in database, Below is the code in nodejs were i receive a usercode and password and i retrieve the data from database and compare the password and salt present in DB with the received password.</p>\n\n<p>The salt stored in DB is generated by base64 format.</p>\n\n<pre><code>var Bcrypt = require('bcrypt');   \nvar pg = require('pg');\nvar usercode = 'tarun';\nvar clientid='214057357158656';\nvar password='tarun';\nvar connectionString = \"postgres://dbusername:password@localhost:5432/USCProduction\";\nconsole.log('connectin to DB');\nvar client = new pg.Client(connectionString);\nclient.connect(function(err) {   \n\n    if(err) {\n        console.log(err);\n      }\n    var Query ='select password, salt from muser, mclient where usercode='+\"'\"+usercode+\"'\"+' and muser.clientid='+clientid+' and muser.clientid=mclient.clientid and mclient.status=1';\n    console.log('executing query',Query);\n    client.query(Query, function(err, result) {\n\n   if(err){\n       console.log('Error in executing Query');\n       client.end();\n   } else {\n       console.log(result.rows);\n       var passinDB=result.rows[0].password;\n       var saltinDB=result.rows[0].salt;\n       console.log('passwordinDB : ',passinDB);\n       console.log('saltinDB : ',saltinDB);\n client.end();\n    Bcrypt.hash(passinDB, saltinDB, function(err, hash) {\n        if(err) {\n                return console.error(err);\n        }\n        console.log(hash);\n    Bcrypt.compare(password, hash, function(err, isMatch) {\n        if(err) {\n                return console.error(err);\n        }\n        console.log('do they match?', isMatch);\n    });\n\n});\n   }\n    });\n});\n</code></pre>\n\n<p>Am facing the following error while ececuting the code </p>\n\n<pre><code>passwordinDB :  StAxL1r3bb/5k/6D6+BulwxhXFs=\nsaltinDB :  FOhs8crXyO8=\n    [Error: Invalid salt. Salt must be in the form of: $Vers$log2(NumRounds)$saltvalue]\n</code></pre>\n\n<p>its unable to find number of rounds of the salt or any other i may be missing in the code ,how to over come this error.</p>\n\n<p>Thank You..!!</p>\n"},{"tags":["java","linked-list","time-complexity","doubly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688803253,"creation_date":1688714642,"answer_id":76634753,"question_id":76633820,"body_markdown":"An example worst case in terms of &#119899; (number of nodes) is when all nodes are in a vertical dependency\r\n\r\n```none\r\n1\r\n|\r\n2\r\n|\r\n3\r\n|\r\n4\r\n|\r\n5\r\n|\r\n6\r\n```\r\n\r\nHere, none of the nodes has a `next` node.\r\n\r\nEach time a recursive call unwinds, the new bottom level will have one more node. That bottom level is then traversed again. We can thus say that the statement `child = child.next;` is executed this many times:\r\n\r\n&amp;nbsp; &amp;nbsp; &amp;nbsp; 0 + 1 + 2 + ... + &#119899;−1 = O(&#119899;&#178;)\r\n\r\n\r\nYou could adapt the algorithm so that your function returns the *tail* node of the child level. The top level call would ignore this return value from recursion and still return the head. That way you don&#39;t have to traverse the child list again.\r\n\r\nHere is the adapted code, which has a O(&#119899;) time complexity now:\r\n\r\n```java\r\nclass Solution {\r\n    public Node flatten(Node head) {\r\n        flattenAndReturnTail(head);\r\n        return head;\r\n    }\r\n\r\n    public Node flattenAndReturnTail(Node curr) {\r\n        Node tail = null;\r\n        while (curr != null) {\r\n            tail = curr;\r\n            Node next = curr.next;\r\n            if (curr.child != null) {\r\n                tail = flattenAndReturnTail(curr.child);\r\n                // Link child&#39;s tail\r\n                tail.next = next;\r\n                if (next != null) {\r\n                    next.prev = tail;\r\n                }\r\n                // Link child&#39;s head (i.e. curr.child)\r\n                curr.next = curr.child;\r\n                curr.child.prev = curr;\r\n                curr.child = null;\r\n            }\r\n            curr = next;\r\n        }\r\n        return tail;\r\n    }\r\n}\r\n```","title":"Time complexity of this code that flattens a multilevel doubly linked list","body":"<p>An example worst case in terms of 𝑛 (number of nodes) is when all nodes are in a vertical dependency</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n|\n2\n|\n3\n|\n4\n|\n5\n|\n6\n</code></pre>\n<p>Here, none of the nodes has a <code>next</code> node.</p>\n<p>Each time a recursive call unwinds, the new bottom level will have one more node. That bottom level is then traversed again. We can thus say that the statement <code>child = child.next;</code> is executed this many times:</p>\n<p>      0 + 1 + 2 + ... + 𝑛−1 = O(𝑛²)</p>\n<p>You could adapt the algorithm so that your function returns the <em>tail</em> node of the child level. The top level call would ignore this return value from recursion and still return the head. That way you don't have to traverse the child list again.</p>\n<p>Here is the adapted code, which has a O(𝑛) time complexity now:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Solution {\n    public Node flatten(Node head) {\n        flattenAndReturnTail(head);\n        return head;\n    }\n\n    public Node flattenAndReturnTail(Node curr) {\n        Node tail = null;\n        while (curr != null) {\n            tail = curr;\n            Node next = curr.next;\n            if (curr.child != null) {\n                tail = flattenAndReturnTail(curr.child);\n                // Link child's tail\n                tail.next = next;\n                if (next != null) {\n                    next.prev = tail;\n                }\n                // Link child's head (i.e. curr.child)\n                curr.next = curr.child;\n                curr.child.prev = curr;\n                curr.child = null;\n            }\n            curr = next;\n        }\n        return tail;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14385183,"reputation":493,"user_id":10391394,"display_name":"Vaishnavi Killekar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76634753,"answer_count":1,"score":2,"last_activity_date":1688803253,"creation_date":1688701483,"question_id":76633820,"body_markdown":"I was solving this LeetCode question - [Flatten a Multilevel Doubly Linked List][1]:\r\n\r\n&gt; You are given a doubly linked list, which contains nodes that have a next pointer, a previous pointer, and an additional **child pointer**. This child pointer may or may not point to a separate doubly linked list, also containing these special nodes. These child lists may have one or more children of their own, and so on, to produce a **multilevel data structure** as shown in the example below.\r\n&gt; \r\n&gt; Given the `head` of the first level of the list, **flatten** the list so that all the nodes appear in a single-level, doubly linked list. Let `curr` be a node with a child list. The nodes in the child list should appear **after** `curr` and **before** `curr.next` in the flattened list.\r\n&gt; \r\n&gt; Return *the* `head` *of the flattened list. The nodes in the list must have **all** of their child pointers set to `null`*.\r\n&gt;\r\n&gt; ### Example 1\r\n&gt;\r\n&gt; [![enter image description here][2]][2]\r\n&gt; \r\n&gt; **Input:** `head = [1,2,3,4,5,6,null,null,null,7,8,9,10,null,null,11,12]`&lt;br&gt;\r\n&gt; **Output:** `[1,2,3,7,8,11,12,9,10,4,5,6]`&lt;br&gt;\r\n&gt; **Explanation:** The multilevel linked list in the input is shown.&lt;br&gt;\r\nAfter flattening the multilevel linked list it becomes:\r\n&gt; [![enter image description here][3]][3]\r\n\r\nI have come up with below solution:\r\n\r\n```\r\nclass Solution {\r\n    public Node flatten(Node head) {\r\n        if(head == null) {\r\n            return head;\r\n        }\r\n        \r\n        Node curr = head;\r\n        Node prev = curr.prev;\r\n        Node next = curr.next;\r\n\r\n        while(curr != null) {\r\n            if(curr.child != null) {\r\n                Node child = flatten(curr.child);\r\n                // Get the last node of the child list\r\n                while(child.next != null) {\r\n                    child = child.next;\r\n                }\r\n                Node tail = child;\r\n                curr.next = curr.child;\r\n                curr.child.prev = curr;\r\n                tail.next = next;\r\n                if(next != null) {\r\n                    next.prev = tail;\r\n                }\r\n                curr.child = null;\r\n            }\r\n            // Move to next node\r\n            prev = next != null ? next.prev : curr;\r\n            curr = next;\r\n            next = next != null ? next.next : null;\r\n        }\r\n\r\n        return head;\r\n    }\r\n}\r\n```\r\n\r\n## Question \r\n\r\nWhat would be the worst case time complexity of my solution? \r\n\r\nSince I&#39;m iterating through children to get the tail, I think it could get bad if all nodes had children, but I don&#39;t see how to derive the time complexity.\r\n\r\nFor example:\r\n\r\n```\r\n1 &lt;-&gt; 2 &lt;-&gt; 3 &lt;-&gt; 4\r\n|     |     |     |\r\n5     6     7     8\r\n|     |     |     |\r\n9     10    11    12\r\n|     |     |     |\r\n13    14    15    16\r\n\r\n1 &lt;-&gt; 2 &lt;-&gt; 3 &lt;-&gt; 4 ...\r\n|     |     |     |\r\n5     6     7     8 &lt;-&gt; 17 &lt;-&gt; 19\r\n|     |     |     |      |      |\r\n9     10    11    12    18     20 ...\r\n|     |     |     |      .      .\r\n13    14    15    16     .      .\r\n```\r\n\r\n\r\n  [1]: https://leetcode.com/problems/flatten-a-multilevel-doubly-linked-list/description/\r\n  [2]: https://i.stack.imgur.com/Mpo0m.png\r\n  [3]: https://i.stack.imgur.com/ppmDY.png","title":"Time complexity of this code that flattens a multilevel doubly linked list","body":"<p>I was solving this LeetCode question - <a href=\"https://leetcode.com/problems/flatten-a-multilevel-doubly-linked-list/description/\" rel=\"nofollow noreferrer\">Flatten a Multilevel Doubly Linked List</a>:</p>\n<blockquote>\n<p>You are given a doubly linked list, which contains nodes that have a next pointer, a previous pointer, and an additional <strong>child pointer</strong>. This child pointer may or may not point to a separate doubly linked list, also containing these special nodes. These child lists may have one or more children of their own, and so on, to produce a <strong>multilevel data structure</strong> as shown in the example below.</p>\n<p>Given the <code>head</code> of the first level of the list, <strong>flatten</strong> the list so that all the nodes appear in a single-level, doubly linked list. Let <code>curr</code> be a node with a child list. The nodes in the child list should appear <strong>after</strong> <code>curr</code> and <strong>before</strong> <code>curr.next</code> in the flattened list.</p>\n<p>Return <em>the</em> <code>head</code> <em>of the flattened list. The nodes in the list must have <strong>all</strong> of their child pointers set to <code>null</code></em>.</p>\n<h3>Example 1</h3>\n<p><a href=\"https://i.stack.imgur.com/Mpo0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mpo0m.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Input:</strong> <code>head = [1,2,3,4,5,6,null,null,null,7,8,9,10,null,null,11,12]</code><br>\n<strong>Output:</strong> <code>[1,2,3,7,8,11,12,9,10,4,5,6]</code><br>\n<strong>Explanation:</strong> The multilevel linked list in the input is shown.<br>\nAfter flattening the multilevel linked list it becomes:\n<a href=\"https://i.stack.imgur.com/ppmDY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ppmDY.png\" alt=\"enter image description here\" /></a></p>\n</blockquote>\n<p>I have come up with below solution:</p>\n<pre><code>class Solution {\n    public Node flatten(Node head) {\n        if(head == null) {\n            return head;\n        }\n        \n        Node curr = head;\n        Node prev = curr.prev;\n        Node next = curr.next;\n\n        while(curr != null) {\n            if(curr.child != null) {\n                Node child = flatten(curr.child);\n                // Get the last node of the child list\n                while(child.next != null) {\n                    child = child.next;\n                }\n                Node tail = child;\n                curr.next = curr.child;\n                curr.child.prev = curr;\n                tail.next = next;\n                if(next != null) {\n                    next.prev = tail;\n                }\n                curr.child = null;\n            }\n            // Move to next node\n            prev = next != null ? next.prev : curr;\n            curr = next;\n            next = next != null ? next.next : null;\n        }\n\n        return head;\n    }\n}\n</code></pre>\n<h2>Question</h2>\n<p>What would be the worst case time complexity of my solution?</p>\n<p>Since I'm iterating through children to get the tail, I think it could get bad if all nodes had children, but I don't see how to derive the time complexity.</p>\n<p>For example:</p>\n<pre><code>1 &lt;-&gt; 2 &lt;-&gt; 3 &lt;-&gt; 4\n|     |     |     |\n5     6     7     8\n|     |     |     |\n9     10    11    12\n|     |     |     |\n13    14    15    16\n\n1 &lt;-&gt; 2 &lt;-&gt; 3 &lt;-&gt; 4 ...\n|     |     |     |\n5     6     7     8 &lt;-&gt; 17 &lt;-&gt; 19\n|     |     |     |      |      |\n9     10    11    12    18     20 ...\n|     |     |     |      .      .\n13    14    15    16     .      .\n</code></pre>\n"},{"tags":["java","gradle","user-defined-functions","ksqldb","user-defined-aggregate"],"comments":[{"owner":{"account_id":4338389,"reputation":1320,"user_id":3542319,"display_name":"GeoJim"},"score":0,"creation_date":1673574840,"post_id":75082001,"comment_id":132535745,"body_markdown":"Sorry for the trouble.  As an alternative, could you try the ksqlDB UDF Quickstart project here https://github.com/confluentinc/ksql/blob/master/ksqldb-udf-quickstart/README.md ?","body":"Sorry for the trouble.  As an alternative, could you try the ksqlDB UDF Quickstart project here <a href=\"https://github.com/confluentinc/ksql/blob/master/ksqldb-udf-quickstart/README.md\" rel=\"nofollow noreferrer\">github.com/confluentinc/ksql/blob/master/ksqldb-udf-quicksta&zwnj;&#8203;rt/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":4442189,"reputation":295,"user_id":3616491,"accept_rate":78,"display_name":"Hansanho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673598386,"creation_date":1673598386,"answer_id":75106576,"question_id":75082001,"body_markdown":"I am able to submit the UDAF with param,aggregate and return Schema without an annotationParser Exception after downgrading from:\r\n\r\n        implementation &quot;io.confluent.ksql:ksqldb-udf:7.3.0&quot;\r\n\r\nto:\r\n\r\n        implementation &quot;io.confluent.ksql:ksqldb-udf:5.5.1&quot;\r\n\r\n\r\n\r\n","title":"KSQLDB: write custom UDAF with struct type (annotationparser exception)","body":"<p>I am able to submit the UDAF with param,aggregate and return Schema without an annotationParser Exception after downgrading from:</p>\n<pre><code>    implementation &quot;io.confluent.ksql:ksqldb-udf:7.3.0&quot;\n</code></pre>\n<p>to:</p>\n<pre><code>    implementation &quot;io.confluent.ksql:ksqldb-udf:5.5.1&quot;\n</code></pre>\n"}],"owner":{"account_id":4442189,"reputation":295,"user_id":3616491,"accept_rate":78,"display_name":"Hansanho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75106576,"answer_count":1,"score":0,"last_activity_date":1688801872,"creation_date":1673434834,"question_id":75082001,"body_markdown":"Im trying to write a custom UDAF for KSQLDB.\r\n\r\nFirst i wanted to try out the example: [https://docs.ksqldb.io/en/latest/how-to-guides/create-a-user-defined-function/#implement-the-class][1]\r\n\r\nThe Schemas of the structs will be submited via the Schemas_describtor.\r\n&quot;This communicates the underlying types to ksqlDB in a way that its type system can understand.&quot;\r\nF.E  \r\n\r\n     @UdafFactory(description = &quot;describtonOfFunction&quot;,\r\n                       paramSchema = PARAM_SCHEMA_DESCRIPTOR,\r\n                       aggregateSchema = AGGREGATE_SCHEMA_DESCRIPTOR,\r\n                       returnSchema = RETURN_SCHEMA_DESCRIPTOR)`\r\n\r\nWhen i build the shadowJar and submit it to ksqldbs extension_dir without the Schemas(param,aggregate and return), KSQLDB is starting up with no errors and the function is showing up. I need to use structs, so i need to submit a schema to ksqldb. When i add the SchemaDescriptor to the UDAF Factory, i get a null pointer exception from Java and an annotationParser exception. SchemaBuilder and descriptor, gradle and logs below:\r\n\r\n\r\n        public static final Schema PARAM_SCHEMA = SchemaBuilder.struct().optional()\r\n        .field(&quot;C&quot;, Schema.OPTIONAL_INT64_SCHEMA)\r\n        .build();\r\n\r\n    public static final String PARAM_SCHEMA_DESCRIPTOR = &quot;STRUCT&lt;&quot; +\r\n        &quot;C BIGINT&quot; +\r\n        &quot;&gt;&quot;;\r\n\r\n    public static final Schema AGGREGATE_SCHEMA = SchemaBuilder.struct().optional()\r\n        .field(&quot;MIN&quot;, Schema.OPTIONAL_INT64_SCHEMA)\r\n        .field(&quot;MAX&quot;, Schema.OPTIONAL_INT64_SCHEMA)\r\n        .field(&quot;COUNT&quot;, Schema.OPTIONAL_INT64_SCHEMA)\r\n        .build();\r\n\r\n    public static final String AGGREGATE_SCHEMA_DESCRIPTOR = &quot;STRUCT&lt;&quot; +\r\n        &quot;MIN BIGINT,&quot; +\r\n        &quot;MAX BIGINT,&quot; +\r\n        &quot;COUNT BIGINT&quot; +\r\n        &quot;&gt;&quot;;\r\n\r\n    public static final Schema RETURN_SCHEMA = SchemaBuilder.struct().optional()\r\n        .field(&quot;MIN&quot;, Schema.OPTIONAL_INT64_SCHEMA)\r\n        .field(&quot;MAX&quot;, Schema.OPTIONAL_INT64_SCHEMA)\r\n        .field(&quot;COUNT&quot;, Schema.OPTIONAL_INT64_SCHEMA)\r\n        .field(&quot;DIFFERENTIAL&quot;, Schema.OPTIONAL_INT64_SCHEMA)\r\n        .build();\r\n\r\n    public static final String RETURN_SCHEMA_DESCRIPTOR = &quot;STRUCT&lt;&quot; +\r\n        &quot;MIN BIGINT,&quot; +\r\n        &quot;MAX BIGINT,&quot; +\r\n        &quot;COUNT BIGINT,&quot; +\r\n        &quot;DIFFERENTIAL BIGINT&quot; +\r\n        &quot;&gt;&quot;;\r\n\r\n (I just copied the class from the example)\r\n\r\nError Log of KSQLDB:\r\n\r\n        `java.lang.NullPointerException\r\n        at java.base/sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:533)\r\n       at java.base/sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:356)\r\n        at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:287)\r\n        at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:121)\r\n        at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:73)\r\n        at java.base/java.lang.reflect.Executable.declaredAnnotations(Executable.java:604)\r\n         at java.base/java.lang.reflect.Executable.declaredAnnotations(Executable.java:602)\r\n        at java.base/java.lang.reflect.Executable.getAnnotation(Executable.java:572)\r\n         at java.base/java.lang.reflect.Method.getAnnotation(Method.java:695)\r\n         at io.confluent.ksql.function.UdafLoader.loadUdafFromClass(UdafLoader.java:59)\r\n        at io.confluent.ksql.function.UserFunctionLoader.loadFunctions(UserFunctionLoader.java:124)\r\n        at io.confluent.ksql.function.UserFunctionLoader.lambda$load$2(UserFunctionLoader.java:97)\r\n         at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n         at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n        at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n        at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n        at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n         at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n         at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n         at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n         at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n         at io.confluent.ksql.function.UserFunctionLoader.load(UserFunctionLoader.java:96)\r\n         at io.confluent.ksql.rest.server.KsqlServerMain.loadFunctions(KsqlServerMain.java:133)\r\n         at io.confluent.ksql.rest.server.KsqlServerMain.main(KsqlServerMain.java:80)`\r\n\r\n\r\nMy Gradle Build file has the following dependecies:\r\n\r\n    dependencies {\r\n    implementation &quot;io.confluent.ksql:ksqldb-udf:7.3.0&quot;\r\n    implementation &quot;org.apache.kafka:kafka_2.13:2.5.0&quot;\r\n    implementation &quot;org.apache.kafka:connect-api:3.3.1&quot;}\r\n\r\nI really dont know why KSQLDB cant parse the Schema (Its a provided example class from KSQLDB)...\r\n\r\n  [1]: https://docs.ksqldb.io/en/latest/how-to-guides/create-a-user-defined-function/#implement-the-class","title":"KSQLDB: write custom UDAF with struct type (annotationparser exception)","body":"<p>Im trying to write a custom UDAF for KSQLDB.</p>\n<p>First i wanted to try out the example: <a href=\"https://docs.ksqldb.io/en/latest/how-to-guides/create-a-user-defined-function/#implement-the-class\" rel=\"nofollow noreferrer\">https://docs.ksqldb.io/en/latest/how-to-guides/create-a-user-defined-function/#implement-the-class</a></p>\n<p>The Schemas of the structs will be submited via the Schemas_describtor.\n&quot;This communicates the underlying types to ksqlDB in a way that its type system can understand.&quot;\nF.E</p>\n<pre><code> @UdafFactory(description = &quot;describtonOfFunction&quot;,\n                   paramSchema = PARAM_SCHEMA_DESCRIPTOR,\n                   aggregateSchema = AGGREGATE_SCHEMA_DESCRIPTOR,\n                   returnSchema = RETURN_SCHEMA_DESCRIPTOR)`\n</code></pre>\n<p>When i build the shadowJar and submit it to ksqldbs extension_dir without the Schemas(param,aggregate and return), KSQLDB is starting up with no errors and the function is showing up. I need to use structs, so i need to submit a schema to ksqldb. When i add the SchemaDescriptor to the UDAF Factory, i get a null pointer exception from Java and an annotationParser exception. SchemaBuilder and descriptor, gradle and logs below:</p>\n<pre><code>    public static final Schema PARAM_SCHEMA = SchemaBuilder.struct().optional()\n    .field(&quot;C&quot;, Schema.OPTIONAL_INT64_SCHEMA)\n    .build();\n\npublic static final String PARAM_SCHEMA_DESCRIPTOR = &quot;STRUCT&lt;&quot; +\n    &quot;C BIGINT&quot; +\n    &quot;&gt;&quot;;\n\npublic static final Schema AGGREGATE_SCHEMA = SchemaBuilder.struct().optional()\n    .field(&quot;MIN&quot;, Schema.OPTIONAL_INT64_SCHEMA)\n    .field(&quot;MAX&quot;, Schema.OPTIONAL_INT64_SCHEMA)\n    .field(&quot;COUNT&quot;, Schema.OPTIONAL_INT64_SCHEMA)\n    .build();\n\npublic static final String AGGREGATE_SCHEMA_DESCRIPTOR = &quot;STRUCT&lt;&quot; +\n    &quot;MIN BIGINT,&quot; +\n    &quot;MAX BIGINT,&quot; +\n    &quot;COUNT BIGINT&quot; +\n    &quot;&gt;&quot;;\n\npublic static final Schema RETURN_SCHEMA = SchemaBuilder.struct().optional()\n    .field(&quot;MIN&quot;, Schema.OPTIONAL_INT64_SCHEMA)\n    .field(&quot;MAX&quot;, Schema.OPTIONAL_INT64_SCHEMA)\n    .field(&quot;COUNT&quot;, Schema.OPTIONAL_INT64_SCHEMA)\n    .field(&quot;DIFFERENTIAL&quot;, Schema.OPTIONAL_INT64_SCHEMA)\n    .build();\n\npublic static final String RETURN_SCHEMA_DESCRIPTOR = &quot;STRUCT&lt;&quot; +\n    &quot;MIN BIGINT,&quot; +\n    &quot;MAX BIGINT,&quot; +\n    &quot;COUNT BIGINT,&quot; +\n    &quot;DIFFERENTIAL BIGINT&quot; +\n    &quot;&gt;&quot;;\n</code></pre>\n<p>(I just copied the class from the example)</p>\n<p>Error Log of KSQLDB:</p>\n<pre><code>    `java.lang.NullPointerException\n    at java.base/sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:533)\n   at java.base/sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:356)\n    at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotation2(AnnotationParser.java:287)\n    at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:121)\n    at java.base/sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:73)\n    at java.base/java.lang.reflect.Executable.declaredAnnotations(Executable.java:604)\n     at java.base/java.lang.reflect.Executable.declaredAnnotations(Executable.java:602)\n    at java.base/java.lang.reflect.Executable.getAnnotation(Executable.java:572)\n     at java.base/java.lang.reflect.Method.getAnnotation(Method.java:695)\n     at io.confluent.ksql.function.UdafLoader.loadUdafFromClass(UdafLoader.java:59)\n    at io.confluent.ksql.function.UserFunctionLoader.loadFunctions(UserFunctionLoader.java:124)\n    at io.confluent.ksql.function.UserFunctionLoader.lambda$load$2(UserFunctionLoader.java:97)\n     at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n     at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n     at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n     at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n     at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n     at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n     at io.confluent.ksql.function.UserFunctionLoader.load(UserFunctionLoader.java:96)\n     at io.confluent.ksql.rest.server.KsqlServerMain.loadFunctions(KsqlServerMain.java:133)\n     at io.confluent.ksql.rest.server.KsqlServerMain.main(KsqlServerMain.java:80)`\n</code></pre>\n<p>My Gradle Build file has the following dependecies:</p>\n<pre><code>dependencies {\nimplementation &quot;io.confluent.ksql:ksqldb-udf:7.3.0&quot;\nimplementation &quot;org.apache.kafka:kafka_2.13:2.5.0&quot;\nimplementation &quot;org.apache.kafka:connect-api:3.3.1&quot;}\n</code></pre>\n<p>I really dont know why KSQLDB cant parse the Schema (Its a provided example class from KSQLDB)...</p>\n"},{"tags":["java","cucumber","cucumber-jvm","cucumber-java"],"comments":[{"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":1,"creation_date":1688801541,"post_id":76635869,"comment_id":135125132,"body_markdown":"If I understand correctly you have two conflicting classes in your classpath (all classes you load), only one will be loaded and the JVM will choose which one, Cucumber has no way to interact at this level.","body":"If I understand correctly you have two conflicting classes in your classpath (all classes you load), only one will be loaded and the JVM will choose which one, Cucumber has no way to interact at this level."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1688813034,"post_id":76635869,"comment_id":135126194,"body_markdown":"Why do you have two dependencies with the same package name and class name? What do you mean by &quot;conflict between those two packages&quot;? What do you expect to get (what would be the criteria of picking one dependency instead of another) ?","body":"Why do you have two dependencies with the same package name and class name? What do you mean by &quot;conflict between those two packages&quot;? What do you expect to get (what would be the criteria of picking one dependency instead of another) ?"},{"owner":{"account_id":28969176,"reputation":1,"user_id":22189881,"display_name":"Tatiana Povodova"},"score":0,"creation_date":1688893309,"post_id":76635869,"comment_id":135132976,"body_markdown":"Yes,\n\nI have setup like this\n        &lt;dependency&gt;\n            &lt;groupId&gt;gr1&lt;/groupId&gt;\n            &lt;artifactId&gt;atr1&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;gr2&lt;/groupId&gt;\n            &lt;artifactId&gt;atr3&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\nEach of this dependency has a package with identical name and path. I wish to use in glue only package from the first dependency. Is it possible to configure?","body":"Yes,  I have setup like this         &lt;dependency&gt;             &lt;groupId&gt;gr1&lt;/groupId&gt;             &lt;artifactId&gt;atr1&lt;/artifactId&gt;         &lt;/dependency&gt;         &lt;dependency&gt;             &lt;groupId&gt;gr2&lt;/groupId&gt;             &lt;artifactId&gt;atr3&lt;/artifactId&gt;         &lt;/dependency&gt;  Each of this dependency has a package with identical name and path. I wish to use in glue only package from the first dependency. Is it possible to configure?"}],"owner":{"account_id":28969176,"reputation":1,"user_id":22189881,"display_name":"Tatiana Povodova"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688801548,"creation_date":1688723609,"question_id":76635869,"body_markdown":"I have two dependency in my project which contain classes with the same name and the same path. But when I put package path into the glue I get a conflict between those two packages.\r\n\r\nIs there a way to configure glue to access only one of the dependencies? ","title":"Cucumber glue configuration when there are two dependency with the same package path","body":"<p>I have two dependency in my project which contain classes with the same name and the same path. But when I put package path into the glue I get a conflict between those two packages.</p>\n<p>Is there a way to configure glue to access only one of the dependencies?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1688763990,"post_id":76638919,"comment_id":135122505,"body_markdown":"please enable DEBUG logs and update your question with debug logs. Also include what the actual error message is and what is happening than just writing &quot;i cant access&quot; which is a terrible way of describing what problems you have.","body":"please enable DEBUG logs and update your question with debug logs. Also include what the actual error message is and what is happening than just writing &quot;i cant access&quot; which is a terrible way of describing what problems you have."}],"answers":[{"tags":[],"owner":{"account_id":2704909,"reputation":123,"user_id":2334703,"accept_rate":71,"display_name":"Kazi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1688753899,"creation_date":1688753899,"answer_id":76639365,"question_id":76638919,"body_markdown":"A good way is to separate the access types by creating different `SecurityFilterChain` beans.\r\n\r\nBelow is an example of your `ResourceServerConfig ` class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class ResourceServerConfig {\r\n    \r\n    \r\n        @Bean\r\n        @Order(1)\r\n        public SecurityFilterChain filterChain1(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeHttpRequests(authorize -&gt; { authorize\r\n                            .anyRequest().authenticated();\r\n                    }).authenticationManager(new CustomAuthenticationManager());\r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        @Order(2)\r\n        public SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeHttpRequests(authorize -&gt; { authorize\r\n                            .requestMatchers(HttpMethod.GET, &quot;/unsecured/**&quot;).permitAll();\r\n                    });\r\n            return http.build();\r\n        }  \r\n    }\r\n\r\n\r\n","title":"Why isn&#39;t my Spring Security config not permitting access?","body":"<p>A good way is to separate the access types by creating different <code>SecurityFilterChain</code> beans.</p>\n<p>Below is an example of your <code>ResourceServerConfig </code> class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ResourceServerConfig {\n\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain filterChain1(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; { authorize\n                        .anyRequest().authenticated();\n                }).authenticationManager(new CustomAuthenticationManager());\n        return http.build();\n    }\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; { authorize\n                        .requestMatchers(HttpMethod.GET, &quot;/unsecured/**&quot;).permitAll();\n                });\n        return http.build();\n    }  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1215292,"reputation":1099,"user_id":1183016,"accept_rate":81,"display_name":"Alan Smith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688801248,"creation_date":1688801248,"answer_id":76641823,"question_id":76638919,"body_markdown":"I got it. Just had to understand more how it works. I find that the docs aren&#39;t very intuitive.\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(&quot;/unsecured/**&quot;).permitAll()\r\n                        .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)\r\n                        .anyRequest().denyAll()) // deny everything except for the above\r\n                .httpBasic(withDefaults());\r\n        return http.build();\r\n    }\r\n```","title":"Why isn&#39;t my Spring Security config not permitting access?","body":"<p>I got it. Just had to understand more how it works. I find that the docs aren't very intuitive.</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(&quot;/unsecured/**&quot;).permitAll()\n                        .requestMatchers(&quot;/**&quot;).hasRole(&quot;USER&quot;)\n                        .anyRequest().denyAll()) // deny everything except for the above\n                .httpBasic(withDefaults());\n        return http.build();\n    }\n</code></pre>\n"}],"owner":{"account_id":1215292,"reputation":1099,"user_id":1183016,"accept_rate":81,"display_name":"Alan Smith"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688801248,"creation_date":1688749435,"question_id":76638919,"body_markdown":"I have a very simple example that I am working with.\r\n\r\nA RestController:\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/unsecured&quot;)\r\npublic class UnsecuredController {\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;Hello!&quot;;\r\n    }\r\n\r\n}\r\n```\r\nand a class with my security configuration:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class ResourceServerConfig {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests(authorize -&gt; authorize\r\n                        .requestMatchers(HttpMethod.GET, &quot;/unsecured/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                );\r\n        return http.build();\r\n    }\r\n}\r\n```\r\nI want localhost:8080/unsecured/hello to be accessible and everything else blocked (I have other controllers with basic String returned).\r\n\r\nWhat am I missing here?  I am using the spring boot spring-boot-starter-security 3.1.1, which pulls in spring security 6.1.1.\r\n\r\n```\r\n[INFO] +- org.springframework.boot:spring-boot-starter-security:jar:3.1.1:compile\r\n[INFO] |  +- org.springframework:spring-aop:jar:6.0.10:compile\r\n[INFO] |  \\- org.springframework.security:spring-security-web:jar:6.1.1:compile\r\n```\r\nThanks","title":"Why isn&#39;t my Spring Security config not permitting access?","body":"<p>I have a very simple example that I am working with.</p>\n<p>A RestController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/unsecured&quot;)\npublic class UnsecuredController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello!&quot;;\n    }\n\n}\n</code></pre>\n<p>and a class with my security configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ResourceServerConfig {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests(authorize -&gt; authorize\n                        .requestMatchers(HttpMethod.GET, &quot;/unsecured/**&quot;).permitAll()\n                        .anyRequest().authenticated()\n                );\n        return http.build();\n    }\n}\n</code></pre>\n<p>I want localhost:8080/unsecured/hello to be accessible and everything else blocked (I have other controllers with basic String returned).</p>\n<p>What am I missing here?  I am using the spring boot spring-boot-starter-security 3.1.1, which pulls in spring security 6.1.1.</p>\n<pre><code>[INFO] +- org.springframework.boot:spring-boot-starter-security:jar:3.1.1:compile\n[INFO] |  +- org.springframework:spring-aop:jar:6.0.10:compile\n[INFO] |  \\- org.springframework.security:spring-security-web:jar:6.1.1:compile\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","unit-testing","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688801195,"creation_date":1688801195,"answer_id":76641820,"question_id":76637523,"body_markdown":"Mocking the method using `mockStatic` will not work in this case, because the moment `Mockito.mockStatic(MyClass.class)` is executed, the class is initialized and the method you would like to mock is called already to initialize the static field. If you wanted to mock the method call, the `try` block would have to be around the tested code (see: [for example here][1]).\r\n\r\nSince `MY_STATIC_BOOL` is not `final`, we can simply set its value using reflection (if it was final it would be also possible, yet not that easy, see: [here][2] or [here][3]).\r\n\r\nI modified the tested code for the sake of the test:\r\n```java\r\npublic String doSomething() {\r\n    if (MY_STATIC_BOOL) {\r\n        return &quot;Success&quot;;\r\n    }\r\n    return &quot;Failure&quot;;\r\n}\r\n```\r\n\r\nand here&#39;s the test:\r\n```java\r\n@Test\r\nvoid shouldDoSth() throws Exception {\r\n    var staticField = MyClass.class.getDeclaredField(&quot;MY_STATIC_BOOL&quot;);\r\n    staticField.setAccessible(true);\r\n    staticField.set(null, true);\r\n\r\n    var result = myClass.doSomething();\r\n\r\n    assertEquals(&quot;Success&quot;, result);\r\n}\r\n```\r\nTo avoid interfering with other tests, resetting the field with the original value would be advised (for example in `@AfterAll` method or using `try-finally` blocks).\r\n\r\n---\r\n\r\nAnother option, which also works if the field is `final` is using [System Stubs library][4]:\r\n\r\n```java\r\n@ExtendWith(SystemStubsExtension.class)\r\nclass MyClassWithSystemStubsTest {\r\n\r\n    @SystemStub\r\n    EnvironmentVariables environment;\r\n\r\n    @Test\r\n    void theTest() {\r\n        environment.set(&quot;foo&quot;, &quot;true&quot;);\r\n        MyClass myClass = new MyClass();\r\n\r\n        var result = myClass.doSomething();\r\n\r\n        assertEquals(&quot;Success&quot;, result);\r\n    }\r\n}\r\n```\r\n\r\nNote that the environment should be set before creating the tested class object (`myClass`), because the class (and the static field) is initialized then, so the instance cannot be created as a field in the test for this to work, unless you use:\r\n\r\n```java\r\n@SystemStub\r\nstatic EnvironmentVariables testWideVariables = new EnvironmentVariables(&quot;foo&quot;, &quot;true&quot;);\r\n```\r\n*(see docs in the link above)*\r\n\r\n---\r\n\r\nYou can find both tests described above in [this GitHub repository][5] - all tests pass.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76575535/3305737\r\n  [2]: https://stackoverflow.com/a/3301720/3305737\r\n  [3]: https://stackoverflow.com/a/61150853/3305737\r\n  [4]: https://github.com/webcompere/system-stubs/blob/main/system-stubs-jupiter/README.md\r\n  [5]: https://github.com/Jonarzz/stack-overflow/commit/7188fe397345e35bbe15d6ea44830b28fd8e7785","title":"Mock a method in the class under test without PowerMockito","body":"<p>Mocking the method using <code>mockStatic</code> will not work in this case, because the moment <code>Mockito.mockStatic(MyClass.class)</code> is executed, the class is initialized and the method you would like to mock is called already to initialize the static field. If you wanted to mock the method call, the <code>try</code> block would have to be around the tested code (see: <a href=\"https://stackoverflow.com/a/76575535/3305737\">for example here</a>).</p>\n<p>Since <code>MY_STATIC_BOOL</code> is not <code>final</code>, we can simply set its value using reflection (if it was final it would be also possible, yet not that easy, see: <a href=\"https://stackoverflow.com/a/3301720/3305737\">here</a> or <a href=\"https://stackoverflow.com/a/61150853/3305737\">here</a>).</p>\n<p>I modified the tested code for the sake of the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String doSomething() {\n    if (MY_STATIC_BOOL) {\n        return &quot;Success&quot;;\n    }\n    return &quot;Failure&quot;;\n}\n</code></pre>\n<p>and here's the test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid shouldDoSth() throws Exception {\n    var staticField = MyClass.class.getDeclaredField(&quot;MY_STATIC_BOOL&quot;);\n    staticField.setAccessible(true);\n    staticField.set(null, true);\n\n    var result = myClass.doSomething();\n\n    assertEquals(&quot;Success&quot;, result);\n}\n</code></pre>\n<p>To avoid interfering with other tests, resetting the field with the original value would be advised (for example in <code>@AfterAll</code> method or using <code>try-finally</code> blocks).</p>\n<hr />\n<p>Another option, which also works if the field is <code>final</code> is using <a href=\"https://github.com/webcompere/system-stubs/blob/main/system-stubs-jupiter/README.md\" rel=\"nofollow noreferrer\">System Stubs library</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SystemStubsExtension.class)\nclass MyClassWithSystemStubsTest {\n\n    @SystemStub\n    EnvironmentVariables environment;\n\n    @Test\n    void theTest() {\n        environment.set(&quot;foo&quot;, &quot;true&quot;);\n        MyClass myClass = new MyClass();\n\n        var result = myClass.doSomething();\n\n        assertEquals(&quot;Success&quot;, result);\n    }\n}\n</code></pre>\n<p>Note that the environment should be set before creating the tested class object (<code>myClass</code>), because the class (and the static field) is initialized then, so the instance cannot be created as a field in the test for this to work, unless you use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SystemStub\nstatic EnvironmentVariables testWideVariables = new EnvironmentVariables(&quot;foo&quot;, &quot;true&quot;);\n</code></pre>\n<p><em>(see docs in the link above)</em></p>\n<hr />\n<p>You can find both tests described above in <a href=\"https://github.com/Jonarzz/stack-overflow/commit/7188fe397345e35bbe15d6ea44830b28fd8e7785\" rel=\"nofollow noreferrer\">this GitHub repository</a> - all tests pass.</p>\n"}],"owner":{"account_id":286491,"reputation":1221,"user_id":585773,"accept_rate":65,"display_name":"LancerX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76641820,"answer_count":1,"score":1,"last_activity_date":1688801195,"creation_date":1688737371,"question_id":76637523,"body_markdown":"I have `MyClass` with \r\n- public `doSomething` - method to be tested\r\n- protected static `getYourStaticBool` - method to be mocked, contains `System.getenv` method which cannot be mocked\r\n- static boolean `MY_STATIC_BOOL` - it has to be static and the value is provided by `getYourStaticBool`\r\n\r\nMyClass: \r\n\r\n      public class MyClass {\r\n    \r\n       private static boolean MY_STATIC_BOOL = getYouStaticBool();\r\n    \r\n       public void doSomething() {\r\n         if (MY_STATIC_BOOL) {\r\n    \t    //....\r\n    \t }\r\n       }\r\n    \r\n       protected static boolean getYourStaticBool() {\r\n         return Optional.ofNullable(System.getenv(&quot;foo&quot;))\r\n             .map(Boolean::parseBoolean)\r\n             .orElse(false);\r\n       }\r\n      }\r\n\r\nNow I want to `doSomething` so I have to mock `getYourStaticBool` to set `MY_STATIC_BOOL` on true.\r\n\r\n      @ExtendWith(MockitoExtension.class)\r\n      public class MyClassTest {\r\n    \r\n       private MyClass myClass = new MyClass();\r\n    \r\n       @BeforeAll\r\n       void static init() {\r\n         try (MockedStatic&lt;MyClass&gt; myClass = Mockito.mockStatic(MyClass.class)) {\r\n           myClass.when(() -&gt; MyClass.getYourStaticBool())\r\n               .thenReturn(true);\r\n         }\r\n       }\r\n      \r\n       @Test\r\n       void shouldDoSth() {\r\n     \tmyClass.doSomething();\r\n       }\r\n      }\r\n\r\nUnfortunately calling `myClass.doSomething()` reveals that `MY_STATIC_BOOL` is false. So the real `getYourStaticBool` is called, not the mocked one.\r\nMaybe should I use spy and mock static `getYourStaticBool`? I can&#39;t use PowerMockito.","title":"Mock a method in the class under test without PowerMockito","body":"<p>I have <code>MyClass</code> with</p>\n<ul>\n<li>public <code>doSomething</code> - method to be tested</li>\n<li>protected static <code>getYourStaticBool</code> - method to be mocked, contains <code>System.getenv</code> method which cannot be mocked</li>\n<li>static boolean <code>MY_STATIC_BOOL</code> - it has to be static and the value is provided by <code>getYourStaticBool</code></li>\n</ul>\n<p>MyClass:</p>\n<pre><code>  public class MyClass {\n\n   private static boolean MY_STATIC_BOOL = getYouStaticBool();\n\n   public void doSomething() {\n     if (MY_STATIC_BOOL) {\n        //....\n     }\n   }\n\n   protected static boolean getYourStaticBool() {\n     return Optional.ofNullable(System.getenv(&quot;foo&quot;))\n         .map(Boolean::parseBoolean)\n         .orElse(false);\n   }\n  }\n</code></pre>\n<p>Now I want to <code>doSomething</code> so I have to mock <code>getYourStaticBool</code> to set <code>MY_STATIC_BOOL</code> on true.</p>\n<pre><code>  @ExtendWith(MockitoExtension.class)\n  public class MyClassTest {\n\n   private MyClass myClass = new MyClass();\n\n   @BeforeAll\n   void static init() {\n     try (MockedStatic&lt;MyClass&gt; myClass = Mockito.mockStatic(MyClass.class)) {\n       myClass.when(() -&gt; MyClass.getYourStaticBool())\n           .thenReturn(true);\n     }\n   }\n  \n   @Test\n   void shouldDoSth() {\n    myClass.doSomething();\n   }\n  }\n</code></pre>\n<p>Unfortunately calling <code>myClass.doSomething()</code> reveals that <code>MY_STATIC_BOOL</code> is false. So the real <code>getYourStaticBool</code> is called, not the mocked one.\nMaybe should I use spy and mock static <code>getYourStaticBool</code>? I can't use PowerMockito.</p>\n"},{"tags":["java","algorithm","pattern-matching"],"comments":[{"owner":{"account_id":306540,"reputation":1801,"user_id":2695990,"display_name":"fascynacja"},"score":0,"creation_date":1683207622,"post_id":76173797,"comment_id":134333757,"body_markdown":"hello and welcome to SO, Please read the guide how to ask questions: https://stackoverflow.com/help/how-to-ask","body":"hello and welcome to SO, Please read the guide how to ask questions: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1683208852,"post_id":76173797,"comment_id":134334117,"body_markdown":"By the way, if you can access the Internet Archive the presentation has been archived [here](https://web.archive.org/web/20150621110105/fastar.org/publications/MScPresentationMartijn.ppt)","body":"By the way, if you can access the Internet Archive the presentation has been archived <a href=\"https://web.archive.org/web/20150621110105/fastar.org/publications/MScPresentationMartijn.ppt\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":22848,"reputation":131588,"user_id":56778,"accept_rate":93,"display_name":"Jim Mischel"},"score":0,"creation_date":1683209690,"post_id":76173797,"comment_id":134334361,"body_markdown":"So a 0 in P is essentially a &quot;don&#39;t care&quot;? Like an asterisk (*) in a regular expression, it&#39;ll match any digit?","body":"So a 0 in P is essentially a &quot;don&#39;t care&quot;? Like an asterisk (*) in a regular expression, it&#39;ll match any digit?"},{"owner":{"account_id":21684098,"reputation":31,"user_id":15999807,"display_name":"gi0rn0"},"score":0,"creation_date":1683210388,"post_id":76173797,"comment_id":134334544,"body_markdown":"@JimMischel Yes, any integer in T will do.","body":"@JimMischel Yes, any integer in T will do."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1683211118,"post_id":76173797,"comment_id":134334757,"body_markdown":"What&#39;s wrong with the obvious naive algorithm? Yes, I could shave a few steps off of that one, but the overhead of the necessary logic probably exceeds the performance win.","body":"What&#39;s wrong with the obvious naive algorithm? Yes, I could shave a few steps off of that one, but the overhead of the necessary logic probably exceeds the performance win."},{"owner":{"account_id":21684098,"reputation":31,"user_id":15999807,"display_name":"gi0rn0"},"score":0,"creation_date":1683212482,"post_id":76173797,"comment_id":134335100,"body_markdown":"@btilly Time complexity of the naive algorithm might be m\\*n\\*u\\*v in this scenario (from https://stackoverflow.com/a/22546663/15999807). This would be very slow if u = m, v = n.","body":"@btilly Time complexity of the naive algorithm might be m*n*u*v in this scenario (from <a href=\"https://stackoverflow.com/a/22546663/15999807\">stackoverflow.com/a/22546663/15999807</a>). This would be very slow if u = m, v = n."},{"owner":{"account_id":286249,"reputation":43941,"user_id":585411,"accept_rate":60,"display_name":"btilly"},"score":0,"creation_date":1683215823,"post_id":76173797,"comment_id":134335999,"body_markdown":"Unless some value is very common, average time is only `O(m*n)`. Don&#39;t optimize prematurely.","body":"Unless some value is very common, average time is only <code>O(m*n)</code>. Don&#39;t optimize prematurely."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1688687687,"post_id":76173797,"comment_id":135111071,"body_markdown":"I&#39;ve updated the Q &amp; A in the question you linked (https://stackoverflow.com/questions/3466370/2d-pattern-search-algorithms) to fix the broken links. Does it answer your question now?","body":"I&#39;ve updated the Q &amp; A in the question you linked (<a href=\"https://stackoverflow.com/questions/3466370/2d-pattern-search-algorithms\" title=\"2d pattern search algorithms\">stackoverflow.com/questions/3466370/&hellip;</a>) to fix the broken links. Does it answer your question now?"}],"answers":[{"tags":[],"owner":{"account_id":15586948,"reputation":512,"user_id":22056798,"display_name":"maxplus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688800471,"creation_date":1688686551,"answer_id":76633101,"question_id":76173797,"body_markdown":"The structure of this problem resembles 2D convolution: a kernel is applied at every possible position to a 2D array, some value is calculated based on corresponding elements (equality) and these values are further processed (filtering out incomplete matches). And 2D convolution indeed gives a solution to this problem in ![`O(n * m * log(n * m))`](https://chart.googleapis.com/chart?cht=tx&amp;chl=O(n{}m{}\\log{n{}m})) time for any input. (this complexity is a simplification reasonable in practice, more in the last section)\r\n\r\n## Reduction to bivariate polynomial multiplication over ![`Z/p`](https://chart.googleapis.com/chart?cht=tx&amp;chl=\\mathbb{Z}_p)\r\n\r\nLet&#39;s define polynomials describing the array to be searched in and the pattern:\r\n\r\n![`T(x, y) = Σ T[i][j] x^i y^j`](https://chart.googleapis.com/chart?cht=tx&amp;chl=T(x,y)=\\sum_{i,j}{T[i][j]x^iy^j})\r\n\r\n![`P(x, y) = Σ P[u-i-1][v-j-1] x^i y^j`](https://chart.googleapis.com/chart?cht=tx&amp;chl=P(x,y)=\\sum_{i,j}{P[u-i-1][v-j-1]x^iy^j})\r\n\r\n`P[][]` is essentially rotated 180&#176;. Their product is:\r\n\r\n![`M(x, y) = Σ T[i][j] P[u-i-1][v-j-1] x^(i+k) y^(j+l)`](https://chart.googleapis.com/chart?cht=tx&amp;chl=M(x,y)=\\sum_{i,j,k,l}{T[i][j]P[u-k-1][v-l-1]x^{i{%2b}k}y^{j{%2b}l}})\r\n\r\nWhat is the coefficient of ![`x^(u-1) y^(v-1)`](https://chart.googleapis.com/chart?cht=tx&amp;chl=x^{u-1}{}y^{v-1}) equal to? It&#39;s a sum of `u * v` products between `P[][]` and `T[][]` elements, where `T[i][j]` is multiplied with `P[i][j]` with `0 &lt;= i &lt; u`, `0 &lt;= j &lt; v`.\r\n\r\nSimilarly for all `0 &lt;= k &lt;= m - u`, `0 &lt;= l &lt;= n - v`, the coefficient of ![`x^(u-1+i) y^(v-1+i)`](https://chart.googleapis.com/chart?cht=tx&amp;chl=x^{u-1{%2b}k}y^{v-1{%2b}l}) is equal to the sum of `u * v` products of `T[][]` and `P[][]` elements where `T[i+k][j+l]` is multiplied with `P[i][j]` with `0 &lt;= i &lt; u`, `0 &lt;= j &lt; v`.\r\n\r\nFor other `k`, `l` we have sums of products for incomplete overlaps that we don&#39;t care about.\r\n\r\nIf `T[][]` matches `P[][]` at some position, we know exactly what the corresponding coefficient will be: it&#39;s a sum of squares of `P[][]` elements, since all non-zero elements have to match others equal to them and it doesn&#39;t matter what were zeros matched to. Converse is, of course, not guaranteed: if some coefficient is equal to this value, it might not correspond to a match. Let&#39;s ignore this for now, at least we can expect to reduce the number of positions to verify matches at.\r\n\r\nFor implementation purposes, this convolution can be done over ![`Z/p`](https://chart.googleapis.com/chart?cht=tx&amp;chl=\\mathbb{Z}_p) instead of ![`N`](https://chart.googleapis.com/chart?cht=tx&amp;chl=\\mathbb{N}): all coefficients will be calculated modulo prime number significantly greater than `m * n` (and greater than `q`, but we will eliminate this restriction later).\r\n\r\n## Implementing bivariate polynomial multiplication\r\n\r\nThere&#39;s a standard trick to reduce multidimensional convolution to 1D — helix transform, in other words index projection. In our case we will map ![`x^i y^j`](https://chart.googleapis.com/chart?cht=tx&amp;chl=x^i{}y^j) to ![`t^(i*(n+v-1)) + j)`](https://chart.googleapis.com/chart?cht=tx&amp;chl=t^{i(n{%2b}v-1){%2b}j}). Then after performing 1D convolution, the inner index `j` will not overflow into the outer index and can be separated.\r\n\r\nThe algorithm for performing 1D convolution over ![`Z/p`](https://chart.googleapis.com/chart?cht=tx&amp;chl=\\mathbb{Z}_p) is based on the Number Theoretic Transform, almost identical to the more popular Fast Fourier Transform, except instead of a primitive root of unity in complex numbers a primitive root modulo `p` is used.\r\n\r\n## Increasing robustness\r\n\r\nOur current algorithm may generate false positives when sum of products just happens to be equal to what we expect modulo `p`, and in theory values in `T[][]` and `P[][]` can be such that this effect becomes disastrous. Let&#39;s remap these values to others, random &quot;keys&quot; in `1..p-1`, keeping zeros in `P[][]` intact. The key for each distinct value will be sampled independently for `T[][]` and `P[][]`, different values can even happen to be mapped to the same key (with very low probability). This will simplify further analysis.\r\n\r\nSuch remapping reduces false positive rate per pattern position to `1 / p`, rigorously — to `2 / p` or less for every input. The sum of products at a position differs from the target sum by ![`Σ a_ij tkey_i pkey_j`](https://chart.googleapis.com/chart?cht=tx&amp;chl=\\sum_{i,j}{a_{i,j}tkey_ipkey_j}), where `a` counts the difference between the number of cells where `tkey_i` and `pkey_j` were matched and were supposed to be matched (making corresponding base values in `T[][]` and `P[][]` equal). If we vary any imperfectly matched `pkey_j` through `1..p-1`, the difference will vary through `p-1` distinct values, unless the sum of its multipliers, `a_ij * tkey_i`, is zero, which has probability slightly less than `1 / p` as a sum of independent variables.\r\n\r\n## Obtaining results and detailed complexity\r\n\r\n`p` can be taken sufficiently big to make the total false positive rate through all positions arbitrarily small, the Chinese Remainder Theorem can be used to combine results modulo different `p`. So it isn&#39;t strictly necessary to verify matches, giving the stated complexity, ![`O(n * m * log(n * m))`](https://chart.googleapis.com/chart?cht=tx&amp;chl=O(n{}m{}\\log{n{}m})), to obtain correct results with confidence level of, say, `(1 - 1e-38)^(n * m) ~= 1 - 1e-38 * n * m ~= 100%`.\r\n\r\nAlternatively all probable matches can be verified, giving complexity ![`O(n * m * (log(n * m) + c))`](https://chart.googleapis.com/chart?cht=tx&amp;chl=O(n{}m{}(\\log{n{}m}{%2b}c))) where `c` is the amount of true matches, as long as ![`p &gt;= max(u * v, (m - u) * (n - v) / (log(m * n) + c))`](https://chart.googleapis.com/chart?cht=tx&amp;chl=p\\ge\\max(u{}v,(m-u)(n-v)/(\\log{n{}m}{%2b}c))) is maintained.\r\n\r\n## C++ implementation\r\n\r\n```cpp\r\n#include &lt;algorithm&gt;\r\n#include &lt;cassert&gt;\r\n#include &lt;chrono&gt;\r\n#include &lt;iostream&gt;\r\n#include &lt;random&gt;\r\n#include &lt;unordered_map&gt;\r\n#include &lt;vector&gt;\r\n\r\nusing Matrix = std::vector&lt;std::vector&lt;uint32_t&gt;&gt;;\r\n\r\nnamespace Impl {\r\n\r\ntemplate &lt;uint32_t mod&gt;\r\nstruct ModEnv {\r\n  static constexpr uint32_t prod(uint32_t a, uint32_t b) {\r\n    return uint64_t{a} * b % mod;\r\n  }\r\n\r\n  static constexpr uint32_t sum(uint32_t a, uint32_t b) {\r\n    return a + b - (b &gt;= mod - a ? mod : 0);\r\n  }\r\n\r\n  static constexpr uint32_t dif(uint32_t a, uint32_t b) {\r\n    return a - b + (a &lt; b ? mod : 0);\r\n  }\r\n\r\n  static constexpr uint32_t binpow(uint32_t x, uint32_t p) {\r\n    uint32_t res = 1;\r\n    while (p) {\r\n      if (p % 2) {\r\n        res = prod(res, x);\r\n      }\r\n      x = prod(x, x);\r\n      p /= 2;\r\n    }\r\n    return res;\r\n  }\r\n\r\n  static void ntt(std::vector&lt;uint32_t&gt;&amp; v, bool inverse) {\r\n    constexpr uint32_t root = 5555;\r\n    int n = v.size();\r\n    for (int i = 1, j = 0; i &lt; n; ++i) {\r\n      int bit = n;\r\n      do {\r\n        bit /= 2;\r\n        j ^= bit;\r\n      } while (!(j &amp; bit));\r\n      if (i &lt; j) {\r\n        std::swap(v[i], v[j]);\r\n      }\r\n    }\r\n    for (int len = 2; len &lt;= n; len *= 2) {\r\n      uint32_t d = mod / len;\r\n      uint32_t pw = binpow(root, inverse ? mod - 1 - d : d);\r\n      for (int i = 0; i &lt; n; i += len) {\r\n        int half = len / 2;\r\n        uint32_t w = 1;\r\n        for (int j = 0; j &lt; half; ++j) {\r\n          uint32_t s = v[i + j], t = prod(v[i + j + half], w);\r\n          v[i + j] = sum(s, t);\r\n          v[i + j + half] = dif(s, t);\r\n          w = prod(w, pw);\r\n        }\r\n      }\r\n    }\r\n    if (inverse) {\r\n      uint32_t inv = binpow(n, mod - 2);\r\n      for (uint32_t&amp; x : v) {\r\n        x = prod(x, inv);\r\n      }\r\n    }\r\n  }\r\n\r\n  static std::vector&lt;uint32_t&gt; conv1d(std::vector&lt;uint32_t&gt; a, std::vector&lt;uint32_t&gt; b) {\r\n    int output_size = a.size() + b.size() - 1, pow2_size = 1;\r\n    while (pow2_size &lt; output_size) {\r\n      pow2_size *= 2;\r\n    }\r\n    a.resize(pow2_size);\r\n    b.resize(pow2_size);\r\n    ntt(a, false);\r\n    ntt(b, false);\r\n    for (int i = 0; i &lt; pow2_size; ++i) {\r\n      a[i] = prod(a[i], b[i]);\r\n    }\r\n    ntt(a, true);\r\n    a.resize(output_size);\r\n    return a;\r\n  }\r\n\r\n  static Matrix conv2d_180(Matrix a, Matrix b) {\r\n    int m = a.size(), n = a[0].size(), u = b.size(), v = b[0].size();\r\n    int stride = n + v - 1;\r\n    std::vector&lt;uint32_t&gt; b1d((u - 1) * stride + v);\r\n    for (int i = 0; i &lt; u; ++i) {\r\n      assert(b[i].size() == v);\r\n      copy(b[i].rbegin(), b[i].rend(), b1d.begin() + (u - i - 1) * stride);\r\n    }\r\n    Matrix{}.swap(b);\r\n    std::vector&lt;uint32_t&gt; a1d((m - 1) * stride + n);\r\n    for (int i = 0; i &lt; m; ++i) {\r\n      copy(a[i].begin(), a[i].end(), a1d.begin() + i * stride);\r\n    }\r\n    Matrix{}.swap(a);\r\n    auto res1d = conv1d(std::move(a1d), std::move(b1d));\r\n    int s = m - u + 1, t = n - v + 1;\r\n    Matrix res(s, std::vector&lt;uint32_t&gt;(t));\r\n    for (int i = 0; i &lt; s; ++i) {\r\n      copy_n(res1d.begin() + (i + u - 1) * stride + v - 1, t, res[i].begin());\r\n    }\r\n    return res;\r\n  }\r\n\r\n  static std::vector&lt;std::pair&lt;int, int&gt;&gt; pattern_match(Matrix t, Matrix p) {\r\n    std::unordered_map&lt;uint32_t, uint32_t&gt; t_map, p_map;\r\n    std::mt19937 rng(std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(\r\n        std::chrono::high_resolution_clock::now().time_since_epoch()).count());\r\n    std::uniform_int_distribution&lt;uint32_t&gt; d(1, mod - 1);\r\n    for (auto&amp; row: t) {\r\n      for (uint32_t&amp; val: row) {\r\n        auto [it, f] = t_map.emplace(val, 0);\r\n        if (f) {\r\n          it-&gt;second = d(rng);\r\n        }\r\n        val = it-&gt;second;\r\n      }\r\n    }\r\n    uint32_t expected_value = 0;\r\n    for (auto&amp; row: p) {\r\n      for (uint32_t&amp; val: row) {\r\n        if (val == 0) {\r\n          continue;\r\n        }\r\n        auto [it, f] = p_map.emplace(val, 0);\r\n        if (f) {\r\n          it-&gt;second = d(rng);\r\n        }\r\n        if (auto t_it = t_map.find(val); t_it != t_map.end()) {\r\n          expected_value = sum(expected_value, prod(t_it-&gt;second, it-&gt;second));\r\n        } else {\r\n          // value in pattern doesn&#39;t exist in text\r\n          return {};\r\n        }\r\n        val = it-&gt;second;\r\n      }\r\n    }\r\n    auto conv = conv2d_180(std::move(t), std::move(p));\r\n    std::vector&lt;std::pair&lt;int, int&gt;&gt; res;\r\n    for (int i = 0; i &lt; conv.size(); ++i) {\r\n      for (int j = 0; j &lt; conv[0].size(); ++j) {\r\n        if (conv[i][j] == expected_value) {\r\n          res.emplace_back(i, j);\r\n        }\r\n      }\r\n    }\r\n    return res;\r\n  }\r\n};\r\n\r\ntemplate &lt;uint32_t mod&gt;\r\nbool can_use(const Matrix&amp; t, const Matrix&amp; p) {\r\n  int m = t.size(), n = t[0].size(), u = p.size(), v = p[0].size();\r\n  int stride = n + v - 1;\r\n  int poly_size = (m - 1) * stride + n + (u - 1) * stride + v - 1, pow2_size = 1;\r\n  while (pow2_size &lt; poly_size) {\r\n    pow2_size *= 2;\r\n  }\r\n  return (mod - 1 &amp; 1 - mod) % pow2_size == 0;\r\n}\r\n\r\nvoid verify_matrix(const Matrix&amp; m) {\r\n  assert(!m.empty() &amp;&amp; !m[0].empty() &amp;&amp; m.size() * m[0].size() &lt; 1 &lt;&lt; 30);\r\n  for (int i = 1; i &lt; m.size(); ++i) {\r\n    assert(m[i].size() == m[0].size());\r\n  }\r\n}\r\n\r\nvoid verify_text_pattern(const Matrix&amp; t, const Matrix&amp; p) {\r\n  verify_matrix(t);\r\n  verify_matrix(p);\r\n  assert(t.size() &gt;= p.size() &amp;&amp; t[0].size() &gt;= p[0].size());\r\n}\r\n\r\nconstexpr uint32_t mod1 = (3 &lt;&lt; 30) + 1, mod2 = (13 &lt;&lt; 28) + 1;\r\n\r\n}  // namespace Impl\r\n\r\nstd::vector&lt;std::pair&lt;int, int&gt;&gt; pattern_match_single_mod(Matrix t, Matrix p) {\r\n  Impl::verify_text_pattern(t, p);\r\n  if (Impl::can_use&lt;Impl::mod2&gt;(t, p)) {\r\n    return Impl::ModEnv&lt;Impl::mod2&gt;::pattern_match(std::move(t), std::move(p));\r\n  }\r\n  assert(Impl::can_use&lt;Impl::mod1&gt;(t, p) &amp;&amp; &quot;text and pattern sizes are too big&quot;);\r\n  return Impl::ModEnv&lt;Impl::mod1&gt;::pattern_match(std::move(t), std::move(p));\r\n}\r\n\r\nstd::vector&lt;std::pair&lt;int, int&gt;&gt; pattern_match_two_mods(Matrix t, Matrix p) {\r\n  Impl::verify_text_pattern(t, p);\r\n  assert(Impl::can_use&lt;Impl::mod2&gt;(t, p) &amp;&amp; &quot;text and pattern sizes are too big&quot;);\r\n  auto m1 = Impl::ModEnv&lt;Impl::mod1&gt;::pattern_match(t, p);\r\n  auto m2 = Impl::ModEnv&lt;Impl::mod2&gt;::pattern_match(std::move(t), std::move(p));\r\n  std::vector&lt;std::pair&lt;int, int&gt;&gt; m(m1.size() + m2.size());\r\n  m.erase(set_intersection(m1.begin(), m1.end(), m2.begin(), m2.end(), m.begin()), m.end());\r\n  return m;\r\n}\r\n\r\nstd::vector&lt;std::pair&lt;int, int&gt;&gt; pattern_match_naive(const Matrix&amp; t, const Matrix&amp; p) {\r\n  std::vector&lt;std::pair&lt;int, int&gt;&gt; res;\r\n  for (int i = 0; i &lt; t.size() - p.size() + 1; ++i) {\r\n    for (int j = 0; j &lt; t[0].size() - p[0].size() + 1; ++j) {\r\n      bool ok = 1;\r\n      for (int k = 0; k &lt; p.size() &amp;&amp; ok; ++k) {\r\n        for (int l = 0; l &lt; p[0].size() &amp;&amp; ok; ++l) {\r\n          ok &amp;= p[k][l] == 0 || p[k][l] == t[i + k][j + l];\r\n        }\r\n      }\r\n      if (ok) {\r\n        res.emplace_back(i, j);\r\n      }\r\n    }\r\n  }\r\n  return res;\r\n}\r\n\r\nvoid stress(int m, int n, int u, int v, double q, double prob_zero) {\r\n  std::mt19937 rng(std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(\r\n      std::chrono::high_resolution_clock::now().time_since_epoch()).count());\r\n  std::uniform_real_distribution&lt;double&gt; du(1, q);\r\n  std::bernoulli_distribution db(prob_zero);\r\n  while (1) {\r\n    Matrix t(m, std::vector&lt;uint32_t&gt;(n));\r\n    Matrix p(u, std::vector&lt;uint32_t&gt;(v));\r\n    for (auto&amp; row: t) {\r\n      for (auto&amp; elem: row) {\r\n        elem = du(rng);\r\n      }\r\n    }\r\n    for (auto&amp; row: p) {\r\n      for (auto&amp; elem: row) {\r\n        elem = db(rng) ? 0 : du(rng);\r\n      }\r\n    }\r\n    int i = rng() % (m - u + 1), j = rng() % (n - v + 1);\r\n    for (int k = 0; k &lt; u; ++k) {\r\n      for (int l = 0; l &lt; v; ++l) {\r\n        if (p[k][l] != 0) {\r\n          t[i + k][j + l] = p[k][l];\r\n        }\r\n      }\r\n    }\r\n    auto naive = pattern_match_naive(t, p);\r\n    assert(naive == pattern_match_single_mod(std::move(t), std::move(p)));\r\n  }\r\n}\r\n\r\nint main() {\r\n  auto ans = pattern_match_two_mods(\r\n    {{2, 3, 4, 3, 6},\r\n     {4, 1, 5, 7, 8},\r\n     {9, 1, 2, 3, 1},\r\n     {2, 4, 5, 1, 5},\r\n     {3, 1, 9, 0, 2}},\r\n    {{2, 3, 0},\r\n     {0, 1, 5},\r\n     {9, 0, 2}}\r\n  );\r\n  for (auto [i, j]: ans) {\r\n    std::cout &lt;&lt; &#39;(&#39; &lt;&lt; i &lt;&lt; &quot;, &quot; &lt;&lt; j &lt;&lt; &quot;) &quot;;\r\n  }\r\n  std::cout &lt;&lt; &#39;\\n&#39;;\r\n}\r\n```","title":"Non exact pattern search algorithm in 2d integer array","body":"<p>The structure of this problem resembles 2D convolution: a kernel is applied at every possible position to a 2D array, some value is calculated based on corresponding elements (equality) and these values are further processed (filtering out incomplete matches). And 2D convolution indeed gives a solution to this problem in <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=O(n%7B%7Dm%7B%7D%5Clog%7Bn%7B%7Dm%7D)\" alt=\"O(n * m * log(n * m))\" /> time for any input. (this complexity is a simplification reasonable in practice, more in the last section)</p>\n<h2>Reduction to bivariate polynomial multiplication over <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Cmathbb%7BZ%7D_p\" alt=\"Z/p\" /></h2>\n<p>Let's define polynomials describing the array to be searched in and the pattern:</p>\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=T(x,y)=%5Csum_%7Bi,j%7D%7BT%5Bi%5D%5Bj%5Dx%5Eiy%5Ej%7D\" alt=\"T(x, y) = Σ T[i][j] x^i y^j\" /></p>\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=P(x,y)=%5Csum_%7Bi,j%7D%7BP%5Bu-i-1%5D%5Bv-j-1%5Dx%5Eiy%5Ej%7D\" alt=\"P(x, y) = Σ P[u-i-1][v-j-1] x^i y^j\" /></p>\n<p><code>P[][]</code> is essentially rotated 180°. Their product is:</p>\n<p><img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=M(x,y)=%5Csum_%7Bi,j,k,l%7D%7BT%5Bi%5D%5Bj%5DP%5Bu-k-1%5D%5Bv-l-1%5Dx%5E%7Bi%7B%2b%7Dk%7Dy%5E%7Bj%7B%2b%7Dl%7D%7D\" alt=\"M(x, y) = Σ T[i][j] P[u-i-1][v-j-1] x^(i+k) y^(j+l)\" /></p>\n<p>What is the coefficient of <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=x%5E%7Bu-1%7D%7B%7Dy%5E%7Bv-1%7D\" alt=\"x^(u-1) y^(v-1)\" /> equal to? It's a sum of <code>u * v</code> products between <code>P[][]</code> and <code>T[][]</code> elements, where <code>T[i][j]</code> is multiplied with <code>P[i][j]</code> with <code>0 &lt;= i &lt; u</code>, <code>0 &lt;= j &lt; v</code>.</p>\n<p>Similarly for all <code>0 &lt;= k &lt;= m - u</code>, <code>0 &lt;= l &lt;= n - v</code>, the coefficient of <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=x%5E%7Bu-1%7B%2b%7Dk%7Dy%5E%7Bv-1%7B%2b%7Dl%7D\" alt=\"x^(u-1+i) y^(v-1+i)\" /> is equal to the sum of <code>u * v</code> products of <code>T[][]</code> and <code>P[][]</code> elements where <code>T[i+k][j+l]</code> is multiplied with <code>P[i][j]</code> with <code>0 &lt;= i &lt; u</code>, <code>0 &lt;= j &lt; v</code>.</p>\n<p>For other <code>k</code>, <code>l</code> we have sums of products for incomplete overlaps that we don't care about.</p>\n<p>If <code>T[][]</code> matches <code>P[][]</code> at some position, we know exactly what the corresponding coefficient will be: it's a sum of squares of <code>P[][]</code> elements, since all non-zero elements have to match others equal to them and it doesn't matter what were zeros matched to. Converse is, of course, not guaranteed: if some coefficient is equal to this value, it might not correspond to a match. Let's ignore this for now, at least we can expect to reduce the number of positions to verify matches at.</p>\n<p>For implementation purposes, this convolution can be done over <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Cmathbb%7BZ%7D_p\" alt=\"Z/p\" /> instead of <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Cmathbb%7BN%7D\" alt=\"N\" />: all coefficients will be calculated modulo prime number significantly greater than <code>m * n</code> (and greater than <code>q</code>, but we will eliminate this restriction later).</p>\n<h2>Implementing bivariate polynomial multiplication</h2>\n<p>There's a standard trick to reduce multidimensional convolution to 1D — helix transform, in other words index projection. In our case we will map <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=x%5Ei%7B%7Dy%5Ej\" alt=\"x^i y^j\" /> to <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=t%5E%7Bi(n%7B%2b%7Dv-1)%7B%2b%7Dj%7D\" alt=\"t^(i*(n+v-1)) + j)\" />. Then after performing 1D convolution, the inner index <code>j</code> will not overflow into the outer index and can be separated.</p>\n<p>The algorithm for performing 1D convolution over <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Cmathbb%7BZ%7D_p\" alt=\"Z/p\" /> is based on the Number Theoretic Transform, almost identical to the more popular Fast Fourier Transform, except instead of a primitive root of unity in complex numbers a primitive root modulo <code>p</code> is used.</p>\n<h2>Increasing robustness</h2>\n<p>Our current algorithm may generate false positives when sum of products just happens to be equal to what we expect modulo <code>p</code>, and in theory values in <code>T[][]</code> and <code>P[][]</code> can be such that this effect becomes disastrous. Let's remap these values to others, random &quot;keys&quot; in <code>1..p-1</code>, keeping zeros in <code>P[][]</code> intact. The key for each distinct value will be sampled independently for <code>T[][]</code> and <code>P[][]</code>, different values can even happen to be mapped to the same key (with very low probability). This will simplify further analysis.</p>\n<p>Such remapping reduces false positive rate per pattern position to <code>1 / p</code>, rigorously — to <code>2 / p</code> or less for every input. The sum of products at a position differs from the target sum by <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=%5Csum_%7Bi,j%7D%7Ba_%7Bi,j%7Dtkey_ipkey_j%7D\" alt=\"Σ a_ij tkey_i pkey_j\" />, where <code>a</code> counts the difference between the number of cells where <code>tkey_i</code> and <code>pkey_j</code> were matched and were supposed to be matched (making corresponding base values in <code>T[][]</code> and <code>P[][]</code> equal). If we vary any imperfectly matched <code>pkey_j</code> through <code>1..p-1</code>, the difference will vary through <code>p-1</code> distinct values, unless the sum of its multipliers, <code>a_ij * tkey_i</code>, is zero, which has probability slightly less than <code>1 / p</code> as a sum of independent variables.</p>\n<h2>Obtaining results and detailed complexity</h2>\n<p><code>p</code> can be taken sufficiently big to make the total false positive rate through all positions arbitrarily small, the Chinese Remainder Theorem can be used to combine results modulo different <code>p</code>. So it isn't strictly necessary to verify matches, giving the stated complexity, <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=O(n%7B%7Dm%7B%7D%5Clog%7Bn%7B%7Dm%7D)\" alt=\"O(n * m * log(n * m))\" />, to obtain correct results with confidence level of, say, <code>(1 - 1e-38)^(n * m) ~= 1 - 1e-38 * n * m ~= 100%</code>.</p>\n<p>Alternatively all probable matches can be verified, giving complexity <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=O(n%7B%7Dm%7B%7D(%5Clog%7Bn%7B%7Dm%7D%7B%2b%7Dc))\" alt=\"O(n * m * (log(n * m) + c))\" /> where <code>c</code> is the amount of true matches, as long as <img src=\"https://chart.googleapis.com/chart?cht=tx&amp;chl=p%5Cge%5Cmax(u%7B%7Dv,(m-u)(n-v)/(%5Clog%7Bn%7B%7Dm%7D%7B%2b%7Dc))\" alt=\"p &gt;= max(u * v, (m - u) * (n - v) / (log(m * n) + c))\" /> is maintained.</p>\n<h2>C++ implementation</h2>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;algorithm&gt;\n#include &lt;cassert&gt;\n#include &lt;chrono&gt;\n#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;unordered_map&gt;\n#include &lt;vector&gt;\n\nusing Matrix = std::vector&lt;std::vector&lt;uint32_t&gt;&gt;;\n\nnamespace Impl {\n\ntemplate &lt;uint32_t mod&gt;\nstruct ModEnv {\n  static constexpr uint32_t prod(uint32_t a, uint32_t b) {\n    return uint64_t{a} * b % mod;\n  }\n\n  static constexpr uint32_t sum(uint32_t a, uint32_t b) {\n    return a + b - (b &gt;= mod - a ? mod : 0);\n  }\n\n  static constexpr uint32_t dif(uint32_t a, uint32_t b) {\n    return a - b + (a &lt; b ? mod : 0);\n  }\n\n  static constexpr uint32_t binpow(uint32_t x, uint32_t p) {\n    uint32_t res = 1;\n    while (p) {\n      if (p % 2) {\n        res = prod(res, x);\n      }\n      x = prod(x, x);\n      p /= 2;\n    }\n    return res;\n  }\n\n  static void ntt(std::vector&lt;uint32_t&gt;&amp; v, bool inverse) {\n    constexpr uint32_t root = 5555;\n    int n = v.size();\n    for (int i = 1, j = 0; i &lt; n; ++i) {\n      int bit = n;\n      do {\n        bit /= 2;\n        j ^= bit;\n      } while (!(j &amp; bit));\n      if (i &lt; j) {\n        std::swap(v[i], v[j]);\n      }\n    }\n    for (int len = 2; len &lt;= n; len *= 2) {\n      uint32_t d = mod / len;\n      uint32_t pw = binpow(root, inverse ? mod - 1 - d : d);\n      for (int i = 0; i &lt; n; i += len) {\n        int half = len / 2;\n        uint32_t w = 1;\n        for (int j = 0; j &lt; half; ++j) {\n          uint32_t s = v[i + j], t = prod(v[i + j + half], w);\n          v[i + j] = sum(s, t);\n          v[i + j + half] = dif(s, t);\n          w = prod(w, pw);\n        }\n      }\n    }\n    if (inverse) {\n      uint32_t inv = binpow(n, mod - 2);\n      for (uint32_t&amp; x : v) {\n        x = prod(x, inv);\n      }\n    }\n  }\n\n  static std::vector&lt;uint32_t&gt; conv1d(std::vector&lt;uint32_t&gt; a, std::vector&lt;uint32_t&gt; b) {\n    int output_size = a.size() + b.size() - 1, pow2_size = 1;\n    while (pow2_size &lt; output_size) {\n      pow2_size *= 2;\n    }\n    a.resize(pow2_size);\n    b.resize(pow2_size);\n    ntt(a, false);\n    ntt(b, false);\n    for (int i = 0; i &lt; pow2_size; ++i) {\n      a[i] = prod(a[i], b[i]);\n    }\n    ntt(a, true);\n    a.resize(output_size);\n    return a;\n  }\n\n  static Matrix conv2d_180(Matrix a, Matrix b) {\n    int m = a.size(), n = a[0].size(), u = b.size(), v = b[0].size();\n    int stride = n + v - 1;\n    std::vector&lt;uint32_t&gt; b1d((u - 1) * stride + v);\n    for (int i = 0; i &lt; u; ++i) {\n      assert(b[i].size() == v);\n      copy(b[i].rbegin(), b[i].rend(), b1d.begin() + (u - i - 1) * stride);\n    }\n    Matrix{}.swap(b);\n    std::vector&lt;uint32_t&gt; a1d((m - 1) * stride + n);\n    for (int i = 0; i &lt; m; ++i) {\n      copy(a[i].begin(), a[i].end(), a1d.begin() + i * stride);\n    }\n    Matrix{}.swap(a);\n    auto res1d = conv1d(std::move(a1d), std::move(b1d));\n    int s = m - u + 1, t = n - v + 1;\n    Matrix res(s, std::vector&lt;uint32_t&gt;(t));\n    for (int i = 0; i &lt; s; ++i) {\n      copy_n(res1d.begin() + (i + u - 1) * stride + v - 1, t, res[i].begin());\n    }\n    return res;\n  }\n\n  static std::vector&lt;std::pair&lt;int, int&gt;&gt; pattern_match(Matrix t, Matrix p) {\n    std::unordered_map&lt;uint32_t, uint32_t&gt; t_map, p_map;\n    std::mt19937 rng(std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(\n        std::chrono::high_resolution_clock::now().time_since_epoch()).count());\n    std::uniform_int_distribution&lt;uint32_t&gt; d(1, mod - 1);\n    for (auto&amp; row: t) {\n      for (uint32_t&amp; val: row) {\n        auto [it, f] = t_map.emplace(val, 0);\n        if (f) {\n          it-&gt;second = d(rng);\n        }\n        val = it-&gt;second;\n      }\n    }\n    uint32_t expected_value = 0;\n    for (auto&amp; row: p) {\n      for (uint32_t&amp; val: row) {\n        if (val == 0) {\n          continue;\n        }\n        auto [it, f] = p_map.emplace(val, 0);\n        if (f) {\n          it-&gt;second = d(rng);\n        }\n        if (auto t_it = t_map.find(val); t_it != t_map.end()) {\n          expected_value = sum(expected_value, prod(t_it-&gt;second, it-&gt;second));\n        } else {\n          // value in pattern doesn't exist in text\n          return {};\n        }\n        val = it-&gt;second;\n      }\n    }\n    auto conv = conv2d_180(std::move(t), std::move(p));\n    std::vector&lt;std::pair&lt;int, int&gt;&gt; res;\n    for (int i = 0; i &lt; conv.size(); ++i) {\n      for (int j = 0; j &lt; conv[0].size(); ++j) {\n        if (conv[i][j] == expected_value) {\n          res.emplace_back(i, j);\n        }\n      }\n    }\n    return res;\n  }\n};\n\ntemplate &lt;uint32_t mod&gt;\nbool can_use(const Matrix&amp; t, const Matrix&amp; p) {\n  int m = t.size(), n = t[0].size(), u = p.size(), v = p[0].size();\n  int stride = n + v - 1;\n  int poly_size = (m - 1) * stride + n + (u - 1) * stride + v - 1, pow2_size = 1;\n  while (pow2_size &lt; poly_size) {\n    pow2_size *= 2;\n  }\n  return (mod - 1 &amp; 1 - mod) % pow2_size == 0;\n}\n\nvoid verify_matrix(const Matrix&amp; m) {\n  assert(!m.empty() &amp;&amp; !m[0].empty() &amp;&amp; m.size() * m[0].size() &lt; 1 &lt;&lt; 30);\n  for (int i = 1; i &lt; m.size(); ++i) {\n    assert(m[i].size() == m[0].size());\n  }\n}\n\nvoid verify_text_pattern(const Matrix&amp; t, const Matrix&amp; p) {\n  verify_matrix(t);\n  verify_matrix(p);\n  assert(t.size() &gt;= p.size() &amp;&amp; t[0].size() &gt;= p[0].size());\n}\n\nconstexpr uint32_t mod1 = (3 &lt;&lt; 30) + 1, mod2 = (13 &lt;&lt; 28) + 1;\n\n}  // namespace Impl\n\nstd::vector&lt;std::pair&lt;int, int&gt;&gt; pattern_match_single_mod(Matrix t, Matrix p) {\n  Impl::verify_text_pattern(t, p);\n  if (Impl::can_use&lt;Impl::mod2&gt;(t, p)) {\n    return Impl::ModEnv&lt;Impl::mod2&gt;::pattern_match(std::move(t), std::move(p));\n  }\n  assert(Impl::can_use&lt;Impl::mod1&gt;(t, p) &amp;&amp; &quot;text and pattern sizes are too big&quot;);\n  return Impl::ModEnv&lt;Impl::mod1&gt;::pattern_match(std::move(t), std::move(p));\n}\n\nstd::vector&lt;std::pair&lt;int, int&gt;&gt; pattern_match_two_mods(Matrix t, Matrix p) {\n  Impl::verify_text_pattern(t, p);\n  assert(Impl::can_use&lt;Impl::mod2&gt;(t, p) &amp;&amp; &quot;text and pattern sizes are too big&quot;);\n  auto m1 = Impl::ModEnv&lt;Impl::mod1&gt;::pattern_match(t, p);\n  auto m2 = Impl::ModEnv&lt;Impl::mod2&gt;::pattern_match(std::move(t), std::move(p));\n  std::vector&lt;std::pair&lt;int, int&gt;&gt; m(m1.size() + m2.size());\n  m.erase(set_intersection(m1.begin(), m1.end(), m2.begin(), m2.end(), m.begin()), m.end());\n  return m;\n}\n\nstd::vector&lt;std::pair&lt;int, int&gt;&gt; pattern_match_naive(const Matrix&amp; t, const Matrix&amp; p) {\n  std::vector&lt;std::pair&lt;int, int&gt;&gt; res;\n  for (int i = 0; i &lt; t.size() - p.size() + 1; ++i) {\n    for (int j = 0; j &lt; t[0].size() - p[0].size() + 1; ++j) {\n      bool ok = 1;\n      for (int k = 0; k &lt; p.size() &amp;&amp; ok; ++k) {\n        for (int l = 0; l &lt; p[0].size() &amp;&amp; ok; ++l) {\n          ok &amp;= p[k][l] == 0 || p[k][l] == t[i + k][j + l];\n        }\n      }\n      if (ok) {\n        res.emplace_back(i, j);\n      }\n    }\n  }\n  return res;\n}\n\nvoid stress(int m, int n, int u, int v, double q, double prob_zero) {\n  std::mt19937 rng(std::chrono::duration_cast&lt;std::chrono::nanoseconds&gt;(\n      std::chrono::high_resolution_clock::now().time_since_epoch()).count());\n  std::uniform_real_distribution&lt;double&gt; du(1, q);\n  std::bernoulli_distribution db(prob_zero);\n  while (1) {\n    Matrix t(m, std::vector&lt;uint32_t&gt;(n));\n    Matrix p(u, std::vector&lt;uint32_t&gt;(v));\n    for (auto&amp; row: t) {\n      for (auto&amp; elem: row) {\n        elem = du(rng);\n      }\n    }\n    for (auto&amp; row: p) {\n      for (auto&amp; elem: row) {\n        elem = db(rng) ? 0 : du(rng);\n      }\n    }\n    int i = rng() % (m - u + 1), j = rng() % (n - v + 1);\n    for (int k = 0; k &lt; u; ++k) {\n      for (int l = 0; l &lt; v; ++l) {\n        if (p[k][l] != 0) {\n          t[i + k][j + l] = p[k][l];\n        }\n      }\n    }\n    auto naive = pattern_match_naive(t, p);\n    assert(naive == pattern_match_single_mod(std::move(t), std::move(p)));\n  }\n}\n\nint main() {\n  auto ans = pattern_match_two_mods(\n    {{2, 3, 4, 3, 6},\n     {4, 1, 5, 7, 8},\n     {9, 1, 2, 3, 1},\n     {2, 4, 5, 1, 5},\n     {3, 1, 9, 0, 2}},\n    {{2, 3, 0},\n     {0, 1, 5},\n     {9, 0, 2}}\n  );\n  for (auto [i, j]: ans) {\n    std::cout &lt;&lt; '(' &lt;&lt; i &lt;&lt; &quot;, &quot; &lt;&lt; j &lt;&lt; &quot;) &quot;;\n  }\n  std::cout &lt;&lt; '\\n';\n}\n</code></pre>\n"}],"owner":{"account_id":21684098,"reputation":31,"user_id":15999807,"display_name":"gi0rn0"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688800471,"creation_date":1683207195,"question_id":76173797,"body_markdown":"Is there any algorithm that search a pattern with some 0s in a target array which any number on 0s in the pattern does not affect determining the result?\r\n\r\nThis question is similiar to https://stackoverflow.com/questions/3466370/2d-pattern-search-algorithms but the links provided are not accessible.\r\n\r\nGiven a m\\*n array T and u\\*v array P, u ≤ m, v ≤ n, 0 ≤ P[i][j] &lt; q, where q is a positive integer.\r\n0s in P can be an arbirtary integer in T if P lies in T. For example:\r\n```\r\nq = 10\r\nP[3][3] = {{2, 3, 0},\r\n           {0, 1, 5}\r\n            9, 0, 2}}\r\nT[5][5] = {{2, 3, 4, 3, 6},\r\n           {4, 1, 5, 7, 8},\r\n           {9, 1, 2, 3, 1},\r\n           {2, 4, 5, 1, 5},\r\n           {3, 1, 9, 0, 2}}\r\n```\r\nThe algorithm that I&#39;m seeking should give (0,0) and (2,2) since the pattern is found and any number in T lies on 0 in P does not affect the output.\r\n\r\nI&#39;ve come across Rabin-Karp algorithm but the 0s are taken into account.\r\n\r\nImplementation in Java would be great. Other languages will also do.\r\nAny help would be appreciated.","title":"Non exact pattern search algorithm in 2d integer array","body":"<p>Is there any algorithm that search a pattern with some 0s in a target array which any number on 0s in the pattern does not affect determining the result?</p>\n<p>This question is similiar to <a href=\"https://stackoverflow.com/questions/3466370/2d-pattern-search-algorithms\">2D pattern search algorithms</a> but the links provided are not accessible.</p>\n<p>Given a m*n array T and u*v array P, u ≤ m, v ≤ n, 0 ≤ P[i][j] &lt; q, where q is a positive integer.\n0s in P can be an arbirtary integer in T if P lies in T. For example:</p>\n<pre><code>q = 10\nP[3][3] = {{2, 3, 0},\n           {0, 1, 5}\n            9, 0, 2}}\nT[5][5] = {{2, 3, 4, 3, 6},\n           {4, 1, 5, 7, 8},\n           {9, 1, 2, 3, 1},\n           {2, 4, 5, 1, 5},\n           {3, 1, 9, 0, 2}}\n</code></pre>\n<p>The algorithm that I'm seeking should give (0,0) and (2,2) since the pattern is found and any number in T lies on 0 in P does not affect the output.</p>\n<p>I've come across Rabin-Karp algorithm but the 0s are taken into account.</p>\n<p>Implementation in Java would be great. Other languages will also do.\nAny help would be appreciated.</p>\n"},{"tags":["java","oop","polymorphism","overriding"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":3,"creation_date":1239342791,"post_id":736579,"comment_id":548464,"body_markdown":"Pardon the didactic: It&#39;s called &quot;overriding&quot;, not &quot;overwriting&quot;.","body":"Pardon the didactic: It&#39;s called &quot;overriding&quot;, not &quot;overwriting&quot;."},{"owner":{"account_id":6457841,"reputation":1935,"user_id":5002633,"display_name":"Eborbob"},"score":0,"creation_date":1436108514,"post_id":736579,"comment_id":50462003,"body_markdown":"The code as you&#39;ve written it should work as you expect - as many of the answers below suggest to get the result you are getting you must be doing something else in your code that you aren&#39;t showing here.","body":"The code as you&#39;ve written it should work as you expect - as many of the answers below suggest to get the result you are getting you must be doing something else in your code that you aren&#39;t showing here."}],"answers":[{"tags":[],"owner":{"account_id":15935,"reputation":346512,"user_id":34211,"accept_rate":83,"display_name":"Andrew Hare"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1239332597,"creation_date":1239332597,"answer_id":736596,"question_id":736579,"body_markdown":"When I run the following:\r\n\r\n    public class Program {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tbar b = new bar();\r\n    \t\tb.b();\r\n    \t}\r\n    }\r\n    \r\n    class foo {\r\n        public void a() {\r\n           System.out.printf(&quot;a&quot;);\r\n        }\r\n        public void b() {\r\n            a();\r\n        }\r\n    }\r\n    \r\n    class bar extends foo {\r\n        public void a() {\r\n        \tSystem.out.printf(&quot;overwritten a&quot;);\r\n        }\r\n    }\r\n\r\nI get the following output:\r\n\r\n    overwritten a\r\n\r\nwhich is what I would expect to see.","title":"Does the super class not call the overridden method?","body":"<p>When I run the following:</p>\n\n<pre><code>public class Program {\n    public static void main(String[] args) {\n        bar b = new bar();\n        b.b();\n    }\n}\n\nclass foo {\n    public void a() {\n       System.out.printf(\"a\");\n    }\n    public void b() {\n        a();\n    }\n}\n\nclass bar extends foo {\n    public void a() {\n        System.out.printf(\"overwritten a\");\n    }\n}\n</code></pre>\n\n<p>I get the following output:</p>\n\n<pre><code>overwritten a\n</code></pre>\n\n<p>which is what I would expect to see.</p>\n"},{"tags":[],"owner":{"account_id":31837,"reputation":274,"user_id":87759,"accept_rate":57,"display_name":"slau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239333410,"creation_date":1239333410,"answer_id":736622,"question_id":736579,"body_markdown":"\r\nAre the methods defined as static? That&#39;s the only way I could see getting that result. I found a good explanation about that here: http://faq.javaranch.com/view?OverridingVsHiding","title":"Does the super class not call the overridden method?","body":"<p>Are the methods defined as static? That's the only way I could see getting that result. I found a good explanation about that here: <a href=\"http://faq.javaranch.com/view?OverridingVsHiding\" rel=\"nofollow noreferrer\">http://faq.javaranch.com/view?OverridingVsHiding</a></p>\n"},{"tags":[],"owner":{"account_id":31685,"reputation":3185,"user_id":87206,"display_name":"CurtainDog"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1239333415,"creation_date":1239333415,"answer_id":736623,"question_id":736579,"body_markdown":"It may be that you are trying to use static methods, which won&#39;t work as they don&#39;t get overridden.\r\n\r\nA good way of checking is to add the @Override annotation to bar.a() and see if the compiler gives you an error that a() isn&#39;t actually overidding anything","title":"Does the super class not call the overridden method?","body":"<p>It may be that you are trying to use static methods, which won't work as they don't get overridden.</p>\n\n<p>A good way of checking is to add the @Override annotation to bar.a() and see if the compiler gives you an error that a() isn't actually overidding anything</p>\n"},{"tags":[],"owner":{"account_id":19945,"reputation":6738,"user_id":47181,"display_name":"kenj0418"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1239335611,"creation_date":1239335611,"answer_id":736658,"question_id":736579,"body_markdown":"You may be confused if you are coming from C# or some other language where you have to explicitly declare virtual functions and/or overriding functions.\r\n\r\nIn Java, all instance functions are virtual, and can be overridden -- unless they are declared as private and/or final.\r\n\r\nIt is not necessary to specify the new @Override annotation to do so, adding the annotation just specifies that your intent is to override, and will cause a either a warning or error if it isn&#39;t an override.  (If you accidentally misspelled the method name for example).\r\n\r\nAndrew&#39;s example shows how this should work.","title":"Does the super class not call the overridden method?","body":"<p>You may be confused if you are coming from C# or some other language where you have to explicitly declare virtual functions and/or overriding functions.</p>\n\n<p>In Java, all instance functions are virtual, and can be overridden -- unless they are declared as private and/or final.</p>\n\n<p>It is not necessary to specify the new @Override annotation to do so, adding the annotation just specifies that your intent is to override, and will cause a either a warning or error if it isn't an override.  (If you accidentally misspelled the method name for example).</p>\n\n<p>Andrew's example shows how this should work.</p>\n"},{"tags":[],"owner":{"account_id":22149,"reputation":2417,"user_id":54376,"accept_rate":90,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1688799753,"creation_date":1239336332,"answer_id":736665,"question_id":736579,"body_markdown":"Are your two classes in different packages? And is your foo class methods declared public, protected, or private or package local? Obviously if they are private, this won&#39;t work. Perhaps less obvious, is if they are package local (i.e. no public/protected/private scope) then you can only override them if you are in the same package as the original class.\r\n\r\nFor example:\r\n\r\n```\r\npackage original;\r\npublic class Foo {\r\n  void a() { System.out.println(&quot;A&quot;); }\r\n  public void b() { a(); }\r\n}\r\n\r\npackage another;\r\npublic class Bar extends original.Foo {\r\n  void a() { System.out.println(&quot;Overwritten A&quot;); }\r\n}\r\n\r\npackage another;\r\npublic class Program {\r\n  public static void main(String[] args) {\r\n    Bar bar = new Bar();\r\n    bar.b();\r\n  }\r\n}\r\n```\r\n\r\nIn this case, you will still get &#39;A&#39;. If you declare the original a() method in Foo public or protected, you will get the result you expected.","title":"Does the super class not call the overridden method?","body":"<p>Are your two classes in different packages? And is your foo class methods declared public, protected, or private or package local? Obviously if they are private, this won't work. Perhaps less obvious, is if they are package local (i.e. no public/protected/private scope) then you can only override them if you are in the same package as the original class.</p>\n<p>For example:</p>\n<pre><code>package original;\npublic class Foo {\n  void a() { System.out.println(&quot;A&quot;); }\n  public void b() { a(); }\n}\n\npackage another;\npublic class Bar extends original.Foo {\n  void a() { System.out.println(&quot;Overwritten A&quot;); }\n}\n\npackage another;\npublic class Program {\n  public static void main(String[] args) {\n    Bar bar = new Bar();\n    bar.b();\n  }\n}\n</code></pre>\n<p>In this case, you will still get 'A'. If you declare the original a() method in Foo public or protected, you will get the result you expected.</p>\n"},{"tags":[],"owner":{"account_id":263936,"reputation":20265,"user_id":549848,"accept_rate":74,"display_name":"Aram Kocharyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1310704260,"creation_date":1310704260,"answer_id":6702706,"question_id":736579,"body_markdown":"From the horse&#39;s mouth:\r\n\r\nhttp://download.oracle.com/javase/tutorial/java/IandI/override.html\r\n\r\n&quot;The version of the overridden method that gets invoked is the one in the subclass. The version of the hidden method that gets invoked depends on whether it is invoked from the superclass or the subclass.&quot;\r\n\r\nSo if they are both static methods and you invoke the method from the super class, then the super class method is invoked, not the subclass method. So really, no overriding is taking place.","title":"Does the super class not call the overridden method?","body":"<p>From the horse's mouth:</p>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/java/IandI/override.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/java/IandI/override.html</a></p>\n\n<p>\"The version of the overridden method that gets invoked is the one in the subclass. The version of the hidden method that gets invoked depends on whether it is invoked from the superclass or the subclass.\"</p>\n\n<p>So if they are both static methods and you invoke the method from the super class, then the super class method is invoked, not the subclass method. So really, no overriding is taking place.</p>\n"},{"tags":[],"owner":{"account_id":338173,"reputation":2361,"user_id":666887,"accept_rate":83,"display_name":"PowerAktar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1351695614,"creation_date":1351695614,"answer_id":13160871,"question_id":736579,"body_markdown":"While I was working on an Android program, I had the same problem on my Java classes. It turned out that the problem was not in the classes but the way Android framework processes screen output.\r\n\r\nfor example if output was programmed in the onCreate() method in the parent class, Android failed to correctly fetch the output of overridden methods from child classes beyond first child. Honestly I don&#39;t understand whole method calling order.\r\n\r\nTo resolve the issue I simply programmed the output in the onResume() and now it seem to work fine. ","title":"Does the super class not call the overridden method?","body":"<p>While I was working on an Android program, I had the same problem on my Java classes. It turned out that the problem was not in the classes but the way Android framework processes screen output.</p>\n\n<p>for example if output was programmed in the onCreate() method in the parent class, Android failed to correctly fetch the output of overridden methods from child classes beyond first child. Honestly I don't understand whole method calling order.</p>\n\n<p>To resolve the issue I simply programmed the output in the onResume() and now it seem to work fine. </p>\n"}],"owner":{},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16005,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":7,"score":6,"last_activity_date":1688799753,"creation_date":1239331992,"question_id":736579,"body_markdown":"I have the following classes:\r\n\r\n    class foo {\r\n        public void a() {\r\n            print(&quot;a&quot;);\r\n        }\r\n        public void b() {\r\n            a();\r\n        }\r\n    }\r\n\r\n    class bar extends foo {\r\n        public void a() {\r\n            print(&quot;overwritten a&quot;);\r\n        }\r\n    }\r\n\r\nWhen I now call bar.b() I want it to call the overridden method a() in foo. It does, however, print &quot;a&quot;. ","title":"Does the super class not call the overridden method?","body":"<p>I have the following classes:</p>\n\n<pre><code>class foo {\n    public void a() {\n        print(\"a\");\n    }\n    public void b() {\n        a();\n    }\n}\n\nclass bar extends foo {\n    public void a() {\n        print(\"overwritten a\");\n    }\n}\n</code></pre>\n\n<p>When I now call bar.b() I want it to call the overridden method a() in foo. It does, however, print \"a\". </p>\n"},{"tags":["java","android","android-source"],"comments":[{"owner":{"account_id":7229261,"reputation":2700,"user_id":5516760,"display_name":"Marzi Heidari"},"score":0,"creation_date":1506683039,"post_id":46415151,"comment_id":79929249,"body_markdown":"by &quot;importing&quot; you mean you added files as module or you simply copied and pasted classes in java folder?\nif you copied them &#39;com.android.inputmethod.keyboard.emoji.EmojiPalettesView&#39; is not a correct path for that class","body":"by &quot;importing&quot; you mean you added files as module or you simply copied and pasted classes in java folder? if you copied them &#39;com.android.inputmethod.keyboard.emoji.EmojiPalettesView&#39; is not a correct path for that class"},{"owner":{"account_id":6933704,"reputation":761,"user_id":5322411,"accept_rate":60,"display_name":"No Name"},"score":0,"creation_date":1506688409,"post_id":46415151,"comment_id":79932180,"body_markdown":"I checked out through git, not copied/pasted","body":"I checked out through git, not copied/pasted"},{"owner":{"account_id":3211936,"reputation":1508,"user_id":2711745,"accept_rate":50,"display_name":"MiguelKVidal"},"score":0,"creation_date":1507040143,"post_id":46415151,"comment_id":80047615,"body_markdown":"Probably, another exception is causing this exception. Please, try to capture and log any exception and then paste here the full stack trace.","body":"Probably, another exception is causing this exception. Please, try to capture and log any exception and then paste here the full stack trace."},{"owner":{"account_id":6933704,"reputation":761,"user_id":5322411,"accept_rate":60,"display_name":"No Name"},"score":0,"creation_date":1507134951,"post_id":46415151,"comment_id":80093549,"body_markdown":"@MiguelKVidal, The fact is that I tried other projects besides this library, but I received the same error from them. This is an [Indic-Keyboard](https://github.com/smc/Indic-Keyboard) and so on.","body":"@MiguelKVidal, The fact is that I tried other projects besides this library, but I received the same error from them. This is an <a href=\"https://github.com/smc/Indic-Keyboard\" rel=\"nofollow noreferrer\">Indic-Keyboard</a> and so on."},{"owner":{"account_id":8906576,"reputation":2459,"user_id":6648201,"accept_rate":59,"display_name":"rookieDeveloper"},"score":0,"creation_date":1568290710,"post_id":46415151,"comment_id":102233021,"body_markdown":"did you manage to solve it?","body":"did you manage to solve it?"},{"owner":{"account_id":6542876,"reputation":3814,"user_id":5059725,"accept_rate":39,"display_name":"Anant Shah"},"score":0,"creation_date":1580294742,"post_id":46415151,"comment_id":106047713,"body_markdown":"Getting same error @NoName did u mange to solve it?","body":"Getting same error @NoName did u mange to solve it?"}],"owner":{"account_id":6933704,"reputation":761,"user_id":5322411,"accept_rate":60,"display_name":"No Name"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":551,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":0,"score":28,"last_activity_date":1688799407,"creation_date":1506378704,"question_id":46415151,"body_markdown":"I checked out [Google LatinIME][1]. Then I imported the `java` folder into `Android Studio`. \r\n\r\nI ran it, set it up (I chose a keyboard in the phone settings, I chose a language layout) \r\nBut during testing (by focusing on `edittext`) the `application` crashes with an error:\r\n\r\n&gt; android.view.InflateException: Binary XML file line #29: Binary XML\r\n&gt; file line #21: Error inflating class\r\n&gt; com.android.inputmethod.keyboard.emoji.EmojiPalettesView\r\n\r\nHere is full StackTrace:\r\n\r\n&gt; FATAL EXCEPTION: main\r\n&gt;                                                    Process: com.android.inputmethod.latin, PID: 19332\r\n&gt;                                                    android.view.InflateException: Binary XML file line #29: Binary XML\r\n&gt; file line #21: Error inflating class\r\n&gt; com.android.inputmethod.keyboard.emoji.EmojiPalettesView\r\n&gt;                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\r\n&gt;                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\r\n&gt;                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\r\n&gt;                                                        at com.android.inputmethod.keyboard.KeyboardSwitcher.onCreateInputView(KeyboardSwitcher.java:464)\r\n&gt;                                                        at com.android.inputmethod.latin.LatinIME.onCreateInputView(LatinIME.java:752)\r\n&gt;                                                        at android.inputmethodservice.InputMethodService.updateInputViewShown(InputMethodService.java:1117)\r\n&gt;                                                        at android.inputmethodservice.InputMethodService.showWindowInner(InputMethodService.java:1473)\r\n&gt;                                                        at android.inputmethodservice.InputMethodService.showWindow(InputMethodService.java:1447)\r\n&gt;                                                        at android.inputmethodservice.InputMethodService$InputMethodImpl.showSoftInput(InputMethodService.java:437)\r\n&gt;                                                        at android.inputmethodservice.IInputMethodWrapper.executeMessage(IInputMethodWrapper.java:203)\r\n&gt;                                                        at com.android.internal.os.HandlerCaller$MyHandler.handleMessage(HandlerCaller.java:37)\r\n&gt;                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n&gt;                                                        at android.os.Looper.loop(Looper.java:148)\r\n&gt;                                                        at android.app.ActivityThread.main(ActivityThread.java:5551)\r\n&gt;                                                        at java.lang.reflect.Method.invoke(Native Method)\r\n&gt;                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)\r\n&gt;                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)\r\n&gt;                                                     Caused by: android.view.InflateException: Binary XML file line #21: Error\r\n&gt; inflating class\r\n&gt; com.android.inputmethod.keyboard.emoji.EmojiPalettesView\r\n&gt;                                                        at android.view.LayoutInflater.createView(LayoutInflater.java:645)\r\n&gt;                                                        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764)\r\n&gt;                                                        at android.view.LayoutInflater.parseInclude(LayoutInflater.java:941)\r\n&gt;                                                        at android.view.LayoutInflater.rInflate(LayoutInflater.java:831)\r\n&gt;                                                        at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\r\n&gt;                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\r\n&gt;                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:423)&#160;\r\n&gt;                                                        at android.view.LayoutInflater.inflate(LayoutInflater.java:374)&#160;\r\n&gt;                                                        at com.android.inputmethod.keyboard.KeyboardSwitcher.onCreateInputView(KeyboardSwitcher.java:464)&#160;\r\n\r\n\r\n**Question:**\r\nHelp me what I&#39;m doing wrong?\r\n\r\n  [1]: https://android.googlesource.com/platform/packages/inputmethods/LatinIME/","title":"Error inflating class EmojiPalettesView in LatinIME(AOSP)","body":"<p>I checked out <a href=\"https://android.googlesource.com/platform/packages/inputmethods/LatinIME/\" rel=\"noreferrer\">Google LatinIME</a>. Then I imported the <code>java</code> folder into <code>Android Studio</code>. </p>\n\n<p>I ran it, set it up (I chose a keyboard in the phone settings, I chose a language layout) \nBut during testing (by focusing on <code>edittext</code>) the <code>application</code> crashes with an error:</p>\n\n<blockquote>\n  <p>android.view.InflateException: Binary XML file line #29: Binary XML\n  file line #21: Error inflating class\n  com.android.inputmethod.keyboard.emoji.EmojiPalettesView</p>\n</blockquote>\n\n<p>Here is full StackTrace:</p>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main\n                                                     Process: com.android.inputmethod.latin, PID: 19332\n                                                     android.view.InflateException: Binary XML file line #29: Binary XML\n  file line #21: Error inflating class\n  com.android.inputmethod.keyboard.emoji.EmojiPalettesView\n                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:539)\n                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:423)\n                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:374)\n                                                         at com.android.inputmethod.keyboard.KeyboardSwitcher.onCreateInputView(KeyboardSwitcher.java:464)\n                                                         at com.android.inputmethod.latin.LatinIME.onCreateInputView(LatinIME.java:752)\n                                                         at android.inputmethodservice.InputMethodService.updateInputViewShown(InputMethodService.java:1117)\n                                                         at android.inputmethodservice.InputMethodService.showWindowInner(InputMethodService.java:1473)\n                                                         at android.inputmethodservice.InputMethodService.showWindow(InputMethodService.java:1447)\n                                                         at android.inputmethodservice.InputMethodService$InputMethodImpl.showSoftInput(InputMethodService.java:437)\n                                                         at android.inputmethodservice.IInputMethodWrapper.executeMessage(IInputMethodWrapper.java:203)\n                                                         at com.android.internal.os.HandlerCaller$MyHandler.handleMessage(HandlerCaller.java:37)\n                                                         at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                         at android.os.Looper.loop(Looper.java:148)\n                                                         at android.app.ActivityThread.main(ActivityThread.java:5551)\n                                                         at java.lang.reflect.Method.invoke(Native Method)\n                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)\n                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)\n                                                      Caused by: android.view.InflateException: Binary XML file line #21: Error\n  inflating class\n  com.android.inputmethod.keyboard.emoji.EmojiPalettesView\n                                                         at android.view.LayoutInflater.createView(LayoutInflater.java:645)\n                                                         at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:764)\n                                                         at android.view.LayoutInflater.parseInclude(LayoutInflater.java:941)\n                                                         at android.view.LayoutInflater.rInflate(LayoutInflater.java:831)\n                                                         at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:798)\n                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:515)\n                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:423) \n                                                         at android.view.LayoutInflater.inflate(LayoutInflater.java:374) \n                                                         at com.android.inputmethod.keyboard.KeyboardSwitcher.onCreateInputView(KeyboardSwitcher.java:464) </p>\n</blockquote>\n\n<p><strong>Question:</strong>\nHelp me what I'm doing wrong?</p>\n"},{"tags":["java","android","android-activity"],"comments":[{"owner":{"account_id":6312955,"reputation":2777,"user_id":4903925,"accept_rate":71,"display_name":"Bonatti"},"score":1,"creation_date":1688730827,"post_id":76636715,"comment_id":135116629,"body_markdown":"When posting, question, put the StackTrace, its the best source of information, even if its long. Also, try to read [How to Ask](https://stackoverflow.com/help/how-to-ask)","body":"When posting, question, put the StackTrace, its the best source of information, even if its long. Also, try to read <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"score":0,"creation_date":1688734136,"post_id":76636715,"comment_id":135117318,"body_markdown":"Done , i think i pasted it correctly  and all the info is there, thanks for the feedback.","body":"Done , i think i pasted it correctly  and all the info is there, thanks for the feedback."}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688798772,"creation_date":1688736726,"answer_id":76637448,"question_id":76636715,"body_markdown":"According to the error message, you&#39;ve set `onClick` method of a button in one of your xml file with its default name as **`onClick`**, with the intention of connecting the button click event to the **`onClickElement`** method that you defined in your *MainActivity.java*.  \r\n\r\nEither change `onClickElement` to `onClick` in your activity or `onClick` to `onClickElement` in your xml so that the declared and defined symbols match.\r\n\r\n### Correction Update\r\nAfter your comment, I relooked at the exception message and seems like you are right. The actual problem occurs when getting data in your `CalcularDefinicion`&#39;s `onCreate` method. There you try to get the sent data from the previous activity but you get null because in the previous activitiy you send a new intent that does not have any data.\r\n&lt;!-- language-all lang-java --&gt;\r\n**SeeResults** class\r\n```\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    ...\r\n    // You get the intent here from the main activity\r\n    Intent i = getIntent();\r\n    String [] data = i.getStringArrayExtra(&quot;data&quot;);\r\n    ...\r\n    // After processing values you use the same intent to send data\r\n    i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\r\n    i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\r\n}\r\n\r\n/*\r\nBut when you start the CalcularDefinicion activity you create a new intent\r\nand all the data you put in the onCreate method has gone. Now you send\r\nnothing to the CalcularDefinicion activity, hence you obviously will get null.\r\n*/\r\npublic void calcularDefinicion (View v) {\r\n    i = new Intent(this, CalcularDefinicion.class);\r\n    startActivity(i);\r\n}\r\n```\r\n\r\nHere are some solutions for you.\r\n#### Solution 1\r\nSet the button&#39;s `onClikListener` within the `onCreate` method so that you can get access to the intent that you&#39;ve set the data for `CalcularDefinicion` activity.\r\n```\r\npublic class SeeResults extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        ...\r\n        Intent i = getIntent();\r\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\r\n        ...\r\n        double IMC = Math.round (peso / (altura * altura));\r\n        double TMB = 0;\r\n        if (genero.equals(&quot;hombre&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\r\n        }\r\n        if (genero.equals(&quot;mujer&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\r\n        }\r\n        ...\r\n        \r\n        i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\r\n        i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\r\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definici&#243;n : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\r\n        \r\n        calcularDefinicionButton.setOnClickListener(() v -&gt; {\r\n            startActivity(i);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n#### Solution 2\r\nLeave the `onCLick` implementation as is and declare a discrete intent for `CalcularDefinicion` activity.\r\n```\r\npublic class SeeResults extends AppCompatActivity {\r\n    private final Intent calcularIntent = new Intent(this, CalcularDefinicion.class);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        ...\r\n        Intent i = getIntent();\r\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\r\n        ...\r\n        double IMC = Math.round (peso / (altura * altura));\r\n        double TMB = 0;\r\n        if (genero.equals(&quot;hombre&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\r\n        }\r\n        if (genero.equals(&quot;mujer&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\r\n        ...\r\n        calcularIntent.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\r\n        calcularIntent.putExtra(&quot;Peso&quot;,String.valueOf(peso));\r\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definici&#243;n : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\r\n        \r\n    }\r\n    \r\n    public void goBack (View v) {\r\n        // Don&#39;t hesitate to create new intents for each different cases\r\n        Intent backIntent = new Intent(this,MainActivity.class);\r\n        startActivity(backIntent);\r\n    }\r\n    \r\n    public void calcularDefinicion (View v) {\r\n        startActivity(calcularIntent);\r\n    }\r\n}\r\n```\r\n\r\n#### Watch it!\r\nFinally there is one more thing to consider. Things may fail and may not result as expected. That&#39;s why you should take your precautions as a programmer to make sure the failable data does exist and wholesome.\r\n```\r\npublic class CalcularDefinicion extends AppCompatActivity {\r\n    \r\n    ...\r\n    \r\n    public void calcularDef (View v) {\r\n        int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\r\n        int tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;));\r\n        Log.d(&quot;caloriasNumero&quot;,String.valueOf(calorias));\r\n        Log.d(&quot;tiempoNumero&quot;,String.valueOf(tiempo));\r\n        Intent i = getIntent();\r\n\r\n        // ATTENTION to this part!\r\n        String TMBstring = i.getStringExtra(&quot;TMB&quot;);\r\n        String pesoString = i.getStringExtra(&quot;Peso&quot;);\r\n        // Always check the nullity of the data you get from intent because\r\n        // somehow if the data don&#39;t exist it will return null by default\r\n        if (TMBstring == null || TMBstring.isEmpty()) {\r\n            // Can&#39;t continue without data, handle this unexpected case\r\n            return;\r\n        }\r\n        if (pesoString == null || pesoString.isEmpty()) {\r\n            // Can&#39;t continue without data, handle this unexpected case\r\n            return;\r\n        }\r\n        // If the program flow reaches here, then all the data exist and you\r\n        // can continue to process further.\r\n        double TMB = Double.parseDouble(TMBstring);\r\n        double peso = Double.parseDouble(pesoString);\r\n        Log.d(&quot;TMB&quot;,String.valueOf(TMB));\r\n        Log.d(&quot;Peso&quot;,String.valueOf(peso));\r\n        double pesoPerdido = (TMB - calorias) * (tiempo / 30);\r\n        double pesoFinal = peso - pesoPerdido;\r\n        \r\n        textoAcabar.setText(textoAcabar.getText() + &quot; &quot; + pesoFinal);\r\n    }\r\n    \r\n    EditText caloriasDef;\r\n    EditText tiempoDef;\r\n    TextView textoInicio, textoAcabar;\r\n    \r\n}","title":"Android app throws IlegalStateException and crashes while i parse a String to double from an intent","body":"<p>According to the error message, you've set <code>onClick</code> method of a button in one of your xml file with its default name as <strong><code>onClick</code></strong>, with the intention of connecting the button click event to the <strong><code>onClickElement</code></strong> method that you defined in your <em>MainActivity.java</em>.</p>\n<p>Either change <code>onClickElement</code> to <code>onClick</code> in your activity or <code>onClick</code> to <code>onClickElement</code> in your xml so that the declared and defined symbols match.</p>\n<h3>Correction Update</h3>\n<p>After your comment, I relooked at the exception message and seems like you are right. The actual problem occurs when getting data in your <code>CalcularDefinicion</code>'s <code>onCreate</code> method. There you try to get the sent data from the previous activity but you get null because in the previous activitiy you send a new intent that does not have any data.</p>\n\n<p><strong>SeeResults</strong> class</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    ...\n    // You get the intent here from the main activity\n    Intent i = getIntent();\n    String [] data = i.getStringArrayExtra(&quot;data&quot;);\n    ...\n    // After processing values you use the same intent to send data\n    i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\n    i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\n}\n\n/*\nBut when you start the CalcularDefinicion activity you create a new intent\nand all the data you put in the onCreate method has gone. Now you send\nnothing to the CalcularDefinicion activity, hence you obviously will get null.\n*/\npublic void calcularDefinicion (View v) {\n    i = new Intent(this, CalcularDefinicion.class);\n    startActivity(i);\n}\n</code></pre>\n<p>Here are some solutions for you.</p>\n<h4>Solution 1</h4>\n<p>Set the button's <code>onClikListener</code> within the <code>onCreate</code> method so that you can get access to the intent that you've set the data for <code>CalcularDefinicion</code> activity.</p>\n<pre><code>public class SeeResults extends AppCompatActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        ...\n        Intent i = getIntent();\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\n        ...\n        double IMC = Math.round (peso / (altura * altura));\n        double TMB = 0;\n        if (genero.equals(&quot;hombre&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\n        }\n        if (genero.equals(&quot;mujer&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\n        }\n        ...\n        \n        i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\n        i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definición : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\n        \n        calcularDefinicionButton.setOnClickListener(() v -&gt; {\n            startActivity(i);\n        });\n    }\n}\n</code></pre>\n<h4>Solution 2</h4>\n<p>Leave the <code>onCLick</code> implementation as is and declare a discrete intent for <code>CalcularDefinicion</code> activity.</p>\n<pre><code>public class SeeResults extends AppCompatActivity {\n    private final Intent calcularIntent = new Intent(this, CalcularDefinicion.class);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        ...\n        Intent i = getIntent();\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\n        ...\n        double IMC = Math.round (peso / (altura * altura));\n        double TMB = 0;\n        if (genero.equals(&quot;hombre&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\n        }\n        if (genero.equals(&quot;mujer&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\n        ...\n        calcularIntent.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\n        calcularIntent.putExtra(&quot;Peso&quot;,String.valueOf(peso));\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definición : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\n        \n    }\n    \n    public void goBack (View v) {\n        // Don't hesitate to create new intents for each different cases\n        Intent backIntent = new Intent(this,MainActivity.class);\n        startActivity(backIntent);\n    }\n    \n    public void calcularDefinicion (View v) {\n        startActivity(calcularIntent);\n    }\n}\n</code></pre>\n<h4>Watch it!</h4>\n<p>Finally there is one more thing to consider. Things may fail and may not result as expected. That's why you should take your precautions as a programmer to make sure the failable data does exist and wholesome.</p>\n<pre><code>public class CalcularDefinicion extends AppCompatActivity {\n    \n    ...\n    \n    public void calcularDef (View v) {\n        int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\n        int tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;));\n        Log.d(&quot;caloriasNumero&quot;,String.valueOf(calorias));\n        Log.d(&quot;tiempoNumero&quot;,String.valueOf(tiempo));\n        Intent i = getIntent();\n\n        // ATTENTION to this part!\n        String TMBstring = i.getStringExtra(&quot;TMB&quot;);\n        String pesoString = i.getStringExtra(&quot;Peso&quot;);\n        // Always check the nullity of the data you get from intent because\n        // somehow if the data don't exist it will return null by default\n        if (TMBstring == null || TMBstring.isEmpty()) {\n            // Can't continue without data, handle this unexpected case\n            return;\n        }\n        if (pesoString == null || pesoString.isEmpty()) {\n            // Can't continue without data, handle this unexpected case\n            return;\n        }\n        // If the program flow reaches here, then all the data exist and you\n        // can continue to process further.\n        double TMB = Double.parseDouble(TMBstring);\n        double peso = Double.parseDouble(pesoString);\n        Log.d(&quot;TMB&quot;,String.valueOf(TMB));\n        Log.d(&quot;Peso&quot;,String.valueOf(peso));\n        double pesoPerdido = (TMB - calorias) * (tiempo / 30);\n        double pesoFinal = peso - pesoPerdido;\n        \n        textoAcabar.setText(textoAcabar.getText() + &quot; &quot; + pesoFinal);\n    }\n    \n    EditText caloriasDef;\n    EditText tiempoDef;\n    TextView textoInicio, textoAcabar;\n    \n}\n</code></pre>\n"}],"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":76637448,"answer_count":1,"score":-1,"last_activity_date":1688798772,"creation_date":1688730422,"question_id":76636715,"body_markdown":"Im creating an app that takes your weight, height, gender and all that medical stuff and calculates values like IMC, calories... It has 3 activities, the first is the Main, here i ask for all the values that i said. Second one just show some results, and the last one calculates how many kgs will lose eating x value of calories per month (set by the user). The problem here is that i need two values of the second activity, the weight and the TMB (metabolism)  to calculate how many kg will lose. Im passing that values with an intent, i put them as an extra with a tag and then i get them in the last activity, i put them as an String, but they are decimals and i need them as decimals, so, when i get them as an extra and i parse them to double,  i get an IlegalStateException.\r\n\r\nCode of the first activity (java)\r\n&lt;!-- language-all lang-java --&gt;\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        //A&#209;ADIR GENERO A DATOS TRANSFERIBLES --&gt; DONE\r\n        // METER TMB, CALORIAS PARA VOLUMEN, DEFINICI&#211;N Y MANTENIMIENTO --&gt; DONE\r\n        // HACER SECCI&#211;N ESPECIAL PARA VOLUMEN Y DEFINICION (INDICANDO KILOS A GANAR/PERDER EN X TIEMPO) --&gt; ARREGLAR ERROR CALCULAR DEFINICI&#211;N **\r\n        // ARREGLAR BUGS INICIO (QUE ESTE EL TEXTO AL LADO AL ESCRIBIR...)\r\n        RadioGroup radioGroupActividad = findViewById(R.id.radioGroup);\r\n        radioGroupActividad.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup radioGroup, int id) {\r\n                      RadioButton radioButton = findViewById(id);\r\n                      aN = radioButton.getText().toString();\r\n            }\r\n        });\r\n    \r\n    }\r\n    \r\n    \r\n    public void sendData (View v) {\r\n        EditText nombreApellidos = findViewById(R.id.NombreApellidos);\r\n        EditText edad = findViewById(R.id.Edad);\r\n        EditText altura = findViewById(R.id.altura);\r\n        EditText peso = findViewById(R.id.peso);\r\n        String gN = &quot;G&quot;;\r\n        RadioButton rbH = findViewById(R.id.hombre);\r\n        RadioButton rbF = findViewById(R.id.mujer);\r\n    \r\n        if (rbH.isChecked() &amp;&amp; !rbF.isChecked()) {\r\n            gN = &quot;hombre&quot;;\r\n        }\r\n        if (rbF.isChecked() &amp;&amp; !rbH.isChecked()) {\r\n            gN = &quot;mujer&quot;;\r\n        }\r\n    \r\n        /*DATOS*/\r\n        String name = nombreApellidos.getText().toString().replace(&quot;Nombre&quot; , &quot;&quot;);\r\n        String edadN = edad.getText().toString().replace(&quot;Edad&quot;,&quot;&quot;);\r\n        String alturaN = altura.getText().toString().replace(&quot;Altura&quot;,&quot;&quot;);\r\n        String pesoN = peso.getText().toString().replace(&quot;Peso&quot;,&quot;&quot;);\r\n        Intent i = new Intent(this,SeeResults.class);\r\n        String [] info  = new String[6];\r\n        info [0] = name;\r\n        info [1] = edadN;\r\n        info [2] = alturaN;\r\n        info [3] = pesoN;\r\n        info [4] = aN;\r\n        info [5] = gN;\r\n        i.putExtra(&quot;data&quot;,info);\r\n        startActivity(i);\r\n    \r\n    }\r\n    public void onClickElement (View v) {\r\n        int idElement = v.getId();\r\n        if (idElement == R.id.peso) {\r\n            EditText peso = findViewById(R.id.peso);\r\n            peso.setText(&quot;&quot;);\r\n        }\r\n        if (idElement == R.id.altura) {\r\n            EditText altura = findViewById(R.id.altura);\r\n            altura.setText(&quot;&quot;);\r\n        }\r\n        if (idElement == R.id.NombreApellidos) {\r\n            EditText Nombre = findViewById(R.id.NombreApellidos);\r\n            Nombre.setText(&quot;&quot;);\r\n        }\r\n        if (idElement == R.id.Edad) {\r\n            EditText Edad = findViewById(R.id.Edad);\r\n            Edad.setText(&quot;&quot;);\r\n        }\r\n    }\r\n    \r\n    String aN;\r\n}\r\n```\r\n\r\nCode of the second activity:\r\n\r\n```\r\npublic class SeeResults extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_see_results);\r\n        dataTransfered = new String[6];\r\n        TextView imc = findViewById(R.id.Imc);\r\n        Intent i = getIntent();\r\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\r\n        dataTransfered = data;\r\n        String actividadF = dataTransfered[4];\r\n        String genero = dataTransfered[5];\r\n        double actividadFNumero = 0;\r\n        switch (actividadF) {\r\n            case &quot;Poca&quot;:\r\n            actividadFNumero = 1.1;\r\n            break;\r\n            case &quot;Regular&quot;:\r\n            actividadFNumero = 1.3;\r\n            break;\r\n            case &quot;Bastante&quot;:\r\n            actividadFNumero = 1.5;\r\n            break;\r\n            case &quot;Mucha&quot;:\r\n            actividadFNumero = 1.7;\r\n            break;\r\n        }\r\n        double peso = Double.parseDouble(dataTransfered[3]);\r\n        double altura = Double.parseDouble(dataTransfered[2]) / 100;\r\n        int edad = Integer.parseInt(dataTransfered [1]);\r\n        double IMC = Math.round (peso / (altura * altura));\r\n        double TMB = 0;\r\n        if (genero.equals(&quot;hombre&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\r\n        }\r\n        if (genero.equals(&quot;mujer&quot;)) {\r\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\r\n        }\r\n        Log.d(&quot;ActividadFisica&quot;,actividadF);\r\n        Log.d(&quot;ActividadFisicaNumero&quot;, String.valueOf(actividadFNumero));\r\n        Log.d(&quot;Genero&quot;,genero);\r\n    \r\n        i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\r\n        i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\r\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definici&#243;n : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\r\n    \r\n    }\r\n    \r\n    public void goBack (View v) {\r\n     Intent i = new Intent(this,MainActivity.class);\r\n     startActivity(i);\r\n    }\r\n    \r\n    public void calcularDefinicion (View v) {\r\n         i = new Intent(this, CalcularDefinicion.class);\r\n        startActivity(i);\r\n    }\r\n    \r\n    String [] dataTransfered;\r\n    Intent i;\r\n}\r\n```\r\n\r\nCode of the last activity :\r\n\r\n```\r\npublic class CalcularDefinicion extends AppCompatActivity {\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_calcular_definicion);\r\n        tiempoDef = (EditText) findViewById(R.id.TiempoDef);\r\n        caloriasDef = (EditText) findViewById(R.id.CaloriasDef);\r\n        textoInicio = findViewById(R.id.pesoEmpezarDef);\r\n        textoAcabar = findViewById(R.id.pesoAcabarDef);\r\n    \r\n    }\r\n    \r\n    public void calcularDef (View v) {\r\n       int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\r\n       int tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;));\r\n        Log.d(&quot;caloriasNumero&quot;,String.valueOf(calorias));\r\n        Log.d(&quot;tiempoNumero&quot;,String.valueOf(tiempo));\r\n       Intent i = getIntent();\r\n       double TMB = Double.parseDouble(i.getStringExtra(&quot;TMB&quot;));\r\n       double peso = Double.parseDouble(i.getStringExtra(&quot;Peso&quot;));\r\n       Log.d(&quot;TMB&quot;,String.valueOf(TMB));\r\n       Log.d(&quot;Peso&quot;,String.valueOf(peso));\r\n       double pesoPerdido = (TMB - calorias) * (tiempo / 30);\r\n       double pesoFinal = peso - pesoPerdido;\r\n    \r\n       textoAcabar.setText(textoAcabar.getText() + &quot; &quot; + pesoFinal);\r\n    }\r\n    \r\n    EditText caloriasDef;\r\n    EditText tiempoDef;\r\n    TextView textoInicio, textoAcabar;\r\n\r\n}\r\n \r\n```\r\nSTACKTRACE\r\n\r\n&gt; FATAL EXCEPTION: main\r\n&gt; \r\n&gt; Process: com.example.calculoimc, PID: 32693\r\n&gt; \r\n&gt; java.lang.IllegalStateException: Could not execute method for\r\n&gt; android:onClick at\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\r\n&gt; at android.view.View.performClick(View.java:7506) at\r\n&gt; com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\n&gt; at android.view.View.performClickInternal(View.java:7483) at\r\n&gt; android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0) at\r\n&gt; android.view.View$PerformClick.run(View.java:29334) at\r\n&gt; android.os.Handler.handleCallback(Handler.java:942) at\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:99) at\r\n&gt; android.os.Looper.loopOnce(Looper.java:201) at\r\n&gt; android.os.Looper.loop(Looper.java:288) at\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:7872) at\r\n&gt; java.lang.reflect.Method.invoke(Native Method) at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n&gt; at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n&gt; \r\n&gt; Caused by: java.lang.reflect.InvocationTargetException at\r\n&gt; java.lang.reflect.Method.invoke(Native Method) at\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\r\n&gt; at android.view.View.performClick(View.java:7506)&#160; at\r\n&gt; com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)&#160;\r\n&gt; at android.view.View.performClickInternal(View.java:7483)&#160; at\r\n&gt; android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)&#160; at\r\n&gt; android.view.View$PerformClick.run(View.java:29334)&#160; at\r\n&gt; android.os.Handler.handleCallback(Handler.java:942)&#160; at\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:99)&#160; at\r\n&gt; android.os.Looper.loopOnce(Looper.java:201)&#160; at\r\n&gt; android.os.Looper.loop(Looper.java:288)&#160; at\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:7872)&#160; at\r\n&gt; java.lang.reflect.Method.invoke(Native Method)&#160; at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n&gt; at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n&gt; \r\n&gt; Caused by: java.lang.NullPointerException: Attempt to invoke virtual\r\n&gt; method &#39;java.lang.String java.lang.String.trim()&#39; on a null object\r\n&gt; reference at\r\n&gt; jdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)\r\n&gt; at\r\n&gt; jdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\r\n&gt; at java.lang.Double.parseDouble(Double.java:543) at\r\n&gt; com.example.calculoimc.CalcularDefinicion.calcularDef(CalcularDefinicion.java:31)\r\n&gt; at java.lang.reflect.Method.invoke(Native Method)&#160; at\r\n&gt; androidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)&#160;\r\n&gt; at android.view.View.performClick(View.java:7506)&#160; at\r\n&gt; com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)&#160;\r\n&gt; at android.view.View.performClickInternal(View.java:7483)&#160; at\r\n&gt; android.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)&#160; at\r\n&gt; android.view.View$PerformClick.run(View.java:29334)&#160; at\r\n&gt; android.os.Handler.handleCallback(Handler.java:942)&#160; at\r\n&gt; android.os.Handler.dispatchMessage(Handler.java:99)&#160; at\r\n&gt; android.os.Looper.loopOnce(Looper.java:201)&#160; at\r\n&gt; android.os.Looper.loop(Looper.java:288)&#160; at\r\n&gt; android.app.ActivityThread.main(ActivityThread.java:7872)&#160; at\r\n&gt; java.lang.reflect.Method.invoke(Native Method) at\r\n&gt; com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n&gt; at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n\r\nI checked that it all the values are  a DOUBLE and did not have any value  like &quot;Calories: 43&quot; and was only 43, thats what i do in this part of the code in the last activity:\r\n\r\n```\r\nint calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\r\nint tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;);\r\n```\r\n\r\nThe TMB and the weight are just numbers, the TMB is calculated and the weight is put just as a number.\r\n\r\nAlso, the activity is registered in the manifest, i dont think there is the problem but i checked it anyways, i searched and searched around all the internet but i could not figure out what is wrong.","title":"Android app throws IlegalStateException and crashes while i parse a String to double from an intent","body":"<p>Im creating an app that takes your weight, height, gender and all that medical stuff and calculates values like IMC, calories... It has 3 activities, the first is the Main, here i ask for all the values that i said. Second one just show some results, and the last one calculates how many kgs will lose eating x value of calories per month (set by the user). The problem here is that i need two values of the second activity, the weight and the TMB (metabolism)  to calculate how many kg will lose. Im passing that values with an intent, i put them as an extra with a tag and then i get them in the last activity, i put them as an String, but they are decimals and i need them as decimals, so, when i get them as an extra and i parse them to double,  i get an IlegalStateException.</p>\n<p>Code of the first activity (java)</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        //AÑADIR GENERO A DATOS TRANSFERIBLES --&gt; DONE\n        // METER TMB, CALORIAS PARA VOLUMEN, DEFINICIÓN Y MANTENIMIENTO --&gt; DONE\n        // HACER SECCIÓN ESPECIAL PARA VOLUMEN Y DEFINICION (INDICANDO KILOS A GANAR/PERDER EN X TIEMPO) --&gt; ARREGLAR ERROR CALCULAR DEFINICIÓN **\n        // ARREGLAR BUGS INICIO (QUE ESTE EL TEXTO AL LADO AL ESCRIBIR...)\n        RadioGroup radioGroupActividad = findViewById(R.id.radioGroup);\n        radioGroupActividad.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(RadioGroup radioGroup, int id) {\n                      RadioButton radioButton = findViewById(id);\n                      aN = radioButton.getText().toString();\n            }\n        });\n    \n    }\n    \n    \n    public void sendData (View v) {\n        EditText nombreApellidos = findViewById(R.id.NombreApellidos);\n        EditText edad = findViewById(R.id.Edad);\n        EditText altura = findViewById(R.id.altura);\n        EditText peso = findViewById(R.id.peso);\n        String gN = &quot;G&quot;;\n        RadioButton rbH = findViewById(R.id.hombre);\n        RadioButton rbF = findViewById(R.id.mujer);\n    \n        if (rbH.isChecked() &amp;&amp; !rbF.isChecked()) {\n            gN = &quot;hombre&quot;;\n        }\n        if (rbF.isChecked() &amp;&amp; !rbH.isChecked()) {\n            gN = &quot;mujer&quot;;\n        }\n    \n        /*DATOS*/\n        String name = nombreApellidos.getText().toString().replace(&quot;Nombre&quot; , &quot;&quot;);\n        String edadN = edad.getText().toString().replace(&quot;Edad&quot;,&quot;&quot;);\n        String alturaN = altura.getText().toString().replace(&quot;Altura&quot;,&quot;&quot;);\n        String pesoN = peso.getText().toString().replace(&quot;Peso&quot;,&quot;&quot;);\n        Intent i = new Intent(this,SeeResults.class);\n        String [] info  = new String[6];\n        info [0] = name;\n        info [1] = edadN;\n        info [2] = alturaN;\n        info [3] = pesoN;\n        info [4] = aN;\n        info [5] = gN;\n        i.putExtra(&quot;data&quot;,info);\n        startActivity(i);\n    \n    }\n    public void onClickElement (View v) {\n        int idElement = v.getId();\n        if (idElement == R.id.peso) {\n            EditText peso = findViewById(R.id.peso);\n            peso.setText(&quot;&quot;);\n        }\n        if (idElement == R.id.altura) {\n            EditText altura = findViewById(R.id.altura);\n            altura.setText(&quot;&quot;);\n        }\n        if (idElement == R.id.NombreApellidos) {\n            EditText Nombre = findViewById(R.id.NombreApellidos);\n            Nombre.setText(&quot;&quot;);\n        }\n        if (idElement == R.id.Edad) {\n            EditText Edad = findViewById(R.id.Edad);\n            Edad.setText(&quot;&quot;);\n        }\n    }\n    \n    String aN;\n}\n</code></pre>\n<p>Code of the second activity:</p>\n<pre><code>public class SeeResults extends AppCompatActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_see_results);\n        dataTransfered = new String[6];\n        TextView imc = findViewById(R.id.Imc);\n        Intent i = getIntent();\n        String [] data = i.getStringArrayExtra(&quot;data&quot;);\n        dataTransfered = data;\n        String actividadF = dataTransfered[4];\n        String genero = dataTransfered[5];\n        double actividadFNumero = 0;\n        switch (actividadF) {\n            case &quot;Poca&quot;:\n            actividadFNumero = 1.1;\n            break;\n            case &quot;Regular&quot;:\n            actividadFNumero = 1.3;\n            break;\n            case &quot;Bastante&quot;:\n            actividadFNumero = 1.5;\n            break;\n            case &quot;Mucha&quot;:\n            actividadFNumero = 1.7;\n            break;\n        }\n        double peso = Double.parseDouble(dataTransfered[3]);\n        double altura = Double.parseDouble(dataTransfered[2]) / 100;\n        int edad = Integer.parseInt(dataTransfered [1]);\n        double IMC = Math.round (peso / (altura * altura));\n        double TMB = 0;\n        if (genero.equals(&quot;hombre&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad ) + 5) * actividadFNumero;\n        }\n        if (genero.equals(&quot;mujer&quot;)) {\n            TMB = ((10 * peso) + (6.25 * (altura * 100) ) -  (5 * edad) - 161) * actividadFNumero;\n        }\n        Log.d(&quot;ActividadFisica&quot;,actividadF);\n        Log.d(&quot;ActividadFisicaNumero&quot;, String.valueOf(actividadFNumero));\n        Log.d(&quot;Genero&quot;,genero);\n    \n        i.putExtra(&quot;TMB&quot;,String.valueOf(TMB));\n        i.putExtra(&quot;Peso&quot;,String.valueOf(peso));\n        imc.setText(&quot;Tu IMC es : &quot; +  IMC + &quot;\\n&quot;  +   &quot;Tu TMB es : &quot; + TMB + &quot;\\n&quot; + &quot;\\n&quot; + &quot;Calorias definición : &quot; + (TMB - 500) + &quot;\\n&quot;  + &quot;\\n&quot; +  &quot;Calorias en volumen: &quot; + (TMB + 500));\n    \n    }\n    \n    public void goBack (View v) {\n     Intent i = new Intent(this,MainActivity.class);\n     startActivity(i);\n    }\n    \n    public void calcularDefinicion (View v) {\n         i = new Intent(this, CalcularDefinicion.class);\n        startActivity(i);\n    }\n    \n    String [] dataTransfered;\n    Intent i;\n}\n</code></pre>\n<p>Code of the last activity :</p>\n<pre><code>public class CalcularDefinicion extends AppCompatActivity {\n    \n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_calcular_definicion);\n        tiempoDef = (EditText) findViewById(R.id.TiempoDef);\n        caloriasDef = (EditText) findViewById(R.id.CaloriasDef);\n        textoInicio = findViewById(R.id.pesoEmpezarDef);\n        textoAcabar = findViewById(R.id.pesoAcabarDef);\n    \n    }\n    \n    public void calcularDef (View v) {\n       int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\n       int tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;));\n        Log.d(&quot;caloriasNumero&quot;,String.valueOf(calorias));\n        Log.d(&quot;tiempoNumero&quot;,String.valueOf(tiempo));\n       Intent i = getIntent();\n       double TMB = Double.parseDouble(i.getStringExtra(&quot;TMB&quot;));\n       double peso = Double.parseDouble(i.getStringExtra(&quot;Peso&quot;));\n       Log.d(&quot;TMB&quot;,String.valueOf(TMB));\n       Log.d(&quot;Peso&quot;,String.valueOf(peso));\n       double pesoPerdido = (TMB - calorias) * (tiempo / 30);\n       double pesoFinal = peso - pesoPerdido;\n    \n       textoAcabar.setText(textoAcabar.getText() + &quot; &quot; + pesoFinal);\n    }\n    \n    EditText caloriasDef;\n    EditText tiempoDef;\n    TextView textoInicio, textoAcabar;\n\n}\n \n</code></pre>\n<p>STACKTRACE</p>\n<blockquote>\n<p>FATAL EXCEPTION: main</p>\n<p>Process: com.example.calculoimc, PID: 32693</p>\n<p>java.lang.IllegalStateException: Could not execute method for\nandroid:onClick at\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:473)\nat android.view.View.performClick(View.java:7506) at\ncom.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\nat android.view.View.performClickInternal(View.java:7483) at\nandroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0) at\nandroid.view.View$PerformClick.run(View.java:29334) at\nandroid.os.Handler.handleCallback(Handler.java:942) at\nandroid.os.Handler.dispatchMessage(Handler.java:99) at\nandroid.os.Looper.loopOnce(Looper.java:201) at\nandroid.os.Looper.loop(Looper.java:288) at\nandroid.app.ActivityThread.main(ActivityThread.java:7872) at\njava.lang.reflect.Method.invoke(Native Method) at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n<p>Caused by: java.lang.reflect.InvocationTargetException at\njava.lang.reflect.Method.invoke(Native Method) at\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468)\nat android.view.View.performClick(View.java:7506)  at\ncom.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211) \nat android.view.View.performClickInternal(View.java:7483)  at\nandroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)  at\nandroid.view.View$PerformClick.run(View.java:29334)  at\nandroid.os.Handler.handleCallback(Handler.java:942)  at\nandroid.os.Handler.dispatchMessage(Handler.java:99)  at\nandroid.os.Looper.loopOnce(Looper.java:201)  at\nandroid.os.Looper.loop(Looper.java:288)  at\nandroid.app.ActivityThread.main(ActivityThread.java:7872)  at\njava.lang.reflect.Method.invoke(Native Method)  at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548) \nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936) </p>\n<p>Caused by: java.lang.NullPointerException: Attempt to invoke virtual\nmethod 'java.lang.String java.lang.String.trim()' on a null object\nreference at\njdk.internal.math.FloatingDecimal.readJavaFormatString(FloatingDecimal.java:1838)\nat\njdk.internal.math.FloatingDecimal.parseDouble(FloatingDecimal.java:110)\nat java.lang.Double.parseDouble(Double.java:543) at\ncom.example.calculoimc.CalcularDefinicion.calcularDef(CalcularDefinicion.java:31)\nat java.lang.reflect.Method.invoke(Native Method)  at\nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:468) \nat android.view.View.performClick(View.java:7506)  at\ncom.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211) \nat android.view.View.performClickInternal(View.java:7483)  at\nandroid.view.View.-$$Nest$mperformClickInternal(Unknown Source:0)  at\nandroid.view.View$PerformClick.run(View.java:29334)  at\nandroid.os.Handler.handleCallback(Handler.java:942)  at\nandroid.os.Handler.dispatchMessage(Handler.java:99)  at\nandroid.os.Looper.loopOnce(Looper.java:201)  at\nandroid.os.Looper.loop(Looper.java:288)  at\nandroid.app.ActivityThread.main(ActivityThread.java:7872)  at\njava.lang.reflect.Method.invoke(Native Method) at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n</blockquote>\n<p>I checked that it all the values are  a DOUBLE and did not have any value  like &quot;Calories: 43&quot; and was only 43, thats what i do in this part of the code in the last activity:</p>\n<pre><code>int calorias = Integer.parseInt(caloriasDef.getText().toString().replace(&quot;Calorias&quot;,&quot;&quot;));\nint tiempo = Integer.parseInt(tiempoDef.getText().toString().replace(&quot;Tiempo&quot;,&quot;&quot;);\n</code></pre>\n<p>The TMB and the weight are just numbers, the TMB is calculated and the weight is put just as a number.</p>\n<p>Also, the activity is registered in the manifest, i dont think there is the problem but i checked it anyways, i searched and searched around all the internet but i could not figure out what is wrong.</p>\n"},{"tags":["java","spring-webflux","hibernate-reactive"],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688798408,"creation_date":1688720967,"answer_id":76635525,"question_id":76619519,"body_markdown":"[I&#39;ve created an issue][1] to keep track of this feature.\r\n\r\nIn the  meanwhile, in Hibernate Reactive, you could create a wrapper around `ReactiveConnection` and intercepts all the calls related to the execution of the query.\r\n\r\nFor example, you can have:\r\n\r\n```java\r\npublic class ConnectionInterceptor implements ReactiveConnection {\r\n   private final ReactiveConnection delegate;\r\n\r\n   public ConnectionInterceptor(ReactiveConnection delegate) {\r\n      this.delegate = delegate;\r\n   }\r\n\r\n   public CompletionStage&lt;Void&gt; execute(String sql) {\r\n       String newSql = convert(sql);\r\n       return delegate.execute(newSql);\r\n   }\r\n\r\n   // ... You need to implement all the other methods running a query\r\n}\r\n```\r\n\r\n```java\r\npackage my.example;\r\n\r\npublic class MyPool extends DefaultSqlClientPool {\r\n\r\n   public CompletionStage&lt;ReactiveConnection&gt; getConnection() {\r\n     return super.getConnection().thenApply( ConnectionInterceptor::new );\r\n   }\r\n\r\n}\r\n```\r\n\r\nYou can register the new pool class using the property `hibernate.vertx.pool.class`:\r\n```\r\nhibernate.vertx.pool.class = my.example.MyPool\r\n```\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-reactive/issues/1700","title":"SQL inspection/injection in Hibernate Reactive","body":"<p><a href=\"https://github.com/hibernate/hibernate-reactive/issues/1700\" rel=\"nofollow noreferrer\">I've created an issue</a> to keep track of this feature.</p>\n<p>In the  meanwhile, in Hibernate Reactive, you could create a wrapper around <code>ReactiveConnection</code> and intercepts all the calls related to the execution of the query.</p>\n<p>For example, you can have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConnectionInterceptor implements ReactiveConnection {\n   private final ReactiveConnection delegate;\n\n   public ConnectionInterceptor(ReactiveConnection delegate) {\n      this.delegate = delegate;\n   }\n\n   public CompletionStage&lt;Void&gt; execute(String sql) {\n       String newSql = convert(sql);\n       return delegate.execute(newSql);\n   }\n\n   // ... You need to implement all the other methods running a query\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package my.example;\n\npublic class MyPool extends DefaultSqlClientPool {\n\n   public CompletionStage&lt;ReactiveConnection&gt; getConnection() {\n     return super.getConnection().thenApply( ConnectionInterceptor::new );\n   }\n\n}\n</code></pre>\n<p>You can register the new pool class using the property <code>hibernate.vertx.pool.class</code>:</p>\n<pre><code>hibernate.vertx.pool.class = my.example.MyPool\n</code></pre>\n"}],"owner":{"account_id":8416879,"reputation":667,"user_id":6317008,"accept_rate":78,"display_name":"SGiux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76635525,"answer_count":1,"score":0,"last_activity_date":1688798408,"creation_date":1688553532,"question_id":76619519,"body_markdown":"Hibernate allows to inspect every SQL command and possibly returning a different SQL command before it is executed, thankfully to the [StatementInspector SPI](https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/resource/jdbc/spi/StatementInspector.java).\r\n\r\nIn our (blocking) Spring Web App we are using it to implement multi-tenancy at row level. The user authenticates and in hibernate&#39;s `inspect` method we get user authentication info from the Spring `SecurityContextHolder`, which we use to change the SQL and implement multi-tenancy. Everything works, as each HTTP request is bound to a specify Thread that will completely fulfill the request.\r\n\r\nIn a reactive version of the above app this doesn&#39;t work. `ReactiveSecurityContextHolder` returns the asynchronous type `Mono` and the hibernate&#39;s `inspect` method return a sync type (`String`).\r\n\r\nIs there a similar method like `inspect` in hibernate reactive to keep the similar multitenancy implementation like in the blocking version, maybe something like `Mono&lt;String&gt; inspect(String sql);`\r\n\r\nI wasn&#39;t able to find it.","title":"SQL inspection/injection in Hibernate Reactive","body":"<p>Hibernate allows to inspect every SQL command and possibly returning a different SQL command before it is executed, thankfully to the <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-core/src/main/java/org/hibernate/resource/jdbc/spi/StatementInspector.java\" rel=\"nofollow noreferrer\">StatementInspector SPI</a>.</p>\n<p>In our (blocking) Spring Web App we are using it to implement multi-tenancy at row level. The user authenticates and in hibernate's <code>inspect</code> method we get user authentication info from the Spring <code>SecurityContextHolder</code>, which we use to change the SQL and implement multi-tenancy. Everything works, as each HTTP request is bound to a specify Thread that will completely fulfill the request.</p>\n<p>In a reactive version of the above app this doesn't work. <code>ReactiveSecurityContextHolder</code> returns the asynchronous type <code>Mono</code> and the hibernate's <code>inspect</code> method return a sync type (<code>String</code>).</p>\n<p>Is there a similar method like <code>inspect</code> in hibernate reactive to keep the similar multitenancy implementation like in the blocking version, maybe something like <code>Mono&lt;String&gt; inspect(String sql);</code></p>\n<p>I wasn't able to find it.</p>\n"},{"tags":["java","scala","playframework"],"answers":[{"tags":[],"owner":{"account_id":7034556,"reputation":12325,"user_id":5389127,"display_name":"Ga&#235;l J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688797577,"creation_date":1688797257,"answer_id":76641645,"question_id":76627420,"body_markdown":"It&#39;s expected and [documented](https://www.playframework.com/documentation/2.8.x/Filters#Default-Filters).\r\n\r\n&gt; Play comes with a default set of enabled filters, defined through configuration. If the property `play.http.filters` is null, then the default is now `play.api.http.EnabledFilters`, which loads up the filters defined by fully qualified class name in the `play.filters.enabled` configuration property.\r\n&gt;\r\n&gt; (...)\r\n&gt;\r\n&gt; You can also combine `EnabledFilters` with your own filters in code:\r\n&gt;\r\n&gt; Scala:\r\n&gt; ```scala\r\n&gt; class Filters @Inject() (enabledFilters: EnabledFilters, corsFilter: CORSFilter)\r\n&gt;    extends DefaultHttpFilters(enabledFilters.filters :+ corsFilter: _*)\r\n&gt; ```\r\n&gt;\r\n&gt; Java:\r\n&gt; ```java\r\n&gt; public class Filters extends DefaultHttpFilters {\r\n&gt;\r\n&gt;   @Inject\r\n&gt;   public Filters(EnabledFilters enabledFilters, CORSFilter corsFilter) {\r\n&gt;     super(combine(enabledFilters.asJava().getFilters(), corsFilter.asJava()));\r\n&gt;   }\r\n&gt;\r\n&gt;   private static List&lt;EssentialFilter&gt; combine(\r\n&gt;       List&lt;EssentialFilter&gt; filters, EssentialFilter toAppend) {\r\n&gt;     List&lt;EssentialFilter&gt; combinedFilters = new ArrayList&lt;&gt;(filters);\r\n&gt;     combinedFilters.add(toAppend);\r\n&gt;     return combinedFilters;\r\n&gt;   }\r\n&gt; }\r\n&gt; ```\r\n&gt;\r\n&gt; Otherwise, if you have a `Filters` class in the root or have `play.http.filters` defined explicitly, it will take precedence over the `EnabledFilters` functionality described below.\r\n\r\nIf you change the value of `play.http.filters` configuration to your custom class, then all the logic to add/remove filters with `play.filters.enabled` is not applied anymore.\r\n\r\nEither:\r\n- stick to configuration file only filters with the default mechanism,\r\n- or inject `EnabledFilters` in your `com.xxx.xxx.Filters` to support both,\r\n- or load all filters from your `com.xxx.xxx.Filters` class (this would mean also the ones declared in default config files of Play, not recommended).","title":"Play framework &quot;play.filters.enabled&quot; cannot work if &quot;play.http.filters&quot; is set","body":"<p>It's expected and <a href=\"https://www.playframework.com/documentation/2.8.x/Filters#Default-Filters\" rel=\"nofollow noreferrer\">documented</a>.</p>\n<blockquote>\n<p>Play comes with a default set of enabled filters, defined through configuration. If the property <code>play.http.filters</code> is null, then the default is now <code>play.api.http.EnabledFilters</code>, which loads up the filters defined by fully qualified class name in the <code>play.filters.enabled</code> configuration property.</p>\n<p>(...)</p>\n<p>You can also combine <code>EnabledFilters</code> with your own filters in code:</p>\n<p>Scala:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>class Filters @Inject() (enabledFilters: EnabledFilters, corsFilter: CORSFilter)\n   extends DefaultHttpFilters(enabledFilters.filters :+ corsFilter: _*)\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Filters extends DefaultHttpFilters {\n\n  @Inject\n  public Filters(EnabledFilters enabledFilters, CORSFilter corsFilter) {\n    super(combine(enabledFilters.asJava().getFilters(), corsFilter.asJava()));\n  }\n\n  private static List&lt;EssentialFilter&gt; combine(\n      List&lt;EssentialFilter&gt; filters, EssentialFilter toAppend) {\n    List&lt;EssentialFilter&gt; combinedFilters = new ArrayList&lt;&gt;(filters);\n    combinedFilters.add(toAppend);\n    return combinedFilters;\n  }\n}\n</code></pre>\n<p>Otherwise, if you have a <code>Filters</code> class in the root or have <code>play.http.filters</code> defined explicitly, it will take precedence over the <code>EnabledFilters</code> functionality described below.</p>\n</blockquote>\n<p>If you change the value of <code>play.http.filters</code> configuration to your custom class, then all the logic to add/remove filters with <code>play.filters.enabled</code> is not applied anymore.</p>\n<p>Either:</p>\n<ul>\n<li>stick to configuration file only filters with the default mechanism,</li>\n<li>or inject <code>EnabledFilters</code> in your <code>com.xxx.xxx.Filters</code> to support both,</li>\n<li>or load all filters from your <code>com.xxx.xxx.Filters</code> class (this would mean also the ones declared in default config files of Play, not recommended).</li>\n</ul>\n"}],"owner":{"account_id":19491494,"reputation":5,"user_id":14259610,"display_name":"lemy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76641645,"answer_count":1,"score":0,"last_activity_date":1688797577,"creation_date":1688635916,"question_id":76627420,"body_markdown":"I am using play framework 2.8.16.\r\n\r\nI defined Filters.scala in my application and enable it in application.conf\r\n\r\n```\r\nplay.http.filters = com.xxx.xxx.Filters\r\n```\r\n\r\nI have another setting\r\n\r\n```\r\nplay.filters.enabled += play.filters.https.RedirectHttpsFilter\r\n```\r\n\r\nRedirectHttpsFilter will be ignored.\r\n\r\nIs it expected? How to support both?","title":"Play framework &quot;play.filters.enabled&quot; cannot work if &quot;play.http.filters&quot; is set","body":"<p>I am using play framework 2.8.16.</p>\n<p>I defined Filters.scala in my application and enable it in application.conf</p>\n<pre><code>play.http.filters = com.xxx.xxx.Filters\n</code></pre>\n<p>I have another setting</p>\n<pre><code>play.filters.enabled += play.filters.https.RedirectHttpsFilter\n</code></pre>\n<p>RedirectHttpsFilter will be ignored.</p>\n<p>Is it expected? How to support both?</p>\n"},{"tags":["java","spring-boot","kotlin","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":0,"creation_date":1688799703,"post_id":76641581,"comment_id":135125015,"body_markdown":"Do not use subscribe, and do not modify an external variable (apps).  Instead, `zip` you monos together.","body":"Do not use subscribe, and do not modify an external variable (apps).  Instead, <code>zip</code> you monos together."},{"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"score":0,"creation_date":1688828931,"post_id":76641581,"comment_id":135127950,"body_markdown":"You return `Flux.just` before the actual subscription receive anything. And, as mentioned above, don&#39;t use `subscribe` if you need the actual data.","body":"You return <code>Flux.just</code> before the actual subscription receive anything. And, as mentioned above, don&#39;t use <code>subscribe</code> if you need the actual data."}],"owner":{"account_id":28974126,"reputation":11,"user_id":22193666,"display_name":"M F"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688796201,"creation_date":1688796152,"question_id":76641581,"body_markdown":"I created an endpoint called `getApps`, that gets data from four different endpoints. `GetApps` takes the data from these four endpoints, transforms them into a unified `Apps` object then returns a list of these objects with Flux wrapped around it `Flux.just(List&lt;Apps&gt;)`. However, when calling `getApps` I&#39;m not seeing any data being returned, only an empty list.\r\n\r\nHere is my code in Kotlin. :\r\n```\r\nfun getApps(id: Long): Flux&lt;Response&gt; {\r\n        val apps = mutableListOf&lt;Apps&gt;()\r\n        var app1Success = SuccessEnum.NOT_QUERIED\r\n        var app2Success = SuccessEnum.NOT_QUERIED\r\n        var app3Success = SuccessEnum.NOT_QUERIED\r\n        var app4Success = SuccessEnum.NOT_QUERIED\r\n\r\n\r\n        //These call other endpoints using webclient.get(), which return Flux responses.\r\n        val app1Response: Flux&lt;app1Response&gt; = fetchApps1Response(id)\r\n        val app2Response: Flux&lt;app2Response&gt; = fetchApps2Response(id)\r\n        val app3Response: Flux&lt;app3Response&gt; = fetchApps3Response(id)\r\n        val app4Response: Flux&lt;app4Response&gt; = fetchApps4Response(id)\r\n\r\n        val app1List = app1Response.collectList()\r\n        val app2List = app2Response.collectList()\r\n        val app3List = app3Response.collectList()\r\n        val app4List = app4Response.collectList()\r\n\r\n        app1List.subscribe { app1Res -&gt;\r\n            val app1SuccessAndAppList = processApps(app1Res, id)\r\n            app1Success = app1SuccessAndAppList._1\r\n            apps.addAll(app1SuccessAndAppList._2)\r\n        }\r\n\r\n        app2List.subscribe { app2Res -&gt;\r\n            val app2SuccessAndAppList = processApps(app2Res, id)\r\n            app2Success = app2SuccessAndAppList._1\r\n            apps.addAll(app2SuccessAndAppList._2)\r\n        }\r\n\r\n        app3List.subscribe { app3Res -&gt;\r\n            val app3SuccessAndAppList = processApps(app3Res, id)\r\n            app3Success = app3SuccessAndAppList._1\r\n            apps.addAll(app3SuccessAndAppList._2)\r\n        }\r\n\r\n        app4List.subscribe { app4Res -&gt;\r\n            val app4SuccessAndAppList = processApps(app4Res, id)\r\n            app4Success = app4SuccessAndAppList._1\r\n            apps.addAll(app4SuccessAndAppList._2)\r\n        }\r\n        \r\n        return Flux.just(Response(\r\n            app1Success = app1Success,\r\n            app2Success = app2Success,\r\n            app3Success = app3Success,\r\n            app4Success = app4Success,\r\n            apps = apps\r\n        ))\r\n    }\r\n```\r\n\r\nI&#39;m also seeing that the SuccessEnum is being returned as SuccessEnum.NOT_QUERIED. This leads me to believe that I am just returning a Response object with the initialized values and not the data that is returned from the four other endpoints. Is it possible to return a flux object when I am waiting for the four other endpoints to return data? If so does anyone know where I went wrong? Thanks!\r\n\r\nNote: I added a CountDownLatch and for each response I do a latch.countDown(). But this makes me wait for all the responses from the endpoints.","title":"Nested Flux Endpoint Calls","body":"<p>I created an endpoint called <code>getApps</code>, that gets data from four different endpoints. <code>GetApps</code> takes the data from these four endpoints, transforms them into a unified <code>Apps</code> object then returns a list of these objects with Flux wrapped around it <code>Flux.just(List&lt;Apps&gt;)</code>. However, when calling <code>getApps</code> I'm not seeing any data being returned, only an empty list.</p>\n<p>Here is my code in Kotlin. :</p>\n<pre><code>fun getApps(id: Long): Flux&lt;Response&gt; {\n        val apps = mutableListOf&lt;Apps&gt;()\n        var app1Success = SuccessEnum.NOT_QUERIED\n        var app2Success = SuccessEnum.NOT_QUERIED\n        var app3Success = SuccessEnum.NOT_QUERIED\n        var app4Success = SuccessEnum.NOT_QUERIED\n\n\n        //These call other endpoints using webclient.get(), which return Flux responses.\n        val app1Response: Flux&lt;app1Response&gt; = fetchApps1Response(id)\n        val app2Response: Flux&lt;app2Response&gt; = fetchApps2Response(id)\n        val app3Response: Flux&lt;app3Response&gt; = fetchApps3Response(id)\n        val app4Response: Flux&lt;app4Response&gt; = fetchApps4Response(id)\n\n        val app1List = app1Response.collectList()\n        val app2List = app2Response.collectList()\n        val app3List = app3Response.collectList()\n        val app4List = app4Response.collectList()\n\n        app1List.subscribe { app1Res -&gt;\n            val app1SuccessAndAppList = processApps(app1Res, id)\n            app1Success = app1SuccessAndAppList._1\n            apps.addAll(app1SuccessAndAppList._2)\n        }\n\n        app2List.subscribe { app2Res -&gt;\n            val app2SuccessAndAppList = processApps(app2Res, id)\n            app2Success = app2SuccessAndAppList._1\n            apps.addAll(app2SuccessAndAppList._2)\n        }\n\n        app3List.subscribe { app3Res -&gt;\n            val app3SuccessAndAppList = processApps(app3Res, id)\n            app3Success = app3SuccessAndAppList._1\n            apps.addAll(app3SuccessAndAppList._2)\n        }\n\n        app4List.subscribe { app4Res -&gt;\n            val app4SuccessAndAppList = processApps(app4Res, id)\n            app4Success = app4SuccessAndAppList._1\n            apps.addAll(app4SuccessAndAppList._2)\n        }\n        \n        return Flux.just(Response(\n            app1Success = app1Success,\n            app2Success = app2Success,\n            app3Success = app3Success,\n            app4Success = app4Success,\n            apps = apps\n        ))\n    }\n</code></pre>\n<p>I'm also seeing that the SuccessEnum is being returned as SuccessEnum.NOT_QUERIED. This leads me to believe that I am just returning a Response object with the initialized values and not the data that is returned from the four other endpoints. Is it possible to return a flux object when I am waiting for the four other endpoints to return data? If so does anyone know where I went wrong? Thanks!</p>\n<p>Note: I added a CountDownLatch and for each response I do a latch.countDown(). But this makes me wait for all the responses from the endpoints.</p>\n"},{"tags":["java","spring","hibernate","postgresql","jpa"],"comments":[{"owner":{"account_id":4072209,"reputation":12687,"user_id":3344829,"accept_rate":67,"display_name":"Saravana"},"score":0,"creation_date":1462969026,"post_id":37162291,"comment_id":61860131,"body_markdown":"Please post DDL of entity ConnectwiseAgreementAdditions","body":"Please post DDL of entity ConnectwiseAgreementAdditions"},{"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"score":0,"creation_date":1462970975,"post_id":37162291,"comment_id":61861693,"body_markdown":"You are stuffing numerical prices with 2 digits after the dot into a BigDecimal with no digits after the dot, this cannot possibly be what works well.","body":"You are stuffing numerical prices with 2 digits after the dot into a BigDecimal with no digits after the dot, this cannot possibly be what works well."},{"owner":{"account_id":1623645,"reputation":35038,"user_id":1499698,"display_name":"pozs"},"score":1,"creation_date":1462971655,"post_id":37162291,"comment_id":61862336,"body_markdown":"Please check your hibernate dialect. PostgreSQL has no `double` type indeed, it is called `double precision`. Also: `Integer agreementId` has a column definition of `NUMERIC(18,2)` which makes little sense (but may work), and `boolean normalize` should have something like `columnDefinition = &quot;BOOLEAN DEFAULT false&quot;`, not just the default.","body":"Please check your hibernate dialect. PostgreSQL has no <code>double</code> type indeed, it is called <code>double precision</code>. Also: <code>Integer agreementId</code> has a column definition of <code>NUMERIC(18,2)</code> which makes little sense (but may work), and <code>boolean normalize</code> should have something like <code>columnDefinition = &quot;BOOLEAN DEFAULT false&quot;</code>, not just the default."},{"owner":{"account_id":4310403,"reputation":4362,"user_id":3886053,"display_name":"Ezequiel Tolnay"},"score":0,"creation_date":1463016279,"post_id":37162291,"comment_id":61886018,"body_markdown":"You can use the datatype float, which a shorthand alias for double precision.","body":"You can use the datatype float, which a shorthand alias for double precision."}],"answers":[{"tags":[],"owner":{"account_id":6841340,"reputation":236,"user_id":10578260,"display_name":"Guilherme Silva Sousa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688796172,"creation_date":1688796172,"answer_id":76641584,"question_id":37162291,"body_markdown":"Simple include this in the **application.properties**:\r\n\r\n`spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL95Dialect`","title":"My query does not work. Type &quot;double&quot; does not exist","body":"<p>Simple include this in the <strong>application.properties</strong>:</p>\n<p><code>spring.jpa.database-platform=org.hibernate.dialect.PostgreSQL95Dialect</code></p>\n"}],"owner":{"account_id":6362915,"reputation":998,"user_id":4937841,"accept_rate":65,"display_name":"DamienMiheev"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2149,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688796172,"creation_date":1462968612,"question_id":37162291,"body_markdown":"I tried that:\r\n\r\n    @Query(&quot;SELECT AVG(a.unitPrice) FROM ConnectwiseAgreementAdditions a WHERE a.agreementId = :agreementId &quot; +\r\n            &quot;AND a.productId IN (SELECT p.id FROM ConnectwiseProductFindResult p &quot; +\r\n            &quot;WHERE LOWER(p.subCategory) LIKE LOWER(&#39;%server%&#39;) &quot; +\r\n            &quot;OR LOWER(p.subCategory) LIKE LOWER(&#39;%workstation%&#39;))&quot;)\r\n    BigDecimal geAgreementDevicetUnitPrice(@Param(&quot;agreementId&quot;) Integer agreementId);\r\n\r\nBut i have exception: \r\n\r\n2016-05-11 14:58:05.773 ERROR 28016 --- [main] o.h.e.j.s.SqlExceptionHelper             : ERROR: type &quot;double&quot; does not exist\r\n  Position: 44\r\nException in thread &quot;main&quot; org.springframework.orm.jpa.JpaSystemException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet\r\n\r\nWhat is wrong?\r\nI use Postgresql driver.\r\n\r\n**UPDATE**\r\nMy entity:\r\n\r\n    \r\n    @Entity\r\n    @Table(name = &quot;connectwise_agreement_additions&quot;)\r\n    public class ConnectwiseAgreementAdditions {\r\n    @Id\r\n    @Column\r\n    private Integer id;\r\n\r\n    @Column(columnDefinition = &quot;DEFAULT false&quot;)\r\n    private boolean normalize = false;\r\n\r\n    @Column(name = &quot;agreement_id&quot;, columnDefinition = &quot;NUMERIC(18,2)&quot;)\r\n    private Integer agreementId;\r\n\r\n    @Column(name = &quot;product_id&quot;)\r\n    private Integer productId;\r\n\r\n    @Column(name = &quot;unit_price&quot;, columnDefinition = &quot;NUMERIC(18,2)&quot;)\r\n    private BigDecimal unitPrice;\r\n    }\r\n\r\n","title":"My query does not work. Type &quot;double&quot; does not exist","body":"<p>I tried that:</p>\n\n<pre><code>@Query(\"SELECT AVG(a.unitPrice) FROM ConnectwiseAgreementAdditions a WHERE a.agreementId = :agreementId \" +\n        \"AND a.productId IN (SELECT p.id FROM ConnectwiseProductFindResult p \" +\n        \"WHERE LOWER(p.subCategory) LIKE LOWER('%server%') \" +\n        \"OR LOWER(p.subCategory) LIKE LOWER('%workstation%'))\")\nBigDecimal geAgreementDevicetUnitPrice(@Param(\"agreementId\") Integer agreementId);\n</code></pre>\n\n<p>But i have exception: </p>\n\n<p>2016-05-11 14:58:05.773 ERROR 28016 --- [main] o.h.e.j.s.SqlExceptionHelper             : ERROR: type \"double\" does not exist\n  Position: 44\nException in thread \"main\" org.springframework.orm.jpa.JpaSystemException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet; nested exception is javax.persistence.PersistenceException: org.hibernate.exception.SQLGrammarException: could not extract ResultSet</p>\n\n<p>What is wrong?\nI use Postgresql driver.</p>\n\n<p><strong>UPDATE</strong>\nMy entity:</p>\n\n<pre><code>@Entity\n@Table(name = \"connectwise_agreement_additions\")\npublic class ConnectwiseAgreementAdditions {\n@Id\n@Column\nprivate Integer id;\n\n@Column(columnDefinition = \"DEFAULT false\")\nprivate boolean normalize = false;\n\n@Column(name = \"agreement_id\", columnDefinition = \"NUMERIC(18,2)\")\nprivate Integer agreementId;\n\n@Column(name = \"product_id\")\nprivate Integer productId;\n\n@Column(name = \"unit_price\", columnDefinition = \"NUMERIC(18,2)\")\nprivate BigDecimal unitPrice;\n}\n</code></pre>\n"},{"tags":["java","geotools","geopackage"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1688799867,"post_id":76641542,"comment_id":135125028,"body_markdown":"That is a Java version or lib mismatch. `I download the GeoTools jars`, probably the wrong one. You should go with maven or similiar https://docs.geotools.org/stable/userguide/tutorial/quickstart/netbeans.html","body":"That is a Java version or lib mismatch. <code>I download the GeoTools jars</code>, probably the wrong one. You should go with maven or similiar <a href=\"https://docs.geotools.org/stable/userguide/tutorial/quickstart/netbeans.html\" rel=\"nofollow noreferrer\">docs.geotools.org/stable/userguide/tutorial/quickstart/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688801127,"post_id":76641542,"comment_id":135125109,"body_markdown":"&quot;USJ_hranice_0.gpkg&quot;.  should be the fully qualified class name of which it should be a .class but without the .class extension and  it also must have all its hierarchy names. If it is in a .jar the jar should been notified on the startup command line so getResource can look inside it for the class. If your resource is a resource not a class then it should been package in (for web server .war)  the META-INF directory and perhaps some notification in the .jar manifest with it accord the rules for jars, or in a special folder in the jar packaging structure e.g. named &quot;resources&quot;","body":"&quot;USJ_hranice_0.gpkg&quot;.  should be the fully qualified class name of which it should be a .class but without the .class extension and  it also must have all its hierarchy names. If it is in a .jar the jar should been notified on the startup command line so getResource can look inside it for the class. If your resource is a resource not a class then it should been package in (for web server .war)  the META-INF directory and perhaps some notification in the .jar manifest with it accord the rules for jars, or in a special folder in the jar packaging structure e.g. named &quot;resources&quot;"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688801852,"post_id":76641542,"comment_id":135125163,"body_markdown":"Opening a GeoPackage.  http://www.geopackage.org/guidance/getting-started.html.     The .gpkg file is for use with SQLite fdtabase","body":"Opening a GeoPackage.  <a href=\"http://www.geopackage.org/guidance/getting-started.html\" rel=\"nofollow noreferrer\">geopackage.org/guidance/getting-started.html</a>.     The .gpkg file is for use with SQLite fdtabase"},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1688812144,"post_id":76641542,"comment_id":135126125,"body_markdown":"https://gis.stackexchange.com/questions/445716/bulk-writing-to-geopackage-with-geotools - contains a pretty good example - as @PeterMmm says you&#39;ll want to use Maven and a pom file to handle the dependencies required for a GeoTools project.","body":"<a href=\"https://gis.stackexchange.com/questions/445716/bulk-writing-to-geopackage-with-geotools\" title=\"bulk writing to geopackage with geotools\">gis.stackexchange.com/questions/445716/&hellip;</a> - contains a pretty good example - as @PeterMmm says you&#39;ll want to use Maven and a pom file to handle the dependencies required for a GeoTools project."}],"owner":{"account_id":28974249,"reputation":1,"user_id":22193765,"display_name":"locon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688795325,"creation_date":1688795050,"question_id":76641542,"body_markdown":"I have two things I want to perform with geopackage files. Only vector polygone layers I want to work with.\r\n1/ access specific layer within given geopackage and retrieve rows from it (attribute table when working in QGIS)\r\n2/ I have coordinates and I want to search for polygone in which the point exists, in specific layer of geopackage. I want to retrieve whole row of such polygone (like in QGIS layer&#39;s attribute table).\r\nI know the GeoTools covers this functionality, but never used such geo library and I do not know how to work with it.\r\nWhen I copied some examples from web, there are still occuring some errors.\r\nI work in NetBeans, I download the GeoTools jars, created new Library and added it to my project.\r\n[project explorer](https://i.stack.imgur.com/DzTya.png)\r\nCan anybody give me complete functioning example?\r\n\r\nI tried this piece of code:\r\n````\r\nGeoPackageReader reader;\r\n        try {\r\n            reader = new GeoPackageReader(getClass().getResource(&quot;USJ_hranice_0.gpkg&quot;), null);\r\n            System.out.println(Arrays.asList(reader.getGridCoverageNames()));\r\n        } catch (IOException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n````\r\nAnd this error occurs:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/measure/UnconvertibleException\r\n\tat org.geotools.referencing.crs.DefaultEngineeringCRS.&lt;clinit&gt;(DefaultEngineeringCRS.java:78)\r\n\tat org.geotools.referencing.factory.epsg.CartesianAuthorityFactory.&lt;clinit&gt;(CartesianAuthorityFactory.java:54)\r\n\tat org.geotools.coverage.grid.io.AbstractGridFormat.&lt;clinit&gt;(AbstractGridFormat.java:89)\r\n\tat org.geotools.geopkg.mosaic.GeoPackageReader.&lt;init&gt;(GeoPackageReader.java:102)\r\n\tat Main.Test.test(Test.java:22)\r\n\tat Main.Main.main(Main.java:20)\r\nCaused by: java.lang.ClassNotFoundException: javax.measure.UnconvertibleException\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 6 more\r\n```\r\n","title":"Can anybody give me example of processing GeoPackage file with Geotools?","body":"<p>I have two things I want to perform with geopackage files. Only vector polygone layers I want to work with.\n1/ access specific layer within given geopackage and retrieve rows from it (attribute table when working in QGIS)\n2/ I have coordinates and I want to search for polygone in which the point exists, in specific layer of geopackage. I want to retrieve whole row of such polygone (like in QGIS layer's attribute table).\nI know the GeoTools covers this functionality, but never used such geo library and I do not know how to work with it.\nWhen I copied some examples from web, there are still occuring some errors.\nI work in NetBeans, I download the GeoTools jars, created new Library and added it to my project.\n<a href=\"https://i.stack.imgur.com/DzTya.png\" rel=\"nofollow noreferrer\">project explorer</a>\nCan anybody give me complete functioning example?</p>\n<p>I tried this piece of code:</p>\n<pre><code>GeoPackageReader reader;\n        try {\n            reader = new GeoPackageReader(getClass().getResource(&quot;USJ_hranice_0.gpkg&quot;), null);\n            System.out.println(Arrays.asList(reader.getGridCoverageNames()));\n        } catch (IOException ex) {\n            System.out.println(ex.getMessage());\n        }\n</code></pre>\n<p>And this error occurs:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/measure/UnconvertibleException\n    at org.geotools.referencing.crs.DefaultEngineeringCRS.&lt;clinit&gt;(DefaultEngineeringCRS.java:78)\n    at org.geotools.referencing.factory.epsg.CartesianAuthorityFactory.&lt;clinit&gt;(CartesianAuthorityFactory.java:54)\n    at org.geotools.coverage.grid.io.AbstractGridFormat.&lt;clinit&gt;(AbstractGridFormat.java:89)\n    at org.geotools.geopkg.mosaic.GeoPackageReader.&lt;init&gt;(GeoPackageReader.java:102)\n    at Main.Test.test(Test.java:22)\n    at Main.Main.main(Main.java:20)\nCaused by: java.lang.ClassNotFoundException: javax.measure.UnconvertibleException\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 6 more\n</code></pre>\n"},{"tags":["java","android","android-camera2","android-camerax"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1688920811,"post_id":76641406,"comment_id":135136169,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28974064,"reputation":1,"user_id":22193620,"display_name":"Gabriel432135"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688791625,"creation_date":1688791514,"question_id":76641406,"body_markdown":"I&#39;m trying to implement a camera preview. I first tried to do this with the Camera2 api. Until the preview itself was fine, but the log showed that the camera was being opened at 1280x960 resolution: &quot;Starting camera: 1280x960 -&gt; NV21&quot; which is the 4:3 resolution of the emulator camera closer to 1280x720, and just cropping the view. Even with the latter of 1280x720 being one of those returned by &quot;Characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP)&quot;. I&#39;ve done everything but every resolution I set, it ignores it and chooses the closest 4:3. I switched to CameraX, but the &quot;.setTargetResolution&quot; is giving the same problem, even though I followed the [google tutorial][1]. And it&#39;s not just on the emulator, I tested it on a real device and that happened too. I downloaded an app and changed the camera resolution and the log showed &quot;Starting camera: 1280x720 -&gt; NV21&quot;. That is, it is possible, but I&#39;m not getting it.\r\n\r\nI&#39;ve already tested it on real devices, I&#39;ve already switched from camera2 to cameraX, but even so, the camera continues to start only at 4:3 resolutions and cuts the view to 16:9\r\n\r\n\r\n  [1]: https://developer.android.com/codelabs/camerax-getting-started?hl=pt-%20br","title":"Only 4:3 resolutions are accepted by CameraX&#39;s &quot;setTargetResolution&quot; or Camera2&#39;s &quot;setDefaultBufferSize&quot;","body":"<p>I'm trying to implement a camera preview. I first tried to do this with the Camera2 api. Until the preview itself was fine, but the log showed that the camera was being opened at 1280x960 resolution: &quot;Starting camera: 1280x960 -&gt; NV21&quot; which is the 4:3 resolution of the emulator camera closer to 1280x720, and just cropping the view. Even with the latter of 1280x720 being one of those returned by &quot;Characteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP)&quot;. I've done everything but every resolution I set, it ignores it and chooses the closest 4:3. I switched to CameraX, but the &quot;.setTargetResolution&quot; is giving the same problem, even though I followed the <a href=\"https://developer.android.com/codelabs/camerax-getting-started?hl=pt-%20br\" rel=\"nofollow noreferrer\">google tutorial</a>. And it's not just on the emulator, I tested it on a real device and that happened too. I downloaded an app and changed the camera resolution and the log showed &quot;Starting camera: 1280x720 -&gt; NV21&quot;. That is, it is possible, but I'm not getting it.</p>\n<p>I've already tested it on real devices, I've already switched from camera2 to cameraX, but even so, the camera continues to start only at 4:3 resolutions and cuts the view to 16:9</p>\n"},{"tags":["java","spring","spring-boot","spring-validator","spring-validation"],"owner":{"account_id":13637473,"reputation":1,"user_id":9838126,"display_name":"QIAOMO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688790810,"creation_date":1688788681,"question_id":76641297,"body_markdown":"```java\r\n@Data\r\npublic class TestData {\r\n\r\n    private Integer x;\r\n    private Integer y;\r\n\r\n    @AssertTrue\r\n    public boolean isValid() {\r\n        String message;\r\n\r\n        if (x &gt; y) {\r\n            message = &quot;message1...&quot;; // here\r\n            return false;\r\n        }\r\n        else if (x &lt; y) {\r\n            message = &quot;messsage2...&quot; // and here\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nI know it&#39;s possible to set the message in the `@AssertTrue` annotation (`@AssertTrue(message = &quot;default messsage&quot;)`), but I wonder if there is a way to dynamically set the message at runtime.","title":"How can I custom spring validation message at runtime?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class TestData {\n\n    private Integer x;\n    private Integer y;\n\n    @AssertTrue\n    public boolean isValid() {\n        String message;\n\n        if (x &gt; y) {\n            message = &quot;message1...&quot;; // here\n            return false;\n        }\n        else if (x &lt; y) {\n            message = &quot;messsage2...&quot; // and here\n            return false;\n        }\n        else {\n            return true;\n        }\n    }\n\n}\n</code></pre>\n<p>I know it's possible to set the message in the <code>@AssertTrue</code> annotation (<code>@AssertTrue(message = &quot;default messsage&quot;)</code>), but I wonder if there is a way to dynamically set the message at runtime.</p>\n"},{"tags":["java","multithreading","jcstress"],"comments":[{"owner":{"account_id":292208,"reputation":10665,"user_id":2245707,"accept_rate":17,"display_name":"pveentjer"},"score":0,"creation_date":1664113724,"post_id":73844340,"comment_id":130392309,"body_markdown":"I think your test is choking on the JVM version because of the StressXXX argument problems. Can you try it with e.g. Java 19?","body":"I think your test is choking on the JVM version because of the StressXXX argument problems. Can you try it with e.g. Java 19?"},{"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"score":0,"creation_date":1664120029,"post_id":73844340,"comment_id":130393644,"body_markdown":"@pveentjer tried. Not working","body":"@pveentjer tried. Not working"}],"answers":[{"tags":[],"owner":{"account_id":12671791,"reputation":624,"user_id":9209083,"display_name":"Anton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688790493,"creation_date":1688790181,"answer_id":76641359,"question_id":73844340,"body_markdown":"I had the same problem, switching to Java 11,17,19 didn&#39;t help me either. \r\nThe problem disappeared when I run jcstress in generated project from maven archetype \r\n\r\n    mvn archetype:generate &quot;-DinteractiveMode=false&quot; &quot;-DarchetypeGroupId=org.openjdk.jcstress&quot; &quot;-DarchetypeArtifactId=jcstress-java-test-archetype&quot; &quot;-DarchetypeVersion=0.4&quot; &quot;-DgroupId=org.sample&quot; &quot;-DartifactId=test&quot; &quot;-Dversion=1.0&quot;\r\nand use jar\r\n\r\n    java -jar target/jcstress.jar -t org.sample.MyConcurrencyTest\r\n\r\n[Using jcstress As Separate Dependency][1]\r\n\r\n\r\n[Running first JCStress test][2]\r\n\r\n&lt;hr&gt;\r\n\r\nSince 2022, IntelliJ has plugin [JCStress][3], but it looks like it doesn&#39;t work, neither for custom projects nor for cloned jcstress [git project][4]. It seems pretty simple, just run the test as if it would be the main method. But I didn&#39;t find the way how to fix it\r\n\r\n[![enter image description here][5]][5]\r\n\r\n\r\n  [1]: https://github.com/openjdk/jcstress#using-jcstress-as-separate-dependency\r\n  [2]: https://stackoverflow.com/questions/53458367/running-first-jcstress-test/76635904#76635904\r\n  [3]: https://plugins.jetbrains.com/plugin/19779-jcstress\r\n  [4]: https://github.com/openjdk/jcstress\r\n  [5]: https://i.stack.imgur.com/oZGwb.png","title":"faile in using jcstress due to tests can&#39;t be found","body":"<p>I had the same problem, switching to Java 11,17,19 didn't help me either.\nThe problem disappeared when I run jcstress in generated project from maven archetype</p>\n<pre><code>mvn archetype:generate &quot;-DinteractiveMode=false&quot; &quot;-DarchetypeGroupId=org.openjdk.jcstress&quot; &quot;-DarchetypeArtifactId=jcstress-java-test-archetype&quot; &quot;-DarchetypeVersion=0.4&quot; &quot;-DgroupId=org.sample&quot; &quot;-DartifactId=test&quot; &quot;-Dversion=1.0&quot;\n</code></pre>\n<p>and use jar</p>\n<pre><code>java -jar target/jcstress.jar -t org.sample.MyConcurrencyTest\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jcstress#using-jcstress-as-separate-dependency\" rel=\"nofollow noreferrer\">Using jcstress As Separate Dependency</a></p>\n<p><a href=\"https://stackoverflow.com/questions/53458367/running-first-jcstress-test/76635904#76635904\">Running first JCStress test</a></p>\n<hr>\n<p>Since 2022, IntelliJ has plugin <a href=\"https://plugins.jetbrains.com/plugin/19779-jcstress\" rel=\"nofollow noreferrer\">JCStress</a>, but it looks like it doesn't work, neither for custom projects nor for cloned jcstress <a href=\"https://github.com/openjdk/jcstress\" rel=\"nofollow noreferrer\">git project</a>. It seems pretty simple, just run the test as if it would be the main method. But I didn't find the way how to fix it</p>\n<p><a href=\"https://i.stack.imgur.com/oZGwb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oZGwb.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":4311404,"reputation":571,"user_id":3522338,"accept_rate":55,"display_name":"MMMMMCCLXXVII"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76641359,"answer_count":1,"score":0,"last_activity_date":1688790493,"creation_date":1664107342,"question_id":73844340,"body_markdown":"I try to use jcstress to do some test in IDEA\r\nand here is the configuration in IDEA\r\n[![enter image description here][1]][1]\r\n\r\nthe code is not the point, but i will post it anyway\r\n```java\r\n@JCStressTest\r\n@Outcome(id={&quot;1&quot;,&quot;4&quot;},expect = Expect.ACCEPTABLE,desc=&quot;ok&quot;)\r\n@Outcome(id=&quot;0&quot;,expect = Expect.ACCEPTABLE_INTERESTING,desc = &quot;danger&quot;)\r\n@State\r\npublic class OrderingTest01 {\r\n    int num = 0;\r\n    boolean ready = false;\r\n\r\n    @Actor\r\n    public void actor1(IJ_Result r){\r\n        if(ready){\r\n            r.r1 = num + num;\r\n        }else{\r\n            r.r1 =1;\r\n        }\r\n    }\r\n\r\n    @Actor\r\n    public void actor2(IJ_Result r){\r\n        num =2;\r\n        ready = true;\r\n    }\r\n}\r\n```\r\n\r\nI got following result when i run it\r\n```\r\nJava Concurrency Stress Tests\r\n---------------------------------------------------------------------------------\r\nRev: a0cc333318f0a3e5, built by shade with 11.0.8-testing at 2020-10-14T09:49:41Z\r\n\r\nBurning up to figure out the exact CPU count....... done!\r\n\r\nProbing the target OS:\r\n (all failures are non-fatal, but may affect testing accuracy)\r\n\r\n----- [FAILED] Trying to set affinity with taskset\r\nCannot run program &quot;taskset&quot;: error=2, No such file or directory\r\n\r\nInitializing and probing the target VM: \r\n (all failures are non-fatal, but may affect testing accuracy)\r\n\r\n----- [OK] Unlocking diagnostic VM options\r\n----- [OK] Trimming down the default VM heap size to 1/16-th of max RAM\r\n----- [OK] Trimming down the number of compiler threads\r\n----- [OK] Trimming down the number of parallel GC threads\r\n----- [OK] Trimming down the number of concurrent GC threads\r\n----- [OK] Trimming down the number of G1 concurrent refinement GC threads\r\n----- [OK] Testing @Contended works on all results and infra objects\r\n----- [OK] Unlocking Whitebox API for online de-optimization: all methods\r\n----- [OK] Unlocking Whitebox API for online de-optimization: selected methods\r\n----- [FAILED] Unlocking C2 local code motion randomizer\r\nError: VM option &#39;StressLCM&#39; is develop and is available only in debug version of VM.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n----- [FAILED] Unlocking C2 global code motion randomizer\r\nError: VM option &#39;StressGCM&#39; is develop and is available only in debug version of VM.\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n----- [FAILED] Unlocking C2 iterative global value numbering randomizer\r\nUnrecognized VM option &#39;StressIGVN&#39;\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n\r\n----- [OK] Testing allocation profiling\r\n----- [FAILED] Trying Thread.onSpinWait\r\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: java.lang.Thread.onSpinWait()V\r\n\tat org.openjdk.jcstress.vm.ThreadSpinWaitTestMain.main(ThreadSpinWaitTestMain.java:30)\r\n\r\n\r\nProbing what VM modes are available:\r\n (failures are non-fatal, but may miss some interesting cases)\r\n\r\n----- [OK] [-Xint]\r\n----- [OK] [-XX:TieredStopAtLevel=1]\r\n----- [OK] [-XX:-TieredCompilation]\r\n----- [OK] [-XX:-TieredCompilation]\r\n\r\n  Hardware CPUs in use: 16, using plain hard busywait.\r\n  Test preset mode: &quot;default&quot;\r\n  Writing the test results to &quot;jcstress-results-2022-09-25-19-43-58.bin.gz&quot;\r\n  Parsing results to &quot;results/&quot;\r\n  Running each test matching &quot;OrderingTest01&quot; for 1 forks, 5 iterations, 1000 ms each\r\n  Each JVM would execute at most 5 tests in the row.\r\n  Solo stride size will be autobalanced within [10, 10000] elements, but taking no more than 100 Mb.\r\n\r\nFATAL: No matching tests.\r\n\r\n```\r\n\r\nShouldn&#39;t it be like giving some `Run Results` and a file named index.html?\r\nWhat&#39;s the mean of `FATAL: No matching tests.`??? \r\n\r\nOr is there something wrong with the configuration???\r\n\r\n  [1]: https://i.stack.imgur.com/2dGnD.png\r\n\r\n","title":"faile in using jcstress due to tests can&#39;t be found","body":"<p>I try to use jcstress to do some test in IDEA\nand here is the configuration in IDEA\n<a href=\"https://i.stack.imgur.com/2dGnD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2dGnD.png\" alt=\"enter image description here\" /></a></p>\n<p>the code is not the point, but i will post it anyway</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JCStressTest\n@Outcome(id={&quot;1&quot;,&quot;4&quot;},expect = Expect.ACCEPTABLE,desc=&quot;ok&quot;)\n@Outcome(id=&quot;0&quot;,expect = Expect.ACCEPTABLE_INTERESTING,desc = &quot;danger&quot;)\n@State\npublic class OrderingTest01 {\n    int num = 0;\n    boolean ready = false;\n\n    @Actor\n    public void actor1(IJ_Result r){\n        if(ready){\n            r.r1 = num + num;\n        }else{\n            r.r1 =1;\n        }\n    }\n\n    @Actor\n    public void actor2(IJ_Result r){\n        num =2;\n        ready = true;\n    }\n}\n</code></pre>\n<p>I got following result when i run it</p>\n<pre><code>Java Concurrency Stress Tests\n---------------------------------------------------------------------------------\nRev: a0cc333318f0a3e5, built by shade with 11.0.8-testing at 2020-10-14T09:49:41Z\n\nBurning up to figure out the exact CPU count....... done!\n\nProbing the target OS:\n (all failures are non-fatal, but may affect testing accuracy)\n\n----- [FAILED] Trying to set affinity with taskset\nCannot run program &quot;taskset&quot;: error=2, No such file or directory\n\nInitializing and probing the target VM: \n (all failures are non-fatal, but may affect testing accuracy)\n\n----- [OK] Unlocking diagnostic VM options\n----- [OK] Trimming down the default VM heap size to 1/16-th of max RAM\n----- [OK] Trimming down the number of compiler threads\n----- [OK] Trimming down the number of parallel GC threads\n----- [OK] Trimming down the number of concurrent GC threads\n----- [OK] Trimming down the number of G1 concurrent refinement GC threads\n----- [OK] Testing @Contended works on all results and infra objects\n----- [OK] Unlocking Whitebox API for online de-optimization: all methods\n----- [OK] Unlocking Whitebox API for online de-optimization: selected methods\n----- [FAILED] Unlocking C2 local code motion randomizer\nError: VM option 'StressLCM' is develop and is available only in debug version of VM.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n----- [FAILED] Unlocking C2 global code motion randomizer\nError: VM option 'StressGCM' is develop and is available only in debug version of VM.\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n----- [FAILED] Unlocking C2 iterative global value numbering randomizer\nUnrecognized VM option 'StressIGVN'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n----- [OK] Testing allocation profiling\n----- [FAILED] Trying Thread.onSpinWait\nException in thread &quot;main&quot; java.lang.NoSuchMethodError: java.lang.Thread.onSpinWait()V\n    at org.openjdk.jcstress.vm.ThreadSpinWaitTestMain.main(ThreadSpinWaitTestMain.java:30)\n\n\nProbing what VM modes are available:\n (failures are non-fatal, but may miss some interesting cases)\n\n----- [OK] [-Xint]\n----- [OK] [-XX:TieredStopAtLevel=1]\n----- [OK] [-XX:-TieredCompilation]\n----- [OK] [-XX:-TieredCompilation]\n\n  Hardware CPUs in use: 16, using plain hard busywait.\n  Test preset mode: &quot;default&quot;\n  Writing the test results to &quot;jcstress-results-2022-09-25-19-43-58.bin.gz&quot;\n  Parsing results to &quot;results/&quot;\n  Running each test matching &quot;OrderingTest01&quot; for 1 forks, 5 iterations, 1000 ms each\n  Each JVM would execute at most 5 tests in the row.\n  Solo stride size will be autobalanced within [10, 10000] elements, but taking no more than 100 Mb.\n\nFATAL: No matching tests.\n\n</code></pre>\n<p>Shouldn't it be like giving some <code>Run Results</code> and a file named index.html?\nWhat's the mean of <code>FATAL: No matching tests.</code>???</p>\n<p>Or is there something wrong with the configuration???</p>\n"},{"tags":["java","callback","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":16012120,"reputation":91,"user_id":11555915,"display_name":"Samreach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688789477,"creation_date":1688789477,"answer_id":76641332,"question_id":76545421,"body_markdown":"Please use TelegramApiv 6.7.0, it supports new features of telegram API.\r\nAfter reading your code, there are some point was missing in `if(update.getMessage()...)` this will error. we should check `update.hasMessage()` first to prevent exception.\r\n\r\n--------\r\nAny ways, you can review my code, I wrote follow your structures.\r\n\r\n```java\r\n\r\npublic class InlineBot extends TelegramLongPollingBot {\r\n    @Override\r\n    public void onUpdateReceived(Update update) {\r\n        if(update.hasMessage() &amp;&amp; update.getMessage().getText().equals(&quot;/menu&quot;)){ // check hasMessage first! if not check hasMessage(), it call getMessage(), it breaks into runtimeException\r\n            String chatId = String.valueOf(update.getMessage().getChatId());\r\n            sendMarkup(createMenuMarkup(), chatId);\r\n        } else if(update.hasCallbackQuery()){\r\n            System.out.println(&quot;Callback Received&quot;);\r\n            handleCallback(update);\r\n        }\r\n    }\r\n\r\n    private void sendMarkup(InlineKeyboardMarkup menuMarkup, String chatId) {\r\n        SendMessage sendMessage = new SendMessage();\r\n        sendMessage.setChatId(chatId);\r\n        sendMessage.setText(&quot;Please choose button below:&quot;); // if not set Text message, it won&#39;t send\r\n        sendMessage.setReplyMarkup(menuMarkup);\r\n        try {\r\n            execute(sendMessage);\r\n        } catch (TelegramApiException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String getBotToken() {\r\n        return &quot;...&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return &quot;...&quot;;\r\n    }\r\n\r\n    private InlineKeyboardMarkup createMenuMarkup() {\r\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; inlineButtons = new ArrayList&lt;&gt;();\r\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList1 = new ArrayList&lt;&gt;();\r\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList2 = new ArrayList&lt;&gt;();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton1 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 1&quot;)\r\n                .callbackData(&quot;1&quot;)\r\n                .url(&quot;https://www.google.com&quot;)\r\n                .build();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton2 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 2&quot;)\r\n                .callbackData(&quot;2&quot;)\r\n                .build();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton3 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 3&quot;)\r\n                .callbackData(&quot;3&quot;)\r\n                .build();\r\n        InlineKeyboardButton inlineKeyboardButton4 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 4&quot;)\r\n                .callbackData(&quot;4&quot;)\r\n                .build();\r\n\r\n\r\n        inlineKeyboardButtonList1.add(inlineKeyboardButton1);\r\n        inlineKeyboardButtonList1.add(inlineKeyboardButton2);\r\n        inlineKeyboardButtonList2.add(inlineKeyboardButton3);\r\n        inlineKeyboardButtonList2.add(inlineKeyboardButton4);\r\n        inlineButtons.add(inlineKeyboardButtonList1);\r\n        inlineButtons.add(inlineKeyboardButtonList2);\r\n\r\n        return InlineKeyboardMarkup\r\n                .builder()\r\n                .keyboard(inlineButtons)\r\n                .build();\r\n    }\r\n\r\n    private void handleCallback(Update update) {\r\n        String callData = update.getCallbackQuery().getData();\r\n        String chatId = String.valueOf(update.getCallbackQuery().getMessage().getChatId());\r\n        System.out.println(callData);\r\n        switch (callData) {\r\n            case &quot;1&quot;:\r\n                sendMessage(&quot;You chose 1&quot;, chatId);\r\n                break;\r\n            case &quot;2&quot;:\r\n                sendMessage(&quot;You chose 2&quot;, chatId);\r\n                break;\r\n            case &quot;3&quot;:\r\n                sendMessage(&quot;You chose 3&quot;, chatId);\r\n                break;\r\n            case &quot;4&quot;:\r\n                sendMessage(&quot;You chose 4&quot;, chatId);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void sendMessage(String msg, String chatId) {\r\n        SendMessage sendMessage = new SendMessage(chatId, msg);\r\n        try {\r\n            execute(sendMessage);\r\n        } catch (TelegramApiException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nI hope my code, it helps you to improve your code and handle error. Please read this [short blog][1] tutorial and try, you will get to know more about the framework.\r\n\r\n\r\n  [1]: https://monsterdeveloper.gitbook.io/java-telegram-bot-tutorial/","title":"Issue with CallbackQuery in Telegram bot","body":"<p>Please use TelegramApiv 6.7.0, it supports new features of telegram API.\nAfter reading your code, there are some point was missing in <code>if(update.getMessage()...)</code> this will error. we should check <code>update.hasMessage()</code> first to prevent exception.</p>\n<hr />\n<p>Any ways, you can review my code, I wrote follow your structures.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class InlineBot extends TelegramLongPollingBot {\n    @Override\n    public void onUpdateReceived(Update update) {\n        if(update.hasMessage() &amp;&amp; update.getMessage().getText().equals(&quot;/menu&quot;)){ // check hasMessage first! if not check hasMessage(), it call getMessage(), it breaks into runtimeException\n            String chatId = String.valueOf(update.getMessage().getChatId());\n            sendMarkup(createMenuMarkup(), chatId);\n        } else if(update.hasCallbackQuery()){\n            System.out.println(&quot;Callback Received&quot;);\n            handleCallback(update);\n        }\n    }\n\n    private void sendMarkup(InlineKeyboardMarkup menuMarkup, String chatId) {\n        SendMessage sendMessage = new SendMessage();\n        sendMessage.setChatId(chatId);\n        sendMessage.setText(&quot;Please choose button below:&quot;); // if not set Text message, it won't send\n        sendMessage.setReplyMarkup(menuMarkup);\n        try {\n            execute(sendMessage);\n        } catch (TelegramApiException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public String getBotToken() {\n        return &quot;...&quot;;\n    }\n\n    @Override\n    public String getBotUsername() {\n        return &quot;...&quot;;\n    }\n\n    private InlineKeyboardMarkup createMenuMarkup() {\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; inlineButtons = new ArrayList&lt;&gt;();\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList1 = new ArrayList&lt;&gt;();\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList2 = new ArrayList&lt;&gt;();\n\n        InlineKeyboardButton inlineKeyboardButton1 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 1&quot;)\n                .callbackData(&quot;1&quot;)\n                .url(&quot;https://www.google.com&quot;)\n                .build();\n\n        InlineKeyboardButton inlineKeyboardButton2 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 2&quot;)\n                .callbackData(&quot;2&quot;)\n                .build();\n\n        InlineKeyboardButton inlineKeyboardButton3 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 3&quot;)\n                .callbackData(&quot;3&quot;)\n                .build();\n        InlineKeyboardButton inlineKeyboardButton4 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 4&quot;)\n                .callbackData(&quot;4&quot;)\n                .build();\n\n\n        inlineKeyboardButtonList1.add(inlineKeyboardButton1);\n        inlineKeyboardButtonList1.add(inlineKeyboardButton2);\n        inlineKeyboardButtonList2.add(inlineKeyboardButton3);\n        inlineKeyboardButtonList2.add(inlineKeyboardButton4);\n        inlineButtons.add(inlineKeyboardButtonList1);\n        inlineButtons.add(inlineKeyboardButtonList2);\n\n        return InlineKeyboardMarkup\n                .builder()\n                .keyboard(inlineButtons)\n                .build();\n    }\n\n    private void handleCallback(Update update) {\n        String callData = update.getCallbackQuery().getData();\n        String chatId = String.valueOf(update.getCallbackQuery().getMessage().getChatId());\n        System.out.println(callData);\n        switch (callData) {\n            case &quot;1&quot;:\n                sendMessage(&quot;You chose 1&quot;, chatId);\n                break;\n            case &quot;2&quot;:\n                sendMessage(&quot;You chose 2&quot;, chatId);\n                break;\n            case &quot;3&quot;:\n                sendMessage(&quot;You chose 3&quot;, chatId);\n                break;\n            case &quot;4&quot;:\n                sendMessage(&quot;You chose 4&quot;, chatId);\n                break;\n            default:\n                break;\n        }\n    }\n\n    private void sendMessage(String msg, String chatId) {\n        SendMessage sendMessage = new SendMessage(chatId, msg);\n        try {\n            execute(sendMessage);\n        } catch (TelegramApiException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n</code></pre>\n<p>I hope my code, it helps you to improve your code and handle error. Please read this <a href=\"https://monsterdeveloper.gitbook.io/java-telegram-bot-tutorial/\" rel=\"nofollow noreferrer\">short blog</a> tutorial and try, you will get to know more about the framework.</p>\n"}],"owner":{"account_id":25644832,"reputation":11,"user_id":22124017,"display_name":"Ahmed Mohamed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688789477,"creation_date":1687599376,"question_id":76545421,"body_markdown":"I&#39;m trying to create an Inline Keyboard Markup in my telegram bot using java (Maven project using TelegramBotsApi v 6.7.0). This includes handling call back queries from user to take some decision later.\r\n\r\nThe Inline keyboard code is \r\n```\r\n private InlineKeyboardMarkup createMenuMarkup() {\r\n\r\n\r\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; inlineButtons = new ArrayList&lt;&gt;();\r\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList1 = new ArrayList&lt;&gt;();\r\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList2 = new ArrayList&lt;&gt;();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton1 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 1&quot;)\r\n                .callbackData(&quot;1&quot;)\r\n                .url(&quot;https://www.google.com&quot;)\r\n                .build();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton2 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 2&quot;)\r\n                .callbackData(&quot;2&quot;)\r\n                .build();\r\n\r\n        InlineKeyboardButton inlineKeyboardButton3 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 3&quot;)\r\n                .callbackData(&quot;3&quot;)\r\n                .build();\r\n        InlineKeyboardButton inlineKeyboardButton4 = InlineKeyboardButton.builder()\r\n                .text(&quot;Choice 4&quot;)\r\n                .callbackData(&quot;4&quot;)\r\n                .build();\r\n\r\n\r\n        inlineKeyboardButtonList1.add(inlineKeyboardButton1);\r\n        inlineKeyboardButtonList1.add(inlineKeyboardButton2);\r\n        inlineKeyboardButtonList2.add(inlineKeyboardButton3);\r\n        inlineKeyboardButtonList2.add(inlineKeyboardButton4);\r\n        inlineButtons.add(inlineKeyboardButtonList1);\r\n        inlineButtons.add(inlineKeyboardButtonList2);\r\n\r\n        return InlineKeyboardMarkup\r\n                .builder()\r\n                .keyboard(inlineButtons)\r\n                .build();\r\n    }\r\n```\r\n\r\nand to handle the call back I used if statement with a handling function\r\n\r\n\r\n```\r\nelse if(update.getMessage().getText().equals(&quot;/menu&quot;))\r\n        {\r\n            sendMarkup(createMenuMarkup());\r\n        }\r\n        else if(update.hasCallbackQuery())\r\n        {\r\n            **System.out.println(&quot;Callback Received&quot;);\r\n            handleCallback(update);**\r\n        }\r\n```\r\n\r\n\r\n```\r\n    private void handleCallback(Update update)\r\n    {\r\n        String callData = update.getCallbackQuery().getData();\r\n        System.out.println(callData);\r\n        switch (callData)\r\n        {\r\n            case &quot;1&quot;:\r\n                sendMessage(&quot;You chose 1&quot;);\r\n                break;\r\n            case &quot;2&quot;:\r\n                sendMessage(&quot;You chose 2&quot;);\r\n                break;\r\n            case &quot;3&quot;:\r\n                sendMessage(&quot;You chose 3&quot;);\r\n                break;\r\n            case &quot;4&quot;:\r\n                sendMessage(&quot;You chose 4&quot;);\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n```\r\n\r\nThe problem is that the call back query isn&#39;t recognized as and update in `onUpdateReceived`\r\nso it doesn&#39;t go in `onUpdateReceived` function at all as if the button in the menu was never clicked.\r\n\r\nWhat should I do?\r\n\r\nI tried to change the version I&#39;m using to 5.4.0 and I still have the same issue.\r\n\r\nI also tried to use buttons functionality with `ReplyKeyboardMarkup` and it worked just fine","title":"Issue with CallbackQuery in Telegram bot","body":"<p>I'm trying to create an Inline Keyboard Markup in my telegram bot using java (Maven project using TelegramBotsApi v 6.7.0). This includes handling call back queries from user to take some decision later.</p>\n<p>The Inline keyboard code is</p>\n<pre><code> private InlineKeyboardMarkup createMenuMarkup() {\n\n\n        List&lt;List&lt;InlineKeyboardButton&gt;&gt; inlineButtons = new ArrayList&lt;&gt;();\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList1 = new ArrayList&lt;&gt;();\n        List&lt;InlineKeyboardButton&gt; inlineKeyboardButtonList2 = new ArrayList&lt;&gt;();\n\n        InlineKeyboardButton inlineKeyboardButton1 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 1&quot;)\n                .callbackData(&quot;1&quot;)\n                .url(&quot;https://www.google.com&quot;)\n                .build();\n\n        InlineKeyboardButton inlineKeyboardButton2 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 2&quot;)\n                .callbackData(&quot;2&quot;)\n                .build();\n\n        InlineKeyboardButton inlineKeyboardButton3 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 3&quot;)\n                .callbackData(&quot;3&quot;)\n                .build();\n        InlineKeyboardButton inlineKeyboardButton4 = InlineKeyboardButton.builder()\n                .text(&quot;Choice 4&quot;)\n                .callbackData(&quot;4&quot;)\n                .build();\n\n\n        inlineKeyboardButtonList1.add(inlineKeyboardButton1);\n        inlineKeyboardButtonList1.add(inlineKeyboardButton2);\n        inlineKeyboardButtonList2.add(inlineKeyboardButton3);\n        inlineKeyboardButtonList2.add(inlineKeyboardButton4);\n        inlineButtons.add(inlineKeyboardButtonList1);\n        inlineButtons.add(inlineKeyboardButtonList2);\n\n        return InlineKeyboardMarkup\n                .builder()\n                .keyboard(inlineButtons)\n                .build();\n    }\n</code></pre>\n<p>and to handle the call back I used if statement with a handling function</p>\n<pre><code>else if(update.getMessage().getText().equals(&quot;/menu&quot;))\n        {\n            sendMarkup(createMenuMarkup());\n        }\n        else if(update.hasCallbackQuery())\n        {\n            **System.out.println(&quot;Callback Received&quot;);\n            handleCallback(update);**\n        }\n</code></pre>\n<pre><code>    private void handleCallback(Update update)\n    {\n        String callData = update.getCallbackQuery().getData();\n        System.out.println(callData);\n        switch (callData)\n        {\n            case &quot;1&quot;:\n                sendMessage(&quot;You chose 1&quot;);\n                break;\n            case &quot;2&quot;:\n                sendMessage(&quot;You chose 2&quot;);\n                break;\n            case &quot;3&quot;:\n                sendMessage(&quot;You chose 3&quot;);\n                break;\n            case &quot;4&quot;:\n                sendMessage(&quot;You chose 4&quot;);\n                break;\n            default:\n                break;\n        }\n    }\n</code></pre>\n<p>The problem is that the call back query isn't recognized as and update in <code>onUpdateReceived</code>\nso it doesn't go in <code>onUpdateReceived</code> function at all as if the button in the menu was never clicked.</p>\n<p>What should I do?</p>\n<p>I tried to change the version I'm using to 5.4.0 and I still have the same issue.</p>\n<p>I also tried to use buttons functionality with <code>ReplyKeyboardMarkup</code> and it worked just fine</p>\n"},{"tags":["java","multithreading","debugging","concurrency","locking"],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414604848,"creation_date":1414604848,"answer_id":26637316,"question_id":26621292,"body_markdown":"Your question is a little unclear, but...\r\n\r\nlock.getHoldCount() will always return a non-negative number---the number of &quot;holds&quot; that the calling thread has on the lock.\r\n\r\nThis code will throw an AssertionError _IF_ assertions are enabled:\r\n\r\n    lock.lock();  //sets the hold count &gt; 0, so...\r\n    m();          //...the assertion in m() will fail.","title":"Java lock and getHoldCount()","body":"<p>Your question is a little unclear, but...</p>\n\n<p>lock.getHoldCount() will always return a non-negative number---the number of \"holds\" that the calling thread has on the lock.</p>\n\n<p>This code will throw an AssertionError <em>IF</em> assertions are enabled:</p>\n\n<pre><code>lock.lock();  //sets the hold count &gt; 0, so...\nm();          //...the assertion in m() will fail.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74264,"reputation":1368,"user_id":213480,"display_name":"Slava Imeshev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414707975,"creation_date":1414707975,"answer_id":26664411,"question_id":26621292,"body_markdown":"The code ensures that this method is the first in the hierarchy of calls to hold the lock. \r\n\r\nAs for why, it&#39;s a good question. Maybe the author wanted to avoid a situation like k()-&gt;m()-&gt;l()-&gt;m(), but this is a re-entrant lock, so I&#39;m not sure why the author would want to do that.\r\n\r\nHope this helps.\r\n\r\nSlava","title":"Java lock and getHoldCount()","body":"<p>The code ensures that this method is the first in the hierarchy of calls to hold the lock. </p>\n\n<p>As for why, it's a good question. Maybe the author wanted to avoid a situation like k()->m()->l()->m(), but this is a re-entrant lock, so I'm not sure why the author would want to do that.</p>\n\n<p>Hope this helps.</p>\n\n<p>Slava</p>\n"},{"tags":[],"owner":{"account_id":8830126,"reputation":73,"user_id":6596840,"display_name":"Long Tran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688789263,"creation_date":1627122022,"answer_id":68509054,"question_id":26621292,"body_markdown":"&gt; 1. Can lock.getHoldCount()still return a number here, as we have already assert == 0?\r\n\r\nYes, this method always return a non-negative integer. The document emphasizes this method *&quot;is typically only used for testing and debugging purposes&quot;*. Also the sentence in the doc said &quot;The number of holds on this lock **by the current thread**&quot;, means your debugging thread *t[i]* which calls the method shall return how many holds *t[i]* has on the instance **lock** -&gt; and you dont have idea of *t[j], t[k], ... holds* on the **lock**.\r\n\r\n&gt; 2. Does it mean that no thread can enter the lines below assert lock.getHoldCount() == 0; &lt;br&gt;\r\n**Even if** it has the lock?\r\n\r\nIf you run the JVM with option -ea (enable assertion) -&gt; in case the thread has the lock, shall cause the program throws exception. (wont reach line `lock.lock;`). In contrast without mentioned JVM options, the code flow execution shall by pass the line `assert` and waiting at line `lock.lock;` &lt;br&gt;\r\n\r\nWithout that option, please ignore the line `assert`","title":"Java lock and getHoldCount()","body":"<blockquote>\n<ol>\n<li>Can lock.getHoldCount()still return a number here, as we have already assert == 0?</li>\n</ol>\n</blockquote>\n<p>Yes, this method always return a non-negative integer. The document emphasizes this method <em>&quot;is typically only used for testing and debugging purposes&quot;</em>. Also the sentence in the doc said &quot;The number of holds on this lock <strong>by the current thread</strong>&quot;, means your debugging thread <em>t[i]</em> which calls the method shall return how many holds <em>t[i]</em> has on the instance <strong>lock</strong> -&gt; and you dont have idea of <em>t[j], t[k], ... holds</em> on the <strong>lock</strong>.</p>\n<blockquote>\n<ol start=\"2\">\n<li>Does it mean that no thread can enter the lines below assert lock.getHoldCount() == 0; <br>\n<strong>Even if</strong> it has the lock?</li>\n</ol>\n</blockquote>\n<p>If you run the JVM with option -ea (enable assertion) -&gt; in case the thread has the lock, shall cause the program throws exception. (wont reach line <code>lock.lock;</code>). In contrast without mentioned JVM options, the code flow execution shall by pass the line <code>assert</code> and waiting at line <code>lock.lock;</code> <br></p>\n<p>Without that option, please ignore the line <code>assert</code></p>\n"}],"owner":{"account_id":5052516,"reputation":173,"user_id":4056620,"accept_rate":68,"display_name":"stillAFanOfTheSimpsons"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688789263,"creation_date":1414545391,"question_id":26621292,"body_markdown":"I am confused about the method assert lock.getHoldCount() == 0; The below example is from Java docs, and it says `Returns: the number of holds on this lock by the current thread, or zero if this lock is not held by the current thread`, which I don&#39;t quite understand. \r\n\r\n    class X {\r\n          ReentrantLock lock = new ReentrantLock();\r\n          // ...\r\n       public void m() {\r\n            assert lock.getHoldCount() == 0;\r\n            lock.lock();\r\n            try {\r\n               // ... method body\r\n            } finally {\r\n               lock.unlock();\r\n            }\r\n       }\r\n     }\r\n\r\nMy question is that -\r\n \r\n 1. can `lock.getHoldCount()`still return a number here, as we have already assert `==0`?\r\n 2. does it mean that no thread can enter the lines below `assert lock.getHoldCount() == 0;`, even if it has the lock? \r\n","title":"Java lock and getHoldCount()","body":"<p>I am confused about the method assert lock.getHoldCount() == 0; The below example is from Java docs, and it says <code>Returns: the number of holds on this lock by the current thread, or zero if this lock is not held by the current thread</code>, which I don't quite understand. </p>\n\n<pre><code>class X {\n      ReentrantLock lock = new ReentrantLock();\n      // ...\n   public void m() {\n        assert lock.getHoldCount() == 0;\n        lock.lock();\n        try {\n           // ... method body\n        } finally {\n           lock.unlock();\n        }\n   }\n }\n</code></pre>\n\n<p>My question is that -</p>\n\n<ol>\n<li>can <code>lock.getHoldCount()</code>still return a number here, as we have already assert <code>==0</code>?</li>\n<li>does it mean that no thread can enter the lines below <code>assert lock.getHoldCount() == 0;</code>, even if it has the lock? </li>\n</ol>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":10045,"reputation":5505,"user_id":18796,"display_name":"Ian McLaird"},"score":0,"creation_date":1443736044,"post_id":32897244,"comment_id":53623985,"body_markdown":"That number isn&#39;t guaranteed to be the same from one run to the next.  I wonder if the variables view is running in (or reporting on) a different VM from the Evaluate Code Fragment window.  That could account for the difference.","body":"That number isn&#39;t guaranteed to be the same from one run to the next.  I wonder if the variables view is running in (or reporting on) a different VM from the Evaluate Code Fragment window.  That could account for the difference."},{"owner":{"account_id":4996731,"reputation":1005,"user_id":4017031,"accept_rate":50,"display_name":"Barry Holroyd"},"score":0,"creation_date":1444156254,"post_id":32897244,"comment_id":53779306,"body_markdown":"Thanks Ian. I don&#39;t think that&#39;s it, but I do have some new information. I&#39;ll update the question.","body":"Thanks Ian. I don&#39;t think that&#39;s it, but I do have some new information. I&#39;ll update the question."},{"owner":{"account_id":4326000,"reputation":406,"user_id":3532826,"display_name":"JavaGhost"},"score":0,"creation_date":1444159897,"post_id":32897244,"comment_id":53781533,"body_markdown":"What you have interpreted is correct for `Oracle JVM` not for `Dalvik VM` on which the bytecodes are generated. It has fixed set of Registers which ranges from 0-65535. If you want to learn more you can visit this [link](https://source.android.com/devices/tech/dalvik/dalvik-bytecode.html)","body":"What you have interpreted is correct for <code>Oracle JVM</code> not for <code>Dalvik VM</code> on which the bytecodes are generated. It has fixed set of Registers which ranges from 0-65535. If you want to learn more you can visit this <a href=\"https://source.android.com/devices/tech/dalvik/dalvik-bytecode.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":4996731,"reputation":1005,"user_id":4017031,"accept_rate":50,"display_name":"Barry Holroyd"},"score":0,"creation_date":1444753029,"post_id":32897244,"comment_id":54029960,"body_markdown":"Excellent -- thank you! If I understand correctly, the #### is actually an identifier for the register which stores the value -- is that correct? (That&#39;s a lot of registers.) That seems like a pretty useless thing to provide to developers since we can&#39;t correlate it with the stuff that we have access to (such as hashCode()).","body":"Excellent -- thank you! If I understand correctly, the #### is actually an identifier for the register which stores the value -- is that correct? (That&#39;s a lot of registers.) That seems like a pretty useless thing to provide to developers since we can&#39;t correlate it with the stuff that we have access to (such as hashCode())."}],"owner":{"account_id":4996731,"reputation":1005,"user_id":4017031,"accept_rate":50,"display_name":"Barry Holroyd"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1492,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1688793159,"answer_count":0,"score":4,"last_activity_date":1688785314,"creation_date":1443735285,"question_id":32897244,"body_markdown":"In Java, the &#39;@&#39; sign in an address (e.g., in a printed stack trace) is generally used to represent an instance of an object as &quot;object name&quot; + &#39;@&#39; + System.identityHashCode() (there is a good discussion of this at https://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java).\r\n\r\nBut that doesn&#39;t seem to explain the syntax used by Android Studio when it prints out object addresses.\r\n\r\nI have a variable, gmap, which has the following value when viewed in the Android Studio Debugger&#39;s &quot;Variables&quot; window (when the program has hit a breakpoint).\r\n\r\n    gmap = {com.google.android.gms.maps.GoogleMap@4541}\r\n\r\nHowever, when I run the following in the Evaluate Code Fragment window, none of them come up with the value &quot;4541&quot;.\r\n\r\n    gmap.toString(): com.google.android.gms.maps.GoogleMap@63676d9\r\n    System.identityHashCode(gmap): 104232665\r\n    gmap.hashCode(): 104232665\r\n    \r\n    String.format(&quot;%x&quot;, System.identityHashCode(gmap)): 63676d9\r\n    String.format(&quot;%d&quot;, System.identityHashCode(gmap)): 104232665\r\n\r\nWhat does &quot;4541&quot; represent?\r\n\r\nUPDATE:\r\nI took another look at a stack trace and noticed that the numbers tend to increase in a sort-of sequential fashion. The following is a partial dump of the mContext variable, as shown in the Variables window when at a breakpoint.\r\n\r\n    mContext = {com.barryholroyd.tapit.ActivityMain@3624} \r\n     LOGTAG = {java.lang.String@3642} &quot;TAPIT APS&quot;\r\n     bh_aps = {com.barryholroyd.tapit.Bhlogger@3643} \r\n     mActionBar = null\r\n     mActivityInfo = {android.content.pm.ActivityInfo@3644} \r\n     mActivityTransitionState = {android.app.ActivityTransitionState@3645} \r\n     mAllLoaderManagers = null\r\n     mApplication = {android.app.Application@3646} \r\n     mCalled = true\r\n     mChangeCanvasToTranslucent = false\r\n     mChangingConfigurations = false\r\n     mCheckedForLoaderManager = false\r\n     mComponent = {android.content.ComponentName@3647} \r\n     mConfigChangeFlags = 0\r\n     mContainer = {android.app.Activity$1@3648} \r\n     mCurrentConfig = {android.content.res.Configuration@3649} \r\n\r\nI suspect the @#### values might be offsets into some kind of allocation table or something, but that&#39;s just a guess. I&#39;m not sure how/why that would be useful. I&#39;d rather have them be the hash code or something else that would help me identify the particular class instantiation easily.\r\n\r\nBarry\r\n\r\n","title":"What does the &#39;@&#39; (at) sign mean in addresses in Android Studio?","body":"<p>In Java, the '@' sign in an address (e.g., in a printed stack trace) is generally used to represent an instance of an object as \"object name\" + '@' + System.identityHashCode() (there is a good discussion of this at <a href=\"https://stackoverflow.com/questions/1961146/memory-address-of-variables-in-java\">Memory address of variables in Java</a>).</p>\n\n<p>But that doesn't seem to explain the syntax used by Android Studio when it prints out object addresses.</p>\n\n<p>I have a variable, gmap, which has the following value when viewed in the Android Studio Debugger's \"Variables\" window (when the program has hit a breakpoint).</p>\n\n<pre><code>gmap = {com.google.android.gms.maps.GoogleMap@4541}\n</code></pre>\n\n<p>However, when I run the following in the Evaluate Code Fragment window, none of them come up with the value \"4541\".</p>\n\n<pre><code>gmap.toString(): com.google.android.gms.maps.GoogleMap@63676d9\nSystem.identityHashCode(gmap): 104232665\ngmap.hashCode(): 104232665\n\nString.format(\"%x\", System.identityHashCode(gmap)): 63676d9\nString.format(\"%d\", System.identityHashCode(gmap)): 104232665\n</code></pre>\n\n<p>What does \"4541\" represent?</p>\n\n<p>UPDATE:\nI took another look at a stack trace and noticed that the numbers tend to increase in a sort-of sequential fashion. The following is a partial dump of the mContext variable, as shown in the Variables window when at a breakpoint.</p>\n\n<pre><code>mContext = {com.barryholroyd.tapit.ActivityMain@3624} \n LOGTAG = {java.lang.String@3642} \"TAPIT APS\"\n bh_aps = {com.barryholroyd.tapit.Bhlogger@3643} \n mActionBar = null\n mActivityInfo = {android.content.pm.ActivityInfo@3644} \n mActivityTransitionState = {android.app.ActivityTransitionState@3645} \n mAllLoaderManagers = null\n mApplication = {android.app.Application@3646} \n mCalled = true\n mChangeCanvasToTranslucent = false\n mChangingConfigurations = false\n mCheckedForLoaderManager = false\n mComponent = {android.content.ComponentName@3647} \n mConfigChangeFlags = 0\n mContainer = {android.app.Activity$1@3648} \n mCurrentConfig = {android.content.res.Configuration@3649} \n</code></pre>\n\n<p>I suspect the @#### values might be offsets into some kind of allocation table or something, but that's just a guess. I'm not sure how/why that would be useful. I'd rather have them be the hash code or something else that would help me identify the particular class instantiation easily.</p>\n\n<p>Barry</p>\n"},{"tags":["java","slf4j","graalvm"],"comments":[{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1688823445,"post_id":76641133,"comment_id":135127339,"body_markdown":"What is your command line?","body":"What is your command line?"},{"owner":{"account_id":5302951,"reputation":47,"user_id":4231896,"accept_rate":75,"display_name":"Martin Dai"},"score":0,"creation_date":1688883394,"post_id":76641133,"comment_id":135132121,"body_markdown":"@peterz I use native-image-maven-plugin to build native image\n&lt;buildArgs&gt;\n                                -H:+PrintClassInitialization\n                                -H:+ReportExceptionStackTraces\n                                --no-fallback\n                            &lt;/buildArgs&gt;","body":"@peterz I use native-image-maven-plugin to build native image &lt;buildArgs&gt;                                 -H:+PrintClassInitialization                                 -H:+ReportExceptionStackTraces                                 --no-fallback                             &lt;/buildArgs&gt;"},{"owner":{"account_id":23020603,"reputation":341,"user_id":17141716,"display_name":"peterz"},"score":0,"creation_date":1688974128,"post_id":76641133,"comment_id":135141535,"body_markdown":"Probably that plugin has some verbose mode in which it prints the command line so that you could inspect it. My guess is that the command line gets damaged in some way -- probably some argument breaking into pieces, or several arguments appearing as one. As a result, `org.slf4j.LoggerFactory` might appear as the main application class","body":"Probably that plugin has some verbose mode in which it prints the command line so that you could inspect it. My guess is that the command line gets damaged in some way -- probably some argument breaking into pieces, or several arguments appearing as one. As a result, <code>org.slf4j.LoggerFactory</code> might appear as the main application class"}],"owner":{"account_id":5302951,"reputation":47,"user_id":4231896,"accept_rate":75,"display_name":"Martin Dai"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688783599,"creation_date":1688783599,"question_id":76641133,"body_markdown":"Here is the error cause\r\n```\r\n[1/8] Initializing...                                                                                    (0.0s @ 0.21GB)\r\nError: Method &#39;org.slf4j.LoggerFactory.main&#39; is declared as the main entry point but it can not be found. Make sure that class &#39;org.slf4j.LoggerFactory&#39; is on the classpath and that method &#39;main(String[])&#39; exists in that class.\r\ncom.oracle.svm.core.util.UserError$UserException: Method &#39;org.slf4j.LoggerFactory.main&#39; is declared as the main entry point but it can not be found. Make sure that class &#39;org.slf4j.LoggerFactory&#39; is on the classpath and that method &#39;main(String[])&#39; exists in that class.\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.UserError.abort(UserError.java:85)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:377)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:612)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:134)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:94)\r\nCaused by: java.lang.NoSuchMethodException: org.slf4j.LoggerFactory.main([Ljava.lang.String;)\r\n        at java.base/java.lang.Class.getDeclaredMethod(Class.java:2772)\r\n        at org.graalvm.nativeimage.base/com.oracle.svm.util.ReflectionUtil.lookupMethod(ReflectionUtil.java:74)\r\n        at org.graalvm.nativeimage.base/com.oracle.svm.util.ReflectionUtil.lookupMethod(ReflectionUtil.java:69)\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:375)\r\n        ... 3 more\r\n```\r\n\r\nthe `org.slf4j.LoggerFactory` doesn&#39;t have `main` method, why the GraalVM call it\r\n\r\ngraalvm version: 20.0.1\r\n\r\nslf4j version: 2.0.7 ","title":"GraalVM build native image failed when depend slf4j","body":"<p>Here is the error cause</p>\n<pre><code>[1/8] Initializing...                                                                                    (0.0s @ 0.21GB)\nError: Method 'org.slf4j.LoggerFactory.main' is declared as the main entry point but it can not be found. Make sure that class 'org.slf4j.LoggerFactory' is on the classpath and that method 'main(String[])' exists in that class.\ncom.oracle.svm.core.util.UserError$UserException: Method 'org.slf4j.LoggerFactory.main' is declared as the main entry point but it can not be found. Make sure that class 'org.slf4j.LoggerFactory' is on the classpath and that method 'main(String[])' exists in that class.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.core.util.UserError.abort(UserError.java:85)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:377)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.build(NativeImageGeneratorRunner.java:612)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.start(NativeImageGeneratorRunner.java:134)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.main(NativeImageGeneratorRunner.java:94)\nCaused by: java.lang.NoSuchMethodException: org.slf4j.LoggerFactory.main([Ljava.lang.String;)\n        at java.base/java.lang.Class.getDeclaredMethod(Class.java:2772)\n        at org.graalvm.nativeimage.base/com.oracle.svm.util.ReflectionUtil.lookupMethod(ReflectionUtil.java:74)\n        at org.graalvm.nativeimage.base/com.oracle.svm.util.ReflectionUtil.lookupMethod(ReflectionUtil.java:69)\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.NativeImageGeneratorRunner.buildImage(NativeImageGeneratorRunner.java:375)\n        ... 3 more\n</code></pre>\n<p>the <code>org.slf4j.LoggerFactory</code> doesn't have <code>main</code> method, why the GraalVM call it</p>\n<p>graalvm version: 20.0.1</p>\n<p>slf4j version: 2.0.7</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9671,"page":321,"page_size":100}
