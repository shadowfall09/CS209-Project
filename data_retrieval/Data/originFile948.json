{"items":[{"tags":["java","dictionary","java-8","hashmap","java-stream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1666159470,"post_id":74120532,"comment_id":130866410,"body_markdown":"It looks as though you should be using &quot;1&quot; and &quot;2&quot; as keys, not the letters","body":"It looks as though you should be using &quot;1&quot; and &quot;2&quot; as keys, not the letters"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666159609,"post_id":74120532,"comment_id":130866444,"body_markdown":"You can use the `Map.merge` method, but you should probably do this with simple get and put operations as an exercise first.","body":"You can use the <code>Map.merge</code> method, but you should probably do this with simple get and put operations as an exercise first."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666163617,"post_id":74120532,"comment_id":130867546,"body_markdown":"Since the `HashMap` is unordered, does your expectation of the keys `&quot;AD&quot;` and `&quot;BC&quot;` imply that you want them *sorted*? Or are `&quot;DA&quot;` and `&quot;CB&quot;` also acceptable? And what if we have `map.put(&quot;AB&quot;,&quot;1&quot;); map.put(&quot;A&quot;,&quot;2&quot;); map.put(&quot;BC&quot;,&quot;2&quot;); map.put(&quot;C&quot;,&quot;1&quot;);` as starting point? Concatenating the keys would result in two `&quot;ABC&quot;` keys to be associated with two different values, which is impossible.","body":"Since the <code>HashMap</code> is unordered, does your expectation of the keys <code>&quot;AD&quot;</code> and <code>&quot;BC&quot;</code> imply that you want them <i>sorted</i>? Or are <code>&quot;DA&quot;</code> and <code>&quot;CB&quot;</code> also acceptable? And what if we have <code>map.put(&quot;AB&quot;,&quot;1&quot;); map.put(&quot;A&quot;,&quot;2&quot;); map.put(&quot;BC&quot;,&quot;2&quot;); map.put(&quot;C&quot;,&quot;1&quot;);</code> as starting point? Concatenating the keys would result in two <code>&quot;ABC&quot;</code> keys to be associated with two different values, which is impossible."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1666162740,"post_id":74120848,"comment_id":130867304,"body_markdown":"How about using `Collectors.joining()` instead of `Collectors.reducing(&quot;&quot;, (l, r) -&gt; l + r)`?","body":"How about using <code>Collectors.joining()</code> instead of <code>Collectors.reducing(&quot;&quot;, (l, r) -&gt; l + r)</code>?"},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1666163852,"post_id":74120848,"comment_id":130867619,"body_markdown":"@Holger: Ah, right. I have forgotten it exists. Thanks!","body":"@Holger: Ah, right. I have forgotten it exists. Thanks!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666163998,"post_id":74120848,"comment_id":130867673,"body_markdown":"Note that you solution has flaws (as all others) due to [incomplete task definition](https://stackoverflow.com/questions/74120532/how-to-merge-the-duplicate-values-and-its-keys-present-in-the-hashmap#comment130867546_74120532).","body":"Note that you solution has flaws (as all others) due to <a href=\"https://stackoverflow.com/questions/74120532/how-to-merge-the-duplicate-values-and-its-keys-present-in-the-hashmap#comment130867546_74120532\">incomplete task definition</a>."},{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1666248219,"post_id":74120848,"comment_id":130891662,"body_markdown":"That&#39;s a legit comment, though. I have added a warning to my answer. However, I believe the OP has enough material to achieve whatever they want based on the the answers.","body":"That&#39;s a legit comment, though. I have added a warning to my answer. However, I believe the OP has enough material to achieve whatever they want based on the the answers."}],"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666248159,"creation_date":1666161423,"answer_id":74120848,"question_id":74120532,"body_markdown":"You want to group by the &quot;integer&quot; value using `Collectors.groupingBy` and collect the former keys as a new value. By default, grouping yields in `List`. You can further use downstream collector `Collectors.mapping` and another downstream collector `Collectors.reducing` to map and concatenate the individual items (values) as a single String.  \r\n\r\n```java\r\nMap&lt;String, String&gt; groupedMap = map.entrySet().stream()\r\n\t\t.collect(Collectors.groupingBy(\r\n\t\t\t\tMap.Entry::getValue,\r\n\t\t\t\tCollectors.mapping(\r\n\t\t\t\t\t\tMap.Entry::getKey,\r\n\t\t\t\t\t\tCollectors.reducing(&quot;&quot;, (l, r) -&gt; l + r))));\r\n```\r\n&gt; ```\r\n&gt; {1=AD, 2=BC}\r\n&gt; ```\r\n\r\nNow, you can switch keys with values for the final result, though I really think you finally need what is already in the `groupedMap` as further processing might cause an error on duplicated keys:\r\n\r\n```java\r\nMap&lt;String, String&gt; newMap = groupedMap.entrySet().stream()\r\n\t\t.collect(Collectors.toMap(\r\n\t\t\t\tMap.Entry::getValue, \r\n\t\t\t\tMap.Entry::getKey));\r\n```\r\n&gt; ```\r\n&gt; {BC=2, AD=1}\r\n&gt; ```\r\n\r\n______\r\n\r\nIt is possible, put it all together using `Collectors.collectingAndThen` (matter of taste):\r\n\r\n```java\r\nMap&lt;String, String&gt; newMap = map.entrySet().stream()\r\n\t\t.collect(Collectors.collectingAndThen(\r\n\t\t\t\tCollectors.groupingBy(\r\n\t\t\t\t\t\tMap.Entry::getValue,\r\n\t\t\t\t\t\tCollectors.mapping(\r\n\t\t\t\t\t\t\t\tMap.Entry::getKey,\r\n\t\t\t\t\t\t\t\tCollectors.reducing(&quot;&quot;, (l, r) -&gt; l + r))),\r\n\t\t\t\tm -&gt; m.entrySet().stream()\r\n\t\t\t\t\t\t.collect(Collectors.toMap(\r\n\t\t\t\t\t\t\t\tMap.Entry::getValue, \r\n\t\t\t\t\t\t\t\tMap.Entry::getKey))));\r\n```","title":"How to Merge the Duplicate Values and its Keys present in the HashMap","body":"<p>You want to group by the &quot;integer&quot; value using <code>Collectors.groupingBy</code> and collect the former keys as a new value. By default, grouping yields in <code>List</code>. You can further use downstream collector <code>Collectors.mapping</code> and another downstream collector <code>Collectors.reducing</code> to map and concatenate the individual items (values) as a single String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; groupedMap = map.entrySet().stream()\n        .collect(Collectors.groupingBy(\n                Map.Entry::getValue,\n                Collectors.mapping(\n                        Map.Entry::getKey,\n                        Collectors.reducing(&quot;&quot;, (l, r) -&gt; l + r))));\n</code></pre>\n<blockquote>\n<pre><code>{1=AD, 2=BC}\n</code></pre>\n</blockquote>\n<p>Now, you can switch keys with values for the final result, though I really think you finally need what is already in the <code>groupedMap</code> as further processing might cause an error on duplicated keys:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; newMap = groupedMap.entrySet().stream()\n        .collect(Collectors.toMap(\n                Map.Entry::getValue, \n                Map.Entry::getKey));\n</code></pre>\n<blockquote>\n<pre><code>{BC=2, AD=1}\n</code></pre>\n</blockquote>\n<hr />\n<p>It is possible, put it all together using <code>Collectors.collectingAndThen</code> (matter of taste):</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; newMap = map.entrySet().stream()\n        .collect(Collectors.collectingAndThen(\n                Collectors.groupingBy(\n                        Map.Entry::getValue,\n                        Collectors.mapping(\n                                Map.Entry::getKey,\n                                Collectors.reducing(&quot;&quot;, (l, r) -&gt; l + r))),\n                m -&gt; m.entrySet().stream()\n                        .collect(Collectors.toMap(\n                                Map.Entry::getValue, \n                                Map.Entry::getKey))));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11358426,"reputation":1127,"user_id":8327330,"display_name":"iamgirdhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666164007,"creation_date":1666162837,"answer_id":74121113,"question_id":74120532,"body_markdown":"**Using Java 8**\r\n\r\n*You can try the below approach in order to get the desired result.*\r\n\r\n**Code:**\r\n\r\n      public class Test {\r\n        public static void main(String[] args) {\r\n                HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n                Map&lt;String, String&gt; newMap;\r\n    \r\n                map.put(&quot;A&quot;,&quot;1&quot;);\r\n                map.put(&quot;B&quot;,&quot;2&quot;);\r\n                map.put(&quot;C&quot;,&quot;2&quot;);\r\n                map.put(&quot;D&quot;,&quot;1&quot;);\r\n    \r\n                Map&lt;String, String&gt; tempMap = map.entrySet().stream()\r\n                        .collect(Collectors.groupingBy(Map.Entry::getValue,\r\n                                Collectors.mapping(Map.Entry::getKey,Collectors.joining(&quot;&quot;))));\r\n    \r\n                newMap = tempMap.entrySet().stream().sorted(Map.Entry.comparingByValue())\r\n                        .collect(Collectors.toMap(Map.Entry::getValue, Map.Entry::getKey,(a,b) -&gt; a, LinkedHashMap::new));\r\n                System.out.println(newMap);\r\n            }\r\n    }\r\n\r\n**Output:**\r\n\r\n    {AD=1, BC=2}","title":"How to Merge the Duplicate Values and its Keys present in the HashMap","body":"<p><strong>Using Java 8</strong></p>\n<p><em>You can try the below approach in order to get the desired result.</em></p>\n<p><strong>Code:</strong></p>\n<pre><code>  public class Test {\n    public static void main(String[] args) {\n            HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n            Map&lt;String, String&gt; newMap;\n\n            map.put(&quot;A&quot;,&quot;1&quot;);\n            map.put(&quot;B&quot;,&quot;2&quot;);\n            map.put(&quot;C&quot;,&quot;2&quot;);\n            map.put(&quot;D&quot;,&quot;1&quot;);\n\n            Map&lt;String, String&gt; tempMap = map.entrySet().stream()\n                    .collect(Collectors.groupingBy(Map.Entry::getValue,\n                            Collectors.mapping(Map.Entry::getKey,Collectors.joining(&quot;&quot;))));\n\n            newMap = tempMap.entrySet().stream().sorted(Map.Entry.comparingByValue())\n                    .collect(Collectors.toMap(Map.Entry::getValue, Map.Entry::getKey,(a,b) -&gt; a, LinkedHashMap::new));\n            System.out.println(newMap);\n        }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>{AD=1, BC=2}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1666163795,"post_id":74121213,"comment_id":130867601,"body_markdown":"This might work for small maps, but is very inefficient.","body":"This might work for small maps, but is very inefficient."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1666164177,"post_id":74121213,"comment_id":130867745,"body_markdown":"@Holger Indeed, but imho, for big maps the creator should consider to change the whole structure by reversing keys &lt;-&gt; values (as positions).","body":"@Holger Indeed, but imho, for big maps the creator should consider to change the whole structure by reversing keys &lt;-&gt; values (as positions)."}],"tags":[],"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666163437,"creation_date":1666163437,"answer_id":74121213,"question_id":74120532,"body_markdown":"Based on logic: \r\n1. Loop through your map\r\n 2. For each value, get the corresponding key from the new map (based on the value)\r\n 3. If the new map key exists, remove it and put it again with the extra letter at the end\r\n 4. If not exists, just put it without any concatenation.\r\n\r\n    \tfor (var entry : map.entrySet()) \r\n\t\t{\r\n\t\t\tString newMapKey = getKey(newMap, entry.getValue());\r\n\t\t\tif (newMapKey != null) \r\n\t\t\t{\r\n\t\t\t\tnewMap.remove(newMapKey);\r\n\t\t\t\tnewMap.put(newMapKey + entry.getKey(), entry.getValue());\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tnewMap.put(entry.getKey(), entry.getValue());\r\n\t\t}\r\nThe extra method:\r\n\r\n    \tprivate static String getKey(HashMap&lt;String, String&gt; map, String value) \r\n\t\t{\r\n\t\t\tfor (String key : map.keySet())\r\n\t\t\t\tif (value.equals(map.get(key)))\r\n\t\t\t\t\treturn key;\r\n\t\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n&lt;code&gt;{BC=2, AD=1}&lt;/code&gt;","title":"How to Merge the Duplicate Values and its Keys present in the HashMap","body":"<p>Based on logic:</p>\n<ol>\n<li><p>Loop through your map</p>\n</li>\n<li><p>For each value, get the corresponding key from the new map (based on the value)</p>\n</li>\n<li><p>If the new map key exists, remove it and put it again with the extra letter at the end</p>\n</li>\n<li><p>If not exists, just put it without any concatenation.</p>\n<pre><code>for (var entry : map.entrySet()) \n{\n    String newMapKey = getKey(newMap, entry.getValue());\n    if (newMapKey != null) \n    {\n        newMap.remove(newMapKey);\n        newMap.put(newMapKey + entry.getKey(), entry.getValue());\n        continue;\n    }\n    newMap.put(entry.getKey(), entry.getValue());\n}\n</code></pre>\n</li>\n</ol>\n<p>The extra method:</p>\n<pre><code>    private static String getKey(HashMap&lt;String, String&gt; map, String value) \n    {\n        for (String key : map.keySet())\n            if (value.equals(map.get(key)))\n                return key;\n\n        return null;\n    }\n</code></pre>\n<p><code>{BC=2, AD=1}</code></p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666182818,"creation_date":1666182818,"answer_id":74125410,"question_id":74120532,"body_markdown":"If you want the *keys* of the source map to be concatenated in alphabetical order like in your example `&quot;AD&quot;`, `&quot;BC&quot;` (and not `&quot;DA&quot;` or `&quot;CB&quot;`), then you can ensure that by creating an intermediate map of type `Map&lt;String,List&lt;String&gt;&gt;` associating each distinct value in the source map with a `List` of *keys*. Then sort each list and generate a string from it.\r\n\r\nThat how it might be implemented:\r\n\r\n```\r\nMap&lt;String, String&gt; map = Map.of(\r\n    &quot;A&quot;, &quot;1&quot;, &quot;B&quot;, &quot;2&quot;,&quot;C&quot;, &quot;2&quot;,&quot;D&quot;, &quot;1&quot;\r\n);\r\n    \r\nMap&lt;String, String&gt; newMap = map.entrySet().stream()\r\n    .collect(Collectors.groupingBy( // intermediate Map&lt;String, List&lt;String&gt;&gt;\r\n        Map.Entry::getValue,\r\n        Collectors.mapping(Map.Entry::getKey, Collectors.toList())\r\n    ))\r\n    .entrySet().stream()\r\n    .collect(Collectors.toMap(\r\n        e -&gt; e.getValue().stream().sorted().collect(Collectors.joining()),\r\n        Map.Entry::getKey\r\n    ));\r\n        \r\nnewMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\r\n```\r\n\r\n*Output:*\r\n```\r\nBC -&gt; 2\r\nAD -&gt; 1\r\n```","title":"How to Merge the Duplicate Values and its Keys present in the HashMap","body":"<p>If you want the <em>keys</em> of the source map to be concatenated in alphabetical order like in your example <code>&quot;AD&quot;</code>, <code>&quot;BC&quot;</code> (and not <code>&quot;DA&quot;</code> or <code>&quot;CB&quot;</code>), then you can ensure that by creating an intermediate map of type <code>Map&lt;String,List&lt;String&gt;&gt;</code> associating each distinct value in the source map with a <code>List</code> of <em>keys</em>. Then sort each list and generate a string from it.</p>\n<p>That how it might be implemented:</p>\n<pre><code>Map&lt;String, String&gt; map = Map.of(\n    &quot;A&quot;, &quot;1&quot;, &quot;B&quot;, &quot;2&quot;,&quot;C&quot;, &quot;2&quot;,&quot;D&quot;, &quot;1&quot;\n);\n    \nMap&lt;String, String&gt; newMap = map.entrySet().stream()\n    .collect(Collectors.groupingBy( // intermediate Map&lt;String, List&lt;String&gt;&gt;\n        Map.Entry::getValue,\n        Collectors.mapping(Map.Entry::getKey, Collectors.toList())\n    ))\n    .entrySet().stream()\n    .collect(Collectors.toMap(\n        e -&gt; e.getValue().stream().sorted().collect(Collectors.joining()),\n        Map.Entry::getKey\n    ));\n        \nnewMap.forEach((k, v) -&gt; System.out.println(k + &quot; -&gt; &quot; + v));\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>BC -&gt; 2\nAD -&gt; 1\n</code></pre>\n"}],"owner":{"account_id":21658563,"reputation":31,"user_id":15977973,"display_name":"Karthik kashyap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":477,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1666248159,"creation_date":1666159333,"question_id":74120532,"body_markdown":"    HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    HashMap&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\r\n    \r\n    map.put(&quot;A&quot;,&quot;1&quot;);\r\n    map.put(&quot;B&quot;,&quot;2&quot;);\r\n    map.put(&quot;C&quot;,&quot;2&quot;);\r\n    map.put(&quot;D&quot;,&quot;1&quot;);\r\n\r\nExpected Output: &quot;AD&quot;, &quot;1&quot; and &quot;BC&quot;, &quot;2&quot; present inside the newMap which means, if the data values were same it needs combine its keys to have only one data value by combining its keys inside the newMap created how to achieve this in Java?","title":"How to Merge the Duplicate Values and its Keys present in the HashMap","body":"<pre><code>HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\nHashMap&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\n\nmap.put(&quot;A&quot;,&quot;1&quot;);\nmap.put(&quot;B&quot;,&quot;2&quot;);\nmap.put(&quot;C&quot;,&quot;2&quot;);\nmap.put(&quot;D&quot;,&quot;1&quot;);\n</code></pre>\n<p>Expected Output: &quot;AD&quot;, &quot;1&quot; and &quot;BC&quot;, &quot;2&quot; present inside the newMap which means, if the data values were same it needs combine its keys to have only one data value by combining its keys inside the newMap created how to achieve this in Java?</p>\n"},{"tags":["java","swing","jcombobox","dimensions"],"comments":[{"owner":{"account_id":274100,"reputation":3955,"user_id":566128,"accept_rate":60,"display_name":"Suman.hassan95"},"score":0,"creation_date":1294426636,"post_id":4629015,"comment_id":5092181,"body_markdown":"i have added my code. please have a look at it.","body":"i have added my code. please have a look at it."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1294432380,"post_id":4629015,"comment_id":5093349,"body_markdown":"Reformatted code; copyedited; please revert if incorrect.","body":"Reformatted code; copyedited; please revert if incorrect."}],"answers":[{"comments":[{"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"score":1,"creation_date":1510869771,"post_id":4629054,"comment_id":81632012,"body_markdown":"Using `setPrototypeDisplayValue` with a sensitive option helps on properly resizing the JComboBox while allowing it to have a different size according to container definition. Thanks!","body":"Using <code>setPrototypeDisplayValue</code> with a sensitive option helps on properly resizing the JComboBox while allowing it to have a different size according to container definition. Thanks!"}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":1,"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1303946812,"creation_date":1294425742,"answer_id":4629054,"question_id":4629015,"body_markdown":"The width is automatically determined by the width of the largest item added to the combo box. You can control the display by using:\r\n\r\n    comboBox.setPrototypeDisplayValue(&quot;text here&quot;);\r\n\r\nYou might also consider using the [Combo Box Popup][1] to control the popup size.\r\n\r\nEdit:\r\n\r\nSince you added code that shows you are using a BoxLayout you can try the following:\r\n\r\n    comboBox.setMaximumSize( comboBox.getPreferredSize() );\r\n\r\nOr you can do something like:\r\n\r\n    JPanel wrapper = new JPanel();\r\n    wrapper.add( comboBox );\r\n    panel.add( wrapper );\r\n\r\nRead the section from the Swing tutorial on [Using Layout Managers][2] to understand how these suggestions work.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2010/11/28/combo-box-popup/\r\n  [2]: http://download.oracle.com/javase/tutorial/uiswing/layout/index.html","title":"JComboBox width","body":"<p>The width is automatically determined by the width of the largest item added to the combo box. You can control the display by using:</p>\n\n<pre><code>comboBox.setPrototypeDisplayValue(\"text here\");\n</code></pre>\n\n<p>You might also consider using the <a href=\"http://tips4java.wordpress.com/2010/11/28/combo-box-popup/\" rel=\"noreferrer\">Combo Box Popup</a> to control the popup size.</p>\n\n<p>Edit:</p>\n\n<p>Since you added code that shows you are using a BoxLayout you can try the following:</p>\n\n<pre><code>comboBox.setMaximumSize( comboBox.getPreferredSize() );\n</code></pre>\n\n<p>Or you can do something like:</p>\n\n<pre><code>JPanel wrapper = new JPanel();\nwrapper.add( comboBox );\npanel.add( wrapper );\n</code></pre>\n\n<p>Read the section from the Swing tutorial on <a href=\"http://download.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"noreferrer\">Using Layout Managers</a> to understand how these suggestions work.</p>\n"},{"comments":[{"owner":{"account_id":274100,"reputation":3955,"user_id":566128,"accept_rate":60,"display_name":"Suman.hassan95"},"score":0,"creation_date":1294426422,"post_id":4629059,"comment_id":5092137,"body_markdown":"i tried but gives this error.                                                                &quot; The method setPreferredWidth(int) is undefined for the type JComboBox&quot;","body":"i tried but gives this error.                                                                &quot; The method setPreferredWidth(int) is undefined for the type JComboBox&quot;"},{"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"score":2,"creation_date":1294426624,"post_id":4629059,"comment_id":5092179,"body_markdown":"Looking in the API, the exact method is: setPreferredSize(Dimension preferredSize)","body":"Looking in the API, the exact method is: setPreferredSize(Dimension preferredSize)"}],"tags":[],"owner":{"account_id":120605,"reputation":24173,"user_id":313137,"display_name":"Romain Hippeau"},"comment_count":2,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1294427340,"creation_date":1294425776,"answer_id":4629059,"question_id":4629015,"body_markdown":"try comboBox.setPreferredWidth(200); or some other value to set the width\r\n\r\njzd is right. The actual API is `setPreferredSize(new Dimension(...));`","title":"JComboBox width","body":"<p>try comboBox.setPreferredWidth(200); or some other value to set the width</p>\n\n<p>jzd is right. The actual API is <code>setPreferredSize(new Dimension(...));</code></p>\n"},{"comments":[{"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"score":1,"creation_date":1294428357,"post_id":4629189,"comment_id":5092517,"body_markdown":"The width will be automatically determined based on the contents or use setPreferredSize() or camickr&#39;s suggestion.  But if you put it in a layout that stretches it will not matter.","body":"The width will be automatically determined based on the contents or use setPreferredSize() or camickr&#39;s suggestion.  But if you put it in a layout that stretches it will not matter."}],"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294426741,"creation_date":1294426741,"answer_id":4629189,"question_id":4629015,"body_markdown":"Use a different LayoutManager.  Try `FlowLayout`.","title":"JComboBox width","body":"<p>Use a different LayoutManager.  Try <code>FlowLayout</code>.</p>\n"},{"tags":[],"owner":{"account_id":73745,"reputation":20493,"user_id":212211,"accept_rate":89,"display_name":"ring bearer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1294434469,"creation_date":1294434469,"answer_id":4630304,"question_id":4629015,"body_markdown":"Here is something you can do with box layout. \r\n\r\n - Change axis to line axis, Add\r\n -  horizontal glue, Add rigid area,\r\n - place the component\r\n\r\n.\r\ncode snippet below:\r\n\r\n    panel = new JPanel();\r\n    panel.setLayout(new BoxLayout(panel, BoxLayout.LINE_AXIS));\r\n    panel.add(Box.createHorizontalGlue());\r\n    panel.add(Box.createRigidArea(new Dimension(10, 0)));\r\n    panel.add(combo);\r\n    frame.getContentPane().add(BorderLayout.NORTH, panel);\r\n\r\n","title":"JComboBox width","body":"<p>Here is something you can do with box layout. </p>\n\n<ul>\n<li>Change axis to line axis, Add</li>\n<li>horizontal glue, Add rigid area,</li>\n<li>place the component</li>\n</ul>\n\n<p>.\ncode snippet below:</p>\n\n<pre><code>panel = new JPanel();\npanel.setLayout(new BoxLayout(panel, BoxLayout.LINE_AXIS));\npanel.add(Box.createHorizontalGlue());\npanel.add(Box.createRigidArea(new Dimension(10, 0)));\npanel.add(combo);\nframe.getContentPane().add(BorderLayout.NORTH, panel);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1544734,"reputation":1105,"user_id":1438535,"accept_rate":70,"display_name":"Ned"},"comment_count":0,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1359416071,"creation_date":1359416071,"answer_id":14573222,"question_id":4629015,"body_markdown":"You might want to use `setSize()` method.\r\n\r\n    combo.setSize(200, combo.getPreferredSize().height);","title":"JComboBox width","body":"<p>You might want to use <code>setSize()</code> method.</p>\n\n<pre><code>combo.setSize(200, combo.getPreferredSize().height);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1666250726,"post_id":74135275,"comment_id":130892487,"body_markdown":"`ComboBox` is a heavyweight AWT component.  AWT components and Swing components don&#39;t always play well together.","body":"<code>ComboBox</code> is a heavyweight AWT component.  AWT components and Swing components don&#39;t always play well together."}],"tags":[],"owner":{"account_id":26678486,"reputation":1,"user_id":20288782,"display_name":"Shweta Mishra"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666246997,"creation_date":1666246997,"answer_id":74135275,"question_id":4629015,"body_markdown":"Don&#39;t use JCombobox&lt;&gt;() instead of that use Combobox&lt;&gt;() then width won&#39;t change, also if you set preferred size it won&#39;t change with Combobox so use this instead ","title":"JComboBox width","body":"<p>Don't use JCombobox&lt;&gt;() instead of that use Combobox&lt;&gt;() then width won't change, also if you set preferred size it won't change with Combobox so use this instead</p>\n"}],"owner":{"account_id":274100,"reputation":3955,"user_id":566128,"accept_rate":60,"display_name":"Suman.hassan95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71819,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1666246997,"creation_date":1294425478,"question_id":4629015,"body_markdown":"I have created a jComboBox but it takes the full width of the frame. how to set the width fixed. \r\n\r\n\r\nyes borderlayout for the frame and box layout for the panel.  i am adding the code here:\r\n\r\n\r\n\r\n    import javax.swing.*;\r\n    import java.awt.BorderLayout;\r\n\r\n    public class Window8  {\r\n\r\n        JFrame frame;\r\n        JPanel panel;\r\n        JComboBox combo;\r\n        public void go(){\r\n\t\t\r\n        String[] option = { &quot;STUDENT&quot;, &quot;TEACHER&quot; };\r\n\r\n        combo.setPreferredSize(new Dimension(1,25));\r\n        combo = new JComboBox(option);\r\n        menu.setSelectedIndex(0);\r\n\r\n        frame = new JFrame(&quot;DELETION&quot;); \r\n    \tframe.setLocationRelativeTo(null);\r\n    \tframe.setSize(400, 300);\r\n    \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \tframe.setVisible(true);\r\n\r\n        panel = new JPanel();\r\n        panel.setLayout(new BoxLayout(panel,BoxLayout.Y_AXIS));\r\n\r\n        frame.getContentPane().add(BorderLayout.NORTH,panel);\r\n        panel.add(combo);\t\r\n    }\r\n","title":"JComboBox width","body":"<p>I have created a jComboBox but it takes the full width of the frame. how to set the width fixed. </p>\n\n<p>yes borderlayout for the frame and box layout for the panel.  i am adding the code here:</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.BorderLayout;\n\npublic class Window8  {\n\n    JFrame frame;\n    JPanel panel;\n    JComboBox combo;\n    public void go(){\n\n    String[] option = { \"STUDENT\", \"TEACHER\" };\n\n    combo.setPreferredSize(new Dimension(1,25));\n    combo = new JComboBox(option);\n    menu.setSelectedIndex(0);\n\n    frame = new JFrame(\"DELETION\"); \n    frame.setLocationRelativeTo(null);\n    frame.setSize(400, 300);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setVisible(true);\n\n    panel = new JPanel();\n    panel.setLayout(new BoxLayout(panel,BoxLayout.Y_AXIS));\n\n    frame.getContentPane().add(BorderLayout.NORTH,panel);\n    panel.add(combo);   \n}\n</code></pre>\n"},{"tags":["java","windows","maven","docker"],"comments":[{"owner":{"account_id":293130,"reputation":238948,"user_id":596285,"accept_rate":100,"display_name":"BMitch"},"score":0,"creation_date":1473853775,"post_id":39487399,"comment_id":66296944,"body_markdown":"&quot;Normal docker commands work perfectly fine.&quot; What&#39;s the variable set to then?","body":"&quot;Normal docker commands work perfectly fine.&quot; What&#39;s the variable set to then?"},{"owner":{"account_id":3555444,"reputation":221,"user_id":2969329,"accept_rate":0,"display_name":"user2969329"},"score":0,"creation_date":1473854018,"post_id":39487399,"comment_id":66297097,"body_markdown":"There is no variable, just ran the installer, and docker is added to the path variable. I can install containers an run them, I can list networks, list containers etc. Just the maven plugin complains about this variable.","body":"There is no variable, just ran the installer, and docker is added to the path variable. I can install containers an run them, I can list networks, list containers etc. Just the maven plugin complains about this variable."},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1484321949,"post_id":39487399,"comment_id":70476078,"body_markdown":"See also https://github.com/fabric8io/shootout-docker-maven/issues/1","body":"See also <a href=\"https://github.com/fabric8io/shootout-docker-maven/issues/1\" rel=\"nofollow noreferrer\">github.com/fabric8io/shootout-docker-maven/issues/1</a>"}],"answers":[{"comments":[{"owner":{"account_id":2546504,"reputation":2896,"user_id":2211208,"display_name":"vimal krishna"},"score":0,"creation_date":1507231244,"post_id":39498133,"comment_id":80139543,"body_markdown":"On window 10 home it is not working on pro version that is valid &lt;dockerHost&gt;http://127.0.0.1:2375&lt;/dockerHost&gt;","body":"On window 10 home it is not working on pro version that is valid &lt;dockerHost&gt;<a href=\"http://127.0.0.1:2375&lt;/dockerHost\" rel=\"nofollow noreferrer\">127.0.0.1:2375&lt;/dockerHost</a>&gt;"},{"owner":{"account_id":2546504,"reputation":2896,"user_id":2211208,"display_name":"vimal krishna"},"score":0,"creation_date":1507263767,"post_id":39498133,"comment_id":80148678,"body_markdown":"https://stackoverflow.com/questions/44226315/failed-to-execute-fabric8-docker-plugin/46598043#46598043 \n\nMay be this link help you","body":"<a href=\"https://stackoverflow.com/questions/44226315/failed-to-execute-fabric8-docker-plugin/46598043#46598043\" title=\"failed to execute fabric8 docker plugin\">stackoverflow.com/questions/44226315/&hellip;</a>   May be this link help you"},{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1597267377,"post_id":39498133,"comment_id":112080753,"body_markdown":"@friism shouldn&#39;t `http` be `tcp` here?","body":"@friism shouldn&#39;t <code>http</code> be <code>tcp</code> here?"}],"tags":[],"owner":{"account_id":2134,"reputation":19128,"user_id":2942,"accept_rate":60,"display_name":"friism"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1473880963,"creation_date":1473880963,"answer_id":39498133,"question_id":39487399,"body_markdown":"On Windows 10 with Docker for Windows, the Docker Engine API is available in these two locations:\r\n\r\n * `npipe:////./pipe/docker_engine`\r\n * `http://localhost:2375`\r\n\r\nI recommend trying with the localhost one.\r\n\r\nDetails here: https://docs.docker.com/docker-for-windows/faqs/#/how-do-i-connect-to-the-remote-docker-engine-api","title":"DOCKER_HOST environment variable on windows","body":"<p>On Windows 10 with Docker for Windows, the Docker Engine API is available in these two locations:</p>\n\n<ul>\n<li><code>npipe:////./pipe/docker_engine</code></li>\n<li><code>http://localhost:2375</code></li>\n</ul>\n\n<p>I recommend trying with the localhost one.</p>\n\n<p>Details here: <a href=\"https://docs.docker.com/docker-for-windows/faqs/#/how-do-i-connect-to-the-remote-docker-engine-api\" rel=\"noreferrer\">https://docs.docker.com/docker-for-windows/faqs/#/how-do-i-connect-to-the-remote-docker-engine-api</a></p>\n"},{"comments":[{"owner":{"account_id":227595,"reputation":761,"user_id":489363,"display_name":"Peter Davis"},"score":5,"creation_date":1547598755,"post_id":41638186,"comment_id":95244082,"body_markdown":"Setting `docker.skip` doesn&#39;t solve the issue if the whole point is to be able to build with Docker!","body":"Setting <code>docker.skip</code> doesn&#39;t solve the issue if the whole point is to be able to build with Docker!"},{"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1547636894,"post_id":41638186,"comment_id":95257017,"body_markdown":"@PeterDavis, as it was explicitly stated above, this answer is only for those who wants to fix the build but doesn&#39;t need the docker at all.","body":"@PeterDavis, as it was explicitly stated above, this answer is only for those who wants to fix the build but doesn&#39;t need the docker at all."}],"tags":[],"owner":{"account_id":297814,"reputation":25324,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"comment_count":2,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1547636711,"creation_date":1484321837,"answer_id":41638186,"question_id":39487399,"body_markdown":"If someone **just wants to skip** fabric8 docker-maven-plugin execution that prevents build to succeed with error \r\n\r\n&gt; No &lt;dockerHost&gt; given, no DOCKER_HOST environment variable, no\r\n&gt; read/writable &#39;/var/run/docker.sock&#39; or &#39;//./pipe/docker_engine&#39; and\r\n&gt; no external provider like Docker machine configured\r\n\r\nthen this can be achieved with `-Ddocker.skip=true` according to https://dmp.fabric8.io/#global-configuration.","title":"DOCKER_HOST environment variable on windows","body":"<p>If someone <strong>just wants to skip</strong> fabric8 docker-maven-plugin execution that prevents build to succeed with error </p>\n\n<blockquote>\n  <p>No  given, no DOCKER_HOST environment variable, no\n  read/writable '/var/run/docker.sock' or '//./pipe/docker_engine' and\n  no external provider like Docker machine configured</p>\n</blockquote>\n\n<p>then this can be achieved with <code>-Ddocker.skip=true</code> according to <a href=\"https://dmp.fabric8.io/#global-configuration\" rel=\"nofollow noreferrer\">https://dmp.fabric8.io/#global-configuration</a>.</p>\n"},{"comments":[{"owner":{"account_id":7102398,"reputation":551,"user_id":8382692,"accept_rate":100,"display_name":"Mike"},"score":0,"creation_date":1635339797,"post_id":50018598,"comment_id":123270785,"body_markdown":"this should be the accepted answer!","body":"this should be the accepted answer!"}],"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1524648363,"creation_date":1524648363,"answer_id":50018598,"question_id":39487399,"body_markdown":"After nearly a day of fruitless Googling I found this solution by myself. Trivial, but might still help others.\r\n\r\n[![expose Docker daemon][1]][1]\r\n\r\nYou need to enable the checkbox &#39;Expose daemon on...&#39; under Settings -&gt; General\r\n\r\n  [1]: https://i.stack.imgur.com/JOCuc.png","title":"DOCKER_HOST environment variable on windows","body":"<p>After nearly a day of fruitless Googling I found this solution by myself. Trivial, but might still help others.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JOCuc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JOCuc.png\" alt=\"expose Docker daemon\"></a></p>\n\n<p>You need to enable the checkbox 'Expose daemon on...' under Settings -> General</p>\n"},{"tags":[],"owner":{"account_id":433536,"reputation":764,"user_id":818921,"accept_rate":100,"display_name":"Jamali"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1524654073,"creation_date":1524654073,"answer_id":50020599,"question_id":39487399,"body_markdown":"It seems the user which is running Maven goals doesn&#39;t have access to **docker.sock** . The error message is telling which options are there to resolve the problem. \r\n\r\n&gt; No `&lt;dockerHost&gt;` or `&lt;machine&gt;` given, no DOCKER_HOST environment\r\n&gt; variable, **and no read/writable &#39;/var/run/docker.sock**&#39;\r\n\r\nLast option is the easiest one because it requires a file permission and it doesn&#39;t need to create any docker machine or set a DOCKER_HOST, On Linux you can change read/write permission of docker.sock with the following:\r\n\r\n    sudo chmod 776 /var/run/docker.sock\r\n\r\nOn windows go through this article : [Microsoft article][1]\r\n\r\n\r\n  [1]: https://answers.microsoft.com/en-us/windows/forum/windows_10-files-winpc/give-permissions-to-files-and-folders-in-windows/78ee562c-a21f-4a32-8691-73aac1415373","title":"DOCKER_HOST environment variable on windows","body":"<p>It seems the user which is running Maven goals doesn't have access to <strong>docker.sock</strong> . The error message is telling which options are there to resolve the problem. </p>\n\n<blockquote>\n  <p>No <code>&lt;dockerHost&gt;</code> or <code>&lt;machine&gt;</code> given, no DOCKER_HOST environment\n  variable, <strong>and no read/writable '/var/run/docker.sock</strong>'</p>\n</blockquote>\n\n<p>Last option is the easiest one because it requires a file permission and it doesn't need to create any docker machine or set a DOCKER_HOST, On Linux you can change read/write permission of docker.sock with the following:</p>\n\n<pre><code>sudo chmod 776 /var/run/docker.sock\n</code></pre>\n\n<p>On windows go through this article : <a href=\"https://answers.microsoft.com/en-us/windows/forum/windows_10-files-winpc/give-permissions-to-files-and-folders-in-windows/78ee562c-a21f-4a32-8691-73aac1415373\" rel=\"noreferrer\">Microsoft article</a></p>\n"},{"tags":[],"owner":{"account_id":44259,"reputation":2595,"user_id":129795,"accept_rate":38,"display_name":"Jigar Shah"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1531477574,"creation_date":1531477574,"answer_id":51323039,"question_id":39487399,"body_markdown":"use docker-machine if you are using toolbox. \r\n\r\n                &lt;machine&gt;\r\n                    &lt;name&gt;default&lt;/name&gt;\r\n                    &lt;autoCreate&gt;true&lt;/autoCreate&gt;\r\n                    &lt;createOptions&gt;\r\n                        &lt;driver&gt;virtualbox&lt;/driver&gt;\r\n                        &lt;virtualbox-cpu-count&gt;2&lt;/virtualbox-cpu-count&gt;\r\n                    &lt;/createOptions&gt;\r\n                &lt;/machine&gt;\r\n\r\n","title":"DOCKER_HOST environment variable on windows","body":"<p>use docker-machine if you are using toolbox. </p>\n\n<pre><code>            &lt;machine&gt;\n                &lt;name&gt;default&lt;/name&gt;\n                &lt;autoCreate&gt;true&lt;/autoCreate&gt;\n                &lt;createOptions&gt;\n                    &lt;driver&gt;virtualbox&lt;/driver&gt;\n                    &lt;virtualbox-cpu-count&gt;2&lt;/virtualbox-cpu-count&gt;\n                &lt;/createOptions&gt;\n            &lt;/machine&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8424079,"reputation":31,"user_id":6321971,"display_name":"Jeevan Timsina"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585720000,"creation_date":1585720000,"answer_id":60964394,"question_id":39487399,"body_markdown":"If you are using Window and Maven in eclipse to build your java project\r\nbut continue seeing that error, then you have to perform these steps:\r\n\r\nStep1: \r\n\r\n&gt; You need to enable the checkbox &#39;Expose daemon on...&#39; under Settings -&gt; General\r\nAs mentioned by @Adriaan Koster\r\n\r\nIf step1 does not solve the issue,then\r\n\r\nStep2: Run your eclipse in administration mode.\r\nNow it should work without issues.","title":"DOCKER_HOST environment variable on windows","body":"<p>If you are using Window and Maven in eclipse to build your java project\nbut continue seeing that error, then you have to perform these steps:</p>\n\n<p>Step1: </p>\n\n<blockquote>\n  <p>You need to enable the checkbox 'Expose daemon on...' under Settings -> General\n  As mentioned by @Adriaan Koster</p>\n</blockquote>\n\n<p>If step1 does not solve the issue,then</p>\n\n<p>Step2: Run your eclipse in administration mode.\nNow it should work without issues.</p>\n"},{"tags":[],"owner":{"account_id":5581710,"reputation":633,"user_id":4423409,"display_name":"O. Schnieders"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666246761,"creation_date":1666246761,"answer_id":74135247,"question_id":39487399,"body_markdown":"I had the same issue when I tried to build a project in a custom GitLab CI/CD runner, with another than root user defined in a custom build image. I fixed by setting the read/write permission for users to the docker-socket.\r\n\r\n```\r\nchmod o+rw /var/run/docker.sock\r\n```","title":"DOCKER_HOST environment variable on windows","body":"<p>I had the same issue when I tried to build a project in a custom GitLab CI/CD runner, with another than root user defined in a custom build image. I fixed by setting the read/write permission for users to the docker-socket.</p>\n<pre><code>chmod o+rw /var/run/docker.sock\n</code></pre>\n"}],"owner":{"account_id":3555444,"reputation":221,"user_id":2969329,"accept_rate":0,"display_name":"user2969329"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45299,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1666246761,"creation_date":1473846575,"question_id":39487399,"body_markdown":"I&#39;m running Docker 1.12.0 on a Windows 10 machine. I&#39;m developing a Java program, using Maven 3.3.9 as a dependency manager. I have a maven docker plugin (https://github.com/fabric8io/docker-maven-plugin), which gives the following error on clean install.\r\n\r\n[ERROR] Failed to execute goal io.fabric8:docker-maven-plugin:0.15.16:build (docker-build-start) on project integration-test: Execution docker-build-start of goal io.fabric8:docker-maven-plugin:0.15.16:build failed: No `&lt;dockerHost&gt;` or `&lt;machine&gt;` given, no DOCKER_HOST environment variable, and no read/writable &#39;/var/run/docker.sock&#39; -&gt; [Help 1]\r\n\r\nWhen I run a clean install with the following configuration option in the POM file:\r\n\r\n    &lt;dockerHost&gt;tcp://0.0.0.0:2376&lt;/dockerHost&gt;\r\n\r\nthe following result is shown.\r\n\r\n[ERROR] Failed to execute goal io.fabric8:docker-maven-plugin:0.15.16:build (docker-build-start) on project integration-test: Cannot create docker access object: Cannot extract API version from server https://0.0.0.0:2376: Connect to 0.0.0.0:2376 [/0.0.0.0] failed: Connection refused: connect -&gt; [Help 1]\r\n\r\nMy question: is there an IP address I can use to tell this maven plugin where it can reach the daemon? Normal docker commands work perfectly fine. The plugin works without any problems on OS X.\r\n","title":"DOCKER_HOST environment variable on windows","body":"<p>I'm running Docker 1.12.0 on a Windows 10 machine. I'm developing a Java program, using Maven 3.3.9 as a dependency manager. I have a maven docker plugin (<a href=\"https://github.com/fabric8io/docker-maven-plugin\" rel=\"noreferrer\">https://github.com/fabric8io/docker-maven-plugin</a>), which gives the following error on clean install.</p>\n\n<p>[ERROR] Failed to execute goal io.fabric8:docker-maven-plugin:0.15.16:build (docker-build-start) on project integration-test: Execution docker-build-start of goal io.fabric8:docker-maven-plugin:0.15.16:build failed: No <code>&lt;dockerHost&gt;</code> or <code>&lt;machine&gt;</code> given, no DOCKER_HOST environment variable, and no read/writable '/var/run/docker.sock' -> [Help 1]</p>\n\n<p>When I run a clean install with the following configuration option in the POM file:</p>\n\n<pre><code>&lt;dockerHost&gt;tcp://0.0.0.0:2376&lt;/dockerHost&gt;\n</code></pre>\n\n<p>the following result is shown.</p>\n\n<p>[ERROR] Failed to execute goal io.fabric8:docker-maven-plugin:0.15.16:build (docker-build-start) on project integration-test: Cannot create docker access object: Cannot extract API version from server <a href=\"https://0.0.0.0:2376\" rel=\"noreferrer\">https://0.0.0.0:2376</a>: Connect to 0.0.0.0:2376 [/0.0.0.0] failed: Connection refused: connect -> [Help 1]</p>\n\n<p>My question: is there an IP address I can use to tell this maven plugin where it can reach the daemon? Normal docker commands work perfectly fine. The plugin works without any problems on OS X.</p>\n"},{"tags":["java","spring-data","spring-el","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78757,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666246318,"creation_date":1666246318,"answer_id":74135174,"question_id":74134737,"body_markdown":"This is possible with the [latest milestone release of Spring Data JDBC(3.0.0-RC1][1]!\r\nIt is probably the main use case behind SpEL support.\r\nWith it you can now use constructs like this:\r\n\r\n```java\r\n@Query(&quot;select u from User u where u.firstname = :#{#customer.firstname}&quot;)\r\nList&lt;User&gt; findUsersByCustomersFirstname(@Param(&quot;customer&quot;) Customer customer);\r\n```\r\n\r\n[Just as you can for a long time in Spring Data JPA.][2]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-relational/issues/619\r\n  [2]: https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions","title":"Can Spring Data JDBC use object properties as query parameters?","body":"<p>This is possible with the <a href=\"https://github.com/spring-projects/spring-data-relational/issues/619\" rel=\"nofollow noreferrer\">latest milestone release of Spring Data JDBC(3.0.0-RC1</a>!\nIt is probably the main use case behind SpEL support.\nWith it you can now use constructs like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(&quot;select u from User u where u.firstname = :#{#customer.firstname}&quot;)\nList&lt;User&gt; findUsersByCustomersFirstname(@Param(&quot;customer&quot;) Customer customer);\n</code></pre>\n<p><a href=\"https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions\" rel=\"nofollow noreferrer\">Just as you can for a long time in Spring Data JPA.</a></p>\n"}],"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74135174,"answer_count":1,"score":0,"last_activity_date":1666246494,"creation_date":1666242904,"question_id":74134737,"body_markdown":"Currently I use the following code for a custom SQL statement in a Spring Data JDBC Repository interface:\r\n\r\n```lang-java\r\ndefault void upsert(LoanRecord r) {\r\n    upsert(r.getId(), r.getUcdpDocumentFileId(), r.getFreSellerNo(),\r\n            r.getFreDeliverySellerNo(), r.getLenderLoanNo(), r.getFreLpKey());\r\n}\r\n\r\n@Modifying\r\n@Query(&quot;&quot;&quot;\r\n    INSERT INTO loan (id, ucdp_document_file_id, lender_loan_no, fre_seller_no, fre_delivery_seller_no, fre_lp_key)\r\n        values (:id, :ucdpDocumentFileId, :lenderLoanNo, :freSellerNo, :freDeliverySellerNo, :freLpKey)\r\n    ON CONFLICT (ucdp_document_file_id) DO UPDATE SET\r\n        lender_loan_no = EXCLUDED.lender_loan_no,\r\n        fre_seller_no = EXCLUDED.fre_seller_no,\r\n        fre_delivery_seller_no = EXCLUDED.fre_delivery_seller_no,\r\n        fre_lp_key = EXCLUDED.fre_lp_key&quot;&quot;&quot;)\r\nvoid upsert(UUID id, String ucdpDocumentFileId, String freSellerNo,\r\n        String freDeliverySellerNo, String lenderLoanNo, String freLpKey);\r\n```\r\n\r\nThe actual statement doesn&#39;t really matter, but as you can see, there&#39;s a wrapper method that unpacks the object so I can use simple parameters in the second method. Is there some way to refer to object properties in the query (like with MyBatis) so we can get rid of the wrapper method?\r\n\r\nFor reference, my spring-data-jdbc version is 2.4.2.","title":"Can Spring Data JDBC use object properties as query parameters?","body":"<p>Currently I use the following code for a custom SQL statement in a Spring Data JDBC Repository interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>default void upsert(LoanRecord r) {\n    upsert(r.getId(), r.getUcdpDocumentFileId(), r.getFreSellerNo(),\n            r.getFreDeliverySellerNo(), r.getLenderLoanNo(), r.getFreLpKey());\n}\n\n@Modifying\n@Query(&quot;&quot;&quot;\n    INSERT INTO loan (id, ucdp_document_file_id, lender_loan_no, fre_seller_no, fre_delivery_seller_no, fre_lp_key)\n        values (:id, :ucdpDocumentFileId, :lenderLoanNo, :freSellerNo, :freDeliverySellerNo, :freLpKey)\n    ON CONFLICT (ucdp_document_file_id) DO UPDATE SET\n        lender_loan_no = EXCLUDED.lender_loan_no,\n        fre_seller_no = EXCLUDED.fre_seller_no,\n        fre_delivery_seller_no = EXCLUDED.fre_delivery_seller_no,\n        fre_lp_key = EXCLUDED.fre_lp_key&quot;&quot;&quot;)\nvoid upsert(UUID id, String ucdpDocumentFileId, String freSellerNo,\n        String freDeliverySellerNo, String lenderLoanNo, String freLpKey);\n</code></pre>\n<p>The actual statement doesn't really matter, but as you can see, there's a wrapper method that unpacks the object so I can use simple parameters in the second method. Is there some way to refer to object properties in the query (like with MyBatis) so we can get rid of the wrapper method?</p>\n<p>For reference, my spring-data-jdbc version is 2.4.2.</p>\n"},{"tags":["java","java-6","iterable","finally"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1394234585,"post_id":22262618,"comment_id":33815346,"body_markdown":"Why don&#39;t you try it? How could the finally block know that the client has finished using the returned value?","body":"Why don&#39;t you try it? How could the finally block know that the client has finished using the returned value?"},{"owner":{"account_id":4138727,"reputation":13,"user_id":3394700,"display_name":"user3394700"},"score":0,"creation_date":1394235010,"post_id":22262618,"comment_id":33815484,"body_markdown":"@JBNizet I have, and it appears to work (i.e. I can exhaust the iterator). But because the precise iterable type I get back is an abstract wrapper for several other things, I&#39;m not sure if it works because the `close()` is just a dummy implementation which does nothing, and it&#39;ll fail on me in other circumstances.","body":"@JBNizet I have, and it appears to work (i.e. I can exhaust the iterator). But because the precise iterable type I get back is an abstract wrapper for several other things, I&#39;m not sure if it works because the <code>close()</code> is just a dummy implementation which does nothing, and it&#39;ll fail on me in other circumstances."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1394235397,"post_id":22262618,"comment_id":33815634,"body_markdown":"Make it print &quot;I&#39;m closed&#39;, and check when &quot;I&#39;m closed&quot; is printed. Or use your debugger to see when it&#39;s closed.","body":"Make it print &quot;I&#39;m closed&#39;, and check when &quot;I&#39;m closed&quot; is printed. Or use your debugger to see when it&#39;s closed."},{"owner":{"account_id":252190,"reputation":1445,"user_id":530055,"display_name":"Isaiah van der Elst"},"score":0,"creation_date":1394235481,"post_id":22262618,"comment_id":33815660,"body_markdown":"Typically, the method that creates the closeable would be responsible for closing it. In this case it looks like getStuff is just a wrapper to the factory or creator. Just let the method that calls getStuff close it. The only other way is to have getStuff iterate over it using a callback to pass values to the caller and figure out if the next one needs to be polled (if the callback indicates that it&#39;s done or hasNext returns false, close the thing).","body":"Typically, the method that creates the closeable would be responsible for closing it. In this case it looks like getStuff is just a wrapper to the factory or creator. Just let the method that calls getStuff close it. The only other way is to have getStuff iterate over it using a callback to pass values to the caller and figure out if the next one needs to be polled (if the callback indicates that it&#39;s done or hasNext returns false, close the thing)."}],"answers":[{"tags":[],"owner":{"account_id":2353390,"reputation":4575,"user_id":2061763,"accept_rate":67,"display_name":"Andrei Nicusan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394234866,"creation_date":1394234866,"answer_id":22262706,"question_id":22262618,"body_markdown":"The finally block is executed right before the `return` statement. You will have to let the client code of the method handle the iterable instance correctly (make it part of your method contract and document it properly).\r\n\r\nAlso, it would be worth to learn by example. Go find a method in Java API that returns a `Closeable` and then go to its source code and see how it&#39;s handled.","title":"returning a closeable iterable","body":"<p>The finally block is executed right before the <code>return</code> statement. You will have to let the client code of the method handle the iterable instance correctly (make it part of your method contract and document it properly).</p>\n\n<p>Also, it would be worth to learn by example. Go find a method in Java API that returns a <code>Closeable</code> and then go to its source code and see how it's handled.</p>\n"},{"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1394235594,"creation_date":1394235594,"answer_id":22262823,"question_id":22262618,"body_markdown":"The `finally` block will always execute before the `try` block is considered finished.\r\n\r\nAccording to the [JLS, Section 14.17][1], a return statement\r\n\r\n&gt; attempts to transfer control to the invoker of the method that contains it;\r\n\r\nand\r\n\r\n&gt; _The preceding descriptions say &quot;attempts to transfer control&quot; rather than just &quot;transfers control&quot; because if there are any try statements (&#167;14.20) within the method or constructor whose try blocks or catch clauses contain the return statement, **then any finally clauses of those try statements will be executed**, in order, innermost to outermost, before control is transferred to the invoker of the method or constructor. Abrupt completion of a finally clause can disrupt the transfer of control initiated by a return statement._\r\n\r\n(**bold** emphasis mine)\r\n\r\nThat is, a `return` statement inside a `try` will execute the `finally` block before actually returning.  Therefore, your `CloseableIterable` will be closed before it gets returned to the caller.\r\n\r\nAs for &quot;try-with-resources&quot;, the code is equivalent to a try-catch-finally block, so it should behave the same.  According to the [JLS, Section 14.20.3][2],\r\n\r\n&gt; A try-with-resources statement is parameterized with variables (known as resources) that are initialized before execution of the try block and closed automatically, in the reverse order from which they were initialized, after execution of the try block.\r\n\r\nThat is, the equivalent code you&#39;ve written above with &quot;try-with-resources&quot; in Java 1.7 would be:\r\n\r\n    try (CloseableIterable&lt;T&gt; iterable = fetchStuffFromSomewhere()) {\r\n        return iterable;\r\n    }\r\n\r\n... and it would still close it before control is transferred back to the method&#39;s caller.\r\n\r\n[1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.17\r\n[2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.3","title":"returning a closeable iterable","body":"<p>The <code>finally</code> block will always execute before the <code>try</code> block is considered finished.</p>\n\n<p>According to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.17\" rel=\"nofollow\">JLS, Section 14.17</a>, a return statement</p>\n\n<blockquote>\n  <p>attempts to transfer control to the invoker of the method that contains it;</p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p><em>The preceding descriptions say \"attempts to transfer control\" rather than just \"transfers control\" because if there are any try statements (14.20) within the method or constructor whose try blocks or catch clauses contain the return statement, <strong>then any finally clauses of those try statements will be executed</strong>, in order, innermost to outermost, before control is transferred to the invoker of the method or constructor. Abrupt completion of a finally clause can disrupt the transfer of control initiated by a return statement.</em></p>\n</blockquote>\n\n<p>(<strong>bold</strong> emphasis mine)</p>\n\n<p>That is, a <code>return</code> statement inside a <code>try</code> will execute the <code>finally</code> block before actually returning.  Therefore, your <code>CloseableIterable</code> will be closed before it gets returned to the caller.</p>\n\n<p>As for \"try-with-resources\", the code is equivalent to a try-catch-finally block, so it should behave the same.  According to the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.20.3\" rel=\"nofollow\">JLS, Section 14.20.3</a>,</p>\n\n<blockquote>\n  <p>A try-with-resources statement is parameterized with variables (known as resources) that are initialized before execution of the try block and closed automatically, in the reverse order from which they were initialized, after execution of the try block.</p>\n</blockquote>\n\n<p>That is, the equivalent code you've written above with \"try-with-resources\" in Java 1.7 would be:</p>\n\n<pre><code>try (CloseableIterable&lt;T&gt; iterable = fetchStuffFromSomewhere()) {\n    return iterable;\n}\n</code></pre>\n\n<p>... and it would still close it before control is transferred back to the method's caller.</p>\n"},{"tags":[],"owner":{"account_id":150404,"reputation":42109,"user_id":363573,"accept_rate":97,"display_name":"Stephan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666245553,"creation_date":1666245553,"answer_id":74135058,"question_id":22262618,"body_markdown":"I would use a [Consumer][1] here:\r\n\r\n    public void forEachItemInStuff(Consumer&lt;T&gt; consumer) {\r\n        CloseableIterable&lt;T&gt; iterable = fetchStuffFromSomewhere();\r\n        try {\r\n            for(T t:iterable) {\r\n                consumer.accept(t);\r\n            }\r\n        } finally {\r\n            iterable.close();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html","title":"returning a closeable iterable","body":"<p>I would use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html\" rel=\"nofollow noreferrer\">Consumer</a> here:</p>\n<pre><code>public void forEachItemInStuff(Consumer&lt;T&gt; consumer) {\n    CloseableIterable&lt;T&gt; iterable = fetchStuffFromSomewhere();\n    try {\n        for(T t:iterable) {\n            consumer.accept(t);\n        }\n    } finally {\n        iterable.close();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4138727,"reputation":13,"user_id":3394700,"display_name":"user3394700"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1728,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22262823,"answer_count":3,"score":1,"last_activity_date":1666245553,"creation_date":1394234423,"question_id":22262618,"body_markdown":"Suppose I have a lazy iterable instance which requires closing to free resources. If I return this from a method and close it in a finally block, will the finally block be invoked before or after it is consumed by the client?\r\n\r\nFor example:\r\n\r\n    public CloseableIterable&lt;T&gt; getStuff() {\r\n        CloseableIterable&lt;T&gt; iterable = fetchStuffFromSomewhere();\r\n        try {\r\n            return iterable;\r\n        } finally {\r\n            iterable.close();\r\n        }\r\n    }\r\n\r\nNote: on Java 6 here, but I&#39;d also be interested in how the try-with-resources bits in Java 7 would handle this case.","title":"returning a closeable iterable","body":"<p>Suppose I have a lazy iterable instance which requires closing to free resources. If I return this from a method and close it in a finally block, will the finally block be invoked before or after it is consumed by the client?</p>\n\n<p>For example:</p>\n\n<pre><code>public CloseableIterable&lt;T&gt; getStuff() {\n    CloseableIterable&lt;T&gt; iterable = fetchStuffFromSomewhere();\n    try {\n        return iterable;\n    } finally {\n        iterable.close();\n    }\n}\n</code></pre>\n\n<p>Note: on Java 6 here, but I'd also be interested in how the try-with-resources bits in Java 7 would handle this case.</p>\n"},{"tags":["java","mongodb","mongodb-query"],"comments":[{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1666111699,"post_id":74114062,"comment_id":130856340,"body_markdown":"Do you get results if you leave the `query` empty? (Helps check namespace issues and confirm that the problem is associated with the filter or not)","body":"Do you get results if you leave the <code>query</code> empty? (Helps check namespace issues and confirm that the problem is associated with the filter or not)"},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1666154198,"post_id":74114062,"comment_id":130865431,"body_markdown":"Yes, I do get results even if I switch from $in to $gt as a base for filter. For an instance, new BasicDBObject(&quot;$gt&quot;, &#39;123&#39;) works perfectly","body":"Yes, I do get results even if I switch from $in to $gt as a base for filter. For an instance, new BasicDBObject(&quot;$gt&quot;, &#39;123&#39;) works perfectly"},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1666154232,"post_id":74114062,"comment_id":130865437,"body_markdown":"It just doesn&#39;t work with $in","body":"It just doesn&#39;t work with $in"},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1666185099,"post_id":74114062,"comment_id":130875468,"body_markdown":"The comment in the code snippet says that `ProjectIds has a list of ids`. Stored in what format, strings? Are the `_id` values in the documents ObjectIds or something else? Need to be sure that the data types match and there is too little information in the question to say anything definitively","body":"The comment in the code snippet says that <code>ProjectIds has a list of ids</code>. Stored in what format, strings? Are the <code>_id</code> values in the documents ObjectIds or something else? Need to be sure that the data types match and there is too little information in the question to say anything definitively"},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1666245143,"post_id":74114062,"comment_id":130890921,"body_markdown":"Hi @user20042973 yes, _id has strings. I have updated the question. Please let me know if something else is needed.","body":"Hi @user20042973 yes, _id has strings. I have updated the question. Please let me know if something else is needed."},{"owner":{"account_id":26391128,"reputation":4716,"user_id":20042973,"display_name":"user20042973"},"score":0,"creation_date":1666276388,"post_id":74114062,"comment_id":130902638,"body_markdown":"There&#39;s nothing obviously wrong here. Assuming that `projectIds` is defined as an `ArrayList&lt;String&gt;` (which you haven&#39;t shared) and the entries match the values stored in the database I think it should work","body":"There&#39;s nothing obviously wrong here. Assuming that <code>projectIds</code> is defined as an <code>ArrayList&lt;String&gt;</code> (which you haven&#39;t shared) and the entries match the values stored in the database I think it should work"},{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1666277990,"post_id":74114062,"comment_id":130903402,"body_markdown":"It does match the ids. That&#39;s why I haven&#39;t shared it. I do get results if I query with similar list directly on robomongo","body":"It does match the ids. That&#39;s why I haven&#39;t shared it. I do get results if I query with similar list directly on robomongo"}],"answers":[{"comments":[{"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"score":0,"creation_date":1666154455,"post_id":74116076,"comment_id":130865476,"body_markdown":"I guess lookup is for aggregate. I just need the list of records back from the matched list of ids.","body":"I guess lookup is for aggregate. I just need the list of records back from the matched list of ids."}],"tags":[],"owner":{"account_id":22238492,"reputation":1,"user_id":16473406,"display_name":"Om Jain"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666118945,"creation_date":1666118945,"answer_id":74116076,"question_id":74114062,"body_markdown":"some queries of robomongo vs our technical code method are different. For writing queries and searching in MongoDB check for $lookup command. Also you can just send id to model function and query it like collection.find(_id:id){ //results }","title":"No results for $in clause in mongodb with java","body":"<p>some queries of robomongo vs our technical code method are different. For writing queries and searching in MongoDB check for $lookup command. Also you can just send id to model function and query it like collection.find(_id:id){ //results }</p>\n"}],"owner":{"account_id":5325745,"reputation":1143,"user_id":4247860,"accept_rate":83,"display_name":"Nitish Bhardwaj"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666245548,"creation_date":1666109037,"question_id":74114062,"body_markdown":"I am trying to fetch few records based on list of ids. I am getting the results if I run the query directly on robomongo. But, the same doesn&#39;t work at code level in java. \r\n\r\nSample record:\r\n\r\n    {\r\n       &quot;_id&quot;:&quot;142&quot;,\r\n       &quot;projectId&quot;:&quot;PR_811&quot;,\r\n       &quot;projectName&quot;:&quot;ProjectTest007&quot;,\r\n       &quot;entityName&quot;:&quot;id-1412516&quot;,\r\n       &quot;processName&quot;:&quot;MSATesting&quot;,\r\n       &quot;startDate&quot;:{\r\n          &quot;$date&quot;:{\r\n             &quot;$numberLong&quot;:&quot;1666051200000&quot;\r\n          }\r\n       },\r\n       &quot;endDate&quot;:{\r\n          &quot;$date&quot;:{\r\n             &quot;$numberLong&quot;:&quot;1666224000000&quot;\r\n          }\r\n       },\r\n       &quot;isRegulated&quot;:&quot;No&quot;,\r\n       &quot;tagNameList&quot;:[\r\n          \r\n       ],\r\n       &quot;projectRole&quot;:{\r\n          &quot;1464&quot;:&quot;1464&quot;\r\n       },\r\n       &quot;projectPhase&quot;:{\r\n          &quot;634e611de8ba26418e93ac96&quot;:&quot;634e611de8ba26418e93ac96&quot;\r\n       },\r\n       &quot;status&quot;:&quot;Approved&quot;\r\n    }\r\n\r\n\r\n    BasicDBObject query = new BasicDBObject();  \r\n    query.put(&quot;_id&quot;, new BasicDBObject(&quot;$in&quot;, projectIds)); //ProjectIds has list of ids as strings\r\n    DBCollection dbCollection = database.getCollection(&quot;Projects&quot;); \r\n    DBCursor cursor = dbCollection.find(query);\r\n\r\nNot sure if I am missing something w.r.t in clause here.","title":"No results for $in clause in mongodb with java","body":"<p>I am trying to fetch few records based on list of ids. I am getting the results if I run the query directly on robomongo. But, the same doesn't work at code level in java.</p>\n<p>Sample record:</p>\n<pre><code>{\n   &quot;_id&quot;:&quot;142&quot;,\n   &quot;projectId&quot;:&quot;PR_811&quot;,\n   &quot;projectName&quot;:&quot;ProjectTest007&quot;,\n   &quot;entityName&quot;:&quot;id-1412516&quot;,\n   &quot;processName&quot;:&quot;MSATesting&quot;,\n   &quot;startDate&quot;:{\n      &quot;$date&quot;:{\n         &quot;$numberLong&quot;:&quot;1666051200000&quot;\n      }\n   },\n   &quot;endDate&quot;:{\n      &quot;$date&quot;:{\n         &quot;$numberLong&quot;:&quot;1666224000000&quot;\n      }\n   },\n   &quot;isRegulated&quot;:&quot;No&quot;,\n   &quot;tagNameList&quot;:[\n      \n   ],\n   &quot;projectRole&quot;:{\n      &quot;1464&quot;:&quot;1464&quot;\n   },\n   &quot;projectPhase&quot;:{\n      &quot;634e611de8ba26418e93ac96&quot;:&quot;634e611de8ba26418e93ac96&quot;\n   },\n   &quot;status&quot;:&quot;Approved&quot;\n}\n\n\nBasicDBObject query = new BasicDBObject();  \nquery.put(&quot;_id&quot;, new BasicDBObject(&quot;$in&quot;, projectIds)); //ProjectIds has list of ids as strings\nDBCollection dbCollection = database.getCollection(&quot;Projects&quot;); \nDBCursor cursor = dbCollection.find(query);\n</code></pre>\n<p>Not sure if I am missing something w.r.t in clause here.</p>\n"},{"tags":["java","junit","mockito","spring-boot-test"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1666240403,"post_id":74134389,"comment_id":130890133,"body_markdown":"Which line is line 242 of MessageFacade.java?  Is it `String indexName = schemaMetadata.getDataIndexName();`?  And is `mediator` the mocked `MessageStoreMediator` that you pass in?  If that&#39;s the case, you should keep a reference to the mocked `MessageStoreMediator` so that you can stub `getMetadata` to return your mocked `SchemaMetadata`.","body":"Which line is line 242 of MessageFacade.java?  Is it <code>String indexName = schemaMetadata.getDataIndexName();</code>?  And is <code>mediator</code> the mocked <code>MessageStoreMediator</code> that you pass in?  If that&#39;s the case, you should keep a reference to the mocked <code>MessageStoreMediator</code> so that you can stub <code>getMetadata</code> to return your mocked <code>SchemaMetadata</code>."},{"owner":{"account_id":4316220,"reputation":13,"user_id":3525974,"display_name":"SSM Tariq"},"score":0,"creation_date":1666241073,"post_id":74134389,"comment_id":130890230,"body_markdown":"Yes. Line #242 is ```String indexName = schemaMetadata.getDataIndexName()``` I haven&#39;t mocked the ```mediator```.","body":"Yes. Line #242 is <code>String indexName = schemaMetadata.getDataIndexName()</code> I haven&#39;t mocked the <code>mediator</code>."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666247395,"post_id":74134389,"comment_id":130891452,"body_markdown":"Where and how is the `mediator` field assigned?","body":"Where and how is the <code>mediator</code> field assigned?"},{"owner":{"account_id":4316220,"reputation":13,"user_id":3525974,"display_name":"SSM Tariq"},"score":0,"creation_date":1666274645,"post_id":74134389,"comment_id":130901847,"body_markdown":"It has a global reference `MessageMediator mediator;` and is assigned inside `MessageFacade` class constructor by the constructor parameter","body":"It has a global reference <code>MessageMediator mediator;</code> and is assigned inside <code>MessageFacade</code> class constructor by the constructor parameter"}],"answers":[{"comments":[{"owner":{"account_id":4316220,"reputation":13,"user_id":3525974,"display_name":"SSM Tariq"},"score":0,"creation_date":1666275073,"post_id":74134941,"comment_id":130902027,"body_markdown":"Thank you so much for your response. I tried the following but still getting `NullPointerException`. Seems like mocking is not working for `mediator`. \n`MessageMediator mediator = mock(MessageMediator.class);`\n`Metadata metadata = new Metadata(&quot;index&quot;,&quot;channel&quot;,&quot;client&quot;,&quot;metric&quot;);`\n`when(mediator.getMetadata(any(FooId.class),anyLong())).thenReturn(metadata);`\n\nFYI the `MessageMediator` is an interface. Do you have any further suggestions?","body":"Thank you so much for your response. I tried the following but still getting <code>NullPointerException</code>. Seems like mocking is not working for <code>mediator</code>.  <code>MessageMediator mediator = mock(MessageMediator.class);</code> <code>Metadata metadata = new Metadata(&quot;index&quot;,&quot;channel&quot;,&quot;client&quot;,&quot;metric&quot;);</code> <code>when(mediator.getMetadata(any(FooId.class),anyLong())).thenR&zwnj;&#8203;eturn(metadata);</code>  FYI the <code>MessageMediator</code> is an interface. Do you have any further suggestions?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1666288533,"post_id":74134941,"comment_id":130907363,"body_markdown":"This is the correct thing to do, but when you create your `MessageFacade`, you need to pass the mocked `MessageMediator` as the second argument, as I said in one of my comments under the question.  So instead of `messageFacade = new MessageFacade(Mockito.mock(ConfigurationProvider.class),Mockito.mock(MessageStoreMediator.class));` you need `messageFacade = new MessageFacade(Mockito.mock(ConfigurationProvider.class), mediator);`","body":"This is the correct thing to do, but when you create your <code>MessageFacade</code>, you need to pass the mocked <code>MessageMediator</code> as the second argument, as I said in one of my comments under the question.  So instead of <code>messageFacade = new MessageFacade(Mockito.mock(ConfigurationProvider.class),Mock&zwnj;&#8203;ito.mock(MessageStor&zwnj;&#8203;eMediator.class));</code> you need <code>messageFacade = new MessageFacade(Mockito.mock(ConfigurationProvider.class), mediator);</code>"}],"tags":[],"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666244694,"creation_date":1666244694,"answer_id":74134941,"question_id":74134389,"body_markdown":"you&#39;re facing this problem because `Metadata schemaMetadata` is a local variable and it&#180;s being replaced.\r\n\r\nYou can mock the `mediator.getMetadata` call to return the mock with a created Metadata object.\r\nI have a lot of cases like this and normally I use it.\r\n\r\nMock this:\r\n\r\n    mediator.getMetadata(scopeId, messageToBeDeleted.getTimestamp().getTime());\r\n\r\nthis way:\r\n\r\n    when(mediator.getMetadata(any(), any()).thenReturn(new Metadata(){{\r\n       setDataIndexName(&quot;IndexName&quot;):\r\n    }};);\r\n\r\nobviously, you need to mock the `mediator` before using when.\r\n\r\nIt works for me, I hope it helps you too.\r\n\r\n","title":"Mockito mock not working as expected Mockito-3.12.4","body":"<p>you're facing this problem because <code>Metadata schemaMetadata</code> is a local variable and its being replaced.</p>\n<p>You can mock the <code>mediator.getMetadata</code> call to return the mock with a created Metadata object.\nI have a lot of cases like this and normally I use it.</p>\n<p>Mock this:</p>\n<pre><code>mediator.getMetadata(scopeId, messageToBeDeleted.getTimestamp().getTime());\n</code></pre>\n<p>this way:</p>\n<pre><code>when(mediator.getMetadata(any(), any()).thenReturn(new Metadata(){{\n   setDataIndexName(&quot;IndexName&quot;):\n}};);\n</code></pre>\n<p>obviously, you need to mock the <code>mediator</code> before using when.</p>\n<p>It works for me, I hope it helps you too.</p>\n"}],"owner":{"account_id":4316220,"reputation":13,"user_id":3525974,"display_name":"SSM Tariq"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666244694,"creation_date":1666239530,"question_id":74134389,"body_markdown":"I am trying to write JUnit test for the following method of class ```MessageFacade.java```\r\n\r\n    public void delete(FooId scopeId, DataId id)\r\n            throws FooIllegalArgumentException,\r\n            ConfigurationException,\r\n            ClientException {\r\n        ArgumentValidator.notNull(scopeId, SCOPE_ID);\r\n        ArgumentValidator.notNull(id, &quot;id&quot;);\r\n\r\n        System.out.println(&quot;Query Param SCOPE_ID=&quot;+scopeId.getId().toString());\r\n        System.out.println(&quot;Query Param ID=&quot;+id.toString());\r\n\r\n        if (!isDatastoreServiceEnabled(scopeId)) {\r\n            LOG.debug(&quot;Storage not enabled for account {}, return&quot;, scopeId);\r\n            return;\r\n        }\r\n\r\n        //ORIGINAL CODE\r\n       DatastoreMessage messageToBeDeleted = find(scopeId, id, DataFetchStyle.FIELDS);\r\n       if (messageToBeDeleted != null) {\r\n           Metadata schemaMetadata = null;\r\n           try {\r\n               schemaMetadata = mediator.getMetadata(scopeId, messageToBeDeleted.getTimestamp().getTime());\r\n           } catch (FooException e) {\r\n               LOG.warn(&quot;Retrieving metadata error&quot;, e);\r\n           }\r\n           String indexName = schemaMetadata.getDataIndexName();\r\n           TypeDescriptor typeDescriptor = new TypeDescriptor(indexName, MessageSchema.MESSAGE_TYPE_NAME);\r\n           ElasticsearchClient elasticsearchClient = getElasticsearchClient();\r\n           elasticsearchClient.delete(typeDescriptor, id.toString());\r\n       } else {\r\n           LOG.warn(&quot;Cannot find the message to be deleted. scopeId: &#39;{}&#39; - id: &#39;{}&#39;&quot;, scopeId, id);\r\n       }\r\n    }\r\n\r\nI have written the following JUnit Test for the above method\r\n\r\n    @Test\r\n    public void testBulkDelete() throws ClientException, ConfigurationException, FooIllegalArgumentException {\r\n        MessageFacade messageFacade = new MessageFacade(Mockito.mock(ConfigurationProvider.class),Mockito.mock(MessageStoreMediator.class));\r\n        MessageFacade spyMessageFacade = Mockito.spy(messageFacade);\r\n\r\n        DatastoreMessage datastoreMessage = new DatastoreMessageImpl();\r\n        datastoreMessage.setTimestamp(new Date());\r\n        Mockito.doReturn(datastoreMessage).when(spyMessageFacade).find(Mockito.any(),Mockito.any(),Mockito.any());\r\n\r\n        Metadata schemaMetadata = Mockito.mock(Metadata.class);\r\n        Mockito.doReturn(&quot;indexName&quot;).when(schemaMetadata).getDataIndexName();\r\n\r\n        ElasticsearchClient elasticsearchClient = Mockito.mock(ElasticsearchClient.class);\r\n        Mockito.doNothing().when(elasticsearchClient).delete(Mockito.any(TypeDescriptor.class), Mockito.any(String.class));\r\n\r\n        Mockito.doReturn(true).when(spyMessageFacade).isDatastoreServiceEnabled(Mockito.any());\r\n\r\n        FooId scopeId = new ScopeId(&quot;10&quot;);\r\n        DataId id = new DataIdImpl(&quot;c17db8ea-93ee-48b5-9b5d-8d278180d2d9&quot;);\r\n        spyMessageFacade.delete(scopeId, id);\r\n    }\r\n\r\nI am using the version **JUnit 4.12** and **Mockito 3.12.4**\r\n\r\nThe problem is the following line (Line #242) is not being mocked\r\n```schemaMetadata.getDataIndexName();```\r\n\r\n and throwing **NullPointerException** as shown in the trace below\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n    SLF4J: Defaulting to no-operation (NOP) logger implementation\r\n    SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\n    Query Param SCOPE_ID=-41\r\n    Query Param ID=c17db8ea-93ee-48b5-9b5d-8d278180d2d9\r\n    \r\n    java.lang.NullPointerException\r\n    \tat org.mars.foo.service.datastore.internal.MessageFacade.delete(MessageFacade.java:242)\r\n    \tat org.mars.foo.service.datastore.internal.MessageFacadeTest.testBulkDelete(MessageFacadeTest.java:74)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\r\n\r\nAlso I **Need some suggestions regarding how to mock the line** ```elasticsearchClient.delete(typeDescriptor, id.toString());```","title":"Mockito mock not working as expected Mockito-3.12.4","body":"<p>I am trying to write JUnit test for the following method of class <code>MessageFacade.java</code></p>\n<pre><code>public void delete(FooId scopeId, DataId id)\n        throws FooIllegalArgumentException,\n        ConfigurationException,\n        ClientException {\n    ArgumentValidator.notNull(scopeId, SCOPE_ID);\n    ArgumentValidator.notNull(id, &quot;id&quot;);\n\n    System.out.println(&quot;Query Param SCOPE_ID=&quot;+scopeId.getId().toString());\n    System.out.println(&quot;Query Param ID=&quot;+id.toString());\n\n    if (!isDatastoreServiceEnabled(scopeId)) {\n        LOG.debug(&quot;Storage not enabled for account {}, return&quot;, scopeId);\n        return;\n    }\n\n    //ORIGINAL CODE\n   DatastoreMessage messageToBeDeleted = find(scopeId, id, DataFetchStyle.FIELDS);\n   if (messageToBeDeleted != null) {\n       Metadata schemaMetadata = null;\n       try {\n           schemaMetadata = mediator.getMetadata(scopeId, messageToBeDeleted.getTimestamp().getTime());\n       } catch (FooException e) {\n           LOG.warn(&quot;Retrieving metadata error&quot;, e);\n       }\n       String indexName = schemaMetadata.getDataIndexName();\n       TypeDescriptor typeDescriptor = new TypeDescriptor(indexName, MessageSchema.MESSAGE_TYPE_NAME);\n       ElasticsearchClient elasticsearchClient = getElasticsearchClient();\n       elasticsearchClient.delete(typeDescriptor, id.toString());\n   } else {\n       LOG.warn(&quot;Cannot find the message to be deleted. scopeId: '{}' - id: '{}'&quot;, scopeId, id);\n   }\n}\n</code></pre>\n<p>I have written the following JUnit Test for the above method</p>\n<pre><code>@Test\npublic void testBulkDelete() throws ClientException, ConfigurationException, FooIllegalArgumentException {\n    MessageFacade messageFacade = new MessageFacade(Mockito.mock(ConfigurationProvider.class),Mockito.mock(MessageStoreMediator.class));\n    MessageFacade spyMessageFacade = Mockito.spy(messageFacade);\n\n    DatastoreMessage datastoreMessage = new DatastoreMessageImpl();\n    datastoreMessage.setTimestamp(new Date());\n    Mockito.doReturn(datastoreMessage).when(spyMessageFacade).find(Mockito.any(),Mockito.any(),Mockito.any());\n\n    Metadata schemaMetadata = Mockito.mock(Metadata.class);\n    Mockito.doReturn(&quot;indexName&quot;).when(schemaMetadata).getDataIndexName();\n\n    ElasticsearchClient elasticsearchClient = Mockito.mock(ElasticsearchClient.class);\n    Mockito.doNothing().when(elasticsearchClient).delete(Mockito.any(TypeDescriptor.class), Mockito.any(String.class));\n\n    Mockito.doReturn(true).when(spyMessageFacade).isDatastoreServiceEnabled(Mockito.any());\n\n    FooId scopeId = new ScopeId(&quot;10&quot;);\n    DataId id = new DataIdImpl(&quot;c17db8ea-93ee-48b5-9b5d-8d278180d2d9&quot;);\n    spyMessageFacade.delete(scopeId, id);\n}\n</code></pre>\n<p>I am using the version <strong>JUnit 4.12</strong> and <strong>Mockito 3.12.4</strong></p>\n<p>The problem is the following line (Line #242) is not being mocked\n<code>schemaMetadata.getDataIndexName();</code></p>\n<p>and throwing <strong>NullPointerException</strong> as shown in the trace below</p>\n<pre><code>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nQuery Param SCOPE_ID=-41\nQuery Param ID=c17db8ea-93ee-48b5-9b5d-8d278180d2d9\n\njava.lang.NullPointerException\n    at org.mars.foo.service.datastore.internal.MessageFacade.delete(MessageFacade.java:242)\n    at org.mars.foo.service.datastore.internal.MessageFacadeTest.testBulkDelete(MessageFacadeTest.java:74)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)\n</code></pre>\n<p>Also I <strong>Need some suggestions regarding how to mock the line</strong> <code>elasticsearchClient.delete(typeDescriptor, id.toString());</code></p>\n"},{"tags":["java","lambda","functional-programming","java-8","java-stream"],"comments":[{"owner":{"account_id":446792,"reputation":3194,"user_id":840055,"accept_rate":67,"display_name":"goblinjuice"},"score":1,"creation_date":1571931374,"post_id":30595844,"comment_id":103410760,"body_markdown":"`Stream.iterate(Fibonacci.SEED, Fibonacci::next).limit(MAX_NUMS).forEach(System.out::println)`\n\nComplete [code example](https://codeahoy.com/java/Fibonacci/) that shows how to generate Fibonacci using Java 8. Last one.","body":"<code>Stream.iterate(Fibonacci.SEED, Fibonacci::next).limit(MAX_NUMS).forEach(System.out::println&zwnj;&#8203;)</code>  Complete <a href=\"https://codeahoy.com/java/Fibonacci/\" rel=\"nofollow noreferrer\">code example</a> that shows how to generate Fibonacci using Java 8. Last one."}],"answers":[{"tags":[],"owner":{"account_id":5595470,"reputation":34938,"user_id":4433386,"accept_rate":83,"display_name":"Marcus M&#252;ller"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1433247872,"creation_date":1433247872,"answer_id":30596001,"question_id":30595844,"body_markdown":"&gt; solving fibonacci (non recursive way)\r\n\r\nThis is not going to happen with your approach\r\n\r\nThe generation of Fibonacci numbers based on the previous two numbers is **based on the previous two numbers**, i.e. it&#39;s a recursive algorithm, even if you implement it without recursion but in a loop.\r\n\r\nThere&#39;s other ways based on the matrix exponential so you can calculate the n&#39;th fibonacci number without calculating the n-1 previous numbers, but for your problem (calculating the series), this doesn&#39;t make sense.\r\n\r\nSo, to answer your question in the end, namely *how can I use Lambda expressions on the two previous elements?*: have a list of tuples, each containing two consecutive numbers, and iterate over that, adding a new tuple every step.","title":"Java 8 Lambda expressions for solving fibonacci (non recursive way)","body":"<blockquote>\n  <p>solving fibonacci (non recursive way)</p>\n</blockquote>\n\n<p>This is not going to happen with your approach</p>\n\n<p>The generation of Fibonacci numbers based on the previous two numbers is <strong>based on the previous two numbers</strong>, i.e. it's a recursive algorithm, even if you implement it without recursion but in a loop.</p>\n\n<p>There's other ways based on the matrix exponential so you can calculate the n'th fibonacci number without calculating the n-1 previous numbers, but for your problem (calculating the series), this doesn't make sense.</p>\n\n<p>So, to answer your question in the end, namely <em>how can I use Lambda expressions on the two previous elements?</em>: have a list of tuples, each containing two consecutive numbers, and iterate over that, adding a new tuple every step.</p>\n"},{"comments":[{"owner":{"account_id":182881,"reputation":16221,"user_id":417896,"accept_rate":71,"display_name":"BAR"},"score":0,"creation_date":1654556326,"post_id":30596139,"comment_id":128114151,"body_markdown":"You say get the nth element but don&#39;t use n.  Can you update please?","body":"You say get the nth element but don&#39;t use n.  Can you update please?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1654593139,"post_id":30596139,"comment_id":128121632,"body_markdown":"It should be obvious that the example is getting the 91th element from the stream, so *n* is 91 in the example.","body":"It should be obvious that the example is getting the 91th element from the stream, so <i>n</i> is 91 in the example."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1606163632,"creation_date":1433248209,"answer_id":30596139,"question_id":30595844,"body_markdown":"The simplest solution is to use a stream of `Pair`s:\r\n\r\n```java\r\nStream.iterate(new long[] { 1, 1 }, p -&gt; new long[] { p[1], p[0] + p[1] })\r\n      .limit(92)\r\n      .forEach(p -&gt; System.out.println(p[0]));\r\n```\r\n\r\nDue to the lack of a standard pair type, it uses a two-element array. Further, I use `.limit(92)` as we can&#39;t evaluate more elements using `long` values. But it&#39;s easy to adapt to `BigInteger`:\r\n```java\r\nStream.iterate(new BigInteger[] { BigInteger.ONE, BigInteger.ONE },\r\n               p -&gt; new BigInteger[] { p[1], p[0].add(p[1]) })\r\n      .forEach(p -&gt; System.out.println(p[0]));\r\n```\r\n\r\nThat&#39;ll run until you haven&#39;t enough memory to represent the next value.\r\n\r\nBy the way, to get the *n*th element from the stream:\r\n\r\n```java\r\nStream.iterate(new long[] { 1, 1 }, p -&gt; new long[] { p[1], p[0] + p[1] })\r\n      .limit(91)\r\n      .skip(90)\r\n      .findFirst()\r\n      .get()[1];\r\n```","title":"Java 8 Lambda expressions for solving fibonacci (non recursive way)","body":"<p>The simplest solution is to use a stream of <code>Pair</code>s:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.iterate(new long[] { 1, 1 }, p -&gt; new long[] { p[1], p[0] + p[1] })\n      .limit(92)\n      .forEach(p -&gt; System.out.println(p[0]));\n</code></pre>\n<p>Due to the lack of a standard pair type, it uses a two-element array. Further, I use <code>.limit(92)</code> as we can't evaluate more elements using <code>long</code> values. But it's easy to adapt to <code>BigInteger</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.iterate(new BigInteger[] { BigInteger.ONE, BigInteger.ONE },\n               p -&gt; new BigInteger[] { p[1], p[0].add(p[1]) })\n      .forEach(p -&gt; System.out.println(p[0]));\n</code></pre>\n<p>That'll run until you haven't enough memory to represent the next value.</p>\n<p>By the way, to get the <em>n</em>th element from the stream:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream.iterate(new long[] { 1, 1 }, p -&gt; new long[] { p[1], p[0] + p[1] })\n      .limit(91)\n      .skip(90)\n      .findFirst()\n      .get()[1];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4312091,"reputation":991,"user_id":3522901,"accept_rate":50,"display_name":"Akash kumar"},"score":1,"creation_date":1522355798,"post_id":47248927,"comment_id":86137449,"body_markdown":"please explain the iterate and reduce","body":"please explain the iterate and reduce"}],"tags":[],"owner":{"account_id":2119697,"reputation":998,"user_id":1883236,"display_name":"Elyor Murodov"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1606163204,"creation_date":1510490727,"answer_id":47248927,"question_id":30595844,"body_markdown":"To get the *N*th fibonacci element (using reduction):\r\n\r\n    Stream.iterate(new long[] {1, 1}, f -&gt; new long[] { f[1], f[0] + f[1] })\r\n        .limit(n)\r\n        .reduce((a, b) -&gt; b)\r\n        .get()[0];\r\n\r\nHere is what is going on:\r\n\r\n - **`Stream::iterate`** - is producing pairs of numbers, each containing two consecutive elements of fibonacci. We have to use pairs, because we\r\n   can access only the last element via &quot;iterate&quot;, not two or more\r\n   previous elements, so to generate a new pair, we get the last pair,\r\n   which already contains two previous elements of fibonacci, and produce\r\n   the next pair. And to get the *N*th fibonacci element, we just need to\r\n   get the left value from the *N*th pair.\r\n   \r\n - **`.limit(n)`** - to keep the first *N* pairs, and exclude the rest.\r\n   \r\n - **`.reduce((a, b) -&gt; b)`** - to get the last pair from the stream of *N* pairs from previous step.\r\n   \r\n - **`.get()[0]`** - extract fibonacci element from the pair (left value of the pair)\r\n\r\n","title":"Java 8 Lambda expressions for solving fibonacci (non recursive way)","body":"<p>To get the <em>N</em>th fibonacci element (using reduction):</p>\n<pre><code>Stream.iterate(new long[] {1, 1}, f -&gt; new long[] { f[1], f[0] + f[1] })\n    .limit(n)\n    .reduce((a, b) -&gt; b)\n    .get()[0];\n</code></pre>\n<p>Here is what is going on:</p>\n<ul>\n<li><p><strong><code>Stream::iterate</code></strong> - is producing pairs of numbers, each containing two consecutive elements of fibonacci. We have to use pairs, because we\ncan access only the last element via &quot;iterate&quot;, not two or more\nprevious elements, so to generate a new pair, we get the last pair,\nwhich already contains two previous elements of fibonacci, and produce\nthe next pair. And to get the <em>N</em>th fibonacci element, we just need to\nget the left value from the <em>N</em>th pair.</p>\n</li>\n<li><p><strong><code>.limit(n)</code></strong> - to keep the first <em>N</em> pairs, and exclude the rest.</p>\n</li>\n<li><p><strong><code>.reduce((a, b) -&gt; b)</code></strong> - to get the last pair from the stream of <em>N</em> pairs from previous step.</p>\n</li>\n<li><p><strong><code>.get()[0]</code></strong> - extract fibonacci element from the pair (left value of the pair)</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6558111,"reputation":1,"user_id":5070184,"display_name":"ICanHasNick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555955454,"creation_date":1555945797,"answer_id":55796601,"question_id":30595844,"body_markdown":"You can use a variable in your lambda expression to temporarily store the previous element, which is needed to calculate the next element in the fibonacci sequence.\r\n\r\n    public class FibonacciGenerator {\r\n        \t\r\n        \tprivate long prev=0; \r\n        \t\r\n        \tpublic void printSequence(int elements) {\r\n        \r\n        \t\tLongStream.iterate(1, n -&gt; {n+=prev; prev=n-prev; return n;}). \t\t\t \r\n                limit(elements).forEach(System.out::println);\r\n        \t}\r\n        }\r\n\r\nNormally the method and the field would rather be declared as static but I wanted to show that instance fields can be used as well. \r\n\r\nPlease note that you could not use a local variable ( declared in a method or passed to a method ) instead of a field, for such variables need to be final in order to use them in lambdas. For our purpose we needed a mutable variable to store the different values during the iteration.\r\n","title":"Java 8 Lambda expressions for solving fibonacci (non recursive way)","body":"<p>You can use a variable in your lambda expression to temporarily store the previous element, which is needed to calculate the next element in the fibonacci sequence.</p>\n\n<pre><code>public class FibonacciGenerator {\n\n        private long prev=0; \n\n        public void printSequence(int elements) {\n\n            LongStream.iterate(1, n -&gt; {n+=prev; prev=n-prev; return n;}).           \n            limit(elements).forEach(System.out::println);\n        }\n    }\n</code></pre>\n\n<p>Normally the method and the field would rather be declared as static but I wanted to show that instance fields can be used as well. </p>\n\n<p>Please note that you could not use a local variable ( declared in a method or passed to a method ) instead of a field, for such variables need to be final in order to use them in lambdas. For our purpose we needed a mutable variable to store the different values during the iteration.</p>\n"},{"tags":[],"owner":{"account_id":2222021,"reputation":640,"user_id":1961192,"accept_rate":43,"display_name":"Suryaprakash Pisay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605891877,"creation_date":1605891877,"answer_id":64933748,"question_id":30595844,"body_markdown":"I know its a old question, but I feel worth to put some more ways to acheive using `Pair&lt;&gt;` and I came up with 2 ways to achieve using `Stream` API.\r\n\r\n    //calculate Fibonacci at given place\r\n    public static long fibonacciAt(int place) {\r\n        Pair&lt;Integer, Integer&gt; seed = new Pair&lt;&gt;(0, 1);\r\n        //return Stream.iterate(seed, feed -&gt; new Pair&lt;&gt;(feed.getValue(), feed.getValue() + feed.getKey())).limit(place).reduce((integerIntegerPair, integerIntegerPair2) -&gt; integerIntegerPair2).orElse(seed).getValue();\r\n        return Stream.iterate(seed, feed -&gt; new Pair&lt;&gt;(feed.getValue(), feed.getValue() + feed.getKey())).limit(place).skip(place-1).findFirst().orElse(seed).getValue();\r\n    }\r\n\r\nThe commented return statement is also works fine which is using `reduce`.\r\n\r\nThe later return statement is by skipping the number of pairs up to the `place` variable.(This is because we don&#39;t have `findLast()` method).","title":"Java 8 Lambda expressions for solving fibonacci (non recursive way)","body":"<p>I know its a old question, but I feel worth to put some more ways to acheive using <code>Pair&lt;&gt;</code> and I came up with 2 ways to achieve using <code>Stream</code> API.</p>\n<pre><code>//calculate Fibonacci at given place\npublic static long fibonacciAt(int place) {\n    Pair&lt;Integer, Integer&gt; seed = new Pair&lt;&gt;(0, 1);\n    //return Stream.iterate(seed, feed -&gt; new Pair&lt;&gt;(feed.getValue(), feed.getValue() + feed.getKey())).limit(place).reduce((integerIntegerPair, integerIntegerPair2) -&gt; integerIntegerPair2).orElse(seed).getValue();\n    return Stream.iterate(seed, feed -&gt; new Pair&lt;&gt;(feed.getValue(), feed.getValue() + feed.getKey())).limit(place).skip(place-1).findFirst().orElse(seed).getValue();\n}\n</code></pre>\n<p>The commented return statement is also works fine which is using <code>reduce</code>.</p>\n<p>The later return statement is by skipping the number of pairs up to the <code>place</code> variable.(This is because we don't have <code>findLast()</code> method).</p>\n"},{"tags":[],"owner":{"account_id":2303833,"reputation":843,"user_id":2023533,"accept_rate":57,"display_name":"mmirwaldt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645379593,"creation_date":1644964815,"answer_id":71134294,"question_id":30595844,"body_markdown":"You can consider the calculation of the n-th fibonacci number as a reduction with **two** previous elements instead of one which is typical.   \r\nHere is some code:\r\n\r\n    public static long fibonacciByStream(int n) {\r\n        long[] results = IntStream.rangeClosed(3, n)\r\n                .boxed()\r\n                .reduce(new long[]{0, 1, 1},\r\n                        (fib, i) -&gt; {\r\n                            fib[i % 3] = fib[(i - 2) % 3] + fib[(i - 1) % 3];\r\n                            return fib;\r\n                        },\r\n                        (a, b) -&gt; null);\r\n        return results[n % 3];\r\n    }\r\n\r\nHowever, this solution looks simpler **without** any stream:\r\n\r\n    public static long fibonacciByLoop(int n) {\r\n        long[] fib = new long[]{0, 1, 1};\r\n        for (int i = 3; i &lt;= n; i++) {\r\n            fib[i % 3] = fib[(i - 2) % 3] + fib[(i - 1) % 3];\r\n        }\r\n        return fib[n % 3];\r\n    }\r\n\r\nRemarks: \r\n* I consider 0 as the 0th fibonacci number because it makes the code simpler.\r\n* I used an array with three elements instead of two because it is easier to understand.\r\n* I used &quot;(a, b) -&gt; null&quot; as combiner because it is not used in a sequential stream.\r\n* I omitted the check whether n is not negative.","title":"Java 8 Lambda expressions for solving fibonacci (non recursive way)","body":"<p>You can consider the calculation of the n-th fibonacci number as a reduction with <strong>two</strong> previous elements instead of one which is typical.<br />\nHere is some code:</p>\n<pre><code>public static long fibonacciByStream(int n) {\n    long[] results = IntStream.rangeClosed(3, n)\n            .boxed()\n            .reduce(new long[]{0, 1, 1},\n                    (fib, i) -&gt; {\n                        fib[i % 3] = fib[(i - 2) % 3] + fib[(i - 1) % 3];\n                        return fib;\n                    },\n                    (a, b) -&gt; null);\n    return results[n % 3];\n}\n</code></pre>\n<p>However, this solution looks simpler <strong>without</strong> any stream:</p>\n<pre><code>public static long fibonacciByLoop(int n) {\n    long[] fib = new long[]{0, 1, 1};\n    for (int i = 3; i &lt;= n; i++) {\n        fib[i % 3] = fib[(i - 2) % 3] + fib[(i - 1) % 3];\n    }\n    return fib[n % 3];\n}\n</code></pre>\n<p>Remarks:</p>\n<ul>\n<li>I consider 0 as the 0th fibonacci number because it makes the code simpler.</li>\n<li>I used an array with three elements instead of two because it is easier to understand.</li>\n<li>I used &quot;(a, b) -&gt; null&quot; as combiner because it is not used in a sequential stream.</li>\n<li>I omitted the check whether n is not negative.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666592507,"post_id":74134937,"comment_id":130964939,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/74134937/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8307936,"reputation":1,"user_id":6244241,"display_name":"kesav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666244636,"creation_date":1666244636,"answer_id":74134937,"question_id":30595844,"body_markdown":"Using Stream.generat() we can do as follows:\r\n\r\n         int[] fie ={0,1};\r\n         Stream.generate(() -&gt; {\r\n            int r = fie[1];\r\n            int f3 = fie[0] + fie[1];\r\n            fie[0] = fie[1];\r\n            fie[1] = f3;\r\n            System.out.println(r);\r\n            return r;\r\n        }).limit(40)\r\n          .collect((Collectors.toList()));\r\n","title":"Java 8 Lambda expressions for solving fibonacci (non recursive way)","body":"<p>Using Stream.generat() we can do as follows:</p>\n<pre><code>     int[] fie ={0,1};\n     Stream.generate(() -&gt; {\n        int r = fie[1];\n        int f3 = fie[0] + fie[1];\n        fie[0] = fie[1];\n        fie[1] = f3;\n        System.out.println(r);\n        return r;\n    }).limit(40)\n      .collect((Collectors.toList()));\n</code></pre>\n"}],"owner":{"account_id":2532479,"reputation":2090,"user_id":2200476,"accept_rate":80,"display_name":"Kiran Muralee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23715,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":30596139,"answer_count":7,"score":23,"last_activity_date":1666244636,"creation_date":1433247395,"question_id":30595844,"body_markdown":"I am a beginner in using Lambda expression feature in Java 8. Lambda expressions are pretty well useful in solving programs like Prime number check, factorial etc.\r\n\r\nHowever can they be utilized effectively in solving problems like Fibonacci where the current value depends on sum of previous two values. I have pretty well solved prime number check problem effectively using Lambda expressions. The code for the same is given below.\r\n\r\n    boolean checkPrime=n&gt;1 &amp;&amp; LongStream.range(2, (long) Math.sqrt(n)).parallel().noneMatch(e-&gt;(n)%e==0);\r\n\r\nIn the above code in the `noneMatch` method we are evaluating with the current value(`e`) in the range. But for the Fibonacci problem, we requires previous two values. \r\n\r\nHow can we make it happen?\r\n","title":"Java 8 Lambda expressions for solving fibonacci (non recursive way)","body":"<p>I am a beginner in using Lambda expression feature in Java 8. Lambda expressions are pretty well useful in solving programs like Prime number check, factorial etc.</p>\n\n<p>However can they be utilized effectively in solving problems like Fibonacci where the current value depends on sum of previous two values. I have pretty well solved prime number check problem effectively using Lambda expressions. The code for the same is given below.</p>\n\n<pre><code>boolean checkPrime=n&gt;1 &amp;&amp; LongStream.range(2, (long) Math.sqrt(n)).parallel().noneMatch(e-&gt;(n)%e==0);\n</code></pre>\n\n<p>In the above code in the <code>noneMatch</code> method we are evaluating with the current value(<code>e</code>) in the range. But for the Fibonacci problem, we requires previous two values. </p>\n\n<p>How can we make it happen?</p>\n"},{"tags":["java","android","json","kotlin","android-volley"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1666245919,"post_id":74134888,"comment_id":130891083,"body_markdown":"A 403 error is an authentication error.  It means it understood your request, but you don&#39;t have permission to do it.","body":"A 403 error is an authentication error.  It means it understood your request, but you don&#39;t have permission to do it."},{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1666247142,"post_id":74134888,"comment_id":130891388,"body_markdown":"there are 10 parameters and i update some of the parameters API called successfully and give me successful respones in that case","body":"there are 10 parameters and i update some of the parameters API called successfully and give me successful respones in that case"}],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666244346,"creation_date":1666244346,"question_id":74134888,"body_markdown":"The same API worked on postman but didn&#39;t work on android devices. There are likewise 25 parameters that I edit or update before calling API below is a postman screenshot that can verify that I getting the response in postman but android is throwing an error.\r\n\r\n[![Volley error][1]][1]\r\n[![postman][2]][2]\r\nHere is network API call code :\r\n\r\n   \r\n\r\n    \r\n    import android.app.Activity\r\n    import android.content.Intent\r\n    import android.util.Base64\r\n    import android.util.Log\r\n    import com.android.volley.*\r\n    import com.android.volley.toolbox.StringRequest\r\n    import com.android.volley.toolbox.Volley\r\n    import com.google.gson.Gson\r\n    import com.google.gson.reflect.TypeToken\r\n    import com.softnoesis.maxotexmart.login.LoginActivity\r\n    import com.softnoesis.maxotexmart.utils.AppPreference\r\n    import com.softnoesis.maxotexmart.utils.CommonUtils\r\n    import com.softnoesis.maxotexmart.utils.Constant.Companion.NETWORK_API_CALL\r\n    import com.softnoesis.maxotexmart.utils.Constant.Companion.TAG\r\n    import org.json.JSONObject\r\n    import java.lang.reflect.Type\r\n    \r\n    class NetworkAPICall {\r\n        fun CallApplicationWS(mContext: Activity?, NetworkAPICallModel: NetworkAPICallModel,\r\n                              NetworkAPIResponseCallback: NetworkAPIResponseCallback?) {\r\n            Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS&quot;)\r\n            if (NetworkAPICallModel.getCommonUtils().isNetworkAvailable(mContext!!)) try {\r\n                if (!NetworkAPICallModel.isShowProgress())\r\n                    NetworkAPICallModel.getCommonUtils().showProgress(mContext)\r\n                val RequestQueue: RequestQueue = Volley.newRequestQueue(mContext)\r\n                val StringRequest: StringRequest = object : StringRequest(NetworkAPICallModel.getRequest_type(),\r\n                    NetworkAPICallModel.getApiURL(), Response.Listener&lt;String?&gt; { response -&gt;\r\n                    Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; &quot; +\r\n                            &quot;CallApplicationWS --&gt; response&quot;)\r\n                    try{\r\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                        if(NetworkAPICallModel.getParserType() != null) {\r\n                            val `object`: Any = Gson().fromJson(response, NetworkAPICallModel.getParserType())\r\n                            NetworkAPICallModel.setResponseObject(`object`)\r\n                        }\r\n                        NetworkAPIResponseCallback?.onSuccessResponse(JSONObject(response), NetworkAPICallModel)\r\n                    } catch(jsonException: Exception) {\r\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                        Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; response --&gt; ${jsonException.message}&quot;)\r\n                        try{\r\n                            NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                            /*if(NetworkAPIResponseCallback != null) {\r\n                                    NetworkAPIResponseCallback.onSuccessResponse(new JSONObject(response), NetworkAPICallModel);\r\n                              }*/\r\n                        }catch (e: Exception) {\r\n                            NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                            Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; response --&gt; ${e.message}&quot;)\r\n                        }\r\n                    }\r\n                },\r\n                    Response.ErrorListener { error -&gt;\r\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                        Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; error --&gt; ${error.message}&quot;)\r\n                        val response: NetworkResponse = error.networkResponse\r\n                        if (error is ServerError) {\r\n                            try {\r\n                                val intent = Intent(mContext, LoginActivity::class.java)\r\n                                intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK\r\n                                mContext.startActivity(intent)\r\n                            } catch (e1: Exception) {\r\n                                NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                                Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; error --&gt; ${e1.message}&quot;)\r\n                            }\r\n                        }\r\n                        CommonUtils().hideProgress()\r\n                        CommonUtils().showDialog(\r\n                            mContext,\r\n                            &quot;&quot;&quot;\r\n                                                Something went wrong! Please try again later!\r\n                                                If problem still persist, please drop mail at support@.com\r\n                                                &quot;&quot;&quot;.trimIndent()\r\n                        ).show()\r\n                }) {\r\n                    override fun getParams(): MutableMap&lt;String, String&gt; {\r\n                        var params: MutableMap&lt;String, String&gt; = HashMap()\r\n                        val type: Type = object : TypeToken&lt;HashMap&lt;String, String&gt;&gt;() {}.type\r\n                        params = Gson().fromJson(NetworkAPICallModel.getJsonObjectRequest().toString(), type)\r\n                        return params\r\n                    }\r\n    \r\n                    override fun getHeaders(): MutableMap&lt;String, String&gt; {\r\n                        val params: MutableMap&lt;String, String&gt; = HashMap()\r\n    //                     headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + jetEncryptor.getJwtkey());\r\n                        if (AppPreference(mContext).isUserLogin()) {\r\n                            params[&quot;User-Agent&quot;]=&quot;Mozilla/5.0&quot;\r\n                            params[&quot;Authorization&quot;] = &quot;Bearer &quot; + AppPreference(mContext).getToken()\r\n                        }\r\n                        return params\r\n                    }\r\n                }\r\n                RequestQueue.add(StringRequest)\r\n                StringRequest.retryPolicy = DefaultRetryPolicy(\r\n                    0,\r\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT\r\n                )\r\n            } catch (e: Exception) {\r\n                NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt;${e.message}&quot;)\r\n            } else {\r\n                NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                CommonUtils().showDialog(mContext, &quot;Please check you internet connection&quot;).show()\r\n            }\r\n        }\r\n     }\r\nI already tried some StackOverflow answers likewise \r\n1. I used using content-type solution\r\n2. Base64 Encode \r\n3. token check\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xO8or.png\r\n  [2]: https://i.stack.imgur.com/GSny5.png","title":"com.android.volley.AuthFailureError 403 Volley android error","body":"<p>The same API worked on postman but didn't work on android devices. There are likewise 25 parameters that I edit or update before calling API below is a postman screenshot that can verify that I getting the response in postman but android is throwing an error.</p>\n<p><a href=\"https://i.stack.imgur.com/xO8or.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xO8or.png\" alt=\"Volley error\" /></a>\n<a href=\"https://i.stack.imgur.com/GSny5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GSny5.png\" alt=\"postman\" /></a>\nHere is network API call code :</p>\n<pre><code>import android.app.Activity\nimport android.content.Intent\nimport android.util.Base64\nimport android.util.Log\nimport com.android.volley.*\nimport com.android.volley.toolbox.StringRequest\nimport com.android.volley.toolbox.Volley\nimport com.google.gson.Gson\nimport com.google.gson.reflect.TypeToken\nimport com.softnoesis.maxotexmart.login.LoginActivity\nimport com.softnoesis.maxotexmart.utils.AppPreference\nimport com.softnoesis.maxotexmart.utils.CommonUtils\nimport com.softnoesis.maxotexmart.utils.Constant.Companion.NETWORK_API_CALL\nimport com.softnoesis.maxotexmart.utils.Constant.Companion.TAG\nimport org.json.JSONObject\nimport java.lang.reflect.Type\n\nclass NetworkAPICall {\n    fun CallApplicationWS(mContext: Activity?, NetworkAPICallModel: NetworkAPICallModel,\n                          NetworkAPIResponseCallback: NetworkAPIResponseCallback?) {\n        Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS&quot;)\n        if (NetworkAPICallModel.getCommonUtils().isNetworkAvailable(mContext!!)) try {\n            if (!NetworkAPICallModel.isShowProgress())\n                NetworkAPICallModel.getCommonUtils().showProgress(mContext)\n            val RequestQueue: RequestQueue = Volley.newRequestQueue(mContext)\n            val StringRequest: StringRequest = object : StringRequest(NetworkAPICallModel.getRequest_type(),\n                NetworkAPICallModel.getApiURL(), Response.Listener&lt;String?&gt; { response -&gt;\n                Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; &quot; +\n                        &quot;CallApplicationWS --&gt; response&quot;)\n                try{\n                    NetworkAPICallModel.getCommonUtils().hideProgress()\n                    if(NetworkAPICallModel.getParserType() != null) {\n                        val `object`: Any = Gson().fromJson(response, NetworkAPICallModel.getParserType())\n                        NetworkAPICallModel.setResponseObject(`object`)\n                    }\n                    NetworkAPIResponseCallback?.onSuccessResponse(JSONObject(response), NetworkAPICallModel)\n                } catch(jsonException: Exception) {\n                    NetworkAPICallModel.getCommonUtils().hideProgress()\n                    Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; response --&gt; ${jsonException.message}&quot;)\n                    try{\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\n                        /*if(NetworkAPIResponseCallback != null) {\n                                NetworkAPIResponseCallback.onSuccessResponse(new JSONObject(response), NetworkAPICallModel);\n                          }*/\n                    }catch (e: Exception) {\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\n                        Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; response --&gt; ${e.message}&quot;)\n                    }\n                }\n            },\n                Response.ErrorListener { error -&gt;\n                    NetworkAPICallModel.getCommonUtils().hideProgress()\n                    Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; error --&gt; ${error.message}&quot;)\n                    val response: NetworkResponse = error.networkResponse\n                    if (error is ServerError) {\n                        try {\n                            val intent = Intent(mContext, LoginActivity::class.java)\n                            intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK\n                            mContext.startActivity(intent)\n                        } catch (e1: Exception) {\n                            NetworkAPICallModel.getCommonUtils().hideProgress()\n                            Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; error --&gt; ${e1.message}&quot;)\n                        }\n                    }\n                    CommonUtils().hideProgress()\n                    CommonUtils().showDialog(\n                        mContext,\n                        &quot;&quot;&quot;\n                                            Something went wrong! Please try again later!\n                                            If problem still persist, please drop mail at support@.com\n                                            &quot;&quot;&quot;.trimIndent()\n                    ).show()\n            }) {\n                override fun getParams(): MutableMap&lt;String, String&gt; {\n                    var params: MutableMap&lt;String, String&gt; = HashMap()\n                    val type: Type = object : TypeToken&lt;HashMap&lt;String, String&gt;&gt;() {}.type\n                    params = Gson().fromJson(NetworkAPICallModel.getJsonObjectRequest().toString(), type)\n                    return params\n                }\n\n                override fun getHeaders(): MutableMap&lt;String, String&gt; {\n                    val params: MutableMap&lt;String, String&gt; = HashMap()\n//                     headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + jetEncryptor.getJwtkey());\n                    if (AppPreference(mContext).isUserLogin()) {\n                        params[&quot;User-Agent&quot;]=&quot;Mozilla/5.0&quot;\n                        params[&quot;Authorization&quot;] = &quot;Bearer &quot; + AppPreference(mContext).getToken()\n                    }\n                    return params\n                }\n            }\n            RequestQueue.add(StringRequest)\n            StringRequest.retryPolicy = DefaultRetryPolicy(\n                0,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT\n            )\n        } catch (e: Exception) {\n            NetworkAPICallModel.getCommonUtils().hideProgress()\n            Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt;${e.message}&quot;)\n        } else {\n            NetworkAPICallModel.getCommonUtils().hideProgress()\n            CommonUtils().showDialog(mContext, &quot;Please check you internet connection&quot;).show()\n        }\n    }\n }\n</code></pre>\n<p>I already tried some StackOverflow answers likewise</p>\n<ol>\n<li>I used using content-type solution</li>\n<li>Base64 Encode</li>\n<li>token check</li>\n</ol>\n"},{"tags":["java","spring-mvc","ssl","multipartform-data","apache-httpclient-4.x"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1666815843,"post_id":74125269,"comment_id":131028071,"body_markdown":"The full stacktrace might contain useful information. See [httpclient logging](https://hc.apache.org/httpcomponents-client-4.5.x/logging.html) to enable tracing/debugging.","body":"The full stacktrace might contain useful information. See <a href=\"https://hc.apache.org/httpcomponents-client-4.5.x/logging.html\" rel=\"nofollow noreferrer\">httpclient logging</a> to enable tracing/debugging."}],"owner":{"account_id":1551580,"reputation":2663,"user_id":1443840,"accept_rate":48,"display_name":"Shekhar Khairnar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":783,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666244276,"creation_date":1666182170,"question_id":74125269,"body_markdown":"I&#39;m using apache http client library to post a maltipart request on some secure(https) server\r\n\r\n&gt; httpclient-4.5.13.jar, httpcore-4.4.13.jar, httpmime-4.4.1.jar\r\n\r\nbelow is the sample code:\r\n\r\n    //creating HttpPost\r\n    HttpPost httppost = new HttpPost(&quot;some https://url&quot;);\r\n    httppost.addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);\r\n    \r\n    MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n    \r\n    builder.addTextBody(&quot;channel_id&quot;, String.valueOf(pushNotificationRequest.getChannelId()));\r\n    \t\tbuilder.addTextBody(&quot;input_type&quot;, pushNotificationRequest.getInputType());\r\n    \t\tbuilder.addBinaryBody(&quot;csv_file&quot;, new ByteArrayInputStream(pushNotificationRequest.getCsvFile()), ContentType.DEFAULT_BINARY, &quot;my-File.csv&quot;);\r\n    \t\t\r\n    httppost.setEntity(builder.build());\r\n    \r\n   //configuration for disabling the SSL \r\n\r\n    CloseableHttpClient httpClient = HttpClients\r\n    \t   .custom()\r\n    \t   .setSSLContext(new SSLContextBuilder().loadTrustMaterial(null, TrustAllStrategy.INSTANCE).useProtocol(&quot;TLSv1.2&quot;).build())\r\n    \t   .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\r\n    \t   .build();\r\n    \t   \r\n    //exicuting the httppost\r\n    httpClient.execute(httppost);\r\n\r\n\r\nbut in above configuration I&#39;m getting a wired issue when I freshly start the tomcat server (as above code in a part of web-app) and when this code is executed I&#39;m able to connect to server which I&#39;m posting the my request and after second attempt onwards I&#39;m getting a exception \r\nas:\r\n\r\n&gt; [ org.apache.http.client.ClientProtocolException ] null\r\n&gt; org.apache.http.client.ClientProtocolException\r\n\r\nI&#39;m not able to understand why it&#39;s working when server freshly started and getting exception after subsequent call.\r\nAny help is greatly appreciated.\r\n\r\n\r\n\r\n","title":"Getting org.apache.http.client.ClientProtocolException","body":"<p>I'm using apache http client library to post a maltipart request on some secure(https) server</p>\n<blockquote>\n<p>httpclient-4.5.13.jar, httpcore-4.4.13.jar, httpmime-4.4.1.jar</p>\n</blockquote>\n<p>below is the sample code:</p>\n<pre><code>//creating HttpPost\nHttpPost httppost = new HttpPost(&quot;some https://url&quot;);\nhttppost.addHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);\n\nMultipartEntityBuilder builder = MultipartEntityBuilder.create();\n\nbuilder.addTextBody(&quot;channel_id&quot;, String.valueOf(pushNotificationRequest.getChannelId()));\n        builder.addTextBody(&quot;input_type&quot;, pushNotificationRequest.getInputType());\n        builder.addBinaryBody(&quot;csv_file&quot;, new ByteArrayInputStream(pushNotificationRequest.getCsvFile()), ContentType.DEFAULT_BINARY, &quot;my-File.csv&quot;);\n        \nhttppost.setEntity(builder.build());\n</code></pre>\n<p>//configuration for disabling the SSL</p>\n<pre><code>CloseableHttpClient httpClient = HttpClients\n       .custom()\n       .setSSLContext(new SSLContextBuilder().loadTrustMaterial(null, TrustAllStrategy.INSTANCE).useProtocol(&quot;TLSv1.2&quot;).build())\n       .setSSLHostnameVerifier(NoopHostnameVerifier.INSTANCE)\n       .build();\n       \n//exicuting the httppost\nhttpClient.execute(httppost);\n</code></pre>\n<p>but in above configuration I'm getting a wired issue when I freshly start the tomcat server (as above code in a part of web-app) and when this code is executed I'm able to connect to server which I'm posting the my request and after second attempt onwards I'm getting a exception\nas:</p>\n<blockquote>\n<p>[ org.apache.http.client.ClientProtocolException ] null\norg.apache.http.client.ClientProtocolException</p>\n</blockquote>\n<p>I'm not able to understand why it's working when server freshly started and getting exception after subsequent call.\nAny help is greatly appreciated.</p>\n"},{"tags":["java","json","jsp","tomcat","jar"],"answers":[{"comments":[{"owner":{"account_id":10710630,"reputation":157,"user_id":7882970,"display_name":"Erik Escriche"},"score":0,"creation_date":1494019690,"post_id":43813822,"comment_id":74667417,"body_markdown":"What do you mean when you say &quot;from your classpath&quot;? I have added `json-simple-1.1.1`in my project lib and compiled the class again with the following sentence: `javac -cp .;&quot;C:\\Program Files\\apache-tomcat-8.5.13\\webapps\\Heroismo\\WEB-INF\\lib\\*&quot; Ejercicio.java`, but I get the same error when trying to open the jsp. I don&#39;t know Maven.","body":"What do you mean when you say &quot;from your classpath&quot;? I have added <code>json-simple-1.1.1</code>in my project lib and compiled the class again with the following sentence: <code>javac -cp .;&quot;C:\\Program Files\\apache-tomcat-8.5.13\\webapps\\Heroismo\\WEB-INF\\lib\\*&quot; Ejercicio.java</code>, but I get the same error when trying to open the jsp. I don&#39;t know Maven."}],"tags":[],"owner":{"account_id":1494810,"reputation":8228,"user_id":1401019,"accept_rate":79,"display_name":"Sundararaj Govindasamy"},"comment_count":1,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1494018826,"creation_date":1494018826,"answer_id":43813822,"question_id":43813670,"body_markdown":"You are **missing** `json-simple-1.1.1.jar` from your classpath.\r\n\r\nif you are using **Maven**, add below into your pom.xml.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Or** you can download it from [here][1].\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>You are <strong>missing</strong> <code>json-simple-1.1.1.jar</code> from your classpath.</p>\n\n<p>if you are using <strong>Maven</strong>, add below into your pom.xml.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Or</strong> you can download it from <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjsonsimple11jar.htm\" rel=\"noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":10710630,"reputation":157,"user_id":7882970,"display_name":"Erik Escriche"},"score":0,"creation_date":1494019490,"post_id":43813830,"comment_id":74667321,"body_markdown":"Yes, it is. Before reading your comment I just had a jar called `json-simple-1.1.1-sources`. Now I have added `json-simple-1.1.1`, but I get the same error when trying to open the jsp.","body":"Yes, it is. Before reading your comment I just had a jar called <code>json-simple-1.1.1-sources</code>. Now I have added <code>json-simple-1.1.1</code>, but I get the same error when trying to open the jsp."}],"tags":[],"owner":{"account_id":3746715,"reputation":1014,"user_id":3115229,"accept_rate":80,"display_name":"Suren Aznauryan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494018864,"creation_date":1494018864,"answer_id":43813830,"question_id":43813670,"body_markdown":"Is some version of `json-simple.jar` in your project libs ?","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>Is some version of <code>json-simple.jar</code> in your project libs ?</p>\n"},{"tags":[],"owner":{"account_id":3449301,"reputation":2732,"user_id":2889297,"display_name":"Devendra Lattu"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1494019093,"creation_date":1494019093,"answer_id":43813879,"question_id":43813670,"body_markdown":"Firstly, you don&#39;t need the `json-simple.jar` in your project. &lt;br&gt; \r\nTherefore remove the `import org.json.simple.*`\r\n\r\nSecondly, the best practice is to import only the required classes from your jar.Therefore you can replace `import org.json.*;` by \r\n\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n    import org.json.JSONString;","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>Firstly, you don't need the <code>json-simple.jar</code> in your project. <br> \nTherefore remove the <code>import org.json.simple.*</code></p>\n\n<p>Secondly, the best practice is to import only the required classes from your jar.Therefore you can replace <code>import org.json.*;</code> by </p>\n\n<pre><code>import org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport org.json.JSONString;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14545060,"reputation":31,"user_id":10505512,"display_name":"MD KOUNAIN SHAHI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539600693,"creation_date":1539582985,"answer_id":52810481,"question_id":43813670,"body_markdown":"You can download the requisite jar, for me what worked is the downloading of my missing json20140107 jar and adding the import statements as below:\r\n\r\n**import org.json.JSONException;**\r\n\r\n**import org.json.simple.JSONObject;**","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>You can download the requisite jar, for me what worked is the downloading of my missing json20140107 jar and adding the import statements as below:</p>\n\n<p><strong>import org.json.JSONException;</strong></p>\n\n<p><strong>import org.json.simple.JSONObject;</strong></p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565628977,"creation_date":1540505714,"answer_id":52998853,"question_id":43813670,"body_markdown":"This works for the org.json package:\r\n\r\nCopy the source files from here\r\n\r\nhttps://github.com/stleary/JSON-java\r\n\r\nNote: this is the source code link (JSON-java) taken from from http://www.json.org/\r\n\r\ninto \\src\\org\\json folder\r\n\r\nIn **Eclipse**, click the Open perspective button, then Resource.\r\n[![enter image description here][1]][1]\r\n\r\nRight click on org.json and then hit Refresh to add the java source code into the project.\r\n\r\n  [1]: https://i.stack.imgur.com/ELnXY.png","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>This works for the org.json package:</p>\n\n<p>Copy the source files from here</p>\n\n<p><a href=\"https://github.com/stleary/JSON-java\" rel=\"nofollow noreferrer\">https://github.com/stleary/JSON-java</a></p>\n\n<p>Note: this is the source code link (JSON-java) taken from from <a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">http://www.json.org/</a></p>\n\n<p>into \\src\\org\\json folder</p>\n\n<p>In <strong>Eclipse</strong>, click the Open perspective button, then Resource.\n<a href=\"https://i.stack.imgur.com/ELnXY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ELnXY.png\" alt=\"enter image description here\"></a></p>\n\n<p>Right click on org.json and then hit Refresh to add the java source code into the project.</p>\n"},{"comments":[{"owner":{"account_id":4182503,"reputation":2396,"user_id":3427079,"accept_rate":87,"display_name":"G_V"},"score":1,"creation_date":1563461324,"post_id":53352500,"comment_id":100715794,"body_markdown":"Additionally: Sometimes the libraries are disabled in the Order and Export tab so the project won&#39;t pick them up even if they were added.","body":"Additionally: Sometimes the libraries are disabled in the Order and Export tab so the project won&#39;t pick them up even if they were added."}],"tags":[],"owner":{"account_id":13167185,"reputation":509,"user_id":9510885,"display_name":"Frank HN"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1542467458,"creation_date":1542467458,"answer_id":53352500,"question_id":43813670,"body_markdown":"for me definetely downloded the jar and add it to eclipse simple\r\n\r\njust follow these steps \r\n   1. download the .jar file at this link https://jar-download.com/artifacts/org.json\r\n   2. locate and extract the json.jar file\r\n\r\nin eclipse \r\n-right click on your project and go to build path\r\n-add external jar \r\n-hit apply \r\n\r\nthat&#39;s [![enter image description here][1]][1]it ; hope it helps guys\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kQDY2.png","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>for me definetely downloded the jar and add it to eclipse simple</p>\n\n<p>just follow these steps \n   1. download the .jar file at this link <a href=\"https://jar-download.com/artifacts/org.json\" rel=\"noreferrer\">https://jar-download.com/artifacts/org.json</a>\n   2. locate and extract the json.jar file</p>\n\n<p>in eclipse \n-right click on your project and go to build path\n-add external jar \n-hit apply </p>\n\n<p>that's <a href=\"https://i.stack.imgur.com/kQDY2.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kQDY2.png\" alt=\"enter image description here\"></a>it ; hope it helps guys</p>\n"},{"tags":[],"owner":{"account_id":15635193,"reputation":1,"user_id":11280308,"display_name":"terribleProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553923615,"creation_date":1553919289,"answer_id":55428067,"question_id":43813670,"body_markdown":"I didn&#39;t see the right answer anywhere but my TomCat JSON library problem was with the artifact deployment. If you&#39;re using intelliJ, go to project structure &gt;&gt; artifacts and add the jar to your lib folder \r\n\r\nCheck out my project structure\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MkauM.png","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>I didn't see the right answer anywhere but my TomCat JSON library problem was with the artifact deployment. If you're using intelliJ, go to project structure >> artifacts and add the jar to your lib folder </p>\n\n<p>Check out my project structure</p>\n\n<p><a href=\"https://i.stack.imgur.com/MkauM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MkauM.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":20525601,"reputation":145,"user_id":15064109,"display_name":"Tahil Bansal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666244038,"creation_date":1666244038,"answer_id":74134861,"question_id":43813670,"body_markdown":"I was facing the same issue. I tried adding jar file in the classpath but it was not working for me. If you are using **Java gradle project** than you can try adding these lines in **build.gradle** : \r\n\r\n    implementation group: &#39;org.json&#39;, name: &#39;json&#39;, version: &#39;20220320&#39;\r\n        \r\n    implementation group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1.1&#39;\r\n\r\n\r\nIf you are using **Maven**, add below into your **pom.xml**: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n        &lt;version&gt;20220320&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  \r\n\r\n\r\n\r\n","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>I was facing the same issue. I tried adding jar file in the classpath but it was not working for me. If you are using <strong>Java gradle project</strong> than you can try adding these lines in <strong>build.gradle</strong> :</p>\n<pre><code>implementation group: 'org.json', name: 'json', version: '20220320'\n    \nimplementation group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1.1'\n</code></pre>\n<p>If you are using <strong>Maven</strong>, add below into your <strong>pom.xml</strong>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;20220320&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n    &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10710630,"reputation":157,"user_id":7882970,"display_name":"Erik Escriche"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138429,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":43813879,"answer_count":8,"score":14,"last_activity_date":1666244038,"creation_date":1494018073,"question_id":43813670,"body_markdown":"When I try to open my jsp through Tomcat, I receive the following messages:\n&gt;The type org.json.simple.JSONObject cannot be resolved. It is indirectly referenced from required .class files.\n&gt;\n&gt;The method getJSONObject() from the type Ejercicio refers to the missing type JSONObject.\n\nI have a java class that goes like this:\n\n        package E;\n        import org.json.simple.*;\n        import javax.json.*;\n        import org.json.*;\n\n        public class Ejercicio {\n            public int a;\n            public String b;\n  \n        public Ejercicio (int a, String b) {\n            this.a=a;\n            this.b=b;\n            }\n\n        public JSONObject getJSONObject() {\n            JSONObject obj = new JSONObject();\n            obj.put(&quot;a&quot;, a);\n            obj.put(&quot;b&quot;, b);\n            return obj;\n            }\n        }\n\nMy jsp goes as follows:\n    \n        &lt;%@page import=&quot;java.io.*&quot; %&gt;\n        &lt;%@page import=&quot;java.util.*&quot;%&gt;\n        &lt;%@page import=&quot;E.Ejercicio&quot;%&gt;\n        &lt;%@page import=&quot;javax.json.*&quot;%&gt;\n        &lt;%@page import=&quot;org.json.simple.*&quot;%&gt;\n        &lt;%@page import=&quot;org.json.*&quot;%&gt;\n        &lt;%@page import=&quot;net.sf.json.*&quot; %&gt;\n\n        &lt;%  \n        ArrayList&lt;Ejercicio&gt; miArray = new ArrayList&lt;Ejercicio&gt;();\n        miArray.add(new Ejercicio (1,&quot;Hola&quot;));\n        miArray.add(new Ejercicio (2,&quot;Caracola&quot;));\n        miArray.add(new Ejercicio (3,&quot;Perola&quot;));\n        for (Ejercicio temp:miArray) {\n            out.println(&quot;&lt;p&gt;&quot;+temp.b+&quot;&lt;/p&gt;&quot;);\n            }\n    \n        JSONArray jsonArray = new JSONArray();\n        for (int i=0; i &lt; miArray.size(); i++) {\n            jsonArray.put(miArray.get(i).getJSONObject());\n            }\n        %&gt;\n\nI have added a lot of jars to both the lib folder inside WEB-INF and the Tomcat lib trying to solve the problem with no results (commons-beanutils-1.8.1, commons-collections-3.2.1, commons-lang-2.5, commons-logging-1.1.1, ezmorph-1.0.6, java-json, javax.json-1.0, json-lib-2.4-jdk15, json-rpc-1.0, json-simple-1.1.1-sources, org.json).\n\nWhen I compiled the java class I got the &quot;Some input files use unchecked or unsafe operations&quot; message. Could this be related to the jps not compiling?","title":"How can I solve &quot;org.json.simple.JSONObject cannot be resolved&quot;?","body":"<p>When I try to open my jsp through Tomcat, I receive the following messages:</p>\n<blockquote>\n<p>The type org.json.simple.JSONObject cannot be resolved. It is indirectly referenced from required .class files.</p>\n<p>The method getJSONObject() from the type Ejercicio refers to the missing type JSONObject.</p>\n</blockquote>\n<p>I have a java class that goes like this:</p>\n<pre><code>    package E;\n    import org.json.simple.*;\n    import javax.json.*;\n    import org.json.*;\n\n    public class Ejercicio {\n        public int a;\n        public String b;\n\n    public Ejercicio (int a, String b) {\n        this.a=a;\n        this.b=b;\n        }\n\n    public JSONObject getJSONObject() {\n        JSONObject obj = new JSONObject();\n        obj.put(&quot;a&quot;, a);\n        obj.put(&quot;b&quot;, b);\n        return obj;\n        }\n    }\n</code></pre>\n<p>My jsp goes as follows:</p>\n<pre><code>    &lt;%@page import=&quot;java.io.*&quot; %&gt;\n    &lt;%@page import=&quot;java.util.*&quot;%&gt;\n    &lt;%@page import=&quot;E.Ejercicio&quot;%&gt;\n    &lt;%@page import=&quot;javax.json.*&quot;%&gt;\n    &lt;%@page import=&quot;org.json.simple.*&quot;%&gt;\n    &lt;%@page import=&quot;org.json.*&quot;%&gt;\n    &lt;%@page import=&quot;net.sf.json.*&quot; %&gt;\n\n    &lt;%  \n    ArrayList&lt;Ejercicio&gt; miArray = new ArrayList&lt;Ejercicio&gt;();\n    miArray.add(new Ejercicio (1,&quot;Hola&quot;));\n    miArray.add(new Ejercicio (2,&quot;Caracola&quot;));\n    miArray.add(new Ejercicio (3,&quot;Perola&quot;));\n    for (Ejercicio temp:miArray) {\n        out.println(&quot;&lt;p&gt;&quot;+temp.b+&quot;&lt;/p&gt;&quot;);\n        }\n\n    JSONArray jsonArray = new JSONArray();\n    for (int i=0; i &lt; miArray.size(); i++) {\n        jsonArray.put(miArray.get(i).getJSONObject());\n        }\n    %&gt;\n</code></pre>\n<p>I have added a lot of jars to both the lib folder inside WEB-INF and the Tomcat lib trying to solve the problem with no results (commons-beanutils-1.8.1, commons-collections-3.2.1, commons-lang-2.5, commons-logging-1.1.1, ezmorph-1.0.6, java-json, javax.json-1.0, json-lib-2.4-jdk15, json-rpc-1.0, json-simple-1.1.1-sources, org.json).</p>\n<p>When I compiled the java class I got the &quot;Some input files use unchecked or unsafe operations&quot; message. Could this be related to the jps not compiling?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1666199938,"post_id":74129383,"comment_id":130881376,"body_markdown":"I think you were supposed to implement long addition.","body":"I think you were supposed to implement long addition."},{"owner":{"account_id":10778144,"reputation":712,"user_id":7929423,"display_name":"cluis92"},"score":0,"creation_date":1666200080,"post_id":74129383,"comment_id":130881437,"body_markdown":"The addition works fine because it correctly gives me 807 as the sum. I just need to convert this to a singly linked list (and then I can reverse the list); my problem is that there definition of a linked list is not working for me and is not testable; I&#39;m not even sure how to create a linked list using there definition of it.","body":"The addition works fine because it correctly gives me 807 as the sum. I just need to convert this to a singly linked list (and then I can reverse the list); my problem is that there definition of a linked list is not working for me and is not testable; I&#39;m not even sure how to create a linked list using there definition of it."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666200249,"post_id":74129383,"comment_id":130881506,"body_markdown":"I would check what exactly is being returned.... Hint: calling the iterating variable `result` can be misleading. Also not sure if re-using the input list is such a good idea, what if the result is *longer*? BTW there is no need for first reversing, StringBuilder can also insert characters at the first position","body":"I would check what exactly is being returned.... Hint: calling the iterating variable <code>result</code> can be misleading. Also not sure if re-using the input list is such a good idea, what if the result is <i>longer</i>? BTW there is no need for first reversing, StringBuilder can also insert characters at the first position"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666200594,"post_id":74129383,"comment_id":130881627,"body_markdown":"I don&#39;t think you need to reverse to the list.  You create a sum list and int carry variable to store carry over.  You iterate over the both input lists and add the value of the two nodes and the carry over value to the sum list.  Do this until one of the list is empty.  Then append the rest of the values from the longer list to the sum list.","body":"I don&#39;t think you need to reverse to the list.  You create a sum list and int carry variable to store carry over.  You iterate over the both input lists and add the value of the two nodes and the carry over value to the sum list.  Do this until one of the list is empty.  Then append the rest of the values from the longer list to the sum list."},{"owner":{"account_id":10778144,"reputation":712,"user_id":7929423,"display_name":"cluis92"},"score":0,"creation_date":1666201216,"post_id":74129383,"comment_id":130881859,"body_markdown":"I appreciate the responses and I realize my solution isn&#39;t optimal, but my original question is why the test and test2 values being returned in stdout are not equal? For example, where is it getting the value &#39;56&#39;?","body":"I appreciate the responses and I realize my solution isn&#39;t optimal, but my original question is why the test and test2 values being returned in stdout are not equal? For example, where is it getting the value &#39;56&#39;?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1666201419,"post_id":74129383,"comment_id":130881936,"body_markdown":"The constraints of the LeetCode problem state that each linked list may contain up to 100 nodes. That means a number with 100 digits. A number that size is larger than [Integer.MAX_VALUE](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#MAX_VALUE). You may be able to create a [BigInteger](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html) for it. Basically, I don&#39;t think your solution is feasible. The fact that the digits are in reverse order is meant to help you with the solution and not to force you to reverse the list.","body":"The constraints of the LeetCode problem state that each linked list may contain up to 100 nodes. That means a number with 100 digits. A number that size is larger than <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Integer.html#MAX_VALUE\" rel=\"nofollow noreferrer\">Integer.MAX_VALUE</a>. You may be able to create a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html\" rel=\"nofollow noreferrer\">BigInteger</a> for it. Basically, I don&#39;t think your solution is feasible. The fact that the digits are in reverse order is meant to help you with the solution and not to force you to reverse the list."}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666202192,"creation_date":1666202192,"answer_id":74129898,"question_id":74129383,"body_markdown":"Your output for &quot;test&quot; prints a String representation of a character, your &quot;test2&quot; output prints the integer value of that character. The integer value of `&#39;0&#39;` is 48 (ASCII or UTF8-encoding). \r\n\r\nYou would have to parse back the `char` value to the proper `int`: \r\n\r\n```\r\nresult.val = Integer.parseInt(&quot;&quot; + ch[i]);\r\n```\r\n\r\nStill a very complicated solution, and if @Abra is right, I would suggest that you don&#39;t convert the numbers to any object first, but add them digit by digit and keep the overflow (anything that is bigger than 9) for the next digit. \r\n\r\nYou still have to take care, when both numbers do not have the same length and that the overflow of the last digit of input is appended to the output.\r\n\r\nThis method would also save you from reversing the result again, it&#39;s output from the lowest significant value to the highest.","title":"Why is my singly linked list not being assigned values properly?","body":"<p>Your output for &quot;test&quot; prints a String representation of a character, your &quot;test2&quot; output prints the integer value of that character. The integer value of <code>'0'</code> is 48 (ASCII or UTF8-encoding).</p>\n<p>You would have to parse back the <code>char</code> value to the proper <code>int</code>:</p>\n<pre><code>result.val = Integer.parseInt(&quot;&quot; + ch[i]);\n</code></pre>\n<p>Still a very complicated solution, and if @Abra is right, I would suggest that you don't convert the numbers to any object first, but add them digit by digit and keep the overflow (anything that is bigger than 9) for the next digit.</p>\n<p>You still have to take care, when both numbers do not have the same length and that the overflow of the last digit of input is appended to the output.</p>\n<p>This method would also save you from reversing the result again, it's output from the lowest significant value to the highest.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666243906,"creation_date":1666204422,"answer_id":74130284,"question_id":74129383,"body_markdown":"&gt;I think the issue is inside my for loop\r\n\r\nDefinitely. You set `result` to `l1`. Then you assign `result` to `result.next`. Eventually you assign null to `result`. Hence your &quot;empty&quot; output. The first element in the `char` array, i.e. `ch` needs to become the last `ListNode`. The second element in `ch` needs to become the second last `ListNode`.\r\n\r\nHere is my rewrite of your code:\r\n```java\r\npublic class Solution {\r\n\r\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n        l1 = reverseList(l1);\r\n        l2 = reverseList(l2);\r\n        String str1 = returnListAsString(l1);\r\n        String str2 = returnListAsString(l2);\r\n        Integer int1 = Integer.valueOf(str1.toString());\r\n        Integer int2 = Integer.valueOf(str2.toString());\r\n        Integer sum = int1 + int2;\r\n        System.out.println(&quot;sum..&quot; + sum);\r\n        char[] ch = String.valueOf(sum).toCharArray();\r\n        ListNode result = null;\r\n        ListNode temp = new ListNode(ch[0] - &#39;0&#39;);\r\n        for (int i = 1; i &lt; ch.length; i++) {\r\n            System.out.println(&quot;test..&quot; + ch[i]);\r\n            result = new ListNode(ch[i] - &#39;0&#39;, temp);\r\n            temp = result;\r\n            System.out.println(&quot;test2..&quot; + result.val);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public ListNode reverseList(ListNode l1) {\r\n        ListNode previous = null;\r\n        ListNode curr = l1;\r\n        ListNode next = null;\r\n        while (curr != null) {\r\n            next = curr.next;\r\n            curr.next = previous;\r\n            previous = curr;\r\n            curr = next;\r\n        }\r\n        l1 = previous;\r\n        return l1;\r\n    }\r\n\r\n    public String returnListAsString(ListNode l1) {\r\n        StringBuilder str1 = new StringBuilder();\r\n        while (l1 != null) {\r\n            str1.append(l1.val);\r\n            l1 = l1.next;\r\n        }\r\n        return str1.toString();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        ListNode three = new ListNode(3);\r\n        ListNode four = new ListNode(4, three);\r\n        ListNode two = new ListNode(2, four);\r\n        ListNode fore = new ListNode(4);\r\n        ListNode six = new ListNode(6, fore);\r\n        ListNode five = new ListNode(5, six);\r\n        Solution soln = new Solution();\r\n        ListNode rslt = soln.addTwoNumbers(two, five);\r\n        System.out.println(&quot;Result: &quot; + soln.returnListAsString(rslt));\r\n    }\r\n}\r\n\r\nclass ListNode {\r\n    int val;\r\n    ListNode next;\r\n\r\n    ListNode() {\r\n        this(0);\r\n    }\r\n\r\n    ListNode(int val) {\r\n        this(val, null);\r\n    }\r\n\r\n    ListNode(int val, ListNode next) {\r\n        this.val = val;\r\n        this.next = next;\r\n    }\r\n}\r\n```\r\nOutput when running the above code:\r\n```none\r\nsum..807\r\ntest..0\r\ntest2..0\r\ntest..7\r\ntest2..7\r\nResult: 708\r\n```\r\n&gt;I appreciate the responses and I realize my solution isn&#39;t optimal, but my original question is why the test and test2 values being returned in stdout are not equal?\r\n\r\nI believe I have answered your question.\r\n\r\nEdit\r\n----\r\nHere is the solution I submitted to *LeetCode* which was accepted.\r\n\r\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n        ListNode lst = null;\r\n        ListNode res = null;\r\n        ListNode tmp = null;\r\n        int carry = 0;\r\n        int sum;\r\n        while (l1 != null) {\r\n            sum = l1.val;\r\n            if (l2 != null) {\r\n                sum += l2.val;\r\n                l2 = l2.next;\r\n            }\r\n            sum += carry;\r\n            carry = sum &gt; 9 ? 1 : 0;\r\n            if (carry &gt; 0) {\r\n                sum %= 10;\r\n            }\r\n            tmp = new ListNode(sum);\r\n            if (res == null) {\r\n                res = tmp;\r\n                lst = tmp;\r\n            }\r\n            else {\r\n                lst.next = tmp;\r\n                lst = tmp;\r\n            }\r\n            l1 = l1.next;\r\n        }\r\n        while (l2 != null) {\r\n            sum = l2.val + carry;\r\n            carry = sum &gt; 9 ? 1 : 0;\r\n            if (carry &gt; 0) {\r\n                sum %= 10;\r\n            }\r\n            tmp = new ListNode(sum);\r\n            if (res == null) {\r\n                res = tmp;\r\n                lst = tmp;\r\n            }\r\n            else {\r\n                lst.next = tmp;\r\n                lst = tmp;\r\n            }\r\n            l2 = l2.next;\r\n        }\r\n        if (carry == 1) {\r\n            tmp = new ListNode(carry);\r\n            lst.next = tmp;\r\n        }\r\n        return res;\r\n    }\r\n","title":"Why is my singly linked list not being assigned values properly?","body":"<blockquote>\n<p>I think the issue is inside my for loop</p>\n</blockquote>\n<p>Definitely. You set <code>result</code> to <code>l1</code>. Then you assign <code>result</code> to <code>result.next</code>. Eventually you assign null to <code>result</code>. Hence your &quot;empty&quot; output. The first element in the <code>char</code> array, i.e. <code>ch</code> needs to become the last <code>ListNode</code>. The second element in <code>ch</code> needs to become the second last <code>ListNode</code>.</p>\n<p>Here is my rewrite of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        l1 = reverseList(l1);\n        l2 = reverseList(l2);\n        String str1 = returnListAsString(l1);\n        String str2 = returnListAsString(l2);\n        Integer int1 = Integer.valueOf(str1.toString());\n        Integer int2 = Integer.valueOf(str2.toString());\n        Integer sum = int1 + int2;\n        System.out.println(&quot;sum..&quot; + sum);\n        char[] ch = String.valueOf(sum).toCharArray();\n        ListNode result = null;\n        ListNode temp = new ListNode(ch[0] - '0');\n        for (int i = 1; i &lt; ch.length; i++) {\n            System.out.println(&quot;test..&quot; + ch[i]);\n            result = new ListNode(ch[i] - '0', temp);\n            temp = result;\n            System.out.println(&quot;test2..&quot; + result.val);\n        }\n        return result;\n    }\n\n    public ListNode reverseList(ListNode l1) {\n        ListNode previous = null;\n        ListNode curr = l1;\n        ListNode next = null;\n        while (curr != null) {\n            next = curr.next;\n            curr.next = previous;\n            previous = curr;\n            curr = next;\n        }\n        l1 = previous;\n        return l1;\n    }\n\n    public String returnListAsString(ListNode l1) {\n        StringBuilder str1 = new StringBuilder();\n        while (l1 != null) {\n            str1.append(l1.val);\n            l1 = l1.next;\n        }\n        return str1.toString();\n    }\n\n    public static void main(String[] args) {\n        ListNode three = new ListNode(3);\n        ListNode four = new ListNode(4, three);\n        ListNode two = new ListNode(2, four);\n        ListNode fore = new ListNode(4);\n        ListNode six = new ListNode(6, fore);\n        ListNode five = new ListNode(5, six);\n        Solution soln = new Solution();\n        ListNode rslt = soln.addTwoNumbers(two, five);\n        System.out.println(&quot;Result: &quot; + soln.returnListAsString(rslt));\n    }\n}\n\nclass ListNode {\n    int val;\n    ListNode next;\n\n    ListNode() {\n        this(0);\n    }\n\n    ListNode(int val) {\n        this(val, null);\n    }\n\n    ListNode(int val, ListNode next) {\n        this.val = val;\n        this.next = next;\n    }\n}\n</code></pre>\n<p>Output when running the above code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sum..807\ntest..0\ntest2..0\ntest..7\ntest2..7\nResult: 708\n</code></pre>\n<blockquote>\n<p>I appreciate the responses and I realize my solution isn't optimal, but my original question is why the test and test2 values being returned in stdout are not equal?</p>\n</blockquote>\n<p>I believe I have answered your question.</p>\n<h2>Edit</h2>\n<p>Here is the solution I submitted to <em>LeetCode</em> which was accepted.</p>\n<pre><code>public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n    ListNode lst = null;\n    ListNode res = null;\n    ListNode tmp = null;\n    int carry = 0;\n    int sum;\n    while (l1 != null) {\n        sum = l1.val;\n        if (l2 != null) {\n            sum += l2.val;\n            l2 = l2.next;\n        }\n        sum += carry;\n        carry = sum &gt; 9 ? 1 : 0;\n        if (carry &gt; 0) {\n            sum %= 10;\n        }\n        tmp = new ListNode(sum);\n        if (res == null) {\n            res = tmp;\n            lst = tmp;\n        }\n        else {\n            lst.next = tmp;\n            lst = tmp;\n        }\n        l1 = l1.next;\n    }\n    while (l2 != null) {\n        sum = l2.val + carry;\n        carry = sum &gt; 9 ? 1 : 0;\n        if (carry &gt; 0) {\n            sum %= 10;\n        }\n        tmp = new ListNode(sum);\n        if (res == null) {\n            res = tmp;\n            lst = tmp;\n        }\n        else {\n            lst.next = tmp;\n            lst = tmp;\n        }\n        l2 = l2.next;\n    }\n    if (carry == 1) {\n        tmp = new ListNode(carry);\n        lst.next = tmp;\n    }\n    return res;\n}\n</code></pre>\n"}],"owner":{"account_id":10778144,"reputation":712,"user_id":7929423,"display_name":"cluis92"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74130284,"answer_count":2,"score":1,"last_activity_date":1666243906,"creation_date":1666199610,"question_id":74129383,"body_markdown":"I am doing the LeetCode challenge &#39;Add Two Numbers&#39;\r\n\r\n&gt;You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list.\r\n\r\n&gt;You may assume the two numbers do not contain any leading zero, except the number 0 itself.\r\n\r\nI was writing a solution, but observed some strange behavior which I am not able to comprehend. (I think the issue is in my for loop).\r\n\r\n```\r\n/**\r\n * Definition for singly-linked list.\r\n * public class ListNode {\r\n *     int val;\r\n *     ListNode next;\r\n *     ListNode() {}\r\n *     ListNode(int val) { this.val = val; }\r\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n * }\r\n */\r\n\r\nclass Solution {\r\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n        \r\n        l1= reverseList(l1);\r\n        l2= reverseList(l2);\r\n        \r\n        String str1 = returnListAsString(l1);\r\n        String str2 = returnListAsString(l2);\r\n        \r\n        Integer int1 = Integer.valueOf(str1.toString());\r\n        Integer int2 = Integer.valueOf(str2.toString());\r\n        Integer sum = int1 + int2;\r\n        \r\n        System.out.println(&quot;sum..&quot; + sum);\r\n        \r\n        char[] ch = String.valueOf(sum).toCharArray();\r\n        \r\n        \r\n        ListNode result = l1;\r\n        for (int i=0; i&lt;ch.length; i++) {\r\n            System.out.println(&quot;test..&quot; + ch[i]);\r\n            result.val = ch[i];\r\n            System.out.println(&quot;test2..&quot;+ result.val);\r\n            result = result.next;\r\n        }\r\n        \r\n        return result;\r\n    }\r\n    \r\n    public ListNode reverseList(ListNode l1) {\r\n        ListNode previous = null;\r\n        ListNode curr = l1;\r\n        ListNode next = null;\r\n        while (curr != null) {\r\n            next = curr.next;\r\n            curr.next = previous;\r\n            previous = curr;\r\n            curr = next;\r\n        }\r\n        l1 = previous;\r\n        return l1;\r\n    }\r\n    \r\n    public String returnListAsString(ListNode l1) {\r\n        StringBuilder str1 = new StringBuilder();\r\n        while (l1 !=null) {\r\n            str1.append(l1.val);\r\n            l1 = l1.next;\r\n        }\r\n        \r\n        return str1.toString();\r\n    }\r\n}\r\n```\r\n\r\nHere is my input\r\n&gt;[2,4,3]\r\n&gt;[5,6,4]\r\n\r\nstdout\r\n&gt;sum..807\r\ntest..8\r\ntest2..56\r\ntest..0\r\ntest2..48\r\ntest..7\r\ntest2..55\r\n\r\noutput\r\n&gt;[]\r\n\r\nI think the issue is inside my for loop. My question is, why does test and test2 not equal, and how can I have an output that at least says [8,0,7]?","title":"Why is my singly linked list not being assigned values properly?","body":"<p>I am doing the LeetCode challenge 'Add Two Numbers'</p>\n<blockquote>\n<p>You are given two non-empty linked lists representing two non-negative integers. The digits are stored in reverse order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list.</p>\n</blockquote>\n<blockquote>\n<p>You may assume the two numbers do not contain any leading zero, except the number 0 itself.</p>\n</blockquote>\n<p>I was writing a solution, but observed some strange behavior which I am not able to comprehend. (I think the issue is in my for loop).</p>\n<pre><code>/**\n * Definition for singly-linked list.\n * public class ListNode {\n *     int val;\n *     ListNode next;\n *     ListNode() {}\n *     ListNode(int val) { this.val = val; }\n *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n * }\n */\n\nclass Solution {\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        \n        l1= reverseList(l1);\n        l2= reverseList(l2);\n        \n        String str1 = returnListAsString(l1);\n        String str2 = returnListAsString(l2);\n        \n        Integer int1 = Integer.valueOf(str1.toString());\n        Integer int2 = Integer.valueOf(str2.toString());\n        Integer sum = int1 + int2;\n        \n        System.out.println(&quot;sum..&quot; + sum);\n        \n        char[] ch = String.valueOf(sum).toCharArray();\n        \n        \n        ListNode result = l1;\n        for (int i=0; i&lt;ch.length; i++) {\n            System.out.println(&quot;test..&quot; + ch[i]);\n            result.val = ch[i];\n            System.out.println(&quot;test2..&quot;+ result.val);\n            result = result.next;\n        }\n        \n        return result;\n    }\n    \n    public ListNode reverseList(ListNode l1) {\n        ListNode previous = null;\n        ListNode curr = l1;\n        ListNode next = null;\n        while (curr != null) {\n            next = curr.next;\n            curr.next = previous;\n            previous = curr;\n            curr = next;\n        }\n        l1 = previous;\n        return l1;\n    }\n    \n    public String returnListAsString(ListNode l1) {\n        StringBuilder str1 = new StringBuilder();\n        while (l1 !=null) {\n            str1.append(l1.val);\n            l1 = l1.next;\n        }\n        \n        return str1.toString();\n    }\n}\n</code></pre>\n<p>Here is my input</p>\n<blockquote>\n<p>[2,4,3]\n[5,6,4]</p>\n</blockquote>\n<p>stdout</p>\n<blockquote>\n<p>sum..807\ntest..8\ntest2..56\ntest..0\ntest2..48\ntest..7\ntest2..55</p>\n</blockquote>\n<p>output</p>\n<blockquote>\n<p>[]</p>\n</blockquote>\n<p>I think the issue is inside my for loop. My question is, why does test and test2 not equal, and how can I have an output that at least says [8,0,7]?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":21390158,"reputation":801,"user_id":15754377,"display_name":"Vivek Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666243699,"creation_date":1666243699,"answer_id":74134827,"question_id":74134316,"body_markdown":"You can interpret this as &quot;add the child to the view immediately or later&quot;.\r\nIf you put true then you are saying add the child view to parent immediately. \r\nIf you put it to false you are saying add the child view to parent later.\r\nRemember you should not pass true to this value when your are not responsible for adding a child to a parent. ","title":"Why is it Attach to root in Layout Inflater is always False value?","body":"<p>You can interpret this as &quot;add the child to the view immediately or later&quot;.\nIf you put true then you are saying add the child view to parent immediately.\nIf you put it to false you are saying add the child view to parent later.\nRemember you should not pass true to this value when your are not responsible for adding a child to a parent.</p>\n"}],"owner":{"account_id":17998397,"reputation":147,"user_id":13080858,"display_name":"Unknown Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666243699,"creation_date":1666238612,"question_id":74134316,"body_markdown":"Why is it Attach to root in Layout Inflater is always False value?","title":"Why is it Attach to root in Layout Inflater is always False value?","body":"<p>Why is it Attach to root in Layout Inflater is always False value?</p>\n"},{"tags":["java","mono","reactive-programming","spring-webflux","flux"],"answers":[{"comments":[{"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"score":1,"creation_date":1666261820,"post_id":74134661,"comment_id":130896720,"body_markdown":"This is exactly what I was looking for, may be there is quite a lot of difference in coding style when coming from a non reactive background to a reactive form of coding, in Rx it is more on combining the objets and flatMapping them in step by step manner, whereas in non-Rx you pass 1 object to different methods, and get the result and collaborate it. Anyway thanks for the answer, I am now slowly able to understand this way of coding with the help of the SOF  community.","body":"This is exactly what I was looking for, may be there is quite a lot of difference in coding style when coming from a non reactive background to a reactive form of coding, in Rx it is more on combining the objets and flatMapping them in step by step manner, whereas in non-Rx you pass 1 object to different methods, and get the result and collaborate it. Anyway thanks for the answer, I am now slowly able to understand this way of coding with the help of the SOF  community."},{"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"score":1,"creation_date":1666281634,"post_id":74134661,"comment_id":130904800,"body_markdown":"@MohammedIdris yeah, it takes some getting used to, that&#39;s for sure!","body":"@MohammedIdris yeah, it takes some getting used to, that&#39;s for sure!"}],"tags":[],"owner":{"account_id":17898206,"reputation":225,"user_id":13003044,"display_name":"cpigeon"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666243576,"creation_date":1666242101,"answer_id":74134661,"question_id":74110297,"body_markdown":"Your line of thinking was not far off!\r\n\r\nWhenever you need to &quot;reach outside&quot; a publisher, consider using `AtomicBoolean`, `AtomicInteger`, etc. or the parameterized `AtomicReference` to get around the final or effectively final compiler warning. However, it should be noted that asynchronous operations like `flatMap` may not have the correct value when they get the wrapped values from these, so it&#39;s best to get around the problem in a different way.\r\n\r\nFortunately, Reactor has a myriad of useful methods on its publishers!\r\n\r\nIf I understand correctly, the `checkSleep` function should resolve to true if all three of `isHealthy`, `isWealthy` and `isWise` also resolve to true - false if even one of them resolve to false.\r\n\r\nI have created a simple simulation of this scenario:\r\n\r\n```java\r\nprivate Mono&lt;Boolean&gt; checkSleep(Student std) {\r\n    return getSleep(std)\r\n        .flatMapMany(sleep -&gt; Flux.merge(isHealthy(std, sleep), isWealthy(std, sleep), isWise(std, sleep)))\r\n        .all(result -&gt; result);\r\n}\r\n\r\nprivate Mono&lt;Sleep&gt; getSleep(Student std) {\r\n    return Mono.just(new Sleep(8));\r\n}\r\n\r\nprivate Mono&lt;Boolean&gt; isHealthy(Student std, Sleep sleep) {\r\n    return Mono.just(true);\r\n}\r\n\r\nprivate Mono&lt;Boolean&gt; isWealthy(Student std, Sleep sleep) {\r\n    return Mono.just(true);\r\n}\r\n\r\nprivate Mono&lt;Boolean&gt; isWise(Student std, Sleep sleep) {\r\n    return Mono.just(true);\r\n}\r\n```\r\n\r\nThis way, getSleep is only called once, and is used to flat map the emitted value into the three booleans you&#39;re looking for. The `Flux::all` method then ensures that the returned Mono will wrap true only if all three inners have emitted true.\r\n\r\nAnother thing to note is that I&#39;ve replaced `Flux::concat` with `Flux::merge`. The former goes sequentially, subscribing, waiting for result, then repeat. These three publishers seem to be independent of one another, so replacing concat with merge allows all three to be subscribed to at the same time, thereby reducing time wasted with waiting.","title":"Send/Update reactor Mono Object to different attributes of a Flux.concat()","body":"<p>Your line of thinking was not far off!</p>\n<p>Whenever you need to &quot;reach outside&quot; a publisher, consider using <code>AtomicBoolean</code>, <code>AtomicInteger</code>, etc. or the parameterized <code>AtomicReference</code> to get around the final or effectively final compiler warning. However, it should be noted that asynchronous operations like <code>flatMap</code> may not have the correct value when they get the wrapped values from these, so it's best to get around the problem in a different way.</p>\n<p>Fortunately, Reactor has a myriad of useful methods on its publishers!</p>\n<p>If I understand correctly, the <code>checkSleep</code> function should resolve to true if all three of <code>isHealthy</code>, <code>isWealthy</code> and <code>isWise</code> also resolve to true - false if even one of them resolve to false.</p>\n<p>I have created a simple simulation of this scenario:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private Mono&lt;Boolean&gt; checkSleep(Student std) {\n    return getSleep(std)\n        .flatMapMany(sleep -&gt; Flux.merge(isHealthy(std, sleep), isWealthy(std, sleep), isWise(std, sleep)))\n        .all(result -&gt; result);\n}\n\nprivate Mono&lt;Sleep&gt; getSleep(Student std) {\n    return Mono.just(new Sleep(8));\n}\n\nprivate Mono&lt;Boolean&gt; isHealthy(Student std, Sleep sleep) {\n    return Mono.just(true);\n}\n\nprivate Mono&lt;Boolean&gt; isWealthy(Student std, Sleep sleep) {\n    return Mono.just(true);\n}\n\nprivate Mono&lt;Boolean&gt; isWise(Student std, Sleep sleep) {\n    return Mono.just(true);\n}\n</code></pre>\n<p>This way, getSleep is only called once, and is used to flat map the emitted value into the three booleans you're looking for. The <code>Flux::all</code> method then ensures that the returned Mono will wrap true only if all three inners have emitted true.</p>\n<p>Another thing to note is that I've replaced <code>Flux::concat</code> with <code>Flux::merge</code>. The former goes sequentially, subscribing, waiting for result, then repeat. These three publishers seem to be independent of one another, so replacing concat with merge allows all three to be subscribed to at the same time, thereby reducing time wasted with waiting.</p>\n"}],"owner":{"account_id":26467716,"reputation":27,"user_id":20108700,"display_name":"Mohammed Idris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74134661,"answer_count":1,"score":1,"last_activity_date":1666243576,"creation_date":1666092917,"question_id":74110297,"body_markdown":"I have a `Flux.concat()` operation which takes 3 checks like this: \r\n```\r\n\r\npublic Mono&lt;Boolean&gt; checkSleep(Student std) \r\n{\r\n\r\nFlux.concat(isHealthy(std), isWealthy(std, sleep), isWise(std, sleep))\r\n\r\n.filter(result -&gt; !result)\r\n            .next()\r\n            .flatMap(result -&gt; Mono.just(false)) //returns false if any one is false\r\n            .switchIfEmpty(Mono.just(true)); // returns true if all are true\r\n\r\n}\r\n\r\n```\r\neach of this methods has a common **external api call** `extService.getSleep(Student std)` to get **Sleep Object** `Mono&lt;Sleep&gt;` for its flow. \r\n\r\nI want to call `extService.getSleep(Student std)` only once in the entire flow,\r\n\r\nideally in the first check `isHealthy(std)` and pass the object `Mono&lt;Sleep&gt;` to the next 2 checks as well. \r\n\r\nI am not understanding how to make this call as `Flux.concat` does not allow a `Mono` to be added in the prefix. \r\n\r\nEach of the checks have similar body like this: \r\n```\r\nMono&lt;Boolean&gt; isHealthy(Student std) \r\n  {\r\n    \r\n    return Mono.just(std)\r\n                 .flatMap(std-&gt;extService.getSleep(std)).map(sleep-&gt; sleep.isValid()); \r\n  }\r\n``` \r\n\r\nin the next check I want to pass `sleep` object from previous method, \r\n\r\n `isWealthy(Student std, Sleep sleep)` \r\nI do not want to call `extService.getSleep(std))` once again,\r\n\r\nI thought of creating a variable outside these 3 methods and update it when the api returns a something,\r\n\r\nit throws error saying `&quot;Variable used in lambda expression should be final or effectively final&quot;`\r\n\r\nLet me know if there is a better way to handle this scenario. \r\n\r\nI am new to reactive spring programming, any help is appreciated. \r\n\r\n\r\nthanks in advance. ","title":"Send/Update reactor Mono Object to different attributes of a Flux.concat()","body":"<p>I have a <code>Flux.concat()</code> operation which takes 3 checks like this:</p>\n<pre><code>\npublic Mono&lt;Boolean&gt; checkSleep(Student std) \n{\n\nFlux.concat(isHealthy(std), isWealthy(std, sleep), isWise(std, sleep))\n\n.filter(result -&gt; !result)\n            .next()\n            .flatMap(result -&gt; Mono.just(false)) //returns false if any one is false\n            .switchIfEmpty(Mono.just(true)); // returns true if all are true\n\n}\n\n</code></pre>\n<p>each of this methods has a common <strong>external api call</strong> <code>extService.getSleep(Student std)</code> to get <strong>Sleep Object</strong> <code>Mono&lt;Sleep&gt;</code> for its flow.</p>\n<p>I want to call <code>extService.getSleep(Student std)</code> only once in the entire flow,</p>\n<p>ideally in the first check <code>isHealthy(std)</code> and pass the object <code>Mono&lt;Sleep&gt;</code> to the next 2 checks as well.</p>\n<p>I am not understanding how to make this call as <code>Flux.concat</code> does not allow a <code>Mono</code> to be added in the prefix.</p>\n<p>Each of the checks have similar body like this:</p>\n<pre><code>Mono&lt;Boolean&gt; isHealthy(Student std) \n  {\n    \n    return Mono.just(std)\n                 .flatMap(std-&gt;extService.getSleep(std)).map(sleep-&gt; sleep.isValid()); \n  }\n</code></pre>\n<p>in the next check I want to pass <code>sleep</code> object from previous method,</p>\n<p><code>isWealthy(Student std, Sleep sleep)</code>\nI do not want to call <code>extService.getSleep(std))</code> once again,</p>\n<p>I thought of creating a variable outside these 3 methods and update it when the api returns a something,</p>\n<p>it throws error saying <code>&quot;Variable used in lambda expression should be final or effectively final&quot;</code></p>\n<p>Let me know if there is a better way to handle this scenario.</p>\n<p>I am new to reactive spring programming, any help is appreciated.</p>\n<p>thanks in advance.</p>\n"},{"tags":["java","multithreading","locking"],"answers":[{"comments":[{"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"score":0,"creation_date":1665872857,"post_id":74083400,"comment_id":130801733,"body_markdown":"I&#39;m not sure I understand how a thread can request the lock multiple times while it is spinning on the previous thread releasing the lock. Following this argument, shouldn&#39;t we conclude that the Anderson lock is actually *erroneous*, because a single thread can just make *N* requests and deadlock waiting for itself? Or perhaps you are suggesting a scenario in which the first few threads enter and leave the critical region repeatedly, while the last few threads simply get scheduled less often for whatever reason (for example, when `NUM_THREADS` exceeds the number of cores)?","body":"I&#39;m not sure I understand how a thread can request the lock multiple times while it is spinning on the previous thread releasing the lock. Following this argument, shouldn&#39;t we conclude that the Anderson lock is actually <i>erroneous</i>, because a single thread can just make <i>N</i> requests and deadlock waiting for itself? Or perhaps you are suggesting a scenario in which the first few threads enter and leave the critical region repeatedly, while the last few threads simply get scheduled less often for whatever reason (for example, when <code>NUM_THREADS</code> exceeds the number of cores)?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":1,"creation_date":1665878961,"post_id":74083400,"comment_id":130802378,"body_markdown":"@aas, one thread *cannot* make multiple lock requests while it is waiting on another to release the lock.  What it can do, and what I suggest some *did* do, is make multiple lock requests and lock releases *before* others made any lock requests at all.","body":"@aas, one thread <i>cannot</i> make multiple lock requests while it is waiting on another to release the lock.  What it can do, and what I suggest some <i>did</i> do, is make multiple lock requests and lock releases <i>before</i> others made any lock requests at all."}],"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1665872261,"creation_date":1665872261,"answer_id":74083400,"question_id":74083142,"body_markdown":"The Anderson lock implements a FIFO policy -- threads acquire the lock in the order in which they make requests to do so (provided that the lock&#39;s capacity is not exceeded).  Therefore, if you observe in your test that some threads acquire the lock many more times than others do then that is not because the Anderson lock is not fair, but rather because lock requests were unevenly distributed.\r\n\r\nAs a spinlock, the Anderson lock will be very fast to acquire when uncontested or only lightly contested.  Your test threads do very little work while holding the lock.  It is entirely possible, then, that the first threads out of the gate run up a large number of iterations very quickly before the full set of threads enter the queue for the lock and slow everyone down.\r\n\r\nBottom line: the Anderson lock appears to be fair, but fairness is relative to the threads actually in contention for the lock at any given time, and that is not necessarily even.\r\n\r\nThat `ReentrantLock` does not show the same distribution of test thread iterations shows that it is implemented differently, which you already knew, but does not mean that it is any more fair than the Anderson lock.","title":"Why is the Anderson queue lock not fair?","body":"<p>The Anderson lock implements a FIFO policy -- threads acquire the lock in the order in which they make requests to do so (provided that the lock's capacity is not exceeded).  Therefore, if you observe in your test that some threads acquire the lock many more times than others do then that is not because the Anderson lock is not fair, but rather because lock requests were unevenly distributed.</p>\n<p>As a spinlock, the Anderson lock will be very fast to acquire when uncontested or only lightly contested.  Your test threads do very little work while holding the lock.  It is entirely possible, then, that the first threads out of the gate run up a large number of iterations very quickly before the full set of threads enter the queue for the lock and slow everyone down.</p>\n<p>Bottom line: the Anderson lock appears to be fair, but fairness is relative to the threads actually in contention for the lock at any given time, and that is not necessarily even.</p>\n<p>That <code>ReentrantLock</code> does not show the same distribution of test thread iterations shows that it is implemented differently, which you already knew, but does not mean that it is any more fair than the Anderson lock.</p>\n"},{"tags":[],"owner":{"account_id":26677941,"reputation":11,"user_id":20288317,"display_name":"user20288317"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666242092,"creation_date":1666242092,"answer_id":74134658,"question_id":74083142,"body_markdown":"In addition to [the accepted answer](https://stackoverflow.com/a/74083400), the observed unfairness of `ALock` can be caused by the fact that waiting for a lock is implemented as busy waiting.\r\n\r\nHere is how `ALock.lock()` implements waiting for a lock:\r\n```java\r\nwhile (!flag[slot]) {};\r\n```\r\nThe thread keeps running and therefore it keeps the cpu core busy and doesn&#39;t let other threads to run on the cpu core.\r\n\r\n\r\nIn contrast `ReentrantLock` implements this with `LockSupport.park(this)`:  \r\n[`ReentrantLock.lock()`](https://github.com/openjdk/jdk17/blob/jdk-17%2B35/src/java.base/share/classes/java/util/concurrent/locks/ReentrantLock.java#L321)  \r\n` Sync.lock()`  \r\n`  AbstractQueuedSynchronizer.acquire(1)`  \r\n`   AbstractQueuedSynchronizer.acquire(null, 1, false, false, false, 0L)`  \r\n`     `[`LockSupport.park(this)`](https://github.com/openjdk/jdk17/blob/jdk-17%2B35/src/java.base/share/classes/java/util/concurrent/locks/AbstractQueuedSynchronizer.java#L715)\r\n\r\n[`LockSupport.park(this)`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/LockSupport.html#park(java.lang.Object)) pauses the current thread and allows other threads to run on this cpu core.\r\n\r\n\r\nIn the test there were 10 cpu cores per 16+ threads (there are additional threads for JVM and OS), so threads had to compete for cpu cores.  \r\n`ALock.lock()` doesn&#39;t give up the cpu core while it is waiting for a lock, as a result, at least 6 threads at any time were idle and did not compete for the lock.  \r\n`ALock` should be fair when `N(threads) &lt; N(cores)`.","title":"Why is the Anderson queue lock not fair?","body":"<p>In addition to <a href=\"https://stackoverflow.com/a/74083400\">the accepted answer</a>, the observed unfairness of <code>ALock</code> can be caused by the fact that waiting for a lock is implemented as busy waiting.</p>\n<p>Here is how <code>ALock.lock()</code> implements waiting for a lock:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (!flag[slot]) {};\n</code></pre>\n<p>The thread keeps running and therefore it keeps the cpu core busy and doesn't let other threads to run on the cpu core.</p>\n<p>In contrast <code>ReentrantLock</code> implements this with <code>LockSupport.park(this)</code>:<br />\n<a href=\"https://github.com/openjdk/jdk17/blob/jdk-17%2B35/src/java.base/share/classes/java/util/concurrent/locks/ReentrantLock.java#L321\" rel=\"nofollow noreferrer\"><code>ReentrantLock.lock()</code></a><br />\n<code> Sync.lock()</code><br />\n<code>  AbstractQueuedSynchronizer.acquire(1)</code><br />\n<code>   AbstractQueuedSynchronizer.acquire(null, 1, false, false, false, 0L)</code><br />\n<code>     </code><a href=\"https://github.com/openjdk/jdk17/blob/jdk-17%2B35/src/java.base/share/classes/java/util/concurrent/locks/AbstractQueuedSynchronizer.java#L715\" rel=\"nofollow noreferrer\"><code>LockSupport.park(this)</code></a></p>\n<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/LockSupport.html#park(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>LockSupport.park(this)</code></a> pauses the current thread and allows other threads to run on this cpu core.</p>\n<p>In the test there were 10 cpu cores per 16+ threads (there are additional threads for JVM and OS), so threads had to compete for cpu cores.<br />\n<code>ALock.lock()</code> doesn't give up the cpu core while it is waiting for a lock, as a result, at least 6 threads at any time were idle and did not compete for the lock.<br />\n<code>ALock</code> should be fair when <code>N(threads) &lt; N(cores)</code>.</p>\n"}],"owner":{"account_id":7830368,"reputation":187,"user_id":5920656,"display_name":"aas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74083400,"answer_count":2,"score":0,"last_activity_date":1666242092,"creation_date":1665869063,"question_id":74083142,"body_markdown":"Anderson et al. (1990) describes a pedagogically simple spin lock that uses an array of length *N* to implement a FIFO mechanism for mutual exclusion. In &#167;7.5.1 of *The Art of Multiprocessor Programming* by Herlihy et al. (2nd ed., 2020), this lock is implemented as follows (verbatim from the book):\r\n```java\r\npublic class ALock {\r\n    ThreadLocal&lt;Integer&gt; mySlotIndex = new ThreadLocal&lt;&gt;() {\r\n        @Override protected Integer initialValue() { return 0; }\r\n    };\r\n    AtomicInteger tail;\r\n    volatile boolean[] flag;\r\n    int size;\r\n\r\n    public ALock(int capacity) {\r\n        size = capacity;\r\n        tail = new AtomicInteger(0);\r\n        flag = new boolean[capacity];\r\n        flag[0] = true;\r\n    }\r\n\r\n    public void lock() {\r\n        int slot = tail.getAndIncrement() % size;\r\n        mySlotIndex.set(slot);\r\n        while (!flag[slot]) {};\r\n    }\r\n\r\n    public void unlock() {\r\n        int slot = mySlotIndex.get();\r\n        flag[slot] = false;\r\n        flag[(slot + 1) % size] = true;\r\n    }\r\n}\r\n```\r\nI have a simple test program in Java that creates *N* threads that acquire the lock to increment a global counter and a per-thread counter. At the end of the test, I compare the global counter to the sum of the per-thread counters (to check correctness). Further, if the lock is fair, the per-thread counters should be more or less equal.\r\n```java\r\npublic class Main {\r\n    static long COUNT = 0;\r\n    static int NUM_THREADS = 16;\r\n//    static Lock LOCK = new ReentrantLock(true);\r\n    static ALock LOCK = new ALock(NUM_THREADS);\r\n    static long[] RUNS_PER_THREAD = new long[NUM_THREADS];\r\n    static Map&lt;Long, Integer&gt; THREAD_IDS = new HashMap&lt;&gt;();\r\n\r\n    public static void main(String[] args) {\r\n        var threads = IntStream.range(0, NUM_THREADS).mapToObj(Main::makeWorker).toArray(Thread[]::new);\r\n        for (int i = 0; i &lt; threads.length; i++) THREAD_IDS.put(threads[i].getId(), i);\r\n        for (var thread: threads) thread.start();\r\n        try { Thread.sleep(300L); } catch (InterruptedException e) {}\r\n        for (var thread: threads) thread.interrupt();\r\n        try { Thread.sleep(100L); } catch (InterruptedException e) {}\r\n        for (int i = 0; i &lt; NUM_THREADS; i++) System.out.printf(&quot;Thread %d:\\t%12d%n&quot;, i, RUNS_PER_THREAD[i]);\r\n        System.out.println(&quot;Counted up to: \\t\\t\\t&quot; + COUNT);\r\n        System.out.println(&quot;Sum for all threads: \\t&quot; + Arrays.stream(RUNS_PER_THREAD).sum());\r\n    }\r\n\r\n    private static Thread makeWorker(int i) {\r\n        return new Thread(() -&gt; {\r\n            while (true) {\r\n                if (Thread.interrupted()) return;\r\n                LOCK.lock();\r\n                try {\r\n                    COUNT++;\r\n                    var id = THREAD_IDS.get(Thread.currentThread().getId());\r\n                    RUNS_PER_THREAD[id]++;\r\n                } finally {\r\n                    LOCK.unlock();\r\n                }}});\r\n    }\r\n}\r\n```\r\nIf I use the test with a fair `ReentrantLock` (commented-out line), the lock appears to be both correct and fair. If I use the Anderson queue lock as described in Herlihy, the lock appears to be correct, but the first few threads appear to acquire the lock an order of magnitude more often than the last few threads. How is this possible, given the lock&#39;s implementation?\r\n\r\nEquipment: MBP with M1 Max (10 cores) with Java 17.","title":"Why is the Anderson queue lock not fair?","body":"<p>Anderson et al. (1990) describes a pedagogically simple spin lock that uses an array of length <em>N</em> to implement a FIFO mechanism for mutual exclusion. In 7.5.1 of <em>The Art of Multiprocessor Programming</em> by Herlihy et al. (2nd ed., 2020), this lock is implemented as follows (verbatim from the book):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ALock {\n    ThreadLocal&lt;Integer&gt; mySlotIndex = new ThreadLocal&lt;&gt;() {\n        @Override protected Integer initialValue() { return 0; }\n    };\n    AtomicInteger tail;\n    volatile boolean[] flag;\n    int size;\n\n    public ALock(int capacity) {\n        size = capacity;\n        tail = new AtomicInteger(0);\n        flag = new boolean[capacity];\n        flag[0] = true;\n    }\n\n    public void lock() {\n        int slot = tail.getAndIncrement() % size;\n        mySlotIndex.set(slot);\n        while (!flag[slot]) {};\n    }\n\n    public void unlock() {\n        int slot = mySlotIndex.get();\n        flag[slot] = false;\n        flag[(slot + 1) % size] = true;\n    }\n}\n</code></pre>\n<p>I have a simple test program in Java that creates <em>N</em> threads that acquire the lock to increment a global counter and a per-thread counter. At the end of the test, I compare the global counter to the sum of the per-thread counters (to check correctness). Further, if the lock is fair, the per-thread counters should be more or less equal.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    static long COUNT = 0;\n    static int NUM_THREADS = 16;\n//    static Lock LOCK = new ReentrantLock(true);\n    static ALock LOCK = new ALock(NUM_THREADS);\n    static long[] RUNS_PER_THREAD = new long[NUM_THREADS];\n    static Map&lt;Long, Integer&gt; THREAD_IDS = new HashMap&lt;&gt;();\n\n    public static void main(String[] args) {\n        var threads = IntStream.range(0, NUM_THREADS).mapToObj(Main::makeWorker).toArray(Thread[]::new);\n        for (int i = 0; i &lt; threads.length; i++) THREAD_IDS.put(threads[i].getId(), i);\n        for (var thread: threads) thread.start();\n        try { Thread.sleep(300L); } catch (InterruptedException e) {}\n        for (var thread: threads) thread.interrupt();\n        try { Thread.sleep(100L); } catch (InterruptedException e) {}\n        for (int i = 0; i &lt; NUM_THREADS; i++) System.out.printf(&quot;Thread %d:\\t%12d%n&quot;, i, RUNS_PER_THREAD[i]);\n        System.out.println(&quot;Counted up to: \\t\\t\\t&quot; + COUNT);\n        System.out.println(&quot;Sum for all threads: \\t&quot; + Arrays.stream(RUNS_PER_THREAD).sum());\n    }\n\n    private static Thread makeWorker(int i) {\n        return new Thread(() -&gt; {\n            while (true) {\n                if (Thread.interrupted()) return;\n                LOCK.lock();\n                try {\n                    COUNT++;\n                    var id = THREAD_IDS.get(Thread.currentThread().getId());\n                    RUNS_PER_THREAD[id]++;\n                } finally {\n                    LOCK.unlock();\n                }}});\n    }\n}\n</code></pre>\n<p>If I use the test with a fair <code>ReentrantLock</code> (commented-out line), the lock appears to be both correct and fair. If I use the Anderson queue lock as described in Herlihy, the lock appears to be correct, but the first few threads appear to acquire the lock an order of magnitude more often than the last few threads. How is this possible, given the lock's implementation?</p>\n<p>Equipment: MBP with M1 Max (10 cores) with Java 17.</p>\n"},{"tags":["java","stringbuilder"],"comments":[{"owner":{"account_id":285484,"reputation":51464,"user_id":584183,"display_name":"jmcilhinney"},"score":0,"creation_date":1666227513,"post_id":74133267,"comment_id":130888357,"body_markdown":"Don&#39;t try to trick people into viewing your question by applying irrelevant language tags.","body":"Don&#39;t try to trick people into viewing your question by applying irrelevant language tags."}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1666230651,"post_id":74133305,"comment_id":130888768,"body_markdown":"The use of `StringBuffer` is a code smell. Prefer stateless threadsafe code and using StringBuilder.","body":"The use of <code>StringBuffer</code> is a code smell. Prefer stateless threadsafe code and using StringBuilder."}],"tags":[],"owner":{"account_id":71085,"reputation":105200,"user_id":205608,"accept_rate":69,"display_name":"O. Jones"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1666226610,"creation_date":1666226610,"answer_id":74133305,"question_id":74133267,"body_markdown":"Yup. O(n). That&#39;s why it&#39;s in the library. The same is true for C#.\r\n\r\nStrings, in both languages, are immutable. So building reports and other text documents with successive string concatenation is O(n squared). \r\n\r\nThe developers for the StringBuilder class in both languages have invested a lot of brain power and testing time in making it really fast. The same is true for the other core collection classes of course.\r\n\r\nIf you can refactor some successive concatenation code with StringBuilder code, you will become revered as a performance optimization wizard.\r\n\r\nBeware StringBuffer. It has similar semantics but it happens to be thread safe, which slows it down a lot.","title":"Time complexity for creating a string with stringbuilder object in Java","body":"<p>Yup. O(n). That's why it's in the library. The same is true for C#.</p>\n<p>Strings, in both languages, are immutable. So building reports and other text documents with successive string concatenation is O(n squared).</p>\n<p>The developers for the StringBuilder class in both languages have invested a lot of brain power and testing time in making it really fast. The same is true for the other core collection classes of course.</p>\n<p>If you can refactor some successive concatenation code with StringBuilder code, you will become revered as a performance optimization wizard.</p>\n<p>Beware StringBuffer. It has similar semantics but it happens to be thread safe, which slows it down a lot.</p>\n"}],"owner":{"account_id":18025676,"reputation":39,"user_id":13101717,"display_name":"sjx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":74133305,"answer_count":1,"score":2,"last_activity_date":1666241622,"creation_date":1666226142,"question_id":74133267,"body_markdown":"If I have a StringBuilder object sb, what&#39;s the time complexity when I try to create a new string with the code new String(sb)? See below for an example. Should it be O(n) since it creates a string with a deep copy of the original sb? Thanks.\r\n\r\n```\r\nStringBuilder sb = new StringBuilder();\r\nsb.append(&#39;a&#39;);\r\nsb.append(&#39;b&#39;);\r\nString c = new String(sb);\r\n```","title":"Time complexity for creating a string with stringbuilder object in Java","body":"<p>If I have a StringBuilder object sb, what's the time complexity when I try to create a new string with the code new String(sb)? See below for an example. Should it be O(n) since it creates a string with a deep copy of the original sb? Thanks.</p>\n<pre><code>StringBuilder sb = new StringBuilder();\nsb.append('a');\nsb.append('b');\nString c = new String(sb);\n</code></pre>\n"},{"tags":["java","jpa","spring-data-jpa","sql-timestamp"],"answers":[{"comments":[{"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"score":0,"creation_date":1666155910,"post_id":74120000,"comment_id":130865705,"body_markdown":"```\n  CREATE TABLE &quot;MASTERDATA&quot;.&quot;JOB_STATUS&quot; \n   (\t&quot;ID&quot; NUMBER(*,0) NOT NULL ENABLE, \n\t&quot;STARTDATE&quot; TIMESTAMP (6) NOT NULL ENABLE, \n\t&quot;ENDDATE&quot; TIMESTAMP (6), \n\t&quot;STATUS&quot; VARCHAR2(20 CHAR) NOT NULL ENABLE, \n\t&quot;REMARKS&quot; VARCHAR2(255 CHAR), \n\t&quot;JOBID&quot; NUMBER(*,0) NOT NULL ENABLE\n   )\n```\nThis is table script.","body":"```   CREATE TABLE &quot;MASTERDATA&quot;.&quot;JOB_STATUS&quot;     (\t&quot;ID&quot; NUMBER(<i>,0) NOT NULL ENABLE,  \t&quot;STARTDATE&quot; TIMESTAMP (6) NOT NULL ENABLE,  \t&quot;ENDDATE&quot; TIMESTAMP (6),  \t&quot;STATUS&quot; VARCHAR2(20 CHAR) NOT NULL ENABLE,  \t&quot;REMARKS&quot; VARCHAR2(255 CHAR),  \t&quot;JOBID&quot; NUMBER(</i>,0) NOT NULL ENABLE    ) ``` This is table script."},{"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"score":1,"creation_date":1666159574,"post_id":74120000,"comment_id":130866436,"body_markdown":"Your configuration seems ok! TIMESTAMP(6) is the default. You can try to check the Oracle timezone config, even these datatype doesn&#39;t work with it.\nBut I really recommend you try to use &#39;java.time.LocalDateTime&#39; instead of &#39;java.sql.Timestamp&#39;.\n&#39;java.sql.Timestamp&#39; is a &quot;thin wrapper around &#39;java.util.Date&#39; that allows the JDBC API to identify this as an SQL TIMESTAMP value&quot;\n\nIf you don&#39;t wanna handle timezone, use LocalDateTime datatype.","body":"Your configuration seems ok! TIMESTAMP(6) is the default. You can try to check the Oracle timezone config, even these datatype doesn&#39;t work with it. But I really recommend you try to use &#39;java.time.LocalDateTime&#39; instead of &#39;java.sql.Timestamp&#39;. &#39;java.sql.Timestamp&#39; is a &quot;thin wrapper around &#39;java.util.Date&#39; that allows the JDBC API to identify this as an SQL TIMESTAMP value&quot;  If you don&#39;t wanna handle timezone, use LocalDateTime datatype."},{"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"score":1,"creation_date":1666160868,"post_id":74120000,"comment_id":130866764,"body_markdown":"LocalDateTime worked now.\n@Column(name = &quot;STARTDATE&quot;)\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy.MM.dd HH:mm:ss&quot;)\n\tprivate LocalDateTime startDate;\n\n------\n\n\tDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\t\tLocalDateTime timestamp = LocalDateTime.parse(fromDate, format);\n\n\t\tList&lt;JobName&gt; list = repository.findJobNameBylastTime(timestamp);","body":"LocalDateTime worked now. @Column(name = &quot;STARTDATE&quot;) \t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy.MM.dd HH:mm:ss&quot;) \tprivate LocalDateTime startDate;  ------  \tDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;); \t\tLocalDateTime timestamp = LocalDateTime.parse(fromDate, format);  \t\tList&lt;JobName&gt; list = repository.findJobNameBylastTime(timestamp);"},{"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"score":1,"creation_date":1666161402,"post_id":74120000,"comment_id":130866902,"body_markdown":"Good to know @GaganNoorSingh. \n`java.sql.Timestamp` reflects UTC its methods to apply conversions. This causes no end of confusion. From the SQL perspective, it makes no sense to convert a SQL TIMESTAMP value to some other time zone as a TIMESTAMP has no time zone to convert from.\n`java.time.LocalDateTime` is also a bare date time. It does not have a time zone, exactly like SQL TIMESTAMP. None of its methods apply any kind of time zone conversion which makes its behavior much easier to predict and understand.","body":"Good to know @GaganNoorSingh.  <code>java.sql.Timestamp</code> reflects UTC its methods to apply conversions. This causes no end of confusion. From the SQL perspective, it makes no sense to convert a SQL TIMESTAMP value to some other time zone as a TIMESTAMP has no time zone to convert from. <code>java.time.LocalDateTime</code> is also a bare date time. It does not have a time zone, exactly like SQL TIMESTAMP. None of its methods apply any kind of time zone conversion which makes its behavior much easier to predict and understand."},{"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"score":0,"creation_date":1666161459,"post_id":74120000,"comment_id":130866914,"body_markdown":"Thanks for your timely response :) Appreciate it !!","body":"Thanks for your timely response :) Appreciate it !!"}],"tags":[],"owner":{"account_id":23288659,"reputation":56,"user_id":17371071,"display_name":"Fabricio Entringer Moreira"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666154893,"creation_date":1666154893,"answer_id":74120000,"question_id":74119723,"body_markdown":"It looks like a timezone issue.\r\nPlease share your JPA mapping and the &quot;create table&quot; script.\r\nThe Java Timezone datatype doesn&#39;t accept timezone, probably in your database, the value is stored with timezone.\r\n\r\nSome examples of datatype in Oracle BD:\r\n\r\n 1. **TIMESTAMP**: Does not store any timezone information. If you enter a\r\n   timestamp with a time zone then the time zone information is simply\r\n   truncated and lost.\r\n   \r\n 2. **TIMESTAMP WITH TIME ZONE**: Stores the timestamp with the time zone\r\n   information (i.e. either as named region or as UTC-Offset) as you\r\n   insert the timestamp into the database.\r\n   \r\n   \r\n 3. **TIMESTAMP WITH LOCAL TIME ZONE**: Timestamp is stored as DBTIMEZONE\r\n   (recommended and usually UTC). The timestamp is always and only\r\n   displayed in the current user session SESSIONTIMEZONE. Thus it does\r\n   not show any time zone information, because by definition this is\r\n   always your local time zone.\r\n\r\nwith more information about your mapping and table, we can help you better.","title":"Timestamp Time is changed after fetching the record","body":"<p>It looks like a timezone issue.\nPlease share your JPA mapping and the &quot;create table&quot; script.\nThe Java Timezone datatype doesn't accept timezone, probably in your database, the value is stored with timezone.</p>\n<p>Some examples of datatype in Oracle BD:</p>\n<ol>\n<li><p><strong>TIMESTAMP</strong>: Does not store any timezone information. If you enter a\ntimestamp with a time zone then the time zone information is simply\ntruncated and lost.</p>\n</li>\n<li><p><strong>TIMESTAMP WITH TIME ZONE</strong>: Stores the timestamp with the time zone\ninformation (i.e. either as named region or as UTC-Offset) as you\ninsert the timestamp into the database.</p>\n</li>\n<li><p><strong>TIMESTAMP WITH LOCAL TIME ZONE</strong>: Timestamp is stored as DBTIMEZONE\n(recommended and usually UTC). The timestamp is always and only\ndisplayed in the current user session SESSIONTIMEZONE. Thus it does\nnot show any time zone information, because by definition this is\nalways your local time zone.</p>\n</li>\n</ol>\n<p>with more information about your mapping and table, we can help you better.</p>\n"},{"tags":[],"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666241305,"creation_date":1666241305,"answer_id":74134574,"question_id":74119723,"body_markdown":"LocalDateTime worked now. \r\n```\r\n@Column(name = &quot;STARTDATE&quot;) \r\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy.MM.dd HH:mm:ss&quot;) \r\nprivate LocalDateTime startDate; \r\n```\r\n\r\n------\r\n```\r\nDateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;); \r\nLocalDateTime timestamp = LocalDateTime.parse(fromDate, format); \r\nList&lt;JobName&gt; list = repository.findJobNameBylastTime(timestamp); \r\n```","title":"Timestamp Time is changed after fetching the record","body":"<p>LocalDateTime worked now.</p>\n<pre><code>@Column(name = &quot;STARTDATE&quot;) \n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy.MM.dd HH:mm:ss&quot;) \nprivate LocalDateTime startDate; \n</code></pre>\n<hr />\n<pre><code>DateTimeFormatter format = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;); \nLocalDateTime timestamp = LocalDateTime.parse(fromDate, format); \nList&lt;JobName&gt; list = repository.findJobNameBylastTime(timestamp); \n</code></pre>\n"}],"owner":{"account_id":15599805,"reputation":31,"user_id":11254238,"display_name":"Gagan Noor Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74134574,"answer_count":2,"score":0,"last_activity_date":1666241305,"creation_date":1666152110,"question_id":74119723,"body_markdown":"I am facing issue while fetching record, The timestamp value is changed after fetching from DB.\r\n\r\nIn my Oracle DB the column value is *&quot;19-OCT-22 02.15.00.000000000 AM&quot;* but after fetching it comes as *&quot;2022.10.19 00:15:00&quot;*\r\n\r\n```\r\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy.MM.dd HH:mm:ss&quot;)\r\n\tprivate Timestamp startDate; \r\n```\r\n\r\nI am using JPA repository with springboot to fetch the records.\r\n","title":"Timestamp Time is changed after fetching the record","body":"<p>I am facing issue while fetching record, The timestamp value is changed after fetching from DB.</p>\n<p>In my Oracle DB the column value is <em>&quot;19-OCT-22 02.15.00.000000000 AM&quot;</em> but after fetching it comes as <em>&quot;2022.10.19 00:15:00&quot;</em></p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy.MM.dd HH:mm:ss&quot;)\n    private Timestamp startDate; \n</code></pre>\n<p>I am using JPA repository with springboot to fetch the records.</p>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":3942245,"reputation":2183,"user_id":3256139,"accept_rate":75,"display_name":"cosmos"},"score":2,"creation_date":1551907234,"post_id":55032293,"comment_id":96817209,"body_markdown":"What&#39;s your JSON request? Do you have constructors in SampleRequest ? If yes, you need to have default constructor as well.","body":"What&#39;s your JSON request? Do you have constructors in SampleRequest ? If yes, you need to have default constructor as well."},{"owner":{"account_id":2033926,"reputation":1253,"user_id":1816785,"accept_rate":61,"display_name":"Slippy"},"score":0,"creation_date":1551907542,"post_id":55032293,"comment_id":96817323,"body_markdown":"@cosmos - Bah, I knew I was going to forget to provide something!! I just edited the question with the json I send up :)","body":"@cosmos - Bah, I knew I was going to forget to provide something!! I just edited the question with the json I send up :)"},{"owner":{"account_id":2877911,"reputation":1140,"user_id":2469425,"accept_rate":56,"display_name":"Valentin Gr&#233;goire"},"score":1,"creation_date":1560934448,"post_id":55032293,"comment_id":99895870,"body_markdown":"Adding the default contstructor did it for me!","body":"Adding the default contstructor did it for me!"}],"answers":[{"comments":[{"owner":{"account_id":2033926,"reputation":1253,"user_id":1816785,"accept_rate":61,"display_name":"Slippy"},"score":2,"creation_date":1551907896,"post_id":55032325,"comment_id":96817475,"body_markdown":"Ah, so that fixed my main error - but for somme reason I seem to be seeing null values for the fields when I am printing them to screen... Any idea what might be causing that? I&#39;m also happen to open a new question for that if we don&#39;t want to derail this one!","body":"Ah, so that fixed my main error - but for somme reason I seem to be seeing null values for the fields when I am printing them to screen... Any idea what might be causing that? I&#39;m also happen to open a new question for that if we don&#39;t want to derail this one!"},{"owner":{"account_id":4820684,"reputation":382,"user_id":3891452,"display_name":"dextermini"},"score":0,"creation_date":1569512311,"post_id":55032325,"comment_id":102629388,"body_markdown":"@slippy see my post","body":"@slippy see my post"}],"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1551907228,"creation_date":1551907228,"answer_id":55032325,"question_id":55032293,"body_markdown":"You need a constructor with all parameters:\r\n\r\n    public SampleRequest(String fromDate, String toDate) {\r\n\r\n        this.fromDate = fromDate;\r\n        this.toDate = toDate;\r\n\r\n    }\r\n\r\nOr using `@AllArgsConstructor` or `@Data` from lombok.","title":"Cannot construct instance of `class name` (although at least on Creator exists)","body":"<p>You need a constructor with all parameters:</p>\n\n<pre><code>public SampleRequest(String fromDate, String toDate) {\n\n    this.fromDate = fromDate;\n    this.toDate = toDate;\n\n}\n</code></pre>\n\n<p>Or using <code>@AllArgsConstructor</code> or <code>@Data</code> from lombok.</p>\n"},{"tags":[],"owner":{"account_id":4820684,"reputation":382,"user_id":3891452,"display_name":"dextermini"},"comment_count":0,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1569512272,"creation_date":1569512272,"answer_id":58120313,"question_id":55032293,"body_markdown":"Hi you need to write custom deserializer as it not able to parse String (fromDate and toDate) to Date\r\n\r\n&gt; {\r\n    &quot;fromDate&quot;:&quot;2019-03-09&quot;,\r\n    &quot;toDate&quot;:&quot;2019-03-10&quot;\r\n}\r\n\r\nthis link has a tutorial to get started with custom deserializer https://www.baeldung.com/jackson-deserialization \r\n\r\nDeserializer could be written like this.\r\n\r\n\r\n    \r\n    public class CustomDateDeserializer extends StdDeserializer&lt;Date&gt; {\r\n\r\n    private static SimpleDateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n\r\n    public CustomDateDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    public CustomDateDeserializer(Class&lt;?&gt; vc) {\r\n        super(vc);\r\n    }\r\n\r\n    @Override\r\n    public Date deserialize(JsonParser jsonparser, DeserializationContext context) throws IOException {\r\n        String date = jsonparser.getText();\r\n        try {\r\n            return formatter.parse(date);\r\n        } catch (ParseException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }}\r\n\r\nYou can register the deserializer at Class itself like this. \r\n\r\n    @JsonDeserialize(using = ItemDeserializer.class)\r\n    public class Item {  ...}\r\n\r\n\r\nOr either you can register custom deserializer manually like this\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addDeserializer(Item.class, new ItemDeserializer());\r\n    mapper.registerModule(module);\r\n\r\n","title":"Cannot construct instance of `class name` (although at least on Creator exists)","body":"<p>Hi you need to write custom deserializer as it not able to parse String (fromDate and toDate) to Date</p>\n\n<blockquote>\n  <p>{\n      \"fromDate\":\"2019-03-09\",\n      \"toDate\":\"2019-03-10\"\n  }</p>\n</blockquote>\n\n<p>this link has a tutorial to get started with custom deserializer <a href=\"https://www.baeldung.com/jackson-deserialization\" rel=\"noreferrer\">https://www.baeldung.com/jackson-deserialization</a> </p>\n\n<p>Deserializer could be written like this.</p>\n\n<pre><code>public class CustomDateDeserializer extends StdDeserializer&lt;Date&gt; {\n\nprivate static SimpleDateFormat formatter = new SimpleDateFormat(\"dd-MM-yyyy HH:mm:ss\");\n\npublic CustomDateDeserializer() {\n    this(null);\n}\n\npublic CustomDateDeserializer(Class&lt;?&gt; vc) {\n    super(vc);\n}\n\n@Override\npublic Date deserialize(JsonParser jsonparser, DeserializationContext context) throws IOException {\n    String date = jsonparser.getText();\n    try {\n        return formatter.parse(date);\n    } catch (ParseException e) {\n        throw new RuntimeException(e);\n    }\n}}\n</code></pre>\n\n<p>You can register the deserializer at Class itself like this. </p>\n\n<pre><code>@JsonDeserialize(using = ItemDeserializer.class)\npublic class Item {  ...}\n</code></pre>\n\n<p>Or either you can register custom deserializer manually like this</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addDeserializer(Item.class, new ItemDeserializer());\nmapper.registerModule(module);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14640622,"reputation":1728,"user_id":10573307,"display_name":"Aayush Bhattacharya"},"comment_count":0,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1666240694,"creation_date":1659787628,"answer_id":73259589,"question_id":55032293,"body_markdown":"In my case i was missing the No Args contructor\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n\r\nfor those who are not using **Lombok** do add no args constructor in the mapping pojo\r\n\r\n    public ClassA() {\r\n    \t\tsuper();\r\n    \t\t// TODO Auto-generated constructor stub\r\n    \t}\r\nalso dont forget to add the Bean of **Restemplate** in main file if you are using the same","title":"Cannot construct instance of `class name` (although at least on Creator exists)","body":"<p>In my case i was missing the No Args contructor</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n</code></pre>\n<p>for those who are not using <strong>Lombok</strong> do add no args constructor in the mapping pojo</p>\n<pre><code>public ClassA() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n</code></pre>\n<p>also dont forget to add the Bean of <strong>Restemplate</strong> in main file if you are using the same</p>\n"}],"owner":{"account_id":2033926,"reputation":1253,"user_id":1816785,"accept_rate":61,"display_name":"Slippy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101279,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":55032325,"answer_count":3,"score":30,"last_activity_date":1666240694,"creation_date":1551907086,"question_id":55032293,"body_markdown":"I have the following class, which I am using as a request payload : \r\n\r\n    public class SampleRequest {\r\n    \r\n        private String fromDate;\r\n        private String toDate;\r\n    \r\n        // Getters and setters removed for brevity.\r\n    }\r\n\r\nI am trying to use it with this resource below (just trying to print it to screen to see things happen) : \r\n\r\n    @PostMapping(&quot;/getBySignatureOne&quot;)\r\n    public ResponseEntity&lt;?&gt; getRequestInfo(@Valid @RequestBody SampleRequest signatureOneRequest) {\r\n    \r\n        System.out.println(signatureOneRequest.getToDate);\r\n        System.out.println(signatureOneRequest.getFromDate);\r\n    }\r\n\r\nThis is the JSON request I send up : \r\n\r\n    {\r\n    \t&quot;fromDate&quot;:&quot;2019-03-09&quot;,\r\n    \t&quot;toDate&quot;:&quot;2019-03-10&quot;\r\n    }\r\n\r\n\r\nThis is the error I get : \r\n\r\n    Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.test.app.payload.SampleRequest` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;fromDate&#39;); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.test.app.payload.SampleRequest` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value (&#39;fromDate&#39;)\r\n     at [Source: (PushbackInputStream); line: 1, column: 2]]\r\n\r\nI&#39;d love to know what&#39;s wrong here, I suspect its an issue with constructors, or that I am missing some annotation somewhere, but I am honestly unsure of where I have gone wrong.\r\n\r\n","title":"Cannot construct instance of `class name` (although at least on Creator exists)","body":"<p>I have the following class, which I am using as a request payload : </p>\n\n<pre><code>public class SampleRequest {\n\n    private String fromDate;\n    private String toDate;\n\n    // Getters and setters removed for brevity.\n}\n</code></pre>\n\n<p>I am trying to use it with this resource below (just trying to print it to screen to see things happen) : </p>\n\n<pre><code>@PostMapping(\"/getBySignatureOne\")\npublic ResponseEntity&lt;?&gt; getRequestInfo(@Valid @RequestBody SampleRequest signatureOneRequest) {\n\n    System.out.println(signatureOneRequest.getToDate);\n    System.out.println(signatureOneRequest.getFromDate);\n}\n</code></pre>\n\n<p>This is the JSON request I send up : </p>\n\n<pre><code>{\n    \"fromDate\":\"2019-03-09\",\n    \"toDate\":\"2019-03-10\"\n}\n</code></pre>\n\n<p>This is the error I get : </p>\n\n<pre><code>Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot construct instance of `com.test.app.payload.SampleRequest` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('fromDate'); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of `com.test.app.payload.SampleRequest` (although at least one Creator exists): no String-argument constructor/factory method to deserialize from String value ('fromDate')\n at [Source: (PushbackInputStream); line: 1, column: 2]]\n</code></pre>\n\n<p>I'd love to know what's wrong here, I suspect its an issue with constructors, or that I am missing some annotation somewhere, but I am honestly unsure of where I have gone wrong.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14207111,"reputation":332,"user_id":10263321,"display_name":"Aleson"},"score":0,"creation_date":1666238949,"post_id":74134321,"comment_id":130889902,"body_markdown":"hello welcome to SO, by the code you provided you need to store QP as an array if you need to store different quality points for each course hence the desired output would be possible","body":"hello welcome to SO, by the code you provided you need to store QP as an array if you need to store different quality points for each course hence the desired output would be possible"},{"owner":{"display_name":"user20287214"},"score":0,"creation_date":1666242511,"post_id":74134321,"comment_id":130890463,"body_markdown":"I missed a couple classes and now I&#39;m kinda behind. Not really sure how to do that, could you maybe provide an example?","body":"I missed a couple classes and now I&#39;m kinda behind. Not really sure how to do that, could you maybe provide an example?"},{"owner":{"display_name":"user20287214"},"score":0,"creation_date":1666242538,"post_id":74134321,"comment_id":130890470,"body_markdown":"I tried googling and watching some youtube videos aswell but that&#39;d didn&#39;t help very much for me","body":"I tried googling and watching some youtube videos aswell but that&#39;d didn&#39;t help very much for me"}],"owner":{"display_name":"user20287214"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666238671,"creation_date":1666238671,"question_id":74134321,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class Grades2\r\n{\r\n  public static void main( String[] args )\r\n  {\r\n    \r\n    int NUMBER_OF_COURSES = 5;\r\n    int totalQualityPoints;\r\n    double GPA; // Grade Point Average\r\n    int QP = 0; // only need to store quality points\r\n    String courseGrade;\r\n    int[] courseNumber ={5};\r\n    \r\n    Scanner in = new Scanner( System.in );\r\n    \r\n    for (int n = 1; n&lt;=5; n++) \r\n    {\r\n      System.out.print( &quot;Enter Class &quot;+n+&quot; grade : &quot; );\r\n      courseGrade = in.next();\r\n      \r\n      if ( courseGrade.equals( &quot;A&quot; ) )\r\n      {\r\n        System.out.println( &quot;Outstanding&quot; );\r\n        QP += 4;\r\n      }\r\n      if ( courseGrade.equals( &quot;B&quot; ) )\r\n      {\r\n        System.out.println( &quot;Above average&quot; );\r\n        QP += 3;\r\n      }\r\n      if ( courseGrade.equals( &quot;C&quot; ) )\r\n      {\r\n        System.out.println( &quot;Average&quot; );\r\n        QP += 2;\r\n      }\r\n      if ( courseGrade.equals( &quot;D&quot; ) )\r\n      {\r\n        System.out.println( &quot;Below average&quot; );\r\n        QP += 1;\r\n      }\r\n      if ( courseGrade.equals( &quot;F&quot; ) )\r\n      {\r\n        System.out.println( &quot;Try again&quot; );\r\n        QP += 0;\r\n      }\r\n    }\r\n    \r\n   \r\n  }\r\n}\r\n```\r\nHow would I output the individual course QPs into a form like this\r\n\r\n    Course 1 : 9 quality points(s) (QP[1])\r\n    Course 2 : 9 quality points(s) (QP[2])\r\n    Course 3 : 9 quality points(s) (QP[3])\r\n    Course 4 : 9 quality points(s) (QP[4])\r\n    Course 5 : 9 quality points(s) (QP[5])\r\n\r\nI think adding something next to the QPs and associate them with something but I&#39;m not sure how to do so. I tried adding something next to it and I&#39;m not sure how so I always end up with int found array needed. Thanks in advance :) \r\n","title":"Printing out individual QPs","body":"<pre><code>import java.util.Scanner;\n\npublic class Grades2\n{\n  public static void main( String[] args )\n  {\n    \n    int NUMBER_OF_COURSES = 5;\n    int totalQualityPoints;\n    double GPA; // Grade Point Average\n    int QP = 0; // only need to store quality points\n    String courseGrade;\n    int[] courseNumber ={5};\n    \n    Scanner in = new Scanner( System.in );\n    \n    for (int n = 1; n&lt;=5; n++) \n    {\n      System.out.print( &quot;Enter Class &quot;+n+&quot; grade : &quot; );\n      courseGrade = in.next();\n      \n      if ( courseGrade.equals( &quot;A&quot; ) )\n      {\n        System.out.println( &quot;Outstanding&quot; );\n        QP += 4;\n      }\n      if ( courseGrade.equals( &quot;B&quot; ) )\n      {\n        System.out.println( &quot;Above average&quot; );\n        QP += 3;\n      }\n      if ( courseGrade.equals( &quot;C&quot; ) )\n      {\n        System.out.println( &quot;Average&quot; );\n        QP += 2;\n      }\n      if ( courseGrade.equals( &quot;D&quot; ) )\n      {\n        System.out.println( &quot;Below average&quot; );\n        QP += 1;\n      }\n      if ( courseGrade.equals( &quot;F&quot; ) )\n      {\n        System.out.println( &quot;Try again&quot; );\n        QP += 0;\n      }\n    }\n    \n   \n  }\n}\n</code></pre>\n<p>How would I output the individual course QPs into a form like this</p>\n<pre><code>Course 1 : 9 quality points(s) (QP[1])\nCourse 2 : 9 quality points(s) (QP[2])\nCourse 3 : 9 quality points(s) (QP[3])\nCourse 4 : 9 quality points(s) (QP[4])\nCourse 5 : 9 quality points(s) (QP[5])\n</code></pre>\n<p>I think adding something next to the QPs and associate them with something but I'm not sure how to do so. I tried adding something next to it and I'm not sure how so I always end up with int found array needed. Thanks in advance :)</p>\n"},{"tags":["java","spring","mockito","spring-test","springmockito"],"answers":[{"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1666247484,"post_id":74134292,"comment_id":130891471,"body_markdown":"Nitpick: checking size before checking all elements can be faster (for medium-sized to large lists). Probably a non-issue in tests, but still good practice.","body":"Nitpick: checking size before checking all elements can be faster (for medium-sized to large lists). Probably a non-issue in tests, but still good practice."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666238307,"creation_date":1666238307,"answer_id":74134292,"question_id":74132943,"body_markdown":"You can implement a custom `ArgumentMatcher` to define the matching logic and then use `argThat` with this `ArgumentMatcher` during stubbing :\r\n\r\n```java\r\n@Test\r\npublic void test(){\r\n   \t\twhen(someMock.getSerivce(argThat(pageRequestContainId(List.of(1,4,5,6))))).thenReturn(blablabla);\r\n}\r\n\r\nprivate ArgumentMatcher&lt;PageRequest&gt; pageRequestContainId(List&lt;Integer&gt; ids) {\r\n\t\treturn pageReq -&gt; pageReq.ids.containsAll(ids) &amp;&amp; pageReq.ids.size() == ids.size();\r\n}\r\n\r\n```","title":"spring mockito: when an object containing a list is an argument","body":"<p>You can implement a custom <code>ArgumentMatcher</code> to define the matching logic and then use <code>argThat</code> with this <code>ArgumentMatcher</code> during stubbing :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void test(){\n        when(someMock.getSerivce(argThat(pageRequestContainId(List.of(1,4,5,6))))).thenReturn(blablabla);\n}\n\nprivate ArgumentMatcher&lt;PageRequest&gt; pageRequestContainId(List&lt;Integer&gt; ids) {\n        return pageReq -&gt; pageReq.ids.containsAll(ids) &amp;&amp; pageReq.ids.size() == ids.size();\n}\n\n</code></pre>\n"}],"owner":{"account_id":3739057,"reputation":3667,"user_id":3109248,"display_name":"Khanna111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74134292,"answer_count":1,"score":0,"last_activity_date":1666238307,"creation_date":1666222208,"question_id":74132943,"body_markdown":"The issue is that the list of `ids` within the `pageRequest` object can be in any order. Is there a way to specify that below? The test fails since the `pageRequest` has a list of `ids` in a different order than the one specified below. The &quot;when&quot; clause returns null in that case.\r\n\r\n    PageRequest pageRequest = PageRequest.builder()\r\n                    .ids(List.of(serviceId2, serviceId1, serviceId3))\r\n                    .build();\r\n     when(client.getServices(eq(pageRequest))).thenAnswer(a -&gt; {.......","title":"spring mockito: when an object containing a list is an argument","body":"<p>The issue is that the list of <code>ids</code> within the <code>pageRequest</code> object can be in any order. Is there a way to specify that below? The test fails since the <code>pageRequest</code> has a list of <code>ids</code> in a different order than the one specified below. The &quot;when&quot; clause returns null in that case.</p>\n<pre><code>PageRequest pageRequest = PageRequest.builder()\n                .ids(List.of(serviceId2, serviceId1, serviceId3))\n                .build();\n when(client.getServices(eq(pageRequest))).thenAnswer(a -&gt; {.......\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","guava"],"answers":[{"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1534410500,"post_id":51872398,"comment_id":90698295,"body_markdown":"@Tim Upvote the answer if this/any answer is/was helpful to you for the benefit of the future readers.","body":"@Tim Upvote the answer if this/any answer is/was helpful to you for the benefit of the future readers."}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1534406854,"creation_date":1534406854,"answer_id":51872398,"question_id":51856558,"body_markdown":"This error message...\r\n\r\n\tjava.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;I)V\r\n\r\n...implies that the _IEDriverServer_ was unable to initiate/spawn a new _WebBrowsing Session_ i.e. _InternetExplorer Browser_ session.\r\n\r\nYour main issue is the _incompatibility_ between the version of the binaries you are using as follows:\r\n\r\n- You have mentioned about using **guava-21.0-jre.jar** which is pretty _ancient_.\r\n\r\nSolution\r\n--------\r\nSolution to your question would be either/all of the following steps:\r\n\r\n- Upgrade _Selenium_ to  current levels [**Version 3.14.0**](https://docs.seleniumhq.org/download/) which includes **guava-25.0-jre**.\r\n- Upgrade _Guava_ to  current levels of **26.0-jre** (as per _Selenium v3.14.0_ Java clients).\r\n\r\n - Maven Dependency is as follows:\r\n \r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;26.0-jre&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\r\n- Ensure you don&#39;t have several versions in your dependency tree.\r\n - To look for the existing guava versions through _Maven_ use the command:\r\n \r\n\t\t\tmvn dependency:tree | less\r\n\t\t\t\r\n- _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n- If issue still persists delete the `MAVEN_HOME` directory `.m2` and download the _binaries_ afresh.","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;I)V with IE and Selenium through Java","body":"<p>This error message...</p>\n\n<pre><code>java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;I)V\n</code></pre>\n\n<p>...implies that the <em>IEDriverServer</em> was unable to initiate/spawn a new <em>WebBrowsing Session</em> i.e. <em>InternetExplorer Browser</em> session.</p>\n\n<p>Your main issue is the <em>incompatibility</em> between the version of the binaries you are using as follows:</p>\n\n<ul>\n<li>You have mentioned about using <strong>guava-21.0-jre.jar</strong> which is pretty <em>ancient</em>.</li>\n</ul>\n\n<h2>Solution</h2>\n\n<p>Solution to your question would be either/all of the following steps:</p>\n\n<ul>\n<li>Upgrade <em>Selenium</em> to  current levels <a href=\"https://docs.seleniumhq.org/download/\" rel=\"nofollow noreferrer\"><strong>Version 3.14.0</strong></a> which includes <strong>guava-25.0-jre</strong>.</li>\n<li><p>Upgrade <em>Guava</em> to  current levels of <strong>26.0-jre</strong> (as per <em>Selenium v3.14.0</em> Java clients).</p>\n\n<ul>\n<li><p>Maven Dependency is as follows:</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;version&gt;26.0-jre&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n</ul></li>\n<li><p>Ensure you don't have several versions in your dependency tree.</p>\n\n<ul>\n<li><p>To look for the existing guava versions through <em>Maven</em> use the command:</p>\n\n<pre><code>mvn dependency:tree | less\n</code></pre></li>\n</ul></li>\n<li><p><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</p></li>\n<li>If issue still persists delete the <code>MAVEN_HOME</code> directory <code>.m2</code> and download the <em>binaries</em> afresh.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10405290,"reputation":546,"user_id":7672410,"display_name":"Liu Hao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666238136,"creation_date":1666238136,"answer_id":74134274,"question_id":51856558,"body_markdown":"I met the same problem, however the actual reason is that I used `com.google.collections#google-collections` and `com.google.guava#guava` at the same time in my project, which both declared class `com.google.common.base.Preconditions`, and result into a confliction.\r\n\r\nClass defination confliction is a really annoying problem in java project.\r\n\r\nHere I recommend a EASY TO USE toolkit [arthas](https://github.com/alibaba/arthas), you can find wihch jar is used when loading a class, or dump the real using bytecode in JVM into a .class file with it.","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;I)V with IE and Selenium through Java","body":"<p>I met the same problem, however the actual reason is that I used <code>com.google.collections#google-collections</code> and <code>com.google.guava#guava</code> at the same time in my project, which both declared class <code>com.google.common.base.Preconditions</code>, and result into a confliction.</p>\n<p>Class defination confliction is a really annoying problem in java project.</p>\n<p>Here I recommend a EASY TO USE toolkit <a href=\"https://github.com/alibaba/arthas\" rel=\"nofollow noreferrer\">arthas</a>, you can find wihch jar is used when loading a class, or dump the real using bytecode in JVM into a .class file with it.</p>\n"}],"owner":{"account_id":8096480,"reputation":206,"user_id":6100889,"accept_rate":62,"display_name":"Tim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5422,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51872398,"answer_count":2,"score":2,"last_activity_date":1666238136,"creation_date":1534326810,"question_id":51856558,"body_markdown":"I am trying to use selenium with sikuli.So sikuli would not run on a 64 bit using the current java set up so in my project changed the runtime to point to a 32 bit runtime environment  and added my selenium jars using the 32 bit iewebdriver now I have a problem with the above Looked every where on the net added the guava.jar file v.21 it did not solve the problem changed that to the guava 26jre.jar and still nothing is working here is my code and errors if anyone can spot where I am going wrong\r\n\r\nerror\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;I)V\r\n\tat org.openqa.selenium.remote.service.DriverService$Builder.usingPort(DriverService.java:285)\r\n\tat org.openqa.selenium.ie.InternetExplorerDriver.setupService(InternetExplorerDriver.java:242)\r\n\tat org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(InternetExplorerDriver.java:211)\r\n\tat org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(InternetExplorerDriver.java:150)\r\n\tat riOSikuliAutomation.RiOSikuliAutomation.main(RiOSikuliAutomation.java:33)\r\n\r\nand here is my code\r\n\r\n    DesiredCapabilities cap = DesiredCapabilities.internetExplorer();\r\n\tcap.setCapability(&quot;nativeEvents&quot;, false);\r\n\tcap.setCapability(&quot;unexpectedAlertBehaviour&quot;, &quot;accept&quot;);\r\n\tcap.setCapability(&quot;ignoreProtectedModeSettings&quot;, true);\r\n\tcap.setCapability(&quot;disable-popup-blocking&quot;, true);\r\n\tcap.setCapability(&quot;enablePersistentHover&quot;, true);\r\n\tcap.setCapability(&quot;ignoreZoomSetting&quot;, true);\r\n\tcap.setCapability(InternetExplorerDriver.INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS,true);\r\n\tInternetExplorerOptions options = new InternetExplorerOptions();\r\n\toptions.merge(cap);\r\n    System.setProperty(&quot;webdriver.ie.driver&quot;, &quot;C:\\\\Users\\\\Selenium\\\\IEDriverServer.exe&quot;);\r\n    WebDriver driver = new InternetExplorerDriver(options);\r\n\r\nas soon as it reads the last line the error pops up, anything I am not doing right please advise ?\r\n\r\n[![my dependencies][1]][1]\r\n\r\n\r\n\r\n        \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/83SPB.png","title":"java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;I)V with IE and Selenium through Java","body":"<p>I am trying to use selenium with sikuli.So sikuli would not run on a 64 bit using the current java set up so in my project changed the runtime to point to a 32 bit runtime environment  and added my selenium jars using the 32 bit iewebdriver now I have a problem with the above Looked every where on the net added the guava.jar file v.21 it did not solve the problem changed that to the guava 26jre.jar and still nothing is working here is my code and errors if anyone can spot where I am going wrong</p>\n\n<p>error</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkArgument(ZLjava/lang/String;I)V\nat org.openqa.selenium.remote.service.DriverService$Builder.usingPort(DriverService.java:285)\nat org.openqa.selenium.ie.InternetExplorerDriver.setupService(InternetExplorerDriver.java:242)\nat org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(InternetExplorerDriver.java:211)\nat org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(InternetExplorerDriver.java:150)\nat riOSikuliAutomation.RiOSikuliAutomation.main(RiOSikuliAutomation.java:33)\n</code></pre>\n\n<p>and here is my code</p>\n\n<pre><code>DesiredCapabilities cap = DesiredCapabilities.internetExplorer();\ncap.setCapability(\"nativeEvents\", false);\ncap.setCapability(\"unexpectedAlertBehaviour\", \"accept\");\ncap.setCapability(\"ignoreProtectedModeSettings\", true);\ncap.setCapability(\"disable-popup-blocking\", true);\ncap.setCapability(\"enablePersistentHover\", true);\ncap.setCapability(\"ignoreZoomSetting\", true);\ncap.setCapability(InternetExplorerDriver.INTRODUCE_FLAKINESS_BY_IGNORING_SECURITY_DOMAINS,true);\nInternetExplorerOptions options = new InternetExplorerOptions();\noptions.merge(cap);\nSystem.setProperty(\"webdriver.ie.driver\", \"C:\\\\Users\\\\Selenium\\\\IEDriverServer.exe\");\nWebDriver driver = new InternetExplorerDriver(options);\n</code></pre>\n\n<p>as soon as it reads the last line the error pops up, anything I am not doing right please advise ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/83SPB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/83SPB.png\" alt=\"my dependencies\"></a></p>\n"},{"tags":["java","selenium","for-loop","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1869832,"reputation":5089,"user_id":1692342,"accept_rate":61,"display_name":"user1692342"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666237092,"creation_date":1666237092,"answer_id":74134171,"question_id":73339202,"body_markdown":"Yes you can convert this into a Stream style approach.\r\n\r\n```\r\nMap&lt;String, Root&gt; flightMap = IntStream.range(2, flightList.size())\r\n                .filter(i -&gt; i % 2 == 0)\r\n                .mapToObj(i -&gt; {\r\n                    Root root = new Root();\r\n                    root.setAirport(flightList.get(i-1).split(&quot;\\n&quot;)[1]);\r\n                    root.setCity_name(flightList.get(i-2).split(&quot;,&quot;)[0]);\r\n                    root.setCountry_name(flightList.get(i-2).split(&quot;,&quot;)[1].split(&quot;\\n&quot;)[0]);\r\n                    return new AbstractMap.SimpleEntry&lt;&gt;(flightList.get(i).split(&quot;\\n&quot;)[2], root);\r\n                })\r\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n\r\n\r\nMap&lt;String, Root&gt; flightMapAPi = flightListApi.stream()\r\n                .map(item-&gt; {\r\n                    Root root = new Root();\r\n                    //IZM,T&#252;rkiye:Adnan Menderes Havaliman:zmir\r\n                    root.setAirport(item);\r\n                    root.setCountry_name(item.split(&quot;:&quot;)[0]);\r\n                    root.setAirport(item.split(&quot;:&quot;)[1]);\r\n                    root.setCity_name(item.split(&quot;:&quot;)[2]);\r\n                    return new AbstractMap.SimpleEntry&lt;&gt;(item.split(&quot;,&quot;)[0], root);\r\n                }).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\r\n```","title":"I want change loop for to stream","body":"<p>Yes you can convert this into a Stream style approach.</p>\n<pre><code>Map&lt;String, Root&gt; flightMap = IntStream.range(2, flightList.size())\n                .filter(i -&gt; i % 2 == 0)\n                .mapToObj(i -&gt; {\n                    Root root = new Root();\n                    root.setAirport(flightList.get(i-1).split(&quot;\\n&quot;)[1]);\n                    root.setCity_name(flightList.get(i-2).split(&quot;,&quot;)[0]);\n                    root.setCountry_name(flightList.get(i-2).split(&quot;,&quot;)[1].split(&quot;\\n&quot;)[0]);\n                    return new AbstractMap.SimpleEntry&lt;&gt;(flightList.get(i).split(&quot;\\n&quot;)[2], root);\n                })\n                .collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n\n\nMap&lt;String, Root&gt; flightMapAPi = flightListApi.stream()\n                .map(item-&gt; {\n                    Root root = new Root();\n                    //IZM,Trkiye:Adnan Menderes Havaliman:zmir\n                    root.setAirport(item);\n                    root.setCountry_name(item.split(&quot;:&quot;)[0]);\n                    root.setAirport(item.split(&quot;:&quot;)[1]);\n                    root.setCity_name(item.split(&quot;:&quot;)[2]);\n                    return new AbstractMap.SimpleEntry&lt;&gt;(item.split(&quot;,&quot;)[0], root);\n                }).collect(Collectors.toMap(Map.Entry::getKey, Map.Entry::getValue));\n</code></pre>\n"}],"owner":{"account_id":19907272,"reputation":5,"user_id":14586033,"display_name":"Mustafa Kadak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666237092,"creation_date":1660334211,"question_id":73339202,"body_markdown":"I have a for loop and i want to change this for to stream and put a list can you help me ? is it possible do it something like that ?\r\n\r\n\r\n    for(int i=2;i&lt;flightList.size();i=i+2){\r\n            Root root = new Root();\r\n            root.setAirport(flightList.get(i-1).split(&quot;\\n&quot;)[1]);\r\n            root.setCity_name(flightList.get(i-2).split(&quot;,&quot;)[0]);\r\n            root.setCountry_name(flightList.get(i-2).split(&quot;,&quot;)[1].split(&quot;\\n&quot;)[0]);\r\n            flightMap.put(flightList.get(i).split(&quot;\\n&quot;)[2],\r\n                    root);\r\n        }\r\n\r\n\r\n        List&lt; String &gt; flightListApi = flightTicketRequest.flightTicketFromList(keyword);\r\n        flightListApi.stream().forEach(item-&gt;{\r\n            //  System.out.println(item);\r\n        });\r\n\r\n        for(int i=0;i&lt;flightListApi.size();i++){\r\n            Root root = new Root();\r\n            //IZM,T&#252;rkiye:Adnan Menderes Havaliman:zmir\r\n            root.setAirport(flightListApi.get(i));\r\n            root.setCountry_name(flightListApi.get(i).split(&quot;:&quot;)[0]);\r\n            root.setAirport(flightListApi.get(i).split(&quot;:&quot;)[1]);\r\n            root.setCity_name(flightListApi.get(i).split(&quot;:&quot;)[2]);\r\n            flightMapAPi.put(flightListApi.get(i).split(&quot;,&quot;)[0],\r\n                    root);\r\n        }","title":"I want change loop for to stream","body":"<p>I have a for loop and i want to change this for to stream and put a list can you help me ? is it possible do it something like that ?</p>\n<pre><code>for(int i=2;i&lt;flightList.size();i=i+2){\n        Root root = new Root();\n        root.setAirport(flightList.get(i-1).split(&quot;\\n&quot;)[1]);\n        root.setCity_name(flightList.get(i-2).split(&quot;,&quot;)[0]);\n        root.setCountry_name(flightList.get(i-2).split(&quot;,&quot;)[1].split(&quot;\\n&quot;)[0]);\n        flightMap.put(flightList.get(i).split(&quot;\\n&quot;)[2],\n                root);\n    }\n\n\n    List&lt; String &gt; flightListApi = flightTicketRequest.flightTicketFromList(keyword);\n    flightListApi.stream().forEach(item-&gt;{\n        //  System.out.println(item);\n    });\n\n    for(int i=0;i&lt;flightListApi.size();i++){\n        Root root = new Root();\n        //IZM,Trkiye:Adnan Menderes Havaliman:zmir\n        root.setAirport(flightListApi.get(i));\n        root.setCountry_name(flightListApi.get(i).split(&quot;:&quot;)[0]);\n        root.setAirport(flightListApi.get(i).split(&quot;:&quot;)[1]);\n        root.setCity_name(flightListApi.get(i).split(&quot;:&quot;)[2]);\n        flightMapAPi.put(flightListApi.get(i).split(&quot;,&quot;)[0],\n                root);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"answers":[{"comments":[{"owner":{"account_id":21362241,"reputation":11,"user_id":15730680,"display_name":"Tugino"},"score":1,"creation_date":1666236474,"post_id":74134113,"comment_id":130889525,"body_markdown":"for allowed-origins=* you can use allowed-origins[0]=*","body":"for allowed-origins=* you can use allowed-origins[0]=*"}],"tags":[],"owner":{"account_id":21362241,"reputation":11,"user_id":15730680,"display_name":"Tugino"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666236341,"creation_date":1666236341,"answer_id":74134113,"question_id":74050120,"body_markdown":"Try this\r\n\r\n```\r\nspring.cloud.gateway.globalcors.cors-configurations.&#39;[/**]&#39;.allowed-origins=*\r\nspring.cloud.gateway.globalcors.cors-configurations.&#39;[/**]&#39;.allowed-methods=HEAD,OPTIONS,GET,POST,PUT,PATCH\r\nspring.cloud.gateway.globalcors.cors-configurations.&#39;[/**]&#39;.allowed-headers=*\r\n\r\n```","title":"How do I get the value of CORS allowed origin from spring cloud gateway","body":"<p>Try this</p>\n<pre><code>spring.cloud.gateway.globalcors.cors-configurations.'[/**]'.allowed-origins=*\nspring.cloud.gateway.globalcors.cors-configurations.'[/**]'.allowed-methods=HEAD,OPTIONS,GET,POST,PUT,PATCH\nspring.cloud.gateway.globalcors.cors-configurations.'[/**]'.allowed-headers=*\n\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36826,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666236341,"creation_date":1665631103,"question_id":74050120,"body_markdown":"Given the YAML fragment\r\n\r\n```yaml\r\nspring:\r\n  cloud:\r\n    gateway:\r\n      globalcors:\r\n        cors-configurations:\r\n          &#39;[/**]&#39;:\r\n            allowedOrigins: &quot;*&quot;\r\n```\r\n\r\nHow do I use `@Value(&quot;${spring.cloud.gateway.globalcors.cors-configurations.???.allowedOrigins&quot;)`","title":"How do I get the value of CORS allowed origin from spring cloud gateway","body":"<p>Given the YAML fragment</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    gateway:\n      globalcors:\n        cors-configurations:\n          '[/**]':\n            allowedOrigins: &quot;*&quot;\n</code></pre>\n<p>How do I use <code>@Value(&quot;${spring.cloud.gateway.globalcors.cors-configurations.???.allowedOrigins&quot;)</code></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1662143758,"post_id":73586737,"comment_id":129946351,"body_markdown":"You can check the size of `myCollection`. Or would this be wrong in your opinion?","body":"You can check the size of <code>myCollection</code>. Or would this be wrong in your opinion?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662144607,"post_id":73586737,"comment_id":129946583,"body_markdown":"I would heed the advice in the first question at that link *&quot;In any case, measure, don&#39;t guess! Only a measurement will tell you if the parallelism is worth it or not.&quot;* So would that method measure itself? What if it only gets called once? In other words, how would that work?","body":"I would heed the advice in the first question at that link <i>&quot;In any case, measure, don&#39;t guess! Only a measurement will tell you if the parallelism is worth it or not.&quot;</i> So would that method measure itself? What if it only gets called once? In other words, how would that work?"},{"owner":{"account_id":14494301,"reputation":418,"user_id":12055199,"display_name":"Samuel"},"score":0,"creation_date":1662146964,"post_id":73586737,"comment_id":129947193,"body_markdown":"@akuzminykh I could do that. I even could write a function so I dont duplicate code. But I thought there might be smarter way to maybe determine what stream type to use.\n\nMeasuring the size of a collection without adjustments might also take O(n) time which is bad.","body":"@akuzminykh I could do that. I even could write a function so I dont duplicate code. But I thought there might be smarter way to maybe determine what stream type to use.  Measuring the size of a collection without adjustments might also take O(n) time which is bad."},{"owner":{"account_id":17033694,"reputation":4572,"user_id":12323248,"display_name":"akuzminykh"},"score":0,"creation_date":1662151662,"post_id":73586737,"comment_id":129948455,"body_markdown":"@Samuel You should not worry too much about it and also about if parallel stream or not. Just focus on getting things done, i.e. functionality, features. The parallel stream in Java uses the `commonPool` or the fork join framework. You maybe want to google about it. All the threads of the thread pool that is working on your tasks are likely initialized. There will be a bit overhead but not as much as you might think. If you assume your call to have many items, then just do the `parallelStream`, otherwise do `stream`. If you want to be sure, then measure it as the second comment suggests.","body":"@Samuel You should not worry too much about it and also about if parallel stream or not. Just focus on getting things done, i.e. functionality, features. The parallel stream in Java uses the <code>commonPool</code> or the fork join framework. You maybe want to google about it. All the threads of the thread pool that is working on your tasks are likely initialized. There will be a bit overhead but not as much as you might think. If you assume your call to have many items, then just do the <code>parallelStream</code>, otherwise do <code>stream</code>. If you want to be sure, then measure it as the second comment suggests."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1662368555,"post_id":73586737,"comment_id":129981904,"body_markdown":"Theres no way for the library to know beforehand the weight of the operations you will chain. You are the only one who can know this. Thats why you are the one to decide which type of stream to use. But keep in mind that for a parallel stream to pay off, you not only need a sufficient number of elements and a sufficiently expensive operation, but also free worker threads to utilize. If each CPU core is busy processing data anyway (e.g. because youre processing a million incoming independent requests, theres no point in parallelism within the one processing task.","body":"Theres no way for the library to know beforehand the weight of the operations you will chain. You are the only one who can know this. Thats why you are the one to decide which type of stream to use. But keep in mind that for a parallel stream to pay off, you not only need a sufficient number of elements and a sufficiently expensive operation, but also free worker threads to utilize. If each CPU core is busy processing data anyway (e.g. because youre processing a million incoming independent requests, theres no point in parallelism within the one processing task."}],"answers":[{"tags":[],"owner":{"account_id":1869832,"reputation":5089,"user_id":1692342,"accept_rate":61,"display_name":"user1692342"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666236194,"creation_date":1666236194,"answer_id":74134100,"question_id":73586737,"body_markdown":"As mentioned in the above comments, there is no library or automatic way to detect when to use parallel stream or not. However if you do find a reasonable way [such as by running few benchmark tests], one way to write your code would be:\r\n\r\n```\r\nStreamSupport.stream(myCollection.spliterator(), determineIfParallelStreamRequired(myCollection))\r\n   .map(...) //Do whatever operation you&#39;re going to perform on the stream\r\n\r\nprivate boolean determineIfParallelStreamRequired(Collection&lt;String&gt; myCollection) {\r\n   //Determine whether to do parallel or not\r\n}\r\n```","title":"Dynamically choose between Java parallelStream() and stream()?","body":"<p>As mentioned in the above comments, there is no library or automatic way to detect when to use parallel stream or not. However if you do find a reasonable way [such as by running few benchmark tests], one way to write your code would be:</p>\n<pre><code>StreamSupport.stream(myCollection.spliterator(), determineIfParallelStreamRequired(myCollection))\n   .map(...) //Do whatever operation you're going to perform on the stream\n\nprivate boolean determineIfParallelStreamRequired(Collection&lt;String&gt; myCollection) {\n   //Determine whether to do parallel or not\n}\n</code></pre>\n"}],"owner":{"account_id":14494301,"reputation":418,"user_id":12055199,"display_name":"Samuel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666236194,"creation_date":1662143614,"question_id":73586737,"body_markdown":"There are two main ways to operate on Java streams:\r\n* parallelStream()\r\n* stream()\r\n\r\nAs this post https://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible indicated, there are downsides to using parallel streams.\r\n\r\nIs there a way to dynamically switch between those types built into Java?\r\nSo to use parallel streams for large collections and _normal_ streams for small collections.\r\nSomething like: `myCollection.parallelStreamIfNeeded()`\r\n\r\n","title":"Dynamically choose between Java parallelStream() and stream()?","body":"<p>There are two main ways to operate on Java streams:</p>\n<ul>\n<li>parallelStream()</li>\n<li>stream()</li>\n</ul>\n<p>As this post <a href=\"https://stackoverflow.com/questions/20375176/should-i-always-use-a-parallel-stream-when-possible\">Should I always use a parallel stream when possible?</a> indicated, there are downsides to using parallel streams.</p>\n<p>Is there a way to dynamically switch between those types built into Java?\nSo to use parallel streams for large collections and <em>normal</em> streams for small collections.\nSomething like: <code>myCollection.parallelStreamIfNeeded()</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":1,"creation_date":1666217763,"post_id":74132279,"comment_id":130886788,"body_markdown":"A `String` is an array of `char`s, so you can walk over the chars and compare the current `char` with the `char` you read before","body":"A <code>String</code> is an array of <code>char</code>s, so you can walk over the chars and compare the current <code>char</code> with the <code>char</code> you read before"}],"answers":[{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1666234163,"post_id":74132347,"comment_id":130889209,"body_markdown":"You don&#39;t need to record or even know &quot;the highest seen so far&quot;. You only need to find where char at i + 1 &lt; char at i.","body":"You don&#39;t need to record or even know &quot;the highest seen so far&quot;. You only need to find where char at i + 1 &lt; char at i."}],"tags":[],"owner":{"account_id":3305539,"reputation":4664,"user_id":2780480,"display_name":"Jagrut Sharma"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666216661,"creation_date":1666216661,"answer_id":74132347,"question_id":74132279,"body_markdown":"As you traverse the string index by index, you can keep a track of the largest character seen so far. If at any point, you see a character which is lower than seen before, you can return that index.\r\n\r\ne.g.\r\n\r\n    01234\r\n    acfbg\r\n\r\n    start by highest seen = a\r\n    \r\n    index = 0, char = a, highest seen = a, a &lt; a? no. [highest seen = a]\r\n    index = 1, char = c, highest seen = a, c &lt; a? no. [highest seen = c]\r\n    index = 2, char = f, highest seen = c, f &lt; c? no. [highest seen = f]\r\n    index = 3, char = b, highest seen = f, b &lt; f? yes [return index 3]\r\n\r\nIf you are able to traverse the entire string without finding a violation, that means the string is in alphabetical order.\r\n\r\nTime complexity is `O(length of string)`. Space complexity is `O(1)`","title":"print the index of the character where it is out of alphabetical order","body":"<p>As you traverse the string index by index, you can keep a track of the largest character seen so far. If at any point, you see a character which is lower than seen before, you can return that index.</p>\n<p>e.g.</p>\n<pre><code>01234\nacfbg\n\nstart by highest seen = a\n\nindex = 0, char = a, highest seen = a, a &lt; a? no. [highest seen = a]\nindex = 1, char = c, highest seen = a, c &lt; a? no. [highest seen = c]\nindex = 2, char = f, highest seen = c, f &lt; c? no. [highest seen = f]\nindex = 3, char = b, highest seen = f, b &lt; f? yes [return index 3]\n</code></pre>\n<p>If you are able to traverse the entire string without finding a violation, that means the string is in alphabetical order.</p>\n<p>Time complexity is <code>O(length of string)</code>. Space complexity is <code>O(1)</code></p>\n"},{"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1666234389,"post_id":74133704,"comment_id":130889236,"body_markdown":"You could/should eliminate the variable `r`.","body":"You could/should eliminate the variable <code>r</code>."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1666235177,"post_id":74133704,"comment_id":130889338,"body_markdown":"Thanks for the source code correction. My preference for introducing the extra variable, `r` comes from my history: My first language was FORTRAN IV, where we couldn&#39;t rely on the value of a loop index variable outside the range of the loop. Also, one place where I used to work, we were asked to not have a `return` inside the body of a loop.","body":"Thanks for the source code correction. My preference for introducing the extra variable, <code>r</code> comes from my history: My first language was FORTRAN IV, where we couldn&#39;t rely on the value of a loop index variable outside the range of the loop. Also, one place where I used to work, we were asked to not have a <code>return</code> inside the body of a loop."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1666257917,"post_id":74133704,"comment_id":130895215,"body_markdown":"yeah it&#39;s definitely a style thing, and therefore a religious debate (ie no right answer). Trying not to preach, I lean towards two separate return statements that correspond to the two types of results (in loop, after loop) and makes it clearer what happens when no early condition is found by returning a constant (eg `return 0;`), which is much more obvious than having to figure out what happens by reading everything from the declaration of `r`, to see what the &quot;default&quot; return value is, onwards to see what might have happened to it between declaration and the return.","body":"yeah it&#39;s definitely a style thing, and therefore a religious debate (ie no right answer). Trying not to preach, I lean towards two separate return statements that correspond to the two types of results (in loop, after loop) and makes it clearer what happens when no early condition is found by returning a constant (eg <code>return 0;</code>), which is much more obvious than having to figure out what happens by reading everything from the declaration of <code>r</code>, to see what the &quot;default&quot; return value is, onwards to see what might have happened to it between declaration and the return."}],"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666234302,"creation_date":1666231736,"answer_id":74133704,"question_id":74132279,"body_markdown":"The code in the original question already uses `char charAt(int index)` of the [`String` API](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html).  So, step through the String, and use `charAt` to compare each character to the preceding one. \r\n\r\n     public int findOutOfOrder (String str) {\r\n        // returns 0 if characters of str are in order.\r\n        // if not in order, returns position of first out of order character\r\n\r\n        int r = 0;\r\n\r\n        for (int i = 1; i &lt; str.length(); ++i) {\r\n            if (str.charAt(i) &lt; str.charAt(i - 1)) {\r\n               r = i;\r\n               break;\r\n            }\r\n        }\r\n        return r;\r\n     }\r\n\r\nSince the requirement is to return an index, the return type should be `int`. ","title":"print the index of the character where it is out of alphabetical order","body":"<p>The code in the original question already uses <code>char charAt(int index)</code> of the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\"><code>String</code> API</a>.  So, step through the String, and use <code>charAt</code> to compare each character to the preceding one.</p>\n<pre><code> public int findOutOfOrder (String str) {\n    // returns 0 if characters of str are in order.\n    // if not in order, returns position of first out of order character\n\n    int r = 0;\n\n    for (int i = 1; i &lt; str.length(); ++i) {\n        if (str.charAt(i) &lt; str.charAt(i - 1)) {\n           r = i;\n           break;\n        }\n    }\n    return r;\n }\n</code></pre>\n<p>Since the requirement is to return an index, the return type should be <code>int</code>.</p>\n"}],"owner":{"account_id":26616264,"reputation":9,"user_id":20235627,"display_name":"Carrera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1666234302,"creation_date":1666216189,"question_id":74132279,"body_markdown":"I am having trouble understanding an interview question, I am meant to print out the index of the character where it is out of alphabetical order. I do not know how to ascertain the index of a character where it is out of alphabetical order. I wrote the full question below: \r\n\r\nWrite an algorithm to check if a string is sorted in alphabetical order and print O If it is, if it is not in alphabetical order, then print the index of the character where it is out of alphabetical order. \r\n\r\n\r\n\r\n    import java.util.Arrays;\r\n     \r\n    public class ArrayAlphabet {\r\n     \r\n    \r\n        static boolean isAlphabaticOrder(String s)\r\n        {\r\n            // length of the string\r\n            int n = s.length();\r\n           \r\n            // create a character array\r\n            // of the length of the string\r\n            char c[] = new char [n];\r\n           \r\n            // assign the string\r\n            // to character array\r\n            for (int i = 0; i &lt; n; i++) {\r\n                c[i] = s.charAt(i);\r\n            }\r\n           \r\n            // sort the character array\r\n            Arrays.sort(c);\r\n           \r\n            // check if the character array\r\n            // is equal to the string or not\r\n            for (int i = 0; i &lt; n; i++)\r\n                if (c[i] != s.charAt(i)) \r\n                    return false;\r\n                   \r\n            return true;    \r\n        }\r\n    }\r\n    \r\n    \r\n    public class Main extends ArrayAlphabet {\r\n    \r\n        public static void main(String args[]) {\r\n        \r\n        \t\r\n            String s = &quot;aadbbbcc&quot;;\r\n             \r\n            // check whether the string is\r\n            // in alphabetical order or not\r\n            if (isAlphabaticOrder(s))\r\n               System.out.println(&quot;0&quot;);\r\n            else\r\n                System.out.println(&quot;No&quot;);\r\n               \r\n        }\r\n    }\r\n      \r\n\r\n","title":"print the index of the character where it is out of alphabetical order","body":"<p>I am having trouble understanding an interview question, I am meant to print out the index of the character where it is out of alphabetical order. I do not know how to ascertain the index of a character where it is out of alphabetical order. I wrote the full question below:</p>\n<p>Write an algorithm to check if a string is sorted in alphabetical order and print O If it is, if it is not in alphabetical order, then print the index of the character where it is out of alphabetical order.</p>\n<pre><code>import java.util.Arrays;\n \npublic class ArrayAlphabet {\n \n\n    static boolean isAlphabaticOrder(String s)\n    {\n        // length of the string\n        int n = s.length();\n       \n        // create a character array\n        // of the length of the string\n        char c[] = new char [n];\n       \n        // assign the string\n        // to character array\n        for (int i = 0; i &lt; n; i++) {\n            c[i] = s.charAt(i);\n        }\n       \n        // sort the character array\n        Arrays.sort(c);\n       \n        // check if the character array\n        // is equal to the string or not\n        for (int i = 0; i &lt; n; i++)\n            if (c[i] != s.charAt(i)) \n                return false;\n               \n        return true;    \n    }\n}\n\n\npublic class Main extends ArrayAlphabet {\n\n    public static void main(String args[]) {\n    \n        \n        String s = &quot;aadbbbcc&quot;;\n         \n        // check whether the string is\n        // in alphabetical order or not\n        if (isAlphabaticOrder(s))\n           System.out.println(&quot;0&quot;);\n        else\n            System.out.println(&quot;No&quot;);\n           \n    }\n}\n  \n</code></pre>\n"},{"tags":["java","file","terminal","automation","file-handling"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666418282,"post_id":74133873,"comment_id":130937062,"body_markdown":"All of the ingredients are already in this code. The for loop ensures each destination directory exists. It needs a similar for loop where it actually copies the file to use each of those destinations.","body":"All of the ingredients are already in this code. The for loop ensures each destination directory exists. It needs a similar for loop where it actually copies the file to use each of those destinations."},{"owner":{"account_id":6077756,"reputation":1058,"user_id":9636977,"display_name":"Kai Burghardt"},"score":0,"creation_date":1666434978,"post_id":74133873,"comment_id":130939227,"body_markdown":"Does this answer your question? [How to copy and move large amount of .txt files in one folder to multiple different subfolders in Java, based on certain characters in their filename?](https://stackoverflow.com/questions/25047289/how-to-copy-and-move-large-amount-of-txt-files-in-one-folder-to-multiple-differ)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25047289/how-to-copy-and-move-large-amount-of-txt-files-in-one-folder-to-multiple-differ\">How to copy and move large amount of .txt files in one folder to multiple different subfolders in Java, based on certain characters in their filename?</a>"}],"owner":{"account_id":26677117,"reputation":1,"user_id":20287626,"display_name":"Ash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666233824,"creation_date":1666233699,"question_id":74133873,"body_markdown":"I need to build a tool to copy files from and to a dated directory. (At the same time)\r\n\r\nExample User Input,\r\nEnter file to copy: C:\\Users\\asmuhamm\\Documents\\test.txt\r\n\r\nEnter from date: 221012 or C:\\Users\\asmuhamm\\Documents\\221012\r\n\r\nEnter to date: 221020 or C:\\Users\\asmuhamm\\Documents\\221020\r\n\r\nFile test.txt will be copied to folder 221012 to 221020 (also copy to folders in-between 221013, 221014, 221015 .... etc)\r\n\r\n\r\n            System.out.println(&quot;Do you want to create dated folders?&quot;);\r\n            String answer1 = scanner.nextLine();\r\n\r\n                if (Objects.equals(answer1, &quot;yes&quot;)) {\r\n                    //do something\r\n                    System.out.println(&quot;Enter folder from date: &quot;);\r\n                    int from = scanner.nextInt();\r\n\r\n                    System.out.println(&quot;Enter folder to date: &quot;);\r\n                    int to = scanner.nextInt();\r\n\r\n\r\n                    String myDirectoryPath = &quot;C:\\\\Users\\\\asmuhamm\\\\Documents\\\\&quot;;\r\n\r\n\r\n                    for (int i = from; i &lt;= to; i++){\r\n\r\n                        File myFolder = new File(myDirectoryPath + i);\r\n                        if (!myFolder.exists()) {\r\n\r\n                            if (myFolder.mkdirs()){\r\n                                System.out.println(myFolder.getName() + &quot; created successfully.&quot;);\r\n\r\n\r\n                            } else {\r\n                                System.out.println(&quot;Error creating &quot; + myFolder.getName());\r\n                            }\r\n                        } else {\r\n                            System.out.println(myFolder.getName() + &quot; already exists.&quot;);\r\n                        }\r\n                    }\r\n\r\n                } else {\r\n                    System.exit(0);\r\n                }\r\n\r\n\r\n        System.out.println(&quot;Do you want to copy files into folders? &quot;);\r\n        String answer2 = scanner.next();\r\n\r\n        if (Objects.equals(answer2, &quot;yes&quot;)) {\r\n            String again;\r\n            do {\r\n                System.out.println(&quot;Enter file source: &quot;);\r\n                String source = scanner.next();\r\n\r\n                System.out.println(&quot;Enter file target: &quot;);\r\n                String target = scanner.next();\r\n\r\n                Path fsource = Paths.get(source);\r\n                Path ftarget = Paths.get(target);\r\n\r\n                Files.copy(fsource, ftarget);\r\n                System.out.println(&quot;File copy successful&quot;);\r\n\r\n                System.out.println(&quot;Copy again? &quot;);\r\n                again = scanner.next();\r\n            } while (again.equals(&quot;yes&quot;));\r\n        } else{\r\n            System.exit(0);\r\n        }\r\n\r\n\r\n    }\r\n}\r\n    \r\n\r\nCurrently I can only copy it one by one instead of copying it from and to in a range.","title":"How do I copy a file to multiple folders at the same time? (Java)","body":"<p>I need to build a tool to copy files from and to a dated directory. (At the same time)</p>\n<p>Example User Input,\nEnter file to copy: C:\\Users\\asmuhamm\\Documents\\test.txt</p>\n<p>Enter from date: 221012 or C:\\Users\\asmuhamm\\Documents\\221012</p>\n<p>Enter to date: 221020 or C:\\Users\\asmuhamm\\Documents\\221020</p>\n<p>File test.txt will be copied to folder 221012 to 221020 (also copy to folders in-between 221013, 221014, 221015 .... etc)</p>\n<pre><code>        System.out.println(&quot;Do you want to create dated folders?&quot;);\n        String answer1 = scanner.nextLine();\n\n            if (Objects.equals(answer1, &quot;yes&quot;)) {\n                //do something\n                System.out.println(&quot;Enter folder from date: &quot;);\n                int from = scanner.nextInt();\n\n                System.out.println(&quot;Enter folder to date: &quot;);\n                int to = scanner.nextInt();\n\n\n                String myDirectoryPath = &quot;C:\\\\Users\\\\asmuhamm\\\\Documents\\\\&quot;;\n\n\n                for (int i = from; i &lt;= to; i++){\n\n                    File myFolder = new File(myDirectoryPath + i);\n                    if (!myFolder.exists()) {\n\n                        if (myFolder.mkdirs()){\n                            System.out.println(myFolder.getName() + &quot; created successfully.&quot;);\n\n\n                        } else {\n                            System.out.println(&quot;Error creating &quot; + myFolder.getName());\n                        }\n                    } else {\n                        System.out.println(myFolder.getName() + &quot; already exists.&quot;);\n                    }\n                }\n\n            } else {\n                System.exit(0);\n            }\n\n\n    System.out.println(&quot;Do you want to copy files into folders? &quot;);\n    String answer2 = scanner.next();\n\n    if (Objects.equals(answer2, &quot;yes&quot;)) {\n        String again;\n        do {\n            System.out.println(&quot;Enter file source: &quot;);\n            String source = scanner.next();\n\n            System.out.println(&quot;Enter file target: &quot;);\n            String target = scanner.next();\n\n            Path fsource = Paths.get(source);\n            Path ftarget = Paths.get(target);\n\n            Files.copy(fsource, ftarget);\n            System.out.println(&quot;File copy successful&quot;);\n\n            System.out.println(&quot;Copy again? &quot;);\n            again = scanner.next();\n        } while (again.equals(&quot;yes&quot;));\n    } else{\n        System.exit(0);\n    }\n\n\n}\n</code></pre>\n<p>}</p>\n<p>Currently I can only copy it one by one instead of copying it from and to in a range.</p>\n"},{"tags":["java","arrays","cucumber","rest-assured","jsonpath"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":2,"creation_date":1665655822,"post_id":74051134,"comment_id":130752749,"body_markdown":"it&#39;s better if you can provide response. I&#39;m kind of lost in text. :&#39;(","body":"it&#39;s better if you can provide response. I&#39;m kind of lost in text. :&#39;("},{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665807707,"post_id":74051134,"comment_id":130790124,"body_markdown":"@lucas-nguyen-17 : I have added the JSON response","body":"@lucas-nguyen-17 : I have added the JSON response"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1665808703,"post_id":74051134,"comment_id":130790203,"body_markdown":"So, what you want is replace index `i` by `condition`. For example,  `group.showGroupItems[i].showId==183040` --&gt; what is the condition to extract `showId`?","body":"So, what you want is replace index <code>i</code> by <code>condition</code>. For example,  <code>group.showGroupItems[i].showId==183040</code> --&gt; what is the condition to extract <code>showId</code>?"},{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665810165,"post_id":74051134,"comment_id":130790355,"body_markdown":"Earlier in cucumber file I was passing | group.showGroupItems[3].showId | 180340 |...For value 183040, array index[3] keeps changing. Sometimes it gives array index[2] for value 183040. Yes I want to replace i by condition. I want a code in such a way its dynamic for all fields, not only for this JSON response, but can be used for also for other JSON response.","body":"Earlier in cucumber file I was passing | group.showGroupItems[3].showId | 180340 |...For value 183040, array index[3] keeps changing. Sometimes it gives array index[2] for value 183040. Yes I want to replace i by condition. I want a code in such a way its dynamic for all fields, not only for this JSON response, but can be used for also for other JSON response."},{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665810628,"post_id":74051134,"comment_id":130790399,"body_markdown":"For ex I wanted something like this | group.showGroupItems[*].showId | 180340  |, where *  indicates which will search for all showId&#39;s whose value is equal to 183040. Is this something possible in Cucumber Datatable? I tried but didn&#39;t work out. It gave me an cucumber exception","body":"For ex I wanted something like this | group.showGroupItems[*].showId | 180340  |, where *  indicates which will search for all showId&#39;s whose value is equal to 183040. Is this something possible in Cucumber Datatable? I tried but didn&#39;t work out. It gave me an cucumber exception"}],"answers":[{"comments":[{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665671517,"post_id":74056172,"comment_id":130758213,"body_markdown":"I tried with asterisk, it didn&#39;t work.","body":"I tried with asterisk, it didn&#39;t work."},{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665807793,"post_id":74056172,"comment_id":130790131,"body_markdown":"has * worked for you anytime while trying in Cucumber DataTable","body":"has * worked for you anytime while trying in Cucumber DataTable"},{"owner":{"account_id":2578132,"reputation":1841,"user_id":2235381,"display_name":"lojza"},"score":0,"creation_date":1665998587,"post_id":74056172,"comment_id":130822430,"body_markdown":"what about two dots `group.showGroupItems..showId`","body":"what about two dots <code>group.showGroupItems..showId</code>"}],"tags":[],"owner":{"account_id":2578132,"reputation":1841,"user_id":2235381,"display_name":"lojza"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665665841,"creation_date":1665665841,"answer_id":74056172,"question_id":74051134,"body_markdown":"Use asterisk/star `*`\r\n\r\n    | group.showGroupItems[*].showId | 180340    |\r\n    | group.showGroupItems[*].title  | Clearwise |\r\n    | profileLevels[*].profileType   | ADULT     |\r\n\r\nit gives you list of values and you can then assert that expected value is in this list","title":"How to implement JSON Path with conditional value in RestAssured(instead of array index using a value)","body":"<p>Use asterisk/star <code>*</code></p>\n<pre><code>| group.showGroupItems[*].showId | 180340    |\n| group.showGroupItems[*].title  | Clearwise |\n| profileLevels[*].profileType   | ADULT     |\n</code></pre>\n<p>it gives you list of values and you can then assert that expected value is in this list</p>\n"},{"comments":[{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665961818,"post_id":74077091,"comment_id":130815800,"body_markdown":"I am getting error at line number 4   List&lt;?&gt; list = response.getBody().jsonPath().getList(field);\n\n&quot;java.lang.ClassCastException: class java.lang.String cannot be cast to class java.util.List (java.lang.String and java.util.List are in module java.base of loader &#39;bootstrap&#39;)&quot;","body":"I am getting error at line number 4   List&lt;?&gt; list = response.getBody().jsonPath().getList(field);  &quot;java.lang.ClassCastException: class java.lang.String cannot be cast to class java.util.List (java.lang.String and java.util.List are in module java.base of loader &#39;bootstrap&#39;)&quot;"},{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665978164,"post_id":74077091,"comment_id":130817750,"body_markdown":"@lucas-nguyeb-17 This code works perfectly fine, but suppose say if I want to check just one value in JSON file { success : true }, then what is the change I need to perform in the above code. Basically I also wanted to check success = true. Was getting the error java.lang.AssertionError: The following asserts failed:\n\nExpected : true\nActual   : true","body":"@lucas-nguyeb-17 This code works perfectly fine, but suppose say if I want to check just one value in JSON file { success : true }, then what is the change I need to perform in the above code. Basically I also wanted to check success = true. Was getting the error java.lang.AssertionError: The following asserts failed:  Expected : true Actual   : true"},{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665978262,"post_id":74077091,"comment_id":130817762,"body_markdown":"Something like this in cucumber file | success   |  true  |","body":"Something like this in cucumber file | success   |  true  |"},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1665980620,"post_id":74077091,"comment_id":130818050,"body_markdown":"I guess the problem comes from compare String `true` vs boolean `true`. I don&#39;t know how cucumber covert from `DataTable` to `Map`, does it change the data type or not. You expect `verifyResponseBody` method works in generic way, but it&#39;s quite hard, because we don&#39;t have ant method to check data type of valuen in json at compile time by `if-else`, we have to verify it at run-time via `try-catch`.","body":"I guess the problem comes from compare String <code>true</code> vs boolean <code>true</code>. I don&#39;t know how cucumber covert from <code>DataTable</code> to <code>Map</code>, does it change the data type or not. You expect <code>verifyResponseBody</code> method works in generic way, but it&#39;s quite hard, because we don&#39;t have ant method to check data type of valuen in json at compile time by <code>if-else</code>, we have to verify it at run-time via <code>try-catch</code>."},{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1665981708,"post_id":74077091,"comment_id":130818168,"body_markdown":"I double check in my machine, it works fine, no issue when comparing boolean, b/c both 2 value are `Boolean`.","body":"I double check in my machine, it works fine, no issue when comparing boolean, b/c both 2 value are <code>Boolean</code>."},{"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"score":0,"creation_date":1665984924,"post_id":74077091,"comment_id":130818616,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248849/discussion-between-wilson-and-lucas-nguyen-17).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248849/discussion-between-wilson-and-lucas-nguyen-17\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666233793,"creation_date":1665813838,"answer_id":74077091,"question_id":74051134,"body_markdown":"I think you can achieve that with some changes in your code:\r\n\r\n- Cucumber file: No asterisk `*`\r\n\r\n```\r\n| group.id                    | 608       |\r\n| group.platformType2         | all       |\r\n| group.showGroupItems.showId | 180340    |\r\n| group.showGroupItems.title  | Clearwise |\r\n| profileLevels.profileType   | ADULT     |\r\n```\r\n\r\n- Utils file:\r\n\r\n```\r\npublic void verifyResponseBody(Map&lt;String, Object&gt; data) {\r\n    SoftAssert softAssert = new SoftAssert();\r\n    for (String field : data.keySet()) {\r\n        try {\r\n            List&lt;?&gt; list = response.getBody().jsonPath().getList(field);\r\n            Object value = data.get(field);\r\n            softAssert.assertTrue(list.contains(value),\r\n                    String.format(&quot;%s doesn&#39;t contain &#39;%s&#39;&quot;, list, value));\r\n        } catch (ClassCastException e) {\r\n            softAssert.assertEquals(response.getBody().jsonPath().get(field), data.get(field));\r\n        } catch (NullPointerException e) {\r\n            System.out.printf(&quot;Key %s is wrong \\n&quot;, field);\r\n        }\r\n\r\n    }\r\n    softAssert.assertAll();\r\n}\r\n```","title":"How to implement JSON Path with conditional value in RestAssured(instead of array index using a value)","body":"<p>I think you can achieve that with some changes in your code:</p>\n<ul>\n<li>Cucumber file: No asterisk <code>*</code></li>\n</ul>\n<pre><code>| group.id                    | 608       |\n| group.platformType2         | all       |\n| group.showGroupItems.showId | 180340    |\n| group.showGroupItems.title  | Clearwise |\n| profileLevels.profileType   | ADULT     |\n</code></pre>\n<ul>\n<li>Utils file:</li>\n</ul>\n<pre><code>public void verifyResponseBody(Map&lt;String, Object&gt; data) {\n    SoftAssert softAssert = new SoftAssert();\n    for (String field : data.keySet()) {\n        try {\n            List&lt;?&gt; list = response.getBody().jsonPath().getList(field);\n            Object value = data.get(field);\n            softAssert.assertTrue(list.contains(value),\n                    String.format(&quot;%s doesn't contain '%s'&quot;, list, value));\n        } catch (ClassCastException e) {\n            softAssert.assertEquals(response.getBody().jsonPath().get(field), data.get(field));\n        } catch (NullPointerException e) {\n            System.out.printf(&quot;Key %s is wrong \\n&quot;, field);\n        }\n\n    }\n    softAssert.assertAll();\n}\n</code></pre>\n"}],"owner":{"account_id":21097186,"reputation":73,"user_id":15507885,"display_name":"Wilson "},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74077091,"answer_count":2,"score":1,"last_activity_date":1666233793,"creation_date":1665641244,"question_id":74051134,"body_markdown":"How to implement JSON Path with conditional value in RestAssured(instead of array index using a value)\r\n\r\nHere in the below example Cucumber file, I am trying to match the response fields with array index using a value.\r\n\r\nFor ex, in the first run&#160;group.showGroupItems[3].showId will be 183040. In the next run,&#160;group.showGroupItems[2].showId value will be 183040.&#160;Here the value&#160; &#39;183040&#39; will have different array index in every run.\r\n\r\nSimilarly, in the first run&#160;group.showGroupItems[0].title will be Clearwise. In the next run,&#160;group.showGroupItems[2].title value will be&#160;Clearwise. Here the value will &#39;Clearwise&#39; will have different array index in every run.\r\n\r\nSimilarly, in the first run&#160;profileLevels[2].profileType&#160;will be &#39;ADULT&#39;. In the next run,&#160;profileLevels[4].profileType&#160;value will be &#39;ADULT&#39;. Here the value will &#39;ADULT&#39; will have different array index in every run.\r\n\r\nI want my code to have JSON Path conditional value and want to be dynamic. I want in the below way with a condition&#160;, how can I change the logic for the method verifyResponseBody() in UtilFile using Java? How can I achieve it JSON Path with the below conditional values?\r\n\r\n         group.showGroupItems[i].showId==183040\r\n         group.showGroupItems[i].title==Clearwise\r\n         profileLevels[i].profileType==ADULT\r\n\r\n**UtilFile:**\r\n\r\n    public void verifyResponseBody (Map &lt; String, String &gt; data) throws JsonPathException \r\n    {\r\n      SoftAssert softAssert = new SoftAssert();\r\n      for (String field : data.keySet()) {\r\n      softAssert.assertEquals(response.getBody().jsonPath().getString(field), \r\n      data.get(field));\r\n     }\r\n      softAssert.assertAll();\r\n    }\r\n\r\n**Cucumber file:**\r\n\r\n     And I see response matches for fields\r\n    | group.showGroupItems[3].showId | 180340 |\r\n    | group.showGroupItems[0].title | Clearwise |\r\n    | profileLevels[2].profileType | ADULT |\r\n\r\n**Common Stepdefintion File:**\r\n\r\n    @Then(&quot;I see response matches for fields&quot;)\r\n    public void i_see_response_matches_for_fields(DataTable data) {\r\n    apiUtil.verifyResponseBody(data.asMap());\r\n    }\r\n\r\n**JSON data**\r\n\r\n    {\r\n      &quot;group&quot;:{\r\n      &quot;id&quot;:608,\r\n      &quot;platformType&quot;:&quot;all&quot;,\r\n      &quot;showGroupType&quot;:&quot;default&quot;,\r\n      &quot;title&quot;:&quot;All Shows&quot;,\r\n      &quot;showGroupItems&quot;:[\r\n         {\r\n            &quot;showId&quot;:19923,\r\n            &quot;filepathShowGroupItemLogo&quot;:null,\r\n            &quot;title&quot;:&quot;Clearwise&quot;,\r\n            &quot;showGroupId&quot;:705\r\n         },\r\n         {\r\n            &quot;showId&quot;:18454,\r\n            &quot;filepathShowGroupItemLogo&quot;:null,\r\n            &quot;title&quot;:&quot;Roll It&quot;,\r\n            &quot;showGroupId&quot;:705\r\n         },\r\n         {\r\n            &quot;showId&quot;:183040,\r\n            &quot;filepathShowGroupItemLogo&quot;:null,\r\n            &quot;title&quot;:&quot;The Dog&quot;,\r\n            &quot;showGroupId&quot;:705\r\n          }\r\n        ]\r\n      },\r\n      &quot;profileLevels&quot;:[\r\n       {\r\n         &quot;title&quot;:&quot;Adult&quot;,\r\n         &quot;profileType&quot;:&quot;ADULT&quot;\r\n       },\r\n       {\r\n         &quot;title&quot;:&quot;Older Kids&quot;,\r\n         &quot;profileType&quot;:&quot;KIDS&quot;\r\n       },\r\n       {\r\n         &quot;title&quot;:&quot;Younger Kids&quot;,\r\n         &quot;profileType&quot;:&quot;YOUNGER_KIDS&quot;\r\n       }\r\n      ]\r\n    }","title":"How to implement JSON Path with conditional value in RestAssured(instead of array index using a value)","body":"<p>How to implement JSON Path with conditional value in RestAssured(instead of array index using a value)</p>\n<p>Here in the below example Cucumber file, I am trying to match the response fields with array index using a value.</p>\n<p>For ex, in the first rungroup.showGroupItems[3].showId will be 183040. In the next run,group.showGroupItems[2].showId value will be 183040.Here the value '183040' will have different array index in every run.</p>\n<p>Similarly, in the first rungroup.showGroupItems[0].title will be Clearwise. In the next run,group.showGroupItems[2].title value will beClearwise. Here the value will 'Clearwise' will have different array index in every run.</p>\n<p>Similarly, in the first runprofileLevels[2].profileTypewill be 'ADULT'. In the next run,profileLevels[4].profileTypevalue will be 'ADULT'. Here the value will 'ADULT' will have different array index in every run.</p>\n<p>I want my code to have JSON Path conditional value and want to be dynamic. I want in the below way with a condition, how can I change the logic for the method verifyResponseBody() in UtilFile using Java? How can I achieve it JSON Path with the below conditional values?</p>\n<pre><code>     group.showGroupItems[i].showId==183040\n     group.showGroupItems[i].title==Clearwise\n     profileLevels[i].profileType==ADULT\n</code></pre>\n<p><strong>UtilFile:</strong></p>\n<pre><code>public void verifyResponseBody (Map &lt; String, String &gt; data) throws JsonPathException \n{\n  SoftAssert softAssert = new SoftAssert();\n  for (String field : data.keySet()) {\n  softAssert.assertEquals(response.getBody().jsonPath().getString(field), \n  data.get(field));\n }\n  softAssert.assertAll();\n}\n</code></pre>\n<p><strong>Cucumber file:</strong></p>\n<pre><code> And I see response matches for fields\n| group.showGroupItems[3].showId | 180340 |\n| group.showGroupItems[0].title | Clearwise |\n| profileLevels[2].profileType | ADULT |\n</code></pre>\n<p><strong>Common Stepdefintion File:</strong></p>\n<pre><code>@Then(&quot;I see response matches for fields&quot;)\npublic void i_see_response_matches_for_fields(DataTable data) {\napiUtil.verifyResponseBody(data.asMap());\n}\n</code></pre>\n<p><strong>JSON data</strong></p>\n<pre><code>{\n  &quot;group&quot;:{\n  &quot;id&quot;:608,\n  &quot;platformType&quot;:&quot;all&quot;,\n  &quot;showGroupType&quot;:&quot;default&quot;,\n  &quot;title&quot;:&quot;All Shows&quot;,\n  &quot;showGroupItems&quot;:[\n     {\n        &quot;showId&quot;:19923,\n        &quot;filepathShowGroupItemLogo&quot;:null,\n        &quot;title&quot;:&quot;Clearwise&quot;,\n        &quot;showGroupId&quot;:705\n     },\n     {\n        &quot;showId&quot;:18454,\n        &quot;filepathShowGroupItemLogo&quot;:null,\n        &quot;title&quot;:&quot;Roll It&quot;,\n        &quot;showGroupId&quot;:705\n     },\n     {\n        &quot;showId&quot;:183040,\n        &quot;filepathShowGroupItemLogo&quot;:null,\n        &quot;title&quot;:&quot;The Dog&quot;,\n        &quot;showGroupId&quot;:705\n      }\n    ]\n  },\n  &quot;profileLevels&quot;:[\n   {\n     &quot;title&quot;:&quot;Adult&quot;,\n     &quot;profileType&quot;:&quot;ADULT&quot;\n   },\n   {\n     &quot;title&quot;:&quot;Older Kids&quot;,\n     &quot;profileType&quot;:&quot;KIDS&quot;\n   },\n   {\n     &quot;title&quot;:&quot;Younger Kids&quot;,\n     &quot;profileType&quot;:&quot;YOUNGER_KIDS&quot;\n   }\n  ]\n}\n</code></pre>\n"},{"tags":["java","android","api","kotlin","android-volley"],"answers":[{"comments":[{"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"score":0,"creation_date":1666233530,"post_id":74126141,"comment_id":130889121,"body_markdown":"This is clearly 403 error of forbidden error","body":"This is clearly 403 error of forbidden error"}],"tags":[],"owner":{"account_id":26587627,"reputation":71,"user_id":20211329,"display_name":"Abhishek Upadhyay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666185810,"creation_date":1666185810,"answer_id":74126141,"question_id":74125654,"body_markdown":"This issue seems Authentication error, code: 401, you need to check token or accessToken if you are using for your api call.\r\n\r\nHere is the code for api call which is taking some token for further work using volley:\r\n\r\n        fun updateAccessToken(): String {\r\n        binding.progressBar.visibility = View.VISIBLE\r\n        binding.layoutRefresh.visibility = View.GONE\r\n        var refreshToken = &quot;&quot;\r\n        baseUrl = &quot;${\r\n            if (BuildConfig.DEBUG) {\r\n                &quot;https://debug.domainName.in/&quot;\r\n            } else {\r\n                &quot;https://prod.domainName.in/&quot;\r\n            }\r\n        }&quot;\r\n        if (Utility.isNetworkAvailable(requireContext())) {\r\n            var responseToken: okhttp3.Response\r\n            val context = (AppApplicationClass).appContext\r\n            var requestQueue: RequestQueue? = null\r\n            val jsonBody = JSONObject()\r\n            jsonBody.put(&quot;contact_number&quot;, AppFlowModulePreference.getMobileNumber())\r\n            val url =\r\n                baseUrl + &quot;mobile-app/app-user-tokens/&quot;\r\n            requestQueue = Volley.newRequestQueue(context)\r\n            val jsonObjReq = object : JsonObjectRequest(\r\n                Method.POST, url, jsonBody,\r\n                com.android.volley.Response.Listener&lt;JSONObject&gt; { response -&gt;\r\n                    (response)\r\n                    //responseToken = response\r\n                    var jsobjectMeta: JSONObject =\r\n                        response.getJSONObject(context.resources.getString(R.string.meta))\r\n                    var status =\r\n                        jsobjectMeta.getString(context.resources.getString(R.string.status_api_success))\r\n                    if (status.equals(&quot;200&quot;)) {\r\n                      //use response as per your requirement.\r\n                    }\r\n                },\r\n\r\n                com.android.volley.Response.ErrorListener { error -&gt;\r\n                    VolleyLog.e(HomeActivity.TAG, &quot;/post request fail! Error: ${error.message}&quot;)\r\n                }) {\r\n                @Throws(AuthFailureError::class)\r\n                override fun getHeaders(): Map&lt;String, String&gt; {\r\n                    val headers = HashMap&lt;String, String&gt;()\r\n                    headers.put(\r\n                        context.resources.getString(R.string.authorization),\r\n                        context.resources.getString(R.string.token_space) + AppFlowModulePreference.getAccessTokenForLoanFlow()\r\n                    )\r\n                    return headers\r\n                }\r\n            }\r\n\r\n            jsonObjReq.setRetryPolicy(\r\n                DefaultRetryPolicy(\r\n                    valuePolicyIntiIimeOut,\r\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT\r\n                )\r\n            )\r\n            requestQueue?.add(jsonObjReq)\r\n        } else {\r\n            //internetNotWorking UI handling action\r\n        }\r\n        return refreshToken\r\n    }","title":"Volley throwing AuthFailureError (403- Forbidden) com.android.volley.AuthFailureError in Android","body":"<p>This issue seems Authentication error, code: 401, you need to check token or accessToken if you are using for your api call.</p>\n<p>Here is the code for api call which is taking some token for further work using volley:</p>\n<pre><code>    fun updateAccessToken(): String {\n    binding.progressBar.visibility = View.VISIBLE\n    binding.layoutRefresh.visibility = View.GONE\n    var refreshToken = &quot;&quot;\n    baseUrl = &quot;${\n        if (BuildConfig.DEBUG) {\n            &quot;https://debug.domainName.in/&quot;\n        } else {\n            &quot;https://prod.domainName.in/&quot;\n        }\n    }&quot;\n    if (Utility.isNetworkAvailable(requireContext())) {\n        var responseToken: okhttp3.Response\n        val context = (AppApplicationClass).appContext\n        var requestQueue: RequestQueue? = null\n        val jsonBody = JSONObject()\n        jsonBody.put(&quot;contact_number&quot;, AppFlowModulePreference.getMobileNumber())\n        val url =\n            baseUrl + &quot;mobile-app/app-user-tokens/&quot;\n        requestQueue = Volley.newRequestQueue(context)\n        val jsonObjReq = object : JsonObjectRequest(\n            Method.POST, url, jsonBody,\n            com.android.volley.Response.Listener&lt;JSONObject&gt; { response -&gt;\n                (response)\n                //responseToken = response\n                var jsobjectMeta: JSONObject =\n                    response.getJSONObject(context.resources.getString(R.string.meta))\n                var status =\n                    jsobjectMeta.getString(context.resources.getString(R.string.status_api_success))\n                if (status.equals(&quot;200&quot;)) {\n                  //use response as per your requirement.\n                }\n            },\n\n            com.android.volley.Response.ErrorListener { error -&gt;\n                VolleyLog.e(HomeActivity.TAG, &quot;/post request fail! Error: ${error.message}&quot;)\n            }) {\n            @Throws(AuthFailureError::class)\n            override fun getHeaders(): Map&lt;String, String&gt; {\n                val headers = HashMap&lt;String, String&gt;()\n                headers.put(\n                    context.resources.getString(R.string.authorization),\n                    context.resources.getString(R.string.token_space) + AppFlowModulePreference.getAccessTokenForLoanFlow()\n                )\n                return headers\n            }\n        }\n\n        jsonObjReq.setRetryPolicy(\n            DefaultRetryPolicy(\n                valuePolicyIntiIimeOut,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT\n            )\n        )\n        requestQueue?.add(jsonObjReq)\n    } else {\n        //internetNotWorking UI handling action\n    }\n    return refreshToken\n}\n</code></pre>\n"}],"owner":{"account_id":25956799,"reputation":138,"user_id":19674027,"display_name":"user2357113"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666233624,"creation_date":1666183954,"question_id":74125654,"body_markdown":"I&#39;m developing an app that have function to update data or edit data from editText. In edit text have data from user object but if user wants to edit one of any editText or change user can change that data and call next api button to update data but api throw this error **volley authentication failure error** \r\n\r\nThere is a screen that get users data in edittext when pass data direct to API for add data to api  \r\nsame api works amazing on **POSTMAN** but when same api call in android that throw Authication failure error.\r\nHere is Debug response \r\n\r\n[![Postman Respones][1]][1]\r\n\r\n\r\n[![Android response here][2]][2]\r\n\r\n**NetworkAPICall.kt** \r\n\r\n   \r\n    import android.app.Activity\r\n    import android.content.Intent\r\n    import android.util.Log\r\n    import com.android.volley.*\r\n    import com.android.volley.toolbox.StringRequest\r\n    import com.android.volley.toolbox.Volley\r\n    import com.google.gson.Gson\r\n    import com.google.gson.reflect.TypeToken\r\n    import com.softnoesis.maxotexmart.login.LoginActivity\r\n    import com.softnoesis.maxotexmart.utils.AppPreference\r\n    import com.softnoesis.maxotexmart.utils.CommonUtils\r\n    import com.softnoesis.maxotexmart.utils.Constant.Companion.NETWORK_API_CALL\r\n    import com.softnoesis.maxotexmart.utils.Constant.Companion.TAG\r\n    import org.json.JSONObject\r\n    import java.lang.reflect.Type\r\n    \r\n    class NetworkAPICall {\r\n        fun CallApplicationWS(mContext: Activity?, NetworkAPICallModel: NetworkAPICallModel,\r\n                              NetworkAPIResponseCallback: NetworkAPIResponseCallback?) {\r\n            Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS&quot;)\r\n            if (NetworkAPICallModel.getCommonUtils().isNetworkAvailable(mContext!!)) try {\r\n                if (!NetworkAPICallModel.isShowProgress())\r\n                    NetworkAPICallModel.getCommonUtils().showProgress(mContext)\r\n                val RequestQueue: RequestQueue = Volley.newRequestQueue(mContext)\r\n                val StringRequest: StringRequest = object : StringRequest(NetworkAPICallModel.getRequest_type(),\r\n                    NetworkAPICallModel.getApiURL(), Response.Listener&lt;String?&gt; { response -&gt;\r\n                    Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; &quot; +\r\n                            &quot;CallApplicationWS --&gt; response&quot;)\r\n                    try{\r\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                        if(NetworkAPICallModel.getParserType() != null) {\r\n                            val `object`: Any = Gson().fromJson(response, NetworkAPICallModel.getParserType())\r\n                            NetworkAPICallModel.setResponseObject(`object`)\r\n                        }\r\n                        NetworkAPIResponseCallback?.onSuccessResponse(JSONObject(response), NetworkAPICallModel)\r\n                    } catch(jsonException: Exception) {\r\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                        Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; response --&gt; ${jsonException.message}&quot;)\r\n                        try{\r\n                            NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                            /*if(NetworkAPIResponseCallback != null) {\r\n                                    NetworkAPIResponseCallback.onSuccessResponse(new JSONObject(response), NetworkAPICallModel);\r\n                              }*/\r\n                        }catch (e: Exception) {\r\n                            NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                            Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; response --&gt; ${e.message}&quot;)\r\n                        }\r\n                    }\r\n                },\r\n                    Response.ErrorListener { error -&gt;\r\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                        Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; error --&gt; ${error.message}&quot;)\r\n                        val response: NetworkResponse = error.networkResponse\r\n                        if (error is ServerError) {\r\n                            try {\r\n                                val intent = Intent(mContext, LoginActivity::class.java)\r\n                                intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK\r\n                                mContext.startActivity(intent)\r\n                            } catch (e1: Exception) {\r\n                                NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                                Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; error --&gt; ${e1.message}&quot;)\r\n                            }\r\n                        }\r\n                        CommonUtils().hideProgress()\r\n                        CommonUtils().showDialog(\r\n                            mContext,\r\n                            &quot;&quot;&quot;\r\n                                                Something went wrong! Please try again later!\r\n                                                If problem still persist, please drop mail at support@.com\r\n                                                &quot;&quot;&quot;.trimIndent()\r\n                        ).show()\r\n                }) {\r\n                    override fun getParams(): MutableMap&lt;String, String&gt; {\r\n                        var params: MutableMap&lt;String, String&gt; = HashMap()\r\n                        val type: Type = object : TypeToken&lt;HashMap&lt;String, String&gt;&gt;() {}.type\r\n                        params = Gson().fromJson(NetworkAPICallModel.getJsonObjectRequest().toString(), type)\r\n                        return params\r\n                    }\r\n    \r\n                    override fun getHeaders(): MutableMap&lt;String, String&gt; {\r\n                        val params: MutableMap&lt;String, String&gt; = HashMap()\r\n    //                     headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + jetEncryptor.getJwtkey());\r\n                        if (AppPreference(mContext).isUserLogin()) {\r\n                            params[&quot;Authorization&quot;] = &quot;Bearer &quot; + AppPreference(mContext).getToken()\r\n                        }\r\n                        return params\r\n                    }\r\n                }\r\n                RequestQueue.add(StringRequest)\r\n                StringRequest.retryPolicy = DefaultRetryPolicy(\r\n                    0,\r\n                    DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\r\n                    DefaultRetryPolicy.DEFAULT_BACKOFF_MULT\r\n                )\r\n            } catch (e: Exception) {\r\n                NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt;${e.message}&quot;)\r\n            } else {\r\n                NetworkAPICallModel.getCommonUtils().hideProgress()\r\n                CommonUtils().showDialog(mContext, &quot;Please check you internet connection&quot;).show()\r\n            }\r\n        }\r\n    }\r\n\r\nThe below code is dummy parameter going to pass through network call\r\n\r\n    try {\r\n    val mJsObjParam = JSONObject()\r\n            mJsObjParam.put(&quot;company_name&quot;, userData1.user?.companyName ?: &quot;&quot;   )\r\n            mJsObjParam.put(&quot;owner_name&quot;, userData1.user?.ownerName ?: &quot;&quot;)\r\n            mJsObjParam.put(&quot;owner_phone&quot;, userData1.user?.phone ?: &quot;&quot;)\r\n            mJsObjParam.put(&quot;owner_whatsapp_number&quot;, userData1.user?.ownerWhatsappNumber ?: &quot;&quot;)\r\n            mJsObjParam.put(&quot;address&quot;, userData1.user?.address ?: &quot;&quot;)\r\n    val parserType = object : TypeToken&lt;EditUserResponse?&gt;() {}.type\r\n            val networkAPICallModel = NetworkAPICallModel(\r\n                APIConstants.EDIT_USER_URL,\r\n                APIConstants.POST_REQUEST,\r\n                mJsObjParam\r\n            )\r\n            networkAPICallModel.setParserType(parserType)\r\n            mNetworkAPICall!!.CallApplicationWS(mContext as Activity?, networkAPICallModel, this)\r\n        } catch (e: Exception) {\r\n            mCommonUtils?.hideProgress()\r\n            Log.i(\r\n                Constant.TAG,\r\n                &quot;${Constant.USER_PRESENTER} --&gt; addUser --&gt; Exception --&gt; ${e.printStackTrace()}&quot;\r\n            )\r\n        }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r6jvV.png\r\n  [2]: https://i.stack.imgur.com/EAYUB.png","title":"Volley throwing AuthFailureError (403- Forbidden) com.android.volley.AuthFailureError in Android","body":"<p>I'm developing an app that have function to update data or edit data from editText. In edit text have data from user object but if user wants to edit one of any editText or change user can change that data and call next api button to update data but api throw this error <strong>volley authentication failure error</strong></p>\n<p>There is a screen that get users data in edittext when pass data direct to API for add data to api<br />\nsame api works amazing on <strong>POSTMAN</strong> but when same api call in android that throw Authication failure error.\nHere is Debug response</p>\n<p><a href=\"https://i.stack.imgur.com/r6jvV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r6jvV.png\" alt=\"Postman Respones\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/EAYUB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EAYUB.png\" alt=\"Android response here\" /></a></p>\n<p><strong>NetworkAPICall.kt</strong></p>\n<pre><code>import android.app.Activity\nimport android.content.Intent\nimport android.util.Log\nimport com.android.volley.*\nimport com.android.volley.toolbox.StringRequest\nimport com.android.volley.toolbox.Volley\nimport com.google.gson.Gson\nimport com.google.gson.reflect.TypeToken\nimport com.softnoesis.maxotexmart.login.LoginActivity\nimport com.softnoesis.maxotexmart.utils.AppPreference\nimport com.softnoesis.maxotexmart.utils.CommonUtils\nimport com.softnoesis.maxotexmart.utils.Constant.Companion.NETWORK_API_CALL\nimport com.softnoesis.maxotexmart.utils.Constant.Companion.TAG\nimport org.json.JSONObject\nimport java.lang.reflect.Type\n\nclass NetworkAPICall {\n    fun CallApplicationWS(mContext: Activity?, NetworkAPICallModel: NetworkAPICallModel,\n                          NetworkAPIResponseCallback: NetworkAPIResponseCallback?) {\n        Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS&quot;)\n        if (NetworkAPICallModel.getCommonUtils().isNetworkAvailable(mContext!!)) try {\n            if (!NetworkAPICallModel.isShowProgress())\n                NetworkAPICallModel.getCommonUtils().showProgress(mContext)\n            val RequestQueue: RequestQueue = Volley.newRequestQueue(mContext)\n            val StringRequest: StringRequest = object : StringRequest(NetworkAPICallModel.getRequest_type(),\n                NetworkAPICallModel.getApiURL(), Response.Listener&lt;String?&gt; { response -&gt;\n                Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; &quot; +\n                        &quot;CallApplicationWS --&gt; response&quot;)\n                try{\n                    NetworkAPICallModel.getCommonUtils().hideProgress()\n                    if(NetworkAPICallModel.getParserType() != null) {\n                        val `object`: Any = Gson().fromJson(response, NetworkAPICallModel.getParserType())\n                        NetworkAPICallModel.setResponseObject(`object`)\n                    }\n                    NetworkAPIResponseCallback?.onSuccessResponse(JSONObject(response), NetworkAPICallModel)\n                } catch(jsonException: Exception) {\n                    NetworkAPICallModel.getCommonUtils().hideProgress()\n                    Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; response --&gt; ${jsonException.message}&quot;)\n                    try{\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\n                        /*if(NetworkAPIResponseCallback != null) {\n                                NetworkAPIResponseCallback.onSuccessResponse(new JSONObject(response), NetworkAPICallModel);\n                          }*/\n                    }catch (e: Exception) {\n                        NetworkAPICallModel.getCommonUtils().hideProgress()\n                        Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; response --&gt; ${e.message}&quot;)\n                    }\n                }\n            },\n                Response.ErrorListener { error -&gt;\n                    NetworkAPICallModel.getCommonUtils().hideProgress()\n                    Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; error --&gt; ${error.message}&quot;)\n                    val response: NetworkResponse = error.networkResponse\n                    if (error is ServerError) {\n                        try {\n                            val intent = Intent(mContext, LoginActivity::class.java)\n                            intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK\n                            mContext.startActivity(intent)\n                        } catch (e1: Exception) {\n                            NetworkAPICallModel.getCommonUtils().hideProgress()\n                            Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt; error --&gt; ${e1.message}&quot;)\n                        }\n                    }\n                    CommonUtils().hideProgress()\n                    CommonUtils().showDialog(\n                        mContext,\n                        &quot;&quot;&quot;\n                                            Something went wrong! Please try again later!\n                                            If problem still persist, please drop mail at support@.com\n                                            &quot;&quot;&quot;.trimIndent()\n                    ).show()\n            }) {\n                override fun getParams(): MutableMap&lt;String, String&gt; {\n                    var params: MutableMap&lt;String, String&gt; = HashMap()\n                    val type: Type = object : TypeToken&lt;HashMap&lt;String, String&gt;&gt;() {}.type\n                    params = Gson().fromJson(NetworkAPICallModel.getJsonObjectRequest().toString(), type)\n                    return params\n                }\n\n                override fun getHeaders(): MutableMap&lt;String, String&gt; {\n                    val params: MutableMap&lt;String, String&gt; = HashMap()\n//                     headers.put(&quot;Authorization&quot;, &quot;Bearer &quot; + jetEncryptor.getJwtkey());\n                    if (AppPreference(mContext).isUserLogin()) {\n                        params[&quot;Authorization&quot;] = &quot;Bearer &quot; + AppPreference(mContext).getToken()\n                    }\n                    return params\n                }\n            }\n            RequestQueue.add(StringRequest)\n            StringRequest.retryPolicy = DefaultRetryPolicy(\n                0,\n                DefaultRetryPolicy.DEFAULT_MAX_RETRIES,\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT\n            )\n        } catch (e: Exception) {\n            NetworkAPICallModel.getCommonUtils().hideProgress()\n            Log.i(TAG, &quot;$NETWORK_API_CALL --&gt; CallApplicationWS --&gt;${e.message}&quot;)\n        } else {\n            NetworkAPICallModel.getCommonUtils().hideProgress()\n            CommonUtils().showDialog(mContext, &quot;Please check you internet connection&quot;).show()\n        }\n    }\n}\n</code></pre>\n<p>The below code is dummy parameter going to pass through network call</p>\n<pre><code>try {\nval mJsObjParam = JSONObject()\n        mJsObjParam.put(&quot;company_name&quot;, userData1.user?.companyName ?: &quot;&quot;   )\n        mJsObjParam.put(&quot;owner_name&quot;, userData1.user?.ownerName ?: &quot;&quot;)\n        mJsObjParam.put(&quot;owner_phone&quot;, userData1.user?.phone ?: &quot;&quot;)\n        mJsObjParam.put(&quot;owner_whatsapp_number&quot;, userData1.user?.ownerWhatsappNumber ?: &quot;&quot;)\n        mJsObjParam.put(&quot;address&quot;, userData1.user?.address ?: &quot;&quot;)\nval parserType = object : TypeToken&lt;EditUserResponse?&gt;() {}.type\n        val networkAPICallModel = NetworkAPICallModel(\n            APIConstants.EDIT_USER_URL,\n            APIConstants.POST_REQUEST,\n            mJsObjParam\n        )\n        networkAPICallModel.setParserType(parserType)\n        mNetworkAPICall!!.CallApplicationWS(mContext as Activity?, networkAPICallModel, this)\n    } catch (e: Exception) {\n        mCommonUtils?.hideProgress()\n        Log.i(\n            Constant.TAG,\n            &quot;${Constant.USER_PRESENTER} --&gt; addUser --&gt; Exception --&gt; ${e.printStackTrace()}&quot;\n        )\n    }\n</code></pre>\n"},{"tags":["java","json","recursion","jackson"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666206418,"post_id":74130338,"comment_id":130883489,"body_markdown":"In this case dialing with a Map is cumbersome, what json-library you&#39;re using in your project?","body":"In this case dialing with a Map is cumbersome, what json-library you&#39;re using in your project?"},{"owner":{"account_id":24678406,"reputation":28,"user_id":18572479,"display_name":"mayonnaisebrightfish"},"score":0,"creation_date":1666206508,"post_id":74130338,"comment_id":130883520,"body_markdown":"I have access to Jackson if that&#39;s easier?","body":"I have access to Jackson if that&#39;s easier?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1666207714,"post_id":74130338,"comment_id":130883876,"body_markdown":"One more clarification: why `properties` attribute-name was discarded here `&quot;&quot;vegetables.potato.quality&quot;` (not `&quot;vegetables.properties.potato.properties.quality&quot;`) ?","body":"One more clarification: why <code>properties</code> attribute-name was discarded here <code>&quot;&quot;vegetables.potato.quality&quot;</code> (not <code>&quot;vegetables.properties.potato.properties.quality&quot;</code>) ?"},{"owner":{"account_id":24678406,"reputation":28,"user_id":18572479,"display_name":"mayonnaisebrightfish"},"score":0,"creation_date":1666208382,"post_id":74130338,"comment_id":130884096,"body_markdown":"`Properties` is like a root object which holds values and not something thats needed when sending search queries to elasticsearch","body":"<code>Properties</code> is like a root object which holds values and not something thats needed when sending search queries to elasticsearch"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1666214846,"post_id":74130338,"comment_id":130886080,"body_markdown":"You can take a loon on the similar question [Flattening a 3 level nested JSON string in java](https://stackoverflow.com/questions/58008267/flattening-a-3-level-nested-json-string-in-java)","body":"You can take a loon on the similar question <a href=\"https://stackoverflow.com/questions/58008267/flattening-a-3-level-nested-json-string-in-java\">Flattening a 3 level nested JSON string in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":24678406,"reputation":28,"user_id":18572479,"display_name":"mayonnaisebrightfish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666211036,"creation_date":1666211036,"answer_id":74131482,"question_id":74130338,"body_markdown":"I&#39;m sure theres a cleaner and better way to do it, but I was able to achieve what I needed by doing the following\r\n\r\n```java\r\n   private static List&lt;String&gt; process(final Map.Entry&lt;String, Object&gt; entry) {\r\n\r\n    final String fieldName = entry.getKey();\r\n    final List&lt;String&gt; fields = new ArrayList&lt;&gt;();\r\n    final Map&lt;String, Object&gt; value = toSourceMap(entry.getValue());\r\n\r\n    if (value.containsKey(MAPPING_PROPERTIES)) {\r\n        toSourceMap(value.get(MAPPING_PROPERTIES)).entrySet()\r\n            .stream()\r\n            .map(FieldMappingFactory::process)\r\n            .map(nestedFields -&gt; nestedFields.stream().map(f -&gt; &quot;%s.%s&quot;.formatted(fieldName, f)).toList())\r\n            .forEach(fields::addAll);\r\n    } else {\r\n        fields.add(fieldName);\r\n    }\r\n\r\n    return fields;\r\n}\r\n```\r\n","title":"Recursively flatten a map of nested objects","body":"<p>I'm sure theres a cleaner and better way to do it, but I was able to achieve what I needed by doing the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>   private static List&lt;String&gt; process(final Map.Entry&lt;String, Object&gt; entry) {\n\n    final String fieldName = entry.getKey();\n    final List&lt;String&gt; fields = new ArrayList&lt;&gt;();\n    final Map&lt;String, Object&gt; value = toSourceMap(entry.getValue());\n\n    if (value.containsKey(MAPPING_PROPERTIES)) {\n        toSourceMap(value.get(MAPPING_PROPERTIES)).entrySet()\n            .stream()\n            .map(FieldMappingFactory::process)\n            .map(nestedFields -&gt; nestedFields.stream().map(f -&gt; &quot;%s.%s&quot;.formatted(fieldName, f)).toList())\n            .forEach(fields::addAll);\n    } else {\n        fields.add(fieldName);\n    }\n\n    return fields;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666214478,"creation_date":1666211163,"answer_id":74131503,"question_id":74130338,"body_markdown":"Here&#39;s a solution based on the [*Depth first search*](https://en.wikipedia.org/wiki/Depth-first_search) tree-traversal algorithm.\r\n\r\nSince it&#39;s **iterative**, you can use it to process even deeply nested massive JSON without a risk of getting a `StackOverFlowError`.\r\n\r\nTo implement DFS, we need a Stack and a Map is needed to store the paths associated with a node that are being explored.\r\n\r\nAs the first step, we need to read the whole JSON tree and the obtained `JsonNode` on the stack.\r\n\r\nThen, until the stack is not empty, need to examine each node it contains by pulling them out from the stack. If the node happens to be an `ArrayNode` or `ObjectNode`, then all its children-nodes which could be obtained via [`JsonNode.fields()`](https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#fields()) should be added on the stack.\r\n\r\n```\r\nString json = // the source JSON\r\nJsonNode node = new ObjectMapper().readTree(json);\r\n    \r\nList&lt;String&gt; results = new ArrayList&lt;&gt;();\r\nDeque&lt;JsonNode&gt; stack = new ArrayDeque&lt;&gt;();\r\n        \r\nMap&lt;JsonNode, List&lt;String&gt;&gt; pathByNode = new HashMap&lt;&gt;();\r\npathByNode.put(node, Collections.emptyList());\r\n        \r\nSet&lt;String&gt; keysToExclude = Set.of(&quot;type&quot;, &quot;properties&quot;); // add more if you need\r\n        \r\nstack.push(node);\r\n        \r\nwhile (!stack.isEmpty()) {\r\n    JsonNode current = stack.pop();\r\n    List&lt;String&gt; path = pathByNode.get(current);\r\n            \r\n    if (current instanceof ArrayNode || current instanceof ObjectNode) {\r\n                \r\n        for (Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; it = current.fields(); it.hasNext(); ) {\r\n                    \r\n            Map.Entry&lt;String, JsonNode&gt; next = it.next();\r\n            stack.push(next.getValue());\r\n    \r\n            String propertyName = next.getKey();\r\n            List&lt;String&gt; newPath;\r\n                    \r\n            if (!keysToExclude.contains(propertyName)) {\r\n                newPath = new ArrayList&lt;&gt;(path);\r\n                newPath.add(propertyName);\r\n    \r\n                results.add(String.join(&quot;.&quot;, newPath)); // list of path should be updated\r\n            } else {\r\n                newPath = path;\r\n            }\r\n            pathByNode.put(next.getValue(), newPath);\r\n        }\r\n    }\r\n}\r\n        \r\nresults.forEach(System.out::println);\r\n```\r\n*Output:*\r\n```\r\norange\r\napple\r\nbanana\r\npineapple\r\nvegetables\r\nvegetables.potato\r\nvegetables.potato.quality\r\nvegetables.potato.price\r\nvegetables.potato.location\r\npineapple.color\r\npineapple.size\r\n```","title":"Recursively flatten a map of nested objects","body":"<p>Here's a solution based on the <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>Depth first search</em></a> tree-traversal algorithm.</p>\n<p>Since it's <strong>iterative</strong>, you can use it to process even deeply nested massive JSON without a risk of getting a <code>StackOverFlowError</code>.</p>\n<p>To implement DFS, we need a Stack and a Map is needed to store the paths associated with a node that are being explored.</p>\n<p>As the first step, we need to read the whole JSON tree and the obtained <code>JsonNode</code> on the stack.</p>\n<p>Then, until the stack is not empty, need to examine each node it contains by pulling them out from the stack. If the node happens to be an <code>ArrayNode</code> or <code>ObjectNode</code>, then all its children-nodes which could be obtained via <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.7/com/fasterxml/jackson/databind/JsonNode.html#fields()\" rel=\"nofollow noreferrer\"><code>JsonNode.fields()</code></a> should be added on the stack.</p>\n<pre><code>String json = // the source JSON\nJsonNode node = new ObjectMapper().readTree(json);\n    \nList&lt;String&gt; results = new ArrayList&lt;&gt;();\nDeque&lt;JsonNode&gt; stack = new ArrayDeque&lt;&gt;();\n        \nMap&lt;JsonNode, List&lt;String&gt;&gt; pathByNode = new HashMap&lt;&gt;();\npathByNode.put(node, Collections.emptyList());\n        \nSet&lt;String&gt; keysToExclude = Set.of(&quot;type&quot;, &quot;properties&quot;); // add more if you need\n        \nstack.push(node);\n        \nwhile (!stack.isEmpty()) {\n    JsonNode current = stack.pop();\n    List&lt;String&gt; path = pathByNode.get(current);\n            \n    if (current instanceof ArrayNode || current instanceof ObjectNode) {\n                \n        for (Iterator&lt;Map.Entry&lt;String, JsonNode&gt;&gt; it = current.fields(); it.hasNext(); ) {\n                    \n            Map.Entry&lt;String, JsonNode&gt; next = it.next();\n            stack.push(next.getValue());\n    \n            String propertyName = next.getKey();\n            List&lt;String&gt; newPath;\n                    \n            if (!keysToExclude.contains(propertyName)) {\n                newPath = new ArrayList&lt;&gt;(path);\n                newPath.add(propertyName);\n    \n                results.add(String.join(&quot;.&quot;, newPath)); // list of path should be updated\n            } else {\n                newPath = path;\n            }\n            pathByNode.put(next.getValue(), newPath);\n        }\n    }\n}\n        \nresults.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>orange\napple\nbanana\npineapple\nvegetables\nvegetables.potato\nvegetables.potato.quality\nvegetables.potato.price\nvegetables.potato.location\npineapple.color\npineapple.size\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666233017,"creation_date":1666230572,"answer_id":74133620,"question_id":74130338,"body_markdown":"This is a simpler solution.\r\n\r\n    private static void process(List&lt;String&gt; paths, String path, JsonNode node, Set&lt;String&gt; excludeKeys) {\r\n        if (node.isValueNode()) {\r\n            paths.add(path);\r\n        } else if (node.isObject()) {\r\n            node.fields().forEachRemaining(elem -&gt; {\r\n                String key = excludeKeys.contains(elem.getKey()) ? path : (path == null ? &quot;&quot; : path + &quot;.&quot;) + elem.getKey();\r\n                process(paths, key, elem.getValue(), excludeKeys);\r\n            });\r\n        } else { // This part is not required if there is no array inside the source JSON object\r\n            for (int i = 0; i &lt; node.size(); i++) {\r\n                process(paths, String.format(&quot;%s[%d]&quot;, path, i), node.get(i), excludeKeys);\r\n            }\r\n        }\r\n    }\r\n\r\nCaller\r\n\r\n    JsonNode node = new ObjectMapper().readTree(// JSON string //);\r\n    List&lt;String&gt; paths = new ArrayList&lt;&gt;();\r\n    process(paths, null, node, Set.of(&quot;properties&quot;, &quot;type&quot;));\r\n    paths.forEach(System.out::println);\r\n\r\nOutput\r\n\r\n    orange\r\n    apple\r\n    banana\r\n    pineapple.color\r\n    pineapple.size\r\n    vegetables.potato.quality\r\n    vegetables.potato.price\r\n    vegetables.potato.location","title":"Recursively flatten a map of nested objects","body":"<p>This is a simpler solution.</p>\n<pre><code>private static void process(List&lt;String&gt; paths, String path, JsonNode node, Set&lt;String&gt; excludeKeys) {\n    if (node.isValueNode()) {\n        paths.add(path);\n    } else if (node.isObject()) {\n        node.fields().forEachRemaining(elem -&gt; {\n            String key = excludeKeys.contains(elem.getKey()) ? path : (path == null ? &quot;&quot; : path + &quot;.&quot;) + elem.getKey();\n            process(paths, key, elem.getValue(), excludeKeys);\n        });\n    } else { // This part is not required if there is no array inside the source JSON object\n        for (int i = 0; i &lt; node.size(); i++) {\n            process(paths, String.format(&quot;%s[%d]&quot;, path, i), node.get(i), excludeKeys);\n        }\n    }\n}\n</code></pre>\n<p>Caller</p>\n<pre><code>JsonNode node = new ObjectMapper().readTree(// JSON string //);\nList&lt;String&gt; paths = new ArrayList&lt;&gt;();\nprocess(paths, null, node, Set.of(&quot;properties&quot;, &quot;type&quot;));\npaths.forEach(System.out::println);\n</code></pre>\n<p>Output</p>\n<pre><code>orange\napple\nbanana\npineapple.color\npineapple.size\nvegetables.potato.quality\nvegetables.potato.price\nvegetables.potato.location\n</code></pre>\n"}],"owner":{"account_id":24678406,"reputation":28,"user_id":18572479,"display_name":"mayonnaisebrightfish"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74131482,"answer_count":3,"score":0,"last_activity_date":1666233017,"creation_date":1666204740,"question_id":74130338,"body_markdown":"I have a list of map of fields from ElasticSearch in a JSON structure. I need to extract the keys from the fields into a `name.value` list to be used as search terms. \r\n\r\nFor example, the response I get from ElasticSearch looks like: \r\n```json\r\n{\r\n    &quot;orange&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n    },\r\n    &quot;apple&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n    },\r\n    &quot;banana&quot;: {\r\n        &quot;type&quot;: &quot;keyword&quot;\r\n    },\r\n    &quot;pineapple&quot;: {\r\n        &quot;properties&quot;: {\r\n            &quot;color&quot;: {\r\n                &quot;type&quot;: &quot;text&quot;\r\n            },\r\n            &quot;size&quot;: {\r\n                &quot;type&quot;: &quot;text&quot;\r\n            }\r\n        }\r\n    },\r\n    &quot;vegetables&quot;: {\r\n        &quot;properties&quot;: {\r\n            &quot;potato&quot;: {\r\n                &quot;properties&quot;: {\r\n                    &quot;quality&quot;: {\r\n                        &quot;type&quot;: &quot;keyword&quot;\r\n                    },\r\n                    &quot;price&quot;: {\r\n                        &quot;type&quot;: &quot;keyword&quot;\r\n                    },\r\n                    &quot;location&quot;: {\r\n                        &quot;type&quot;: &quot;keyword&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\nI need to transform this into a list of \r\n```json\r\n[\r\n  &quot;orange&quot;,\r\n  &quot;apple&quot;,\r\n  &quot;banana&quot;,\r\n  &quot;pineapple.color&quot;,\r\n  &quot;pineapple.size&quot;,\r\n  &quot;vegetables.potato.quality&quot;,\r\n  &quot;vegetables.potato.price&quot;,\r\n  &quot;vegetables.potato.location&quot;,\r\n  &quot;vegetables.cabbage&quot;\r\n]\r\n```\r\nI&#39;m a bit lost as to where to start so I end up with something that will work no matter how deep the &quot;object&quot; + &quot;properties&quot; key ends up being.\r\n\r\n**edit:**\r\n\r\nI have a couple of methods I&#39;m trying to do this with, but I keep ending up with nested loops instead \r\n\r\n```java \r\nprivate static String process(final Map.Entry&lt;String, Object&gt; entry) {\r\n    final String fieldName = entry.getKey();\r\n    final Map&lt;String, Object&gt; value = toSourceMap(entry.getValue());\r\n    if (value.containsKey(&quot;properties&quot;)) {\r\n        final Map&lt;String, Object&gt; properties = toSourceMap(value.get(&quot;properties&quot;));\r\n        process(entry); // ??\r\n    }\r\n    return fieldName;\r\n}\r\n```\r\n\r\nAnd a small helper method I&#39;m using which casts the unknown object to a map\r\n\r\n```java\r\nprivate static Map&lt;String, Object&gt; toSourceMap(final Object sourceMap) {\r\n    try {\r\n        final Map&lt;String, Object&gt; map = (Map) sourceMap;\r\n        return map;\r\n    } catch (final Exception e) {\r\n        return Map.of();\r\n    }\r\n}\r\n```\r\n\r\nAnd I&#39;m calling this \r\n\r\n```java\r\nfinal List&lt;String&gt; fieldName = new ArrayList&lt;&gt;();\r\n\r\nfor (final Map.Entry&lt;String, Object&gt; entry : properties.entrySet()) {\r\n    fieldName.add(process(entry));\r\n}\r\n```\r\n\r\nTrying to get a list of each value from the `process` method\r\n\r\n**edit 2:** \r\nI can get something that works for one level deep, but this won&#39;t capture the deeper objects like `vegetables.potato.quality`\r\n\r\n```java\r\n    private static List&lt;String&gt; process(final Map.Entry&lt;String, Object&gt; entry) {\r\n\r\n        final String fieldName = entry.getKey();\r\n        final Map&lt;String, Object&gt; value = toSourceMap(entry.getValue());\r\n\r\n        final List&lt;String&gt; fields = new ArrayList&lt;&gt;();\r\n        if (value.containsKey(&quot;properties&quot;)) {\r\n            final Map&lt;String, Object&gt; properties = toSourceMap(value.get(&quot;properties&quot;));\r\n\r\n            properties.keySet().stream().map(s -&gt; fieldName + &quot;.&quot; + s).forEach(fields::add);\r\n        } else {\r\n            fields.add(fieldName);\r\n        }\r\n\r\n        return fields;\r\n    }\r\n```\r\nand the caller\r\n```java\r\n        final List&lt;String&gt; fieldName = new ArrayList&lt;&gt;();\r\n\r\n        for (final Map.Entry&lt;String, Object&gt; entry : properties.entrySet()) {\r\n            fieldName.addAll(process(entry));\r\n        }\r\n```\r\n","title":"Recursively flatten a map of nested objects","body":"<p>I have a list of map of fields from ElasticSearch in a JSON structure. I need to extract the keys from the fields into a <code>name.value</code> list to be used as search terms.</p>\n<p>For example, the response I get from ElasticSearch looks like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;orange&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n    },\n    &quot;apple&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n    },\n    &quot;banana&quot;: {\n        &quot;type&quot;: &quot;keyword&quot;\n    },\n    &quot;pineapple&quot;: {\n        &quot;properties&quot;: {\n            &quot;color&quot;: {\n                &quot;type&quot;: &quot;text&quot;\n            },\n            &quot;size&quot;: {\n                &quot;type&quot;: &quot;text&quot;\n            }\n        }\n    },\n    &quot;vegetables&quot;: {\n        &quot;properties&quot;: {\n            &quot;potato&quot;: {\n                &quot;properties&quot;: {\n                    &quot;quality&quot;: {\n                        &quot;type&quot;: &quot;keyword&quot;\n                    },\n                    &quot;price&quot;: {\n                        &quot;type&quot;: &quot;keyword&quot;\n                    },\n                    &quot;location&quot;: {\n                        &quot;type&quot;: &quot;keyword&quot;\n                    }\n                }\n            }\n        }\n    }\n}\n\n\n</code></pre>\n<p>I need to transform this into a list of</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  &quot;orange&quot;,\n  &quot;apple&quot;,\n  &quot;banana&quot;,\n  &quot;pineapple.color&quot;,\n  &quot;pineapple.size&quot;,\n  &quot;vegetables.potato.quality&quot;,\n  &quot;vegetables.potato.price&quot;,\n  &quot;vegetables.potato.location&quot;,\n  &quot;vegetables.cabbage&quot;\n]\n</code></pre>\n<p>I'm a bit lost as to where to start so I end up with something that will work no matter how deep the &quot;object&quot; + &quot;properties&quot; key ends up being.</p>\n<p><strong>edit:</strong></p>\n<p>I have a couple of methods I'm trying to do this with, but I keep ending up with nested loops instead</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String process(final Map.Entry&lt;String, Object&gt; entry) {\n    final String fieldName = entry.getKey();\n    final Map&lt;String, Object&gt; value = toSourceMap(entry.getValue());\n    if (value.containsKey(&quot;properties&quot;)) {\n        final Map&lt;String, Object&gt; properties = toSourceMap(value.get(&quot;properties&quot;));\n        process(entry); // ??\n    }\n    return fieldName;\n}\n</code></pre>\n<p>And a small helper method I'm using which casts the unknown object to a map</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Map&lt;String, Object&gt; toSourceMap(final Object sourceMap) {\n    try {\n        final Map&lt;String, Object&gt; map = (Map) sourceMap;\n        return map;\n    } catch (final Exception e) {\n        return Map.of();\n    }\n}\n</code></pre>\n<p>And I'm calling this</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; fieldName = new ArrayList&lt;&gt;();\n\nfor (final Map.Entry&lt;String, Object&gt; entry : properties.entrySet()) {\n    fieldName.add(process(entry));\n}\n</code></pre>\n<p>Trying to get a list of each value from the <code>process</code> method</p>\n<p><strong>edit 2:</strong>\nI can get something that works for one level deep, but this won't capture the deeper objects like <code>vegetables.potato.quality</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static List&lt;String&gt; process(final Map.Entry&lt;String, Object&gt; entry) {\n\n        final String fieldName = entry.getKey();\n        final Map&lt;String, Object&gt; value = toSourceMap(entry.getValue());\n\n        final List&lt;String&gt; fields = new ArrayList&lt;&gt;();\n        if (value.containsKey(&quot;properties&quot;)) {\n            final Map&lt;String, Object&gt; properties = toSourceMap(value.get(&quot;properties&quot;));\n\n            properties.keySet().stream().map(s -&gt; fieldName + &quot;.&quot; + s).forEach(fields::add);\n        } else {\n            fields.add(fieldName);\n        }\n\n        return fields;\n    }\n</code></pre>\n<p>and the caller</p>\n<pre class=\"lang-java prettyprint-override\"><code>        final List&lt;String&gt; fieldName = new ArrayList&lt;&gt;();\n\n        for (final Map.Entry&lt;String, Object&gt; entry : properties.entrySet()) {\n            fieldName.addAll(process(entry));\n        }\n</code></pre>\n"},{"tags":["java","okhttp"],"answers":[{"comments":[{"owner":{"account_id":11360299,"reputation":95,"user_id":8328637,"display_name":"Ricky Vene"},"score":0,"creation_date":1666297101,"post_id":74133775,"comment_id":130910033,"body_markdown":"Thanks [D T](https://stackoverflow.com/users/1497597/d-t)","body":"Thanks <a href=\"https://stackoverflow.com/users/1497597/d-t\">D T</a>"}],"tags":[],"owner":{"account_id":1621057,"reputation":3572,"user_id":1497597,"accept_rate":58,"display_name":"D T"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1666232724,"creation_date":1666232724,"answer_id":74133775,"question_id":74133702,"body_markdown":" You must add to `RequestBody` :\r\n\r\n   \r\n    final String BOUNDARY = String.valueOf(System.currentTimeMillis());\r\n    RequestBody requestBody = new MultipartBody.Builder(BOUNDARY)\r\n                                        .setType(MultipartBody.FORM)  \r\n                                        .addFormDataPart(&quot;data&quot;, JsonData)\r\n                                        //.addFormDataPart(&quot;otherPara&quot;, otherPara)\r\n                                        .build();                       \r\n        Request request = new Request.Builder()\r\n        \t\t.url(url)\r\n        \t\t.post(requestBody)\r\n        \t\t.build();","title":"okhttp3 passing parameter with &quot;--data {json}&quot;","body":"<p>You must add to <code>RequestBody</code> :</p>\n<pre><code>final String BOUNDARY = String.valueOf(System.currentTimeMillis());\nRequestBody requestBody = new MultipartBody.Builder(BOUNDARY)\n                                    .setType(MultipartBody.FORM)  \n                                    .addFormDataPart(&quot;data&quot;, JsonData)\n                                    //.addFormDataPart(&quot;otherPara&quot;, otherPara)\n                                    .build();                       \n    Request request = new Request.Builder()\n            .url(url)\n            .post(requestBody)\n            .build();\n</code></pre>\n"}],"owner":{"account_id":11360299,"reputation":95,"user_id":8328637,"display_name":"Ricky Vene"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74133775,"answer_count":1,"score":-1,"last_activity_date":1666232724,"creation_date":1666231725,"question_id":74133702,"body_markdown":"How can I pass parameter with &quot;--data {json}&quot; on okHttp3?  Do I need to add it in the headers like below?  Or its not on the header, it need to be on another object?\r\n```\r\nRequest request = new Request.Builder()\r\n            .header(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\r\n            .addHeader(&quot;data&quot;, &quot;{json}&quot;)\r\n            .url(url)\r\n```\r\nPlease let me know.  ","title":"okhttp3 passing parameter with &quot;--data {json}&quot;","body":"<p>How can I pass parameter with &quot;--data {json}&quot; on okHttp3?  Do I need to add it in the headers like below?  Or its not on the header, it need to be on another object?</p>\n<pre><code>Request request = new Request.Builder()\n            .header(&quot;Content-Type&quot;, &quot;application/json; charset=utf-8&quot;)\n            .addHeader(&quot;data&quot;, &quot;{json}&quot;)\n            .url(url)\n</code></pre>\n<p>Please let me know.</p>\n"},{"tags":["java","xml","grammar","bnf","invisible-xml"],"comments":[{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1665363212,"post_id":73992833,"comment_id":130675730,"body_markdown":"It looks to me like there is an off-by-one bug in coffeepot&#39;s error reporting. It&#39;s not the `!` which it didn&#39;t expect; it&#39;s the character which follows. I assume that the problem is that the character which follows `!` is not a newline character (which is what the grammar says should be there) but rather a character return; in other words, the first character of the infamous two-byte CRLF line-end sequence, which goes back at least to MS-DOS. These often get in the way if you create a file with Windows text editors and then read them in Unix or a Unix subsystem.","body":"It looks to me like there is an off-by-one bug in coffeepot&#39;s error reporting. It&#39;s not the <code>!</code> which it didn&#39;t expect; it&#39;s the character which follows. I assume that the problem is that the character which follows <code>!</code> is not a newline character (which is what the grammar says should be there) but rather a character return; in other words, the first character of the infamous two-byte CRLF line-end sequence, which goes back at least to MS-DOS. These often get in the way if you create a file with Windows text editors and then read them in Unix or a Unix subsystem."},{"owner":{"account_id":1707439,"reputation":236126,"user_id":1566221,"accept_rate":86,"display_name":"rici"},"score":0,"creation_date":1665363753,"post_id":73992833,"comment_id":130675789,"body_markdown":"If that&#39;s the problem and you don&#39;t want to convert your input to Unix line endings, the usual solution would be to use `-#d?,-#a` instead of `-#a` (or define `NL` to that sequence, in order to reduce clutter in your grammar).","body":"If that&#39;s the problem and you don&#39;t want to convert your input to Unix line endings, the usual solution would be to use <code>-#d?,-#a</code> instead of <code>-#a</code> (or define <code>NL</code> to that sequence, in order to reduce clutter in your grammar)."}],"answers":[{"tags":[],"owner":{"account_id":23768085,"reputation":85,"user_id":17782568,"display_name":"wee hee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666167244,"creation_date":1665409028,"answer_id":74015805,"question_id":73992833,"body_markdown":"I converted the text to Unix using Notepad++ and it worked like a charm. \r\n\r\nFix:\r\nIn Notepad++, go to Edit -&gt; EOL Conversion -&gt; Unix (LF)","title":"Invisible XML grammar wont work for this entry (using Coffeepot)","body":"<p>I converted the text to Unix using Notepad++ and it worked like a charm.</p>\n<p>Fix:\nIn Notepad++, go to Edit -&gt; EOL Conversion -&gt; Unix (LF)</p>\n"}],"owner":{"account_id":23768085,"reputation":85,"user_id":17782568,"display_name":"wee hee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74015805,"answer_count":1,"score":1,"last_activity_date":1666232658,"creation_date":1665178974,"question_id":73992833,"body_markdown":"I am using coffeepot in a Java runtime to try to convert the following text:\r\n\r\n    WARNING: Do Not Modify This File!\r\n    Check 24.1.6 Data File\r\n    CONTROL 1 (\r\n      code = CEZ_90_1_2016\r\n      compliance mode = UA\r\n      version = 24.1.6 )\r\n    LOCATION 1 (\r\n      state = Texas\r\n      city =  USA )\r\n    BUILDING 1 (\r\n      project type = NEW_CONSTRUCTION\r\n      bldg use type = WHOLE_BLDG\r\n      feet bldg height = 0.000\r\n      number of stories = 1\r\n      is nonresidential conditioning = TRUE\r\n      is residential conditioning = FALSE\r\n      is semiheated conditioning = FALSE\r\n      conditioning = HEATING_AND_COOLING)\r\n    ENVELOPE 1 (\r\n      use orient details = TRUE\r\n      use vlt details = TRUE\r\n      use cool roof performance details = FALSE )\r\n    AG WALL 1 (\r\n      wall type = MASONRY_AG_WALL\r\n      next to uncond space = FALSE\r\n      concrete thickness = 12.00\r\n      concrete density = 115.00\r\n      furring type = NO_FURRING\r\n      cmu type = CMU_PARTIAL_GROUT_CELLS_EMPTY\r\n      list position = 1\r\n      description = &lt;|Concrete Block:12&quot;, Partially Grouted, Cells Empty|&gt;\r\n      assembly type = &lt;|Exterior Wall 1|&gt;\r\n      parent number = 0\r\n      bldg use key = 1884629903\r\n      continuous rvalue = 10.00\r\n      daylight credit = 0.000\r\n      orientation = WEST\r\n      allowance type = ENV_ALLOWANCE_NONE\r\n      exemption type = ENV_EXEMPTION_NONE\r\n      valid allowance type = FALSE\r\n      valid exemption type = FALSE\r\n      construction type = NON_RESIDENTIAL \r\n      adjacent space type = ADJACENT_SPACE_EXTERIOR \r\n      gross area = 3377.000)\r\n    DOOR 4 (\r\n      door type = INSUL_METAL_DOOR\r\n      door open type = SWINGING_DOOR\r\n      list position = 3\r\n      description = &lt;|Insulated Metal|&gt;\r\n      assembly type = &lt;|Door 1|&gt;\r\n      parent number = 1\r\n      bldg use key = 1884629903\r\n      prop uvalue = 0.100000\r\n      daylight credit = 0.000\r\n      orientation = WEST\r\n      allowance type = ENV_ALLOWANCE_NONE\r\n      exemption type = ENV_EXEMPTION_NONE\r\n      valid allowance type = FALSE\r\n      valid exemption type = FALSE\r\n      construction type = NON_RESIDENTIAL \r\n      adjacent space type = ADJACENT_SPACE_EXTERIOR \r\n      gross area = 21.000)\r\n    AG WALL 2 (\r\n      wall type = METAL_FRAME_16_AG_WALL\r\n      next to uncond space = FALSE\r\n      list position = 4\r\n      description = &lt;|Steel-Framed, 16&quot; o.c.|&gt;\r\n      assembly type = &lt;|Exterior Wall 2|&gt;\r\n      parent number = 0\r\n      bldg use key = 1884629903\r\n      cavity rvalue = 21.00\r\n      continuous rvalue = 0.00\r\n      daylight credit = 0.000\r\n      orientation = NORTH\r\n      allowance type = ENV_ALLOWANCE_NONE\r\n      exemption type = ENV_EXEMPTION_NONE\r\n      valid allowance type = FALSE\r\n      valid exemption type = FALSE\r\n      construction type = NON_RESIDENTIAL \r\n      adjacent space type = ADJACENT_SPACE_EXTERIOR \r\n      gross area = 42.000)\r\n\r\nto:\r\n\r\n    &lt;Document xmlns:ixml=&quot;http://invisiblexml.org/NS&quot; ixml:state=&quot;ambiguous&quot;&gt;\r\n       &lt;data&gt;\r\n          &lt;name&gt;CONTROL&lt;/name&gt;\r\n          &lt;number&gt;1&lt;/number&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;code&lt;/name&gt;\r\n             &lt;value&gt;CEZ_90_1_2016&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;compliance mode&lt;/name&gt;\r\n             &lt;value&gt;UA&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;version&lt;/name&gt;\r\n             &lt;value&gt;24.1.6&lt;/value&gt;\r\n          &lt;/property&gt;\r\n       &lt;/data&gt;\r\n       &lt;data&gt;\r\n          &lt;name&gt;LOCATION&lt;/name&gt;\r\n          &lt;number&gt;1&lt;/number&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;state&lt;/name&gt;\r\n             &lt;value&gt;Texas&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;city&lt;/name&gt;\r\n             &lt;value&gt; USA&lt;/value&gt;\r\n          &lt;/property&gt;\r\n       &lt;/data&gt;\r\n       &lt;data&gt;\r\n          &lt;name&gt;BUILDING&lt;/name&gt;\r\n          &lt;number&gt;1&lt;/number&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;project type&lt;/name&gt;\r\n             &lt;value&gt;NEW_CONSTRUCTION&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;bldg use type&lt;/name&gt;\r\n             &lt;value&gt;WHOLE_BLDG&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;feet bldg height&lt;/name&gt;\r\n             &lt;value&gt;0.000&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;number of stories&lt;/name&gt;\r\n             &lt;value&gt;1&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;is nonresidential conditioning&lt;/name&gt;\r\n             &lt;value&gt;TRUE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;is residential conditioning&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;is semiheated conditioning&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;conditioning&lt;/name&gt;\r\n             &lt;value&gt;HEATING_AND_COOLING&lt;/value&gt;\r\n          &lt;/property&gt;\r\n       &lt;/data&gt;\r\n       &lt;data&gt;\r\n          &lt;name&gt;ENVELOPE&lt;/name&gt;\r\n          &lt;number&gt;1&lt;/number&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;use orient details&lt;/name&gt;\r\n             &lt;value&gt;TRUE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;use vlt details&lt;/name&gt;\r\n             &lt;value&gt;TRUE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;use cool roof performance details&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n       &lt;/data&gt;\r\n       &lt;data&gt;\r\n          &lt;name&gt;AG WALL&lt;/name&gt;\r\n          &lt;number&gt;1&lt;/number&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;wall type&lt;/name&gt;\r\n             &lt;value&gt;MASONRY_AG_WALL&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;next to uncond space&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;concrete thickness&lt;/name&gt;\r\n             &lt;value&gt;12.00&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;concrete density&lt;/name&gt;\r\n             &lt;value&gt;115.00&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;furring type&lt;/name&gt;\r\n             &lt;value&gt;NO_FURRING&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;cmu type&lt;/name&gt;\r\n             &lt;value&gt;CMU_PARTIAL_GROUT_CELLS_EMPTY&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;list position&lt;/name&gt;\r\n             &lt;value&gt;1&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;description&lt;/name&gt;\r\n             &lt;value&gt;&amp;lt;|Concrete Block:12&quot;, Partially Grouted, Cells Empty|&gt;&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;assembly type&lt;/name&gt;\r\n             &lt;value&gt;&amp;lt;|Exterior Wall 1|&gt;&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;parent number&lt;/name&gt;\r\n             &lt;value&gt;0&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;bldg use key&lt;/name&gt;\r\n             &lt;value&gt;1884629903&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;continuous rvalue&lt;/name&gt;\r\n             &lt;value&gt;10.00&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;daylight credit&lt;/name&gt;\r\n             &lt;value&gt;0.000&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;orientation&lt;/name&gt;\r\n             &lt;value&gt;WEST&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;allowance type&lt;/name&gt;\r\n             &lt;value&gt;ENV_ALLOWANCE_NONE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;exemption type&lt;/name&gt;\r\n             &lt;value&gt;ENV_EXEMPTION_NONE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;valid allowance type&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;valid exemption type&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;construction type&lt;/name&gt;\r\n             &lt;value&gt;NON_RESIDENTIAL &lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;adjacent space type&lt;/name&gt;\r\n             &lt;value&gt;ADJACENT_SPACE_EXTERIOR &lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;gross area&lt;/name&gt;\r\n             &lt;value&gt;3377.000&lt;/value&gt;\r\n          &lt;/property&gt;\r\n       &lt;/data&gt;\r\n       &lt;data&gt;\r\n          &lt;name&gt;DOOR&lt;/name&gt;\r\n          &lt;number&gt;4&lt;/number&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;door type&lt;/name&gt;\r\n             &lt;value&gt;INSUL_METAL_DOOR&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;door open type&lt;/name&gt;\r\n             &lt;value&gt;SWINGING_DOOR&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;list position&lt;/name&gt;\r\n             &lt;value&gt;3&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;description&lt;/name&gt;\r\n             &lt;value&gt;&amp;lt;|Insulated Metal|&gt;&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;assembly type&lt;/name&gt;\r\n             &lt;value&gt;&amp;lt;|Door 1|&gt;&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;parent number&lt;/name&gt;\r\n             &lt;value&gt;1&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;bldg use key&lt;/name&gt;\r\n             &lt;value&gt;1884629903&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;prop uvalue&lt;/name&gt;\r\n             &lt;value&gt;0.100000&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;daylight credit&lt;/name&gt;\r\n             &lt;value&gt;0.000&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;orientation&lt;/name&gt;\r\n             &lt;value&gt;WEST&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;allowance type&lt;/name&gt;\r\n             &lt;value&gt;ENV_ALLOWANCE_NONE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;exemption type&lt;/name&gt;\r\n             &lt;value&gt;ENV_EXEMPTION_NONE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;valid allowance type&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;valid exemption type&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;construction type&lt;/name&gt;\r\n             &lt;value&gt;NON_RESIDENTIAL &lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;adjacent space type&lt;/name&gt;\r\n             &lt;value&gt;ADJACENT_SPACE_EXTERIOR &lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;gross area&lt;/name&gt;\r\n             &lt;value&gt;21.000&lt;/value&gt;\r\n          &lt;/property&gt;\r\n       &lt;/data&gt;\r\n       &lt;data&gt;\r\n          &lt;name&gt;AG WALL&lt;/name&gt;\r\n          &lt;number&gt;2&lt;/number&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;wall type&lt;/name&gt;\r\n             &lt;value&gt;METAL_FRAME_16_AG_WALL&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;next to uncond space&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;list position&lt;/name&gt;\r\n             &lt;value&gt;4&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;description&lt;/name&gt;\r\n             &lt;value&gt;&amp;lt;|Steel-Framed, 16&quot; o.c.|&gt;&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;assembly type&lt;/name&gt;\r\n             &lt;value&gt;&amp;lt;|Exterior Wall 2|&gt;&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;parent number&lt;/name&gt;\r\n             &lt;value&gt;0&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;bldg use key&lt;/name&gt;\r\n             &lt;value&gt;1884629903&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;cavity rvalue&lt;/name&gt;\r\n             &lt;value&gt;21.00&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;continuous rvalue&lt;/name&gt;\r\n             &lt;value&gt;0.00&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;daylight credit&lt;/name&gt;\r\n             &lt;value&gt;0.000&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;orientation&lt;/name&gt;\r\n             &lt;value&gt;NORTH&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;allowance type&lt;/name&gt;\r\n             &lt;value&gt;ENV_ALLOWANCE_NONE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;exemption type&lt;/name&gt;\r\n             &lt;value&gt;ENV_EXEMPTION_NONE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;valid allowance type&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;valid exemption type&lt;/name&gt;\r\n             &lt;value&gt;FALSE&lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;construction type&lt;/name&gt;\r\n             &lt;value&gt;NON_RESIDENTIAL &lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;adjacent space type&lt;/name&gt;\r\n             &lt;value&gt;ADJACENT_SPACE_EXTERIOR &lt;/value&gt;\r\n          &lt;/property&gt;\r\n          &lt;property&gt;\r\n             &lt;name&gt;gross area&lt;/name&gt;\r\n             &lt;value&gt;42.000&lt;/value&gt;\r\n          &lt;/property&gt;\r\n       &lt;/data&gt;\r\n    &lt;/Document&gt;\r\n\r\nwith the following grammar:\r\n\r\n    Document = Warning, check, data+, #a? .\r\n    -Warning = -&quot;WARNING: Do Not Modify This File!&quot;, -#a.\r\n    -check = -&quot;Check 24.1.6 Data File&quot;, -#a .\r\n    data = name, -&#39; &#39;, number, -&#39; (&#39;, -#a, property++-#a, -&#39; &#39;?, -&#39;)&#39;, -#a .\r\n    \r\n    name = namechar, (namechar | &#39; &#39;)*, namechar .\r\n    -namechar = [&#39;A&#39;-&#39;Z&#39;] | [&#39;a&#39;-&#39;z&#39;] .\r\n    number = [&#39;0&#39;-&#39;9&#39;]+ .\r\n    property = -&#39; &#39;*, name, -&#39; = &#39;, value .\r\n    value = ~[#a]+ .\r\n\r\nI execute coffeepot with the following command line:\r\n\r\n    java -jar coffeepot-1.99.11.jar --input:input.txt --grammar:grammar.txt --pretty-print\r\n\r\nHowever, I get the following error:\r\n\r\n    &lt;fail xmlns:ixml=&quot;http://invisiblexml.org/NS&quot; ixml:state=&quot;failed&quot;&gt;\r\n       &lt;line&gt;1&lt;/line&gt;\r\n       &lt;column&gt;34&lt;/column&gt;\r\n       &lt;pos&gt;33&lt;/pos&gt;\r\n       &lt;unexpected&gt;!&lt;/unexpected&gt;\r\n       &lt;permitted&gt;#A&lt;/permitted&gt;\r\n       &lt;also-predicted&gt;&#39;W&#39;&lt;/also-predicted&gt;\r\n    &lt;/fail&gt;\r\n\r\nI am very new to this, but once I can get through this hump I can start dissecting, reverse engineering this, and etc... :D thank you!\r\n","title":"Invisible XML grammar wont work for this entry (using Coffeepot)","body":"<p>I am using coffeepot in a Java runtime to try to convert the following text:</p>\n<pre><code>WARNING: Do Not Modify This File!\nCheck 24.1.6 Data File\nCONTROL 1 (\n  code = CEZ_90_1_2016\n  compliance mode = UA\n  version = 24.1.6 )\nLOCATION 1 (\n  state = Texas\n  city =  USA )\nBUILDING 1 (\n  project type = NEW_CONSTRUCTION\n  bldg use type = WHOLE_BLDG\n  feet bldg height = 0.000\n  number of stories = 1\n  is nonresidential conditioning = TRUE\n  is residential conditioning = FALSE\n  is semiheated conditioning = FALSE\n  conditioning = HEATING_AND_COOLING)\nENVELOPE 1 (\n  use orient details = TRUE\n  use vlt details = TRUE\n  use cool roof performance details = FALSE )\nAG WALL 1 (\n  wall type = MASONRY_AG_WALL\n  next to uncond space = FALSE\n  concrete thickness = 12.00\n  concrete density = 115.00\n  furring type = NO_FURRING\n  cmu type = CMU_PARTIAL_GROUT_CELLS_EMPTY\n  list position = 1\n  description = &lt;|Concrete Block:12&quot;, Partially Grouted, Cells Empty|&gt;\n  assembly type = &lt;|Exterior Wall 1|&gt;\n  parent number = 0\n  bldg use key = 1884629903\n  continuous rvalue = 10.00\n  daylight credit = 0.000\n  orientation = WEST\n  allowance type = ENV_ALLOWANCE_NONE\n  exemption type = ENV_EXEMPTION_NONE\n  valid allowance type = FALSE\n  valid exemption type = FALSE\n  construction type = NON_RESIDENTIAL \n  adjacent space type = ADJACENT_SPACE_EXTERIOR \n  gross area = 3377.000)\nDOOR 4 (\n  door type = INSUL_METAL_DOOR\n  door open type = SWINGING_DOOR\n  list position = 3\n  description = &lt;|Insulated Metal|&gt;\n  assembly type = &lt;|Door 1|&gt;\n  parent number = 1\n  bldg use key = 1884629903\n  prop uvalue = 0.100000\n  daylight credit = 0.000\n  orientation = WEST\n  allowance type = ENV_ALLOWANCE_NONE\n  exemption type = ENV_EXEMPTION_NONE\n  valid allowance type = FALSE\n  valid exemption type = FALSE\n  construction type = NON_RESIDENTIAL \n  adjacent space type = ADJACENT_SPACE_EXTERIOR \n  gross area = 21.000)\nAG WALL 2 (\n  wall type = METAL_FRAME_16_AG_WALL\n  next to uncond space = FALSE\n  list position = 4\n  description = &lt;|Steel-Framed, 16&quot; o.c.|&gt;\n  assembly type = &lt;|Exterior Wall 2|&gt;\n  parent number = 0\n  bldg use key = 1884629903\n  cavity rvalue = 21.00\n  continuous rvalue = 0.00\n  daylight credit = 0.000\n  orientation = NORTH\n  allowance type = ENV_ALLOWANCE_NONE\n  exemption type = ENV_EXEMPTION_NONE\n  valid allowance type = FALSE\n  valid exemption type = FALSE\n  construction type = NON_RESIDENTIAL \n  adjacent space type = ADJACENT_SPACE_EXTERIOR \n  gross area = 42.000)\n</code></pre>\n<p>to:</p>\n<pre><code>&lt;Document xmlns:ixml=&quot;http://invisiblexml.org/NS&quot; ixml:state=&quot;ambiguous&quot;&gt;\n   &lt;data&gt;\n      &lt;name&gt;CONTROL&lt;/name&gt;\n      &lt;number&gt;1&lt;/number&gt;\n      &lt;property&gt;\n         &lt;name&gt;code&lt;/name&gt;\n         &lt;value&gt;CEZ_90_1_2016&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;compliance mode&lt;/name&gt;\n         &lt;value&gt;UA&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;version&lt;/name&gt;\n         &lt;value&gt;24.1.6&lt;/value&gt;\n      &lt;/property&gt;\n   &lt;/data&gt;\n   &lt;data&gt;\n      &lt;name&gt;LOCATION&lt;/name&gt;\n      &lt;number&gt;1&lt;/number&gt;\n      &lt;property&gt;\n         &lt;name&gt;state&lt;/name&gt;\n         &lt;value&gt;Texas&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;city&lt;/name&gt;\n         &lt;value&gt; USA&lt;/value&gt;\n      &lt;/property&gt;\n   &lt;/data&gt;\n   &lt;data&gt;\n      &lt;name&gt;BUILDING&lt;/name&gt;\n      &lt;number&gt;1&lt;/number&gt;\n      &lt;property&gt;\n         &lt;name&gt;project type&lt;/name&gt;\n         &lt;value&gt;NEW_CONSTRUCTION&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;bldg use type&lt;/name&gt;\n         &lt;value&gt;WHOLE_BLDG&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;feet bldg height&lt;/name&gt;\n         &lt;value&gt;0.000&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;number of stories&lt;/name&gt;\n         &lt;value&gt;1&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;is nonresidential conditioning&lt;/name&gt;\n         &lt;value&gt;TRUE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;is residential conditioning&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;is semiheated conditioning&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;conditioning&lt;/name&gt;\n         &lt;value&gt;HEATING_AND_COOLING&lt;/value&gt;\n      &lt;/property&gt;\n   &lt;/data&gt;\n   &lt;data&gt;\n      &lt;name&gt;ENVELOPE&lt;/name&gt;\n      &lt;number&gt;1&lt;/number&gt;\n      &lt;property&gt;\n         &lt;name&gt;use orient details&lt;/name&gt;\n         &lt;value&gt;TRUE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;use vlt details&lt;/name&gt;\n         &lt;value&gt;TRUE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;use cool roof performance details&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n   &lt;/data&gt;\n   &lt;data&gt;\n      &lt;name&gt;AG WALL&lt;/name&gt;\n      &lt;number&gt;1&lt;/number&gt;\n      &lt;property&gt;\n         &lt;name&gt;wall type&lt;/name&gt;\n         &lt;value&gt;MASONRY_AG_WALL&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;next to uncond space&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;concrete thickness&lt;/name&gt;\n         &lt;value&gt;12.00&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;concrete density&lt;/name&gt;\n         &lt;value&gt;115.00&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;furring type&lt;/name&gt;\n         &lt;value&gt;NO_FURRING&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;cmu type&lt;/name&gt;\n         &lt;value&gt;CMU_PARTIAL_GROUT_CELLS_EMPTY&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;list position&lt;/name&gt;\n         &lt;value&gt;1&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;description&lt;/name&gt;\n         &lt;value&gt;&amp;lt;|Concrete Block:12&quot;, Partially Grouted, Cells Empty|&gt;&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;assembly type&lt;/name&gt;\n         &lt;value&gt;&amp;lt;|Exterior Wall 1|&gt;&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;parent number&lt;/name&gt;\n         &lt;value&gt;0&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;bldg use key&lt;/name&gt;\n         &lt;value&gt;1884629903&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;continuous rvalue&lt;/name&gt;\n         &lt;value&gt;10.00&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;daylight credit&lt;/name&gt;\n         &lt;value&gt;0.000&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;orientation&lt;/name&gt;\n         &lt;value&gt;WEST&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;allowance type&lt;/name&gt;\n         &lt;value&gt;ENV_ALLOWANCE_NONE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;exemption type&lt;/name&gt;\n         &lt;value&gt;ENV_EXEMPTION_NONE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;valid allowance type&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;valid exemption type&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;construction type&lt;/name&gt;\n         &lt;value&gt;NON_RESIDENTIAL &lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;adjacent space type&lt;/name&gt;\n         &lt;value&gt;ADJACENT_SPACE_EXTERIOR &lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;gross area&lt;/name&gt;\n         &lt;value&gt;3377.000&lt;/value&gt;\n      &lt;/property&gt;\n   &lt;/data&gt;\n   &lt;data&gt;\n      &lt;name&gt;DOOR&lt;/name&gt;\n      &lt;number&gt;4&lt;/number&gt;\n      &lt;property&gt;\n         &lt;name&gt;door type&lt;/name&gt;\n         &lt;value&gt;INSUL_METAL_DOOR&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;door open type&lt;/name&gt;\n         &lt;value&gt;SWINGING_DOOR&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;list position&lt;/name&gt;\n         &lt;value&gt;3&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;description&lt;/name&gt;\n         &lt;value&gt;&amp;lt;|Insulated Metal|&gt;&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;assembly type&lt;/name&gt;\n         &lt;value&gt;&amp;lt;|Door 1|&gt;&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;parent number&lt;/name&gt;\n         &lt;value&gt;1&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;bldg use key&lt;/name&gt;\n         &lt;value&gt;1884629903&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;prop uvalue&lt;/name&gt;\n         &lt;value&gt;0.100000&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;daylight credit&lt;/name&gt;\n         &lt;value&gt;0.000&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;orientation&lt;/name&gt;\n         &lt;value&gt;WEST&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;allowance type&lt;/name&gt;\n         &lt;value&gt;ENV_ALLOWANCE_NONE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;exemption type&lt;/name&gt;\n         &lt;value&gt;ENV_EXEMPTION_NONE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;valid allowance type&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;valid exemption type&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;construction type&lt;/name&gt;\n         &lt;value&gt;NON_RESIDENTIAL &lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;adjacent space type&lt;/name&gt;\n         &lt;value&gt;ADJACENT_SPACE_EXTERIOR &lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;gross area&lt;/name&gt;\n         &lt;value&gt;21.000&lt;/value&gt;\n      &lt;/property&gt;\n   &lt;/data&gt;\n   &lt;data&gt;\n      &lt;name&gt;AG WALL&lt;/name&gt;\n      &lt;number&gt;2&lt;/number&gt;\n      &lt;property&gt;\n         &lt;name&gt;wall type&lt;/name&gt;\n         &lt;value&gt;METAL_FRAME_16_AG_WALL&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;next to uncond space&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;list position&lt;/name&gt;\n         &lt;value&gt;4&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;description&lt;/name&gt;\n         &lt;value&gt;&amp;lt;|Steel-Framed, 16&quot; o.c.|&gt;&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;assembly type&lt;/name&gt;\n         &lt;value&gt;&amp;lt;|Exterior Wall 2|&gt;&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;parent number&lt;/name&gt;\n         &lt;value&gt;0&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;bldg use key&lt;/name&gt;\n         &lt;value&gt;1884629903&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;cavity rvalue&lt;/name&gt;\n         &lt;value&gt;21.00&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;continuous rvalue&lt;/name&gt;\n         &lt;value&gt;0.00&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;daylight credit&lt;/name&gt;\n         &lt;value&gt;0.000&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;orientation&lt;/name&gt;\n         &lt;value&gt;NORTH&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;allowance type&lt;/name&gt;\n         &lt;value&gt;ENV_ALLOWANCE_NONE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;exemption type&lt;/name&gt;\n         &lt;value&gt;ENV_EXEMPTION_NONE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;valid allowance type&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;valid exemption type&lt;/name&gt;\n         &lt;value&gt;FALSE&lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;construction type&lt;/name&gt;\n         &lt;value&gt;NON_RESIDENTIAL &lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;adjacent space type&lt;/name&gt;\n         &lt;value&gt;ADJACENT_SPACE_EXTERIOR &lt;/value&gt;\n      &lt;/property&gt;\n      &lt;property&gt;\n         &lt;name&gt;gross area&lt;/name&gt;\n         &lt;value&gt;42.000&lt;/value&gt;\n      &lt;/property&gt;\n   &lt;/data&gt;\n&lt;/Document&gt;\n</code></pre>\n<p>with the following grammar:</p>\n<pre><code>Document = Warning, check, data+, #a? .\n-Warning = -&quot;WARNING: Do Not Modify This File!&quot;, -#a.\n-check = -&quot;Check 24.1.6 Data File&quot;, -#a .\ndata = name, -' ', number, -' (', -#a, property++-#a, -' '?, -')', -#a .\n\nname = namechar, (namechar | ' ')*, namechar .\n-namechar = ['A'-'Z'] | ['a'-'z'] .\nnumber = ['0'-'9']+ .\nproperty = -' '*, name, -' = ', value .\nvalue = ~[#a]+ .\n</code></pre>\n<p>I execute coffeepot with the following command line:</p>\n<pre><code>java -jar coffeepot-1.99.11.jar --input:input.txt --grammar:grammar.txt --pretty-print\n</code></pre>\n<p>However, I get the following error:</p>\n<pre><code>&lt;fail xmlns:ixml=&quot;http://invisiblexml.org/NS&quot; ixml:state=&quot;failed&quot;&gt;\n   &lt;line&gt;1&lt;/line&gt;\n   &lt;column&gt;34&lt;/column&gt;\n   &lt;pos&gt;33&lt;/pos&gt;\n   &lt;unexpected&gt;!&lt;/unexpected&gt;\n   &lt;permitted&gt;#A&lt;/permitted&gt;\n   &lt;also-predicted&gt;'W'&lt;/also-predicted&gt;\n&lt;/fail&gt;\n</code></pre>\n<p>I am very new to this, but once I can get through this hump I can start dissecting, reverse engineering this, and etc... :D thank you!</p>\n"},{"tags":["java","algorithm","dynamic-programming"],"comments":[{"owner":{"account_id":24380749,"reputation":697,"user_id":18312347,"display_name":"Luka Cerrutti"},"score":0,"creation_date":1666182176,"post_id":74125188,"comment_id":130874234,"body_markdown":"Seems like the second one is executing more constant operations + an extra iteration on the loop of the algorithm. But I really don&#39;t know why is that big of a difference here ","body":"Seems like the second one is executing more constant operations + an extra iteration on the loop of the algorithm. But I really don&#39;t know why is that big of a difference here "},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1666182633,"post_id":74125188,"comment_id":130874405,"body_markdown":"Perhaps they only time with ms resolution? I wouldn&#39;t get too excited -- do your own proper benchmarking.","body":"Perhaps they only time with ms resolution? I wouldn&#39;t get too excited -- do your own proper benchmarking."},{"owner":{"account_id":1167817,"reputation":443,"user_id":1145708,"display_name":"coder0h1t"},"score":0,"creation_date":1666182884,"post_id":74125188,"comment_id":130874530,"body_markdown":"@tgdavies - sure will do.","body":"@tgdavies - sure will do."},{"owner":{"account_id":4100162,"reputation":1393,"user_id":3365922,"display_name":"fas"},"score":0,"creation_date":1666583415,"post_id":74125188,"comment_id":130963687,"body_markdown":"Looks like time measurement inaccuracy. You can try resubmitting both solutions several times and see what happens.","body":"Looks like time measurement inaccuracy. You can try resubmitting both solutions several times and see what happens."}],"owner":{"account_id":1167817,"reputation":443,"user_id":1145708,"display_name":"coder0h1t"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666231676,"creation_date":1666181818,"question_id":74125188,"body_markdown":"Min Cost Climbing Stairs problem is defined here: https://leetcode.com/problems/min-cost-climbing-stairs/\r\n\r\nI have 2 solutions for this - 1 that takes 1ms to run on the leetcode submission and is faster than 89.65% of Java submissions and the 2nd that takes 2ms and is faster than only 39.33% of the Java submissions on Leetcode. \r\nI need help figuring out how are the solutions so drastically different in terms of time complexity when they look similar to each other. There must be some nuance I am missing which I want to better understand.\r\n\r\n\r\nI am sharing the 2 solutions below:\r\n\r\n1. Executes in 1ms and is faster than 89.65% of Java submissions:\r\n```\r\n    public int minCostClimbingStairs(int[] cost) {\r\n        // The array&#39;s length should be 1 longer than the length of cost\r\n        // This is because we can treat the &quot;top floor&quot; as a step to reach\r\n        int minimumCost[] = new int[cost.length + 1];\r\n        \r\n        // Start iteration from step 2, since the minimum cost of reaching\r\n        // step 0 and step 1 is 0\r\n        for (int i = 2; i &lt; minimumCost.length; i++) {\r\n            int takeOneStep = minimumCost[i - 1] + cost[i - 1];\r\n            int takeTwoSteps = minimumCost[i - 2] + cost[i - 2];\r\n            minimumCost[i] = Math.min(takeOneStep, takeTwoSteps);\r\n        }\r\n        \r\n        // The final element in minimumCost refers to the top floor\r\n        return minimumCost[minimumCost.length - 1];\r\n    }\r\n```\r\n\r\n2. Executes in 2ms and is faster than 39.33% of Java submissions:\r\n```\r\n    public int minCostClimbingStairs(int[] cost) {\r\n        //cost: 0 -&gt;n-1\r\n\t\t//dp: 1-&gt;n\r\n\t\tint[] dp = new int[cost.length+1];\r\n\t\tdp[0]=0;\r\n\t\tdp[1]=0;\r\n\t\t//k=2\r\n\t\tfor(int i=1;i&lt;cost.length;i++) {\r\n\t\t\tdp[i+1] = cost[i] + Math.min(dp[i], dp[i-1]);\r\n\t\t}\r\n\t\t\r\n\t\treturn Math.min(dp[cost.length], dp[cost.length-1]);\r\n\t\t\r\n    }\r\n```\r\n","title":"Time complexity difference between 2 solutions for Min Cost Climbing Stairs","body":"<p>Min Cost Climbing Stairs problem is defined here: <a href=\"https://leetcode.com/problems/min-cost-climbing-stairs/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/min-cost-climbing-stairs/</a></p>\n<p>I have 2 solutions for this - 1 that takes 1ms to run on the leetcode submission and is faster than 89.65% of Java submissions and the 2nd that takes 2ms and is faster than only 39.33% of the Java submissions on Leetcode.\nI need help figuring out how are the solutions so drastically different in terms of time complexity when they look similar to each other. There must be some nuance I am missing which I want to better understand.</p>\n<p>I am sharing the 2 solutions below:</p>\n<ol>\n<li>Executes in 1ms and is faster than 89.65% of Java submissions:</li>\n</ol>\n<pre><code>    public int minCostClimbingStairs(int[] cost) {\n        // The array's length should be 1 longer than the length of cost\n        // This is because we can treat the &quot;top floor&quot; as a step to reach\n        int minimumCost[] = new int[cost.length + 1];\n        \n        // Start iteration from step 2, since the minimum cost of reaching\n        // step 0 and step 1 is 0\n        for (int i = 2; i &lt; minimumCost.length; i++) {\n            int takeOneStep = minimumCost[i - 1] + cost[i - 1];\n            int takeTwoSteps = minimumCost[i - 2] + cost[i - 2];\n            minimumCost[i] = Math.min(takeOneStep, takeTwoSteps);\n        }\n        \n        // The final element in minimumCost refers to the top floor\n        return minimumCost[minimumCost.length - 1];\n    }\n</code></pre>\n<ol start=\"2\">\n<li>Executes in 2ms and is faster than 39.33% of Java submissions:</li>\n</ol>\n<pre><code>    public int minCostClimbingStairs(int[] cost) {\n        //cost: 0 -&gt;n-1\n        //dp: 1-&gt;n\n        int[] dp = new int[cost.length+1];\n        dp[0]=0;\n        dp[1]=0;\n        //k=2\n        for(int i=1;i&lt;cost.length;i++) {\n            dp[i+1] = cost[i] + Math.min(dp[i], dp[i-1]);\n        }\n        \n        return Math.min(dp[cost.length], dp[cost.length-1]);\n        \n    }\n</code></pre>\n"},{"tags":["java","android","android-studio","openstreetmap","osmdroid"],"answers":[{"tags":[],"owner":{"account_id":12401383,"reputation":3636,"user_id":9038475,"display_name":"Geshode"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666231654,"creation_date":1666231654,"answer_id":74133697,"question_id":71868899,"body_markdown":"You could do the following to get the current location and then check if it is close to the Polyline.\r\n\r\n    MyLocationNewOverlay myLocation= new MyLocationNewOverlay(mapView) {\r\n      @Override\r\n      public void onLocationChanged(Location location, IMyLocationProvider source) {\r\n        super.onLocationChanger(location, source);\r\n\r\n        // Turn the current location into a GeoPoint\r\n        GeoPoint currentPoint = new GeoPoint(location.getLatitude(), location.getLongitude);\r\n\r\n        // Set tolerance for isCloseTo \r\n        // Might need to play around with this value \r\n        // and see which fits best for your needs\r\n        double tolerance = 5.0;\r\n    \r\n        // Check if location is close to Polyline\r\n        if (line.isCloseTo(currentPoint, tolerance, map)) {\r\n            // Do here what you want to do, \r\n            // when location is close to Polyline\r\n        }\r\n      }\r\n    }\r\n\r\nChecking, if the location/GeoPoint is within a given polygon is a bit more work, since the only integrated method for that is based on MotionEvent rather than GeoPoint and only returns a correct value in a very specific scenario, see [this](https://osmdroid.github.io/osmdroid/javadocAll/org/osmdroid/views/overlay/Polygon.html#contains-MotionEvent-) for reference. But there are some answers out there, which might be usable for your need, like [this one](https://stackoverflow.com/a/36128812/9038475).\r\n\r\nReferences: \r\n- [Get the current location](https://stackoverflow.com/a/73064938/9038475)\r\n- [OSMDroid Geopoint class](https://osmdroid.github.io/osmdroid/javadocs/osmdroid-android/debug/index.html?org/osmdroid/util/GeoPoint.html)\r\n- [Android Location class](https://developer.android.com/reference/android/location/Location#getLatitude())\r\n- [OSMDroid Polyline.isCloseTo](https://osmdroid.github.io/osmdroid/javadocAll/org/osmdroid/views/overlay/Polyline.html#isCloseTo-org.osmdroid.util.GeoPoint-double-org.osmdroid.views.MapView-)\r\n- [OSMDroid Polygon.contains](https://osmdroid.github.io/osmdroid/javadocAll/org/osmdroid/views/overlay/Polygon.html#contains-MotionEvent-)\r\n- [One way to check if point is in a polygon](https://stackoverflow.com/a/36128812/9038475)","title":"How to get name of polygon or polyline if my location inthere ? (OSMDroid)","body":"<p>You could do the following to get the current location and then check if it is close to the Polyline.</p>\n<pre><code>MyLocationNewOverlay myLocation= new MyLocationNewOverlay(mapView) {\n  @Override\n  public void onLocationChanged(Location location, IMyLocationProvider source) {\n    super.onLocationChanger(location, source);\n\n    // Turn the current location into a GeoPoint\n    GeoPoint currentPoint = new GeoPoint(location.getLatitude(), location.getLongitude);\n\n    // Set tolerance for isCloseTo \n    // Might need to play around with this value \n    // and see which fits best for your needs\n    double tolerance = 5.0;\n\n    // Check if location is close to Polyline\n    if (line.isCloseTo(currentPoint, tolerance, map)) {\n        // Do here what you want to do, \n        // when location is close to Polyline\n    }\n  }\n}\n</code></pre>\n<p>Checking, if the location/GeoPoint is within a given polygon is a bit more work, since the only integrated method for that is based on MotionEvent rather than GeoPoint and only returns a correct value in a very specific scenario, see <a href=\"https://osmdroid.github.io/osmdroid/javadocAll/org/osmdroid/views/overlay/Polygon.html#contains-MotionEvent-\" rel=\"nofollow noreferrer\">this</a> for reference. But there are some answers out there, which might be usable for your need, like <a href=\"https://stackoverflow.com/a/36128812/9038475\">this one</a>.</p>\n<p>References:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/73064938/9038475\">Get the current location</a></li>\n<li><a href=\"https://osmdroid.github.io/osmdroid/javadocs/osmdroid-android/debug/index.html?org/osmdroid/util/GeoPoint.html\" rel=\"nofollow noreferrer\">OSMDroid Geopoint class</a></li>\n<li><a href=\"https://developer.android.com/reference/android/location/Location#getLatitude()\" rel=\"nofollow noreferrer\">Android Location class</a></li>\n<li><a href=\"https://osmdroid.github.io/osmdroid/javadocAll/org/osmdroid/views/overlay/Polyline.html#isCloseTo-org.osmdroid.util.GeoPoint-double-org.osmdroid.views.MapView-\" rel=\"nofollow noreferrer\">OSMDroid Polyline.isCloseTo</a></li>\n<li><a href=\"https://osmdroid.github.io/osmdroid/javadocAll/org/osmdroid/views/overlay/Polygon.html#contains-MotionEvent-\" rel=\"nofollow noreferrer\">OSMDroid Polygon.contains</a></li>\n<li><a href=\"https://stackoverflow.com/a/36128812/9038475\">One way to check if point is in a polygon</a></li>\n</ul>\n"}],"owner":{"account_id":19271762,"reputation":99,"user_id":14085547,"display_name":"Rado HT Simarmata"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666231654,"creation_date":1649926107,"question_id":71868899,"body_markdown":"Im working with OSMDroid to make map offline in Android Studio.\r\n\r\n\r\nthis is my code to create Polygon : \r\n```\r\npolygon = new Polygon();\r\npolygon.setPoints(list_polygon);\r\npolygon.setFillColor(Color.parseColor(&quot;#1D566E&quot;));\r\npolygon.setTitle(name_map);\r\npolygon.getOutlinePaint().setColor(polygon.getFillPaint().getColor());\r\nmap.getOverlays().add(polygon);\r\n```\r\nthis code is to create line : \r\n```\r\nline = new Polyline();\r\nline.setPoints(list_line);\r\nline.setGeodesic(true);\r\nline.setColor(Color.parseColor(&quot;#E33E5A&quot;));\r\nline.getOutlinePaint().setStrokeWidth(30f);\r\nline.setWidth(15f);\r\nline.getPaint().setStrokeCap(Paint.Cap.ROUND);\r\nmap.getOverlays().add(line);\r\n```\r\nand this code is to get my location :\r\n```\r\nmyLocation = new MyLocationNewOverlay(map);\r\nmyLocation.enableFollowLocation();\r\nmyLocation.setDirectionArrow(icTruk, icTruk);\r\nmyLocation.enableMyLocation();\r\nmyLocation.setDrawAccuracyEnabled(true);\r\nmap.getOverlays().add(myLocation);\r\n```\r\nI have done to create polygon and polyline in osmdroid.\r\nBut now i want read that polygon or polyline if mylocation inthere ?\r\nHow to make it posible ?\r\n","title":"How to get name of polygon or polyline if my location inthere ? (OSMDroid)","body":"<p>Im working with OSMDroid to make map offline in Android Studio.</p>\n<p>this is my code to create Polygon :</p>\n<pre><code>polygon = new Polygon();\npolygon.setPoints(list_polygon);\npolygon.setFillColor(Color.parseColor(&quot;#1D566E&quot;));\npolygon.setTitle(name_map);\npolygon.getOutlinePaint().setColor(polygon.getFillPaint().getColor());\nmap.getOverlays().add(polygon);\n</code></pre>\n<p>this code is to create line :</p>\n<pre><code>line = new Polyline();\nline.setPoints(list_line);\nline.setGeodesic(true);\nline.setColor(Color.parseColor(&quot;#E33E5A&quot;));\nline.getOutlinePaint().setStrokeWidth(30f);\nline.setWidth(15f);\nline.getPaint().setStrokeCap(Paint.Cap.ROUND);\nmap.getOverlays().add(line);\n</code></pre>\n<p>and this code is to get my location :</p>\n<pre><code>myLocation = new MyLocationNewOverlay(map);\nmyLocation.enableFollowLocation();\nmyLocation.setDirectionArrow(icTruk, icTruk);\nmyLocation.enableMyLocation();\nmyLocation.setDrawAccuracyEnabled(true);\nmap.getOverlays().add(myLocation);\n</code></pre>\n<p>I have done to create polygon and polyline in osmdroid.\nBut now i want read that polygon or polyline if mylocation inthere ?\nHow to make it posible ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1604752,"reputation":3710,"user_id":1485064,"accept_rate":74,"display_name":"Mikkel L&#248;kke"},"score":0,"creation_date":1401112920,"post_id":23871889,"comment_id":36744928,"body_markdown":"Which Classloader are you using? What build tool are you using? Is it a Webapp?","body":"Which Classloader are you using? What build tool are you using? Is it a Webapp?"},{"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"score":0,"creation_date":1401113373,"post_id":23871889,"comment_id":36745141,"body_markdown":"The `resources` are to be found in the classpath. So a) it will not be inside the `src` directory and b) you only need to specify the package path. So, &quot;dao/dao.properties&quot;","body":"The <code>resources</code> are to be found in the classpath. So a) it will not be inside the <code>src</code> directory and b) you only need to specify the package path. So, &quot;dao/dao.properties&quot;"},{"owner":{"account_id":3975299,"reputation":1357,"user_id":3278631,"accept_rate":84,"display_name":"Lucie kulza"},"score":0,"creation_date":1401113495,"post_id":23871889,"comment_id":36745212,"body_markdown":"@SJuan76, that&#39;ve worked! would you make an answer ?","body":"@SJuan76, that&#39;ve worked! would you make an answer ?"},{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":1,"creation_date":1401115942,"post_id":23871889,"comment_id":36746571,"body_markdown":"I guess @SJuan76 that is you know how things works, so why you bother to down vote? This is a place to ask, not to critic. Consider add useful information please.","body":"I guess @SJuan76 that is you know how things works, so why you bother to down vote? This is a place to ask, not to critic. Consider add useful information please."},{"owner":{"account_id":2789104,"reputation":738,"user_id":2399731,"accept_rate":73,"display_name":"oussama.elhadri"},"score":0,"creation_date":1401119078,"post_id":23871889,"comment_id":36748072,"body_markdown":"this post explain how the classLoader works [here][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/676250/different-ways-of-loading-a-file-as-an-inputstream","body":"this post explain how the classLoader works [here][1]        [1]: <a href=\"http://stackoverflow.com/questions/676250/different-ways-of-loading-a-file-as-an-inputstream\" title=\"different ways of loading a file as an inputstream\">stackoverflow.com/questions/676250/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"score":0,"creation_date":1401115825,"post_id":23872145,"comment_id":36746516,"body_markdown":"Why the downvote? Consider please add somethign useful... i really don&#39;t understand what is the point to donwvote without comments. Is totally void.","body":"Why the downvote? Consider please add somethign useful... i really don&#39;t understand what is the point to donwvote without comments. Is totally void."}],"tags":[],"owner":{"account_id":533594,"reputation":3851,"user_id":903998,"accept_rate":75,"display_name":"Victor"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1666230719,"creation_date":1401113660,"answer_id":23872145,"question_id":23871889,"body_markdown":"If you put the file inside the src folder, the IDE probably is packaging, when instructed to compile and build, the file into the bundled generated jar. So you can reach with the method `GetResourceAsStream`. \r\n\r\nSo if you put the file (dao.properties) in root folder of your sources files (generally the src folder), just simple referring to `dao.properties` will refer to the resource. \r\n\r\nIf you put the file inside a subfolder of src, the correct way to reference it would be subfolder/dao.properties.\r\n\r\nThe first `&quot;/&quot;` is not necessary as the `getResourceAsStream` always search in the `classpath`, that for default is the root of the sources folder, inside the jar. (where are not talking about external files!)\r\n\r\n\r\nUpdated:\r\n--------\r\n\r\nAssuming you place a file name notes.txt inside a folder(package) named &#180;sub&#180;, this is valid example, only for purporses of how to get a bundled file that is in jar.\r\n\r\n    public class Main {\r\n\r\n    public static void main (String[] args) throws IOException {\r\n        InputStream is = Main.class.getResourceAsStream(&quot;sub/notes.txt&quot;);\r\n        InputStreamReader isr = new InputStreamReader(is);\r\n        BufferedReader br = new BufferedReader(isr);\r\n        String s = br.readLine();\r\n        while (s != null) {\r\n            System.out.println (s);\r\n            s = br.readLine();\r\n        }\r\n        is.close();\r\n    }\r\n    }\r\n\r\nI add more information about this, by referring to this [post][1]\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2308188/getresourceasstream-vs-fileinputstream","title":"How to link a local file","body":"<p>If you put the file inside the src folder, the IDE probably is packaging, when instructed to compile and build, the file into the bundled generated jar. So you can reach with the method <code>GetResourceAsStream</code>.</p>\n<p>So if you put the file (dao.properties) in root folder of your sources files (generally the src folder), just simple referring to <code>dao.properties</code> will refer to the resource.</p>\n<p>If you put the file inside a subfolder of src, the correct way to reference it would be subfolder/dao.properties.</p>\n<p>The first <code>&quot;/&quot;</code> is not necessary as the <code>getResourceAsStream</code> always search in the <code>classpath</code>, that for default is the root of the sources folder, inside the jar. (where are not talking about external files!)</p>\n<h2>Updated:</h2>\n<p>Assuming you place a file name notes.txt inside a folder(package) named sub, this is valid example, only for purporses of how to get a bundled file that is in jar.</p>\n<pre><code>public class Main {\n\npublic static void main (String[] args) throws IOException {\n    InputStream is = Main.class.getResourceAsStream(&quot;sub/notes.txt&quot;);\n    InputStreamReader isr = new InputStreamReader(is);\n    BufferedReader br = new BufferedReader(isr);\n    String s = br.readLine();\n    while (s != null) {\n        System.out.println (s);\n        s = br.readLine();\n    }\n    is.close();\n}\n}\n</code></pre>\n<p>I add more information about this, by referring to this <a href=\"https://stackoverflow.com/questions/2308188/getresourceasstream-vs-fileinputstream\">post</a></p>\n"}],"owner":{"account_id":3975299,"reputation":1357,"user_id":3278631,"accept_rate":84,"display_name":"Lucie kulza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":23872145,"answer_count":1,"score":0,"last_activity_date":1666230719,"creation_date":1401112790,"question_id":23871889,"body_markdown":"I&#39;m trying to use a local file in which I&#39;ve specified my db connection properties which is named `dao.properties`. And I&#39;m proceeding this way:\r\n\r\n    InputStream fichierProperties = classLoader.getResourceAsStream( &quot;/src/dao/dao.properties&quot; );\r\n\r\nHowever, when using this path, I&#39;m getting an exception stating that the debugger wasn&#39;t able to find that file. \r\n\r\nHere are some packages in my project:\r\n\r\n![enter image description here][1]\r\n\r\nThe dao.properties is just under the dao package.\r\n\r\nHow do I resolve this, please?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/BPhoK.png","title":"How to link a local file","body":"<p>I'm trying to use a local file in which I've specified my db connection properties which is named <code>dao.properties</code>. And I'm proceeding this way:</p>\n\n<pre><code>InputStream fichierProperties = classLoader.getResourceAsStream( \"/src/dao/dao.properties\" );\n</code></pre>\n\n<p>However, when using this path, I'm getting an exception stating that the debugger wasn't able to find that file. </p>\n\n<p>Here are some packages in my project:</p>\n\n<p><img src=\"https://i.stack.imgur.com/BPhoK.png\" alt=\"enter image description here\"></p>\n\n<p>The dao.properties is just under the dao package.</p>\n\n<p>How do I resolve this, please?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","microservices"],"comments":[{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666185677,"post_id":74125847,"comment_id":130875732,"body_markdown":"Have you tried excluding **org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration**? Check out this [link](https://www.baeldung.com/spring-data-disable-auto-config) to learn how to do that.","body":"Have you tried excluding <b>org.springframework.boot.autoconfigure.jdbc.DataSourceAutoCo&zwnj;&#8203;nfiguration</b>? Check out this <a href=\"https://www.baeldung.com/spring-data-disable-auto-config\" rel=\"nofollow noreferrer\">link</a> to learn how to do that."},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666186713,"post_id":74125847,"comment_id":130876171,"body_markdown":"Sorry but your question is not clear. Can you please give more details on requirement?","body":"Sorry but your question is not clear. Can you please give more details on requirement?"},{"owner":{"account_id":3718223,"reputation":43,"user_id":3093845,"accept_rate":20,"display_name":"user3093845"},"score":0,"creation_date":1666205464,"post_id":74125847,"comment_id":130883194,"body_markdown":"@RohitAgarwal updated the question Please take a look\n\nRequirement:\n   case 1. Service should be up and running irrespective of DB status \n   case 2. Jpa/Hibernate should update the database schema by comparing the existing schema with the entity mappings and generate the appropriate schema migration scripts (hbm2ddl.auto: update)\n\nCan we achieve both? If yes how? or Do I have to compromise with one?\nIf I am going with only &quot;case 1&quot; do I have to rely on running schema updates manually or is there any other way?","body":"@RohitAgarwal updated the question Please take a look  Requirement:    case 1. Service should be up and running irrespective of DB status     case 2. Jpa/Hibernate should update the database schema by comparing the existing schema with the entity mappings and generate the appropriate schema migration scripts (hbm2ddl.auto: update)  Can we achieve both? If yes how? or Do I have to compromise with one? If I am going with only &quot;case 1&quot; do I have to rely on running schema updates manually or is there any other way?"},{"owner":{"account_id":3718223,"reputation":43,"user_id":3093845,"accept_rate":20,"display_name":"user3093845"},"score":0,"creation_date":1666205602,"post_id":74125847,"comment_id":130883239,"body_markdown":"@mrkachariker in this case (excluding DataSourceAutoConfiguration) we have to compromise on hbm2ddl.auto: update. Am I correct?","body":"@mrkachariker in this case (excluding DataSourceAutoConfiguration) we have to compromise on hbm2ddl.auto: update. Am I correct?"},{"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"score":0,"creation_date":1666239447,"post_id":74125847,"comment_id":130889981,"body_markdown":"@user3093845 - this is very strange requirement. You want that services should be up and running without DB status and you are using DB in your code. As you mentioned in question that you are doing this because all microservices should be be independent and yes that is the rule but how it is related to your requirement? \n\nIf your api is dependent on DB and DB is down then api should be down or if you dont want to do that then keep backup DB for failure","body":"@user3093845 - this is very strange requirement. You want that services should be up and running without DB status and you are using DB in your code. As you mentioned in question that you are doing this because all microservices should be be independent and yes that is the rule but how it is related to your requirement?   If your api is dependent on DB and DB is down then api should be down or if you dont want to do that then keep backup DB for failure"}],"answers":[{"comments":[{"owner":{"account_id":3718223,"reputation":43,"user_id":3093845,"accept_rate":20,"display_name":"user3093845"},"score":0,"creation_date":1666237734,"post_id":74133612,"comment_id":130889719,"body_markdown":"Thanks a lot for the immediate response. One question Jpa/Hibernate used to take this responsibility (hbm2ddl.auto: update) that why it needed to connect to DB before the application started.  If we are going with liquiase or flyway kind of plugin, these plugins will also be required to connect to DB. so what will be the ideal behavior if something fails while updating?","body":"Thanks a lot for the immediate response. One question Jpa/Hibernate used to take this responsibility (hbm2ddl.auto: update) that why it needed to connect to DB before the application started.  If we are going with liquiase or flyway kind of plugin, these plugins will also be required to connect to DB. so what will be the ideal behavior if something fails while updating?"},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1666298408,"post_id":74133612,"comment_id":130910428,"body_markdown":"If something fails while updating you should rollback to the state before the tried out change, but I think liquibase already does that for you if you implement it correctly.","body":"If something fails while updating you should rollback to the state before the tried out change, but I think liquibase already does that for you if you implement it correctly."},{"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"score":0,"creation_date":1667907155,"post_id":74133612,"comment_id":131274658,"body_markdown":"Hey @user3093845 did my answer help you in solving your issue? If so I would appreciate it if you chose it as correct!","body":"Hey @user3093845 did my answer help you in solving your issue? If so I would appreciate it if you chose it as correct!"}],"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666230457,"creation_date":1666230457,"answer_id":74133612,"question_id":74125847,"body_markdown":"As mentioned in the comment you can exclude `org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration`if you wish for spring boot to ignore the status of the data source ([link on how to do that](https://www.baeldung.com/spring-data-disable-auto-config)). In order to still have the schema auto-generated/controlled outside of your actual db you could use something like [liquibase](https://www.liquibase.org/), which is used a lot in production environments. \r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-data-disable-auto-config","title":"Spring boot micro-service should come up irrespective of Db status","body":"<p>As mentioned in the comment you can exclude <code>org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration</code>if you wish for spring boot to ignore the status of the data source (<a href=\"https://www.baeldung.com/spring-data-disable-auto-config\" rel=\"nofollow noreferrer\">link on how to do that</a>). In order to still have the schema auto-generated/controlled outside of your actual db you could use something like <a href=\"https://www.liquibase.org/\" rel=\"nofollow noreferrer\">liquibase</a>, which is used a lot in production environments.</p>\n"}],"owner":{"account_id":3718223,"reputation":43,"user_id":3093845,"accept_rate":20,"display_name":"user3093845"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74133612,"answer_count":1,"score":0,"last_activity_date":1666230457,"creation_date":1666184685,"question_id":74125847,"body_markdown":"What I am looking for is some suggestions on this behavior: Spring boot app(Considered as a microservice) should come up, irrespective of Db status.\r\n\r\nWhy I am doing this?\r\nBased on my understanding of the microservice all services should be independent of each other. \r\n\r\nI am using Spring boot with JPA (org.springframework.boot&#39; version &#39;2.5.7&#39;). I am able to achieve this using the below configuration\r\n\r\n````\r\nspring:\r\n  datasource:\r\n    driverClassName: org.postgresql.Driver\r\n    url: jdbc:postgresql://localhost:5433/xxx?createDatabaseIfNotExist=true&amp;characterEncoding=utf8&amp;enabledTLSProtocols=TLSv1.2&amp;useSSL=false\r\n    username: xx\r\n    password: xx\r\n    continueOnError: true\r\n    initialize: false\r\n    initialSize: 0\r\n    timeBetweenEvictionRunsMillis: 5000\r\n    minEvictableIdleTimeMillis: 5000\r\n    minIdle: 0\r\n\r\n  jpa:\r\n    show-sql: true\r\n    hibernate:\r\n      naming_strategy: org.hibernate.cfg.DefaultNamingStrategy\r\n    properties:\r\n      hibernate:   \r\n        dialect: org.hibernate.dialect.PostgreSQLDialect\r\n        hbm2ddl:\r\n          auto: none\r\n        temp:\r\n          use_jdbc_metadata_defaults: false    \r\n````\r\nBut now the issue is I have to make hbm2ddl.auto none. Due to this, I am losing update schema functionalists which is one of the very essential functionality. \r\n\r\nRequirement:\r\n   case 1. Service should be up and running irrespective of DB status \r\n   case 2. Jpa/Hibernate should update the database schema by comparing the existing schema with the entity mappings and generate the appropriate schema migration scripts (hbm2ddl.auto: update)\r\n\r\nCan we achieve both? If yes how? or Do I have to compromise with one?\r\nIf I am going with only &quot;case 1&quot; do I have to rely on running schema updates manually or is there any other way?\r\n\r\nthanks in advance\r\n","title":"Spring boot micro-service should come up irrespective of Db status","body":"<p>What I am looking for is some suggestions on this behavior: Spring boot app(Considered as a microservice) should come up, irrespective of Db status.</p>\n<p>Why I am doing this?\nBased on my understanding of the microservice all services should be independent of each other.</p>\n<p>I am using Spring boot with JPA (org.springframework.boot' version '2.5.7'). I am able to achieve this using the below configuration</p>\n<pre><code>spring:\n  datasource:\n    driverClassName: org.postgresql.Driver\n    url: jdbc:postgresql://localhost:5433/xxx?createDatabaseIfNotExist=true&amp;characterEncoding=utf8&amp;enabledTLSProtocols=TLSv1.2&amp;useSSL=false\n    username: xx\n    password: xx\n    continueOnError: true\n    initialize: false\n    initialSize: 0\n    timeBetweenEvictionRunsMillis: 5000\n    minEvictableIdleTimeMillis: 5000\n    minIdle: 0\n\n  jpa:\n    show-sql: true\n    hibernate:\n      naming_strategy: org.hibernate.cfg.DefaultNamingStrategy\n    properties:\n      hibernate:   \n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        hbm2ddl:\n          auto: none\n        temp:\n          use_jdbc_metadata_defaults: false    \n</code></pre>\n<p>But now the issue is I have to make hbm2ddl.auto none. Due to this, I am losing update schema functionalists which is one of the very essential functionality.</p>\n<p>Requirement:\ncase 1. Service should be up and running irrespective of DB status\ncase 2. Jpa/Hibernate should update the database schema by comparing the existing schema with the entity mappings and generate the appropriate schema migration scripts (hbm2ddl.auto: update)</p>\n<p>Can we achieve both? If yes how? or Do I have to compromise with one?\nIf I am going with only &quot;case 1&quot; do I have to rely on running schema updates manually or is there any other way?</p>\n<p>thanks in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666230657,"post_id":74133603,"comment_id":130888770,"body_markdown":"Learn about the asciitable","body":"Learn about the asciitable"},{"owner":{"account_id":4876168,"reputation":3687,"user_id":3931225,"display_name":"KompjoeFriek"},"score":1,"creation_date":1666230930,"post_id":74133603,"comment_id":130888799,"body_markdown":"Given your current definition it is unclear what the &quot;previous char&quot; of `A` would be","body":"Given your current definition it is unclear what the &quot;previous char&quot; of <code>A</code> would be"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1666231266,"post_id":74133603,"comment_id":130888845,"body_markdown":"In Java `char` is *numeric* type representing *index* of character in Unicode Table. So if you have `char ch = &#39;B&#39;;` you can cast it to `int` to see index of `A` via `int index = (int)ch;`. Also we can use mathematical operators on `char` like `+` `-` for instance `&#39;A&#39;+1`. BUT result of such calculation will be of type `int` not `char`, so you may need to cast that result back to `char` if you want to know what symbol is after it like `char afterB = (char)(&#39;B&#39;+1);`.","body":"In Java <code>char</code> is <i>numeric</i> type representing <i>index</i> of character in Unicode Table. So if you have <code>char ch = &#39;B&#39;;</code> you can cast it to <code>int</code> to see index of <code>A</code> via <code>int index = (int)ch;</code>. Also we can use mathematical operators on <code>char</code> like <code>+</code> <code>-</code> for instance <code>&#39;A&#39;+1</code>. BUT result of such calculation will be of type <code>int</code> not <code>char</code>, so you may need to cast that result back to <code>char</code> if you want to know what symbol is after it like <code>char afterB = (char)(&#39;B&#39;+1);</code>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1666232876,"post_id":74133603,"comment_id":130889024,"body_markdown":"Try executing `System.out.println((char)(&#39;B&#39; - 1));`","body":"Try executing <code>System.out.println((char)(&#39;B&#39; - 1));</code>"}],"owner":{"account_id":26488720,"reputation":1,"user_id":20126873,"display_name":"RaOm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666231271,"answer_count":0,"score":0,"last_activity_date":1666230360,"creation_date":1666230360,"question_id":74133603,"body_markdown":"the user will enter a char and I have to implement the previous char then the given char then the previous char again for example:\r\ninput: B\r\noutput: ABA\r\nso how to get the previous char?","title":"How to get the previous char of a given char in java?","body":"<p>the user will enter a char and I have to implement the previous char then the given char then the previous char again for example:\ninput: B\noutput: ABA\nso how to get the previous char?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666229818,"post_id":74133547,"comment_id":130888678,"body_markdown":"Please add more context to your issue. Have you looked into creating your own custom Adapter?","body":"Please add more context to your issue. Have you looked into creating your own custom Adapter?"}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666230352,"creation_date":1666230352,"answer_id":74133601,"question_id":74133547,"body_markdown":"Don&#39;t use an ArrayAdapter.  Use a custom adapter and set the background of each item.\r\n\r\nBetter yet-  don&#39;t use ListView.  It&#39;s been deprecated for most of a decade.  Use a RecyclerView, and set the background color in onBindViewHolder.","title":"How to set a DIFF background color of EACH item clicked on my List- can only get it to send 1 color for each item selected using setBackgroundColor()","body":"<p>Don't use an ArrayAdapter.  Use a custom adapter and set the background of each item.</p>\n<p>Better yet-  don't use ListView.  It's been deprecated for most of a decade.  Use a RecyclerView, and set the background color in onBindViewHolder.</p>\n"}],"owner":{"account_id":25421811,"reputation":13,"user_id":19227678,"display_name":"avvvv"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666230352,"creation_date":1666229570,"question_id":74133547,"body_markdown":"    public class SecondActivity extends AppCompatActivity {\r\n    \r\n    \r\n        private String [] myList = new String[]{&quot;Blue&quot;, &quot;Green&quot;, &quot;Red&quot;};\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_second);\r\n    \r\n            ListView listView = (ListView)findViewById(R.id.ListView);\r\n            ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\r\n                    android.R.layout.simple_list_item_1, android.R.id.text1, myList);\r\n    \r\n            listView.setAdapter(adapter);\r\n    \r\n        }\r\n    }","title":"How to set a DIFF background color of EACH item clicked on my List- can only get it to send 1 color for each item selected using setBackgroundColor()","body":"<pre><code>public class SecondActivity extends AppCompatActivity {\n\n\n    private String [] myList = new String[]{&quot;Blue&quot;, &quot;Green&quot;, &quot;Red&quot;};\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_second);\n\n        ListView listView = (ListView)findViewById(R.id.ListView);\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(this,\n                android.R.layout.simple_list_item_1, android.R.id.text1, myList);\n\n        listView.setAdapter(adapter);\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666230958,"post_id":74133585,"comment_id":130888803,"body_markdown":"Maybe you are missing curly braces when using `if` statements e.g. `if ( courseGrade.equals( &quot;A&quot; ) ) {\n        System.out.println( &quot;Outstanding&quot; );\n      QP += 4; }`","body":"Maybe you are missing curly braces when using <code>if</code> statements e.g. <code>if ( courseGrade.equals( &quot;A&quot; ) ) {         System.out.println( &quot;Outstanding&quot; );       QP += 4; }</code>"},{"owner":{"display_name":"user20287214"},"score":0,"creation_date":1666231279,"post_id":74133585,"comment_id":130888848,"body_markdown":"Ah silly me :&#39;) thankyou for help, it worked well","body":"Ah silly me :&#39;) thankyou for help, it worked well"}],"owner":{"display_name":"user20287214"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666230082,"creation_date":1666230082,"question_id":74133585,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class Grades2\r\n    {\r\n      public static void main( String[] args )\r\n      {\r\n        \r\n        int NUMBER_OF_COURSES = 5;\r\n        int totalQualityPoints;\r\n        double GPA; // Grade Point Average\r\n        int QP = 0; // only need to store quality points\r\n        String courseGrade;\r\n        int[] courseNumber ={5};\r\n        \r\n        Scanner in = new Scanner( System.in );\r\n        \r\n        for (int n = 1; n&lt;=5; n++) \r\n        {\r\n          System.out.print( &quot;Enter Class &quot;+n+&quot; grade : &quot; );\r\n          courseGrade = in.next();\r\n          \r\n          if ( courseGrade.equals( &quot;A&quot; ) )\r\n            System.out.println( &quot;Outstanding&quot; );\r\n          QP += 4;\r\n          if ( courseGrade.equals( &quot;B&quot; ) )\r\n            System.out.println( &quot;Above average&quot; );\r\n          QP += 3;\r\n          if ( courseGrade.equals( &quot;C&quot; ) )\r\n            System.out.println( &quot;Average&quot; );\r\n          QP += 2;\r\n          if ( courseGrade.equals( &quot;D&quot; ) )\r\n            System.out.println( &quot;Below average&quot; );\r\n          QP += 1;\r\n          if ( courseGrade.equals( &quot;F&quot; ) )\r\n            System.out.println( &quot;Try again&quot; );\r\n          QP += 0;\r\n        }\r\n        \r\n        \r\n        System.out.println(QP);\r\n        \r\n      }\r\n    }\r\n\r\nI need the QP to add up in total but so far I&#39;ve gotten 50 with my methods. I&#39;ve tried putting an [courseNumber] next to the QP but I received array required, but int found and int[] cannot be converted to int errors","title":"not sure how to add up QP in total","body":"<pre><code>import java.util.Scanner;\n\npublic class Grades2\n{\n  public static void main( String[] args )\n  {\n    \n    int NUMBER_OF_COURSES = 5;\n    int totalQualityPoints;\n    double GPA; // Grade Point Average\n    int QP = 0; // only need to store quality points\n    String courseGrade;\n    int[] courseNumber ={5};\n    \n    Scanner in = new Scanner( System.in );\n    \n    for (int n = 1; n&lt;=5; n++) \n    {\n      System.out.print( &quot;Enter Class &quot;+n+&quot; grade : &quot; );\n      courseGrade = in.next();\n      \n      if ( courseGrade.equals( &quot;A&quot; ) )\n        System.out.println( &quot;Outstanding&quot; );\n      QP += 4;\n      if ( courseGrade.equals( &quot;B&quot; ) )\n        System.out.println( &quot;Above average&quot; );\n      QP += 3;\n      if ( courseGrade.equals( &quot;C&quot; ) )\n        System.out.println( &quot;Average&quot; );\n      QP += 2;\n      if ( courseGrade.equals( &quot;D&quot; ) )\n        System.out.println( &quot;Below average&quot; );\n      QP += 1;\n      if ( courseGrade.equals( &quot;F&quot; ) )\n        System.out.println( &quot;Try again&quot; );\n      QP += 0;\n    }\n    \n    \n    System.out.println(QP);\n    \n  }\n}\n</code></pre>\n<p>I need the QP to add up in total but so far I've gotten 50 with my methods. I've tried putting an [courseNumber] next to the QP but I received array required, but int found and int[] cannot be converted to int errors</p>\n"},{"tags":["java","for-loop","java.util.scanner"],"comments":[{"owner":{"account_id":1636,"reputation":20746,"user_id":2197,"accept_rate":76,"display_name":"David Koelle"},"score":0,"creation_date":1666229631,"post_id":74133540,"comment_id":130888655,"body_markdown":"Are you sure about that greater-than sign in the for loop?","body":"Are you sure about that greater-than sign in the for loop?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666229663,"post_id":74133540,"comment_id":130888659,"body_markdown":"`for (int i = 1; i &gt;= num; i++) ` - unless num is 1 or less","body":"<code>for (int i = 1; i &gt;= num; i++) </code> - unless num is 1 or less"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666229700,"post_id":74133540,"comment_id":130888663,"body_markdown":"*the compiler stops compiling* - lazy compiler","body":"<i>the compiler stops compiling</i> - lazy compiler"},{"owner":{"account_id":23542411,"reputation":33,"user_id":17586407,"display_name":"Francis Putnam"},"score":0,"creation_date":1666235521,"post_id":74133540,"comment_id":130889389,"body_markdown":"thanks for the answer. just a beginner sorry","body":"thanks for the answer. just a beginner sorry"}],"owner":{"account_id":23542411,"reputation":33,"user_id":17586407,"display_name":"Francis Putnam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666229469,"creation_date":1666229469,"question_id":74133540,"body_markdown":"I want the user to input the choice of their fruit to catch depending on the number of fruits he inputs. But the problem is that after the input on nextInt() the compiler stops compiling and skips the for loop.\r\n\r\n\r\n    import java.util.*;\r\n\r\n    public class FruitBasket {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner s = new Scanner(System.in);\r\n\t\tStack&lt;String&gt; stack = new Stack&lt;&gt;();\r\n\r\n\t\tString select;\r\n\r\n\t\tSystem.out.println(&quot;Catch and eat any of these fruits: (Apple, Orange, Mango, Guava&quot;);\r\n\t\tSystem.out.print(&quot;How many fruits would you like to catch? &quot;);\r\n\t\tint num = s.nextInt();\r\n\t\ts.nextLine();\r\n\r\n\t\tfor (int i = 1; i &gt;= num; i++) {\r\n\t\t\t\r\n\t\t\tSystem.out.print(&quot;Choose a fruit to catch. Press A(apple), O(orange), M(mango), G(guava) &quot;);\r\n\t\t\tSystem.out.print(&quot;\\nFruit &quot; + i + &quot; of &quot; + num + &quot;: &quot;);\r\n\t\t\tselect = s.nextLine();\r\n\t\t\tstack.push(select);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"Statements after the nextInt Line is not working","body":"<p>I want the user to input the choice of their fruit to catch depending on the number of fruits he inputs. But the problem is that after the input on nextInt() the compiler stops compiling and skips the for loop.</p>\n<pre><code>import java.util.*;\n\npublic class FruitBasket {\n\npublic static void main(String[] args) {\n    Scanner s = new Scanner(System.in);\n    Stack&lt;String&gt; stack = new Stack&lt;&gt;();\n\n    String select;\n\n    System.out.println(&quot;Catch and eat any of these fruits: (Apple, Orange, Mango, Guava&quot;);\n    System.out.print(&quot;How many fruits would you like to catch? &quot;);\n    int num = s.nextInt();\n    s.nextLine();\n\n    for (int i = 1; i &gt;= num; i++) {\n        \n        System.out.print(&quot;Choose a fruit to catch. Press A(apple), O(orange), M(mango), G(guava) &quot;);\n        System.out.print(&quot;\\nFruit &quot; + i + &quot; of &quot; + num + &quot;: &quot;);\n        select = s.nextLine();\n        stack.push(select);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":17000499,"reputation":48417,"user_id":12299000,"display_name":"kaya3"},"score":1,"creation_date":1666229340,"post_id":74133526,"comment_id":130888615,"body_markdown":"You would not write `(Pastry) Pastry`, since `Pastry` is not an expression, it is a class name. You need to cast `snack` in the `add` call, so `pastryAL.add((Pastry) snack);`.","body":"You would not write <code>(Pastry) Pastry</code>, since <code>Pastry</code> is not an expression, it is a class name. You need to cast <code>snack</code> in the <code>add</code> call, so <code>pastryAL.add((Pastry) snack);</code>."},{"owner":{"account_id":26557336,"reputation":3,"user_id":20185739,"display_name":"gangrx"},"score":0,"creation_date":1666231786,"post_id":74133526,"comment_id":130888897,"body_markdown":"@kaya3 i have no idea how to upvote a comment but thank you, that helped me out alot.","body":"@kaya3 i have no idea how to upvote a comment but thank you, that helped me out alot."}],"owner":{"account_id":26557336,"reputation":3,"user_id":20185739,"display_name":"gangrx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666229220,"creation_date":1666229220,"question_id":74133526,"body_markdown":"    public void writeFile()\r\n    \t{\r\n    \t\t Collections.sort(snackAL);\r\n    \t        pw = new PrintWriter(&quot;snacksbyprice.txt&quot;);\r\n    \t        for (Snack snack : snackAL) {\r\n    \t            pw.println(snack);\r\n    \t        }\r\n    \t        pw.close();\r\n    \t        Collections.sort(snackAL, new NameComparator());\r\n    \t        for (Snack snack : snackAL) {\r\n    \t            System.out.println(snack);\r\n    \t        }\r\n    \t        ArrayList&lt;Pastry&gt; pastryAL = new ArrayList&lt;Pastry&gt;();\r\n    \t        for (Snack snack : snackAL) {\r\n    \t            if (snack instanceof Pastry) {\r\n    \t                pastryAL.add(snack);\r\n    \t            }\r\n    \t        }\r\n    \t        Collections.sort(pastryAL, new PremiumNameComparator());\r\n    \t        pw = new PrintWriter(&quot;pastriesbypremium.csv&quot;);\r\n    \t        for (Snack pastry : pastryAL) {\r\n    \t            pw.println(pastry.getName() + &quot;, &quot; + pastry.getPrice() + &quot;, &quot; + ((Pastry) pastry).isPremium());\r\n    \t        }\r\n    \t        pw.close();\r\n    \t    }\r\n    \t\r\n\r\nI have this code but I keep getting an error at the pastryAL.add(snack). I was told that casting would fix it but I have no idea how to cast it in this case. I tried to do ((Pastry) Pastry) but it didn&#39;t work. The error is: The method add(Pastry) in the type ArrayList&lt;Pastry&gt; is not applicable for the arguments(Snack)","title":"Casting in this case?","body":"<pre><code>public void writeFile()\n    {\n         Collections.sort(snackAL);\n            pw = new PrintWriter(&quot;snacksbyprice.txt&quot;);\n            for (Snack snack : snackAL) {\n                pw.println(snack);\n            }\n            pw.close();\n            Collections.sort(snackAL, new NameComparator());\n            for (Snack snack : snackAL) {\n                System.out.println(snack);\n            }\n            ArrayList&lt;Pastry&gt; pastryAL = new ArrayList&lt;Pastry&gt;();\n            for (Snack snack : snackAL) {\n                if (snack instanceof Pastry) {\n                    pastryAL.add(snack);\n                }\n            }\n            Collections.sort(pastryAL, new PremiumNameComparator());\n            pw = new PrintWriter(&quot;pastriesbypremium.csv&quot;);\n            for (Snack pastry : pastryAL) {\n                pw.println(pastry.getName() + &quot;, &quot; + pastry.getPrice() + &quot;, &quot; + ((Pastry) pastry).isPremium());\n            }\n            pw.close();\n        }\n    \n</code></pre>\n<p>I have this code but I keep getting an error at the pastryAL.add(snack). I was told that casting would fix it but I have no idea how to cast it in this case. I tried to do ((Pastry) Pastry) but it didn't work. The error is: The method add(Pastry) in the type ArrayList is not applicable for the arguments(Snack)</p>\n"},{"tags":["java","android","media-player"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666220438,"post_id":74132353,"comment_id":130887357,"body_markdown":"You have two requirements here, what is on your onStop() lifecycle? You should use mediaplayer.stop() and then mediaplayer.release(). For detecting if screen is turned off you need to write a BroadcastReceiver.","body":"You have two requirements here, what is on your onStop() lifecycle? You should use mediaplayer.stop() and then mediaplayer.release(). For detecting if screen is turned off you need to write a BroadcastReceiver."}],"answers":[{"tags":[],"owner":{"account_id":22821029,"reputation":96,"user_id":16970888,"display_name":"Jamebes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666229148,"creation_date":1666229148,"answer_id":74133517,"question_id":74132353,"body_markdown":"Seem your app is playing in background. So create onResume and onStop to stop play and release resource, somethings look like this\r\n\r\n    onStop{\r\n      sound.stop();\r\n      sound.reset(); \r\n      sound.release();\r\n      mediaplayer = null;\r\n      supper.onStop();\r\n    }\r\n\r\n","title":"Stop MediaPlayer when minimizing","body":"<p>Seem your app is playing in background. So create onResume and onStop to stop play and release resource, somethings look like this</p>\n<pre><code>onStop{\n  sound.stop();\n  sound.reset(); \n  sound.release();\n  mediaplayer = null;\n  supper.onStop();\n}\n</code></pre>\n"}],"owner":{"account_id":26524509,"reputation":25,"user_id":20159924,"display_name":"Oganes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666229148,"creation_date":1666216684,"question_id":74132353,"body_markdown":"        button4 = findViewById(R.id.button4);\r\n\r\n        musicSound = MediaPlayer.create(this, R.raw.music);\r\n        buttonClick(); }\r\n\r\n    private Button button4;\r\n    private MediaPlayer musicSound;\r\n\r\n    public void buttonClick() {\r\n        button4.setOnClickListener(\r\n                new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        soundPlay(musicSound);\r\n                    }\r\n                } ); }\r\n    public void soundPlay(MediaPlayer sound) {\r\n      {   sound.start();\r\n          sound.setLooping(true); }\r\n\r\n    buttonMusicStop = findViewById(R.id.buttonMusStop);\r\n        buttonClick2();}\r\n    private ImageButton buttonMusicStop;\r\n    public void buttonClick2() {\r\n        buttonMusicStop.setOnClickListener(\r\n                new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        soundPlay2(musicSound);\r\n\r\n                    }});}\r\n\r\n    public void soundPlay2(MediaPlayer sound) {\r\n        if (sound.isPlaying()) {\r\n            sound.pause();\r\n\r\n        } else {\r\n            sound.start();\r\n            sound.setLooping(true);\r\n        } }\r\n\r\n\r\nHello! I start music in my application, but when I minimize the application, the music does not stop. What do I need to write so that when the application is minimized and also when the screen is turned off, the music stops. Any help would be greatly appreciated!","title":"Stop MediaPlayer when minimizing","body":"<pre><code>    button4 = findViewById(R.id.button4);\n\n    musicSound = MediaPlayer.create(this, R.raw.music);\n    buttonClick(); }\n\nprivate Button button4;\nprivate MediaPlayer musicSound;\n\npublic void buttonClick() {\n    button4.setOnClickListener(\n            new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    soundPlay(musicSound);\n                }\n            } ); }\npublic void soundPlay(MediaPlayer sound) {\n  {   sound.start();\n      sound.setLooping(true); }\n\nbuttonMusicStop = findViewById(R.id.buttonMusStop);\n    buttonClick2();}\nprivate ImageButton buttonMusicStop;\npublic void buttonClick2() {\n    buttonMusicStop.setOnClickListener(\n            new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    soundPlay2(musicSound);\n\n                }});}\n\npublic void soundPlay2(MediaPlayer sound) {\n    if (sound.isPlaying()) {\n        sound.pause();\n\n    } else {\n        sound.start();\n        sound.setLooping(true);\n    } }\n</code></pre>\n<p>Hello! I start music in my application, but when I minimize the application, the music does not stop. What do I need to write so that when the application is minimized and also when the screen is turned off, the music stops. Any help would be greatly appreciated!</p>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1666228433,"post_id":74133438,"comment_id":130888498,"body_markdown":"You typed `&lt;type&gt;pom&lt;/type&gt;`  That means it will only download the pom","body":"You typed <code>&lt;type&gt;pom&lt;&#47;type&gt;</code>  That means it will only download the pom"},{"owner":{"account_id":13218252,"reputation":93,"user_id":9569085,"display_name":"mohamed_ashraf51"},"score":0,"creation_date":1666228895,"post_id":74133438,"comment_id":130888543,"body_markdown":"I tried removing the `&lt;type&gt;pom&lt;/type&gt;` but it didn&#39;t help","body":"I tried removing the <code>&lt;type&gt;pom&lt;&#47;type&gt;</code> but it didn&#39;t help"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1666229046,"post_id":74133438,"comment_id":130888565,"body_markdown":"What else did you do?","body":"What else did you do?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1666229199,"post_id":74133438,"comment_id":130888591,"body_markdown":"Did you run a `mvn` command after you removed the `&lt;type&gt;pom&lt;/type&gt;`?","body":"Did you run a <code>mvn</code> command after you removed the <code>&lt;type&gt;pom&lt;&#47;type&gt;</code>?"},{"owner":{"account_id":13218252,"reputation":93,"user_id":9569085,"display_name":"mohamed_ashraf51"},"score":0,"creation_date":1666229426,"post_id":74133438,"comment_id":130888628,"body_markdown":"I used &quot;Update Project&quot; in eclipce","body":"I used &quot;Update Project&quot; in eclipce"}],"answers":[{"comments":[{"owner":{"account_id":13218252,"reputation":93,"user_id":9569085,"display_name":"mohamed_ashraf51"},"score":0,"creation_date":1666228853,"post_id":74133474,"comment_id":130888537,"body_markdown":"I tried removing the `&lt;type&gt;pom&lt;/type&gt;` but it didn&#39;t help, also what is the difference between org.hibernate and org.hibernate.orm does it affect any thing?","body":"I tried removing the <code>&lt;type&gt;pom&lt;&#47;type&gt;</code> but it didn&#39;t help, also what is the difference between org.hibernate and org.hibernate.orm does it affect any thing?"},{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":0,"creation_date":1666228943,"post_id":74133474,"comment_id":130888549,"body_markdown":"No, there is no connection between the `groupId` and the package name, I edited my answer to avoid confusion, this is just a convention. But changing the pom type and rebuilding the project should fix the problem, at least the JARs should be downloaded.","body":"No, there is no connection between the <code>groupId</code> and the package name, I edited my answer to avoid confusion, this is just a convention. But changing the pom type and rebuilding the project should fix the problem, at least the JARs should be downloaded."},{"owner":{"account_id":13218252,"reputation":93,"user_id":9569085,"display_name":"mohamed_ashraf51"},"score":0,"creation_date":1666229279,"post_id":74133474,"comment_id":130888606,"body_markdown":"apparently the jar files doesn&#39;t even exist starting from version 6.0.0,\nhere&#39;s where maven get the files: https://repo.maven.apache.org/maven2/org/hibernate/hibernate-core/6.1.4.Final/","body":"apparently the jar files doesn&#39;t even exist starting from version 6.0.0, here&#39;s where maven get the files: <a href=\"https://repo.maven.apache.org/maven2/org/hibernate/hibernate-core/6.1.4.Final/\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2/org/hibernate/hibernate-core/&hellip;</a>"}],"tags":[],"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666228980,"creation_date":1666228531,"answer_id":74133474,"question_id":74133438,"body_markdown":"\r\nYour dependency is declared in a different way from the [official documentation][1]. They don&#39;t specify a `&lt;type&gt;pom&lt;/type&gt;`, which may be the cause of your problem.\r\n\r\nThey have it like this:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n  &lt;version&gt;6.1.4.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nRemove the type and rebuild the project.\r\n\r\n  [1]: https://search.maven.org/artifact/org.hibernate.orm/hibernate-core/6.1.4.Final/jar","title":"why does maven don&#39;t download jar files for newer versions of hibernate-core?","body":"<p>Your dependency is declared in a different way from the <a href=\"https://search.maven.org/artifact/org.hibernate.orm/hibernate-core/6.1.4.Final/jar\" rel=\"nofollow noreferrer\">official documentation</a>. They don't specify a <code>&lt;type&gt;pom&lt;/type&gt;</code>, which may be the cause of your problem.</p>\n<p>They have it like this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n  &lt;version&gt;6.1.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Remove the type and rebuild the project.</p>\n"}],"owner":{"account_id":13218252,"reputation":93,"user_id":9569085,"display_name":"mohamed_ashraf51"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666228980,"creation_date":1666228191,"question_id":74133438,"body_markdown":"So I&#39;m new to maven and watching a course on how to download hibernate-core using maven,\r\nand he went online and got the 5.2.11 version\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nbut I downloaded the latest one 6.1.4\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nthe thing is when he opened his local files the jar files were there like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nbut my version only downloaded these files, even when I removed the type pom:\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1oFrq.png\r\n  [2]: https://i.stack.imgur.com/ANNPj.png\r\n  [3]: https://i.stack.imgur.com/EMWTl.png\r\n  [4]: https://i.stack.imgur.com/HbdnX.png\r\n\r\nand when I tried the older version it worked for me, so my question is why did maven do that, and does it make any problem?\r\nalso, can I now use hibernate if I don&#39;t have an internet connection, or do I need to download the jar files anyway?\r\n\r\nNOTE: I&#39;m using Eclipse","title":"why does maven don&#39;t download jar files for newer versions of hibernate-core?","body":"<p>So I'm new to maven and watching a course on how to download hibernate-core using maven,\nand he went online and got the 5.2.11 version</p>\n<p><a href=\"https://i.stack.imgur.com/1oFrq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1oFrq.png\" alt=\"enter image description here\" /></a></p>\n<p>but I downloaded the latest one 6.1.4</p>\n<p><a href=\"https://i.stack.imgur.com/ANNPj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ANNPj.png\" alt=\"enter image description here\" /></a></p>\n<p>the thing is when he opened his local files the jar files were there like this:</p>\n<p><a href=\"https://i.stack.imgur.com/EMWTl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EMWTl.png\" alt=\"enter image description here\" /></a></p>\n<p>but my version only downloaded these files, even when I removed the type pom:</p>\n<p><a href=\"https://i.stack.imgur.com/HbdnX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HbdnX.png\" alt=\"enter image description here\" /></a></p>\n<p>and when I tried the older version it worked for me, so my question is why did maven do that, and does it make any problem?\nalso, can I now use hibernate if I don't have an internet connection, or do I need to download the jar files anyway?</p>\n<p>NOTE: I'm using Eclipse</p>\n"},{"tags":["java","arrays"],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666223043,"creation_date":1666205712,"answer_id":74130528,"question_id":74129968,"body_markdown":"Use a two-dimension array:\r\n```\r\n    char [][] roman = { {&#39;I&#39;,&#39;V&#39;}, {&#39;X&#39;,&#39;L&#39;},{&#39;C&#39;,&#39;D&#39;},{&#39;M&#39;}};\r\n```\r\nNote that there is no symbol for 5000, so it will be a problem if you need to convert a number that will be that large. \r\n\r\n     int pwr = 4;\r\n     for (int i = 0; i &lt; digit.length; ++i) {\r\n        pwr--;\r\n        String digitInRoman = &quot;&quot;;\r\n        if (digit[i] &lt;  4) {\r\n           for (int j = 0; j &lt; digit[i]; j++) {\r\n                    digitInRoman += roman[pwr][0];\r\n\r\nand so on. \r\n\r\nSo, for `a`, use `roman [pwr][0]`, for `b`, use `roman [pwr][1]`. \r\n\r\nThis changes the way you handle numbers like 9 (IX), 49 (IL), 40 (XL), and so on. To be more consistent with your current code, you might want to try something like \r\n\r\n```\r\nchar [][] roman = { {&#39;I&#39;,&#39;V&#39;,&#39;X&#39;}, {&#39;X&#39;,&#39;L&#39;,&#39;C&#39;},{&#39;C&#39;,&#39;D&#39;,&#39;M&#39;},{&#39;M&#39;}};\r\n```\r\nThat would allow you to use `roman[pwr][2]` where you have `c`\r\n\r\n\r\n     \r\n","title":"Changing the variable for each array in Java?","body":"<p>Use a two-dimension array:</p>\n<pre><code>    char [][] roman = { {'I','V'}, {'X','L'},{'C','D'},{'M'}};\n</code></pre>\n<p>Note that there is no symbol for 5000, so it will be a problem if you need to convert a number that will be that large.</p>\n<pre><code> int pwr = 4;\n for (int i = 0; i &lt; digit.length; ++i) {\n    pwr--;\n    String digitInRoman = &quot;&quot;;\n    if (digit[i] &lt;  4) {\n       for (int j = 0; j &lt; digit[i]; j++) {\n                digitInRoman += roman[pwr][0];\n</code></pre>\n<p>and so on.</p>\n<p>So, for <code>a</code>, use <code>roman [pwr][0]</code>, for <code>b</code>, use <code>roman [pwr][1]</code>.</p>\n<p>This changes the way you handle numbers like 9 (IX), 49 (IL), 40 (XL), and so on. To be more consistent with your current code, you might want to try something like</p>\n<pre><code>char [][] roman = { {'I','V','X'}, {'X','L','C'},{'C','D','M'},{'M'}};\n</code></pre>\n<p>That would allow you to use <code>roman[pwr][2]</code> where you have <code>c</code></p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666206162,"creation_date":1666206162,"answer_id":74130599,"question_id":74129968,"body_markdown":"There is a much easier way to do this.  Just like the decimal system has ones, tens, hundreds, ..., so does the Roman numeral system. Consider the following:\r\n```\r\nString[] thousands = { &quot;&quot;, &quot;M&quot;, &quot;MM&quot;, &quot;MMM&quot; };\r\nString[] hundreds = { &quot;&quot;, &quot;C&quot;, &quot;CC&quot;, &quot;CCC&quot;, &quot;CD&quot;,\r\n\t&quot;D&quot;, &quot;DC&quot;, &quot;DCC&quot;, &quot;DCCC&quot;, &quot;CM&quot; };\r\nString[] tens = { &quot;&quot;, &quot;X&quot;, &quot;XX&quot;, &quot;XXX&quot;, &quot;XL&quot;, &quot;L&quot;,\r\n\t&quot;LX&quot;, &quot;LXX&quot;, &quot;LXXX&quot;, &quot;XC&quot; };\r\nString[] ones = { &quot;&quot;, &quot;I&quot;, &quot;II&quot;, &quot;III&quot;, &quot;IV&quot;, &quot;V&quot;,\r\n\t&quot;VI&quot;, &quot;VII&quot;, &quot;VIII&quot;, &quot;IX&quot; };\r\nString[][] units = { ones, tens, hundreds,\r\n\tthousands };\r\n\r\nfor (int val : new int[] { 2000, 22, 45, 1986, 554,\r\n\t209, 1066, 3888 }) {\r\n    int saveVal = val;\r\n    String roman = &quot;&quot;;\r\n    int unit = 0;\r\n    while (val &gt; 0) {\r\n      \troman = units[unit][val % 10] + roman;\r\n\t    val /= 10;\r\n\t    unit++;\r\n    }\r\n    System.out.printf(&quot;%-4d = %s\\n&quot;, saveVal,\r\n\t    roman);\r\n}\r\n```\r\nprints\r\n```\r\n2000 = MM\r\n22   = XXII\r\n45   = XLV\r\n1986 = MCMLXXXVI\r\n554  = DLIV\r\n209  = CCIX\r\n1066 = MLXVI\r\n3888 = MMMDCCCLXXXVIII\r\n```\r\n- The above simply uses the only allowed symbols.\r\n- repeatedly using the remainder (%) operator retrieves the digits from right to left.\r\n- So the Roman numeral is built from right to left until the value is zero.","title":"Changing the variable for each array in Java?","body":"<p>There is a much easier way to do this.  Just like the decimal system has ones, tens, hundreds, ..., so does the Roman numeral system. Consider the following:</p>\n<pre><code>String[] thousands = { &quot;&quot;, &quot;M&quot;, &quot;MM&quot;, &quot;MMM&quot; };\nString[] hundreds = { &quot;&quot;, &quot;C&quot;, &quot;CC&quot;, &quot;CCC&quot;, &quot;CD&quot;,\n    &quot;D&quot;, &quot;DC&quot;, &quot;DCC&quot;, &quot;DCCC&quot;, &quot;CM&quot; };\nString[] tens = { &quot;&quot;, &quot;X&quot;, &quot;XX&quot;, &quot;XXX&quot;, &quot;XL&quot;, &quot;L&quot;,\n    &quot;LX&quot;, &quot;LXX&quot;, &quot;LXXX&quot;, &quot;XC&quot; };\nString[] ones = { &quot;&quot;, &quot;I&quot;, &quot;II&quot;, &quot;III&quot;, &quot;IV&quot;, &quot;V&quot;,\n    &quot;VI&quot;, &quot;VII&quot;, &quot;VIII&quot;, &quot;IX&quot; };\nString[][] units = { ones, tens, hundreds,\n    thousands };\n\nfor (int val : new int[] { 2000, 22, 45, 1986, 554,\n    209, 1066, 3888 }) {\n    int saveVal = val;\n    String roman = &quot;&quot;;\n    int unit = 0;\n    while (val &gt; 0) {\n        roman = units[unit][val % 10] + roman;\n        val /= 10;\n        unit++;\n    }\n    System.out.printf(&quot;%-4d = %s\\n&quot;, saveVal,\n        roman);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>2000 = MM\n22   = XXII\n45   = XLV\n1986 = MCMLXXXVI\n554  = DLIV\n209  = CCIX\n1066 = MLXVI\n3888 = MMMDCCCLXXXVIII\n</code></pre>\n<ul>\n<li>The above simply uses the only allowed symbols.</li>\n<li>repeatedly using the remainder (%) operator retrieves the digits from right to left.</li>\n<li>So the Roman numeral is built from right to left until the value is zero.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666228582,"creation_date":1666228582,"answer_id":74133479,"question_id":74129968,"body_markdown":"You could add a sequence of `if` conditions to your code. Or use `switch ... case`:\r\n\r\n      public static String convertDigitsToRoman(int[] digit) {\r\n        String a = &quot;I&quot;, b = &quot;V&quot;, c = &quot;X&quot;;\r\n\r\n        String allDigitInRoman = &quot;&quot;;\r\n        for (int i = 0; i &lt; digit.length; i++) {\r\n\r\n            String digitInRoman = &quot;&quot;;\r\n            switch (i) {\r\n                \r\n               case 0: \r\n                  a = &quot;M&quot;;  \r\n                  b = &quot;&quot;;  // ??   \r\n                  c = &quot;&quot;;  // ??\r\n                  break; \r\n     \r\n               case 1:\r\n                  a = &quot;C&quot;;\r\n                  b = &quot;D&quot;;\r\n                  c = &quot;M&quot;;\r\n                  break;\r\n\r\n               case 2:\r\n                  a = &quot;X&quot;;\r\n                  b = &quot;L&quot;;\r\n                  c = &quot;C&quot;;\r\n                  break;\r\n \r\n              case 3:\r\n                  a = &quot;I&quot;;\r\n                  b = &quot;V&quot;;\r\n                  c = &quot;X&quot;;\r\n                  break;\r\n\r\n             default:\r\n                  // Handle error \r\n                   break;\r\n     }\r\n     if (digit[i] &lt; 4) {\r\n\r\n","title":"Changing the variable for each array in Java?","body":"<p>You could add a sequence of <code>if</code> conditions to your code. Or use <code>switch ... case</code>:</p>\n<pre><code>  public static String convertDigitsToRoman(int[] digit) {\n    String a = &quot;I&quot;, b = &quot;V&quot;, c = &quot;X&quot;;\n\n    String allDigitInRoman = &quot;&quot;;\n    for (int i = 0; i &lt; digit.length; i++) {\n\n        String digitInRoman = &quot;&quot;;\n        switch (i) {\n            \n           case 0: \n              a = &quot;M&quot;;  \n              b = &quot;&quot;;  // ??   \n              c = &quot;&quot;;  // ??\n              break; \n \n           case 1:\n              a = &quot;C&quot;;\n              b = &quot;D&quot;;\n              c = &quot;M&quot;;\n              break;\n\n           case 2:\n              a = &quot;X&quot;;\n              b = &quot;L&quot;;\n              c = &quot;C&quot;;\n              break;\n\n          case 3:\n              a = &quot;I&quot;;\n              b = &quot;V&quot;;\n              c = &quot;X&quot;;\n              break;\n\n         default:\n              // Handle error \n               break;\n }\n if (digit[i] &lt; 4) {\n</code></pre>\n"}],"owner":{"account_id":18478386,"reputation":33,"user_id":13461292,"display_name":"Blend Cables"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1666228582,"creation_date":1666202551,"question_id":74129968,"body_markdown":"I am creating a programme where you convert  numbers to roman numbers.\r\n\r\nHere is my code:\r\n```\r\npublic static void main(String[] args) {\r\n\r\n        System.out.println(convertDigitsToRoman(SplitNumbersIntoDigits(3567)));\r\n    }\r\n\r\n    public static int[] SplitNumbersIntoDigits(int numberToConvert) {\r\n        //converting the number into digits\r\n        int[] digit = new int[4];\r\n        digit[0] = numberToConvert / 1000;\r\n        digit[1] = (numberToConvert % 1000) / 100;\r\n        digit[2] = (numberToConvert % 100) / 10;\r\n        digit[3] = numberToConvert % 10;\r\n        return digit;\r\n\r\n    }\r\n\r\n    public static String convertDigitsToRoman(int[] digit) {\r\n        String a = &quot;I&quot;, b = &quot;V&quot;, c = &quot;X&quot;;\r\n\r\n\r\n        String allDigitInRoman = &quot;&quot;;\r\n        for (int i = 0; i &lt; digit.length; i++) {\r\n\r\n            String digitInRoman = &quot;&quot;;\r\n            if (digit[i] &lt; 4) {\r\n                for (int j = 0; j &lt; digit[i]; j++) {\r\n                    digitInRoman += a;\r\n                }\r\n            } else if (digit[i] == 4) {\r\n                digitInRoman = String.valueOf(a) + b;\r\n            } else if (digit[i] == 5) {\r\n                digitInRoman = String.valueOf(b);\r\n            } else if (digit[i] &gt; 5 &amp;&amp; digit[i] &lt; 9) {\r\n                String plusA = &quot;&quot;;\r\n                for (int k = 5; k &lt; digit[i]; k++) {\r\n                    plusA += a;\r\n                }\r\n                digitInRoman = b + plusA;\r\n            } else if (digit[i] == 9) {\r\n                digitInRoman = String.valueOf(a) + c;\r\n            }\r\n            allDigitInRoman += digitInRoman;\r\n        }\r\n        return allDigitInRoman;\r\n    }\r\n\r\n}\r\n```\r\n\r\nNow everytime when digit[i] changes I want the String a, b, c to change. How can I try to write such as:\r\n```\r\nwhen (digit[0]) change a,b,c to M,C,whateevr\r\nwhen (digit[1]) change a,b,c to L,,whtevr,,whtevr\r\nwhen (digit[2]) change a,b,c to X,whtevr,whtevr\r\nwhen (digit[3]) change a,b,c to I, V, X\r\n```\r\nI know that is not java, it is English but want to know how is achieved in java.","title":"Changing the variable for each array in Java?","body":"<p>I am creating a programme where you convert  numbers to roman numbers.</p>\n<p>Here is my code:</p>\n<pre><code>public static void main(String[] args) {\n\n        System.out.println(convertDigitsToRoman(SplitNumbersIntoDigits(3567)));\n    }\n\n    public static int[] SplitNumbersIntoDigits(int numberToConvert) {\n        //converting the number into digits\n        int[] digit = new int[4];\n        digit[0] = numberToConvert / 1000;\n        digit[1] = (numberToConvert % 1000) / 100;\n        digit[2] = (numberToConvert % 100) / 10;\n        digit[3] = numberToConvert % 10;\n        return digit;\n\n    }\n\n    public static String convertDigitsToRoman(int[] digit) {\n        String a = &quot;I&quot;, b = &quot;V&quot;, c = &quot;X&quot;;\n\n\n        String allDigitInRoman = &quot;&quot;;\n        for (int i = 0; i &lt; digit.length; i++) {\n\n            String digitInRoman = &quot;&quot;;\n            if (digit[i] &lt; 4) {\n                for (int j = 0; j &lt; digit[i]; j++) {\n                    digitInRoman += a;\n                }\n            } else if (digit[i] == 4) {\n                digitInRoman = String.valueOf(a) + b;\n            } else if (digit[i] == 5) {\n                digitInRoman = String.valueOf(b);\n            } else if (digit[i] &gt; 5 &amp;&amp; digit[i] &lt; 9) {\n                String plusA = &quot;&quot;;\n                for (int k = 5; k &lt; digit[i]; k++) {\n                    plusA += a;\n                }\n                digitInRoman = b + plusA;\n            } else if (digit[i] == 9) {\n                digitInRoman = String.valueOf(a) + c;\n            }\n            allDigitInRoman += digitInRoman;\n        }\n        return allDigitInRoman;\n    }\n\n}\n</code></pre>\n<p>Now everytime when digit[i] changes I want the String a, b, c to change. How can I try to write such as:</p>\n<pre><code>when (digit[0]) change a,b,c to M,C,whateevr\nwhen (digit[1]) change a,b,c to L,,whtevr,,whtevr\nwhen (digit[2]) change a,b,c to X,whtevr,whtevr\nwhen (digit[3]) change a,b,c to I, V, X\n</code></pre>\n<p>I know that is not java, it is English but want to know how is achieved in java.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":7794024,"reputation":21,"user_id":5895865,"accept_rate":0,"display_name":"OneStepBeyond"},"score":0,"creation_date":1456885486,"post_id":35737277,"comment_id":59148835,"body_markdown":"I messed up the code when pasting it I am still new to this website so I apologize in advance","body":"I messed up the code when pasting it I am still new to this website so I apologize in advance"}],"answers":[{"comments":[{"owner":{"account_id":7794024,"reputation":21,"user_id":5895865,"accept_rate":0,"display_name":"OneStepBeyond"},"score":0,"creation_date":1456886399,"post_id":35737323,"comment_id":59149092,"body_markdown":"this is great except for one issue this does not take into account any combination of capital and lower case ing. Also your answer did not address my issue of using regular expressions in a if statment","body":"this is great except for one issue this does not take into account any combination of capital and lower case ing. Also your answer did not address my issue of using regular expressions in a if statment"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1456886927,"post_id":35737323,"comment_id":59149253,"body_markdown":"@ProgramingMasterJam Added case insensitivity and a regular expression example. You can also compile a [`Pattern`](http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html) and then use a [`Matcher`](https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html).","body":"@ProgramingMasterJam Added case insensitivity and a regular expression example. You can also compile a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\"><code>Pattern</code></a> and then use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\"><code>Matcher</code></a>."},{"owner":{"account_id":7794024,"reputation":21,"user_id":5895865,"accept_rate":0,"display_name":"OneStepBeyond"},"score":0,"creation_date":1456886989,"post_id":35737323,"comment_id":59149274,"body_markdown":"for the homework i cannot use toLowerCase or to highyercase","body":"for the homework i cannot use toLowerCase or to highyercase"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1456889944,"post_id":35737323,"comment_id":59150095,"body_markdown":"@ProgramingMasterJam I *edited* to include two examples that do not use `toLowerCase` or `toUpperCase`. Next time, please include **all** of the *requirements* in your question.","body":"@ProgramingMasterJam I <i>edited</i> to include two examples that do not use <code>toLowerCase</code> or <code>toUpperCase</code>. Next time, please include <b>all</b> of the <i>requirements</i> in your question."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456889822,"creation_date":1456885674,"answer_id":35737323,"question_id":35737277,"body_markdown":"I think you are looking to split on one (or more) white-space characters. You can also use [`String.endsWith(String)`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#endsWith-java.lang.String-)&lt;sup&gt;1&lt;/sup&gt;. Something like,\r\n\r\n\tpublic static void endsWithIng(String s) {\r\n\t\tString[] a = s.split(&quot;\\\\s+&quot;);\r\n\t\tfor (int i = 0; i &lt; a.length; i++) {\r\n\t\t\tif (a[i].toLowerCase().endsWith(&quot;ing&quot;)) {\r\n\t\t\t\tSystem.out.print(a[i] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n**or** you could use an [enhanced `for-each` loop](http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html) like&lt;sup&gt;2&lt;/sup&gt;\r\n\r\n\tpublic static void endsWithIng(String s) {\r\n\t\tString[] a = s.split(&quot;\\\\s+&quot;);\r\n\t\tfor (String value : a) {          // &lt;-- for each value in array a\r\n            // This checks if the last three characters make the String &quot;ing&quot;\r\n\t\t\tif (&quot;ing&quot;.equalsIgnoreCase(value.substring(value.length() - 3))) {\r\n\t\t\t\tSystem.out.print(value + &quot; &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nTo use a *regular expression*, beyond [`String.split(String)`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-), you can use [`String.matches(String)`](http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String-) like\r\n\r\n\tpublic static void endsWithIng(String s) {\r\n\t\tString[] a = s.split(&quot;\\\\s+&quot;);\r\n\t\tfor (String value : a) { // &lt;-- for each value in array a\r\n            // This test ignores case for iI nN gG\r\n\t\t\tif (value.matches(&quot;.*[(i|I)(n|N)(g|G)]$&quot;)) {\r\n\t\t\t\tSystem.out.println(value);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n&lt;sup&gt;1&lt;sub&gt;You since added the stipulation that you cannot use `toLowerCase`. Next time, for better help faster, please give **all** the requirements when you ask the question.&lt;/sub&gt;&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2&lt;sub&gt;This example uses [Yoda conditions](https://en.wikipedia.org/wiki/Yoda_conditions).&lt;/sub&gt;&lt;/sup&gt;","title":"Regular expression to match an specific word in Java","body":"<p>I think you are looking to split on one (or more) white-space characters. You can also use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#endsWith-java.lang.String-\" rel=\"nofollow\"><code>String.endsWith(String)</code></a><sup>1</sup>. Something like,</p>\n\n<pre><code>public static void endsWithIng(String s) {\n    String[] a = s.split(\"\\\\s+\");\n    for (int i = 0; i &lt; a.length; i++) {\n        if (a[i].toLowerCase().endsWith(\"ing\")) {\n            System.out.print(a[i] + \" \");\n        }\n    }\n}\n</code></pre>\n\n<p><strong>or</strong> you could use an <a href=\"http://docs.oracle.com/javase/1.5.0/docs/guide/language/foreach.html\" rel=\"nofollow\">enhanced <code>for-each</code> loop</a> like<sup>2</sup></p>\n\n<pre><code>public static void endsWithIng(String s) {\n    String[] a = s.split(\"\\\\s+\");\n    for (String value : a) {          // &lt;-- for each value in array a\n        // This checks if the last three characters make the String \"ing\"\n        if (\"ing\".equalsIgnoreCase(value.substring(value.length() - 3))) {\n            System.out.print(value + \" \");\n        }\n    }\n}\n</code></pre>\n\n<p>To use a <em>regular expression</em>, beyond <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#split-java.lang.String-\" rel=\"nofollow\"><code>String.split(String)</code></a>, you can use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String-\" rel=\"nofollow\"><code>String.matches(String)</code></a> like</p>\n\n<pre><code>public static void endsWithIng(String s) {\n    String[] a = s.split(\"\\\\s+\");\n    for (String value : a) { // &lt;-- for each value in array a\n        // This test ignores case for iI nN gG\n        if (value.matches(\".*[(i|I)(n|N)(g|G)]$\")) {\n            System.out.println(value);\n        }\n    }\n}\n</code></pre>\n\n<p><sup>1<sub>You since added the stipulation that you cannot use <code>toLowerCase</code>. Next time, for better help faster, please give <strong>all</strong> the requirements when you ask the question.</sub></sup></p>\n\n<p><sup>2<sub>This example uses <a href=\"https://en.wikipedia.org/wiki/Yoda_conditions\" rel=\"nofollow\">Yoda conditions</a>.</sub></sup></p>\n"},{"tags":[],"owner":{"account_id":7794024,"reputation":21,"user_id":5895865,"accept_rate":0,"display_name":"OneStepBeyond"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666228501,"creation_date":1457132334,"answer_id":35807609,"question_id":35737277,"body_markdown":" I found the answer for my problem. I forgot to mention that the problem also required a specific print statement. My solution is similar but I made a new string and added any words that I found  with ing to that new string. Also I used a counter to keep track if a word with ing is even found in the first place. If it is not than I printed after the loop no words with ing found. \r\n\r\n \r\n\r\n \r\n\r\n     public class EndsWith\r\n    {// start of cLASS\r\n       public static void endsWithIng (String s)\r\n         {// START of method\r\n          String ing=&quot;&quot;;\r\n          String compare=&quot;&quot;;\r\n          String [] a = s.split(&quot; &quot;);\r\n           //System.out.println(&quot;Words with ing: &quot;);\r\n    \r\n          int i;\r\n          int count=0;\r\n          for(i=0;i&lt;a.length;i++)\r\n          {//start of for\r\n           \r\n    \r\n             compare=a[i];\r\n             \r\n             if(compare.matches(&quot;.*[iI][nN][gG].*&quot;))\r\n             { //start of if\r\n                \r\n                    //System.out.print(compare + &quot; &quot;);\r\n                    count++;        \r\n                     ing+=a[i] +&quot; &quot;;\r\n               }\r\n             \r\n                        \r\n          \r\n    \r\n           }\r\n                 if(count==0)\r\n                 {\r\n                   System.out.println(&quot;There are no words with ing&quot;);\r\n                  }\r\n                  else\r\n                  {\r\n                   System.out.println(&quot;Words with ing: &quot;);\r\n                   System.out.println(ing);\r\n                  }\r\n    \r\n    }\r\n    }","title":"Regular expression to match an specific word in Java","body":"<p>I found the answer for my problem. I forgot to mention that the problem also required a specific print statement. My solution is similar but I made a new string and added any words that I found  with ing to that new string. Also I used a counter to keep track if a word with ing is even found in the first place. If it is not than I printed after the loop no words with ing found.</p>\n<pre><code> public class EndsWith\n{// start of cLASS\n   public static void endsWithIng (String s)\n     {// START of method\n      String ing=&quot;&quot;;\n      String compare=&quot;&quot;;\n      String [] a = s.split(&quot; &quot;);\n       //System.out.println(&quot;Words with ing: &quot;);\n\n      int i;\n      int count=0;\n      for(i=0;i&lt;a.length;i++)\n      {//start of for\n       \n\n         compare=a[i];\n         \n         if(compare.matches(&quot;.*[iI][nN][gG].*&quot;))\n         { //start of if\n            \n                //System.out.print(compare + &quot; &quot;);\n                count++;        \n                 ing+=a[i] +&quot; &quot;;\n           }\n         \n                    \n      \n\n       }\n             if(count==0)\n             {\n               System.out.println(&quot;There are no words with ing&quot;);\n              }\n              else\n              {\n               System.out.println(&quot;Words with ing: &quot;);\n               System.out.println(ing);\n              }\n\n}\n}\n</code></pre>\n"}],"owner":{"account_id":7794024,"reputation":21,"user_id":5895865,"accept_rate":0,"display_name":"OneStepBeyond"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1666228501,"creation_date":1456885416,"question_id":35737277,"body_markdown":"I am trying to make a program that should checks if the string that the program is currently looking at, contains the word `ing` in that specific order. I figured out to just split the string with spaces, so each word can be looked at individually. I am stuck on the if condition. The if condition determines if the word has ing in it. For the assignment I can only use one loop and two if statements. I cannot use the string methods tolower or upppercase. Also this what the output needs to look like: (for the output i have a test class that gives me strings to test out)\r\n\r\nWords with ing:\r\nSinging Dancing\r\n\r\nif I do not find any words what have ing the output should like this\r\nThere are no words with ing\r\n\r\n\r\nHere is my `code` till now:\r\n\r\n    public class EndsWith\r\n    {\r\n       public static void endsWithIng (String s)\r\n       {       \r\n          String[] a = s.splits(&quot; &quot;);\r\n          for(int i = 0; i &lt; a.length; i++)\r\n          {          \r\n             // if()\r\n             System.out.print(a[i] + &quot;&quot;);          \r\n          }     \r\n       }\r\n    }","title":"Regular expression to match an specific word in Java","body":"<p>I am trying to make a program that should checks if the string that the program is currently looking at, contains the word <code>ing</code> in that specific order. I figured out to just split the string with spaces, so each word can be looked at individually. I am stuck on the if condition. The if condition determines if the word has ing in it. For the assignment I can only use one loop and two if statements. I cannot use the string methods tolower or upppercase. Also this what the output needs to look like: (for the output i have a test class that gives me strings to test out)</p>\n\n<p>Words with ing:\nSinging Dancing</p>\n\n<p>if I do not find any words what have ing the output should like this\nThere are no words with ing</p>\n\n<p>Here is my <code>code</code> till now:</p>\n\n<pre><code>public class EndsWith\n{\n   public static void endsWithIng (String s)\n   {       \n      String[] a = s.splits(\" \");\n      for(int i = 0; i &lt; a.length; i++)\n      {          \n         // if()\n         System.out.print(a[i] + \"\");          \n      }     \n   }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":3,"creation_date":1666225033,"post_id":74133164,"comment_id":130888015,"body_markdown":"`private String name;` - because it is private. Consider making it `protected`  BTW, the `name` in `public Parrot(String name)` is not the same variable as `this.name`","body":"<code>private String name;</code> - because it is private. Consider making it <code>protected</code>  BTW, the <code>name</code> in <code>public Parrot(String name)</code> is not the same variable as <code>this.name</code>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1666226623,"post_id":74133164,"comment_id":130888245,"body_markdown":"Java gives you the choice - you can make a field accessible only within the class that it&#39;s defined, or you can make it accessible a bit more widely.  By writing `private`, you&#39;ve explicitly said that you want the more limited accessibility.","body":"Java gives you the choice - you can make a field accessible only within the class that it&#39;s defined, or you can make it accessible a bit more widely.  By writing <code>private</code>, you&#39;ve explicitly said that you want the more limited accessibility."}],"answers":[{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1666227775,"post_id":74133341,"comment_id":130888396,"body_markdown":"In the case of `protected`, this requires that the subclass is EITHER in the same package as the superclass OR is accessing the fields of the selfsame object.  If A is a subclass of B in a different package, then an object of class A does NOT have access to the `protected` fields of a different object of class B.","body":"In the case of <code>protected</code>, this requires that the subclass is EITHER in the same package as the superclass OR is accessing the fields of the selfsame object.  If A is a subclass of B in a different package, then an object of class A does NOT have access to the <code>protected</code> fields of a different object of class B."},{"owner":{"account_id":15924007,"reputation":51,"user_id":11490116,"display_name":"Marcel"},"score":0,"creation_date":1666308844,"post_id":74133341,"comment_id":130912597,"body_markdown":"Thank you for the answer. What still bothers me is, when creating an object of class `Parrot`, I pass a String `name` in the constructor. Therefore in my understanding, the Parrot object has an inherited `name` field to which I assign the value during creation. When calling the `getName()` method, which field is getting returned by it? The one from class `Animal`? Which isn&#39;t really instantiated in the code? Is this the whole clue about polymorphism? Sorry, I never studied any CI, just trying to help out my relative with his problem :)","body":"Thank you for the answer. What still bothers me is, when creating an object of class <code>Parrot</code>, I pass a String <code>name</code> in the constructor. Therefore in my understanding, the Parrot object has an inherited <code>name</code> field to which I assign the value during creation. When calling the <code>getName()</code> method, which field is getting returned by it? The one from class <code>Animal</code>? Which isn&#39;t really instantiated in the code? Is this the whole clue about polymorphism? Sorry, I never studied any CI, just trying to help out my relative with his problem :)"}],"tags":[],"owner":{"account_id":3043770,"reputation":318,"user_id":9699127,"display_name":"Bits Please"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666227011,"creation_date":1666227011,"answer_id":74133341,"question_id":74133164,"body_markdown":"A subclass does not inherit the private members of its parent class. However, if the superclass has public or protected methods for accessing its private fields, these can also be used by the subclass.","title":"Why can&#39;t you use value of a field in a child class, even though it is passed in the constructor?","body":"<p>A subclass does not inherit the private members of its parent class. However, if the superclass has public or protected methods for accessing its private fields, these can also be used by the subclass.</p>\n"}],"owner":{"account_id":15924007,"reputation":51,"user_id":11490116,"display_name":"Marcel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1666227011,"creation_date":1666224880,"question_id":74133164,"body_markdown":"To use a simple example for my question, I have three classes, like those below:\r\nAnimal -&gt; Bird -&gt; Parrot\r\n\r\nWhy can&#39;t I just use the field value of `name` in the `Parrot` class, even though the value is passed in the constructor, and have to use the `getName()` method from the `Animal` class instead?\r\n\r\n```\r\npublic abstract class Animal {\r\n    private String name;\r\n\r\n    public Animal(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public abstract void eat();\r\n\r\n    public abstract void breathe();\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic abstract class Bird extends Animal {\r\n    public Bird(String name) {\r\n        super(name);\r\n    }\r\n\r\n    public abstract void fly();\r\n}\r\n```\r\n\r\n```\r\npublic class Parrot extends Bird{\r\n    public Parrot(String name) {\r\n        super(name);\r\n    }\r\n\r\n    @Override\r\n    public void eat() {\r\n        System.out.println(getName() + &quot; is eating&quot;);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void breathe() {\r\n        System.out.println(getName() + &quot; is breathing&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void fly() {\r\n        System.out.println(getName() + &quot; is flying&quot;);\r\n    }\r\n}\r\n```","title":"Why can&#39;t you use value of a field in a child class, even though it is passed in the constructor?","body":"<p>To use a simple example for my question, I have three classes, like those below:\nAnimal -&gt; Bird -&gt; Parrot</p>\n<p>Why can't I just use the field value of <code>name</code> in the <code>Parrot</code> class, even though the value is passed in the constructor, and have to use the <code>getName()</code> method from the <code>Animal</code> class instead?</p>\n<pre><code>public abstract class Animal {\n    private String name;\n\n    public Animal(String name) {\n        this.name = name;\n    }\n\n    public abstract void eat();\n\n    public abstract void breathe();\n\n    public String getName() {\n        return name;\n    }\n\n}\n</code></pre>\n<pre><code>public abstract class Bird extends Animal {\n    public Bird(String name) {\n        super(name);\n    }\n\n    public abstract void fly();\n}\n</code></pre>\n<pre><code>public class Parrot extends Bird{\n    public Parrot(String name) {\n        super(name);\n    }\n\n    @Override\n    public void eat() {\n        System.out.println(getName() + &quot; is eating&quot;);\n\n    }\n\n    @Override\n    public void breathe() {\n        System.out.println(getName() + &quot; is breathing&quot;);\n    }\n\n    @Override\n    public void fly() {\n        System.out.println(getName() + &quot; is flying&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","static","global-variables"],"answers":[{"tags":[],"owner":{"account_id":7675365,"reputation":71,"user_id":5816418,"display_name":"Madhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1651638391,"creation_date":1651638391,"answer_id":72107935,"question_id":72107824,"body_markdown":"If you want to make some variable global then you would need to declare the variable outside the method. In java, you cannot declare static variables inside method (even if it is static) because inside method all variables are local variables that has no existence outside this method thats why they can&#39;t be static.\r\n\r\n    import java.util.*;\r\n    \r\n    public class GlobalVariable{\r\n    \tstatic int b;\r\n    \tpublic static void main(String...args){\r\n    \t\tGlobalVariable.compare(1);\r\n    \t\tSystem.out.println(b);\r\n    \t}\r\n    \r\n    \tstatic void compare(int a){\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tb = sc.nextInt();\r\n    \t}\r\n    }\r\n\r\n","title":"initialize global variable in method","body":"<p>If you want to make some variable global then you would need to declare the variable outside the method. In java, you cannot declare static variables inside method (even if it is static) because inside method all variables are local variables that has no existence outside this method thats why they can't be static.</p>\n<pre><code>import java.util.*;\n\npublic class GlobalVariable{\n    static int b;\n    public static void main(String...args){\n        GlobalVariable.compare(1);\n        System.out.println(b);\n    }\n\n    static void compare(int a){\n        Scanner sc = new Scanner(System.in);\n        b = sc.nextInt();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25152289,"reputation":11,"user_id":18997493,"display_name":"Jason Barbour"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651638456,"creation_date":1651638456,"answer_id":72107941,"question_id":72107824,"body_markdown":"To my knowledge, you cannot do this.\r\nYou would have to declare b outside of the method.\r\n\r\n    static int b ;\r\nThen inside of the method you initialise it :\r\n\r\n    b= sc.nextInt();\r\n\r\nRefer to this: https://stackoverflow.com/questions/4646577/global-variables-in-java for more details about global variables in JAVA and when to use/not use them.","title":"initialize global variable in method","body":"<p>To my knowledge, you cannot do this.\nYou would have to declare b outside of the method.</p>\n<pre><code>static int b ;\n</code></pre>\n<p>Then inside of the method you initialise it :</p>\n<pre><code>b= sc.nextInt();\n</code></pre>\n<p>Refer to this: <a href=\"https://stackoverflow.com/questions/4646577/global-variables-in-java\">Global variables in Java</a> for more details about global variables in JAVA and when to use/not use them.</p>\n"}],"owner":{"account_id":25100956,"reputation":37,"user_id":18951678,"display_name":"bbiot426"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1828,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72107935,"answer_count":2,"score":-1,"last_activity_date":1666226167,"creation_date":1651637372,"question_id":72107824,"body_markdown":"```\r\nstatic void compare(int a) {\r\n\t\tScanner sc= new Scanner(System.in);\r\n\t\tint b= sc.nextInt();\r\n```\r\ni want to make int b to global variable.  \r\nin Python, i can initialize global variable in a function like this\r\n``` \r\ndef compare():\r\n    global b\r\n    b = 15\r\n```\r\nbut in java adding static\r\n ` static int b= sc.nextInt(); ` makes error, how should make this possible?\r\n\r\n","title":"initialize global variable in method","body":"<pre><code>static void compare(int a) {\n        Scanner sc= new Scanner(System.in);\n        int b= sc.nextInt();\n</code></pre>\n<p>i want to make int b to global variable.<br />\nin Python, i can initialize global variable in a function like this</p>\n<pre><code>def compare():\n    global b\n    b = 15\n</code></pre>\n<p>but in java adding static\n<code>static int b= sc.nextInt();</code> makes error, how should make this possible?</p>\n"},{"tags":["javascript","java","sql","loops","collections"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1666143113,"post_id":74118971,"comment_id":130863995,"body_markdown":"Java *AND* JavaScript or SQL Query? That doesn&#39;t make sense, I&#39;m afraid.","body":"Java <i>AND</i> JavaScript or SQL Query? That doesn&#39;t make sense, I&#39;m afraid."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666143245,"post_id":74118971,"comment_id":130864012,"body_markdown":"Hey @HovercraftFullOfEels i&#39;m trying to solve this using Java or Javascript or SQL","body":"Hey @HovercraftFullOfEels i&#39;m trying to solve this using Java or Javascript or SQL"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":1,"creation_date":1666143741,"post_id":74118971,"comment_id":130864071,"body_markdown":"Does your database support regular expressions?","body":"Does your database support regular expressions?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666143867,"post_id":74118971,"comment_id":130864082,"body_markdown":"Hey @phatfingers i&#39;m using MariaDB so i think it does support it","body":"Hey @phatfingers i&#39;m using MariaDB so i think it does support it"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666143929,"post_id":74118971,"comment_id":130864094,"body_markdown":"@phatfingers i&#39;m looking for the best way to solve this and everything seems to have low performance","body":"@phatfingers i&#39;m looking for the best way to solve this and everything seems to have low performance"}],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666145567,"post_id":74119146,"comment_id":130864293,"body_markdown":"Hey pal, thank you very very much for replying!. Could you please explain your query to me? What are you actually doing in there? Is it possible to try it online?","body":"Hey pal, thank you very very much for replying!. Could you please explain your query to me? What are you actually doing in there? Is it possible to try it online?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666146557,"post_id":74119146,"comment_id":130864421,"body_markdown":"What does this line mean?: &quot;attribute6=&#39;*&#39; OR attribute6 REGEXP &#39;\\bYU\\b&#39; and not attribute6 REGEXP &#39;!YU\\b&#39;&quot;. What it is doing?","body":"What does this line mean?: &quot;attribute6=&#39;*&#39; OR attribute6 REGEXP &#39;\\bYU\\b&#39; and not attribute6 REGEXP &#39;!YU\\b&#39;&quot;. What it is doing?"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1666147552,"post_id":74119146,"comment_id":130864518,"body_markdown":"It&#39;s checking to see if the value either equals &#39;*&#39;, or contains a literal such as &#39;YU&#39; (using word boundaries `\\b` to ensure a complete word, avoiding, for example &#39;YUL&#39; or &#39;XYU&#39;).  Finally, it&#39;s checking to see whether to avoid inclusion if &#39;!YU&#39;, which I might not understand correctly, as it doesn&#39;t make much sense when paired with other values.","body":"It&#39;s checking to see if the value either equals &#39;*&#39;, or contains a literal such as &#39;YU&#39; (using word boundaries <code>\\b</code> to ensure a complete word, avoiding, for example &#39;YUL&#39; or &#39;XYU&#39;).  Finally, it&#39;s checking to see whether to avoid inclusion if &#39;!YU&#39;, which I might not understand correctly, as it doesn&#39;t make much sense when paired with other values."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1666147715,"post_id":74119146,"comment_id":130864537,"body_markdown":"Is there any difference between &#39;57&#39; and &#39;!81|57&#39;?","body":"Is there any difference between &#39;57&#39; and &#39;!81|57&#39;?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666147863,"post_id":74119146,"comment_id":130864545,"body_markdown":"!81|57 means that in order to belong to that deposit the value MUST NOT BE 81 or 57","body":"!81|57 means that in order to belong to that deposit the value MUST NOT BE 81 or 57"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":1,"creation_date":1666147953,"post_id":74119146,"comment_id":130864556,"body_markdown":"Ah, ok, was thinking &#39;!&#39; only applied to the 81.  I&#39;ll make adjustments.","body":"Ah, ok, was thinking &#39;!&#39; only applied to the 81.  I&#39;ll make adjustments."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666148081,"post_id":74119146,"comment_id":130864570,"body_markdown":"Alright, pal. The thing is that every ATTRIBUTE COLUMN has different values that makes a product fit on it. I will be &quot;sending&quot; different PRODUCTS CONFIGURATIONs and they must fit on a deposit, do you get me?","body":"Alright, pal. The thing is that every ATTRIBUTE COLUMN has different values that makes a product fit on it. I will be &quot;sending&quot; different PRODUCTS CONFIGURATIONs and they must fit on a deposit, do you get me?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666148468,"post_id":74119146,"comment_id":130864626,"body_markdown":"Pal, how would you do in JAVA to do something like this? It is even possible?","body":"Pal, how would you do in JAVA to do something like this? It is even possible?"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1666148849,"post_id":74119146,"comment_id":130864694,"body_markdown":"Learn how to build a parameterized query and/or use a library to connect to your database.  It&#39;s too broad a topic to address here.","body":"Learn how to build a parameterized query and/or use a library to connect to your database.  It&#39;s too broad a topic to address here."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666148960,"post_id":74119146,"comment_id":130864703,"body_markdown":"Pal, suppose that i am checking if attribute2 has &#39;003&#39; based on what i sent. I need to validate whether it has &quot;*&quot; or &quot;003&quot; or &quot;003|&quot; bacause there exist a value &quot;003|006&quot; on the definition table. How should i handle the &quot;1&quot; thing?","body":"Pal, suppose that i am checking if attribute2 has &#39;003&#39; based on what i sent. I need to validate whether it has &quot;*&quot; or &quot;003&quot; or &quot;003|&quot; bacause there exist a value &quot;003|006&quot; on the definition table. How should i handle the &quot;1&quot; thing?"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1666150070,"post_id":74119146,"comment_id":130864851,"body_markdown":"The answer already addresses that.","body":"The answer already addresses that."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666150279,"post_id":74119146,"comment_id":130864883,"body_markdown":"If i use this it does shows me something as input: AND (business_unit=&#39;*&#39; OR business_unit = &#39;003|006&#39;) but if i use this it does not AND (business_unit=&#39;*&#39; OR business_unit REGEXP &#39;\\b003|006b\\&#39;)","body":"If i use this it does shows me something as input: AND (business_unit=&#39;<i>&#39; OR business_unit = &#39;003|006&#39;) but if i use this it does not AND (business_unit=&#39;</i>&#39; OR business_unit REGEXP &#39;\\b003|006b\\&#39;)"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1666151537,"post_id":74119146,"comment_id":130865057,"body_markdown":"Your post suggests that your table contains  pipe-separated criteria but only shows simple values in your item configurations.  Your last question seems to indicate pipe-separated data in both places.  If that&#39;s the case, then I misunderstood your actual requirements and my answer may be of little help.","body":"Your post suggests that your table contains  pipe-separated criteria but only shows simple values in your item configurations.  Your last question seems to indicate pipe-separated data in both places.  If that&#39;s the case, then I misunderstood your actual requirements and my answer may be of little help."}],"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":13,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666148057,"creation_date":1666145288,"answer_id":74119146,"question_id":74118971,"body_markdown":"I don&#39;t see how you can avoid a full table scan with each query, which may be what is impacting performance depending on the number of rows.  If your schema was restructured to spread multiple values into multiple rows rather than pipe-separated into the same field, you&#39;d have a better chance at indexing fields used in your queries, which could dramatically improve performance depending on the size of your dataset.\r\n\r\nThat said, a query along the lines of the following should be sufficient:\r\n\r\n    SELECT * FROM product WHERE\r\n      (attribute1=&#39;*&#39; OR attribute1 REGEXP &#39;\\bGH\\b&#39; and not attribute1 REGEXP &#39;!.*\\bGH\\b&#39;)\r\n      AND (attribute2=&#39;*&#39; OR attribute2 REGEXP &#39;\\b001\\b&#39; and not attribute2 REGEXP &#39;!.*\\b001\\b&#39;)\r\n      AND (attribute3=&#39;*&#39; OR attribute3 REGEXP &#39;\\b23\\b&#39; and not attribute3 REGEXP &#39;!.*\\b23\\b&#39;)\r\n      AND (attribute4=&#39;*&#39; OR attribute4 REGEXP &#39;\\bJU\\b&#39; and not attribute4 REGEXP &#39;!.*\\bJU\\b&#39;)\r\n      AND (attribute5=&#39;*&#39; OR attribute5 REGEXP &#39;\\bKO\\b&#39; and not attribute5 REGEXP &#39;!.*\\bKO\\b&#39;)\r\n      AND (attribute6=&#39;*&#39; OR attribute6 REGEXP &#39;\\bYU\\b&#39; and not attribute6 REGEXP &#39;!.*\\bYU\\b&#39;);","title":"Trying to iterate to avoid low performance (JAVA &amp; JAVASCRIPT &amp; SQL)","body":"<p>I don't see how you can avoid a full table scan with each query, which may be what is impacting performance depending on the number of rows.  If your schema was restructured to spread multiple values into multiple rows rather than pipe-separated into the same field, you'd have a better chance at indexing fields used in your queries, which could dramatically improve performance depending on the size of your dataset.</p>\n<p>That said, a query along the lines of the following should be sufficient:</p>\n<pre><code>SELECT * FROM product WHERE\n  (attribute1='*' OR attribute1 REGEXP '\\bGH\\b' and not attribute1 REGEXP '!.*\\bGH\\b')\n  AND (attribute2='*' OR attribute2 REGEXP '\\b001\\b' and not attribute2 REGEXP '!.*\\b001\\b')\n  AND (attribute3='*' OR attribute3 REGEXP '\\b23\\b' and not attribute3 REGEXP '!.*\\b23\\b')\n  AND (attribute4='*' OR attribute4 REGEXP '\\bJU\\b' and not attribute4 REGEXP '!.*\\bJU\\b')\n  AND (attribute5='*' OR attribute5 REGEXP '\\bKO\\b' and not attribute5 REGEXP '!.*\\bKO\\b')\n  AND (attribute6='*' OR attribute6 REGEXP '\\bYU\\b' and not attribute6 REGEXP '!.*\\bYU\\b');\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666150524,"post_id":74119535,"comment_id":130864927,"body_markdown":"Hey pal, thanks for replying!\nCould you please explain to me your p Interface and record Rule method? what is it doing?","body":"Hey pal, thanks for replying! Could you please explain to me your p Interface and record Rule method? what is it doing?"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1666151624,"post_id":74119535,"comment_id":130865072,"body_markdown":"@programming_amazing Added a little explanation. I&#39;m sorry that I&#39;m not good at English.","body":"@programming_amazing Added a little explanation. I&#39;m sorry that I&#39;m not good at English."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666152037,"post_id":74119535,"comment_id":130865129,"body_markdown":"Thanks for replying, pal. How am i supponse to try your code, pal? I copy &amp; paste it but it throws some errors such as: &#39;record&#39; is not a valid type name; it is a restricted identifier and not allowed as a type identifier in Java 1.8","body":"Thanks for replying, pal. How am i supponse to try your code, pal? I copy &amp; paste it but it throws some errors such as: &#39;record&#39; is not a valid type name; it is a restricted identifier and not allowed as a type identifier in Java 1.8"},{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1666152347,"post_id":74119535,"comment_id":130865182,"body_markdown":"@programming_amazing I&#39;ll add the code adapted for Java8. Please wait.","body":"@programming_amazing I&#39;ll add the code adapted for Java8. Please wait."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666152714,"post_id":74119535,"comment_id":130865238,"body_markdown":"alright, pal. I also had this error: Constructor call must be the first statement in a constructor... Also this: Rule cannot be resolved to a type","body":"alright, pal. I also had this error: Constructor call must be the first statement in a constructor... Also this: Rule cannot be resolved to a type"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1666156262,"post_id":74119535,"comment_id":130865775,"body_markdown":"@programming_amazing I added Java8 version.","body":"@programming_amazing I added Java8 version."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666183042,"post_id":74119535,"comment_id":130874584,"body_markdown":"Yeah, it worked!. Pal, what is the most efficient way to solve this? Is you r code efficient at all?","body":"Yeah, it worked!. Pal, what is the most efficient way to solve this? Is you r code efficient at all?"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1666213310,"post_id":74119535,"comment_id":130885670,"body_markdown":"I&#39;m not sure about that. However, solutions using SQL generally cannot avoid file I/O. This solution does no file I/O. `String.split()` and `Collectors.toSet()` are expensive in this program, but they are executed only once at `compile()` time for each condition.","body":"I&#39;m not sure about that. However, solutions using SQL generally cannot avoid file I/O. This solution does no file I/O. <code>String.split()</code> and <code>Collectors.toSet()</code> are expensive in this program, but they are executed only once at <code>compile()</code> time for each condition."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666220818,"post_id":74119535,"comment_id":130887423,"body_markdown":"Pal, could you please explain to me what you do in P compile? What it is actually doing?","body":"Pal, could you please explain to me what you do in P compile? What it is actually doing?"},{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1666227417,"post_id":74119535,"comment_id":130888350,"body_markdown":"I added examples of `P.compile()`.","body":"I added examples of <code>P.compile()</code>."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1666228644,"post_id":74119535,"comment_id":130888515,"body_markdown":"I&#39;m checking this out, pal","body":"I&#39;m checking this out, pal"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666225761,"creation_date":1666150188,"answer_id":74119535,"question_id":74118971,"body_markdown":"You can compile the criteria into Java objects.\r\n\r\nInterface `P` is a functional interface with only `boolean test(String s)` method. The static method `P compile(String c)` of this interface converts a string `*` or `!94|46` into a `P` object.\r\n\r\nFor example if you call `P.compile(&quot;*&quot;)`, it will return like this.\r\n\r\n    new P() {\r\n       @Override\r\n       public boolean test(String s) {\r\n           return true;\r\n       }\r\n    }\r\n\r\nIf you call `P.compile(&quot;!94|46&quot;)`, it will return like this.\r\n\r\n    new P() {\r\n        Set&lt;String&gt; SET = Set.of(&quot;94&quot;, &quot;96&quot;);\r\n        @Override\r\n        public boolean test(String s) {\r\n            return !SET.contains(s);\r\n        }\r\n    }\r\n\r\nNote that `P.compile()` creates these objects directly, rather than generating and compiling Java source code.\r\n\r\nRecord `Rule` is a collection of `P` objects associated with an `id`. It has a `boolean test(Data data)` method that takes a `Data` object and tests whether it matches its own criteria.\r\n\r\n    interface P {\r\n        boolean test(String s);\r\n\r\n        public static P compile(String c) {\r\n            if (c.equals(&quot;*&quot;))\r\n                return s -&gt; true;\r\n            boolean not = false;\r\n            if (c.startsWith(&quot;!&quot;)) {\r\n                not = true;\r\n                c = c.substring(1);\r\n            }\r\n            Set&lt;String&gt; values = Stream.of(c.split(&quot;\\\\|&quot;)).collect(Collectors.toSet());\r\n            return not ? s -&gt; !values.contains(s) : s -&gt; values.contains(s);\r\n        }\r\n    }\r\n\r\n    record Rule(int id, P a1, P a2, P a3, P a4, P a5, P a6) {\r\n        public Rule(String id, String a1, String a2, String a3, String a4, String a5, String a6) {\r\n            this(Integer.parseInt(id), P.compile(a1), P.compile(a2), P.compile(a3),\r\n                P.compile(a4), P.compile(a5), P.compile(a6));\r\n        }\r\n        boolean test(Data data) {\r\n            return a1.test(data.a1()) &amp;&amp; a2.test(data.a2()) &amp;&amp; a3.test(data.a3())\r\n                &amp;&amp; a4.test(data.a4()) &amp;&amp; a5.test(data.a5()) &amp;&amp; a6.test(data.a6());\r\n        }\r\n    }\r\n\r\n    record Data(String a1, String a2, String a3, String a4, String a5, String a6) { }\r\n\r\nand\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Rule&gt; rules = List.of(\r\n            new Rule(&quot;41&quot;, &quot;*&quot;, &quot;006|001&quot;, &quot;*&quot;, &quot;OM&quot;, &quot;*&quot;, &quot;*&quot;),\r\n            new Rule(&quot;40&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;41|29&quot;, &quot;!94|46&quot;, &quot;!E5|E6&quot;, &quot;*&quot;),\r\n            new Rule(&quot;39&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;45&quot;, &quot;!94&quot;, &quot;*&quot;, &quot;*&quot;),\r\n            new Rule(&quot;38&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;10|59&quot;, &quot;*&quot;, &quot;18|P5&quot;, &quot;*&quot;),\r\n            new Rule(&quot;37&quot;, &quot;*&quot;, &quot;001&quot;, &quot;23&quot;, &quot;!94&quot;, &quot;*&quot;, &quot;*&quot;),\r\n            new Rule(&quot;36&quot;, &quot;*&quot;, &quot;001&quot;, &quot;26|SSH&quot;, &quot;!57&quot;, &quot;*&quot;, &quot;*&quot;),\r\n            new Rule(&quot;35&quot;, &quot;*&quot;, &quot;001&quot;, &quot;24|25&quot;, &quot;!81|57|0M&quot;, &quot;*&quot;, &quot;*&quot;),\r\n            new Rule(&quot;34&quot;, &quot;*&quot;, &quot;001&quot;, &quot;22&quot;, &quot;!57&quot;, &quot;!Q1|O3&quot;, &quot;*&quot;),\r\n            new Rule(&quot;33&quot;, &quot;*&quot;, &quot;001&quot;, &quot;21&quot;, &quot;!81|57&quot;, &quot;B7&quot;, &quot;*&quot;),\r\n            new Rule(&quot;32&quot;, &quot;*&quot;, &quot;001&quot;, &quot;SSJ|62&quot;, &quot;!81|57&quot;, &quot;*&quot;, &quot;9FA&quot;));\r\n\r\n        List&lt;Data&gt; list = List.of(\r\n            new Data(&quot;GH&quot;, &quot;001&quot;, &quot;VT&quot;, &quot;OM&quot;, &quot;JU&quot;, &quot;YU&quot;),\r\n            new Data(&quot;GH&quot;, &quot;001&quot;, &quot;23&quot;, &quot;JU&quot;, &quot;KO&quot;, &quot;YU&quot;));\r\n\r\n        for (Data data : list) {\r\n            int id = -1;\r\n            for (Rule rule : rules)\r\n                if (rule.test(data)) {\r\n                    id = rule.id();\r\n                    break;\r\n                }\r\n            System.out.println(data + &quot; -&gt; &quot; + id);\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    Data[a1=GH, a2=001, a3=VT, a4=OM, a5=JU, a6=YU] -&gt; 41\r\n    Data[a1=GH, a2=001, a3=23, a4=JU, a5=KO, a6=YU] -&gt; 37\r\n\r\nFor Java1.8\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n\r\n    public class Java8 {\r\n\r\n        public interface P {\r\n            boolean test(String s);\r\n\r\n            public static P compile(String c) {\r\n                if (c.equals(&quot;*&quot;))\r\n                    return s -&gt; true;\r\n                boolean not = false;\r\n                if (c.startsWith(&quot;!&quot;)) {\r\n                    not = true;\r\n                    c = c.substring(1);\r\n                }\r\n                Set&lt;String&gt; values = Stream.of(c.split(&quot;\\\\|&quot;)).collect(Collectors.toSet());\r\n                return not ? s -&gt; !values.contains(s) : s -&gt; values.contains(s);\r\n            }\r\n        }\r\n\r\n        public static class Rule {\r\n            private final int id;\r\n            private final P a1, a2, a3, a4, a5, a6;\r\n            public Rule(String id, String a1, String a2, String a3, String a4, String a5, String a6) {\r\n                this.id = Integer.parseInt(id);\r\n                this.a1 = P.compile(a1); this.a2 = P.compile(a2); this.a3 = P.compile(a3);\r\n                this.a4 = P.compile(a4); this.a5 = P.compile(a5); this.a6 = P.compile(a6);\r\n            }\r\n            public int id() { return id; }\r\n            boolean test(Data data) {\r\n                return a1.test(data.a1()) &amp;&amp; a2.test(data.a2()) &amp;&amp; a3.test(data.a3())\r\n                    &amp;&amp; a4.test(data.a4()) &amp;&amp; a5.test(data.a5()) &amp;&amp; a6.test(data.a6());\r\n            }\r\n        }\r\n\r\n        public static class Data {\r\n            final String a1, a2, a3, a4, a5, a6;\r\n            public Data(String a1, String a2, String a3, String a4, String a5, String a6) {\r\n                this.a1 = a1; this.a2 = a2; this.a3 = a3;\r\n                this.a4 = a4; this.a5 = a5; this.a6 = a6;\r\n            }\r\n            public String a1() { return a1; } public String a2() { return a2; }\r\n            public String a3() { return a3; } public String a4() { return a4; }\r\n            public String a5() { return a5; } public String a6() { return a6; }\r\n            @Override\r\n            public String toString() {\r\n                return String.format(&quot;Data[a1=%s, a2=%s, a3=%s, a4=%s, a5=%s, a6=%s]&quot;,\r\n                    a1, a2, a3, a4, a5, a6);\r\n            }\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            List&lt;Rule&gt; rules = Arrays.asList(\r\n                new Rule(&quot;41&quot;, &quot;*&quot;, &quot;006|001&quot;, &quot;*&quot;, &quot;OM&quot;, &quot;*&quot;, &quot;*&quot;),\r\n                new Rule(&quot;40&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;41|29&quot;, &quot;!94|46&quot;, &quot;!E5|E6&quot;, &quot;*&quot;),\r\n                new Rule(&quot;39&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;45&quot;, &quot;!94&quot;, &quot;*&quot;, &quot;*&quot;),\r\n                new Rule(&quot;38&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;10|59&quot;, &quot;*&quot;, &quot;18|P5&quot;, &quot;*&quot;),\r\n                new Rule(&quot;37&quot;, &quot;*&quot;, &quot;001&quot;, &quot;23&quot;, &quot;!94&quot;, &quot;*&quot;, &quot;*&quot;),\r\n                new Rule(&quot;36&quot;, &quot;*&quot;, &quot;001&quot;, &quot;26|SSH&quot;, &quot;!57&quot;, &quot;*&quot;, &quot;*&quot;),\r\n                new Rule(&quot;35&quot;, &quot;*&quot;, &quot;001&quot;, &quot;24|25&quot;, &quot;!81|57|0M&quot;, &quot;*&quot;, &quot;*&quot;),\r\n                new Rule(&quot;34&quot;, &quot;*&quot;, &quot;001&quot;, &quot;22&quot;, &quot;!57&quot;, &quot;!Q1|O3&quot;, &quot;*&quot;),\r\n                new Rule(&quot;33&quot;, &quot;*&quot;, &quot;001&quot;, &quot;21&quot;, &quot;!81|57&quot;, &quot;B7&quot;, &quot;*&quot;),\r\n                new Rule(&quot;32&quot;, &quot;*&quot;, &quot;001&quot;, &quot;SSJ|62&quot;, &quot;!81|57&quot;, &quot;*&quot;, &quot;9FA&quot;));\r\n\r\n            List&lt;Data&gt; list = Arrays.asList(\r\n                new Data(&quot;GH&quot;, &quot;001&quot;, &quot;VT&quot;, &quot;OM&quot;, &quot;JU&quot;, &quot;YU&quot;),\r\n                new Data(&quot;GH&quot;, &quot;001&quot;, &quot;23&quot;, &quot;JU&quot;, &quot;KO&quot;, &quot;YU&quot;));\r\n\r\n            for (Data data : list) {\r\n                int id = -1;\r\n                for (Rule rule : rules)\r\n                    if (rule.test(data)) {\r\n                        id = rule.id();\r\n                        break;\r\n                    }\r\n                System.out.println(data + &quot; -&gt; &quot; + id);\r\n            }\r\n        }\r\n    }","title":"Trying to iterate to avoid low performance (JAVA &amp; JAVASCRIPT &amp; SQL)","body":"<p>You can compile the criteria into Java objects.</p>\n<p>Interface <code>P</code> is a functional interface with only <code>boolean test(String s)</code> method. The static method <code>P compile(String c)</code> of this interface converts a string <code>*</code> or <code>!94|46</code> into a <code>P</code> object.</p>\n<p>For example if you call <code>P.compile(&quot;*&quot;)</code>, it will return like this.</p>\n<pre><code>new P() {\n   @Override\n   public boolean test(String s) {\n       return true;\n   }\n}\n</code></pre>\n<p>If you call <code>P.compile(&quot;!94|46&quot;)</code>, it will return like this.</p>\n<pre><code>new P() {\n    Set&lt;String&gt; SET = Set.of(&quot;94&quot;, &quot;96&quot;);\n    @Override\n    public boolean test(String s) {\n        return !SET.contains(s);\n    }\n}\n</code></pre>\n<p>Note that <code>P.compile()</code> creates these objects directly, rather than generating and compiling Java source code.</p>\n<p>Record <code>Rule</code> is a collection of <code>P</code> objects associated with an <code>id</code>. It has a <code>boolean test(Data data)</code> method that takes a <code>Data</code> object and tests whether it matches its own criteria.</p>\n<pre><code>interface P {\n    boolean test(String s);\n\n    public static P compile(String c) {\n        if (c.equals(&quot;*&quot;))\n            return s -&gt; true;\n        boolean not = false;\n        if (c.startsWith(&quot;!&quot;)) {\n            not = true;\n            c = c.substring(1);\n        }\n        Set&lt;String&gt; values = Stream.of(c.split(&quot;\\\\|&quot;)).collect(Collectors.toSet());\n        return not ? s -&gt; !values.contains(s) : s -&gt; values.contains(s);\n    }\n}\n\nrecord Rule(int id, P a1, P a2, P a3, P a4, P a5, P a6) {\n    public Rule(String id, String a1, String a2, String a3, String a4, String a5, String a6) {\n        this(Integer.parseInt(id), P.compile(a1), P.compile(a2), P.compile(a3),\n            P.compile(a4), P.compile(a5), P.compile(a6));\n    }\n    boolean test(Data data) {\n        return a1.test(data.a1()) &amp;&amp; a2.test(data.a2()) &amp;&amp; a3.test(data.a3())\n            &amp;&amp; a4.test(data.a4()) &amp;&amp; a5.test(data.a5()) &amp;&amp; a6.test(data.a6());\n    }\n}\n\nrecord Data(String a1, String a2, String a3, String a4, String a5, String a6) { }\n</code></pre>\n<p>and</p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Rule&gt; rules = List.of(\n        new Rule(&quot;41&quot;, &quot;*&quot;, &quot;006|001&quot;, &quot;*&quot;, &quot;OM&quot;, &quot;*&quot;, &quot;*&quot;),\n        new Rule(&quot;40&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;41|29&quot;, &quot;!94|46&quot;, &quot;!E5|E6&quot;, &quot;*&quot;),\n        new Rule(&quot;39&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;45&quot;, &quot;!94&quot;, &quot;*&quot;, &quot;*&quot;),\n        new Rule(&quot;38&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;10|59&quot;, &quot;*&quot;, &quot;18|P5&quot;, &quot;*&quot;),\n        new Rule(&quot;37&quot;, &quot;*&quot;, &quot;001&quot;, &quot;23&quot;, &quot;!94&quot;, &quot;*&quot;, &quot;*&quot;),\n        new Rule(&quot;36&quot;, &quot;*&quot;, &quot;001&quot;, &quot;26|SSH&quot;, &quot;!57&quot;, &quot;*&quot;, &quot;*&quot;),\n        new Rule(&quot;35&quot;, &quot;*&quot;, &quot;001&quot;, &quot;24|25&quot;, &quot;!81|57|0M&quot;, &quot;*&quot;, &quot;*&quot;),\n        new Rule(&quot;34&quot;, &quot;*&quot;, &quot;001&quot;, &quot;22&quot;, &quot;!57&quot;, &quot;!Q1|O3&quot;, &quot;*&quot;),\n        new Rule(&quot;33&quot;, &quot;*&quot;, &quot;001&quot;, &quot;21&quot;, &quot;!81|57&quot;, &quot;B7&quot;, &quot;*&quot;),\n        new Rule(&quot;32&quot;, &quot;*&quot;, &quot;001&quot;, &quot;SSJ|62&quot;, &quot;!81|57&quot;, &quot;*&quot;, &quot;9FA&quot;));\n\n    List&lt;Data&gt; list = List.of(\n        new Data(&quot;GH&quot;, &quot;001&quot;, &quot;VT&quot;, &quot;OM&quot;, &quot;JU&quot;, &quot;YU&quot;),\n        new Data(&quot;GH&quot;, &quot;001&quot;, &quot;23&quot;, &quot;JU&quot;, &quot;KO&quot;, &quot;YU&quot;));\n\n    for (Data data : list) {\n        int id = -1;\n        for (Rule rule : rules)\n            if (rule.test(data)) {\n                id = rule.id();\n                break;\n            }\n        System.out.println(data + &quot; -&gt; &quot; + id);\n    }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Data[a1=GH, a2=001, a3=VT, a4=OM, a5=JU, a6=YU] -&gt; 41\nData[a1=GH, a2=001, a3=23, a4=JU, a5=KO, a6=YU] -&gt; 37\n</code></pre>\n<p>For Java1.8</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Set;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Java8 {\n\n    public interface P {\n        boolean test(String s);\n\n        public static P compile(String c) {\n            if (c.equals(&quot;*&quot;))\n                return s -&gt; true;\n            boolean not = false;\n            if (c.startsWith(&quot;!&quot;)) {\n                not = true;\n                c = c.substring(1);\n            }\n            Set&lt;String&gt; values = Stream.of(c.split(&quot;\\\\|&quot;)).collect(Collectors.toSet());\n            return not ? s -&gt; !values.contains(s) : s -&gt; values.contains(s);\n        }\n    }\n\n    public static class Rule {\n        private final int id;\n        private final P a1, a2, a3, a4, a5, a6;\n        public Rule(String id, String a1, String a2, String a3, String a4, String a5, String a6) {\n            this.id = Integer.parseInt(id);\n            this.a1 = P.compile(a1); this.a2 = P.compile(a2); this.a3 = P.compile(a3);\n            this.a4 = P.compile(a4); this.a5 = P.compile(a5); this.a6 = P.compile(a6);\n        }\n        public int id() { return id; }\n        boolean test(Data data) {\n            return a1.test(data.a1()) &amp;&amp; a2.test(data.a2()) &amp;&amp; a3.test(data.a3())\n                &amp;&amp; a4.test(data.a4()) &amp;&amp; a5.test(data.a5()) &amp;&amp; a6.test(data.a6());\n        }\n    }\n\n    public static class Data {\n        final String a1, a2, a3, a4, a5, a6;\n        public Data(String a1, String a2, String a3, String a4, String a5, String a6) {\n            this.a1 = a1; this.a2 = a2; this.a3 = a3;\n            this.a4 = a4; this.a5 = a5; this.a6 = a6;\n        }\n        public String a1() { return a1; } public String a2() { return a2; }\n        public String a3() { return a3; } public String a4() { return a4; }\n        public String a5() { return a5; } public String a6() { return a6; }\n        @Override\n        public String toString() {\n            return String.format(&quot;Data[a1=%s, a2=%s, a3=%s, a4=%s, a5=%s, a6=%s]&quot;,\n                a1, a2, a3, a4, a5, a6);\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Rule&gt; rules = Arrays.asList(\n            new Rule(&quot;41&quot;, &quot;*&quot;, &quot;006|001&quot;, &quot;*&quot;, &quot;OM&quot;, &quot;*&quot;, &quot;*&quot;),\n            new Rule(&quot;40&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;41|29&quot;, &quot;!94|46&quot;, &quot;!E5|E6&quot;, &quot;*&quot;),\n            new Rule(&quot;39&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;45&quot;, &quot;!94&quot;, &quot;*&quot;, &quot;*&quot;),\n            new Rule(&quot;38&quot;, &quot;*&quot;, &quot;003|006&quot;, &quot;10|59&quot;, &quot;*&quot;, &quot;18|P5&quot;, &quot;*&quot;),\n            new Rule(&quot;37&quot;, &quot;*&quot;, &quot;001&quot;, &quot;23&quot;, &quot;!94&quot;, &quot;*&quot;, &quot;*&quot;),\n            new Rule(&quot;36&quot;, &quot;*&quot;, &quot;001&quot;, &quot;26|SSH&quot;, &quot;!57&quot;, &quot;*&quot;, &quot;*&quot;),\n            new Rule(&quot;35&quot;, &quot;*&quot;, &quot;001&quot;, &quot;24|25&quot;, &quot;!81|57|0M&quot;, &quot;*&quot;, &quot;*&quot;),\n            new Rule(&quot;34&quot;, &quot;*&quot;, &quot;001&quot;, &quot;22&quot;, &quot;!57&quot;, &quot;!Q1|O3&quot;, &quot;*&quot;),\n            new Rule(&quot;33&quot;, &quot;*&quot;, &quot;001&quot;, &quot;21&quot;, &quot;!81|57&quot;, &quot;B7&quot;, &quot;*&quot;),\n            new Rule(&quot;32&quot;, &quot;*&quot;, &quot;001&quot;, &quot;SSJ|62&quot;, &quot;!81|57&quot;, &quot;*&quot;, &quot;9FA&quot;));\n\n        List&lt;Data&gt; list = Arrays.asList(\n            new Data(&quot;GH&quot;, &quot;001&quot;, &quot;VT&quot;, &quot;OM&quot;, &quot;JU&quot;, &quot;YU&quot;),\n            new Data(&quot;GH&quot;, &quot;001&quot;, &quot;23&quot;, &quot;JU&quot;, &quot;KO&quot;, &quot;YU&quot;));\n\n        for (Data data : list) {\n            int id = -1;\n            for (Rule rule : rules)\n                if (rule.test(data)) {\n                    id = rule.id();\n                    break;\n                }\n            System.out.println(data + &quot; -&gt; &quot; + id);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1666152737,"answer_count":2,"score":-5,"last_activity_date":1666225761,"creation_date":1666142962,"question_id":74118971,"body_markdown":"I got this definition table. Every product has it&#39;s own **ATTRIBUTE1, ATTRIBUTE2, ATTRIBUTE3, ATTRIBUTE4, ATTRIBUTE5, ATTRIBUTE6,**  that includes them in a specific deposit\r\n\r\n    DEPOSIT_ID\tATTRIBUTE1\tATTRIBUTE2\tATTRIBUTE3\tATTRIBUTE4\tATTRIBUTE5\tATTRIBUTE6\r\n    41\t\t\t*\t         006|001 \t\t*\t\t\t0M\t\t\t*\t\t\t*\r\n    40\t\t\t*\t   \t     003|006\t  41|29\t\t !94|46\t      !E5|E6\t    *\r\n    39\t\t\t*\t         003|006\t   45\t       !94\t        *\t        *\r\n    38\t        *\t\t     003|006\t  10|59\t        *\t       18|P5\t    *\r\n    37\t        *\t           001\t       23\t       !94\t        *\t        *\r\n    36\t        *\t           001\t      26|SSH\t   !57\t        *\t        *\r\n    35\t        *\t           001\t      24|25\t     !81|57|0M\t    *\t        *\r\n    34\t        *\t           001\t       22\t       !57\t      !Q1|O3\t    *\r\n    33\t        *\t           001\t       21\t      !81|57\t    B7\t        *\r\n    32\t        *\t           001\t      SSJ|62\t  !81|57\t    *\t        9FA\r\n\r\n\r\n&gt; &quot;*&quot; means that it can accept any valid attribute\r\n&gt; \r\n&gt; &quot;|&quot; means it can be one or another (i.e: 006|001 means that it can be 006 or 001)\r\n&gt; \r\n&gt; &quot;!&quot; means it cannot be that value (i.e: !81|57 means that it cannot be 81 or 57)\r\n\r\n\r\n\r\n    Note: \r\n    a &quot;*&quot; for ATTRIBUTE1 would be a value = &quot;GH&quot;\r\n    a &quot;*&quot; for ATTRIBUTE2 would be a value = &quot;001&quot;\r\n    a &quot;*&quot; for ATTRIBUTE3 would be a value = &quot;41&quot;\r\n    a &quot;*&quot; for ATTRIBUTE4 would be a value = &quot;0M&quot;\r\n    a &quot;*&quot; for ATTRIBUTE5 would be a value = &quot;B7&quot;\r\n    a &quot;*&quot; for ATTRIBUTE5 would be a value = &quot;9FA&quot;\r\n\r\n\r\nEVERY attribute has a set of values and the &quot;*&quot; means it can be any, that&#39;s why i posted some valid attributes for each ATTRIBUTE column\r\n---------------------------------------------------------------------------\r\n\r\n**For example:**\r\n\r\nProduct &quot;a&quot; has these attributes (also called item configuration): \r\n\r\n    {\r\n    attribute1: &quot;GH&quot;\r\n    attribute2: &quot;001&quot;\r\n    attribute3: &quot;VT&quot;\r\n    attribute4: &quot;OM&quot;\r\n    attribute5: &quot;JU&quot;\r\n    attribute6: &quot;YU&quot;\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo, for that item configuration, product &quot;a&quot; belongs&quot; to **DEPOSIT_ID: 41**\r\n\r\n--------------------------------------------------------------------------------\r\nSuppose that i want to know which is the DEPOSIT ID for this item configuration:\r\n\r\n    {\r\n    attribute1: &quot;GH&quot;\r\n    attribute2: &quot;001&quot;\r\n    attribute3: &quot;23&quot;\r\n    attribute4: &quot;JU&quot;\r\n    attribute5: &quot;KO&quot;\r\n    attribute6: &quot;YU&quot;\r\n    }\r\n\r\nIt should give me the deposit_id = 37.\r\n\r\nWhat would it be the best to solve this by using JAVA or JAVASCRIPT or SQL?\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1gZym.png\r\n","title":"Trying to iterate to avoid low performance (JAVA &amp; JAVASCRIPT &amp; SQL)","body":"<p>I got this definition table. Every product has it's own <strong>ATTRIBUTE1, ATTRIBUTE2, ATTRIBUTE3, ATTRIBUTE4, ATTRIBUTE5, ATTRIBUTE6,</strong>  that includes them in a specific deposit</p>\n<pre><code>DEPOSIT_ID  ATTRIBUTE1  ATTRIBUTE2  ATTRIBUTE3  ATTRIBUTE4  ATTRIBUTE5  ATTRIBUTE6\n41          *            006|001        *           0M          *           *\n40          *            003|006      41|29      !94|46       !E5|E6        *\n39          *            003|006       45          !94          *           *\n38          *            003|006      10|59         *          18|P5        *\n37          *              001         23          !94          *           *\n36          *              001        26|SSH       !57          *           *\n35          *              001        24|25      !81|57|0M      *           *\n34          *              001         22          !57        !Q1|O3        *\n33          *              001         21         !81|57        B7          *\n32          *              001        SSJ|62      !81|57        *           9FA\n</code></pre>\n<blockquote>\n<p>&quot;*&quot; means that it can accept any valid attribute</p>\n<p>&quot;|&quot; means it can be one or another (i.e: 006|001 means that it can be 006 or 001)</p>\n<p>&quot;!&quot; means it cannot be that value (i.e: !81|57 means that it cannot be 81 or 57)</p>\n</blockquote>\n<pre><code>Note: \na &quot;*&quot; for ATTRIBUTE1 would be a value = &quot;GH&quot;\na &quot;*&quot; for ATTRIBUTE2 would be a value = &quot;001&quot;\na &quot;*&quot; for ATTRIBUTE3 would be a value = &quot;41&quot;\na &quot;*&quot; for ATTRIBUTE4 would be a value = &quot;0M&quot;\na &quot;*&quot; for ATTRIBUTE5 would be a value = &quot;B7&quot;\na &quot;*&quot; for ATTRIBUTE5 would be a value = &quot;9FA&quot;\n</code></pre>\n<h2>EVERY attribute has a set of values and the &quot;*&quot; means it can be any, that's why i posted some valid attributes for each ATTRIBUTE column</h2>\n<p><strong>For example:</strong></p>\n<p>Product &quot;a&quot; has these attributes (also called item configuration):</p>\n<pre><code>{\nattribute1: &quot;GH&quot;\nattribute2: &quot;001&quot;\nattribute3: &quot;VT&quot;\nattribute4: &quot;OM&quot;\nattribute5: &quot;JU&quot;\nattribute6: &quot;YU&quot;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1gZym.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1gZym.png\" alt=\"enter image description here\" /></a></p>\n<p>So, for that item configuration, product &quot;a&quot; belongs&quot; to <strong>DEPOSIT_ID: 41</strong></p>\n<hr />\n<p>Suppose that i want to know which is the DEPOSIT ID for this item configuration:</p>\n<pre><code>{\nattribute1: &quot;GH&quot;\nattribute2: &quot;001&quot;\nattribute3: &quot;23&quot;\nattribute4: &quot;JU&quot;\nattribute5: &quot;KO&quot;\nattribute6: &quot;YU&quot;\n}\n</code></pre>\n<p>It should give me the deposit_id = 37.</p>\n<p>What would it be the best to solve this by using JAVA or JAVASCRIPT or SQL?</p>\n"},{"tags":["java","recursion"],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1665960030,"post_id":74090057,"comment_id":130815536,"body_markdown":"&quot;Because Java is pass-by-reference&quot; Java is **always** pass-by-value. From linked answer: &quot;*Pass-by-value means that the value of a variable is passed to a function/method. Pass-by-reference means that a reference to that variable is passed to the function. The latter gives the function a way to change the contents of the variable.*&quot;. Because Java is always pass-by-value it makes it impossible to write method like `swap(String x, String y){...}` which after calling `swap(str1, str2);` would be able to assign *local variable* `str1` value from *local variable* `str2` and vice versa.","body":"&quot;Because Java is pass-by-reference&quot; Java is <b>always</b> pass-by-value. From linked answer: &quot;<i>Pass-by-value means that the value of a variable is passed to a function/method. Pass-by-reference means that a reference to that variable is passed to the function. The latter gives the function a way to change the contents of the variable.</i>&quot;. Because Java is always pass-by-value it makes it impossible to write method like <code>swap(String x, String y){...}</code> which after calling <code>swap(str1, str2);</code> would be able to assign <i>local variable</i> <code>str1</code> value from <i>local variable</i> <code>str2</code> and vice versa."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1665961553,"post_id":74090057,"comment_id":130815756,"body_markdown":"To be more precise, it is impossible to write `swap(x, y)` for *any* type, not only for String. Anyway to understand that &quot;Java pass the reference by value&quot; we may need to understand [What is the difference between a variable, object, and reference?](https://stackoverflow.com/q/32010172)","body":"To be more precise, it is impossible to write <code>swap(x, y)</code> for <i>any</i> type, not only for String. Anyway to understand that &quot;Java pass the reference by value&quot; we may need to understand <a href=\"https://stackoverflow.com/q/32010172\">What is the difference between a variable, object, and reference?</a>"},{"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"score":0,"creation_date":1665997109,"post_id":74090057,"comment_id":130821942,"body_markdown":"What I meant to say is, that if no new stack/deepcopy gets passed, the used one will get modified. Parameters are reference types, not values.","body":"What I meant to say is, that if no new stack/deepcopy gets passed, the used one will get modified. Parameters are reference types, not values."}],"tags":[],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665997215,"creation_date":1665947824,"answer_id":74090057,"question_id":74089869,"body_markdown":"Your code can be brought down to this iterative approach:\r\n\r\n    public static min3(Stack&lt;Integer&gt; st) {\r\n        int min = Integer.MAX_VALUE;\r\n        while(!stack.isEmpty()) {\r\n            int current = stack.pop();\r\n            if(current &lt; min)\r\n                min = current;\r\n        }\r\n        return min;\r\n    }\r\n\r\nThis gets rid of the parameter, but if you want to keep it recursive, you have to somehow store the current minimum. Either, passed as a parameter, or stored in a static variable.\r\n\r\nAlso: Because parameter-objects get [passed as references][1], you will destroy your stack in the process.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value","title":"What is the meaning of adding another parameter to recursive function","body":"<p>Your code can be brought down to this iterative approach:</p>\n<pre><code>public static min3(Stack&lt;Integer&gt; st) {\n    int min = Integer.MAX_VALUE;\n    while(!stack.isEmpty()) {\n        int current = stack.pop();\n        if(current &lt; min)\n            min = current;\n    }\n    return min;\n}\n</code></pre>\n<p>This gets rid of the parameter, but if you want to keep it recursive, you have to somehow store the current minimum. Either, passed as a parameter, or stored in a static variable.</p>\n<p>Also: Because parameter-objects get <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">passed as references</a>, you will destroy your stack in the process.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665998451,"creation_date":1665998451,"answer_id":74095069,"question_id":74089869,"body_markdown":"Recursion deals with a _partial result_ in every call, and an extra termination condition. This will result in at least one extra parameter in general.\r\n\r\nHere the parameter is the minium of the popped elements.\r\n\r\n    public static int min(Stack &lt;Integer&gt; st) {\r\n        return minRecursively(st, Integer.MAX_VALUE);\r\n    }\r\n    private static int minRecursively(Stack &lt;Integer&gt; st, int min) {\r\n        if (st.isEmpty()) {\r\n            return min;\r\n        }\r\n        int num = st.pop();\r\n        if (num &lt; min) {\r\n            min = num;\r\n        }\r\n        return minRecursively(st, min);\r\n    }\r\n\r\nYour implementation emptied the entire stack. Better would be:\r\n\r\n    private static int minRecursively(Stack &lt;Integer&gt; st, int min) {\r\n        if (st.isEmpty()) {\r\n            return min;\r\n        }\r\n        int num = st.pop();\r\n        if (num &lt; min) {\r\n            min = num;\r\n        }\r\n        min = minRecursively(st, min);\r\n        stack.push(num); // Leave the stack unchanged.\r\n        return min;\r\n    }","title":"What is the meaning of adding another parameter to recursive function","body":"<p>Recursion deals with a <em>partial result</em> in every call, and an extra termination condition. This will result in at least one extra parameter in general.</p>\n<p>Here the parameter is the minium of the popped elements.</p>\n<pre><code>public static int min(Stack &lt;Integer&gt; st) {\n    return minRecursively(st, Integer.MAX_VALUE);\n}\nprivate static int minRecursively(Stack &lt;Integer&gt; st, int min) {\n    if (st.isEmpty()) {\n        return min;\n    }\n    int num = st.pop();\n    if (num &lt; min) {\n        min = num;\n    }\n    return minRecursively(st, min);\n}\n</code></pre>\n<p>Your implementation emptied the entire stack. Better would be:</p>\n<pre><code>private static int minRecursively(Stack &lt;Integer&gt; st, int min) {\n    if (st.isEmpty()) {\n        return min;\n    }\n    int num = st.pop();\n    if (num &lt; min) {\n        min = num;\n    }\n    min = minRecursively(st, min);\n    stack.push(num); // Leave the stack unchanged.\n    return min;\n}\n</code></pre>\n"}],"owner":{"account_id":25145695,"reputation":7,"user_id":18991492,"display_name":"Yetiv Aharon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1666224876,"creation_date":1665946102,"question_id":74089869,"body_markdown":"```\r\npublic static int min2(Stack &lt;Integer&gt; st, int min) {\r\n\t\tif(st.isEmpty()) {\r\n\t\t\treturn min;\r\n\t\t}\r\n\t\tint num= st.pop();\r\n\t\tif(num&lt;min) {\r\n\t\t\tmin=num;\r\n\t\t}\r\n\t\treturn min2(st,min);\r\n\r\n```\r\n\r\nI wrote this code for finding min value in stack and I used another parameter-&gt;int min which I&#39;d like to get rid of &amp; don&#39;t understand what I should ask from the user to enter to the parameter.\r\n","title":"What is the meaning of adding another parameter to recursive function","body":"<pre><code>public static int min2(Stack &lt;Integer&gt; st, int min) {\n        if(st.isEmpty()) {\n            return min;\n        }\n        int num= st.pop();\n        if(num&lt;min) {\n            min=num;\n        }\n        return min2(st,min);\n\n</code></pre>\n<p>I wrote this code for finding min value in stack and I used another parameter-&gt;int min which I'd like to get rid of &amp; don't understand what I should ask from the user to enter to the parameter.</p>\n"},{"tags":["java","eclipse","gradle"],"answers":[{"tags":[],"owner":{"account_id":19984302,"reputation":56,"user_id":14646737,"display_name":"Suran Lee"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666224809,"creation_date":1666170505,"answer_id":74122686,"question_id":70687821,"body_markdown":"phew... I had a same problem with you.\r\nHere is how I solve it:\r\n\r\n1. Project right mouse click -&gt; Run As -&gt; Run configurations\r\n2. [Run Configurations] Gradle Task -&gt; {project.name} - bootwhatever click\r\n-&gt; in right side click tab [Project Settings]\r\n3. [Project settings] check &#39;Override project settings&#39;\r\nin [Advanced Options]  \r\nSet Gradle user home, and Java home you want\r\n4. button &#39;Run&#39; click\r\n\r\n** my eclipse  \r\nVersion: 2022-09 (4.25.0)  \r\nBuild id: 20220908-1902 \r\n","title":"Change Java Home when building with gradle","body":"<p>phew... I had a same problem with you.\nHere is how I solve it:</p>\n<ol>\n<li>Project right mouse click -&gt; Run As -&gt; Run configurations</li>\n<li>[Run Configurations] Gradle Task -&gt; {project.name} - bootwhatever click\n-&gt; in right side click tab [Project Settings]</li>\n<li>[Project settings] check 'Override project settings'\nin [Advanced Options]<br />\nSet Gradle user home, and Java home you want</li>\n<li>button 'Run' click</li>\n</ol>\n<p>** my eclipse<br />\nVersion: 2022-09 (4.25.0)<br />\nBuild id: 20220908-1902</p>\n"}],"owner":{"account_id":15672827,"reputation":3,"user_id":11308807,"display_name":"forsen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74122686,"answer_count":1,"score":0,"last_activity_date":1666224809,"creation_date":1642018336,"question_id":70687821,"body_markdown":"```\r\nWorking Directory: ...\r\nGradle user home: ...\r\nGradle Distribution: Gradle wrapper from target build\r\nGradle Version: 6.8\r\nJava Home: C:\\Program Files\\Java\\jdk-11.0.2\r\nJVM Arguments: None\r\nProgram Arguments: None\r\nBuild Scans Enabled: false\r\nOffline Mode Enabled: false\r\nGradle Tasks: build\r\n```\r\n\r\nI want to change Java Home to a JDK 16, how do I do this??? \r\n\r\nThis is in eclipse ","title":"Change Java Home when building with gradle","body":"<pre><code>Working Directory: ...\nGradle user home: ...\nGradle Distribution: Gradle wrapper from target build\nGradle Version: 6.8\nJava Home: C:\\Program Files\\Java\\jdk-11.0.2\nJVM Arguments: None\nProgram Arguments: None\nBuild Scans Enabled: false\nOffline Mode Enabled: false\nGradle Tasks: build\n</code></pre>\n<p>I want to change Java Home to a JDK 16, how do I do this???</p>\n<p>This is in eclipse</p>\n"},{"tags":["java","multithreading","printing","synchronization"],"comments":[{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1665963803,"post_id":74091344,"comment_id":130815988,"body_markdown":"Start by: 1. Create a constructor for all the parameters, 2. `implements Runnable` instead of `extends Thread`, 3. Don&#39;t increment `internal` 4. Rename `internal` to something meaningful - perhaps `quantity`","body":"Start by: 1. Create a constructor for all the parameters, 2. <code>implements Runnable</code> instead of <code>extends Thread</code>, 3. Don&#39;t increment <code>internal</code> 4. Rename <code>internal</code> to something meaningful - perhaps <code>quantity</code>"},{"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"score":0,"creation_date":1665964366,"post_id":74091344,"comment_id":130816059,"body_markdown":"@Bohemian Ive got this done, could you advise on how to sync it?","body":"@Bohemian Ive got this done, could you advise on how to sync it?"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1665968579,"post_id":74091344,"comment_id":130816552,"body_markdown":"Sync what? There&#39;s nothing I can see that needs synchronising.","body":"Sync what? There&#39;s nothing I can see that needs synchronising."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665973415,"post_id":74091344,"comment_id":130817181,"body_markdown":"I suggest you edit to drop the aspect of repeating the output of text as that seems irrelevant to your main question.","body":"I suggest you edit to drop the aspect of repeating the output of text as that seems irrelevant to your main question."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665973467,"post_id":74091344,"comment_id":130817185,"body_markdown":"You said: &quot; when one of the 3 is finished &quot;. When does a `PrinterThread` finish? As you have described it, each one runs infinitely, writing text every so often, endlessly. If the last task should start only after one of the earlier have finished, what defines an earlier task finishing?","body":"You said: &quot; when one of the 3 is finished &quot;. When does a <code>PrinterThread</code> finish? As you have described it, each one runs infinitely, writing text every so often, endlessly. If the last task should start only after one of the earlier have finished, what defines an earlier task finishing?"}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665972101,"post_id":74091875,"comment_id":130817022,"body_markdown":"The Question asks for the last task to begin only after one of the earlier tasks completes. I don&#39;t see that happening here in this Answer.","body":"The Question asks for the last task to begin only after one of the earlier tasks completes. I don&#39;t see that happening here in this Answer."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665973993,"post_id":74091875,"comment_id":130817242,"body_markdown":"See my last comment on the Question. I don&#39;t read any requirement justifying your `for` loop on `copies`. In my reading of the Question, the task is infinite. Perhaps I&#39;ve misread, in which case you are correct.","body":"See my last comment on the Question. I don&#39;t read any requirement justifying your <code>for</code> loop on <code>copies</code>. In my reading of the Question, the task is infinite. Perhaps I&#39;ve misread, in which case you are correct."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665974144,"post_id":74091875,"comment_id":130817255,"body_markdown":"Another issue, the Question seems to ask for the last task to start only after *any* of the earlier tasks completes. Your code does not start the last task until *all* of the earlier tasks are done. Or have I misunderstood `Thread#join`? I thought the `join` method blocks.","body":"Another issue, the Question seems to ask for the last task to start only after <i>any</i> of the earlier tasks completes. Your code does not start the last task until <i>all</i> of the earlier tasks are done. Or have I misunderstood <code>Thread#join</code>? I thought the <code>join</code> method blocks."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1665975156,"post_id":74091875,"comment_id":130817371,"body_markdown":"@basil yes, join blocks. I find the question confusing. I&#39;ll have to rework this (if I have time).","body":"@basil yes, join blocks. I find the question confusing. I&#39;ll have to rework this (if I have time)."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1665976053,"post_id":74091875,"comment_id":130817495,"body_markdown":"Yes, confusing Question. I voted to close after attempting my own Answer using executor service. You deserve more than my up-vote for making the attempt to answer.","body":"Yes, confusing Question. I voted to close after attempting my own Answer using executor service. You deserve more than my up-vote for making the attempt to answer."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1665994294,"post_id":74091875,"comment_id":130821036,"body_markdown":"@BasilBourque I *think* I&#39;ve done it :)","body":"@BasilBourque I <i>think</i> I&#39;ve done it :)"},{"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"score":0,"creation_date":1665995815,"post_id":74091875,"comment_id":130821512,"body_markdown":"@BasilBourque Thanks for your input. Although Bohemian was correct. I&#39;m trying to use 3 threads to work at the same time &amp; the 4th to start when one of the 3 finishes. By using join() its being done one by one, not 3 at once. \n- Also Im trying to write out  A, 10, 100, has to write out A ever 10 times every 100 miliseconds with the use of those 4 multithreads. \n- At the moment with the use of constructor I make 1 thread per letter. Whereas I need 4 for one letter.","body":"@BasilBourque Thanks for your input. Although Bohemian was correct. I&#39;m trying to use 3 threads to work at the same time &amp; the 4th to start when one of the 3 finishes. By using join() its being done one by one, not 3 at once.  - Also Im trying to write out  A, 10, 100, has to write out A ever 10 times every 100 miliseconds with the use of those 4 multithreads.  - At the moment with the use of constructor I make 1 thread per letter. Whereas I need 4 for one letter."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666022253,"post_id":74091875,"comment_id":130831392,"body_markdown":"@wieszak09 You have not explained how any of the first three threads ever ends.","body":"@wieszak09 You have not explained how any of the first three threads ever ends."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666115255,"creation_date":1665971234,"answer_id":74091875,"question_id":74091344,"body_markdown":"Use a `BlockingQueue` for synchronisation, but you do need to `join` with the threads from your main method otherwise your main will exit the JVM before the threads finish (or possibly even before they start).\r\n\r\n```Java\r\npublic class PrinterThread implements Runnable {\r\n    private String letter;\r\n    private int copies;\r\n    private int amount;\r\n    \r\n    public PrinterThread(String letter, int copies, int amount) {\r\n        this.letter = letter;\r\n        this.copies = copies;\r\n        this.amount = amount;\r\n    }\r\n\r\n    public void run() {\r\n        for (int i = 0; i &lt; copies; i++) { \r\n            System.out.println(letter.repeat(copies));\r\n\r\n            try {\r\n                Thread.sleep(amount);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        QUEUE.offer(0);\r\n    }\r\n}\r\n\r\npublic class Main {\r\n\r\n    private static BlockingQueue&lt;Integer&gt; QUEUE = new ArrayBlockingQueue&lt;&gt;(4); // at least as large as the number of threads\r\n\r\n    public static void main(String[] args) {\r\n        Thread printerThread1 = new Thread(new PrinterThread(&quot;A&quot;, 10, 100));\r\n        Thread printerThread2 = new Thread(new PrinterThread(&quot;B&quot;, 20, 50));\r\n        // etc\r\n\r\n        printerThread1.start();\r\n        printerThread2.start();\r\n        // etc\r\n\r\n        QUEUE.take(); // blocking call\r\n        new Thread(new PrinterThread(&quot;D&quot;, 30, 80)).start();\r\n\r\n        // wait for threads to finish\r\n        printerThread1.join();\r\n        printerThread2.join();\r\n        // etc\r\n    }\r\n}\r\n```\r\n\r\n&lt;sub&gt;Disclaimer: This answer was thumbed in via my phone, so it may not work correctly or even compile, but theres a good chance it will work.&lt;/sub&gt;","title":"Write out a letter every interval every ms multithreading java","body":"<p>Use a <code>BlockingQueue</code> for synchronisation, but you do need to <code>join</code> with the threads from your main method otherwise your main will exit the JVM before the threads finish (or possibly even before they start).</p>\n<pre><code>public class PrinterThread implements Runnable {\n    private String letter;\n    private int copies;\n    private int amount;\n    \n    public PrinterThread(String letter, int copies, int amount) {\n        this.letter = letter;\n        this.copies = copies;\n        this.amount = amount;\n    }\n\n    public void run() {\n        for (int i = 0; i &lt; copies; i++) { \n            System.out.println(letter.repeat(copies));\n\n            try {\n                Thread.sleep(amount);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n        QUEUE.offer(0);\n    }\n}\n\npublic class Main {\n\n    private static BlockingQueue&lt;Integer&gt; QUEUE = new ArrayBlockingQueue&lt;&gt;(4); // at least as large as the number of threads\n\n    public static void main(String[] args) {\n        Thread printerThread1 = new Thread(new PrinterThread(&quot;A&quot;, 10, 100));\n        Thread printerThread2 = new Thread(new PrinterThread(&quot;B&quot;, 20, 50));\n        // etc\n\n        printerThread1.start();\n        printerThread2.start();\n        // etc\n\n        QUEUE.take(); // blocking call\n        new Thread(new PrinterThread(&quot;D&quot;, 30, 80)).start();\n\n        // wait for threads to finish\n        printerThread1.join();\n        printerThread2.join();\n        // etc\n    }\n}\n</code></pre>\n<p><sub>Disclaimer: This answer was thumbed in via my phone, so it may not work correctly or even compile, but theres a good chance it will work.</sub></p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666224784,"creation_date":1666224784,"answer_id":74133155,"question_id":74091344,"body_markdown":"&gt; Write out a letter, x amount of times, after x amount of ms. Use 4 multithreads, 3 of them start right away 1 of them starts when one of the 3 is finished.\r\n\r\nYou obviously need to create a `PrinterThread ` constructor which takes the letter, the amount of times, and amount of millis.\r\n\r\n&gt; I&#39;m currently stuck on syncing the multithreads for them to work together at adding one sum rather than them working separately. \r\n\r\nI&#39;m not sure about the sum.  If you are asking how you can start the 3rd thread then there are a number of different ways to do this.  I would lock on a lock object and pass in a `boolean` in the constructor about whether or not the thread should `wait()` on the lock.  As each of the other threads finish they would call `notify()` on the lock.\r\n\r\n     private static final Object lock = new Object();\r\n     ...\r\n\r\n     public class PrinterThread {\r\n        public PrinterThread(char letter, int times, int millis, boolean waitForOthers) {\r\n            this.letter = letter;\r\n            this.times = times;\r\n            this.millis = millis;\r\n            if (waitForOthers) {\r\n               synchronized (lock) {\r\n                  // wait for one of the others to notify us\r\n                  lock.wait();\r\n               }\r\n            }\r\n        }\r\n        public void run() {\r\n           ...\r\n           synchronized (lock) {\r\n              // notify the lock in case another thread is waiting\r\n              lock.notify();\r\n           }\r\n     }\r\n\r\nThen start 3 `PrinterThread`s with a value of `false` and 1 of them with a value of `true` so that it waits.\r\n","title":"Write out a letter every interval every ms multithreading java","body":"<blockquote>\n<p>Write out a letter, x amount of times, after x amount of ms. Use 4 multithreads, 3 of them start right away 1 of them starts when one of the 3 is finished.</p>\n</blockquote>\n<p>You obviously need to create a <code>PrinterThread </code> constructor which takes the letter, the amount of times, and amount of millis.</p>\n<blockquote>\n<p>I'm currently stuck on syncing the multithreads for them to work together at adding one sum rather than them working separately.</p>\n</blockquote>\n<p>I'm not sure about the sum.  If you are asking how you can start the 3rd thread then there are a number of different ways to do this.  I would lock on a lock object and pass in a <code>boolean</code> in the constructor about whether or not the thread should <code>wait()</code> on the lock.  As each of the other threads finish they would call <code>notify()</code> on the lock.</p>\n<pre><code> private static final Object lock = new Object();\n ...\n\n public class PrinterThread {\n    public PrinterThread(char letter, int times, int millis, boolean waitForOthers) {\n        this.letter = letter;\n        this.times = times;\n        this.millis = millis;\n        if (waitForOthers) {\n           synchronized (lock) {\n              // wait for one of the others to notify us\n              lock.wait();\n           }\n        }\n    }\n    public void run() {\n       ...\n       synchronized (lock) {\n          // notify the lock in case another thread is waiting\n          lock.notify();\n       }\n }\n</code></pre>\n<p>Then start 3 <code>PrinterThread</code>s with a value of <code>false</code> and 1 of them with a value of <code>true</code> so that it waits.</p>\n"}],"owner":{"account_id":25873634,"reputation":51,"user_id":19604090,"display_name":"wieszak09"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1666224784,"creation_date":1665963153,"question_id":74091344,"body_markdown":"I&#39;m currently working on a problem where I have to:\r\n\r\nWrite out a letter, x amount of times, after x amount of ms. Use 4 multithreads, 3 of them start right away 1 of them starts when one of the 3 is finished.\r\n\r\nFor example: A, 10, 100, has to write out A ever 10 times every 100 miliseconds.\r\n\r\nIm currently stuck on syncing the multithreads for them to work together at adding one sum rather than them working seporatley. Could you advise how to sync it together for it to write out the above?\r\n\r\nHere is my code:\r\n\r\n```java\r\npublic class PrinterThread extends Thread {\r\n\r\n    private String letter;\r\n    private int internal;\r\n    private int amount;\r\n\r\n    \r\n    public PrinterThread() {\r\n        for (int i = 1; i &lt;= internal; i++) {\r\n            System.out.println(letter);\r\n        }\r\n        synchronized (this){\r\n            internal++;\r\n        }\r\n\r\n        try {\r\n            Thread.sleep(amount);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n\r\n\r\n        PrinterThread printerThread = new PrinterThread();\r\n        PrinterThread printerThread1 = new PrinterThread();\r\n        PrinterThread printerThread2 = new PrinterThread();\r\n        PrinterThread printerThread3 = new PrinterThread();\r\n\r\n        printerThread.run();\r\n        printerThread1.run();\r\n        printerThread2.run();\r\n        printerThread3.run();\r\n\r\n    }\r\n}\r\n```\r\n","title":"Write out a letter every interval every ms multithreading java","body":"<p>I'm currently working on a problem where I have to:</p>\n<p>Write out a letter, x amount of times, after x amount of ms. Use 4 multithreads, 3 of them start right away 1 of them starts when one of the 3 is finished.</p>\n<p>For example: A, 10, 100, has to write out A ever 10 times every 100 miliseconds.</p>\n<p>Im currently stuck on syncing the multithreads for them to work together at adding one sum rather than them working seporatley. Could you advise how to sync it together for it to write out the above?</p>\n<p>Here is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PrinterThread extends Thread {\n\n    private String letter;\n    private int internal;\n    private int amount;\n\n    \n    public PrinterThread() {\n        for (int i = 1; i &lt;= internal; i++) {\n            System.out.println(letter);\n        }\n        synchronized (this){\n            internal++;\n        }\n\n        try {\n            Thread.sleep(amount);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n\n\n\n        PrinterThread printerThread = new PrinterThread();\n        PrinterThread printerThread1 = new PrinterThread();\n        PrinterThread printerThread2 = new PrinterThread();\n        PrinterThread printerThread3 = new PrinterThread();\n\n        printerThread.run();\n        printerThread1.run();\n        printerThread2.run();\n        printerThread3.run();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","tomcat","system-properties"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1531233131,"post_id":51267819,"comment_id":89514077,"body_markdown":"Either deploy a web application that does exactly that or try to see if that data is available using jmx.","body":"Either deploy a web application that does exactly that or try to see if that data is available using jmx."},{"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"score":0,"creation_date":1531236212,"post_id":51267819,"comment_id":89516219,"body_markdown":"To the downvoter, what is wrong with this question?","body":"To the downvoter, what is wrong with this question?"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1531236736,"post_id":51267819,"comment_id":89516568,"body_markdown":"Maybe because your question doesn&#39;t show efforts to solve by yourself. But it wasn&#39;t me.","body":"Maybe because your question doesn&#39;t show efforts to solve by yourself. But it wasn&#39;t me."},{"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"score":0,"creation_date":1531237086,"post_id":51267819,"comment_id":89516800,"body_markdown":"I edited the question. Thanks @Eug&#232;neAdell.","body":"I edited the question. Thanks @Eug&#232;neAdell."}],"answers":[{"comments":[{"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"score":0,"creation_date":1531236285,"post_id":51268777,"comment_id":89516269,"body_markdown":"Of course I could write code to do it. I was wondering if there was a way to view with tomcat out of the box.","body":"Of course I could write code to do it. I was wondering if there was a way to view with tomcat out of the box."},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1531236663,"post_id":51268777,"comment_id":89516513,"body_markdown":"@Thom  If you read your own question carefully, my answer is acceptable. Another solution was given already by f1sh, based on JMX, but it&#39;s not exactly a dump. We cannot always assume of the skills behind the question. The answer can look obious, or not.","body":"@Thom  If you read your own question carefully, my answer is acceptable. Another solution was given already by f1sh, based on JMX, but it&#39;s not exactly a dump. We cannot always assume of the skills behind the question. The answer can look obious, or not."}],"tags":[],"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531235551,"creation_date":1531235551,"answer_id":51268777,"question_id":51267819,"body_markdown":"From my answer [here][1], create a JSP with this content :\r\n\r\n    &lt;%@ page import=&quot;java.util.Properties&quot; %&gt;\r\n    &lt;%@ page import=&quot;java.util.Set&quot; %&gt;\r\n    \r\n    &lt;%\r\n    Properties p = System.getProperties();\r\n    \r\n    Set&lt;String&gt; keys = p.stringPropertyNames();\r\n    for (String key : keys)\r\n      out.println(key + &quot; : &quot; + p.getProperty(key));\r\n    \r\n    %&gt;\r\n\r\nRemember you shouldn&#39;t disclose this to anyone but the admin (even the dev team shouldn&#39;t know the database password for example, if stored in a property).\r\n\r\n  [1]: https://stackoverflow.com/a/49437034/7748072","title":"Get tomcat to spill system properties","body":"<p>From my answer <a href=\"https://stackoverflow.com/a/49437034/7748072\">here</a>, create a JSP with this content :</p>\n\n<pre><code>&lt;%@ page import=\"java.util.Properties\" %&gt;\n&lt;%@ page import=\"java.util.Set\" %&gt;\n\n&lt;%\nProperties p = System.getProperties();\n\nSet&lt;String&gt; keys = p.stringPropertyNames();\nfor (String key : keys)\n  out.println(key + \" : \" + p.getProperty(key));\n\n%&gt;\n</code></pre>\n\n<p>Remember you shouldn't disclose this to anyone but the admin (even the dev team shouldn't know the database password for example, if stored in a property).</p>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1531242771,"creation_date":1531241109,"answer_id":51270462,"question_id":51267819,"body_markdown":"You can actually copy-paste the values if you use the java mission control tool:\r\n\r\n    $JAVA_HOME/bin/jmc\r\n\r\nStart a JMX console against your Tomcat&#39;s JVM process, then look under the `System` tab. You can see all values and copy the values under `System properties`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou may need to check [the documentation on enabling remote JMX][2] if you&#39;re going to do this from a remote machine.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oZrdf.png\r\n  [2]: https://tomcat.apache.org/tomcat-8.0-doc/monitoring.html#Enabling_JMX_Remote","title":"Get tomcat to spill system properties","body":"<p>You can actually copy-paste the values if you use the java mission control tool:</p>\n\n<pre><code>$JAVA_HOME/bin/jmc\n</code></pre>\n\n<p>Start a JMX console against your Tomcat's JVM process, then look under the <code>System</code> tab. You can see all values and copy the values under <code>System properties</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oZrdf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oZrdf.png\" alt=\"enter image description here\"></a></p>\n\n<p>You may need to check <a href=\"https://tomcat.apache.org/tomcat-8.0-doc/monitoring.html#Enabling_JMX_Remote\" rel=\"nofollow noreferrer\">the documentation on enabling remote JMX</a> if you're going to do this from a remote machine.</p>\n"},{"tags":[],"owner":{"account_id":9827,"reputation":6784,"user_id":2049208,"display_name":"Kire Haglin"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666224624,"creation_date":1532146241,"answer_id":51452728,"question_id":51267819,"body_markdown":"Besides Java Mission Control, you can do it using jcmd. First list Java processes with:\r\n\r\n    $ JAVA_HOME/bin/jcmd\r\n\r\nThen enter the PID of the Tomcat process:\r\n\r\n    $ JAVA_HOME/bin/jcmd &lt;pid&gt; VM.system_properties","title":"Get tomcat to spill system properties","body":"<p>Besides Java Mission Control, you can do it using jcmd. First list Java processes with:</p>\n<pre><code>$ JAVA_HOME/bin/jcmd\n</code></pre>\n<p>Then enter the PID of the Tomcat process:</p>\n<pre><code>$ JAVA_HOME/bin/jcmd &lt;pid&gt; VM.system_properties\n</code></pre>\n"}],"owner":{"account_id":938881,"reputation":14223,"user_id":967330,"accept_rate":90,"display_name":"Thom"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1746,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":51270462,"answer_count":3,"score":1,"last_activity_date":1666224624,"creation_date":1531232815,"question_id":51267819,"body_markdown":"I googled everything I could think of and couldn&#39;t find anything.\r\n\r\nDoes anyone know a way to get tomcat to dump the output of System.getProperties() of the current runtime environment? It would certainly be useful to have sometimes.\r\n","title":"Get tomcat to spill system properties","body":"<p>I googled everything I could think of and couldn't find anything.</p>\n\n<p>Does anyone know a way to get tomcat to dump the output of System.getProperties() of the current runtime environment? It would certainly be useful to have sometimes.</p>\n"},{"tags":["java","gradle","code-generation","build-automation","gradle-plugin"],"comments":[{"owner":{"account_id":10501332,"reputation":510,"user_id":7749384,"accept_rate":73,"display_name":"Araf"},"score":0,"creation_date":1666686129,"post_id":74103723,"comment_id":130989921,"body_markdown":"Try this https://stackoverflow.com/questions/28698670/gradle-multi-project-build","body":"Try this <a href=\"https://stackoverflow.com/questions/28698670/gradle-multi-project-build\" title=\"gradle multi project build\">stackoverflow.com/questions/28698670/gradle-multi-project-bu&zwnj;&#8203;ild</a>"},{"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"score":0,"creation_date":1666699555,"post_id":74103723,"comment_id":130994446,"body_markdown":"Thanks for the link but that&#39;s not what I need.","body":"Thanks for the link but that&#39;s not what I need."},{"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"score":0,"creation_date":1666828619,"post_id":74103723,"comment_id":131030771,"body_markdown":"Uh oh, 10 minutes till bounty ends. Guess I&#39;ll have to rewrite the whole thing into Gradle plugin with ASM then","body":"Uh oh, 10 minutes till bounty ends. Guess I&#39;ll have to rewrite the whole thing into Gradle plugin with ASM then"}],"owner":{"account_id":3281797,"reputation":323,"user_id":2762231,"accept_rate":80,"display_name":"therainycat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666224407,"creation_date":1666044092,"question_id":74103723,"body_markdown":"Hierarchy of projects in my Gradle setup\r\n---------------------------------\r\n\r\n| Project name | Depends on | Description |\r\n| ------------ | ----------- | ---------- |\r\n| **engine**       | Different 3rd party libraries, not depends on local projects | A game engine I&#39;m working on |\r\n| **game**         | **:engine** | Main logic of the game |\r\n| **generator**   | **:game** | Utility code which runs on top of game&#39;s codebase and generates extra Java sources based on classes / methods it can find on the classpath. This generated code is being used by the **:engine** |\r\n| **android**, **desktop**, **ios** | **:game** | Platform-specific code, not related to the question |\r\n\r\nIt looks like like this in build.gradle (simplified):\r\n\r\n    project(&quot;:engine&quot;) {\r\n        dependencies {\r\n            // Some 3rd party dependencies\r\n        }\r\n    }\r\n    \r\n    project(&quot;:game&quot;) {\r\n        dependencies {\r\n            api project(&quot;:engine&quot;)\r\n        }\r\n    }\r\n    \r\n    project(&quot;:generator&quot;) {\r\n        dependencies {\r\n            api project(&quot;:game&quot;)\r\n        }\r\n    }\r\n    \r\n    project(&quot;:android&quot;) {\r\n        dependencies {\r\n            api project(&quot;:game&quot;)\r\n        }\r\n    }\r\n\r\nThe difficult part\r\n---------------------------------\r\n\r\nThe **:engine** contains an implementation of a Lua interpreter and needs quite a lot of procedurally generated code which is based on a data which, on its turn, is only available in the runtime of the **:game** project (or any other project which has **:game** in its classpath).\r\n\r\nThe **:engine** is meant to be a standalone foundation for the other projects and, ideally, should not even know the name of any project which uses it as a dependency - for example, it should be possible to make two separate projects with a game logic (say, **:game** and **:othergame**).\r\n\r\nBut **:engine** needs a generated code which can only be generated in the runtime of **:game** and it makes (some sort) of a circullar loop of dependencies which I&#39;ve not managed to resolve with my poor knowledge of Gradle.\r\n\r\nWhat is a :generator\r\n---------------------------------\r\nIt is a regular Java project with a simple `main(String[] args)` entry point. It depends on **:game** which makes it able to scan for classes that exist in both **:engine** and **:game** projects.\r\n\r\nIt scans classes on the classpath with Reflection, generates new Java source code based on lists of classes / methods of **:engine** &amp; **:game** and writes it into source path of the **:game** project under its specific package path. Next time anything which depends on the **:game** is being run, it has newly generated code on its classpath.\r\n\r\n**:engine**&#39;s Lua interpreter simply searches for the generated code using `Class.forName()` so there are no hardcoded imports on the generated code inside of the **:engine**.\r\n\r\n*Note A: generated code heavily depends on classes of :engine / :game and uses them in its import statements* \r\n\r\n*Note B: when something is being changed in code of the :game, usually I need to delete all of the generated code (part of which becomes broken and won&#39;t compile) to be able to run :generator again - probably it would be better to make it a .jar library to avoid errors in IDE / at build time, so it would be even better to create .jar with that generated code*\r\n\r\nCurrent approach\r\n----------------\r\nI do this each time I need to run the game during development:\r\n\r\n 1. Make changes to **:game** (edit game&#39;s logic)\r\n 2. *(If there are errors in the previously generated code)* Delete previously generated code\r\n 2. (Build and) Run **:generator** as a regular Java console app\r\n 3. Run **:desktop** (which simply starts the **:engine**)\r\n\r\nThis approach has multiple issues, and I hope someone with good knowledge of Gradle can give me a couple of suggestions:\r\n\r\n - **:generator** depends on **:game** but, technically, it is a part of an engine and should not know the name of the game&#39;s project. I thought of making another project called **:game-generator** which depends on both **:generator** &amp; **:game** and removing **:game** from **:generator**&#39;s dependencies but have not tried it yet because have doubts it will work (actually, was focused on another issue listed below)\r\n - It is not possible to make **:engine** and **:generator** standalone projects because **:generator** has hard-coded dependency on **:game**, and **:engine** can not exist without that generated code (and that&#39;s the main issue I&#39;m focusing on right now)\r\n - Running the game requires too many actions and it feels like all of them can be a simple Gradle task / some kind of plugin which is being executed as a part of a regular build procedure\r\n\r\nFailed attempt\r\n---------------\r\n\r\nI&#39;ve tried to make a custom plugin for Gradle. \r\n\r\nThe idea was to apply it in game&#39;s project, send in some configurations and run it before any of the game&#39;s code is being compiled. But:\r\n\r\n - Generator&#39;s code can not be run as a part of Gradle, because it needs runtime class info of the game\r\n - Somehow I&#39;ve not managed to access :generator project and its tasks from the plugin which is applied to :game - is it even possible?\r\n - As a last resort, there&#39;s still an idea to write a custom script (for example, in Python) and execute it by means of Gradle at the beginning of the build stage. The script should run `gradle generator:run` (and probably do some other stuff) but I doubt it would run while Gradle is already busy / will need to start a separate Gradle daemon\r\n\r\nThank you for any suggestions.","title":"Is it possible to build and run Gradle project A as a part of build scenario of project B?","body":"<h2>Hierarchy of projects in my Gradle setup</h2>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Project name</th>\n<th>Depends on</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>engine</strong></td>\n<td>Different 3rd party libraries, not depends on local projects</td>\n<td>A game engine I'm working on</td>\n</tr>\n<tr>\n<td><strong>game</strong></td>\n<td><strong>:engine</strong></td>\n<td>Main logic of the game</td>\n</tr>\n<tr>\n<td><strong>generator</strong></td>\n<td><strong>:game</strong></td>\n<td>Utility code which runs on top of game's codebase and generates extra Java sources based on classes / methods it can find on the classpath. This generated code is being used by the <strong>:engine</strong></td>\n</tr>\n<tr>\n<td><strong>android</strong>, <strong>desktop</strong>, <strong>ios</strong></td>\n<td><strong>:game</strong></td>\n<td>Platform-specific code, not related to the question</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>It looks like like this in build.gradle (simplified):</p>\n<pre><code>project(&quot;:engine&quot;) {\n    dependencies {\n        // Some 3rd party dependencies\n    }\n}\n\nproject(&quot;:game&quot;) {\n    dependencies {\n        api project(&quot;:engine&quot;)\n    }\n}\n\nproject(&quot;:generator&quot;) {\n    dependencies {\n        api project(&quot;:game&quot;)\n    }\n}\n\nproject(&quot;:android&quot;) {\n    dependencies {\n        api project(&quot;:game&quot;)\n    }\n}\n</code></pre>\n<h2>The difficult part</h2>\n<p>The <strong>:engine</strong> contains an implementation of a Lua interpreter and needs quite a lot of procedurally generated code which is based on a data which, on its turn, is only available in the runtime of the <strong>:game</strong> project (or any other project which has <strong>:game</strong> in its classpath).</p>\n<p>The <strong>:engine</strong> is meant to be a standalone foundation for the other projects and, ideally, should not even know the name of any project which uses it as a dependency - for example, it should be possible to make two separate projects with a game logic (say, <strong>:game</strong> and <strong>:othergame</strong>).</p>\n<p>But <strong>:engine</strong> needs a generated code which can only be generated in the runtime of <strong>:game</strong> and it makes (some sort) of a circullar loop of dependencies which I've not managed to resolve with my poor knowledge of Gradle.</p>\n<h2>What is a :generator</h2>\n<p>It is a regular Java project with a simple <code>main(String[] args)</code> entry point. It depends on <strong>:game</strong> which makes it able to scan for classes that exist in both <strong>:engine</strong> and <strong>:game</strong> projects.</p>\n<p>It scans classes on the classpath with Reflection, generates new Java source code based on lists of classes / methods of <strong>:engine</strong> &amp; <strong>:game</strong> and writes it into source path of the <strong>:game</strong> project under its specific package path. Next time anything which depends on the <strong>:game</strong> is being run, it has newly generated code on its classpath.</p>\n<p><strong>:engine</strong>'s Lua interpreter simply searches for the generated code using <code>Class.forName()</code> so there are no hardcoded imports on the generated code inside of the <strong>:engine</strong>.</p>\n<p><em>Note A: generated code heavily depends on classes of :engine / :game and uses them in its import statements</em></p>\n<p><em>Note B: when something is being changed in code of the :game, usually I need to delete all of the generated code (part of which becomes broken and won't compile) to be able to run :generator again - probably it would be better to make it a .jar library to avoid errors in IDE / at build time, so it would be even better to create .jar with that generated code</em></p>\n<h2>Current approach</h2>\n<p>I do this each time I need to run the game during development:</p>\n<ol>\n<li>Make changes to <strong>:game</strong> (edit game's logic)</li>\n<li><em>(If there are errors in the previously generated code)</em> Delete previously generated code</li>\n<li>(Build and) Run <strong>:generator</strong> as a regular Java console app</li>\n<li>Run <strong>:desktop</strong> (which simply starts the <strong>:engine</strong>)</li>\n</ol>\n<p>This approach has multiple issues, and I hope someone with good knowledge of Gradle can give me a couple of suggestions:</p>\n<ul>\n<li><strong>:generator</strong> depends on <strong>:game</strong> but, technically, it is a part of an engine and should not know the name of the game's project. I thought of making another project called <strong>:game-generator</strong> which depends on both <strong>:generator</strong> &amp; <strong>:game</strong> and removing <strong>:game</strong> from <strong>:generator</strong>'s dependencies but have not tried it yet because have doubts it will work (actually, was focused on another issue listed below)</li>\n<li>It is not possible to make <strong>:engine</strong> and <strong>:generator</strong> standalone projects because <strong>:generator</strong> has hard-coded dependency on <strong>:game</strong>, and <strong>:engine</strong> can not exist without that generated code (and that's the main issue I'm focusing on right now)</li>\n<li>Running the game requires too many actions and it feels like all of them can be a simple Gradle task / some kind of plugin which is being executed as a part of a regular build procedure</li>\n</ul>\n<h2>Failed attempt</h2>\n<p>I've tried to make a custom plugin for Gradle.</p>\n<p>The idea was to apply it in game's project, send in some configurations and run it before any of the game's code is being compiled. But:</p>\n<ul>\n<li>Generator's code can not be run as a part of Gradle, because it needs runtime class info of the game</li>\n<li>Somehow I've not managed to access :generator project and its tasks from the plugin which is applied to :game - is it even possible?</li>\n<li>As a last resort, there's still an idea to write a custom script (for example, in Python) and execute it by means of Gradle at the beginning of the build stage. The script should run <code>gradle generator:run</code> (and probably do some other stuff) but I doubt it would run while Gradle is already busy / will need to start a separate Gradle daemon</li>\n</ul>\n<p>Thank you for any suggestions.</p>\n"},{"tags":["java","reflection","compiler-construction"],"comments":[{"owner":{"account_id":48454,"reputation":12964,"user_id":143969,"accept_rate":91,"display_name":"aperkins"},"score":0,"creation_date":1262733142,"post_id":2009732,"comment_id":1930440,"body_markdown":"This is a common complaint about reflection - and a good reason to avoid it wherever possible.  Being someone who has to do a LOT of reflection with one of the projects I work on, I feel your pain.","body":"This is a common complaint about reflection - and a good reason to avoid it wherever possible.  Being someone who has to do a LOT of reflection with one of the projects I work on, I feel your pain."},{"owner":{"account_id":84599,"reputation":15850,"user_id":236370,"accept_rate":87,"display_name":"manuel aldana"},"score":1,"creation_date":1262744285,"post_id":2009732,"comment_id":1931274,"body_markdown":"i think the term &#39;type-safe&#39; is slightly wrong. using reflection@java is type-safe (when it comes to runtime). type-errors just don&#39;t pop up earlier during compilation.","body":"i think the term &#39;type-safe&#39; is slightly wrong. using reflection@java is type-safe (when it comes to runtime). type-errors just don&#39;t pop up earlier during compilation."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1612449128,"post_id":2009732,"comment_id":116774657,"body_markdown":"Why not pass a `Function` as lambda to it?","body":"Why not pass a <code>Function</code> as lambda to it?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1262731970,"creation_date":1262731970,"answer_id":2009760,"question_id":2009732,"body_markdown":"There isn&#39;t anything in the language *yet* - but part of the closures proposal for Java 7 includes method literals, I believe.\r\n\r\nI don&#39;t have any suggestions beyond that, I&#39;m afraid.","title":"Type-safe method reflection in Java","body":"<p>There isn't anything in the language <em>yet</em> - but part of the closures proposal for Java 7 includes method literals, I believe.</p>\n\n<p>I don't have any suggestions beyond that, I'm afraid.</p>\n"},{"comments":[{"owner":{"account_id":35692,"reputation":2810,"user_id":101172,"accept_rate":87,"display_name":"jthg"},"score":0,"creation_date":1262791420,"post_id":2010141,"comment_id":1934949,"body_markdown":"Thanks for the correction on the terminology.\n\nI&#39;m not sure how the rest of your answer is related to my question. If you&#39;re doing reflection dynamically at run time (i.e. the result of the reflection could vary depending on input or other runtime state), then yes, you likely won&#39;t be able to ensure that the code won&#39;t throw an exception or that it will halt.","body":"Thanks for the correction on the terminology.  I&#39;m not sure how the rest of your answer is related to my question. If you&#39;re doing reflection dynamically at run time (i.e. the result of the reflection could vary depending on input or other runtime state), then yes, you likely won&#39;t be able to ensure that the code won&#39;t throw an exception or that it will halt."},{"owner":{"account_id":35692,"reputation":2810,"user_id":101172,"accept_rate":87,"display_name":"jthg"},"score":1,"creation_date":1262791452,"post_id":2010141,"comment_id":1934954,"body_markdown":"I was more asking about reflection in which the result is always the same. I.E. Person.class.getMethod(&quot;getPhoneNumber&quot;, null) would always return the same method and it&#39;s entirely possible to resolve it at compile time. Just like how you can do Person.class to get a Class object, it would be helpful to be able to do something like Person.getPhoneNumber.method to get a Method object.","body":"I was more asking about reflection in which the result is always the same. I.E. Person.class.getMethod(&quot;getPhoneNumber&quot;, null) would always return the same method and it&#39;s entirely possible to resolve it at compile time. Just like how you can do Person.class to get a Class object, it would be helpful to be able to do something like Person.getPhoneNumber.method to get a Method object."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666224333,"creation_date":1262737064,"answer_id":2010141,"question_id":2009732,"body_markdown":"&gt; Is any practical way to reference a method on a class in a type-safe manner?\r\n\r\nFirst of all, reflection *is* type-safe.  It is just that it is dynamically typed, not statically typed.\r\n\r\nSo, assuming that you want a *statically typed* equivalent of reflection, the theoretical answer is that it is impossible.  Consider this:\r\n\r\n    Method m;\r\n    if (arbitraryFunction(obj)) {\r\n        m = obj.getClass().getDeclaredMethod(&quot;foo&quot;, ...);\r\n    } else {\r\n        m = obj.getClass().getDeclaredMethod(&quot;bar&quot;, ...);\r\n    }\r\n\r\nCan we do this so that that runtime type exceptions cannot happen?  In general NO, since this would entail proving that `arbitraryFunction(obj)` terminates.  (This is equivalent to the Halting Problem, which is proven to be unsolvable in general, and is intractable using state-of-the-art theorem proving technology ... AFAIK.)\r\n\r\nAnd I think that this road-block would apply to any approach where you could inject arbitrary Java code into the logic that is used to reflectively select a method from an object&#39;s class.\r\n\r\nTo my mind, the only moderately practical approach at the moment would be to replace the reflective code with something that generates and compiles Java source code.  If this process occurs before you &quot;run&quot; the application, you&#39;ve satisfied the requirement for static type-safety.\r\n\r\n-----------------\r\n\r\n&gt; I was more asking about reflection in which the result is always the same. I.E. `Person.class.getMethod(&quot;getPhoneNumber&quot;, null)` would always return the same method and it&#39;s entirely possible to resolve it at compile time.\r\n\r\nWhat happens if after compiling the class containing this code, you *change* `Person` to remove the `getPhoneNumber` method?\r\n\r\nThe only way you can be sure that you can resolve `getPhoneNumber` reflectively is if you can somehow *prevent* `Person` from being changed.  But you can&#39;t do that in Java.  Runtime binding of classes is a fundamental part of the language.\r\n\r\n(For record, if you did that for a method that you called non-reflectively, you would get an `IncompatibleClassChangeError` of some kind when the two classes were loaded ...)\r\n\r\n------------------\r\n\r\nIt has been pointed out that in Java 8 and later you could declare your validator something like this:\r\n\r\n    public Result validateField(Object data, \r\n                                SomeFunctionalInterface function, \r\n                                ValidationOptions options) { ... }\r\n\r\nwhere `SomeFunctionalInterface` corresponds to the (loosely speaking) common signature of the methods you are validating.\r\n\r\nThen you can call it with a *method reference*; e.g.\r\n\r\n    validateField(data, SomeClass::someMethod, options)\r\n\r\nThis is approach is statically type-safe.  You will get a compilation error if `SomeClass` doesn&#39;t have `someMethod` or if it doesn&#39;t conform to `SomeFunctionalInterface`.   \r\n\r\nBut you can&#39;t use a string to denote the method name.  Looking up a method by name would entail either reflection ... or something else that side-steps static (i.e. compile time / load time) type safety.\r\n\r\n","title":"Type-safe method reflection in Java","body":"<blockquote>\n<p>Is any practical way to reference a method on a class in a type-safe manner?</p>\n</blockquote>\n<p>First of all, reflection <em>is</em> type-safe.  It is just that it is dynamically typed, not statically typed.</p>\n<p>So, assuming that you want a <em>statically typed</em> equivalent of reflection, the theoretical answer is that it is impossible.  Consider this:</p>\n<pre><code>Method m;\nif (arbitraryFunction(obj)) {\n    m = obj.getClass().getDeclaredMethod(&quot;foo&quot;, ...);\n} else {\n    m = obj.getClass().getDeclaredMethod(&quot;bar&quot;, ...);\n}\n</code></pre>\n<p>Can we do this so that that runtime type exceptions cannot happen?  In general NO, since this would entail proving that <code>arbitraryFunction(obj)</code> terminates.  (This is equivalent to the Halting Problem, which is proven to be unsolvable in general, and is intractable using state-of-the-art theorem proving technology ... AFAIK.)</p>\n<p>And I think that this road-block would apply to any approach where you could inject arbitrary Java code into the logic that is used to reflectively select a method from an object's class.</p>\n<p>To my mind, the only moderately practical approach at the moment would be to replace the reflective code with something that generates and compiles Java source code.  If this process occurs before you &quot;run&quot; the application, you've satisfied the requirement for static type-safety.</p>\n<hr />\n<blockquote>\n<p>I was more asking about reflection in which the result is always the same. I.E. <code>Person.class.getMethod(&quot;getPhoneNumber&quot;, null)</code> would always return the same method and it's entirely possible to resolve it at compile time.</p>\n</blockquote>\n<p>What happens if after compiling the class containing this code, you <em>change</em> <code>Person</code> to remove the <code>getPhoneNumber</code> method?</p>\n<p>The only way you can be sure that you can resolve <code>getPhoneNumber</code> reflectively is if you can somehow <em>prevent</em> <code>Person</code> from being changed.  But you can't do that in Java.  Runtime binding of classes is a fundamental part of the language.</p>\n<p>(For record, if you did that for a method that you called non-reflectively, you would get an <code>IncompatibleClassChangeError</code> of some kind when the two classes were loaded ...)</p>\n<hr />\n<p>It has been pointed out that in Java 8 and later you could declare your validator something like this:</p>\n<pre><code>public Result validateField(Object data, \n                            SomeFunctionalInterface function, \n                            ValidationOptions options) { ... }\n</code></pre>\n<p>where <code>SomeFunctionalInterface</code> corresponds to the (loosely speaking) common signature of the methods you are validating.</p>\n<p>Then you can call it with a <em>method reference</em>; e.g.</p>\n<pre><code>validateField(data, SomeClass::someMethod, options)\n</code></pre>\n<p>This is approach is statically type-safe.  You will get a compilation error if <code>SomeClass</code> doesn't have <code>someMethod</code> or if it doesn't conform to <code>SomeFunctionalInterface</code>.</p>\n<p>But you can't use a string to denote the method name.  Looking up a method by name would entail either reflection ... or something else that side-steps static (i.e. compile time / load time) type safety.</p>\n"},{"comments":[{"owner":{"account_id":35692,"reputation":2810,"user_id":101172,"accept_rate":87,"display_name":"jthg"},"score":0,"creation_date":1262791549,"post_id":2010302,"comment_id":1934977,"body_markdown":"This seems like a decent idea. It&#39;s better than trying to define string constants with the names of fields like what I&#39;ve seen in code I&#39;ve maintained.","body":"This seems like a decent idea. It&#39;s better than trying to define string constants with the names of fields like what I&#39;ve seen in code I&#39;ve maintained."},{"owner":{"account_id":62950,"reputation":3354,"user_id":186663,"display_name":"PSpeed"},"score":0,"creation_date":1262815133,"post_id":2010302,"comment_id":1938103,"body_markdown":"Yeah, it&#39;s sort of &quot;making the best of it&quot;.  Not sure who/why I got a down vote from someone. :)  Always fun to get down voted with no comment.","body":"Yeah, it&#39;s sort of &quot;making the best of it&quot;.  Not sure who/why I got a down vote from someone. :)  Always fun to get down voted with no comment."},{"owner":{"account_id":62950,"reputation":3354,"user_id":186663,"display_name":"PSpeed"},"score":0,"creation_date":1262815205,"post_id":2010302,"comment_id":1938115,"body_markdown":"The other nice thing about this approach is when/if the language gets Method literals then it&#39;s conceivably a simple change to convert.","body":"The other nice thing about this approach is when/if the language gets Method literals then it&#39;s conceivably a simple change to convert."}],"tags":[],"owner":{"account_id":62950,"reputation":3354,"user_id":186663,"display_name":"PSpeed"},"comment_count":3,"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1262739584,"creation_date":1262739584,"answer_id":2010302,"question_id":2009732,"body_markdown":"As others mention, there is no real way to do this... and I&#39;ve not seen a precompiler that supports it.  The syntax would be interesting, to say the least.  Even in your example, it could only cover a small subset of the potential reflective possibilities that a user might want to do since it won&#39;t handle non-standard accessors or methods that take arguments, etc..\r\n\r\nEven if it&#39;s impossible to check at compile time, if you want bad code to fail as soon as possible then one approach is to resolve referenced Method objects at class initialization time.\r\n\r\nImagine you have a utility method for looking up Method objects that maybe throws error or runtime exception:\r\n\r\n    public static Method lookupMethod( Class c, String name, Class... args ) {\r\n        // do the lookup or throw an unchecked exception of some kind with a really\r\n        // good error message\r\n    }\r\n\r\nThen in your classes, have constants to preresolve the methods you will use:\r\n\r\n    public class MyClass {\r\n        private static final Method GET_PHONE_NUM = MyUtils.lookupMethod( PhoneNumber.class, &quot;getPhoneNumber&quot; );\r\n\r\n        ....\r\n\r\n        public void someMethod() {\r\n            validateField(data, GET_PHONE_NUM, options);\r\n        }\r\n    }\r\n\r\nAt least then it will fail as soon as MyClass is loaded the first time.\r\n\r\nI use reflection a lot, especially bean property reflection and I&#39;ve just gotten used to late exceptions at runtime.  But that style of bean code tends to error late for all kinds of other reasons, being very dynamic and all.  For something in between, the above would help.","title":"Type-safe method reflection in Java","body":"<p>As others mention, there is no real way to do this... and I've not seen a precompiler that supports it.  The syntax would be interesting, to say the least.  Even in your example, it could only cover a small subset of the potential reflective possibilities that a user might want to do since it won't handle non-standard accessors or methods that take arguments, etc..</p>\n\n<p>Even if it's impossible to check at compile time, if you want bad code to fail as soon as possible then one approach is to resolve referenced Method objects at class initialization time.</p>\n\n<p>Imagine you have a utility method for looking up Method objects that maybe throws error or runtime exception:</p>\n\n<pre><code>public static Method lookupMethod( Class c, String name, Class... args ) {\n    // do the lookup or throw an unchecked exception of some kind with a really\n    // good error message\n}\n</code></pre>\n\n<p>Then in your classes, have constants to preresolve the methods you will use:</p>\n\n<pre><code>public class MyClass {\n    private static final Method GET_PHONE_NUM = MyUtils.lookupMethod( PhoneNumber.class, \"getPhoneNumber\" );\n\n    ....\n\n    public void someMethod() {\n        validateField(data, GET_PHONE_NUM, options);\n    }\n}\n</code></pre>\n\n<p>At least then it will fail as soon as MyClass is loaded the first time.</p>\n\n<p>I use reflection a lot, especially bean property reflection and I've just gotten used to late exceptions at runtime.  But that style of bean code tends to error late for all kinds of other reasons, being very dynamic and all.  For something in between, the above would help.</p>\n"},{"tags":[],"owner":{"account_id":344230,"reputation":10643,"user_id":676427,"accept_rate":29,"display_name":"Robert Jack Will"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1328209583,"creation_date":1328209583,"answer_id":9118357,"question_id":2009732,"body_markdown":"Inspired by mocking frameworks, we could dream up the following syntax:\r\n\r\n    validator.validateField(data, options).getPhoneNumber();\r\n    Result validationResult = validator.getResult();\r\n\r\nThe trick is the generic declaration:\r\n\r\n    class Validator {\r\n        public &lt;T&gt; T validateField(T data, options) {...}\r\n    }\r\n\r\nNow the return type of the method is the same as your data object&#39;s type and you can use code completion (and static checking) to access all the methods, including the getter methods.\r\n\r\nAs a downside, the code isn&#39;t quite intuitive to read, since the call to the getter doesn&#39;t actually get anything, but instead instructs the validator to validate the field.\r\n\r\nAnother possible option would be to annotate the fields in your data class:\r\n\r\n    class FooData {\r\n        @Validate(new ValidationOptions(...))\r\n        private PhoneNumber phoneNumber;\r\n    }\r\n\r\nAnd then just call:\r\n\r\n    FooData data;\r\n    validator.validate(data);\r\n\r\nto validate all fields according to the annotated options.\r\n","title":"Type-safe method reflection in Java","body":"<p>Inspired by mocking frameworks, we could dream up the following syntax:</p>\n\n<pre><code>validator.validateField(data, options).getPhoneNumber();\nResult validationResult = validator.getResult();\n</code></pre>\n\n<p>The trick is the generic declaration:</p>\n\n<pre><code>class Validator {\n    public &lt;T&gt; T validateField(T data, options) {...}\n}\n</code></pre>\n\n<p>Now the return type of the method is the same as your data object's type and you can use code completion (and static checking) to access all the methods, including the getter methods.</p>\n\n<p>As a downside, the code isn't quite intuitive to read, since the call to the getter doesn't actually get anything, but instead instructs the validator to validate the field.</p>\n\n<p>Another possible option would be to annotate the fields in your data class:</p>\n\n<pre><code>class FooData {\n    @Validate(new ValidationOptions(...))\n    private PhoneNumber phoneNumber;\n}\n</code></pre>\n\n<p>And then just call:</p>\n\n<pre><code>FooData data;\nvalidator.validate(data);\n</code></pre>\n\n<p>to validate all fields according to the annotated options.</p>\n"},{"tags":[],"owner":{"account_id":164143,"reputation":4830,"user_id":386718,"accept_rate":92,"display_name":"Stijn Van Bael"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1373626070,"creation_date":1373626070,"answer_id":17613220,"question_id":2009732,"body_markdown":"Java misses the syntax sugar to do something as nice as `Person.phoneNumber.getter`. But if Person is an interface, you could record the getter method using a dynamic proxy. You could record methods on non-final classes as well using CGLib, the same way Mockito does it.\r\n\r\n    MethodSelector&lt;Person&gt; selector = new MethodSelector&lt;Person&gt;(Person.class);\r\n    selector.select().getPhoneNumber();\r\n    validateField(data, selector.getMethod(), options);\r\n\r\nCode for MethodSelector: https://gist.github.com/stijnvanbael/5965609\r\n","title":"Type-safe method reflection in Java","body":"<p>Java misses the syntax sugar to do something as nice as <code>Person.phoneNumber.getter</code>. But if Person is an interface, you could record the getter method using a dynamic proxy. You could record methods on non-final classes as well using CGLib, the same way Mockito does it.</p>\n\n<pre><code>MethodSelector&lt;Person&gt; selector = new MethodSelector&lt;Person&gt;(Person.class);\nselector.select().getPhoneNumber();\nvalidateField(data, selector.getMethod(), options);\n</code></pre>\n\n<p>Code for MethodSelector: <a href=\"https://gist.github.com/stijnvanbael/5965609\" rel=\"nofollow\">https://gist.github.com/stijnvanbael/5965609</a></p>\n"},{"tags":[],"owner":{"account_id":5688520,"reputation":7765,"user_id":4497253,"display_name":"CoronA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1426187641,"creation_date":1426187641,"answer_id":29018378,"question_id":2009732,"body_markdown":"The framework [picklock][1] lets you do the following:\r\n\r\n    class Data {\r\n      private PhoneNumber phoneNumber;\r\n    }\r\n\r\n    interface OpenData {\r\n      PhoneNumber getPhoneNumber(); //is mapped to the field phoneNumber\r\n    }\r\n\r\n    Object data = new Data();\r\n    PhoneNumber number = ObjectAccess\r\n      .unlock(data)\r\n      .features(OpenData.class)\r\n      .getPhoneNumber();\r\n\r\nThis works in a similar way setters and private methods. Of course, this is only a wrapper for reflection, but the exception does not occur at unlocking time not at call time. If you need it at build time, you could write a unit test with: \r\n\r\n     assertThat(Data.class, providesFeaturesOf(OpenData.class));\r\n\r\n\r\n  [1]: https://github.com/almondtools/picklock","title":"Type-safe method reflection in Java","body":"<p>The framework <a href=\"https://github.com/almondtools/picklock\" rel=\"nofollow\">picklock</a> lets you do the following:</p>\n\n<pre><code>class Data {\n  private PhoneNumber phoneNumber;\n}\n\ninterface OpenData {\n  PhoneNumber getPhoneNumber(); //is mapped to the field phoneNumber\n}\n\nObject data = new Data();\nPhoneNumber number = ObjectAccess\n  .unlock(data)\n  .features(OpenData.class)\n  .getPhoneNumber();\n</code></pre>\n\n<p>This works in a similar way setters and private methods. Of course, this is only a wrapper for reflection, but the exception does not occur at unlocking time not at call time. If you need it at build time, you could write a unit test with: </p>\n\n<pre><code> assertThat(Data.class, providesFeaturesOf(OpenData.class));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":385056,"reputation":36653,"user_id":741970,"accept_rate":61,"display_name":"Dmitry Minkovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1666208038,"creation_date":1438103986,"answer_id":31683108,"question_id":2009732,"body_markdown":"Check out https://proxetta.jodd.org/refs/methref. It uses the Jodd proxy library (Proxetta) to proxy your type. Not sure about its performance characteristics, but it does provide type safety. \r\n\r\nAn example: Suppose `Str.class` has method `.boo()`, and you want to get its name as the string `&quot;boo&quot;`:\r\n\r\n    String methodName = Methref.of(Str.class).name(Str::boo);                              \r\n\r\nThere&#39;s more to the API than the example above: https://oblac.github.io/jodd-site/javadoc/jodd/methref/Methref.html","title":"Type-safe method reflection in Java","body":"<p>Check out <a href=\"https://proxetta.jodd.org/refs/methref\" rel=\"nofollow noreferrer\">https://proxetta.jodd.org/refs/methref</a>. It uses the Jodd proxy library (Proxetta) to proxy your type. Not sure about its performance characteristics, but it does provide type safety.</p>\n<p>An example: Suppose <code>Str.class</code> has method <code>.boo()</code>, and you want to get its name as the string <code>&quot;boo&quot;</code>:</p>\n<pre><code>String methodName = Methref.of(Str.class).name(Str::boo);                              \n</code></pre>\n<p>There's more to the API than the example above: <a href=\"https://oblac.github.io/jodd-site/javadoc/jodd/methref/Methref.html\" rel=\"nofollow noreferrer\">https://oblac.github.io/jodd-site/javadoc/jodd/methref/Methref.html</a></p>\n"},{"tags":[],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612449797,"creation_date":1612446851,"answer_id":66047062,"question_id":2009732,"body_markdown":"I found a way to get the `Method` instance using Lambdas. It works only on interface methods though currently.\r\n\r\nIt works using `net.jodah:typetools` which is a very lightweight library.\r\nhttps://github.com/jhalterman/typetools\r\n\r\n````java\r\npublic final class MethodResolver {\r\n\r\n    private interface Invocable&lt;I&gt; {\r\n\r\n        void invokeWithParams(I instance, Class&lt;?&gt;[] parameterTypes) throws Throwable;\r\n\r\n    }\r\n\r\n    interface ZeroParameters&lt;I, R&gt; extends Invocable&lt;I&gt; {\r\n\r\n        R invoke(I instance) throws Throwable;\r\n\r\n        @Override\r\n        default void invokeWithParams(I instance, Class&lt;?&gt;[] parameterTypes) throws Throwable {\r\n            invoke(instance);\r\n        }\r\n\r\n    }\r\n\r\n    public static &lt;I, R&gt; Method toMethod0(ZeroParameters&lt;I, R&gt; call) {\r\n        return toMethod(ZeroParameters.class, call, 1);\r\n    }\r\n\r\n    interface OneParameters&lt;I, P1, R&gt; extends Invocable&lt;I&gt; {\r\n\r\n        R invoke(I instance, P1 p1) throws Throwable;\r\n\r\n        @Override\r\n        default void invokeWithParams(I instance, Class&lt;?&gt;[] parameterTypes) throws Throwable {\r\n            invoke(instance, param(parameterTypes[1]));\r\n        }\r\n\r\n    }\r\n\r\n    public static &lt;I, P1, R&gt; Method toMethod1(OneParameters&lt;I, P1, R&gt; call) {\r\n        return toMethod(OneParameters.class, call, 2);\r\n    }\r\n\r\n    interface TwoParameters&lt;I, P1, P2, R&gt; extends Invocable&lt;I&gt; {\r\n\r\n        R invoke(I instance, P1 p1, P2 p2) throws Throwable;\r\n\r\n        @Override\r\n        default void invokeWithParams(I instance, Class&lt;?&gt;[] parameterTypes) throws Throwable {\r\n            invoke(instance, param(parameterTypes[1]), param(parameterTypes[2]));\r\n        }\r\n\r\n    }\r\n\r\n    public static &lt;I, P1, P2, R&gt; Method toMethod2(TwoParameters&lt;I, P1, P2, R&gt; call) {\r\n        return toMethod(TwoParameters.class, call, 3);\r\n    }\r\n\r\n    private static final Map&lt;Class&lt;?&gt;, Object&gt; parameterMap = new HashMap&lt;&gt;();\r\n\r\n    static {\r\n        parameterMap.put(Boolean.class, false);\r\n        parameterMap.put(Byte.class, (byte) 0);\r\n        parameterMap.put(Short.class, (short) 0);\r\n        parameterMap.put(Integer.class, 0);\r\n        parameterMap.put(Long.class, (long) 0);\r\n        parameterMap.put(Float.class, (float) 0);\r\n        parameterMap.put(Double.class, (double) 0);\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T&gt; T param(Class&lt;?&gt; type) {\r\n        return (T) parameterMap.get(type);\r\n    }\r\n\r\n    private static &lt;I&gt; Method toMethod(Class&lt;?&gt; callType, Invocable&lt;I&gt; call, int responseTypeIndex) {\r\n        Class&lt;?&gt;[] typeData = TypeResolver.resolveRawArguments(callType, call.getClass());\r\n        Class&lt;?&gt; instanceClass = typeData[0];\r\n        Class&lt;?&gt; responseType = responseTypeIndex != -1 ? typeData[responseTypeIndex] : Void.class;\r\n\r\n        AtomicReference&lt;Method&gt; ref = new AtomicReference&lt;&gt;();\r\n\r\n        I instance = createProxy(instanceClass, responseType, ref);\r\n\r\n        try {\r\n            call.invokeWithParams(instance, typeData);\r\n        } catch (final Throwable e) {\r\n            throw new IllegalStateException(&quot;Failed to call no-op proxy&quot;, e);\r\n        }\r\n\r\n        return ref.get();\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;I&gt; I createProxy(Class&lt;?&gt; instanceClass, Class&lt;?&gt; responseType,\r\n            AtomicReference&lt;Method&gt; ref) {\r\n        return (I) Proxy.newProxyInstance(MethodResolver.class.getClassLoader(),\r\n                new Class[] {instanceClass},\r\n                (proxy, method, args) -&gt; {\r\n                    ref.set(method);\r\n                    return parameterMap.get(responseType);\r\n                });\r\n    }\r\n\r\n}\r\n````\r\n\r\nUsage:\r\n\r\n````java\r\nMethod method = MethodResolver.toMethod2(SomeIFace::foobar);\r\nSystem.out.println(method); // public abstract example.Result example.SomeIFace.foobar(java.lang.String,boolean)\r\n\r\nMethod get = MethodResolver.&lt;Supplier, Object&gt;toMethod0(Supplier::get);\r\nSystem.out.println(get); // public abstract java.lang.Object java.util.function.Supplier.get()\r\n\r\nMethod accept = MethodResolver.&lt;IntFunction, Integer, Object&gt;toMethod1(IntFunction::apply);\r\nSystem.out.println(accept); // public abstract java.lang.Object java.util.function.IntFunction.apply(int)\r\n\r\nMethod apply = MethodResolver.&lt;BiFunction, Object, Object, Object&gt;toMethod2(BiFunction::apply);\r\nSystem.out.println(apply); // public abstract java.lang.Object java.util.function.BiFunction.apply(java.lang.Object,java.lang.Object)\r\n````\r\n\r\nUnfortunately you have to create a new interface and method based on the parameter count and whether the method returns void or not.\r\n\r\nHowever, if you have a somewhat fixed/limited method signature/parameter types, then this becomes quite handy.","title":"Type-safe method reflection in Java","body":"<p>I found a way to get the <code>Method</code> instance using Lambdas. It works only on interface methods though currently.</p>\n<p>It works using <code>net.jodah:typetools</code> which is a very lightweight library.\n<a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">https://github.com/jhalterman/typetools</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class MethodResolver {\n\n    private interface Invocable&lt;I&gt; {\n\n        void invokeWithParams(I instance, Class&lt;?&gt;[] parameterTypes) throws Throwable;\n\n    }\n\n    interface ZeroParameters&lt;I, R&gt; extends Invocable&lt;I&gt; {\n\n        R invoke(I instance) throws Throwable;\n\n        @Override\n        default void invokeWithParams(I instance, Class&lt;?&gt;[] parameterTypes) throws Throwable {\n            invoke(instance);\n        }\n\n    }\n\n    public static &lt;I, R&gt; Method toMethod0(ZeroParameters&lt;I, R&gt; call) {\n        return toMethod(ZeroParameters.class, call, 1);\n    }\n\n    interface OneParameters&lt;I, P1, R&gt; extends Invocable&lt;I&gt; {\n\n        R invoke(I instance, P1 p1) throws Throwable;\n\n        @Override\n        default void invokeWithParams(I instance, Class&lt;?&gt;[] parameterTypes) throws Throwable {\n            invoke(instance, param(parameterTypes[1]));\n        }\n\n    }\n\n    public static &lt;I, P1, R&gt; Method toMethod1(OneParameters&lt;I, P1, R&gt; call) {\n        return toMethod(OneParameters.class, call, 2);\n    }\n\n    interface TwoParameters&lt;I, P1, P2, R&gt; extends Invocable&lt;I&gt; {\n\n        R invoke(I instance, P1 p1, P2 p2) throws Throwable;\n\n        @Override\n        default void invokeWithParams(I instance, Class&lt;?&gt;[] parameterTypes) throws Throwable {\n            invoke(instance, param(parameterTypes[1]), param(parameterTypes[2]));\n        }\n\n    }\n\n    public static &lt;I, P1, P2, R&gt; Method toMethod2(TwoParameters&lt;I, P1, P2, R&gt; call) {\n        return toMethod(TwoParameters.class, call, 3);\n    }\n\n    private static final Map&lt;Class&lt;?&gt;, Object&gt; parameterMap = new HashMap&lt;&gt;();\n\n    static {\n        parameterMap.put(Boolean.class, false);\n        parameterMap.put(Byte.class, (byte) 0);\n        parameterMap.put(Short.class, (short) 0);\n        parameterMap.put(Integer.class, 0);\n        parameterMap.put(Long.class, (long) 0);\n        parameterMap.put(Float.class, (float) 0);\n        parameterMap.put(Double.class, (double) 0);\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static &lt;T&gt; T param(Class&lt;?&gt; type) {\n        return (T) parameterMap.get(type);\n    }\n\n    private static &lt;I&gt; Method toMethod(Class&lt;?&gt; callType, Invocable&lt;I&gt; call, int responseTypeIndex) {\n        Class&lt;?&gt;[] typeData = TypeResolver.resolveRawArguments(callType, call.getClass());\n        Class&lt;?&gt; instanceClass = typeData[0];\n        Class&lt;?&gt; responseType = responseTypeIndex != -1 ? typeData[responseTypeIndex] : Void.class;\n\n        AtomicReference&lt;Method&gt; ref = new AtomicReference&lt;&gt;();\n\n        I instance = createProxy(instanceClass, responseType, ref);\n\n        try {\n            call.invokeWithParams(instance, typeData);\n        } catch (final Throwable e) {\n            throw new IllegalStateException(&quot;Failed to call no-op proxy&quot;, e);\n        }\n\n        return ref.get();\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private static &lt;I&gt; I createProxy(Class&lt;?&gt; instanceClass, Class&lt;?&gt; responseType,\n            AtomicReference&lt;Method&gt; ref) {\n        return (I) Proxy.newProxyInstance(MethodResolver.class.getClassLoader(),\n                new Class[] {instanceClass},\n                (proxy, method, args) -&gt; {\n                    ref.set(method);\n                    return parameterMap.get(responseType);\n                });\n    }\n\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Method method = MethodResolver.toMethod2(SomeIFace::foobar);\nSystem.out.println(method); // public abstract example.Result example.SomeIFace.foobar(java.lang.String,boolean)\n\nMethod get = MethodResolver.&lt;Supplier, Object&gt;toMethod0(Supplier::get);\nSystem.out.println(get); // public abstract java.lang.Object java.util.function.Supplier.get()\n\nMethod accept = MethodResolver.&lt;IntFunction, Integer, Object&gt;toMethod1(IntFunction::apply);\nSystem.out.println(accept); // public abstract java.lang.Object java.util.function.IntFunction.apply(int)\n\nMethod apply = MethodResolver.&lt;BiFunction, Object, Object, Object&gt;toMethod2(BiFunction::apply);\nSystem.out.println(apply); // public abstract java.lang.Object java.util.function.BiFunction.apply(java.lang.Object,java.lang.Object)\n</code></pre>\n<p>Unfortunately you have to create a new interface and method based on the parameter count and whether the method returns void or not.</p>\n<p>However, if you have a somewhat fixed/limited method signature/parameter types, then this becomes quite handy.</p>\n"}],"owner":{"account_id":35692,"reputation":2810,"user_id":101172,"accept_rate":87,"display_name":"jthg"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4578,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":2010302,"answer_count":8,"score":7,"last_activity_date":1666224333,"creation_date":1262731668,"question_id":2009732,"body_markdown":"Is any practical way to reference a method on a class in a type-safe manner? A basic example is if I wanted to create something like the following utility function:\r\n\r\n    public Result validateField(Object data, String fieldName, \r\n                                ValidationOptions options) { ... }\r\n\r\nIn order to call it, I would have to do:\r\n\r\n    validateField(data, &quot;phoneNumber&quot;, options);\r\n\r\nWhich forces me to either use a magic string, or declare a constant somewhere with that string.\r\n\r\nI&#39;m pretty sure there&#39;s no way to get around that with the stock Java language, but is there some kind of (production grade) pre-compiler or alternative compiler that may offer a work around? (similar to how AspectJ extends the Java language) It would be nice to do something like the following instead:\r\n\r\n    public Result validateField(Object data, Method method, \r\n                                ValidationOptions options) { ... }\r\n\r\nAnd call it with:\r\n\r\n    validateField(data, Person.phoneNumber.getter, options);","title":"Type-safe method reflection in Java","body":"<p>Is any practical way to reference a method on a class in a type-safe manner? A basic example is if I wanted to create something like the following utility function:</p>\n\n<pre><code>public Result validateField(Object data, String fieldName, \n                            ValidationOptions options) { ... }\n</code></pre>\n\n<p>In order to call it, I would have to do:</p>\n\n<pre><code>validateField(data, \"phoneNumber\", options);\n</code></pre>\n\n<p>Which forces me to either use a magic string, or declare a constant somewhere with that string.</p>\n\n<p>I'm pretty sure there's no way to get around that with the stock Java language, but is there some kind of (production grade) pre-compiler or alternative compiler that may offer a work around? (similar to how AspectJ extends the Java language) It would be nice to do something like the following instead:</p>\n\n<pre><code>public Result validateField(Object data, Method method, \n                            ValidationOptions options) { ... }\n</code></pre>\n\n<p>And call it with:</p>\n\n<pre><code>validateField(data, Person.phoneNumber.getter, options);\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":3,"creation_date":1666150462,"post_id":74119547,"comment_id":130864918,"body_markdown":"If your collection is never visible to more than one thread, then you don&#39;t need any thread safety.  If the collection can be used by more than one thread at any time, then the answer gets more complex and we would need a specific scenario.  For a good thorough explanation of thread safety, see Brian Goetz&#39;s book, Java Concurrency in Practice.","body":"If your collection is never visible to more than one thread, then you don&#39;t need any thread safety.  If the collection can be used by more than one thread at any time, then the answer gets more complex and we would need a specific scenario.  For a good thorough explanation of thread safety, see Brian Goetz&#39;s book, Java Concurrency in Practice."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1666150863,"post_id":74119547,"comment_id":130864975,"body_markdown":"&quot;_I know that if there are two threads and first thread is iterating over the collection and second thread is modifying the collection then first thread will get ConcurrentModificationException_&quot;  That can happen even if only one thread is involved; a single thread that modifies the collection as it iterates the collection will result in a CME (and likely more consistently than if there were two or more threads involved).","body":"&quot;<i>I know that if there are two threads and first thread is iterating over the collection and second thread is modifying the collection then first thread will get ConcurrentModificationException</i>&quot;  That can happen even if only one thread is involved; a single thread that modifies the collection as it iterates the collection will result in a CME (and likely more consistently than if there were two or more threads involved)."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1666151094,"post_id":74119547,"comment_id":130865003,"body_markdown":"&quot;_But then what if, if I know that none of my threads will iterate over the collection using an iterator..._&quot;  Thread safety here isn&#39;t strictly about iterating. For instance, if thread A writes to a random-access list with `list.set(index, newValue)` and then thread B reads from the list with `list.get(index)`, without establishing a _happens-before_ relationship, then thread B may or may not see the new value. Things get worse when the internal representation of the data is modified (e.g., resizing array, appending to linked list, etc) without establishing a _happens-before_ relationship","body":"&quot;<i>But then what if, if I know that none of my threads will iterate over the collection using an iterator...</i>&quot;  Thread safety here isn&#39;t strictly about iterating. For instance, if thread A writes to a random-access list with <code>list.set(index, newValue)</code> and then thread B reads from the list with <code>list.get(index)</code>, without establishing a <i>happens-before</i> relationship, then thread B may or may not see the new value. Things get worse when the internal representation of the data is modified (e.g., resizing array, appending to linked list, etc) without establishing a <i>happens-before</i> relationship"},{"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"score":0,"creation_date":1666177218,"post_id":74119547,"comment_id":130872390,"body_markdown":"@Slaw: your comment/answer is making most sense to me, if you don&#39;t mind to elaborate more on this and put as a answer, I will be happy to accept the answer. Thank you for your inputs.","body":"@Slaw: your comment/answer is making most sense to me, if you don&#39;t mind to elaborate more on this and put as a answer, I will be happy to accept the answer. Thank you for your inputs."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666153519,"creation_date":1666152789,"answer_id":74119792,"question_id":74119547,"body_markdown":"_Any_ sort of reading and _any_ sort of writing in two different threads can cause issues if you&#39;re not using a thread safe collection.\r\n\r\nIterating is a kind of reading, but so are `List.get`, `Set.contains`, `Map.get`, and many other operations.\r\n\r\n(Iterating is a case in which Java can _easily detect_ thread safety issues -- though multiple threads are rarely the actual reason for `ConcurrentModificationException`.)","title":"Why do we need thread safety with collections?","body":"<p><em>Any</em> sort of reading and <em>any</em> sort of writing in two different threads can cause issues if you're not using a thread safe collection.</p>\n<p>Iterating is a kind of reading, but so are <code>List.get</code>, <code>Set.contains</code>, <code>Map.get</code>, and many other operations.</p>\n<p>(Iterating is a case in which Java can <em>easily detect</em> thread safety issues -- though multiple threads are rarely the actual reason for <code>ConcurrentModificationException</code>.)</p>\n"},{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666188249,"creation_date":1666179393,"answer_id":74124645,"question_id":74119547,"body_markdown":"&gt;  I know that if there are two threads and first thread is iterating over the collection and second thread is modifying the collection then first thread will get `ConcurrentModificationException`.\r\n\r\nThat&#39;s **not** **true**. `ConcurrentModificationException` is for situation when your iterate thru collection and change it at the same time.\r\n\r\nThread safety is complex concept that includes several parts. It won&#39;t be easy to explain why we need it.\r\n\r\nMain thing is because of the reason outside of scope of this discussion changes made in one thread may not be visible in another.","title":"Why do we need thread safety with collections?","body":"<blockquote>\n<p>I know that if there are two threads and first thread is iterating over the collection and second thread is modifying the collection then first thread will get <code>ConcurrentModificationException</code>.</p>\n</blockquote>\n<p>That's <strong>not</strong> <strong>true</strong>. <code>ConcurrentModificationException</code> is for situation when your iterate thru collection and change it at the same time.</p>\n<p>Thread safety is complex concept that includes several parts. It won't be easy to explain why we need it.</p>\n<p>Main thing is because of the reason outside of scope of this discussion changes made in one thread may not be visible in another.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666224207,"creation_date":1666224207,"answer_id":74133109,"question_id":74119547,"body_markdown":"&gt; I just want to understand why do we really need thread safety with collections? \r\n\r\nWe need thread safety with _any_ object that is being modified.  Period.  If two threads are sharing the same object and one thread makes a modification, there is no guarantee that the update to the object will be seen by the other thread and there are possibilities that the object may be partially updated causing exceptions, hangs, or other unexpected results.\r\n\r\nOne of the speedups that is gained with threads is local CPU cached memory.  Each thread running in a CPU has local cached memory that is much faster than system memory.  The cache is used as much as possible for high speed calculations and then invalidated or flushed to system memory when necessary.  Without locking and memory synchronization, each thread could be working with invalid memory and could experience race conditions.\r\n\r\nThis is why threaded programs need to use concurrent collections (think `ConcurrentHashMap`) or protect collections (or any mutable object) using `synchronized` locks or other mechanisms.  These ensure that the objects can&#39;t be modified at the same time and ensure that the modifications are published between threads appropriately.","title":"Why do we need thread safety with collections?","body":"<blockquote>\n<p>I just want to understand why do we really need thread safety with collections?</p>\n</blockquote>\n<p>We need thread safety with <em>any</em> object that is being modified.  Period.  If two threads are sharing the same object and one thread makes a modification, there is no guarantee that the update to the object will be seen by the other thread and there are possibilities that the object may be partially updated causing exceptions, hangs, or other unexpected results.</p>\n<p>One of the speedups that is gained with threads is local CPU cached memory.  Each thread running in a CPU has local cached memory that is much faster than system memory.  The cache is used as much as possible for high speed calculations and then invalidated or flushed to system memory when necessary.  Without locking and memory synchronization, each thread could be working with invalid memory and could experience race conditions.</p>\n<p>This is why threaded programs need to use concurrent collections (think <code>ConcurrentHashMap</code>) or protect collections (or any mutable object) using <code>synchronized</code> locks or other mechanisms.  These ensure that the objects can't be modified at the same time and ensure that the modifications are published between threads appropriately.</p>\n"}],"owner":{"account_id":6619055,"reputation":2065,"user_id":5111394,"accept_rate":53,"display_name":"pjj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1666224207,"creation_date":1666150336,"question_id":74119547,"body_markdown":"I just want to understand why do we really need thread safety with collections? I know that if there are two threads and first thread is iterating over the collection and second thread is modifying the collection then first thread will get `ConcurrentModificationException`. \r\n\r\nBut then what if, if I know that none of my threads will iterate over the collection using an iterator, so does it means that thread safety is only needed because we want to allow other threads to iterator over the collection using an iterator? Are there any other reasons and usecases? ","title":"Why do we need thread safety with collections?","body":"<p>I just want to understand why do we really need thread safety with collections? I know that if there are two threads and first thread is iterating over the collection and second thread is modifying the collection then first thread will get <code>ConcurrentModificationException</code>.</p>\n<p>But then what if, if I know that none of my threads will iterate over the collection using an iterator, so does it means that thread safety is only needed because we want to allow other threads to iterator over the collection using an iterator? Are there any other reasons and usecases?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1666205480,"post_id":74129858,"comment_id":130883203,"body_markdown":"There&#39;s no reason to expect your second version to behave differently from the first. The loop that you added in the main method only runs while the background thread is _NOT_ alive. But the background thread practically always will be alive when `main` hits that `while` loop. The loop will never run. Was that maybe a typo? Did you maybe want it to loop while the background thread _IS_ alive?","body":"There&#39;s no reason to expect your second version to behave differently from the first. The loop that you added in the main method only runs while the background thread is <i>NOT</i> alive. But the background thread practically always will be alive when <code>main</code> hits that <code>while</code> loop. The loop will never run. Was that maybe a typo? Did you maybe want it to loop while the background thread <i>IS</i> alive?"}],"answers":[{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666202570,"creation_date":1666202570,"answer_id":74129972,"question_id":74129858,"body_markdown":"Just because you start a thread, there is no guarantee when exactly your CPU will execute the code associated with it. Even with your while loop, the thread alive flag may be set, but the runnable not yet even executed.\r\nIn order to guarantee that your custom thread finishes before your main thread, you should join on your custom thread. That will eliminate any timing anomalies you might see with sleeping for a similar amount of time in both threads.\r\n\r\n    Thread first = new Thread(new CustomThread(&quot;first&quot;));\r\n    first.start();\r\n    first.join();\r\n    System.out.println(first.isAlive());","title":"What specific Part of Java is causing this Thread to stay alive longer than the main Thread?","body":"<p>Just because you start a thread, there is no guarantee when exactly your CPU will execute the code associated with it. Even with your while loop, the thread alive flag may be set, but the runnable not yet even executed.\nIn order to guarantee that your custom thread finishes before your main thread, you should join on your custom thread. That will eliminate any timing anomalies you might see with sleeping for a similar amount of time in both threads.</p>\n<pre><code>Thread first = new Thread(new CustomThread(&quot;first&quot;));\nfirst.start();\nfirst.join();\nSystem.out.println(first.isAlive());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666224147,"creation_date":1666223367,"answer_id":74133050,"question_id":74129858,"body_markdown":"&gt; But same console output everytime. Why?\r\n\r\nThis is a classic thread race condition.  A thread takes a little bit of time to start, stop, and have its `isAlive()` value propagated.  In my quick testing, setting the sleep in `main` to be 5020 meant that the output order was correct but `isAlive()` was still true.  Setting it to 5040 got `isAlive()` to be false.  This of course is dependent on my OS, thread support in my kernel, and what else is running on my computer.  If you ran your program in a loop, I would expect that 5000 might work some of the time again because of race conditions in the threads.\r\n\r\nIt is the asynchronous nature of threaded programs which makes them powerful.  The instant we expect things to happen in a certain order then we probably shouldn&#39;t be using threads.\r\n\r\nAs @JakeHenry mentioned, if you need to insure that your thread finishes at some point in main then you should call `first.join();` instead of the sleep.  The `join()` has the added feature of ensuring that any memory changes made by the `first` thread get propagated into the main thread too.\r\n","title":"What specific Part of Java is causing this Thread to stay alive longer than the main Thread?","body":"<blockquote>\n<p>But same console output everytime. Why?</p>\n</blockquote>\n<p>This is a classic thread race condition.  A thread takes a little bit of time to start, stop, and have its <code>isAlive()</code> value propagated.  In my quick testing, setting the sleep in <code>main</code> to be 5020 meant that the output order was correct but <code>isAlive()</code> was still true.  Setting it to 5040 got <code>isAlive()</code> to be false.  This of course is dependent on my OS, thread support in my kernel, and what else is running on my computer.  If you ran your program in a loop, I would expect that 5000 might work some of the time again because of race conditions in the threads.</p>\n<p>It is the asynchronous nature of threaded programs which makes them powerful.  The instant we expect things to happen in a certain order then we probably shouldn't be using threads.</p>\n<p>As @JakeHenry mentioned, if you need to insure that your thread finishes at some point in main then you should call <code>first.join();</code> instead of the sleep.  The <code>join()</code> has the added feature of ensuring that any memory changes made by the <code>first</code> thread get propagated into the main thread too.</p>\n"}],"owner":{"account_id":26218354,"reputation":27,"user_id":19896194,"display_name":"smilly"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1666224147,"creation_date":1666201927,"question_id":74129858,"body_markdown":"I am just experimenting with Threads and I noticed something weird.\r\n\r\nFirst I created this little class:\r\n\r\n    public class CustomThread implements Runnable{\r\n    \r\n        private String name;\r\n    \r\n        public CustomThread(String name){\r\n            this.name = name;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            for(int i = 0; i &lt; 5; i++){\r\n                try {\r\n                    Thread.sleep(1000);\r\n                    System.out.println(name + &quot; sleeping since &quot; + (i+1) + &quot; seconds&quot;);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            }\r\n            System.out.println(&quot;Thread &quot; + name + &quot; ended.&quot;);\r\n        }\r\n    \r\n    }\r\nIn my main method I ran this:\r\n\r\n    Thread first = new Thread(new CustomThread(&quot;first&quot;));\r\n    first.start();\r\n    Thread.sleep(5000);\r\n    System.out.println(first.isAlive());\r\n\r\nExpected console output: \r\n\r\n    first sleeping since 1 seconds\r\n    first sleeping since 2 seconds\r\n    first sleeping since 3 seconds\r\n    first sleeping since 4 seconds\r\n    first sleeping since 5 seconds\r\n    Thread first ended.\r\n    false\r\n    \r\n    Process finished with exit code 0\r\n\r\nActual console output every 10/10 times I tried this:\r\n\r\n    first sleeping since 1 seconds\r\n    first sleeping since 2 seconds\r\n    first sleeping since 3 seconds\r\n    first sleeping since 4 seconds\r\n    true\r\n    first sleeping since 5 seconds\r\n    Thread first ended.\r\n    \r\n    Process finished with exit code 0\r\n\r\nI thought, maybe it is because a Thread is taking some time to start up so that is why my customthread is taking longer. so I edited the code to wait until customthread has started like so:\r\n\r\n    Thread first = new Thread(new CustomThread(&quot;first&quot;));\r\n    first.start();\r\n    while(!first.isAlive()){\r\n        Thread.sleep(10);\r\n    }\r\n    Thread.sleep(5000);\r\n    System.out.println(first.isAlive());\r\n\r\nBut same console output everytime. Why?\r\n\r\n","title":"What specific Part of Java is causing this Thread to stay alive longer than the main Thread?","body":"<p>I am just experimenting with Threads and I noticed something weird.</p>\n<p>First I created this little class:</p>\n<pre><code>public class CustomThread implements Runnable{\n\n    private String name;\n\n    public CustomThread(String name){\n        this.name = name;\n    }\n\n    @Override\n    public void run() {\n        for(int i = 0; i &lt; 5; i++){\n            try {\n                Thread.sleep(1000);\n                System.out.println(name + &quot; sleeping since &quot; + (i+1) + &quot; seconds&quot;);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }\n        System.out.println(&quot;Thread &quot; + name + &quot; ended.&quot;);\n    }\n\n}\n</code></pre>\n<p>In my main method I ran this:</p>\n<pre><code>Thread first = new Thread(new CustomThread(&quot;first&quot;));\nfirst.start();\nThread.sleep(5000);\nSystem.out.println(first.isAlive());\n</code></pre>\n<p>Expected console output:</p>\n<pre><code>first sleeping since 1 seconds\nfirst sleeping since 2 seconds\nfirst sleeping since 3 seconds\nfirst sleeping since 4 seconds\nfirst sleeping since 5 seconds\nThread first ended.\nfalse\n\nProcess finished with exit code 0\n</code></pre>\n<p>Actual console output every 10/10 times I tried this:</p>\n<pre><code>first sleeping since 1 seconds\nfirst sleeping since 2 seconds\nfirst sleeping since 3 seconds\nfirst sleeping since 4 seconds\ntrue\nfirst sleeping since 5 seconds\nThread first ended.\n\nProcess finished with exit code 0\n</code></pre>\n<p>I thought, maybe it is because a Thread is taking some time to start up so that is why my customthread is taking longer. so I edited the code to wait until customthread has started like so:</p>\n<pre><code>Thread first = new Thread(new CustomThread(&quot;first&quot;));\nfirst.start();\nwhile(!first.isAlive()){\n    Thread.sleep(10);\n}\nThread.sleep(5000);\nSystem.out.println(first.isAlive());\n</code></pre>\n<p>But same console output everytime. Why?</p>\n"},{"tags":["java","loops","sequences"],"comments":[{"owner":{"account_id":1076053,"reputation":85188,"user_id":1281433,"accept_rate":43,"display_name":"Joshua Taylor"},"score":1,"creation_date":1442963618,"post_id":32728500,"comment_id":53299174,"body_markdown":"Why not `j = j*2 + 1` instead of `j *= 2`?","body":"Why not <code>j = j*2 + 1</code> instead of <code>j *= 2</code>?"},{"owner":{"account_id":1590282,"reputation":6170,"user_id":1473751,"accept_rate":100,"display_name":"Zong"},"score":0,"creation_date":1442964143,"post_id":32728500,"comment_id":53299326,"body_markdown":"For fun, you can use `j *= 1/j + 2` ;) caution with the float type","body":"For fun, you can use <code>j *= 1&#47;j + 2</code> ;) caution with the float type"}],"answers":[{"comments":[{"owner":{"account_id":6998254,"reputation":29,"user_id":5365189,"display_name":"Kumi Megupo"},"score":0,"creation_date":1442963878,"post_id":32728519,"comment_id":53299249,"body_markdown":"Thank you so much, I actually didn&#39;t think of that. I did something like that where I did j*=2+1 but instead it just ended up being j * 3 (which makes sense, I didn&#39;t separate the 2 and 1 and what not).\n\nI appreciate it, sorry for homework question that&#39;s pretty easy to do, I&#39;m new to Java and I thought it was harder than it had to be.","body":"Thank you so much, I actually didn&#39;t think of that. I did something like that where I did j*=2+1 but instead it just ended up being j * 3 (which makes sense, I didn&#39;t separate the 2 and 1 and what not).  I appreciate it, sorry for homework question that&#39;s pretty easy to do, I&#39;m new to Java and I thought it was harder than it had to be."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1442963641,"creation_date":1442963641,"answer_id":32728519,"question_id":32728500,"body_markdown":"As you noted, the sequence is to double the previous number and add one. Just have your `for` loop progress like that, and print the number in each iteration:\r\n\r\n    for (int j = 1; j &lt;= 255; j = (j * 2) + 1) {\r\n        System.out.println(j);\r\n    }","title":"Generating integers of form 2^n - 1 with for loop","body":"<p>As you noted, the sequence is to double the previous number and add one. Just have your <code>for</code> loop progress like that, and print the number in each iteration:</p>\n\n<pre><code>for (int j = 1; j &lt;= 255; j = (j * 2) + 1) {\n    System.out.println(j);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33921,"reputation":27378,"user_id":95353,"accept_rate":85,"display_name":"Elzo Valugi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442963883,"creation_date":1442963883,"answer_id":32728560,"question_id":32728500,"body_markdown":"As is howework, will leave you something to think: \r\n\r\n    for x in 2:8 range\r\n    result = 2^x -1","title":"Generating integers of form 2^n - 1 with for loop","body":"<p>As is howework, will leave you something to think: </p>\n\n<pre><code>for x in 2:8 range\nresult = 2^x -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20016172,"reputation":2513,"user_id":14672114,"display_name":"RARE Kpop Manifesto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666223899,"creation_date":1666218997,"answer_id":74132661,"question_id":32728500,"body_markdown":"this is the most succinct form I could think of that uses only **additions ( + )** over 1 single tracking variable:\r\n\r\n     jot 100 |\r\n\r\n&gt;     mawk &#39;$++NF = _+=_++&#39; CONVFMT=&#39;%.f&#39; # mawk-1\r\n&gt;     gawk &#39;$++NF = _+=_++&#39;               # gawk, mawk-2, nawk, etc \r\n&gt;\r\n\r\n    1 1\r\n    2 3\r\n    3 7\r\n    4 15\r\n    5 31\r\n    6 63\r\n    7 127\r\n    8 255\r\n    9 511\r\n    10 1023\r\n    11 2047\r\n    12 4095\r\n    13 8191\r\n    14 16383\r\n    15 32767\r\n    16 65535\r\n    17 131071\r\n    18 262143\r\n    . . .\r\n    30 1073741823\r\n    31 2147483647\r\n    32 4294967295\r\n    33 8589934591\r\n    34 17179869183\r\n    35 34359738367\r\n    36 68719476735\r\n\r\nif you wanna go all the way to `2^1023 - 1` without using a big-int library (tested and confirmed working for `mawk-1`, `mawk-2`, `gawk 5.2.0`, and `nawk`):\r\n\r\n     jot 1023 | \r\n\r\n&gt;     mawk &#39;$++NF = (((___+=___++)%((_+=_^=_&lt;_)+_*_*_)^_^_)%_ ||\r\n&gt;                   index(___,&quot;e&quot;) &lt; (length(___) &lt; _^_^_--))  \\\r\n&gt;                   ? ___ : sprintf(&quot;%.*s%d&quot;, -_+(__ = length(_=\\\r\n&gt;                           sprintf(&quot;%.f&quot;,___))),_,substr(_,__)-!!__)&#39; \\\r\n&gt;                                                         CONVFMT=&#39;%.16g&#39;\r\n\r\n      31 2147483647\r\n    \r\n     279 9713344461128645354597309534117594533212034195260697606259062048\r\n         69452142602604249087\r\n    \r\n     527 4393470502483590217588416511412091659052438592091715462012456613\r\n         8787476373744998733584381700233309151854696392905477491437580723\r\n         1981865204004737810631363657727\r\n    \r\n     775 1987223158144907436990693745232003270728814101909371662257986608\r\n         6733452194385624145035243633006674917766242952923277737038996224\r\n         5646696242104868771205271185818170236930668787910433956560844600\r\n         937633663896795708000114284397288455405567\r\n    \r\n    1023 8988465674311579538646525953945123668089884894711532863671504057\r\n         8866337902750481566354238661203768010560056939935696678829394884\r\n         4072083112464237153197370621888839467124327426381511098006230470\r\n         5972654147604250288441907534117123144073695655527041361858167525\r\n         5342293149119973622969239858152417678164812112068607","title":"Generating integers of form 2^n - 1 with for loop","body":"<p>this is the most succinct form I could think of that uses only <strong>additions ( + )</strong> over 1 single tracking variable:</p>\n<pre><code> jot 100 |\n</code></pre>\n<blockquote>\n<pre><code>mawk '$++NF = _+=_++' CONVFMT='%.f' # mawk-1\ngawk '$++NF = _+=_++'               # gawk, mawk-2, nawk, etc \n</code></pre>\n</blockquote>\n<pre><code>1 1\n2 3\n3 7\n4 15\n5 31\n6 63\n7 127\n8 255\n9 511\n10 1023\n11 2047\n12 4095\n13 8191\n14 16383\n15 32767\n16 65535\n17 131071\n18 262143\n. . .\n30 1073741823\n31 2147483647\n32 4294967295\n33 8589934591\n34 17179869183\n35 34359738367\n36 68719476735\n</code></pre>\n<p>if you wanna go all the way to <code>2^1023 - 1</code> without using a big-int library (tested and confirmed working for <code>mawk-1</code>, <code>mawk-2</code>, <code>gawk 5.2.0</code>, and <code>nawk</code>):</p>\n<pre><code> jot 1023 | \n</code></pre>\n<blockquote>\n<pre><code>mawk '$++NF = (((___+=___++)%((_+=_^=_&lt;_)+_*_*_)^_^_)%_ ||\n              index(___,&quot;e&quot;) &lt; (length(___) &lt; _^_^_--))  \\\n              ? ___ : sprintf(&quot;%.*s%d&quot;, -_+(__ = length(_=\\\n                      sprintf(&quot;%.f&quot;,___))),_,substr(_,__)-!!__)' \\\n                                                    CONVFMT='%.16g'\n</code></pre>\n</blockquote>\n<pre><code>  31 2147483647\n\n 279 9713344461128645354597309534117594533212034195260697606259062048\n     69452142602604249087\n\n 527 4393470502483590217588416511412091659052438592091715462012456613\n     8787476373744998733584381700233309151854696392905477491437580723\n     1981865204004737810631363657727\n\n 775 1987223158144907436990693745232003270728814101909371662257986608\n     6733452194385624145035243633006674917766242952923277737038996224\n     5646696242104868771205271185818170236930668787910433956560844600\n     937633663896795708000114284397288455405567\n\n1023 8988465674311579538646525953945123668089884894711532863671504057\n     8866337902750481566354238661203768010560056939935696678829394884\n     4072083112464237153197370621888839467124327426381511098006230470\n     5972654147604250288441907534117123144073695655527041361858167525\n     5342293149119973622969239858152417678164812112068607\n</code></pre>\n"}],"owner":{"account_id":6998254,"reputation":29,"user_id":5365189,"display_name":"Kumi Megupo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":3,"score":2,"last_activity_date":1666223899,"creation_date":1442963481,"question_id":32728500,"body_markdown":"I have an assignment that asks me to write a for loop inside a method that will output this sequence:\r\n\r\n&gt; 1 3 7 15 31 ... 255\r\n\r\nI know that the pattern is to multiply the number by two then add one (or just to add the exponents of 2 to each number so 1 + 2 = 3 + 4 = 7 + 8 = 15 etc.) but I don&#39;t know how exactly to make a loop that&#39;ll output that sequence all the way up to 255.\r\n\r\nI would just like an example or explanation to guide me a little bit, I don&#39;t want anyone to actually give me the exact code I need. Here&#39;s what I&#39;ve done so far:\r\n\r\n    public static void methodOne() {\r\n\t\tfor (int j = 1; j &lt;= 255; j *= 2) {\r\n\t\r\n\t\t}\r\n\t}\r\n\r\nI tried to use another for loop within the for loop above but it didn&#39;t work well, and I&#39;m not sure if that&#39;s the right thing to do. I basically want to take `j` and have it multiplied by two and then add 1 to get the next number in the sequence.","title":"Generating integers of form 2^n - 1 with for loop","body":"<p>I have an assignment that asks me to write a for loop inside a method that will output this sequence:</p>\n\n<blockquote>\n  <p>1 3 7 15 31 ... 255</p>\n</blockquote>\n\n<p>I know that the pattern is to multiply the number by two then add one (or just to add the exponents of 2 to each number so 1 + 2 = 3 + 4 = 7 + 8 = 15 etc.) but I don't know how exactly to make a loop that'll output that sequence all the way up to 255.</p>\n\n<p>I would just like an example or explanation to guide me a little bit, I don't want anyone to actually give me the exact code I need. Here's what I've done so far:</p>\n\n<pre><code>public static void methodOne() {\n    for (int j = 1; j &lt;= 255; j *= 2) {\n\n    }\n}\n</code></pre>\n\n<p>I tried to use another for loop within the for loop above but it didn't work well, and I'm not sure if that's the right thing to do. I basically want to take <code>j</code> and have it multiplied by two and then add 1 to get the next number in the sequence.</p>\n"},{"tags":["java","integration-testing","minio","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":13866125,"reputation":41,"user_id":10010590,"display_name":"D007"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666223894,"creation_date":1666223511,"answer_id":74133061,"question_id":72784766,"body_markdown":"Not sure if you have another local instance of minio running which is returning this error. But for me, I was not able to connect to the testcontainer running minio at all, without binding the host and container ports to 9000. Therefore, I set a static host and exposed port on the container like so\r\n```\r\n@Container\r\nprivate static final GenericContainer&lt;?&gt; minioContainer =\r\n            new GenericContainer&lt;&gt;(DockerImageName.parse(dockerImage))\r\n                    .withExposedPorts(exposedPort)\r\n                    .withEnv(&quot;MINIO_ROOT_USER&quot;, accessKey)\r\n                    .withEnv(&quot;MINIO_ROOT_PASSWORD&quot;, secretKey)\r\n                    .withCommand(&quot;server&quot;, &quot;/data&quot;)\r\n                    .withCreateContainerCmdModifier(cmd -&gt; cmd.withHostConfig(\r\n                            new HostConfig().withPortBindings(new PortBinding(Ports.Binding.bindPort(exposedPort), new ExposedPort(exposedPort)))));\r\n```\r\nThis solved the problem for me","title":"Minio container for Testcontainers signature matching exception","body":"<p>Not sure if you have another local instance of minio running which is returning this error. But for me, I was not able to connect to the testcontainer running minio at all, without binding the host and container ports to 9000. Therefore, I set a static host and exposed port on the container like so</p>\n<pre><code>@Container\nprivate static final GenericContainer&lt;?&gt; minioContainer =\n            new GenericContainer&lt;&gt;(DockerImageName.parse(dockerImage))\n                    .withExposedPorts(exposedPort)\n                    .withEnv(&quot;MINIO_ROOT_USER&quot;, accessKey)\n                    .withEnv(&quot;MINIO_ROOT_PASSWORD&quot;, secretKey)\n                    .withCommand(&quot;server&quot;, &quot;/data&quot;)\n                    .withCreateContainerCmdModifier(cmd -&gt; cmd.withHostConfig(\n                            new HostConfig().withPortBindings(new PortBinding(Ports.Binding.bindPort(exposedPort), new ExposedPort(exposedPort)))));\n</code></pre>\n<p>This solved the problem for me</p>\n"}],"owner":{"account_id":24114154,"reputation":13,"user_id":18084320,"display_name":"yngGabone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":798,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666223894,"creation_date":1656411942,"question_id":72784766,"body_markdown":"I have spring project with minio s3 running in docker container\r\n\r\nWhen I run my app locally everything works OK, files successfully uploading and downloading.\r\nBut when Im trying to test this logic via Testcontainers on file upload request i get &quot;The request signature we calculated does not match the signature you provided. Check your key and signing method.&quot;\r\n\r\nI run same docker container configuration in tests and outside of tests\r\n \r\nFun thing that i can create and list buckets, but on upload i get an exception\r\n\r\n\r\nHere my test source code:\r\n\r\n```\r\n@SpringBootTest\r\n@Testcontainers\r\npublic class FileServiceTest {\r\n\r\n    private static final String accessKey = &quot;AKIAIOSFODNN7EXAMPLE&quot;;\r\n    private static final String secretKey = &quot;wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY&quot;;\r\n    private static final Integer defaultPort = 9000;\r\n\r\n    @Container\r\n    private static final GenericContainer&lt;?&gt; minioContainer =\r\n            new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;quay.io/minio/minio&quot;))\r\n                    .withExposedPorts(defaultPort)\r\n                    .withEnv(&quot;MINIO_ACCESS_KEY&quot;, accessKey)\r\n                    .withEnv(&quot;MINIO_SECRET_KEY&quot;, secretKey)\r\n                    .withCommand(&quot;server&quot;, &quot;/data&quot;);\r\n\r\n    private final MinioClient minioClient = MinioClient.builder()\r\n            .endpoint(minioContainer.getContainerIpAddress(), minioContainer.getMappedPort(defaultPort), false)\r\n            .credentials(accessKey, secretKey)\r\n            .build();\r\n    \r\n    @Test\r\n    public void shouldUploadFile() throws Exception {\r\n        String bucket = &quot;bucket-name&quot;;\r\n        minioClient.makeBucket(MakeBucketArgs.builder().bucket(bucket).build()); // success\r\n        \r\n        UUID fileId = UUID.randomUUID();\r\n        PutObjectArgs uploadObject = PutObjectArgs.builder()\r\n                .bucket(bucket)\r\n                .object(fileId.toString())\r\n                .stream(mockMultipartFile.getInputStream(), mockMultipartFile.getSize(), -1)\r\n                .contentType(mockMultipartFile.getContentType())\r\n                .build();\r\n        minioClient.putObject(uploadObject); // exception here\r\n    }\r\n```\r\n\r\nAny tips how can i resolve this?","title":"Minio container for Testcontainers signature matching exception","body":"<p>I have spring project with minio s3 running in docker container</p>\n<p>When I run my app locally everything works OK, files successfully uploading and downloading.\nBut when Im trying to test this logic via Testcontainers on file upload request i get &quot;The request signature we calculated does not match the signature you provided. Check your key and signing method.&quot;</p>\n<p>I run same docker container configuration in tests and outside of tests</p>\n<p>Fun thing that i can create and list buckets, but on upload i get an exception</p>\n<p>Here my test source code:</p>\n<pre><code>@SpringBootTest\n@Testcontainers\npublic class FileServiceTest {\n\n    private static final String accessKey = &quot;AKIAIOSFODNN7EXAMPLE&quot;;\n    private static final String secretKey = &quot;wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY&quot;;\n    private static final Integer defaultPort = 9000;\n\n    @Container\n    private static final GenericContainer&lt;?&gt; minioContainer =\n            new GenericContainer&lt;&gt;(DockerImageName.parse(&quot;quay.io/minio/minio&quot;))\n                    .withExposedPorts(defaultPort)\n                    .withEnv(&quot;MINIO_ACCESS_KEY&quot;, accessKey)\n                    .withEnv(&quot;MINIO_SECRET_KEY&quot;, secretKey)\n                    .withCommand(&quot;server&quot;, &quot;/data&quot;);\n\n    private final MinioClient minioClient = MinioClient.builder()\n            .endpoint(minioContainer.getContainerIpAddress(), minioContainer.getMappedPort(defaultPort), false)\n            .credentials(accessKey, secretKey)\n            .build();\n    \n    @Test\n    public void shouldUploadFile() throws Exception {\n        String bucket = &quot;bucket-name&quot;;\n        minioClient.makeBucket(MakeBucketArgs.builder().bucket(bucket).build()); // success\n        \n        UUID fileId = UUID.randomUUID();\n        PutObjectArgs uploadObject = PutObjectArgs.builder()\n                .bucket(bucket)\n                .object(fileId.toString())\n                .stream(mockMultipartFile.getInputStream(), mockMultipartFile.getSize(), -1)\n                .contentType(mockMultipartFile.getContentType())\n                .build();\n        minioClient.putObject(uploadObject); // exception here\n    }\n</code></pre>\n<p>Any tips how can i resolve this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1666222970,"post_id":74132974,"comment_id":130887738,"body_markdown":"https://stackoverflow.com/help/minimal-reproducible-example","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1666222968,"creation_date":1666222968,"answer_id":74133015,"question_id":74132974,"body_markdown":"You need to `close()` your `FileWriter`. Currently, you open it at the class level and never close it. I would use a `try-with-Resources` and something like\r\n\r\n\tprotected void print(String me) {\r\n\t\ttry (FileWriter f = createFile()) {\r\n\t\t\tf.write(me);\r\n\t\t\tSystem.out.println(me);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;An error occurred.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\r\nWhich should resolve your issue.","title":"Writing a file returns empty file","body":"<p>You need to <code>close()</code> your <code>FileWriter</code>. Currently, you open it at the class level and never close it. I would use a <code>try-with-Resources</code> and something like</p>\n<pre><code>protected void print(String me) {\n    try (FileWriter f = createFile()) {\n        f.write(me);\n        System.out.println(me);\n    } catch (IOException e) {\n        System.out.println(&quot;An error occurred.&quot;);\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>Which should resolve your issue.</p>\n"}],"owner":{"account_id":26676348,"reputation":29,"user_id":20286995,"display_name":"Anchr anchr"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":5,"up_vote_count":1,"closed_date":1666266885,"answer_count":1,"score":-4,"last_activity_date":1666222968,"creation_date":1666222582,"question_id":74132974,"body_markdown":"I&#39;ve started to learn Java and working with files is a little bit hard for me. Can you check my code and see what&#39;s going wrong?\r\n```\r\npublic class Arena  {\r\nFileWriter f = createFile();\r\nprotected void print(String me){\r\n        try {\r\n            f.write(me);\r\n            System.out.println(me);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n    protected FileWriter createFile() {\r\n        try {\r\n            return new FileWriter(&quot;src/battle.txt&quot;);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;An error occurred.&quot;);\r\n            System.exit(1);\r\n            return null;\r\n        }\r\n    }\r\n```\r\nAnd this method print I use as System.out.println\r\nBut when I run my code my file battle.txt is empty. How I can fix it?","title":"Writing a file returns empty file","body":"<p>I've started to learn Java and working with files is a little bit hard for me. Can you check my code and see what's going wrong?</p>\n<pre><code>public class Arena  {\nFileWriter f = createFile();\nprotected void print(String me){\n        try {\n            f.write(me);\n            System.out.println(me);\n        } catch (IOException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            e.printStackTrace();\n        }\n\n    }\n    protected FileWriter createFile() {\n        try {\n            return new FileWriter(&quot;src/battle.txt&quot;);\n        } catch (IOException e) {\n            System.out.println(&quot;An error occurred.&quot;);\n            System.exit(1);\n            return null;\n        }\n    }\n</code></pre>\n<p>And this method print I use as System.out.println\nBut when I run my code my file battle.txt is empty. How I can fix it?</p>\n"},{"tags":["java","selenium","webdriver"],"comments":[{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":1,"creation_date":1666208613,"post_id":74130703,"comment_id":130884177,"body_markdown":"Please share all your Selenium code including a link to the page you are working on","body":"Please share all your Selenium code including a link to the page you are working on"},{"owner":{"account_id":1856464,"reputation":514,"user_id":1681917,"accept_rate":100,"display_name":"Ahamed Abdul Rahman"},"score":0,"creation_date":1666460657,"post_id":74130703,"comment_id":130944517,"body_markdown":"Check for iframes too.","body":"Check for iframes too."},{"owner":{"account_id":14682089,"reputation":1,"user_id":10603242,"display_name":"Bibhas Deb verman"},"score":1,"creation_date":1666819301,"post_id":74130703,"comment_id":131028941,"body_markdown":"@Prophet Thanks for your reply. It is fixed now using action class.","body":"@Prophet Thanks for your reply. It is fixed now using action class."}],"owner":{"account_id":14682089,"reputation":1,"user_id":10603242,"display_name":"Bibhas Deb verman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666222704,"creation_date":1666206756,"question_id":74130703,"body_markdown":"The webelement button is loaded but still unable to click it. Below is the html code of the button.\r\n\r\nHow to handle this?\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;button type=&quot;button&quot; aria-label=&quot;Google Pay&quot; class=&quot;gpay-card-info-container black buy long en&quot;&gt;&lt;div class=&quot;gpay-card-info-animation-container black gpay-card-info-animation-container-fade-out&quot;&gt;&lt;div class=&quot;gpay-card-info-placeholder-container&quot;&gt;&lt;div class=&quot;\r\n        gpay-card-info-animation-gpay-logo black\r\n        &quot;&gt;&lt;/div&gt;&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot; direction=&quot;ltr&quot; height=&quot;36px&quot; width=&quot;130px&quot;&gt;&lt;style&gt;@import url(//fonts.googleapis.com/css?family=Google+Sans:500)&lt;/style&gt;&lt;line x1=&quot;2&quot; y1=&quot;10.5&quot; x2=&quot;2&quot; y2=&quot;29.5&quot; style=&quot;stroke: #5F6368; stroke-width:2&quot;&gt;&lt;/line&gt;&lt;image x=&quot;11&quot; y=&quot;6&quot; width=&quot;37.5&quot; height=&quot;29&quot; preserveAspectRatio=&quot;none&quot; xlink:href=&quot;https://www.gstatic.com/images/icons/material/system/1x/payment_white_36dp.png&quot;&gt;&lt;/image&gt;&lt;text x=&quot;52&quot; y=&quot;25.5&quot; class=&quot;small&quot; style=&quot;font: 15px &#39;Google Sans&#39;, sans-serif; fill: #FFFFFF&quot;&gt;&lt;/text&gt;&lt;/svg&gt;&lt;/div&gt;&lt;div class=&quot;gpay-card-info-animated-progress-bar-container&quot;&gt;&lt;div class=&quot;gpay-card-info-animated-progress-bar&quot;&gt;&lt;div class=&quot;gpay-card-info-animated-progress-bar-indicator&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;iframe class=&quot;gpay-card-info-iframe gpay-card-info-iframe-fade-in&quot; scrolling=&quot;no&quot; src=&quot;https://pay.google.com/gp/p/generate_gpay_btn_img?buttonColor=default&amp;amp;browserLocale=en&amp;amp;buttonSizeMode=static&amp;amp;enableGpayNewButtonAsset=false&quot;&gt;&lt;/iframe&gt;&lt;/button&gt;\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n ","title":"Unable to click button using selenium java","body":"<p>The webelement button is loaded but still unable to click it. Below is the html code of the button.</p>\n<p>How to handle this?</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type=\"button\" aria-label=\"Google Pay\" class=\"gpay-card-info-container black buy long en\"&gt;&lt;div class=\"gpay-card-info-animation-container black gpay-card-info-animation-container-fade-out\"&gt;&lt;div class=\"gpay-card-info-placeholder-container\"&gt;&lt;div class=\"\n    gpay-card-info-animation-gpay-logo black\n    \"&gt;&lt;/div&gt;&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" direction=\"ltr\" height=\"36px\" width=\"130px\"&gt;&lt;style&gt;@import url(//fonts.googleapis.com/css?family=Google+Sans:500)&lt;/style&gt;&lt;line x1=\"2\" y1=\"10.5\" x2=\"2\" y2=\"29.5\" style=\"stroke: #5F6368; stroke-width:2\"&gt;&lt;/line&gt;&lt;image x=\"11\" y=\"6\" width=\"37.5\" height=\"29\" preserveAspectRatio=\"none\" xlink:href=\"https://www.gstatic.com/images/icons/material/system/1x/payment_white_36dp.png\"&gt;&lt;/image&gt;&lt;text x=\"52\" y=\"25.5\" class=\"small\" style=\"font: 15px 'Google Sans', sans-serif; fill: #FFFFFF\"&gt;&lt;/text&gt;&lt;/svg&gt;&lt;/div&gt;&lt;div class=\"gpay-card-info-animated-progress-bar-container\"&gt;&lt;div class=\"gpay-card-info-animated-progress-bar\"&gt;&lt;div class=\"gpay-card-info-animated-progress-bar-indicator\"&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;iframe class=\"gpay-card-info-iframe gpay-card-info-iframe-fade-in\" scrolling=\"no\" src=\"https://pay.google.com/gp/p/generate_gpay_btn_img?buttonColor=default&amp;amp;browserLocale=en&amp;amp;buttonSizeMode=static&amp;amp;enableGpayNewButtonAsset=false\"&gt;&lt;/iframe&gt;&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":3,"creation_date":1666221843,"post_id":74132897,"comment_id":130887574,"body_markdown":"The `for` keeps running as long as the condition is *true*, but yours (`i==length`) is false immediately.","body":"The <code>for</code> keeps running as long as the condition is <i>true</i>, but yours (<code>i==length</code>) is false immediately."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1666221915,"post_id":74132897,"comment_id":130887584,"body_markdown":"yeah...pretty sure you want `i &lt; length`.  Also, you might want to check to see if your incoming matrix is square.  If it isn&#39;t, your code will thrown an out of bounds exception.","body":"yeah...pretty sure you want <code>i &lt; length</code>.  Also, you might want to check to see if your incoming matrix is square.  If it isn&#39;t, your code will thrown an out of bounds exception."},{"owner":{"account_id":20425276,"reputation":21,"user_id":14985408,"display_name":"Hopfield"},"score":0,"creation_date":1666224028,"post_id":74132897,"comment_id":130887884,"body_markdown":"Ohh, I see now! I was seeing it the other way around. Thank you! \n\n@CryptoFool I am checking that in &quot;isComputable&quot; function, but thanks for the heads up! :)","body":"Ohh, I see now! I was seeing it the other way around. Thank you!   @CryptoFool I am checking that in &quot;isComputable&quot; function, but thanks for the heads up! :)"}],"answers":[{"comments":[{"owner":{"account_id":20425276,"reputation":21,"user_id":14985408,"display_name":"Hopfield"},"score":0,"creation_date":1666224111,"post_id":74132918,"comment_id":130887897,"body_markdown":"That seems to have been the issue, thank you! :)","body":"That seems to have been the issue, thank you! :)"}],"tags":[],"owner":{"account_id":23390113,"reputation":36,"user_id":17454868,"display_name":"Sanford Pun"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1666221913,"creation_date":1666221913,"answer_id":74132918,"question_id":74132897,"body_markdown":"```\r\nfor (int i = 0; i == length; i++){\r\n                  ^^\r\n...\r\n    for (int j = 0; j == length; j++){\r\n                      ^^\r\n```\r\n\r\nThere is a mistake in the termination conditions of your for loops.","title":"Why does Java just skip the loops in this code?","body":"<pre><code>for (int i = 0; i == length; i++){\n                  ^^\n...\n    for (int j = 0; j == length; j++){\n                      ^^\n</code></pre>\n<p>There is a mistake in the termination conditions of your for loops.</p>\n"}],"owner":{"account_id":20425276,"reputation":21,"user_id":14985408,"display_name":"Hopfield"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74132918,"answer_count":1,"score":-2,"last_activity_date":1666221913,"creation_date":1666221687,"question_id":74132897,"body_markdown":"I provided a code snippet below. \r\n\r\n`\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n   \r\n        int[][] matrix = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\r\n\r\n\r\n        System.out.println(hasSymmetry(matrix)); // returns true, so the isComputable condition is verified and the code not executed. Otherwise, it would return false. \r\n       \r\n\r\n    }\r\n\r\n\r\n    public static boolean hasSymmetry(int[][] matrix){\r\n        \r\n        // isComputable is defined somewhere else, and it works as expected. \r\n\r\n        if(!isComputable(matrix)){    \r\n            return false;\r\n        }\r\n        \r\n\r\n        int length = matrix.length;\r\n\r\n        // the loops are skipped without any error. I added the print statements for checking, but they simply don&#39;t happen. \r\n\r\n        for (int i = 0; i == length; i++){\r\n            System.out.println(&quot;Inside loop&quot; + i);\r\n            for (int j = 0; j == length; j++){\r\n                if (matrix[i][j] != matrix[j][i]) {\r\n                    System.out.println(matrix[i][j] + &quot; vs &quot; + matrix[j][i]);\r\n                    return false;\r\n                }                \r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n\r\n}\r\n`\r\n\r\nAnyone has an idea why the loops are skipped? \r\n* I tried making the conditions inside the loop to be i - 2 and j - 2, but it doesn&#39;t work. ","title":"Why does Java just skip the loops in this code?","body":"<p>I provided a code snippet below.</p>\n<p>`</p>\n<pre><code>public static void main(String[] args) throws Exception {\n\n\n    int[][] matrix = {{1, 2, 3}, {4, 5, 6}, {7, 8, 9}};\n\n\n    System.out.println(hasSymmetry(matrix)); // returns true, so the isComputable condition is verified and the code not executed. Otherwise, it would return false. \n   \n\n}\n\n\npublic static boolean hasSymmetry(int[][] matrix){\n    \n    // isComputable is defined somewhere else, and it works as expected. \n\n    if(!isComputable(matrix)){    \n        return false;\n    }\n    \n\n    int length = matrix.length;\n\n    // the loops are skipped without any error. I added the print statements for checking, but they simply don't happen. \n\n    for (int i = 0; i == length; i++){\n        System.out.println(&quot;Inside loop&quot; + i);\n        for (int j = 0; j == length; j++){\n            if (matrix[i][j] != matrix[j][i]) {\n                System.out.println(matrix[i][j] + &quot; vs &quot; + matrix[j][i]);\n                return false;\n            }                \n        }\n    }\n    return true;\n}\n</code></pre>\n<p>}\n`</p>\n<p>Anyone has an idea why the loops are skipped?</p>\n<ul>\n<li>I tried making the conditions inside the loop to be i - 2 and j - 2, but it doesn't work.</li>\n</ul>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666222392,"post_id":74132917,"comment_id":130887652,"body_markdown":"How are you running the test?","body":"How are you running the test?"},{"owner":{"account_id":26676199,"reputation":3,"user_id":20286880,"display_name":"Swansea"},"score":0,"creation_date":1666222580,"post_id":74132917,"comment_id":130887684,"body_markdown":"@TimMoore in code wars, I am using the sample tests section provided by the author of the challenge. On my IDE, I made this:\n```\n //testing\n    @Test\n    public void testBasics()\n  {\n    System.out.println(&quot;Basic Tests&quot;);\n    assertThat(BasicOperations.basicMath(&quot;+&quot;, 4, 7), is(11));\n    assertThat(BasicOperations.basicMath(&quot;-&quot;, 15, 18), is(-3));\n    assertThat(BasicOperations.basicMath(&quot;*&quot;, 5, 5), is(25));\n    assertThat(BasicOperations.basicMath(&quot;/&quot;, 49, 7), is(7));\n  }\n```","body":"@TimMoore in code wars, I am using the sample tests section provided by the author of the challenge. On my IDE, I made this: ```  //testing     @Test     public void testBasics()   {     System.out.println(&quot;Basic Tests&quot;);     assertThat(BasicOperations.basicMath(&quot;+&quot;, 4, 7), is(11));     assertThat(BasicOperations.basicMath(&quot;-&quot;, 15, 18), is(-3));     assertThat(BasicOperations.basicMath(&quot;*&quot;, 5, 5), is(25));     assertThat(BasicOperations.basicMath(&quot;/&quot;, 49, 7), is(7));   } ```"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666416405,"post_id":74132917,"comment_id":130936881,"body_markdown":"The `basicMath` method should use the `op`, `v1`, and `v2` values that are passed to it, rather than trying to read them from `System.in`.","body":"The <code>basicMath</code> method should use the <code>op</code>, <code>v1</code>, and <code>v2</code> values that are passed to it, rather than trying to read them from <code>System.in</code>."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1666416504,"post_id":74132917,"comment_id":130936894,"body_markdown":"Also, this may not be required to pass the test, but `finalResult` should be a local variable rather than a static member.","body":"Also, this may not be required to pass the test, but <code>finalResult</code> should be a local variable rather than a static member."}],"owner":{"account_id":26676199,"reputation":3,"user_id":20286880,"display_name":"Swansea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666221912,"creation_date":1666221912,"question_id":74132917,"body_markdown":"Codewars. I&#39;ve been trying to make this work for the last two hours. Beginner level.\r\n\r\nThe return statement is not working properly. For the record, this works in my IDE if I change the main method to a void main and replace the return statement with\r\n`System.out.println(finalResult);` after the switch statement. \r\n\r\n\r\n\r\nSolution I came up with:\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class BasicOperations { \r\n     static int finalResult;\r\n  public static Integer basicMath(String op, int v1, int v2) {\r\n    Scanner userInput = new Scanner (System.in);\r\n    op = userInput.nextLine();\r\n    v1 = userInput.nextInt();\r\n    v2 = userInput.nextInt();\r\n      switch (op){\r\n          case &quot;+&quot;:\r\n              finalResult=v1+v2;\r\n              break;\r\n\r\n          case &quot;-&quot;:\r\n              finalResult=v1-v2;\r\n              break;\r\n\r\n          case &quot;*&quot;:\r\n              finalResult=v1*v2;\r\n              break;\r\n\r\n          case &quot;/&quot;:\r\n              finalResult=v1/v2;\r\n              break;\r\n\r\n      }\r\n      return(finalResult);\r\n  }\r\n\r\n\r\n}\r\n```\r\n\r\nSample tests provided:\r\n```\r\nimport org.junit.Test;\r\nimport static org.hamcrest.CoreMatchers.equalTo;\r\nimport static org.hamcrest.CoreMatchers.is;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport org.junit.runners.JUnit4;\r\n\r\npublic class SolutionTest\r\n{\r\n  @Test\r\n  public void testBasics()\r\n  {\r\n    System.out.println(&quot;Basic Tests&quot;);\r\n    assertThat(BasicOperations.basicMath(&quot;+&quot;, 4, 7), is(11));\r\n    assertThat(BasicOperations.basicMath(&quot;-&quot;, 15, 18), is(-3));\r\n    assertThat(BasicOperations.basicMath(&quot;*&quot;, 5, 5), is(25));\r\n    assertThat(BasicOperations.basicMath(&quot;/&quot;, 49, 7), is(7));\r\n  }\r\n}\r\n\r\n```\r\n\r\nOutput: \r\n```\r\nSolutionTest\r\ntestBasics\r\nLog\r\nBasic Tests\r\nNo line found\r\n```\r\n\r\nI am fully aware that the solution could be shorter and done in a smarter way. The main reason why I started doing codewars was to see how others do the solutions. First post ever on SO, so I&#39;d appreciate feedback! Thank you for your time","title":"(Fundamentals) Test class does not return anything after sysout","body":"<p>Codewars. I've been trying to make this work for the last two hours. Beginner level.</p>\n<p>The return statement is not working properly. For the record, this works in my IDE if I change the main method to a void main and replace the return statement with\n<code>System.out.println(finalResult);</code> after the switch statement.</p>\n<p>Solution I came up with:</p>\n<pre><code>import java.util.Scanner;\npublic class BasicOperations { \n     static int finalResult;\n  public static Integer basicMath(String op, int v1, int v2) {\n    Scanner userInput = new Scanner (System.in);\n    op = userInput.nextLine();\n    v1 = userInput.nextInt();\n    v2 = userInput.nextInt();\n      switch (op){\n          case &quot;+&quot;:\n              finalResult=v1+v2;\n              break;\n\n          case &quot;-&quot;:\n              finalResult=v1-v2;\n              break;\n\n          case &quot;*&quot;:\n              finalResult=v1*v2;\n              break;\n\n          case &quot;/&quot;:\n              finalResult=v1/v2;\n              break;\n\n      }\n      return(finalResult);\n  }\n\n\n}\n</code></pre>\n<p>Sample tests provided:</p>\n<pre><code>import org.junit.Test;\nimport static org.hamcrest.CoreMatchers.equalTo;\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport org.junit.runners.JUnit4;\n\npublic class SolutionTest\n{\n  @Test\n  public void testBasics()\n  {\n    System.out.println(&quot;Basic Tests&quot;);\n    assertThat(BasicOperations.basicMath(&quot;+&quot;, 4, 7), is(11));\n    assertThat(BasicOperations.basicMath(&quot;-&quot;, 15, 18), is(-3));\n    assertThat(BasicOperations.basicMath(&quot;*&quot;, 5, 5), is(25));\n    assertThat(BasicOperations.basicMath(&quot;/&quot;, 49, 7), is(7));\n  }\n}\n\n</code></pre>\n<p>Output:</p>\n<pre><code>SolutionTest\ntestBasics\nLog\nBasic Tests\nNo line found\n</code></pre>\n<p>I am fully aware that the solution could be shorter and done in a smarter way. The main reason why I started doing codewars was to see how others do the solutions. First post ever on SO, so I'd appreciate feedback! Thank you for your time</p>\n"},{"tags":["java","reflection","orm","annotations"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1666212655,"post_id":74131584,"comment_id":130885500,"body_markdown":"I think you just want `entityClass.getDeclaredAnnotation(Table.class)` -- the class of `entityClass` is `Class`.","body":"I think you just want <code>entityClass.getDeclaredAnnotation(Table.class)</code> -- the class of <code>entityClass</code> is <code>Class</code>."},{"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"score":0,"creation_date":1666213872,"post_id":74131584,"comment_id":130885830,"body_markdown":"After using `entityClass.getDeclaredAnnotation(Table.class)` i can&#39;t get to `value()` method all i can do after is `entityClass.getDeclaredAnnotation(Table.class).annotationType()`","body":"After using <code>entityClass.getDeclaredAnnotation(Table.class)</code> i can&#39;t get to <code>value()</code> method all i can do after is <code>entityClass.getDeclaredAnnotation(Table.class).annotationTyp&zwnj;&#8203;e()</code>"}],"answers":[{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1666218893,"post_id":74132369,"comment_id":130887018,"body_markdown":"There is nothing that extends `Class`. So, the only legal value there is `Class.class`. Which is rather pointless.","body":"There is nothing that extends <code>Class</code>. So, the only legal value there is <code>Class.class</code>. Which is rather pointless."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1666267606,"post_id":74132369,"comment_id":130898813,"body_markdown":"Using a raw type (`Class`) causes the entire line of code to be stripped of generics information at compile time, so the compiler does not know getDeclaredAnnotation is returning a Table instance.  If you turn on all compiler warnings, the compiler will tell you about such mistakes.","body":"Using a raw type (<code>Class</code>) causes the entire line of code to be stripped of generics information at compile time, so the compiler does not know getDeclaredAnnotation is returning a Table instance.  If you turn on all compiler warnings, the compiler will tell you about such mistakes."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1666281280,"post_id":74132369,"comment_id":130904667,"body_markdown":"The problem was the missing `&lt;?&gt;` at the declaration of `entityClass` **and** the fact that you were calling `getClass()` on the `Class` as discussed [in this comment](https://stackoverflow.com/questions/74131584/my-annotation-created-with-reflection-api-return-null-even-when-there-is-data/74132369#comment130885500_74131584) So your answer addresses the new problem you described in [this comment](https://stackoverflow.com/questions/74131584/my-annotation-created-with-reflection-api-return-null-even-when-there-is-data#comment130885830_74131584) but not the original question.","body":"The problem was the missing <code>&lt;?&gt;</code> at the declaration of <code>entityClass</code> <b>and</b> the fact that you were calling <code>getClass()</code> on the <code>Class</code> as discussed <a href=\"https://stackoverflow.com/questions/74131584/my-annotation-created-with-reflection-api-return-null-even-when-there-is-data/74132369#comment130885500_74131584\">in this comment</a> So your answer addresses the new problem you described in <a href=\"https://stackoverflow.com/questions/74131584/my-annotation-created-with-reflection-api-return-null-even-when-there-is-data#comment130885830_74131584\">this comment</a> but not the original question."}],"tags":[],"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666221557,"creation_date":1666216787,"answer_id":74132369,"question_id":74131584,"body_markdown":"The problem was a foreach loop, i had to pass generic types in it like that \r\n\r\n```\r\n for (Class&lt;?&gt; entityClass : entityClasses)\r\n```\r\nNot sure how exactly but it did work so happy about it","title":"My annotation created with reflection API return null even when there is data","body":"<p>The problem was a foreach loop, i had to pass generic types in it like that</p>\n<pre><code> for (Class&lt;?&gt; entityClass : entityClasses)\n</code></pre>\n<p>Not sure how exactly but it did work so happy about it</p>\n"}],"owner":{"account_id":26338497,"reputation":15,"user_id":19997982,"display_name":"Fellou98"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666221557,"creation_date":1666211700,"question_id":74131584,"body_markdown":"so I&#39;m building ORM Manager from scratch with reflection API, everything works fine but there is one annotation `@Table` that i created and it doesn&#39;t want to work as it should. So annotation looks like this\r\n\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n  @Target(ElementType.TYPE)\r\n   public @interface Table {\r\n    String value() default &quot;&quot;;\r\n}\r\n```\r\n\r\nand I&#39;m using it on my model class as so\r\n```\r\n@Entity\r\n@Table(value = &quot;Books&quot;)\r\npublic class Book {\r\n```\r\n\r\nand now i&#39;m trying to get that value passed as a parameter like this\r\n\r\n```\r\n@Override\r\n    void register(Class... entityClasses) throws SQLException {\r\n        for (Class entityClass : entityClasses) {\r\n\r\n            if (entityClass.isAnnotationPresent(Entity.class)) {\r\n\r\n                String tableName;\r\n\r\n                if (entityClass.isAnnotationPresent(Table.class)) {\r\n                    tableName = entityClass.getClass().getDeclaredAnnotation(Table.class).value();\r\n                } else {\r\n                    tableName = entityClass.getSimpleName();\r\n                }\r\n```\r\n\r\nDont mind `@Entity` annotation it works fine. Only problem is that `@Table` annotation always returns null so it throws `NullPointerException` and crashing.\r\n\r\nWhere is a problem, how can i solve this. I already implemented `@Column` annotation and when i use `.value()` on `@Column` annotation it works fine so no clue why it doesn&#39;t work for `@Table`\r\n\r\n@EDIT\r\n\r\nSo i just discovered that&#39;s not `Value` returning null but `.getAnnotation` but still no clue why is it returning null\r\n\r\n```\r\nCannot invoke &quot;teamblue.annotations.Table.value()&quot; \r\nbecause the return value of &quot;java.lang.Class.getAnnotation(java.lang.Class)&quot; is null\r\n```","title":"My annotation created with reflection API return null even when there is data","body":"<p>so I'm building ORM Manager from scratch with reflection API, everything works fine but there is one annotation <code>@Table</code> that i created and it doesn't want to work as it should. So annotation looks like this</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n  @Target(ElementType.TYPE)\n   public @interface Table {\n    String value() default &quot;&quot;;\n}\n</code></pre>\n<p>and I'm using it on my model class as so</p>\n<pre><code>@Entity\n@Table(value = &quot;Books&quot;)\npublic class Book {\n</code></pre>\n<p>and now i'm trying to get that value passed as a parameter like this</p>\n<pre><code>@Override\n    void register(Class... entityClasses) throws SQLException {\n        for (Class entityClass : entityClasses) {\n\n            if (entityClass.isAnnotationPresent(Entity.class)) {\n\n                String tableName;\n\n                if (entityClass.isAnnotationPresent(Table.class)) {\n                    tableName = entityClass.getClass().getDeclaredAnnotation(Table.class).value();\n                } else {\n                    tableName = entityClass.getSimpleName();\n                }\n</code></pre>\n<p>Dont mind <code>@Entity</code> annotation it works fine. Only problem is that <code>@Table</code> annotation always returns null so it throws <code>NullPointerException</code> and crashing.</p>\n<p>Where is a problem, how can i solve this. I already implemented <code>@Column</code> annotation and when i use <code>.value()</code> on <code>@Column</code> annotation it works fine so no clue why it doesn't work for <code>@Table</code></p>\n<p>@EDIT</p>\n<p>So i just discovered that's not <code>Value</code> returning null but <code>.getAnnotation</code> but still no clue why is it returning null</p>\n<pre><code>Cannot invoke &quot;teamblue.annotations.Table.value()&quot; \nbecause the return value of &quot;java.lang.Class.getAnnotation(java.lang.Class)&quot; is null\n</code></pre>\n"},{"tags":["java","amazon-s3","parquet","avro"],"comments":[{"owner":{"account_id":11060639,"reputation":11,"user_id":8196452,"display_name":"NuttronIndustries"},"score":0,"creation_date":1666224876,"post_id":74132869,"comment_id":130887991,"body_markdown":"Update: Found an answer.\nFirst casted it to GenericData.fixed, then did\n```\nbyte[] bytes = fixed.bytes();\n    // little endian encoding - need to invert byte order\n    long timeOfDayNanos =\n        Longs.fromBytes(bytes[7], bytes[6], bytes[5], bytes[4], bytes[3], bytes[2], bytes[1], bytes[0]);\n    int julianDay = Ints.fromBytes(bytes[11], bytes[10], bytes[9], bytes[8]);\n    long ts = ((julianDay - JULIAN_EPOCH_OFFSET_DAYS) * MILLIS_IN_DAY) + (timeOfDayNanos / NANOS_PER_MILLISECOND);\n```","body":"Update: Found an answer. First casted it to GenericData.fixed, then did ``` byte[] bytes = fixed.bytes();     // little endian encoding - need to invert byte order     long timeOfDayNanos =         Longs.fromBytes(bytes[7], bytes[6], bytes[5], bytes[4], bytes[3], bytes[2], bytes[1], bytes[0]);     int julianDay = Ints.fromBytes(bytes[11], bytes[10], bytes[9], bytes[8]);     long ts = ((julianDay - JULIAN_EPOCH_OFFSET_DAYS) * MILLIS_IN_DAY) + (timeOfDayNanos / NANOS_PER_MILLISECOND); ```"},{"owner":{"account_id":1290069,"reputation":703,"user_id":1242336,"display_name":"Kiran K"},"score":0,"creation_date":1677773383,"post_id":74132869,"comment_id":133407703,"body_markdown":"can you pls quote the source of where you got this from ? I need to do the same and would like to know more about it.","body":"can you pls quote the source of where you got this from ? I need to do the same and would like to know more about it."}],"owner":{"account_id":11060639,"reputation":11,"user_id":8196452,"display_name":"NuttronIndustries"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666221431,"creation_date":1666221431,"question_id":74132869,"body_markdown":"I&#39;m reading from a parquet file and I noticed per the schema that our dates are being read as INT96 represented as byte[12]. So when reading from the parquet file, a date will look like an Object [0, 0, 0, 0, 0, 0, 0, 0, -63, -120, 37, 0]. \r\n\r\nDoes anyone know how I&#39;d go about converting this to a usable format so I could get the date? Or if there&#39;s a way I&#39;m supposed to tweak my s3 parquet file reader so I can get the actual date instead of that byte array?\r\n\r\nThanks!","title":"How do I interpret INT96 represented as a byte[12] array in Java, and convert to DateTime?","body":"<p>I'm reading from a parquet file and I noticed per the schema that our dates are being read as INT96 represented as byte[12]. So when reading from the parquet file, a date will look like an Object [0, 0, 0, 0, 0, 0, 0, 0, -63, -120, 37, 0].</p>\n<p>Does anyone know how I'd go about converting this to a usable format so I could get the date? Or if there's a way I'm supposed to tweak my s3 parquet file reader so I can get the actual date instead of that byte array?</p>\n<p>Thanks!</p>\n"},{"tags":["java","lambda","java-stream"],"answers":[{"tags":[],"owner":{"account_id":20802784,"reputation":35,"user_id":15278421,"display_name":"Eyal Hadad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666220098,"creation_date":1666220098,"answer_id":74132765,"question_id":74093033,"body_markdown":"I will explain the code below please look at the comment on each line to understand it better\r\n\r\nFirst converting the `A class` List into a Stream \r\nSecond each `A` is mapped into `B List` and since `A` other fields are needed they will be kept in the `aItem` as the code below shows, each `B List` is converted to a Stream.\r\n\r\nso far we converted each A into a Stream of B while keeping the other fields.\r\n\r\nThird each `B` is mapped into a `new C` using the `C constructor` and using the arguments of the `A` the has the list of B&#39;s - therefore the Stream of B&#39;s mapped into a Stream of C&#39;s\r\n\r\nthan the code continue as you did, just the lambda `x -&gt; x.stream()` changed into method reference.\r\n\r\n\r\n\r\n``` lang-java\r\n\r\n\r\n  List&lt;C&gt; cList = aList.stream() // Stream&lt;A&gt;\r\n         .map(aItem -&gt; aItem.getBList().stream() // Stream&lt;B&gt;\r\n                  .map(\r\n     b -&gt; new C(aItem.getName(), aItem.getValue(), b.getType(), b.getCount())\r\n                      ) // Stream&lt;C&gt;\r\n                        .collect(Collectors.toList())) // Stream&lt;List&lt;C&gt;&gt;\r\n                .flatMap(Collection::stream) // Stream&lt;C&gt;\r\n                .collect(Collectors.toList());\r\n\r\n\r\n```","title":"Convert a list to another list in a better way","body":"<p>I will explain the code below please look at the comment on each line to understand it better</p>\n<p>First converting the <code>A class</code> List into a Stream\nSecond each <code>A</code> is mapped into <code>B List</code> and since <code>A</code> other fields are needed they will be kept in the <code>aItem</code> as the code below shows, each <code>B List</code> is converted to a Stream.</p>\n<p>so far we converted each A into a Stream of B while keeping the other fields.</p>\n<p>Third each <code>B</code> is mapped into a <code>new C</code> using the <code>C constructor</code> and using the arguments of the <code>A</code> the has the list of B's - therefore the Stream of B's mapped into a Stream of C's</p>\n<p>than the code continue as you did, just the lambda <code>x -&gt; x.stream()</code> changed into method reference.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n\n  List&lt;C&gt; cList = aList.stream() // Stream&lt;A&gt;\n         .map(aItem -&gt; aItem.getBList().stream() // Stream&lt;B&gt;\n                  .map(\n     b -&gt; new C(aItem.getName(), aItem.getValue(), b.getType(), b.getCount())\n                      ) // Stream&lt;C&gt;\n                        .collect(Collectors.toList())) // Stream&lt;List&lt;C&gt;&gt;\n                .flatMap(Collection::stream) // Stream&lt;C&gt;\n                .collect(Collectors.toList());\n\n\n</code></pre>\n"}],"owner":{"account_id":23281482,"reputation":63,"user_id":17364877,"display_name":"bootstrap2025"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666221216,"creation_date":1665985946,"question_id":74093033,"body_markdown":"The following is an example of converting list&lt;B&gt; to List&lt;C&gt;\r\n```\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class A{\r\n        private String name;\r\n        private String value;\r\n        private List&lt;B&gt; bList;\r\n    }\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class B{\r\n        private Integer type;\r\n        private Integer count;\r\n    }\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class C{\r\n        private String name;\r\n        private String value;\r\n        private Integer type;\r\n        private Integer count;\r\n    }\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        A a = new A(&quot;test1&quot;, &quot;test1&quot;, Arrays.asList(new B(1,1), new B(2,2)));\r\n        A a1 = new A(&quot;test2&quot;, &quot;test2&quot;, Arrays.asList(new B(2,2), new B(3,3)));\r\n        List&lt;A&gt; aList = Arrays.asList(a, a1);\r\n\r\n        List&lt;C&gt; rList = aList.stream()\r\n                .map(t-&gt;{\r\n                    List&lt;B&gt; bList = t.getBList();\r\n                    List&lt;C&gt; c1List = new ArrayList&lt;&gt;();\r\n                    for(B b : bList){\r\n                        C c = new C(t.getName(), t.getValue(), b.getType(), b.getCount());\r\n                        c1List.add(c);\r\n                    }\r\n                    return c1List;\r\n\r\n        }).flatMap(x-&gt;x.stream()).collect(Collectors.toList());\r\n    }\r\n```\r\nIn the main method, in addition to using the for loop to traverse bList, as shown below\r\n```\r\n List&lt;B&gt; bList = t.getBList();\r\n List&lt;C&gt; c1List = new ArrayList&lt;&gt;();\r\n for(B b : bList){\r\n     c = new C(t.getName(), t.getValue(), b.getType(), b.getCount());\r\n     c1List.add(c);\r\n }\r\n return c1List;\r\n```\r\nI need to loop bList, then convert bList to c1List.but I feel like this code is a bit ugly, is there a more elegant way to implement this code","title":"Convert a list to another list in a better way","body":"<p>The following is an example of converting list to List</p>\n<pre><code>    @AllArgsConstructor\n    @Data\n    public class A{\n        private String name;\n        private String value;\n        private List&lt;B&gt; bList;\n    }\n    @AllArgsConstructor\n    @Data\n    public class B{\n        private Integer type;\n        private Integer count;\n    }\n    @AllArgsConstructor\n    @Data\n    public class C{\n        private String name;\n        private String value;\n        private Integer type;\n        private Integer count;\n    }\n\n    \n    public static void main(String[] args) {\n        A a = new A(&quot;test1&quot;, &quot;test1&quot;, Arrays.asList(new B(1,1), new B(2,2)));\n        A a1 = new A(&quot;test2&quot;, &quot;test2&quot;, Arrays.asList(new B(2,2), new B(3,3)));\n        List&lt;A&gt; aList = Arrays.asList(a, a1);\n\n        List&lt;C&gt; rList = aList.stream()\n                .map(t-&gt;{\n                    List&lt;B&gt; bList = t.getBList();\n                    List&lt;C&gt; c1List = new ArrayList&lt;&gt;();\n                    for(B b : bList){\n                        C c = new C(t.getName(), t.getValue(), b.getType(), b.getCount());\n                        c1List.add(c);\n                    }\n                    return c1List;\n\n        }).flatMap(x-&gt;x.stream()).collect(Collectors.toList());\n    }\n</code></pre>\n<p>In the main method, in addition to using the for loop to traverse bList, as shown below</p>\n<pre><code> List&lt;B&gt; bList = t.getBList();\n List&lt;C&gt; c1List = new ArrayList&lt;&gt;();\n for(B b : bList){\n     c = new C(t.getName(), t.getValue(), b.getType(), b.getCount());\n     c1List.add(c);\n }\n return c1List;\n</code></pre>\n<p>I need to loop bList, then convert bList to c1List.but I feel like this code is a bit ugly, is there a more elegant way to implement this code</p>\n"},{"tags":["java","android","xml","android-dialogfragment","android-bottomsheetdialog"],"answers":[{"comments":[{"owner":{"account_id":20086284,"reputation":23,"user_id":14727758,"display_name":"Mohamed A. Yousef"},"score":1,"creation_date":1666220329,"post_id":74119918,"comment_id":130887336,"body_markdown":"Once we can&#39;t initialize any fragment or  BottomSheetDialogFragment inside our manifest..the best way is to go to styles.xml (DialogStyle) and and make `&lt;item name=&quot;android:windowsSoftInputMode&quot;&gt;adjustResize|stateAlwaysVisible&lt;/item&gt;` ... this works prefectly","body":"Once we can&#39;t initialize any fragment or  BottomSheetDialogFragment inside our manifest..the best way is to go to styles.xml (DialogStyle) and and make <code>&lt;item name=&quot;android:windowsSoftInputMode&quot;&gt;adjustResize|stateAlways&zwnj;&#8203;Visible&lt;&#47;item&gt;</code> ... this works prefectly"}],"tags":[],"owner":{"account_id":22375525,"reputation":51,"user_id":16589861,"display_name":"Hardik kotadiya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666154898,"creation_date":1666154120,"answer_id":74119918,"question_id":74119483,"body_markdown":"You can try this to initialize your activity in manifest.\r\n\r\n       &lt;activity\r\n            android:name=&quot;.Activities&quot;\r\n            android:configChanges=&quot;orientation|screenSize|layoutDirection&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:screenOrientation=&quot;portrait&quot;android:windowSoftInputMode=&quot;adjustPan|adjustResize|stateAlwaysVisible&quot;/&gt;\r\n\r\nThe most convenient way that I found to change this is by creating style:\r\n\r\n\r\n    &lt;style name=&quot;DialogStyle&quot; parent=&quot;Theme.Design.Light.BottomSheetDialog&quot;&gt;\r\n    &lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;\r\n    &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n    &lt;item name=&quot;android:windowSoftInputMode&quot;&gt;adjustResize&lt;/item&gt;\r\n&lt;/style&gt;\r\n\r\nAnd set this in onCreate method of your BottomSheetDialogFragment:\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n    super.onCreate(savedInstanceState)\r\n    setStyle(DialogFragment.STYLE_NORMAL, R.style.DialogStyle)}\r\n\r\nHope this will help you.\r\n","title":"Show entire Bottom sheet with toolbar when keyboard is visible","body":"<p>You can try this to initialize your activity in manifest.</p>\n<pre><code>   &lt;activity\n        android:name=&quot;.Activities&quot;\n        android:configChanges=&quot;orientation|screenSize|layoutDirection&quot;\n        android:exported=&quot;true&quot;\n        android:screenOrientation=&quot;portrait&quot;android:windowSoftInputMode=&quot;adjustPan|adjustResize|stateAlwaysVisible&quot;/&gt;\n</code></pre>\n<p>The most convenient way that I found to change this is by creating style:</p>\n<pre><code>&lt;style name=&quot;DialogStyle&quot; parent=&quot;Theme.Design.Light.BottomSheetDialog&quot;&gt;\n&lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;\n&lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\n&lt;item name=&quot;android:windowSoftInputMode&quot;&gt;adjustResize&lt;/item&gt;\n</code></pre>\n\n<p>And set this in onCreate method of your BottomSheetDialogFragment:</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetStyle(DialogFragment.STYLE_NORMAL, R.style.DialogStyle)}\n</code></pre>\n<p>Hope this will help you.</p>\n"},{"tags":[],"owner":{"account_id":20086284,"reputation":23,"user_id":14727758,"display_name":"Mohamed A. Yousef"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666220991,"creation_date":1666220991,"answer_id":74132833,"question_id":74119483,"body_markdown":"The best way to do that is to make specific style for that inside **styles.xml**\r\n```\r\n&lt;style name=&quot;DialogStyle&quot; parent=&quot;Theme.Design.Light.BottomSheetDialog&quot;&gt;\r\n&lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;\r\n&lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n&lt;item name=&quot;android:windowSoftInputMode&quot;&gt;adjustResize|stateAlwaysVisible&lt;/item&gt;\r\n```\r\n\r\nOnce we can&#39;t initialize any fragment or BottomSheetDialogFragment inside our manifest, the best way is to go to styles.xml (DialogStyle) and and make \r\n\r\n```\r\n&lt;item name=&quot;android:windowsSoftInputMode&quot;&gt;adjustResize|stateAlwaysVisible&lt;/item&gt; \r\n```\r\nAfter that we should override onCreate inside our **FragmentBottomSheetDialog.java**\r\n```\r\noverride void onCreate(@Nullable Bundle savedInstanceState)\r\nsuper.onCreate(savedInstanceState);\r\nsetStyle(DialogFragment.STYLE_NORMAL, R.style.DialogStyle);\r\n\r\n}\r\n```\r\nthis works prefectly\r\n\r\nThanks for @hardik-kotadiya\r\n","title":"Show entire Bottom sheet with toolbar when keyboard is visible","body":"<p>The best way to do that is to make specific style for that inside <strong>styles.xml</strong></p>\n<pre><code>&lt;style name=&quot;DialogStyle&quot; parent=&quot;Theme.Design.Light.BottomSheetDialog&quot;&gt;\n&lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;\n&lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\n&lt;item name=&quot;android:windowSoftInputMode&quot;&gt;adjustResize|stateAlwaysVisible&lt;/item&gt;\n</code></pre>\n<p>Once we can't initialize any fragment or BottomSheetDialogFragment inside our manifest, the best way is to go to styles.xml (DialogStyle) and and make</p>\n<pre><code>&lt;item name=&quot;android:windowsSoftInputMode&quot;&gt;adjustResize|stateAlwaysVisible&lt;/item&gt; \n</code></pre>\n<p>After that we should override onCreate inside our <strong>FragmentBottomSheetDialog.java</strong></p>\n<pre><code>override void onCreate(@Nullable Bundle savedInstanceState)\nsuper.onCreate(savedInstanceState);\nsetStyle(DialogFragment.STYLE_NORMAL, R.style.DialogStyle);\n\n}\n</code></pre>\n<p>this works prefectly</p>\n<p>Thanks for @hardik-kotadiya</p>\n"}],"owner":{"account_id":20086284,"reputation":23,"user_id":14727758,"display_name":"Mohamed A. Yousef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1113,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74132833,"answer_count":2,"score":1,"last_activity_date":1666220991,"creation_date":1666149480,"question_id":74119483,"body_markdown":"in my application i have &#39;bottom sheet dialog fragment&#39; when i open it, it work fine, like below image: \r\n\r\n\r\n[![Here is the image][1]][1]\r\n\r\n\r\n\r\n but when keyboard is visible the upper toolbar disappear, like below image show. \r\n\r\n\r\n[![Second image][2]][2]\r\n\r\n\r\n\r\nMy Question is how to make toolbar always visible even when keybord is visible....\r\n\r\nHere is my &#39;&quot;sheet bottom xml&quot;&#39;\r\n\r\n\r\n    &lt;RelativeLayout \r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/lyt_parent&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;10dp&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n      &lt;com.google.android.material.appbar.AppBarLayout\r\n          android:id=&quot;@+id/app_bar_layout&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;?attr/actionBarSize&quot;\r\n          android:layout_alignParentTop=&quot;true&quot;\r\n          android:background=&quot;@color/grey_5&quot;\r\n          android:fitsSystemWindows=&quot;true&quot;\r\n          android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\r\n          app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;&gt;\r\n    \r\n          &lt;LinearLayout\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;match_parent&quot;\r\n              android:gravity=&quot;center_horizontal&quot;\r\n              android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n              &lt;ImageButton\r\n                  android:id=&quot;@+id/bt_close&quot;\r\n                  android:layout_width=&quot;?attr/actionBarSize&quot;\r\n                  android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                  android:layout_weight=&quot;1&quot;\r\n                  app:srcCompat=&quot;@drawable/ic_close&quot;\r\n                  app:tint=&quot;@color/grey_80&quot; /&gt;\r\n    \r\n    \r\n              &lt;ImageButton\r\n                  android:id=&quot;@+id/save&quot;\r\n                  android:layout_width=&quot;?attr/actionBarSize&quot;\r\n                  android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                  android:layout_weight=&quot;1&quot;\r\n                  app:srcCompat=&quot;@drawable/ic_bookmark_border&quot;\r\n                  app:tint=&quot;@color/grey_80&quot; /&gt;\r\n    \r\n    \r\n              &lt;ImageButton\r\n                  android:layout_width=&quot;?attr/actionBarSize&quot;\r\n                  android:layout_height=&quot;?attr/actionBarSize&quot;\r\n                  android:layout_weight=&quot;1&quot;\r\n                  app:srcCompat=&quot;@drawable/ic_repeat&quot;\r\n                  app:tint=&quot;@color/grey_80&quot; /&gt;\r\n    \r\n              &lt;ImageButton\r\n                  android:layout_width=&quot;?attr/actionBarSize&quot;\r\n                  android:layout_height=&quot;?attr/actionBarSize&quot;                \r\n                  app:srcCompat=&quot;@drawable/ic_more_vert&quot;\r\n                  app:tint=&quot;@color/grey_80&quot; /&gt;\r\n    \r\n          &lt;/LinearLayout&gt;\r\n    \r\n      &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n    \r\n      &lt;androidx.core.widget.NestedScrollView\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_above=&quot;@+id/app_bar_layout2&quot;\r\n          android:layout_below=&quot;@+id/app_bar_layout&quot;\r\n          android:clipToPadding=&quot;false&quot;\r\n          android:fillViewport=&quot;true&quot;\r\n          android:scrollbars=&quot;none&quot;\r\n          android:scrollingCache=&quot;true&quot;\r\n          app:layout_behavior=\r\n          &quot;@string/appbar_scrolling_view_behavior&quot;&gt;\r\n    \r\n          &lt;LinearLayout\r\n              android:layout_width=&quot;match_parent&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:background=&quot;@android:color/white&quot;\r\n              android:orientation=&quot;vertical&quot;\r\n              android:padding=&quot;@dimen/spacing_large&quot;&gt;\r\n    \r\n              &lt;androidx.recyclerview.widget.RecyclerView\r\n                  android:id=&quot;@+id/bottom_sheet_recycler_comment&quot;\r\n                  android:layout_width=&quot;match_parent&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;\r\n                  tools:itemCount=&quot;10&quot; /&gt;\r\n    \r\n              &lt;LinearLayout\r\n                  android:id=&quot;@+id/lyt_spacer&quot;\r\n                  android:layout_width=&quot;match_parent&quot;\r\n                  android:layout_height=&quot;wrap_content&quot;\r\n                  android:orientation=&quot;vertical&quot;\r\n                  android:visibility=&quot;gone&quot;&gt;\r\n    \r\n                  &lt;TextView\r\n                      android:layout_width=&quot;match_parent&quot;\r\n                      android:layout_height=&quot;wrap_content&quot;\r\n                      android:gravity=&quot;center_horizontal&quot;\r\n                      android:text=&quot;No comments yet&quot;\r\n                      android:textSize=&quot;22dp&quot;\r\n                      android:textStyle=&quot;bold&quot; /&gt;\r\n    \r\n              &lt;/LinearLayout&gt;\r\n    \r\n          &lt;/LinearLayout&gt;\r\n    \r\n      &lt;/androidx.core.widget.NestedScrollView&gt;\r\n    \r\n      &lt;LinearLayout\r\n          android:id=&quot;@+id/app_bar_layout2&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n          android:layout_height=&quot;wrap_content&quot;\r\n          android:layout_alignParentBottom=&quot;true&quot;\r\n          android:layout_centerHorizontal=&quot;true&quot;\r\n          android:clipToPadding=&quot;false&quot;\r\n          android:paddingBottom=&quot;10dp&quot;\r\n          android:scrollbars=&quot;none&quot;\r\n          android:scrollingCache=&quot;true&quot;\r\n          app:layout_anchorGravity=&quot;bottom|center&quot;&gt;\r\n    \r\n    \r\n          &lt;EditText\r\n              android:id=&quot;@+id/post_view_enter_comment_edit_Text&quot;\r\n              android:layout_width=&quot;0dp&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:layout_gravity=&quot;center&quot;\r\n              android:layout_margin=&quot;4dp&quot;\r\n              android:layout_marginEnd=&quot;5dp&quot;\r\n              android:layout_weight=&quot;1&quot;\r\n              android:background=&quot;@drawable/edit_text_round_bg&quot;\r\n              android:hint=&quot;Write comment...&quot;\r\n              android:lineSpacingExtra=&quot;2dp&quot;\r\n              android:maxLength=&quot;400&quot;\r\n              android:maxLines=&quot;5&quot;\r\n              android:textColor=&quot;@color/black&quot;\r\n              android:textSize=&quot;17sp&quot;/&gt;\r\n    \r\n          &lt;ImageView\r\n              android:id=&quot;@+id/post_view_send_comment&quot;\r\n              android:layout_width=&quot;40dp&quot;\r\n              android:layout_height=&quot;wrap_content&quot;\r\n              android:layout_gravity=&quot;bottom&quot;\r\n              android:layout_marginVertical=&quot;5dp&quot;\r\n              android:layout_marginEnd=&quot;10dp&quot;\r\n              android:background=&quot;@drawable/shape_circle&quot;\r\n              android:backgroundTint=&quot;@color/blue_grey_300&quot;\r\n              android:clickable=&quot;true&quot;\r\n              android:padding=&quot;4dp&quot;\r\n              android:paddingStart=&quot;6dp&quot;\r\n              android:src=&quot;@android:drawable/ic_menu_send&quot; /&gt;\r\n    \r\n    \r\n      &lt;/LinearLayout&gt;\r\n    \r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n\r\nAnd also here my &quot;BottomFragment.java&quot;.\r\n\r\n\r\n\r\n     public class FragmentBottomSheetDialogFull extends \r\n       BottomSheetDialogFragment {\r\n    \r\n        private BottomSheetBehavior mBehavior;\r\n        private AppBarLayout app_bar_layout;\r\n        private RelativeLayout parent_lyt;\r\n    \r\n        private RecyclerView recyclerView;\r\n        TopicRecyclerAdapter adapter;\r\n        ArrayList&lt;String&gt; topicsArrayList, selectedArray;\r\n    \r\n        ConstraintLayout sheet_constraint_layout;\r\n    \r\n        private String Post_id;\r\n        private String content;\r\n        private String topic;\r\n    \r\n        public void setData(String post_id, String post_content, \r\n        String topic) {\r\n    \r\n            this.Post_id = post_id;\r\n            this.content = post_content;\r\n            this.topic = topic;\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Dialog onCreateDialog(Bundle savedInstanceState) {\r\n    \r\n            final BottomSheetDialog dialog = (BottomSheetDialog) \r\n            super.onCreateDialog(savedInstanceState);\r\n            final View view = View.inflate(getContext(), \r\n            R.layout.fragment_bottom_sheet_dialog_full, null);\r\n            setStyle(DialogFragment.STYLE_NORMAL, \r\n            R.style.DialogStyle);\r\n    \r\n            dialog.setContentView(view);\r\n            mBehavior = BottomSheetBehavior.from((View) \r\n            view.getParent());\r\n            \r\n     mBehavior.setPeekHeight(BottomSheetBehavior.PEEK_HEIGHT_AUTO);\r\n    \r\n            app_bar_layout = (AppBarLayout) \r\n            view.findViewById(R.id.app_bar_layout);\r\n            parent_lyt = (RelativeLayout) \r\n            view.findViewById(R.id.lyt_parent);\r\n    \r\n            mBehavior.setMaxHeight((Tools.getScreenHeight() / 2) + \r\n            100);\r\n    \r\n            recyclerView = \r\n            view.findViewById(R.id.bottom_sheet_recycler_comment);\r\n    \r\n            topicsArrayList = new ArrayList&lt;&gt;();\r\n            selectedArray = new ArrayList&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; 50; i++) {\r\n    \r\n                topicsArrayList.add(&quot;my &quot; + i);\r\n            }\r\n    \r\n            adapter = new TopicRecyclerAdapter(topicsArrayList, \r\n            selectedArray);\r\n    \r\n            recyclerView.setLayoutManager(new \r\n            LinearLayoutManager(getContext()));\r\n            recyclerView.setAdapter(adapter);\r\n            adapter.notifyDataSetChanged();\r\n    \r\n    \r\n        \r\n            mBehavior.setBottomSheetCallback(new \r\n            BottomSheetBehavior.BottomSheetCallback() {\r\n                @Override\r\n                public void onStateChanged(@NonNull View \r\n            bottomSheet, int newState) {\r\n    \r\n                  \r\n                  \r\n    \r\n                    if (BottomSheetBehavior.STATE_HIDDEN == \r\n         newState) {\r\n                        dismiss();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onSlide(@NonNull View bottomSheet, \r\n         float slideOffset) {\r\n    \r\n                }\r\n            });\r\n    \r\n            ((ImageButton) \r\n         view.findViewById(R.id.bt_close)).setOnClickListener(new \r\n         View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    dismiss();\r\n                }\r\n            });\r\n    \r\n            return dialog;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onStart() {\r\n            super.onStart();\r\n            mBehavior.setState(BottomSheetBehavior.STATE_EXPANDED);\r\n        }\r\n    \r\n    \r\n        private void hideView(View view) {\r\n            ViewGroup.LayoutParams params = view.getLayoutParams();\r\n            params.height = 0;\r\n            view.setLayoutParams(params);\r\n            //  dismiss();\r\n            // dismissAllowingStateLoss();\r\n        }\r\n    \r\n        private void showView(View view, int size) {\r\n            ViewGroup.LayoutParams params = view.getLayoutParams();\r\n            params.height = size;\r\n    \r\n            view.setLayoutParams(params);\r\n        }\r\n    \r\n        private int getActionBarSize() {\r\n            final TypedArray styledAttributes = \r\n        getContext().getTheme().obtainStyledAttributes(new int[] \r\n       {android.R.attr.actionBarSize});\r\n            int size = (int) styledAttributes.getDimension(0, 0);\r\n            return size;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nWhat exactly i seek to achieve is shown in this image, the toolbar is stable despite keyboard is visible or not.\r\n\r\n\r\n\r\n[![third image][3]][3]\r\n\r\n\r\n\r\nThanks for any help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F6eAa.png\r\n  [2]: https://i.stack.imgur.com/DtVKw.png\r\n  [3]: https://i.stack.imgur.com/zlaFR.jpg","title":"Show entire Bottom sheet with toolbar when keyboard is visible","body":"<p>in my application i have 'bottom sheet dialog fragment' when i open it, it work fine, like below image:</p>\n<p><a href=\"https://i.stack.imgur.com/F6eAa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F6eAa.png\" alt=\"Here is the image\" /></a></p>\n<p>but when keyboard is visible the upper toolbar disappear, like below image show.</p>\n<p><a href=\"https://i.stack.imgur.com/DtVKw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DtVKw.png\" alt=\"Second image\" /></a></p>\n<p>My Question is how to make toolbar always visible even when keybord is visible....</p>\n<p>Here is my '&quot;sheet bottom xml&quot;'</p>\n<pre><code>&lt;RelativeLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/lyt_parent&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;10dp&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n  &lt;com.google.android.material.appbar.AppBarLayout\n      android:id=&quot;@+id/app_bar_layout&quot;\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;?attr/actionBarSize&quot;\n      android:layout_alignParentTop=&quot;true&quot;\n      android:background=&quot;@color/grey_5&quot;\n      android:fitsSystemWindows=&quot;true&quot;\n      android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;\n      app:layout_scrollFlags=&quot;scroll|exitUntilCollapsed&quot;&gt;\n\n      &lt;LinearLayout\n          android:layout_width=&quot;match_parent&quot;\n          android:layout_height=&quot;match_parent&quot;\n          android:gravity=&quot;center_horizontal&quot;\n          android:orientation=&quot;horizontal&quot;&gt;\n\n          &lt;ImageButton\n              android:id=&quot;@+id/bt_close&quot;\n              android:layout_width=&quot;?attr/actionBarSize&quot;\n              android:layout_height=&quot;?attr/actionBarSize&quot;\n              android:layout_weight=&quot;1&quot;\n              app:srcCompat=&quot;@drawable/ic_close&quot;\n              app:tint=&quot;@color/grey_80&quot; /&gt;\n\n\n          &lt;ImageButton\n              android:id=&quot;@+id/save&quot;\n              android:layout_width=&quot;?attr/actionBarSize&quot;\n              android:layout_height=&quot;?attr/actionBarSize&quot;\n              android:layout_weight=&quot;1&quot;\n              app:srcCompat=&quot;@drawable/ic_bookmark_border&quot;\n              app:tint=&quot;@color/grey_80&quot; /&gt;\n\n\n          &lt;ImageButton\n              android:layout_width=&quot;?attr/actionBarSize&quot;\n              android:layout_height=&quot;?attr/actionBarSize&quot;\n              android:layout_weight=&quot;1&quot;\n              app:srcCompat=&quot;@drawable/ic_repeat&quot;\n              app:tint=&quot;@color/grey_80&quot; /&gt;\n\n          &lt;ImageButton\n              android:layout_width=&quot;?attr/actionBarSize&quot;\n              android:layout_height=&quot;?attr/actionBarSize&quot;                \n              app:srcCompat=&quot;@drawable/ic_more_vert&quot;\n              app:tint=&quot;@color/grey_80&quot; /&gt;\n\n      &lt;/LinearLayout&gt;\n\n  &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n  &lt;androidx.core.widget.NestedScrollView\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      android:layout_above=&quot;@+id/app_bar_layout2&quot;\n      android:layout_below=&quot;@+id/app_bar_layout&quot;\n      android:clipToPadding=&quot;false&quot;\n      android:fillViewport=&quot;true&quot;\n      android:scrollbars=&quot;none&quot;\n      android:scrollingCache=&quot;true&quot;\n      app:layout_behavior=\n      &quot;@string/appbar_scrolling_view_behavior&quot;&gt;\n\n      &lt;LinearLayout\n          android:layout_width=&quot;match_parent&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:background=&quot;@android:color/white&quot;\n          android:orientation=&quot;vertical&quot;\n          android:padding=&quot;@dimen/spacing_large&quot;&gt;\n\n          &lt;androidx.recyclerview.widget.RecyclerView\n              android:id=&quot;@+id/bottom_sheet_recycler_comment&quot;\n              android:layout_width=&quot;match_parent&quot;\n              android:layout_height=&quot;wrap_content&quot;\n              tools:itemCount=&quot;10&quot; /&gt;\n\n          &lt;LinearLayout\n              android:id=&quot;@+id/lyt_spacer&quot;\n              android:layout_width=&quot;match_parent&quot;\n              android:layout_height=&quot;wrap_content&quot;\n              android:orientation=&quot;vertical&quot;\n              android:visibility=&quot;gone&quot;&gt;\n\n              &lt;TextView\n                  android:layout_width=&quot;match_parent&quot;\n                  android:layout_height=&quot;wrap_content&quot;\n                  android:gravity=&quot;center_horizontal&quot;\n                  android:text=&quot;No comments yet&quot;\n                  android:textSize=&quot;22dp&quot;\n                  android:textStyle=&quot;bold&quot; /&gt;\n\n          &lt;/LinearLayout&gt;\n\n      &lt;/LinearLayout&gt;\n\n  &lt;/androidx.core.widget.NestedScrollView&gt;\n\n  &lt;LinearLayout\n      android:id=&quot;@+id/app_bar_layout2&quot;\n      android:layout_width=&quot;match_parent&quot;\n      android:layout_height=&quot;wrap_content&quot;\n      android:layout_alignParentBottom=&quot;true&quot;\n      android:layout_centerHorizontal=&quot;true&quot;\n      android:clipToPadding=&quot;false&quot;\n      android:paddingBottom=&quot;10dp&quot;\n      android:scrollbars=&quot;none&quot;\n      android:scrollingCache=&quot;true&quot;\n      app:layout_anchorGravity=&quot;bottom|center&quot;&gt;\n\n\n      &lt;EditText\n          android:id=&quot;@+id/post_view_enter_comment_edit_Text&quot;\n          android:layout_width=&quot;0dp&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:layout_gravity=&quot;center&quot;\n          android:layout_margin=&quot;4dp&quot;\n          android:layout_marginEnd=&quot;5dp&quot;\n          android:layout_weight=&quot;1&quot;\n          android:background=&quot;@drawable/edit_text_round_bg&quot;\n          android:hint=&quot;Write comment...&quot;\n          android:lineSpacingExtra=&quot;2dp&quot;\n          android:maxLength=&quot;400&quot;\n          android:maxLines=&quot;5&quot;\n          android:textColor=&quot;@color/black&quot;\n          android:textSize=&quot;17sp&quot;/&gt;\n\n      &lt;ImageView\n          android:id=&quot;@+id/post_view_send_comment&quot;\n          android:layout_width=&quot;40dp&quot;\n          android:layout_height=&quot;wrap_content&quot;\n          android:layout_gravity=&quot;bottom&quot;\n          android:layout_marginVertical=&quot;5dp&quot;\n          android:layout_marginEnd=&quot;10dp&quot;\n          android:background=&quot;@drawable/shape_circle&quot;\n          android:backgroundTint=&quot;@color/blue_grey_300&quot;\n          android:clickable=&quot;true&quot;\n          android:padding=&quot;4dp&quot;\n          android:paddingStart=&quot;6dp&quot;\n          android:src=&quot;@android:drawable/ic_menu_send&quot; /&gt;\n\n\n  &lt;/LinearLayout&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>And also here my &quot;BottomFragment.java&quot;.</p>\n<pre><code> public class FragmentBottomSheetDialogFull extends \n   BottomSheetDialogFragment {\n\n    private BottomSheetBehavior mBehavior;\n    private AppBarLayout app_bar_layout;\n    private RelativeLayout parent_lyt;\n\n    private RecyclerView recyclerView;\n    TopicRecyclerAdapter adapter;\n    ArrayList&lt;String&gt; topicsArrayList, selectedArray;\n\n    ConstraintLayout sheet_constraint_layout;\n\n    private String Post_id;\n    private String content;\n    private String topic;\n\n    public void setData(String post_id, String post_content, \n    String topic) {\n\n        this.Post_id = post_id;\n        this.content = post_content;\n        this.topic = topic;\n\n    }\n\n    @NonNull\n    @Override\n    public Dialog onCreateDialog(Bundle savedInstanceState) {\n\n        final BottomSheetDialog dialog = (BottomSheetDialog) \n        super.onCreateDialog(savedInstanceState);\n        final View view = View.inflate(getContext(), \n        R.layout.fragment_bottom_sheet_dialog_full, null);\n        setStyle(DialogFragment.STYLE_NORMAL, \n        R.style.DialogStyle);\n\n        dialog.setContentView(view);\n        mBehavior = BottomSheetBehavior.from((View) \n        view.getParent());\n        \n mBehavior.setPeekHeight(BottomSheetBehavior.PEEK_HEIGHT_AUTO);\n\n        app_bar_layout = (AppBarLayout) \n        view.findViewById(R.id.app_bar_layout);\n        parent_lyt = (RelativeLayout) \n        view.findViewById(R.id.lyt_parent);\n\n        mBehavior.setMaxHeight((Tools.getScreenHeight() / 2) + \n        100);\n\n        recyclerView = \n        view.findViewById(R.id.bottom_sheet_recycler_comment);\n\n        topicsArrayList = new ArrayList&lt;&gt;();\n        selectedArray = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; 50; i++) {\n\n            topicsArrayList.add(&quot;my &quot; + i);\n        }\n\n        adapter = new TopicRecyclerAdapter(topicsArrayList, \n        selectedArray);\n\n        recyclerView.setLayoutManager(new \n        LinearLayoutManager(getContext()));\n        recyclerView.setAdapter(adapter);\n        adapter.notifyDataSetChanged();\n\n\n    \n        mBehavior.setBottomSheetCallback(new \n        BottomSheetBehavior.BottomSheetCallback() {\n            @Override\n            public void onStateChanged(@NonNull View \n        bottomSheet, int newState) {\n\n              \n              \n\n                if (BottomSheetBehavior.STATE_HIDDEN == \n     newState) {\n                    dismiss();\n                }\n            }\n\n            @Override\n            public void onSlide(@NonNull View bottomSheet, \n     float slideOffset) {\n\n            }\n        });\n\n        ((ImageButton) \n     view.findViewById(R.id.bt_close)).setOnClickListener(new \n     View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                dismiss();\n            }\n        });\n\n        return dialog;\n    }\n\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        mBehavior.setState(BottomSheetBehavior.STATE_EXPANDED);\n    }\n\n\n    private void hideView(View view) {\n        ViewGroup.LayoutParams params = view.getLayoutParams();\n        params.height = 0;\n        view.setLayoutParams(params);\n        //  dismiss();\n        // dismissAllowingStateLoss();\n    }\n\n    private void showView(View view, int size) {\n        ViewGroup.LayoutParams params = view.getLayoutParams();\n        params.height = size;\n\n        view.setLayoutParams(params);\n    }\n\n    private int getActionBarSize() {\n        final TypedArray styledAttributes = \n    getContext().getTheme().obtainStyledAttributes(new int[] \n   {android.R.attr.actionBarSize});\n        int size = (int) styledAttributes.getDimension(0, 0);\n        return size;\n    }\n\n\n}\n</code></pre>\n<p>What exactly i seek to achieve is shown in this image, the toolbar is stable despite keyboard is visible or not.</p>\n<p><a href=\"https://i.stack.imgur.com/zlaFR.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zlaFR.jpg\" alt=\"third image\" /></a></p>\n<p>Thanks for any help</p>\n"},{"tags":["java","spring","hibernate","caching"],"comments":[{"owner":{"account_id":2435406,"reputation":15534,"user_id":2125442,"accept_rate":81,"display_name":"bartektartanus"},"score":0,"creation_date":1421075739,"post_id":27905148,"comment_id":44209437,"body_markdown":"possible duplicate of [How I can disable the second-level cache of some certain entities in Hibernate without changing annotations](http://stackoverflow.com/questions/934133/how-i-can-disable-the-second-level-cache-of-some-certain-entities-in-hibernate-w)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/934133/how-i-can-disable-the-second-level-cache-of-some-certain-entities-in-hibernate-w\">How I can disable the second-level cache of some certain entities in Hibernate without changing annotations</a>"}],"answers":[{"comments":[{"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"score":1,"creation_date":1421076690,"post_id":27905171,"comment_id":44210068,"body_markdown":"i am not using JPA.  so do i need to change `session.get()` to `session.refresh()`?  or if there is a way to check if it is coming from cache .?","body":"i am not using JPA.  so do i need to change <code>session.get()</code> to <code>session.refresh()</code>?  or if there is a way to check if it is coming from cache .?"},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":2,"creation_date":1421077448,"post_id":27905171,"comment_id":44210516,"body_markdown":"No, you should use `session.refresh()` after `session.get()` because it only works with attached entities. To check if an entity is already loaded, [this thread](http://stackoverflow.com/questions/7473828/hibernate-session-contains-class-clazz-serializable-id) has some suggestions, but nothing reliable imho.","body":"No, you should use <code>session.refresh()</code> after <code>session.get()</code> because it only works with attached entities. To check if an entity is already loaded, <a href=\"http://stackoverflow.com/questions/7473828/hibernate-session-contains-class-clazz-serializable-id\">this thread</a> has some suggestions, but nothing reliable imho."},{"owner":{"account_id":2719313,"reputation":15631,"user_id":2345933,"accept_rate":84,"display_name":"Adam Siemion"},"score":3,"creation_date":1455447782,"post_id":27905171,"comment_id":58485937,"body_markdown":"the trick with this approach is that when the entity does not exist in the database, but exists in the cache, calling `refresh()` throws `org.hibernate.UnresolvableObjectException: No row with the given identifier exists`","body":"the trick with this approach is that when the entity does not exist in the database, but exists in the cache, calling <code>refresh()</code> throws <code>org.hibernate.UnresolvableObjectException: No row with the given identifier exists</code>"},{"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"score":0,"creation_date":1455450436,"post_id":27905171,"comment_id":58486652,"body_markdown":"@adamsiemion Yes, that is something one should be aware of.","body":"@adamsiemion Yes, that is something one should be aware of."},{"owner":{"account_id":1161070,"reputation":4494,"user_id":1631510,"accept_rate":86,"display_name":"danidemi"},"score":0,"creation_date":1470392068,"post_id":27905171,"comment_id":64943603,"body_markdown":"I had the same problem described in the question. With JPA it seems that `entityManager.clear()` discard in a single operation the whole cache.","body":"I had the same problem described in the question. With JPA it seems that <code>entityManager.clear()</code> discard in a single operation the whole cache."},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":1,"creation_date":1532377847,"post_id":27905171,"comment_id":89942635,"body_markdown":"This isn&#39;t really satisfactory for retrieving multiple entities--won&#39;t refresh on every single one just create a separate query for each? I&#39;d prefer if the initial query itself just bypassed the cache. I&#39;m doing query.setHint(&quot;javax.persistence.cache.retrieveMode&quot;, CacheRetrieveMode.BYPASS)   ... but this doesn&#39;t seem to work either. Annoying cache!","body":"This isn&#39;t really satisfactory for retrieving multiple entities--won&#39;t refresh on every single one just create a separate query for each? I&#39;d prefer if the initial query itself just bypassed the cache. I&#39;m doing query.setHint(&quot;javax.persistence.cache.retrieveMode&quot;, CacheRetrieveMode.BYPASS)   ... but this doesn&#39;t seem to work either. Annoying cache!"},{"owner":{"account_id":8719765,"reputation":1168,"user_id":6523288,"display_name":"Dragas"},"score":0,"creation_date":1573830666,"post_id":27905171,"comment_id":104026628,"body_markdown":"You&#39;re using Hibernate, which implements JPA, meaning you use JPA.","body":"You&#39;re using Hibernate, which implements JPA, meaning you use JPA."}],"tags":[],"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"comment_count":7,"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1421075773,"creation_date":1421075773,"answer_id":27905171,"question_id":27905148,"body_markdown":"`session.refresh(entity)` or `entityManager.refresh(entity)` (if you use JPA) will give you fresh data from DB.","title":"Force Hibernate to read database and not return cached entity","body":"<p><code>session.refresh(entity)</code> or <code>entityManager.refresh(entity)</code> (if you use JPA) will give you fresh data from DB.</p>\n"},{"tags":[],"owner":{"account_id":1329278,"reputation":2885,"user_id":1273497,"accept_rate":91,"display_name":"wild_nothing"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1542720596,"creation_date":1442249257,"answer_id":32569851,"question_id":27905148,"body_markdown":"Do the read within a new transaction.\r\n\r\nFor example:\r\n\r\n    ...\r\n    MyDTO myDTO = fetchMyDTOById(daoId);\r\n    ...\r\n    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)\r\n    private MyDTO fetchMyDTOById(Long dtoId) {\r\n        return repository.findById(dtoId);\r\n    }","title":"Force Hibernate to read database and not return cached entity","body":"<p>Do the read within a new transaction.</p>\n\n<p>For example:</p>\n\n<pre><code>...\nMyDTO myDTO = fetchMyDTOById(daoId);\n...\n@Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)\nprivate MyDTO fetchMyDTOById(Long dtoId) {\n    return repository.findById(dtoId);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6085211,"reputation":536,"user_id":4749531,"display_name":"Hatem Badawi"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1445931541,"creation_date":1445930623,"answer_id":33362040,"question_id":27905148,"body_markdown":"- Call refresh entity `session.refresh(entity)`\r\n \r\n or \r\n -\r\n- Open new session then call `session2.get(EntityClass.class,id)` it will pull the entity from the database \r\n\r\n            Session session2=sessionFactory.openSession();\t\t\t\t\t\r\n\t\t\tEntityClass entity=(EntityClass) session2.get(EntityClass.class, id);","title":"Force Hibernate to read database and not return cached entity","body":"<ul>\n<li><p>Call refresh entity <code>session.refresh(entity)</code></p>\n\n<h2>or</h2></li>\n<li><p>Open new session then call <code>session2.get(EntityClass.class,id)</code> it will pull the entity from the database </p>\n\n<pre><code>    Session session2=sessionFactory.openSession();                  \n    EntityClass entity=(EntityClass) session2.get(EntityClass.class, id);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3314313,"reputation":919,"user_id":2787016,"display_name":"Subhadeep Ray"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591810093,"creation_date":1591810093,"answer_id":62309570,"question_id":27905148,"body_markdown":"Please call EntityManger.clear() method, and then call repository.find() or repository.findOne() as per your requirement to select the updated data from database.\r\n\r\n    @PersistentContext EntityManager em;\r\n    @Autowired EntityReporisitory rep;\r\n    ....\r\n    ....\r\n    @Transactional\r\n    public void method(){\r\n    ....\r\n    ....\r\n    em.clear();// This line will clear the current value of entity\r\n    Entity e = rep.find(example);// In this line data will be loaded freshly from DB\r\n    ....\r\n    ....\r\n    }\r\n    ","title":"Force Hibernate to read database and not return cached entity","body":"<p>Please call EntityManger.clear() method, and then call repository.find() or repository.findOne() as per your requirement to select the updated data from database.</p>\n\n<pre><code>@PersistentContext EntityManager em;\n@Autowired EntityReporisitory rep;\n....\n....\n@Transactional\npublic void method(){\n....\n....\nem.clear();// This line will clear the current value of entity\nEntity e = rep.find(example);// In this line data will be loaded freshly from DB\n....\n....\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3706253,"reputation":557,"user_id":3084706,"accept_rate":50,"display_name":"BKaun"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666219892,"creation_date":1666219892,"answer_id":74132745,"question_id":27905148,"body_markdown":"You can use a counter to ensure a cache miss. The &#39;counter&#39; can be any unique value generator, such as a literal counter, or a time parameter or even a UUID. Expect a negative condition to be true.\r\n\r\nE.g:\r\n\r\n    @Query(&quot;select p from Post p where p.id = :postId and p.postedOn &lt;&gt; :cacheBustingTimer&quot;)\r\n    Post fetchPostById(@Param(&quot;postId&quot;) Long postId, @Param(&quot;cacheBustingTimer&quot;) LocalDateTime cacheBustingTimer);\r\n\r\nSample call\r\n\r\n    Post post = postRepository.fetchPostById(postIdToFetch, LocalDateTime.now().minusYear(100));","title":"Force Hibernate to read database and not return cached entity","body":"<p>You can use a counter to ensure a cache miss. The 'counter' can be any unique value generator, such as a literal counter, or a time parameter or even a UUID. Expect a negative condition to be true.</p>\n<p>E.g:</p>\n<pre><code>@Query(&quot;select p from Post p where p.id = :postId and p.postedOn &lt;&gt; :cacheBustingTimer&quot;)\nPost fetchPostById(@Param(&quot;postId&quot;) Long postId, @Param(&quot;cacheBustingTimer&quot;) LocalDateTime cacheBustingTimer);\n</code></pre>\n<p>Sample call</p>\n<pre><code>Post post = postRepository.fetchPostById(postIdToFetch, LocalDateTime.now().minusYear(100));\n</code></pre>\n"}],"owner":{"account_id":1432143,"reputation":6832,"user_id":1354334,"accept_rate":94,"display_name":"Saif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52220,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":27905171,"answer_count":5,"score":36,"last_activity_date":1666219892,"creation_date":1421075631,"question_id":27905148,"body_markdown":"I am using Hibernate and Spring for my web application.\r\n\r\nIn database operation, Hibernate is caching entities and returning them in next request without reading the actual database. I know this will reduce the load on database and improve performance. \r\n\r\nBut while this app still under construction, I need to load data from database in every request (testing reason).\r\n\r\n**Is there any way to force database read?**\r\n\r\nI became sure about the caching from this log4j message.\r\n\r\n    Returning cached instance of singleton bean &#39;HelloController&#39;\r\n    DEBUG [http-bio-8080-exec-42] - Last-Modified value for [/myApp/../somePageId.html] is: -1\r\n","title":"Force Hibernate to read database and not return cached entity","body":"<p>I am using Hibernate and Spring for my web application.</p>\n\n<p>In database operation, Hibernate is caching entities and returning them in next request without reading the actual database. I know this will reduce the load on database and improve performance. </p>\n\n<p>But while this app still under construction, I need to load data from database in every request (testing reason).</p>\n\n<p><strong>Is there any way to force database read?</strong></p>\n\n<p>I became sure about the caching from this log4j message.</p>\n\n<pre><code>Returning cached instance of singleton bean 'HelloController'\nDEBUG [http-bio-8080-exec-42] - Last-Modified value for [/myApp/../somePageId.html] is: -1\n</code></pre>\n"},{"tags":["java","android","gradle","build.gradle","onesignal"],"answers":[{"comments":[{"owner":{"account_id":22453734,"reputation":1,"user_id":16656697,"display_name":"Mian Labib"},"score":0,"creation_date":1658491780,"post_id":73079602,"comment_id":129070823,"body_markdown":"Kindly check out my Manifest","body":"Kindly check out my Manifest"},{"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"score":0,"creation_date":1658492013,"post_id":73079602,"comment_id":129070903,"body_markdown":"@MianLabib read this carefully  &quot; If possible, include &#39;android:exported=&quot;true&quot;&#39; for any activity or service that uses an intent filter. &quot;  not for all","body":"@MianLabib read this carefully  &quot; If possible, include &#39;android:exported=&quot;true&quot;&#39; for any activity or service that uses an intent filter. &quot;  not for all"}],"tags":[],"owner":{"account_id":8967184,"reputation":570,"user_id":9305266,"display_name":"Manish Ahire"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658489163,"creation_date":1658489163,"answer_id":73079602,"question_id":73079398,"body_markdown":"If possible, include &#39;**android:exported=&quot;true&quot;**&#39; for any activity or service that uses an intent filter.\r\n\r\n\r\n \r\n        &lt;activity\r\n            android:name=&quot;.myActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n","title":"Installation failed due to: &#39;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI:","body":"<p>If possible, include '<strong>android:exported=&quot;true&quot;</strong>' for any activity or service that uses an intent filter.</p>\n<pre><code>    &lt;activity\n        android:name=&quot;.myActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22453734,"reputation":1,"user_id":16656697,"display_name":"Mian Labib"},"score":0,"creation_date":1658491793,"post_id":73079683,"comment_id":129070830,"body_markdown":"Kindly check out my Manifest","body":"Kindly check out my Manifest"},{"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"score":0,"creation_date":1658493320,"post_id":73079683,"comment_id":129071320,"body_markdown":"add in &lt;activity\n            android:name=&quot;com.google.android.gms.ads.AdActivity&quot;    android:exported=&quot;true&quot;   android:configChanges=&quot;keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize&quot;\n            android:theme=&quot;@android:style/Theme.Translucent&quot; /&gt;","body":"add in &lt;activity             android:name=&quot;com.google.android.gms.ads.AdActivity&quot;    android:exported=&quot;true&quot;   android:configChanges=&quot;keyboard|keyboardHidden|orientation|s&zwnj;&#8203;creenLayout|uiMode|s&zwnj;&#8203;creenSize|smallestSc&zwnj;&#8203;reenSize&quot;             android:theme=&quot;@android:style/Theme.Translucent&quot; /&gt;"}],"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658489556,"creation_date":1658489556,"answer_id":73079683,"question_id":73079398,"body_markdown":"If youre targeting Android 12, you need to set \r\n\r\n&gt; android:exported\r\n\r\non each activity, service, and receiver on your AndroidManifest.xml file.\r\n\r\nFollow the [link][1] for more details. \r\n\r\n\r\n  [1]: https://cafonsomota.medium.com/android-12-dont-forget-to-set-android-exported-on-your-activities-services-and-receivers-3bee33f37beb","title":"Installation failed due to: &#39;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI:","body":"<p>If youre targeting Android 12, you need to set</p>\n<blockquote>\n<p>android:exported</p>\n</blockquote>\n<p>on each activity, service, and receiver on your AndroidManifest.xml file.</p>\n<p>Follow the <a href=\"https://cafonsomota.medium.com/android-12-dont-forget-to-set-android-exported-on-your-activities-services-and-receivers-3bee33f37beb\" rel=\"nofollow noreferrer\">link</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":6444003,"reputation":3981,"user_id":4993045,"display_name":"Umer Waqas - Top rated dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666218927,"creation_date":1666218927,"answer_id":74132651,"question_id":73079398,"body_markdown":"Add  `android:exported=&quot;true&quot;`  in your  `android/app/src/main/AndroidManifest.xml` at\r\n\r\n     &lt;manifest ...  &lt;application...  &lt;activity\r\n                android:name=&quot;.MainActivity&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0aCdl.png","title":"Installation failed due to: &#39;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI:","body":"<p>Add  <code>android:exported=&quot;true&quot;</code>  in your  <code>android/app/src/main/AndroidManifest.xml</code> at</p>\n<pre><code> &lt;manifest ...  &lt;application...  &lt;activity\n            android:name=&quot;.MainActivity&quot;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0aCdl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0aCdl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22453734,"reputation":1,"user_id":16656697,"display_name":"Mian Labib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2232,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1666218927,"creation_date":1658488213,"question_id":73079398,"body_markdown":"&gt; Installation failed due to: &#39;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI: /data/app/vmdl842607806.tmp/base.apk (at Binary XML file line #108): com.onesignal.GcmBroadcastReceiver: Targeting S+ (version 31 and above) requires that an explicit value for android:exported be defined when intent filters are present&#39;\r\n\r\n\r\n","title":"Installation failed due to: &#39;INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI:","body":"<blockquote>\n<p>Installation failed due to: 'INSTALL_PARSE_FAILED_MANIFEST_MALFORMED: Failed parse during installPackageLI: /data/app/vmdl842607806.tmp/base.apk (at Binary XML file line #108): com.onesignal.GcmBroadcastReceiver: Targeting S+ (version 31 and above) requires that an explicit value for android:exported be defined when intent filters are present'</p>\n</blockquote>\n"},{"tags":["java","icalendar","rfc5545","ical4j","rfc2445"],"answers":[{"tags":[],"owner":{"account_id":7670,"reputation":35003,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1666218922,"creation_date":1453918755,"answer_id":35045083,"question_id":35024657,"body_markdown":"[google-rfc-2445][1] focuses primarily on evaluating recurrence rules, while [biweekly][2] and [iCal4j][3] focus on working with iCalendar files as a whole.\r\n\r\nIf your goal is to generate iCalendar files, then you should use biweekly or iCal4j.  If you need to iterate over the dates that are in a recurrence rule, then use google-rfc-2445.  If you just need to **create** a recurrence rule, you don&#39;t need google-rfc-2445.\r\n\r\nbiweekly allows you to iterate over the dates in a recurrence rule (see code below).  It uses google-rfc-2445 to do this.\r\n\r\n    ICalendar ical = ...\r\n    VEvent event = ical.getEvents().get(0);\r\n    RecurrenceRule rrule = event.getRecurrenceRule();\r\n    Iterator&lt;Date&gt; it = rrule.getDateIterator(event.getDateStart().getValue());\r\n\r\n\r\n  [1]: https://code.google.com/archive/p/google-rfc-2445/\r\n  [2]: https://github.com/mangstadt/biweekly\r\n  [3]: https://github.com/ical4j/ical4j\r\n  [4]: http://mangstadt.github.io/biweekly/javadocs/latest/biweekly/property/RecurrenceProperty.html#getDateIterator(java.util.Date)","title":"What the difference between iCal4j/biweekly and google-rfc-2445?","body":"<p><a href=\"https://code.google.com/archive/p/google-rfc-2445/\" rel=\"nofollow noreferrer\">google-rfc-2445</a> focuses primarily on evaluating recurrence rules, while <a href=\"https://github.com/mangstadt/biweekly\" rel=\"nofollow noreferrer\">biweekly</a> and <a href=\"https://github.com/ical4j/ical4j\" rel=\"nofollow noreferrer\">iCal4j</a> focus on working with iCalendar files as a whole.</p>\n<p>If your goal is to generate iCalendar files, then you should use biweekly or iCal4j.  If you need to iterate over the dates that are in a recurrence rule, then use google-rfc-2445.  If you just need to <strong>create</strong> a recurrence rule, you don't need google-rfc-2445.</p>\n<p>biweekly allows you to iterate over the dates in a recurrence rule (see code below).  It uses google-rfc-2445 to do this.</p>\n<pre><code>ICalendar ical = ...\nVEvent event = ical.getEvents().get(0);\nRecurrenceRule rrule = event.getRecurrenceRule();\nIterator&lt;Date&gt; it = rrule.getDateIterator(event.getDateStart().getValue());\n</code></pre>\n"}],"owner":{"account_id":487787,"reputation":5145,"user_id":947111,"accept_rate":71,"display_name":"Anatoly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2514,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":35045083,"answer_count":1,"score":1,"last_activity_date":1666218922,"creation_date":1453844917,"question_id":35024657,"body_markdown":"Right now I&#39;m using [google-rfc-2445][1] library to evaluate recurring events, and generate actual dates, for example to know when will occur event defined by following RRULE: `RRULE:FREQ=MONTHLY;BYDAY=MO,TU,WE,TH,FR;BYSETPOS=-1`\r\n\r\nI&#39;m using [biweekly][2] library to generate *.ics files. Actually it does same as [iCal4j][3] but API much more easy to use.\r\n\r\nI see that both libraries have at some level interchangeable functionality, so my question, can I use single library (iCal4j/biweekly) for both tasks? Generate recurring events and export/import *.ics files?\r\n\r\n\r\n  [1]: https://code.google.com/archive/p/google-rfc-2445/\r\n  [2]: https://github.com/mangstadt/biweekly\r\n  [3]: http://ical4j.sourceforge.net/introduction.html","title":"What the difference between iCal4j/biweekly and google-rfc-2445?","body":"<p>Right now I'm using <a href=\"https://code.google.com/archive/p/google-rfc-2445/\" rel=\"nofollow noreferrer\">google-rfc-2445</a> library to evaluate recurring events, and generate actual dates, for example to know when will occur event defined by following RRULE: <code>RRULE:FREQ=MONTHLY;BYDAY=MO,TU,WE,TH,FR;BYSETPOS=-1</code></p>\n<p>I'm using <a href=\"https://github.com/mangstadt/biweekly\" rel=\"nofollow noreferrer\">biweekly</a> library to generate *.ics files. Actually it does same as <a href=\"http://ical4j.sourceforge.net/introduction.html\" rel=\"nofollow noreferrer\">iCal4j</a> but API much more easy to use.</p>\n<p>I see that both libraries have at some level interchangeable functionality, so my question, can I use single library (iCal4j/biweekly) for both tasks? Generate recurring events and export/import *.ics files?</p>\n"},{"tags":["java","spring","maven","intellij-idea","intellij-plugin"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1666216863,"post_id":74132334,"comment_id":130886558,"body_markdown":"Try a different java version, run with -e switch to get the actual exception.","body":"Try a different java version, run with -e switch to get the actual exception."},{"owner":{"account_id":12678426,"reputation":1029,"user_id":9213148,"display_name":"Pexers"},"score":0,"creation_date":1666217145,"post_id":74132334,"comment_id":130886623,"body_markdown":"Please provide the `pom.xml` file with the spring plugin on it","body":"Please provide the <code>pom.xml</code> file with the spring plugin on it"}],"owner":{"account_id":26665249,"reputation":1,"user_id":20277441,"display_name":"Joaquin Priotti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":504,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666218364,"creation_date":1666216544,"question_id":74132334,"body_markdown":"I have problems with Maven spring-boot:run. \r\nWhen i press run, the process finishes with exit code 1.\r\n\r\n\r\nHere, the execution details:\r\n\r\n```[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  6.185 s\r\n[INFO] Finished at: 2022-10-19T18:27:48-03:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.4:run (default-cli) on project prueba: Application finished with exit code: 1 -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nProcess finished with exit code 1```\r\n---------------\r\n\r\nHere is the pom.xml plugin file:\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;","title":"Error in Compilation of Maven Project: Process finished with exit code 1","body":"<p>I have problems with Maven spring-boot:run.\nWhen i press run, the process finishes with exit code 1.</p>\n<p>Here, the execution details:</p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  6.185 s\n[INFO] Finished at: 2022-10-19T18:27:48-03:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.4:run (default-cli) on project prueba: Application finished with exit code: 1 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\nProcess finished with exit code 1```\n---------------\n\nHere is the pom.xml plugin file:\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":4,"creation_date":1666215985,"post_id":74132166,"comment_id":130886340,"body_markdown":"Have you read the [docs](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html)?","body":"Have you read the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">docs</a>?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1666216455,"post_id":74132166,"comment_id":130886458,"body_markdown":"Definitely read the entire &quot;Stream operations and pipelines&quot; section, which pretty well answers this question.","body":"Definitely read the entire &quot;Stream operations and pipelines&quot; section, which pretty well answers this question."},{"owner":{"account_id":10142453,"reputation":29,"user_id":7491739,"display_name":"Wiz"},"score":0,"creation_date":1666217191,"post_id":74132166,"comment_id":130886641,"body_markdown":"Yes, I read them. I was confused on how the laziness worked which was answered below.","body":"Yes, I read them. I was confused on how the laziness worked which was answered below."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":1,"creation_date":1666217380,"post_id":74132166,"comment_id":130886693,"body_markdown":"How it works is a totally different question. Yours was answered quite early with bullet point 5: &quot;Consumable. The elements of a stream are only visited once during the life of a stream. Like an Iterator, a new stream must be generated to revisit the same elements of the source.&quot;","body":"How it works is a totally different question. Yours was answered quite early with bullet point 5: &quot;Consumable. The elements of a stream are only visited once during the life of a stream. Like an Iterator, a new stream must be generated to revisit the same elements of the source.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":10142453,"reputation":29,"user_id":7491739,"display_name":"Wiz"},"score":0,"creation_date":1666216843,"post_id":74132206,"comment_id":130886553,"body_markdown":"This is a helpful visualization! Though it does seem like it loops the list twice in a sense. Since filtering returns a stream and the map iterates that stream. According to the docs, &quot;...filtering, mapping, and summing can be fused into a single pass on the data&quot;. How does this occur given the filter returns a stream of elements for map to operate on? Or is it such that it filter + maps each element at the same time?","body":"This is a helpful visualization! Though it does seem like it loops the list twice in a sense. Since filtering returns a stream and the map iterates that stream. According to the docs, &quot;...filtering, mapping, and summing can be fused into a single pass on the data&quot;. How does this occur given the filter returns a stream of elements for map to operate on? Or is it such that it filter + maps each element at the same time?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1666217039,"post_id":74132206,"comment_id":130886596,"body_markdown":"filter produces an output element or it doesn&#39;t. This element is passed to map. Map always produces the next output element to be processed by whichever step comes next. But it doesn&#39;t really matter. (pseudo-code) `for(x:xs) { x = map(x); x = map(x); }` is equivalent to `for(x:xs) { x = map(x); } for (x:xs) { x = map(x); }`. What&#39;s expensive are the operations, not iterating.","body":"filter produces an output element or it doesn&#39;t. This element is passed to map. Map always produces the next output element to be processed by whichever step comes next. But it doesn&#39;t really matter. (pseudo-code) <code>for(x:xs) { x = map(x); x = map(x); }</code> is equivalent to <code>for(x:xs) { x = map(x); } for (x:xs) { x = map(x); }</code>. What&#39;s expensive are the operations, not iterating."},{"owner":{"account_id":10142453,"reputation":29,"user_id":7491739,"display_name":"Wiz"},"score":0,"creation_date":1666217161,"post_id":74132206,"comment_id":130886633,"body_markdown":"I see, so essentially it executes each chained intermediate option on each element. Thanks for the helpful answer!","body":"I see, so essentially it executes each chained intermediate option on each element. Thanks for the helpful answer!"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1666217406,"post_id":74132206,"comment_id":130886702,"body_markdown":"&quot;How does this occur given the filter returns a stream of elements for map to operate on?&quot;  A stream isn&#39;t a sequence of elements, it&#39;s a recipe to get a stream of elements.  If you just called `filter` by itself and not a `forEach` or anything afterwards, absolutely nothing would happen.  So the chained `map` produces a stream that maps elements as they&#39;re produced from the `filter` stream.  See e.g. https://stackoverflow.com/a/74060617/869736","body":"&quot;How does this occur given the filter returns a stream of elements for map to operate on?&quot;  A stream isn&#39;t a sequence of elements, it&#39;s a recipe to get a stream of elements.  If you just called <code>filter</code> by itself and not a <code>forEach</code> or anything afterwards, absolutely nothing would happen.  So the chained <code>map</code> produces a stream that maps elements as they&#39;re produced from the <code>filter</code> stream.  See e.g. <a href=\"https://stackoverflow.com/a/74060617/869736\">stackoverflow.com/a/74060617/869736</a>"}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1666217709,"creation_date":1666215678,"answer_id":74132206,"question_id":74132166,"body_markdown":"The latter, each intermediate operation is applied once to every item &quot;flowing&quot; through the stream. It is easy to verify yourself: simply add print statements in each step.\r\n\r\n```\r\nStream.of(1,2,3,4,5)\r\n  .filter(x -&gt; {\r\n    System.out.println(&quot;Filtering &quot; + x);\r\n    return x &lt; 4;\r\n  })\r\n  .map(x -&gt; {\r\n    System.out.println(&quot;Mapping &quot; + x);\r\n    return x * 2;\r\n  })\r\n  .forEach(System.out::println);\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nFiltering 1\r\nMapping 1\r\n2\r\nFiltering 2\r\nMapping 2\r\n4\r\nFiltering 3\r\nMapping 3\r\n6\r\nFiltering 4\r\nFiltering 5\r\n```\r\n\r\n&quot;A stream&quot; doesn&#39;t exist as a whole. A stream can be infinite. As long as nobody consumes the streams, no values are flowing through the stream. No consumers = no filtering, no mapping. The consumer of a stream is its terminal operation.\r\n\r\nOnly when the terminal operation is called, the stream takes the first element from its source and feeds it through its step one by one as necessary. Not all elements must arrive at the terminal operation (they could have been filtered out).\r\n\r\nSome stream operations need to consume the full stream, before they can pass elements downstream, e.g. `sorted`. Sorting is impossible without knowing all the values. But most of the stream operations can operate on single elements and produce 0 or more new elements.","title":"Do Java stream intermediate operations iterate the stream multiple times?","body":"<p>The latter, each intermediate operation is applied once to every item &quot;flowing&quot; through the stream. It is easy to verify yourself: simply add print statements in each step.</p>\n<pre><code>Stream.of(1,2,3,4,5)\n  .filter(x -&gt; {\n    System.out.println(&quot;Filtering &quot; + x);\n    return x &lt; 4;\n  })\n  .map(x -&gt; {\n    System.out.println(&quot;Mapping &quot; + x);\n    return x * 2;\n  })\n  .forEach(System.out::println);\n</code></pre>\n<p>Output:</p>\n<pre><code>Filtering 1\nMapping 1\n2\nFiltering 2\nMapping 2\n4\nFiltering 3\nMapping 3\n6\nFiltering 4\nFiltering 5\n</code></pre>\n<p>&quot;A stream&quot; doesn't exist as a whole. A stream can be infinite. As long as nobody consumes the streams, no values are flowing through the stream. No consumers = no filtering, no mapping. The consumer of a stream is its terminal operation.</p>\n<p>Only when the terminal operation is called, the stream takes the first element from its source and feeds it through its step one by one as necessary. Not all elements must arrive at the terminal operation (they could have been filtered out).</p>\n<p>Some stream operations need to consume the full stream, before they can pass elements downstream, e.g. <code>sorted</code>. Sorting is impossible without knowing all the values. But most of the stream operations can operate on single elements and produce 0 or more new elements.</p>\n"}],"owner":{"account_id":10142453,"reputation":29,"user_id":7491739,"display_name":"Wiz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":74132206,"answer_count":1,"score":-2,"last_activity_date":1666217709,"creation_date":1666215404,"question_id":74132166,"body_markdown":"Do java streams iterate a stream of values multiple times? For example, if we are filtering and then mapping, does the stream iterate once to filter and then iterate again to map? Or does it just filter and map each element as it iterates the stream once?","title":"Do Java stream intermediate operations iterate the stream multiple times?","body":"<p>Do java streams iterate a stream of values multiple times? For example, if we are filtering and then mapping, does the stream iterate once to filter and then iterate again to map? Or does it just filter and map each element as it iterates the stream once?</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1666219631,"post_id":74132446,"comment_id":130887182,"body_markdown":"I am not familiar with VSCode but what is stopping you from using Android Studio?","body":"I am not familiar with VSCode but what is stopping you from using Android Studio?"},{"owner":{"account_id":5872,"reputation":12730,"user_id":9648,"accept_rate":94,"display_name":"JohnnyLambada"},"score":0,"creation_date":1666262739,"post_id":74132446,"comment_id":130897029,"body_markdown":"Welcome to stack overflow! In order to answer your question it world be helpful if you provide as much information as possible. What action did you take that resulted in the output? What happens if you run grade from the command line?","body":"Welcome to stack overflow! In order to answer your question it world be helpful if you provide as much information as possible. What action did you take that resulted in the output? What happens if you run grade from the command line?"},{"owner":{"account_id":23938816,"reputation":11,"user_id":17932223,"display_name":"Benjamin NIDDAM"},"score":0,"creation_date":1666343720,"post_id":74132446,"comment_id":130919558,"body_markdown":"Hey , @JohnnyLambada thanks for your message. I can use vscode and build my project using gradle cli with no problem. But due to this problem, Vscode is limited: it can make imports, reference others errors than syntax. To anwser to Lawrence Gimenez, I juste prefer Vscode because of it is the one i use everyday and i&#39;ve configured it pour &#234;tre plus efficace. Android Studio is a very good IDE but it&#39;s just a personal preference. I&#39;ll use it if I&#39;ve no solution but I prefere to try my best with Vscode before X)","body":"Hey , @JohnnyLambada thanks for your message. I can use vscode and build my project using gradle cli with no problem. But due to this problem, Vscode is limited: it can make imports, reference others errors than syntax. To anwser to Lawrence Gimenez, I juste prefer Vscode because of it is the one i use everyday and i&#39;ve configured it pour &#234;tre plus efficace. Android Studio is a very good IDE but it&#39;s just a personal preference. I&#39;ll use it if I&#39;ve no solution but I prefere to try my best with Vscode before X)"},{"owner":{"account_id":23938816,"reputation":11,"user_id":17932223,"display_name":"Benjamin NIDDAM"},"score":0,"creation_date":1666343740,"post_id":74132446,"comment_id":130919565,"body_markdown":"@LawrenceGimenez","body":"@LawrenceGimenez"}],"owner":{"account_id":23938816,"reputation":11,"user_id":17932223,"display_name":"Benjamin NIDDAM"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666217342,"creation_date":1666217342,"question_id":74132446,"body_markdown":"I&#39;m trying to use vscode to create an android application using gradle 7.3.3 and jdk 18.0.2.1 but I have an issue. It&#39;s my first time doing this and I don&#39;t realy get what is the problem. I got this error :\r\n\r\n    class.java is not on the classpath of project app, only syntax errors are reported\r\n\r\nI probably forgot to do something to configure vscode.\r\nI hope you can help me.\r\n\r\nThank you !\r\n","title":"Using vscode for android developpement","body":"<p>I'm trying to use vscode to create an android application using gradle 7.3.3 and jdk 18.0.2.1 but I have an issue. It's my first time doing this and I don't realy get what is the problem. I got this error :</p>\n<pre><code>class.java is not on the classpath of project app, only syntax errors are reported\n</code></pre>\n<p>I probably forgot to do something to configure vscode.\nI hope you can help me.</p>\n<p>Thank you !</p>\n"},{"tags":["java","spring","integration-testing","embedded-postgres"],"answers":[{"tags":[],"owner":{"account_id":1154528,"reputation":531,"user_id":1135488,"accept_rate":60,"display_name":"Duane Allman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666217170,"creation_date":1666217170,"answer_id":74132420,"question_id":74129665,"body_markdown":"Ok I think I&#39;ve found the issue. The tests leading up to the ones which failed were kicking off asynchronous worker threads which touched the underlying database. When the tests ran slowly the asynchronous jobs were completed by the time it ran the next test, not so in the fast versions. When it came to the threads touching the databases, the test had already completed and closed the datasource connection, hence the error.","title":"Running spring boot integration tests with embedded postgres on Mac OS","body":"<p>Ok I think I've found the issue. The tests leading up to the ones which failed were kicking off asynchronous worker threads which touched the underlying database. When the tests ran slowly the asynchronous jobs were completed by the time it ran the next test, not so in the fast versions. When it came to the threads touching the databases, the test had already completed and closed the datasource connection, hence the error.</p>\n"}],"owner":{"account_id":1154528,"reputation":531,"user_id":1135488,"accept_rate":60,"display_name":"Duane Allman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1080,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1666217170,"creation_date":1666200959,"question_id":74129665,"body_markdown":"I&#39;ve recently moved over to Mac OS (M1 ARM64 processor) for development and managed to get most things working on my current project (spring boot with postgres), however the integration tests are causing issues. \r\nI&#39;m using [embedded-postgres][1] with default docker provider to act as the postgres instance for these tests.\r\n\r\nWith the docker driver the tests are slow, twice as slow they were on windows. Problem is there&#39;s several hundred of these tests and I don&#39;t want my new computer to make things slower. 8 mins up to 16 mins is an unacceptable jump for the amount of times this suite of tests are run.\r\n\r\nI tried using the Zonky provider and noticed a massive speed up (the whole suite goes from 16 mins to 3 mins), however halfway through the tests start failing with the following error: \r\n\r\n\r\n    2022-10-19 18:18:35.820  WARN 15943 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08001\r\n    2022-10-19 18:18:35.820 ERROR 15943 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : The connection attempt failed.\r\n    2022-10-19 18:18:35.821  WARN 15943 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08001\r\n    2022-10-19 18:18:35.821 ERROR 15943 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : The connection attempt failed.\r\n    \r\n    org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n    \r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:448)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:572)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:360)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy196.save(Unknown Source)\r\n    \tat ed.mything.IntegrationTestBase.setupIntegrationTestBase(IntegrationTestBase.java:298)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:111)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:67)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:464)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$16(ClassBasedTestDescriptor.java:449)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$2(TestMethodTestDescriptor.java:159)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$5(TestMethodTestDescriptor.java:187)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:187)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:156)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n    \tSuppressed: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n    \t\tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:448)\r\n    \t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\r\n    \t\tat org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\r\n    \t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:572)\r\n    \t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:360)\r\n    \t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\r\n    \t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \t\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \t\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\r\n    \t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \t\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\r\n    \t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n    \t\tat jdk.proxy2/jdk.proxy2.$Proxy186.deleteAll(Unknown Source)\r\n    \t\tat ed.mything.IntegrationTestBase.tearDown(IntegrationTestBase.java:363)\r\n    \t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \t\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\r\n    \t\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\r\n    \t\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\r\n    \t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:111)\r\n    \t\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:95)\r\n    \t\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n    \t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\r\n    \t\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\r\n    \t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n    \t\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:464)\r\n    \t\tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$17(ClassBasedTestDescriptor.java:454)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$9(TestMethodTestDescriptor.java:228)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:256)\r\n    \t\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:256)\r\n    \t\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:255)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:226)\r\n    \t\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)\r\n    \t\t... 43 more\r\n    \tCaused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n    \t\tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n    \t\tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \t\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \t\tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \t\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:107)\r\n    \t\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\r\n    \t\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:250)\r\n    \t\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:258)\r\n    \t\tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\r\n    \t\tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\r\n    \t\tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184)\r\n    \t\tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)\r\n    \t\t... 84 more\r\n    \tCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\r\n    \t\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)\r\n    \t\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n    \t\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\r\n    \t\tat org.postgresql.Driver.makeConnection(Driver.java:434)\r\n    \t\tat org.postgresql.Driver.connect(Driver.java:291)\r\n    \t\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n    \t\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\r\n    \t\tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:103)\r\n    \t\tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:87)\r\n    \t\tat io.zonky.test.db.provider.support.AbstractEmbeddedDatabase.getConnection(AbstractEmbeddedDatabase.java:24)\r\n    \t\tat io.zonky.test.db.provider.support.BlockingDatabaseWrapper.getConnection(BlockingDatabaseWrapper.java:61)\r\n    \t\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \t\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \t\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\r\n    \t\tat jdk.proxy2/jdk.proxy2.$Proxy131.getConnection(Unknown Source)\r\n    \t\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n    \t\tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n    \t\tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\r\n    \t\t... 91 more\r\n    \tCaused by: java.net.BindException: Can&#39;t assign requested address\r\n    \t\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n    \t\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n    \t\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n    \t\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:576)\r\n    \t\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n    \t\tat java.base/java.net.Socket.connect(Socket.java:666)\r\n    \t\tat org.postgresql.core.PGStream.createSocket(PGStream.java:241)\r\n    \t\tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\r\n    \t\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:109)\r\n    \t\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\r\n    \t\t... 109 more\r\n    Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\r\n    \tat org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:107)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:250)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:258)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)\r\n    \t... 82 more\r\n    Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)\r\n    \tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\r\n    \tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\r\n    \tat org.postgresql.Driver.makeConnection(Driver.java:434)\r\n    \tat org.postgresql.Driver.connect(Driver.java:291)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\r\n    \tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\r\n    \tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:103)\r\n    \tat org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:87)\r\n    \tat io.zonky.test.db.provider.support.AbstractEmbeddedDatabase.getConnection(AbstractEmbeddedDatabase.java:24)\r\n    \tat io.zonky.test.db.provider.support.BlockingDatabaseWrapper.getConnection(BlockingDatabaseWrapper.java:61)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\r\n    \tat jdk.proxy2/jdk.proxy2.$Proxy131.getConnection(Unknown Source)\r\n    \tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n    \tat org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\r\n    \tat org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\r\n    \t... 89 more\r\n    Caused by: java.net.BindException: Can&#39;t assign requested address\r\n    \tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n    \tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n    \tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n    \tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:576)\r\n    \tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n    \tat java.base/java.net.Socket.connect(Socket.java:666)\r\n    \tat org.postgresql.core.PGStream.createSocket(PGStream.java:241)\r\n    \tat org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:109)\r\n    \tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\r\n    \t... 107 more\r\n\r\nIf I rerun the failing tests they pass. I can&#39;t work out why this is happening, my current assumption is that loads of connections are being made to the database and not getting released which is leading to the database kicking me out after a while..?\r\nHas anyone come across this before? \r\n\r\nIt would be lovely not to have to settle for the slower docker provider.\r\n\r\nEDIT: I added the following property:\r\n`zonky.test.database.postgres.server.properties.max_connections=1000` which allowed it to get past a few more tests..but still failed with the same error eventually. It looks like it&#39;s trying to create a new connection to the database every time I run any code that reads/writes to the database..?\r\n\r\n\r\n  [1]: https://github.com/zonkyio/embedded-postgres","title":"Running spring boot integration tests with embedded postgres on Mac OS","body":"<p>I've recently moved over to Mac OS (M1 ARM64 processor) for development and managed to get most things working on my current project (spring boot with postgres), however the integration tests are causing issues.\nI'm using <a href=\"https://github.com/zonkyio/embedded-postgres\" rel=\"nofollow noreferrer\">embedded-postgres</a> with default docker provider to act as the postgres instance for these tests.</p>\n<p>With the docker driver the tests are slow, twice as slow they were on windows. Problem is there's several hundred of these tests and I don't want my new computer to make things slower. 8 mins up to 16 mins is an unacceptable jump for the amount of times this suite of tests are run.</p>\n<p>I tried using the Zonky provider and noticed a massive speed up (the whole suite goes from 16 mins to 3 mins), however halfway through the tests start failing with the following error:</p>\n<pre><code>2022-10-19 18:18:35.820  WARN 15943 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08001\n2022-10-19 18:18:35.820 ERROR 15943 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : The connection attempt failed.\n2022-10-19 18:18:35.821  WARN 15943 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 08001\n2022-10-19 18:18:35.821 ERROR 15943 --- [           main] o.h.engine.jdbc.spi.SqlExceptionHelper   : The connection attempt failed.\n\norg.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:448)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:572)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:360)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at jdk.proxy2/jdk.proxy2.$Proxy196.save(Unknown Source)\n    at ed.mything.IntegrationTestBase.setupIntegrationTestBase(IntegrationTestBase.java:298)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:111)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptBeforeEachMethod(TimeoutExtension.java:67)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n    at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:464)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeBeforeEachMethodAdapter$16(ClassBasedTestDescriptor.java:449)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachMethods$2(TestMethodTestDescriptor.java:159)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$5(TestMethodTestDescriptor.java:187)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:187)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachMethods(TestMethodTestDescriptor.java:156)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:131)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:69)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:135)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:38)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$5(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$7(NodeTestTask.java:125)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:135)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:122)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:80)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:32)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:51)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:229)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$6(DefaultLauncher.java:197)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:191)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:128)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n    Suppressed: org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n        at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:448)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:572)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:360)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:99)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:139)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:178)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:95)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n        at jdk.proxy2/jdk.proxy2.$Proxy186.deleteAll(Unknown Source)\n        at ed.mything.IntegrationTestBase.tearDown(IntegrationTestBase.java:363)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:675)\n        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:125)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:132)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptLifecycleMethod(TimeoutExtension.java:111)\n        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptAfterEachMethod(TimeoutExtension.java:95)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:104)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:62)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:43)\n        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:35)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\n        at org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeMethodInExtensionContext(ClassBasedTestDescriptor.java:464)\n        at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$synthesizeAfterEachMethodAdapter$17(ClassBasedTestDescriptor.java:454)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAfterEachMethods$9(TestMethodTestDescriptor.java:228)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$12(TestMethodTestDescriptor.java:256)\n        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeAllAfterMethodsOrCallbacks$13(TestMethodTestDescriptor.java:256)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAllAfterMethodsOrCallbacks(TestMethodTestDescriptor.java:255)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeAfterEachMethods(TestMethodTestDescriptor.java:226)\n        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:139)\n        ... 43 more\n    Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n        at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:107)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:250)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:258)\n        at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\n        at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\n        at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184)\n        at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)\n        ... 84 more\n    Caused by: org.postgresql.util.PSQLException: The connection attempt failed.\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)\n        at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n        at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\n        at org.postgresql.Driver.makeConnection(Driver.java:434)\n        at org.postgresql.Driver.connect(Driver.java:291)\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\n        at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\n        at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:103)\n        at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:87)\n        at io.zonky.test.db.provider.support.AbstractEmbeddedDatabase.getConnection(AbstractEmbeddedDatabase.java:24)\n        at io.zonky.test.db.provider.support.BlockingDatabaseWrapper.getConnection(BlockingDatabaseWrapper.java:61)\n        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\n        at jdk.proxy2/jdk.proxy2.$Proxy131.getConnection(Unknown Source)\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n        at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\n        at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\n        ... 91 more\n    Caused by: java.net.BindException: Can't assign requested address\n        at java.base/sun.nio.ch.Net.connect0(Native Method)\n        at java.base/sun.nio.ch.Net.connect(Net.java:579)\n        at java.base/sun.nio.ch.Net.connect(Net.java:568)\n        at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:576)\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n        at java.base/java.net.Socket.connect(Socket.java:666)\n        at org.postgresql.core.PGStream.createSocket(PGStream.java:241)\n        at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:109)\n        at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\n        ... 109 more\nCaused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection\n    at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:112)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:107)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:134)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:250)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:258)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:246)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:184)\n    at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:402)\n    ... 82 more\nCaused by: org.postgresql.util.PSQLException: The connection attempt failed.\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:331)\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49)\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:247)\n    at org.postgresql.Driver.makeConnection(Driver.java:434)\n    at org.postgresql.Driver.connect(Driver.java:291)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:683)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\n    at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:103)\n    at org.postgresql.ds.common.BaseDataSource.getConnection(BaseDataSource.java:87)\n    at io.zonky.test.db.provider.support.AbstractEmbeddedDatabase.getConnection(AbstractEmbeddedDatabase.java:24)\n    at io.zonky.test.db.provider.support.BlockingDatabaseWrapper.getConnection(BlockingDatabaseWrapper.java:61)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:205)\n    at jdk.proxy2/jdk.proxy2.$Proxy131.getConnection(Unknown Source)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)\n    at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:104)\n    ... 89 more\nCaused by: java.net.BindException: Can't assign requested address\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:576)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:666)\n    at org.postgresql.core.PGStream.createSocket(PGStream.java:241)\n    at org.postgresql.core.PGStream.&lt;init&gt;(PGStream.java:98)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:109)\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235)\n    ... 107 more\n</code></pre>\n<p>If I rerun the failing tests they pass. I can't work out why this is happening, my current assumption is that loads of connections are being made to the database and not getting released which is leading to the database kicking me out after a while..?\nHas anyone come across this before?</p>\n<p>It would be lovely not to have to settle for the slower docker provider.</p>\n<p>EDIT: I added the following property:\n<code>zonky.test.database.postgres.server.properties.max_connections=1000</code> which allowed it to get past a few more tests..but still failed with the same error eventually. It looks like it's trying to create a new connection to the database every time I run any code that reads/writes to the database..?</p>\n"},{"tags":["java","jsp","post","get"],"answers":[{"comments":[{"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"score":0,"creation_date":1668516560,"post_id":74132309,"comment_id":131419631,"body_markdown":"Problem is, as you can see in my intial onclick event, i have to dispatch the url in two different frameset. Any idea of how to do that?","body":"Problem is, as you can see in my intial onclick event, i have to dispatch the url in two different frameset. Any idea of how to do that?"}],"tags":[],"owner":{"account_id":25629836,"reputation":21,"user_id":19400377,"display_name":"JM."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666216332,"creation_date":1666216332,"answer_id":74132309,"question_id":74056604,"body_markdown":"I see what are you trying to do.\r\n\r\nThe easiest way to do that is using a form. So you can call a js method when you click the \r\n`&lt;tr onclick=&quot;myMethod()&quot;&gt;` \r\nthat you want. \r\n\r\nThe method can fill your form and send the submit. Using this you can be redirected without sending data in you url.\r\n\r\nA basic example could be:\r\n\r\n(Supposing these are elements printed by server-side)\r\n\r\n        &lt;tr onclick=&quot;myMethod(&lt;%=getName()%&gt;, &lt;%=getDate()%&gt;, &lt;%=getNumero()%&gt;)&quot;&gt;\r\n           &lt;td&gt;...&lt;/td&gt;\r\n           &lt;td&gt;...&lt;/td&gt;\r\n           &lt;td&gt;...&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    \r\n       &lt;form id=&quot;myForm&quot; action=&quot;targetFile.jsp&quot; method=&quot;post&quot;&gt;\r\n          //Hidden inputs to prevent users form touching this fields\r\n          &lt;input type=&quot;hidden&quot; name=&quot;name&quot; id=&quot;data1&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;date&quot; id=&quot;data2&quot;&gt;\r\n          &lt;input type=&quot;hidden&quot; name=&quot;numero&quot; id=&quot;data3&quot;&gt;\r\n       &lt;/form&gt;\r\n    &lt;script&gt;\r\n    function myMethod(data1, data2, data3){\r\n       //Im gonna use jQuery. Is like javascript but quite faster to use\r\n        //Filling the form\r\n        $(&quot;#data1&quot;).val(data1);\r\n        $(&quot;#data2&quot;).val(data2);\r\n        $(&quot;#data3&quot;).val(data3);\r\n    \r\n       //Submiting it\r\n        $(&quot;myForm&quot;).submit();\r\n    \r\n    }\r\n    &lt;/script&gt;\r\n\r\n\r\nLet me know if it was helpful.\r\n\r\nc:","title":"Replace GET request by POST without form in JSP","body":"<p>I see what are you trying to do.</p>\n<p>The easiest way to do that is using a form. So you can call a js method when you click the\n<code>&lt;tr onclick=&quot;myMethod()&quot;&gt;</code>\nthat you want.</p>\n<p>The method can fill your form and send the submit. Using this you can be redirected without sending data in you url.</p>\n<p>A basic example could be:</p>\n<p>(Supposing these are elements printed by server-side)</p>\n<pre><code>    &lt;tr onclick=&quot;myMethod(&lt;%=getName()%&gt;, &lt;%=getDate()%&gt;, &lt;%=getNumero()%&gt;)&quot;&gt;\n       &lt;td&gt;...&lt;/td&gt;\n       &lt;td&gt;...&lt;/td&gt;\n       &lt;td&gt;...&lt;/td&gt;\n    &lt;/tr&gt;\n\n   &lt;form id=&quot;myForm&quot; action=&quot;targetFile.jsp&quot; method=&quot;post&quot;&gt;\n      //Hidden inputs to prevent users form touching this fields\n      &lt;input type=&quot;hidden&quot; name=&quot;name&quot; id=&quot;data1&quot;&gt;\n      &lt;input type=&quot;hidden&quot; name=&quot;date&quot; id=&quot;data2&quot;&gt;\n      &lt;input type=&quot;hidden&quot; name=&quot;numero&quot; id=&quot;data3&quot;&gt;\n   &lt;/form&gt;\n&lt;script&gt;\nfunction myMethod(data1, data2, data3){\n   //Im gonna use jQuery. Is like javascript but quite faster to use\n    //Filling the form\n    $(&quot;#data1&quot;).val(data1);\n    $(&quot;#data2&quot;).val(data2);\n    $(&quot;#data3&quot;).val(data3);\n\n   //Submiting it\n    $(&quot;myForm&quot;).submit();\n\n}\n&lt;/script&gt;\n</code></pre>\n<p>Let me know if it was helpful.</p>\n<p>c:</p>\n"}],"owner":{"account_id":13609308,"reputation":11,"user_id":9817376,"display_name":"karDEVproj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":275,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666216332,"creation_date":1665667759,"question_id":74056604,"body_markdown":"So i have this JSP page which having data from table and forming a GET request to render more data on another page , by clicking one of the table line\r\nProblem is i have to transforming it into POST method , to avoid getting information in the http request link\r\n\r\ni know how to use post with form, but here i have to take the date from a table line and not a form\r\nAny idea how to do that. i&#39;m new to JSP so i don&#39;t know how to do it\r\n\r\n    &lt;table border=0 bgcolor=#92ADC2 cellspacing=1 cellpadding=3 width=95% align=center&gt;\r\n    \t&lt;tr class=entete&gt;\r\n    \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;&lt;spring:message code=&quot;nom&quot;/&gt;&lt;/td&gt;\r\n    \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;&lt;spring:message code=&quot;date_naissance&quot;/&gt;&lt;/td&gt;\r\n    \t\t&lt;td class=texte8 align=center&gt;&amp;nbsp;&lt;spring:message code=&quot;numero&quot;/&gt;&lt;/td&gt;\r\n    \r\n    \t&lt;/tr&gt;\r\n    \t&lt;% \t\r\n    \t\t\tString v_Person = &quot;&quot;;\r\n    \t\t\tString v_date = &quot;&quot;;\r\n    \t\t\tString v_numero = &quot;&quot;;\r\n    \t\t\t\r\n    \t\t\tfor (int i = 0; i &lt; PersonListeBean.getPerson(); i++)\r\n    \t\t\t{\r\n    \t\t\t\tGen_rechBean cb = PersonListeBean.getPerson(i);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\t\tv_Person = cb.getname();\r\n    \t\t\t\t\tv_date=cb.getdate();\r\n    \t\t\t\t\tv_numero=cb.getNumero();\r\n    \t\t\t\t\t\r\n    \t\t\t\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t%&gt;\r\n    \t\t\t\t&lt;tr class=&quot;&lt;%=class_cell%&gt;&quot; onMouseOver=&quot;this.className=&#39;over&#39;;&quot; onMouseOut=&quot;this.className=&#39;&lt;%=class_cell%&gt;&#39;;&quot; onclick=&quot;javascript:parent[&#39;gauche&#39;].document.location=&#39;ResultServlet?name=&lt;%=v_Person%&gt;&amp;numero=&lt;%=v_numero%&gt;&amp;date_naissance=&lt;%=v_date%&gt;&quot;&gt;\r\n    \t\t\t\t\t\t\t&lt;td class=texte7 align=left &gt;&amp;nbsp;&lt;%=cb.getname()%&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t&lt;td class=texte7 align=left &gt;&amp;nbsp;&lt;%=cb.getdate()%&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\t\t&lt;td class=texte7 align=left &gt;&amp;nbsp;&lt;%=cb.getNumero()%&gt;&lt;/td&gt;\r\n    \t\t\t\t\t\r\n    \t\t\t\t&lt;/tr&gt;\r\n    \t\t\t\r\n    &lt;/table&gt;\r\n    &lt;br&gt;\r\n    &lt;table width=&quot;95%&quot; align=&quot;center&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\r\n      &lt;tr&gt;\r\n        &lt;td align=&quot;right&quot;&gt;\r\n          \t&lt;a target=&quot;corps&quot; href=&quot;rechResult.jsp&quot; class=&quot;rub2&quot; &lt;/a&gt;\r\n        &lt;/td&gt;\r\n      &lt;/tr&gt; \r\n    &lt;/table&gt;","title":"Replace GET request by POST without form in JSP","body":"<p>So i have this JSP page which having data from table and forming a GET request to render more data on another page , by clicking one of the table line\nProblem is i have to transforming it into POST method , to avoid getting information in the http request link</p>\n<p>i know how to use post with form, but here i have to take the date from a table line and not a form\nAny idea how to do that. i'm new to JSP so i don't know how to do it</p>\n<pre><code>&lt;table border=0 bgcolor=#92ADC2 cellspacing=1 cellpadding=3 width=95% align=center&gt;\n    &lt;tr class=entete&gt;\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;&lt;spring:message code=&quot;nom&quot;/&gt;&lt;/td&gt;\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;&lt;spring:message code=&quot;date_naissance&quot;/&gt;&lt;/td&gt;\n        &lt;td class=texte8 align=center&gt;&amp;nbsp;&lt;spring:message code=&quot;numero&quot;/&gt;&lt;/td&gt;\n\n    &lt;/tr&gt;\n    &lt;%  \n            String v_Person = &quot;&quot;;\n            String v_date = &quot;&quot;;\n            String v_numero = &quot;&quot;;\n            \n            for (int i = 0; i &lt; PersonListeBean.getPerson(); i++)\n            {\n                Gen_rechBean cb = PersonListeBean.getPerson(i);\n            \n            \n                    v_Person = cb.getname();\n                    v_date=cb.getdate();\n                    v_numero=cb.getNumero();\n                    \n            \n                    }\n                \n            %&gt;\n                &lt;tr class=&quot;&lt;%=class_cell%&gt;&quot; onMouseOver=&quot;this.className='over';&quot; onMouseOut=&quot;this.className='&lt;%=class_cell%&gt;';&quot; onclick=&quot;javascript:parent['gauche'].document.location='ResultServlet?name=&lt;%=v_Person%&gt;&amp;numero=&lt;%=v_numero%&gt;&amp;date_naissance=&lt;%=v_date%&gt;&quot;&gt;\n                            &lt;td class=texte7 align=left &gt;&amp;nbsp;&lt;%=cb.getname()%&gt;&lt;/td&gt;\n                            &lt;td class=texte7 align=left &gt;&amp;nbsp;&lt;%=cb.getdate()%&gt;&lt;/td&gt;\n                            &lt;td class=texte7 align=left &gt;&amp;nbsp;&lt;%=cb.getNumero()%&gt;&lt;/td&gt;\n                    \n                &lt;/tr&gt;\n            \n&lt;/table&gt;\n&lt;br&gt;\n&lt;table width=&quot;95%&quot; align=&quot;center&quot; border=&quot;0&quot; cellspacing=&quot;0&quot; cellpadding=&quot;0&quot;&gt;\n  &lt;tr&gt;\n    &lt;td align=&quot;right&quot;&gt;\n        &lt;a target=&quot;corps&quot; href=&quot;rechResult.jsp&quot; class=&quot;rub2&quot; &lt;/a&gt;\n    &lt;/td&gt;\n  &lt;/tr&gt; \n&lt;/table&gt;\n</code></pre>\n"},{"tags":["java","generics","types","comparable"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666213954,"creation_date":1666213954,"answer_id":74131962,"question_id":74131907,"body_markdown":"&gt; If both methods require T[] and I am providing RandomObject[] for both cases\r\n\r\nThe binary search argument requires two things: a `T[]` and a `T`.\r\n\r\nYou are providing a `RandomObject[]` and an `Integer`.  Those aren&#39;t the same T.  Your binary search method would expect a `RandomObject[]` and a `RandomObject`.","title":"method cannot be applied to given types when trying to perform a generic binary search","body":"<blockquote>\n<p>If both methods require T[] and I am providing RandomObject[] for both cases</p>\n</blockquote>\n<p>The binary search argument requires two things: a <code>T[]</code> and a <code>T</code>.</p>\n<p>You are providing a <code>RandomObject[]</code> and an <code>Integer</code>.  Those aren't the same T.  Your binary search method would expect a <code>RandomObject[]</code> and a <code>RandomObject</code>.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1666216204,"creation_date":1666215041,"answer_id":74132109,"question_id":74131907,"body_markdown":"&gt; What&#39;s exactly the difference here?\r\n\r\n`search` takes a `T[]` and a `T`, which means that the array element type of the first parameter needs to be the same as the type of the second parameter. You have given it `RandomObject[]` and `Integer`, which is clearly not valid.\r\n\r\nOn the other hand, `sort` only takes a single `T[]`, so you can just give it any reference type array, and there is no further constraints *between* parameters. After all, there is only *one* parameter.\r\n\r\nNote that it is impossible to search for an integer in a `RandomObject[]` with your current implementation. This is because `compareTo` compares instances of `RandomObject`. It does not compare `RandomObject`s against `Integer`s.\r\n\r\nWhat you can do instead, is create a &quot;dummy&quot; `RandomObject` using `x`, and pass that to `search`:\r\n\r\n    int x = 1;\r\n    RandomObject key = new RandomObject(&quot;this does not matter&quot;, x);\r\n    System.out.println(&quot;Trying to find x: &quot; + BinarySearch.search(arr, key));\r\n\r\nYou can also create a non-generic version of `search` that only searches `RandomObject[]`. In this non-generic version, you can change the second parameter to `int`:\r\n\r\n    public static int search(RandomObject[] a, int value) { ... }\r\n\r\nBut in a generic method, it is difficult to know what key the caller wants to search by. It is not impossible though - you can create such an interface:\r\n\r\n```\r\ninterface BinarySearchableByKey&lt;T extends Comparable&lt;? super T&gt;&gt; {\r\n    T getKey();\r\n}\r\n```\r\n\r\nInstead of (or in addition to) implementing `Comparable`, `RandomObject` should implement `BinarySearchableByKey&lt;Integer&gt;`, as it is searchable by an integer key.\r\n\r\n```\r\npublic class RandomObject implements BinarySearchableByKey&lt;Integer&gt; {\r\n    // ...\r\n\r\n    @Override\r\n    public Integer getKey() { return value; }\r\n}\r\n```\r\n\r\nChange `search` to have two type parameters - the array&#39;s type, and the search key type:\r\n\r\n    public static &lt;K extends Comparable&lt;? super K&gt;, T extends BinarySearchableByKey&lt;? extends K&gt;&gt; int search(T[] a, K value) {\r\n        int start = 0, end = a.length - 1;\r\n        do {\r\n            int mid = start + (end - start) / 2;\r\n            if (a[mid].getKey().compareTo(value) == 0) {\r\n                return mid;\r\n            } else if (a[mid].getKey().compareTo(value) &gt; 0) {\r\n                end = mid;\r\n            } else {\r\n                start = mid + 1;\r\n            }\r\n        } while (start &lt; end);\r\n        return -1;\r\n    }\r\n","title":"method cannot be applied to given types when trying to perform a generic binary search","body":"<blockquote>\n<p>What's exactly the difference here?</p>\n</blockquote>\n<p><code>search</code> takes a <code>T[]</code> and a <code>T</code>, which means that the array element type of the first parameter needs to be the same as the type of the second parameter. You have given it <code>RandomObject[]</code> and <code>Integer</code>, which is clearly not valid.</p>\n<p>On the other hand, <code>sort</code> only takes a single <code>T[]</code>, so you can just give it any reference type array, and there is no further constraints <em>between</em> parameters. After all, there is only <em>one</em> parameter.</p>\n<p>Note that it is impossible to search for an integer in a <code>RandomObject[]</code> with your current implementation. This is because <code>compareTo</code> compares instances of <code>RandomObject</code>. It does not compare <code>RandomObject</code>s against <code>Integer</code>s.</p>\n<p>What you can do instead, is create a &quot;dummy&quot; <code>RandomObject</code> using <code>x</code>, and pass that to <code>search</code>:</p>\n<pre><code>int x = 1;\nRandomObject key = new RandomObject(&quot;this does not matter&quot;, x);\nSystem.out.println(&quot;Trying to find x: &quot; + BinarySearch.search(arr, key));\n</code></pre>\n<p>You can also create a non-generic version of <code>search</code> that only searches <code>RandomObject[]</code>. In this non-generic version, you can change the second parameter to <code>int</code>:</p>\n<pre><code>public static int search(RandomObject[] a, int value) { ... }\n</code></pre>\n<p>But in a generic method, it is difficult to know what key the caller wants to search by. It is not impossible though - you can create such an interface:</p>\n<pre><code>interface BinarySearchableByKey&lt;T extends Comparable&lt;? super T&gt;&gt; {\n    T getKey();\n}\n</code></pre>\n<p>Instead of (or in addition to) implementing <code>Comparable</code>, <code>RandomObject</code> should implement <code>BinarySearchableByKey&lt;Integer&gt;</code>, as it is searchable by an integer key.</p>\n<pre><code>public class RandomObject implements BinarySearchableByKey&lt;Integer&gt; {\n    // ...\n\n    @Override\n    public Integer getKey() { return value; }\n}\n</code></pre>\n<p>Change <code>search</code> to have two type parameters - the array's type, and the search key type:</p>\n<pre><code>public static &lt;K extends Comparable&lt;? super K&gt;, T extends BinarySearchableByKey&lt;? extends K&gt;&gt; int search(T[] a, K value) {\n    int start = 0, end = a.length - 1;\n    do {\n        int mid = start + (end - start) / 2;\n        if (a[mid].getKey().compareTo(value) == 0) {\n            return mid;\n        } else if (a[mid].getKey().compareTo(value) &gt; 0) {\n            end = mid;\n        } else {\n            start = mid + 1;\n        }\n    } while (start &lt; end);\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":25784993,"reputation":25,"user_id":19529989,"display_name":"douglasdotv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74132109,"answer_count":2,"score":2,"last_activity_date":1666216204,"creation_date":1666213585,"question_id":74131907,"body_markdown":"    \r\nLet&#39;s say I have a class called `RandomObject`:\r\n\r\n    public class RandomObject implements Comparable&lt;RandomObject&gt; {\r\n    \r\n        private String name;\r\n        private int value;\r\n\r\n        public RandomObject(String name, int value) {\r\n            this.name = name;\r\n            this.value = value;\r\n        }\r\n\r\n              . \r\n              .\r\n              .\r\n\r\n        public int compareTo(RandomObject rn) {\r\n            return Integer.compare(value, rn.value);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\nAnd this array of `RandomObject`s (each one of them holding a random int value that will be used for comparison purposes):\r\n\r\n    RandomObject[] arr = new RandomObject[10];\r\n    for (int i = 0; i &lt; arr.length; ++i) {\r\n            arr[i] = new RandomObject(&quot; &quot;, (int) (Math.random() * 50));\r\n        }\r\n\r\nI also have a class called `Quicksort` containing the following sort methods:\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(T[] a) {\r\n        sort(a, 0, a.length - 1);\r\n    }\r\n\r\n     public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(T[] a, int start, int end) {\r\n        int left = start, right = end;\r\n        T pivot = a[(left + right) / 2];\r\n\r\n        do {\r\n            while (a[left].compareTo(pivot) &lt; 0) {\r\n                left++;\r\n            }\r\n            while (a[right].compareTo(pivot) &gt; 0) {\r\n                right--;\r\n            }\r\n            if (left &lt;= right) {\r\n                T temp = a[left];\r\n                a[left++] = a[right];\r\n                a[right--] = temp;\r\n            }\r\n        } while (left &lt;= right);\r\n\r\n        if (start &lt; right) {\r\n            sort(a, start, right);\r\n        }\r\n        if (left &lt; end) {\r\n            sort(a, left, end);\r\n        }\r\n    }\r\n\r\n\r\nCalling &lt;code&gt;Quicksort.sort(arr)&lt;/code&gt; works normally and sorts &lt;code&gt;arr&lt;/code&gt; by value.\r\n\r\nHowever, I also have a `BinarySearch` class with the following `search` method:\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; int search(T[] a, T value) {\r\n        int start = 0, end = a.length - 1;\r\n        do {\r\n            int mid = start + (end - start) / 2;\r\n            if (a[mid].compareTo(value) == 0) {\r\n                return mid;\r\n            } else if (a[mid].compareTo(value) &gt; 0) {\r\n                end = mid;\r\n            } else {\r\n                start = mid + 1;\r\n            }\r\n        } while (start &lt; end);\r\n        return -1;\r\n    }\r\n\r\nAnd when I try to perform a search like this:\r\n\r\n    Integer x = 2;\r\n    System.out.println(&quot;Trying to find x: &quot; + BinarySearch.search(arr, x));\r\n\r\nSomething goes wrong:\r\n\r\n&gt; &quot;java: method search in class br.com.algorithms.BinarySearch cannot be applied to given types;&lt;br&gt;\r\n  required: T[],T&lt;br&gt;\r\n  found:    br.com.algorithms.RandomObject[],java.lang.Integer&lt;br&gt;\r\n  reason: inference variable T has incompatible bounds&lt;br&gt;\r\n    lower bounds: br.com.algorithms.RandomObject,java.lang.Integer,java.lang.Comparable&lt;? super T&gt;&lt;br&gt;\r\n    lower bounds: java.lang.Integer,br.com.algorithms.RandomObject&quot;&lt;br&gt;\r\n\r\n[no instance(s) of type variable(s) exist so that RandomObject conforms to an Integer][1]\r\n\r\nI&#39;m struggling to understand why the `sort` method works while the `search` one doesn&#39;t in this case. If both methods require `T[]` and I am providing `RandomObject[]` for both cases, why isn&#39;t search compiling? What&#39;s exactly the difference here?\r\n\r\n  [1]: https://i.stack.imgur.com/zlfUr.png","title":"method cannot be applied to given types when trying to perform a generic binary search","body":"<p>Let's say I have a class called <code>RandomObject</code>:</p>\n<pre><code>public class RandomObject implements Comparable&lt;RandomObject&gt; {\n\n    private String name;\n    private int value;\n\n    public RandomObject(String name, int value) {\n        this.name = name;\n        this.value = value;\n    }\n\n          . \n          .\n          .\n\n    public int compareTo(RandomObject rn) {\n        return Integer.compare(value, rn.value);\n    }\n</code></pre>\n<p>And this array of <code>RandomObject</code>s (each one of them holding a random int value that will be used for comparison purposes):</p>\n<pre><code>RandomObject[] arr = new RandomObject[10];\nfor (int i = 0; i &lt; arr.length; ++i) {\n        arr[i] = new RandomObject(&quot; &quot;, (int) (Math.random() * 50));\n    }\n</code></pre>\n<p>I also have a class called <code>Quicksort</code> containing the following sort methods:</p>\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(T[] a) {\n    sort(a, 0, a.length - 1);\n}\n\n public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(T[] a, int start, int end) {\n    int left = start, right = end;\n    T pivot = a[(left + right) / 2];\n\n    do {\n        while (a[left].compareTo(pivot) &lt; 0) {\n            left++;\n        }\n        while (a[right].compareTo(pivot) &gt; 0) {\n            right--;\n        }\n        if (left &lt;= right) {\n            T temp = a[left];\n            a[left++] = a[right];\n            a[right--] = temp;\n        }\n    } while (left &lt;= right);\n\n    if (start &lt; right) {\n        sort(a, start, right);\n    }\n    if (left &lt; end) {\n        sort(a, left, end);\n    }\n}\n</code></pre>\n<p>Calling <code>Quicksort.sort(arr)</code> works normally and sorts <code>arr</code> by value.</p>\n<p>However, I also have a <code>BinarySearch</code> class with the following <code>search</code> method:</p>\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; int search(T[] a, T value) {\n    int start = 0, end = a.length - 1;\n    do {\n        int mid = start + (end - start) / 2;\n        if (a[mid].compareTo(value) == 0) {\n            return mid;\n        } else if (a[mid].compareTo(value) &gt; 0) {\n            end = mid;\n        } else {\n            start = mid + 1;\n        }\n    } while (start &lt; end);\n    return -1;\n}\n</code></pre>\n<p>And when I try to perform a search like this:</p>\n<pre><code>Integer x = 2;\nSystem.out.println(&quot;Trying to find x: &quot; + BinarySearch.search(arr, x));\n</code></pre>\n<p>Something goes wrong:</p>\n<blockquote>\n<p>&quot;java: method search in class br.com.algorithms.BinarySearch cannot be applied to given types;<br>\nrequired: T[],T<br>\nfound:    br.com.algorithms.RandomObject[],java.lang.Integer<br>\nreason: inference variable T has incompatible bounds<br>\nlower bounds: br.com.algorithms.RandomObject,java.lang.Integer,java.lang.Comparable&lt;? super T&gt;<br>\nlower bounds: java.lang.Integer,br.com.algorithms.RandomObject&quot;<br></p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/zlfUr.png\" rel=\"nofollow noreferrer\">no instance(s) of type variable(s) exist so that RandomObject conforms to an Integer</a></p>\n<p>I'm struggling to understand why the <code>sort</code> method works while the <code>search</code> one doesn't in this case. If both methods require <code>T[]</code> and I am providing <code>RandomObject[]</code> for both cases, why isn't search compiling? What's exactly the difference here?</p>\n"},{"tags":["java","set","hashset","linkedhashset"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666215467,"creation_date":1666215467,"answer_id":74132172,"question_id":74132144,"body_markdown":"This is technically safe, since you know the actual concrete type, but not good practice.\r\n\r\nInstead, change \r\n\r\n```\r\npublic static List&lt;String&gt; rerankAttributesByType(LinkedHashSet&lt;String&gt; attributeList)\r\n```\r\n\r\nto\r\n\r\n```\r\npublic static List&lt;String&gt; rerankAttributesByType (Set&lt;String&gt; attributeList)\r\n```\r\n\r\nso you don&#39;t have to do a cast, and you can properly use the interface type throughout your program.","title":"cast set to linkedhashset","body":"<p>This is technically safe, since you know the actual concrete type, but not good practice.</p>\n<p>Instead, change</p>\n<pre><code>public static List&lt;String&gt; rerankAttributesByType(LinkedHashSet&lt;String&gt; attributeList)\n</code></pre>\n<p>to</p>\n<pre><code>public static List&lt;String&gt; rerankAttributesByType (Set&lt;String&gt; attributeList)\n</code></pre>\n<p>so you don't have to do a cast, and you can properly use the interface type throughout your program.</p>\n"}],"owner":{"account_id":15397173,"reputation":11,"user_id":14488951,"display_name":"czheng15"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666215467,"creation_date":1666215260,"question_id":74132144,"body_markdown":"following is the scenario that I am encountering\r\n\r\nI have this set of string here\r\n\r\n```Set&lt;String&gt; attributes = new LinkedHashSet&lt;&gt;();```\r\n\r\nyet I have another function with a signature LinkedHashSet\r\n\r\n```public static List&lt;String&gt; rerankAttributesByType (LinkedHashSet&lt;String&gt; attributeList)```\r\n\r\nis it safe for me to just cast attributes to LinkedHashSet and proceed with the function calls?\r\n\r\n```List&lt;String&gt; newAttributes = rerankAttributesByType((LinkedHashSet&lt;String&gt;) unselectedAttribute)```","title":"cast set to linkedhashset","body":"<p>following is the scenario that I am encountering</p>\n<p>I have this set of string here</p>\n<p><code>Set&lt;String&gt; attributes = new LinkedHashSet&lt;&gt;();</code></p>\n<p>yet I have another function with a signature LinkedHashSet</p>\n<p><code>public static List&lt;String&gt; rerankAttributesByType (LinkedHashSet&lt;String&gt; attributeList)</code></p>\n<p>is it safe for me to just cast attributes to LinkedHashSet and proceed with the function calls?</p>\n<p><code>List&lt;String&gt; newAttributes = rerankAttributesByType((LinkedHashSet&lt;String&gt;) unselectedAttribute)</code></p>\n"},{"tags":["java","spring-boot","unit-testing","mocking"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1666214669,"post_id":74132005,"comment_id":130886025,"body_markdown":"Are you talking about different test methods in one class, where you want to restrict the MockBean to one test method, or about tests in different classes?","body":"Are you talking about different test methods in one class, where you want to restrict the MockBean to one test method, or about tests in different classes?"},{"owner":{"account_id":3428911,"reputation":486,"user_id":2873923,"accept_rate":50,"display_name":"Sathesh"},"score":0,"creation_date":1666219764,"post_id":74132005,"comment_id":130887208,"body_markdown":"Yeah, right they are different test methods in the same class.","body":"Yeah, right they are different test methods in the same class."}],"answers":[{"comments":[{"owner":{"account_id":3428911,"reputation":486,"user_id":2873923,"accept_rate":50,"display_name":"Sathesh"},"score":0,"creation_date":1666220835,"post_id":74132153,"comment_id":130887425,"body_markdown":"Yes, I could do that, but there will be a lot of code duplication. I was so trying to avoid that.","body":"Yes, I could do that, but there will be a lot of code duplication. I was so trying to avoid that."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1666245211,"post_id":74132153,"comment_id":130890940,"body_markdown":"@Sathesh common code can be moved to a separate class. Or you could utilize an abstract base class. Depends on the exact nature of the duplication.","body":"@Sathesh common code can be moved to a separate class. Or you could utilize an abstract base class. Depends on the exact nature of the duplication."}],"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666215310,"creation_date":1666215310,"answer_id":74132153,"question_id":74132005,"body_markdown":"One option is to create a second test class which only contains a single test. The MockBean will then not affect the existing tests.","title":"Is there a way for @MockBean to be used for a single test?","body":"<p>One option is to create a second test class which only contains a single test. The MockBean will then not affect the existing tests.</p>\n"}],"owner":{"account_id":3428911,"reputation":486,"user_id":2873923,"accept_rate":50,"display_name":"Sathesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666215310,"creation_date":1666214245,"question_id":74132005,"body_markdown":"I am writing a new SpringBoot unit test which requires injecting a @MockBean which I added and is working as expected. But unfortunately, the mockbean is messing up with some of the existing tests causing them to fail. Is there any way I can inject @MockBean to the particular test alone so that the other tests are unaffected? Thanks","title":"Is there a way for @MockBean to be used for a single test?","body":"<p>I am writing a new SpringBoot unit test which requires injecting a @MockBean which I added and is working as expected. But unfortunately, the mockbean is messing up with some of the existing tests causing them to fail. Is there any way I can inject @MockBean to the particular test alone so that the other tests are unaffected? Thanks</p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":277337,"reputation":10612,"user_id":571271,"accept_rate":100,"display_name":"jeha"},"score":0,"creation_date":1319649793,"post_id":7906301,"comment_id":9654292,"body_markdown":"A similar question: http://stackoverflow.com/questions/1116123/how-do-i-calculate-someones-age-in-java","body":"A similar question: <a href=\"http://stackoverflow.com/questions/1116123/how-do-i-calculate-someones-age-in-java\" title=\"how do i calculate someones age in java\">stackoverflow.com/questions/1116123/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1538354459,"post_id":7906301,"comment_id":92101662,"body_markdown":"Both the legacy `Date`/`Calendar` classes and *Joda-Time* have been supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes. Most of the *java.time*&#160;functionality is back-ported to Java 6 &amp; Java 7 in the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project. Further adapted for earlier Android in the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project. See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).","body":"Both the legacy <code>Date</code>/<code>Calendar</code> classes and <i>Joda-Time</i> have been supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. Most of the <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. Further adapted for earlier Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a> project. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP</i></a>."}],"answers":[{"comments":[{"owner":{"account_id":2895641,"reputation":1564,"user_id":2483484,"accept_rate":53,"display_name":"StarWind0"},"score":0,"creation_date":1443258000,"post_id":7906459,"comment_id":53428930,"body_markdown":"I&#39;ve used Joda a lot this last project. It is really over kill in terms of setting up...","body":"I&#39;ve used Joda a lot this last project. It is really over kill in terms of setting up..."},{"owner":{"account_id":479580,"reputation":1191,"user_id":892327,"accept_rate":73,"display_name":"Nielsvh"},"score":2,"creation_date":1444147509,"post_id":7906459,"comment_id":53774131,"body_markdown":"Just to elaborate:\n`public int getYears(org.java.util.Date time) {\norg.joda.time.DateTime now = org.joda.time.DateTime.now();\norg.joda.time.DateTime then = new org.joda.time.DateTime(time.getTime());\nreturn org.joda.time.Years.yearsBetween(now, then).getYears();\n}`","body":"Just to elaborate: <code>public int getYears(org.java.util.Date time) { org.joda.time.DateTime now = org.joda.time.DateTime.now(); org.joda.time.DateTime then = new org.joda.time.DateTime(time.getTime()); return org.joda.time.Years.yearsBetween(now, then).getYears(); }</code>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666216361,"post_id":7906459,"comment_id":130886435,"body_markdown":"An update, a decade later The *Joda-Time* framework has been supplanted by the *java.time* classes built into Java 8+, defined in [JSR 310](https://jcp.org/en/jsr/detail?id=310). *Joda-Time* is now in [maintenance-mode](https://en.wikipedia.org/wiki/Maintenance_mode). Both *Joda-Time* and *java.time* are led by the same man, [Stephen Colebourne](https://stackoverflow.com/users/38896/jodastephen).","body":"An update, a decade later The <i>Joda-Time</i> framework has been supplanted by the <i>java.time</i> classes built into Java 8+, defined in <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>. <i>Joda-Time</i> is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance-mode</a>. Both <i>Joda-Time</i> and <i>java.time</i> are led by the same man, <a href=\"https://stackoverflow.com/users/38896/jodastephen\">Stephen Colebourne</a>."}],"tags":[],"owner":{"account_id":120645,"reputation":11238,"user_id":313205,"display_name":"Marcelo"},"comment_count":3,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1319650036,"creation_date":1319650036,"answer_id":7906459,"question_id":7906301,"body_markdown":"I would recommend using the great [Joda-Time][1] library for everything date related in Java.\r\n\r\nFor your needs you can use the [`Years.yearsBetween()`][2] method.\r\n\r\n\r\n  [1]:http://joda-time.sourceforge.net/\r\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/Years.html#yearsBetween%28org.joda.time.ReadableInstant,%20org.joda.time.ReadableInstant%29","title":"How can I find the number of years between two dates?","body":"<p>I would recommend using the great <a href=\"http://joda-time.sourceforge.net/\">Joda-Time</a> library for everything date related in Java.</p>\n\n<p>For your needs you can use the <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/Years.html#yearsBetween%28org.joda.time.ReadableInstant,%20org.joda.time.ReadableInstant%29\"><code>Years.yearsBetween()</code></a> method.</p>\n"},{"tags":[],"owner":{"account_id":57493,"reputation":3242,"user_id":172248,"display_name":"dweebo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1319651996,"creation_date":1319651996,"answer_id":7906821,"question_id":7906301,"body_markdown":"If you don&#39;t want to calculate it using java&#39;s Calendar you can use [Androids Time class][1]  It is supposed to be faster but I didn&#39;t notice much difference when i switched.\r\n\r\nI could not find any pre-defined functions to determine time between 2 dates for an age in Android.  There are some nice helper functions to get formatted time between dates in the [DateUtils][2] but that&#39;s probably not what you want.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/text/format/Time.html\r\n  [2]: http://developer.android.com/reference/android/text/format/DateUtils.html","title":"How can I find the number of years between two dates?","body":"<p>If you don't want to calculate it using java's Calendar you can use <a href=\"http://developer.android.com/reference/android/text/format/Time.html\" rel=\"nofollow\">Androids Time class</a>  It is supposed to be faster but I didn't notice much difference when i switched.</p>\n\n<p>I could not find any pre-defined functions to determine time between 2 dates for an age in Android.  There are some nice helper functions to get formatted time between dates in the <a href=\"http://developer.android.com/reference/android/text/format/DateUtils.html\" rel=\"nofollow\">DateUtils</a> but that's probably not what you want.</p>\n"},{"tags":[],"owner":{"account_id":10727,"reputation":10685,"user_id":20390,"accept_rate":70,"display_name":"Ma99uS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319654832,"creation_date":1319654832,"answer_id":7907407,"question_id":7906301,"body_markdown":"I know you have asked for a clean solution, but here are two dirty once:\r\n\r\n    \t\tstatic void diffYears1()\r\n\t{\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\t\tCalendar calendar1 = Calendar.getInstance(); // now\r\n\t\tString toDate = dateFormat.format(calendar1.getTime());\r\n\r\n\t\tCalendar calendar2 = Calendar.getInstance();\r\n\t\tcalendar2.add(Calendar.DAY_OF_YEAR, -7000); // some date in the past\r\n\t\tString fromDate = dateFormat.format(calendar2.getTime());\r\n\r\n\t\t// just simply add one year at a time to the earlier date until it becomes later then the other one \r\n\t\tint years = 0;\r\n\t\twhile(true)\r\n\t\t{\r\n\t\t\tcalendar2.add(Calendar.YEAR, 1);\r\n\t\t\tif(calendar2.getTimeInMillis() &lt; calendar1.getTimeInMillis())\r\n\t\t\t\tyears++;\r\n\t\t\telse\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tSystem.out.println(years + &quot; years between &quot; + fromDate + &quot; and &quot; + toDate);\r\n\t}\r\n\r\n\tstatic void diffYears2()\r\n\t{\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n\t\tCalendar calendar1 = Calendar.getInstance(); // now\r\n\t\tString toDate = dateFormat.format(calendar1.getTime());\r\n\r\n\t\tCalendar calendar2 = Calendar.getInstance();\r\n\t\tcalendar2.add(Calendar.DAY_OF_YEAR, -7000); // some date in the past\r\n\t\tString fromDate = dateFormat.format(calendar2.getTime());\r\n\r\n\t\t// first get the years difference from the dates themselves\r\n\t\tint years = calendar1.get(Calendar.YEAR) - calendar2.get(Calendar.YEAR);\r\n\t\t// now make the earlier date the same year as the later\r\n\t\tcalendar2.set(Calendar.YEAR, calendar1.get(Calendar.YEAR));\r\n\t\t// and see if new date become later, if so then one year was not whole, so subtract 1 \r\n\t\tif(calendar2.getTimeInMillis() &gt; calendar1.getTimeInMillis())\r\n\t\t\tyears--;\r\n\r\n\t\tSystem.out.println(years + &quot; years between &quot; + fromDate + &quot; and &quot; + toDate);\r\n\t}","title":"How can I find the number of years between two dates?","body":"<p>I know you have asked for a clean solution, but here are two dirty once:</p>\n\n<pre><code>        static void diffYears1()\n{\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy\");\n    Calendar calendar1 = Calendar.getInstance(); // now\n    String toDate = dateFormat.format(calendar1.getTime());\n\n    Calendar calendar2 = Calendar.getInstance();\n    calendar2.add(Calendar.DAY_OF_YEAR, -7000); // some date in the past\n    String fromDate = dateFormat.format(calendar2.getTime());\n\n    // just simply add one year at a time to the earlier date until it becomes later then the other one \n    int years = 0;\n    while(true)\n    {\n        calendar2.add(Calendar.YEAR, 1);\n        if(calendar2.getTimeInMillis() &lt; calendar1.getTimeInMillis())\n            years++;\n        else\n            break;\n    }\n\n    System.out.println(years + \" years between \" + fromDate + \" and \" + toDate);\n}\n\nstatic void diffYears2()\n{\n    SimpleDateFormat dateFormat = new SimpleDateFormat(\"dd-MM-yyyy\");\n    Calendar calendar1 = Calendar.getInstance(); // now\n    String toDate = dateFormat.format(calendar1.getTime());\n\n    Calendar calendar2 = Calendar.getInstance();\n    calendar2.add(Calendar.DAY_OF_YEAR, -7000); // some date in the past\n    String fromDate = dateFormat.format(calendar2.getTime());\n\n    // first get the years difference from the dates themselves\n    int years = calendar1.get(Calendar.YEAR) - calendar2.get(Calendar.YEAR);\n    // now make the earlier date the same year as the later\n    calendar2.set(Calendar.YEAR, calendar1.get(Calendar.YEAR));\n    // and see if new date become later, if so then one year was not whole, so subtract 1 \n    if(calendar2.getTimeInMillis() &gt; calendar1.getTimeInMillis())\n        years--;\n\n    System.out.println(years + \" years between \" + fromDate + \" and \" + toDate);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1352020949,"post_id":8518226,"comment_id":18000171,"body_markdown":"@Johnny Graber care to explain why you  upvoted this ... ehem ... suboptimal answer?","body":"@Johnny Graber care to explain why you  upvoted this ... ehem ... suboptimal answer?"},{"owner":{"account_id":152673,"reputation":2694,"user_id":367342,"accept_rate":71,"display_name":"paulonogueira"},"score":2,"creation_date":1471879901,"post_id":8518226,"comment_id":65514771,"body_markdown":"Downvoted as this does not take the days into account.","body":"Downvoted as this does not take the days into account."}],"tags":[],"owner":{"account_id":307070,"reputation":141,"user_id":618173,"display_name":"abobjects.com"},"comment_count":2,"down_vote_count":5,"up_vote_count":4,"is_accepted":false,"score":-1,"last_activity_date":1323943318,"creation_date":1323943252,"answer_id":8518226,"question_id":7906301,"body_markdown":"Try this:\r\n\r\n    int getYear(Date date1,Date date2){ \r\n    \t  SimpleDateFormat simpleDateformat=new SimpleDateFormat(&quot;yyyy&quot;);\r\n    \t  Integer.parseInt(simpleDateformat.format(date1));\r\n    \t  \r\n    \t  return Integer.parseInt(simpleDateformat.format(date2))- Integer.parseInt(simpleDateformat.format(date1));\r\n    \t\t  \r\n    \t}","title":"How can I find the number of years between two dates?","body":"<p>Try this:</p>\n\n<pre><code>int getYear(Date date1,Date date2){ \n      SimpleDateFormat simpleDateformat=new SimpleDateFormat(\"yyyy\");\n      Integer.parseInt(simpleDateformat.format(date1));\n\n      return Integer.parseInt(simpleDateformat.format(date2))- Integer.parseInt(simpleDateformat.format(date1));\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"score":4,"creation_date":1373968651,"post_id":10215152,"comment_id":25744496,"body_markdown":"What are the constants MONTH, YEAR and DATE ??","body":"What are the constants MONTH, YEAR and DATE ??"},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":4,"creation_date":1373972081,"post_id":10215152,"comment_id":25746472,"body_markdown":"@ChrisSim: They are static imports of Calendar.MONTH and so on.","body":"@ChrisSim: They are static imports of Calendar.MONTH and so on."},{"owner":{"account_id":474434,"reputation":3373,"user_id":884113,"accept_rate":40,"display_name":"jiahao"},"score":2,"creation_date":1400495852,"post_id":10215152,"comment_id":36486101,"body_markdown":"I think instead of DATE it should be DAY_OF_MONTH.","body":"I think instead of DATE it should be DAY_OF_MONTH."},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":2,"creation_date":1400503798,"post_id":10215152,"comment_id":36491200,"body_markdown":"@jiahao: they&#39;re synonyms","body":"@jiahao: they&#39;re synonyms"},{"owner":{"display_name":"user3864935"},"score":1,"creation_date":1438939962,"post_id":10215152,"comment_id":51666617,"body_markdown":".get(YEAR) and .get(MONTH) are now deprecated I believe. Possibly edit?","body":".get(YEAR) and .get(MONTH) are now deprecated I believe. Possibly edit?"},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1438943623,"post_id":10215152,"comment_id":51668870,"body_markdown":"@Iridann: where do you see that? There&#39;s nothing deprecated: http://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html","body":"@Iridann: where do you see that? There&#39;s nothing deprecated: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Calendar.html</a>"},{"owner":{"display_name":"user3864935"},"score":0,"creation_date":1438943946,"post_id":10215152,"comment_id":51669044,"body_markdown":"@sinuhepop My bad, that&#39;s Calendar.getYear() I read as being deprecated!","body":"@sinuhepop My bad, that&#39;s Calendar.getYear() I read as being deprecated!"},{"owner":{"display_name":"user3864935"},"score":0,"creation_date":1438943990,"post_id":10215152,"comment_id":51669064,"body_markdown":"@sinuhepop Although saying that I thought that the convention was to use the form Calendar.get(Calendar.YEAR);?","body":"@sinuhepop Although saying that I thought that the convention was to use the form Calendar.get(Calendar.YEAR);?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1538354397,"post_id":10215152,"comment_id":92101652,"body_markdown":"FYI, the troublesome old date-time classes such as `java.util.Date`, `java.util.Calendar`, and `java.text.SimpleDateFormat` are now legacy, supplanted by the [*java.time*](https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes. Most of the *java.time*&#160;functionality is back-ported to Java 6 &amp; Java 7 in the [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) project. Further adapted for earlier Android in the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project. See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).","body":"FYI, the troublesome old date-time classes such as <code>java.util.Date</code>, <code>java.util.Calendar</code>, and <code>java.text.SimpleDateFormat</code> are now legacy, supplanted by the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. Most of the <i>java.time</i> functionality is back-ported to Java 6 &amp; Java 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><b><i>ThreeTen-Backport</i></b></a> project. Further adapted for earlier Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><b><i>ThreeTenABP</i></b></a> project. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><i>How to use ThreeTenABP</i></a>."},{"owner":{"account_id":12584729,"reputation":301,"user_id":9154145,"display_name":"Androidz"},"score":0,"creation_date":1591605013,"post_id":10215152,"comment_id":110108356,"body_markdown":"Keep in mind to add +1 to Calendar.MONTH if comparing Calendar.getInstance() with your set date!","body":"Keep in mind to add +1 to Calendar.MONTH if comparing Calendar.getInstance() with your set date!"},{"owner":{"account_id":8941,"reputation":1184,"user_id":16314,"accept_rate":83,"display_name":"selwyn"},"score":0,"creation_date":1603874339,"post_id":10215152,"comment_id":114171197,"body_markdown":"int diff = b.get(Calendar.YEAR) - a.get(Calendar.YEAR);\n                if (a.get(Calendar.MONTH) &gt; b.get(Calendar.MONTH) ||\n                        (a.get(Calendar.MONTH) == b.get(Calendar.MONTH) &amp;&amp; a.get(Calendar.DATE) &gt; b.get(Calendar.DATE))) {\n                    diff--;\n                }","body":"int diff = b.get(Calendar.YEAR) - a.get(Calendar.YEAR);                 if (a.get(Calendar.MONTH) &gt; b.get(Calendar.MONTH) ||                         (a.get(Calendar.MONTH) == b.get(Calendar.MONTH) &amp;&amp; a.get(Calendar.DATE) &gt; b.get(Calendar.DATE))) {                     diff--;                 }"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1622140375,"post_id":10215152,"comment_id":119713032,"body_markdown":"How long did Roman emperor Augustus live? According to [Wikipedia](https://en.wikipedia.org/wiki/List_of_Roman_emperors#27_BC%E2%80%9368_AD:_Julio-Claudian_dynasty) 75 years. Feeding the dates from there into your code gave: -50 (minus fifty).","body":"How long did Roman emperor Augustus live? According to <a href=\"https://en.wikipedia.org/wiki/List_of_Roman_emperors#27_BC%E2%80%9368_AD:_Julio-Claudian_dynasty\" rel=\"nofollow noreferrer\">Wikipedia</a> 75 years. Feeding the dates from there into your code gave: -50 (minus fifty)."},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1623865096,"post_id":10215152,"comment_id":120202264,"body_markdown":"@OleV.V.: Good find! I&#39;ll update my answer.","body":"@OleV.V.: Good find! I&#39;ll update my answer."},{"owner":{"account_id":4615805,"reputation":188,"user_id":3742378,"display_name":"Sanatbek Matlatipov"},"score":0,"creation_date":1656223756,"post_id":10215152,"comment_id":128516314,"body_markdown":"`if (a.get(MONTH) &gt; b.get(MONTH) || \n        (a.get(MONTH) == b.get(MONTH) &amp;&amp; a.get(DATE) &gt; b.get(DATE))) {\n        diff--;\n    }`\nwhy did you use this condition?","body":"<code>if (a.get(MONTH) &gt; b.get(MONTH) ||          (a.get(MONTH) == b.get(MONTH) &amp;&amp; a.get(DATE) &gt; b.get(DATE))) {         diff--;     }</code> why did you use this condition?"},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1656336780,"post_id":10215152,"comment_id":128540065,"body_markdown":"@mr.sanatbek: it tells if **a** is after **b** (excluding years)","body":"@mr.sanatbek: it tells if <b>a</b> is after <b>b</b> (excluding years)"},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1666201116,"post_id":10215152,"comment_id":130881841,"body_markdown":"if (a.get(MONTH) &lt; b.get(MONTH) || \n        (a.get(MONTH) == b.get(MONTH) &amp;&amp; a.get(DATE) &lt; b.get(DATE))) {\n        diff++;  // for comparison purpose\n    }","body":"if (a.get(MONTH) &lt; b.get(MONTH) ||          (a.get(MONTH) == b.get(MONTH) &amp;&amp; a.get(DATE) &lt; b.get(DATE))) {         diff++;  // for comparison purpose     }"},{"owner":{"account_id":1820446,"reputation":3830,"user_id":1654631,"accept_rate":0,"display_name":"Shiv Buyya"},"score":0,"creation_date":1676286414,"post_id":10215152,"comment_id":133100058,"body_markdown":"use import static java.util.Calendar.*; in your code.","body":"use import static java.util.Calendar.*; in your code."},{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":0,"creation_date":1676299668,"post_id":10215152,"comment_id":133104060,"body_markdown":"@ShivBuyya: Third line in my code is exactly that.","body":"@ShivBuyya: Third line in my code is exactly that."}],"tags":[],"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"comment_count":18,"down_vote_count":0,"up_vote_count":128,"is_accepted":true,"score":128,"last_activity_date":1623865289,"creation_date":1334771859,"answer_id":10215152,"question_id":7906301,"body_markdown":"    import java.util.Calendar;\r\n    import java.util.Locale;\r\n    import static java.util.Calendar.*;\r\n    import java.util.Date;\r\n\r\n\tpublic static int getDiffYears(Date first, Date last) {\r\n\t\tCalendar a = getCalendar(first);\r\n\t\tCalendar b = getCalendar(last);\r\n\t\tint diff = b.get(YEAR) - a.get(YEAR);\r\n\t\tif (a.get(MONTH) &gt; b.get(MONTH) || \r\n            (a.get(MONTH) == b.get(MONTH) &amp;&amp; a.get(DATE) &gt; b.get(DATE))) {\r\n\t\t\tdiff--;\r\n\t\t}\r\n\t\treturn diff;\r\n\t}\r\n\r\n\tpublic static Calendar getCalendar(Date date) {\r\n\t\tCalendar cal = Calendar.getInstance(Locale.US);\r\n\t\tcal.setTime(date);\r\n\t\treturn cal;\r\n\t}\r\n\r\n\r\n**Note**: as [Ole V.V.][1] noticed, this won&#39;t work with dates before Christ due how Calendar works.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/5772882/ole-v-v","title":"How can I find the number of years between two dates?","body":"<pre><code>import java.util.Calendar;\nimport java.util.Locale;\nimport static java.util.Calendar.*;\nimport java.util.Date;\n\npublic static int getDiffYears(Date first, Date last) {\n    Calendar a = getCalendar(first);\n    Calendar b = getCalendar(last);\n    int diff = b.get(YEAR) - a.get(YEAR);\n    if (a.get(MONTH) &gt; b.get(MONTH) || \n        (a.get(MONTH) == b.get(MONTH) &amp;&amp; a.get(DATE) &gt; b.get(DATE))) {\n        diff--;\n    }\n    return diff;\n}\n\npublic static Calendar getCalendar(Date date) {\n    Calendar cal = Calendar.getInstance(Locale.US);\n    cal.setTime(date);\n    return cal;\n}\n</code></pre>\n<p><strong>Note</strong>: as <a href=\"https://stackoverflow.com/users/5772882/ole-v-v\">Ole V.V.</a> noticed, this won't work with dates before Christ due how Calendar works.</p>\n"},{"comments":[{"owner":{"account_id":45917,"reputation":20089,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"score":1,"creation_date":1413128877,"post_id":19278833,"comment_id":41317929,"body_markdown":"Using DAY_OF_YEAR leads to errors with leap years too.","body":"Using DAY_OF_YEAR leads to errors with leap years too."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1666201029,"post_id":19278833,"comment_id":130881803,"body_markdown":"if (a.get(Calendar.DAY_OF_YEAR) &lt; b.get(Calendar.DAY_OF_YEAR)) {\n        diff++;\n    }","body":"if (a.get(Calendar.DAY_OF_YEAR) &lt; b.get(Calendar.DAY_OF_YEAR)) {         diff++;     }"}],"tags":[],"owner":{"account_id":3414743,"reputation":67,"user_id":2863961,"display_name":"sagechufi"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1381339853,"creation_date":1381339853,"answer_id":19278833,"question_id":7906301,"body_markdown":"I apparently can&#39;t comment yet, but I think you can just use the DAY_OF_YEAR to workout if you should adjust the years down one (copied and modified from current best answer)\r\n \r\n    public static int getDiffYears(Date first, Date last) {\r\n        Calendar a = getCalendar(first);\r\n        Calendar b = getCalendar(last);\r\n        int diff = b.get(Calendar.YEAR) - a.get(Calendar.YEAR);\r\n        if (a.get(Calendar.DAY_OF_YEAR) &gt; b.get(Calendar.DAY_OF_YEAR)) {\r\n            diff--;\r\n        }\r\n        return diff;\r\n    }\r\n\r\n    public static Calendar getCalendar(Date date) {\r\n        Calendar cal = Calendar.getInstance(Locale.US);\r\n        cal.setTime(date);\r\n        return cal;\r\n    }\r\n\r\nSimilarly you could probably just diff the ms representations of the time and divide by the number of ms in a year.  Just keep everything in longs and that should be good enough most of the time (leap years, ouch) but it depends on your application for the number of years and how performant that function has to be weather it would be worth that kind of hack.","title":"How can I find the number of years between two dates?","body":"<p>I apparently can't comment yet, but I think you can just use the DAY_OF_YEAR to workout if you should adjust the years down one (copied and modified from current best answer)</p>\n\n<pre><code>public static int getDiffYears(Date first, Date last) {\n    Calendar a = getCalendar(first);\n    Calendar b = getCalendar(last);\n    int diff = b.get(Calendar.YEAR) - a.get(Calendar.YEAR);\n    if (a.get(Calendar.DAY_OF_YEAR) &gt; b.get(Calendar.DAY_OF_YEAR)) {\n        diff--;\n    }\n    return diff;\n}\n\npublic static Calendar getCalendar(Date date) {\n    Calendar cal = Calendar.getInstance(Locale.US);\n    cal.setTime(date);\n    return cal;\n}\n</code></pre>\n\n<p>Similarly you could probably just diff the ms representations of the time and divide by the number of ms in a year.  Just keep everything in longs and that should be good enough most of the time (leap years, ouch) but it depends on your application for the number of years and how performant that function has to be weather it would be worth that kind of hack.</p>\n"},{"tags":[],"owner":{"account_id":1851196,"reputation":1938,"user_id":1755206,"accept_rate":71,"display_name":"Rishi Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382008933,"creation_date":1382008933,"answer_id":19425343,"question_id":7906301,"body_markdown":"    // int year =2000;  int month =9 ;    int day=30;\r\n      \r\n        public int getAge (int year, int month, int day) {\r\n                \r\n                GregorianCalendar cal = new GregorianCalendar();\r\n                int y, m, d, noofyears;         \r\n\r\n                y = cal.get(Calendar.YEAR);// current year ,\r\n                m = cal.get(Calendar.MONTH);// current month \r\n                d = cal.get(Calendar.DAY_OF_MONTH);//current day\r\n                cal.set(year, month, day);// here ur date \r\n                noofyears = y - cal.get(Calendar.YEAR);\r\n                if ((m &lt; cal.get(Calendar.MONTH))\r\n                                || ((m == cal.get(Calendar.MONTH)) &amp;&amp; (d &lt; cal\r\n                                                .get(Calendar.DAY_OF_MONTH)))) {\r\n                        --noofyears;\r\n                }\r\n                if(noofyears &lt; 0)\r\n                        throw new IllegalArgumentException(&quot;age &lt; 0&quot;);\r\n                 System.out.println(noofyears);\r\n                return noofyears;\r\n        ","title":"How can I find the number of years between two dates?","body":"<pre><code>// int year =2000;  int month =9 ;    int day=30;\n\n    public int getAge (int year, int month, int day) {\n\n            GregorianCalendar cal = new GregorianCalendar();\n            int y, m, d, noofyears;         \n\n            y = cal.get(Calendar.YEAR);// current year ,\n            m = cal.get(Calendar.MONTH);// current month \n            d = cal.get(Calendar.DAY_OF_MONTH);//current day\n            cal.set(year, month, day);// here ur date \n            noofyears = y - cal.get(Calendar.YEAR);\n            if ((m &lt; cal.get(Calendar.MONTH))\n                            || ((m == cal.get(Calendar.MONTH)) &amp;&amp; (d &lt; cal\n                                            .get(Calendar.DAY_OF_MONTH)))) {\n                    --noofyears;\n            }\n            if(noofyears &lt; 0)\n                    throw new IllegalArgumentException(\"age &lt; 0\");\n             System.out.println(noofyears);\n            return noofyears;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":74234,"reputation":2391,"user_id":213376,"accept_rate":46,"display_name":"SnakE"},"score":0,"creation_date":1503685464,"post_id":25775814,"comment_id":78734168,"body_markdown":"There was a bug related to days being one-based. But this also doesn&#39;t work well with leap years. Please see my edit.","body":"There was a bug related to days being one-based. But this also doesn&#39;t work well with leap years. Please see my edit."}],"tags":[],"owner":{"account_id":74234,"reputation":2391,"user_id":213376,"accept_rate":46,"display_name":"SnakE"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1503685378,"creation_date":1410386611,"answer_id":25775814,"question_id":7906301,"body_markdown":"Here&#39;s what I think is a better method:\r\n\r\n    public int getYearsBetweenDates(Date first, Date second) {\r\n        Calendar firstCal = GregorianCalendar.getInstance();\r\n        Calendar secondCal = GregorianCalendar.getInstance();\r\n        \r\n        firstCal.setTime(first);\r\n        secondCal.setTime(second);\r\n\r\n        secondCal.add(Calendar.DAY_OF_YEAR, 1 - firstCal.get(Calendar.DAY_OF_YEAR));\r\n\r\n        return secondCal.get(Calendar.YEAR) - firstCal.get(Calendar.YEAR);\r\n    }\r\n\r\n**EDIT**\r\n\r\nApart from a bug which I fixed, this method does not work well with leap years. Here&#39;s a complete test suite. I guess you&#39;re better off using the accepted answer.\r\n\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.GregorianCalendar;\r\n    \r\n    class YearsBetweenDates {\r\n        public static int getYearsBetweenDates(Date first, Date second) {\r\n            Calendar firstCal = GregorianCalendar.getInstance();\r\n            Calendar secondCal = GregorianCalendar.getInstance();\r\n    \r\n            firstCal.setTime(first);\r\n            secondCal.setTime(second);\r\n    \r\n            secondCal.add(Calendar.DAY_OF_YEAR, 1 - firstCal.get(Calendar.DAY_OF_YEAR));\r\n    \r\n            return secondCal.get(Calendar.YEAR) - firstCal.get(Calendar.YEAR);\r\n        }\r\n    \r\n        private static class TestCase {\r\n            public Calendar date1;\r\n            public Calendar date2;\r\n            public int expectedYearDiff;\r\n            public String comment;\r\n    \r\n            public TestCase(Calendar date1, Calendar date2, int expectedYearDiff, String comment) {\r\n                this.date1 = date1;\r\n                this.date2 = date2;\r\n                this.expectedYearDiff = expectedYearDiff;\r\n                this.comment = comment;\r\n            }\r\n        }\r\n    \r\n        private static TestCase[] tests = {\r\n            new TestCase(\r\n                    new GregorianCalendar(2014, Calendar.JULY, 15),\r\n                    new GregorianCalendar(2015, Calendar.JULY, 15),\r\n                    1,\r\n                    &quot;exactly one year&quot;),\r\n            new TestCase(\r\n                    new GregorianCalendar(2014, Calendar.JULY, 15),\r\n                    new GregorianCalendar(2017, Calendar.JULY, 14),\r\n                    2,\r\n                    &quot;one day less than 3 years&quot;),\r\n            new TestCase(\r\n                    new GregorianCalendar(2015, Calendar.NOVEMBER, 3),\r\n                    new GregorianCalendar(2017, Calendar.MAY, 3),\r\n                    1,\r\n                    &quot;a year and a half&quot;),\r\n            new TestCase(\r\n                    new GregorianCalendar(2016, Calendar.JULY, 15),\r\n                    new GregorianCalendar(2017, Calendar.JULY, 15),\r\n                    1,\r\n                    &quot;leap years do not compare correctly&quot;),\r\n        };\r\n    \r\n        public static void main(String[] args) {\r\n            SimpleDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            for (TestCase t : tests) {\r\n                int diff = getYearsBetweenDates(t.date1.getTime(), t.date2.getTime());\r\n                String result = diff == t.expectedYearDiff ? &quot;PASS&quot; : &quot;FAIL&quot;;\r\n                System.out.println(t.comment + &quot;: &quot; +\r\n                        df.format(t.date1.getTime()) + &quot; -&gt; &quot; +\r\n                        df.format(t.date2.getTime()) + &quot; = &quot; +\r\n                        diff + &quot;: &quot; + result);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How can I find the number of years between two dates?","body":"<p>Here's what I think is a better method:</p>\n\n<pre><code>public int getYearsBetweenDates(Date first, Date second) {\n    Calendar firstCal = GregorianCalendar.getInstance();\n    Calendar secondCal = GregorianCalendar.getInstance();\n\n    firstCal.setTime(first);\n    secondCal.setTime(second);\n\n    secondCal.add(Calendar.DAY_OF_YEAR, 1 - firstCal.get(Calendar.DAY_OF_YEAR));\n\n    return secondCal.get(Calendar.YEAR) - firstCal.get(Calendar.YEAR);\n}\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Apart from a bug which I fixed, this method does not work well with leap years. Here's a complete test suite. I guess you're better off using the accepted answer.</p>\n\n<pre><code>import java.text.SimpleDateFormat;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.GregorianCalendar;\n\nclass YearsBetweenDates {\n    public static int getYearsBetweenDates(Date first, Date second) {\n        Calendar firstCal = GregorianCalendar.getInstance();\n        Calendar secondCal = GregorianCalendar.getInstance();\n\n        firstCal.setTime(first);\n        secondCal.setTime(second);\n\n        secondCal.add(Calendar.DAY_OF_YEAR, 1 - firstCal.get(Calendar.DAY_OF_YEAR));\n\n        return secondCal.get(Calendar.YEAR) - firstCal.get(Calendar.YEAR);\n    }\n\n    private static class TestCase {\n        public Calendar date1;\n        public Calendar date2;\n        public int expectedYearDiff;\n        public String comment;\n\n        public TestCase(Calendar date1, Calendar date2, int expectedYearDiff, String comment) {\n            this.date1 = date1;\n            this.date2 = date2;\n            this.expectedYearDiff = expectedYearDiff;\n            this.comment = comment;\n        }\n    }\n\n    private static TestCase[] tests = {\n        new TestCase(\n                new GregorianCalendar(2014, Calendar.JULY, 15),\n                new GregorianCalendar(2015, Calendar.JULY, 15),\n                1,\n                \"exactly one year\"),\n        new TestCase(\n                new GregorianCalendar(2014, Calendar.JULY, 15),\n                new GregorianCalendar(2017, Calendar.JULY, 14),\n                2,\n                \"one day less than 3 years\"),\n        new TestCase(\n                new GregorianCalendar(2015, Calendar.NOVEMBER, 3),\n                new GregorianCalendar(2017, Calendar.MAY, 3),\n                1,\n                \"a year and a half\"),\n        new TestCase(\n                new GregorianCalendar(2016, Calendar.JULY, 15),\n                new GregorianCalendar(2017, Calendar.JULY, 15),\n                1,\n                \"leap years do not compare correctly\"),\n    };\n\n    public static void main(String[] args) {\n        SimpleDateFormat df = new SimpleDateFormat(\"yyyy-MM-dd\");\n        for (TestCase t : tests) {\n            int diff = getYearsBetweenDates(t.date1.getTime(), t.date2.getTime());\n            String result = diff == t.expectedYearDiff ? \"PASS\" : \"FAIL\";\n            System.out.println(t.comment + \": \" +\n                    df.format(t.date1.getTime()) + \" -&gt; \" +\n                    df.format(t.date2.getTime()) + \" = \" +\n                    diff + \": \" + result);\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1666207979,"post_id":39356922,"comment_id":130883960,"body_markdown":"This does the diff of actual year number only but not the calculated year based on actual full date.","body":"This does the diff of actual year number only but not the calculated year based on actual full date."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666214499,"post_id":39356922,"comment_id":130885988,"body_markdown":"@SmartCoder I do not understand your Comment. I read the Question as asking for age, number of years reached on an anniversary date. The code shown does so. See [this demo](https://ideone.com/3aVjsg) on Ideone.com.","body":"@SmartCoder I do not understand your Comment. I read the Question as asking for age, number of years reached on an anniversary date. The code shown does so. See <a href=\"https://ideone.com/3aVjsg\" rel=\"nofollow noreferrer\">this demo</a> on Ideone.com."},{"owner":{"account_id":3124728,"reputation":1564,"user_id":2643815,"display_name":"Smart Coder"},"score":0,"creation_date":1666215529,"post_id":39356922,"comment_id":130886239,"body_markdown":"I used the code to calculate year based on actual date and it just gives the difference of year number. It&#39;d actually calculate based on date difference. The date &#39;09/12/2022&#39; an &#39;11/23/2020&#39; should give diff of just one year and not two.","body":"I used the code to calculate year based on actual date and it just gives the difference of year number. It&#39;d actually calculate based on date difference. The date &#39;09/12/2022&#39; an &#39;11/23/2020&#39; should give diff of just one year and not two."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1666216057,"post_id":39356922,"comment_id":130886355,"body_markdown":"@SmartCoder Indeed, yes. `ChronoUnit.YEARS.between( LocalDate.of( 2020 , 11 , 23 ) , LocalDate.of( 2022 , 9 , 12 ) )` returns `1`. See [demo](https://ideone.com/3aVjsg).","body":"@SmartCoder Indeed, yes. <code>ChronoUnit.YEARS.between( LocalDate.of( 2020 , 11 , 23 ) , LocalDate.of( 2022 , 9 , 12 ) )</code> returns <code>1</code>. See <a href=\"https://ideone.com/3aVjsg\" rel=\"nofollow noreferrer\">demo</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1666216593,"post_id":39356922,"comment_id":130886493,"body_markdown":"@SmartCoder If I have missed your point, please explain. I do not see how you got a result of two years when comparing those two dates.","body":"@SmartCoder If I have missed your point, please explain. I do not see how you got a result of two years when comparing those two dates."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":5,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1666214771,"creation_date":1473192003,"answer_id":39356922,"question_id":7906301,"body_markdown":"# tl;dr\r\n\r\n    ChronoUnit.YEARS.between( \r\n        LocalDate.of( 2010 , 1 , 1 ) , \r\n        LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) \r\n    )\r\n\r\nTest for zero years elapsed, and one year elapsed.\r\n\r\n```java\r\nChronoUnit.YEARS.between( \r\n\tLocalDate.of( 2010 , 1 , 1 )  , \r\n\tLocalDate.of( 2010 , 6 , 1 ) \r\n)\r\n```\r\n\r\n&gt; 0\r\n\r\n```java\r\nChronoUnit.YEARS.between( \r\n\tLocalDate.of( 2010 , 1 , 1 )  , \r\n\tLocalDate.of( 2011 , 1 , 1 ) \r\n)\r\n```\r\n\r\n&gt;1\r\n\r\nSee this [code run at Ideone.com][1].\r\n\r\n\r\n# java.time\r\n\r\nThe old date-time classes really are bad, so bad that both Sun &amp; Oracle agreed to supplant them with the java.time classes. If you do any significant work at all with date-time values, adding a library to your project is worthwhile. The Joda-Time library was highly successful and recommended, but is now in maintenance mode. The team advises migration to the java.time classes. \r\n\r\nMuch of the java.time functionality is back-ported to Java 6 &amp; 7 in [ThreeTen-Backport](http://www.threeten.org/threetenbp/) and further adapted to [Android](https://en.wikipedia.org/wiki/Android_(operating_system)) in [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) (see [*How to use*](https://stackoverflow.com/q/38922754/642706)).\r\n\r\n    LocalDate start = LocalDate.of( 2010 , 1 , 1 ) ;\r\n    LocalDate stop = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );\r\n    long years = java.time.temporal.ChronoUnit.YEARS.between( start , stop );\r\n\r\nDump to console.\r\n\r\n    System.out.println( &quot;start: &quot; + start + &quot; | stop: &quot; + stop + &quot; | years: &quot; + years ) ;\r\n\r\n&gt;start: 2010-01-01 | stop: 2016-09-06 | years: 6\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n[![Table of all date-time types in Java, both modern and legacy][2]][2]\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/10/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][3]][3]\r\n\r\n\r\n  [1]: https://ideone.com/3aVjsg\r\n  [2]: https://i.stack.imgur.com/4M3O6.png\r\n  [3]: https://i.stack.imgur.com/NW5IM.png","title":"How can I find the number of years between two dates?","body":"<h1>tl;dr</h1>\n<pre><code>ChronoUnit.YEARS.between( \n    LocalDate.of( 2010 , 1 , 1 ) , \n    LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) ) \n)\n</code></pre>\n<p>Test for zero years elapsed, and one year elapsed.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ChronoUnit.YEARS.between( \n    LocalDate.of( 2010 , 1 , 1 )  , \n    LocalDate.of( 2010 , 6 , 1 ) \n)\n</code></pre>\n<blockquote>\n<p>0</p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>ChronoUnit.YEARS.between( \n    LocalDate.of( 2010 , 1 , 1 )  , \n    LocalDate.of( 2011 , 1 , 1 ) \n)\n</code></pre>\n<blockquote>\n<p>1</p>\n</blockquote>\n<p>See this <a href=\"https://ideone.com/3aVjsg\" rel=\"noreferrer\">code run at Ideone.com</a>.</p>\n<h1>java.time</h1>\n<p>The old date-time classes really are bad, so bad that both Sun &amp; Oracle agreed to supplant them with the java.time classes. If you do any significant work at all with date-time values, adding a library to your project is worthwhile. The Joda-Time library was highly successful and recommended, but is now in maintenance mode. The team advises migration to the java.time classes.</p>\n<p>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> and further adapted to <a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\">Android</a> in <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> (see <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use</em></a>).</p>\n<pre><code>LocalDate start = LocalDate.of( 2010 , 1 , 1 ) ;\nLocalDate stop = LocalDate.now( ZoneId.of( &quot;America/Montreal&quot; ) );\nlong years = java.time.temporal.ChronoUnit.YEARS.between( start , stop );\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println( &quot;start: &quot; + start + &quot; | stop: &quot; + stop + &quot; | years: &quot; + years ) ;\n</code></pre>\n<blockquote>\n<p>start: 2010-01-01 | stop: 2016-09-06 | years: 6</p>\n</blockquote>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/4M3O6.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4M3O6.png\" alt=\"Table of all date-time types in Java, both modern and legacy\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/NW5IM.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/NW5IM.png\" alt=\"Table of which java.time library to use with which version of Java or Android\" /></a></p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1529497623,"post_id":50947810,"comment_id":88893952,"body_markdown":"Thanks for wanting to contribute. I tried your code with `date1 = &quot;07-11-2015&quot;`and `date2 = &quot;07-01-2016&quot;`. Expected result was 2 months, Instead I got `The Total Months difference between two dates is --&gt; 22 Months`. Its easier than you think to get date math wrong, and even more so when you choose poor variable names. There is a reason why people prefer and advocate the library classes.","body":"Thanks for wanting to contribute. I tried your code with <code>date1 = &quot;07-11-2015&quot;</code>and <code>date2 = &quot;07-01-2016&quot;</code>. Expected result was 2 months, Instead I got <code>The Total Months difference between two dates is --&gt; 22 Months</code>. Its easier than you think to get date math wrong, and even more so when you choose poor variable names. There is a reason why people prefer and advocate the library classes."}],"tags":[],"owner":{"account_id":8707325,"reputation":37,"user_id":6514822,"display_name":"keyRen"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1529496251,"creation_date":1529496251,"answer_id":50947810,"question_id":7906301,"body_markdown":" This will work and if you want the number of years replace 12 to 1 \r\n\r\n        String date1 = &quot;07-01-2015&quot;;\r\n        String date2 = &quot;07-11-2015&quot;;\r\n        int i = Integer.parseInt(date1.substring(6));\r\n        int j = Integer.parseInt(date2.substring(6));\r\n        int p = Integer.parseInt(date1.substring(3,5));\r\n        int q = Integer.parseInt(date2.substring(3,5));\r\n\r\n\r\n        int z;\r\n        if(q&gt;=p){\r\n            z=q-p + (j-i)*12;\r\n        }else{\r\n            z=p-q + (j-i)*12;\r\n        }\r\n        System.out.println(&quot;The Total Months difference between two dates is --&gt; &quot;+z+&quot; Months&quot;);","title":"How can I find the number of years between two dates?","body":"<p>This will work and if you want the number of years replace 12 to 1 </p>\n\n<pre><code>    String date1 = \"07-01-2015\";\n    String date2 = \"07-11-2015\";\n    int i = Integer.parseInt(date1.substring(6));\n    int j = Integer.parseInt(date2.substring(6));\n    int p = Integer.parseInt(date1.substring(3,5));\n    int q = Integer.parseInt(date2.substring(3,5));\n\n\n    int z;\n    if(q&gt;=p){\n        z=q-p + (j-i)*12;\n    }else{\n        z=p-q + (j-i)*12;\n    }\n    System.out.println(\"The Total Months difference between two dates is --&gt; \"+z+\" Months\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8707325,"reputation":37,"user_id":6514822,"display_name":"keyRen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530611795,"creation_date":1530611795,"answer_id":51151644,"question_id":7906301,"body_markdown":"Thanks @Ole V.v for reviewing it: i have found some inbuilt library classes which does the same \r\n\r\n        int noOfMonths = 0;\r\n\t\torg.joda.time.format.DateTimeFormatter formatter = DateTimeFormat\r\n\t\t\t\t.forPattern(&quot;yyyy-MM-dd&quot;);\r\n\t\tDateTime dt = formatter.parseDateTime(startDate);\r\n\r\n\t\tDateTime endDate11 = new DateTime();\r\n\t\tMonths m = Months.monthsBetween(dt, endDate11);\r\n\t\tnoOfMonths = m.getMonths();\r\n        System.out.println(noOfMonths);","title":"How can I find the number of years between two dates?","body":"<p>Thanks @Ole V.v for reviewing it: i have found some inbuilt library classes which does the same </p>\n\n<pre><code>    int noOfMonths = 0;\n    org.joda.time.format.DateTimeFormatter formatter = DateTimeFormat\n            .forPattern(\"yyyy-MM-dd\");\n    DateTime dt = formatter.parseDateTime(startDate);\n\n    DateTime endDate11 = new DateTime();\n    Months m = Months.monthsBetween(dt, endDate11);\n    noOfMonths = m.getMonths();\n    System.out.println(noOfMonths);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1622137961,"post_id":67724520,"comment_id":119712015,"body_markdown":"Any advantage over the one-liner by Basil Bourque? I recommend staying away form `SImpleDateFormat`, its a notorious troublemaker of a class. And converting to an `int` the numerical value if which makes no sense? Me dont like.","body":"Any advantage over the one-liner by Basil Bourque? I recommend staying away form <code>SImpleDateFormat</code>, its a notorious troublemaker of a class. And converting to an <code>int</code> the numerical value if which makes no sense? Me dont like."},{"owner":{"account_id":4640025,"reputation":508,"user_id":3760155,"display_name":"Bee Chow"},"score":0,"creation_date":1631449401,"post_id":67724520,"comment_id":122219877,"body_markdown":"comparing to Basil&#39;s is mainly the learning curve of java.time cos not everyone would have much time to spend on studying;   SimpleDateFormat is only by design to be minimal and not for multithreading so many people may hit issues if they are not aware.  This can be easily resolved by a simple synchironized block;  this int solution move the logic computation from partially-library to simple maths computation wich is in fact not complex.  This is of least use of library it don&#39;t even need to involve Calendar class;  this is intuitive and easy to understand.","body":"comparing to Basil&#39;s is mainly the learning curve of java.time cos not everyone would have much time to spend on studying;   SimpleDateFormat is only by design to be minimal and not for multithreading so many people may hit issues if they are not aware.  This can be easily resolved by a simple synchironized block;  this int solution move the logic computation from partially-library to simple maths computation wich is in fact not complex.  This is of least use of library it don&#39;t even need to involve Calendar class;  this is intuitive and easy to understand."}],"tags":[],"owner":{"account_id":4640025,"reputation":508,"user_id":3760155,"display_name":"Bee Chow"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622126643,"creation_date":1622126643,"answer_id":67724520,"question_id":7906301,"body_markdown":"a handy one if you don&#39;t want to border Calendar, Locale, or external library:\r\n\r\n    private static SimpleDateFormat YYYYMMDD = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\r\n    public static Integer toDate8d(Date date) {\r\n        String s;\r\n        synchronized (YYYYMMDD) { s = YYYYMMDD.format(date); }\t// SimpleDateFormat thread safety\r\n        return Integer.valueOf(s);\r\n    }\r\n    public static Integer yearDiff(Date pEarlier, Date pLater) {\r\n        return (toDate8d(pLater) - toDate8d(pEarlier)) / 10000;\r\n    }","title":"How can I find the number of years between two dates?","body":"<p>a handy one if you don't want to border Calendar, Locale, or external library:</p>\n<pre><code>private static SimpleDateFormat YYYYMMDD = new SimpleDateFormat(&quot;yyyyMMdd&quot;);\npublic static Integer toDate8d(Date date) {\n    String s;\n    synchronized (YYYYMMDD) { s = YYYYMMDD.format(date); }  // SimpleDateFormat thread safety\n    return Integer.valueOf(s);\n}\npublic static Integer yearDiff(Date pEarlier, Date pLater) {\n    return (toDate8d(pLater) - toDate8d(pEarlier)) / 10000;\n}\n</code></pre>\n"}],"owner":{"account_id":289709,"reputation":14397,"user_id":590840,"accept_rate":71,"display_name":"Micah Hainline"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133092,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":10215152,"answer_count":12,"score":74,"last_activity_date":1666214771,"creation_date":1319649186,"question_id":7906301,"body_markdown":"I am trying to determine an age in years from a certain date.  Does anyone know a clean way to do this in Android?  I have the Java api available obviously, but the straight-up java api is pretty weak, and I was hoping that Android has something to help me out.\r\n\r\nEDIT: The multiple recommendations to use Joda time in Android worries me a bit due to https://stackoverflow.com/questions/5059663/android-java-joda-date-is-slow and related concerns.  Also, pulling in a library not shipped with the platform for something this size is probably overkill.  ","title":"How can I find the number of years between two dates?","body":"<p>I am trying to determine an age in years from a certain date.  Does anyone know a clean way to do this in Android?  I have the Java api available obviously, but the straight-up java api is pretty weak, and I was hoping that Android has something to help me out.</p>\n\n<p>EDIT: The multiple recommendations to use Joda time in Android worries me a bit due to <a href=\"https://stackoverflow.com/questions/5059663/android-java-joda-date-is-slow\">Android Java - Joda Date is slow</a> and related concerns.  Also, pulling in a library not shipped with the platform for something this size is probably overkill.  </p>\n"},{"tags":["java","android","crash"],"answers":[{"tags":[],"owner":{"account_id":7140037,"reputation":73,"user_id":5458089,"display_name":"Arnold Mr ARNOLD Charyyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666214235,"creation_date":1666214235,"answer_id":74132002,"question_id":74130674,"body_markdown":"What a stupid error, solved by editing themes.xml (night mode) adding .Bridge\r\n\r\nbefore:\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n\r\nnow:\r\n\r\n    &lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar.Bridge&quot;&gt;\r\n        &lt;!-- Primary brand color. --&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Secondary brand color. --&gt;\r\n        &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;!-- Status bar color. --&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;!-- Customize your theme here. --&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;","title":"Difference between API 30 and API 31 Android -&gt; App is crashing","body":"<p>What a stupid error, solved by editing themes.xml (night mode) adding .Bridge</p>\n<p>before:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>now:</p>\n<pre><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n&lt;!-- Base application theme. --&gt;\n&lt;style name=&quot;Theme.MyApplication&quot; parent=&quot;Theme.MaterialComponents.DayNight.DarkActionBar.Bridge&quot;&gt;\n    &lt;!-- Primary brand color. --&gt;\n    &lt;item name=&quot;colorPrimary&quot;&gt;@color/purple_200&lt;/item&gt;\n    &lt;item name=&quot;colorPrimaryVariant&quot;&gt;@color/purple_700&lt;/item&gt;\n    &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Secondary brand color. --&gt;\n    &lt;item name=&quot;colorSecondary&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorSecondaryVariant&quot;&gt;@color/teal_200&lt;/item&gt;\n    &lt;item name=&quot;colorOnSecondary&quot;&gt;@color/black&lt;/item&gt;\n    &lt;!-- Status bar color. --&gt;\n    &lt;item name=&quot;android:statusBarColor&quot; tools:targetApi=&quot;l&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n    &lt;!-- Customize your theme here. --&gt;\n&lt;/style&gt;\n</code></pre>\n\n"}],"owner":{"account_id":7140037,"reputation":73,"user_id":5458089,"display_name":"Arnold Mr ARNOLD Charyyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74132002,"answer_count":1,"score":0,"last_activity_date":1666214235,"creation_date":1666206563,"question_id":74130674,"body_markdown":"I found weird behaviour of my code which is result in crash of my app with following exception: \r\n\r\n&gt; java.lang.IllegalArgumentException: Wrong state class, expecting View State but received class com.google.android.material.button.MaterialButton$SavedState instead. This usually happens when two views of different type have the same id in the same hierarchy. This view&#39;s id is id/story. Make sure other views do not use the same id.\r\n\r\nI was looking at code, both java and xml and didn&#39;t find any duplicates even with &quot;Find Usage&quot; provided by Android Studio - haven&#39;t found nothing in particular.\r\nSo, I ran my app on my phone with Android 11 - it works like a charm. But it crashed in my other one phone with Android 12. Now I&#39;m confused like &quot;The hell is going on&quot;.\r\nHere&#39;s my Java code:\r\n\r\n    public class MainActivity extends AppCompatActivity implements View.OnClickListener,\r\n        NavigationView.OnNavigationItemSelectedListener {\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n    private Button storyButton,\r\n            specSectButton,\r\n            webRegistryButton,\r\n            feedBackButton,\r\n            findUsButton,\r\n            rssFeedReader;\r\n    private AlertDialog.Builder builder;\r\n    private AlertDialog dialog;\r\n    private Intent intent;\r\n    private ActivityMainBinding binding;\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    private DrawerLayout drawerLayout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        try {\r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            setContentView(binding.getRoot());\r\n\r\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n\r\n            Toolbar toolbar = findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n            toolbar.setNavigationOnClickListener(view -&gt; drawerLayout.openDrawer(GravityCompat.START));\r\n\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{\r\n                            android.Manifest.permission.ACCESS_COARSE_LOCATION\r\n                    }, 1);\r\n\r\n            storyButton = findViewById(R.id.story);\r\n            storyButton.setOnClickListener(this);\r\n\r\n            specSectButton = findViewById(R.id.sections);\r\n            specSectButton.setOnClickListener(this);\r\n\r\n            webRegistryButton = findViewById(R.id.eRegistry);\r\n            webRegistryButton.setOnClickListener(this);\r\n\r\n            feedBackButton = findViewById(R.id.feedback);\r\n            feedBackButton.setOnClickListener(this);\r\n\r\n            findUsButton = findViewById(R.id.find_us);\r\n            findUsButton.setOnClickListener(this);\r\n\r\n            rssFeedReader = findViewById(R.id.app_blog);\r\n            rssFeedReader.setOnClickListener(this);\r\n\r\n            drawerLayout = binding.drawerLayout;\r\n            NavigationView navigationView = binding.navView;\r\n            navigationView.setNavigationItemSelectedListener(this);\r\n            mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n                    R.id.nav_home,\r\n                    R.id.nav_our_story,\r\n                    R.id.nav_study_addresses,\r\n                    R.id.nav_e_registry_link,\r\n                    R.id.nav_feedback_to_staff,\r\n                    R.id.nav_findus,\r\n                    R.id.nav_app_blog\r\n            ).setOpenableLayout(drawerLayout)\r\n                    .build();\r\n        } catch (Exception ex) {\r\n            Log.d(TAG, ex.getMessage());\r\n        }\r\n    }\r\n\r\n    private void storyButtonClicked() {\r\n        startActivity(new Intent(getApplicationContext(), StoryActivity.class));\r\n    }\r\n\r\n    private void specSectButtonClicked() {\r\n        startActivity(new Intent(getApplicationContext(), SpecStorySectionActivity.class));\r\n    }\r\n\r\n    private void webRegistryButtonClicked() {\r\n        intent = getPackageManager().getLaunchIntentForPackage(&quot;eu.spaggiari.classeviva&quot;);\r\n        if (intent != null) {\r\n            // We found the activity now start the activity\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n        } else {\r\n            // Bring user to the market or let them choose an app?\r\n            intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            intent.setData(Uri.parse(&quot;market://details?id=&quot; + &quot;eu.spaggiari.classeviva&quot;));\r\n        }\r\n        startActivity(intent);\r\n    }\r\n\r\n    private void feedbackMailToButtonClicked() {\r\n        startActivity(new Intent(getApplicationContext(), EmailSendingActivity.class));\r\n    }\r\n\r\n    private void rssNewsButtonClicked() {\r\n        startActivity(new Intent(getApplicationContext(), RSSReaderActivity.class));\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        try {\r\n            int id = v.getId();\r\n            if (id == R.id.story) {\r\n                storyButtonClicked();\r\n            } else if (id == R.id.sections) {\r\n                specSectButtonClicked();\r\n            } else if (id == R.id.eRegistry) {\r\n                webRegistryButtonClicked();\r\n            } else if (id == R.id.feedback) {\r\n                feedbackMailToButtonClicked();\r\n            } else if (id == R.id.app_blog) {\r\n                rssNewsButtonClicked();\r\n            } else if (id == R.id.find_us) {\r\n                builder = new AlertDialog.Builder(this);\r\n                builder.setIcon(R.mipmap.ic_launcher)\r\n                        .setTitle(R.string.created_for)\r\n                        .setMessage(R.string.reaching_from_fornovo_FS)\r\n                        .setPositiveButton(R.string.ok, (dialog, which) -&gt; startActivity(new Intent(getApplicationContext(),\r\n                                MapsLoader.class)))\r\n                        .show().setCanceledOnTouchOutside(true);\r\n                dialog = builder.create();\r\n                dialog.dismiss();\r\n            }\r\n        } catch (Exception ex) {\r\n            Log.d(TAG, ex.getMessage());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        if (item.getItemId() == android.R.id.home) {\r\n            drawerLayout.openDrawer(GravityCompat.START);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == R.id.nav_home) {\r\n            startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        } else if (id == R.id.nav_our_story) {\r\n            startActivity(new Intent(getApplicationContext(), StoryActivity.class));\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        } else if (id == R.id.nav_study_addresses) {\r\n            startActivity(new Intent(getApplicationContext(), SpecStorySectionActivity.class));\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        } else if (id == R.id.nav_e_registry_link) {\r\n            startActivity(new Intent(getApplicationContext(), WebRegistryActivity.class));\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        } else if (id == R.id.nav_feedback_to_staff) {\r\n            startActivity(new Intent(getApplicationContext(), EmailSendingActivity.class));\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        } else if (id == R.id.nav_findus) {\r\n            startActivity(new Intent(getApplicationContext(), MapsLoader.class));\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        } else if (id == R.id.nav_app_blog) {\r\n            startActivity(new Intent(getApplicationContext(), RSSReaderActivity.class));\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        } else if (id == R.id.dev_team) {\r\n            builder = new AlertDialog.Builder(this);\r\n            builder.setIcon(R.mipmap.icon_dev_team)\r\n                    .setTitle(R.string.dev_team)\r\n                    .setView(getLayoutInflater().inflate(R.layout.handler_dev_team, null))\r\n                    .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; dialog.dismiss()).show().setCanceledOnTouchOutside(true);\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        } else if (id == R.id.subscribe) {\r\n            startActivity(new Intent(getApplicationContext(), SendBugCrashReport.class));\r\n            DrawerCloser.closeDrawer(drawerLayout);\r\n        }\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        builder = new AlertDialog.Builder(this);\r\n        builder.setIcon(R.mipmap.ic_launcher)\r\n                .setTitle(R.string.created_for)\r\n                .setMessage(R.string.confirm_exit)\r\n                .show().setCanceledOnTouchOutside(true);\r\n        dialog = builder.create();\r\n        dialog.dismiss();\r\n    }}\r\n\r\nThis is XML layout file:\r\n\r\n            &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/drawer_layout&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    android:forceDarkAllowed=&quot;false&quot;\r\n    tools:context=&quot;.main.MainActivity&quot;&gt;\r\n    &lt;!-- As the main content view, the view below consumes the entire\r\n         space available using match_parent in both dimensions. --&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n        &lt;com.google.android.material.appbar.AppBarLayout\r\n            android:id=&quot;@+id/app_bar_layout&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:navigationIcon=&quot;@drawable/ic_home&quot;\r\n                app:title=&quot;@string/app_name&quot;\r\n                app:titleTextColor=&quot;@color/black&quot; /&gt;\r\n        &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n        &lt;ScrollView\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;fill_parent&quot;\r\n            android:layout_below=&quot;@id/app_bar_layout&quot;&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/story&quot;\r\n                    android:layout_width=&quot;fill_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:background=&quot;#78ffff33&quot;\r\n                    android:text=&quot;@string/label_our_story&quot;\r\n                    android:textColor=&quot;#000&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/sections&quot;\r\n                    android:layout_width=&quot;fill_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/story&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:background=&quot;#784169e1&quot;\r\n                    android:text=&quot;@string/specSectionButtonId&quot;\r\n                    android:textColor=&quot;#000&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/eRegistry&quot;\r\n                    android:layout_width=&quot;fill_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/sections&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:background=&quot;#78ff6347&quot;\r\n                    android:text=&quot;@string/e_registry&quot;\r\n                    android:textColor=&quot;#000&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/feedback&quot;\r\n                    android:layout_width=&quot;fill_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/eRegistry&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:background=&quot;#78c0c0c0&quot;\r\n                    android:text=&quot;@string/feedback&quot;\r\n                    android:textColor=&quot;#000&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/find_us&quot;\r\n                    android:layout_width=&quot;fill_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/feedback&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:background=&quot;#78ffff33&quot;\r\n                    android:text=&quot;@string/findus&quot;\r\n                    android:textColor=&quot;#000&quot; /&gt;\r\n\r\n                &lt;Button\r\n                    android:id=&quot;@+id/app_blog&quot;\r\n                    android:layout_width=&quot;fill_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@id/find_us&quot;\r\n                    android:layout_centerHorizontal=&quot;true&quot;\r\n                    android:layout_marginLeft=&quot;5dp&quot;\r\n                    android:layout_marginTop=&quot;5dp&quot;\r\n                    android:layout_marginRight=&quot;5dp&quot;\r\n                    android:background=&quot;#784169e1&quot;\r\n                    android:text=&quot;@string/app_blog&quot;\r\n                    android:textColor=&quot;#000&quot; /&gt;\r\n            &lt;/RelativeLayout&gt;\r\n        &lt;/ScrollView&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:id=&quot;@+id/nav_view&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        app:headerLayout=&quot;@layout/nav_header_main&quot;\r\n        app:menu=&quot;@menu/activity_main_drawer&quot; /&gt;&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\nAny ideas on what I&#39;m doing wrong? I repeat: in android 11 it works like a charm, in android 12 - it crashed with the exception mentioned in quotes.\r\n\r\nThank you.                                \t","title":"Difference between API 30 and API 31 Android -&gt; App is crashing","body":"<p>I found weird behaviour of my code which is result in crash of my app with following exception:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: Wrong state class, expecting View State but received class com.google.android.material.button.MaterialButton$SavedState instead. This usually happens when two views of different type have the same id in the same hierarchy. This view's id is id/story. Make sure other views do not use the same id.</p>\n</blockquote>\n<p>I was looking at code, both java and xml and didn't find any duplicates even with &quot;Find Usage&quot; provided by Android Studio - haven't found nothing in particular.\nSo, I ran my app on my phone with Android 11 - it works like a charm. But it crashed in my other one phone with Android 12. Now I'm confused like &quot;The hell is going on&quot;.\nHere's my Java code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements View.OnClickListener,\n    NavigationView.OnNavigationItemSelectedListener {\nprivate static final String TAG = &quot;MainActivity&quot;;\nprivate Button storyButton,\n        specSectButton,\n        webRegistryButton,\n        feedBackButton,\n        findUsButton,\n        rssFeedReader;\nprivate AlertDialog.Builder builder;\nprivate AlertDialog dialog;\nprivate Intent intent;\nprivate ActivityMainBinding binding;\nprivate AppBarConfiguration mAppBarConfiguration;\nprivate DrawerLayout drawerLayout;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    try {\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n        toolbar.setNavigationOnClickListener(view -&gt; drawerLayout.openDrawer(GravityCompat.START));\n\n        ActivityCompat.requestPermissions(this,\n                new String[]{\n                        android.Manifest.permission.ACCESS_COARSE_LOCATION\n                }, 1);\n\n        storyButton = findViewById(R.id.story);\n        storyButton.setOnClickListener(this);\n\n        specSectButton = findViewById(R.id.sections);\n        specSectButton.setOnClickListener(this);\n\n        webRegistryButton = findViewById(R.id.eRegistry);\n        webRegistryButton.setOnClickListener(this);\n\n        feedBackButton = findViewById(R.id.feedback);\n        feedBackButton.setOnClickListener(this);\n\n        findUsButton = findViewById(R.id.find_us);\n        findUsButton.setOnClickListener(this);\n\n        rssFeedReader = findViewById(R.id.app_blog);\n        rssFeedReader.setOnClickListener(this);\n\n        drawerLayout = binding.drawerLayout;\n        NavigationView navigationView = binding.navView;\n        navigationView.setNavigationItemSelectedListener(this);\n        mAppBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.nav_home,\n                R.id.nav_our_story,\n                R.id.nav_study_addresses,\n                R.id.nav_e_registry_link,\n                R.id.nav_feedback_to_staff,\n                R.id.nav_findus,\n                R.id.nav_app_blog\n        ).setOpenableLayout(drawerLayout)\n                .build();\n    } catch (Exception ex) {\n        Log.d(TAG, ex.getMessage());\n    }\n}\n\nprivate void storyButtonClicked() {\n    startActivity(new Intent(getApplicationContext(), StoryActivity.class));\n}\n\nprivate void specSectButtonClicked() {\n    startActivity(new Intent(getApplicationContext(), SpecStorySectionActivity.class));\n}\n\nprivate void webRegistryButtonClicked() {\n    intent = getPackageManager().getLaunchIntentForPackage(&quot;eu.spaggiari.classeviva&quot;);\n    if (intent != null) {\n        // We found the activity now start the activity\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n    } else {\n        // Bring user to the market or let them choose an app?\n        intent = new Intent(Intent.ACTION_VIEW);\n        intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        intent.setData(Uri.parse(&quot;market://details?id=&quot; + &quot;eu.spaggiari.classeviva&quot;));\n    }\n    startActivity(intent);\n}\n\nprivate void feedbackMailToButtonClicked() {\n    startActivity(new Intent(getApplicationContext(), EmailSendingActivity.class));\n}\n\nprivate void rssNewsButtonClicked() {\n    startActivity(new Intent(getApplicationContext(), RSSReaderActivity.class));\n}\n\n@Override\npublic void onClick(View v) {\n    try {\n        int id = v.getId();\n        if (id == R.id.story) {\n            storyButtonClicked();\n        } else if (id == R.id.sections) {\n            specSectButtonClicked();\n        } else if (id == R.id.eRegistry) {\n            webRegistryButtonClicked();\n        } else if (id == R.id.feedback) {\n            feedbackMailToButtonClicked();\n        } else if (id == R.id.app_blog) {\n            rssNewsButtonClicked();\n        } else if (id == R.id.find_us) {\n            builder = new AlertDialog.Builder(this);\n            builder.setIcon(R.mipmap.ic_launcher)\n                    .setTitle(R.string.created_for)\n                    .setMessage(R.string.reaching_from_fornovo_FS)\n                    .setPositiveButton(R.string.ok, (dialog, which) -&gt; startActivity(new Intent(getApplicationContext(),\n                            MapsLoader.class)))\n                    .show().setCanceledOnTouchOutside(true);\n            dialog = builder.create();\n            dialog.dismiss();\n        }\n    } catch (Exception ex) {\n        Log.d(TAG, ex.getMessage());\n    }\n}\n\n@Override\npublic boolean onOptionsItemSelected(MenuItem item) {\n    if (item.getItemId() == android.R.id.home) {\n        drawerLayout.openDrawer(GravityCompat.START);\n    }\n    return super.onOptionsItemSelected(item);\n}\n\n@Override\npublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\n    int id = item.getItemId();\n    if (id == R.id.nav_home) {\n        startActivity(new Intent(getApplicationContext(), MainActivity.class));\n        DrawerCloser.closeDrawer(drawerLayout);\n    } else if (id == R.id.nav_our_story) {\n        startActivity(new Intent(getApplicationContext(), StoryActivity.class));\n        DrawerCloser.closeDrawer(drawerLayout);\n    } else if (id == R.id.nav_study_addresses) {\n        startActivity(new Intent(getApplicationContext(), SpecStorySectionActivity.class));\n        DrawerCloser.closeDrawer(drawerLayout);\n    } else if (id == R.id.nav_e_registry_link) {\n        startActivity(new Intent(getApplicationContext(), WebRegistryActivity.class));\n        DrawerCloser.closeDrawer(drawerLayout);\n    } else if (id == R.id.nav_feedback_to_staff) {\n        startActivity(new Intent(getApplicationContext(), EmailSendingActivity.class));\n        DrawerCloser.closeDrawer(drawerLayout);\n    } else if (id == R.id.nav_findus) {\n        startActivity(new Intent(getApplicationContext(), MapsLoader.class));\n        DrawerCloser.closeDrawer(drawerLayout);\n    } else if (id == R.id.nav_app_blog) {\n        startActivity(new Intent(getApplicationContext(), RSSReaderActivity.class));\n        DrawerCloser.closeDrawer(drawerLayout);\n    } else if (id == R.id.dev_team) {\n        builder = new AlertDialog.Builder(this);\n        builder.setIcon(R.mipmap.icon_dev_team)\n                .setTitle(R.string.dev_team)\n                .setView(getLayoutInflater().inflate(R.layout.handler_dev_team, null))\n                .setPositiveButton(&quot;OK&quot;, (dialog, which) -&gt; dialog.dismiss()).show().setCanceledOnTouchOutside(true);\n        DrawerCloser.closeDrawer(drawerLayout);\n    } else if (id == R.id.subscribe) {\n        startActivity(new Intent(getApplicationContext(), SendBugCrashReport.class));\n        DrawerCloser.closeDrawer(drawerLayout);\n    }\n    return true;\n}\n\n@Override\npublic void onBackPressed() {\n    builder = new AlertDialog.Builder(this);\n    builder.setIcon(R.mipmap.ic_launcher)\n            .setTitle(R.string.created_for)\n            .setMessage(R.string.confirm_exit)\n            .show().setCanceledOnTouchOutside(true);\n    dialog = builder.create();\n    dialog.dismiss();\n}}\n</code></pre>\n<p>This is XML layout file:</p>\n<pre><code>        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:id=&quot;@+id/drawer_layout&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;match_parent&quot;\nandroid:fitsSystemWindows=&quot;true&quot;\nandroid:forceDarkAllowed=&quot;false&quot;\ntools:context=&quot;.main.MainActivity&quot;&gt;\n&lt;!-- As the main content view, the view below consumes the entire\n     space available using match_parent in both dimensions. --&gt;\n\n&lt;RelativeLayout\n    android:id=&quot;@+id/container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:id=&quot;@+id/app_bar_layout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:navigationIcon=&quot;@drawable/ic_home&quot;\n            app:title=&quot;@string/app_name&quot;\n            app:titleTextColor=&quot;@color/black&quot; /&gt;\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;ScrollView\n        android:layout_width=&quot;fill_parent&quot;\n        android:layout_height=&quot;fill_parent&quot;\n        android:layout_below=&quot;@id/app_bar_layout&quot;&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/story&quot;\n                android:layout_width=&quot;fill_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:background=&quot;#78ffff33&quot;\n                android:text=&quot;@string/label_our_story&quot;\n                android:textColor=&quot;#000&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/sections&quot;\n                android:layout_width=&quot;fill_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/story&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:background=&quot;#784169e1&quot;\n                android:text=&quot;@string/specSectionButtonId&quot;\n                android:textColor=&quot;#000&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/eRegistry&quot;\n                android:layout_width=&quot;fill_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/sections&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:background=&quot;#78ff6347&quot;\n                android:text=&quot;@string/e_registry&quot;\n                android:textColor=&quot;#000&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/feedback&quot;\n                android:layout_width=&quot;fill_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/eRegistry&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:background=&quot;#78c0c0c0&quot;\n                android:text=&quot;@string/feedback&quot;\n                android:textColor=&quot;#000&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/find_us&quot;\n                android:layout_width=&quot;fill_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/feedback&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:background=&quot;#78ffff33&quot;\n                android:text=&quot;@string/findus&quot;\n                android:textColor=&quot;#000&quot; /&gt;\n\n            &lt;Button\n                android:id=&quot;@+id/app_blog&quot;\n                android:layout_width=&quot;fill_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@id/find_us&quot;\n                android:layout_centerHorizontal=&quot;true&quot;\n                android:layout_marginLeft=&quot;5dp&quot;\n                android:layout_marginTop=&quot;5dp&quot;\n                android:layout_marginRight=&quot;5dp&quot;\n                android:background=&quot;#784169e1&quot;\n                android:text=&quot;@string/app_blog&quot;\n                android:textColor=&quot;#000&quot; /&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/RelativeLayout&gt;\n&lt;com.google.android.material.navigation.NavigationView\n    android:id=&quot;@+id/nav_view&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_gravity=&quot;start&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    app:headerLayout=&quot;@layout/nav_header_main&quot;\n    app:menu=&quot;@menu/activity_main_drawer&quot; /&gt;&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>Any ideas on what I'm doing wrong? I repeat: in android 11 it works like a charm, in android 12 - it crashed with the exception mentioned in quotes.</p>\n<p>Thank you.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1522199774,"post_id":49524562,"comment_id":86055115,"body_markdown":"I suggest that you use [Calendar::set](https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#set(int,%20int))","body":"I suggest that you use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#set(int,%20int)\" rel=\"nofollow noreferrer\">Calendar::set</a>"},{"owner":{"account_id":3432870,"reputation":3577,"user_id":2876754,"accept_rate":90,"display_name":"Sneh"},"score":0,"creation_date":1522250309,"post_id":49524562,"comment_id":86083613,"body_markdown":"Any reason for using Calendars? Are you allowed to use java 8&#39;s time api?","body":"Any reason for using Calendars? Are you allowed to use java 8&#39;s time api?"}],"answers":[{"comments":[{"owner":{"account_id":11218157,"reputation":65,"user_id":8230056,"display_name":"dsadffg"},"score":0,"creation_date":1522199912,"post_id":49524598,"comment_id":86055145,"body_markdown":"But I want to change Date,no fixed .What else can I do?","body":"But I want to change Date,no fixed .What else can I do?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1522200030,"post_id":49524598,"comment_id":86055167,"body_markdown":"see my comment below your question","body":"see my comment below your question"},{"owner":{"account_id":2278011,"reputation":1541,"user_id":2003821,"accept_rate":56,"display_name":"Aadam"},"score":0,"creation_date":1645092288,"post_id":49524598,"comment_id":125780801,"body_markdown":"Rapidly python will replace java in this area as well if it makes hell to just change the time, now when we try to do all this, we will start facing timezone issues and much more.. its total waste of that many lines to simply update the time","body":"Rapidly python will replace java in this area as well if it makes hell to just change the time, now when we try to do all this, we will start facing timezone issues and much more.. its total waste of that many lines to simply update the time"}],"tags":[],"owner":{"account_id":260424,"reputation":23080,"user_id":543969,"accept_rate":86,"display_name":"CodeMonkey"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1666213615,"creation_date":1522199565,"answer_id":49524598,"question_id":49524562,"body_markdown":"If you want to initialize [Date][1] instances from a formatted string with both date and time then time codes should be added to the [SimpleDateFormat][2] pattern to parse strings in that format.\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    Date startDate = sdf.parse(&quot;2018-03-28 00:00:00&quot;);\r\n    Date endDate   = sdf.parse(&quot;2018-03-28 23:59:59&quot;);\r\n\r\nIf you want to simply set the hour, minute, and second on the current date then use a [Calendar][3] instance and set fields on it accordingly.\r\n\r\n     Calendar cal = Calendar.getInstance();\r\n     cal.set(Calendar.HOUR_OF_DAY, 0);\r\n     cal.set(Calendar.MINUTE, 0);\r\n     cal.set(Calendar.SECOND, 0);\r\n     cal.set(Calendar.MILLISECOND, 0)\r\n\r\n     Date startDate = cal.getTime();\r\n     cal.set(Calendar.HOUR_OF_DAY, 23);\r\n     cal.set(Calendar.MINUTE, 59);\r\n     cal.set(Calendar.SECOND, 59);\r\n     cal.set(Calendar.MILLISECOND, 999)\r\n     Date endDate = cal.getTime();\r\n\r\nAnd next output the Date in a particular format:\r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    System.out.println(sdf.format(startDate));\r\n    System.out.println(sdf.format(endDate));\r\n\r\n**Output:**\r\n\r\n    2018/03/28 00:00:00\r\n    2018/03/28 23:59:59\r\n\r\n**Dealing with time zones**\r\n\r\nIf time zone is other than the local time zone then it&#39;s a good idea to be explicit with what timezone you&#39;re working with. Calendar and SimpleDateFormat instances must be consistent with what timezone you&#39;re dealing with or the date and/or times may be off.\r\n\r\n    TimeZone utc = TimeZone.getTimeZone(&quot;UTC&quot;);\r\n    Calendar cal = Calendar.getInstance(utc);\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\r\n    sdf.setTimeZone(utc);\r\n\r\nA substitute for *SimpleDateFormat* is using [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) class found in the newer `java.time` package added to Java 8.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\r\n","title":"How to set datetime to end of day in java","body":"<p>If you want to initialize <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\">Date</a> instances from a formatted string with both date and time then time codes should be added to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">SimpleDateFormat</a> pattern to parse strings in that format.</p>\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nDate startDate = sdf.parse(&quot;2018-03-28 00:00:00&quot;);\nDate endDate   = sdf.parse(&quot;2018-03-28 23:59:59&quot;);\n</code></pre>\n<p>If you want to simply set the hour, minute, and second on the current date then use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">Calendar</a> instance and set fields on it accordingly.</p>\n<pre><code> Calendar cal = Calendar.getInstance();\n cal.set(Calendar.HOUR_OF_DAY, 0);\n cal.set(Calendar.MINUTE, 0);\n cal.set(Calendar.SECOND, 0);\n cal.set(Calendar.MILLISECOND, 0)\n\n Date startDate = cal.getTime();\n cal.set(Calendar.HOUR_OF_DAY, 23);\n cal.set(Calendar.MINUTE, 59);\n cal.set(Calendar.SECOND, 59);\n cal.set(Calendar.MILLISECOND, 999)\n Date endDate = cal.getTime();\n</code></pre>\n<p>And next output the Date in a particular format:</p>\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\nSystem.out.println(sdf.format(startDate));\nSystem.out.println(sdf.format(endDate));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2018/03/28 00:00:00\n2018/03/28 23:59:59\n</code></pre>\n<p><strong>Dealing with time zones</strong></p>\n<p>If time zone is other than the local time zone then it's a good idea to be explicit with what timezone you're working with. Calendar and SimpleDateFormat instances must be consistent with what timezone you're dealing with or the date and/or times may be off.</p>\n<pre><code>TimeZone utc = TimeZone.getTimeZone(&quot;UTC&quot;);\nCalendar cal = Calendar.getInstance(utc);\nSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;);\nsdf.setTimeZone(utc);\n</code></pre>\n<p>A substitute for <em>SimpleDateFormat</em> is using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> class found in the newer <code>java.time</code> package added to Java 8.</p>\n"},{"tags":[],"owner":{"account_id":2744963,"reputation":1366,"user_id":2365580,"accept_rate":67,"display_name":"Holi Boom"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522200231,"creation_date":1522200231,"answer_id":49524665,"question_id":49524562,"body_markdown":"    Calendar cal = Calendar.getInstance();\r\n\t    SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd 00:00:00&quot;);\r\n\t    SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd 23:59:59&quot;);\r\n\t    \r\n\t    SimpleDateFormat sdf3 = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t    \r\n\t    String str1=sdf1.format(cal.getTime());\r\n\t    String str2=sdf2.format(cal.getTime());\r\n\t    try {\r\n\t\t\tDate startDate = sdf3.parse(str1);\r\n\t\t\tDate endDate = sdf3.parse(str2);\r\n\t\t\tSystem.out.println(str1);\r\n\t\t\tSystem.out.println(str2);\r\n\t\t\t\r\n\t\t\tSystem.out.println(startDate.toString());\r\n\t\t\tSystem.out.println(endDate.toString());\r\n\t\t} catch (ParseException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n    OUT PUT\r\n    2018-03-28 00:00:00\r\n    2018-03-28 23:59:59\r\n    Wed Mar 28 00:00:00 ICT 2018\r\n    Wed Mar 28 23:59:59 ICT 2018\r\n\r\nI think, maybe sdf1 and sdf2 don&#39;t provide clear format.\r\nSo change time to HH:mm:ss.","title":"How to set datetime to end of day in java","body":"<pre><code>Calendar cal = Calendar.getInstance();\n    SimpleDateFormat sdf1 = new SimpleDateFormat(\"yyyy-MM-dd 00:00:00\");\n    SimpleDateFormat sdf2 = new SimpleDateFormat(\"yyyy-MM-dd 23:59:59\");\n\n    SimpleDateFormat sdf3 = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n    String str1=sdf1.format(cal.getTime());\n    String str2=sdf2.format(cal.getTime());\n    try {\n        Date startDate = sdf3.parse(str1);\n        Date endDate = sdf3.parse(str2);\n        System.out.println(str1);\n        System.out.println(str2);\n\n        System.out.println(startDate.toString());\n        System.out.println(endDate.toString());\n    } catch (ParseException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\nOUT PUT\n2018-03-28 00:00:00\n2018-03-28 23:59:59\nWed Mar 28 00:00:00 ICT 2018\nWed Mar 28 23:59:59 ICT 2018\n</code></pre>\n\n<p>I think, maybe sdf1 and sdf2 don't provide clear format.\nSo change time to HH:mm:ss.</p>\n"},{"tags":[],"owner":{"account_id":6614344,"reputation":77,"user_id":5108186,"display_name":"sahil0021"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1522200946,"creation_date":1522200946,"answer_id":49524768,"question_id":49524562,"body_markdown":"You can solve this problem like this\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n\t\tSimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd 00:00:00&quot;);\r\n\t    SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd 23:59:59&quot;);\r\n\t    String str1=sdf1.format(cal.getTime());\r\n\t    String str2=sdf2.format(cal.getTime());\r\n\t    Date startDate = sdf1.parse(str1);\r\n\t    Date endDate = sdf2.parse(str2);\r\n\t    String startDateTime  = sdf1.format(startDate);\r\n\t    String endDateTime = sdf2.format(endDate);\r\n\t    System.out.println(&quot;startDate -----&gt;&quot; + startDateTime);\r\n\t    System.out.println(&quot;endDate -----&gt;&quot; + endDateTime);\r\n\r\nThe output of this \r\n\r\n    startDate -----&gt;2018-03-28 00:00:00\r\n    endDate -----&gt;2018-03-28 23:59:59\r\nHope this is what you want.","title":"How to set datetime to end of day in java","body":"<p>You can solve this problem like this</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\n    SimpleDateFormat sdf1 = new SimpleDateFormat(\"yyyy-MM-dd 00:00:00\");\n    SimpleDateFormat sdf2 = new SimpleDateFormat(\"yyyy-MM-dd 23:59:59\");\n    String str1=sdf1.format(cal.getTime());\n    String str2=sdf2.format(cal.getTime());\n    Date startDate = sdf1.parse(str1);\n    Date endDate = sdf2.parse(str2);\n    String startDateTime  = sdf1.format(startDate);\n    String endDateTime = sdf2.format(endDate);\n    System.out.println(\"startDate -----&gt;\" + startDateTime);\n    System.out.println(\"endDate -----&gt;\" + endDateTime);\n</code></pre>\n\n<p>The output of this </p>\n\n<pre><code>startDate -----&gt;2018-03-28 00:00:00\nendDate -----&gt;2018-03-28 23:59:59\n</code></pre>\n\n<p>Hope this is what you want.</p>\n"},{"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1522201485,"post_id":49524783,"comment_id":86055443,"body_markdown":"According to Javadocs *Use set(Calendar.HOUR_OF_DAY, 0) to reset the hour value.*","body":"According to Javadocs <i>Use set(Calendar.HOUR_OF_DAY, 0) to reset the hour value.</i>"}],"tags":[],"owner":{"account_id":947871,"reputation":64287,"user_id":974731,"display_name":"cybersam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522202886,"creation_date":1522201105,"answer_id":49524783,"question_id":49524562,"body_markdown":"If you just want to get the `Date` values for today&#39;s start and end times, you don&#39;t need to use date formatting utilities (like `SimpleDateFormat`) at all:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(Calendar.HOUR_OF_DAY, 0);\r\n    cal.clear(Calendar.MINUTE);\r\n    cal.clear(Calendar.SECOND);\r\n    cal.clear(Calendar.MILLISECOND);\r\n    Date startDate = cal.getTime();\r\n    cal.set(Calendar.HOUR_OF_DAY, 23);\r\n    cal.set(Calendar.MINUTE, 59);\r\n    cal.set(Calendar.SECOND, 59);\r\n    cal.set(Calendar.MILLISECOND, 999);\r\n    Date endDate = cal.getTime();\r\n","title":"How to set datetime to end of day in java","body":"<p>If you just want to get the <code>Date</code> values for today's start and end times, you don't need to use date formatting utilities (like <code>SimpleDateFormat</code>) at all:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.set(Calendar.HOUR_OF_DAY, 0);\ncal.clear(Calendar.MINUTE);\ncal.clear(Calendar.SECOND);\ncal.clear(Calendar.MILLISECOND);\nDate startDate = cal.getTime();\ncal.set(Calendar.HOUR_OF_DAY, 23);\ncal.set(Calendar.MINUTE, 59);\ncal.set(Calendar.SECOND, 59);\ncal.set(Calendar.MILLISECOND, 999);\nDate endDate = cal.getTime();\n</code></pre>\n"}],"owner":{"account_id":11218157,"reputation":65,"user_id":8230056,"display_name":"dsadffg"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18626,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":49524598,"answer_count":4,"score":6,"last_activity_date":1666213615,"creation_date":1522199214,"question_id":49524562,"body_markdown":"I want to set datetime of day as: startDate=2018/03/28 00:00:00 and endDate=2018/03/28 23:59:59\r\n\r\n        Calendar cal = Calendar.getInstance();\r\n        SimpleDateFormat sdf1 = new SimpleDateFormat(&quot;yyyy-MM-dd 00:00:00&quot;);\r\n        SimpleDateFormat sdf2 = new SimpleDateFormat(&quot;yyyy-MM-dd 23:59:59&quot;);\r\n        String str1=sdf1.format(cal.getTime());\r\n        String str2=sdf2.format(cal.getTime());\r\n        Date startDate = sdf1.parse(str1);\r\n        Date endDate = sdf2.parse(str2);\r\n\r\nMy problem:program is working and output  endDate=2018/03/28 00:00:00\r\n\r\nWould you please point out any mistakes to me in code?\r\n\r\nupdate:\r\ni used debug and it&#39;s working correct with \r\n\r\n    String str2=sdf2.format(cal.getTime());//2018-03-28 23:59:59\r\nbut when change string==&gt;date is not correct with output `2018/03/28 00:00:00`","title":"How to set datetime to end of day in java","body":"<p>I want to set datetime of day as: startDate=2018/03/28 00:00:00 and endDate=2018/03/28 23:59:59</p>\n\n<pre><code>    Calendar cal = Calendar.getInstance();\n    SimpleDateFormat sdf1 = new SimpleDateFormat(\"yyyy-MM-dd 00:00:00\");\n    SimpleDateFormat sdf2 = new SimpleDateFormat(\"yyyy-MM-dd 23:59:59\");\n    String str1=sdf1.format(cal.getTime());\n    String str2=sdf2.format(cal.getTime());\n    Date startDate = sdf1.parse(str1);\n    Date endDate = sdf2.parse(str2);\n</code></pre>\n\n<p>My problem:program is working and output  endDate=2018/03/28 00:00:00</p>\n\n<p>Would you please point out any mistakes to me in code?</p>\n\n<p>update:\ni used debug and it's working correct with </p>\n\n<pre><code>String str2=sdf2.format(cal.getTime());//2018-03-28 23:59:59\n</code></pre>\n\n<p>but when change string==>date is not correct with output <code>2018/03/28 00:00:00</code></p>\n"},{"tags":["java","android","wear-os"],"comments":[{"owner":{"account_id":73997,"reputation":6384,"user_id":212862,"accept_rate":93,"display_name":"Wonil"},"score":2,"creation_date":1419676243,"post_id":27662933,"comment_id":43747638,"body_markdown":"You can find answer from SO. SO rocks!\r\n\r\nhttp://stackoverflow.com/questions/25205888/pairing-android-emulator-with-wear-emulator","body":"You can find answer from SO. SO rocks!    <a href=\"http://stackoverflow.com/questions/25205888/pairing-android-emulator-with-wear-emulator\" title=\"pairing android emulator with wear emulator\">stackoverflow.com/questions/25205888/&hellip;</a>"},{"owner":{"account_id":1481915,"reputation":12601,"user_id":1542667,"accept_rate":75,"display_name":"Yuri Schimke"},"score":0,"creation_date":1666250521,"post_id":27662933,"comment_id":130892425,"body_markdown":"Does this answer your question? [Pairing Android and Wear emulators](https://stackoverflow.com/questions/25205888/pairing-android-and-wear-emulators)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25205888/pairing-android-and-wear-emulators\">Pairing Android and Wear emulators</a>"}],"answers":[{"comments":[{"owner":{"account_id":84538,"reputation":6742,"user_id":236243,"accept_rate":67,"display_name":"Raffaeu"},"score":0,"creation_date":1452170736,"post_id":29282561,"comment_id":57056071,"body_markdown":"Tested on Android 5.1.0 Genymotion Nexus 5 and Android Wear 1.4 and it works","body":"Tested on Android 5.1.0 Genymotion Nexus 5 and Android Wear 1.4 and it works"}],"tags":[],"owner":{"account_id":217572,"reputation":646,"user_id":473438,"display_name":"beshkenadze"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1427383834,"creation_date":1427383834,"answer_id":29282561,"question_id":27662933,"body_markdown":"Genymotion + Wear Emulator\r\n==========================\r\n\r\n 1. [Download][1] and install genymotion image 4.3+;\r\n 2. [Download][2] Gapps for the selected version of the image;\r\n 3. [Install][3] gapps in genymotion and [configure][4];\r\n 4. [Download][5] and install Android Wear;\r\n 5. Launch the wear emulator;\r\n 6. Set port forward from genymotion to wear: \r\n    \r\n        adb -s {genimotion_ip}:{genimotion_port} -d forward tcp:5601 tcp:5601\r\n 7. Use!\r\n\r\n  [1]: https://www.genymotion.com/#!/download\r\n  [2]: http://wiki.cyanogenmod.org/w/Google_Apps\r\n  [3]: http://geocoding.io/2014/10/installing-google-apps-in-genymotion/\r\n  [4]: http://geocoding.io/2014/10/installing-google-apps-in-genymotion/\r\n  [5]: http://www.apkmirror.com/apk/google-inc/android-wear/","title":"Pair Wear Emulator with Android Emulator","body":"<h1>Genymotion + Wear Emulator</h1>\n\n<ol>\n<li><a href=\"https://www.genymotion.com/#!/download\">Download</a> and install genymotion image 4.3+;</li>\n<li><a href=\"http://wiki.cyanogenmod.org/w/Google_Apps\">Download</a> Gapps for the selected version of the image;</li>\n<li><a href=\"http://geocoding.io/2014/10/installing-google-apps-in-genymotion/\">Install</a> gapps in genymotion and <a href=\"http://geocoding.io/2014/10/installing-google-apps-in-genymotion/\">configure</a>;</li>\n<li><a href=\"http://www.apkmirror.com/apk/google-inc/android-wear/\">Download</a> and install Android Wear;</li>\n<li>Launch the wear emulator;</li>\n<li><p>Set port forward from genymotion to wear: </p>\n\n<pre><code>adb -s {genimotion_ip}:{genimotion_port} -d forward tcp:5601 tcp:5601\n</code></pre></li>\n<li>Use!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2051281,"reputation":101,"user_id":1830244,"display_name":"creativedrewy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427398640,"creation_date":1427398640,"answer_id":29287362,"question_id":27662933,"body_markdown":"Don&#39;t forget that if you want to pair to an Android Wear emulator, you have to tell the Android Wear connecting app to &quot;Connect to Emulator&quot;.\r\n\r\nI think that might be the missing step from&#160;the below comment - you have to make sure to tell the app to connect to the emulator. Then it will use the port forwarded adb stuff.","title":"Pair Wear Emulator with Android Emulator","body":"<p>Don't forget that if you want to pair to an Android Wear emulator, you have to tell the Android Wear connecting app to \"Connect to Emulator\".</p>\n\n<p>I think that might be the missing step fromthe below comment - you have to make sure to tell the app to connect to the emulator. Then it will use the port forwarded adb stuff.</p>\n"}],"owner":{"account_id":4668048,"reputation":1213,"user_id":3780616,"accept_rate":33,"display_name":"user3780616"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1932,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":29282561,"answer_count":2,"score":9,"last_activity_date":1666213472,"creation_date":1419635715,"question_id":27662933,"body_markdown":"I&#39;m sure this is a simple question, but I seem to be spinning my wheels here.  I want to connect and android wear device (emulated) with and android device (also emulated).  I&#39;ve tried port forwarding but that doesn&#39;t seem to do the trick for me.  Does anyone have any good documentation for this?","title":"Pair Wear Emulator with Android Emulator","body":"<p>I'm sure this is a simple question, but I seem to be spinning my wheels here.  I want to connect and android wear device (emulated) with and android device (also emulated).  I've tried port forwarding but that doesn't seem to do the trick for me.  Does anyone have any good documentation for this?</p>\n"},{"tags":["java","kotlin","datetime","datetime-format","datetime-parsing"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666215058,"post_id":74131838,"comment_id":130886123,"body_markdown":"maybe it is a `Locale` problem (different default in IDE) try using `localizedBy(Locale.GERMAN)` (or similar) on the `DateTimeFormatter` (the error message is a bit strange/small... but I am not a Kotlin user, just Java)","body":"maybe it is a <code>Locale</code> problem (different default in IDE) try using <code>localizedBy(Locale.GERMAN)</code> (or similar) on the <code>DateTimeFormatter</code> (the error message is a bit strange/small... but I am not a Kotlin user, just Java)"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1666215662,"post_id":74131838,"comment_id":130886270,"body_markdown":"(the weekdays are formatted differently  depending on `Locale`: &quot;Mon&quot; for English, &quot;Mo.&quot; for German [my guess, obviously you should use the appropriate `Locale` ]) BTW `kk` (1-24 hour) would be strange for Germany; maybe  `HH` (0-23 hour)","body":"(the weekdays are formatted differently  depending on <code>Locale</code>: &quot;Mon&quot; for English, &quot;Mo.&quot; for German [my guess, obviously you should use the appropriate <code>Locale</code> ]) BTW <code>kk</code> (1-24 hour) would be strange for Germany; maybe  <code>HH</code> (0-23 hour)"},{"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"score":1,"creation_date":1666216247,"post_id":74131838,"comment_id":130886413,"body_markdown":"Yes, HH in Germany for hours 0 - 23","body":"Yes, HH in Germany for hours 0 - 23"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1666216363,"post_id":74131838,"comment_id":130886437,"body_markdown":"(also check the `withLocale()` method of `DateTimeFormatter`, probably the better option)","body":"(also check the <code>withLocale()</code> method of <code>DateTimeFormatter</code>, probably the better option)"},{"owner":{"account_id":13722742,"reputation":16988,"user_id":10134209,"display_name":"gidds"},"score":2,"creation_date":1666217350,"post_id":74131838,"comment_id":130886687,"body_markdown":"Other possibilities might include different versions of Java or Kotlin, or characters that differ while looking the same (e.g. non-breaking spaces or curly quotes).But yes, the locale is more likely to be an issue  well spotted!","body":"Other possibilities might include different versions of Java or Kotlin, or characters that differ while looking the same (e.g. non-breaking spaces or curly quotes).But yes, the locale is more likely to be an issue  well spotted!"},{"owner":{"account_id":10391720,"reputation":83,"user_id":7662790,"display_name":"Daniel Pfeil"},"score":0,"creation_date":1666247773,"post_id":74131838,"comment_id":130891539,"body_markdown":"Oh guys you are really amazing thanks that was the solution!","body":"Oh guys you are really amazing thanks that was the solution!"}],"owner":{"account_id":10391720,"reputation":83,"user_id":7662790,"display_name":"Daniel Pfeil"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666296245,"answer_count":0,"score":0,"last_activity_date":1666213207,"creation_date":1666213207,"question_id":74131838,"body_markdown":"today I have a really strange problem.\r\nI will try to explain it as best as I can.\r\nSo the line where it fails is the third one:\r\n\r\n```\r\nLocalDateTime.parse(\r\n    this.text,\r\n    DateTimeFormatter.ofPattern(&quot;EE&#39; &#39;dd.MM.yyyy, kk:mm &#39;Uhr&#39;&quot;)\r\n).toKotlinLocalDateTime()\r\n```\r\n\r\nIf I execute the test via intellij it works with success:\r\n[![Intellij Tests][1]][1]\r\n\r\nIf i execute it via the cli or in the pipeline it get this error:\r\n\r\n[![CMD Test/Pipeline][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mPt2i.png\r\n  [2]: https://i.stack.imgur.com/HbYig.png\r\n\r\nThe Date that i try to parse ist this line: &quot;Mo. 19.09.2022, 08:00 Uhr&quot;\r\n\r\nMaybe some of you has an idea how to solve the issue?\r\n\r\nYou can find the code also here: https://gitlab.com/thw2/training-plan/api\r\nand the CICD Pipeline here: https://gitlab.com/thw2/training-plan/api/-/jobs/3199115286","title":"DateTimeFormatter doesnt work via command line","body":"<p>today I have a really strange problem.\nI will try to explain it as best as I can.\nSo the line where it fails is the third one:</p>\n<pre><code>LocalDateTime.parse(\n    this.text,\n    DateTimeFormatter.ofPattern(&quot;EE' 'dd.MM.yyyy, kk:mm 'Uhr'&quot;)\n).toKotlinLocalDateTime()\n</code></pre>\n<p>If I execute the test via intellij it works with success:\n<a href=\"https://i.stack.imgur.com/mPt2i.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPt2i.png\" alt=\"Intellij Tests\" /></a></p>\n<p>If i execute it via the cli or in the pipeline it get this error:</p>\n<p><a href=\"https://i.stack.imgur.com/HbYig.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HbYig.png\" alt=\"CMD Test/Pipeline\" /></a></p>\n<p>The Date that i try to parse ist this line: &quot;Mo. 19.09.2022, 08:00 Uhr&quot;</p>\n<p>Maybe some of you has an idea how to solve the issue?</p>\n<p>You can find the code also here: <a href=\"https://gitlab.com/thw2/training-plan/api\" rel=\"nofollow noreferrer\">https://gitlab.com/thw2/training-plan/api</a>\nand the CICD Pipeline here: <a href=\"https://gitlab.com/thw2/training-plan/api/-/jobs/3199115286\" rel=\"nofollow noreferrer\">https://gitlab.com/thw2/training-plan/api/-/jobs/3199115286</a></p>\n"},{"tags":["java","java-annotations"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1666212415,"post_id":74131633,"comment_id":130885424,"body_markdown":"What are you trying to do in `getFields` exactly?","body":"What are you trying to do in <code>getFields</code> exactly?"},{"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"score":0,"creation_date":1666212989,"post_id":74131633,"comment_id":130885592,"body_markdown":"@Sweeper Get all the fields with the appropriate (AutoLoad or AutoSave) annotation on them.","body":"@Sweeper Get all the fields with the appropriate (AutoLoad or AutoSave) annotation on them."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1666213106,"post_id":74131633,"comment_id":130885625,"body_markdown":"Annotations are not themselves polymorphic.  They cannot extend other annotations, nor any other interface for that matter.  The dupe targets are pretty old, but the situation has not changed.","body":"Annotations are not themselves polymorphic.  They cannot extend other annotations, nor any other interface for that matter.  The dupe targets are pretty old, but the situation has not changed."},{"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"score":0,"creation_date":1666213265,"post_id":74131633,"comment_id":130885663,"body_markdown":"@JohnBollinger So how do I get all the class fields with dynamically defined annotation?","body":"@JohnBollinger So how do I get all the class fields with dynamically defined annotation?"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1666213640,"post_id":74131633,"comment_id":130885762,"body_markdown":"What does that have to do with polymorphic annotations?","body":"What does that have to do with polymorphic annotations?"},{"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"score":0,"creation_date":1666214061,"post_id":74131633,"comment_id":130885883,"body_markdown":"@JohnBollinger Nothing. I&#39;m just trying to solve my problem...","body":"@JohnBollinger Nothing. I&#39;m just trying to solve my problem..."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1666214064,"post_id":74131633,"comment_id":130885886,"body_markdown":"Though I should clarify: all annotations do extend `java.lang.annotation.Annotation`, so they have (very) limited polymorphism in that sense.  You might find that useful, but I don&#39;t see its direct use as *necessary* here.","body":"Though I should clarify: all annotations do extend <code>java.lang.annotation.Annotation</code>, so they have (very) limited polymorphism in that sense.  You might find that useful, but I don&#39;t see its direct use as <i>necessary</i> here."}],"owner":{"account_id":24857577,"reputation":45,"user_id":18733729,"display_name":"Rubix327"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1666213137,"answer_count":0,"score":0,"last_activity_date":1666213158,"creation_date":1666211949,"question_id":74131633,"body_markdown":"I&#39;m trying to make a method that returns fields that are annotated with a specific annotation.\r\n\r\nI have one annotation (`TestAnn`) that I want to be a superclass for the other two (`AutoSave` and `AutoLoad`).\r\n\r\nTestAnn:\r\n\r\n    public @interface TestAnn {\r\n    \r\n        boolean value() default true;\r\n    \r\n    }\r\n\r\nAutoSave and AutoLoad (their code are the same):\r\n    \r\n    @TestAnn\r\n    public @interface AutoSave {\r\n    \r\n    \r\n        boolean value() default true;\r\n    \r\n    }\r\n\r\nMethod to get fields:\r\n\r\n    private List&lt;Field&gt; getFields(Mode mode){\r\n    \tClass&lt;? extends TestAnn&gt; an;\r\n    \tif (mode == Mode.SAVE){\r\n    \t\tan = AutoSave.class;\r\n    \t}\r\n    \telse if (mode == Mode.LOAD){\r\n    \t\tan = AutoLoad.class;\r\n    \t}\r\n    \telse{\r\n    \t\tthrow new RuntimeException();\r\n    \t}\r\n    \r\n    \treturn null;\r\n    }\r\n\r\nSo I tried to annotate AutoSave and AutoLoad with `@TestAnn` in hope that it is how inheritance works for annotations. But when I try to assign a specific annotation class to wildcard `&lt;? extends TestAnn&gt;`, the compiler says I can&#39;t do that.\r\n\r\nSo is there some sort of inheritance for annotations? If you provide code for my specific case it would be very helpful. Thanks!","title":"Inheritance in annotations","body":"<p>I'm trying to make a method that returns fields that are annotated with a specific annotation.</p>\n<p>I have one annotation (<code>TestAnn</code>) that I want to be a superclass for the other two (<code>AutoSave</code> and <code>AutoLoad</code>).</p>\n<p>TestAnn:</p>\n<pre><code>public @interface TestAnn {\n\n    boolean value() default true;\n\n}\n</code></pre>\n<p>AutoSave and AutoLoad (their code are the same):</p>\n<pre><code>@TestAnn\npublic @interface AutoSave {\n\n\n    boolean value() default true;\n\n}\n</code></pre>\n<p>Method to get fields:</p>\n<pre><code>private List&lt;Field&gt; getFields(Mode mode){\n    Class&lt;? extends TestAnn&gt; an;\n    if (mode == Mode.SAVE){\n        an = AutoSave.class;\n    }\n    else if (mode == Mode.LOAD){\n        an = AutoLoad.class;\n    }\n    else{\n        throw new RuntimeException();\n    }\n\n    return null;\n}\n</code></pre>\n<p>So I tried to annotate AutoSave and AutoLoad with <code>@TestAnn</code> in hope that it is how inheritance works for annotations. But when I try to assign a specific annotation class to wildcard <code>&lt;? extends TestAnn&gt;</code>, the compiler says I can't do that.</p>\n<p>So is there some sort of inheritance for annotations? If you provide code for my specific case it would be very helpful. Thanks!</p>\n"},{"tags":["java","spring","postgresql","h2"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1666215785,"post_id":74131552,"comment_id":130886299,"body_markdown":"Don&#39;t use identifiers that require quoting, and then the identifiers are no longer case-sensitive. Your problem is another good example why testing against a database that is different than production makes it a meaningless test.","body":"Don&#39;t use identifiers that require quoting, and then the identifiers are no longer case-sensitive. Your problem is another good example why testing against a database that is different than production makes it a meaningless test."}],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666212089,"creation_date":1666212089,"answer_id":74131660,"question_id":74131552,"body_markdown":"If the name of the schema is double quoted like  &quot;002SCHEMA&quot; or &quot;002schema&quot; then it is case sensitive, it is not sensitive otherwise without the quotes:\r\n\r\nhttps://stackoverflow.com/questions/20878932/are-postgresql-column-names-case-sensitive\r\n\r\nmaybe you can solve the problem by changing this:\r\n\r\n    CREATE SCHEMA IF NOT EXISTS &quot;002schema&quot;\r\n\r\nto this:\r\n\r\n    CREATE SCHEMA IF NOT EXISTS &quot;002SCHEMA&quot;\r\n\r\nor somehow make liquibase not use quotes on schema name","title":"In Spring application prevent H2 from transforming identifiers case to upper","body":"<p>If the name of the schema is double quoted like  &quot;002SCHEMA&quot; or &quot;002schema&quot; then it is case sensitive, it is not sensitive otherwise without the quotes:</p>\n<p><a href=\"https://stackoverflow.com/questions/20878932/are-postgresql-column-names-case-sensitive\">Are PostgreSQL column names case-sensitive?</a></p>\n<p>maybe you can solve the problem by changing this:</p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS &quot;002schema&quot;\n</code></pre>\n<p>to this:</p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS &quot;002SCHEMA&quot;\n</code></pre>\n<p>or somehow make liquibase not use quotes on schema name</p>\n"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1666212089,"creation_date":1666211470,"question_id":74131552,"body_markdown":"I&#39;m using Spring 2.6.2 and have tried both:\r\n```\r\ntestImplementation(&quot;com.h2database:h2:2.1.214&quot;)\r\n```\r\nand\r\n```\r\ntestImplementation(&quot;com.h2database:h2:1.4.200&quot;)\r\n```\r\n\r\nI create database schema&#39;s using raw SQL in JDBC connections to db during app startup e.g.\r\n```\r\nCREATE SCHEMA IF NOT EXISTS &quot;001&quot;\r\nCREATE SCHEMA IF NOT EXISTS &quot;002schema&quot;\r\nCREATE SCHEMA IF NOT EXISTS &quot;3_schema&quot;\r\n```\r\n\r\nThen Liquibase performs database migration.\r\n\r\nWhen run against PostgreSQL, this works fine and schemas are created using the literal String provided. Tables inside those schemas are all lowercase too, as specified in the Liquibase changelogs.\r\n\r\nWhen run against H2 in unit tests, an exception is thrown when performing database migration for `002schema`. It looks like Liquibase then expects all schemas to have been upper-cased causing failure.\r\n\r\nException during application start-up:\r\n```\r\nInitializing Liquibase for schema 001\r\nCreating database history table with name: &quot;001&quot;.DATABASECHANGELOG\r\nLiquibase ran for schema 001\r\n..\r\nInitializing Liquibase for schema 002schema\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;liquibaseMultiTenant&#39; defined in class path resource [com/company/app/data/liquibase/LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: Schema &quot;002SCHEMA&quot; not found; SQL statement:\r\nCREATE TABLE &quot;002SCHEMA&quot;.DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID)) [90079-214] [Failed SQL: (90079) CREATE TABLE &quot;002SCHEMA&quot;.DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID))]\r\n```\r\n\r\nI&#39;ve tried the following options in H2 URL to prevent everything being made uppercase but none are working.\r\n\r\nAny ideas?\r\n\r\n```\r\nspring:\r\n  datasource:\r\n    platform: h2\r\n    url: jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false;DATABASE_TO_UPPER=false;\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password:\r\n```\r\n\r\nAlso tried:\r\n```\r\nspring:\r\n  datasource:\r\n    platform: h2\r\n    url: jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false;DATABASE_TO_LOWER=true;CASE_INSENSITIVE_IDENTIFIERS=true;\r\n    driver-class-name: org.h2.Driver\r\n    username: sa\r\n    password:\r\n```","title":"In Spring application prevent H2 from transforming identifiers case to upper","body":"<p>I'm using Spring 2.6.2 and have tried both:</p>\n<pre><code>testImplementation(&quot;com.h2database:h2:2.1.214&quot;)\n</code></pre>\n<p>and</p>\n<pre><code>testImplementation(&quot;com.h2database:h2:1.4.200&quot;)\n</code></pre>\n<p>I create database schema's using raw SQL in JDBC connections to db during app startup e.g.</p>\n<pre><code>CREATE SCHEMA IF NOT EXISTS &quot;001&quot;\nCREATE SCHEMA IF NOT EXISTS &quot;002schema&quot;\nCREATE SCHEMA IF NOT EXISTS &quot;3_schema&quot;\n</code></pre>\n<p>Then Liquibase performs database migration.</p>\n<p>When run against PostgreSQL, this works fine and schemas are created using the literal String provided. Tables inside those schemas are all lowercase too, as specified in the Liquibase changelogs.</p>\n<p>When run against H2 in unit tests, an exception is thrown when performing database migration for <code>002schema</code>. It looks like Liquibase then expects all schemas to have been upper-cased causing failure.</p>\n<p>Exception during application start-up:</p>\n<pre><code>Initializing Liquibase for schema 001\nCreating database history table with name: &quot;001&quot;.DATABASECHANGELOG\nLiquibase ran for schema 001\n..\nInitializing Liquibase for schema 002schema\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibaseMultiTenant' defined in class path resource [com/company/app/data/liquibase/LiquibaseConfiguration.class]: Invocation of init method failed; nested exception is liquibase.exception.LockException: liquibase.exception.DatabaseException: Schema &quot;002SCHEMA&quot; not found; SQL statement:\nCREATE TABLE &quot;002SCHEMA&quot;.DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID)) [90079-214] [Failed SQL: (90079) CREATE TABLE &quot;002SCHEMA&quot;.DATABASECHANGELOGLOCK (ID INT NOT NULL, LOCKED BOOLEAN NOT NULL, LOCKGRANTED TIMESTAMP, LOCKEDBY VARCHAR(255), CONSTRAINT PK_DATABASECHANGELOGLOCK PRIMARY KEY (ID))]\n</code></pre>\n<p>I've tried the following options in H2 URL to prevent everything being made uppercase but none are working.</p>\n<p>Any ideas?</p>\n<pre><code>spring:\n  datasource:\n    platform: h2\n    url: jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false;DATABASE_TO_UPPER=false;\n    driver-class-name: org.h2.Driver\n    username: sa\n    password:\n</code></pre>\n<p>Also tried:</p>\n<pre><code>spring:\n  datasource:\n    platform: h2\n    url: jdbc:h2:mem:test;MODE=PostgreSQL;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=false;DATABASE_TO_LOWER=true;CASE_INSENSITIVE_IDENTIFIERS=true;\n    driver-class-name: org.h2.Driver\n    username: sa\n    password:\n</code></pre>\n"},{"tags":["java","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":17815140,"reputation":111,"user_id":12938887,"display_name":"Nico"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661696599,"creation_date":1661696599,"answer_id":73519500,"question_id":73519454,"body_markdown":"You use the `implementation` key word for that followed after the dependency you want.  \r\nHere is an example for that:\r\n\r\n    implementation &#39;org.bouncycastle:bcprov-jdk15on:1.70&#39;\r\n\r\n","title":"how would i import Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy into build.gradle","body":"<p>You use the <code>implementation</code> key word for that followed after the dependency you want.<br />\nHere is an example for that:</p>\n<pre><code>implementation 'org.bouncycastle:bcprov-jdk15on:1.70'\n</code></pre>\n"},{"comments":[{"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"score":0,"creation_date":1661723664,"post_id":73522519,"comment_id":129833697,"body_markdown":"https://www.oracle.com/java/technologies/javase/8u161-relnotes.html","body":"<a href=\"https://www.oracle.com/java/technologies/javase/8u161-relnotes.html\" rel=\"nofollow noreferrer\">oracle.com/java/technologies/javase/8u161-relnotes.html</a>"},{"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"score":0,"creation_date":1661723680,"post_id":73522519,"comment_id":129833703,"body_markdown":"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=jdk-8170157","body":"<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=jdk-8170157\" rel=\"nofollow noreferrer\">bugs.java.com/bugdatabase/view_bug.do?bug_id=jdk-8170157</a>"}],"tags":[],"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666211380,"creation_date":1661723408,"answer_id":73522519,"question_id":73519454,"body_markdown":"Quick note: The JCE Unlimited Strength Jurisdiction Policy is included in all Java Versions starting with 8u161 and subsequently is no longer necessary to install manually for Java versions released 2018 or later.\r\n\r\nIf for any reason you actually have to work with an older JDK I&#39;m afraid Gradle won&#39;t be much of a help to install the policy extensions. Since those have to installed into the JDKs security folder this is not so much a build task but more of a topic for your infrastructure setup","title":"how would i import Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy into build.gradle","body":"<p>Quick note: The JCE Unlimited Strength Jurisdiction Policy is included in all Java Versions starting with 8u161 and subsequently is no longer necessary to install manually for Java versions released 2018 or later.</p>\n<p>If for any reason you actually have to work with an older JDK I'm afraid Gradle won't be much of a help to install the policy extensions. Since those have to installed into the JDKs security folder this is not so much a build task but more of a topic for your infrastructure setup</p>\n"}],"owner":{"account_id":26180983,"reputation":1,"user_id":19864392,"display_name":"controller565fan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661969257,"answer_count":2,"score":0,"last_activity_date":1666211380,"creation_date":1661696292,"question_id":73519454,"body_markdown":"how would i import Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy into build.gradle, i am unfamiliar with working with gradle and need this for a project","title":"how would i import Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy into build.gradle","body":"<p>how would i import Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy into build.gradle, i am unfamiliar with working with gradle and need this for a project</p>\n"},{"tags":["java","spring-boot","spring-security","spring-security-oauth2","spring-authorization-server"],"comments":[{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1665767616,"post_id":74024236,"comment_id":130782816,"body_markdown":"iam not sure i understand correctly, but can you use the SecurityContext.getContext() to get the user data?","body":"iam not sure i understand correctly, but can you use the SecurityContext.getContext() to get the user data?"},{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1667819933,"post_id":74024236,"comment_id":131250796,"body_markdown":"@Loading Not the complete data that;s coming from userinfo end point.","body":"@Loading Not the complete data that;s coming from userinfo end point."}],"answers":[{"comments":[{"owner":{"display_name":"user2094311"},"score":0,"creation_date":1667815786,"post_id":74131504,"comment_id":131249420,"body_markdown":"Hello, Thank you. And sorry for delayed response as I had to hold this task. With this I&#39;m able to get the subject. But how about custom attributes that&#39;s coming from the user info endpoint.? \n\nIn my custom user info endpoint, the AD group is part of an attribute called *memberOf* and is an array. Similarly there are other custom attributes I want to get. Is there any way to get other than calling the rest URL directly?","body":"Hello, Thank you. And sorry for delayed response as I had to hold this task. With this I&#39;m able to get the subject. But how about custom attributes that&#39;s coming from the user info endpoint.?   In my custom user info endpoint, the AD group is part of an attribute called <i>memberOf</i> and is an array. Similarly there are other custom attributes I want to get. Is there any way to get other than calling the rest URL directly?"},{"owner":{"account_id":2679545,"reputation":306,"user_id":12492815,"display_name":"Viktor Born"},"score":0,"creation_date":1667853762,"post_id":74131504,"comment_id":131262794,"body_markdown":"It depends on the claims inside the token. If the identity provider puts this &quot;memberOf&quot; attribute to the claims you can parse it on the backend. If not, it&#39;s better to set up the identity provider to put authorities(user groups/roles) to the token claims.","body":"It depends on the claims inside the token. If the identity provider puts this &quot;memberOf&quot; attribute to the claims you can parse it on the backend. If not, it&#39;s better to set up the identity provider to put authorities(user groups/roles) to the token claims."}],"tags":[],"owner":{"account_id":2679545,"reputation":306,"user_id":12492815,"display_name":"Viktor Born"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666211164,"creation_date":1666211164,"answer_id":74131504,"question_id":74024236,"body_markdown":"Ok.\r\n\r\nYou&#39;ve already added the required uri. Good.\r\n\r\nNow you need to add some configuration:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class OAuth2ResourceServerSecurityConfiguration {\r\n    \r\n    \t@Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\r\n    \tString jwkSetUri;\r\n    \r\n    \t@Bean\r\n    \tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \t\t\r\n    \t\thttp\r\n    \t\t\t\t.authorizeHttpRequests((authorize) -&gt; authorize\r\n    \t\t\t\t\t\t.requestMatchers(HttpMethod.GET, \r\n                         ///// more your requestMatchers ///// \r\n\r\n    \t\t\t\t\t\t.anyRequest().authenticated()\r\n    \t\t\t\t)\r\n    \t\t\t\t.oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\r\n    \t\t\r\n    \t\treturn http.build();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tJwtDecoder jwtDecoder() {\r\n    \t\treturn NimbusJwtDecoder.withJwkSetUri(this.jwkSetUri).build();\r\n    \t}\r\n    \r\n    }\r\n\r\nNow you should be able to receive jwt claims in your controllers with @AuthenticationPrincipal annotation.\r\n\r\n    @RestController\r\n    public class YourController {\r\n    \r\n    \t@GetMapping(&quot;/&quot;)\r\n    \tpublic String doAnything(@AuthenticationPrincipal Jwt jwt) {\r\n    \t\treturn jwt.getSubject();\r\n    \t}\r\n    }\r\n\r\nPlease add more info and I&#39;ll try to explain it better :-)\r\n\r\n==== **UPD** ====\r\n\r\nReally useful [official manual][1] on this.\r\n\r\nOfficial [code samples][2]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\r\n  [2]: https://github.com/spring-projects/spring-security-samples/tree/5.7.x","title":"Spring OAuth2 OIDC - Getting user info and AD Group Information for Authorization","body":"<p>Ok.</p>\n<p>You've already added the required uri. Good.</p>\n<p>Now you need to add some configuration:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class OAuth2ResourceServerSecurityConfiguration {\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.jwk-set-uri}&quot;)\n    String jwkSetUri;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        \n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .requestMatchers(HttpMethod.GET, \n                     ///// more your requestMatchers ///// \n\n                        .anyRequest().authenticated()\n                )\n                .oauth2ResourceServer(OAuth2ResourceServerConfigurer::jwt);\n        \n        return http.build();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n        return NimbusJwtDecoder.withJwkSetUri(this.jwkSetUri).build();\n    }\n\n}\n</code></pre>\n<p>Now you should be able to receive jwt claims in your controllers with @AuthenticationPrincipal annotation.</p>\n<pre><code>@RestController\npublic class YourController {\n\n    @GetMapping(&quot;/&quot;)\n    public String doAnything(@AuthenticationPrincipal Jwt jwt) {\n        return jwt.getSubject();\n    }\n}\n</code></pre>\n<p>Please add more info and I'll try to explain it better :-)</p>\n<p>==== <strong>UPD</strong> ====</p>\n<p>Really useful <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html\" rel=\"nofollow noreferrer\">official manual</a> on this.</p>\n<p>Official <a href=\"https://github.com/spring-projects/spring-security-samples/tree/5.7.x\" rel=\"nofollow noreferrer\">code samples</a></p>\n"}],"owner":{"display_name":"user2094311"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1336,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666211164,"creation_date":1665472029,"question_id":74024236,"body_markdown":"I&#39;m new to Spring boot and Spring Security. I have microservice project using Spring boot. And in my gateway app, I use OAuth2 for authentication. The authentication provider is from my organization and it is OIDC implementation. \r\n\r\nI&#39;m using oauth2 resource server to authenticate the bearer token, by configuring *jwk-set-uri* and *jwk-set-uri* properties. \r\n\r\n - spring-boot-starter-web =&gt; 2.6.7\r\n - spring-boot-starter-oauth2-resource-server =&gt; 2.6.7\r\n - spring-security =&gt; 5.6.3\r\n\r\n**application.properties**\r\n\r\n    spring.security.oauth2.resourceserver.jwt.issuer-uri=https://&lt;org-auth-url&gt;.com\r\n    spring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://&lt;org-auth-url&gt;/&lt;jwk-uri&gt;\r\n\r\nWith just above configuration, the authentication works fine. So I have not added any Security Config class also. But for authorization and other processing like to get user data in Controller, I need the user information and AD group details. \r\n\r\nI have the user information endpoint URL. And when I test it in postman client, the response contains user information along with AD groups. \r\n\r\nHow to get the User details for Authorization?","title":"Spring OAuth2 OIDC - Getting user info and AD Group Information for Authorization","body":"<p>I'm new to Spring boot and Spring Security. I have microservice project using Spring boot. And in my gateway app, I use OAuth2 for authentication. The authentication provider is from my organization and it is OIDC implementation.</p>\n<p>I'm using oauth2 resource server to authenticate the bearer token, by configuring <em>jwk-set-uri</em> and <em>jwk-set-uri</em> properties.</p>\n<ul>\n<li>spring-boot-starter-web =&gt; 2.6.7</li>\n<li>spring-boot-starter-oauth2-resource-server =&gt; 2.6.7</li>\n<li>spring-security =&gt; 5.6.3</li>\n</ul>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.security.oauth2.resourceserver.jwt.issuer-uri=https://&lt;org-auth-url&gt;.com\nspring.security.oauth2.resourceserver.jwt.jwk-set-uri=https://&lt;org-auth-url&gt;/&lt;jwk-uri&gt;\n</code></pre>\n<p>With just above configuration, the authentication works fine. So I have not added any Security Config class also. But for authorization and other processing like to get user data in Controller, I need the user information and AD group details.</p>\n<p>I have the user information endpoint URL. And when I test it in postman client, the response contains user information along with AD groups.</p>\n<p>How to get the User details for Authorization?</p>\n"},{"tags":["java","reflection","bytecode"],"comments":[{"owner":{"account_id":59692,"reputation":35753,"user_id":178526,"accept_rate":85,"display_name":"sfussenegger"},"score":0,"creation_date":1256907671,"post_id":1649674,"comment_id":1520488,"body_markdown":"Well, guess what the JVM itself is doing? Correct, it interprets the bytecode and gets the class name from it :) Without giving a little bit more detail on what, how and (mainly) why you are trying to do this giving an answer is difficult","body":"Well, guess what the JVM itself is doing? Correct, it interprets the bytecode and gets the class name from it :) Without giving a little bit more detail on what, how and (mainly) why you are trying to do this giving an answer is difficult"},{"owner":{"account_id":4790,"reputation":2363,"user_id":7382,"accept_rate":88,"display_name":"JHollanti"},"score":0,"creation_date":1256908216,"post_id":1649674,"comment_id":1520547,"body_markdown":"Yeah, yeah, noted... I would like to get the name of the class at runtime so i can dynamically load the class with a classloader, since you need to specify the name and classpath of the class you&#39;re loading.","body":"Yeah, yeah, noted... I would like to get the name of the class at runtime so i can dynamically load the class with a classloader, since you need to specify the name and classpath of the class you&#39;re loading."}],"answers":[{"comments":[{"owner":{"account_id":4790,"reputation":2363,"user_id":7382,"accept_rate":88,"display_name":"JHollanti"},"score":0,"creation_date":1256908262,"post_id":1649700,"comment_id":1520552,"body_markdown":"Is there no built-in functionality for this?","body":"Is there no built-in functionality for this?"},{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1256909459,"post_id":1649700,"comment_id":1520666,"body_markdown":"@JHollanti - what you want is backwards from the way things are usually done - you start with a name (often from a descriptor file) and then use path conventions to load the class bytes. There is no standard way to load and run multiple arbitrary classes (which one would be the entry point? etc.)","body":"@JHollanti - what you want is backwards from the way things are usually done - you start with a name (often from a descriptor file) and then use path conventions to load the class bytes. There is no standard way to load and run multiple arbitrary classes (which one would be the entry point? etc.)"}],"tags":[],"owner":{"account_id":67017,"reputation":4157,"user_id":196315,"display_name":"ankon"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1256907631,"creation_date":1256907631,"answer_id":1649700,"question_id":1649674,"body_markdown":"You should be able to use `javap` to disassemble the byte code, if that just happens once in a while.\r\n\r\nFor doing it at runtime: use a byte-code manipulation library like Apache&#39;s BCEL (http://jakarta.apache.org/bcel) to analyse the byte code.","title":"Resolve class name from bytecode","body":"<p>You should be able to use <code>javap</code> to disassemble the byte code, if that just happens once in a while.</p>\n\n<p>For doing it at runtime: use a byte-code manipulation library like Apache's BCEL (<a href=\"http://jakarta.apache.org/bcel\" rel=\"nofollow noreferrer\">http://jakarta.apache.org/bcel</a>) to analyse the byte code.</p>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1256909181,"creation_date":1256909181,"answer_id":1649807,"question_id":1649674,"body_markdown":"The easiest way is probably using something like [ASM][1]:\r\n\r\n    import org.objectweb.asm.ClassReader;\r\n    import org.objectweb.asm.commons.EmptyVisitor;\r\n    \r\n    public class PrintClassName {\r\n      public static void main(String[] args) throws IOException {\r\n        class ClassNamePrinter extends EmptyVisitor {\r\n          @Override\r\n          public void visit(int version, int access, String name, String signature,\r\n              String superName, String[] interfaces) {\r\n            System.out.println(&quot;Class name: &quot; + name);\r\n          }\r\n        }\r\n    \r\n        InputStream binary = new FileInputStream(args[0]);\r\n        try {\r\n          ClassReader reader = new ClassReader(binary);\r\n          reader.accept(new ClassNamePrinter(), 0);\r\n        } finally {\r\n          binary.close();\r\n        }\r\n      }\r\n    }\r\n\r\nIf you can&#39;t use a 3rd party library, you could [read the class file format yourself][2].\r\n\r\n\r\n  [1]: http://asm.ow2.org/\r\n  [2]: http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#80959","title":"Resolve class name from bytecode","body":"<p>The easiest way is probably using something like <a href=\"http://asm.ow2.org/\" rel=\"nofollow noreferrer\">ASM</a>:</p>\n\n<pre><code>import org.objectweb.asm.ClassReader;\nimport org.objectweb.asm.commons.EmptyVisitor;\n\npublic class PrintClassName {\n  public static void main(String[] args) throws IOException {\n    class ClassNamePrinter extends EmptyVisitor {\n      @Override\n      public void visit(int version, int access, String name, String signature,\n          String superName, String[] interfaces) {\n        System.out.println(\"Class name: \" + name);\n      }\n    }\n\n    InputStream binary = new FileInputStream(args[0]);\n    try {\n      ClassReader reader = new ClassReader(binary);\n      reader.accept(new ClassNamePrinter(), 0);\n    } finally {\n      binary.close();\n    }\n  }\n}\n</code></pre>\n\n<p>If you can't use a 3rd party library, you could <a href=\"http://java.sun.com/docs/books/jvms/second_edition/html/ClassFile.doc.html#80959\" rel=\"nofollow noreferrer\">read the class file format yourself</a>.</p>\n"},{"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1256909249,"creation_date":1256909249,"answer_id":1649810,"question_id":1649674,"body_markdown":"I think you can use the ClassLoader.defineClass method, in a subclass of ClassLoader, to get the Class object for a given bytecode. (not tested)","title":"Resolve class name from bytecode","body":"<p>I think you can use the ClassLoader.defineClass method, in a subclass of ClassLoader, to get the Class object for a given bytecode. (not tested)</p>\n"},{"comments":[{"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"score":0,"creation_date":1256917347,"post_id":1650442,"comment_id":1521621,"body_markdown":"Neat. I hadn&#39;t looked at the details, but that&#39;s more succinct than I had expected.","body":"Neat. I hadn&#39;t looked at the details, but that&#39;s more succinct than I had expected."},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":0,"creation_date":1256921405,"post_id":1650442,"comment_id":1522113,"body_markdown":"Yes, it&#39;s not particulary difficult. I sometimes wonder why people suggest to use 3rd party libraries (like in this case ASM) to solve rather simple problems, when the wrapup required the use the 3rd party library itself is almost more code than what it would require to solve the problem using a little brain and the standard Java API. Can&#39;t programmers program anymore and are they just able to copy, paste and glue libraries together to produce an almost-working, bloated result?","body":"Yes, it&#39;s not particulary difficult. I sometimes wonder why people suggest to use 3rd party libraries (like in this case ASM) to solve rather simple problems, when the wrapup required the use the 3rd party library itself is almost more code than what it would require to solve the problem using a little brain and the standard Java API. Can&#39;t programmers program anymore and are they just able to copy, paste and glue libraries together to produce an almost-working, bloated result?"},{"owner":{"account_id":4790,"reputation":2363,"user_id":7382,"accept_rate":88,"display_name":"JHollanti"},"score":1,"creation_date":1257078553,"post_id":1650442,"comment_id":1528772,"body_markdown":"Great, thanks! Sounds like a solid solution. I won&#39;t have a chance to try it out immediately, but i trust this works. \n\n&quot;Can&#39;t programmers program anymore and are they just...&quot;\nTo a large extent, yes ;) Many of todays &quot;coders&quot; are not so much coders as they are integrators of libraries. Plus (especially with this task) to produce an error free solution would require a lot of work and study as i&#39;m not at all familiar with Java bytecode. \n\nBut thanks!","body":"Great, thanks! Sounds like a solid solution. I won&#39;t have a chance to try it out immediately, but i trust this works.   &quot;Can&#39;t programmers program anymore and are they just...&quot; To a large extent, yes ;) Many of todays &quot;coders&quot; are not so much coders as they are integrators of libraries. Plus (especially with this task) to produce an error free solution would require a lot of work and study as i&#39;m not at all familiar with Java bytecode.   But thanks!"},{"owner":{"account_id":2226874,"reputation":759,"user_id":1965404,"display_name":"typeracer"},"score":4,"creation_date":1524098901,"post_id":1650442,"comment_id":86837952,"body_markdown":"BE CAREFUL with the code given in this example. While it works for many class files, it throws an exception (ArrayIndexOutOfBoundsException) for others.  This is actually a great example why sometimes using a well-tested library is better than doing it yourself.","body":"BE CAREFUL with the code given in this example. While it works for many class files, it throws an exception (ArrayIndexOutOfBoundsException) for others.  This is actually a great example why sometimes using a well-tested library is better than doing it yourself."},{"owner":{"account_id":7334204,"reputation":199,"user_id":5586158,"display_name":"Valery Silaev"},"score":2,"creation_date":1551644400,"post_id":1650442,"comment_id":96705815,"body_markdown":"Typeracer is right. It looks like it fails for code with INVOKEDYNAMIC -- something with lambdas-related, or with boostrap entries inside constant pool","body":"Typeracer is right. It looks like it fails for code with INVOKEDYNAMIC -- something with lambdas-related, or with boostrap entries inside constant pool"},{"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"score":0,"creation_date":1551654402,"post_id":1650442,"comment_id":96708458,"body_markdown":"@typeracer This code was written almost 10 years ago and fails with newer class file versions, just as a library from back then would also fail.","body":"@typeracer This code was written almost 10 years ago and fails with newer class file versions, just as a library from back then would also fail."},{"owner":{"account_id":2226874,"reputation":759,"user_id":1965404,"display_name":"typeracer"},"score":0,"creation_date":1552629993,"post_id":1650442,"comment_id":97091297,"body_markdown":"@jarnbjo I simply wanted to warn people that this solution no longer works.  I wasn&#39;t trying to criticize your answer, which I concede, might have worked at the time you wrote it.","body":"@jarnbjo I simply wanted to warn people that this solution no longer works.  I wasn&#39;t trying to criticize your answer, which I concede, might have worked at the time you wrote it."},{"owner":{"account_id":1976038,"reputation":364,"user_id":1773805,"accept_rate":17,"display_name":"tjeerdnet"},"score":1,"creation_date":1556201719,"post_id":1650442,"comment_id":98364628,"body_markdown":"I wanted to add to the comment of @typeracer that I was running exactly into this problem today. A (legacy) code base using exactly this piece of code to load class files and I am now failing with ArrayIndexOutOfBoundsException when using Functions in my class file.","body":"I wanted to add to the comment of @typeracer that I was running exactly into this problem today. A (legacy) code base using exactly this piece of code to load class files and I am now failing with ArrayIndexOutOfBoundsException when using Functions in my class file."},{"owner":{"account_id":3527030,"reputation":317,"user_id":2947828,"accept_rate":14,"display_name":"Anirudh Kashyap"},"score":0,"creation_date":1561580487,"post_id":1650442,"comment_id":100115656,"body_markdown":"Can you throw some light how you were able to resolve ArrayIndexOutOfBoundsException ? @typeracer","body":"Can you throw some light how you were able to resolve ArrayIndexOutOfBoundsException ? @typeracer"},{"owner":{"account_id":2226874,"reputation":759,"user_id":1965404,"display_name":"typeracer"},"score":0,"creation_date":1565344680,"post_id":1650442,"comment_id":101333408,"body_markdown":"@AnirudhKashyap I ended up using `org.apache.bcel.classfile.ClassParser` from [BCEL](https://commons.apache.org/proper/commons-bcel/) - it works well!","body":"@AnirudhKashyap I ended up using <code>org.apache.bcel.classfile.ClassParser</code> from <a href=\"https://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow noreferrer\">BCEL</a> - it works well!"},{"owner":{"account_id":1256449,"reputation":1131,"user_id":1281217,"accept_rate":100,"display_name":"dzim"},"score":0,"creation_date":1607512657,"post_id":1650442,"comment_id":115293993,"body_markdown":"I recommend `org.objectweb.asm.ClassReader` from https://asm.ow2.io/ (which is the base for many other popular byte code manipulating libraries/compilers - and even used in the OpenJDK...","body":"I recommend <code>org.objectweb.asm.ClassReader</code> from <a href=\"https://asm.ow2.io/\" rel=\"nofollow noreferrer\">asm.ow2.io</a> (which is the base for many other popular byte code manipulating libraries/compilers - and even used in the OpenJDK..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1644404182,"post_id":1650442,"comment_id":125596079,"body_markdown":"@typeracer the main problem with this code is not that it is not up-to-date, but that it does neither, check the files version number nor report unknown tags, but rather treats everything unknown as if having four bytes to skip. [This answer](https://stackoverflow.com/a/52332101/2711488) happens to solve the same task, but is up-to-date and even better, would report unknown tags and is easier to update, due to named constants.","body":"@typeracer the main problem with this code is not that it is not up-to-date, but that it does neither, check the files version number nor report unknown tags, but rather treats everything unknown as if having four bytes to skip. <a href=\"https://stackoverflow.com/a/52332101/2711488\">This answer</a> happens to solve the same task, but is up-to-date and even better, would report unknown tags and is easier to update, due to named constants."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1644404655,"post_id":1650442,"comment_id":125596276,"body_markdown":"By the way, `DataInputStream` has a method `readUnsignedShort()` since day one, so there never was a need to repeatedly write `readShort()&amp;0xffff`.","body":"By the way, <code>DataInputStream</code> has a method <code>readUnsignedShort()</code> since day one, so there never was a need to repeatedly write <code>readShort()&amp;0xffff</code>."},{"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"score":0,"creation_date":1666195730,"post_id":1650442,"comment_id":130880015,"body_markdown":"Note that the code above is not compatible with newer versions of Java, because there are new types in the constant pool, which &#39;Int&#39; size.","body":"Note that the code above is not compatible with newer versions of Java, because there are new types in the constant pool, which &#39;Int&#39; size."}],"tags":[],"owner":{"account_id":60494,"reputation":34013,"user_id":180659,"accept_rate":54,"display_name":"jarnbjo"},"comment_count":14,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1326482968,"creation_date":1256916028,"answer_id":1650442,"question_id":1649674,"body_markdown":"If you just need the class name, it&#39;s probably easier to parse the beginning of the class file yourself instead of adding a 3rd party library for class code manipulation just for this purpose. You just need the classes and strings from the constant pool, skip the access flags and then replace / with . in the class name. If you have a byte array, you can call this method with `new ByteArrayInputStream(byteArray)`:\r\n\r\n    public static String getClassName(InputStream is) throws Exception {\r\n    \tDataInputStream dis = new DataInputStream(is);\r\n    \tdis.readLong(); // skip header and class version\r\n    \tint cpcnt = (dis.readShort()&amp;0xffff)-1;\r\n    \tint[] classes = new int[cpcnt];\r\n    \tString[] strings = new String[cpcnt];\r\n    \tfor(int i=0; i&lt;cpcnt; i++) {\r\n    \t\tint t = dis.read();\r\n\t\t    if(t==7) classes[i] = dis.readShort()&amp;0xffff;\r\n\t\t    else if(t==1) strings[i] = dis.readUTF();\r\n\t\t    else if(t==5 || t==6) { dis.readLong(); i++; }\r\n\t\t    else if(t==8) dis.readShort();\r\n\t\t    else dis.readInt();\r\n    \t}\r\n\t    dis.readShort(); // skip access flags\r\n\t    return strings[classes[(dis.readShort()&amp;0xffff)-1]-1].replace(&#39;/&#39;, &#39;.&#39;);\r\n    }\r\n\r\n","title":"Resolve class name from bytecode","body":"<p>If you just need the class name, it's probably easier to parse the beginning of the class file yourself instead of adding a 3rd party library for class code manipulation just for this purpose. You just need the classes and strings from the constant pool, skip the access flags and then replace / with . in the class name. If you have a byte array, you can call this method with <code>new ByteArrayInputStream(byteArray)</code>:</p>\n\n<pre><code>public static String getClassName(InputStream is) throws Exception {\n    DataInputStream dis = new DataInputStream(is);\n    dis.readLong(); // skip header and class version\n    int cpcnt = (dis.readShort()&amp;0xffff)-1;\n    int[] classes = new int[cpcnt];\n    String[] strings = new String[cpcnt];\n    for(int i=0; i&lt;cpcnt; i++) {\n        int t = dis.read();\n        if(t==7) classes[i] = dis.readShort()&amp;0xffff;\n        else if(t==1) strings[i] = dis.readUTF();\n        else if(t==5 || t==6) { dis.readLong(); i++; }\n        else if(t==8) dis.readShort();\n        else dis.readInt();\n    }\n    dis.readShort(); // skip access flags\n    return strings[classes[(dis.readShort()&amp;0xffff)-1]-1].replace('/', '.');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26513,"reputation":5382,"user_id":69051,"accept_rate":89,"display_name":"01es"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451015026,"creation_date":1451015026,"answer_id":34459840,"question_id":1649674,"body_markdown":"Just for completeness, in cases where the use of ASM5 library is acceptable, the following call could be used to obtain the class name from its byte representation.\r\n\r\n    public String readClassName(final byte[] typeAsByte) {\r\n        return new ClassReader(typeAsByte).getClassName().replace(&quot;/&quot;, &quot;.&quot;);\r\n    }\r\n","title":"Resolve class name from bytecode","body":"<p>Just for completeness, in cases where the use of ASM5 library is acceptable, the following call could be used to obtain the class name from its byte representation.</p>\n\n<pre><code>public String readClassName(final byte[] typeAsByte) {\n    return new ClassReader(typeAsByte).getClassName().replace(\"/\", \".\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666210808,"creation_date":1666196003,"answer_id":74128611,"question_id":1649674,"body_markdown":"Inspired by the solution provided by McDowell I created an updated version that works up to Java 19.\r\n\r\n```Java\r\nString getBinaryName(byte[] byteCode) {\r\n        try (final var is = new DataInputStream(new ByteArrayInputStream(byteCode))) {\r\n            final var magic = is.readInt();\r\n            if (magic != 0xCAFEBABE) {\r\n                throw new RuntimeException(&quot;Class file header is missing.&quot;);\r\n            }\r\n            \r\n            final var minor = is.readUnsignedShort();\r\n            final var major = is.readUnsignedShort();\r\n            final int constantPoolCount = is.readShort();\r\n            final var classes = new int[constantPoolCount - 1];\r\n            final var strings = new String[constantPoolCount - 1];\r\n            for (int i = 0; i &lt; constantPoolCount - 1; i++) {\r\n                int t = is.read();\r\n                switch (t) {\r\n                    case 1://utf-8\r\n                        strings[i] = is.readUTF();\r\n                        break;\r\n                    case 3://Integer\r\n                        is.readInt();\r\n                        break;\r\n                    case 4: // float\r\n                        is.readFloat();\r\n                        break;\r\n                    case 5: // Long\r\n                        is.readLong();\r\n                        i++;\r\n                        break;\r\n                    case 6: // Double\r\n                        is.readDouble();\r\n                        i++;\r\n                        break;\r\n                    case 7: // Class index\r\n                        classes[i] = is.readUnsignedShort();\r\n                        break;\r\n                    case 8: // string index\r\n                        is.readShort();\r\n                        break;\r\n                    case 9: // field ref\r\n                    case 10: // method ref\r\n                    case 11: // interface method ref\r\n                    case 12: // name and type\r\n                    case 18: // invoke dynamic\r\n                        is.readUnsignedShort();\r\n                        is.readUnsignedShort();\r\n                        break;\r\n                    case 15: // method handle\r\n                        is.read();\r\n                        is.readUnsignedShort();\r\n                        break;\r\n                    case 16: // method type\r\n                        is.readUnsignedShort();\r\n                        break;\r\n                    default:\r\n                        throw new RuntimeException(format(&quot;Invalid constant pool tag %d at position %d&quot;, t,i));\r\n                }\r\n            }\r\n            is.readShort(); // skip access flags\r\n            final var classNameIndex = is.readShort();\r\n            return strings[classes[(classNameIndex &amp; 0xffff) - 1] - 1].replace(&#39;/&#39;, &#39;.&#39;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n```","title":"Resolve class name from bytecode","body":"<p>Inspired by the solution provided by McDowell I created an updated version that works up to Java 19.</p>\n<pre><code>String getBinaryName(byte[] byteCode) {\n        try (final var is = new DataInputStream(new ByteArrayInputStream(byteCode))) {\n            final var magic = is.readInt();\n            if (magic != 0xCAFEBABE) {\n                throw new RuntimeException(&quot;Class file header is missing.&quot;);\n            }\n            \n            final var minor = is.readUnsignedShort();\n            final var major = is.readUnsignedShort();\n            final int constantPoolCount = is.readShort();\n            final var classes = new int[constantPoolCount - 1];\n            final var strings = new String[constantPoolCount - 1];\n            for (int i = 0; i &lt; constantPoolCount - 1; i++) {\n                int t = is.read();\n                switch (t) {\n                    case 1://utf-8\n                        strings[i] = is.readUTF();\n                        break;\n                    case 3://Integer\n                        is.readInt();\n                        break;\n                    case 4: // float\n                        is.readFloat();\n                        break;\n                    case 5: // Long\n                        is.readLong();\n                        i++;\n                        break;\n                    case 6: // Double\n                        is.readDouble();\n                        i++;\n                        break;\n                    case 7: // Class index\n                        classes[i] = is.readUnsignedShort();\n                        break;\n                    case 8: // string index\n                        is.readShort();\n                        break;\n                    case 9: // field ref\n                    case 10: // method ref\n                    case 11: // interface method ref\n                    case 12: // name and type\n                    case 18: // invoke dynamic\n                        is.readUnsignedShort();\n                        is.readUnsignedShort();\n                        break;\n                    case 15: // method handle\n                        is.read();\n                        is.readUnsignedShort();\n                        break;\n                    case 16: // method type\n                        is.readUnsignedShort();\n                        break;\n                    default:\n                        throw new RuntimeException(format(&quot;Invalid constant pool tag %d at position %d&quot;, t,i));\n                }\n            }\n            is.readShort(); // skip access flags\n            final var classNameIndex = is.readShort();\n            return strings[classes[(classNameIndex &amp; 0xffff) - 1] - 1].replace('/', '.');\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":4790,"reputation":2363,"user_id":7382,"accept_rate":88,"display_name":"JHollanti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2639,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1650442,"answer_count":6,"score":2,"last_activity_date":1666210808,"creation_date":1256907361,"question_id":1649674,"body_markdown":"Is it possible to dig up a classes name from bytecode which is formed from the class&#39; source code? \r\n\r\nThe situation is this: I get a classes bytecode remotely from somewhere, it doesn&#39;t matter where it comes from. To effectively load that class with a classloader i would need to have the class name as well... right? ","title":"Resolve class name from bytecode","body":"<p>Is it possible to dig up a classes name from bytecode which is formed from the class' source code? </p>\n\n<p>The situation is this: I get a classes bytecode remotely from somewhere, it doesn't matter where it comes from. To effectively load that class with a classloader i would need to have the class name as well... right? </p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-security-oauth2"],"answers":[{"tags":[],"owner":{"account_id":4019496,"reputation":332,"user_id":4967802,"display_name":"zbin"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1554787446,"creation_date":1553592550,"answer_id":55353710,"question_id":53919562,"body_markdown":"Me too.\r\n\r\nBut I found it in `org.springframework.boot:spring-boot-starter-oauth2-resource-server`\r\n\r\n---\r\n\r\nBy the way, I imported `org.springframework.boot:spring-boot-starter-oauth2-resource-server` package and use:\r\n```java\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/**&quot;).hasAnyRole(&quot;admin&quot;)\r\n                .anyRequest().authenticated();\r\n                //.and()\r\n                //.oauth2ResourceServer() don&#39;t use it,\r\n                //.jwt();\r\n                // Do not use it, otherwise you must define \r\n                // jwtDecoderByIssuerUri or jwtDecoderByJwkKeySetUri\r\n```\r\n\r\nIf you want to enable `oauth2ResourceServer`,maybe you need to wait for Spring Security 5.3.x.\r\n\r\nMaybe it related to [next-generation-oauth-2-0-support-with-spring-security](https://spring.io/blog/2018/01/30/next-generation-oauth-2-0-support-with-spring-security)","title":"BearerTokenAccessDeniedHandler Class Definition Not found","body":"<p>Me too.</p>\n\n<p>But I found it in <code>org.springframework.boot:spring-boot-starter-oauth2-resource-server</code></p>\n\n<hr>\n\n<p>By the way, I imported <code>org.springframework.boot:spring-boot-starter-oauth2-resource-server</code> package and use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        http\n                .authorizeRequests()\n                .antMatchers(\"/**\").hasAnyRole(\"admin\")\n                .anyRequest().authenticated();\n                //.and()\n                //.oauth2ResourceServer() don't use it,\n                //.jwt();\n                // Do not use it, otherwise you must define \n                // jwtDecoderByIssuerUri or jwtDecoderByJwkKeySetUri\n</code></pre>\n\n<p>If you want to enable <code>oauth2ResourceServer</code>,maybe you need to wait for Spring Security 5.3.x.</p>\n\n<p>Maybe it related to <a href=\"https://spring.io/blog/2018/01/30/next-generation-oauth-2-0-support-with-spring-security\" rel=\"noreferrer\">next-generation-oauth-2-0-support-with-spring-security</a></p>\n"},{"tags":[],"owner":{"account_id":8781810,"reputation":476,"user_id":6565215,"display_name":"Wojtek Okoski"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1559550050,"creation_date":1559550050,"answer_id":56423541,"question_id":53919562,"body_markdown":"The exception disappeared when I added `spring-boot-starter-oauth2-resource-server` dependency","title":"BearerTokenAccessDeniedHandler Class Definition Not found","body":"<p>The exception disappeared when I added <code>spring-boot-starter-oauth2-resource-server</code> dependency</p>\n"},{"tags":[],"owner":{"account_id":6753723,"reputation":3047,"user_id":5202949,"accept_rate":67,"display_name":"hubert"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589719002,"creation_date":1589719002,"answer_id":61851887,"question_id":53919562,"body_markdown":"I face the same issue and hope the solution i found will help someone.\r\n\r\nWhen you use spring-security-oauth2 and you enable the Resource server, use `WebSecurityConfigurerAdapter` for the endpoint security configurations and override the method `public void configure(HttpSecurity security) throws Exception{}`\r\n\r\n","title":"BearerTokenAccessDeniedHandler Class Definition Not found","body":"<p>I face the same issue and hope the solution i found will help someone.</p>\n\n<p>When you use spring-security-oauth2 and you enable the Resource server, use <code>WebSecurityConfigurerAdapter</code> for the endpoint security configurations and override the method <code>public void configure(HttpSecurity security) throws Exception{}</code></p>\n"},{"tags":[],"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1666210734,"creation_date":1593464925,"answer_id":62646702,"question_id":53919562,"body_markdown":"I upvoted the other answers, but I used &quot;implementation&quot; in my build.gradle file\r\n\r\n    implementation &#39;org.springframework.security:spring-security-oauth2-resource-server&#39;\r\n\r\n\r\nWhy use &#39;implementation&#39; ?\r\n\r\n&gt;*The &#39;compile&#39; configuration still exists but should not be used as it will not offer the guarantees that the &#39;api&#39; and &#39;implementation&#39; configurations provide.*\r\n\r\nThe above quote from:\r\n(( https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation ))\r\n\r\n===========\r\n\r\n\r\nMy full file below\r\n\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    group &#39;com.mycompany.mything&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    sourceCompatibility = 1.8\r\n    \r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    apply plugin: &#39;org.springframework.boot&#39;\r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    \r\n    dependencies {\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-rest&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\r\n\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n    //    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.security:spring-security-oauth2-resource-server&#39;\r\n    implementation &#39;org.springframework.security:spring-security-oauth2-jose&#39;\r\n    //    implementation &#39;org.springframework.security:spring-security-config&#39;\r\n\r\n\r\n    \r\n\r\n    \r\n    \r\n    }\r\n\r\n\r\nAlso see\r\n\r\nhttps://medium.com/mindorks/implementation-vs-api-in-gradle-3-0-494c817a6fa\r\n\r\nfor implementation vs api discussion\r\n","title":"BearerTokenAccessDeniedHandler Class Definition Not found","body":"<p>I upvoted the other answers, but I used &quot;implementation&quot; in my build.gradle file</p>\n<pre><code>implementation 'org.springframework.security:spring-security-oauth2-resource-server'\n</code></pre>\n<p>Why use 'implementation' ?</p>\n<blockquote>\n<p><em>The 'compile' configuration still exists but should not be used as it will not offer the guarantees that the 'api' and 'implementation' configurations provide.</em></p>\n</blockquote>\n<p>The above quote from:\n(( <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_separation</a> ))</p>\n<p>===========</p>\n<p>My full file below</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'com.mycompany.mything'\nversion '1.0-SNAPSHOT'\n\nsourceCompatibility = 1.8\n\n\nrepositories {\n    mavenCentral()\n}\n\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\n\ndependencies {\n\nimplementation 'org.springframework.boot:spring-boot-starter-data-rest'\nimplementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n\n\n\nimplementation 'org.springframework.boot:spring-boot-starter-security'\n//    implementation 'org.springframework.boot:spring-boot-starter-web'\nimplementation 'org.springframework.security:spring-security-oauth2-resource-server'\nimplementation 'org.springframework.security:spring-security-oauth2-jose'\n//    implementation 'org.springframework.security:spring-security-config'\n\n\n\n\n\n\n}\n</code></pre>\n<p>Also see</p>\n<p><a href=\"https://medium.com/mindorks/implementation-vs-api-in-gradle-3-0-494c817a6fa\" rel=\"nofollow noreferrer\">https://medium.com/mindorks/implementation-vs-api-in-gradle-3-0-494c817a6fa</a></p>\n<p>for implementation vs api discussion</p>\n"}],"owner":{"account_id":2250278,"reputation":1074,"user_id":1982646,"accept_rate":100,"display_name":"Verric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17649,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":4,"score":17,"last_activity_date":1666210734,"creation_date":1545715440,"question_id":53919562,"body_markdown":"I&#39;m trying a demo project with spring boot 2.1.1 and spring sec 5, as an OAuth2 resource server however when I try to run the following\r\n\r\n**ENV**\r\n\r\n- Spring Boot 2.1.1 RELEASE\r\n- Spring Security Core 5.1.2\r\n\r\n- Java 8 \r\n\r\n**CODE**\r\n\r\n        @RestController\r\n        @SpringBootApplication\r\n       //  @EnableResourceServer\r\n        public class MyApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(MyApplication.class, args);\r\n\t    }\r\n\t    @GetMapping(&quot;/hello&quot;)\r\n\t    public String sayHello() {\r\n\t\treturn &quot;Hello World&quot;;\r\n\t    }\r\n\r\n\t    @Configuration\r\n\t    static class MyWebSecurityConfigurerAdapter extends \r\n        WebSecurityConfigurerAdapter {\r\n\r\n\t\t@Override\r\n\t\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\t\thttp\r\n\t\t\t\t\t.authorizeRequests().anyRequest().authenticated()\r\n\t\t\t\t\t.and()\r\n\t\t\t\t\t.oauth2ResourceServer().jwt(); // &lt;--- throws error\r\n\r\n\t\t    }\r\n\t      }\r\n\r\n        }\r\n\r\n\r\nWhich throws the error\r\n\r\n&gt; Factory method &#39;springSecurityFilterChain&#39; threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/access/BearerTokenAccessDeniedHandler\r\n\r\n**BUILD**\r\n\r\nMy dependencies look like\r\n\r\n    dependencies {\r\n\t\r\n\timplementation(&#39;org.springframework.boot:spring-boot-starter-web&#39;)\r\n\timplementation(&#39;org.springframework.boot:spring-boot-starter-security&#39;)\r\n\timplementation(group: &#39;org.springframework.security.oauth.boot&#39;, name: &#39;spring-security-oauth2-autoconfigure&#39;, version: &#39;2.1.1.RELEASE&#39;)\r\n\t\r\n\timplementation(group: &#39;org.springframework.security.oauth&#39;, name: &#39;spring-security-oauth2&#39;, version: &#39;2.3.4.RELEASE&#39;)\r\n    }\r\n\r\n","title":"BearerTokenAccessDeniedHandler Class Definition Not found","body":"<p>I'm trying a demo project with spring boot 2.1.1 and spring sec 5, as an OAuth2 resource server however when I try to run the following</p>\n\n<p><strong>ENV</strong></p>\n\n<ul>\n<li>Spring Boot 2.1.1 RELEASE</li>\n<li><p>Spring Security Core 5.1.2</p></li>\n<li><p>Java 8 </p></li>\n</ul>\n\n<p><strong>CODE</strong></p>\n\n<pre><code>    @RestController\n    @SpringBootApplication\n   //  @EnableResourceServer\n    public class MyApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MyApplication.class, args);\n    }\n    @GetMapping(\"/hello\")\n    public String sayHello() {\n    return \"Hello World\";\n    }\n\n    @Configuration\n    static class MyWebSecurityConfigurerAdapter extends \n    WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests().anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer().jwt(); // &lt;--- throws error\n\n        }\n      }\n\n    }\n</code></pre>\n\n<p>Which throws the error</p>\n\n<blockquote>\n  <p>Factory method 'springSecurityFilterChain' threw exception; nested exception is java.lang.NoClassDefFoundError: org/springframework/security/oauth2/server/resource/web/access/BearerTokenAccessDeniedHandler</p>\n</blockquote>\n\n<p><strong>BUILD</strong></p>\n\n<p>My dependencies look like</p>\n\n<pre><code>dependencies {\n\nimplementation('org.springframework.boot:spring-boot-starter-web')\nimplementation('org.springframework.boot:spring-boot-starter-security')\nimplementation(group: 'org.springframework.security.oauth.boot', name: 'spring-security-oauth2-autoconfigure', version: '2.1.1.RELEASE')\n\nimplementation(group: 'org.springframework.security.oauth', name: 'spring-security-oauth2', version: '2.3.4.RELEASE')\n}\n</code></pre>\n"},{"tags":["java","android-studio","android-sqlite"],"comments":[{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1666204052,"post_id":74129591,"comment_id":130882781,"body_markdown":"what type of query do you want to run?","body":"what type of query do you want to run?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1666244065,"post_id":74129591,"comment_id":130890722,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":26100989,"reputation":13,"user_id":19796419,"display_name":"Jayrell Ona"},"score":0,"creation_date":1666270913,"post_id":74129591,"comment_id":130900135,"body_markdown":"I just want to add this INSERT INTO AccountTable ( Username, Password, FirstName, LastName, AccountType) VALUES ( &quot;Admin123&quot;, &quot;Admin123&quot;, &quot;Admin&quot;, &quot;Admin&quot;, &quot;Admin&quot; ) after the first lunch of the app only, I use this data to have an admin login user for the app testing. MikeT give an interesting idea of using onCreate method to call","body":"I just want to add this INSERT INTO AccountTable ( Username, Password, FirstName, LastName, AccountType) VALUES ( &quot;Admin123&quot;, &quot;Admin123&quot;, &quot;Admin&quot;, &quot;Admin&quot;, &quot;Admin&quot; ) after the first lunch of the app only, I use this data to have an admin login user for the app testing. MikeT give an interesting idea of using onCreate method to call"}],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666210308,"creation_date":1666207050,"answer_id":74130758,"question_id":74129591,"body_markdown":"**This will depend upon how you are accessing the database.**\r\n\r\nThe most common way is to utilise the **[SQLiteOpenHelper][1]** class. In which case the **onCreate** method is called when the database is created. The database only ever being created the once (unless it is deleted e.g. the App uninstalled).\r\n\r\nWhen **onCreate** is called the database will have been created **BUT** will not have any components (tables, indexes, views, triggers) other than some system components. Typically this is where the components are created but meets the criteria of your question IF using a class that extends SQLiteOpenHelper. However, unless the query is to store data, it would probably be of little use as there would be no data to query.\r\n\r\nHowever, using a class that extends SQLiteOpenHelper is not the only way in which an SQLite database can be accessed, nor would **onCreate** be called if  you were utilising a pre-existing database copied from the assets folder of the package (e.g. using [SQLiteAssetHelper][2]).\r\n\r\nIn these latter cases, you could test to see if the database actually exists and set a flag/indicator. If it does not and then after opening the database you could then check the indicator and run the query.\r\n\r\n----\r\n\r\n**Demonstration**\r\n\r\n----\r\n\r\nHere&#39;s a demonstration of two methods. \r\n\r\n- The first using the more typical SQLiteOpenHelper and thus the **onCreate** method.\r\n- The second using an indicator.\r\n\r\nThe first method utilises a class that extends SQLiteOpenHelper called **DBHelper** :-\r\n\r\n    class DBHelper extends SQLiteOpenHelper {\r\n        public static final String DATABASE_NAME = &quot;thedatabase.db&quot;;\r\n        public static final int DATABASE_VERSION = 1;\r\n        private static volatile DBHelper instance;\r\n    \r\n        private DBHelper(Context context) {\r\n            super(context,DATABASE_NAME,null,DATABASE_VERSION);\r\n            this.getWritableDatabase(); //Force database open\r\n        }\r\n        public static DBHelper getInstance(Context context) {\r\n            if (instance==null) {\r\n                instance = new DBHelper(context);\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n            // Run the query here AFTER creating the components\r\n            Log.d(&quot;DBHELPER&quot;,&quot;First run detected&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n    \r\n        }\r\n    }\r\n\r\n- Rather than run a query, data is written to the log from within the **onCreate** method.\r\n\r\nThe second method utilises the SQLiteDatabase openOrCreateDatabase (i.e. circumventing using the SQLiteOpenHelper). Thus it has to do some of the things that SQLiteOpenHelper conveniently does automatically:-\r\n\r\n    class OtherDBHelper {\r\n       public static final String DATABASE_NAME = &quot;otherdatabase.db&quot;;\r\n       public static final int DATABASE_VERSION = 1;\r\n    \r\n       private static boolean databaseCreateIndicator = false;\r\n       private static boolean databaseVersionChanged = false;\r\n       private SQLiteDatabase database;\r\n       private static OtherDBHelper instance;\r\n    \r\n       private OtherDBHelper(Context context) {\r\n           if (!context.getDatabasePath(DATABASE_NAME).exists()) {\r\n               databaseCreateIndicator = true;\r\n               File database_dir = context.getDatabasePath(DATABASE_NAME).getParentFile();\r\n               if (!database_dir.exists()) {\r\n                   database_dir.mkdirs();\r\n               }\r\n               // Copy database from assets\r\n           }\r\n           database = SQLiteDatabase.openOrCreateDatabase(context.getDatabasePath(DATABASE_NAME),null);\r\n           //* Database now open */\r\n           // If utilising Version number check and set the version number\r\n           // If not copying pre-existing database create components (tables etc)\r\n           if (databaseCreateIndicator) {\r\n               //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Query here &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\r\n               Log.d(&quot;OTHERDBHELPER&quot;,&quot;First run detected&quot;);\r\n           }\r\n       }\r\n    \r\n       public SQLiteDatabase getSQLiteDatabase() {\r\n           return database;\r\n       }\r\n    \r\n       public static OtherDBHelper getInstance(Context context) {\r\n           if (instance==null) {\r\n               instance = new OtherDBHelper(context);\r\n           }\r\n           return instance;\r\n       }\r\n    }\r\n - again the instead of running a query outputting to the log is used.\r\n\r\nTo test both in unison then some activity code:-\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        DBHelper dbHelper;\r\n        OtherDBHelper otherDBHelper;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            Log.d(&quot;PREDBMSG&quot;,&quot;Just prior to getting the databases.&quot;);\r\n            dbHelper = DBHelper.getInstance(this);\r\n            otherDBHelper = OtherDBHelper.getInstance(this);\r\n            Log.d(&quot;POSTDBMSG&quot;,&quot;Just after getting the databases.&quot;);\r\n        }\r\n    } \r\n\r\n**Results**\r\n\r\nWhen run for the first time then the log includes:-\r\n\r\n    2022-10-20 07:09:27.633 D/PREDBMSG: Just prior to getting the databases.\r\n    2022-10-20 07:09:27.663 D/DBHELPER: First run detected\r\n    2022-10-20 07:09:27.697 D/OTHERDBHELPER: First run detected\r\n    2022-10-20 07:09:27.697 D/POSTDBMSG: Just after getting the databases.\r\n\r\nWhen run again :-\r\n\r\n    2022-10-20 07:10:41.258 D/PREDBMSG: Just prior to getting the databases.\r\n    2022-10-20 07:10:41.266 D/POSTDBMSG: Just after getting the databases.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper\r\n  [2]: https://github.com/jgilfelt/android-sqlite-asset-helper","title":"How to call a query when the app is run for the first time in Android Studio","body":"<p><strong>This will depend upon how you are accessing the database.</strong></p>\n<p>The most common way is to utilise the <strong><a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper\" rel=\"nofollow noreferrer\">SQLiteOpenHelper</a></strong> class. In which case the <strong>onCreate</strong> method is called when the database is created. The database only ever being created the once (unless it is deleted e.g. the App uninstalled).</p>\n<p>When <strong>onCreate</strong> is called the database will have been created <strong>BUT</strong> will not have any components (tables, indexes, views, triggers) other than some system components. Typically this is where the components are created but meets the criteria of your question IF using a class that extends SQLiteOpenHelper. However, unless the query is to store data, it would probably be of little use as there would be no data to query.</p>\n<p>However, using a class that extends SQLiteOpenHelper is not the only way in which an SQLite database can be accessed, nor would <strong>onCreate</strong> be called if  you were utilising a pre-existing database copied from the assets folder of the package (e.g. using <a href=\"https://github.com/jgilfelt/android-sqlite-asset-helper\" rel=\"nofollow noreferrer\">SQLiteAssetHelper</a>).</p>\n<p>In these latter cases, you could test to see if the database actually exists and set a flag/indicator. If it does not and then after opening the database you could then check the indicator and run the query.</p>\n<hr />\n<p><strong>Demonstration</strong></p>\n<hr />\n<p>Here's a demonstration of two methods.</p>\n<ul>\n<li>The first using the more typical SQLiteOpenHelper and thus the <strong>onCreate</strong> method.</li>\n<li>The second using an indicator.</li>\n</ul>\n<p>The first method utilises a class that extends SQLiteOpenHelper called <strong>DBHelper</strong> :-</p>\n<pre><code>class DBHelper extends SQLiteOpenHelper {\n    public static final String DATABASE_NAME = &quot;thedatabase.db&quot;;\n    public static final int DATABASE_VERSION = 1;\n    private static volatile DBHelper instance;\n\n    private DBHelper(Context context) {\n        super(context,DATABASE_NAME,null,DATABASE_VERSION);\n        this.getWritableDatabase(); //Force database open\n    }\n    public static DBHelper getInstance(Context context) {\n        if (instance==null) {\n            instance = new DBHelper(context);\n        }\n        return instance;\n    }\n\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        // Run the query here AFTER creating the components\n        Log.d(&quot;DBHELPER&quot;,&quot;First run detected&quot;);\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n\n    }\n}\n</code></pre>\n<ul>\n<li>Rather than run a query, data is written to the log from within the <strong>onCreate</strong> method.</li>\n</ul>\n<p>The second method utilises the SQLiteDatabase openOrCreateDatabase (i.e. circumventing using the SQLiteOpenHelper). Thus it has to do some of the things that SQLiteOpenHelper conveniently does automatically:-</p>\n<pre><code>class OtherDBHelper {\n   public static final String DATABASE_NAME = &quot;otherdatabase.db&quot;;\n   public static final int DATABASE_VERSION = 1;\n\n   private static boolean databaseCreateIndicator = false;\n   private static boolean databaseVersionChanged = false;\n   private SQLiteDatabase database;\n   private static OtherDBHelper instance;\n\n   private OtherDBHelper(Context context) {\n       if (!context.getDatabasePath(DATABASE_NAME).exists()) {\n           databaseCreateIndicator = true;\n           File database_dir = context.getDatabasePath(DATABASE_NAME).getParentFile();\n           if (!database_dir.exists()) {\n               database_dir.mkdirs();\n           }\n           // Copy database from assets\n       }\n       database = SQLiteDatabase.openOrCreateDatabase(context.getDatabasePath(DATABASE_NAME),null);\n       //* Database now open */\n       // If utilising Version number check and set the version number\n       // If not copying pre-existing database create components (tables etc)\n       if (databaseCreateIndicator) {\n           //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; Query here &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;\n           Log.d(&quot;OTHERDBHELPER&quot;,&quot;First run detected&quot;);\n       }\n   }\n\n   public SQLiteDatabase getSQLiteDatabase() {\n       return database;\n   }\n\n   public static OtherDBHelper getInstance(Context context) {\n       if (instance==null) {\n           instance = new OtherDBHelper(context);\n       }\n       return instance;\n   }\n}\n</code></pre>\n<ul>\n<li>again the instead of running a query outputting to the log is used.</li>\n</ul>\n<p>To test both in unison then some activity code:-</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    DBHelper dbHelper;\n    OtherDBHelper otherDBHelper;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        Log.d(&quot;PREDBMSG&quot;,&quot;Just prior to getting the databases.&quot;);\n        dbHelper = DBHelper.getInstance(this);\n        otherDBHelper = OtherDBHelper.getInstance(this);\n        Log.d(&quot;POSTDBMSG&quot;,&quot;Just after getting the databases.&quot;);\n    }\n} \n</code></pre>\n<p><strong>Results</strong></p>\n<p>When run for the first time then the log includes:-</p>\n<pre><code>2022-10-20 07:09:27.633 D/PREDBMSG: Just prior to getting the databases.\n2022-10-20 07:09:27.663 D/DBHELPER: First run detected\n2022-10-20 07:09:27.697 D/OTHERDBHELPER: First run detected\n2022-10-20 07:09:27.697 D/POSTDBMSG: Just after getting the databases.\n</code></pre>\n<p>When run again :-</p>\n<pre><code>2022-10-20 07:10:41.258 D/PREDBMSG: Just prior to getting the databases.\n2022-10-20 07:10:41.266 D/POSTDBMSG: Just after getting the databases.\n</code></pre>\n"}],"owner":{"account_id":26100989,"reputation":13,"user_id":19796419,"display_name":"Jayrell Ona"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74130758,"answer_count":1,"score":0,"last_activity_date":1666210308,"creation_date":1666200530,"question_id":74129591,"body_markdown":"I&#39;m new to Android Studio and SQLite and wanted to run a query when the app is run for the very first time only, and when the app is run again it wont run the query again. ","title":"How to call a query when the app is run for the first time in Android Studio","body":"<p>I'm new to Android Studio and SQLite and wanted to run a query when the app is run for the very first time only, and when the app is run again it wont run the query again.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20470,"reputation":21695,"user_id":48933,"accept_rate":90,"display_name":"Neil Coffey"},"score":0,"creation_date":1666218835,"post_id":74131205,"comment_id":130887007,"body_markdown":"It&#39;s a bit difficult to know what you&#39;ve missed out, but you&#39;ve clearly got a few issues combined. Try to break your problem down: look at how to use the read() method properly to copy bytes from a file into an array. Once you&#39;ve got that working, look at the details of ZipInputStream (I think you&#39;re missing a call to getNextEntry()), and check you can get that reading a known, good zip file from disk. Then once you&#39;ve got that working, work on the problem of reliably decoding a Base 64 string into the correct byte sequence. Then plug that into your working zip reading code...","body":"It&#39;s a bit difficult to know what you&#39;ve missed out, but you&#39;ve clearly got a few issues combined. Try to break your problem down: look at how to use the read() method properly to copy bytes from a file into an array. Once you&#39;ve got that working, look at the details of ZipInputStream (I think you&#39;re missing a call to getNextEntry()), and check you can get that reading a known, good zip file from disk. Then once you&#39;ve got that working, work on the problem of reliably decoding a Base 64 string into the correct byte sequence. Then plug that into your working zip reading code..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666220082,"post_id":74131205,"comment_id":130887287,"body_markdown":"I don&#39;t know if that&#39;s literally what you wrote but it should probably be ```while ((read = zipStream.read(bytesIn)) &gt; -1)```","body":"I don&#39;t know if that&#39;s literally what you wrote but it should probably be <code>while ((read = zipStream.read(bytesIn)) &gt; -1)</code>"},{"owner":{"account_id":16481866,"reputation":1,"user_id":11908433,"display_name":"Murali N"},"score":0,"creation_date":1666244200,"post_id":74131205,"comment_id":130890748,"body_markdown":"while ((read = zipStream.read(bytesIn)) &gt; -1) {\n\t\t\t\tbaos.write(bytesIn, 0, read);\n\t\t\t} \n\nIt is giving Exception in zipStream.read(bytesIn) : java.util.zip.ZipException: invalid distance too far back","body":"while ((read = zipStream.read(bytesIn)) &gt; -1) { \t\t\t\tbaos.write(bytesIn, 0, read); \t\t\t}   It is giving Exception in zipStream.read(bytesIn) : java.util.zip.ZipException: invalid distance too far back"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1666249561,"post_id":74131205,"comment_id":130892118,"body_markdown":"Probably corrupt","body":"Probably corrupt"}],"owner":{"account_id":16481866,"reputation":1,"user_id":11908433,"display_name":"Murali N"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666209592,"creation_date":1666209592,"question_id":74131205,"body_markdown":"Java: decode base64 string and create in-memory zip file and get files from that zip file java\r\nWhile am trying with \r\n\r\n    enter code here\r\n\r\n    try (ZipInputStream zipInputStream = new ZipInputStream(new ByteArrayInputStream(imageBytes))\r\n    OutputStream outputStream = new ByteArrayOutputStream()) {\r\n    ======\r\n    ====\r\n    }\r\n\r\n    while ((read = zipStream.read(bytesIn)) ==-1) {\r\n    baos.write(bytesIn, 0, read)\r\n    }\r\n\r\nin while condition, it is giving an exception: \r\njava.util.zip.ZipException: invalid distance too far back\r\nPlease help, thanks in advance","title":"Java : decode base64 string and create in-memory zip file and get files from that zip file java","body":"<p>Java: decode base64 string and create in-memory zip file and get files from that zip file java\nWhile am trying with</p>\n<pre><code>enter code here\n\ntry (ZipInputStream zipInputStream = new ZipInputStream(new ByteArrayInputStream(imageBytes))\nOutputStream outputStream = new ByteArrayOutputStream()) {\n======\n====\n}\n\nwhile ((read = zipStream.read(bytesIn)) ==-1) {\nbaos.write(bytesIn, 0, read)\n}\n</code></pre>\n<p>in while condition, it is giving an exception:\njava.util.zip.ZipException: invalid distance too far back\nPlease help, thanks in advance</p>\n"},{"tags":["java","object","enums"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1666207471,"post_id":74130801,"comment_id":130883812,"body_markdown":"This doesn&#39;t really seem like something worth testing the way you&#39;ve done it. It&#39;d be one thing to ensure all of the constants haven&#39;t changed (e.g. comparing the #getAvailablility with a map of known values), but as is you&#39;re just testing (individually) that a number you put in is the number you got out, which is essentially coupling for change. With an enum, you wouldn&#39;t really test the constructors, but the content of it.","body":"This doesn&#39;t really seem like something worth testing the way you&#39;ve done it. It&#39;d be one thing to ensure all of the constants haven&#39;t changed (e.g. comparing the #getAvailablility with a map of known values), but as is you&#39;re just testing (individually) that a number you put in is the number you got out, which is essentially coupling for change. With an enum, you wouldn&#39;t really test the constructors, but the content of it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666207554,"post_id":74130801,"comment_id":130883833,"body_markdown":"Delete 2nd constructor..or use it ;)","body":"Delete 2nd constructor..or use it ;)"},{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666207909,"post_id":74130801,"comment_id":130883938,"body_markdown":"@xerx593 So, enum can have only one constructor ? But I want the default value at first as well as the user given value when they don&#39;t like default value.","body":"@xerx593 So, enum can have only one constructor ? But I want the default value at first as well as the user given value when they don&#39;t like default value."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1666208487,"post_id":74130801,"comment_id":130884131,"body_markdown":"This isn&#39;t worth testing at all. Test the code that uses it and this will get covered.","body":"This isn&#39;t worth testing at all. Test the code that uses it and this will get covered."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1666208713,"post_id":74130801,"comment_id":130884214,"body_markdown":"Here&#39;s the previous similar question: [How to create an object while using enum in a class?](https://stackoverflow.com/q/74106627/522444), but it was posted under a different user ID and was posted yesterday. Why use a new ID?","body":"Here&#39;s the previous similar question: <a href=\"https://stackoverflow.com/q/74106627/522444\">How to create an object while using enum in a class?</a>, but it was posted under a different user ID and was posted yesterday. Why use a new ID?"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1666208883,"post_id":74130801,"comment_id":130884282,"body_markdown":"no, it can have many (constructors), but the only ones you (normally) use (besides aop &amp; reflection hacks) are the ones inside body! :) (and you used only `UK, US, EU` (equivalent to `UK(), US(), EU()` ..you could (e.g.) also do: `UK, US(3.0), EU(2.0)` (without hacks!?) there won&#39;t be any more Regions created (until a new version is compiled)..so the constructors &quot;de facto private&quot;","body":"no, it can have many (constructors), but the only ones you (normally) use (besides aop &amp; reflection hacks) are the ones inside body! :) (and you used only <code>UK, US, EU</code> (equivalent to <code>UK(), US(), EU()</code> ..you could (e.g.) also do: <code>UK, US(3.0), EU(2.0)</code> (without hacks!?) there won&#39;t be any more Regions created (until a new version is compiled)..so the constructors &quot;de facto private&quot;"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1666209503,"post_id":74130801,"comment_id":130884474,"body_markdown":"And here is another more recently asked and deleted question by the same person, again using a different user account: [How to create objects for enum?](https://stackoverflow.com/questions/74130037/)","body":"And here is another more recently asked and deleted question by the same person, again using a different user account: <a href=\"https://stackoverflow.com/questions/74130037/\">How to create objects for enum?</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1666209570,"post_id":74130801,"comment_id":130884500,"body_markdown":"Please do not deface your question after asking. This is not allowed, especially if the question has received answers.","body":"Please do not deface your question after asking. This is not allowed, especially if the question has received answers."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1666210741,"post_id":74130801,"comment_id":130884897,"body_markdown":"That is irrelevant. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right for SE to distribute that content (under the [CC BY-SA 3.0 license](https://creativecommons.org/licenses/by-sa/3.0/)). By SE policy, any vandalism will be reverted. You waste our time when you vandalize questions as this will be noticed, identified, and reverted.","body":"That is irrelevant. By posting on the Stack Exchange network, you&#39;ve granted a non-revocable right for SE to distribute that content (under the <a href=\"https://creativecommons.org/licenses/by-sa/3.0/\" rel=\"nofollow noreferrer\">CC BY-SA 3.0 license</a>). By SE policy, any vandalism will be reverted. You waste our time when you vandalize questions as this will be noticed, identified, and reverted."},{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666210897,"post_id":74130801,"comment_id":130884952,"body_markdown":"Honestly. Sorry for that. Will keep this in mind and act accordingly :)","body":"Honestly. Sorry for that. Will keep this in mind and act accordingly :)"}],"answers":[{"comments":[{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666207819,"post_id":74130830,"comment_id":130883907,"body_markdown":"Can you please elaborate on &quot;test each enum value that it has right values &quot;?","body":"Can you please elaborate on &quot;test each enum value that it has right values &quot;?"},{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666207992,"post_id":74130830,"comment_id":130883964,"body_markdown":"So, enum can have only one constructor ? But I want the default value at first as well as the user given value when they don&#39;t like default value.","body":"So, enum can have only one constructor ? But I want the default value at first as well as the user given value when they don&#39;t like default value."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666208575,"post_id":74130830,"comment_id":130884161,"body_markdown":"The user can&#39;t give a value.  The only code that can possibly create an enum constant is the enum class itself.  You can have as many constructors as you like, but you can&#39;t test any of them -- you can only test the enum constants themselves.","body":"The user can&#39;t give a value.  The only code that can possibly create an enum constant is the enum class itself.  You can have as many constructors as you like, but you can&#39;t test any of them -- you can only test the enum constants themselves."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666208655,"post_id":74130830,"comment_id":130884192,"body_markdown":"In the code you&#39;ve given us, constructor 2 can never be used by anyone ever (unless you change the enum class).  The answer to your question 1 is no.","body":"In the code you&#39;ve given us, constructor 2 can never be used by anyone ever (unless you change the enum class).  The answer to your question 1 is no."},{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666208745,"post_id":74130830,"comment_id":130884229,"body_markdown":"So, Do I have to create a class and declare enum Region inside that class and can have multiple constructors?","body":"So, Do I have to create a class and declare enum Region inside that class and can have multiple constructors?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1666208823,"post_id":74130830,"comment_id":130884259,"body_markdown":"Do you want to be able to create other regions besides the UK, US, and EU?  If so, Region must be a class, not an enum.  If not, then why would you need other constructors, if all the possible values of the type have the same availability value?","body":"Do you want to be able to create other regions besides the UK, US, and EU?  If so, Region must be a class, not an enum.  If not, then why would you need other constructors, if all the possible values of the type have the same availability value?"}],"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666207503,"creation_date":1666207503,"answer_id":74130830,"question_id":74130801,"body_markdown":"You can&#39;t test it, and you don&#39;t need to.  You only need to test code that might get used elsewhere, and enum constructors can&#39;t be.\r\n\r\nAll you need to do is test each enum value to ensure that it has the right values.","title":"Came across this enum and have questions about objects and enums in general","body":"<p>You can't test it, and you don't need to.  You only need to test code that might get used elsewhere, and enum constructors can't be.</p>\n<p>All you need to do is test each enum value to ensure that it has the right values.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666208149,"creation_date":1666208149,"answer_id":74130932,"question_id":74130801,"body_markdown":"The enum constants `UK`, `US`, `EU` ***are*** objects of the enum `Region`. They are created by calling the parameterless constructor. You can think of them as static final fields:\r\n\r\n    public static final Region UK = new Region();\r\n    public static final Region US = new Region();\r\n    public static final Region EU = new Region();\r\n\r\nSo to create more `Region` objects, you can just declare more enum constants. Since you want to test the second constructor:\r\n\r\n```\r\npublic enum Region {\r\n    UK,\r\n    US,\r\n    EU,\r\n\r\n    SOMEWHERE_ELSE(10),\r\n    // think of this as:\r\n    // public static final Region SOMEWHERE_ELSE = new Region(10);\r\n\r\n    ANOTHER_PLACE(5);\r\n    // this of this as:\r\n    // public static final Region ANOTHER_PLACE = new Region(5);\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nNotice that this is the only way to create new objects of enums, which is why a defining property of enum classes is that they can only have a *fixed number* of instances.\r\n\r\nNow you can test that the second constructor actually assigned the available correctly by checking `getAvailability`:\r\n\r\n    assertEquals(10, Region.SOMEWHERE_ELSE.getAvailability());\r\n    assertEquals(5, Region.ANOTHER_PLACE.getAvailability());\r\n","title":"Came across this enum and have questions about objects and enums in general","body":"<p>The enum constants <code>UK</code>, <code>US</code>, <code>EU</code> <em><strong>are</strong></em> objects of the enum <code>Region</code>. They are created by calling the parameterless constructor. You can think of them as static final fields:</p>\n<pre><code>public static final Region UK = new Region();\npublic static final Region US = new Region();\npublic static final Region EU = new Region();\n</code></pre>\n<p>So to create more <code>Region</code> objects, you can just declare more enum constants. Since you want to test the second constructor:</p>\n<pre><code>public enum Region {\n    UK,\n    US,\n    EU,\n\n    SOMEWHERE_ELSE(10),\n    // think of this as:\n    // public static final Region SOMEWHERE_ELSE = new Region(10);\n\n    ANOTHER_PLACE(5);\n    // this of this as:\n    // public static final Region ANOTHER_PLACE = new Region(5);\n\n    // ...\n}\n</code></pre>\n<p>Notice that this is the only way to create new objects of enums, which is why a defining property of enum classes is that they can only have a <em>fixed number</em> of instances.</p>\n<p>Now you can test that the second constructor actually assigned the available correctly by checking <code>getAvailability</code>:</p>\n<pre><code>assertEquals(10, Region.SOMEWHERE_ELSE.getAvailability());\nassertEquals(5, Region.ANOTHER_PLACE.getAvailability());\n</code></pre>\n"}],"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1666209544,"creation_date":1666207309,"question_id":74130801,"body_markdown":"I have a the following code for setting up availability per region -\r\n\r\n```\r\nenum Region {\r\n    UK,\r\n    US,\r\n    EU;\r\n    private final double availability;\r\n\r\n    Region() {\r\n        this.availability = 1;        //constructor 1\r\n    }\r\n\r\n    Region(double availability) { //constructor 2\r\n        this.availability = availability;\r\n    }\r\n\r\n    public double getAvailability() { //getter\r\n        return this.availability;\r\n    }\r\n}\r\n```\r\nI&#39;m writing test cases for the above code to test the constructors as below -\r\n\r\n```\r\n@Test\r\nvoid testConstructor1() {\r\nassertEquals(1, Region.UK.getAvailability())\r\n}\r\n```\r\nI&#39;m confused how to write the test case for second constructor as enums cannot have objects created like classes.\r\n\r\n```\r\n@Test\r\nvoid testConstructor2(){\r\nHERE WE CANNOT CREATE AN OBJECT TO PASS THE VALUE THE TEST CONSTRUCTOR 2 RIGHT? \r\n```\r\nHow can I solve this?\r\n\r\nIf it&#39;s a class we can simply create object and pass in the value and test it.\r\n\r\nPlease take time in answering the questions below -\r\n1. Can enums have objects created like classes?\r\n2.Is there any alternative way that can be achieved similar to objects?","title":"Came across this enum and have questions about objects and enums in general","body":"<p>I have a the following code for setting up availability per region -</p>\n<pre><code>enum Region {\n    UK,\n    US,\n    EU;\n    private final double availability;\n\n    Region() {\n        this.availability = 1;        //constructor 1\n    }\n\n    Region(double availability) { //constructor 2\n        this.availability = availability;\n    }\n\n    public double getAvailability() { //getter\n        return this.availability;\n    }\n}\n</code></pre>\n<p>I'm writing test cases for the above code to test the constructors as below -</p>\n<pre><code>@Test\nvoid testConstructor1() {\nassertEquals(1, Region.UK.getAvailability())\n}\n</code></pre>\n<p>I'm confused how to write the test case for second constructor as enums cannot have objects created like classes.</p>\n<pre><code>@Test\nvoid testConstructor2(){\nHERE WE CANNOT CREATE AN OBJECT TO PASS THE VALUE THE TEST CONSTRUCTOR 2 RIGHT? \n</code></pre>\n<p>How can I solve this?</p>\n<p>If it's a class we can simply create object and pass in the value and test it.</p>\n<p>Please take time in answering the questions below -</p>\n<ol>\n<li>Can enums have objects created like classes?\n2.Is there any alternative way that can be achieved similar to objects?</li>\n</ol>\n"},{"tags":["java","class","object"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1666209421,"post_id":74106627,"comment_id":130884456,"body_markdown":"Please do not deface your question!","body":"Please do not deface your question!"}],"answers":[{"comments":[{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666117233,"post_id":74106712,"comment_id":130858308,"body_markdown":"Thank you so much for this. So, the default value 2 goes as argument for each enum ? But not asa constructor?Also, the getter mentioned above &quot;getavailability&quot; gets us the value of availability per region?","body":"Thank you so much for this. So, the default value 2 goes as argument for each enum ? But not asa constructor?Also, the getter mentioned above &quot;getavailability&quot; gets us the value of availability per region?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666117358,"post_id":74106712,"comment_id":130858353,"body_markdown":"I dont think you can overload enum constructors. Therefore, you need the parameter arguments on each","body":"I dont think you can overload enum constructors. Therefore, you need the parameter arguments on each"},{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666117649,"post_id":74106712,"comment_id":130858446,"body_markdown":"Thank you, so this (value=2) serves as a default value for all the regions now?","body":"Thank you, so this (value=2) serves as a default value for all the regions now?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1666118063,"post_id":74106712,"comment_id":130858585,"body_markdown":"It&#39;s a static value. IMO, calling it &quot;default&quot; would imply it can be overriden.","body":"It&#39;s a static value. IMO, calling it &quot;default&quot; would imply it can be overriden."},{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666118394,"post_id":74106712,"comment_id":130858682,"body_markdown":"Ya, I mean. Initially all the regions availability will be set to =2. But later they can be overridden with a different value right?","body":"Ya, I mean. Initially all the regions availability will be set to =2. But later they can be overridden with a different value right?"},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666119006,"post_id":74106712,"comment_id":130858868,"body_markdown":"They cannot be changed without re-compiling the code since there is no setter and it is a final variable. You also cannot introduce a new Region or override any at runtime since that&#39;s how enums work","body":"They cannot be changed without re-compiling the code since there is no setter and it is a final variable. You also cannot introduce a new Region or override any at runtime since that&#39;s how enums work"},{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666121641,"post_id":74106712,"comment_id":130859752,"body_markdown":"I have a doubt regarding the equals method too which is being used in wrapper class. i have updated the question. Can you pleaseee take time in helping me with that?","body":"I have a doubt regarding the equals method too which is being used in wrapper class. i have updated the question. Can you pleaseee take time in helping me with that?"},{"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"score":0,"creation_date":1666122071,"post_id":74106712,"comment_id":130859896,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/248886/discussion-between-hrx-and-onecricketeer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/248886/discussion-between-hrx-and-onecricketeer\">continue this discussion in chat</a>."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1666194301,"post_id":74106712,"comment_id":130879481,"body_markdown":"@hrx Please create a new post for new questions","body":"@hrx Please create a new post for new questions"}],"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":9,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1666075936,"creation_date":1666075417,"answer_id":74106712,"question_id":74106627,"body_markdown":"Per my understanding, you do not need `class Availability`. \r\n\r\nDefine `Region.java` file as having `public enum Region`, then you can have that constructor along with adding a missing getter. \r\n\r\n    public enum Region {\r\n        US(2),\r\n        UK(2),\r\n        EU(2);\r\n    \r\n        private final double availability;\r\n    \r\n        Region (double availability) {\r\n            this.availability = availability ;\r\n        }\r\n\r\n        public getAvailability() {\r\n            return this.availability;\r\n        }\r\n    }\r\n\r\nThen `Wrapper` can accept `Region` instance instead, and access `.getAvailability()` method of it. \r\n\r\n    public final class Wrapper {\r\n    \r\n        private final Region region;\r\n        \r\n        public Wrapper(Region region){\r\n            this.region = region;\r\n        }\r\n        \r\n        public double getAvailability() {\r\n            return this.region.getAvailability();\r\n        }\r\n\r\ne.g. `System.out.print(new Wrapper(Region.US).getAvailability());`","title":"How to create an object while using enum in a class?","body":"<p>Per my understanding, you do not need <code>class Availability</code>.</p>\n<p>Define <code>Region.java</code> file as having <code>public enum Region</code>, then you can have that constructor along with adding a missing getter.</p>\n<pre><code>public enum Region {\n    US(2),\n    UK(2),\n    EU(2);\n\n    private final double availability;\n\n    Region (double availability) {\n        this.availability = availability ;\n    }\n\n    public getAvailability() {\n        return this.availability;\n    }\n}\n</code></pre>\n<p>Then <code>Wrapper</code> can accept <code>Region</code> instance instead, and access <code>.getAvailability()</code> method of it.</p>\n<pre><code>public final class Wrapper {\n\n    private final Region region;\n    \n    public Wrapper(Region region){\n        this.region = region;\n    }\n    \n    public double getAvailability() {\n        return this.region.getAvailability();\n    }\n</code></pre>\n<p>e.g. <code>System.out.print(new Wrapper(Region.US).getAvailability());</code></p>\n"}],"owner":{"account_id":26057302,"reputation":35,"user_id":19759349,"display_name":"MetaEnforcer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74106712,"answer_count":1,"score":-1,"last_activity_date":1666209407,"creation_date":1666074765,"question_id":74106627,"body_markdown":"I previously have the variable ```availability``` stored in a double which is present inside a class named ```wrapper``` as below -\r\n\r\n```\r\npublic final class Wrapper {\r\n\r\nprivate final double availability;\r\n\r\n\r\nWrapper(){\r\nthis.availability = 2;\r\n}\r\n\r\n\r\npublic Wrapper(final double availability){\r\nthis.availability = availability;\r\n}\r\n\r\npublic double availability (){  // Need a confirmation if this is a getter ?\r\nreturn this.availability;\r\n}\r\n}\r\n```\r\n\r\nNow, I have to change the scenario a bit by making availability as an object.Reason being - **Now we want availability per region** unlike the above case.Also, we need to use that availability object inside the ```wrapper``` class now.\r\n\r\nHere is what I&#39;m trying to do -\r\n```\r\npublic final class Availability {\r\npublic enum Region {\r\nUS,\r\nUK,\r\nEU;\r\n\r\nprivate final double availability;\r\n\r\nRegion () {\r\nthis.availability = 2;\r\n}\r\n\r\nRegion (double availability) {\r\nthis.availability = availability ;\r\n}\r\n}\r\n```\r\nI&#39;m supposed to use the Availability object inside wrapper class as wrapper class object is being used in other places which previously used to take argument (Availability). Now I don&#39;t want to break that workflow. Also I&#39;m a bit confused a bit regarding creation of object for ```Availability``` class as I&#39;m using an enum. Can anyone please help me with this. Thanks in advance!  \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to create an object while using enum in a class?","body":"<p>I previously have the variable <code>availability</code> stored in a double which is present inside a class named <code>wrapper</code> as below -</p>\n<pre><code>public final class Wrapper {\n\nprivate final double availability;\n\n\nWrapper(){\nthis.availability = 2;\n}\n\n\npublic Wrapper(final double availability){\nthis.availability = availability;\n}\n\npublic double availability (){  // Need a confirmation if this is a getter ?\nreturn this.availability;\n}\n}\n</code></pre>\n<p>Now, I have to change the scenario a bit by making availability as an object.Reason being - <strong>Now we want availability per region</strong> unlike the above case.Also, we need to use that availability object inside the <code>wrapper</code> class now.</p>\n<p>Here is what I'm trying to do -</p>\n<pre><code>public final class Availability {\npublic enum Region {\nUS,\nUK,\nEU;\n\nprivate final double availability;\n\nRegion () {\nthis.availability = 2;\n}\n\nRegion (double availability) {\nthis.availability = availability ;\n}\n}\n</code></pre>\n<p>I'm supposed to use the Availability object inside wrapper class as wrapper class object is being used in other places which previously used to take argument (Availability). Now I don't want to break that workflow. Also I'm a bit confused a bit regarding creation of object for <code>Availability</code> class as I'm using an enum. Can anyone please help me with this. Thanks in advance!</p>\n"},{"tags":["java","spring-boot","sonarlint"],"comments":[{"owner":{"account_id":95983,"reputation":1408,"user_id":261123,"accept_rate":86,"display_name":"boardtc"},"score":0,"creation_date":1634832902,"post_id":68040842,"comment_id":123138899,"body_markdown":"I have a similar situation. I&#39;m not sure SonarLint allows for polymorphism and not knowing what the return class will be...","body":"I have a similar situation. I&#39;m not sure SonarLint allows for polymorphism and not knowing what the return class will be..."}],"answers":[{"tags":[],"owner":{"account_id":1317274,"reputation":1240,"user_id":1263867,"accept_rate":100,"display_name":"Koos Gadellaa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666209407,"creation_date":1666209407,"answer_id":74131159,"question_id":68040842,"body_markdown":"Have you considered \r\n`public CustomValidation&lt;?&gt;`","title":"Sonar Lint complaining on factory method to parametrize generic type - Spring Boot","body":"<p>Have you considered\n<code>public CustomValidation&lt;?&gt;</code></p>\n"}],"owner":{"account_id":1110957,"reputation":105,"user_id":1101422,"accept_rate":86,"display_name":"Harini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":934,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1666209407,"creation_date":1624046461,"question_id":68040842,"body_markdown":"I have this generic interface to validate the request and throw custom exception. Then I have an abstract class which implements this interface, which will have the common validation shared across the request and the actual implementation class for each request which extends this abstract class. I have a factory method which returns a bean based on the request. When I run sonar lint, it is complaining on return type of the getValidator(Action action), the message is &quot;Provide the parameterized type for this generic&quot; . It is a major code smell and I want to get rid of it. Is there a better way to do this? Or should I just ignore it?\r\n\r\n```\r\n//Interface\r\n\r\n@FunctionalInterface\r\npublic interface CustomValidation&lt;T&gt; {\r\n    \r\n    /**\r\n     * Validate method to throw custom exception when bean validation fails\r\n     *\r\n     * @param t\r\n     */\r\n    void validate(String clientId, T t);\r\n}\r\n\r\n//Abstract Class\r\n\r\npublic abstract class AbstractCustomValidation&lt;T&gt; implements CustomValidation&lt;T&gt; {\r\n  //do something\r\n}\r\n\r\n//Factory \r\n\r\n@Component\r\npublic class CustomValidatorFactory {\r\n    \r\n    @Autowired\r\n    @Qualifier(&quot;a&quot;)\r\n    private CustomValidation&lt;A&gt; a;\r\n    \r\n    @Autowired\r\n    @Qualifier(&quot;b&quot;)\r\n    private CustomValidation&lt;B&gt; b;\r\n    \r\n    @Autowired\r\n    @Qualifier(&quot;c&quot;)\r\n    private CustomValidation&lt;C&gt; c;\r\n    \r\n    \r\n    @Autowired\r\n    @Qualifier(&quot;d&quot;)\r\n    private CustomValidation&lt;D&gt; d;\r\n    \r\n    public CustomValidation getValidator(Action action) {\r\n        switch (action) {\r\n            case A:\r\n                return a;\r\n            case B:\r\n                return b;\r\n            case C:\r\n                return c;\r\n            case D:\r\n                return d;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n}\r\n","title":"Sonar Lint complaining on factory method to parametrize generic type - Spring Boot","body":"<p>I have this generic interface to validate the request and throw custom exception. Then I have an abstract class which implements this interface, which will have the common validation shared across the request and the actual implementation class for each request which extends this abstract class. I have a factory method which returns a bean based on the request. When I run sonar lint, it is complaining on return type of the getValidator(Action action), the message is &quot;Provide the parameterized type for this generic&quot; . It is a major code smell and I want to get rid of it. Is there a better way to do this? Or should I just ignore it?</p>\n<pre><code>//Interface\n\n@FunctionalInterface\npublic interface CustomValidation&lt;T&gt; {\n    \n    /**\n     * Validate method to throw custom exception when bean validation fails\n     *\n     * @param t\n     */\n    void validate(String clientId, T t);\n}\n\n//Abstract Class\n\npublic abstract class AbstractCustomValidation&lt;T&gt; implements CustomValidation&lt;T&gt; {\n  //do something\n}\n\n//Factory \n\n@Component\npublic class CustomValidatorFactory {\n    \n    @Autowired\n    @Qualifier(&quot;a&quot;)\n    private CustomValidation&lt;A&gt; a;\n    \n    @Autowired\n    @Qualifier(&quot;b&quot;)\n    private CustomValidation&lt;B&gt; b;\n    \n    @Autowired\n    @Qualifier(&quot;c&quot;)\n    private CustomValidation&lt;C&gt; c;\n    \n    \n    @Autowired\n    @Qualifier(&quot;d&quot;)\n    private CustomValidation&lt;D&gt; d;\n    \n    public CustomValidation getValidator(Action action) {\n        switch (action) {\n            case A:\n                return a;\n            case B:\n                return b;\n            case C:\n                return c;\n            case D:\n                return d;\n            default:\n                return null;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","math","benchmarking"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1361225351,"post_id":14945955,"comment_id":20977884,"body_markdown":"What do you mean by &quot;better&quot;?  What could you possibly mean by &quot;better&quot;?  More accurate?  As compared to what?","body":"What do you mean by &quot;better&quot;?  What could you possibly mean by &quot;better&quot;?  More accurate?  As compared to what?"},{"owner":{"account_id":2291228,"reputation":243,"user_id":2013982,"accept_rate":0,"display_name":"Mhsz"},"score":0,"creation_date":1361226358,"post_id":14945955,"comment_id":20978342,"body_markdown":"I mean  More accurate, for example compare between runtime Is this operand (A = B x C MOD N) faster than this operand D = E^-1 MOD N or vice versa . also which more accurate with jave. Is  UNIX OS more accurate WXP OS or vise versa","body":"I mean  More accurate, for example compare between runtime Is this operand (A = B x C MOD N) faster than this operand D = E^-1 MOD N or vice versa . also which more accurate with jave. Is  UNIX OS more accurate WXP OS or vise versa"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1361227850,"post_id":14945955,"comment_id":20978869,"body_markdown":"Can you rely on the result of *what* benchmark? What&#39;s the question here?","body":"Can you rely on the result of <i>what</i> benchmark? What&#39;s the question here?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1361229713,"post_id":14945955,"comment_id":20979501,"body_markdown":"&quot;More accurate&quot; compared to what?  If you benchmark on Unix, you&#39;ll get results that are more representative of performance on Unix.  If you benchmark on Windows, you&#39;ll get results that are more representative of performance on Windows.  If you benchmark on Tuesdays, you&#39;ll get results that are more representative of performance on Tuesdays.","body":"&quot;More accurate&quot; compared to what?  If you benchmark on Unix, you&#39;ll get results that are more representative of performance on Unix.  If you benchmark on Windows, you&#39;ll get results that are more representative of performance on Windows.  If you benchmark on Tuesdays, you&#39;ll get results that are more representative of performance on Tuesdays."}],"answers":[{"comments":[{"owner":{"account_id":2291228,"reputation":243,"user_id":2013982,"accept_rate":0,"display_name":"Mhsz"},"score":0,"creation_date":1361231321,"post_id":14946725,"comment_id":20979993,"body_markdown":"thank YOU FOR ALL.I still have something I did not understand here you say modular inversion tends to require many multiplications. (Depends on the algorithm you are using) in java when we write this line  K =(K1.modInverse(P)) compiler&#39;s java compute k1 inverse depends on any algorithm here. Can you give me any link about this Wondered.","body":"thank YOU FOR ALL.I still have something I did not understand here you say modular inversion tends to require many multiplications. (Depends on the algorithm you are using) in java when we write this line  K =(K1.modInverse(P)) compiler&#39;s java compute k1 inverse depends on any algorithm here. Can you give me any link about this Wondered."},{"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1361258670,"post_id":14946725,"comment_id":20987413,"body_markdown":"You can find the source code at docjar.com. Search for BigInteger.","body":"You can find the source code at docjar.com. Search for BigInteger."}],"tags":[],"owner":{"account_id":123958,"reputation":109295,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361227678,"creation_date":1361227678,"answer_id":14946725,"question_id":14945955,"body_markdown":" 1. Multiplication is typically faster than modular inversion since modular inversion tends to require many multiplications. (Depends on the algorithm you are using, though.)\r\n\r\n 2. Integer arithmetic is accurate everywhere, Unix and Windows are the same.","title":"Does benchmark in java good for compared modular arithmatic operations?","body":"<ol>\n<li><p>Multiplication is typically faster than modular inversion since modular inversion tends to require many multiplications. (Depends on the algorithm you are using, though.)</p></li>\n<li><p>Integer arithmetic is accurate everywhere, Unix and Windows are the same.</p></li>\n</ol>\n"}],"owner":{"account_id":2291228,"reputation":243,"user_id":2013982,"accept_rate":0,"display_name":"Mhsz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1666209085,"creation_date":1361224333,"question_id":14945955,"body_markdown":"Can I rely on the results of the benchmark in java to compare the calculations such as modular arithmetic to compare between two operation for example\r\n\r\nA = B x C MOD N\r\n\r\nD = E^-1 MOD N\r\n\r\nQ1)\r\nI want to know.\r\nMultiplication equivalent amount of time to find the inverted\r\nIf answer yes. Please suggest how that works.\r\n\r\nQ2)\r\nI&#39;ve got a question about benchmarks in Java, in particular.\r\nDoes UNIX OS better than WXP OS when use Java benchmar Rather UNIX OS give us best results or no? ","title":"Does benchmark in java good for compared modular arithmatic operations?","body":"<p>Can I rely on the results of the benchmark in java to compare the calculations such as modular arithmetic to compare between two operation for example</p>\n<p>A = B x C MOD N</p>\n<p>D = E^-1 MOD N</p>\n<p>Q1)\nI want to know.\nMultiplication equivalent amount of time to find the inverted\nIf answer yes. Please suggest how that works.</p>\n<p>Q2)\nI've got a question about benchmarks in Java, in particular.\nDoes UNIX OS better than WXP OS when use Java benchmar Rather UNIX OS give us best results or no?</p>\n"},{"tags":["java","spring-boot","amazon-s3","junit"],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1666207400,"post_id":74130672,"comment_id":130883788,"body_markdown":"I edited my post to show uploadImage Test","body":"I edited my post to show uploadImage Test"}],"tags":[],"owner":{"account_id":2497160,"reputation":73,"user_id":2173281,"display_name":"amanshri93"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666206554,"creation_date":1666206554,"answer_id":74130672,"question_id":74130420,"body_markdown":"You can mock AmazonS3 object by writing something like this:\r\n\r\n    AmazonS3 mockObject;\r\n    @Before\r\n    public void setup() {\r\n        mockObject = Mockito.mock(AmazonS3.class);\r\n        doNothing().when(mockObject).putObject(anyString(), any());\r\n        doNothing().when(mockObject).deleteObject(anyString(), anyLong());\r\n    }\r\n\r\nAlso you would need to find a way to inject this mockObject into your AmazonStoreService class.\r\n\r\nAnother way to mock is to use MockAnnotation\r\n\r\n    @Mock AmazonS3 mockObject;\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.openMocks(this)\r\n        doNothing().when(mockObject).putObject(anyString(), any());\r\n        doNothing().when(mockObject).deleteObject(anyString(), anyLong());\r\n    }\r\n","title":"Write Service Test abount Amazon s3 for Junit of Spring Boot","body":"<p>You can mock AmazonS3 object by writing something like this:</p>\n<pre><code>AmazonS3 mockObject;\n@Before\npublic void setup() {\n    mockObject = Mockito.mock(AmazonS3.class);\n    doNothing().when(mockObject).putObject(anyString(), any());\n    doNothing().when(mockObject).deleteObject(anyString(), anyLong());\n}\n</code></pre>\n<p>Also you would need to find a way to inject this mockObject into your AmazonStoreService class.</p>\n<p>Another way to mock is to use MockAnnotation</p>\n<pre><code>@Mock AmazonS3 mockObject;\n@Before\npublic void setup() {\n    MockitoAnnotations.openMocks(this)\n    doNothing().when(mockObject).putObject(anyString(), any());\n    doNothing().when(mockObject).deleteObject(anyString(), anyLong());\n}\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1070,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74130672,"answer_count":1,"score":0,"last_activity_date":1666208780,"creation_date":1666205139,"question_id":74130420,"body_markdown":"I have a problem about writing junit test for this service shown below.\r\nI wrote some methods but only one cannot work. \r\n\r\nHow can I fix it?\r\n\r\nHere is the service shown below.\r\n\r\n    public class AmazonStoreService {\r\n        private final AmazonS3 amazonS3;\r\n        private final String BUCKET_NAME = &quot;bucketname&quot;;\r\n        private String baseUrl =&quot;baseUrl&quot;;\r\n    \r\n        public String uploadImg(File file, Long id) {\r\n            amazonS3.putObject(BUCKET_NAME, id.toString(), file);\r\n            return baseUrl + bookId;\r\n        }\r\n    \r\n        public void deleteImg(Long id) {\r\n            amazonS3.deleteObject(BUCKET_NAME, id.toString());\r\n        }\r\n    \r\n        public String getImgUrl(Long id) {\r\n            return baseUrl + id;\r\n        }\r\n    }\r\n\r\n\r\nHere is the AmazonServiceTest class shown below.\r\n\r\nclass AmazonServiceTest extends BaseServiceTest{\r\n\r\n    @InjectMocks\r\n    AmazonStoreService imageStoreService;\r\n\r\n    @Mock\r\n    AmazonS3 amazonS3;\r\n\r\n    private final String BUCKET_NAME = &quot;bucketname&quot;;\r\n    private String baseUrl = &quot;baseUrl&quot;;\r\n\r\n    @Test\r\n    void givenBookIdAndFile_thenReturnBaseUrlOfImage() {\r\n\r\n        // given - precondition or setup\r\n        Long bookId = 1L;\r\n        String fileName = &quot;sample.png&quot;;\r\n        MockMultipartFile uploadFile =\r\n                new MockMultipartFile(&quot;file&quot;, fileName, &quot;image/png&quot;, &quot;Some bytes&quot;.getBytes());\r\n\r\n        File file = convert(uploadFile);\r\n\r\n        // when -  action or the behaviour that we are going test\r\n        doNothing().when(amazonS3).putObject(BUCKET_NAME,bookId.toString(), file);\r\n\r\n        // then - verify the output\r\n        imageStoreService.uploadImg(file,bookId);\r\n\r\n        verify(imageStoreService, times(1)).uploadImg(any(File.class), any(Long.class));\r\n    }\r\n\r\n    @Test\r\n    void givenBookId_thenDeleteImageOfBook() {\r\n\r\n        // given - precondition or setup\r\n        Long bookId = 1L;\r\n\r\n        // when -  action or the behaviour that we are going test\r\n        doNothing().when(amazonS3).deleteObject(BUCKET_NAME,bookId.toString());\r\n\r\n        // then - verify the output\r\n        imageStoreService.deleteImg(1L);\r\n\r\n        verify(amazonS3, times(1)).deleteObject(BUCKET_NAME,bookId.toString());\r\n    }\r\n\r\n    @Test\r\n    void givenBookId_tenReturnBaseUrlOfImage() {\r\n\r\n        // given - precondition or setup\r\n        Long bookId = 1L;\r\n\r\n        String expected = baseUrl + bookId;\r\n\r\n        // when -  action or the behaviour that we are going test\r\n\r\n        // then - verify the output\r\n        String result = imageStoreService.getImgUrl(1L);\r\n\r\n        assertEquals(expected, result);\r\n\r\n    }\r\n\r\n    private File convert(final MultipartFile multipartFile) {\r\n        // convert multipartFile to File\r\n        File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\r\n        try (FileOutputStream fos = new FileOutputStream(file)) {\r\n            fos.write(multipartFile.getBytes());\r\n            return file;\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(&quot;Failed to convert multipartFile to File : &quot; + e);\r\n        }\r\n    }\r\n}\r\n\r\nHere is the error throwing from first test method named **givenBookIdAndFile_thenReturnBaseUrlOfImage**\r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Only void methods can doNothing()!\r\n    Example of correct use of doNothing():\r\n        doNothing().\r\n        doThrow(new RuntimeException())\r\n        .when(mock).someVoidMethod();\r\n    Above means:\r\n    someVoidMethod() does nothing the 1st time but throws an exception the 2nd time is called","title":"Write Service Test abount Amazon s3 for Junit of Spring Boot","body":"<p>I have a problem about writing junit test for this service shown below.\nI wrote some methods but only one cannot work.</p>\n<p>How can I fix it?</p>\n<p>Here is the service shown below.</p>\n<pre><code>public class AmazonStoreService {\n    private final AmazonS3 amazonS3;\n    private final String BUCKET_NAME = &quot;bucketname&quot;;\n    private String baseUrl =&quot;baseUrl&quot;;\n\n    public String uploadImg(File file, Long id) {\n        amazonS3.putObject(BUCKET_NAME, id.toString(), file);\n        return baseUrl + bookId;\n    }\n\n    public void deleteImg(Long id) {\n        amazonS3.deleteObject(BUCKET_NAME, id.toString());\n    }\n\n    public String getImgUrl(Long id) {\n        return baseUrl + id;\n    }\n}\n</code></pre>\n<p>Here is the AmazonServiceTest class shown below.</p>\n<p>class AmazonServiceTest extends BaseServiceTest{</p>\n<pre><code>@InjectMocks\nAmazonStoreService imageStoreService;\n\n@Mock\nAmazonS3 amazonS3;\n\nprivate final String BUCKET_NAME = &quot;bucketname&quot;;\nprivate String baseUrl = &quot;baseUrl&quot;;\n\n@Test\nvoid givenBookIdAndFile_thenReturnBaseUrlOfImage() {\n\n    // given - precondition or setup\n    Long bookId = 1L;\n    String fileName = &quot;sample.png&quot;;\n    MockMultipartFile uploadFile =\n            new MockMultipartFile(&quot;file&quot;, fileName, &quot;image/png&quot;, &quot;Some bytes&quot;.getBytes());\n\n    File file = convert(uploadFile);\n\n    // when -  action or the behaviour that we are going test\n    doNothing().when(amazonS3).putObject(BUCKET_NAME,bookId.toString(), file);\n\n    // then - verify the output\n    imageStoreService.uploadImg(file,bookId);\n\n    verify(imageStoreService, times(1)).uploadImg(any(File.class), any(Long.class));\n}\n\n@Test\nvoid givenBookId_thenDeleteImageOfBook() {\n\n    // given - precondition or setup\n    Long bookId = 1L;\n\n    // when -  action or the behaviour that we are going test\n    doNothing().when(amazonS3).deleteObject(BUCKET_NAME,bookId.toString());\n\n    // then - verify the output\n    imageStoreService.deleteImg(1L);\n\n    verify(amazonS3, times(1)).deleteObject(BUCKET_NAME,bookId.toString());\n}\n\n@Test\nvoid givenBookId_tenReturnBaseUrlOfImage() {\n\n    // given - precondition or setup\n    Long bookId = 1L;\n\n    String expected = baseUrl + bookId;\n\n    // when -  action or the behaviour that we are going test\n\n    // then - verify the output\n    String result = imageStoreService.getImgUrl(1L);\n\n    assertEquals(expected, result);\n\n}\n\nprivate File convert(final MultipartFile multipartFile) {\n    // convert multipartFile to File\n    File file = new File(Objects.requireNonNull(multipartFile.getOriginalFilename()));\n    try (FileOutputStream fos = new FileOutputStream(file)) {\n        fos.write(multipartFile.getBytes());\n        return file;\n    } catch (IOException e) {\n        throw new RuntimeException(&quot;Failed to convert multipartFile to File : &quot; + e);\n    }\n}\n</code></pre>\n<p>}</p>\n<p>Here is the error throwing from first test method named <strong>givenBookIdAndFile_thenReturnBaseUrlOfImage</strong></p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nOnly void methods can doNothing()!\nExample of correct use of doNothing():\n    doNothing().\n    doThrow(new RuntimeException())\n    .when(mock).someVoidMethod();\nAbove means:\nsomeVoidMethod() does nothing the 1st time but throws an exception the 2nd time is called\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-lambda"],"comments":[{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":0,"creation_date":1666208938,"post_id":74131042,"comment_id":130884297,"body_markdown":"This seems related: [**Java Heap Space is insufficient to upload files on AWS S3**](https://stackoverflow.com/questions/54379555/java-heap-space-is-insufficient-to-upload-files-on-aws-s3), even though you&#39;re already setting content length.","body":"This seems related: <a href=\"https://stackoverflow.com/questions/54379555/java-heap-space-is-insufficient-to-upload-files-on-aws-s3\"><b>Java Heap Space is insufficient to upload files on AWS S3</b></a>, even though you&#39;re already setting content length."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1666209777,"post_id":74131042,"comment_id":130884561,"body_markdown":"(1) `s3ObjectInputStream.toString().length()` isn&#39;t doing what you think it is -- and that&#39;s a good thing, because otherwise it would load the entire file into memory. (2) You&#39;re passing an empty `ObjectMetadata` to `TransferManager.upload()`, so it will try to cache the entire file in memory.","body":"(1) <code>s3ObjectInputStream.toString().length()</code> isn&#39;t doing what you think it is -- and that&#39;s a good thing, because otherwise it would load the entire file into memory. (2) You&#39;re passing an empty <code>ObjectMetadata</code> to <code>TransferManager.upload()</code>, so it will try to cache the entire file in memory."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":0,"creation_date":1666209903,"post_id":74131042,"comment_id":130884616,"body_markdown":"To fix, get the object metadata from `s3Object` and either pass directly to the upload or create a new instance with just the values you want.","body":"To fix, get the object metadata from <code>s3Object</code> and either pass directly to the upload or create a new instance with just the values you want."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":2,"creation_date":1666209997,"post_id":74131042,"comment_id":130884649,"body_markdown":"But if all you&#39;re doing is copying an object from one bucket to another, it would be _far_ better to use `AmazonS3.copy()`, because that happens entirely within S3.","body":"But if all you&#39;re doing is copying an object from one bucket to another, it would be <i>far</i> better to use <code>AmazonS3.copy()</code>, because that happens entirely within S3."},{"owner":{"account_id":21404685,"reputation":11,"user_id":15766125,"display_name":"Manvendra Pratap Singh"},"score":0,"creation_date":1666232699,"post_id":74131042,"comment_id":130889005,"body_markdown":"@kdgregory I know I have an option to copy but here j am trying to workout upload just to check the functionality.","body":"@kdgregory I know I have an option to copy but here j am trying to workout upload just to check the functionality."},{"owner":{"account_id":21404685,"reputation":11,"user_id":15766125,"display_name":"Manvendra Pratap Singh"},"score":0,"creation_date":1666233216,"post_id":74131042,"comment_id":130889079,"body_markdown":"@kdgregory so you&#39;re saying instead of taking Metadata from s3ObjectInputStream I should get it from S3Object?","body":"@kdgregory so you&#39;re saying instead of taking Metadata from s3ObjectInputStream I should get it from S3Object?"}],"owner":{"account_id":21404685,"reputation":11,"user_id":15766125,"display_name":"Manvendra Pratap Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1666208709,"creation_date":1666208709,"question_id":74131042,"body_markdown":"I wrote a java program, where I am uploading a 1GB text file into S3 bucket(uploading using Lambda from one S3 bucket to another). But I am getting &quot;java.lang.OutOfMemoryError: Java heap space&quot; . I have changed the heap memory to 2048 mb but still it&#39;s not working . \r\n\r\nHere&#39;s the code :\r\n```\r\npublic void s3Upload() throws UnsupportedEncodingException {\r\n        try{\r\n        final AmazonS3 s3Client =AmazonS3ClientBuilder.standard().\r\n                                 withRegion(Regions.US_EAST_1).build();\r\n\r\n        System.out.println(&quot; Creating file transfer &quot;);\r\n\r\n        final S3Object s3Object = s3Client.getObject(&quot;my01bucket&quot;, &quot;S3text.txt&quot;);\r\n        final S3ObjectInputStream s3ObjectInputStream = s3Object.getObjectContent();\r\n\r\n        final long contentLength = s3ObjectInputStream.toString().length();\r\n\r\n        final ObjectMetadata objectMetadata = new ObjectMetadata();\r\n        objectMetadata.setContentType(&quot;text/plain ; charset=utf-8&quot;);\r\n        objectMetadata.setContentLength(contentLength);\r\n\r\n        System.out.println(&quot;Uploading file....&quot;);\r\n\r\n        final TransferManager tm = TransferManagerBuilder.standard().withS3Client(s3Client).\r\n                                   withMultipartUploadThreshold((long)5*1024*1024).build();\r\n        final Transfer upload = tm.upload(String.valueOf(System.getenv(&quot;S3_BUCKET_URL&quot;)),\r\n                    &quot;S3text1.txt&quot;, s3ObjectInputStream , new ObjectMetadata());\r\n        upload.waitForCompletion();\r\n        tm.shutdownNow();\r\n\r\n        } catch (InterruptedException | AmazonClientException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\nNote: used Lambda cause that&#39;s where the business logic will take place. Uploading from one bucket to another , just to check the file uploading functionality into S3 using java.","title":"How to solve &quot;java.lang.OutOfMemoryError: Java heap space&quot; while uploading large file to S3 bucket","body":"<p>I wrote a java program, where I am uploading a 1GB text file into S3 bucket(uploading using Lambda from one S3 bucket to another). But I am getting &quot;java.lang.OutOfMemoryError: Java heap space&quot; . I have changed the heap memory to 2048 mb but still it's not working .</p>\n<p>Here's the code :</p>\n<pre><code>public void s3Upload() throws UnsupportedEncodingException {\n        try{\n        final AmazonS3 s3Client =AmazonS3ClientBuilder.standard().\n                                 withRegion(Regions.US_EAST_1).build();\n\n        System.out.println(&quot; Creating file transfer &quot;);\n\n        final S3Object s3Object = s3Client.getObject(&quot;my01bucket&quot;, &quot;S3text.txt&quot;);\n        final S3ObjectInputStream s3ObjectInputStream = s3Object.getObjectContent();\n\n        final long contentLength = s3ObjectInputStream.toString().length();\n\n        final ObjectMetadata objectMetadata = new ObjectMetadata();\n        objectMetadata.setContentType(&quot;text/plain ; charset=utf-8&quot;);\n        objectMetadata.setContentLength(contentLength);\n\n        System.out.println(&quot;Uploading file....&quot;);\n\n        final TransferManager tm = TransferManagerBuilder.standard().withS3Client(s3Client).\n                                   withMultipartUploadThreshold((long)5*1024*1024).build();\n        final Transfer upload = tm.upload(String.valueOf(System.getenv(&quot;S3_BUCKET_URL&quot;)),\n                    &quot;S3text1.txt&quot;, s3ObjectInputStream , new ObjectMetadata());\n        upload.waitForCompletion();\n        tm.shutdownNow();\n\n        } catch (InterruptedException | AmazonClientException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>Note: used Lambda cause that's where the business logic will take place. Uploading from one bucket to another , just to check the file uploading functionality into S3 using java.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator","spring-boot-chaos-monkey"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1666208678,"post_id":74130989,"comment_id":130884198,"body_markdown":"I&#39;m not seeing anything in the documentation that says actuator is required. Where are you seeing this? Did you add chaos monkey to your app and it didn&#39;t work?","body":"I&#39;m not seeing anything in the documentation that says actuator is required. Where are you seeing this? Did you add chaos monkey to your app and it didn&#39;t work?"},{"owner":{"account_id":14897712,"reputation":79,"user_id":10757461,"display_name":"Robert"},"score":0,"creation_date":1666208853,"post_id":74130989,"comment_id":130884267,"body_markdown":"Yes. The documentation describes their endpoints as &quot;Actuator endpoints&quot;. The endpoints did not work w/o Actuator. We even created a simple &quot;Hello World&quot; microservice, and this worked, but only w/ Actuator","body":"Yes. The documentation describes their endpoints as &quot;Actuator endpoints&quot;. The endpoints did not work w/o Actuator. We even created a simple &quot;Hello World&quot; microservice, and this worked, but only w/ Actuator"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":2,"creation_date":1666208941,"post_id":74130989,"comment_id":130884300,"body_markdown":"Per the [Documentation](https://codecentric.github.io/chaos-monkey-spring-boot/latest/), the Chaos Monkey `management.endpoint.*` seem to presume Spring Boot Actuator.  Q: Is SB Actuator itself the problem?  Or is the main problem that it uses Jackson Databind?","body":"Per the <a href=\"https://codecentric.github.io/chaos-monkey-spring-boot/latest/\" rel=\"nofollow noreferrer\">Documentation</a>, the Chaos Monkey <code>management.endpoint.*</code> seem to presume Spring Boot Actuator.  Q: Is SB Actuator itself the problem?  Or is the main problem that it uses Jackson Databind?"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1666209176,"post_id":74130989,"comment_id":130884369,"body_markdown":"Most spring-boot components have optional actuator endpoints. They only become relevant if you actually include Actuator in your project. I&#39;m asking ... _did you try it?_","body":"Most spring-boot components have optional actuator endpoints. They only become relevant if you actually include Actuator in your project. I&#39;m asking ... <i>did you try it?</i>"},{"owner":{"account_id":14897712,"reputation":79,"user_id":10757461,"display_name":"Robert"},"score":0,"creation_date":1666209243,"post_id":74130989,"comment_id":130884397,"body_markdown":"Yes we tried it.","body":"Yes we tried it."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":2,"creation_date":1666209310,"post_id":74130989,"comment_id":130884419,"body_markdown":"And? what happened? Because it&#39;s [listed as an optional dependency](https://github.com/codecentric/chaos-monkey-spring-boot/blob/main/chaos-monkey-spring-boot/pom.xml#L118-L122) in chaos-monkey itself.","body":"And? what happened? Because it&#39;s <a href=\"https://github.com/codecentric/chaos-monkey-spring-boot/blob/main/chaos-monkey-spring-boot/pom.xml#L118-L122\" rel=\"nofollow noreferrer\">listed as an optional dependency</a> in chaos-monkey itself."},{"owner":{"account_id":14897712,"reputation":79,"user_id":10757461,"display_name":"Robert"},"score":0,"creation_date":1666209723,"post_id":74130989,"comment_id":130884546,"body_markdown":"all endpoints returned a 404","body":"all endpoints returned a 404"},{"owner":{"account_id":14897712,"reputation":79,"user_id":10757461,"display_name":"Robert"},"score":0,"creation_date":1666279826,"post_id":74130989,"comment_id":130904145,"body_markdown":"@paulsm4 The problem is Jackson DB hard dependency on SB Actuator","body":"@paulsm4 The problem is Jackson DB hard dependency on SB Actuator"},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1666296282,"post_id":74130989,"comment_id":130909784,"body_markdown":"Q: so your problem isn&#39;t with SB Actuator per se, but with the fact that SB Actuator brings in Jackson Databind, correct?  Q: (out of curiosity): what&#39;s the issue with bringing Jackson Databind into your project?  Why is this a &quot;problem&quot;?  Q: Have you considered &quot;injecting&quot; a &quot;mock&quot; implementation of Jackson Databind (for example, like you&#39;d mock a &quot;service&quot; for a JUnit test)?  I believe Spring Boot would support this (at least in theory), but I can&#39;t give you any guidance without a) knowing many more details, and b) trying it out in my own lab...","body":"Q: so your problem isn&#39;t with SB Actuator per se, but with the fact that SB Actuator brings in Jackson Databind, correct?  Q: (out of curiosity): what&#39;s the issue with bringing Jackson Databind into your project?  Why is this a &quot;problem&quot;?  Q: Have you considered &quot;injecting&quot; a &quot;mock&quot; implementation of Jackson Databind (for example, like you&#39;d mock a &quot;service&quot; for a JUnit test)?  I believe Spring Boot would support this (at least in theory), but I can&#39;t give you any guidance without a) knowing many more details, and b) trying it out in my own lab..."},{"owner":{"account_id":14897712,"reputation":79,"user_id":10757461,"display_name":"Robert"},"score":0,"creation_date":1666297670,"post_id":74130989,"comment_id":130910198,"body_markdown":"I believe the issue w/ Databind is a security related issue but really it comes from the higher ups and I don&#39;t have specifics. I have not considered using a mock but will look into that","body":"I believe the issue w/ Databind is a security related issue but really it comes from the higher ups and I don&#39;t have specifics. I have not considered using a mock but will look into that"}],"owner":{"account_id":14897712,"reputation":79,"user_id":10757461,"display_name":"Robert"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666208466,"creation_date":1666208466,"question_id":74130989,"body_markdown":"I am working on a project and we want to implement some Chaos Testing. We want to use Spring Boot Chaos Monkey however we are unable to use one of the hard dependencies of  Spring Boot Actuator (Jackson Databind to be specific). It seems implementing SB Actuator is not an option. We cannot access Chaos Monkey via JMX. It must be HTTP.\r\n\r\n- Is it possible to hit Chaos Monkey monkey endpoints w/o SB Actuator?","title":"Is it possible to use Chaos Monkey Spring Boot w/o SB Actuator?","body":"<p>I am working on a project and we want to implement some Chaos Testing. We want to use Spring Boot Chaos Monkey however we are unable to use one of the hard dependencies of  Spring Boot Actuator (Jackson Databind to be specific). It seems implementing SB Actuator is not an option. We cannot access Chaos Monkey via JMX. It must be HTTP.</p>\n<ul>\n<li>Is it possible to hit Chaos Monkey monkey endpoints w/o SB Actuator?</li>\n</ul>\n"},{"tags":["java","testing","command-line-interface"],"answers":[{"tags":[],"owner":{"account_id":4257265,"reputation":643,"user_id":3482616,"display_name":"eddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1438524487,"creation_date":1437735604,"answer_id":31608861,"question_id":27472270,"body_markdown":"I had the exact same problem, landed here and didn&#39;t find a good answer, so I thought I would post the solution I eventually came to as a starting point for anyone who lands here in the future.\r\n\r\nI wrote my tests after the CLI (shame on me, I know), so first I made sure the CLI was written in a testable way. It looks something like this (I&#39;ve omitted the exception handling and simplified a lot to make it more readable):\r\n\r\n    public class CLI {\r\n        \r\n        public static void main(String... args) {\r\n\t\t    new CLI(args).startInterface();\r\n\t    }\r\n\r\n        CLI(String... args) {\r\n            System.out.println(&quot;Welcome to the CLI!&quot;);\r\n            // parse args, load resources, etc\r\n        }\r\n\r\n        void startInterface() {\r\n\t\t    BufferedReader consoleReader = new BufferedReader(new InputStreamReader(System.in));\r\n            while (true) {\r\n                String[] input = sanitiseInput(consoleReader.readLine());\r\n\r\n                if (input[0].equalsIgnoreCase(&quot;help&quot;) {\r\n                    help();\r\n                } else if (input[0].equalsIgnoreCase(&quot;exit&quot;) {\r\n                    break;\r\n                } else if (input[0].equalsIgnoreCase(&quot;save&quot;) {\r\n                    save(input);\r\n                } else {\r\n                    System.out.println(&quot;Unkown command.&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\n        String[] sanitiseInput(String rawInput) {\r\n            // process the input and return each part of it in order in an array, something like:\r\n            return rawInput.trim().split(&quot;[ \\t]+&quot;);\r\n        }\r\n\r\n        void help() {\r\n\t    \t// print help information\r\n            System.out.println(&quot;Helpful help.&quot;);\r\n\t    }\r\n\r\n        void save(String[] args) {\r\n\t    \t// save something based on the argument(s)\r\n\t    }\r\n    }\r\n\r\nOn to testing. `CLI` is not a part of the public libraries, so it should be protected from library users. As is mentioned [here](https://stackoverflow.com/questions/2811141/is-it-bad-practice-to-use-reflection-in-unit-testing#comment2850007_2811141), you can use the default access modifier to make it package private. This gives your tests full access to the class (as long as they are in the same package) while still protecting it, so that&#39;s that taken care of.\r\n\r\nWriting a method for each command accepted by the CLI allows JUnit tests to almost perfectly simulate user input. Since the object won&#39;t read from stdin until you call `startInterface()`, you can simply instantiate it and test the individual methods.\r\n\r\nFirst, it&#39;s good to test that the raw input is being correctly sanitised, which you can do trivially by writing JUnit tests for `sanitiseInput()`. I wrote tests like this:\r\n\r\n\t@Test\r\n\tpublic void commandAndArgumentsSeparatedBySpaces() throws Exception {\r\n\t\tString[] processedInput = uut.sanitiseInput(&quot;command argument1 argument2&quot;);\r\n\t\t\r\n\t\tassertEquals(&quot;Wrong array length.&quot;, 3, processedInput.length);\r\n\t\tassertEquals(&quot;command&quot;, processedInput[0]);\r\n\t\tassertEquals(&quot;argument1&quot;, processedInput[1]);\r\n\t\tassertEquals(&quot;argument2&quot;, processedInput[2]);\r\n\t}\r\n\r\nIt&#39;s easy to cover some edge cases too:\r\n\r\n\t@Test\r\n\tpublic void leadingTrailingAndIntermediaryWhiteSpace() throws Exception {\r\n\t\tString[] processedInput = uut.sanitiseInput(&quot;  \\t  this   \\twas \\t  \\t  a triumph  \\t\\t    &quot;);\r\n\t\t\r\n\t\tassertEquals(&quot;Wrong array length.&quot;, 4, processedInput.length);\r\n\t\tassertEquals(&quot;this&quot;, processedInput[0]);\r\n\t\tassertEquals(&quot;was&quot;, processedInput[1]);\r\n\t\tassertEquals(&quot;a&quot;, processedInput[2]);\r\n\t\tassertEquals(&quot;triumph&quot;, processedInput[3]);\r\n\t}\r\n\r\nNext we can test the invididual command methods by monitoring stdout. I did this (which I found [here](http://www.developer.com/tech/article.php/3669436/Test-Driving-a-Java-Command-Line-Application.htm)):\r\n\r\n\tprivate CLI uut;\r\n\tprivate ByteArrayOutputStream testOutput;\r\n\tprivate PrintStream console = System.out;\r\n    private static final String EOL = System.getProperty(&quot;line.separator&quot;);\r\n\r\n    @Before\r\n\tpublic void setUp() throws Exception {\r\n\t\tuut = new CLI();\r\n\t\ttestOutput = new ByteArrayOutputStream();\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void helpIsPrintedToStdout() throws Exception {\r\n        try {\r\n\t\t    System.setOut(new PrintStream(testOutput));\r\n\t\t    uut.help();\r\n        } finally {\r\n            System.setOut(console);\r\n        }\r\n\t\tassertEquals(&quot;Helpful help.&quot; + EOL, testOutput.toString());\r\n\t}\r\n\r\nIn other words, substitute the JVM&#39;s `out` with something you can query just before the exercise, and then set the old console back in the test&#39;s teardown.\r\n\r\nOf course, CLI applications often do more than just print to the console. Supposing your program saves information to a file, you could test it as such (as of JUnit 4.7):\r\n\r\n\t@Rule\r\n\tpublic TemporaryFolder tempFolder = new TemporaryFolder();\r\n\r\n    @Test\r\n\tpublic void informationIsSavedToFile() throws Exception {\r\n    \tFile testFile = tempFolder.newFile();\r\n\t   \tString expectedContent = &quot;This should be written to the file.&quot;;\r\n\t\t\r\n\t   \tuut.save(testFile.getAbsolutePath(), expectedContent);\r\n\t\t\r\n\t   \ttry (Scanner scanner = new Scanner(testFile)) {\t\r\n\t   \t\tString actualContent = scanner.useDelimiter(&quot;\\\\Z&quot;).next();\r\n\t   \t\tassertEquals(actualContent, expectedContent);\r\n\t   \t}\r\n\t}\r\n\r\nJUnit will take care of creating a valid file and removing it at the end of the test run, leaving you free to test that it is properly treated by the CLI methods.","title":"How to test a Command Line Interface (CLI)?","body":"<p>I had the exact same problem, landed here and didn't find a good answer, so I thought I would post the solution I eventually came to as a starting point for anyone who lands here in the future.</p>\n\n<p>I wrote my tests after the CLI (shame on me, I know), so first I made sure the CLI was written in a testable way. It looks something like this (I've omitted the exception handling and simplified a lot to make it more readable):</p>\n\n<pre><code>public class CLI {\n\n    public static void main(String... args) {\n        new CLI(args).startInterface();\n    }\n\n    CLI(String... args) {\n        System.out.println(\"Welcome to the CLI!\");\n        // parse args, load resources, etc\n    }\n\n    void startInterface() {\n        BufferedReader consoleReader = new BufferedReader(new InputStreamReader(System.in));\n        while (true) {\n            String[] input = sanitiseInput(consoleReader.readLine());\n\n            if (input[0].equalsIgnoreCase(\"help\") {\n                help();\n            } else if (input[0].equalsIgnoreCase(\"exit\") {\n                break;\n            } else if (input[0].equalsIgnoreCase(\"save\") {\n                save(input);\n            } else {\n                System.out.println(\"Unkown command.\");\n            }\n        }\n    }\n\n    String[] sanitiseInput(String rawInput) {\n        // process the input and return each part of it in order in an array, something like:\n        return rawInput.trim().split(\"[ \\t]+\");\n    }\n\n    void help() {\n        // print help information\n        System.out.println(\"Helpful help.\");\n    }\n\n    void save(String[] args) {\n        // save something based on the argument(s)\n    }\n}\n</code></pre>\n\n<p>On to testing. <code>CLI</code> is not a part of the public libraries, so it should be protected from library users. As is mentioned <a href=\"https://stackoverflow.com/questions/2811141/is-it-bad-practice-to-use-reflection-in-unit-testing#comment2850007_2811141\">here</a>, you can use the default access modifier to make it package private. This gives your tests full access to the class (as long as they are in the same package) while still protecting it, so that's that taken care of.</p>\n\n<p>Writing a method for each command accepted by the CLI allows JUnit tests to almost perfectly simulate user input. Since the object won't read from stdin until you call <code>startInterface()</code>, you can simply instantiate it and test the individual methods.</p>\n\n<p>First, it's good to test that the raw input is being correctly sanitised, which you can do trivially by writing JUnit tests for <code>sanitiseInput()</code>. I wrote tests like this:</p>\n\n<pre><code>@Test\npublic void commandAndArgumentsSeparatedBySpaces() throws Exception {\n    String[] processedInput = uut.sanitiseInput(\"command argument1 argument2\");\n\n    assertEquals(\"Wrong array length.\", 3, processedInput.length);\n    assertEquals(\"command\", processedInput[0]);\n    assertEquals(\"argument1\", processedInput[1]);\n    assertEquals(\"argument2\", processedInput[2]);\n}\n</code></pre>\n\n<p>It's easy to cover some edge cases too:</p>\n\n<pre><code>@Test\npublic void leadingTrailingAndIntermediaryWhiteSpace() throws Exception {\n    String[] processedInput = uut.sanitiseInput(\"  \\t  this   \\twas \\t  \\t  a triumph  \\t\\t    \");\n\n    assertEquals(\"Wrong array length.\", 4, processedInput.length);\n    assertEquals(\"this\", processedInput[0]);\n    assertEquals(\"was\", processedInput[1]);\n    assertEquals(\"a\", processedInput[2]);\n    assertEquals(\"triumph\", processedInput[3]);\n}\n</code></pre>\n\n<p>Next we can test the invididual command methods by monitoring stdout. I did this (which I found <a href=\"http://www.developer.com/tech/article.php/3669436/Test-Driving-a-Java-Command-Line-Application.htm\" rel=\"noreferrer\">here</a>):</p>\n\n<pre><code>private CLI uut;\nprivate ByteArrayOutputStream testOutput;\nprivate PrintStream console = System.out;\nprivate static final String EOL = System.getProperty(\"line.separator\");\n\n@Before\npublic void setUp() throws Exception {\n    uut = new CLI();\n    testOutput = new ByteArrayOutputStream();\n}\n\n@Test\npublic void helpIsPrintedToStdout() throws Exception {\n    try {\n        System.setOut(new PrintStream(testOutput));\n        uut.help();\n    } finally {\n        System.setOut(console);\n    }\n    assertEquals(\"Helpful help.\" + EOL, testOutput.toString());\n}\n</code></pre>\n\n<p>In other words, substitute the JVM's <code>out</code> with something you can query just before the exercise, and then set the old console back in the test's teardown.</p>\n\n<p>Of course, CLI applications often do more than just print to the console. Supposing your program saves information to a file, you could test it as such (as of JUnit 4.7):</p>\n\n<pre><code>@Rule\npublic TemporaryFolder tempFolder = new TemporaryFolder();\n\n@Test\npublic void informationIsSavedToFile() throws Exception {\n    File testFile = tempFolder.newFile();\n    String expectedContent = \"This should be written to the file.\";\n\n    uut.save(testFile.getAbsolutePath(), expectedContent);\n\n    try (Scanner scanner = new Scanner(testFile)) { \n        String actualContent = scanner.useDelimiter(\"\\\\Z\").next();\n        assertEquals(actualContent, expectedContent);\n    }\n}\n</code></pre>\n\n<p>JUnit will take care of creating a valid file and removing it at the end of the test run, leaving you free to test that it is properly treated by the CLI methods.</p>\n"},{"comments":[{"owner":{"account_id":1439762,"reputation":4316,"user_id":4686743,"accept_rate":100,"display_name":"David Castillo"},"score":2,"creation_date":1475094613,"post_id":34503368,"comment_id":66810103,"body_markdown":"The poster said their app is in Java.","body":"The poster said their app is in Java."}],"tags":[],"owner":{"account_id":6175814,"reputation":399,"user_id":4812725,"display_name":"hlud6646"},"comment_count":1,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1666208375,"creation_date":1451354108,"answer_id":34503368,"question_id":27472270,"body_markdown":"For any CLI you can use [**BATS** (Bash Automated Testing System)](https://github.com/bats-core/bats-core):\r\n\r\nThe test-specification from the docs is a script-file like `example.bats`:\r\n```sh\r\n#!/usr/bin/env bats\r\n\r\n@test &quot;addition using bc&quot; {\r\n  result=&quot;$(echo 2+2 | bc)&quot;\r\n  [ &quot;$result&quot; -eq 4 ]\r\n}  \r\n\r\n@test &quot;addition using dc&quot; {\r\n  result=&quot;$(echo 2 2+p | dc)&quot;\r\n  [ &quot;$result&quot; -eq 4 ]\r\n}\r\n```\r\nWhen using the `bats` command to execute and the output look like this:\r\n```text\r\n$ bats example.bats\r\n\r\n  addition using bc\r\n  addition using dc\r\n\r\n2 tests, 0 failures\r\n```\r\nSee related tag for more questions: [tag:bats-core]","title":"How to test a Command Line Interface (CLI)?","body":"<p>For any CLI you can use <a href=\"https://github.com/bats-core/bats-core\" rel=\"nofollow noreferrer\"><strong>BATS</strong> (Bash Automated Testing System)</a>:</p>\n<p>The test-specification from the docs is a script-file like <code>example.bats</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bats\n\n@test &quot;addition using bc&quot; {\n  result=&quot;$(echo 2+2 | bc)&quot;\n  [ &quot;$result&quot; -eq 4 ]\n}  \n\n@test &quot;addition using dc&quot; {\n  result=&quot;$(echo 2 2+p | dc)&quot;\n  [ &quot;$result&quot; -eq 4 ]\n}\n</code></pre>\n<p>When using the <code>bats</code> command to execute and the output look like this:</p>\n<pre><code>$ bats example.bats\n\n  addition using bc\n  addition using dc\n\n2 tests, 0 failures\n</code></pre>\n<p>See related tag for more questions: <a href=\"/questions/tagged/bats-core\" class=\"post-tag\" title=\"show questions tagged &#39;bats-core&#39;\" aria-label=\"show questions tagged &#39;bats-core&#39;\" rel=\"tag\" aria-labelledby=\"bats-core-container\">bats-core</a></p>\n"}],"owner":{"account_id":1501764,"reputation":15703,"user_id":1406176,"accept_rate":61,"display_name":"John Threepwood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9043,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1666208375,"creation_date":1418579993,"question_id":27472270,"body_markdown":"My Java application consists of two parts:\r\n\r\n 1. core libraries (classes, interfaces, etc)\r\n 2. command line interface (CLI), which uses the core libraries\r\n\r\nFor 1. I use JUnit for unit testing, but what would you do for 2.?\r\n\r\nHow can I create automated tests for a command line interface?","title":"How to test a Command Line Interface (CLI)?","body":"<p>My Java application consists of two parts:</p>\n\n<ol>\n<li>core libraries (classes, interfaces, etc)</li>\n<li>command line interface (CLI), which uses the core libraries</li>\n</ol>\n\n<p>For 1. I use JUnit for unit testing, but what would you do for 2.?</p>\n\n<p>How can I create automated tests for a command line interface?</p>\n"},{"tags":["java","visual-studio-code","vscode-debugger"],"answers":[{"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":2,"creation_date":1585838263,"post_id":60994129,"comment_id":107909132,"body_markdown":"So please wait for the according support, or downgrade java.","body":"So please wait for the according support, or downgrade java."},{"owner":{"account_id":11141849,"reputation":173,"user_id":8178112,"display_name":"A K"},"score":0,"creation_date":1585838618,"post_id":60994129,"comment_id":107909390,"body_markdown":"I can&#39;t wait for the support. Please guide me in the path of downgrading java.","body":"I can&#39;t wait for the support. Please guide me in the path of downgrading java."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1585839182,"post_id":60994129,"comment_id":107909796,"body_markdown":"Just install (if uninstalled e.g) java 13. And point your `%PATH%` (environment variable, primarily) to java13(installation folder)\\bin. You can verify by entering `where java` or `java --version` in a command shell (resp. `javac`)","body":"Just install (if uninstalled e.g) java 13. And point your <code>%PATH%</code> (environment variable, primarily) to java13(installation folder)\\bin. You can verify by entering <code>where java</code> or <code>java --version</code> in a command shell (resp. <code>javac</code>)"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1585839477,"post_id":60994129,"comment_id":107909996,"body_markdown":"...or choose/use a java-14 compatible IDE(eclipse/netbeans/intellij/..)","body":"...or choose/use a java-14 compatible IDE(eclipse/netbeans/intellij/..)"}],"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1621358930,"creation_date":1585838192,"answer_id":60994129,"question_id":60994004,"body_markdown":"&gt;Visual Studio Code works with all major Java versions from various vendors **up to 13**.\r\n\r\nSource: https://code.visualstudio.com/docs/languages/java (OP date)\r\n\r\n**Update**\r\n\r\nThe cited passage disappeared (by 05/18/2021), so lets assume, that VSCode now supports java beyond version 13.\r\n\r\nStill (the poularity of) [this answer](https://stackoverflow.com/a/61165125/592355), shows that there *is* some bug, and ... cleaning the java workspace helps!","title":"Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)","body":"<blockquote>\n<p>Visual Studio Code works with all major Java versions from various vendors <strong>up to 13</strong>.</p>\n</blockquote>\n<p>Source: <a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/java</a> (OP date)</p>\n<p><strong>Update</strong></p>\n<p>The cited passage disappeared (by 05/18/2021), so lets assume, that VSCode now supports java beyond version 13.</p>\n<p>Still (the poularity of) <a href=\"https://stackoverflow.com/a/61165125/592355\">this answer</a>, shows that there <em>is</em> some bug, and ... cleaning the java workspace helps!</p>\n"},{"comments":[{"owner":{"account_id":6251884,"reputation":168,"user_id":4861695,"display_name":"Cool Soft"},"score":1,"creation_date":1634456979,"post_id":61165125,"comment_id":123025433,"body_markdown":"Just one note - command is named without &#171;the&#187;, so just start typing it manually and do not copy-paste","body":"Just one note - command is named without &#171;the&#187;, so just start typing it manually and do not copy-paste"}],"tags":[],"owner":{"account_id":16981069,"reputation":531,"user_id":12282992,"display_name":"Chariton Sapkas"},"comment_count":1,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1586655711,"creation_date":1586649067,"answer_id":61165125,"question_id":60994004,"body_markdown":"I had the same issue and what I did: I simply cleaned the Java language server workspace, which can be achieved by doing 3 simple steps: \r\n\r\n 1. &lt;kbd&gt;ctrl&lt;/kbd&gt; + &lt;kbd&gt;shift&lt;/kbd&gt; + &lt;kbd&gt;p&lt;/kbd&gt;. \r\n\r\n 2. Write to the command palette: Clean the Java language server workspace.\r\n\r\n 3. Press enter (restart your VScode). \r\n\r\n","title":"Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)","body":"<p>I had the same issue and what I did: I simply cleaned the Java language server workspace, which can be achieved by doing 3 simple steps: </p>\n\n<ol>\n<li><p><kbd>ctrl</kbd> + <kbd>shift</kbd> + <kbd>p</kbd>. </p></li>\n<li><p>Write to the command palette: Clean the Java language server workspace.</p></li>\n<li><p>Press enter (restart your VScode). </p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":0,"creation_date":1619861250,"post_id":67341761,"comment_id":119035398,"body_markdown":"Same as https://stackoverflow.com/a/61165125/2227743","body":"Same as <a href=\"https://stackoverflow.com/a/61165125/2227743\">stackoverflow.com/a/61165125/2227743</a>"}],"tags":[],"owner":{"display_name":"user5946448"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1619827587,"creation_date":1619827587,"answer_id":67341761,"question_id":60994004,"body_markdown":"I had the same problem, I clear the java workspace then I restarted the vs code. it works fine now","title":"Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)","body":"<p>I had the same problem, I clear the java workspace then I restarted the vs code. it works fine now</p>\n"},{"tags":[],"owner":{"account_id":16501806,"reputation":1,"user_id":11922931,"display_name":"Arijit Bhakta"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1622123163,"creation_date":1622123163,"answer_id":67723496,"question_id":60994004,"body_markdown":"I had the same issue and what I did: I simply cleaned the Java language server workspace, which can be achieved by doing 3 simple steps:\r\n\r\nctrl + shift + p.\r\n\r\nWrite to the command palette: Clean the Java language server workspace.\r\n\r\nPress enter (restart your VScode).","title":"Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)","body":"<p>I had the same issue and what I did: I simply cleaned the Java language server workspace, which can be achieved by doing 3 simple steps:</p>\n<p>ctrl + shift + p.</p>\n<p>Write to the command palette: Clean the Java language server workspace.</p>\n<p>Press enter (restart your VScode).</p>\n"},{"comments":[{"owner":{"account_id":11141849,"reputation":173,"user_id":8178112,"display_name":"A K"},"score":0,"creation_date":1623156117,"post_id":67879739,"comment_id":119992385,"body_markdown":"I use this hack much of a time. Majority of the time it works.\nBut this is a risky process too.","body":"I use this hack much of a time. Majority of the time it works. But this is a risky process too."}],"tags":[],"owner":{"account_id":21869090,"reputation":1,"user_id":16158835,"display_name":"lee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623108541,"creation_date":1623108541,"answer_id":67879739,"question_id":60994004,"body_markdown":"If the Clean the Java language server won&#39;t work for you, try deleting the `.project` file + `.vscode` folder under your workspace and restart &amp; delete java server. ","title":"Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)","body":"<p>If the Clean the Java language server won't work for you, try deleting the <code>.project</code> file + <code>.vscode</code> folder under your workspace and restart &amp; delete java server.</p>\n"},{"tags":[],"owner":{"account_id":17268329,"reputation":443,"user_id":12504575,"display_name":"Pratik Thorat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627200397,"creation_date":1627200397,"answer_id":68516690,"question_id":60994004,"body_markdown":"I solved this issue by doing the following.\r\npress ctrl + shift + p\r\n\r\nWrite: Clean the Java language server workspace (in latest vscode editions this command is shown as a suggestion)\r\n\r\npress enter and restart your vscode.(you will get a prompt asking you to restart. just click)\r\n\r\nOnce vscode restarts your problems will go away. \r\n","title":"Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)","body":"<p>I solved this issue by doing the following.\npress ctrl + shift + p</p>\n<p>Write: Clean the Java language server workspace (in latest vscode editions this command is shown as a suggestion)</p>\n<p>press enter and restart your vscode.(you will get a prompt asking you to restart. just click)</p>\n<p>Once vscode restarts your problems will go away.</p>\n"},{"comments":[{"owner":{"account_id":5680302,"reputation":249,"user_id":4491758,"accept_rate":83,"display_name":"LA Hattersley"},"score":0,"creation_date":1634674293,"post_id":68893203,"comment_id":123087921,"body_markdown":"This was my problem too. Fixed. Thanks","body":"This was my problem too. Fixed. Thanks"}],"tags":[],"owner":{"account_id":1091197,"reputation":1223,"user_id":1419054,"display_name":"Joshua"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629723709,"creation_date":1629723709,"answer_id":68893203,"question_id":60994004,"body_markdown":"For me I was getting this error message because of an Eclipse preference file hidden at `projectdir\\.settings\\org.eclipse.jdt.core.prefs`.  It had the invalid source release level specified under `org.eclipse.jdt.core.compiler.source`.  I changed this and three other locations and instantly VScode started engaging the source code by highlighting things and the build was no longer &quot;failing&quot;.","title":"Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)","body":"<p>For me I was getting this error message because of an Eclipse preference file hidden at <code>projectdir\\.settings\\org.eclipse.jdt.core.prefs</code>.  It had the invalid source release level specified under <code>org.eclipse.jdt.core.compiler.source</code>.  I changed this and three other locations and instantly VScode started engaging the source code by highlighting things and the build was no longer &quot;failing&quot;.</p>\n"}],"owner":{"account_id":11141849,"reputation":173,"user_id":8178112,"display_name":"A K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20318,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":60994129,"answer_count":7,"score":11,"last_activity_date":1666208265,"creation_date":1585837814,"question_id":60994004,"body_markdown":"VS Code is showing anomalous behaviour from into my pc from the last couple of days.\r\nI am not able to run a simple java code. \r\nAt the beginning it&#39;s it&#39;s giving an error:\r\n\r\n**&gt; Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)**\r\n\r\nThe compilation result ends with: `\r\n\r\n&gt; **Error: Could not find or load main class Lol\r\nCaused by: java.lang.ClassNotFoundException: Lol**\r\n\r\nLol is the class name in which I have defined  the main method.\r\n\r\n    class Lol\r\n    {\r\n      public static void main(String args[])\r\n      {\r\n        System.out.println(&quot;write the String&quot;);\r\n      }\r\n    }\r\n\r\nEvery time I am stating a new project it&#39;s showing me the exact same result and end up giving this error for all the current and previously build java codes.\r\n\r\nI have installed jdk14 into my pc and added the path properly to after reading some solution on stackoverflow. But this does not help at all.\r\n\r\nCan Anybody tell me where the problem is exactly ???","title":"Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)","body":"<p>VS Code is showing anomalous behaviour from into my pc from the last couple of days.\nI am not able to run a simple java code. \nAt the beginning it's it's giving an error:</p>\n\n<p><strong>> Preview features enabled at an invalid source release level 13, preview can be enabled only at source level 14Java(2098258)</strong></p>\n\n<p>The compilation result ends with: `</p>\n\n<blockquote>\n  <p><strong>Error: Could not find or load main class Lol\n  Caused by: java.lang.ClassNotFoundException: Lol</strong></p>\n</blockquote>\n\n<p>Lol is the class name in which I have defined  the main method.</p>\n\n<pre><code>class Lol\n{\n  public static void main(String args[])\n  {\n    System.out.println(\"write the String\");\n  }\n}\n</code></pre>\n\n<p>Every time I am stating a new project it's showing me the exact same result and end up giving this error for all the current and previously build java codes.</p>\n\n<p>I have installed jdk14 into my pc and added the path properly to after reading some solution on stackoverflow. But this does not help at all.</p>\n\n<p>Can Anybody tell me where the problem is exactly ???</p>\n"},{"tags":["java","scala","sbt"],"comments":[{"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"score":3,"creation_date":1642504829,"post_id":70754711,"comment_id":125082990,"body_markdown":"Seems that you run an older version of sbt on a newer Java/JVM version. There is a reference to &quot;scala.runtime.java8&quot;, but the executing Java/JVM is cleary something 9+ (it uses modules ). I would suggest you do an upgrade somewhere.","body":"Seems that you run an older version of sbt on a newer Java/JVM version. There is a reference to &quot;scala.runtime.java8&quot;, but the executing Java/JVM is cleary something 9+ (it uses modules ). I would suggest you do an upgrade somewhere."},{"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"score":1,"creation_date":1642559620,"post_id":70754711,"comment_id":125101106,"body_markdown":"Seconded. Try a newer sbt version such as 1.6.1. What version are you using currently?","body":"Seconded. Try a newer sbt version such as 1.6.1. What version are you using currently?"},{"owner":{"account_id":17920080,"reputation":911,"user_id":13020185,"display_name":"Ry2254"},"score":0,"creation_date":1642602132,"post_id":70754711,"comment_id":125114267,"body_markdown":"I&#39;m already using 1.6.1 with openjdk 17.0.1 2021-10-19 LTS\nOpenJDK Runtime Environment Zulu17.30+15-CA (build 17.0.1+12-LTS)\nOpenJDK 64-Bit Server VM Zulu17.30+15-CA (build 17.0.1+12-LTS, mixed mode, sharing)","body":"I&#39;m already using 1.6.1 with openjdk 17.0.1 2021-10-19 LTS OpenJDK Runtime Environment Zulu17.30+15-CA (build 17.0.1+12-LTS) OpenJDK 64-Bit Server VM Zulu17.30+15-CA (build 17.0.1+12-LTS, mixed mode, sharing)"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1642602211,"post_id":70754711,"comment_id":125114307,"body_markdown":"Does the error happen when trying to load **sbt** or when you try to `compile` or `run` your code? If the former, what is your **Scala** version?","body":"Does the error happen when trying to load <b>sbt</b> or when you try to <code>compile</code> or <code>run</code> your code? If the former, what is your <b>Scala</b> version?"}],"answers":[{"tags":[],"owner":{"account_id":31493,"reputation":30113,"user_id":86485,"accept_rate":93,"display_name":"Seth Tisue"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642634044,"creation_date":1642634044,"answer_id":70778952,"question_id":70754711,"body_markdown":"The stack trace mentions &quot;au.com.onegeek.sbtdotenv&quot;, so apparently this is coming from https://github.com/mefellows/sbt-dotenv.\r\n\r\nYou could try upgrading to the latest version of that plugin and see if the problem goes away.\r\n\r\nIf it doesn&#39;t, you could report the issue to the maintainer.\r\n\r\nIn that repo&#39;s README, there is a section about similar errors:  https://github.com/mefellows/sbt-dotenv#illegal-reflective-access-warnings\r\n\r\nIt isn&#39;t clear to me if that&#39;s the same or different.","title":"Unable to make field private static final java.util.HashMap java.lang.ProcessEnvironment.theEnvironment accessible","body":"<p>The stack trace mentions &quot;au.com.onegeek.sbtdotenv&quot;, so apparently this is coming from <a href=\"https://github.com/mefellows/sbt-dotenv\" rel=\"nofollow noreferrer\">https://github.com/mefellows/sbt-dotenv</a>.</p>\n<p>You could try upgrading to the latest version of that plugin and see if the problem goes away.</p>\n<p>If it doesn't, you could report the issue to the maintainer.</p>\n<p>In that repo's README, there is a section about similar errors:  <a href=\"https://github.com/mefellows/sbt-dotenv#illegal-reflective-access-warnings\" rel=\"nofollow noreferrer\">https://github.com/mefellows/sbt-dotenv#illegal-reflective-access-warnings</a></p>\n<p>It isn't clear to me if that's the same or different.</p>\n"},{"tags":[],"owner":{"account_id":14679965,"reputation":13,"user_id":10601812,"display_name":"Samuel Gomez"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661701230,"creation_date":1661700995,"answer_id":73520020,"question_id":70754711,"body_markdown":"Assuming `sbt-dotenv` is the culprit, you can try a couple of things:\r\n\r\n 1. Create a `.jvmopts` and place it at the root folder of your project.\r\n 2. Prefix the `export` keyword in your `.env` variables.\r\n\r\nThis should solve the issue","title":"Unable to make field private static final java.util.HashMap java.lang.ProcessEnvironment.theEnvironment accessible","body":"<p>Assuming <code>sbt-dotenv</code> is the culprit, you can try a couple of things:</p>\n<ol>\n<li>Create a <code>.jvmopts</code> and place it at the root folder of your project.</li>\n<li>Prefix the <code>export</code> keyword in your <code>.env</code> variables.</li>\n</ol>\n<p>This should solve the issue</p>\n"},{"tags":[],"owner":{"account_id":7990575,"reputation":1168,"user_id":6028548,"display_name":"Thomas Lehoux"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1666207934,"creation_date":1666207934,"answer_id":74130894,"question_id":70754711,"body_markdown":"The problem is coming from `sbt-dotenv`.\r\n\r\nAt the root folder of your project, just create a `.jvmopts` file containing the following lines:\r\n\r\n    --add-opens=java.base/java.util=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED ","title":"Unable to make field private static final java.util.HashMap java.lang.ProcessEnvironment.theEnvironment accessible","body":"<p>The problem is coming from <code>sbt-dotenv</code>.</p>\n<p>At the root folder of your project, just create a <code>.jvmopts</code> file containing the following lines:</p>\n<pre><code>--add-opens=java.base/java.util=ALL-UNNAMED\n--add-opens=java.base/java.lang=ALL-UNNAMED \n</code></pre>\n"}],"owner":{"account_id":17920080,"reputation":911,"user_id":13020185,"display_name":"Ry2254"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1666207934,"creation_date":1642504560,"question_id":70754711,"body_markdown":"When I run sbt, I get the below. I am still able to keep working but the warning/error annoys me and clutters my terminal. Any idea how I resolve this?\r\n\r\n```\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.util.HashMap java.lang.ProcessEnvironment.theEnvironment accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @43016\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n        at au.com.onegeek.sbtdotenv.DirtyEnvironmentHack$.$anonfun$setEnv$1(DirtyEnvironmentHack.scala:42)\r\n        at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\r\n        at scala.util.Try$.apply(Try.scala:213)\r\n        at au.com.onegeek.sbtdotenv.DirtyEnvironmentHack$.setEnv(DirtyEnvironmentHack.scala:38)\r\n        at au.com.onegeek.sbtdotenv.SbtDotenv$.configureEnvironment(SbtDotenv.scala:71)\r\n        at au.com.onegeek.sbtdotenv.SbtDotenv$autoImport$.$anonfun$dotEnv$1(SbtDotenv.scala:42)\r\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\r\n        at sbt.Project$.setProject(Project.scala:501)\r\n\r\n```","title":"Unable to make field private static final java.util.HashMap java.lang.ProcessEnvironment.theEnvironment accessible","body":"<p>When I run sbt, I get the below. I am still able to keep working but the warning/error annoys me and clutters my terminal. Any idea how I resolve this?</p>\n<pre><code>java.lang.reflect.InaccessibleObjectException: Unable to make field private static final java.util.HashMap java.lang.ProcessEnvironment.theEnvironment accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @43016\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n        at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n        at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n        at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n        at au.com.onegeek.sbtdotenv.DirtyEnvironmentHack$.$anonfun$setEnv$1(DirtyEnvironmentHack.scala:42)\n        at scala.runtime.java8.JFunction0$mcV$sp.apply(JFunction0$mcV$sp.java:23)\n        at scala.util.Try$.apply(Try.scala:213)\n        at au.com.onegeek.sbtdotenv.DirtyEnvironmentHack$.setEnv(DirtyEnvironmentHack.scala:38)\n        at au.com.onegeek.sbtdotenv.SbtDotenv$.configureEnvironment(SbtDotenv.scala:71)\n        at au.com.onegeek.sbtdotenv.SbtDotenv$autoImport$.$anonfun$dotEnv$1(SbtDotenv.scala:42)\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n        at scala.Function1.$anonfun$compose$1(Function1.scala:49)\n        at sbt.Project$.setProject(Project.scala:501)\n\n</code></pre>\n"},{"tags":["java","arrays","for-loop","multidimensional-array","nested-loops"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666209409,"post_id":74130838,"comment_id":130884452,"body_markdown":"I assume you want each row in the 2D array to have the same values as char array.  In that case, remove i and replace ```grid[row][col] = ch[i];``` with ```grid[row][col] = ch[col];```","body":"I assume you want each row in the 2D array to have the same values as char array.  In that case, remove i and replace <code>grid[row][col] = ch[i];</code> with <code>grid[row][col] = ch[col];</code>"},{"owner":{"account_id":24127886,"reputation":1,"user_id":18095885,"display_name":"questionsolid"},"score":0,"creation_date":1666215264,"post_id":74130838,"comment_id":130886177,"body_markdown":"That doesnt work, what I want is the first row of the 2d array to fill with the same values as ch[], than once that row is full and its on the next row of the 2d array, to simply continue to add the values in ch[] from where it left off on the previous row.","body":"That doesnt work, what I want is the first row of the 2d array to fill with the same values as ch[], than once that row is full and its on the next row of the 2d array, to simply continue to add the values in ch[] from where it left off on the previous row."},{"owner":{"account_id":24127886,"reputation":1,"user_id":18095885,"display_name":"questionsolid"},"score":0,"creation_date":1666216681,"post_id":74130838,"comment_id":130886517,"body_markdown":"Something else I just realized is if I change my code from grid[row][col] = ch[i] and just change the ch[i] to &#39;A&#39; for example it populates the whole grid with A, so its something wrong with ch[i] I think","body":"Something else I just realized is if I change my code from grid[row][col] = ch[i] and just change the ch[i] to &#39;A&#39; for example it populates the whole grid with A, so its something wrong with ch[i] I think"},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1666236043,"post_id":74130838,"comment_id":130889457,"body_markdown":"The length of ch[] is equal to row*height of grid?  If not, do you want it to loop around?","body":"The length of ch[] is equal to row*height of grid?  If not, do you want it to loop around?"}],"owner":{"account_id":24127886,"reputation":1,"user_id":18095885,"display_name":"questionsolid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1666207564,"creation_date":1666207564,"question_id":74130838,"body_markdown":"So I have a grid that is 6 by 7 \r\n\r\n    char[][] grid = new char[6][7]; \r\n\r\nAnd is populated with blank spaces using this loop:\r\n\r\n    for (int row = 0; row &lt; grid.length; row++) {\r\n            for (int col = 0; col &lt; grid[0].length; col++) {\r\n                grid[row][col] = &#39; &#39;;\r\n            }\r\n        }\r\n\r\nI also have a char[] array that holds &#39;A&#39;s &#39;B&#39;s and blank spaces. For example ch[0] = B, ch[1] = A, ch[8] = &quot; &quot;.\r\n\r\nAnd I am simply trying to populate each slot of the 2d array &#39;grid&#39; with the contents of the char array one at a time.\r\n\r\nI tried to use the same for loop with some changes to populate the grid but when I run it only populates the top row of my grid and I&#39;m not sure why. I have tried to move the i++, and change the for loop parameters but nothing is working and I need help. This is how I am trying to do it:\r\n\r\n                int i = 0;\r\n                for (int row = 0; row &lt; grid.length; row++) {\r\n                    for (int col = 0; col &lt; grid[0].length; col++) {\r\n                        grid[row][col] = ch[i];\r\n                        i++;\r\n                    }\r\n                }\r\n\r\nIf it helps to know I am getting the contents of ch[] from a .csv file and storing it in a char array. When I run this code as is, it perfectly populates the top row of my grid (first row) but then it does not do anything to the remaining rows.\r\n\r\nI don&#39;t want to change the data types of anything, I know I can get this too work I just need some help.","title":"How can I populate this 2d array with values from a char array","body":"<p>So I have a grid that is 6 by 7</p>\n<pre><code>char[][] grid = new char[6][7]; \n</code></pre>\n<p>And is populated with blank spaces using this loop:</p>\n<pre><code>for (int row = 0; row &lt; grid.length; row++) {\n        for (int col = 0; col &lt; grid[0].length; col++) {\n            grid[row][col] = ' ';\n        }\n    }\n</code></pre>\n<p>I also have a char[] array that holds 'A's 'B's and blank spaces. For example ch[0] = B, ch[1] = A, ch[8] = &quot; &quot;.</p>\n<p>And I am simply trying to populate each slot of the 2d array 'grid' with the contents of the char array one at a time.</p>\n<p>I tried to use the same for loop with some changes to populate the grid but when I run it only populates the top row of my grid and I'm not sure why. I have tried to move the i++, and change the for loop parameters but nothing is working and I need help. This is how I am trying to do it:</p>\n<pre><code>            int i = 0;\n            for (int row = 0; row &lt; grid.length; row++) {\n                for (int col = 0; col &lt; grid[0].length; col++) {\n                    grid[row][col] = ch[i];\n                    i++;\n                }\n            }\n</code></pre>\n<p>If it helps to know I am getting the contents of ch[] from a .csv file and storing it in a char array. When I run this code as is, it perfectly populates the top row of my grid (first row) but then it does not do anything to the remaining rows.</p>\n<p>I don't want to change the data types of anything, I know I can get this too work I just need some help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9275,"page":948,"page_size":100}
