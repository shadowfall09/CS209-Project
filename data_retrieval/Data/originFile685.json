{"items":[{"tags":["java","spring-boot","logback","spring-logback"],"comments":[{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1648537194,"post_id":71656353,"comment_id":126642146,"body_markdown":"Do you have additional Logback configurations, where you e.g. restrict the log level for specific appenders?","body":"Do you have additional Logback configurations, where you e.g. restrict the log level for specific appenders?"}],"answers":[{"tags":[],"owner":{"account_id":6969304,"reputation":547,"user_id":5346203,"display_name":"Alex Cumarav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648547083,"creation_date":1648547083,"answer_id":71659763,"question_id":71656353,"body_markdown":"You probably need to configure logging appenders. Setting log levels is not enough.\r\nPlease check out this article [spring-boot-logging][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-logging","title":"Logback and logging specific package in Spring Boot","body":"<p>You probably need to configure logging appenders. Setting log levels is not enough.\nPlease check out this article <a href=\"https://www.baeldung.com/spring-boot-logging\" rel=\"nofollow noreferrer\">spring-boot-logging</a></p>\n"}],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1755,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675257850,"creation_date":1648527138,"question_id":71656353,"body_markdown":"I&#39;m using Spring Boot v2.3.9.RELEASE with the Logback framework.\r\n\r\nI want Spring/Logback to log debug messages, but it refuses to do so. The application.yml has multiple ways to plead with it to log DEBUG messages. I saw multiple ways of doing a specific package. I my attempts for application.yml below:\r\n```\r\nspring:\r\n  logging:\r\n    level:\r\n        com.mycompany.mypackage: DEBUG\r\nlogging:\r\n  level:\r\n    com.mycompany.mypackage: DEBUG\r\n```\r\n\r\nI&#39;m not sure if it matters, but the YAML indentation above is 2 spaces per level.\r\n\r\nInvoked using:\r\n```\r\n    ...\r\n    protected static final Logger log = LoggerFactory.getLogger(ToolClient.class);\r\n    ...\r\n    log.debug(&quot;My debugging statement&quot;);\r\n\r\n```\r\n\r\nHad I chosen log.info(&quot;...&quot;), it would have worked.\r\n\r\nWhich incantation of application.yml do I need to do to get Logback to work?\r\n","title":"Logback and logging specific package in Spring Boot","body":"<p>I'm using Spring Boot v2.3.9.RELEASE with the Logback framework.</p>\n<p>I want Spring/Logback to log debug messages, but it refuses to do so. The application.yml has multiple ways to plead with it to log DEBUG messages. I saw multiple ways of doing a specific package. I my attempts for application.yml below:</p>\n<pre><code>spring:\n  logging:\n    level:\n        com.mycompany.mypackage: DEBUG\nlogging:\n  level:\n    com.mycompany.mypackage: DEBUG\n</code></pre>\n<p>I'm not sure if it matters, but the YAML indentation above is 2 spaces per level.</p>\n<p>Invoked using:</p>\n<pre><code>    ...\n    protected static final Logger log = LoggerFactory.getLogger(ToolClient.class);\n    ...\n    log.debug(&quot;My debugging statement&quot;);\n\n</code></pre>\n<p>Had I chosen log.info(&quot;...&quot;), it would have worked.</p>\n<p>Which incantation of application.yml do I need to do to get Logback to work?</p>\n"},{"tags":["java","eclipse","javafx"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1675260885,"post_id":75310831,"comment_id":132890243,"body_markdown":"That WidgetProperties class is no longer included with Eclipse, the code trying to use it needs to be updated.","body":"That WidgetProperties class is no longer included with Eclipse, the code trying to use it needs to be updated."},{"owner":{"account_id":6794254,"reputation":1,"user_id":5230199,"display_name":"Nate Macdonald"},"score":1,"creation_date":1675263027,"post_id":75310831,"comment_id":132891031,"body_markdown":"@greg-449 I think the e(fx)clipse plugin is trying to use WidgetProperties when opening the file. I&#39;ve installed the latest version of the plugin (3.8.0), so I can&#39;t update that. Should I install an older version of eclipse?","body":"@greg-449 I think the e(fx)clipse plugin is trying to use WidgetProperties when opening the file. I&#39;ve installed the latest version of the plugin (3.8.0), so I can&#39;t update that. Should I install an older version of eclipse?"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":1,"creation_date":1675267759,"post_id":75310831,"comment_id":132892861,"body_markdown":"Sounds like the same cause as https://stackoverflow.com/questions/74758570/cant-create-new-fxml-file-in-eclipse/74758879#74758879 --2022-12 isn&#39;t yet supported.","body":"Sounds like the same cause as <a href=\"https://stackoverflow.com/questions/74758570/cant-create-new-fxml-file-in-eclipse/74758879#74758879\" title=\"cant create new fxml file in eclipse\">stackoverflow.com/questions/74758570/&hellip;</a> --2022-12 isn&#39;t yet supported."}],"owner":{"account_id":6794254,"reputation":1,"user_id":5230199,"display_name":"Nate Macdonald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675272373,"answer_count":0,"score":0,"last_activity_date":1675257807,"creation_date":1675257807,"question_id":75310831,"body_markdown":"I created a javafx project using the e(fx)clipse plugin, and I&#39;m trying to open the ```build.fxbuild``` file, but whenever I do I get the error: &quot;Failed to create the part&#39;s control&quot;. The details drop down tells me I ran into the following error: ```java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties```. I&#39;ve tried to download some jface jar files and add it to the build path of the project to try fix the issue, but nothing works - maybe I&#39;m adding the wrong jar files. Any help fixing this issue would be appreciated.\r\n\r\nHere are the error details provided by eclipse:\r\n```\r\neclipse.buildId=4.26.0.20221201-1200\r\njava.version=17.0.5\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_ZA\r\nFramework arguments:  -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product\r\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -data file:/C:/Users/natem/eclipse-workspace/ -product org.eclipse.epp.package.java.product\r\n\r\norg.eclipse.e4.ui.workbench\r\nError\r\nWed Feb 01 14:06:38 CET 2023\r\norg/eclipse/jface/databinding/swt/WidgetProperties\r\n\r\njava.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\r\n\tat org.eclipse.fx.ide.jdt.ui.internal.editors.JFXBuildConfigurationEditor.createPageOverview(JFXBuildConfigurationEditor.java:803)\r\n\tat org.eclipse.fx.ide.jdt.ui.internal.editors.JFXBuildConfigurationEditor.createPages(JFXBuildConfigurationEditor.java:658)\r\n\tat org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:333)\r\n\tat org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.createPartControl(CompatibilityPart.java:158)\r\n\tat org.eclipse.ui.internal.e4.compatibility.CompatibilityEditor.createPartControl(CompatibilityEditor.java:96)\r\n\tat org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.create(CompatibilityPart.java:365)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:995)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:960)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:403)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:330)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\r\n\tat org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\r\n\tat org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.createWidget(ContributedPartRenderer.java:132)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createWidget(PartRenderingEngine.java:995)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:659)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:763)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$2.run(PartRenderingEngine.java:728)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:712)\r\n\tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.lambda$0(PartServiceImpl.java:105)\r\n\tat org.eclipse.e4.ui.services.internal.events.UIEventHandler.lambda$0(UIEventHandler.java:38)\r\n\tat org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:183)\r\n\tat org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:133)\r\n\tat org.eclipse.swt.widgets.Display.syncExec(Display.java:4785)\r\n\tat org.eclipse.e4.ui.workbench.swt.DisplayUISynchronize.syncExec(DisplayUISynchronize.java:34)\r\n\tat org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:38)\r\n\tat org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:205)\r\n\tat org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:203)\r\n\tat org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1)\r\n\tat org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\r\n\tat org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)\r\n\tat org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:133)\r\n\tat org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:75)\r\n\tat org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:44)\r\n\tat org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:55)\r\n\tat org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:63)\r\n\tat org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:424)\r\n\tat org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElementGen(ElementContainerImpl.java:170)\r\n\tat org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElement(ElementContainerImpl.java:188)\r\n\tat org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.showElementInWindow(ModelServiceImpl.java:660)\r\n\tat org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.bringToTop(ModelServiceImpl.java:624)\r\n\tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.delegateBringToTop(PartServiceImpl.java:790)\r\n\tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:401)\r\n\tat org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:1264)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3210)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.lambda$9(WorkbenchPage.java:3100)\r\n\tat org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3098)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3068)\r\n\tat org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3059)\r\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:548)\r\n\tat org.eclipse.ui.ide.IDE.openEditor(IDE.java:508)\r\n\tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:367)\r\n\tat org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:172)\r\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:288)\r\n\tat org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:254)\r\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274)\r\n\tat org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:252)\r\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:366)\r\n\tat org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$3.open(PackageExplorerPart.java:545)\r\n\tat org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48)\r\n\tat org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:800)\r\n\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\tat org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:797)\r\n\tat org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1116)\r\n\tat org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:296)\r\n\tat org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:331)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.jdt.ui_3.8.0.202204150904\r\n\t... 102 more\r\n\r\n\r\n```","title":"&quot;Failed to create the part&#39;s control&quot; when opening build.fxbuild file. NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties","body":"<p>I created a javafx project using the e(fx)clipse plugin, and I'm trying to open the <code>build.fxbuild</code> file, but whenever I do I get the error: &quot;Failed to create the part's control&quot;. The details drop down tells me I ran into the following error: <code>java.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties</code>. I've tried to download some jface jar files and add it to the build path of the project to try fix the issue, but nothing works - maybe I'm adding the wrong jar files. Any help fixing this issue would be appreciated.</p>\n<p>Here are the error details provided by eclipse:</p>\n<pre><code>eclipse.buildId=4.26.0.20221201-1200\njava.version=17.0.5\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=win32, ARCH=x86_64, WS=win32, NL=en_ZA\nFramework arguments:  -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product\nCommand-line arguments:  -os win32 -ws win32 -arch x86_64 -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -product org.eclipse.epp.package.java.product -data file:/C:/Users/natem/eclipse-workspace/ -product org.eclipse.epp.package.java.product\n\norg.eclipse.e4.ui.workbench\nError\nWed Feb 01 14:06:38 CET 2023\norg/eclipse/jface/databinding/swt/WidgetProperties\n\njava.lang.NoClassDefFoundError: org/eclipse/jface/databinding/swt/WidgetProperties\n    at org.eclipse.fx.ide.jdt.ui.internal.editors.JFXBuildConfigurationEditor.createPageOverview(JFXBuildConfigurationEditor.java:803)\n    at org.eclipse.fx.ide.jdt.ui.internal.editors.JFXBuildConfigurationEditor.createPages(JFXBuildConfigurationEditor.java:658)\n    at org.eclipse.ui.part.MultiPageEditorPart.createPartControl(MultiPageEditorPart.java:333)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.createPartControl(CompatibilityPart.java:158)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityEditor.createPartControl(CompatibilityEditor.java:96)\n    at org.eclipse.ui.internal.e4.compatibility.CompatibilityPart.create(CompatibilityPart.java:365)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:995)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.processAnnotated(InjectorImpl.java:960)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:403)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:330)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.createFromBundle(ReflectionContributionFactory.java:91)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.doCreate(ReflectionContributionFactory.java:60)\n    at org.eclipse.e4.ui.internal.workbench.ReflectionContributionFactory.create(ReflectionContributionFactory.java:42)\n    at org.eclipse.e4.ui.workbench.renderers.swt.ContributedPartRenderer.createWidget(ContributedPartRenderer.java:132)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createWidget(PartRenderingEngine.java:995)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:659)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.safeCreateGui(PartRenderingEngine.java:763)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$2.run(PartRenderingEngine.java:728)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.createGui(PartRenderingEngine.java:712)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.lambda$0(PartServiceImpl.java:105)\n    at org.eclipse.e4.ui.services.internal.events.UIEventHandler.lambda$0(UIEventHandler.java:38)\n    at org.eclipse.swt.widgets.Synchronizer.syncExec(Synchronizer.java:183)\n    at org.eclipse.ui.internal.UISynchronizer.syncExec(UISynchronizer.java:133)\n    at org.eclipse.swt.widgets.Display.syncExec(Display.java:4785)\n    at org.eclipse.e4.ui.workbench.swt.DisplayUISynchronize.syncExec(DisplayUISynchronize.java:34)\n    at org.eclipse.e4.ui.services.internal.events.UIEventHandler.handleEvent(UIEventHandler.java:38)\n    at org.eclipse.equinox.internal.event.EventHandlerWrapper.handleEvent(EventHandlerWrapper.java:205)\n    at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:203)\n    at org.eclipse.equinox.internal.event.EventHandlerTracker.dispatchEvent(EventHandlerTracker.java:1)\n    at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:234)\n    at org.eclipse.osgi.framework.eventmgr.ListenerQueue.dispatchEventSynchronous(ListenerQueue.java:151)\n    at org.eclipse.equinox.internal.event.EventAdminImpl.dispatchEvent(EventAdminImpl.java:133)\n    at org.eclipse.equinox.internal.event.EventAdminImpl.sendEvent(EventAdminImpl.java:75)\n    at org.eclipse.equinox.internal.event.EventComponent.sendEvent(EventComponent.java:44)\n    at org.eclipse.e4.ui.services.internal.events.EventBroker.send(EventBroker.java:55)\n    at org.eclipse.e4.ui.internal.workbench.UIEventPublisher.notifyChanged(UIEventPublisher.java:63)\n    at org.eclipse.emf.common.notify.impl.BasicNotifierImpl.eNotify(BasicNotifierImpl.java:424)\n    at org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElementGen(ElementContainerImpl.java:170)\n    at org.eclipse.e4.ui.model.application.ui.impl.ElementContainerImpl.setSelectedElement(ElementContainerImpl.java:188)\n    at org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.showElementInWindow(ModelServiceImpl.java:660)\n    at org.eclipse.e4.ui.internal.workbench.ModelServiceImpl.bringToTop(ModelServiceImpl.java:624)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.delegateBringToTop(PartServiceImpl.java:790)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.bringToTop(PartServiceImpl.java:401)\n    at org.eclipse.e4.ui.internal.workbench.PartServiceImpl.showPart(PartServiceImpl.java:1264)\n    at org.eclipse.ui.internal.WorkbenchPage.busyOpenEditor(WorkbenchPage.java:3210)\n    at org.eclipse.ui.internal.WorkbenchPage.lambda$9(WorkbenchPage.java:3100)\n    at org.eclipse.swt.custom.BusyIndicator.showWhile(BusyIndicator.java:74)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3098)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3068)\n    at org.eclipse.ui.internal.WorkbenchPage.openEditor(WorkbenchPage.java:3059)\n    at org.eclipse.ui.ide.IDE.openEditor(IDE.java:548)\n    at org.eclipse.ui.ide.IDE.openEditor(IDE.java:508)\n    at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:367)\n    at org.eclipse.jdt.internal.ui.javaeditor.EditorUtility.openInEditor(EditorUtility.java:172)\n    at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:288)\n    at org.eclipse.jdt.ui.actions.OpenAction.run(OpenAction.java:254)\n    at org.eclipse.jdt.ui.actions.SelectionDispatchAction.dispatchRun(SelectionDispatchAction.java:274)\n    at org.eclipse.jdt.ui.actions.SelectionDispatchAction.run(SelectionDispatchAction.java:252)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerActionGroup.handleOpen(PackageExplorerActionGroup.java:366)\n    at org.eclipse.jdt.internal.ui.packageview.PackageExplorerPart$3.open(PackageExplorerPart.java:545)\n    at org.eclipse.ui.OpenAndLinkWithEditorHelper$InternalListener.open(OpenAndLinkWithEditorHelper.java:48)\n    at org.eclipse.jface.viewers.StructuredViewer$2.run(StructuredViewer.java:800)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.jface.util.SafeRunnable.run(SafeRunnable.java:174)\n    at org.eclipse.jface.viewers.StructuredViewer.fireOpen(StructuredViewer.java:797)\n    at org.eclipse.jface.viewers.StructuredViewer.handleOpen(StructuredViewer.java:1116)\n    at org.eclipse.jface.util.OpenStrategy.fireOpenEvent(OpenStrategy.java:296)\n    at org.eclipse.jface.util.OpenStrategy$1.handleEvent(OpenStrategy.java:331)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:4256)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1066)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:4054)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:3642)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\nCaused by: java.lang.ClassNotFoundException: org.eclipse.jface.databinding.swt.WidgetProperties cannot be found by org.eclipse.fx.ide.jdt.ui_3.8.0.202204150904\n    ... 102 more\n\n\n</code></pre>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":48093,"reputation":2175,"user_id":142716,"display_name":"Raze"},"score":1,"creation_date":1305664445,"post_id":6036462,"comment_id":6981940,"body_markdown":"Looks like your JVM got corrupt, or your PATH is polluted. The JVM you think you are running might not be the JVM you should be running. try running java -version to find out if it is 1.6.0_xx.","body":"Looks like your JVM got corrupt, or your PATH is polluted. The JVM you think you are running might not be the JVM you should be running. try running java -version to find out if it is 1.6.0_xx."},{"owner":{"account_id":37575,"reputation":2652,"user_id":107444,"accept_rate":80,"display_name":"Rodney Gitzel"},"score":3,"creation_date":1305664924,"post_id":6036462,"comment_id":6982078,"body_markdown":"How is this related to Scala?","body":"How is this related to Scala?"},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":4,"creation_date":1305665737,"post_id":6036462,"comment_id":6982341,"body_markdown":"I can&#39;t even do java -version without getting the message!","body":"I can&#39;t even do java -version without getting the message!"},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":0,"creation_date":1305665784,"post_id":6036462,"comment_id":6982362,"body_markdown":"It&#39;s related to scala in that scala fails too.  Both occurred at the same time.","body":"It&#39;s related to scala in that scala fails too.  Both occurred at the same time."},{"owner":{"account_id":359371,"reputation":403,"user_id":700744,"display_name":"tonek"},"score":1,"creation_date":1305666376,"post_id":6036462,"comment_id":6982535,"body_markdown":"here is what i&#39;ve found in google. Maybe it will help: [link](http://www.rune-server.org/runescape-development/rs2-server/help/239746-weird-thing-w-java-windows-7-a.html)","body":"here is what i&#39;ve found in google. Maybe it will help: <a href=\"http://www.rune-server.org/runescape-development/rs2-server/help/239746-weird-thing-w-java-windows-7-a.html\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":0,"creation_date":1305670652,"post_id":6036462,"comment_id":6983556,"body_markdown":"Seems like the same problem, but I don&#39;t know what the fix was.","body":"Seems like the same problem, but I don&#39;t know what the fix was."}],"answers":[{"comments":[{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":0,"creation_date":1305794223,"post_id":6039818,"comment_id":7008769,"body_markdown":"Thanks. Still I can&#39;t sort it. With minimal path (path = %JAVA_HOME%\\bin) it works - as you say, however, I can&#39;t see the problem in the actual path which is &quot;...;%JAVA_HOME%\\bin;...&quot; which contains the same thing.","body":"Thanks. Still I can&#39;t sort it. With minimal path (path = %JAVA_HOME%\\bin) it works - as you say, however, I can&#39;t see the problem in the actual path which is &quot;...;%JAVA_HOME%\\bin;...&quot; which contains the same thing."},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":0,"creation_date":1305796694,"post_id":6039818,"comment_id":7009395,"body_markdown":"Finally managed to remove old versions of JRE using JavaRA &amp; MSICUU2.exe, reloaded latest version, but still the same message.","body":"Finally managed to remove old versions of JRE using JavaRA &amp; MSICUU2.exe, reloaded latest version, but still the same message."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":1,"creation_date":1305801146,"post_id":6039818,"comment_id":7010530,"body_markdown":"@Highland: if this works with a minimal path but not with a full path, that means `%JAVA_HOME%\\bin` isn&#39;t the issue. Some other element in the `PATH` causes the runtime to fail. Could you try with a `PATH` you would build, one element at a time, to see when java stop launching?","body":"@Highland: if this works with a minimal path but not with a full path, that means <code>%JAVA_HOME%\\bin</code> isn&#39;t the issue. Some other element in the <code>PATH</code> causes the runtime to fail. Could you try with a <code>PATH</code> you would build, one element at a time, to see when java stop launching?"},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":0,"creation_date":1305802227,"post_id":6039818,"comment_id":7010814,"body_markdown":"Thanks VonC - that gives me something to work on.  I&#39;ll report back.","body":"Thanks VonC - that gives me something to work on.  I&#39;ll report back."},{"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"score":0,"creation_date":1305817266,"post_id":6039818,"comment_id":7015528,"body_markdown":"It wasn&#39;t in the path. Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing.  None the wiser, but back working again.  Thanks all.","body":"It wasn&#39;t in the path. Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing.  None the wiser, but back working again.  Thanks all."},{"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"score":0,"creation_date":1305828704,"post_id":6039818,"comment_id":7018973,"body_markdown":"@Highland: ok, I have included your conclusion in the answer. At least you got it working again.","body":"@Highland: ok, I have included your conclusion in the answer. At least you got it working again."}],"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305828677,"creation_date":1305692266,"answer_id":6039818,"question_id":6036462,"body_markdown":"If this was working before, it means the `PATH` isn&#39;t correct anymore.\r\n\r\nThat can happen when the `PATH` becomes too long and gets truncated.  \r\nAll posts (like [this one][1]) suggest [updating the `PATH`][2], which you can test first in a separate DOS session, by setting a minimal path and see if java works again there.\r\n\r\n----\r\n\r\nFinally the [OP Highland Mark][3] concludes:\r\n\r\n&gt; Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing. \r\n\r\nscary ;)\r\n\r\n\r\n  [1]: http://www.rune-server.org/runescape-development/rs2-server/help/284879-error-could-not-open-c-program-files-java-jre6-lib-amd64-jvm-cfg.html\r\n  [2]: http://www.java.com/en/download/help/path.xml\r\n  [3]: https://stackoverflow.com/users/559426/highland-mark","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>If this was working before, it means the <code>PATH</code> isn't correct anymore.</p>\n\n<p>That can happen when the <code>PATH</code> becomes too long and gets truncated.<br>\nAll posts (like <a href=\"http://www.rune-server.org/runescape-development/rs2-server/help/284879-error-could-not-open-c-program-files-java-jre6-lib-amd64-jvm-cfg.html\" rel=\"nofollow noreferrer\">this one</a>) suggest <a href=\"http://www.java.com/en/download/help/path.xml\" rel=\"nofollow noreferrer\">updating the <code>PATH</code></a>, which you can test first in a separate DOS session, by setting a minimal path and see if java works again there.</p>\n\n<hr>\n\n<p>Finally the <a href=\"https://stackoverflow.com/users/559426/highland-mark\">OP Highland Mark</a> concludes:</p>\n\n<blockquote>\n  <p>Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing. </p>\n</blockquote>\n\n<p>scary ;)</p>\n"},{"comments":[{"owner":{"account_id":477309,"reputation":13238,"user_id":888731,"accept_rate":100,"display_name":"Israel Unterman"},"score":1,"creation_date":1355466470,"post_id":6215741,"comment_id":19107126,"body_markdown":"+1, but same treatment should be applied also to the file: %SCALA_HOME%\\bin\\scalac.bat","body":"+1, but same treatment should be applied also to the file: %SCALA_HOME%\\bin\\scalac.bat"},{"owner":{"account_id":105902,"reputation":3968,"user_id":282345,"accept_rate":88,"display_name":"asgs"},"score":0,"creation_date":1432918911,"post_id":6215741,"comment_id":49143964,"body_markdown":"thanks! in my case, I renamed the Windows partition where Java was installed. Reverting that change fixed it.","body":"thanks! in my case, I renamed the Windows partition where Java was installed. Reverting that change fixed it."}],"tags":[],"owner":{"account_id":727,"reputation":2797,"user_id":950,"display_name":"Clinton"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1402062415,"creation_date":1307024155,"answer_id":6215741,"question_id":6036462,"body_markdown":"Might be a slightly different cause, but that second issue occurs for me in scala 2.9.0.1 on Win7 (x64), though scala-2.9.1.final has already resolved this issue mentioned here:\r\n\r\n    \\Java\\jdk1.6.0_25\\bin\\java.exe was unexpected at this time.\r\n\r\nMy `%JAVA_HOME%` set to a path like this: `c:\\program files `**(x86)**`\\Java\\jdk...`\r\n\r\nNote the space and the parentheses.\r\n\r\nIf you change line 24 in `%SCALA_HOME%\\bin\\scala.bat` from:\r\n\r\n    if exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; set _JAVACMD=%JAVA_HOME%\\bin\\java.exe\r\n\r\nto\r\n\r\n    if exist &quot;%JAVA_HOME%\\bin\\java.exe&quot; set &quot;_JAVACMD=%JAVA_HOME%\\bin\\java.exe&quot;\r\n\r\nIt works fine. Note the quotes around the set command parameters, this will properly enclose any spaces and &#39;special&#39; characters (eg: spaces and parentheses) in the variable&#39;s value.\r\n\r\nHope this helps someone else searching for an answer.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Might be a slightly different cause, but that second issue occurs for me in scala 2.9.0.1 on Win7 (x64), though scala-2.9.1.final has already resolved this issue mentioned here:</p>\n\n<pre><code>\\Java\\jdk1.6.0_25\\bin\\java.exe was unexpected at this time.\n</code></pre>\n\n<p>My <code>%JAVA_HOME%</code> set to a path like this: <code>c:\\program files</code><strong>(x86)</strong><code>\\Java\\jdk...</code></p>\n\n<p>Note the space and the parentheses.</p>\n\n<p>If you change line 24 in <code>%SCALA_HOME%\\bin\\scala.bat</code> from:</p>\n\n<pre><code>if exist \"%JAVA_HOME%\\bin\\java.exe\" set _JAVACMD=%JAVA_HOME%\\bin\\java.exe\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if exist \"%JAVA_HOME%\\bin\\java.exe\" set \"_JAVACMD=%JAVA_HOME%\\bin\\java.exe\"\n</code></pre>\n\n<p>It works fine. Note the quotes around the set command parameters, this will properly enclose any spaces and 'special' characters (eg: spaces and parentheses) in the variable's value.</p>\n\n<p>Hope this helps someone else searching for an answer.</p>\n"},{"comments":[{"owner":{"account_id":246895,"reputation":879,"user_id":521275,"accept_rate":83,"display_name":"Samuel"},"score":4,"creation_date":1353494010,"post_id":8049779,"comment_id":18461280,"body_markdown":"Got the same problem on Windows although my PATH and JAVA_HOME was OK. Moving the %JAVA_HOME% to the beginning of the PATH solved it. Thanks!","body":"Got the same problem on Windows although my PATH and JAVA_HOME was OK. Moving the %JAVA_HOME% to the beginning of the PATH solved it. Thanks!"},{"owner":{"account_id":219066,"reputation":619,"user_id":475735,"accept_rate":56,"display_name":"CrazyPenguin"},"score":0,"creation_date":1455223308,"post_id":8049779,"comment_id":58406487,"body_markdown":"Despite doing this, I was getting the error.  What I didn&#39;t notice was when I opened a CMD prompt, it would default to C:\\Windows\\System32, which contained the troublesome java install.  Changing out to any other directory would make Java work just fine with the JDK I wanted on the path.","body":"Despite doing this, I was getting the error.  What I didn&#39;t notice was when I opened a CMD prompt, it would default to C:\\Windows\\System32, which contained the troublesome java install.  Changing out to any other directory would make Java work just fine with the JDK I wanted on the path."}],"tags":[],"owner":{"account_id":873498,"reputation":528,"user_id":923826,"display_name":"deskmore"},"comment_count":2,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1320752213,"creation_date":1320752213,"answer_id":8049779,"question_id":6036462,"body_markdown":"put  %JAVA_HOME%\\bin   at the begin of PATH.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>put  %JAVA_HOME%\\bin   at the begin of PATH.</p>\n"},{"tags":[],"owner":{"account_id":1440386,"reputation":91,"user_id":1360697,"display_name":"serganm"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1335532333,"creation_date":1335516598,"answer_id":10347628,"question_id":6036462,"body_markdown":"I had the same problem: I have a 64 bit Windows and when I typed &quot;java -version&quot; in CMD-Console i received the same Error message.\r\nTry to start a 64bit-cmd(C:\\Windows\\SysWOW64\\cmd.exe) and you will see, it works there ;)","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I had the same problem: I have a 64 bit Windows and when I typed \"java -version\" in CMD-Console i received the same Error message.\nTry to start a 64bit-cmd(C:\\Windows\\SysWOW64\\cmd.exe) and you will see, it works there ;)</p>\n"},{"tags":[],"owner":{"account_id":2015074,"reputation":59,"user_id":1802592,"display_name":"m_c"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360668040,"creation_date":1360666834,"answer_id":14830965,"question_id":6036462,"body_markdown":"Reinstalling java didn&#39;t help me. But the trick to put the JAVA_HOME variable at the beginning of the env-vars. The problem occoured after an upgrade from jdk1.7.0_11 to jdk1.7.0_13","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Reinstalling java didn't help me. But the trick to put the JAVA_HOME variable at the beginning of the env-vars. The problem occoured after an upgrade from jdk1.7.0_11 to jdk1.7.0_13</p>\n"},{"tags":[],"owner":{"account_id":1849135,"reputation":3076,"user_id":1676075,"accept_rate":50,"display_name":"user1676075"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544874726,"creation_date":1363179312,"answer_id":15385949,"question_id":6036462,"body_markdown":"- I had a similar problem (trying to start a Jenkins slave agent on Windows) on `Windows 2008R2`, `Java 1.7.0_15`\r\n\r\n- I had two situations that contributed to the problem and that changing both of them fixed it:\r\n\r\n 1) Installing `Java` in a `unix`-compatible path (changing from `c:\\Program Files\\... to c:\\Software\\...`); I don&#39;t think this directly affected the problem described in this thread, but noting the change;\r\n\r\n 2) Running `Java` not through a shortcut. It originally failed with a shortcut, but `re-running` from the direct executable (`C:\\Software\\Java...\\bin\\java`) worked.\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<ul>\n<li><p>I had a similar problem (trying to start a Jenkins slave agent on Windows) on <code>Windows 2008R2</code>, <code>Java 1.7.0_15</code></p></li>\n<li><p>I had two situations that contributed to the problem and that changing both of them fixed it:</p>\n\n<p>1) Installing <code>Java</code> in a <code>unix</code>-compatible path (changing from <code>c:\\Program Files\\... to c:\\Software\\...</code>); I don't think this directly affected the problem described in this thread, but noting the change;</p>\n\n<p>2) Running <code>Java</code> not through a shortcut. It originally failed with a shortcut, but <code>re-running</code> from the direct executable (<code>C:\\Software\\Java...\\bin\\java</code>) worked.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2438000,"reputation":1308,"user_id":2127371,"accept_rate":73,"display_name":"makhdumi"},"score":1,"creation_date":1399850226,"post_id":16086496,"comment_id":36224037,"body_markdown":"Why Oracle/Sun ever decided to do this and not fix the uninstaller is beyond me. Thank you.","body":"Why Oracle/Sun ever decided to do this and not fix the uninstaller is beyond me. Thank you."},{"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"score":0,"creation_date":1407799533,"post_id":16086496,"comment_id":39346791,"body_markdown":"Just removed the whole folder C:/Windows/jre which allowed the proper java exe farther down the path to be the used. No idea what installed java into my windows dir and put it on the path though :|","body":"Just removed the whole folder C:/Windows/jre which allowed the proper java exe farther down the path to be the used. No idea what installed java into my windows dir and put it on the path though :|"},{"owner":{"account_id":236188,"reputation":15922,"user_id":503508,"accept_rate":81,"display_name":"Knossos"},"score":0,"creation_date":1429690230,"post_id":16086496,"comment_id":47711634,"body_markdown":"My situation: Eclipse stopped launching. Proguard wouldn&#39;t load due to a missing jvm.cfg file. Removed windows/jre, and the exe files mentioned above. Solved my issue. This just happened seemingly randomly over the last week. No explanation for it.","body":"My situation: Eclipse stopped launching. Proguard wouldn&#39;t load due to a missing jvm.cfg file. Removed windows/jre, and the exe files mentioned above. Solved my issue. This just happened seemingly randomly over the last week. No explanation for it."},{"owner":{"account_id":2549409,"reputation":95,"user_id":2213520,"accept_rate":100,"display_name":"NabRaj_Baitadi"},"score":0,"creation_date":1591205452,"post_id":16086496,"comment_id":109970239,"body_markdown":"It worked after I removed java.exe, javaw.exe and javaws.exe from C:\\Windows\\System32. Thanks @Full-Stack Software Engineer. You saved my time.","body":"It worked after I removed java.exe, javaw.exe and javaws.exe from C:\\Windows\\System32. Thanks @Full-Stack Software Engineer. You saved my time."}],"tags":[],"owner":{"account_id":1185157,"reputation":1238,"user_id":1159285,"display_name":"Full-Stack Software Engineer"},"comment_count":4,"down_vote_count":0,"up_vote_count":93,"is_accepted":false,"score":93,"last_activity_date":1519988680,"creation_date":1366297390,"answer_id":16086496,"question_id":6036462,"body_markdown":"I checked my environment variables - JAVA_HOME &amp; PATH and they all refer to C:\\java. So this was bit frustrating. After sometime I found that the default installation also copied java.exe, javaw.exe and javaws.exe to C:\\Windows\\System32 (i.e. uninstall of JRE didn&#39;t go well). I just removed them and voila, I&#39;m back on track. That annoying error is no longer popping.\r\n\r\nThis works for me\r\n\r\n\r\n**So, If exists, remove java.exe, javaw.exe and javaws.exe from System32**","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I checked my environment variables - JAVA_HOME &amp; PATH and they all refer to C:\\java. So this was bit frustrating. After sometime I found that the default installation also copied java.exe, javaw.exe and javaws.exe to C:\\Windows\\System32 (i.e. uninstall of JRE didn't go well). I just removed them and voila, I'm back on track. That annoying error is no longer popping.</p>\n\n<p>This works for me</p>\n\n<p><strong>So, If exists, remove java.exe, javaw.exe and javaws.exe from System32</strong></p>\n"},{"tags":[],"owner":{"account_id":2888693,"reputation":11,"user_id":2477962,"display_name":"Rudra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371035259,"creation_date":1371033909,"answer_id":17063511,"question_id":6036462,"body_markdown":"Another workaround is using shortpath in windows:\r\n\r\n1. open windows command console using cmd.exe\r\n2. goto `c:\\`\r\n3. type command&gt; `dir program* /x`\r\n4. it should display as short path like: `PROGRA~2`\r\n5. so `C:\\PROGRA~2` is same as `C:\\Program Files (x86)`\r\n6. in your `JAVA_HOME` replace path to :\r\n    `C:\\PROGRA~2\\Java\\jre7`\r\n\r\nThis should work in windows 64 environment as it worked for me in win7 64bit version.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Another workaround is using shortpath in windows:</p>\n\n<ol>\n<li>open windows command console using cmd.exe</li>\n<li>goto <code>c:\\</code></li>\n<li>type command> <code>dir program* /x</code></li>\n<li>it should display as short path like: <code>PROGRA~2</code></li>\n<li>so <code>C:\\PROGRA~2</code> is same as <code>C:\\Program Files (x86)</code></li>\n<li>in your <code>JAVA_HOME</code> replace path to :\n<code>C:\\PROGRA~2\\Java\\jre7</code></li>\n</ol>\n\n<p>This should work in windows 64 environment as it worked for me in win7 64bit version.</p>\n"},{"tags":[],"owner":{"account_id":3156430,"reputation":31,"user_id":2668741,"display_name":"user2668741"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1376069777,"creation_date":1376069777,"answer_id":18152487,"question_id":6036462,"body_markdown":"I thought I will share how I resolved the same issue &quot;Error Could not open lib\\amd64\\jvm.cfg&quot;. I found the Java run time Jre7 is missing amd64 folder under lib. However, I have 1.7.0_25 JDK which is having jre folder and also having amd64.\r\n\r\nI moved the original contents of jre7 folder to a backup file and copied everything from 1.7.0_25\\jre.\r\n\r\nNow I am not getting this error anymore and able to proceed with scene builder.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I thought I will share how I resolved the same issue \"Error Could not open lib\\amd64\\jvm.cfg\". I found the Java run time Jre7 is missing amd64 folder under lib. However, I have 1.7.0_25 JDK which is having jre folder and also having amd64.</p>\n\n<p>I moved the original contents of jre7 folder to a backup file and copied everything from 1.7.0_25\\jre.</p>\n\n<p>Now I am not getting this error anymore and able to proceed with scene builder.</p>\n"},{"comments":[{"owner":{"account_id":330215,"reputation":2235,"user_id":654199,"accept_rate":50,"display_name":"David"},"score":0,"creation_date":1397748410,"post_id":18988657,"comment_id":35375838,"body_markdown":"except in my case reinstalling the JRE did not replace the missing `lib` folder :(","body":"except in my case reinstalling the JRE did not replace the missing <code>lib</code> folder :("},{"owner":{"account_id":330215,"reputation":2235,"user_id":654199,"accept_rate":50,"display_name":"David"},"score":0,"creation_date":1397757505,"post_id":18988657,"comment_id":35381399,"body_markdown":"Ah ... I reinstalled the 64-bit JRE, but it turns out there was also a 32-bit JRE installed.  I uninstalled both -- they were a couple of patchlevels behind anyway -- then reinstalled the 64-bit JRE (only) and now everything is copacetic.","body":"Ah ... I reinstalled the 64-bit JRE, but it turns out there was also a 32-bit JRE installed.  I uninstalled both -- they were a couple of patchlevels behind anyway -- then reinstalled the 64-bit JRE (only) and now everything is copacetic."}],"tags":[],"owner":{"account_id":3347359,"reputation":59,"user_id":2812263,"display_name":"Matt"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380045268,"creation_date":1380045268,"answer_id":18988657,"question_id":6036462,"body_markdown":"The Java 7 install on my work PC broke after a patch was forced out to us, giving this error any time you tried to run a Java program.  Somehow the entire &#39;lib&#39; subdirectory of the Java 7 install vanished!  Might have been related to having both Java 6 and Java 7 installed -- the &#39;jre6&#39; directory still had everything there.\r\n\r\nIn any case, I fixed it by uninstalling both Java 6 and Java 7 and reinstalling just Java 7.  But if the file it&#39;s complaining about is actually there, then you&#39;re likely having a path issue as described in some of the other answers here.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>The Java 7 install on my work PC broke after a patch was forced out to us, giving this error any time you tried to run a Java program.  Somehow the entire 'lib' subdirectory of the Java 7 install vanished!  Might have been related to having both Java 6 and Java 7 installed -- the 'jre6' directory still had everything there.</p>\n\n<p>In any case, I fixed it by uninstalling both Java 6 and Java 7 and reinstalling just Java 7.  But if the file it's complaining about is actually there, then you're likely having a path issue as described in some of the other answers here.</p>\n"},{"tags":[],"owner":{"account_id":1149936,"reputation":14493,"user_id":1131857,"accept_rate":76,"display_name":"wutzebaer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397979113,"creation_date":1397979113,"answer_id":23179624,"question_id":6036462,"body_markdown":"Had suddenly the same Problem, from one day to another eclipse said\r\n  \r\n    Failed to load the JNI shared library &quot;C:/JDK/bin/client/jvm.dll&quot;`.\r\n\r\nafter trying to run java on the console\r\n\r\n    Error: could not open `C:\\WINDOWS\\jre\\lib\\amd64\\jvm.cfg&#39; \r\n\r\nnow i just deleted the whole directory \r\n\r\n    C:\\WINDOWS\\jre\r\n\r\nand everything worked again... i don&#39;t know there this jre came from, i hope it was not a virus","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Had suddenly the same Problem, from one day to another eclipse said</p>\n\n<pre><code>Failed to load the JNI shared library \"C:/JDK/bin/client/jvm.dll\"`.\n</code></pre>\n\n<p>after trying to run java on the console</p>\n\n<pre><code>Error: could not open `C:\\WINDOWS\\jre\\lib\\amd64\\jvm.cfg' \n</code></pre>\n\n<p>now i just deleted the whole directory </p>\n\n<pre><code>C:\\WINDOWS\\jre\n</code></pre>\n\n<p>and everything worked again... i don't know there this jre came from, i hope it was not a virus</p>\n"},{"tags":[],"owner":{"account_id":5223866,"reputation":11,"user_id":4176442,"display_name":"sivasubramanian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1414126695,"creation_date":1414125607,"answer_id":26541593,"question_id":6036462,"body_markdown":"I have changed the java installation path from `c:\\Program Files (x86)\\java` to another folder like `c:\\java\\jdk1.7` and updated the `%Java_HOME%` and path values accordingly,it worked.\r\n\r\nexample\r\n\r\n    %JAVA_HOME% = C:\\java\\JDK1.7\r\n    \r\n    path-C:\\java\\JDK1.7\\bin; \r\n\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I have changed the java installation path from <code>c:\\Program Files (x86)\\java</code> to another folder like <code>c:\\java\\jdk1.7</code> and updated the <code>%Java_HOME%</code> and path values accordingly,it worked.</p>\n\n<p>example</p>\n\n<pre><code>%JAVA_HOME% = C:\\java\\JDK1.7\n\npath-C:\\java\\JDK1.7\\bin; \n</code></pre>\n"},{"comments":[{"owner":{"account_id":7381042,"reputation":337,"user_id":5617742,"display_name":"Rahul"},"score":0,"creation_date":1542303113,"post_id":33340858,"comment_id":93530359,"body_markdown":"This issue occurred to me while installing eclipse.\nI was installing eclipse after JAVA update where my earlier version was 1.8.0_60 and the newer version was 1.8.0_191 which i guess is changed while installing update so i changed folder name to earlier i.e. 1.8.0_60 . So the issue is with post install script of JAVA update i guess\n@ time of Update installation both names should be changed by install which is not the case. i.e. minor change is remaining after post install of java update.","body":"This issue occurred to me while installing eclipse. I was installing eclipse after JAVA update where my earlier version was 1.8.0_60 and the newer version was 1.8.0_191 which i guess is changed while installing update so i changed folder name to earlier i.e. 1.8.0_60 . So the issue is with post install script of JAVA update i guess @ time of Update installation both names should be changed by install which is not the case. i.e. minor change is remaining after post install of java update."}],"tags":[],"owner":{"account_id":4812242,"reputation":55062,"user_id":3885376,"accept_rate":64,"display_name":"ROMANIA_engineer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445845838,"creation_date":1445845838,"answer_id":33340858,"question_id":6036462,"body_markdown":"I had the same problem in **Eclipse** and I fixed it by changing the **JRE** from 64 bit to **32 bit**:\r\n\r\nWindow &gt; Preferences &gt; Java &gt; Installed JREs &gt; Add... &gt; Next &gt; Directory &gt; select &quot;C:\\Program Files (x86)\\Java\\jre1.8.0_65&quot; instead of &quot;C:\\Program Files\\Java\\jre1.8.0_60&quot;","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I had the same problem in <strong>Eclipse</strong> and I fixed it by changing the <strong>JRE</strong> from 64 bit to <strong>32 bit</strong>:</p>\n\n<p>Window > Preferences > Java > Installed JREs > Add... > Next > Directory > select \"C:\\Program Files (x86)\\Java\\jre1.8.0_65\" instead of \"C:\\Program Files\\Java\\jre1.8.0_60\"</p>\n"},{"tags":[],"owner":{"account_id":3748586,"reputation":89,"user_id":3116672,"accept_rate":18,"display_name":"Naseer Ahammed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446186135,"creation_date":1446186135,"answer_id":33429890,"question_id":6036462,"body_markdown":"I had this problem after updating your java. The best way to solve this problem is just go to your `c:/ProgramFiles/Java` folder. There you will find two jre folders one is as jre.your version and other with exactly like jdk folder. Try to remove jre.1.your version folder. There you go your problem is solved. Hope this might help. It&#39;s worked for me.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I had this problem after updating your java. The best way to solve this problem is just go to your <code>c:/ProgramFiles/Java</code> folder. There you will find two jre folders one is as jre.your version and other with exactly like jdk folder. Try to remove jre.1.your version folder. There you go your problem is solved. Hope this might help. It's worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6505061,"reputation":82,"user_id":5034326,"accept_rate":0,"display_name":"Rookie_Guy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1461304524,"creation_date":1461304524,"answer_id":36785953,"question_id":6036462,"body_markdown":"It wasn&#39;t in the path. Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing. None the wiser, but back working again. Thanks all @Highland Mark- Can you tell me the process to removing references from registry. I tried all possible way people mentioned here, nothing worked.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>It wasn't in the path. Finally fixed by uninstalling java, removing all references to it from the registry, and then re-installing. None the wiser, but back working again. Thanks all @Highland Mark- Can you tell me the process to removing references from registry. I tried all possible way people mentioned here, nothing worked.</p>\n"},{"tags":[],"owner":{"account_id":2468836,"reputation":968,"user_id":2151251,"display_name":"beloblotskiy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477346144,"creation_date":1477346144,"answer_id":40228156,"question_id":6036462,"body_markdown":"Typically it because of upgrading JRE.\r\n\r\nIt changes symlinks into C:\\ProgramData\\Oracle\\Java\\javapath\\\r\n\r\nIntall JDK - it will fix this.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Typically it because of upgrading JRE.</p>\n\n<p>It changes symlinks into C:\\ProgramData\\Oracle\\Java\\javapath\\</p>\n\n<p>Intall JDK - it will fix this.</p>\n"},{"tags":[],"owner":{"account_id":2332857,"reputation":486,"user_id":2045810,"accept_rate":20,"display_name":"Sudhakar Kummarasetty"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1592467321,"creation_date":1495686810,"answer_id":44172328,"question_id":6036462,"body_markdown":"    C:\\ProgramData\\Oracle\\Java\\javapath\r\n\r\nI took a back up of the files in it and removed those files from there. Then I opened a new cmd prompt and it works like a charm.\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<pre><code>C:\\ProgramData\\Oracle\\Java\\javapath\n</code></pre>\n\n<p>I took a back up of the files in it and removed those files from there. Then I opened a new cmd prompt and it works like a charm.</p>\n"},{"tags":[],"owner":{"account_id":7381042,"reputation":337,"user_id":5617742,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542304157,"creation_date":1542304157,"answer_id":53325233,"question_id":6036462,"body_markdown":"    Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;\r\n\r\nLooking @ it the issue of post install script is there and getting propagated since I am using update jdk8 1.8.0_191 since issue occurred with me after installing update of java and which was happened automatically. \r\n \r\n\r\n    Error: could not open `C:\\Program Files\\Java\\jre1.8.0_191\\lib\\amd64\\jvm.cfg&#39;\r\nThis will be never ending in this case and need to do workaround like changing path&#39;s manually.\r\n\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<pre><code>Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg'\n</code></pre>\n\n<p>Looking @ it the issue of post install script is there and getting propagated since I am using update jdk8 1.8.0_191 since issue occurred with me after installing update of java and which was happened automatically. </p>\n\n<pre><code>Error: could not open `C:\\Program Files\\Java\\jre1.8.0_191\\lib\\amd64\\jvm.cfg'\n</code></pre>\n\n<p>This will be never ending in this case and need to do workaround like changing path's manually.</p>\n"},{"comments":[{"owner":{"account_id":2987511,"reputation":3024,"user_id":5772982,"display_name":"Kumar Abhishek"},"score":6,"creation_date":1584244261,"post_id":57544050,"comment_id":107375572,"body_markdown":"Check at the path &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot; as well sometimes, you might have installed some program which silently installed Java.","body":"Check at the path &quot;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath&quot; as well sometimes, you might have installed some program which silently installed Java."}],"tags":[],"owner":{"account_id":994403,"reputation":1345,"user_id":1010724,"accept_rate":90,"display_name":"Eogcloud"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1566141462,"creation_date":1566127333,"answer_id":57544050,"question_id":6036462,"body_markdown":"I had a slight different solution to this problem. my PATH and JAVA_HOME were pointing to JDK12 in \r\n\r\n    C:\\Program Files\\Java\r\n\r\nbut execution of the command: \r\n\r\n    Java -version\r\n\r\n \r\n\r\ngave the error:\r\n\r\n    Error: could not open `C:\\ProgramFiles\\Java\\jre1.8.0_212\\lib\\amd64\\jvm.cfg&#39;\r\n\r\n\r\n \r\nI had to delete a folder of executables (Java.exe, javaw.exe etc.) in a different directory than System32, as other answers here and blog posts have suggested. Instead I found the problem lied with executables found in:\r\n\r\n    C:\\Program Files\\Common Files\\Oracle \r\n\r\nas there was nothing Java related in \r\n\r\n    C:\\Windows\\System32\r\n\r\nIf you&#39;re having this issue and nothing is in System32, check this &quot;common files&quot; directory mentioned above for an oracle directory and delete it. \r\n\r\nAfter, your PATH references should work fine!\r\n\r\n ","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I had a slight different solution to this problem. my PATH and JAVA_HOME were pointing to JDK12 in </p>\n\n<pre><code>C:\\Program Files\\Java\n</code></pre>\n\n<p>but execution of the command: </p>\n\n<pre><code>Java -version\n</code></pre>\n\n<p>gave the error:</p>\n\n<pre><code>Error: could not open `C:\\ProgramFiles\\Java\\jre1.8.0_212\\lib\\amd64\\jvm.cfg'\n</code></pre>\n\n<p>I had to delete a folder of executables (Java.exe, javaw.exe etc.) in a different directory than System32, as other answers here and blog posts have suggested. Instead I found the problem lied with executables found in:</p>\n\n<pre><code>C:\\Program Files\\Common Files\\Oracle \n</code></pre>\n\n<p>as there was nothing Java related in </p>\n\n<pre><code>C:\\Windows\\System32\n</code></pre>\n\n<p>If you're having this issue and nothing is in System32, check this \"common files\" directory mentioned above for an oracle directory and delete it. </p>\n\n<p>After, your PATH references should work fine!</p>\n"},{"tags":[],"owner":{"account_id":17823001,"reputation":345,"user_id":12944935,"display_name":"Disembleergon"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1596186780,"creation_date":1596186780,"answer_id":63188977,"question_id":6036462,"body_markdown":"If you have downloaded several Jdks you have to delete all except of the JDK you want to use!\r\n","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>If you have downloaded several Jdks you have to delete all except of the JDK you want to use!</p>\n"},{"tags":[],"owner":{"account_id":17928204,"reputation":769,"user_id":13026255,"display_name":"Jainender Chauhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605424310,"creation_date":1605424310,"answer_id":64842002,"question_id":6036462,"body_markdown":"Delete the jars under system32 for windows. \r\nDelete the jars under C:\\Program Files\\Common Files\\Oracle \r\n\r\nEdit the environment variable set JAVA_HOME and SET PATH to bin","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>Delete the jars under system32 for windows.\nDelete the jars under C:\\Program Files\\Common Files\\Oracle</p>\n<p>Edit the environment variable set JAVA_HOME and SET PATH to bin</p>\n"},{"tags":[],"owner":{"account_id":9978628,"reputation":508,"user_id":7382297,"accept_rate":70,"display_name":"Suraj Khanal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659114992,"creation_date":1659114992,"answer_id":73168916,"question_id":6036462,"body_markdown":"I have solved this issue by deleting the Oracle folder from Program Data. And also delete the oracle java path associated with that folder from environment variables.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I have solved this issue by deleting the Oracle folder from Program Data. And also delete the oracle java path associated with that folder from environment variables.</p>\n"},{"tags":[],"owner":{"account_id":6762145,"reputation":14229,"user_id":5208491,"display_name":"saigopi.me"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675257774,"creation_date":1675257774,"answer_id":75310822,"question_id":6036462,"body_markdown":"I kept **variable name** as &quot;Path&quot; but it did not work **after changing it to** &quot;**PATH**&quot;\r\nstarted working for me.\r\n\r\n**variable name:** PATH\r\n\r\n**variable value:** C:\\Program Files\\Java\\jdk-19\\bin\r\n\r\nthis will work.","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>I kept <strong>variable name</strong> as &quot;Path&quot; but it did not work <strong>after changing it to</strong> &quot;<strong>PATH</strong>&quot;\nstarted working for me.</p>\n<p><strong>variable name:</strong> PATH</p>\n<p><strong>variable value:</strong> C:\\Program Files\\Java\\jdk-19\\bin</p>\n<p>this will work.</p>\n"}],"owner":{"account_id":269837,"reputation":1002,"user_id":559426,"display_name":"Highland Mark"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256780,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":6215741,"answer_count":23,"score":51,"last_activity_date":1675257774,"creation_date":1305662859,"question_id":6036462,"body_markdown":"After years of working OK, I&#39;m suddenly getting this message when trying to start the JVM:\r\n\r\n    Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;\r\n\r\nI tried uninstalling, and got a message saying a DLL was missing (unspecified)\r\nTried re-installing, all to no avail.\r\n\r\nAt the same time, when trying to start Scala I get:\r\n\r\n    \\Java\\jdk1.6.0_25\\bin\\java.exe was unexpected at this time.\r\n\r\nChecked `%JAVA_HOME%` and `%path%` - both OK\r\n\r\nCan anyone help?","title":"Running Java gives &quot;Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg&#39;&quot;","body":"<p>After years of working OK, I'm suddenly getting this message when trying to start the JVM:</p>\n\n<pre><code>Error: could not open `C:\\Program Files\\Java\\jre6\\lib\\amd64\\jvm.cfg'\n</code></pre>\n\n<p>I tried uninstalling, and got a message saying a DLL was missing (unspecified)\nTried re-installing, all to no avail.</p>\n\n<p>At the same time, when trying to start Scala I get:</p>\n\n<pre><code>\\Java\\jdk1.6.0_25\\bin\\java.exe was unexpected at this time.\n</code></pre>\n\n<p>Checked <code>%JAVA_HOME%</code> and <code>%path%</code> - both OK</p>\n\n<p>Can anyone help?</p>\n"},{"tags":["java","spring-boot","jpa","spring-data-jpa","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1631537997,"post_id":69149100,"comment_id":122241172,"body_markdown":"Is there a need for two steps for that? Where is step1 writing items to and where is step2 reading items from? Why not using a single chunk-oriented step instead of two steps?","body":"Is there a need for two steps for that? Where is step1 writing items to and where is step2 reading items from? Why not using a single chunk-oriented step instead of two steps?"}],"answers":[{"comments":[{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1631537277,"post_id":69160808,"comment_id":122240811,"body_markdown":"My concern is that I wanted multiple parts of one part of the step, the writing portion, to run in parallel and not just two whole steps running in parallel. Let&#39;s try for 10 at once. I did not just want to build a list of 10 items then write. Does your above snippet run the writers in parallel?","body":"My concern is that I wanted multiple parts of one part of the step, the writing portion, to run in parallel and not just two whole steps running in parallel. Let&#39;s try for 10 at once. I did not just want to build a list of 10 items then write. Does your above snippet run the writers in parallel?"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1631783003,"post_id":69160808,"comment_id":122317130,"body_markdown":"The sample in the answer is a single step, not two steps, and it will be executed in parallel by different threads.","body":"The sample in the answer is a single step, not two steps, and it will be executed in parallel by different threads."},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1632094945,"post_id":69160808,"comment_id":122393483,"body_markdown":"I refactored my previous batch to receive items from it&#39;s previous step. The reason is the difficulty of splitting the initial reader. How many threads will your solution above use? Do I need that complex partitioning code to do this?","body":"I refactored my previous batch to receive items from it&#39;s previous step. The reason is the difficulty of splitting the initial reader. How many threads will your solution above use? Do I need that complex partitioning code to do this?"},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1632101318,"post_id":69160808,"comment_id":122394328,"body_markdown":"How do I control, or even know, how many threads the Multi-Threaded-Step creates? PS. I saw your video on Youtube earlier today. I can&#39;t multi-thread the reader, but I can do the writer multi-threaded. How do I pass items from one step to another? Looking for simple, in-memory solution. Can I pay VMware to answer my questions?","body":"How do I control, or even know, how many threads the Multi-Threaded-Step creates? PS. I saw your video on Youtube earlier today. I can&#39;t multi-thread the reader, but I can do the writer multi-threaded. How do I pass items from one step to another? Looking for simple, in-memory solution. Can I pay VMware to answer my questions?"},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1632108962,"post_id":69160808,"comment_id":122395295,"body_markdown":"Mahmoud, thanks for your help; I accepted your answer because it largely gives me what I wanted. I watched your video and thought it gives each chunk its own thread. So the number of your threads is roughly speaking, the total item count divided by the chunk size. However, I did a test run with 10 items, and it spawned 4 threads.","body":"Mahmoud, thanks for your help; I accepted your answer because it largely gives me what I wanted. I watched your video and thought it gives each chunk its own thread. So the number of your threads is roughly speaking, the total item count divided by the chunk size. However, I did a test run with 10 items, and it spawned 4 threads."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1632118396,"post_id":69160808,"comment_id":122396862,"body_markdown":"Glad it helped. `how many threads the Multi-Threaded-Step creates?`: The number of threads depends on the TaskExecutor you pass to the step. The sample in my answer uses the simplest TaskExecutor implementation which is SimpleAsyncTaskExecutor. This implementation does not reuse threads and creates a thread for each task. You can use a ThreadPoolTaskExecutor and set the number of threads you want to use to execute the step.","body":"Glad it helped. <code>how many threads the Multi-Threaded-Step creates?</code>: The number of threads depends on the TaskExecutor you pass to the step. The sample in my answer uses the simplest TaskExecutor implementation which is SimpleAsyncTaskExecutor. This implementation does not reuse threads and creates a thread for each task. You can use a ThreadPoolTaskExecutor and set the number of threads you want to use to execute the step."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1632118532,"post_id":69160808,"comment_id":122396895,"body_markdown":"`How do I pass items from one step to another?`: You can use the execution context for that, please refer to https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/common-patterns.html#passingDataToFutureSteps. and https://stackoverflow.com/questions/2292667. I hope this helps.","body":"<code>How do I pass items from one step to another?</code>: You can use the execution context for that, please refer to <a href=\"https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/common-patterns.html#passingDataToFutureSteps\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/4.3.x/reference/html/&hellip;</a>. and <a href=\"https://stackoverflow.com/questions/2292667\">stackoverflow.com/questions/2292667</a>. I hope this helps."},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1632151482,"post_id":69160808,"comment_id":122410005,"body_markdown":"Mahmoud, I overrided the JPA writer used in the multi-threaded test solely to print the thread id. I wanted to make sure it was using multiple threads. I found that for SimpleAsyncTaskExecutor, I got multiple threads, even for that 1 step.","body":"Mahmoud, I overrided the JPA writer used in the multi-threaded test solely to print the thread id. I wanted to make sure it was using multiple threads. I found that for SimpleAsyncTaskExecutor, I got multiple threads, even for that 1 step."},{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1632151929,"post_id":69160808,"comment_id":122410209,"body_markdown":"Re. passing items: some previous SO posts suggested that the context had a limit of what could be stored. For my purpose, I don&#39;t need restartability and prefer speed, so I didn&#39;t want store in the context. I notice Spring likes to log things in one or more batch tables, including the context. Using the context requires an I/O write to the database.","body":"Re. passing items: some previous SO posts suggested that the context had a limit of what could be stored. For my purpose, I don&#39;t need restartability and prefer speed, so I didn&#39;t want store in the context. I notice Spring likes to log things in one or more batch tables, including the context. Using the context requires an I/O write to the database."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631527453,"creation_date":1631527453,"answer_id":69160808,"question_id":69149100,"body_markdown":"The `CompositeItemWriter` calls delegate writers is sequence, not in parallel. So creating 10 `JpaItemWriter`s as delegates in the composite writer won&#39;t make your step multi-threaded.\r\n\r\nIf you want the step to become multi-threaded, you need to add a `TaskExecutor` to it, something like:\r\n\r\n```\r\n@Bean\r\npublic TaskExecutor taskExecutor() {\r\n    return new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;);\r\n}\r\n\r\n@Bean\r\npublic Step sampleStep(TaskExecutor taskExecutor) {\r\n\treturn this.stepBuilderFactory.get(&quot;sampleStep&quot;)\r\n\t\t\t\t.&lt;String, String&gt;chunk(10)\r\n\t\t\t\t.reader(itemReader())\r\n\t\t\t\t.writer(itemWriter())\r\n\t\t\t\t.taskExecutor(taskExecutor)\r\n\t\t\t\t.build();\r\n}\r\n```\r\n\r\nPlease refer to [Multi-Threaded step](https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/scalability.html#multithreadedStep).\r\n\r\nNow your issue is that you are creating a `JpaItemWriter` with the `new` operator, so the `afterPropertiesSet` method is not called by Spring to check mandatory properties. You need to set an `EntityManagerFactory` on this writer. ","title":"Multiple threads for ItemWriter","body":"<p>The <code>CompositeItemWriter</code> calls delegate writers is sequence, not in parallel. So creating 10 <code>JpaItemWriter</code>s as delegates in the composite writer won't make your step multi-threaded.</p>\n<p>If you want the step to become multi-threaded, you need to add a <code>TaskExecutor</code> to it, something like:</p>\n<pre><code>@Bean\npublic TaskExecutor taskExecutor() {\n    return new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;);\n}\n\n@Bean\npublic Step sampleStep(TaskExecutor taskExecutor) {\n    return this.stepBuilderFactory.get(&quot;sampleStep&quot;)\n                .&lt;String, String&gt;chunk(10)\n                .reader(itemReader())\n                .writer(itemWriter())\n                .taskExecutor(taskExecutor)\n                .build();\n}\n</code></pre>\n<p>Please refer to <a href=\"https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/scalability.html#multithreadedStep\" rel=\"nofollow noreferrer\">Multi-Threaded step</a>.</p>\n<p>Now your issue is that you are creating a <code>JpaItemWriter</code> with the <code>new</code> operator, so the <code>afterPropertiesSet</code> method is not called by Spring to check mandatory properties. You need to set an <code>EntityManagerFactory</code> on this writer.</p>\n"}],"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675257760,"creation_date":1631429193,"question_id":69149100,"body_markdown":"I have a Spring Boot Batch job with two primary steps, the first reads a bunch of rows from a spreadsheet. The second writes to a database. Right now, it&#39;s set up to write serially to the database.\r\n\r\n```java\r\npublic CompositeItemWriter&lt;SoftLayerData&gt; compositeSoftlayerDataWriter(\r\n    JpaItemWriter&lt;SoftLayerData&gt; softlayerDataWriter) {\r\n  CompositeItemWriter&lt;SoftLayerData&gt; compositeWriter = new CompositeItemWriter&lt;&gt;();\r\n  compositeWriter.setDelegates(asList(softlayerDataWriter));\r\n  return compositeWriter;\r\n}\r\n```\r\nThe problem is the volume is large. Since there&#39;s no reason to maintain any order, I&#39;d like to have multiple writers. I tried this:\r\n\r\n```java\r\nfinal int writerCount = 10;\r\nList&lt;ItemWriter&lt;? super SoftLayerData&gt;&gt; writers = new ArrayList&lt;&gt;(writerCount);\r\nfor(int counter=0;counter&lt;writerCount;counter++) {\r\n  writers.add(new JpaItemWriter&lt;SoftLayerData&gt;());\r\n}\r\nCompositeItemWriter&lt;SoftLayerData&gt; result = new CompositeItemWriter&lt;&gt;();\r\nresult.setDelegates(writers);\r\nreturn result;\r\n```\r\nBut I&#39;m getting an `IllegalArgumentException: No EntityManagerFactory specified`.\r\n\r\nI like the approach, but I suspect there&#39;s some really complex Spring Boot way that I have to follow. What&#39;s the best approach to doing multiple writers?\r\n","title":"Multiple threads for ItemWriter","body":"<p>I have a Spring Boot Batch job with two primary steps, the first reads a bunch of rows from a spreadsheet. The second writes to a database. Right now, it's set up to write serially to the database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public CompositeItemWriter&lt;SoftLayerData&gt; compositeSoftlayerDataWriter(\n    JpaItemWriter&lt;SoftLayerData&gt; softlayerDataWriter) {\n  CompositeItemWriter&lt;SoftLayerData&gt; compositeWriter = new CompositeItemWriter&lt;&gt;();\n  compositeWriter.setDelegates(asList(softlayerDataWriter));\n  return compositeWriter;\n}\n</code></pre>\n<p>The problem is the volume is large. Since there's no reason to maintain any order, I'd like to have multiple writers. I tried this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int writerCount = 10;\nList&lt;ItemWriter&lt;? super SoftLayerData&gt;&gt; writers = new ArrayList&lt;&gt;(writerCount);\nfor(int counter=0;counter&lt;writerCount;counter++) {\n  writers.add(new JpaItemWriter&lt;SoftLayerData&gt;());\n}\nCompositeItemWriter&lt;SoftLayerData&gt; result = new CompositeItemWriter&lt;&gt;();\nresult.setDelegates(writers);\nreturn result;\n</code></pre>\n<p>But I'm getting an <code>IllegalArgumentException: No EntityManagerFactory specified</code>.</p>\n<p>I like the approach, but I suspect there's some really complex Spring Boot way that I have to follow. What's the best approach to doing multiple writers?</p>\n"},{"tags":["java","dictionary"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1675257466,"post_id":75310663,"comment_id":132888964,"body_markdown":"In general you can&#39;t query a map based on a partial key so you&#39;d have to iterate over all the entries and compare the keys one by one. However, if you&#39;d be using a `SortedMap` (`TreeMap` being one of the most common implementations) you could implement some &quot;starts with&quot; logic using `subMap(fromKey, toKey)`, e.g. `subMap(&quot;BusDetails0&quot;, &quot;BusDetails0\\uFFFF&quot;)` to get all entries where the key starts with &quot;BusDetails0&quot; (the end key would need to just be outside the intended range that&#39;s why I added `&quot;\\uFFFF&quot;` instead of using &quot;BusDetails1&quot; as the &quot;to key&quot;).","body":"In general you can&#39;t query a map based on a partial key so you&#39;d have to iterate over all the entries and compare the keys one by one. However, if you&#39;d be using a <code>SortedMap</code> (<code>TreeMap</code> being one of the most common implementations) you could implement some &quot;starts with&quot; logic using <code>subMap(fromKey, toKey)</code>, e.g. <code>subMap(&quot;BusDetails0&quot;, &quot;BusDetails0\\uFFFF&quot;)</code> to get all entries where the key starts with &quot;BusDetails0&quot; (the end key would need to just be outside the intended range that&#39;s why I added <code>&quot;\\uFFFF&quot;</code> instead of using &quot;BusDetails1&quot; as the &quot;to key&quot;)."}],"answers":[{"comments":[{"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"score":1,"creation_date":1675258440,"post_id":75310819,"comment_id":132889283,"body_markdown":"List&lt;String&gt; list = outputMap.keySet().stream().map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).distinct().collect(Collectors.toList()); I have used this , its getting me the unique values. thank you","body":"List&lt;String&gt; list = outputMap.keySet().stream().map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).distinct().collect(Collectors.toList()); I have used this , its getting me the unique values. thank you"}],"tags":[],"owner":{"account_id":10761678,"reputation":194,"user_id":7917890,"display_name":"Zhuragat Bolatkhan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675257757,"creation_date":1675257757,"answer_id":75310819,"question_id":75310663,"body_markdown":"You can get a set of keys:\r\n\r\n    map.keySet()\r\n   \r\nIn your case, if I understand correctly, you want to get a list of transformed keys (all characters before the first dot symbol) \r\n\r\n    List&lt;String&gt; list = map.keySet().stream().map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).collect(Collectors.toList());\r\n","title":"How to filter out a particular keyword(part/Substring) which is unique from a map key?","body":"<p>You can get a set of keys:</p>\n<pre><code>map.keySet()\n</code></pre>\n<p>In your case, if I understand correctly, you want to get a list of transformed keys (all characters before the first dot symbol)</p>\n<pre><code>List&lt;String&gt; list = map.keySet().stream().map(s -&gt; s.split(&quot;\\\\.&quot;)[0]).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":27675583,"reputation":23,"user_id":21125478,"display_name":"piya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75310819,"answer_count":1,"score":0,"last_activity_date":1675257757,"creation_date":1675257031,"question_id":75310663,"body_markdown":"I have a Map&lt;String,String&gt;  \r\n```\r\n{\r\n  BusDetails0.BusDetail.DriverID=1,\r\n  BusDetails0.BusDetail.DriverSubID=2,\r\n  BusDetails1.BusDetail.DriverID=1,\r\n  BusDetails1.BusDetail.DriverSubID=2\r\n}\r\n```\r\n\r\nfrom this map is it possible to extract keys in a list of Strings {&quot;BusDetails0&quot;,&quot;BusDetails1&quot;}? \r\n\r\nplease help thanks  ","title":"How to filter out a particular keyword(part/Substring) which is unique from a map key?","body":"<p>I have a Map&lt;String,String&gt;</p>\n<pre><code>{\n  BusDetails0.BusDetail.DriverID=1,\n  BusDetails0.BusDetail.DriverSubID=2,\n  BusDetails1.BusDetail.DriverID=1,\n  BusDetails1.BusDetail.DriverSubID=2\n}\n</code></pre>\n<p>from this map is it possible to extract keys in a list of Strings {&quot;BusDetails0&quot;,&quot;BusDetails1&quot;}?</p>\n<p>please help thanks</p>\n"},{"tags":["java","encoding","bouncycastle","asn.1","ber"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1672019732,"post_id":74914313,"comment_id":132208601,"body_markdown":"Which version of BouncyCastle?  The Javadoc for 1.70 does not seem to include the `Asn1ObjectIdentifier(int[])` constructor.","body":"Which version of BouncyCastle?  The Javadoc for 1.70 does not seem to include the <code>Asn1ObjectIdentifier(int[])</code> constructor."},{"owner":{"account_id":2198949,"reputation":94,"user_id":1943902,"display_name":"Okan Konur"},"score":0,"creation_date":1672035474,"post_id":74914313,"comment_id":132209914,"body_markdown":"The library I am trying to use for initializing Asn1ObjectIdentifier is NOT BouncyCastle. It is Obj-Sys Asn1j Runtime. (Asn1rt.jar) I have linked it in the post. I just tried BouncyCastle as a workaround for encoding. If anything is still not clear please let me know, I will update the question.","body":"The library I am trying to use for initializing Asn1ObjectIdentifier is NOT BouncyCastle. It is Obj-Sys Asn1j Runtime. (Asn1rt.jar) I have linked it in the post. I just tried BouncyCastle as a workaround for encoding. If anything is still not clear please let me know, I will update the question."},{"owner":{"account_id":99958,"reputation":1918,"user_id":269722,"display_name":"Kevin"},"score":0,"creation_date":1673386124,"post_id":74914313,"comment_id":132486309,"body_markdown":"I&#39;m curious if there is a new/existing standard that is using the UUID arc?  Or, are you inventing something of your own?","body":"I&#39;m curious if there is a new/existing standard that is using the UUID arc?  Or, are you inventing something of your own?"},{"owner":{"account_id":2198949,"reputation":94,"user_id":1943902,"display_name":"Okan Konur"},"score":0,"creation_date":1673499442,"post_id":74914313,"comment_id":132514188,"body_markdown":"@Kevin I was trying to define a new OID for my personal project. And the simplest way to define an OID seems to be the unregistered UUID using `{joint-iso-itu-t(2) uuid(25)}`","body":"@Kevin I was trying to define a new OID for my personal project. And the simplest way to define an OID seems to be the unregistered UUID using <code>{joint-iso-itu-t(2) uuid(25)}</code>"}],"answers":[{"comments":[{"owner":{"account_id":2198949,"reputation":94,"user_id":1943902,"display_name":"Okan Konur"},"score":0,"creation_date":1672049760,"post_id":74919027,"comment_id":132212400,"body_markdown":"I was not sure if this was a limitation in the API or my wrong usage of the decode method.","body":"I was not sure if this was a limitation in the API or my wrong usage of the decode method."}],"tags":[],"owner":{"account_id":3195751,"reputation":9753,"user_id":2876830,"accept_rate":71,"display_name":"YaFred"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672047490,"creation_date":1672047490,"answer_id":74919027,"question_id":74914313,"body_markdown":"[Obj-sys documentation][1] shows that the java mapping for OBJECT IDENTIFIER is an array of int (so it&#39;s a limitation)\r\n\r\nI&#39;m surprised you ask the question here, they have a [contact form][2]\r\n\r\n\r\n\r\n  [1]: https://obj-sys.com/docs/acv76/JavaHTML/ch05s08.html\r\n  [2]: https://obj-sys.com/about/contact.php","title":"How to initialize ASN1ObjectIdentifier from an OID string which contains components larger than int max value?","body":"<p><a href=\"https://obj-sys.com/docs/acv76/JavaHTML/ch05s08.html\" rel=\"nofollow noreferrer\">Obj-sys documentation</a> shows that the java mapping for OBJECT IDENTIFIER is an array of int (so it's a limitation)</p>\n<p>I'm surprised you ask the question here, they have a <a href=\"https://obj-sys.com/about/contact.php\" rel=\"nofollow noreferrer\">contact form</a></p>\n"}],"owner":{"account_id":2198949,"reputation":94,"user_id":1943902,"display_name":"Okan Konur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675257493,"creation_date":1671983275,"question_id":74914313,"body_markdown":"I am trying to reference an unregistered ASN.1 Object Identifier which is compliant with the `{joint-iso-itu-t(2) uuid(25)}` arc. I am using the [com.objsys.asn1j.runtime](https://obj-sys.com/docs/acv63/JavaRunTime/com/objsys/asn1j/runtime/Asn1ObjectIdentifier.html) package. \r\n\r\nBut it seems that the asn1rt library only accepts int[] as identifier. I can&#39;t pass the value of the UUID component of the OID string as int as such:\r\n\r\n```\r\n    public Asn1ObjectIdentifier getAttributeOID() {\r\n        \r\n        int[] identifierValue = { 2, 25, singleIntegerValue}; // last part is greater than int max\r\n        return new Asn1ObjectIdentifier(identifierValue);\r\n    }\r\n```\r\n\r\nI have tried to use the decode method as explained in the objsys.com docs as following:\r\n\r\n```\r\n    public Asn1ObjectIdentifier getAttributeOID() {\r\n\r\n        //uuid part is converted to integer value from uuid according to ITU-T X.667 Section 6.3 using \r\n\r\n        String oid = &quot;2.25.142312163956071652603888631318689442116&quot;; \r\n        Asn1BerDecodeBuffer decodeBuffer = new Asn1BerDecodeBuffer(oid.getBytes(StandardCharsets.UTF_8));\r\n        Asn1ObjectIdentifier asn1ObjectIdentifier = new Asn1ObjectIdentifier();\r\n\r\n        try {\r\n            asn1ObjectIdentifier.decode(decodeBuffer, false, oid.length());\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n\r\n        return asn1ObjectIdentifier;\r\n    }\r\n```\r\n\r\nHowever this approach also does not get me the correct identifier value in the resulting object. It outputs something like this:\r\n```\r\n  1.10.46.50.53.46.49.52.50.51.49.50.49.54.51.57.53.54.48.55.49.54.53.50.54.48.51.…\r\n```\r\n\r\nI have also failed when trying BouncyCastle to encode the object identifier and then tried to decode it with the api from the `com.objsys.asn1j.runtime` package. Didn&#39;t work.\r\n\r\n\r\n\r\n\r\n","title":"How to initialize ASN1ObjectIdentifier from an OID string which contains components larger than int max value?","body":"<p>I am trying to reference an unregistered ASN.1 Object Identifier which is compliant with the <code>{joint-iso-itu-t(2) uuid(25)}</code> arc. I am using the <a href=\"https://obj-sys.com/docs/acv63/JavaRunTime/com/objsys/asn1j/runtime/Asn1ObjectIdentifier.html\" rel=\"nofollow noreferrer\">com.objsys.asn1j.runtime</a> package.</p>\n<p>But it seems that the asn1rt library only accepts int[] as identifier. I can't pass the value of the UUID component of the OID string as int as such:</p>\n<pre><code>    public Asn1ObjectIdentifier getAttributeOID() {\n        \n        int[] identifierValue = { 2, 25, singleIntegerValue}; // last part is greater than int max\n        return new Asn1ObjectIdentifier(identifierValue);\n    }\n</code></pre>\n<p>I have tried to use the decode method as explained in the objsys.com docs as following:</p>\n<pre><code>    public Asn1ObjectIdentifier getAttributeOID() {\n\n        //uuid part is converted to integer value from uuid according to ITU-T X.667 Section 6.3 using \n\n        String oid = &quot;2.25.142312163956071652603888631318689442116&quot;; \n        Asn1BerDecodeBuffer decodeBuffer = new Asn1BerDecodeBuffer(oid.getBytes(StandardCharsets.UTF_8));\n        Asn1ObjectIdentifier asn1ObjectIdentifier = new Asn1ObjectIdentifier();\n\n        try {\n            asn1ObjectIdentifier.decode(decodeBuffer, false, oid.length());\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n\n        return asn1ObjectIdentifier;\n    }\n</code></pre>\n<p>However this approach also does not get me the correct identifier value in the resulting object. It outputs something like this:</p>\n<pre><code>  1.10.46.50.53.46.49.52.50.51.49.50.49.54.51.57.53.54.48.55.49.54.53.50.54.48.51.…\n</code></pre>\n<p>I have also failed when trying BouncyCastle to encode the object identifier and then tried to decode it with the api from the <code>com.objsys.asn1j.runtime</code> package. Didn't work.</p>\n"},{"tags":["java","json","spring","hibernate","spring-data-jpa"],"owner":{"account_id":9911493,"reputation":38,"user_id":7338044,"display_name":"Vova"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675257269,"creation_date":1675257269,"question_id":75310720,"body_markdown":"I am trying to learn Spring framework and I have an idea to create REST API service, then REST client to perform REST request to my REST service and then to create Web service which will use my REST API. So for now I have done simple CRUD methods in controller class:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/games&quot;)\r\npublic class ApiGamesController {\r\n    private static final String ENDPOINT_WITH_PLATFORM_AND_GAME_NAME = &quot;/{platformName}/{gameName}&quot;;\r\n    private final GameService gameService;\r\n    private final ModelMapper modelMapper;\r\n    private final PlatformService platformService;\r\n    private final GameGenreService genreService;\r\n    private final DeveloperStudioService developerStudioService;\r\n    private final GameInfoService gameInfoService;\r\n\r\n    @Autowired\r\n    public ApiGamesController(GameService gameService, ModelMapper modelMapper,\r\n                              PlatformService platformService, GameGenreService genreService,\r\n                              DeveloperStudioService developerStudioService,\r\n                              GameInfoService gameInfoService) {\r\n        this.gameService = gameService;\r\n        this.modelMapper = modelMapper;\r\n        this.platformService = platformService;\r\n        this.genreService = genreService;\r\n        this.developerStudioService = developerStudioService;\r\n        this.gameInfoService = gameInfoService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;BaseResponse&gt; addGame(@RequestBody GameInfoDto gameInfoDto) {\r\n        return Utils.createResponse(createGameFromGameInfoDto(gameInfoDto), HttpStatus.CREATED);\r\n    }\r\n\r\n    @DeleteMapping(ENDPOINT_WITH_PLATFORM_AND_GAME_NAME)\r\n    public ResponseEntity&lt;BaseResponse&gt; deleteGame(@PathVariable String gameName,\r\n                                                   @PathVariable String platformName) {\r\n        Game gameToDelete = gameService.getGameByPlatformAndName(platformName, gameName);\r\n        GameInfo gameInfo = gameToDelete.getGameInfo();\r\n        Set&lt;Game&gt; games = gameInfo.getGames();\r\n        games.remove(gameToDelete);\r\n        if (games.isEmpty()) {\r\n            gameInfoService.deleteEntity(gameInfo);\r\n        }\r\n        String responseMessage = String.format(&quot;Game -- %s has been deleted.&quot;, gameName);\r\n        return Utils.createResponse(responseMessage, HttpStatus.OK);\r\n    }\r\n\r\n    @PatchMapping(&quot;/{gameName}&quot;)\r\n    public ResponseEntity&lt;BaseResponse&gt; updateGame(@PathVariable String gameName,\r\n                                                   @RequestBody GameInfoDto gameInfoDto) {\r\n        GameInfo gameInfo = findAndUpdateGameInfo(gameName, gameInfoDto);\r\n        Set&lt;Game&gt; gamesFromResponse = gameInfoDto.getPlatforms().stream()\r\n                .map(platform -&gt; new Game(gameInfo, platformService\r\n                        .findPlatformByName(platform.getPlatformName())))\r\n                .collect(Collectors.toSet());\r\n        Set&lt;Game&gt; gamesToSave = Utils.findNewAndExisted(gameInfo.getGames(), gamesFromResponse);\r\n        if (!gamesToSave.isEmpty()) {\r\n            gameInfo.setGames(gamesToSave);\r\n        }\r\n        gameInfoService.save(gameInfo);\r\n        return Utils.createResponse(new GameInfoDto(gameInfo), HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;BaseResponse&gt; getAllGames() {\r\n        return Utils.createResponse(convertGameCollectionToDto(gameService.getAll()),\r\n                HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(ENDPOINT_WITH_PLATFORM_AND_GAME_NAME)\r\n    public ResponseEntity&lt;BaseResponse&gt; getGame(@PathVariable String gameName,\r\n                                                @PathVariable String platformName) {\r\n        Game game = gameService.getGameByPlatformAndName(platformName, gameName);\r\n        return Utils.createResponse(convertGameToGameDto(game), HttpStatus.OK);\r\n    }\r\n\r\n    @ExceptionHandler\r\n    private ResponseEntity&lt;GameNotFoundResponse&gt; handleGameNotFoundException(\r\n            GameNotFoundException exception) {\r\n        GameNotFoundResponse response = new GameNotFoundResponse(exception.getMessage());\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    @ExceptionHandler\r\n    private ResponseEntity&lt;PlatformNotFoundResponse&gt; handlePlatformNotFoundException(\r\n            PlatformNotFoundException exception) {\r\n        PlatformNotFoundResponse response = new PlatformNotFoundResponse(exception.getMessage());\r\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\r\n    }\r\n\r\n    private GameDto convertGameToGameDto(Game game) {\r\n        GameDto dto = modelMapper.map(game, GameDto.class);\r\n        dto.setAverageRating(game.getAverageRating());\r\n        Set&lt;PlatformDto&gt; platforms = game.getOtherPlatforms()\r\n                .stream()\r\n                .map(platform -&gt; new PlatformDto(platform.getPlatformName()))\r\n                .collect(Collectors.toSet());\r\n        dto.getGameInfo().setPlatforms(platforms);\r\n        return dto;\r\n    }\r\n\r\n    private Set&lt;GameDto&gt; convertGameCollectionToDto(Collection&lt;Game&gt; games) {\r\n        return games.stream()\r\n                .map(this::convertGameToGameDto)\r\n                .collect(Collectors.toSet());\r\n    }\r\n\r\n    private Set&lt;Game&gt; createGameFromGameInfoDto(GameInfoDto gameInfoDto) {\r\n        GameGenre genre = genreService.findGameGenreByGenreName(\r\n                gameInfoDto.getGameGenre().getGenreName());\r\n        DeveloperStudio developerStudio = developerStudioService\r\n                .findDeveloperStudioByStudioName(gameInfoDto.getGameDeveloperStudio()\r\n                        .getStudioName());\r\n        Set&lt;Platform&gt; platforms = gameInfoDto.getPlatforms()\r\n                .stream()\r\n                .map(platformDto -&gt; platformService\r\n                        .findPlatformByName(platformDto.getPlatformName()))\r\n                .collect(Collectors.toSet());\r\n\r\n        GameInfo gameInfo = new GameInfo(gameInfoDto.getName(),\r\n                gameInfoDto.getGameDescription(), gameInfoDto.getGameReleaseDate(),\r\n                genre, developerStudio);\r\n        Set&lt;Game&gt; gamesToSave = platforms.stream()\r\n                .map(platform -&gt; new Game(gameInfo, platform))\r\n                .collect(Collectors.toSet());\r\n\r\n        gameInfo.setGames(gamesToSave);\r\n        gameInfoService.save(gameInfo);\r\n        return gamesToSave;\r\n    }\r\n\r\n    private GameInfo findAndUpdateGameInfo(String gameName, GameInfoDto gameInfoDto) {\r\n        GameInfo gameInfo = gameInfoService.findGameInfoByName(gameName);\r\n        gameInfo.setGameName(gameInfoDto.getName());\r\n        gameInfo.setGameDescription(gameInfoDto.getGameDescription());\r\n        gameInfo.setGameReleaseDate(gameInfoDto.getGameReleaseDate());\r\n        GameGenre genre = genreService.findGameGenreByGenreName(\r\n                gameInfoDto.getGameGenre().getGenreName());\r\n        DeveloperStudio developerStudio = developerStudioService\r\n                .findDeveloperStudioByStudioName(gameInfoDto.getGameDeveloperStudio()\r\n                        .getStudioName());\r\n        gameInfo.setGameGenre(genre);\r\n        gameInfo.setGameDeveloperStudio(developerStudio);\r\n        return gameInfo;\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere are my models classes:\r\n\r\n**Game**\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;game&quot;)\r\npublic class Game {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\r\n    @JoinColumn(name = &quot;base_game_info_id&quot;, nullable = false)\r\n    @JsonManagedReference\r\n    private GameInfo gameInfo;\r\n\r\n    @NotNull\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;platform_id&quot;, nullable = false)\r\n    @JsonManagedReference\r\n    private Platform platform;\r\n\r\n    @OneToMany(mappedBy = &quot;game&quot;, cascade = CascadeType.PERSIST)\r\n    @ToString.Exclude\r\n    @JsonManagedReference\r\n    private Set&lt;GameRating&gt; gameRatings = new HashSet&lt;&gt;();\r\n\r\n    public Game(GameInfo gameInfo, Platform platform) {\r\n        this.gameInfo = gameInfo;\r\n        this.platform = platform;\r\n    }\r\n\r\n    public Set&lt;Platform&gt; getOtherPlatforms() {\r\n        return gameInfo.getAllPlatforms().stream()\r\n                .filter(gamePlatform -&gt; !gamePlatform.equals(this.platform))\r\n                .collect(Collectors.toSet());\r\n    }\r\n\r\n    public double getAverageRating() {\r\n        return gameRatings.stream()\r\n                .flatMapToInt(gameRating -&gt; IntStream.of(gameRating.getRating()))\r\n                .average()\r\n                .orElse(0.0);\r\n    }\r\n}\r\n```\r\n\r\n\r\n**DeveloperStudio**\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;developer_studio&quot;)\r\npublic class DeveloperStudio {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;studio_id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;studio_name&quot;, nullable = false, length = Integer.MAX_VALUE)\r\n    private String studioName;\r\n\r\n    @OneToMany(mappedBy = &quot;gameDeveloperStudio&quot;)\r\n    @ToString.Exclude\r\n    @JsonBackReference\r\n    private Set&lt;GameInfo&gt; gameInfos;\r\n}\r\n```\r\n\r\n**Game Genre**\r\n\r\n```\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\n@Table(name = &quot;game_genre&quot;)\r\npublic class GameGenre {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;genre_id&quot;, nullable = false)\r\n    private Integer id;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;genre_name&quot;, nullable = false, length = Integer.MAX_VALUE)\r\n    private String genreName;\r\n\r\n    @OneToMany(mappedBy = &quot;gameGenre&quot;)\r\n    @ToString.Exclude\r\n    @JsonBackReference\r\n    private Set&lt;GameInfo&gt; gameInfos = new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\nand all other models which are made with same template, nothing specials.\r\n\r\nSo for now I have made those Dto classes, which are transform it. But is there some way to handle it? Because its ok to return this class as JSON but if i need to take it as response body it throws me error something like this:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference &#39;defaultReference&#39;: back reference type (`java.util.Set&lt;org.jcd2052.api.models.GameInfo&gt;`) not compatible with managed type (org.jcd2052.api.models.GameInfo)\r\n at [Source: (String)&quot;[{&quot;gameInfo&quot;:{&quot;name&quot;:&quot;test game sadsad&quot;,&quot;gameDescription&quot;:&quot;some game 7 description&quot;,&quot;gameReleaseDate&quot;:2022,&quot;gameGenre&quot;:{&quot;genreName&quot;:&quot;Studio 2&quot;},&quot;gameDeveloperStudio&quot;:{&quot;studioName&quot;:&quot;Studio 1&quot;},&quot;platforms&quot;:[{&quot;platformName&quot;:&quot;Playstation&quot;},{&quot;platformName&quot;:&quot;Playstation 3&quot;}]},&quot;platform&quot;:{&quot;id&quot;:5,&quot;platformName&quot;:&quot;Playstation 2&quot;},&quot;averageRating&quot;:0.0,&quot;gameRatings&quot;:[]},{&quot;gameInfo&quot;:{&quot;name&quot;:&quot;test game3213&quot;,&quot;gameDescription&quot;:&quot;some game 7 description&quot;,&quot;gameReleaseDate&quot;:2000,&quot;gameGenre&quot;:{&quot;genreName&quot;:&quot;Shooter&quot;},&quot;&quot;[truncated 5357 chars]; line: 1, column: 1]\r\n```\r\n\r\n\r\nSo my main question how to transform json body from request into my jpa entity? or I need to transform every class to dto and then use find to every field from Dto?\r\n\r\nThanks.\r\n\r\n\r\n\r\nSome answers how to handle in this situation.How to build system in right way?","title":"Hibernate transform entity class to JSON and vice versa","body":"<p>I am trying to learn Spring framework and I have an idea to create REST API service, then REST client to perform REST request to my REST service and then to create Web service which will use my REST API. So for now I have done simple CRUD methods in controller class:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/games&quot;)\npublic class ApiGamesController {\n    private static final String ENDPOINT_WITH_PLATFORM_AND_GAME_NAME = &quot;/{platformName}/{gameName}&quot;;\n    private final GameService gameService;\n    private final ModelMapper modelMapper;\n    private final PlatformService platformService;\n    private final GameGenreService genreService;\n    private final DeveloperStudioService developerStudioService;\n    private final GameInfoService gameInfoService;\n\n    @Autowired\n    public ApiGamesController(GameService gameService, ModelMapper modelMapper,\n                              PlatformService platformService, GameGenreService genreService,\n                              DeveloperStudioService developerStudioService,\n                              GameInfoService gameInfoService) {\n        this.gameService = gameService;\n        this.modelMapper = modelMapper;\n        this.platformService = platformService;\n        this.genreService = genreService;\n        this.developerStudioService = developerStudioService;\n        this.gameInfoService = gameInfoService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;BaseResponse&gt; addGame(@RequestBody GameInfoDto gameInfoDto) {\n        return Utils.createResponse(createGameFromGameInfoDto(gameInfoDto), HttpStatus.CREATED);\n    }\n\n    @DeleteMapping(ENDPOINT_WITH_PLATFORM_AND_GAME_NAME)\n    public ResponseEntity&lt;BaseResponse&gt; deleteGame(@PathVariable String gameName,\n                                                   @PathVariable String platformName) {\n        Game gameToDelete = gameService.getGameByPlatformAndName(platformName, gameName);\n        GameInfo gameInfo = gameToDelete.getGameInfo();\n        Set&lt;Game&gt; games = gameInfo.getGames();\n        games.remove(gameToDelete);\n        if (games.isEmpty()) {\n            gameInfoService.deleteEntity(gameInfo);\n        }\n        String responseMessage = String.format(&quot;Game -- %s has been deleted.&quot;, gameName);\n        return Utils.createResponse(responseMessage, HttpStatus.OK);\n    }\n\n    @PatchMapping(&quot;/{gameName}&quot;)\n    public ResponseEntity&lt;BaseResponse&gt; updateGame(@PathVariable String gameName,\n                                                   @RequestBody GameInfoDto gameInfoDto) {\n        GameInfo gameInfo = findAndUpdateGameInfo(gameName, gameInfoDto);\n        Set&lt;Game&gt; gamesFromResponse = gameInfoDto.getPlatforms().stream()\n                .map(platform -&gt; new Game(gameInfo, platformService\n                        .findPlatformByName(platform.getPlatformName())))\n                .collect(Collectors.toSet());\n        Set&lt;Game&gt; gamesToSave = Utils.findNewAndExisted(gameInfo.getGames(), gamesFromResponse);\n        if (!gamesToSave.isEmpty()) {\n            gameInfo.setGames(gamesToSave);\n        }\n        gameInfoService.save(gameInfo);\n        return Utils.createResponse(new GameInfoDto(gameInfo), HttpStatus.OK);\n    }\n\n    @GetMapping\n    public ResponseEntity&lt;BaseResponse&gt; getAllGames() {\n        return Utils.createResponse(convertGameCollectionToDto(gameService.getAll()),\n                HttpStatus.OK);\n    }\n\n    @GetMapping(ENDPOINT_WITH_PLATFORM_AND_GAME_NAME)\n    public ResponseEntity&lt;BaseResponse&gt; getGame(@PathVariable String gameName,\n                                                @PathVariable String platformName) {\n        Game game = gameService.getGameByPlatformAndName(platformName, gameName);\n        return Utils.createResponse(convertGameToGameDto(game), HttpStatus.OK);\n    }\n\n    @ExceptionHandler\n    private ResponseEntity&lt;GameNotFoundResponse&gt; handleGameNotFoundException(\n            GameNotFoundException exception) {\n        GameNotFoundResponse response = new GameNotFoundResponse(exception.getMessage());\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\n    }\n\n    @ExceptionHandler\n    private ResponseEntity&lt;PlatformNotFoundResponse&gt; handlePlatformNotFoundException(\n            PlatformNotFoundException exception) {\n        PlatformNotFoundResponse response = new PlatformNotFoundResponse(exception.getMessage());\n        return new ResponseEntity&lt;&gt;(response, HttpStatus.NOT_FOUND);\n    }\n\n    private GameDto convertGameToGameDto(Game game) {\n        GameDto dto = modelMapper.map(game, GameDto.class);\n        dto.setAverageRating(game.getAverageRating());\n        Set&lt;PlatformDto&gt; platforms = game.getOtherPlatforms()\n                .stream()\n                .map(platform -&gt; new PlatformDto(platform.getPlatformName()))\n                .collect(Collectors.toSet());\n        dto.getGameInfo().setPlatforms(platforms);\n        return dto;\n    }\n\n    private Set&lt;GameDto&gt; convertGameCollectionToDto(Collection&lt;Game&gt; games) {\n        return games.stream()\n                .map(this::convertGameToGameDto)\n                .collect(Collectors.toSet());\n    }\n\n    private Set&lt;Game&gt; createGameFromGameInfoDto(GameInfoDto gameInfoDto) {\n        GameGenre genre = genreService.findGameGenreByGenreName(\n                gameInfoDto.getGameGenre().getGenreName());\n        DeveloperStudio developerStudio = developerStudioService\n                .findDeveloperStudioByStudioName(gameInfoDto.getGameDeveloperStudio()\n                        .getStudioName());\n        Set&lt;Platform&gt; platforms = gameInfoDto.getPlatforms()\n                .stream()\n                .map(platformDto -&gt; platformService\n                        .findPlatformByName(platformDto.getPlatformName()))\n                .collect(Collectors.toSet());\n\n        GameInfo gameInfo = new GameInfo(gameInfoDto.getName(),\n                gameInfoDto.getGameDescription(), gameInfoDto.getGameReleaseDate(),\n                genre, developerStudio);\n        Set&lt;Game&gt; gamesToSave = platforms.stream()\n                .map(platform -&gt; new Game(gameInfo, platform))\n                .collect(Collectors.toSet());\n\n        gameInfo.setGames(gamesToSave);\n        gameInfoService.save(gameInfo);\n        return gamesToSave;\n    }\n\n    private GameInfo findAndUpdateGameInfo(String gameName, GameInfoDto gameInfoDto) {\n        GameInfo gameInfo = gameInfoService.findGameInfoByName(gameName);\n        gameInfo.setGameName(gameInfoDto.getName());\n        gameInfo.setGameDescription(gameInfoDto.getGameDescription());\n        gameInfo.setGameReleaseDate(gameInfoDto.getGameReleaseDate());\n        GameGenre genre = genreService.findGameGenreByGenreName(\n                gameInfoDto.getGameGenre().getGenreName());\n        DeveloperStudio developerStudio = developerStudioService\n                .findDeveloperStudioByStudioName(gameInfoDto.getGameDeveloperStudio()\n                        .getStudioName());\n        gameInfo.setGameGenre(genre);\n        gameInfo.setGameDeveloperStudio(developerStudio);\n        return gameInfo;\n    }\n}\n</code></pre>\n<p>Here are my models classes:</p>\n<p><strong>Game</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;game&quot;)\npublic class Game {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Integer id;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.PERSIST)\n    @JoinColumn(name = &quot;base_game_info_id&quot;, nullable = false)\n    @JsonManagedReference\n    private GameInfo gameInfo;\n\n    @NotNull\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;platform_id&quot;, nullable = false)\n    @JsonManagedReference\n    private Platform platform;\n\n    @OneToMany(mappedBy = &quot;game&quot;, cascade = CascadeType.PERSIST)\n    @ToString.Exclude\n    @JsonManagedReference\n    private Set&lt;GameRating&gt; gameRatings = new HashSet&lt;&gt;();\n\n    public Game(GameInfo gameInfo, Platform platform) {\n        this.gameInfo = gameInfo;\n        this.platform = platform;\n    }\n\n    public Set&lt;Platform&gt; getOtherPlatforms() {\n        return gameInfo.getAllPlatforms().stream()\n                .filter(gamePlatform -&gt; !gamePlatform.equals(this.platform))\n                .collect(Collectors.toSet());\n    }\n\n    public double getAverageRating() {\n        return gameRatings.stream()\n                .flatMapToInt(gameRating -&gt; IntStream.of(gameRating.getRating()))\n                .average()\n                .orElse(0.0);\n    }\n}\n</code></pre>\n<p><strong>DeveloperStudio</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;developer_studio&quot;)\npublic class DeveloperStudio {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;studio_id&quot;, nullable = false)\n    private Integer id;\n\n    @NotNull\n    @Column(name = &quot;studio_name&quot;, nullable = false, length = Integer.MAX_VALUE)\n    private String studioName;\n\n    @OneToMany(mappedBy = &quot;gameDeveloperStudio&quot;)\n    @ToString.Exclude\n    @JsonBackReference\n    private Set&lt;GameInfo&gt; gameInfos;\n}\n</code></pre>\n<p><strong>Game Genre</strong></p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;game_genre&quot;)\npublic class GameGenre {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;genre_id&quot;, nullable = false)\n    private Integer id;\n\n    @NotNull\n    @Column(name = &quot;genre_name&quot;, nullable = false, length = Integer.MAX_VALUE)\n    private String genreName;\n\n    @OneToMany(mappedBy = &quot;gameGenre&quot;)\n    @ToString.Exclude\n    @JsonBackReference\n    private Set&lt;GameInfo&gt; gameInfos = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and all other models which are made with same template, nothing specials.</p>\n<p>So for now I have made those Dto classes, which are transform it. But is there some way to handle it? Because its ok to return this class as JSON but if i need to take it as response body it throws me error something like this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`java.util.Set&lt;org.jcd2052.api.models.GameInfo&gt;`) not compatible with managed type (org.jcd2052.api.models.GameInfo)\n at [Source: (String)&quot;[{&quot;gameInfo&quot;:{&quot;name&quot;:&quot;test game sadsad&quot;,&quot;gameDescription&quot;:&quot;some game 7 description&quot;,&quot;gameReleaseDate&quot;:2022,&quot;gameGenre&quot;:{&quot;genreName&quot;:&quot;Studio 2&quot;},&quot;gameDeveloperStudio&quot;:{&quot;studioName&quot;:&quot;Studio 1&quot;},&quot;platforms&quot;:[{&quot;platformName&quot;:&quot;Playstation&quot;},{&quot;platformName&quot;:&quot;Playstation 3&quot;}]},&quot;platform&quot;:{&quot;id&quot;:5,&quot;platformName&quot;:&quot;Playstation 2&quot;},&quot;averageRating&quot;:0.0,&quot;gameRatings&quot;:[]},{&quot;gameInfo&quot;:{&quot;name&quot;:&quot;test game3213&quot;,&quot;gameDescription&quot;:&quot;some game 7 description&quot;,&quot;gameReleaseDate&quot;:2000,&quot;gameGenre&quot;:{&quot;genreName&quot;:&quot;Shooter&quot;},&quot;&quot;[truncated 5357 chars]; line: 1, column: 1]\n</code></pre>\n<p>So my main question how to transform json body from request into my jpa entity? or I need to transform every class to dto and then use find to every field from Dto?</p>\n<p>Thanks.</p>\n<p>Some answers how to handle in this situation.How to build system in right way?</p>\n"},{"tags":["java","docker","micronaut"],"answers":[{"comments":[{"owner":{"account_id":22961079,"reputation":305,"user_id":17090926,"display_name":"rnd om"},"score":1,"creation_date":1684810192,"post_id":75280192,"comment_id":134567588,"body_markdown":"hey where did you find docs for this variable? i would like to know what options for value there are. thanks!","body":"hey where did you find docs for this variable? i would like to know what options for value there are. thanks!"}],"tags":[],"owner":{"account_id":27632871,"reputation":21,"user_id":21091381,"display_name":"BigBunTea"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675257072,"creation_date":1675051901,"answer_id":75280192,"question_id":75254702,"body_markdown":"I found that value of\r\n`io.airbyte.config.helpers.LogConfigs.getStorageConfigs()` is read from `WORKER_LOGS_STORAGE_TYPE`.\r\nSo, when I define `WORKER_LOGS_STORAGE_TYPE` variable worker is working now.","title":"Try to start my airbyte worker image and it doesn&#39;t works","body":"<p>I found that value of\n<code>io.airbyte.config.helpers.LogConfigs.getStorageConfigs()</code> is read from <code>WORKER_LOGS_STORAGE_TYPE</code>.\nSo, when I define <code>WORKER_LOGS_STORAGE_TYPE</code> variable worker is working now.</p>\n"}],"owner":{"account_id":27632871,"reputation":21,"user_id":21091381,"display_name":"BigBunTea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675257072,"creation_date":1674800715,"question_id":75254702,"body_markdown":"I&#39;m trying to deploy airbyte into k8 as a docker image.\r\nand I build it from this compose\r\n[https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml](https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml)\r\n\r\nOther images are working fine but only worker image that can&#39;t start.\r\nIt shows error like this.\r\n\r\n```\r\n2023-01-27 05:06:47 [1;31mERROR[m i.m.r.Micronaut(handleStartupException):338 - Error starting Micronaut server: Cannot invoke &quot;io.airbyte.config.storage.CloudStorageConfigs.getType()&quot; because the return value of &quot;io.airbyte.config.helpers.LogConfigs.getStorageConfigs()&quot; is null\r\n```\r\n\r\n\r\nI&#39;m tried to adjust environment variables but it still show the error.\r\nAnyone know how to fix this?","title":"Try to start my airbyte worker image and it doesn&#39;t works","body":"<p>I'm trying to deploy airbyte into k8 as a docker image.\nand I build it from this compose\n<a href=\"https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml\" rel=\"nofollow noreferrer\">https://github.com/airbytehq/airbyte/blob/master/docker-compose.yaml</a></p>\n<p>Other images are working fine but only worker image that can't start.\nIt shows error like this.</p>\n<pre><code>2023-01-27 05:06:47 [1;31mERROR[m i.m.r.Micronaut(handleStartupException):338 - Error starting Micronaut server: Cannot invoke &quot;io.airbyte.config.storage.CloudStorageConfigs.getType()&quot; because the return value of &quot;io.airbyte.config.helpers.LogConfigs.getStorageConfigs()&quot; is null\n</code></pre>\n<p>I'm tried to adjust environment variables but it still show the error.\nAnyone know how to fix this?</p>\n"},{"tags":["java","netbeans","inputstream","java-io"],"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":2,"creation_date":1362736648,"post_id":15291079,"comment_id":21577776,"body_markdown":"When You write code like above, netbeans does not mark it in red?","body":"When You write code like above, netbeans does not mark it in red?"},{"owner":{"account_id":1064256,"reputation":882,"user_id":1065207,"accept_rate":84,"display_name":"Pantaziu Cristian"},"score":0,"creation_date":1692210627,"post_id":15291079,"comment_id":135594066,"body_markdown":"Wow, who uses NetBeans these days :)","body":"Wow, who uses NetBeans these days :)"},{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":0,"creation_date":1692256544,"post_id":15291079,"comment_id":135599239,"body_markdown":"who uses jdk 1.6? ;)","body":"who uses jdk 1.6? ;)"}],"answers":[{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1362736399,"creation_date":1362736399,"answer_id":15291121,"question_id":15291079,"body_markdown":"you have to assign a  **reference variable**:\r\n\r\n\tInputStream ref= this.getClass().getResourceAsStream(&quot;users.xml&quot;);\r\n","title":"Netbeans cannot find java.io.InputStream","body":"<p>you have to assign a  <strong>reference variable</strong>:</p>\n\n<pre><code>InputStream ref= this.getClass().getResourceAsStream(\"users.xml\");\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user1907906"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1362737067,"creation_date":1362736410,"answer_id":15291126,"question_id":15291079,"body_markdown":"You must name a variable:\r\n\r\n    InputStream is = this.getClas()...","title":"Netbeans cannot find java.io.InputStream","body":"<p>You must name a variable:</p>\n\n<pre><code>InputStream is = this.getClas()...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":25354128,"reputation":3100,"user_id":19170534,"display_name":"Andreas Violaris"},"score":0,"creation_date":1675550410,"post_id":75310633,"comment_id":132954395,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/33755183)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/33755183\">From Review</a>"}],"tags":[],"owner":{"account_id":27675787,"reputation":1,"user_id":21125640,"display_name":"Mathew Barber"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675256865,"creation_date":1675256865,"answer_id":75310633,"question_id":15291079,"body_markdown":" \r\n\r\n    import java.awt.image.BufferedImage;\r\n        import java.io.IOException;\r\n        import java.io.InputStream;\r\n        import javax.imageio.ImageIO;\r\n    \r\n        /**\r\n         *\r\n         * @author mbarb\r\n         */\r\n        public class LoadSave {\r\n        \r\n            public static BufferedImage GetPlayerAtlas(){\r\n                BufferedImage img = null;\r\n                InputStream is = \r\n        LoadSave.class.getResourceAsStream(&quot;Res/player2.png&quot;);\r\n            try {\r\n                img = ImageIO.read(is);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }//try catch .close() \r\n            return img;\r\n    \r\n            }\r\n         }\r\n\r\n  \r\n\r\n     \r\n    \r\nI&#39;m have the same issue here in the code above.\r\n    \r\ni just get this:\r\n    \r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\r\n    \t    at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1358)\r\n    \t    at Utilities.LoadSave.GetPlayerAtlas(LoadSave.java:19)\r\n    \t    at Entities.Player.loadAnimations(Player.java:102)\r\n    \t    at Entities.Player.&lt;init&gt;(Player.java:29)\r\n    \t    at com.mycompany.platformgame.Game.initClasses(Game.java:32)\r\n    \t    at com.mycompany.platformgame.Game.&lt;init&gt;(Game.java:21)\r\n    \t    at com.mycompany.platformgame.PlatformGame.main(PlatformGame.java:7)\r\n    Command execution failed.","title":"Netbeans cannot find java.io.InputStream","body":"<pre><code>import java.awt.image.BufferedImage;\n    import java.io.IOException;\n    import java.io.InputStream;\n    import javax.imageio.ImageIO;\n\n    /**\n     *\n     * @author mbarb\n     */\n    public class LoadSave {\n    \n        public static BufferedImage GetPlayerAtlas(){\n            BufferedImage img = null;\n            InputStream is = \n    LoadSave.class.getResourceAsStream(&quot;Res/player2.png&quot;);\n        try {\n            img = ImageIO.read(is);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }//try catch .close() \n        return img;\n\n        }\n     }\n\n\n\n \n</code></pre>\n<p>I'm have the same issue here in the code above.</p>\n<p>i just get this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: input == null!\n        at java.desktop/javax.imageio.ImageIO.read(ImageIO.java:1358)\n        at Utilities.LoadSave.GetPlayerAtlas(LoadSave.java:19)\n        at Entities.Player.loadAnimations(Player.java:102)\n        at Entities.Player.&lt;init&gt;(Player.java:29)\n        at com.mycompany.platformgame.Game.initClasses(Game.java:32)\n        at com.mycompany.platformgame.Game.&lt;init&gt;(Game.java:21)\n        at com.mycompany.platformgame.PlatformGame.main(PlatformGame.java:7)\nCommand execution failed.\n</code></pre>\n"}],"owner":{"account_id":1064256,"reputation":882,"user_id":1065207,"accept_rate":84,"display_name":"Pantaziu Cristian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15291121,"answer_count":3,"score":0,"last_activity_date":1675256865,"creation_date":1362736251,"question_id":15291079,"body_markdown":"Actually, he cannot find java.io.\r\n\r\nIt recognizes `import java.io.*;\r\nimport java.io.IOException;`\r\n\r\nbut when I try `InputStream = this.getClass().getResourceAsStream(&quot;users.xml&quot;);`, i get the following error: \r\n\r\n&gt; C:\\Users\\cpantaziu\\Documents\\NetBeansProjects\\url\\src\\main\\java\\com\\mkyong\\common\\controller\\FailRegisterController.java:[120,12] cannot find symbol\r\nsymbol  : variable InputStream.\r\n\r\nTools -&gt; Java Platforms ses my jdk 1.6.\r\n\r\nWhy am I getting this?\r\n","title":"Netbeans cannot find java.io.InputStream","body":"<p>Actually, he cannot find java.io.</p>\n\n<p>It recognizes <code>import java.io.*;\nimport java.io.IOException;</code></p>\n\n<p>but when I try <code>InputStream = this.getClass().getResourceAsStream(\"users.xml\");</code>, i get the following error: </p>\n\n<blockquote>\n  <p>C:\\Users\\cpantaziu\\Documents\\NetBeansProjects\\url\\src\\main\\java\\com\\mkyong\\common\\controller\\FailRegisterController.java:[120,12] cannot find symbol\n  symbol  : variable InputStream.</p>\n</blockquote>\n\n<p>Tools -> Java Platforms ses my jdk 1.6.</p>\n\n<p>Why am I getting this?</p>\n"},{"tags":["java","css","spring","spring-mvc","spring-security"],"comments":[{"owner":{"account_id":124904,"reputation":1492,"user_id":320322,"accept_rate":46,"display_name":"Jonathan Lebrun"},"score":0,"creation_date":1392812628,"post_id":21879824,"comment_id":33129433,"body_markdown":"May be that&#39;s help you :\nhttp://stackoverflow.com/questions/16476004/unable-to-allow-static-resources-in-spring-security-3","body":"May be that&#39;s help you : <a href=\"http://stackoverflow.com/questions/16476004/unable-to-allow-static-resources-in-spring-security-3\" title=\"unable to allow static resources in spring security 3\">stackoverflow.com/questions/16476004/&hellip;</a>"},{"owner":{"account_id":3935201,"reputation":17,"user_id":3251824,"display_name":"user3251824"},"score":0,"creation_date":1392813312,"post_id":21879824,"comment_id":33129877,"body_markdown":"i tried this one ..but did not get ..the access of static resource..sorry","body":"i tried this one ..but did not get ..the access of static resource..sorry"}],"answers":[{"comments":[{"owner":{"account_id":3935201,"reputation":17,"user_id":3251824,"display_name":"user3251824"},"score":0,"creation_date":1392889551,"post_id":21889571,"comment_id":33171811,"body_markdown":"thanks..but when i am using this and getting resource not found.....with....this error..nested exception is org.xml.sax.SAXParseException: cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:resources&#39;.","body":"thanks..but when i am using this and getting resource not found.....with....this error..nested exception is org.xml.sax.SAXParseException: cvc-complex-type.2.4.c: The matching wildcard is strict, but no declaration can be found for element &#39;mvc:resources&#39;."},{"owner":{"account_id":1601535,"reputation":1,"user_id":1482474,"display_name":"an9l"},"score":0,"creation_date":1392974378,"post_id":21889571,"comment_id":33217999,"body_markdown":"Did you include dependency (i hope you are using Maven) for &#39;spring-webmvc&#39; ?","body":"Did you include dependency (i hope you are using Maven) for &#39;spring-webmvc&#39; ?"},{"owner":{"account_id":3935201,"reputation":17,"user_id":3251824,"display_name":"user3251824"},"score":0,"creation_date":1392975076,"post_id":21889571,"comment_id":33218477,"body_markdown":"nope..i am not using dependency(maven) for this..:P..is it not possible to access static resource.i do not think so..u have some idea pls reply...","body":"nope..i am not using dependency(maven) for this..:P..is it not possible to access static resource.i do not think so..u have some idea pls reply..."},{"owner":{"account_id":1601535,"reputation":1,"user_id":1482474,"display_name":"an9l"},"score":0,"creation_date":1392986782,"post_id":21889571,"comment_id":33226467,"body_markdown":"I hope, you should download and then add &#39;spring-webmvc.jar&#39; package to your project&#39;s build path.","body":"I hope, you should download and then add &#39;spring-webmvc.jar&#39; package to your project&#39;s build path."}],"tags":[],"owner":{"account_id":1601535,"reputation":1,"user_id":1482474,"display_name":"an9l"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392835939,"creation_date":1392835568,"answer_id":21889571,"question_id":21879824,"body_markdown":"In dispatcher-servlet, add resources using `&lt;mvc:resources&gt;`, e.g.:&lt;br&gt;\r\n`&lt;mvc:resources mapping=&quot;/css/**&quot; location=&quot;/css/&quot;&gt;` &lt;br&gt;&lt;br&gt;\r\nAnd also don&#39;t forget to add these lines in top `&lt;bean: ...&gt;` :&lt;br&gt;\r\nxmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;&lt;br&gt;\r\n...&lt;br&gt;\r\nhttp://www.springframework.org/schema/mvc&lt;br&gt;\r\nhttp://www.springframework.org/schema/mvc/spring-mvc.xsd","title":"my spring security code is not using the static resources like css,js and images folder","body":"<p>In dispatcher-servlet, add resources using <code>&lt;mvc:resources&gt;</code>, e.g.:<br>\n<code>&lt;mvc:resources mapping=\"/css/**\" location=\"/css/\"&gt;</code> <br><br>\nAnd also don't forget to add these lines in top <code>&lt;bean: ...&gt;</code> :<br>\nxmlns:mvc=\"http://www.springframework.org/schema/mvc\"<br>\n...<br>\n<a href=\"http://www.springframework.org/schema/mvc\" rel=\"nofollow\">http://www.springframework.org/schema/mvc</a><br>\n<a href=\"http://www.springframework.org/schema/mvc/spring-mvc.xsd\" rel=\"nofollow\">http://www.springframework.org/schema/mvc/spring-mvc.xsd</a></p>\n"},{"tags":[],"owner":{"account_id":1327847,"reputation":5665,"user_id":1272318,"accept_rate":48,"display_name":"Touchstone"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392975333,"creation_date":1392975333,"answer_id":21930444,"question_id":21879824,"body_markdown":"Refer this [How to use static resources like js, css?][1]\r\n\r\n\r\n  [1]: http://www.mkyong.com/spring-mvc/spring-mvc-how-to-include-js-or-css-files-in-a-jsp-page/","title":"my spring security code is not using the static resources like css,js and images folder","body":"<p>Refer this <a href=\"http://www.mkyong.com/spring-mvc/spring-mvc-how-to-include-js-or-css-files-in-a-jsp-page/\" rel=\"nofollow\">How to use static resources like js, css?</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1675410824,"post_id":75310495,"comment_id":132927030,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75310495/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27675711,"reputation":1,"user_id":21125575,"display_name":"Семён Жуков"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675256288,"creation_date":1675256102,"answer_id":75310495,"question_id":21879824,"body_markdown":"    Откройте доступ к папкам всех статических ресурсов в моём случае это &quot;/assets/**&quot;, &quot;/fragments/**&quot;, &quot;/node_modules/**&quot;, &quot;/stylus/**&quot;\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .antMatchers(&quot;/signin&quot;, &quot;/assets/**&quot;, &quot;/fragments/**&quot;, &quot;/node_modules/**&quot;, &quot;/stylus/**&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/signin&quot;).defaultSuccessUrl(&quot;/&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n        return http.build();\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fm0l1.jpg","title":"my spring security code is not using the static resources like css,js and images folder","body":"<pre><code>Откройте доступ к папкам всех статических ресурсов в моём случае это &quot;/assets/**&quot;, &quot;/fragments/**&quot;, &quot;/node_modules/**&quot;, &quot;/stylus/**&quot;\n@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n            .authorizeHttpRequests((requests) -&gt; requests\n                    .antMatchers(&quot;/signin&quot;, &quot;/assets/**&quot;, &quot;/fragments/**&quot;, &quot;/node_modules/**&quot;, &quot;/stylus/**&quot;).permitAll()\n                    .anyRequest().authenticated()\n            )\n            .formLogin((form) -&gt; form\n                    .loginPage(&quot;/signin&quot;).defaultSuccessUrl(&quot;/&quot;)\n                    .permitAll()\n            )\n            .logout((logout) -&gt; logout.permitAll());\n    return http.build();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/Fm0l1.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}],"owner":{"account_id":3935201,"reputation":17,"user_id":3251824,"display_name":"user3251824"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1675256288,"creation_date":1392811152,"question_id":21879824,"body_markdown":"I am trying to access static resource in jsp that i am using in spring security...but it is not accessing those static resources need your ..valuable suggestions ..i am new in springs security ....\r\n\r\nmy dispacher-servlet is...\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;\r\n    http://www.springframework.org/schema/beans\r\n    http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    http://www.springframework.org/schema/context\r\n    http://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    http://www.springframework.org/schema/tx\r\n    http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n    http://www.springframework.org/schema/mvc\r\n         http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n\t&lt;context:property-placeholder location=&quot;classpath:resources/database.properties&quot; /&gt;\r\n\t&lt;context:component-scan base-package=&quot;com.nufame&quot; /&gt;\r\n\r\n\t&lt;tx:annotation-driven transaction-manager=&quot;hibernateTransactionManager&quot; /&gt;\r\n\r\n\t&lt;bean id=&quot;jspViewResolver&quot;\r\n\t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t\t&lt;property name=&quot;viewClass&quot;\r\n\t\t\tvalue=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n\t\t&lt;property name=&quot;prefix&quot; value=&quot;WEB-INF/views/&quot; /&gt;\r\n\t\t&lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n\r\n\t&lt;bean id=&quot;dataSource&quot;\r\n\t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${database.driver}&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;${database.user}&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;${database.password}&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;bean id=&quot;sessionFactory&quot;\r\n\t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n\t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n\t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;${hibernate.hbm2ddl.auto}    \r\n    &lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\t\r\n  \r\n\r\nmy security.xml is..\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;   xmlns:security=&quot;http://www.springframework.org/schema/security&quot;\r\n\txmlns:p=&quot;http://www.springframework.org/schema/p&quot; xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                           http://www.springframework.org/schema/beans/spring-beans.xsd\r\n                           http://www.springframework.org/schema/security\r\n                           http://www.springframework.org/schema/security/spring-security-3.1.xsd\r\n                           http://www.springframework.org/schema/mvc\r\n         http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\r\n         http://www.springframework.org/schema/mvc\r\n            http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd&quot;&gt;\r\n\t &lt;!-- Non secure URLs --&gt;\r\n\t&lt;security:http auto-config=&quot;true&quot;&gt;\r\n\t\t&lt;security:intercept-url pattern=&quot;/index*&quot; access=&quot;ROLE_USER&quot; /&gt;\r\n\t\t&lt;security:form-login login-page=&quot;/login&quot; default-target-url=&quot;/index&quot; \r\n\t\tauthentication-failure-url=&quot;/fail2login&quot; /&gt;\r\n\t\t&lt;security:logout invalidate-session=&quot;true&quot;\r\n\t\t\tlogout-success-url=&quot;/logout&quot; /&gt;\r\n\r\n\r\n\t\t&lt;security:access-denied-handler\r\n\t\t\terror-page=&quot;/403&quot; /&gt;\r\n\t&lt;/security:http&gt;\r\n\t&lt;security:http pattern=&quot;/css/**&quot; security=&quot;none&quot; /&gt;\r\n\t\r\n\r\n\t&lt;security:authentication-manager&gt;\r\n\t\t&lt;security:authentication-provider&gt;\r\n\r\n\t\t\t&lt;!-- &lt;security:user-service&gt; &lt;security:user name=&quot;dineshonjava&quot; password=&quot;sweety&quot; \r\n\t\t\t\tauthorities=&quot;ROLE_USER&quot; /&gt; &lt;/security:user-service&gt; --&gt;\r\n\t\t\t&lt;security:jdbc-user-service\r\n\t\t\t\tdata-source-ref=&quot;dataSource&quot;\r\n\t\t\t\tusers-by-username-query=&quot;select username, password, active from users where username=?&quot;\r\n\t\t\t\tauthorities-by-username-query=&quot;select us.username, ur.authority from users us, user_roles ur \r\n\t\t      where us.user_id = ur.user_id and us.username =?  &quot; /&gt;\r\n\t\t&lt;/security:authentication-provider&gt;\r\n\t&lt;/security:authentication-manager&gt;\r\n\r\n    &lt;/beans&gt;\r\n\r\n\r\nmy web.xml is...\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;     xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; version=&quot;2.5&quot;&gt;\r\n     &lt;servlet&gt;\r\n    &lt;servlet-name&gt;sdnext&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;sdnext&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;listener&gt;\r\n    &lt;listener-class&gt;\r\n                  org.springframework.web.context.ContextLoaderListener\r\n        &lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    &lt;param-value&gt;\r\n\t\t\t/WEB-INF/sdnext-*.xml,\r\n\t\t&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;welcome-file-list&gt;\r\n    &lt;welcome-file&gt;index&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n  \r\n     &lt;filter&gt;\r\n     &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n     &lt;filter-class&gt;\r\n                  org.springframework.web.filter.DelegatingFilterProxy\r\n                &lt;/filter-class&gt;\r\n     &lt;/filter&gt;\r\n     &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n     &lt;/filter-mapping&gt;\r\n    &lt;welcome-file-list&gt;\r\n      &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\nplease help i AM new in spring security ..\r\n\r\nthanks in advance....","title":"my spring security code is not using the static resources like css,js and images folder","body":"<p>I am trying to access static resource in jsp that i am using in spring security...but it is not accessing those static resources need your ..valuable suggestions ..i am new in springs security ....</p>\n\n<p>my dispacher-servlet is...</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:context=\"http://www.springframework.org/schema/context\"\nxmlns:tx=\"http://www.springframework.org/schema/tx\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"\nhttp://www.springframework.org/schema/beans\nhttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\nhttp://www.springframework.org/schema/context\nhttp://www.springframework.org/schema/context/spring-context-3.0.xsd\nhttp://www.springframework.org/schema/tx\nhttp://www.springframework.org/schema/tx/spring-tx-3.0.xsd\nhttp://www.springframework.org/schema/mvc\n     http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n&lt;context:property-placeholder location=\"classpath:resources/database.properties\" /&gt;\n&lt;context:component-scan base-package=\"com.nufame\" /&gt;\n\n&lt;tx:annotation-driven transaction-manager=\"hibernateTransactionManager\" /&gt;\n\n&lt;bean id=\"jspViewResolver\"\n    class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n    &lt;property name=\"viewClass\"\n        value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n    &lt;property name=\"prefix\" value=\"WEB-INF/views/\" /&gt;\n    &lt;property name=\"suffix\" value=\".jsp\" /&gt;\n&lt;/bean&gt;\n\n\n&lt;bean id=\"dataSource\"\n    class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n    &lt;property name=\"driverClassName\" value=\"${database.driver}\" /&gt;\n    &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n    &lt;property name=\"username\" value=\"${database.user}\" /&gt;\n    &lt;property name=\"password\" value=\"${database.password}\" /&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"sessionFactory\"\n    class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;${hibernate.hbm2ddl.auto}    \n&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>my security.xml is..</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"   xmlns:security=\"http://www.springframework.org/schema/security\"\nxmlns:p=\"http://www.springframework.org/schema/p\" xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\nxsi:schemaLocation=\"http://www.springframework.org/schema/beans\n                       http://www.springframework.org/schema/beans/spring-beans.xsd\n                       http://www.springframework.org/schema/security\n                       http://www.springframework.org/schema/security/spring-security-3.1.xsd\n                       http://www.springframework.org/schema/mvc\n     http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n     http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc-3.1.xsd\"&gt;\n &lt;!-- Non secure URLs --&gt;\n&lt;security:http auto-config=\"true\"&gt;\n    &lt;security:intercept-url pattern=\"/index*\" access=\"ROLE_USER\" /&gt;\n    &lt;security:form-login login-page=\"/login\" default-target-url=\"/index\" \n    authentication-failure-url=\"/fail2login\" /&gt;\n    &lt;security:logout invalidate-session=\"true\"\n        logout-success-url=\"/logout\" /&gt;\n\n\n    &lt;security:access-denied-handler\n        error-page=\"/403\" /&gt;\n&lt;/security:http&gt;\n&lt;security:http pattern=\"/css/**\" security=\"none\" /&gt;\n\n\n&lt;security:authentication-manager&gt;\n    &lt;security:authentication-provider&gt;\n\n        &lt;!-- &lt;security:user-service&gt; &lt;security:user name=\"dineshonjava\" password=\"sweety\" \n            authorities=\"ROLE_USER\" /&gt; &lt;/security:user-service&gt; --&gt;\n        &lt;security:jdbc-user-service\n            data-source-ref=\"dataSource\"\n            users-by-username-query=\"select username, password, active from users where username=?\"\n            authorities-by-username-query=\"select us.username, ur.authority from users us, user_roles ur \n          where us.user_id = ur.user_id and us.username =?  \" /&gt;\n    &lt;/security:authentication-provider&gt;\n&lt;/security:authentication-manager&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>my web.xml is...</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"     xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" version=\"2.5\"&gt;\n &lt;servlet&gt;\n&lt;servlet-name&gt;sdnext&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;sdnext&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;listener&gt;\n&lt;listener-class&gt;\n              org.springframework.web.context.ContextLoaderListener\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;context-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;\n        /WEB-INF/sdnext-*.xml,\n    &lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;welcome-file-list&gt;\n&lt;welcome-file&gt;index&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n\n &lt;filter&gt;\n &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n &lt;filter-class&gt;\n              org.springframework.web.filter.DelegatingFilterProxy\n            &lt;/filter-class&gt;\n &lt;/filter&gt;\n &lt;filter-mapping&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n&lt;welcome-file-list&gt;\n  &lt;welcome-file&gt;login.jsp&lt;/welcome-file&gt;\n&lt;/welcome-file-list&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>please help i AM new in spring security ..</p>\n\n<p>thanks in advance....</p>\n"},{"tags":["java","modelmapper"],"comments":[{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1675250605,"post_id":75309051,"comment_id":132886890,"body_markdown":"you need to configure AutoMapping in your mapper configuration. With AutoMapping, the mapper will attempt to map all known types automatically,","body":"you need to configure AutoMapping in your mapper configuration. With AutoMapping, the mapper will attempt to map all known types automatically,"},{"owner":{"account_id":1149353,"reputation":4547,"user_id":1131384,"accept_rate":65,"display_name":"Chillax"},"score":0,"creation_date":1675250796,"post_id":75309051,"comment_id":132886935,"body_markdown":"@RaushanKumar Can you please point me to any doc\\reference where I can check what this automapping is for a model mapper? I am unable to find anything","body":"@RaushanKumar Can you please point me to any doc\\reference where I can check what this automapping is for a model mapper? I am unable to find anything"}],"owner":{"account_id":1149353,"reputation":4547,"user_id":1131384,"accept_rate":65,"display_name":"Chillax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675256158,"creation_date":1675248454,"question_id":75309051,"body_markdown":"I am trying to use model mapper to map to an interface, and I am able to do it if I add this type map and converter to the mapper:\r\n\r\n    mapper.createTypeMap( ConcreteADomain.class, InterfaceApi.class )\r\n    \t\t\t\t.setConverter( mappingContext -&gt; mapper.map( mappingContext.getSource(), ConcreteAApi.class ) );\r\n\t\t\t\t\r\nI hope the names are self-explanatory on what type of beans they are. With this, I need to do this for every new implementation.\r\n\r\n\r\nIf I do not add the mapping, I get an error:\r\n\r\n    Caused by: java.lang.NoSuchMethodException\r\n\r\n\r\nHow do I let the mapper take care of mapping between the implementation and the interfaces? Is this even possible?\r\n","title":"How to map to interfaces using Model mapper?","body":"<p>I am trying to use model mapper to map to an interface, and I am able to do it if I add this type map and converter to the mapper:</p>\n<pre><code>mapper.createTypeMap( ConcreteADomain.class, InterfaceApi.class )\n                .setConverter( mappingContext -&gt; mapper.map( mappingContext.getSource(), ConcreteAApi.class ) );\n            \n</code></pre>\n<p>I hope the names are self-explanatory on what type of beans they are. With this, I need to do this for every new implementation.</p>\n<p>If I do not add the mapping, I get an error:</p>\n<pre><code>Caused by: java.lang.NoSuchMethodException\n</code></pre>\n<p>How do I let the mapper take care of mapping between the implementation and the interfaces? Is this even possible?</p>\n"},{"tags":["java","spring-boot","configuration"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675256130,"creation_date":1675229915,"answer_id":75306065,"question_id":75305972,"body_markdown":"Maven by default will package all files in the `src/test/resources/` folder to the classpath. So to refer it by the classpath , it should be :  \r\n\r\n``` java\r\n@TestPropertySource(locations = &quot;classpath:test.properties&quot;) \r\n```\r\n\r\nAlternatively, if you want to refer it by the system file path , you can change it to :\r\n\r\n```\r\n@TestPropertySource(locations = &quot;file:src/test/resources/test.properties&quot;) \r\n```\r\n\r\nUnder the cover , its uses `ResourceLoader` to load the file. See [this][1] for more details.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#resources-resourceloader","title":"Spring Boot `TestPropertySource` not Working","body":"<p>Maven by default will package all files in the <code>src/test/resources/</code> folder to the classpath. So to refer it by the classpath , it should be :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@TestPropertySource(locations = &quot;classpath:test.properties&quot;) \n</code></pre>\n<p>Alternatively, if you want to refer it by the system file path , you can change it to :</p>\n<pre><code>@TestPropertySource(locations = &quot;file:src/test/resources/test.properties&quot;) \n</code></pre>\n<p>Under the cover , its uses <code>ResourceLoader</code> to load the file. See <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#resources-resourceloader\" rel=\"nofollow noreferrer\">this</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":20993600,"reputation":232,"user_id":15425970,"display_name":"Prachi Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675249544,"creation_date":1675231557,"answer_id":75306231,"question_id":75305972,"body_markdown":"In pom.xml add a **profiles tag** which specifies which properties file should the program choose when it runs.\r\n\r\n     &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;test&lt;/id&gt;\r\n            &lt;properties&gt;\r\n                &lt;activatedProperties&gt;test&lt;/activatedProperties&gt;\r\n            &lt;/properties&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nNote: name of your properties file must be **application-test.properties**.\r\n\r\nThis will make your test properties active but to access it you need to configure your test resource folder and let the intellij know &#39;use this when running.\r\n\r\nIn Intellij, you can change your resource folder with which you run your project, so you need to....\r\n\r\n1. Select test resource folder.\r\n2. Right click on it. In the opened menu, select **Modify Run Configuration** and create a new configuration.\r\n\r\nThis means a new **Run Configuration** is created for running test resource folder.\r\n\r\n3. Run the configuration.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot `TestPropertySource` not Working","body":"<p>In pom.xml add a <strong>profiles tag</strong> which specifies which properties file should the program choose when it runs.</p>\n<pre><code> &lt;profiles&gt;\n    &lt;profile&gt;\n        &lt;id&gt;test&lt;/id&gt;\n        &lt;properties&gt;\n            &lt;activatedProperties&gt;test&lt;/activatedProperties&gt;\n        &lt;/properties&gt;\n        &lt;activation&gt;\n            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n        &lt;/activation&gt;\n    &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>Note: name of your properties file must be <strong>application-test.properties</strong>.</p>\n<p>This will make your test properties active but to access it you need to configure your test resource folder and let the intellij know 'use this when running.</p>\n<p>In Intellij, you can change your resource folder with which you run your project, so you need to....</p>\n<ol>\n<li>Select test resource folder.</li>\n<li>Right click on it. In the opened menu, select <strong>Modify Run Configuration</strong> and create a new configuration.</li>\n</ol>\n<p>This means a new <strong>Run Configuration</strong> is created for running test resource folder.</p>\n<ol start=\"3\">\n<li>Run the configuration.</li>\n</ol>\n"}],"owner":{"account_id":11286781,"reputation":683,"user_id":8277437,"display_name":"Vismark Juarez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1675256130,"creation_date":1675228789,"question_id":75305972,"body_markdown":"I have a simple unit test, and I&#39;d like for the unit tests to load up a test property file that I&#39;ve placed in `src/test/resources/test.properties` instead of the property file in `src/main/resources/application.properties`.  \r\n\r\nMy test class is set up as follows:\r\n\r\n```java\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureMockMvc\r\n@TestPropertySource(locations = &quot;classpath:src/test/resources/properties-test.yml&quot;)\r\npublic class SecurityConfigurationTest {\r\n    @MockBean\r\n    KafkaConfiguration kafkaConfiguration;\r\n\r\n    @MockBean\r\n    KafkaMonitor kafkaMonitor;\r\n\r\n    @MockBean\r\n    BuildProperties buildProperties;\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @Test\r\n    public void unauthorizedUser_shouldNotAccessHomePage() throws Exception{\r\n        mockMvc\r\n                .perform(get(&quot;/&quot;))\r\n                .andExpect(status().isUnauthorized());\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy project file structure is as shown below:\r\n[![enter image description here][1]][1]\r\n\r\nBut I am getting the following error, suggesting I&#39;m not specifying this property file correctly:\r\n\r\n`Caused by: java.io.FileNotFoundException: class path resource [src/test/resources/test.properties] cannot be opened because it does not exist`\r\n\r\nHow do can I manage to get the `test.properties` file to be used instead of the `application.properties` file for my unit tests?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KkY7h.png","title":"Spring Boot `TestPropertySource` not Working","body":"<p>I have a simple unit test, and I'd like for the unit tests to load up a test property file that I've placed in <code>src/test/resources/test.properties</code> instead of the property file in <code>src/main/resources/application.properties</code>.</p>\n<p>My test class is set up as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\n@TestPropertySource(locations = &quot;classpath:src/test/resources/properties-test.yml&quot;)\npublic class SecurityConfigurationTest {\n    @MockBean\n    KafkaConfiguration kafkaConfiguration;\n\n    @MockBean\n    KafkaMonitor kafkaMonitor;\n\n    @MockBean\n    BuildProperties buildProperties;\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @Test\n    public void unauthorizedUser_shouldNotAccessHomePage() throws Exception{\n        mockMvc\n                .perform(get(&quot;/&quot;))\n                .andExpect(status().isUnauthorized());\n    }\n\n}\n</code></pre>\n<p>My project file structure is as shown below:\n<a href=\"https://i.stack.imgur.com/KkY7h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KkY7h.png\" alt=\"enter image description here\" /></a></p>\n<p>But I am getting the following error, suggesting I'm not specifying this property file correctly:</p>\n<p><code>Caused by: java.io.FileNotFoundException: class path resource [src/test/resources/test.properties] cannot be opened because it does not exist</code></p>\n<p>How do can I manage to get the <code>test.properties</code> file to be used instead of the <code>application.properties</code> file for my unit tests?</p>\n"},{"tags":["java","loops","for-loop","infinity"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1675240846,"post_id":75307425,"comment_id":132883721,"body_markdown":"Why is this not the correct test output? The sample output from the formula states that H(3,2) is **approximately** equal to `1.361111`. Your program&#39;s output matches that.","body":"Why is this not the correct test output? The sample output from the formula states that H(3,2) is <b>approximately</b> equal to <code>1.361111</code>. Your program&#39;s output matches that."},{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1675240846,"post_id":75307425,"comment_id":132883722,"body_markdown":"Please copy the formula and your expected output as text directly into your question. I&#39;m not gonna click your links.","body":"Please copy the formula and your expected output as text directly into your question. I&#39;m not gonna click your links."},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675240907,"post_id":75307425,"comment_id":132883738,"body_markdown":"But we don&#39;t know what is &#39;generalized harmonic number&#39;!","body":"But we don&#39;t know what is &#39;generalized harmonic number&#39;!"}],"answers":[{"tags":[],"owner":{"account_id":26973585,"reputation":117,"user_id":20539215,"display_name":"VicenteJankowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675241904,"creation_date":1675241400,"answer_id":75307593,"question_id":75307425,"body_markdown":"You have initliazed ```int i = 0``` in for-loop ```for (i = 0; i &lt;= a; i++)``` and so the first element of your harmonic number isn&#39;t [![\\frac{1}{1^{b}}][1]][1], but [![!\\[\\frac{1}{0^{b}}][2]][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9suxU.gif\r\n  [2]: https://i.stack.imgur.com/zbIcA.gif\r\n\r\nThe code that works:\r\n```java\r\npublic class GeneralizedHarmonic {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int a = Integer.parseInt(args[0]);\r\n        int b = Integer.parseInt(args[1]);\r\n        double sum = 0;\r\n        for (int i = 1; i &lt;= a; i++) {\r\n            sum += 1 / Math.pow(i, b);\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```","title":"For-loop returning wrong results","body":"<p>You have initliazed <code>int i = 0</code> in for-loop <code>for (i = 0; i &lt;= a; i++)</code> and so the first element of your harmonic number isn't <a href=\"https://i.stack.imgur.com/9suxU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9suxU.gif\" alt=\"\\frac{1}{1^{b}}\" /></a>, but <a href=\"https://i.stack.imgur.com/zbIcA.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zbIcA.gif\" alt=\"![\\frac{1}{0^{b}}\" /></a>.</p>\n<p>The code that works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GeneralizedHarmonic {\n\n    public static void main(String[] args) {\n\n        int a = Integer.parseInt(args[0]);\n        int b = Integer.parseInt(args[1]);\n        double sum = 0;\n        for (int i = 1; i &lt;= a; i++) {\n            sum += 1 / Math.pow(i, b);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27673578,"reputation":13,"user_id":21123874,"display_name":"lklk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":154,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75307593,"answer_count":1,"score":0,"last_activity_date":1675256004,"creation_date":1675240443,"question_id":75307425,"body_markdown":"I am getting wrong results resolving below task:\r\n\r\nGeneralized harmonic numbers. Write a program GeneralizedHarmonic.java that takes two integer command-line arguments n and r and uses a for loop to compute the nth generalized harmonic number of order r, which is defined by the following formula:\r\n[formula](https://i.stack.imgur.com/bBk9e.png)\r\n\r\n```\r\n\r\npublic class GeneralizedHarmonic {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        int a = Integer.parseInt(args[0]);\r\n        int b = Integer.parseInt(args[1]);\r\n        int i;\r\n        double sum = 0;\r\n        for (i = 0; i &lt;= a; i++) {\r\n            sum += 1 / Math.pow(i, b);\r\n        }\r\n        System.out.println(sum);\r\n    }\r\n}\r\n```\r\nThis is my code but I could not get the correct test output.The output result is always ```Infinity```.\r\n[test outputs](https://i.stack.imgur.com/J3Qq6.png)","title":"For-loop returning wrong results","body":"<p>I am getting wrong results resolving below task:</p>\n<p>Generalized harmonic numbers. Write a program GeneralizedHarmonic.java that takes two integer command-line arguments n and r and uses a for loop to compute the nth generalized harmonic number of order r, which is defined by the following formula:\n<a href=\"https://i.stack.imgur.com/bBk9e.png\" rel=\"nofollow noreferrer\">formula</a></p>\n<pre><code>\npublic class GeneralizedHarmonic {\n\n    public static void main(String[] args) {\n\n        int a = Integer.parseInt(args[0]);\n        int b = Integer.parseInt(args[1]);\n        int i;\n        double sum = 0;\n        for (i = 0; i &lt;= a; i++) {\n            sum += 1 / Math.pow(i, b);\n        }\n        System.out.println(sum);\n    }\n}\n</code></pre>\n<p>This is my code but I could not get the correct test output.The output result is always <code>Infinity</code>.\n<a href=\"https://i.stack.imgur.com/J3Qq6.png\" rel=\"nofollow noreferrer\">test outputs</a></p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":10046863,"reputation":581,"user_id":7790545,"accept_rate":100,"display_name":"John Katsantas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675255708,"creation_date":1675255400,"question_id":75310369,"body_markdown":"Say I have a column `books` in table `authors` that contains a list of book ids and some description in jsonb type. \r\nI&#39;ve managed to deserialize this and place it in an `Author` instance by defining the following classes:\r\n```\r\n@Entity\r\n@Table(name = &quot;authors&quot;)\r\n@Data\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\npublic class Author {\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Type(type = &quot;jsonb&quot;)\r\n    @Column(name = &quot;books&quot;, columnDefinition = &quot;jsonb&quot;)\r\n    private List&lt;TestObject&gt; testObjectList;\r\n}\r\n\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class TestObject {\r\n\r\n    @JsonProperty(&quot;book_id&quot;)\r\n    private Long id;\r\n\r\n    @JsonProperty(&quot;book_description&quot;)\r\n    private String bookDescription;\r\n}\r\n```\r\n\r\nHowever, instead of the `Long id` field, I&#39;d like to fetch the whole `Book` entity inside `TestBook` class. How can I achieve this? This would be easier if the `book_id` field was inside the `Author` class, but here it is nested.\r\n  \r\n \r\n","title":"Map id contained in a json to the entity field of a class","body":"<p>Say I have a column <code>books</code> in table <code>authors</code> that contains a list of book ids and some description in jsonb type.\nI've managed to deserialize this and place it in an <code>Author</code> instance by defining the following classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;authors&quot;)\n@Data\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\npublic class Author {\n    @Id\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Type(type = &quot;jsonb&quot;)\n    @Column(name = &quot;books&quot;, columnDefinition = &quot;jsonb&quot;)\n    private List&lt;TestObject&gt; testObjectList;\n}\n\n@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TestObject {\n\n    @JsonProperty(&quot;book_id&quot;)\n    private Long id;\n\n    @JsonProperty(&quot;book_description&quot;)\n    private String bookDescription;\n}\n</code></pre>\n<p>However, instead of the <code>Long id</code> field, I'd like to fetch the whole <code>Book</code> entity inside <code>TestBook</code> class. How can I achieve this? This would be easier if the <code>book_id</code> field was inside the <code>Author</code> class, but here it is nested.</p>\n"},{"tags":["java","spring-boot","spring-annotations"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675247433,"post_id":75308687,"comment_id":132885869,"body_markdown":"I think English doesn&#39;t fully express your question.","body":"I think English doesn&#39;t fully express your question."},{"owner":{"account_id":17383208,"reputation":11,"user_id":12595039,"display_name":"lehaifeng000"},"score":0,"creation_date":1675247771,"post_id":75308687,"comment_id":132885978,"body_markdown":"我想用@NotNull来检查参数是否为null，当检查到null的时候会匹配到@RestControllerAdvice自定义处理类的一个处理方法。\n但是因为要改参数的名字keywords-&gt; keyWords，所以用了@RequestParam(&quot;keywords&quot;)注解，这时候参数为null的时候不会触发@NotNull的检查，而是触发了@RequestParam的require=true，没法到我写的处理方法，直接返回400给前端了。\n写成@RequestParam(&quot;keywords&quot;,required = false) @NotNull可以达到我需要的效果，但是这样写感觉很怪，想知道有没有更好的解决办法","body":"我想用@NotNull来检查参数是否为null，当检查到null的时候会匹配到@RestControllerAdvice&zwnj;&#8203;自定义处理类的一个处理方法。 但是因为要改参数的名字keywords-&gt; keyWords，所以用了@RequestParam(&quot;keywords&quot;)注解，这时候参数为null的时候不会触发@N&zwnj;&#8203;otNull的检查，而是触发了@Requ&zwnj;&#8203;estParam的require=tru&zwnj;&#8203;e，没法到我写的处理方法，直接返回400&zwnj;&#8203;给前端了。 写成@RequestParam(&quot;keywords&quot;,required = false) @NotNull可以达到我需要的效果，但是这样写感觉很怪，想知道有没有更好的解决办法"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675248513,"post_id":75308687,"comment_id":132886218,"body_markdown":"Does this answer your question? [Convert @RequestParam to lower-case](https://stackoverflow.com/questions/61611568/convert-requestparam-to-lower-case)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61611568/convert-requestparam-to-lower-case\">Convert @RequestParam to lower-case</a>"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675248611,"post_id":75308687,"comment_id":132886249,"body_markdown":"and here https://stackoverflow.com/questions/8922371/requestparam-value-in-spring-mvc-to-be-case-insensitive","body":"and here <a href=\"https://stackoverflow.com/questions/8922371/requestparam-value-in-spring-mvc-to-be-case-insensitive\" title=\"requestparam value in spring mvc to be case insensitive\">stackoverflow.com/questions/8922371/&hellip;</a>"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675248745,"post_id":75308687,"comment_id":132886302,"body_markdown":"In fact, the best way is to use lowercase letters directly","body":"In fact, the best way is to use lowercase letters directly"},{"owner":{"account_id":17383208,"reputation":11,"user_id":12595039,"display_name":"lehaifeng000"},"score":0,"creation_date":1675249039,"post_id":75308687,"comment_id":132886388,"body_markdown":"对我好像都不适用，实际上前端传给我的是template_id这样的下划线形式，但是java里用下划线形式的变量不合适，所以希望能改名","body":"对我好像都不适用，实际上前端传给我的是template_id这样的下划线形式，但是java里用下划线形式的变量不合适，所&zwnj;&#8203;以希望能改名"}],"owner":{"account_id":17383208,"reputation":11,"user_id":12595039,"display_name":"lehaifeng000"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675255431,"creation_date":1675246810,"question_id":75308687,"body_markdown":"my code is like this\r\n\r\n```java\r\n@PostMapping(&quot;/search/get_search_tips&quot;)\r\npublic String get_search_tips( @RequestParam(&quot;keywords&quot;) @NotNull String keyWords) {\r\n    return templateService.getSearchTips(keyWords).toJSONString();\r\n}\r\n```\r\n\r\nThen when I miss the param keywords, it would return\r\n\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-02-01T10:09:16.283+00:00&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;,\r\n    &quot;path&quot;: &quot;/template/search/get_search_tips&quot;\r\n}\r\n```\r\n\r\nI have written a handle to match @NotNull, when the code is\r\n\r\n```java\r\n@PostMapping(&quot;/search/get_search_tips&quot;)\r\npublic String get_search_tips( @RequestParam(&quot;keywords&quot;,required = false) @NotNull String keyWords) {\r\n    return templateService.getSearchTips(keyWords).toJSONString();\r\n}\r\n```\r\n\r\nThen when I miss the param keywords, it would return\r\n\r\n```json\r\n{\r\n    &quot;code&quot;: 1080,\r\n    &quot;msg&quot;: &quot;error param&quot;,\r\n    &quot;result&quot;: [\r\n        {\r\n            &quot;key&quot;: &quot;keyWords&quot;,\r\n            &quot;msg&quot;: &quot;不能为null&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI need the rename param like `keywords` match to `keyWords` and want to get the second result, but I didn&#39;t want to write the code like\r\n\r\n```java\r\n@RequestParam(&quot;keywords&quot;,required = false) @NotNull\r\n```\r\n\r\nWhat should I do?","title":"Spring Boot @RequestParam and @NotNull order","body":"<p>my code is like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/search/get_search_tips&quot;)\npublic String get_search_tips( @RequestParam(&quot;keywords&quot;) @NotNull String keyWords) {\n    return templateService.getSearchTips(keyWords).toJSONString();\n}\n</code></pre>\n<p>Then when I miss the param keywords, it would return</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2023-02-01T10:09:16.283+00:00&quot;,\n    &quot;status&quot;: 400,\n    &quot;error&quot;: &quot;Bad Request&quot;,\n    &quot;path&quot;: &quot;/template/search/get_search_tips&quot;\n}\n</code></pre>\n<p>I have written a handle to match @NotNull, when the code is</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/search/get_search_tips&quot;)\npublic String get_search_tips( @RequestParam(&quot;keywords&quot;,required = false) @NotNull String keyWords) {\n    return templateService.getSearchTips(keyWords).toJSONString();\n}\n</code></pre>\n<p>Then when I miss the param keywords, it would return</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;code&quot;: 1080,\n    &quot;msg&quot;: &quot;error param&quot;,\n    &quot;result&quot;: [\n        {\n            &quot;key&quot;: &quot;keyWords&quot;,\n            &quot;msg&quot;: &quot;不能为null&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I need the rename param like <code>keywords</code> match to <code>keyWords</code> and want to get the second result, but I didn't want to write the code like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestParam(&quot;keywords&quot;,required = false) @NotNull\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1675255883,"post_id":75310303,"comment_id":132888426,"body_markdown":"This can be answered without posting a question by 1. running the code with the most basic set of examples 2. reading the documentation `atLeastOnce` (what could *that* mean / do??)  3. just reading the english words, there are few methods with more precise names.","body":"This can be answered without posting a question by 1. running the code with the most basic set of examples 2. reading the documentation <code>atLeastOnce</code> (what could <i>that</i> mean / do??)  3. just reading the english words, there are few methods with more precise names."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675255286,"creation_date":1675255286,"answer_id":75310343,"question_id":75310303,"body_markdown":"It&#39;s the difference between `==` and `&lt;=`:\r\n\r\n* `times(1)` must happen exactly one time.\r\n* `atMost(1)` can happen zero or one time.","title":"difference between times(1) and atMostOnce() in mockito","body":"<p>It's the difference between <code>==</code> and <code>&lt;=</code>:</p>\n<ul>\n<li><code>times(1)</code> must happen exactly one time.</li>\n<li><code>atMost(1)</code> can happen zero or one time.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":8728469,"reputation":784,"user_id":6529383,"display_name":"river"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675255328,"creation_date":1675255328,"answer_id":75310351,"question_id":75310303,"body_markdown":"From what I recall, it should be as follows:\r\n\r\n- `times(1)` -&gt; will assert that your code called mocked method exactly once\r\n- `atMost(1)` -&gt; asserts that your code hasn&#39;t called method more than one - note that even if you don&#39;t call method (0), the assertion should pass.","title":"difference between times(1) and atMostOnce() in mockito","body":"<p>From what I recall, it should be as follows:</p>\n<ul>\n<li><code>times(1)</code> -&gt; will assert that your code called mocked method exactly once</li>\n<li><code>atMost(1)</code> -&gt; asserts that your code hasn't called method more than one - note that even if you don't call method (0), the assertion should pass.</li>\n</ul>\n"}],"owner":{"account_id":27509855,"reputation":1,"user_id":20991976,"display_name":"Krutik Gadhiya"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1675256776,"answer_count":2,"score":-4,"last_activity_date":1675255328,"creation_date":1675255086,"question_id":75310303,"body_markdown":"what is the difference between `times(1)` and `atMostOnce()` in Mockito verify method?\r\nas both will result in same behavior so what is the difference between them?\r\nis their any difference in their internal working?\r\n\r\n`verify(calculatorService, times(1)).add(10.0, 20.0);`&lt;br/&gt;\r\n`verify(calculatorService, atMost(1)).add(10.0, 20.0);`","title":"difference between times(1) and atMostOnce() in mockito","body":"<p>what is the difference between <code>times(1)</code> and <code>atMostOnce()</code> in Mockito verify method?\nas both will result in same behavior so what is the difference between them?\nis their any difference in their internal working?</p>\n<p><code>verify(calculatorService, times(1)).add(10.0, 20.0);</code><br/>\n<code>verify(calculatorService, atMost(1)).add(10.0, 20.0);</code></p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":11818,"reputation":57413,"user_id":22982,"accept_rate":100,"display_name":"Brian Clozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675255317,"creation_date":1675255317,"answer_id":75310349,"question_id":75306593,"body_markdown":"This is due to missing metadata for the Jakarta Servlet API; the native image is trying to load a resource bundle that was not included in the native image at build time.\r\n\r\nI&#39;ve submitted [a PR to fix that in the GraalVM metadata repository][1].\r\n\r\nIn the meantime, you can add the following content to a new file `src/main/resources/META-INF/native-image/jakarta.servlet/jakarta.servlet-api/resource-config.json` in your project:\r\n\r\n\r\n```json\r\n{\r\n  &quot;bundles&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;jakarta.servlet.LocalStrings&quot;,\r\n      &quot;locales&quot;: [\r\n        &quot;und&quot;\r\n      ],\r\n      &quot;condition&quot;: {\r\n        &quot;typeReachable&quot;: &quot;jakarta.servlet.GenericServlet&quot;\r\n      }\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;jakarta.servlet.http.LocalStrings&quot;,\r\n      &quot;locales&quot;: [\r\n        &quot;und&quot;\r\n      ],\r\n      &quot;condition&quot;: {\r\n        &quot;typeReachable&quot;: &quot;jakarta.servlet.http.HttpServlet&quot;\r\n      }\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/oracle/graalvm-reachability-metadata/pull/213","title":"Run gradle bootBuildImage Error:Can&#39;t find bundle for base name jakarta.servlet.LocalStrings, locale en_US","body":"<p>This is due to missing metadata for the Jakarta Servlet API; the native image is trying to load a resource bundle that was not included in the native image at build time.</p>\n<p>I've submitted <a href=\"https://github.com/oracle/graalvm-reachability-metadata/pull/213\" rel=\"nofollow noreferrer\">a PR to fix that in the GraalVM metadata repository</a>.</p>\n<p>In the meantime, you can add the following content to a new file <code>src/main/resources/META-INF/native-image/jakarta.servlet/jakarta.servlet-api/resource-config.json</code> in your project:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;bundles&quot;: [\n    {\n      &quot;name&quot;: &quot;jakarta.servlet.LocalStrings&quot;,\n      &quot;locales&quot;: [\n        &quot;und&quot;\n      ],\n      &quot;condition&quot;: {\n        &quot;typeReachable&quot;: &quot;jakarta.servlet.GenericServlet&quot;\n      }\n    },\n    {\n      &quot;name&quot;: &quot;jakarta.servlet.http.LocalStrings&quot;,\n      &quot;locales&quot;: [\n        &quot;und&quot;\n      ],\n      &quot;condition&quot;: {\n        &quot;typeReachable&quot;: &quot;jakarta.servlet.http.HttpServlet&quot;\n      }\n    }\n  ]\n}\n</code></pre>\n"}],"owner":{"account_id":26094780,"reputation":13,"user_id":19791046,"display_name":"C Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75310349,"answer_count":1,"score":1,"last_activity_date":1675255317,"creation_date":1675234407,"question_id":75306593,"body_markdown":"I cant run gradle&#160;bootBuildImage in rocty&#160;linux&#160;9.1 with a Springboot project.\r\n\r\n```\r\nCaused by: java.util.MissingResourceException: Can&#39;t find bundle for base name jakarta.servlet.LocalStrings, locale en_US\r\n        at java.base@17.0.6/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2045) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1549) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at java.base@17.0.6/java.util.ResourceBundle.getBundle(ResourceBundle.java:858) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\r\n        at jakarta.servlet.GenericServlet.\\&lt;clinit\\&gt;(GenericServlet.java:51) \\~\\[com.unimet.test.graalvm.GraalvmApplication:6.0.0\\]\r\n        ... 75 common frames omitted\r\n```\r\n\r\n```\r\nsystem:rocty linux 9.1\r\nbuild:gradle 7.6\r\nrun:gradle bootBuildImage\r\n```\r\n\r\nbuild.gradle:\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;3.0.2&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    id &#39;org.graalvm.buildtools.native&#39; version &#39;0.9.18&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-undertow&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\r\n        exclude module: &#39;spring-boot-starter-tomcat&#39;\r\n    }\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n```","title":"Run gradle bootBuildImage Error:Can&#39;t find bundle for base name jakarta.servlet.LocalStrings, locale en_US","body":"<p>I cant run gradle bootBuildImage in rocty linux 9.1 with a Springboot project.</p>\n<pre><code>Caused by: java.util.MissingResourceException: Can't find bundle for base name jakarta.servlet.LocalStrings, locale en_US\n        at java.base@17.0.6/java.util.ResourceBundle.throwMissingResourceException(ResourceBundle.java:2045) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1683) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1586) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at java.base@17.0.6/java.util.ResourceBundle.getBundleImpl(ResourceBundle.java:1549) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at java.base@17.0.6/java.util.ResourceBundle.getBundle(ResourceBundle.java:858) \\~\\[com.unimet.test.graalvm.GraalvmApplication:na\\]\n        at jakarta.servlet.GenericServlet.\\&lt;clinit\\&gt;(GenericServlet.java:51) \\~\\[com.unimet.test.graalvm.GraalvmApplication:6.0.0\\]\n        ... 75 common frames omitted\n</code></pre>\n<pre><code>system:rocty linux 9.1\nbuild:gradle 7.6\nrun:gradle bootBuildImage\n</code></pre>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.2'\n    id 'io.spring.dependency-management' version '1.1.0'\n    id 'org.graalvm.buildtools.native' version '0.9.18'\n}\n\ndependencies {\n    implementation(&quot;org.springframework.boot:spring-boot-starter-undertow&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;) {\n        exclude module: 'spring-boot-starter-tomcat'\n    }\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","interface","data-transfer"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":1,"creation_date":1675228365,"post_id":75304061,"comment_id":132881190,"body_markdown":"Can you add code of ```MainActivity```","body":"Can you add code of <code>MainActivity</code>"},{"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"score":0,"creation_date":1675253680,"post_id":75304061,"comment_id":132887704,"body_markdown":"@jayeshgurudayalani I added my MainActivity.java code","body":"@jayeshgurudayalani I added my MainActivity.java code"}],"answers":[{"comments":[{"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"score":0,"creation_date":1675271184,"post_id":75310280,"comment_id":132894074,"body_markdown":"I did as you said but I can only access it from MainActivity.java. The data I want to send is not sent into the Cell class. I want to use the data I sent from the AltBolumNumericTable class in the Cell class.","body":"I did as you said but I can only access it from MainActivity.java. The data I want to send is not sent into the Cell class. I want to use the data I sent from the AltBolumNumericTable class in the Cell class."},{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1675271846,"post_id":75310280,"comment_id":132894308,"body_markdown":"Not getting clear idea what issue you are facing .. can you add error or SS or video of issue","body":"Not getting clear idea what issue you are facing .. can you add error or SS or video of issue"},{"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"score":0,"creation_date":1675273472,"post_id":75310280,"comment_id":132894898,"body_markdown":"Video: https://drive.google.com/file/d/1qheJjaYAoBDeGG_B0FoQrBO_wcSpD_qV\n\nSS Image: https://pasteboard.co/l9TThqgJ6Bfd.png\nWhat I want to do is print 3 in the selected box when I press 3 for example.\nThe following section: AltBolumNumericTablo class\nAbove section: Cell class","body":"Video: <a href=\"https://drive.google.com/file/d/1qheJjaYAoBDeGG_B0FoQrBO_wcSpD_qV\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1qheJjaYAoBDeGG_B0FoQrBO_wcSpD_qV</a>  SS Image: <a href=\"https://pasteboard.co/l9TThqgJ6Bfd.png\" rel=\"nofollow noreferrer\">pasteboard.co/l9TThqgJ6Bfd.png</a> What I want to do is print 3 in the selected box when I press 3 for example. The following section: AltBolumNumericTablo class Above section: Cell class"}],"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675254962,"creation_date":1675254962,"answer_id":75310280,"question_id":75304061,"body_markdown":"Got the issue .\r\nIssue is at below mentioned line in ```AltBolumNumericTablo``` class\r\n\r\n```\r\ngameInterface = (GameInterface) activity;\r\n```\r\n\r\nyou just need to change as mentioned below\r\n\r\nFrom\r\n```\r\npublic AltBolumNumericTablo(int value, Context THIS, Activity activity)\r\n```\r\n\r\nTo\r\n```\r\npublic AltBolumNumericTablo(int value, Context THIS, GameInterface gameInterfaceParam){\r\n  gameInterface = gameInterfaceParam\r\n   .. existing code\r\n}\r\n```","title":"I am unable to transfer data between two classes using interface in Android Studio with Java","body":"<p>Got the issue .\nIssue is at below mentioned line in <code>AltBolumNumericTablo</code> class</p>\n<pre><code>gameInterface = (GameInterface) activity;\n</code></pre>\n<p>you just need to change as mentioned below</p>\n<p>From</p>\n<pre><code>public AltBolumNumericTablo(int value, Context THIS, Activity activity)\n</code></pre>\n<p>To</p>\n<pre><code>public AltBolumNumericTablo(int value, Context THIS, GameInterface gameInterfaceParam){\n  gameInterface = gameInterfaceParam\n   .. existing code\n}\n</code></pre>\n"}],"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675254962,"creation_date":1675206327,"question_id":75304061,"body_markdown":"I have an application where I set up the user interface completely programmatically, meaning I didn&#39;t draw the objects in XML. It works perfectly fine, but since I drew the objects in the content with different classes, I need to establish communication between the two classes. For example, if I press a button in Class1, I want to write the text on the button in Class2 and trigger the button in Class2 based on that. I think using an interface is the most logical solution for this, but I&#39;m unable to transfer the data from Class1 to Class2 using the interface. I&#39;m getting an error saying &#39;cannot be cast to...&#39;\r\n\r\nMy GameInterface:\r\n\r\n    public interface GameInterface {\r\n\r\n    void seciliHucreyiDoldur(String seciliHucreyiDoldur);\r\n    }\r\n\r\n\r\nClass1:\r\n\r\n    \r\n    private class Cell implements GameInterface {\r\n        int value;\r\n        boolean fixed;\r\n        Button btn;\r\n        String hucreyiDolduracakVeri;\r\n        Context THIS;\r\n\r\n        public Cell(int initValue, Context THIS) {\r\n            this.THIS = THIS;\r\n            value = initValue;\r\n            if (value != 0) {\r\n                fixed = true;\r\n            } else {\r\n                fixed = false;\r\n            }\r\n\r\n            btn = new Button(THIS);\r\n            btn.setTextSize(16);\r\n\r\n            if (fixed) {\r\n                btn.setText(String.valueOf(value));\r\n            }\r\n\r\n            txtSayac.setGravity(Gravity.CENTER);\r\n\r\n\r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    if (fixed) {\r\n                        Toast.makeText(THIS, &quot;Bu h&#252;creyi değiştiremezsiniz!&quot;, Toast.LENGTH_SHORT).show();\r\n                        return;\r\n                    }\r\n                    /*value++;\r\n                    if (value &gt; 9) {\r\n                        value = 1;\r\n                    }*/\r\n                    btn.setBackgroundResource(R.drawable.hucre_arkaplani_kirmizimsi);\r\n                    btn.setTextColor(Color.BLACK);\r\n                    btn.setText(hucreyiDolduracakVeri);\r\n\r\n                    btn.setTextColor(Color.RED);\r\n\r\n                    if (correct()) {\r\n                        textView.setText(&quot;&quot;);\r\n                    } else {\r\n                        textView.setText(&quot;Tekrar eden rakamlar var, kontrol etmelisin!&quot;);\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        @Override\r\n        public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\r\n            this.hucreyiDolduracakVeri = seciliHucreyiDoldur;\r\n            Toast.makeText(THIS, hucreyiDolduracakVeri, Toast.LENGTH_SHORT).show();\r\n            if (fixed) {\r\n                //Toast.makeText(THIS, &quot;Bu h&#252;creyi değiştiremezsiniz!&quot;, Toast.LENGTH_SHORT).show();\r\n                return;\r\n            }\r\n                    /*value++;\r\n                    if (value &gt; 9) {\r\n                        value = 1;\r\n                    }*/\r\n            btn.setTextColor(Color.BLACK);\r\n            btn.setText(seciliHucreyiDoldur);\r\n\r\n            btn.setTextColor(Color.RED);\r\n            btn.setBackgroundResource(R.drawable.hucre_arkaplani_mavi_acik);\r\n\r\n            if (correct()) {\r\n                textView.setText(&quot;&quot;);\r\n            } else {\r\n                textView.setText(&quot;Tekrar eden rakamlar var, kontrol etmelisin!&quot;);\r\n            }\r\n\r\n        }\r\n\r\n        @Override\r\n        public void hucreSeciliMi(boolean hucreSecilimi) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nClass2:\r\n\r\n    public class AltBolumNumericTablo implements GameInterface{\r\n\r\n        Button btnClick;\r\n        boolean onClicked;\r\n        int value;\r\n        Activity activity;\r\n        GameInterface gameInterface;\r\n\r\n        public AltBolumNumericTablo(int value, Context THIS, Activity activity) {\r\n            this.activity = activity;\r\n            this.value = value;\r\n            btnClick = new Button(THIS);\r\n            btnClick.setTextSize(24f);\r\n\r\n            gameInterface = (GameInterface) activity;\r\n\r\n            switch (value) {\r\n                case 0:\r\n                    btnClick.setText(&quot;1&quot;);\r\n                    break;\r\n                case 1:\r\n                    btnClick.setText(&quot;2&quot;);\r\n\r\n                    break;\r\n                case 2:\r\n                    btnClick.setText(&quot;3&quot;);\r\n\r\n                    break;\r\n                case 3:\r\n                    btnClick.setText(&quot;4&quot;);\r\n\r\n                    break;\r\n                case 4:\r\n                    btnClick.setText(&quot;5&quot;);\r\n\r\n                    break;\r\n                case 5:\r\n                    btnClick.setText(&quot;6&quot;);\r\n\r\n                    break;\r\n                case 6:\r\n                    btnClick.setText(&quot;7&quot;);\r\n\r\n                    break;\r\n                case 7:\r\n                    btnClick.setText(&quot;8&quot;);\r\n\r\n                    break;\r\n                case 8:\r\n                    btnClick.setText(&quot;9&quot;);\r\n\r\n                    break;\r\n                case 9:\r\n                    btnClick.setBackgroundResource(R.drawable.sil_icon);\r\n                    break;\r\n            }\r\n\r\n            btnClick.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    clickIslemleri(value);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public void clickIslemleri(int value) {\r\n\r\n            switch (value) {\r\n                case 0:\r\n                case 1:\r\n                case 2:\r\n                case 3:\r\n                case 4:\r\n                case 5:\r\n                case 6:\r\n                case 7:\r\n                case 8:\r\n            gameInterface.seciliHucreyiDoldur(String.valueOf(value+1));\r\n                    break;\r\n                case 9:\r\n                    gameInterface.seciliHucreyiDoldur(&quot;&quot;);\r\n                    break;\r\n            }\r\n        }\r\n\r\n        public void kayitliOyunuGuncelle() {\r\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n            new MisafirGirisliOyunKaydiDAO().misafirgirisiKaydiGuncelle(misafirOyunKaydiDB,\r\n                    1, input + &quot; s&quot;, 0, &quot;00:45&quot;, kayitZamanini());\r\n            misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\r\n            for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\r\n                Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getTimestamp());\r\n            }\r\n        }\r\n\r\n        public void gecmisOyunlarGuest() {\r\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n            misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\r\n            for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\r\n                Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getId() + &quot;&quot;);\r\n\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\r\n\r\n        }\r\n\r\n        @Override\r\n        public void hucreSeciliMi(Boolean hucreSecilimi) {\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nError:\r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.devapost.mysudoku, PID: 4945\r\n    java.lang.ClassCastException: com.devapost.mysudoku.MainActivity cannot be cast to com.devapost.mysudoku.utils.GameInterface\r\n        at com.devapost.mysudoku.MainActivity$AltBolumNumericTablo.&lt;init&gt;(MainActivity.java:514)\r\n        at com.devapost.mysudoku.MainActivity.altNumericDoldur(MainActivity.java:297)\r\n\r\n\r\nMainActivity.java:\r\n\r\n    public class MainActivity extends AppCompatActivity implements GameInterface{\r\n    Cell[][] table;\r\n    AltBolumNumericTablo[][] tableAltNumeric;\r\n    MisafirGirisEkrani[] tableMisafir;\r\n    UyeMenuEkrani[] tableUyeMenusu;\r\n    String input;\r\n    TableLayout tableLayout;\r\n    TextView textView, txtSayac;\r\n    Button buttonGenerate;\r\n    LinearLayout linearLayout;\r\n    Button btnGoogleLoginMainScreen, btnMisafirMainScreen;\r\n    int hangiEkranda = 0;\r\n    MisafirOyunKaydiDB misafirOyunKaydiDB;\r\n    ArrayList&lt;MisafirGirisliOyunKaydiModel&gt; misafirKaydiListesi;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        //setContentView(R.layout.activity_main);\r\n\r\n        girisSecenekleriEkrani();\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        \r\n        switch (hangiEkranda) {\r\n            case 0:\r\n            case 2://&#252;ye menusundeyse\r\n                super.onBackPressed();\r\n                linearLayout.removeAllViews();\r\n                onBackPressed();\r\n                break;\r\n            case 1://misafir menusundeyse\r\n                girisSecenekleriEkrani();\r\n                break;\r\n            case 3://misafir oyun ekranındaysa\r\n                misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n                new MisafirGirisliOyunKaydiDAO().saveGame(misafirOyunKaydiDB, input, input, 5, txtSayac.getText().toString(), 1, kayitZamanini());\r\n                misafirEkraniniDoldur();\r\n                break;\r\n            case 4://misafir ayarlardaysa\r\n            case 5://misafirden nasıl oynanıra gittiyse\r\n                misafirEkraniniDoldur();\r\n                break;\r\n            case 6://ser&#252;vene gittiyse\r\n            case 7://rastgele oyun kurma ekranına gittiyse\r\n            case 8://skorboard ekranına gittiyse\r\n            case 9://&#252;ye ekranından ayarlara gittiyse\r\n            case 10://&#252;ye ekranından nasıl oynanır ekranına gittiyse\r\n                uyelerinMenusu();\r\n                break;\r\n        }\r\n\r\n\r\n    }\r\n\r\n    public String kayitZamanini() {\r\n        Calendar anlikSaatDakika = Calendar.getInstance();\r\n        int yil = anlikSaatDakika.get(Calendar.HOUR_OF_DAY);\r\n        int ay = anlikSaatDakika.get(Calendar.MINUTE);\r\n        int gun = anlikSaatDakika.get(Calendar.SECOND);\r\n        int saat = anlikSaatDakika.get(Calendar.HOUR_OF_DAY);\r\n        int dakika = anlikSaatDakika.get(Calendar.MINUTE);\r\n        int saniye = anlikSaatDakika.get(Calendar.SECOND);\r\n        return gun + &quot;.&quot; + ay + &quot;.&quot; + yil + &quot; - &quot; + saat + &quot;:&quot; + dakika + &quot;:&quot; + saniye;\r\n    }\r\n\r\n    public void girisSecenekleriEkrani() {//giriş se&#231;enekleri ekranı\r\n        hangiEkranda = 0;\r\n        linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        btnGoogleLoginMainScreen = new Button(MainActivity.this);\r\n        btnMisafirMainScreen = new Button(MainActivity.this);\r\n\r\n        btnGoogleLoginMainScreen.setText(&quot;Google İle Giriş Yap&quot;);\r\n        btnMisafirMainScreen.setText(&quot;Misafir Girişi&quot;);\r\n        btnGoogleLoginMainScreen.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                uyelerinMenusu();\r\n            }\r\n        });\r\n\r\n        btnMisafirMainScreen.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                linearLayout.removeAllViews();\r\n                misafirEkraniniDoldur();\r\n            }\r\n        });\r\n        linearLayout.addView(btnGoogleLoginMainScreen);\r\n        linearLayout.addView(btnMisafirMainScreen);\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT\r\n        );\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n        linearLayout.setGravity(Gravity.CENTER);\r\n        linearLayout.setLayoutParams(layoutParams);\r\n        setContentView(linearLayout);\r\n    }\r\n\r\n    public void yeniOyunMisafirIcin() {\r\n        hangiEkranda = 3;\r\n        linearLayout.removeAllViews();\r\n        int N = 9, K = 25;\r\n        Sudoku sudoku = new Sudoku(N, K);\r\n        sudoku.fillValues();\r\n\r\n        txtSayac = new TextView(MainActivity.this);\r\n\r\n        input = sudoku.printSudoku();\r\n        String[] split = input.split(&quot; &quot;);\r\n        table = new Cell[9][9];\r\n        tableLayout = new TableLayout(MainActivity.this);\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            TableRow tableRow = new TableRow(MainActivity.this);\r\n\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                String s = split[i * 9 + j];\r\n                char c = s.charAt(0);\r\n                table[i][j] = new Cell(c == &#39;?&#39; ? 0 : c - &#39;0&#39;, MainActivity.this);\r\n\r\n                paintCellBackground(i, j, table[i][j].btn);\r\n                tableRow.addView(table[i][j].btn);\r\n            }\r\n            tableLayout.addView(tableRow);\r\n        }\r\n        tableLayout.setShrinkAllColumns(true);\r\n        tableLayout.setStretchAllColumns(true);\r\n        textView = new TextView(MainActivity.this);\r\n        buttonGenerate = new Button(MainActivity.this);\r\n        linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        linearLayout.addView(txtSayac);\r\n\r\n        LinearLayout linearLayoutEkMetin = new LinearLayout(MainActivity.this);\r\n        linearLayoutEkMetin.setLayoutParams(\r\n                new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));\r\n        linearLayoutEkMetin.setOrientation(LinearLayout.VERTICAL);\r\n        linearLayoutEkMetin.setGravity(Gravity.CENTER_HORIZONTAL);\r\n        buttonGenerate.setText(&quot;Generate&quot;);\r\n        buttonGenerate.setVisibility(View.GONE);\r\n        buttonGenerate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                misafirEkraniniDoldur();\r\n                progressDialog.dismiss();\r\n            }\r\n        });\r\n\r\n        linearLayoutEkMetin.addView(buttonGenerate);\r\n        linearLayout.addView(tableLayout);\r\n        linearLayout.addView(textView);\r\n        linearLayout.addView(linearLayoutEkMetin);\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n\r\n        altNumericDoldur();\r\n        setContentView(linearLayout);\r\n\r\n\r\n    }\r\n\r\n    public void paintCellBackground(int i, int j, Button button) {\r\n\r\n        switch (i) {\r\n            case 0:\r\n            case 1:\r\n            case 2:\r\n            case 6:\r\n            case 7:\r\n            case 8:\r\n                switch (j) {\r\n                    case 0:\r\n                    case 1:\r\n                    case 2:\r\n                    case 6:\r\n                    case 7:\r\n                    case 8:\r\n                        button.setBackgroundResource(R.drawable.hucre_arkaplani_gri);\r\n                        break;\r\n                    case 3:\r\n                    case 4:\r\n                    case 5:\r\n                        button.setBackgroundResource(R.drawable.hucre_arkaplani_beyaz);\r\n                        break;\r\n                }\r\n                break;\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n                switch (j) {\r\n                    case 0:\r\n                    case 1:\r\n                    case 2:\r\n                    case 6:\r\n                    case 7:\r\n                    case 8:\r\n                        button.setBackgroundResource(R.drawable.hucre_arkaplani_beyaz);\r\n                        break;\r\n                    case 3:\r\n                    case 4:\r\n                    case 5:\r\n                        button.setBackgroundResource(R.drawable.hucre_arkaplani_gri);\r\n                        break;\r\n                }\r\n                break;\r\n        }\r\n\r\n    }\r\n\r\n    public void misafirEkraniniDoldur() {//misafir ekranını doldurur\r\n        hangiEkranda = 1;\r\n        tableMisafir = new MisafirGirisEkrani[5];\r\n        tableLayout = new TableLayout(MainActivity.this);\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            TableRow tableRow = new TableRow(MainActivity.this);\r\n            tableMisafir[i] = new MisafirGirisEkrani(i, MainActivity.this);\r\n\r\n            tableRow.addView(tableMisafir[i].btnClick);\r\n            tableLayout.addView(tableRow);\r\n        }\r\n        tableLayout.setShrinkAllColumns(true);\r\n        tableLayout.setStretchAllColumns(true);\r\n        linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        layoutParams.setMarginStart(16);\r\n        layoutParams.setMarginEnd(16);\r\n\r\n        tableLayout.setLayoutParams(layoutParams);\r\n\r\n        linearLayout.setGravity(Gravity.CENTER);\r\n\r\n        linearLayout.addView(tableLayout);\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n        setContentView(linearLayout);\r\n    }\r\n\r\n    public void altNumericDoldur() {//alt numerik tabloyu doldurur\r\n        tableAltNumeric = new AltBolumNumericTablo[2][5];\r\n        tableLayout = new TableLayout(MainActivity.this);\r\n\r\n        int butonID = 0;\r\n        for (int i = 0; i &lt; 2; i++) {\r\n            TableRow tableRow = new TableRow(MainActivity.this);\r\n            for (int j = 0; j &lt; 5; j++) {\r\n\r\n                tableAltNumeric[i][j] = new AltBolumNumericTablo(butonID, MainActivity.this,MainActivity.this);\r\n\r\n                tableRow.addView(tableAltNumeric[i][j].btnClick);\r\n                butonID++;\r\n            }\r\n\r\n            tableLayout.addView(tableRow);\r\n        }\r\n        tableLayout.setShrinkAllColumns(true);\r\n        tableLayout.setStretchAllColumns(true);\r\n        //linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        layoutParams.setMarginStart(16);\r\n        layoutParams.setMarginEnd(16);\r\n\r\n        tableLayout.setLayoutParams(layoutParams);\r\n\r\n        linearLayout.addView(tableLayout);\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n        setContentView(linearLayout);\r\n    }\r\n\r\n    private void uyelerinMenusu() {//google ile giriş yapanlar i&#231;in ser&#252;ven ekranı\r\n        hangiEkranda = 2;\r\n        tableUyeMenusu = new UyeMenuEkrani[5];\r\n        tableLayout = new TableLayout(MainActivity.this);\r\n\r\n        for (int i = 0; i &lt; 5; i++) {\r\n            TableRow tableRow = new TableRow(MainActivity.this);\r\n            tableUyeMenusu[i] = new UyeMenuEkrani(i, MainActivity.this);\r\n\r\n            tableRow.addView(tableUyeMenusu[i].btnClick);\r\n            tableLayout.addView(tableRow);\r\n        }\r\n        tableLayout.setShrinkAllColumns(true);\r\n        tableLayout.setStretchAllColumns(true);\r\n        linearLayout = new LinearLayout(MainActivity.this);\r\n\r\n        LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\r\n                LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\r\n        );\r\n        layoutParams.setMarginStart(16);\r\n        layoutParams.setMarginEnd(16);\r\n\r\n        tableLayout.setLayoutParams(layoutParams);\r\n\r\n        linearLayout.setGravity(Gravity.CENTER);\r\n\r\n        linearLayout.addView(tableLayout);\r\n        linearLayout.setOrientation(LinearLayout.VERTICAL);\r\n        setContentView(linearLayout);\r\n\r\n    }\r\n\r\n    @Override\r\n    public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void hucreSeciliMi(boolean hucreSecilimi) {\r\n\r\n    }\r\n\r\n    public class UyeMenuEkrani {\r\n\r\n        Button btnClick;\r\n        boolean onClicked;\r\n        int value;\r\n\r\n        public UyeMenuEkrani(int value, Context THIS) {\r\n            this.value = value;\r\n            btnClick = new Button(THIS);\r\n            switch (value) {\r\n                case 0:\r\n                    btnClick.setText(&quot;Ser&#252;ven&quot;);\r\n                    break;\r\n                case 1:\r\n                    btnClick.setText(&quot;Rastgele Oyna&quot;);\r\n                    break;\r\n                case 2:\r\n                    btnClick.setText(&quot;Skor Tablosu&quot;);\r\n                    break;\r\n                case 3:\r\n                    btnClick.setText(&quot;Ayarlar&quot;);\r\n                    break;\r\n                case 4:\r\n                    btnClick.setText(&quot;Nasıl Oynanır&quot;);\r\n                    break;\r\n            }\r\n\r\n            btnClick.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    clickIslemleri(value);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public void clickIslemleri(int value) {\r\n            switch (value) {\r\n                case 0://seruven\r\n                    Toast.makeText(MainActivity.this, &quot;ser&#252;vene gider&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 1://rastgele\r\n                    yeniOyunMisafirIcin();//rastgele ekranı misafir giriş ekranına gider, &#231;ok benzer zaten\r\n                    break;\r\n                case 2://skorboard\r\n                    Toast.makeText(MainActivity.this, &quot;skorboard&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 3://ayarlar\r\n                    Toast.makeText(MainActivity.this, &quot;ayarlar&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 4://nasıl oynanır\r\n                    Toast.makeText(MainActivity.this, &quot;nasıl oynanır&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 5:\r\n\r\n                    break;\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    public class MisafirGirisEkrani {\r\n\r\n        Button btnClick;\r\n        boolean onClicked;\r\n        int value;\r\n\r\n        public MisafirGirisEkrani(int value, Context THIS) {\r\n            this.value = value;\r\n            btnClick = new Button(THIS);\r\n\r\n\r\n            switch (value) {\r\n                case 0:\r\n                    btnClick.setText(&quot;Yeni Oyun&quot;);\r\n                    break;\r\n                case 1:\r\n                    btnClick.setText(&quot;Devam Et&quot;);\r\n\r\n                    break;\r\n                case 2:\r\n                    btnClick.setText(&quot;Ayarlar&quot;);\r\n\r\n                    break;\r\n                case 3:\r\n                    btnClick.setText(&quot;Giriş Yap&quot;);\r\n\r\n                    break;\r\n                case 4:\r\n                    btnClick.setText(&quot;Nasıl Oynanır&quot;);\r\n\r\n                    break;\r\n            }\r\n\r\n            btnClick.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    clickIslemleri(value);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n        public void clickIslemleri(int value) {\r\n            switch (value) {\r\n                case 0:\r\n                    yeniOyunMisafirIcin();\r\n                    break;\r\n                case 1://eski oyunları listele ve onlardan se&#231;ip devam et\r\n                    gecmisOyunlarGuest();\r\n\r\n                    break;\r\n                case 2:\r\n                    kayitliOyunuGuncelle();\r\n                    Toast.makeText(MainActivity.this, &quot;ayarlar&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n                case 3:\r\n                    girisSecenekleriEkrani();\r\n                    break;\r\n                case 4:\r\n                    Toast.makeText(MainActivity.this, &quot;nasıl oynanır&quot;, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n            }\r\n\r\n        }\r\n\r\n        public void kayitliOyunuGuncelle() {\r\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n            new MisafirGirisliOyunKaydiDAO().misafirgirisiKaydiGuncelle(misafirOyunKaydiDB,\r\n                    1, input + &quot; s&quot;, 0, &quot;00:45&quot;, kayitZamanini());\r\n            misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\r\n            for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\r\n                Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getTimestamp());\r\n            }\r\n        }\r\n\r\n        public void gecmisOyunlarGuest() {\r\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\r\n            misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\r\n            for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\r\n                Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getId() + &quot;&quot;);\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n    boolean complated() {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            for (int j = 0; j &lt; 9; j++) {\r\n                if (table[i][j].value == 0) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    boolean correct(int i1, int j1, int i2, int j2) {\r\n        boolean[] seen = new boolean[10];\r\n        for (int i = 1; i &lt;= 9; i++) {\r\n            seen[i] = false;\r\n        }\r\n        for (int i = i1; i &lt; i2; i++) {\r\n            for (int j = j1; j &lt; j2; j++) {\r\n                int value = table[i][j].value;\r\n                if (value != 0) {\r\n                    if (seen[value]) {\r\n                        return false;\r\n                    }\r\n                    seen[value] = true;\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    boolean correct() {\r\n        for (int i = 0; i &lt; 9; i++) {\r\n            if (!correct(i, 0, i + 1, 9)) {\r\n                return false;\r\n            }\r\n        }\r\n        for (int j = 0; j &lt; 9; j++) {\r\n            if (!correct(0, j, 9, j + 1)) {\r\n                return false;\r\n            }\r\n        }\r\n\r\n        for (int i = 0; i &lt; 3; i++) {\r\n            for (int j = 0; j &lt; 3; j++) {\r\n                if (!correct(3 * i, 3 * j, 3 * i + 3, 3 * j + 3)) {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\r\n}","title":"I am unable to transfer data between two classes using interface in Android Studio with Java","body":"<p>I have an application where I set up the user interface completely programmatically, meaning I didn't draw the objects in XML. It works perfectly fine, but since I drew the objects in the content with different classes, I need to establish communication between the two classes. For example, if I press a button in Class1, I want to write the text on the button in Class2 and trigger the button in Class2 based on that. I think using an interface is the most logical solution for this, but I'm unable to transfer the data from Class1 to Class2 using the interface. I'm getting an error saying 'cannot be cast to...'</p>\n<p>My GameInterface:</p>\n<pre><code>public interface GameInterface {\n\nvoid seciliHucreyiDoldur(String seciliHucreyiDoldur);\n}\n</code></pre>\n<p>Class1:</p>\n<pre><code>private class Cell implements GameInterface {\n    int value;\n    boolean fixed;\n    Button btn;\n    String hucreyiDolduracakVeri;\n    Context THIS;\n\n    public Cell(int initValue, Context THIS) {\n        this.THIS = THIS;\n        value = initValue;\n        if (value != 0) {\n            fixed = true;\n        } else {\n            fixed = false;\n        }\n\n        btn = new Button(THIS);\n        btn.setTextSize(16);\n\n        if (fixed) {\n            btn.setText(String.valueOf(value));\n        }\n\n        txtSayac.setGravity(Gravity.CENTER);\n\n\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (fixed) {\n                    Toast.makeText(THIS, &quot;Bu hücreyi değiştiremezsiniz!&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n                /*value++;\n                if (value &gt; 9) {\n                    value = 1;\n                }*/\n                btn.setBackgroundResource(R.drawable.hucre_arkaplani_kirmizimsi);\n                btn.setTextColor(Color.BLACK);\n                btn.setText(hucreyiDolduracakVeri);\n\n                btn.setTextColor(Color.RED);\n\n                if (correct()) {\n                    textView.setText(&quot;&quot;);\n                } else {\n                    textView.setText(&quot;Tekrar eden rakamlar var, kontrol etmelisin!&quot;);\n                }\n            }\n        });\n\n    }\n\n    @Override\n    public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\n        this.hucreyiDolduracakVeri = seciliHucreyiDoldur;\n        Toast.makeText(THIS, hucreyiDolduracakVeri, Toast.LENGTH_SHORT).show();\n        if (fixed) {\n            //Toast.makeText(THIS, &quot;Bu hücreyi değiştiremezsiniz!&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n                /*value++;\n                if (value &gt; 9) {\n                    value = 1;\n                }*/\n        btn.setTextColor(Color.BLACK);\n        btn.setText(seciliHucreyiDoldur);\n\n        btn.setTextColor(Color.RED);\n        btn.setBackgroundResource(R.drawable.hucre_arkaplani_mavi_acik);\n\n        if (correct()) {\n            textView.setText(&quot;&quot;);\n        } else {\n            textView.setText(&quot;Tekrar eden rakamlar var, kontrol etmelisin!&quot;);\n        }\n\n    }\n\n    @Override\n    public void hucreSeciliMi(boolean hucreSecilimi) {\n\n    }\n}\n</code></pre>\n<p>Class2:</p>\n<pre><code>public class AltBolumNumericTablo implements GameInterface{\n\n    Button btnClick;\n    boolean onClicked;\n    int value;\n    Activity activity;\n    GameInterface gameInterface;\n\n    public AltBolumNumericTablo(int value, Context THIS, Activity activity) {\n        this.activity = activity;\n        this.value = value;\n        btnClick = new Button(THIS);\n        btnClick.setTextSize(24f);\n\n        gameInterface = (GameInterface) activity;\n\n        switch (value) {\n            case 0:\n                btnClick.setText(&quot;1&quot;);\n                break;\n            case 1:\n                btnClick.setText(&quot;2&quot;);\n\n                break;\n            case 2:\n                btnClick.setText(&quot;3&quot;);\n\n                break;\n            case 3:\n                btnClick.setText(&quot;4&quot;);\n\n                break;\n            case 4:\n                btnClick.setText(&quot;5&quot;);\n\n                break;\n            case 5:\n                btnClick.setText(&quot;6&quot;);\n\n                break;\n            case 6:\n                btnClick.setText(&quot;7&quot;);\n\n                break;\n            case 7:\n                btnClick.setText(&quot;8&quot;);\n\n                break;\n            case 8:\n                btnClick.setText(&quot;9&quot;);\n\n                break;\n            case 9:\n                btnClick.setBackgroundResource(R.drawable.sil_icon);\n                break;\n        }\n\n        btnClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                clickIslemleri(value);\n            }\n        });\n\n    }\n\n    public void clickIslemleri(int value) {\n\n        switch (value) {\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n            case 4:\n            case 5:\n            case 6:\n            case 7:\n            case 8:\n        gameInterface.seciliHucreyiDoldur(String.valueOf(value+1));\n                break;\n            case 9:\n                gameInterface.seciliHucreyiDoldur(&quot;&quot;);\n                break;\n        }\n    }\n\n    public void kayitliOyunuGuncelle() {\n        misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n        new MisafirGirisliOyunKaydiDAO().misafirgirisiKaydiGuncelle(misafirOyunKaydiDB,\n                1, input + &quot; s&quot;, 0, &quot;00:45&quot;, kayitZamanini());\n        misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\n        for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\n            Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getTimestamp());\n        }\n    }\n\n    public void gecmisOyunlarGuest() {\n        misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n        misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\n        for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\n            Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getId() + &quot;&quot;);\n\n        }\n    }\n\n    @Override\n    public void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\n\n    }\n\n    @Override\n    public void hucreSeciliMi(Boolean hucreSecilimi) {\n\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.devapost.mysudoku, PID: 4945\njava.lang.ClassCastException: com.devapost.mysudoku.MainActivity cannot be cast to com.devapost.mysudoku.utils.GameInterface\n    at com.devapost.mysudoku.MainActivity$AltBolumNumericTablo.&lt;init&gt;(MainActivity.java:514)\n    at com.devapost.mysudoku.MainActivity.altNumericDoldur(MainActivity.java:297)\n</code></pre>\n<p>MainActivity.java:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements GameInterface{\nCell[][] table;\nAltBolumNumericTablo[][] tableAltNumeric;\nMisafirGirisEkrani[] tableMisafir;\nUyeMenuEkrani[] tableUyeMenusu;\nString input;\nTableLayout tableLayout;\nTextView textView, txtSayac;\nButton buttonGenerate;\nLinearLayout linearLayout;\nButton btnGoogleLoginMainScreen, btnMisafirMainScreen;\nint hangiEkranda = 0;\nMisafirOyunKaydiDB misafirOyunKaydiDB;\nArrayList&lt;MisafirGirisliOyunKaydiModel&gt; misafirKaydiListesi;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    //setContentView(R.layout.activity_main);\n\n    girisSecenekleriEkrani();\n}\n\n@Override\npublic void onBackPressed() {\n    \n    switch (hangiEkranda) {\n        case 0:\n        case 2://üye menusundeyse\n            super.onBackPressed();\n            linearLayout.removeAllViews();\n            onBackPressed();\n            break;\n        case 1://misafir menusundeyse\n            girisSecenekleriEkrani();\n            break;\n        case 3://misafir oyun ekranındaysa\n            misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n            new MisafirGirisliOyunKaydiDAO().saveGame(misafirOyunKaydiDB, input, input, 5, txtSayac.getText().toString(), 1, kayitZamanini());\n            misafirEkraniniDoldur();\n            break;\n        case 4://misafir ayarlardaysa\n        case 5://misafirden nasıl oynanıra gittiyse\n            misafirEkraniniDoldur();\n            break;\n        case 6://serüvene gittiyse\n        case 7://rastgele oyun kurma ekranına gittiyse\n        case 8://skorboard ekranına gittiyse\n        case 9://üye ekranından ayarlara gittiyse\n        case 10://üye ekranından nasıl oynanır ekranına gittiyse\n            uyelerinMenusu();\n            break;\n    }\n\n\n}\n\npublic String kayitZamanini() {\n    Calendar anlikSaatDakika = Calendar.getInstance();\n    int yil = anlikSaatDakika.get(Calendar.HOUR_OF_DAY);\n    int ay = anlikSaatDakika.get(Calendar.MINUTE);\n    int gun = anlikSaatDakika.get(Calendar.SECOND);\n    int saat = anlikSaatDakika.get(Calendar.HOUR_OF_DAY);\n    int dakika = anlikSaatDakika.get(Calendar.MINUTE);\n    int saniye = anlikSaatDakika.get(Calendar.SECOND);\n    return gun + &quot;.&quot; + ay + &quot;.&quot; + yil + &quot; - &quot; + saat + &quot;:&quot; + dakika + &quot;:&quot; + saniye;\n}\n\npublic void girisSecenekleriEkrani() {//giriş seçenekleri ekranı\n    hangiEkranda = 0;\n    linearLayout = new LinearLayout(MainActivity.this);\n\n    btnGoogleLoginMainScreen = new Button(MainActivity.this);\n    btnMisafirMainScreen = new Button(MainActivity.this);\n\n    btnGoogleLoginMainScreen.setText(&quot;Google İle Giriş Yap&quot;);\n    btnMisafirMainScreen.setText(&quot;Misafir Girişi&quot;);\n    btnGoogleLoginMainScreen.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            uyelerinMenusu();\n        }\n    });\n\n    btnMisafirMainScreen.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            linearLayout.removeAllViews();\n            misafirEkraniniDoldur();\n        }\n    });\n    linearLayout.addView(btnGoogleLoginMainScreen);\n    linearLayout.addView(btnMisafirMainScreen);\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.MATCH_PARENT\n    );\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n    linearLayout.setGravity(Gravity.CENTER);\n    linearLayout.setLayoutParams(layoutParams);\n    setContentView(linearLayout);\n}\n\npublic void yeniOyunMisafirIcin() {\n    hangiEkranda = 3;\n    linearLayout.removeAllViews();\n    int N = 9, K = 25;\n    Sudoku sudoku = new Sudoku(N, K);\n    sudoku.fillValues();\n\n    txtSayac = new TextView(MainActivity.this);\n\n    input = sudoku.printSudoku();\n    String[] split = input.split(&quot; &quot;);\n    table = new Cell[9][9];\n    tableLayout = new TableLayout(MainActivity.this);\n    for (int i = 0; i &lt; 9; i++) {\n        TableRow tableRow = new TableRow(MainActivity.this);\n\n        for (int j = 0; j &lt; 9; j++) {\n            String s = split[i * 9 + j];\n            char c = s.charAt(0);\n            table[i][j] = new Cell(c == '?' ? 0 : c - '0', MainActivity.this);\n\n            paintCellBackground(i, j, table[i][j].btn);\n            tableRow.addView(table[i][j].btn);\n        }\n        tableLayout.addView(tableRow);\n    }\n    tableLayout.setShrinkAllColumns(true);\n    tableLayout.setStretchAllColumns(true);\n    textView = new TextView(MainActivity.this);\n    buttonGenerate = new Button(MainActivity.this);\n    linearLayout = new LinearLayout(MainActivity.this);\n\n    linearLayout.addView(txtSayac);\n\n    LinearLayout linearLayoutEkMetin = new LinearLayout(MainActivity.this);\n    linearLayoutEkMetin.setLayoutParams(\n            new LinearLayout.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT));\n    linearLayoutEkMetin.setOrientation(LinearLayout.VERTICAL);\n    linearLayoutEkMetin.setGravity(Gravity.CENTER_HORIZONTAL);\n    buttonGenerate.setText(&quot;Generate&quot;);\n    buttonGenerate.setVisibility(View.GONE);\n    buttonGenerate.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            misafirEkraniniDoldur();\n            progressDialog.dismiss();\n        }\n    });\n\n    linearLayoutEkMetin.addView(buttonGenerate);\n    linearLayout.addView(tableLayout);\n    linearLayout.addView(textView);\n    linearLayout.addView(linearLayoutEkMetin);\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n\n    altNumericDoldur();\n    setContentView(linearLayout);\n\n\n}\n\npublic void paintCellBackground(int i, int j, Button button) {\n\n    switch (i) {\n        case 0:\n        case 1:\n        case 2:\n        case 6:\n        case 7:\n        case 8:\n            switch (j) {\n                case 0:\n                case 1:\n                case 2:\n                case 6:\n                case 7:\n                case 8:\n                    button.setBackgroundResource(R.drawable.hucre_arkaplani_gri);\n                    break;\n                case 3:\n                case 4:\n                case 5:\n                    button.setBackgroundResource(R.drawable.hucre_arkaplani_beyaz);\n                    break;\n            }\n            break;\n        case 3:\n        case 4:\n        case 5:\n            switch (j) {\n                case 0:\n                case 1:\n                case 2:\n                case 6:\n                case 7:\n                case 8:\n                    button.setBackgroundResource(R.drawable.hucre_arkaplani_beyaz);\n                    break;\n                case 3:\n                case 4:\n                case 5:\n                    button.setBackgroundResource(R.drawable.hucre_arkaplani_gri);\n                    break;\n            }\n            break;\n    }\n\n}\n\npublic void misafirEkraniniDoldur() {//misafir ekranını doldurur\n    hangiEkranda = 1;\n    tableMisafir = new MisafirGirisEkrani[5];\n    tableLayout = new TableLayout(MainActivity.this);\n\n    for (int i = 0; i &lt; 5; i++) {\n        TableRow tableRow = new TableRow(MainActivity.this);\n        tableMisafir[i] = new MisafirGirisEkrani(i, MainActivity.this);\n\n        tableRow.addView(tableMisafir[i].btnClick);\n        tableLayout.addView(tableRow);\n    }\n    tableLayout.setShrinkAllColumns(true);\n    tableLayout.setStretchAllColumns(true);\n    linearLayout = new LinearLayout(MainActivity.this);\n\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\n    );\n    layoutParams.setMarginStart(16);\n    layoutParams.setMarginEnd(16);\n\n    tableLayout.setLayoutParams(layoutParams);\n\n    linearLayout.setGravity(Gravity.CENTER);\n\n    linearLayout.addView(tableLayout);\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n    setContentView(linearLayout);\n}\n\npublic void altNumericDoldur() {//alt numerik tabloyu doldurur\n    tableAltNumeric = new AltBolumNumericTablo[2][5];\n    tableLayout = new TableLayout(MainActivity.this);\n\n    int butonID = 0;\n    for (int i = 0; i &lt; 2; i++) {\n        TableRow tableRow = new TableRow(MainActivity.this);\n        for (int j = 0; j &lt; 5; j++) {\n\n            tableAltNumeric[i][j] = new AltBolumNumericTablo(butonID, MainActivity.this,MainActivity.this);\n\n            tableRow.addView(tableAltNumeric[i][j].btnClick);\n            butonID++;\n        }\n\n        tableLayout.addView(tableRow);\n    }\n    tableLayout.setShrinkAllColumns(true);\n    tableLayout.setStretchAllColumns(true);\n    //linearLayout = new LinearLayout(MainActivity.this);\n\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\n    );\n    layoutParams.setMarginStart(16);\n    layoutParams.setMarginEnd(16);\n\n    tableLayout.setLayoutParams(layoutParams);\n\n    linearLayout.addView(tableLayout);\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n    setContentView(linearLayout);\n}\n\nprivate void uyelerinMenusu() {//google ile giriş yapanlar için serüven ekranı\n    hangiEkranda = 2;\n    tableUyeMenusu = new UyeMenuEkrani[5];\n    tableLayout = new TableLayout(MainActivity.this);\n\n    for (int i = 0; i &lt; 5; i++) {\n        TableRow tableRow = new TableRow(MainActivity.this);\n        tableUyeMenusu[i] = new UyeMenuEkrani(i, MainActivity.this);\n\n        tableRow.addView(tableUyeMenusu[i].btnClick);\n        tableLayout.addView(tableRow);\n    }\n    tableLayout.setShrinkAllColumns(true);\n    tableLayout.setStretchAllColumns(true);\n    linearLayout = new LinearLayout(MainActivity.this);\n\n    LinearLayout.LayoutParams layoutParams = new LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT\n    );\n    layoutParams.setMarginStart(16);\n    layoutParams.setMarginEnd(16);\n\n    tableLayout.setLayoutParams(layoutParams);\n\n    linearLayout.setGravity(Gravity.CENTER);\n\n    linearLayout.addView(tableLayout);\n    linearLayout.setOrientation(LinearLayout.VERTICAL);\n    setContentView(linearLayout);\n\n}\n\n@Override\npublic void seciliHucreyiDoldur(String seciliHucreyiDoldur) {\n\n}\n\n@Override\npublic void hucreSeciliMi(boolean hucreSecilimi) {\n\n}\n\npublic class UyeMenuEkrani {\n\n    Button btnClick;\n    boolean onClicked;\n    int value;\n\n    public UyeMenuEkrani(int value, Context THIS) {\n        this.value = value;\n        btnClick = new Button(THIS);\n        switch (value) {\n            case 0:\n                btnClick.setText(&quot;Serüven&quot;);\n                break;\n            case 1:\n                btnClick.setText(&quot;Rastgele Oyna&quot;);\n                break;\n            case 2:\n                btnClick.setText(&quot;Skor Tablosu&quot;);\n                break;\n            case 3:\n                btnClick.setText(&quot;Ayarlar&quot;);\n                break;\n            case 4:\n                btnClick.setText(&quot;Nasıl Oynanır&quot;);\n                break;\n        }\n\n        btnClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                clickIslemleri(value);\n            }\n        });\n\n    }\n\n    public void clickIslemleri(int value) {\n        switch (value) {\n            case 0://seruven\n                Toast.makeText(MainActivity.this, &quot;serüvene gider&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 1://rastgele\n                yeniOyunMisafirIcin();//rastgele ekranı misafir giriş ekranına gider, çok benzer zaten\n                break;\n            case 2://skorboard\n                Toast.makeText(MainActivity.this, &quot;skorboard&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 3://ayarlar\n                Toast.makeText(MainActivity.this, &quot;ayarlar&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 4://nasıl oynanır\n                Toast.makeText(MainActivity.this, &quot;nasıl oynanır&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 5:\n\n                break;\n        }\n\n    }\n}\n\npublic class MisafirGirisEkrani {\n\n    Button btnClick;\n    boolean onClicked;\n    int value;\n\n    public MisafirGirisEkrani(int value, Context THIS) {\n        this.value = value;\n        btnClick = new Button(THIS);\n\n\n        switch (value) {\n            case 0:\n                btnClick.setText(&quot;Yeni Oyun&quot;);\n                break;\n            case 1:\n                btnClick.setText(&quot;Devam Et&quot;);\n\n                break;\n            case 2:\n                btnClick.setText(&quot;Ayarlar&quot;);\n\n                break;\n            case 3:\n                btnClick.setText(&quot;Giriş Yap&quot;);\n\n                break;\n            case 4:\n                btnClick.setText(&quot;Nasıl Oynanır&quot;);\n\n                break;\n        }\n\n        btnClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                clickIslemleri(value);\n            }\n        });\n\n    }\n\n    public void clickIslemleri(int value) {\n        switch (value) {\n            case 0:\n                yeniOyunMisafirIcin();\n                break;\n            case 1://eski oyunları listele ve onlardan seçip devam et\n                gecmisOyunlarGuest();\n\n                break;\n            case 2:\n                kayitliOyunuGuncelle();\n                Toast.makeText(MainActivity.this, &quot;ayarlar&quot;, Toast.LENGTH_SHORT).show();\n                break;\n            case 3:\n                girisSecenekleriEkrani();\n                break;\n            case 4:\n                Toast.makeText(MainActivity.this, &quot;nasıl oynanır&quot;, Toast.LENGTH_SHORT).show();\n                break;\n        }\n\n    }\n\n    public void kayitliOyunuGuncelle() {\n        misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n        new MisafirGirisliOyunKaydiDAO().misafirgirisiKaydiGuncelle(misafirOyunKaydiDB,\n                1, input + &quot; s&quot;, 0, &quot;00:45&quot;, kayitZamanini());\n        misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\n        for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\n            Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getTimestamp());\n        }\n    }\n\n    public void gecmisOyunlarGuest() {\n        misafirOyunKaydiDB = new MisafirOyunKaydiDB(MainActivity.this);\n        misafirKaydiListesi = new MisafirGirisliOyunKaydiDAO().tumOyunKayitlari(misafirOyunKaydiDB);\n        for (int i = 0; i &lt; misafirKaydiListesi.size(); i++) {\n            Log.e(&quot;saved game&quot;, misafirKaydiListesi.get(i).getId() + &quot;&quot;);\n\n        }\n    }\n}\n\nboolean complated() {\n    for (int i = 0; i &lt; 9; i++) {\n        for (int j = 0; j &lt; 9; j++) {\n            if (table[i][j].value == 0) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n\nboolean correct(int i1, int j1, int i2, int j2) {\n    boolean[] seen = new boolean[10];\n    for (int i = 1; i &lt;= 9; i++) {\n        seen[i] = false;\n    }\n    for (int i = i1; i &lt; i2; i++) {\n        for (int j = j1; j &lt; j2; j++) {\n            int value = table[i][j].value;\n            if (value != 0) {\n                if (seen[value]) {\n                    return false;\n                }\n                seen[value] = true;\n            }\n        }\n    }\n    return true;\n}\n\nboolean correct() {\n    for (int i = 0; i &lt; 9; i++) {\n        if (!correct(i, 0, i + 1, 9)) {\n            return false;\n        }\n    }\n    for (int j = 0; j &lt; 9; j++) {\n        if (!correct(0, j, 9, j + 1)) {\n            return false;\n        }\n    }\n\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j = 0; j &lt; 3; j++) {\n            if (!correct(3 * i, 3 * j, 3 * i + 3, 3 * j + 3)) {\n                return false;\n            }\n        }\n    }\n\n    return true;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","decimal"],"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1458264328,"post_id":36074502,"comment_id":59795006,"body_markdown":"Sometimes you can multiply a `double` by 100, cast it to an `int` then back to a `double` and divide by 100.","body":"Sometimes you can multiply a <code>double</code> by 100, cast it to an <code>int</code> then back to a <code>double</code> and divide by 100."},{"owner":{"account_id":8000543,"reputation":1155,"user_id":6047952,"accept_rate":100,"display_name":"infixed"},"score":0,"creation_date":1458264508,"post_id":36074502,"comment_id":59795044,"body_markdown":"convert to cents, do your math in cents, convert back to dollars at output time","body":"convert to cents, do your math in cents, convert back to dollars at output time"},{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":0,"creation_date":1458264774,"post_id":36074502,"comment_id":59795129,"body_markdown":"@infixed Not a good idea. Read the answer below to find out why. int [32 bits], double[64 bits] among other things.","body":"@infixed Not a good idea. Read the answer below to find out why. int [32 bits], double[64 bits] among other things."},{"owner":{"account_id":8000543,"reputation":1155,"user_id":6047952,"accept_rate":100,"display_name":"infixed"},"score":0,"creation_date":1458265144,"post_id":36074502,"comment_id":59795227,"body_markdown":"were you under the impression that a double couldn&#39;t be used in units of cents as well as dollars?  `dollars = int(cents)/100.0`","body":"were you under the impression that a double couldn&#39;t be used in units of cents as well as dollars?  <code>dollars = int(cents)&#47;100.0</code>"},{"owner":{"account_id":8000543,"reputation":1155,"user_id":6047952,"accept_rate":100,"display_name":"infixed"},"score":0,"creation_date":1458265560,"post_id":36074502,"comment_id":59795330,"body_markdown":"sorry, wrong language   `dollars = floor(cents)/100.0.  Unless you deal with negatives","body":"sorry, wrong language   `dollars = floor(cents)/100.0.  Unless you deal with negatives"}],"answers":[{"comments":[{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1458264522,"post_id":36074568,"comment_id":59795046,"body_markdown":"I like the second way, although if the number is too big it could overflow.","body":"I like the second way, although if the number is too big it could overflow."},{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":0,"creation_date":1458264557,"post_id":36074568,"comment_id":59795057,"body_markdown":"@JonnyHenly Spot on, sir! :)","body":"@JonnyHenly Spot on, sir! :)"},{"owner":{"account_id":1288816,"reputation":4033,"user_id":1241334,"accept_rate":100,"display_name":"Jonny Henly"},"score":0,"creation_date":1458264600,"post_id":36074568,"comment_id":59795072,"body_markdown":"Might be better to cast to a long, since `double` and `long` are usually both 64 bit.","body":"Might be better to cast to a long, since <code>double</code> and <code>long</code> are usually both 64 bit."},{"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"score":1,"creation_date":1458264663,"post_id":36074568,"comment_id":59795093,"body_markdown":"Yep. I casted to a `long`. Can still go wrong, and then `BigDecimal` comes in!","body":"Yep. I casted to a <code>long</code>. Can still go wrong, and then <code>BigDecimal</code> comes in!"}],"tags":[],"owner":{"account_id":1870308,"reputation":5286,"user_id":1692706,"accept_rate":77,"display_name":"Debosmit Ray"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1458264612,"creation_date":1458264407,"answer_id":36074568,"question_id":36074502,"body_markdown":"Use [DecimalFormat](https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html).\r\n\r\n    DecimalFormatt df = new DecimalFormat( &quot;#.00&quot; );\r\n    df.format(1.478569); // 1.48\r\n\r\nDon&#39;t want the rounding up?\r\n\r\n    double c = 1.478569d;\r\n    c = (double)((long)(c*100))/100;    // 1.47 \r\n\r\nThe double casting way might overflow [[Jonny Henly](https://stackoverflow.com/users/1241334/jonny-henly) noted below]. Beware. :)\r\n\r\nThere are numerous ways of doing this. Alternatively, \r\n\r\n    df = new DecimalFormat( &quot;#.000&quot; );\r\n    String num = df.format(1.478569);\r\n    num = num.substring(0, num.length()-1);    // 1.47\r\n\r\n\r\nDoes it help?","title":"Looking for a way to keep two decimal places without rounding up","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/DecimalFormat.html\" rel=\"nofollow noreferrer\">DecimalFormat</a>.</p>\n\n<pre><code>DecimalFormatt df = new DecimalFormat( \"#.00\" );\ndf.format(1.478569); // 1.48\n</code></pre>\n\n<p>Don't want the rounding up?</p>\n\n<pre><code>double c = 1.478569d;\nc = (double)((long)(c*100))/100;    // 1.47 \n</code></pre>\n\n<p>The double casting way might overflow [<a href=\"https://stackoverflow.com/users/1241334/jonny-henly\">Jonny Henly</a> noted below]. Beware. :)</p>\n\n<p>There are numerous ways of doing this. Alternatively, </p>\n\n<pre><code>df = new DecimalFormat( \"#.000\" );\nString num = df.format(1.478569);\nnum = num.substring(0, num.length()-1);    // 1.47\n</code></pre>\n\n<p>Does it help?</p>\n"},{"tags":[],"owner":{"account_id":11944704,"reputation":114,"user_id":8740314,"display_name":"Noah Mohamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675254786,"creation_date":1675254786,"answer_id":75310246,"question_id":36074502,"body_markdown":"You can use RoundingMode.FLOOR like that \r\n\r\nfor Kotlin \r\n\r\n    number.toBigDecimal().setScale(2,RoundingMode.FLOOR).toDouble()\r\n\r\nfor JAVA\r\n\r\n                new BigDecimal(&quot;1.555&quot;).setScale(2, RoundingMode.FLOOR);\r\n","title":"Looking for a way to keep two decimal places without rounding up","body":"<p>You can use RoundingMode.FLOOR like that</p>\n<p>for Kotlin</p>\n<pre><code>number.toBigDecimal().setScale(2,RoundingMode.FLOOR).toDouble()\n</code></pre>\n<p>for JAVA</p>\n<pre><code>            new BigDecimal(&quot;1.555&quot;).setScale(2, RoundingMode.FLOOR);\n</code></pre>\n"}],"owner":{"account_id":8065373,"reputation":11,"user_id":6079706,"display_name":"David"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1726,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1675254786,"creation_date":1458263878,"question_id":36074502,"body_markdown":"I have to display my outputs with two decimal places and the program outputs should be 205.16 for monthly payment and 12309.91 for total payment. Before using decimal format to round the answers where correct but after rounding to two decimal places the outputs are now .01 to high. What can I do to remove the extra decimal places without rounding up .01?\r\n\r\n\timport javax.swing.*;\r\n\timport java.text.*;\r\n\t\r\n\t\r\n\t/**\r\n\t *DriverMortgageClass\r\n\t */\r\n\t\r\n\tpublic class DriverMortgageClass\r\n\t{\r\n\t\tpublic double annualInterestRate;\r\n\t\tpublic int    numberOfYears;\r\n\t\tpublic double loanAmount;\r\n\t\tpublic double monthlyPayment;\r\n\t\tpublic double totalPayment;\r\n\t\tpublic double monthlyInterestRate;\r\n\t\r\n\t\tDecimalFormat fmt = new    DecimalFormat (&quot;0.00&quot;);\r\n\t\r\n\t\t//main method\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew DriverMortgageClass().start();\r\n\t\t}\r\n\t\r\n\t\t//declare private mortgage object\r\n\t\tprivate Mortgage mortgage;\r\n\t\r\n\t\tpublic DriverMortgageClass()\r\n\t\r\n\t\t{   \r\n\t\t\tmortgage = new Mortgage();\r\n\t\t}\r\n\t\tpublic void start()\r\n\t\t{\r\n\t\r\n\t\t\t//get input for interest rate\r\n\t\t\tString annualInterestRateString = JOptionPane.showInputDialog(null,&quot;Enter yearly interest rate, for example 8.5&quot;,JOptionPane.QUESTION_MESSAGE);\r\n\t\t\tannualInterestRate=Double.parseDouble(annualInterestRateString);\r\n\t\t\tmortgage.setAnnualInterestRate(annualInterestRate);\r\n\t\r\n\t\r\n\t\t\t//get input for number of years\r\n\t\t\tString numberOfYearsString = JOptionPane.showInputDialog(null,&quot;Enter number of years as an integer, for example 5&quot;,JOptionPane.QUESTION_MESSAGE);\r\n\t\t\tnumberOfYears= Integer.parseInt(numberOfYearsString);\r\n\t\t\tmortgage.setNumberOfYears(numberOfYears);\r\n\t\r\n\t\r\n\t\t\t//set loan amount\r\n\t\t\tString loanAmountString = JOptionPane.showInputDialog(null,&quot;Enter loan amount, for example 10000.00&quot;,JOptionPane.QUESTION_MESSAGE);\r\n\t\t\tloanAmount= Double.parseDouble(loanAmountString);\r\n\t\t\tmortgage.setLoanAmount(loanAmount);\r\n\t\r\n\t\r\n\t\t\t//Invoke monthly and total payment\r\n\t\t\tmonthlyInterestRate=annualInterestRate/1200;\r\n\t\t\tmonthlyPayment=loanAmount*monthlyInterestRate /(1-(Math.pow(1/(1+monthlyInterestRate),numberOfYears*12)));\r\n\t\t\ttotalPayment=monthlyPayment*numberOfYears*12;\r\n\t\r\n\t\t\t//display monthly and total payment\r\n\t\t\tJOptionPane.showMessageDialog(null,&quot;The monthly payment is&quot;+ &quot; &quot; + fmt.format(monthlyPayment)+&#39;\\n&#39;\r\n\t\t\t\t\t+&quot;The total payment is&quot;+ &quot; &quot; + fmt.format(totalPayment));  \r\n\t\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\r\n","title":"Looking for a way to keep two decimal places without rounding up","body":"<p>I have to display my outputs with two decimal places and the program outputs should be 205.16 for monthly payment and 12309.91 for total payment. Before using decimal format to round the answers where correct but after rounding to two decimal places the outputs are now .01 to high. What can I do to remove the extra decimal places without rounding up .01?</p>\n\n<pre><code>import javax.swing.*;\nimport java.text.*;\n\n\n/**\n *DriverMortgageClass\n */\n\npublic class DriverMortgageClass\n{\n    public double annualInterestRate;\n    public int    numberOfYears;\n    public double loanAmount;\n    public double monthlyPayment;\n    public double totalPayment;\n    public double monthlyInterestRate;\n\n    DecimalFormat fmt = new    DecimalFormat (\"0.00\");\n\n    //main method\n    public static void main(String[] args) {\n        new DriverMortgageClass().start();\n    }\n\n    //declare private mortgage object\n    private Mortgage mortgage;\n\n    public DriverMortgageClass()\n\n    {   \n        mortgage = new Mortgage();\n    }\n    public void start()\n    {\n\n        //get input for interest rate\n        String annualInterestRateString = JOptionPane.showInputDialog(null,\"Enter yearly interest rate, for example 8.5\",JOptionPane.QUESTION_MESSAGE);\n        annualInterestRate=Double.parseDouble(annualInterestRateString);\n        mortgage.setAnnualInterestRate(annualInterestRate);\n\n\n        //get input for number of years\n        String numberOfYearsString = JOptionPane.showInputDialog(null,\"Enter number of years as an integer, for example 5\",JOptionPane.QUESTION_MESSAGE);\n        numberOfYears= Integer.parseInt(numberOfYearsString);\n        mortgage.setNumberOfYears(numberOfYears);\n\n\n        //set loan amount\n        String loanAmountString = JOptionPane.showInputDialog(null,\"Enter loan amount, for example 10000.00\",JOptionPane.QUESTION_MESSAGE);\n        loanAmount= Double.parseDouble(loanAmountString);\n        mortgage.setLoanAmount(loanAmount);\n\n\n        //Invoke monthly and total payment\n        monthlyInterestRate=annualInterestRate/1200;\n        monthlyPayment=loanAmount*monthlyInterestRate /(1-(Math.pow(1/(1+monthlyInterestRate),numberOfYears*12)));\n        totalPayment=monthlyPayment*numberOfYears*12;\n\n        //display monthly and total payment\n        JOptionPane.showMessageDialog(null,\"The monthly payment is\"+ \" \" + fmt.format(monthlyPayment)+'\\n'\n                +\"The total payment is\"+ \" \" + fmt.format(totalPayment));  \n\n        System.exit(0);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring","extjs"],"comments":[{"owner":{"account_id":4643497,"reputation":545,"user_id":4065407,"accept_rate":56,"display_name":"leonard.javiniar"},"score":0,"creation_date":1677251341,"post_id":75053114,"comment_id":133306619,"body_markdown":"How is this an extjs question?","body":"How is this an extjs question?"}],"answers":[{"tags":[],"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673243168,"creation_date":1673243168,"answer_id":75053575,"question_id":75053114,"body_markdown":"Hope this helps. All the necessary information is mentioned inside the code itself.\r\n\r\n    import java.util.Iterator;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    public class Main {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString inputString = &quot;{&#39;a&#39;: 100, &#39;b&#39;: 200, &#39;c&#39;: 300, &#39;d&#39;: &#39;calc(a+c)&#39;, &#39;f&#39;: {&#39;g&#39;: 100, &#39;h&#39;: 200, &#39;i&#39;: &#39;calc(g+h)&#39;} }&quot;;\r\n    \r\n    \t\tJSONObject newJSON = parseJSONValue(inputString, new JSONObject());\r\n    \r\n    \t\tSystem.out.println(newJSON.toString());\r\n    \t\t// {&quot;a&quot;:100,&quot;b&quot;:200,&quot;c&quot;:300,&quot;d&quot;:400,&quot;f&quot;:{&quot;g&quot;:100,&quot;h&quot;:200,&quot;i&quot;:300}}\r\n    \r\n    \t}\r\n    \r\n    \tpublic static JSONObject parseJSONValue(String inputString, JSONObject resultJSON) {\r\n    \r\n    \t\t// Parse your string as JSONObject\r\n    \t\tJSONObject jsonObject = new JSONObject(inputString);\r\n    \t\tIterator&lt;String&gt; keys = jsonObject.keys();\r\n    \r\n    \t\t// Iterate through your keys\r\n    \t\twhile (keys.hasNext()) {\r\n    \r\n    \t\t\tString key = keys.next();\r\n    \t\t\tObject value = jsonObject.get(key);\r\n    \r\n    \t\t\tif (value instanceof Integer) {\r\n    \r\n    \t\t\t\t// Your normal values\r\n    \r\n    \t\t\t} else if (value instanceof String) {\r\n    \r\n    \t\t\t\t// Your &#39;calc(x+y)&#39; strings\r\n    \r\n    \t\t\t\t// Extract everything between &quot;(&quot; and &quot;)&quot; from calc(a+c)\r\n    \t\t\t\tPattern pattern = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;);\r\n    \t\t\t\tMatcher m = pattern.matcher(value.toString());\r\n    \r\n    \t\t\t\twhile (m.find()) {\r\n    \r\n    \t\t\t\t\t// a+c\r\n    \t\t\t\t\tString evalString = m.group(1);\r\n    \r\n    \t\t\t\t\t// Split by &#39;+&#39;\r\n    \t\t\t\t\tString[] splitEvalString = evalString.split(&quot;\\\\+&quot;);\r\n    \r\n    \t\t\t\t\t// Check if exactly 2 values are found\r\n    \t\t\t\t\tif (splitEvalString.length == 2) {\r\n    \t\t\t\t\t\tvalue = (Integer) jsonObject.get(splitEvalString[0])\r\n    \t\t\t\t\t\t\t\t+ (Integer) jsonObject.get(splitEvalString[1]);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t} else if (value instanceof JSONObject) {\r\n    \t\t\t\t// Your nested JSONObjects\r\n    \t\t\t\t// Recursively call this method\r\n    \t\t\t\tvalue = parseJSONValue(value.toString(), new JSONObject());\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Add to your new JSON Object\r\n    \t\t\tresultJSON.put(key, value);\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn resultJSON;\r\n    \r\n    \t}\r\n    \r\n    }","title":"Evaluate JSON object with expression with variable name, Josson","body":"<p>Hope this helps. All the necessary information is mentioned inside the code itself.</p>\n<pre><code>import java.util.Iterator;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nimport org.json.JSONObject;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        String inputString = &quot;{'a': 100, 'b': 200, 'c': 300, 'd': 'calc(a+c)', 'f': {'g': 100, 'h': 200, 'i': 'calc(g+h)'} }&quot;;\n\n        JSONObject newJSON = parseJSONValue(inputString, new JSONObject());\n\n        System.out.println(newJSON.toString());\n        // {&quot;a&quot;:100,&quot;b&quot;:200,&quot;c&quot;:300,&quot;d&quot;:400,&quot;f&quot;:{&quot;g&quot;:100,&quot;h&quot;:200,&quot;i&quot;:300}}\n\n    }\n\n    public static JSONObject parseJSONValue(String inputString, JSONObject resultJSON) {\n\n        // Parse your string as JSONObject\n        JSONObject jsonObject = new JSONObject(inputString);\n        Iterator&lt;String&gt; keys = jsonObject.keys();\n\n        // Iterate through your keys\n        while (keys.hasNext()) {\n\n            String key = keys.next();\n            Object value = jsonObject.get(key);\n\n            if (value instanceof Integer) {\n\n                // Your normal values\n\n            } else if (value instanceof String) {\n\n                // Your 'calc(x+y)' strings\n\n                // Extract everything between &quot;(&quot; and &quot;)&quot; from calc(a+c)\n                Pattern pattern = Pattern.compile(&quot;\\\\((.*?)\\\\)&quot;);\n                Matcher m = pattern.matcher(value.toString());\n\n                while (m.find()) {\n\n                    // a+c\n                    String evalString = m.group(1);\n\n                    // Split by '+'\n                    String[] splitEvalString = evalString.split(&quot;\\\\+&quot;);\n\n                    // Check if exactly 2 values are found\n                    if (splitEvalString.length == 2) {\n                        value = (Integer) jsonObject.get(splitEvalString[0])\n                                + (Integer) jsonObject.get(splitEvalString[1]);\n                    }\n\n                }\n\n            } else if (value instanceof JSONObject) {\n                // Your nested JSONObjects\n                // Recursively call this method\n                value = parseJSONValue(value.toString(), new JSONObject());\n            }\n\n            // Add to your new JSON Object\n            resultJSON.put(key, value);\n\n        }\n\n        return resultJSON;\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27473411,"reputation":59,"user_id":20961840,"display_name":"dattam katore"},"score":0,"creation_date":1673266064,"post_id":75053760,"comment_id":132452241,"body_markdown":"Hello @Raymond, Thanks for the answer. This solves the issue where we know the json structure. But can you suggest more generic way where the json structure is not known and json can be iterated and eval can be done wherever some formuala like calc, concat is used. Also maintain the depth of json","body":"Hello @Raymond, Thanks for the answer. This solves the issue where we know the json structure. But can you suggest more generic way where the json structure is not known and json can be iterated and eval can be done wherever some formuala like calc, concat is used. Also maintain the depth of json"},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1673337781,"post_id":75053760,"comment_id":132470254,"body_markdown":"I&#39;m the author of Josson.  Currently, function `findAndModify()` only support array. I&#39;m thinking of enhancing the function to support object too. It will be available in the next version.","body":"I&#39;m the author of Josson.  Currently, function <code>findAndModify()</code> only support array. I&#39;m thinking of enhancing the function to support object too. It will be available in the next version."},{"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"score":0,"creation_date":1673360356,"post_id":75053760,"comment_id":132477674,"body_markdown":"Added a suggestion","body":"Added a suggestion"}],"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673360101,"creation_date":1673245151,"answer_id":75053760,"question_id":75053114,"body_markdown":"    Josson josson = Josson.fromJsonString(jsonString);\r\n    JsonNode node = josson.getNode(&quot;field(d:eval(d), f.field(i:eval(i)))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n_Output_\r\n\r\n    {\r\n      &quot;a&quot; : 100,\r\n      &quot;b&quot; : 200,\r\n      &quot;c&quot; : 300,\r\n      &quot;d&quot; : 400.0,\r\n      &quot;f&quot; : {\r\n        &quot;g&quot; : 100,\r\n        &quot;h&quot; : 200,\r\n        &quot;i&quot; : 300.0\r\n      }\r\n    }\r\n\r\n__For unknown structure__\r\n\r\n_This solution assumes_\r\n\r\n- the evaluation statement contains `()`\r\n- there is only one evaluation statement in each level\r\n- you need to know the next level child name (`f` in this example)\r\n\r\n_Transformation_\r\n\r\n    JsonNode node = josson.getNode(\r\n        &quot;let($p: &#39;.+\\\\(.*\\\\).*&#39;)&quot; +\r\n        &quot;.field(entries().[value =~ $p].key :: eval(*[value =~ $p]),&quot; +\r\n        &quot;       f.field(entries().[value =~ $p].key :: eval(*[value =~ $p]))&quot; +\r\n        &quot;)&quot;);\r\n\r\n__Suggest to group all the expressions in a pre-defined array__\r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;a\\&quot;: 100,&quot; +\r\n        &quot;  \\&quot;b\\&quot;: 200,&quot; +\r\n        &quot;  \\&quot;c\\&quot;: 300,&quot; +\r\n        &quot;  \\&quot;f\\&quot;: {&quot; +\r\n        &quot;    \\&quot;g\\&quot;: 100,&quot; +\r\n        &quot;    \\&quot;h\\&quot;: 200&quot; +\r\n        &quot;  },&quot; +\r\n        &quot;  \\&quot;exp\\&quot;: [\\&quot;$.calc(a+c)\\&quot;,&quot; +\r\n        &quot;            \\&quot;$.calc(g+h, g:f.g, h:f.h)\\&quot;,&quot; +\r\n        &quot;            \\&quot;$.concat(a, &#39;+&#39;, c, &#39;=&#39;, calc(a+c))\\&quot;,&quot; +\r\n        &quot;            \\&quot;$.concat(f.g, &#39;+&#39;, f.h, &#39;=&#39;, calc(g+h, g:f.g, h:f.h))\\&quot;&quot; +\r\n        &quot;           ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;field(exp@.eval())&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\n_Output_\r\n\r\n    {\r\n      &quot;a&quot; : 100,\r\n      &quot;b&quot; : 200,\r\n      &quot;c&quot; : 300,\r\n      &quot;f&quot; : {\r\n        &quot;g&quot; : 100,\r\n        &quot;h&quot; : 200\r\n      },\r\n      &quot;exp&quot; : [ 400.0, 300.0, &quot;100+300=400.0&quot;, &quot;100+200=300.0&quot; ]\r\n    }","title":"Evaluate JSON object with expression with variable name, Josson","body":"<pre><code>Josson josson = Josson.fromJsonString(jsonString);\nJsonNode node = josson.getNode(&quot;field(d:eval(d), f.field(i:eval(i)))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>{\n  &quot;a&quot; : 100,\n  &quot;b&quot; : 200,\n  &quot;c&quot; : 300,\n  &quot;d&quot; : 400.0,\n  &quot;f&quot; : {\n    &quot;g&quot; : 100,\n    &quot;h&quot; : 200,\n    &quot;i&quot; : 300.0\n  }\n}\n</code></pre>\n<p><strong>For unknown structure</strong></p>\n<p><em>This solution assumes</em></p>\n<ul>\n<li>the evaluation statement contains <code>()</code></li>\n<li>there is only one evaluation statement in each level</li>\n<li>you need to know the next level child name (<code>f</code> in this example)</li>\n</ul>\n<p><em>Transformation</em></p>\n<pre><code>JsonNode node = josson.getNode(\n    &quot;let($p: '.+\\\\(.*\\\\).*')&quot; +\n    &quot;.field(entries().[value =~ $p].key :: eval(*[value =~ $p]),&quot; +\n    &quot;       f.field(entries().[value =~ $p].key :: eval(*[value =~ $p]))&quot; +\n    &quot;)&quot;);\n</code></pre>\n<p><strong>Suggest to group all the expressions in a pre-defined array</strong></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;a\\&quot;: 100,&quot; +\n    &quot;  \\&quot;b\\&quot;: 200,&quot; +\n    &quot;  \\&quot;c\\&quot;: 300,&quot; +\n    &quot;  \\&quot;f\\&quot;: {&quot; +\n    &quot;    \\&quot;g\\&quot;: 100,&quot; +\n    &quot;    \\&quot;h\\&quot;: 200&quot; +\n    &quot;  },&quot; +\n    &quot;  \\&quot;exp\\&quot;: [\\&quot;$.calc(a+c)\\&quot;,&quot; +\n    &quot;            \\&quot;$.calc(g+h, g:f.g, h:f.h)\\&quot;,&quot; +\n    &quot;            \\&quot;$.concat(a, '+', c, '=', calc(a+c))\\&quot;,&quot; +\n    &quot;            \\&quot;$.concat(f.g, '+', f.h, '=', calc(g+h, g:f.g, h:f.h))\\&quot;&quot; +\n    &quot;           ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;field(exp@.eval())&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>{\n  &quot;a&quot; : 100,\n  &quot;b&quot; : 200,\n  &quot;c&quot; : 300,\n  &quot;f&quot; : {\n    &quot;g&quot; : 100,\n    &quot;h&quot; : 200\n  },\n  &quot;exp&quot; : [ 400.0, 300.0, &quot;100+300=400.0&quot;, &quot;100+200=300.0&quot; ]\n}\n</code></pre>\n"}],"owner":{"account_id":27473411,"reputation":59,"user_id":20961840,"display_name":"dattam katore"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":386,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1675254473,"creation_date":1673237476,"question_id":75053114,"body_markdown":"We need to evaluate JSON object expressions in java.\r\n\r\nWe have the following source JSON object\r\n\r\n```javascript\r\n{\r\n  &quot;a&quot;: 100,\r\n  &quot;b&quot;: 200,\r\n  &quot;c&quot;: 300,\r\n  &quot;d&quot;: &quot;calc(a+c)&quot;,\r\n  &quot;f&quot;: {\r\n    &quot;g&quot;: 100,\r\n    &quot;h&quot;: 200,\r\n    &quot;i&quot;: &quot;calc(g+h)&quot;\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwe need output this format\r\n\r\n```javascript\r\n{\r\n  &quot;a&quot;: 100,\r\n  &quot;b&quot;: 200,\r\n  &quot;c&quot;: 300,\r\n  &quot;d&quot;: 400,\r\n   &quot;f&quot;: {\r\n    &quot;g&quot;: 100,\r\n    &quot;h&quot;: 200,\r\n    &quot;i&quot;: 300\r\n  }\r\n}\r\n```\r\n\r\nWe tried \r\n\r\nwe tried https://github.com/octomix/josson but that is more of a filtering JSON.","title":"Evaluate JSON object with expression with variable name, Josson","body":"<p>We need to evaluate JSON object expressions in java.</p>\n<p>We have the following source JSON object</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;a&quot;: 100,\n  &quot;b&quot;: 200,\n  &quot;c&quot;: 300,\n  &quot;d&quot;: &quot;calc(a+c)&quot;,\n  &quot;f&quot;: {\n    &quot;g&quot;: 100,\n    &quot;h&quot;: 200,\n    &quot;i&quot;: &quot;calc(g+h)&quot;\n  }\n}\n</code></pre>\n<p>we need output this format</p>\n<pre class=\"lang-js prettyprint-override\"><code>{\n  &quot;a&quot;: 100,\n  &quot;b&quot;: 200,\n  &quot;c&quot;: 300,\n  &quot;d&quot;: 400,\n   &quot;f&quot;: {\n    &quot;g&quot;: 100,\n    &quot;h&quot;: 200,\n    &quot;i&quot;: 300\n  }\n}\n</code></pre>\n<p>We tried</p>\n<p>we tried <a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a> but that is more of a filtering JSON.</p>\n"},{"tags":["java","gradle","ant"],"owner":{"account_id":1592013,"reputation":829,"user_id":1475135,"accept_rate":100,"display_name":"chriskilding"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675254016,"creation_date":1675254016,"question_id":75310101,"body_markdown":"I am migrating a legacy Ant/Ivy project to Gradle. I am doing this in incremental stages per the recommendations in the Gradle docs. I have started by simply wrapping the Ant build wholesale in Gradle with `ant.importBuild(&#39;/path/to/build.xml&#39;)`. The future aim is to replace the Ant build, but this is the first step.\r\n\r\nThe extra complication is that I cannot modify the legacy project at this time; it&#39;s in a couple of upstream repositories (think `github.com/example/foo.git` and `github.com/example/bar.git`). I am therefore importing them from Git as Gradle source dependencies, and am using Gradle plugin injection to &#39;inject&#39; a Gradle build into them. (It&#39;s possible that the source dependency aspect is an orthogonal detail that does not have a bearing on the solution, but I have mentioned it for completeness.)\r\n\r\nThe Ant portion of the injected build works: it gets as far as generating the .jar under the respective module&#39;s `dist/jar` folder.\r\n\r\nHowever, because this happens within Ant&#39;s world, this .jar does not seem to be exported for consumers of the Gradle module to see. So when the downstream project builds (which depends on the Gradle source dependencies), you see an error like this:\r\n\r\n&gt; Git repository at ssh://git@github.com/example/foo.git did not contain a project publishing the specified dependency.\r\n\r\nSo the question is, how do I mark the .jar file(s) built by Ant to be exported from Gradle? (Effectively, so that consumers of the dependency recognise it as the module output.)\r\n\r\n---\r\n\r\nSome more details...\r\n\r\nMy project structure looks like this:\r\n\r\n```\r\n/\r\n  plugins/\r\n    src/\r\n      main/\r\n        groovy/\r\n          FooBuildPlugin   # injects Gradle build into github.com/example/foo.git\r\n          BarBuildPlugin   # likewise for bar.git\r\n    build.gradle\r\n  src/\r\n    main/\r\n      java/\r\n        # ...code that uses foo and bar\r\n  build.gradle\r\n  settings.gradle   # defines the Gradle source dependencies for foo and bar\r\n```\r\n\r\nI have extensively read around the Gradle Ant integration docs at &lt;https://docs.gradle.org/current/userguide/ant.html&gt;, and although it is pretty comprehensive at covering most steps of using Ant from Gradle, it does not seem to cover the final step of including Ant&#39;s output in the Gradle module.","title":"How to export the output of an Ant build within a Gradle build","body":"<p>I am migrating a legacy Ant/Ivy project to Gradle. I am doing this in incremental stages per the recommendations in the Gradle docs. I have started by simply wrapping the Ant build wholesale in Gradle with <code>ant.importBuild('/path/to/build.xml')</code>. The future aim is to replace the Ant build, but this is the first step.</p>\n<p>The extra complication is that I cannot modify the legacy project at this time; it's in a couple of upstream repositories (think <code>github.com/example/foo.git</code> and <code>github.com/example/bar.git</code>). I am therefore importing them from Git as Gradle source dependencies, and am using Gradle plugin injection to 'inject' a Gradle build into them. (It's possible that the source dependency aspect is an orthogonal detail that does not have a bearing on the solution, but I have mentioned it for completeness.)</p>\n<p>The Ant portion of the injected build works: it gets as far as generating the .jar under the respective module's <code>dist/jar</code> folder.</p>\n<p>However, because this happens within Ant's world, this .jar does not seem to be exported for consumers of the Gradle module to see. So when the downstream project builds (which depends on the Gradle source dependencies), you see an error like this:</p>\n<blockquote>\n<p>Git repository at ssh://git@github.com/example/foo.git did not contain a project publishing the specified dependency.</p>\n</blockquote>\n<p>So the question is, how do I mark the .jar file(s) built by Ant to be exported from Gradle? (Effectively, so that consumers of the dependency recognise it as the module output.)</p>\n<hr />\n<p>Some more details...</p>\n<p>My project structure looks like this:</p>\n<pre><code>/\n  plugins/\n    src/\n      main/\n        groovy/\n          FooBuildPlugin   # injects Gradle build into github.com/example/foo.git\n          BarBuildPlugin   # likewise for bar.git\n    build.gradle\n  src/\n    main/\n      java/\n        # ...code that uses foo and bar\n  build.gradle\n  settings.gradle   # defines the Gradle source dependencies for foo and bar\n</code></pre>\n<p>I have extensively read around the Gradle Ant integration docs at <a href=\"https://docs.gradle.org/current/userguide/ant.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/ant.html</a>, and although it is pretty comprehensive at covering most steps of using Ant from Gradle, it does not seem to cover the final step of including Ant's output in the Gradle module.</p>\n"},{"tags":["java","android","thermal-printer","escpos","usbmanager"],"owner":{"account_id":27023557,"reputation":23,"user_id":20581197,"display_name":"Dani Puente"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675253740,"creation_date":1675253740,"question_id":75310051,"body_markdown":"The printer uses USB connection and ESC/POS commands, I can send commands with BulkTransfer:\r\n\r\n```\r\n        val usbManager = context.getSystemService(Context.USB_SERVICE) as UsbManager\r\n        val device: UsbDevice? =\r\n            usbManager.deviceList.values.firstOrNull { it.vendorId == vid &amp;&amp; it.productId == pid }\r\n        if (device != null) {\r\n            var textToPrint = text(&quot;Prueba&quot;)\r\n            textToPrint = appendCommands(textToPrint, printAndNLinesFeedForward(&quot;6&quot;))\r\n            textToPrint = appendCommands(textToPrint, paperCut(&quot;0&quot;))\r\n            val connection: UsbDeviceConnection = usbManager.openDevice(device)\r\n            connection.claimInterface(device.getInterface(0), true)\r\n            val con = connection.bulkTransfer(\r\n                device.getInterface(0).getEndpoint(0),\r\n                textToPrint.toByteArray(),\r\n                textToPrint.size,\r\n                0\r\n            )\r\n            println(con)\r\n            connection.releaseInterface(device.getInterface(0))\r\n            connection.close()\r\n\r\n\r\n        } else {\r\n            Log.e(&quot;errores&quot;, &quot;device=null&quot;)\r\n        }\r\n\r\n```\r\n\r\ntextToprint has the commands to send, appendCommands is a function that add commands and returns an array with the added command\r\n\r\n```\r\n    private fun appendCommands(byteArray1: UByteArray, byteArray2: UByteArray): UByteArray {\r\n        var byteArray = byteArray1\r\n        for (byte in byteArray2) {\r\n            byteArray += byte\r\n        }\r\n        return byteArray\r\n\r\n    }\r\n\r\n    private fun text(text: String): UByteArray {\r\n        val charset = Charsets.UTF_8\r\n        return text.toByteArray(charset).toUByteArray()\r\n    }\r\n\r\n    private fun printAndNLinesFeedForward(linesToFeed: String): UByteArray {\r\n        return ubyteArrayOf(&quot;1B&quot;.hexAsUByte, &quot;64&quot;.hexAsUByte, linesToFeed.hexAsUByte)\r\n    }\r\n\r\n    private fun paperCut(typeCut: String): UByteArray {\r\n        return ubyteArrayOf(&quot;1D&quot;.hexAsUByte, &quot;56&quot;.hexAsUByte, typeCut.hexAsUByte)\r\n    }\r\n```\r\nthis those commands in each function have hexadecimal codes provided by the printer manual\r\n[![Function printAndNLinesFeedForward example](https://i.stack.imgur.com/yC4Le.png)](https://i.stack.imgur.com/yC4Le.png)\r\n\r\n\r\n\r\nHowever, I don&#39;t know how to listen to the printer&#39;s response in the event that it doesn&#39;t have paper, for example, because the functions that I issue to listen do not return anything or I don&#39;t know where to pick it up\r\n\r\n```\r\n    private fun receiveData(pid: Int, vid: Int, context: Context) {\r\n        val usbManager = context.getSystemService(Context.USB_SERVICE) as UsbManager\r\n        val device: UsbDevice? =\r\n            usbManager.deviceList.values.firstOrNull { it.vendorId == vid &amp;&amp; it.productId == pid }\r\n        if (device != null) {\r\n            val buffer = byteArrayOf(&quot;1D&quot;.hexAsByte, &quot;72&quot;.hexAsByte, &quot;1&quot;.hexAsByte)\r\n            val connection: UsbDeviceConnection = usbManager.openDevice(device)\r\n            connection.claimInterface(device.getInterface(0), true)\r\n            connection.bulkTransfer(\r\n                device.getInterface(0).getEndpoint(1),\r\n                buffer,\r\n                buffer.size,\r\n                0\r\n            )\r\n            connection.releaseInterface(device.getInterface(0))\r\n            connection.close()\r\n\r\n\r\n        } else {\r\n            Log.e(&quot;errores&quot;, &quot;device=null&quot;)\r\n        }\r\n    }\r\n```\r\nhere i connect another endpoint, this endpoint is to receive data, and the command in buffer is this:\r\n[![variable buffer](https://i.stack.imgur.com/RMKnA.png)](https://i.stack.imgur.com/RMKnA.png)\r\nI dont know how to receive code errors from the printer","title":"&#191;How can i receive Status from a thermal printer with Android managerUsb?","body":"<p>The printer uses USB connection and ESC/POS commands, I can send commands with BulkTransfer:</p>\n<pre><code>        val usbManager = context.getSystemService(Context.USB_SERVICE) as UsbManager\n        val device: UsbDevice? =\n            usbManager.deviceList.values.firstOrNull { it.vendorId == vid &amp;&amp; it.productId == pid }\n        if (device != null) {\n            var textToPrint = text(&quot;Prueba&quot;)\n            textToPrint = appendCommands(textToPrint, printAndNLinesFeedForward(&quot;6&quot;))\n            textToPrint = appendCommands(textToPrint, paperCut(&quot;0&quot;))\n            val connection: UsbDeviceConnection = usbManager.openDevice(device)\n            connection.claimInterface(device.getInterface(0), true)\n            val con = connection.bulkTransfer(\n                device.getInterface(0).getEndpoint(0),\n                textToPrint.toByteArray(),\n                textToPrint.size,\n                0\n            )\n            println(con)\n            connection.releaseInterface(device.getInterface(0))\n            connection.close()\n\n\n        } else {\n            Log.e(&quot;errores&quot;, &quot;device=null&quot;)\n        }\n\n</code></pre>\n<p>textToprint has the commands to send, appendCommands is a function that add commands and returns an array with the added command</p>\n<pre><code>    private fun appendCommands(byteArray1: UByteArray, byteArray2: UByteArray): UByteArray {\n        var byteArray = byteArray1\n        for (byte in byteArray2) {\n            byteArray += byte\n        }\n        return byteArray\n\n    }\n\n    private fun text(text: String): UByteArray {\n        val charset = Charsets.UTF_8\n        return text.toByteArray(charset).toUByteArray()\n    }\n\n    private fun printAndNLinesFeedForward(linesToFeed: String): UByteArray {\n        return ubyteArrayOf(&quot;1B&quot;.hexAsUByte, &quot;64&quot;.hexAsUByte, linesToFeed.hexAsUByte)\n    }\n\n    private fun paperCut(typeCut: String): UByteArray {\n        return ubyteArrayOf(&quot;1D&quot;.hexAsUByte, &quot;56&quot;.hexAsUByte, typeCut.hexAsUByte)\n    }\n</code></pre>\n<p>this those commands in each function have hexadecimal codes provided by the printer manual\n<a href=\"https://i.stack.imgur.com/yC4Le.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yC4Le.png\" alt=\"Function printAndNLinesFeedForward example\" /></a></p>\n<p>However, I don't know how to listen to the printer's response in the event that it doesn't have paper, for example, because the functions that I issue to listen do not return anything or I don't know where to pick it up</p>\n<pre><code>    private fun receiveData(pid: Int, vid: Int, context: Context) {\n        val usbManager = context.getSystemService(Context.USB_SERVICE) as UsbManager\n        val device: UsbDevice? =\n            usbManager.deviceList.values.firstOrNull { it.vendorId == vid &amp;&amp; it.productId == pid }\n        if (device != null) {\n            val buffer = byteArrayOf(&quot;1D&quot;.hexAsByte, &quot;72&quot;.hexAsByte, &quot;1&quot;.hexAsByte)\n            val connection: UsbDeviceConnection = usbManager.openDevice(device)\n            connection.claimInterface(device.getInterface(0), true)\n            connection.bulkTransfer(\n                device.getInterface(0).getEndpoint(1),\n                buffer,\n                buffer.size,\n                0\n            )\n            connection.releaseInterface(device.getInterface(0))\n            connection.close()\n\n\n        } else {\n            Log.e(&quot;errores&quot;, &quot;device=null&quot;)\n        }\n    }\n</code></pre>\n<p>here i connect another endpoint, this endpoint is to receive data, and the command in buffer is this:\n<a href=\"https://i.stack.imgur.com/RMKnA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RMKnA.png\" alt=\"variable buffer\" /></a>\nI dont know how to receive code errors from the printer</p>\n"},{"tags":["java","java-stream","java-11"],"answers":[{"comments":[{"owner":{"account_id":26786514,"reputation":33,"user_id":20380620,"display_name":"Ketan Upase"},"score":0,"creation_date":1675234504,"post_id":75301695,"comment_id":132882136,"body_markdown":"Hi, thank you for your solution, it works well, but i am also looking for java optimized solution as I have implemented caching and filtering properties at cache level","body":"Hi, thank you for your solution, it works well, but i am also looking for java optimized solution as I have implemented caching and filtering properties at cache level"}],"tags":[],"owner":{"account_id":9487799,"reputation":16379,"user_id":7635569,"display_name":"JGH"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675190128,"creation_date":1675190128,"answer_id":75301695,"question_id":75301310,"body_markdown":"When selecting just a few rows, you can join the table to itself and keep the data in the first available language\r\n\r\n```sql\r\nSELECT \r\n     coalesce(l1.food_property_id,l2.food_property_id) food_property_id,\r\n     coalesce(l1.food_id, l2.food_id) food_id,    \r\n     coalesce(l1.property_id, l2.property_id) property_id,         \r\n     coalesce(l1.value, l2.value) value,              \r\n     coalesce(l1.language_id, l2.language_id) language_id\r\nFROM food_properties l1\r\n LEFT JOIN food_properties l2 \r\n  ON l1.food_id = l2.food_id \r\n  AND l1.property_id = l2.property_id\r\n  AND l2.language_id = 999 --default_language_id\r\nWHERE l1.language_id = 1   --ideal_language_id\r\n```\r\n\r\nNote that this approach is simpler if you have two tables, one for the generic attributes and one for the localized attributes.","title":"fetch properties in preferred language if doesn&#39;t exist fetch in default language","body":"<p>When selecting just a few rows, you can join the table to itself and keep the data in the first available language</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT \n     coalesce(l1.food_property_id,l2.food_property_id) food_property_id,\n     coalesce(l1.food_id, l2.food_id) food_id,    \n     coalesce(l1.property_id, l2.property_id) property_id,         \n     coalesce(l1.value, l2.value) value,              \n     coalesce(l1.language_id, l2.language_id) language_id\nFROM food_properties l1\n LEFT JOIN food_properties l2 \n  ON l1.food_id = l2.food_id \n  AND l1.property_id = l2.property_id\n  AND l2.language_id = 999 --default_language_id\nWHERE l1.language_id = 1   --ideal_language_id\n</code></pre>\n<p>Note that this approach is simpler if you have two tables, one for the generic attributes and one for the localized attributes.</p>\n"}],"owner":{"account_id":26786514,"reputation":33,"user_id":20380620,"display_name":"Ketan Upase"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675253667,"creation_date":1675188239,"question_id":75301310,"body_markdown":"I have food table having number of foods, each food can have specific properties in multiple languages (en, es) like name, description etc. But it is not sure if all of the properties are always present for preferred language of that user, so if they are not present for preferred language we can pick the properties from default language, So that we can be sure that we have data all the time to show on our app,\r\n\r\nHere is my PostgreSQL table structure\r\n\r\nFood Table:\r\n\r\n| food_id | visibility |\r\n| ------- | ---------- |\r\n|       1 |       true |\r\n\r\n\r\nProperties Table:\r\n\r\n| property_id | property_code |\r\n| ----------- | ------------- |\r\n|           1 |          name |\r\n|           2 |   description |\r\n|           3 |    short desc |\r\n\r\n\r\nFood Properties Table:\r\n\r\n| food_property_id | food_id | property_id | value           | language_id |\r\n| ---------------- | ------- | ----------- | --------------- | ----------- |\r\n|                1 |       1 |           1 | food name in en |\t        en |\r\n|                2 |       1 |\t         1 | food name in es |\t        es |\r\n|                3 |\t   1 |\t         2 | food description in en |    en |\r\n|                4 |       1 |\t         2 | food description in es\t|   es |\r\n|                5 |       1 |\t         3 | food short desc in en  |   en |\r\n|                6 |       1 |           3 | food short desc in es  |   es |\r\n\r\n\r\nCase 1:\r\n\r\nPreferred language - es || Default language - en\r\n\r\nAll es properties are exists - fetch them all\r\n\r\nResult:\r\n\r\nFood Properties Table:\r\n\r\n| food_property_id | food_id | property_id | value | language id |\r\n| ---------------- | ------- | ----------- | ----- | ----------- | \r\n|                2 |       1 |           1 | food name in es  |       es |\r\n|                4 |\t   1 |           2 | food description in es | es |\r\n|                6 |       1 |\t         3 | food short desc in es | es |\r\n\r\nCase 2:\r\n\r\nPreferred language - es || Default language - en\r\n\r\nProperty Id 2 (description) and 3 (short desc) are missing for es, fetch from default language (en)\r\n\r\nFood Properties Table:\r\n\r\n| food_property_id | food_id | property_id | value | language_id |\r\n| ---------------- | ------- | ----------- | ----- | ----------- |\r\n|                2 |       1 |           1 | food name in es | es |\r\n|                3 |       1 |\t         2 | food description in en | en |\r\n|                5 |       1 |           3 | food short desc in en | en |\r\n\r\nI hope the idea is clear to you now: We want to ensure that if specific property does not exists look for that property in default language, I \r\nhave to show this food list in app to multiple users with different languages, and it is not guaranteed that all the properties are present for that food. So its ok that we can show properties from default language, just to ensure that all the data on app always looks filled and not empty.\r\n\r\nI am using PostgreSQL as database and Java for programming, I am open to solution on both languages, Java preferred as I have used caching layer and filtering properties at that level, I tried a lot but used too many loops to compare each item with each other, so looking for optimized one. \r\n\r\n\r\n```\r\npublic class FoodTest {\r\n\tclass FoodProperties {\r\n\t\tprivate String propertyCode;\r\n\t\tprivate String value;\r\n\t\tprivate String languageId;\r\n\t\t// getters, setters, constructors\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tList&lt;FoodProperties&gt; foodProperties = new ArrayList&lt;&gt;();\r\n\t\tFoodProperties p1 = new FoodProperties(&quot;1&quot;, &quot;food name in en&quot;, &quot;en&quot;);\r\n\t\tFoodProperties p2 = new FoodProperties(&quot;1&quot;, &quot;food name in es&quot;, &quot;es&quot;);\r\n\t\tFoodProperties p3 = new FoodProperties(&quot;2&quot;, &quot;description in en&quot;, &quot;en&quot;);\r\n\t\tFoodProperties p4 = new FoodProperties(&quot;2&quot;, &quot;description in es&quot;, &quot;es&quot;);\r\n\t\tFoodProperties p5 = new FoodProperties(&quot;3&quot;, &quot;short desc in en&quot;, &quot;en&quot;);\r\n\r\n\t\tfoodProperties.add(p1);\r\n\t\tfoodProperties.add(p2);\r\n\t\tfoodProperties.add(p3);\r\n\t\tfoodProperties.add(p4);\r\n\t\tfoodProperties.add(p5);\r\n\r\n\t\tString preferredLanguage = &quot;es&quot;;\r\n\t\tString defaultLanguage = &quot;en&quot;;\r\n\r\n\t\tList&lt;FoodProperties&gt; result = new ArrayList&lt;&gt;();\r\n\t\tfor (FoodProperties foodProperty : foodProperties) {\r\n\t\t\tString propertyCode = foodProperty.getPropertyCode();\r\n\t\t\tOptional&lt;FoodProperties&gt; food = foodProperties.stream()\r\n\t\t\t\t\t.filter(f -&gt; f.getLanguageId().equals(preferredLanguage)\r\n\t\t\t\t\t\t\t&amp;&amp; f.getPropertyCode().equals(propertyCode))\r\n\t\t\t\t\t.findFirst();\r\n\t\t\tif (food.isPresent()) {\r\n\t\t\t\tresult.add(food.get());\r\n\t\t\t} else {\r\n\t\t\t\tOptional&lt;FoodProperties&gt; foodDef = foodProperties.stream()\r\n\t\t\t\t\t\t.filter(f -&gt; f.getLanguageId().equals(defaultLanguage)\r\n\t\t\t\t\t\t\t\t&amp;&amp; f.getPropertyCode().equals(propertyCode))\r\n\t\t\t\t\t\t.findFirst();\r\n\t\t\t\tif (foodDef.isPresent()) {\r\n\t\t\t\t\tresult.add(foodDef.get());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (FoodProperties foodPropertiesData : result) {\r\n\t\t\tSystem.out.println(foodPropertiesData);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"fetch properties in preferred language if doesn&#39;t exist fetch in default language","body":"<p>I have food table having number of foods, each food can have specific properties in multiple languages (en, es) like name, description etc. But it is not sure if all of the properties are always present for preferred language of that user, so if they are not present for preferred language we can pick the properties from default language, So that we can be sure that we have data all the time to show on our app,</p>\n<p>Here is my PostgreSQL table structure</p>\n<p>Food Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>food_id</th>\n<th>visibility</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>true</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Properties Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>property_id</th>\n<th>property_code</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>name</td>\n</tr>\n<tr>\n<td>2</td>\n<td>description</td>\n</tr>\n<tr>\n<td>3</td>\n<td>short desc</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Food Properties Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>food_property_id</th>\n<th>food_id</th>\n<th>property_id</th>\n<th>value</th>\n<th>language_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>food name in en</td>\n<td>en</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td>food name in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>2</td>\n<td>food description in en</td>\n<td>en</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>2</td>\n<td>food description in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1</td>\n<td>3</td>\n<td>food short desc in en</td>\n<td>en</td>\n</tr>\n<tr>\n<td>6</td>\n<td>1</td>\n<td>3</td>\n<td>food short desc in es</td>\n<td>es</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Case 1:</p>\n<p>Preferred language - es || Default language - en</p>\n<p>All es properties are exists - fetch them all</p>\n<p>Result:</p>\n<p>Food Properties Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>food_property_id</th>\n<th>food_id</th>\n<th>property_id</th>\n<th>value</th>\n<th>language id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td>food name in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>2</td>\n<td>food description in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>6</td>\n<td>1</td>\n<td>3</td>\n<td>food short desc in es</td>\n<td>es</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Case 2:</p>\n<p>Preferred language - es || Default language - en</p>\n<p>Property Id 2 (description) and 3 (short desc) are missing for es, fetch from default language (en)</p>\n<p>Food Properties Table:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>food_property_id</th>\n<th>food_id</th>\n<th>property_id</th>\n<th>value</th>\n<th>language_id</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td>food name in es</td>\n<td>es</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>2</td>\n<td>food description in en</td>\n<td>en</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1</td>\n<td>3</td>\n<td>food short desc in en</td>\n<td>en</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I hope the idea is clear to you now: We want to ensure that if specific property does not exists look for that property in default language, I\nhave to show this food list in app to multiple users with different languages, and it is not guaranteed that all the properties are present for that food. So its ok that we can show properties from default language, just to ensure that all the data on app always looks filled and not empty.</p>\n<p>I am using PostgreSQL as database and Java for programming, I am open to solution on both languages, Java preferred as I have used caching layer and filtering properties at that level, I tried a lot but used too many loops to compare each item with each other, so looking for optimized one.</p>\n<pre><code>public class FoodTest {\n    class FoodProperties {\n        private String propertyCode;\n        private String value;\n        private String languageId;\n        // getters, setters, constructors\n    }\n\n    public static void main(String[] args) {\n        List&lt;FoodProperties&gt; foodProperties = new ArrayList&lt;&gt;();\n        FoodProperties p1 = new FoodProperties(&quot;1&quot;, &quot;food name in en&quot;, &quot;en&quot;);\n        FoodProperties p2 = new FoodProperties(&quot;1&quot;, &quot;food name in es&quot;, &quot;es&quot;);\n        FoodProperties p3 = new FoodProperties(&quot;2&quot;, &quot;description in en&quot;, &quot;en&quot;);\n        FoodProperties p4 = new FoodProperties(&quot;2&quot;, &quot;description in es&quot;, &quot;es&quot;);\n        FoodProperties p5 = new FoodProperties(&quot;3&quot;, &quot;short desc in en&quot;, &quot;en&quot;);\n\n        foodProperties.add(p1);\n        foodProperties.add(p2);\n        foodProperties.add(p3);\n        foodProperties.add(p4);\n        foodProperties.add(p5);\n\n        String preferredLanguage = &quot;es&quot;;\n        String defaultLanguage = &quot;en&quot;;\n\n        List&lt;FoodProperties&gt; result = new ArrayList&lt;&gt;();\n        for (FoodProperties foodProperty : foodProperties) {\n            String propertyCode = foodProperty.getPropertyCode();\n            Optional&lt;FoodProperties&gt; food = foodProperties.stream()\n                    .filter(f -&gt; f.getLanguageId().equals(preferredLanguage)\n                            &amp;&amp; f.getPropertyCode().equals(propertyCode))\n                    .findFirst();\n            if (food.isPresent()) {\n                result.add(food.get());\n            } else {\n                Optional&lt;FoodProperties&gt; foodDef = foodProperties.stream()\n                        .filter(f -&gt; f.getLanguageId().equals(defaultLanguage)\n                                &amp;&amp; f.getPropertyCode().equals(propertyCode))\n                        .findFirst();\n                if (foodDef.isPresent()) {\n                    result.add(foodDef.get());\n                }\n            }\n        }\n        for (FoodProperties foodPropertiesData : result) {\n            System.out.println(foodPropertiesData);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","dictionary","collections"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1675185749,"post_id":75300691,"comment_id":132872742,"body_markdown":"Why did you try `stream.collect(Collectors.toMap())`? What was wrong with your attempt?","body":"Why did you try <code>stream.collect(Collectors.toMap())</code>? What was wrong with your attempt?"},{"owner":{"account_id":27668254,"reputation":11,"user_id":21119632,"display_name":"Devang Patel"},"score":0,"creation_date":1675187980,"post_id":75300691,"comment_id":132873420,"body_markdown":"I cannot figure out a way to map the 2nd element of the String[]","body":"I cannot figure out a way to map the 2nd element of the String[]"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1675196600,"post_id":75300691,"comment_id":132875781,"body_markdown":"By the way, in real work it would likely make more sense to define a [record](https://openjdk.org/jeps/395) to hold the elements of each array as fields in an object. A `record` can be defined locally, within a method.","body":"By the way, in real work it would likely make more sense to define a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a> to hold the elements of each array as fields in an object. A <code>record</code> can be defined locally, within a method."}],"answers":[{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1675199417,"post_id":75300732,"comment_id":132876545,"body_markdown":"Streams are not always the best option, but a stream with `Collectors.groupingBy()` seems perfectly appropriate here.","body":"Streams are not always the best option, but a stream with <code>Collectors.groupingBy()</code> seems perfectly appropriate here."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675199496,"creation_date":1675185351,"answer_id":75300732,"question_id":75300691,"body_markdown":"Streams and collectors are not always the best option:\r\n\r\n    Map&lt;String, List&lt;String[]&gt;&gt; map = new HashMap&lt;&gt;();\r\n    myListOfArrays.forEach(arr -&gt; map.computeIfAbsent(arr[1], x -&gt; new ArrayList&lt;&gt;()).add(arr));\r\n\r\nIf the key can be null and you want to store it under a blank, use the expression `arr[1] == null ? &quot;&quot; : arr[1]` instead:\r\n\r\n    myListOfArrays.forEach(arr -&gt; map.computeIfAbsent(arr[1] == null ? &quot;&quot; : arr[1], x -&gt; new ArrayList&lt;&gt;()).add(arr));","title":"Creating a Map&lt;String, ArrayList&lt;String[]&gt;&gt; from ArrayList&lt;String[]&gt; in Java","body":"<p>Streams and collectors are not always the best option:</p>\n<pre><code>Map&lt;String, List&lt;String[]&gt;&gt; map = new HashMap&lt;&gt;();\nmyListOfArrays.forEach(arr -&gt; map.computeIfAbsent(arr[1], x -&gt; new ArrayList&lt;&gt;()).add(arr));\n</code></pre>\n<p>If the key can be null and you want to store it under a blank, use the expression <code>arr[1] == null ? &quot;&quot; : arr[1]</code> instead:</p>\n<pre><code>myListOfArrays.forEach(arr -&gt; map.computeIfAbsent(arr[1] == null ? &quot;&quot; : arr[1], x -&gt; new ArrayList&lt;&gt;()).add(arr));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27668254,"reputation":11,"user_id":21119632,"display_name":"Devang Patel"},"score":0,"creation_date":1675191463,"post_id":75301493,"comment_id":132874430,"body_markdown":"Thank you. Your solution worked. I got an NullPointerException when Key was null but that won&#39;t be an issue if I replace null values with empty String.","body":"Thank you. Your solution worked. I got an NullPointerException when Key was null but that won&#39;t be an issue if I replace null values with empty String."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1675199321,"post_id":75301493,"comment_id":132876520,"body_markdown":"What&#39;s the point of `new HashMap&lt;&gt;()`? Just assign the stream result straight to your variable. Also, you don&#39;t need to work so hard to print a map. Just do `System.out.println(map);`. Otherwise, good answer.","body":"What&#39;s the point of <code>new HashMap&lt;&gt;()</code>? Just assign the stream result straight to your variable. Also, you don&#39;t need to work so hard to print a map. Just do <code>System.out.println(map);</code>. Otherwise, good answer."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675255687,"post_id":75301493,"comment_id":132888362,"body_markdown":"Or, to get your specific output format, use `map.forEach((key, val) -&gt; System.out.println(key + &quot; -- &quot;+ val));`","body":"Or, to get your specific output format, use <code>map.forEach((key, val) -&gt; System.out.println(key + &quot; -- &quot;+ val));</code>"}],"tags":[],"owner":{"account_id":8253571,"reputation":154,"user_id":6207389,"display_name":"Madhuri Kadam"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1675253618,"creation_date":1675189115,"answer_id":75301493,"question_id":75300691,"body_markdown":"Try this - \r\n\r\n    List&lt;String[]&gt; l1 = new ArrayList&lt;&gt;();\r\n\t\tl1.add(new String[]{&quot;1&quot;, &quot;NameABC&quot;, &quot;somestring&quot;});\r\n\t\tl1.add(new String[]{&quot;2&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;});\r\n\t\tl1.add(new String[]{&quot;3&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;});\r\n\t\tl1.add(new String[]{&quot;4&quot;, &quot;NameABC&quot;, &quot;somestring&quot;});\r\n\t\tl1.add(new String[]{&quot;5&quot;, &quot;NameXYZ&quot;, &quot;somestring&quot;});\r\n\t\t\r\n\t\tMap&lt;String, List&lt;String[]&gt;&gt; map = l1.stream().collect(Collectors.groupingBy(arr -&gt; arr[1]));\r\n\t\t\r\n\t\tfor (Map.Entry&lt;String, List&lt;String[]&gt;&gt; entry : map.entrySet()) {\r\n\t\t\tString key = entry.getKey();\r\n\t\t\tList&lt;String[]&gt; val = entry.getValue();\r\n\t\t\t\r\n\t\t\tSystem.out.println(key + &quot; -- &quot;+ val);\r\n\t\t}","title":"Creating a Map&lt;String, ArrayList&lt;String[]&gt;&gt; from ArrayList&lt;String[]&gt; in Java","body":"<p>Try this -</p>\n<pre><code>List&lt;String[]&gt; l1 = new ArrayList&lt;&gt;();\n    l1.add(new String[]{&quot;1&quot;, &quot;NameABC&quot;, &quot;somestring&quot;});\n    l1.add(new String[]{&quot;2&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;});\n    l1.add(new String[]{&quot;3&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;});\n    l1.add(new String[]{&quot;4&quot;, &quot;NameABC&quot;, &quot;somestring&quot;});\n    l1.add(new String[]{&quot;5&quot;, &quot;NameXYZ&quot;, &quot;somestring&quot;});\n    \n    Map&lt;String, List&lt;String[]&gt;&gt; map = l1.stream().collect(Collectors.groupingBy(arr -&gt; arr[1]));\n    \n    for (Map.Entry&lt;String, List&lt;String[]&gt;&gt; entry : map.entrySet()) {\n        String key = entry.getKey();\n        List&lt;String[]&gt; val = entry.getValue();\n        \n        System.out.println(key + &quot; -- &quot;+ val);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675199857,"creation_date":1675199857,"answer_id":75303242,"question_id":75300691,"body_markdown":"You can use `Stream` with `groupingBy()`:\r\n\r\n```java\r\npublic static Map&lt;String, List&lt;String[]&gt;&gt; convert(List&lt;String[]&gt; data) {\r\n    return data.stream().collect(Collectors.groupingBy(arr -&gt; arr[1]));\r\n}\r\n```","title":"Creating a Map&lt;String, ArrayList&lt;String[]&gt;&gt; from ArrayList&lt;String[]&gt; in Java","body":"<p>You can use <code>Stream</code> with <code>groupingBy()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, List&lt;String[]&gt;&gt; convert(List&lt;String[]&gt; data) {\n    return data.stream().collect(Collectors.groupingBy(arr -&gt; arr[1]));\n}\n</code></pre>\n"}],"owner":{"account_id":27668254,"reputation":11,"user_id":21119632,"display_name":"Devang Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1675253618,"creation_date":1675185087,"question_id":75300691,"body_markdown":"I have an ArrayList of String Array and the 2nd element of every String Array contains a name. I want to create a Map where it&#39;s Key is the name and Value is an ArrayList of all String Array which has the name.\r\n\r\nHow can I achive this in Java?\r\n\r\nInput: ArrayList&lt;String[]&gt;\r\n\r\n```\r\n{&quot;1&quot;, &quot;NameABC&quot;, &quot;somestring&quot;}\r\n{&quot;2&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;}\r\n{&quot;3&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;}\r\n{&quot;4&quot;, &quot;NameABC&quot;, &quot;somestring&quot;}\r\n{&quot;5&quot;, &quot;NameXYZ&quot;, &quot;somestring&quot;}\r\n```\r\n\r\n\r\nOutput: Map&lt;String, ArrayList&lt;String[]&gt;\r\n\r\nKey = NameABC, Value = ArrayList of String[] where every String[] has NameABC\r\n\r\nKey = NameXYZ, Value = ArrayList of String[] where every String[] has NameXYZ\r\n\r\nI&#39;ve tried using `stream.collect(Collectors.toMap())` but I can&#39;t figure out how to achieve the proper output.\r\n","title":"Creating a Map&lt;String, ArrayList&lt;String[]&gt;&gt; from ArrayList&lt;String[]&gt; in Java","body":"<p>I have an ArrayList of String Array and the 2nd element of every String Array contains a name. I want to create a Map where it's Key is the name and Value is an ArrayList of all String Array which has the name.</p>\n<p>How can I achive this in Java?</p>\n<p>Input: ArrayList&lt;String[]&gt;</p>\n<pre><code>{&quot;1&quot;, &quot;NameABC&quot;, &quot;somestring&quot;}\n{&quot;2&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;}\n{&quot;3&quot;, &quot;NameDEF&quot;, &quot;somestring&quot;}\n{&quot;4&quot;, &quot;NameABC&quot;, &quot;somestring&quot;}\n{&quot;5&quot;, &quot;NameXYZ&quot;, &quot;somestring&quot;}\n</code></pre>\n<p>Output: Map&lt;String, ArrayList&lt;String[]&gt;</p>\n<p>Key = NameABC, Value = ArrayList of String[] where every String[] has NameABC</p>\n<p>Key = NameXYZ, Value = ArrayList of String[] where every String[] has NameXYZ</p>\n<p>I've tried using <code>stream.collect(Collectors.toMap())</code> but I can't figure out how to achieve the proper output.</p>\n"},{"tags":["java","resultset"],"comments":[{"owner":{"account_id":2188639,"reputation":2082,"user_id":1936390,"accept_rate":20,"display_name":"shreyansh jogi"},"score":0,"creation_date":1370929636,"post_id":17037239,"comment_id":24628254,"body_markdown":"are you sure table contains two rows?","body":"are you sure table contains two rows?"}],"answers":[{"tags":[],"owner":{"account_id":39580,"reputation":385624,"user_id":114251,"accept_rate":87,"display_name":"Arun P Johny"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1370930048,"creation_date":1370929615,"answer_id":17037263,"question_id":17037239,"body_markdown":"It is because you are calling `rs.next()` before the loop. It returns a boolean and one row is loses its chance to be printed because of this statement.\r\n\r\n    Connection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@host:1521:DB&quot;, &quot;User&quot;,&quot;pass_01&quot;);\r\n    Statement statement = connection.createStatement();   \r\n    resultset = statement.executeQuery(&quot;select * from employee&quot;); \r\n    while (resultset.next()) {\r\n    \tSystem.out.println(resultset.getInt(1) + &quot; &quot; +\r\n    \tresultset.getInt(2) + &quot; &quot; + \r\n    \tresultset.getInt(3) + &quot; &quot; + \r\n    \tresultset.getString(4));\r\n    }","title":"Not getting all rows in resultset","body":"<p>It is because you are calling <code>rs.next()</code> before the loop. It returns a boolean and one row is loses its chance to be printed because of this statement.</p>\n\n<pre><code>Connection connection = DriverManager.getConnection(\"jdbc:oracle:thin:@host:1521:DB\", \"User\",\"pass_01\");\nStatement statement = connection.createStatement();   \nresultset = statement.executeQuery(\"select * from employee\"); \nwhile (resultset.next()) {\n    System.out.println(resultset.getInt(1) + \" \" +\n    resultset.getInt(2) + \" \" + \n    resultset.getInt(3) + \" \" + \n    resultset.getString(4));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784074,"reputation":1439,"user_id":2395943,"accept_rate":50,"display_name":"sadhu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1370929661,"creation_date":1370929661,"answer_id":17037274,"question_id":17037239,"body_markdown":"Take off the ResultSet.next() while printing. This makes the RS cursor to point to a new row","title":"Not getting all rows in resultset","body":"<p>Take off the ResultSet.next() while printing. This makes the RS cursor to point to a new row</p>\n"},{"comments":[{"owner":{"account_id":2661032,"reputation":4116,"user_id":2300713,"display_name":"Hille"},"score":0,"creation_date":1617737609,"post_id":66973543,"comment_id":118387901,"body_markdown":"Hello @nabinghatani , welcome to SO! It is hard for me to see any additional info, beyond the one given in the accepted answer. If you really want to illustrate an approach using &#39;do ... while&#39; (certainly possible --- while equivalent) please do so and come up with a short code example illustrating your point.","body":"Hello @nabinghatani , welcome to SO! It is hard for me to see any additional info, beyond the one given in the accepted answer. If you really want to illustrate an approach using &#39;do ... while&#39; (certainly possible --- while equivalent) please do so and come up with a short code example illustrating your point."}],"tags":[],"owner":{"account_id":19887552,"reputation":1,"user_id":14570262,"display_name":"nabinghatani"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675253395,"creation_date":1617729996,"answer_id":66973543,"question_id":17037239,"body_markdown":"I had the same problem and fixed it by using the &#39;do...while&#39; loop instead of while. You can use the following approach.\r\n\r\n    ResultSet rs = statement.executeQuery(&quot;SELECT * from employee&quot;);\r\n    \r\n    if (!rs.next()) {\r\n     \tSystem.out.println(&quot;ResultSet is empty....&quot;); \r\n    } else { \r\n    \tdo { \r\n    \t\tString record = rs.getString(&quot;emp_name&quot;);\r\n    \t\tSystem.out.println(record); \r\n    \t   } while (rs.next());\r\n    \t}","title":"Not getting all rows in resultset","body":"<p>I had the same problem and fixed it by using the 'do...while' loop instead of while. You can use the following approach.</p>\n<pre><code>ResultSet rs = statement.executeQuery(&quot;SELECT * from employee&quot;);\n\nif (!rs.next()) {\n    System.out.println(&quot;ResultSet is empty....&quot;); \n} else { \n    do { \n        String record = rs.getString(&quot;emp_name&quot;);\n        System.out.println(record); \n       } while (rs.next());\n    }\n</code></pre>\n"}],"owner":{"account_id":1453627,"reputation":1816,"user_id":1369851,"accept_rate":67,"display_name":"Aquarius24"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4606,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":17037263,"answer_count":3,"score":0,"last_activity_date":1675253395,"creation_date":1370929507,"question_id":17037239,"body_markdown":"I am using the following code to get the data from the database in a resultset:\r\n\r\n    DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());   \r\n\t               \r\n    Connection connection = DriverManager.getConnection(\r\n\t\t\t\t\t\t&quot;jdbc:oracle:thin:@host:1521:DB&quot;, &quot;User&quot;,&quot;pass_01&quot;);\r\n    Statement statement = connection.createStatement();   \r\n    resultset = statement.executeQuery(&quot;select * from employee&quot;); \r\n    System.out.println(&quot;Records Exist &quot;+resultset.next()); \r\n    System.out.println(resultset.getRow());\r\n    while (resultset.next()) {\r\n        System.out.println(resultset.getInt(1) + &quot; &quot; +\r\n        resultset.getInt(2) + &quot; &quot; + \r\n        resultset.getInt(3) + &quot; &quot; + \r\n        resultset.getString(4));\r\n    }\r\n\r\nBut I am getting only one row though there are two rows in the database table. What am I missing here?","title":"Not getting all rows in resultset","body":"<p>I am using the following code to get the data from the database in a resultset:</p>\n\n<pre><code>DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());   \n\nConnection connection = DriverManager.getConnection(\n                    \"jdbc:oracle:thin:@host:1521:DB\", \"User\",\"pass_01\");\nStatement statement = connection.createStatement();   \nresultset = statement.executeQuery(\"select * from employee\"); \nSystem.out.println(\"Records Exist \"+resultset.next()); \nSystem.out.println(resultset.getRow());\nwhile (resultset.next()) {\n    System.out.println(resultset.getInt(1) + \" \" +\n    resultset.getInt(2) + \" \" + \n    resultset.getInt(3) + \" \" + \n    resultset.getString(4));\n}\n</code></pre>\n\n<p>But I am getting only one row though there are two rows in the database table. What am I missing here?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1580370493,"post_id":59981181,"comment_id":106076921,"body_markdown":"You replace the String your variable points to, you don&#39;t change the String itself","body":"You replace the String your variable points to, you don&#39;t change the String itself"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1580370903,"post_id":59981181,"comment_id":106077073,"body_markdown":"Does anybody know of a more specific dupe for this question? This &quot;how can I reassign a string variable if string is immutable&quot;-type question seems to come up a lot.","body":"Does anybody know of a more specific dupe for this question? This &quot;how can I reassign a string variable if string is immutable&quot;-type question seems to come up a lot."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1580371057,"post_id":59981181,"comment_id":106077140,"body_markdown":"I would liken this to having friends&#39; numbers stored in your phone: if you change the number you have stored, it doesn&#39;t change your friend&#39;s phone number (which is immutable), it just calls a different phone.","body":"I would liken this to having friends&#39; numbers stored in your phone: if you change the number you have stored, it doesn&#39;t change your friend&#39;s phone number (which is immutable), it just calls a different phone."}],"answers":[{"comments":[{"owner":{"account_id":16764553,"reputation":1,"user_id":12118524,"display_name":"Firoz Patel"},"score":0,"creation_date":1580370581,"post_id":59981205,"comment_id":106076955,"body_markdown":"Sir your point :- (unless you use reflection and rely on JDK internals) can you please expain it in details or any refrence.","body":"Sir your point :- (unless you use reflection and rely on JDK internals) can you please expain it in details or any refrence."},{"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"score":2,"creation_date":1580370722,"post_id":59981205,"comment_id":106077006,"body_markdown":"@FirozPatel - That&#39;s a side point and you should pretend for the most part that you don&#39;t know that. But basically, inside the `String` class there&#39;s a private data member that contains a `char[]` of the string&#39;s contents. With reflection you can access and change that private data member. You shouldn&#39;t, but it&#39;s technically possible. The name of that member is not necessarily consistent across different JDKs. Strings are officially immutable.","body":"@FirozPatel - That&#39;s a side point and you should pretend for the most part that you don&#39;t know that. But basically, inside the <code>String</code> class there&#39;s a private data member that contains a <code>char[]</code> of the string&#39;s contents. With reflection you can access and change that private data member. You shouldn&#39;t, but it&#39;s technically possible. The name of that member is not necessarily consistent across different JDKs. Strings are officially immutable."}],"tags":[],"owner":{"account_id":52616,"reputation":1043001,"user_id":157247,"accept_rate":91,"display_name":"T.J. Crowder"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1580370639,"creation_date":1580370392,"answer_id":59981205,"question_id":59981181,"body_markdown":"You have **two** `String` objects in that code: `&quot;java&quot;` and `&quot;world&quot;`. Each of them is immutable (unless you use reflection and rely on JDK internals). The `s` variable first points to the first one, then to the second one, but they&#39;re separate objects.\r\n\r\nAfter this:\r\n\r\n    String s=&quot;java&quot;;\r\n\r\nyou have something like this in memory:\r\n\r\n&lt;pre&gt;\r\n               +−−−−−−−−−−+\r\ns:Ref3243−−−−−&gt;| (string) |\r\n               +−−−−−−−−−−+      +−−−−−−−−−+\r\n               | value:   |−−−−−&gt;| (array) |\r\n               | ...      |      +−−−−−−−−−+\r\n               +−−−−−−−−−−+      | 0: &#39;j&#39;  |\r\n                                 | 1: &#39;a&#39;  |\r\n                                 | 2: &#39;v&#39;  |\r\n                                 | 3: &#39;a&#39;  |\r\n                                 +−−−−−−−−−+\r\n&lt;/pre&gt;\r\n\r\nThen after\r\n\r\n    s=&quot;world&quot;;\r\n\r\nyou have:\r\n\r\n&lt;pre&gt;\r\n               +−−−−−−−−−−+\r\n               | (string) |\r\n               +−−−−−−−−−−+      +−−−−−−−−−+\r\n               | value:   |−−−−−&gt;| (array) |\r\n               | ...      |      +−−−−−−−−−+\r\n               +−−−−−−−−−−+      | 0: &#39;j&#39;  |\r\n                                 | 1: &#39;a&#39;  |\r\n                                 | 2: &#39;v&#39;  |\r\n                                 | 3: &#39;a&#39;  |\r\n                                 +−−−−−−−−−+\r\n               +−−−−−−−−−−+   \r\ns:Ref6449−−−−−&gt;| (string) |   \r\n               +−−−−−−−−−−+      +−−−−−−−−−+\r\n               | value:   |−−−−−&gt;| (array) |\r\n               | ...      |      +−−−−−−−−−+\r\n               +−−−−−−−−−−+      | 0: &#39;w&#39;  |\r\n                                 | 1: &#39;o&#39;  |\r\n                                 | 2: &#39;r&#39;  |\r\n                                 | 3: &#39;l&#39;  |\r\n                                 | 4: &#39;d&#39;  |\r\n                                 +−−−−−−−−−+\r\n&lt;/pre&gt;\r\n\r\nSo the `println` at the end shows the contents of the second string.\r\n\r\n----\r\n\r\nThe `value` member shown above may or may not be called `value` in any given JDK implementation. It&#39;s a private data member.\r\n","title":"If String Objects are Immutable then why the content is changing?","body":"<p>You have <strong>two</strong> <code>String</code> objects in that code: <code>\"java\"</code> and <code>\"world\"</code>. Each of them is immutable (unless you use reflection and rely on JDK internals). The <code>s</code> variable first points to the first one, then to the second one, but they're separate objects.</p>\n\n<p>After this:</p>\n\n<pre><code>String s=\"java\";\n</code></pre>\n\n<p>you have something like this in memory:</p>\n\n<pre>\n               +−−−−−−−−−−+\ns:Ref3243−−−−−>| (string) |\n               +−−−−−−−−−−+      +−−−−−−−−−+\n               | value:   |−−−−−>| (array) |\n               | ...      |      +−−−−−−−−−+\n               +−−−−−−−−−−+      | 0: 'j'  |\n                                 | 1: 'a'  |\n                                 | 2: 'v'  |\n                                 | 3: 'a'  |\n                                 +−−−−−−−−−+\n</pre>\n\n<p>Then after</p>\n\n<pre><code>s=\"world\";\n</code></pre>\n\n<p>you have:</p>\n\n<pre>\n               +−−−−−−−−−−+\n               | (string) |\n               +−−−−−−−−−−+      +−−−−−−−−−+\n               | value:   |−−−−−>| (array) |\n               | ...      |      +−−−−−−−−−+\n               +−−−−−−−−−−+      | 0: 'j'  |\n                                 | 1: 'a'  |\n                                 | 2: 'v'  |\n                                 | 3: 'a'  |\n                                 +−−−−−−−−−+\n               +−−−−−−−−−−+   \ns:Ref6449−−−−−>| (string) |   \n               +−−−−−−−−−−+      +−−−−−−−−−+\n               | value:   |−−−−−>| (array) |\n               | ...      |      +−−−−−−−−−+\n               +−−−−−−−−−−+      | 0: 'w'  |\n                                 | 1: 'o'  |\n                                 | 2: 'r'  |\n                                 | 3: 'l'  |\n                                 | 4: 'd'  |\n                                 +−−−−−−−−−+\n</pre>\n\n<p>So the <code>println</code> at the end shows the contents of the second string.</p>\n\n<hr>\n\n<p>The <code>value</code> member shown above may or may not be called <code>value</code> in any given JDK implementation. It's a private data member.</p>\n"}],"owner":{"account_id":16764553,"reputation":1,"user_id":12118524,"display_name":"Firoz Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1580370755,"answer_count":1,"score":-2,"last_activity_date":1675253306,"creation_date":1580370306,"question_id":59981181,"body_markdown":"```\r\npublic class HelloWorld{\r\n\r\n     public static void main(String []args){\r\n         \r\n        String s=&quot;java&quot;;\r\n         s=&quot;world&quot;;\r\n         \r\n        System.out.println(s);\r\n     }\r\n}\r\n```\r\nOutput:\r\n&gt;world","title":"If String Objects are Immutable then why the content is changing?","body":"<pre><code>public class HelloWorld{\n\n     public static void main(String []args){\n         \n        String s=&quot;java&quot;;\n         s=&quot;world&quot;;\n         \n        System.out.println(s);\n     }\n}\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<p>world</p>\n</blockquote>\n"},{"tags":["java","spring-boot","hibernate","bytecode-manipulation"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1672664539,"post_id":74982566,"comment_id":132322147,"body_markdown":"you can check use properties like -&gt;  `lazy=&quot;proxy|no-proxy|false&quot;`","body":"you can check use properties like -&gt;  <code>lazy=&quot;proxy|no-proxy|false&quot;</code>"},{"owner":{"account_id":4518266,"reputation":513,"user_id":3672398,"display_name":"Blockost"},"score":0,"creation_date":1672667752,"post_id":74982566,"comment_id":132323051,"body_markdown":"Can you please indicate where I should set this property ? Also, I tried setting `spring.jpa.hibernate.bytecode.allow_enhancement_as_proxy: true` in application.yml, but it didn&#39;t work","body":"Can you please indicate where I should set this property ? Also, I tried setting <code>spring.jpa.hibernate.bytecode.allow_enhancement_as_proxy: true</code> in application.yml, but it didn&#39;t work"},{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1672668563,"post_id":74982566,"comment_id":132323299,"body_markdown":"@Blockost have you checked `org.hibernate.Hibernate#isPropertyInitialized` method?","body":"@Blockost have you checked <code>org.hibernate.Hibernate#isPropertyInitialized</code> method?"},{"owner":{"account_id":4518266,"reputation":513,"user_id":3672398,"display_name":"Blockost"},"score":0,"creation_date":1672695169,"post_id":74982566,"comment_id":132330056,"body_markdown":"I did not know about this method, thank you for pointing that out. It will definitely help me at some point! \n\nHowever, my problem is that property getters are called in the mapper and it&#39;s not always guaranteed that a Hibernate session is available. So I get a `LazyInitializationException` there. Mappers are generated at build time by Mapstruct so I don&#39;t  have full control over them (and I don&#39;t want to add too much logic on Mapstruct side anyway)","body":"I did not know about this method, thank you for pointing that out. It will definitely help me at some point!   However, my problem is that property getters are called in the mapper and it&#39;s not always guaranteed that a Hibernate session is available. So I get a <code>LazyInitializationException</code> there. Mappers are generated at build time by Mapstruct so I don&#39;t  have full control over them (and I don&#39;t want to add too much logic on Mapstruct side anyway)"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1675252961,"post_id":74982566,"comment_id":132887499,"body_markdown":"Just to expand on @muhammedozbilici&#39;s suggestion, [the docs](https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/bytecode/BytecodeEnhancement.html) actually show you the way in which you can opt-out of each particular enhancement. And, since you&#39;re using compile-time enhancement with the Maven plugin, spring properties obviously won&#39;t work","body":"Just to expand on @muhammedozbilici&#39;s suggestion, <a href=\"https://docs.jboss.org/hibernate/orm/5.4/topical/html_single/bytecode/BytecodeEnhancement.html\" rel=\"nofollow noreferrer\">the docs</a> actually show you the way in which you can opt-out of each particular enhancement. And, since you&#39;re using compile-time enhancement with the Maven plugin, spring properties obviously won&#39;t work"},{"owner":{"account_id":1100252,"reputation":10087,"user_id":1092818,"display_name":"crizzis"},"score":0,"creation_date":1675253202,"post_id":74982566,"comment_id":132887561,"body_markdown":"Alternatively, [see here](https://medium.com/cloud-workers/mapstruct-and-hibernate-jpa-lazy-loading-1c1c6f416e) for making MapStruct work with Hibernate&#39;s lazy associations - in short, you *do* have some control over the mappers, just enough to make it work","body":"Alternatively, <a href=\"https://medium.com/cloud-workers/mapstruct-and-hibernate-jpa-lazy-loading-1c1c6f416e\" rel=\"nofollow noreferrer\">see here</a> for making MapStruct work with Hibernate&#39;s lazy associations - in short, you <i>do</i> have some control over the mappers, just enough to make it work"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675252805,"creation_date":1675252805,"answer_id":75309867,"question_id":74982566,"body_markdown":"If you want to avoid `LazyInitializationException` for your DTO mapping, you should rather try to avoid doing the mapping in Java code and instead use a solution that can take the mapping down to the HQL/SQL level.\r\n\r\nI think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for a possible use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(User.class)\r\n    public interface UserDto {\r\n        @IdMapping\r\n        Long getId();\r\n        String getName();\r\n        Set&lt;RoleDto&gt; getRoles();\r\n\r\n        @EntityView(Role.class)\r\n        interface RoleDto {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`UserDto a = entityViewManager.find(entityManager, UserDto.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;UserDto&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"Use proxies with Hibernate runtime bytecode enhancement","body":"<p>If you want to avoid <code>LazyInitializationException</code> for your DTO mapping, you should rather try to avoid doing the mapping in Java code and instead use a solution that can take the mapping down to the HQL/SQL level.</p>\n<p>I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for a possible use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(User.class)\npublic interface UserDto {\n    @IdMapping\n    Long getId();\n    String getName();\n    Set&lt;RoleDto&gt; getRoles();\n\n    @EntityView(Role.class)\n    interface RoleDto {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>UserDto a = entityViewManager.find(entityManager, UserDto.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;UserDto&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"}],"owner":{"account_id":4518266,"reputation":513,"user_id":3672398,"display_name":"Blockost"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1675252805,"creation_date":1672663314,"question_id":74982566,"body_markdown":"\r\nI&#39;m using Spring Boot 2.7.5 with Hibernate 5.6.12.Final and apply bytecode enhancement at build-time via `hibernate-enhance-maven-plugin`. It works great and prevents eagerly fetching `@OneToOne` relationships, as described here https://vladmihalcea.com/hibernate-lazytoone-annotation/. \r\n\r\nHowever, I found that all lazy relationships do not use proxies anymore but are fetched from the database when I use the getter (which has been instrumented by the maven plugin at build time). Basically, what I would like to do is to still use proxies with bytecode enhancement. Something similar is available at runtime https://in.relation.to/2019/07/30/bytecode-proxy/, but I can&#39;t find a way to do it at build-time.\r\n\r\nFor a bit of context, I need proxies for lazy-loaded properties because it allows me to apply custom logic in entity-&gt;dto mapper (using Mapstruct) based on whether the proxy has been initialized or not. In some cases, I must trigger an initialization manually if a Hibernate session is available (and prevent `LazyInitializationException`).\r\n\r\nAny suggestion is greatly appreciated!","title":"Use proxies with Hibernate runtime bytecode enhancement","body":"<p>I'm using Spring Boot 2.7.5 with Hibernate 5.6.12.Final and apply bytecode enhancement at build-time via <code>hibernate-enhance-maven-plugin</code>. It works great and prevents eagerly fetching <code>@OneToOne</code> relationships, as described here <a href=\"https://vladmihalcea.com/hibernate-lazytoone-annotation/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/hibernate-lazytoone-annotation/</a>.</p>\n<p>However, I found that all lazy relationships do not use proxies anymore but are fetched from the database when I use the getter (which has been instrumented by the maven plugin at build time). Basically, what I would like to do is to still use proxies with bytecode enhancement. Something similar is available at runtime <a href=\"https://in.relation.to/2019/07/30/bytecode-proxy/\" rel=\"nofollow noreferrer\">https://in.relation.to/2019/07/30/bytecode-proxy/</a>, but I can't find a way to do it at build-time.</p>\n<p>For a bit of context, I need proxies for lazy-loaded properties because it allows me to apply custom logic in entity-&gt;dto mapper (using Mapstruct) based on whether the proxy has been initialized or not. In some cases, I must trigger an initialization manually if a Hibernate session is available (and prevent <code>LazyInitializationException</code>).</p>\n<p>Any suggestion is greatly appreciated!</p>\n"},{"tags":["java","spring","tomcat","jdbc","spring-jdbc"],"owner":{"account_id":27673274,"reputation":11,"user_id":21123629,"display_name":"Jan Mich&#225;lek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675252659,"creation_date":1675239128,"question_id":75307193,"body_markdown":"I&#39;m getting weird behavior of Spring JDBC with Tomcat and Oracle db. During initializing of db connection (from pool which is configured in Tomcat) the `driverClassName` is empty, so I get `ClassNotFoundException`. I&#39;m not sure why it is empty, the initialization during Tomcat startup looks OK. All ten connection have been initialized OK, but then a few hours later, the `driverClassName` is empty. Well, even the URL is empty.\r\n\r\nI enabled debugging of &#39;org.apache.tomcat.jdbc.pool&#39; to FINE to get more info, but no luck.\r\n\r\n```none\r\norg.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver Instantiating driver using class:  [url=]\r\norg.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass Attempting to load class[] from java.net.URLClassLoader@10bbd20a\r\norg.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass Attempting to load class[] from ParallelWebappClassLoader\r\n\r\norg.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver Unable to instantiate JDBC driver.\r\n\tjava.lang.ClassNotFoundException: Unable to load class:  from ClassLoader:java.net.URLClassLoader@10bbd20a;ClassLoader:ParallelWebappClassLoader\r\n  context: told-integration-tool\r\n  delegate: false\r\n----------&gt; Parent Classloader:\r\njava.net.URLClassLoader@10bbd20a\r\n```\r\n\r\nI&#39;m using:\r\n- Tomcat: 9.0.69\r\n- Spring JDBC: 5.3.22\r\n- ojdbc: 12.1.0.2.0\r\n\r\nWhat do you think? Where could a problem?\r\n","title":"Empty driverClassName in pool properties during initializing","body":"<p>I'm getting weird behavior of Spring JDBC with Tomcat and Oracle db. During initializing of db connection (from pool which is configured in Tomcat) the <code>driverClassName</code> is empty, so I get <code>ClassNotFoundException</code>. I'm not sure why it is empty, the initialization during Tomcat startup looks OK. All ten connection have been initialized OK, but then a few hours later, the <code>driverClassName</code> is empty. Well, even the URL is empty.</p>\n<p>I enabled debugging of 'org.apache.tomcat.jdbc.pool' to FINE to get more info, but no luck.</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver Instantiating driver using class:  [url=]\norg.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass Attempting to load class[] from java.net.URLClassLoader@10bbd20a\norg.apache.tomcat.jdbc.pool.ClassLoaderUtil.loadClass Attempting to load class[] from ParallelWebappClassLoader\n\norg.apache.tomcat.jdbc.pool.PooledConnection.connectUsingDriver Unable to instantiate JDBC driver.\n    java.lang.ClassNotFoundException: Unable to load class:  from ClassLoader:java.net.URLClassLoader@10bbd20a;ClassLoader:ParallelWebappClassLoader\n  context: told-integration-tool\n  delegate: false\n----------&gt; Parent Classloader:\njava.net.URLClassLoader@10bbd20a\n</code></pre>\n<p>I'm using:</p>\n<ul>\n<li>Tomcat: 9.0.69</li>\n<li>Spring JDBC: 5.3.22</li>\n<li>ojdbc: 12.1.0.2.0</li>\n</ul>\n<p>What do you think? Where could a problem?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":2459420,"reputation":15594,"user_id":2704032,"accept_rate":48,"display_name":"Vishrant"},"score":0,"creation_date":1524373606,"post_id":5453263,"comment_id":86941354,"body_markdown":"check this answer https://stackoverflow.com/questions/32090921/deploying-maven-project-throws-java-util-zip-zipexception-invalid-loc-header-b/49962580#49962580","body":"check this answer <a href=\"https://stackoverflow.com/questions/32090921/deploying-maven-project-throws-java-util-zip-zipexception-invalid-loc-header-b/49962580#49962580\" title=\"deploying maven project throws java util zip zipexception invalid loc header b\">stackoverflow.com/questions/32090921/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":208173,"reputation":1906,"user_id":458493,"accept_rate":67,"display_name":"Croydon Dias"},"score":1,"creation_date":1301356356,"post_id":5453293,"comment_id":6196514,"body_markdown":"That would work too. In the meantime, I ended up setting up a [maven repository manager](http://nexus.sonatype.org/) which managed to fetch the proper file.","body":"That would work too. In the meantime, I ended up setting up a <a href=\"http://nexus.sonatype.org/\" rel=\"nofollow noreferrer\">maven repository manager</a> which managed to fetch the proper file."},{"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"score":0,"creation_date":1301359953,"post_id":5453293,"comment_id":6196918,"body_markdown":"Yes if have the capability to host nexus or artifactory like repo manager then that&#39;s the ideal solution.","body":"Yes if have the capability to host nexus or artifactory like repo manager then that&#39;s the ideal solution."},{"owner":{"account_id":4394469,"reputation":3058,"user_id":3585768,"accept_rate":80,"display_name":"Jonathan Benn"},"score":1,"creation_date":1536928535,"post_id":5453293,"comment_id":91610925,"body_markdown":"It was sufficient for me to just delete the offending files from my local `.m2/repository` folder, and re-run the Maven build to download them again. Probably, there was either a network glitch downloading the files, or (more likely) the original publisher accidentally uploaded a corrupt file and then corrected their mistake soon after. Thanks!","body":"It was sufficient for me to just delete the offending files from my local <code>.m2&#47;repository</code> folder, and re-run the Maven build to download them again. Probably, there was either a network glitch downloading the files, or (more likely) the original publisher accidentally uploaded a corrupt file and then corrected their mistake soon after. Thanks!"}],"tags":[],"owner":{"account_id":109059,"reputation":20712,"user_id":289171,"accept_rate":100,"display_name":"CoolBeans"},"comment_count":3,"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1301269561,"creation_date":1301269561,"answer_id":5453293,"question_id":5453263,"body_markdown":"This means that javolution-5.4.2 jar in your local repository is corrupt. I checked the maven repo for the 5.4.2 version on this [link][1]. You can manually copy the jar from there to your local repository to see if that helps. \r\n\r\nYou can also try the following steps:-\r\n\r\n1. Delete the jar from your local repository `C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\\r\njavolution\\5.4.2\\javolution-5.4.2.jar`. Then maven will download it again for you.\r\n2. If the 5.4.2 version still has some issues after re-download then try the following [version][2].\r\n\r\n\r\n    `&lt;dependency&gt;\r\n              &lt;groupId&gt;javolution&lt;/groupId&gt;\r\n              &lt;artifactId&gt;javolution&lt;/artifactId&gt;\r\n              &lt;version&gt;5.5.1&lt;/version&gt;\r\n     &lt;/dependency&gt;`  \r\n\r\n\r\n  [1]: http://download.java.net/maven/2/javolution/javolution/5.4.2/\r\n  [2]: http://javolution.org/","title":"Compilation failure: error reading JAR file in ~/.m2/repository; invalid CEN header (bad signature)","body":"<p>This means that javolution-5.4.2 jar in your local repository is corrupt. I checked the maven repo for the 5.4.2 version on this <a href=\"http://download.java.net/maven/2/javolution/javolution/5.4.2/\" rel=\"noreferrer\">link</a>. You can manually copy the jar from there to your local repository to see if that helps. </p>\n\n<p>You can also try the following steps:-</p>\n\n<ol>\n<li>Delete the jar from your local repository <code>C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\\njavolution\\5.4.2\\javolution-5.4.2.jar</code>. Then maven will download it again for you.</li>\n<li><p>If the 5.4.2 version still has some issues after re-download then try the following <a href=\"http://javolution.org/\" rel=\"noreferrer\">version</a>.</p>\n\n<p><code>&lt;dependency&gt;\n          &lt;groupId&gt;javolution&lt;/groupId&gt;\n          &lt;artifactId&gt;javolution&lt;/artifactId&gt;\n          &lt;version&gt;5.5.1&lt;/version&gt;\n &lt;/dependency&gt;</code>  </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6231063,"reputation":41,"user_id":4847840,"display_name":"bhagyac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618748211,"creation_date":1618748211,"answer_id":67148416,"question_id":5453263,"body_markdown":"Steps that I had followed to resolved this issue:\r\n\r\n**STEP 1** : Deleted the jar from .m2-&gt;repository folder\r\n\r\n**STEP 2** : Deleted maven dependencies from Java Build Path-&gt;Libraries\r\n\r\n**STEP 3** : Right click on Project-&gt;Maven-&gt;Update Project","title":"Compilation failure: error reading JAR file in ~/.m2/repository; invalid CEN header (bad signature)","body":"<p>Steps that I had followed to resolved this issue:</p>\n<p><strong>STEP 1</strong> : Deleted the jar from .m2-&gt;repository folder</p>\n<p><strong>STEP 2</strong> : Deleted maven dependencies from Java Build Path-&gt;Libraries</p>\n<p><strong>STEP 3</strong> : Right click on Project-&gt;Maven-&gt;Update Project</p>\n"},{"tags":[],"owner":{"account_id":20976365,"reputation":11,"user_id":15412243,"display_name":"PriyankaSharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675224633,"creation_date":1675224633,"answer_id":75305566,"question_id":5453263,"body_markdown":"Faced the same issue while deploying the war on Apache Tomcat 10 + JDK 1.8 (same war worked fine with Tomcat 9+ JDK 1.8), could resolve the issue by changing JDK version to 17 (tomcat 10+ JDK 17)","title":"Compilation failure: error reading JAR file in ~/.m2/repository; invalid CEN header (bad signature)","body":"<p>Faced the same issue while deploying the war on Apache Tomcat 10 + JDK 1.8 (same war worked fine with Tomcat 9+ JDK 1.8), could resolve the issue by changing JDK version to 17 (tomcat 10+ JDK 17)</p>\n"}],"owner":{"account_id":208173,"reputation":1906,"user_id":458493,"accept_rate":67,"display_name":"Croydon Dias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84280,"favorite_count":0,"down_vote_count":1,"up_vote_count":32,"accepted_answer_id":5453293,"answer_count":3,"score":31,"last_activity_date":1675252176,"creation_date":1301269090,"question_id":5453263,"body_markdown":"I&#39;m migrating our Java EE project to use Maven instead of Ant.\r\n\r\nFor the following dependency\r\n\r\n        &lt;dependency&gt;\r\n    \t  &lt;groupId&gt;javolution&lt;/groupId&gt;\r\n    \t  &lt;artifactId&gt;javolution&lt;/artifactId&gt;\r\n    \t  &lt;version&gt;5.4.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n\r\nI get the following error when trying to compile\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.\r\n    3.2:compile (default-compile) on project JAdaptiv: Compilation failure\r\n    [ERROR] error: error reading C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\\r\n    javolution\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\r\n    [ERROR] -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\r\n    rg.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on\r\n     project JAdaptiv: Compilation failure\r\n    error: error reading C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\javoluti\r\n    on\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\r\n    \r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n    .java:213)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n    .java:153)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n    .java:145)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\r\n    ct(LifecycleModuleBuilder.java:84)\r\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\r\n    ct(LifecycleModuleBuilder.java:59)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBu\r\n    ild(LifecycleStarter.java:183)\r\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(Lifecycl\r\n    eStarter.java:161)\r\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\r\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\r\n    java:39)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\r\n    sorImpl.java:25)\r\n            at java.lang.reflect.Method.invoke(Method.java:597)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Laun\r\n    cher.java:290)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.jav\r\n    a:230)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(La\r\n    uncher.java:409)\r\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:\r\n    352)\r\n    Caused by: org.apache.maven.plugin.CompilationFailureException: Compilation fail\r\n    ure\r\n    error: error reading C:\\Users\\Croydon.IVSTEL1\\.m2\\repository\\javolution\\javoluti\r\n    on\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\r\n    \r\n            at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompiler\r\n    Mojo.java:656)\r\n            at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)\r\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(Default\r\n    BuildPluginManager.java:101)\r\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\r\n    .java:209)\r\n            ... 19 more\r\n    [ERROR]\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please rea\r\n    d the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureExc\r\n    eption\r\n\r\n","title":"Compilation failure: error reading JAR file in ~/.m2/repository; invalid CEN header (bad signature)","body":"<p>I'm migrating our Java EE project to use Maven instead of Ant.</p>\n<p>For the following dependency</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;javolution&lt;/groupId&gt;\n      &lt;artifactId&gt;javolution&lt;/artifactId&gt;\n      &lt;version&gt;5.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I get the following error when trying to compile</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.\n3.2:compile (default-compile) on project JAdaptiv: Compilation failure\n[ERROR] error: error reading C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\\njavolution\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal o\nrg.apache.maven.plugins:maven-compiler-plugin:2.3.2:compile (default-compile) on\n project JAdaptiv: Compilation failure\nerror: error reading C:\\Users\\User.IVSTEL1\\.m2\\repository\\javolution\\javoluti\non\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\n\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:213)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\nct(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProje\nct(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBu\nild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(Lifecycl\neStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:319)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.\njava:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAcces\nsorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Laun\ncher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.jav\na:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(La\nuncher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:\n352)\nCaused by: org.apache.maven.plugin.CompilationFailureException: Compilation fail\nure\nerror: error reading C:\\Users\\Croydon.IVSTEL1\\.m2\\repository\\javolution\\javoluti\non\\5.4.2\\javolution-5.4.2.jar; invalid CEN header (bad signature)\n\n        at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompiler\nMojo.java:656)\n        at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:128)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(Default\nBuildPluginManager.java:101)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor\n.java:209)\n        ... 19 more\n[ERROR]\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please rea\nd the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureExc\neption\n</code></pre>\n"},{"tags":["java","sql","database","spring-data-jpa","relational-database"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1675098570,"post_id":75287573,"comment_id":132850883,"body_markdown":"Is the `0` default value for the `owner` field in the JDBC example an id to a real person record? Or is that being used as a &quot;null&quot; or &quot;no-owner&quot; value?","body":"Is the <code>0</code> default value for the <code>owner</code> field in the JDBC example an id to a real person record? Or is that being used as a &quot;null&quot; or &quot;no-owner&quot; value?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675098785,"post_id":75287573,"comment_id":132850974,"body_markdown":"You can just assign the default values of your choice in the no-arg constructor.","body":"You can just assign the default values of your choice in the no-arg constructor."},{"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"score":0,"creation_date":1675160677,"post_id":75287573,"comment_id":132864118,"body_markdown":"@egeorge 0 in owner column indicates that the book is free, by default","body":"@egeorge 0 in owner column indicates that the book is free, by default"},{"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"score":0,"creation_date":1675162205,"post_id":75287573,"comment_id":132864614,"body_markdown":"@Chaosfire i can&#39;t make owner to zero by default it has Person type.","body":"@Chaosfire i can&#39;t make owner to zero by default it has Person type."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1675167788,"post_id":75287573,"comment_id":132866305,"body_markdown":"You can set person with id 0 and use that for default. If not applicable you can change owner column to use `null` value as indication for free, then there is no need to set default value, since null is default.","body":"You can set person with id 0 and use that for default. If not applicable you can change owner column to use <code>null</code> value as indication for free, then there is no need to set default value, since null is default."},{"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"score":0,"creation_date":1675170140,"post_id":75287573,"comment_id":132867150,"body_markdown":"@Chaosfire Trick with 0 Person.id, i&#39;ve tryed. getting error\n`public Person() {\n        id = 0;\n    }\n    @Transactional\n    public void save(Book book)\n    {\n        bookRepository.save(book);\n        book.setOwner(new Person());\n    }\n`","body":"@Chaosfire Trick with 0 Person.id, i&#39;ve tryed. getting error <code>public Person() {         id = 0;     }     @Transactional     public void save(Book book)     {         bookRepository.save(book);         book.setOwner(new Person());     } </code>"},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1675174609,"post_id":75287573,"comment_id":132868706,"body_markdown":"Since `0` has a special value, and is not a real person record, there should not be any value in that field. `null` is the appropriate value for a join column that is not joined to an actual record. You will need to change the logic that interprets `0` as &quot;free&quot; to check for `null` instead. (I am surprised your database let you do that to begin with. Foreign key constraints will normally reject a value that is not present in the referred table.)","body":"Since <code>0</code> has a special value, and is not a real person record, there should not be any value in that field. <code>null</code> is the appropriate value for a join column that is not joined to an actual record. You will need to change the logic that interprets <code>0</code> as &quot;free&quot; to check for <code>null</code> instead. (I am surprised your database let you do that to begin with. Foreign key constraints will normally reject a value that is not present in the referred table.)"}],"answers":[{"tags":[],"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675252072,"creation_date":1675252072,"answer_id":75309726,"question_id":75287573,"body_markdown":"@egeorge answered my question. It is impossible to input 0 into owner table.\r\n\r\nSince 0 has a special value, and is not a real person record, there should not be any value in that field. null is the appropriate value for a join column that is not joined to an actual record. You will need to change the logic that interprets 0 as &quot;free&quot; to check for null instead. (I am surprised your database let you do that to begin with. Foreign key constraints will normally reject a value that is not present in the referred table.)","title":"How to save with default value using Spring JPA?","body":"<p>@egeorge answered my question. It is impossible to input 0 into owner table.</p>\n<p>Since 0 has a special value, and is not a real person record, there should not be any value in that field. null is the appropriate value for a join column that is not joined to an actual record. You will need to change the logic that interprets 0 as &quot;free&quot; to check for null instead. (I am surprised your database let you do that to begin with. Foreign key constraints will normally reject a value that is not present in the referred table.)</p>\n"}],"owner":{"account_id":27330735,"reputation":11,"user_id":20842904,"display_name":"Papahh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75309726,"answer_count":1,"score":0,"last_activity_date":1675252072,"creation_date":1675097356,"question_id":75287573,"body_markdown":"Recently I switched into Spring Data JPA and I am wondering how is it possible to save a new object into the database with some default values.\r\n\r\nIn my example I have to save a book into my database, but, in the owner column, I need to put the value 0.\r\nSo, this how I did that with JDBC, and it works amazingly well.\r\n```\r\n   public void save(Book book){\r\n        jdbcTemplate.update(&quot;INSERT INTO book(name,author,yearOfProduction,owner) VALUES (?, ?, ?, 0)&quot;,\r\n                book.getName(),book.getAuthor(),book.getYearOfProduction());\r\n    }\r\n```\r\nNow I want to do the same with Spring Data JPA. Here is my save function:\r\n\r\n\r\n**BookService**\r\n```\r\n    @Transactional\r\n    public void save(Book book)\r\n    {\r\n        bookRepository.save(book);\r\n    }\r\n```\r\nI have two objects: Person and Book. The relationships are: one person can have many books and one book has one owner. Here are my `Person` and `Book` classes:\r\n\r\n**Book**\r\n```\r\n@Entity\r\n@Table(name = &quot;book&quot;)\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;,nullable = false)\r\n    private int id;\r\n    @Column(name=&quot;name&quot;)\r\n    @NotEmpty(message = &quot;Book name can&#39;t bee empty&quot;)\r\n    private String name;\r\n    @Column(name=&quot;author&quot;)\r\n    @NotEmpty(message = &quot;Author name can&#39;t bee empty&quot;)\r\n    private String author;\r\n    @Column(name=&quot;yearOfProduction&quot;)\r\n    @NotNull(message = &quot;Year of production can&#39;t bee empty&quot;)\r\n    @Min(value = 0,message = &quot;year must be more than 1900&quot;)\r\n    private int yearOfProduction;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;owner_id&quot;, referencedColumnName = &quot;id&quot;)\r\n    private Person owner;\r\n\r\n    public Book(String name, String author, int yearOfProduction) {\r\n        this.name = name;\r\n        this.author = author;\r\n        this.yearOfProduction = yearOfProduction;\r\n    }\r\n    public Book(){\r\n\r\n    }\r\n\r\n    public Person getOwner() {\r\n        return owner;\r\n    }\r\n\r\n    public void setOwner(Person owner) {\r\n        this.owner = owner;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n\r\n    public int getYearOfProduction() {\r\n        return yearOfProduction;\r\n    }\r\n\r\n    public void setYearOfProduction(int yearOfProduction) {\r\n        this.yearOfProduction = yearOfProduction;\r\n    }\r\n}\r\n\r\n```\r\n**Person|**\r\n```\r\n@Entity\r\n@Table(name = &quot;person&quot;)\r\npublic class Person {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private int id;\r\n    @Column(name = &quot;name&quot;)\r\n    @NotEmpty(message = &quot;Please enter the name&quot;)\r\n    @Size(min = 1, max = 30, message = &quot;Length must be 2-30 symbols&quot;)\r\n    //make regex with ФИО;\r\n    private String name;\r\n    @Column(name = &quot;ageOfBirth&quot;)\r\n    @Min(value = 0, message = &quot;age of birth must be more than 0&quot;)\r\n    private int ageOfBirth;\r\n\r\n    @OneToMany(mappedBy = &quot;owner&quot;)\r\n    private List&lt;Book&gt; books;\r\n\r\n\r\n    public Person() {\r\n\r\n    }\r\n    public Person(String name, int ageOfBirth) {\r\n        this.name = name;\r\n        this.ageOfBirth = ageOfBirth;\r\n    }\r\n\r\n    public List&lt;Book&gt; getBooks() {\r\n        return books;\r\n    }\r\n\r\n    public void setBooks(List&lt;Book&gt; books) {\r\n        this.books = books;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public int getAgeOfBirth() {\r\n        return ageOfBirth;\r\n    }\r\n\r\n    public void setAgeOfBirth(int ageOfBirth) {\r\n        this.ageOfBirth = ageOfBirth;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI guess this is impossible to make with Spring Data JPA? So, I made it with by adding `JdbcTemplate` and I definitely think it is a hard-coding approach to use Spring DATA and `JdbcTemplate` together.\r\n\r\nIt&#39;s also unable to make with database. Down below i am using the default definition of postgres and still get null&#39;s when create a new book.\r\nhttps://www.baeldung.com/jpa-default-column-values\r\n```\r\ncreate table book(\r\n                     id int primary key generated by default as identity,\r\n                     name varchar(250) not null,\r\n                     author varchar(250) not null,\r\n                     yearOfProduction int not null,\r\n                     owner_id int default 0 references person(id)\r\n)\r\n\r\n```\r\n","title":"How to save with default value using Spring JPA?","body":"<p>Recently I switched into Spring Data JPA and I am wondering how is it possible to save a new object into the database with some default values.</p>\n<p>In my example I have to save a book into my database, but, in the owner column, I need to put the value 0.\nSo, this how I did that with JDBC, and it works amazingly well.</p>\n<pre><code>   public void save(Book book){\n        jdbcTemplate.update(&quot;INSERT INTO book(name,author,yearOfProduction,owner) VALUES (?, ?, ?, 0)&quot;,\n                book.getName(),book.getAuthor(),book.getYearOfProduction());\n    }\n</code></pre>\n<p>Now I want to do the same with Spring Data JPA. Here is my save function:</p>\n<p><strong>BookService</strong></p>\n<pre><code>    @Transactional\n    public void save(Book book)\n    {\n        bookRepository.save(book);\n    }\n</code></pre>\n<p>I have two objects: Person and Book. The relationships are: one person can have many books and one book has one owner. Here are my <code>Person</code> and <code>Book</code> classes:</p>\n<p><strong>Book</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;book&quot;)\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;,nullable = false)\n    private int id;\n    @Column(name=&quot;name&quot;)\n    @NotEmpty(message = &quot;Book name can't bee empty&quot;)\n    private String name;\n    @Column(name=&quot;author&quot;)\n    @NotEmpty(message = &quot;Author name can't bee empty&quot;)\n    private String author;\n    @Column(name=&quot;yearOfProduction&quot;)\n    @NotNull(message = &quot;Year of production can't bee empty&quot;)\n    @Min(value = 0,message = &quot;year must be more than 1900&quot;)\n    private int yearOfProduction;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;owner_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Person owner;\n\n    public Book(String name, String author, int yearOfProduction) {\n        this.name = name;\n        this.author = author;\n        this.yearOfProduction = yearOfProduction;\n    }\n    public Book(){\n\n    }\n\n    public Person getOwner() {\n        return owner;\n    }\n\n    public void setOwner(Person owner) {\n        this.owner = owner;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public int getYearOfProduction() {\n        return yearOfProduction;\n    }\n\n    public void setYearOfProduction(int yearOfProduction) {\n        this.yearOfProduction = yearOfProduction;\n    }\n}\n\n</code></pre>\n<p><strong>Person|</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;person&quot;)\npublic class Person {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n    @Column(name = &quot;name&quot;)\n    @NotEmpty(message = &quot;Please enter the name&quot;)\n    @Size(min = 1, max = 30, message = &quot;Length must be 2-30 symbols&quot;)\n    //make regex with ФИО;\n    private String name;\n    @Column(name = &quot;ageOfBirth&quot;)\n    @Min(value = 0, message = &quot;age of birth must be more than 0&quot;)\n    private int ageOfBirth;\n\n    @OneToMany(mappedBy = &quot;owner&quot;)\n    private List&lt;Book&gt; books;\n\n\n    public Person() {\n\n    }\n    public Person(String name, int ageOfBirth) {\n        this.name = name;\n        this.ageOfBirth = ageOfBirth;\n    }\n\n    public List&lt;Book&gt; getBooks() {\n        return books;\n    }\n\n    public void setBooks(List&lt;Book&gt; books) {\n        this.books = books;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAgeOfBirth() {\n        return ageOfBirth;\n    }\n\n    public void setAgeOfBirth(int ageOfBirth) {\n        this.ageOfBirth = ageOfBirth;\n    }\n}\n</code></pre>\n<p>I guess this is impossible to make with Spring Data JPA? So, I made it with by adding <code>JdbcTemplate</code> and I definitely think it is a hard-coding approach to use Spring DATA and <code>JdbcTemplate</code> together.</p>\n<p>It's also unable to make with database. Down below i am using the default definition of postgres and still get null's when create a new book.\n<a href=\"https://www.baeldung.com/jpa-default-column-values\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-default-column-values</a></p>\n<pre><code>create table book(\n                     id int primary key generated by default as identity,\n                     name varchar(250) not null,\n                     author varchar(250) not null,\n                     yearOfProduction int not null,\n                     owner_id int default 0 references person(id)\n)\n\n</code></pre>\n"},{"tags":["java","java-8","stringbuilder"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":3,"creation_date":1675228008,"post_id":75305882,"comment_id":132881131,"body_markdown":"Because your threads are adding data between printing out the length and printing out the content? Also, `StringBuilder` is not thread-safe, as you probably know.","body":"Because your threads are adding data between printing out the length and printing out the content? Also, <code>StringBuilder</code> is not thread-safe, as you probably know."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":4,"creation_date":1675228128,"post_id":75305882,"comment_id":132881150,"body_markdown":"`StringBuffer` is thread-safe while `StringBuilder` is not. Also, you are printing the values of `sb` and `sbf` **before** the othr threads have terminated.","body":"<code>StringBuffer</code> is thread-safe while <code>StringBuilder</code> is not. Also, you are printing the values of <code>sb</code> and <code>sbf</code> <b>before</b> the othr threads have terminated."},{"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"score":0,"creation_date":1675228205,"post_id":75305882,"comment_id":132881164,"body_markdown":"Sorry, I did not understand first line. And yeah, I know it is not thread safe, but what is its relevance to length?","body":"Sorry, I did not understand first line. And yeah, I know it is not thread safe, but what is its relevance to length?"},{"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"score":0,"creation_date":1675228463,"post_id":75305882,"comment_id":132881202,"body_markdown":"@Abra if threads are not terminated, then why is it not giving its length? I mean how is it related to length? Sorry if it is dumb question, but I am just learning it now.","body":"@Abra if threads are not terminated, then why is it not giving its length? I mean how is it related to length? Sorry if it is dumb question, but I am just learning it now."},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":4,"creation_date":1675228521,"post_id":75305882,"comment_id":132881208,"body_markdown":"You are getting its length, and that length is zero at the moment you&#39;re printing it. Content gets added *after* you print the length. Multi-threading at work.","body":"You are getting its length, and that length is zero at the moment you&#39;re printing it. Content gets added <i>after</i> you print the length. Multi-threading at work."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":2,"creation_date":1675236549,"post_id":75305882,"comment_id":132882584,"body_markdown":"Fundamentally: if you use a type that isn&#39;t thread safe across multiple threads, you shouldn&#39;t be surprised when the behavior is hard to understand or predict.","body":"Fundamentally: if you use a type that isn&#39;t thread safe across multiple threads, you shouldn&#39;t be surprised when the behavior is hard to understand or predict."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675245332,"post_id":75305882,"comment_id":132885162,"body_markdown":"As said by others, this code is not thread safe, so accessing an object modified by another thread can give you arbitrary inconsistent results. However, in this specific case, it’s (very likely) much simpler. The first string concatenation (`&quot;StringBuilder: &quot; + sb.length()`) is performed when the other threads have not even started their work, so the length predictably is zero. But `println` is a very expensive operation, slowing down the main thread enough, so the other threads make progress. You can change the first line to `System.out.println(&quot;StringBuilder: &quot; + sb.length() + &quot; &quot; + sb);`…","body":"As said by others, this code is not thread safe, so accessing an object modified by another thread can give you arbitrary inconsistent results. However, in this specific case, it’s (very likely) much simpler. The first string concatenation (<code>&quot;StringBuilder: &quot; + sb.length()</code>) is performed when the other threads have not even started their work, so the length predictably is zero. But <code>println</code> is a very expensive operation, slowing down the main thread enough, so the other threads make progress. You can change the first line to <code>System.out.println(&quot;StringBuilder: &quot; + sb.length() + &quot; &quot; + sb);</code>…"},{"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"score":0,"creation_date":1675248405,"post_id":75305882,"comment_id":132886185,"body_markdown":"@Holger If I do so, then length is still zero, but this time value is null, may you please explain what that means","body":"@Holger If I do so, then length is still zero, but this time value is null, may you please explain what that means"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675249304,"post_id":75305882,"comment_id":132886464,"body_markdown":"As said, this is the first thing the main thread does after starting the background threads and at this point of time, the background threads have not done anything yet. You get the same result if you replace `StringBuffer` with `StringBuilder`. It’s just a matter of timing. The first execution of `println` takes long enough for the background threads to do something.","body":"As said, this is the first thing the main thread does after starting the background threads and at this point of time, the background threads have not done anything yet. You get the same result if you replace <code>StringBuffer</code> with <code>StringBuilder</code>. It’s just a matter of timing. The first execution of <code>println</code> takes long enough for the background threads to do something."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1675250343,"post_id":75305882,"comment_id":132886820,"body_markdown":"I mean, replace `StringBuilder` with `StringBuffer`, to demonstrate that it doesn’t matter that `StringBuilder` is not thread safe.","body":"I mean, replace <code>StringBuilder</code> with <code>StringBuffer</code>, to demonstrate that it doesn’t matter that <code>StringBuilder</code> is not thread safe."},{"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"score":0,"creation_date":1675250786,"post_id":75305882,"comment_id":132886933,"body_markdown":"@Holger Thanks, now picture is getting clearer","body":"@Holger Thanks, now picture is getting clearer"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1675252340,"post_id":75305882,"comment_id":132887324,"body_markdown":"I think you could see a difference between StringBuilder and StringBuffer if you let t1 and t2 finish (ie call t1.join() and t2.join()). StringBuffer will have all of the characters, with a different order for multiple runs, while StringBuilder will miss characters sometimes. It&#39;s pretty rare to miss characters with such small strings getting added though, so the upperlimit of your for loops needs to be higher to see the effect.","body":"I think you could see a difference between StringBuilder and StringBuffer if you let t1 and t2 finish (ie call t1.join() and t2.join()). StringBuffer will have all of the characters, with a different order for multiple runs, while StringBuilder will miss characters sometimes. It&#39;s pretty rare to miss characters with such small strings getting added though, so the upperlimit of your for loops needs to be higher to see the effect."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675251788,"creation_date":1675251788,"answer_id":75309681,"question_id":75305882,"body_markdown":"This is mainly a matter of timing. You can replace `StringBuilder` with `StringBuffer` and get a similar result.\r\n\r\nFor example, when I run the following program on my machine\r\n\r\n```java\r\npublic class ThreadStart {\r\n  static StringBuilder sb = new StringBuilder();\r\n\r\n  static long firstAction;\r\n\r\n  public static void main(String[] args) throws InterruptedException {\r\n    \r\n      Thread t1 = new Thread(() -&gt; firstAction = System.nanoTime());\r\n      long starting = System.nanoTime();\r\n      t1.start();\r\n      int length = sb.length();\r\n      long afterReadingLength = System.nanoTime();\r\n      String s = &quot;StringBuilder: &quot; + length;\r\n      long afterConcatenation = System.nanoTime();\r\n      System.out.println(s);\r\n      long andPrintln = System.nanoTime();\r\n      t1.join();\r\n\r\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\r\n                        &quot;thread&#39;s 1st action&quot;, firstAction - starting);\r\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\r\n                        &quot;reading sb.length()&quot;, afterReadingLength - starting);\r\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\r\n                        &quot;string concatenation&quot;, afterConcatenation - starting);\r\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\r\n                        &quot;println completion&quot;, andPrintln - starting);\r\n  }\r\n}\r\n```\r\n\r\nI get results similar to\r\n\r\n```lang-none\r\nStringBuilder: 0\r\ntime until thread&#39;s 1st action  399.000 ns\r\ntime until reading sb.length()  181.300 ns\r\ntime until string concatenation 195.300 ns\r\ntime until println completion   392.800 ns\r\n```\r\n\r\nthough numbers can vary significantly between runs. It demonstrates the *order of magnitude* of the operations involved.\r\n\r\nStarting a thread takes a significant amount of time. That’s one of the reasons  why we use thread pools; handing a task over to an already running worker thread is significantly faster than starting a new thread.\r\n\r\nSome of the work has been done within the `start()` method execution in the main thread. I did not try to separate it from the execution of `sb.length()` here, as the time measurement wouldn’t be precise enough. It’s clearly visible that the background thread is far away from doing anything by the time, `sb.length()` returned. Even the string concatenation is not expensive enough.\r\n\r\nBut after the execution of the first `println` call, we get into the same order of magnitude, so overlapping of the background thread’s activity with the main thread may happen after that.\r\n\r\n---\r\n\r\nIt’s still important to emphasize that you *must not* rely on any assumed timing and changing an object from multiple threads can give you unpredictable results.","title":"Why String Builder is returning its length zero, while returning some value of it","body":"<p>This is mainly a matter of timing. You can replace <code>StringBuilder</code> with <code>StringBuffer</code> and get a similar result.</p>\n<p>For example, when I run the following program on my machine</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ThreadStart {\n  static StringBuilder sb = new StringBuilder();\n\n  static long firstAction;\n\n  public static void main(String[] args) throws InterruptedException {\n    \n      Thread t1 = new Thread(() -&gt; firstAction = System.nanoTime());\n      long starting = System.nanoTime();\n      t1.start();\n      int length = sb.length();\n      long afterReadingLength = System.nanoTime();\n      String s = &quot;StringBuilder: &quot; + length;\n      long afterConcatenation = System.nanoTime();\n      System.out.println(s);\n      long andPrintln = System.nanoTime();\n      t1.join();\n\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\n                        &quot;thread's 1st action&quot;, firstAction - starting);\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\n                        &quot;reading sb.length()&quot;, afterReadingLength - starting);\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\n                        &quot;string concatenation&quot;, afterConcatenation - starting);\n      System.out.printf(&quot;time until %-20s %,d ns%n&quot;,\n                        &quot;println completion&quot;, andPrintln - starting);\n  }\n}\n</code></pre>\n<p>I get results similar to</p>\n<pre class=\"lang-none prettyprint-override\"><code>StringBuilder: 0\ntime until thread's 1st action  399.000 ns\ntime until reading sb.length()  181.300 ns\ntime until string concatenation 195.300 ns\ntime until println completion   392.800 ns\n</code></pre>\n<p>though numbers can vary significantly between runs. It demonstrates the <em>order of magnitude</em> of the operations involved.</p>\n<p>Starting a thread takes a significant amount of time. That’s one of the reasons  why we use thread pools; handing a task over to an already running worker thread is significantly faster than starting a new thread.</p>\n<p>Some of the work has been done within the <code>start()</code> method execution in the main thread. I did not try to separate it from the execution of <code>sb.length()</code> here, as the time measurement wouldn’t be precise enough. It’s clearly visible that the background thread is far away from doing anything by the time, <code>sb.length()</code> returned. Even the string concatenation is not expensive enough.</p>\n<p>But after the execution of the first <code>println</code> call, we get into the same order of magnitude, so overlapping of the background thread’s activity with the main thread may happen after that.</p>\n<hr />\n<p>It’s still important to emphasize that you <em>must not</em> rely on any assumed timing and changing an object from multiple threads can give you unpredictable results.</p>\n"}],"owner":{"account_id":19089840,"reputation":17,"user_id":13940333,"display_name":"spatd"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75309681,"answer_count":1,"score":-1,"last_activity_date":1675251788,"creation_date":1675227896,"question_id":75305882,"body_markdown":"In below program, String buffer is working as expected, but in case of string builder, the length of String builder is zero, while it&#39;s giving me some data. So my question is, if string builder has some value, how can it return its length zero?\r\n\r\n    public class SbVsSbf2 {\r\n    \r\n        static StringBuilder sb = new StringBuilder();\r\n        static StringBuffer sbf = new StringBuffer();\r\n    \r\n        public static void main(String[] args) throws InterruptedException {\r\n            // Thread 1\r\n            Thread t1 = new Thread(() -&gt; {\r\n                for (int i = 0; i &lt;= 23; i++) {\r\n                    sb.append(i);\r\n                    sbf.append(i);\r\n                }\r\n            });\r\n    \r\n            // Thread 2\r\n            Thread t2 = new Thread(() -&gt; {\r\n                for (int i = 0; i &lt;= 23; i++) {\r\n                    sb.append(i);\r\n                    sbf.append(i);\r\n                }\r\n            });\r\n    \r\n            t1.start();\r\n            t2.start();\r\n    \r\n            System.out.println(&quot;StringBuilder: &quot; + sb.length());\r\n            System.out.println(&quot;StringBuffer: &quot; + sbf.length());\r\n            System.out.println(&quot;StringBuilder: &quot; + sb);\r\n            System.out.println(&quot;StringBuffer : &quot; + sbf);\r\n    \r\n        }\r\n    }","title":"Why String Builder is returning its length zero, while returning some value of it","body":"<p>In below program, String buffer is working as expected, but in case of string builder, the length of String builder is zero, while it's giving me some data. So my question is, if string builder has some value, how can it return its length zero?</p>\n<pre><code>public class SbVsSbf2 {\n\n    static StringBuilder sb = new StringBuilder();\n    static StringBuffer sbf = new StringBuffer();\n\n    public static void main(String[] args) throws InterruptedException {\n        // Thread 1\n        Thread t1 = new Thread(() -&gt; {\n            for (int i = 0; i &lt;= 23; i++) {\n                sb.append(i);\n                sbf.append(i);\n            }\n        });\n\n        // Thread 2\n        Thread t2 = new Thread(() -&gt; {\n            for (int i = 0; i &lt;= 23; i++) {\n                sb.append(i);\n                sbf.append(i);\n            }\n        });\n\n        t1.start();\n        t2.start();\n\n        System.out.println(&quot;StringBuilder: &quot; + sb.length());\n        System.out.println(&quot;StringBuffer: &quot; + sbf.length());\n        System.out.println(&quot;StringBuilder: &quot; + sb);\n        System.out.println(&quot;StringBuffer : &quot; + sbf);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-s3","pre-signed-url"],"owner":{"account_id":15704117,"reputation":83,"user_id":11916606,"display_name":"Artem Causelove"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675251659,"creation_date":1675251659,"question_id":75309650,"body_markdown":"I want to create a signed request for external users so they can upload a file to my s3 bucket. I want to have the following limitations \r\n - URL expiration time\r\n - limit size range\r\n - content type\r\n\r\nI did some research and found out that there are 2 main ways to achieve this:\r\n1. Presigned URL(PutObject API) https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\r\n2. Post object(post policy with limitations specified)\r\nhttps://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\r\n\r\nbut unfortunately, neither of these 2 ways supports all the limitations I need. To be precise, presigned URL doesn&#39;t allow to limit file range(only exact number of bytes to be uploaded), on the other hand, Post object doesn&#39;t support multipart upload(as far as I understood). \r\n\r\nSo the question is how can I achieve all the limitations and still be able to upload file in parallel(multipart) ?\r\n\r\nI&#39;m using java language and checked minio already, but didn&#39;t find anything. Maybe there is some API that is not supported in AWS SDK or minio implementations that allows doing this? ","title":"How to upload file in parallel to s3 bucket with size limitation using signed request","body":"<p>I want to create a signed request for external users so they can upload a file to my s3 bucket. I want to have the following limitations</p>\n<ul>\n<li>URL expiration time</li>\n<li>limit size range</li>\n<li>content type</li>\n</ul>\n<p>I did some research and found out that there are 2 main ways to achieve this:</p>\n<ol>\n<li>Presigned URL(PutObject API) <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutObject.html</a></li>\n<li>Post object(post policy with limitations specified)\n<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectPOST.html</a></li>\n</ol>\n<p>but unfortunately, neither of these 2 ways supports all the limitations I need. To be precise, presigned URL doesn't allow to limit file range(only exact number of bytes to be uploaded), on the other hand, Post object doesn't support multipart upload(as far as I understood).</p>\n<p>So the question is how can I achieve all the limitations and still be able to upload file in parallel(multipart) ?</p>\n<p>I'm using java language and checked minio already, but didn't find anything. Maybe there is some API that is not supported in AWS SDK or minio implementations that allows doing this?</p>\n"},{"tags":["java","firebase","oauth","shopify"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1675364116,"post_id":75307095,"comment_id":132918659,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":27673310,"reputation":1,"user_id":21123654,"display_name":"Aayush Mittal"},"score":0,"creation_date":1675252315,"post_id":75309615,"comment_id":132887315,"body_markdown":"The task is to convert a shopify website into a android web application and so I made the app in java but the client wanted an authentication at the start of the app so I used firebase to store data. Is there any alternative which can be used for the purpose which is cheap","body":"The task is to convert a shopify website into a android web application and so I made the app in java but the client wanted an authentication at the start of the app so I used firebase to store data. Is there any alternative which can be used for the purpose which is cheap"},{"owner":{"account_id":8110544,"reputation":1237,"user_id":6110804,"accept_rate":57,"display_name":"TwistedOwl"},"score":0,"creation_date":1675252712,"post_id":75309615,"comment_id":132887416,"body_markdown":"What you are creating is a headless app and they are never cheap. Doing that without Shopify Plus makes no sense as there will be lots of challenges like this in the future. Basically, the budget must be increased or some features must go off the table.","body":"What you are creating is a headless app and they are never cheap. Doing that without Shopify Plus makes no sense as there will be lots of challenges like this in the future. Basically, the budget must be increased or some features must go off the table."},{"owner":{"account_id":27673310,"reputation":1,"user_id":21123654,"display_name":"Aayush Mittal"},"score":0,"creation_date":1675253580,"post_id":75309615,"comment_id":132887674,"body_markdown":"But can&#39;t anything else be done because the plan is very expensive(1,50,000/month). Is there anything we can do related to OAuth2.0 aur access tokens to allow shopify fetch data from firebase and authenticate the user just like we do when signing into a app using google or yahoo account. My thinking is that first user authenticates through firebase and in app, the shopify asks permission to read data from firebase and authenticate the user","body":"But can&#39;t anything else be done because the plan is very expensive(1,50,000/month). Is there anything we can do related to OAuth2.0 aur access tokens to allow shopify fetch data from firebase and authenticate the user just like we do when signing into a app using google or yahoo account. My thinking is that first user authenticates through firebase and in app, the shopify asks permission to read data from firebase and authenticate the user"},{"owner":{"account_id":8110544,"reputation":1237,"user_id":6110804,"accept_rate":57,"display_name":"TwistedOwl"},"score":0,"creation_date":1675256046,"post_id":75309615,"comment_id":132888474,"body_markdown":"@AayushMittal no, you can try to do a workaround by disabling the captcha and trying to log in the user by opening the browser and sending a form request for him or something like that but you will end up fixing it over and over, plus it could stop working at any point in time. Also, you will have to keep passwords in sync in plain text with Shopify, which means a lot of responsibility, bugs, and bots. OAuth2.0 is used for app auth not customer auth so your focus on it is wrong.","body":"@AayushMittal no, you can try to do a workaround by disabling the captcha and trying to log in the user by opening the browser and sending a form request for him or something like that but you will end up fixing it over and over, plus it could stop working at any point in time. Also, you will have to keep passwords in sync in plain text with Shopify, which means a lot of responsibility, bugs, and bots. OAuth2.0 is used for app auth not customer auth so your focus on it is wrong."},{"owner":{"account_id":8110544,"reputation":1237,"user_id":6110804,"accept_rate":57,"display_name":"TwistedOwl"},"score":0,"creation_date":1675256170,"post_id":75309615,"comment_id":132888523,"body_markdown":"One more important note to take is you get shopify wrong. In a way, you can&#39;t make *Shopify do something for you*. You just can&#39;t plug in Shopify into 3rd system and overwrite its logic. Shopify gives you API to read/write data and webhooks to subscribe to events. That means you are taking actions around Shopify, not vice-versa.","body":"One more important note to take is you get shopify wrong. In a way, you can&#39;t make <i>Shopify do something for you</i>. You just can&#39;t plug in Shopify into 3rd system and overwrite its logic. Shopify gives you API to read/write data and webhooks to subscribe to events. That means you are taking actions around Shopify, not vice-versa."},{"owner":{"account_id":8110544,"reputation":1237,"user_id":6110804,"accept_rate":57,"display_name":"TwistedOwl"},"score":0,"creation_date":1675256323,"post_id":75309615,"comment_id":132888578,"body_markdown":"Finally, Headless E-Commerce is not meant for small brands (at least in Shopify, but in general it&#39;s not possible to run it without a team of devs). Yes, Shopify Plus is a bit expensive, and buying it just for a multipass makes no sense. But this is their business model and nothing can be done.","body":"Finally, Headless E-Commerce is not meant for small brands (at least in Shopify, but in general it&#39;s not possible to run it without a team of devs). Yes, Shopify Plus is a bit expensive, and buying it just for a multipass makes no sense. But this is their business model and nothing can be done."},{"owner":{"account_id":27673310,"reputation":1,"user_id":21123654,"display_name":"Aayush Mittal"},"score":0,"creation_date":1675264639,"post_id":75309615,"comment_id":132891590,"body_markdown":"Thanks a lot for the clarification. I am new to this and so had a lot of doubts. One more question. If we make a custom shopify app, is it possible to deploy it on playstore?","body":"Thanks a lot for the clarification. I am new to this and so had a lot of doubts. One more question. If we make a custom shopify app, is it possible to deploy it on playstore?"},{"owner":{"account_id":8110544,"reputation":1237,"user_id":6110804,"accept_rate":57,"display_name":"TwistedOwl"},"score":0,"creation_date":1675264767,"post_id":75309615,"comment_id":132891659,"body_markdown":"Yes, you just need to remember to follow google play store policies","body":"Yes, you just need to remember to follow google play store policies"}],"tags":[],"owner":{"account_id":8110544,"reputation":1237,"user_id":6110804,"accept_rate":57,"display_name":"TwistedOwl"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675251497,"creation_date":1675251497,"answer_id":75309615,"question_id":75307095,"body_markdown":"If you are on the Shopify Plus plan, you can auth user on your app backend using [Multipass][1]\r\n\r\nDocumentation starts with the description of the very similar problem to yours:\r\n\r\n&gt; You&#39;re the owner of a successful website forum. All of your users must log in to the forum to contribute. Members of your forum can then purchase a forum t-shirt through your Shopify store. Unfortunately, your users have to log in to the forum first and then log in to your Shopify store before they can purchase a t-shirt.\r\n\r\n&gt; Multipass login is for store owners who have a separate website and a Shopify store. It redirects users from the website to the Shopify store and seamlessly logs them in with the same email address they used to sign up for the original website. If no account with that email address exists yet, one is created. There is no need to synchronize any customer databases.\r\n\r\nBy the way, storing e-commerce data outside Shopify is not the cheapest thing to do so I would reconsider the requirements.\r\n\r\n  [1]: https://shopify.dev/api/multipass","title":"shopify authentication with firebase","body":"<p>If you are on the Shopify Plus plan, you can auth user on your app backend using <a href=\"https://shopify.dev/api/multipass\" rel=\"nofollow noreferrer\">Multipass</a></p>\n<p>Documentation starts with the description of the very similar problem to yours:</p>\n<blockquote>\n<p>You're the owner of a successful website forum. All of your users must log in to the forum to contribute. Members of your forum can then purchase a forum t-shirt through your Shopify store. Unfortunately, your users have to log in to the forum first and then log in to your Shopify store before they can purchase a t-shirt.</p>\n</blockquote>\n<blockquote>\n<p>Multipass login is for store owners who have a separate website and a Shopify store. It redirects users from the website to the Shopify store and seamlessly logs them in with the same email address they used to sign up for the original website. If no account with that email address exists yet, one is created. There is no need to synchronize any customer databases.</p>\n</blockquote>\n<p>By the way, storing e-commerce data outside Shopify is not the cheapest thing to do so I would reconsider the requirements.</p>\n"}],"owner":{"account_id":27673310,"reputation":1,"user_id":21123654,"display_name":"Aayush Mittal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675251497,"creation_date":1675238341,"question_id":75307095,"body_markdown":"I have been working on a project where I have to develop an android web application of a website that&#39;s made with Shopify. I used java for the purpose and in my app, I used firebase authentication because the client wants to store data in firebase. Now the problem is when the user logs in through my app, he gets to see the website view but needs to log in again since the website is on Shopify. Is there any way by which Shopify authenticates the user data from firebase data so the user doesn&#39;t have to provide details again?  \r\n\r\nI searched a lot about it and its something to do with OAuth and access tokens, but I have no clue how to integrate it. Someone, please help me with a solution.","title":"shopify authentication with firebase","body":"<p>I have been working on a project where I have to develop an android web application of a website that's made with Shopify. I used java for the purpose and in my app, I used firebase authentication because the client wants to store data in firebase. Now the problem is when the user logs in through my app, he gets to see the website view but needs to log in again since the website is on Shopify. Is there any way by which Shopify authenticates the user data from firebase data so the user doesn't have to provide details again?</p>\n<p>I searched a lot about it and its something to do with OAuth and access tokens, but I have no clue how to integrate it. Someone, please help me with a solution.</p>\n"},{"tags":["java","amazon-s3"],"comments":[{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1674143467,"post_id":75162525,"comment_id":132656162,"body_markdown":"When you create mocks with mockito it creates a dummy class which always returns null for all methods. You also need to mock the actual method calls so they return something useful (usually mocks as well). Something like:\n\nMockito.when(s3AsyncClient.selectObjectContent(any()).thenReturn(&lt;the future you wanna do work with&gt;);","body":"When you create mocks with mockito it creates a dummy class which always returns null for all methods. You also need to mock the actual method calls so they return something useful (usually mocks as well). Something like:  Mockito.when(s3AsyncClient.selectObjectContent(any()).thenRe&zwnj;&#8203;turn(&lt;the future you wanna do work with&gt;);"}],"answers":[{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675251302,"creation_date":1675251302,"answer_id":75309582,"question_id":75162525,"body_markdown":"I will share unit test for similar functionality and show you how to work with completable future when your code has `.join()` to continue the execution\r\n\r\n**Code under test**\r\n\r\n    private final S3AsyncClient s3AsyncClient;\r\n    \r\n    public long getSize(final S3AsyncClient client, final String bucket, final String key) {\r\n        return client.headObject(HeadObjectRequest.builder().bucket(bucket).key(key).build()).join().contentLength();\r\n      }\r\n\r\nand in this code the `client.headObject()` returns the `CompletableFuture&lt;HeadObjectResponse&gt;` which we are going to mock and test in **Unit Test as shown below**\r\n\r\n    @Test\r\n    @DisplayName(&quot;Verify getSize returns the size of the given key in the bucket&quot;)\r\n    void verifyGetSizeRetunsSizeOfFileInS3() {\r\n    CompletableFuture&lt;HeadObjectResponse&gt; headObjectResponseCompletableFuture =\r\n            CompletableFuture.completedFuture(HeadObjectResponse.builder().contentLength(20000L).build());\r\n    \r\n    when(s3AsyncClient.headObject(headObjectRequestArgumentCaptor.capture()))\r\n            .thenReturn(headObjectResponseCompletableFuture);\r\n    \r\n      long size = s3Service.getSize(s3AsyncClient, &quot;somebucket&quot;, &quot;someFile&quot;);\r\n    \r\n    assertThat(headObjectRequestArgumentCaptor.getValue()).hasFieldOrPropertyWithValue(&quot;bucket&quot;, &quot;somebucket&quot;)\r\n            .hasFieldOrPropertyWithValue(&quot;key&quot;, &quot;someFile&quot;);\r\n    \r\n    assertThat(size).isEqualTo(20000L);\r\n    }","title":"Mocking completable future","body":"<p>I will share unit test for similar functionality and show you how to work with completable future when your code has <code>.join()</code> to continue the execution</p>\n<p><strong>Code under test</strong></p>\n<pre><code>private final S3AsyncClient s3AsyncClient;\n\npublic long getSize(final S3AsyncClient client, final String bucket, final String key) {\n    return client.headObject(HeadObjectRequest.builder().bucket(bucket).key(key).build()).join().contentLength();\n  }\n</code></pre>\n<p>and in this code the <code>client.headObject()</code> returns the <code>CompletableFuture&lt;HeadObjectResponse&gt;</code> which we are going to mock and test in <strong>Unit Test as shown below</strong></p>\n<pre><code>@Test\n@DisplayName(&quot;Verify getSize returns the size of the given key in the bucket&quot;)\nvoid verifyGetSizeRetunsSizeOfFileInS3() {\nCompletableFuture&lt;HeadObjectResponse&gt; headObjectResponseCompletableFuture =\n        CompletableFuture.completedFuture(HeadObjectResponse.builder().contentLength(20000L).build());\n\nwhen(s3AsyncClient.headObject(headObjectRequestArgumentCaptor.capture()))\n        .thenReturn(headObjectResponseCompletableFuture);\n\n  long size = s3Service.getSize(s3AsyncClient, &quot;somebucket&quot;, &quot;someFile&quot;);\n\nassertThat(headObjectRequestArgumentCaptor.getValue()).hasFieldOrPropertyWithValue(&quot;bucket&quot;, &quot;somebucket&quot;)\n        .hasFieldOrPropertyWithValue(&quot;key&quot;, &quot;someFile&quot;);\n\nassertThat(size).isEqualTo(20000L);\n}\n</code></pre>\n"}],"owner":{"account_id":27565287,"reputation":11,"user_id":21037585,"display_name":"bostonjava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675251302,"creation_date":1674060241,"question_id":75162525,"body_markdown":"I am trying to create unit test for the following code.  The code utilizes AWS Java 2 SDK.  The code calls selectObjectContent in S3AsyncClient class which returns a CompletableFuture  (https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html). My test is returning null pointer exception while invoking future.get()\r\n\r\n\r\nHere is the method I want to unit test.\r\n\r\n```\r\n    public &lt;T&gt; Collection&lt;T&gt; queryWithS3Select(\r\n        List&lt;String&gt; s3Keys,\r\n        String s3SelectQuery,\r\n        InputSerialization inputSerialization,\r\n        Class&lt;T&gt; modelObject,\r\n        Comparator&lt;T&gt; comparator\r\n    ) throws ExecutionException, InterruptedException, IOException {\r\n        TreeSet&lt;T&gt; collection = new TreeSet&lt;&gt;(comparator);\r\n\r\n        List&lt;SelectObjectContentRequest&gt; selectObjectContentRequest =\r\n            buildS3SelectRequests(s3Keys, s3SelectQuery, inputSerialization);\r\n\r\n        S3SelectContentHandler s3SelectContentHandler = new S3SelectContentHandler();\r\n\r\n        StringBuilder selectionResult = new StringBuilder();\r\n\r\n        for (SelectObjectContentRequest socr : selectObjectContentRequest) {\r\n            CompletableFuture&lt;Void&gt; future = s3AsyncClient.selectObjectContent(socr, s3SelectContentHandler);\r\n            future.get();\r\n\r\n            s3SelectContentHandler.getReceivedEvents().forEach(e -&gt; {\r\n                if (e.sdkEventType() == SelectObjectContentEventStream.EventType.RECORDS) {\r\n                    RecordsEvent response = (RecordsEvent) e;\r\n                    selectionResult.append(response.payload().asUtf8String());\r\n                }\r\n            });\r\n        }\r\n\r\n        JsonParser parser = objectMapper.createParser(selectionResult.toString());\r\n        collection.addAll(Lists.newArrayList(objectMapper.readValues(parser, modelObject)));\r\n        return collection;\r\n    }\r\n\r\n```\r\n\r\nMy unit test so far.  Running this code I get null pointer exception at future.get() line above.  How can I use the mock s3AsyncClient to return a valid future?\r\n\r\n```\r\n    @Mock\r\n    private S3AsyncClient s3AsyncClient;\r\n\r\n    @Test\r\n    public void itShouldReturnQueryResults() throws IOException, ExecutionException, InterruptedException {\r\n        List&lt;String&gt; keysToQuery = List.of(&quot;key1&quot;, &quot;key2&quot;);\r\n\r\n        InputSerialization inputSerialization = InputSerialization.builder()\r\n                .json(JSONInput.builder().type(JSONType.DOCUMENT).build())\r\n                .compressionType(String.valueOf(CompressionType.GZIP))\r\n                .build();\r\n\r\n        Comparator&lt;S3SelectObject&gt; comparator =\r\n                Comparator.comparing((S3SelectObject e) -&gt; e.getStartTime());\r\n\r\n\r\n        underTest.queryWithS3Select(keysToQuery, S3_SELECT_QUERY, inputSerialization, S3SelectObject.class, comparator );\r\n\r\n    }\r\n\r\n```\r\n\r\nHere is the S3SelectContentHandler\r\n```\r\npublic class S3SelectContentHandler implements SelectObjectContentResponseHandler {\r\n\r\n    private SelectObjectContentResponse response;\r\n    private List&lt;SelectObjectContentEventStream&gt; receivedEvents = new ArrayList&lt;&gt;();\r\n    private Throwable exception;\r\n\r\n    @Override\r\n    public void responseReceived(SelectObjectContentResponse response) {\r\n        this.response = response;\r\n    }\r\n\r\n    @Override\r\n    public void onEventStream(SdkPublisher&lt;SelectObjectContentEventStream&gt; publisher) {\r\n        publisher.subscribe(receivedEvents::add);\r\n    }\r\n\r\n    @Override\r\n    public void exceptionOccurred(Throwable throwable) {\r\n        exception = throwable;\r\n    }\r\n\r\n    @Override\r\n    public void complete() {}\r\n\r\n    public List&lt;SelectObjectContentEventStream&gt; getReceivedEvents() {\r\n        return receivedEvents;\r\n    }\r\n}\r\n```","title":"Mocking completable future","body":"<p>I am trying to create unit test for the following code.  The code utilizes AWS Java 2 SDK.  The code calls selectObjectContent in S3AsyncClient class which returns a CompletableFuture  (<a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html\" rel=\"nofollow noreferrer\">https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3AsyncClient.html</a>). My test is returning null pointer exception while invoking future.get()</p>\n<p>Here is the method I want to unit test.</p>\n<pre><code>    public &lt;T&gt; Collection&lt;T&gt; queryWithS3Select(\n        List&lt;String&gt; s3Keys,\n        String s3SelectQuery,\n        InputSerialization inputSerialization,\n        Class&lt;T&gt; modelObject,\n        Comparator&lt;T&gt; comparator\n    ) throws ExecutionException, InterruptedException, IOException {\n        TreeSet&lt;T&gt; collection = new TreeSet&lt;&gt;(comparator);\n\n        List&lt;SelectObjectContentRequest&gt; selectObjectContentRequest =\n            buildS3SelectRequests(s3Keys, s3SelectQuery, inputSerialization);\n\n        S3SelectContentHandler s3SelectContentHandler = new S3SelectContentHandler();\n\n        StringBuilder selectionResult = new StringBuilder();\n\n        for (SelectObjectContentRequest socr : selectObjectContentRequest) {\n            CompletableFuture&lt;Void&gt; future = s3AsyncClient.selectObjectContent(socr, s3SelectContentHandler);\n            future.get();\n\n            s3SelectContentHandler.getReceivedEvents().forEach(e -&gt; {\n                if (e.sdkEventType() == SelectObjectContentEventStream.EventType.RECORDS) {\n                    RecordsEvent response = (RecordsEvent) e;\n                    selectionResult.append(response.payload().asUtf8String());\n                }\n            });\n        }\n\n        JsonParser parser = objectMapper.createParser(selectionResult.toString());\n        collection.addAll(Lists.newArrayList(objectMapper.readValues(parser, modelObject)));\n        return collection;\n    }\n\n</code></pre>\n<p>My unit test so far.  Running this code I get null pointer exception at future.get() line above.  How can I use the mock s3AsyncClient to return a valid future?</p>\n<pre><code>    @Mock\n    private S3AsyncClient s3AsyncClient;\n\n    @Test\n    public void itShouldReturnQueryResults() throws IOException, ExecutionException, InterruptedException {\n        List&lt;String&gt; keysToQuery = List.of(&quot;key1&quot;, &quot;key2&quot;);\n\n        InputSerialization inputSerialization = InputSerialization.builder()\n                .json(JSONInput.builder().type(JSONType.DOCUMENT).build())\n                .compressionType(String.valueOf(CompressionType.GZIP))\n                .build();\n\n        Comparator&lt;S3SelectObject&gt; comparator =\n                Comparator.comparing((S3SelectObject e) -&gt; e.getStartTime());\n\n\n        underTest.queryWithS3Select(keysToQuery, S3_SELECT_QUERY, inputSerialization, S3SelectObject.class, comparator );\n\n    }\n\n</code></pre>\n<p>Here is the S3SelectContentHandler</p>\n<pre><code>public class S3SelectContentHandler implements SelectObjectContentResponseHandler {\n\n    private SelectObjectContentResponse response;\n    private List&lt;SelectObjectContentEventStream&gt; receivedEvents = new ArrayList&lt;&gt;();\n    private Throwable exception;\n\n    @Override\n    public void responseReceived(SelectObjectContentResponse response) {\n        this.response = response;\n    }\n\n    @Override\n    public void onEventStream(SdkPublisher&lt;SelectObjectContentEventStream&gt; publisher) {\n        publisher.subscribe(receivedEvents::add);\n    }\n\n    @Override\n    public void exceptionOccurred(Throwable throwable) {\n        exception = throwable;\n    }\n\n    @Override\n    public void complete() {}\n\n    public List&lt;SelectObjectContentEventStream&gt; getReceivedEvents() {\n        return receivedEvents;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","json","try-catch"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1668165033,"post_id":74401014,"comment_id":131344853,"body_markdown":"Please be more explicit about what &quot;does not work&quot; mean: what behaviour *do* you observe and what do you want to happen instead? [Edit] your question to include that information.","body":"Please be more explicit about what &quot;does not work&quot; mean: what behaviour <i>do</i> you observe and what do you want to happen instead? <a href=\"https://stackoverflow.com/posts/74401014/edit\">Edit</a> your question to include that information."},{"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"score":0,"creation_date":1668165559,"post_id":74401014,"comment_id":131344997,"body_markdown":"@JoachimSauer I have updated the question to make it more clear","body":"@JoachimSauer I have updated the question to make it more clear"}],"answers":[{"tags":[],"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675165834,"creation_date":1675165834,"answer_id":75296717,"question_id":74401014,"body_markdown":"After too much trouble, the following worked\r\n\r\n          StringRequest productRateStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_PRODUCT_RATINGS,\r\n                response -&gt; {\r\n                    try{\r\n                        JSONObject ratingObject = new JSONObject(response);\r\n                        oneStar = Integer.parseInt(ratingObject.getString(&quot;oneStar&quot;));\r\n                        twoStars = Integer.parseInt(ratingObject.getString(&quot;twoStar&quot;));\r\n                        threeStars = Integer.parseInt(ratingObject.getString(&quot;threeStar&quot;));\r\n                        fourStars = Integer.parseInt(ratingObject.getString(&quot;fourStar&quot;));\r\n                        fiveStars = Integer.parseInt(ratingObject.getString(&quot;fiveStar&quot;));\r\n                        totalRating = Integer.parseInt(ratingObject.getString(&quot;totalRatings&quot;));\r\n\r\n                        averageRating.setText(String.format(&quot;%s/5&quot;, ratingObject.getString(&quot;averageRating&quot;)));\r\n                        oneStarCount.setText(String.format(&quot;(%s)&quot;, oneStar));\r\n                        twoStarCount.setText(String.format(&quot;(%s)&quot;, twoStars));\r\n                        threeStarCount.setText(String.format(&quot;(%s)&quot;, threeStars));\r\n                        fourStarCount.setText(String.format(&quot;(%s)&quot;, fourStars));\r\n                        fiveStarCount.setText(String.format(&quot;(%s)&quot;, fiveStars));\r\n\r\n                        productRatingBar.setRating((float) ratingObject.getDouble(&quot;averageRating&quot;));\r\n                        oneStarProgress.setProgress(calculateRatingPercentage(oneStar, totalRating));\r\n                        twoStarProgress.setProgress(calculateRatingPercentage(twoStars, totalRating));\r\n                        threeStarProgress.setProgress(calculateRatingPercentage(threeStars, totalRating));\r\n                        fourStarProgress.setProgress(calculateRatingPercentage(fourStars, totalRating));\r\n                        fiveStarProgress.setProgress(calculateRatingPercentage(fiveStars, totalRating));\r\n                        if(totalRating &lt; 1){\r\n                            productRateCount.setVisibility(View.GONE);\r\n                        }else if(totalRating &gt; 1){\r\n                            productRateCount.setVisibility(View.VISIBLE);\r\n                            productRateCount.setText(String.format(&quot;( %s ratings )&quot;, totalRating));\r\n                        }else{\r\n                            productRateCount.setVisibility(View.VISIBLE);\r\n                            productRateCount.setText(String.format(&quot;( %s rating )&quot;, totalRating));\r\n                        }\r\n                    }catch (JSONException e){\r\n                        e.printStackTrace();\r\n                    }\r\n                },\r\n                error -&gt; {\r\n                    Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\r\n                    Log.d(&quot;An Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\r\n                    try {\r\n                        byte[] htmlBodyBytes = error.networkResponse.data;\r\n                        Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\r\n                    } catch (NullPointerException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }){\r\n            protected Map&lt;String, String&gt; getParams() {\r\n                Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n                params.put(&quot;id&quot;, id);\r\n                params.put(&quot;api_token&quot;, token);\r\n                return params;\r\n            }\r\n        };\r\n        productRateStringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n                1000*5,\r\n                3,\r\n                DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\n        RequestQueue productRequestQue = Volley.newRequestQueue(this);\r\n        productRequestQue.add(productRateStringRequest);\r\n    }\r\nThe method called to calculate the percentage rating is implemented as follows\r\n\r\n          public int calculateRatingPercentage(int rating, int total){\r\n        int percentage = (int) (((float)(rating) / total) * 100);\r\n        return percentage;\r\n\r\n    }\r\nBasically what was happening is that the ratings were being returned as strings cast to floating points. the calculation was thus returning NAN as it was difficult converting the ratings to double. In my solution, I did the casting myself and then cast the result back to integer as that was what is needed ","title":"Calculating percentage within a try catch block","body":"<p>After too much trouble, the following worked</p>\n<pre><code>      StringRequest productRateStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_PRODUCT_RATINGS,\n            response -&gt; {\n                try{\n                    JSONObject ratingObject = new JSONObject(response);\n                    oneStar = Integer.parseInt(ratingObject.getString(&quot;oneStar&quot;));\n                    twoStars = Integer.parseInt(ratingObject.getString(&quot;twoStar&quot;));\n                    threeStars = Integer.parseInt(ratingObject.getString(&quot;threeStar&quot;));\n                    fourStars = Integer.parseInt(ratingObject.getString(&quot;fourStar&quot;));\n                    fiveStars = Integer.parseInt(ratingObject.getString(&quot;fiveStar&quot;));\n                    totalRating = Integer.parseInt(ratingObject.getString(&quot;totalRatings&quot;));\n\n                    averageRating.setText(String.format(&quot;%s/5&quot;, ratingObject.getString(&quot;averageRating&quot;)));\n                    oneStarCount.setText(String.format(&quot;(%s)&quot;, oneStar));\n                    twoStarCount.setText(String.format(&quot;(%s)&quot;, twoStars));\n                    threeStarCount.setText(String.format(&quot;(%s)&quot;, threeStars));\n                    fourStarCount.setText(String.format(&quot;(%s)&quot;, fourStars));\n                    fiveStarCount.setText(String.format(&quot;(%s)&quot;, fiveStars));\n\n                    productRatingBar.setRating((float) ratingObject.getDouble(&quot;averageRating&quot;));\n                    oneStarProgress.setProgress(calculateRatingPercentage(oneStar, totalRating));\n                    twoStarProgress.setProgress(calculateRatingPercentage(twoStars, totalRating));\n                    threeStarProgress.setProgress(calculateRatingPercentage(threeStars, totalRating));\n                    fourStarProgress.setProgress(calculateRatingPercentage(fourStars, totalRating));\n                    fiveStarProgress.setProgress(calculateRatingPercentage(fiveStars, totalRating));\n                    if(totalRating &lt; 1){\n                        productRateCount.setVisibility(View.GONE);\n                    }else if(totalRating &gt; 1){\n                        productRateCount.setVisibility(View.VISIBLE);\n                        productRateCount.setText(String.format(&quot;( %s ratings )&quot;, totalRating));\n                    }else{\n                        productRateCount.setVisibility(View.VISIBLE);\n                        productRateCount.setText(String.format(&quot;( %s rating )&quot;, totalRating));\n                    }\n                }catch (JSONException e){\n                    e.printStackTrace();\n                }\n            },\n            error -&gt; {\n                Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\n                Log.d(&quot;An Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\n                try {\n                    byte[] htmlBodyBytes = error.networkResponse.data;\n                    Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\n                } catch (NullPointerException e) {\n                    e.printStackTrace();\n                }\n            }){\n        protected Map&lt;String, String&gt; getParams() {\n            Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n            params.put(&quot;id&quot;, id);\n            params.put(&quot;api_token&quot;, token);\n            return params;\n        }\n    };\n    productRateStringRequest.setRetryPolicy(new DefaultRetryPolicy(\n            1000*5,\n            3,\n            DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\n    RequestQueue productRequestQue = Volley.newRequestQueue(this);\n    productRequestQue.add(productRateStringRequest);\n}\n</code></pre>\n<p>The method called to calculate the percentage rating is implemented as follows</p>\n<pre><code>      public int calculateRatingPercentage(int rating, int total){\n    int percentage = (int) (((float)(rating) / total) * 100);\n    return percentage;\n\n}\n</code></pre>\n<p>Basically what was happening is that the ratings were being returned as strings cast to floating points. the calculation was thus returning NAN as it was difficult converting the ratings to double. In my solution, I did the casting myself and then cast the result back to integer as that was what is needed</p>\n"}],"owner":{"account_id":6429211,"reputation":591,"user_id":4983101,"accept_rate":100,"display_name":"The Only Smart Boy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75296717,"answer_count":1,"score":0,"last_activity_date":1675251122,"creation_date":1668161905,"question_id":74401014,"body_markdown":"I&#39;m trying to calculate the percentage rating for products to use in updating a Bootstrap progress bar but my issue is that it only works when only one rating category returns a none zero value and does not work of more than one rating category returns a none zero value.\r\n\r\nHere is what I have tried so far:\r\n\r\n```java\r\nStringRequest productRateStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_PRODUCT_RATINGS,\r\n        response -&gt; {\r\n            try{\r\n                JSONObject ratingObject = new JSONObject(response);\r\n                oneStar = ratingObject.getInt(&quot;oneStar&quot;);\r\n                twoStars = ratingObject.getInt(&quot;twoStar&quot;);\r\n                threeStars = ratingObject.getInt(&quot;threeStar&quot;);\r\n                fourStars = ratingObject.getInt(&quot;fourStar&quot;);\r\n                fiveStars = ratingObject.getInt(&quot;fiveStar&quot;);\r\n                totalRating = ratingObject.getInt(&quot;totalRatings&quot;);\r\n\r\n                averageRating.setText(String.format(&quot;%s/5&quot;, ratingObject.getString(&quot;averageRating&quot;)));\r\n                oneStarCount.setText(String.format(&quot;(%s)&quot;, oneStar));\r\n                twoStarCount.setText(String.format(&quot;(%s)&quot;, twoStars));\r\n                threeStarCount.setText(String.format(&quot;(%s)&quot;, threeStars));\r\n                fourStarCount.setText(String.format(&quot;(%s)&quot;, fourStars));\r\n                fiveStarCount.setText(String.format(&quot;(%s)&quot;, fiveStars));\r\n                \r\n\r\n                productRatingBar.setRating((float) ratingObject.getDouble(&quot;averageRating&quot;));\r\n\r\n/*this is the part that is giving abnormal outputs when more than one non-zero value is returned( i.e oneStar and any other variable is none zero) and works well only when only one none-zero value is set (i.e only oneStar is none zero)*/\r\n                Log.d(&quot;Progress&quot;, &quot;inflateRating: &quot;+ fourStars / totalRating * 100); /* used this to test and it confirms what I thought. This line returns zero if more than one variable has a none zero value. in this case, the value for fourStars and fiveStars is 2*/\r\n                oneStarProgress.setProgress((oneStar / totalRating) * 100);\r\n                twoStarProgress.setProgress((twoStars / totalRating) * 100);\r\n                threeStarProgress.setProgress((threeStars / totalRating) * 100);\r\n                fourStarProgress.setProgress((fourStars / totalRating) * 100);\r\n                fiveStarProgress.setProgress((fiveStars / totalRating) * 100);\r\n                \r\n            }catch (JSONException e){\r\n                e.printStackTrace();\r\n            }\r\n        },\r\n        error -&gt; {\r\n            Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\r\n            Log.d(&quot;An Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\r\n            try {\r\n                byte[] htmlBodyBytes = error.networkResponse.data;\r\n                Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\r\n            } catch (NullPointerException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }){\r\n    protected Map&lt;String, String&gt; getParams() {\r\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\r\n        params.put(&quot;id&quot;, id);\r\n        params.put(&quot;api_token&quot;, token);\r\n        return params;\r\n    }\r\n};\r\nproductRateStringRequest.setRetryPolicy(new DefaultRetryPolicy(\r\n        1000*5,\r\n        3,\r\n        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\r\nRequestQueue productRequestQue = Volley.newRequestQueue(this);\r\nproductRequestQue.add(productRateStringRequest);\r\n```","title":"Calculating percentage within a try catch block","body":"<p>I'm trying to calculate the percentage rating for products to use in updating a Bootstrap progress bar but my issue is that it only works when only one rating category returns a none zero value and does not work of more than one rating category returns a none zero value.</p>\n<p>Here is what I have tried so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringRequest productRateStringRequest = new StringRequest(Request.Method.POST, NetworkConstants.URL_PRODUCT_RATINGS,\n        response -&gt; {\n            try{\n                JSONObject ratingObject = new JSONObject(response);\n                oneStar = ratingObject.getInt(&quot;oneStar&quot;);\n                twoStars = ratingObject.getInt(&quot;twoStar&quot;);\n                threeStars = ratingObject.getInt(&quot;threeStar&quot;);\n                fourStars = ratingObject.getInt(&quot;fourStar&quot;);\n                fiveStars = ratingObject.getInt(&quot;fiveStar&quot;);\n                totalRating = ratingObject.getInt(&quot;totalRatings&quot;);\n\n                averageRating.setText(String.format(&quot;%s/5&quot;, ratingObject.getString(&quot;averageRating&quot;)));\n                oneStarCount.setText(String.format(&quot;(%s)&quot;, oneStar));\n                twoStarCount.setText(String.format(&quot;(%s)&quot;, twoStars));\n                threeStarCount.setText(String.format(&quot;(%s)&quot;, threeStars));\n                fourStarCount.setText(String.format(&quot;(%s)&quot;, fourStars));\n                fiveStarCount.setText(String.format(&quot;(%s)&quot;, fiveStars));\n                \n\n                productRatingBar.setRating((float) ratingObject.getDouble(&quot;averageRating&quot;));\n\n/*this is the part that is giving abnormal outputs when more than one non-zero value is returned( i.e oneStar and any other variable is none zero) and works well only when only one none-zero value is set (i.e only oneStar is none zero)*/\n                Log.d(&quot;Progress&quot;, &quot;inflateRating: &quot;+ fourStars / totalRating * 100); /* used this to test and it confirms what I thought. This line returns zero if more than one variable has a none zero value. in this case, the value for fourStars and fiveStars is 2*/\n                oneStarProgress.setProgress((oneStar / totalRating) * 100);\n                twoStarProgress.setProgress((twoStars / totalRating) * 100);\n                threeStarProgress.setProgress((threeStars / totalRating) * 100);\n                fourStarProgress.setProgress((fourStars / totalRating) * 100);\n                fiveStarProgress.setProgress((fiveStars / totalRating) * 100);\n                \n            }catch (JSONException e){\n                e.printStackTrace();\n            }\n        },\n        error -&gt; {\n            Log.d(&quot;Error&quot;, &quot;Failed with error msg:\\t&quot; + error.getMessage());\n            Log.d(&quot;An Error&quot;, &quot;Error StackTrace: \\t&quot; + Arrays.toString(error.getStackTrace()));\n            try {\n                byte[] htmlBodyBytes = error.networkResponse.data;\n                Log.e(&quot;Error&quot;, new String(htmlBodyBytes), error);\n            } catch (NullPointerException e) {\n                e.printStackTrace();\n            }\n        }){\n    protected Map&lt;String, String&gt; getParams() {\n        Map&lt;String, String&gt; params = new HashMap&lt;&gt;();\n        params.put(&quot;id&quot;, id);\n        params.put(&quot;api_token&quot;, token);\n        return params;\n    }\n};\nproductRateStringRequest.setRetryPolicy(new DefaultRetryPolicy(\n        1000*5,\n        3,\n        DefaultRetryPolicy.DEFAULT_BACKOFF_MULT));\nRequestQueue productRequestQue = Volley.newRequestQueue(this);\nproductRequestQue.add(productRateStringRequest);\n</code></pre>\n"},{"tags":["java","android","google-maps"],"owner":{"account_id":27674805,"reputation":21,"user_id":21124854,"display_name":"mr_dark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675250909,"creation_date":1675250909,"question_id":75309519,"body_markdown":"It is drawing a polyline based on where the user was and now is but for some reason it creates another line which points from the new LatLng to the Origin(Where the user started) LatLng\r\n\r\nI am trying to figure out why but I am struggling to find the problem in my code\r\n[As you can see it draws a line as the user moves but on each new latlng it draws this really straight line to the latlng](https://i.stack.imgur.com/lxuYc.jpg)\r\n\r\n***Please Note: Yes I know some of the code I am using in LocationRequest is deprecated I will update it in the final version*** \r\n```\r\n\r\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\r\n\r\n    private GoogleMap mMap;\r\n    private PolylineOptions polylineOptions;\r\n    private Polyline polyline;\r\n    private List&lt;LatLng&gt; points;\r\n    private LocationCallback locationCallback;\r\n    private FusedLocationProviderClient mFusedLocationClient;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_maps);\r\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\r\n\r\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\r\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\r\n                    .findFragmentById(R.id.map);\r\n            mapFragment.getMapAsync(this);\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(GoogleMap googleMap) {\r\n        mMap = googleMap;\r\n        mFusedLocationClient.getLastLocation()\r\n                .addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Location location) {\r\n                        if (location != null) {\r\n                            LatLng currentLocation = new LatLng(location.getLatitude(), location.getLongitude());\r\n                            mMap.moveCamera(CameraUpdateFactory.newLatLng(currentLocation));\r\n                            mMap.setMyLocationEnabled(true);\r\n                            mFusedLocationClient.requestLocationUpdates(getLocationRequest(), locationCallback, Looper.myLooper());\r\n                        }\r\n                    }\r\n                });\r\n        points = new ArrayList&lt;&gt;();\r\n        polylineOptions = new PolylineOptions();\r\n        polylineOptions.color(Color.BLUE);\r\n        polylineOptions.width(5);\r\n        locationCallback = new LocationCallback() {\r\n            @Override\r\n            public void onLocationResult(LocationResult locationResult) {\r\n                super.onLocationResult(locationResult);\r\n                if (locationResult != null) {\r\n                    Location location = locationResult.getLastLocation();\r\n                    LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\r\n                    points.add(latLng);\r\n                    polylineOptions.addAll(points);\r\n                    if (polyline != null) {\r\n                        polyline.remove();\r\n                    }\r\n                    polyline = mMap.addPolyline(polylineOptions);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    private LocationRequest getLocationRequest() {\r\n        LocationRequest locationRequest = new LocationRequest();\r\n        locationRequest.setInterval(10);\r\n        locationRequest.setFastestInterval(3000);\r\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\r\n        return locationRequest;\r\n    }\r\n\r\n}\r\n```\r\n\r\nIn Theory: \r\nThe app should draw a simple polyline based on where the user was and where they are now(simple right?)\r\n\r\nReality: \r\nIt is drawing a polyline based on where the user was and now is but for some reason it creates another line which points from the new LatLng to the Origin(Where the user started) LatLng\r\n\r\nTried: \r\nTried to find anything on the google docs even tried ChatGPT(not going to lie) but I can&#39;t find a solution.","title":"Android App that draws a path as user moves(Using Google Maps SDK)","body":"<p>It is drawing a polyline based on where the user was and now is but for some reason it creates another line which points from the new LatLng to the Origin(Where the user started) LatLng</p>\n<p>I am trying to figure out why but I am struggling to find the problem in my code\n<a href=\"https://i.stack.imgur.com/lxuYc.jpg\" rel=\"nofollow noreferrer\">As you can see it draws a line as the user moves but on each new latlng it draws this really straight line to the latlng</a></p>\n<p><em><strong>Please Note: Yes I know some of the code I am using in LocationRequest is deprecated I will update it in the final version</strong></em></p>\n<pre><code>\npublic class MapsActivity extends FragmentActivity implements OnMapReadyCallback {\n\n    private GoogleMap mMap;\n    private PolylineOptions polylineOptions;\n    private Polyline polyline;\n    private List&lt;LatLng&gt; points;\n    private LocationCallback locationCallback;\n    private FusedLocationProviderClient mFusedLocationClient;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_maps);\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this);\n\n            // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n            SupportMapFragment mapFragment = (SupportMapFragment) getSupportFragmentManager()\n                    .findFragmentById(R.id.map);\n            mapFragment.getMapAsync(this);\n    }\n\n    @Override\n    public void onMapReady(GoogleMap googleMap) {\n        mMap = googleMap;\n        mFusedLocationClient.getLastLocation()\n                .addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n                    @Override\n                    public void onSuccess(Location location) {\n                        if (location != null) {\n                            LatLng currentLocation = new LatLng(location.getLatitude(), location.getLongitude());\n                            mMap.moveCamera(CameraUpdateFactory.newLatLng(currentLocation));\n                            mMap.setMyLocationEnabled(true);\n                            mFusedLocationClient.requestLocationUpdates(getLocationRequest(), locationCallback, Looper.myLooper());\n                        }\n                    }\n                });\n        points = new ArrayList&lt;&gt;();\n        polylineOptions = new PolylineOptions();\n        polylineOptions.color(Color.BLUE);\n        polylineOptions.width(5);\n        locationCallback = new LocationCallback() {\n            @Override\n            public void onLocationResult(LocationResult locationResult) {\n                super.onLocationResult(locationResult);\n                if (locationResult != null) {\n                    Location location = locationResult.getLastLocation();\n                    LatLng latLng = new LatLng(location.getLatitude(), location.getLongitude());\n                    points.add(latLng);\n                    polylineOptions.addAll(points);\n                    if (polyline != null) {\n                        polyline.remove();\n                    }\n                    polyline = mMap.addPolyline(polylineOptions);\n                }\n            }\n        };\n    }\n\n    private LocationRequest getLocationRequest() {\n        LocationRequest locationRequest = new LocationRequest();\n        locationRequest.setInterval(10);\n        locationRequest.setFastestInterval(3000);\n        locationRequest.setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY);\n        return locationRequest;\n    }\n\n}\n</code></pre>\n<p>In Theory:\nThe app should draw a simple polyline based on where the user was and where they are now(simple right?)</p>\n<p>Reality:\nIt is drawing a polyline based on where the user was and now is but for some reason it creates another line which points from the new LatLng to the Origin(Where the user started) LatLng</p>\n<p>Tried:\nTried to find anything on the google docs even tried ChatGPT(not going to lie) but I can't find a solution.</p>\n"},{"tags":["java","c#","encryption","aes"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1675259142,"post_id":75280567,"comment_id":132889569,"body_markdown":"Duplicate of a couple of other SO posts, e.g. [Rfc2898DeriveBytes in java](https://stackoverflow.com/q/24405731), [Converting .Net decryption to Java](https://stackoverflow.com/questions/60387628/converting-net-decryption-to-java). *...The &quot;duplicate&quot; answer shows how to write the decrypt method, but I need the encrypt method, as I wrote above....*: Note that key derivation via `Rfc2898DeriveBytes` is the same for encryption and decryption.","body":"Duplicate of a couple of other SO posts, e.g. <a href=\"https://stackoverflow.com/q/24405731\">Rfc2898DeriveBytes in java</a>, <a href=\"https://stackoverflow.com/questions/60387628/converting-net-decryption-to-java\">Converting .Net decryption to Java</a>. <i>...The &quot;duplicate&quot; answer shows how to write the decrypt method, but I need the encrypt method, as I wrote above....</i>: Note that key derivation via <code>Rfc2898DeriveBytes</code> is the same for encryption and decryption."}],"owner":{"account_id":25887243,"reputation":9,"user_id":19615137,"display_name":"dobtyimolodec"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1675250706,"creation_date":1675056836,"question_id":75280567,"body_markdown":"I am trying to reproduce the following encryption/decryption algorithm in Java, but I can&#39;t find the alternatives for multiple methods such as `Rfc2898DeriveBytes()`.  \r\nHow do I do this?  \r\nCode in c#:\r\n```\r\nusing System;\r\nusing System.IO;\r\nusing System.Security.Cryptography;\r\nusing System.Text;\r\n\r\nnamespace myCompany.Entities.Configuration\r\n{\r\n    public static class VideoSourceCryptoHelper\r\n    {\r\n        private const string EncryptionKey = &quot;MyWord&quot;;\r\n        private static readonly byte[] Salt = {0x49, 0x76, 0x61, 0x6e, 0x20, 0x4d, 0x65, 0x64, 0x76, 0x65, 0x64, 0x65, 0x76};\r\n        private const string ErrorText = &quot;***ERROR***&quot;;\r\n\r\n        **public static string Encrypt(string encryptString, bool suppressException = false)**\r\n        {\r\n            if (string.IsNullOrEmpty(encryptString))\r\n            {\r\n                return string.Empty;\r\n            }\r\n            try\r\n            {\r\n                var clearBytes = Encoding.Unicode.GetBytes(encryptString);\r\n                using (var encryption = Aes.Create())\r\n                {\r\n                    var pdb = new Rfc2898DeriveBytes(EncryptionKey, Salt);\r\n                    encryption.Key = pdb.GetBytes(32);\r\n                    encryption.IV = pdb.GetBytes(16);\r\n                    using (var ms = new MemoryStream())\r\n                    {\r\n                        using (var cs = new CryptoStream(ms, encryption.CreateEncryptor(), CryptoStreamMode.Write))\r\n                        {\r\n                            cs.Write(clearBytes, 0, clearBytes.Length);\r\n                        }\r\n\r\n                        encryptString = Convert.ToBase64String(ms.ToArray());\r\n                    }\r\n                }\r\n            }\r\n            catch(Exception)\r\n            {\r\n                if (suppressException)\r\n                    return ErrorText;\r\n                else\r\n                    throw;\r\n            }\r\n            return encryptString;\r\n        }\r\n```\r\n\r\nCan anyone give similar code in java that will do what C# does?\r\n\r\nThe &quot;duplicate&quot; answer shows how to write the decrypt method, but I need the encrypt method, as I wrote above.\r\n\r\n","title":"Convert c# Rfc2898DeriveBytes code in java","body":"<p>I am trying to reproduce the following encryption/decryption algorithm in Java, but I can't find the alternatives for multiple methods such as <code>Rfc2898DeriveBytes()</code>.<br />\nHow do I do this?<br />\nCode in c#:</p>\n<pre><code>using System;\nusing System.IO;\nusing System.Security.Cryptography;\nusing System.Text;\n\nnamespace myCompany.Entities.Configuration\n{\n    public static class VideoSourceCryptoHelper\n    {\n        private const string EncryptionKey = &quot;MyWord&quot;;\n        private static readonly byte[] Salt = {0x49, 0x76, 0x61, 0x6e, 0x20, 0x4d, 0x65, 0x64, 0x76, 0x65, 0x64, 0x65, 0x76};\n        private const string ErrorText = &quot;***ERROR***&quot;;\n\n        **public static string Encrypt(string encryptString, bool suppressException = false)**\n        {\n            if (string.IsNullOrEmpty(encryptString))\n            {\n                return string.Empty;\n            }\n            try\n            {\n                var clearBytes = Encoding.Unicode.GetBytes(encryptString);\n                using (var encryption = Aes.Create())\n                {\n                    var pdb = new Rfc2898DeriveBytes(EncryptionKey, Salt);\n                    encryption.Key = pdb.GetBytes(32);\n                    encryption.IV = pdb.GetBytes(16);\n                    using (var ms = new MemoryStream())\n                    {\n                        using (var cs = new CryptoStream(ms, encryption.CreateEncryptor(), CryptoStreamMode.Write))\n                        {\n                            cs.Write(clearBytes, 0, clearBytes.Length);\n                        }\n\n                        encryptString = Convert.ToBase64String(ms.ToArray());\n                    }\n                }\n            }\n            catch(Exception)\n            {\n                if (suppressException)\n                    return ErrorText;\n                else\n                    throw;\n            }\n            return encryptString;\n        }\n</code></pre>\n<p>Can anyone give similar code in java that will do what C# does?</p>\n<p>The &quot;duplicate&quot; answer shows how to write the decrypt method, but I need the encrypt method, as I wrote above.</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","junit"],"answers":[{"comments":[{"owner":{"account_id":12582707,"reputation":183,"user_id":9152817,"display_name":"szelelaci"},"score":0,"creation_date":1667388326,"post_id":71718306,"comment_id":131154025,"body_markdown":"Hi! May I ask from which dependecy does `AmazonS3Test` come from?","body":"Hi! May I ask from which dependecy does <code>AmazonS3Test</code> come from?"}],"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648909660,"creation_date":1648908985,"answer_id":71718306,"question_id":71717976,"body_markdown":"You have no JUNIT test code. You should have code that uses **org.junit.jupiter.api.*** \r\n\r\nInstead of using a MOCK, call the actual **S3 Async code** in a **@TestInstance** integration test to make sure it works. For example, here is my test in IntelliJ.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see, my test passed and I Know my code works -- which is the point of this AWS integration test.\r\n\r\nIf my code failed or threw an exception for some reason, my test would fail. For example, if I passed a bucket name that does not exist, I would get: \r\n\r\n[![enter image description here][2]][2]\r\n\r\nHere is my Java Amazon S3 Async code: \r\n\r\n    package com.example.s3.async;\r\n    \r\n    import software.amazon.awssdk.core.async.AsyncRequestBody;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3AsyncClient;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectResponse;\r\n    import java.nio.file.Paths;\r\n    import java.util.concurrent.CompletableFuture;\r\n    // snippet-end:[s3.java2.async_ops.import]\r\n    // snippet-start:[s3.java2.async_ops.main]\r\n    \r\n    /**\r\n     * To run this AWS code example, ensure that you have setup your development environment, including your AWS credentials.\r\n     *\r\n     * For information, see this documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class S3AsyncOps {\r\n    \r\n         public static void main(String[] args) {\r\n    \r\n             final String USAGE = &quot;\\n&quot; +\r\n                     &quot;Usage:\\n&quot; +\r\n                     &quot;    S3AsyncOps &lt;bucketName&gt; &lt;key&gt; &lt;path&gt;\\n\\n&quot; +\r\n                     &quot;Where:\\n&quot; +\r\n                     &quot;    bucketName - the name of the Amazon S3 bucket (for example, bucket1). \\n\\n&quot; +\r\n                     &quot;    key - the name of the object (for example, book.pdf). \\n&quot; +\r\n                     &quot;    path - the local path to the file (for example, C:/AWS/book.pdf). \\n&quot;;\r\n    \r\n             if (args.length != 3) {\r\n                 System.out.println(USAGE);\r\n                 System.exit(1);\r\n             }\r\n    \r\n             String bucketName = args[0];\r\n             String key = args[1];\r\n             String path = args[2];\r\n    \r\n             Region region = Region.US_WEST_2;\r\n             S3AsyncClient client = S3AsyncClient.builder()\r\n                     .region(region)\r\n                     .build();\r\n    \r\n             putObjectAsync(client, bucketName,  key, path);\r\n         }\r\n    \r\n         public static void putObjectAsync(S3AsyncClient client,String bucketName,  String key, String path) {\r\n    \r\n            PutObjectRequest objectRequest = PutObjectRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .key(key)\r\n                    .build();\r\n    \r\n            // Put the object into the bucket\r\n            CompletableFuture&lt;PutObjectResponse&gt; future = client.putObject(objectRequest,\r\n                    AsyncRequestBody.fromFile(Paths.get(path))\r\n            );\r\n            future.whenComplete((resp, err) -&gt; {\r\n                try {\r\n                    if (resp != null) {\r\n                        System.out.println(&quot;Object uploaded. Details: &quot; + resp);\r\n                    } else {\r\n                        // Handle error\r\n                        err.printStackTrace();\r\n                    }\r\n                } finally {\r\n                    // Only close the client when you are completely done with it\r\n                    client.close();\r\n                }\r\n            });\r\n    \r\n            future.join();\r\n        }\r\n    }\r\n\r\n\r\nNow for my test, i want to call this code, not MOCK it. I have setup my test in IntelliJ like this, \r\n\r\n    import org.junit.jupiter.api.*;\r\n    import static org.junit.jupiter.api.Assertions.assertNotNull;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import com.example.s3.async.*;\r\n    import software.amazon.awssdk.services.s3.S3AsyncClient;\r\n    \r\n    @TestInstance(TestInstance.Lifecycle.PER_METHOD)\r\n    @TestMethodOrder(MethodOrderer.OrderAnnotation.class)\r\n    public class AmazonS3AsyncTest {\r\n\r\n        private static S3AsyncClient s3AsyncClient;\r\n    \r\n        // Define the data members required for the tests\r\n        private static String bucketName = &quot;&quot;;\r\n        private static String objectKey = &quot;&quot;;\r\n        private static String objectPath = &quot;&quot;;\r\n        private static String toBucket = &quot;&quot;;\r\n    \r\n    \r\n    \r\n        @BeforeAll\r\n        public static void setUp() throws IOException {\r\n    \r\n            // Run tests on Real AWS Resources\r\n    \r\n            s3AsyncClient = S3AsyncClient.builder()\r\n                    .region(Region.US_EAST_1)\r\n                    .build();\r\n    \r\n    \r\n            try (InputStream input = AmazonS3Test.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)) {\r\n    \r\n                Properties prop = new Properties();\r\n    \r\n                if (input == null) {\r\n                    System.out.println(&quot;Sorry, unable to find config.properties&quot;);\r\n                    return;\r\n                }\r\n    \r\n                //load a properties file from class path, inside static method\r\n                prop.load(input);\r\n    \r\n                // Populate the data members required for all tests\r\n                bucketName = prop.getProperty(&quot;bucketName&quot;);\r\n                objectKey = prop.getProperty(&quot;objectKey&quot;);\r\n                objectPath= prop.getProperty(&quot;objectPath&quot;);\r\n                toBucket = prop.getProperty(&quot;toBucket&quot;);\r\n    \r\n    \r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Test\r\n        @Order(1)\r\n        public void whenInitializingAWSS3Service_thenNotNull() {\r\n            assertNotNull(s3AsyncClient);\r\n            System.out.println(&quot;Test 1 passed&quot;);\r\n        }\r\n    \r\n        @Test\r\n        @Order(2)\r\n        public void putObject() {\r\n    \r\n            S3AsyncOps.putObjectAsync(s3AsyncClient, bucketName,  objectKey, objectPath);\r\n            System.out.println(&quot;Test 2 passed&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oUVWk.png\r\n  [2]: https://i.stack.imgur.com/n1pwf.png","title":"How to mock S3AsyncClient in Junit","body":"<p>You have no JUNIT test code. You should have code that uses <strong>org.junit.jupiter.api.</strong>*</p>\n<p>Instead of using a MOCK, call the actual <strong>S3 Async code</strong> in a <strong>@TestInstance</strong> integration test to make sure it works. For example, here is my test in IntelliJ.</p>\n<p><a href=\"https://i.stack.imgur.com/oUVWk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oUVWk.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, my test passed and I Know my code works -- which is the point of this AWS integration test.</p>\n<p>If my code failed or threw an exception for some reason, my test would fail. For example, if I passed a bucket name that does not exist, I would get:</p>\n<p><a href=\"https://i.stack.imgur.com/n1pwf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n1pwf.png\" alt=\"enter image description here\" /></a></p>\n<p>Here is my Java Amazon S3 Async code:</p>\n<pre><code>package com.example.s3.async;\n\nimport software.amazon.awssdk.core.async.AsyncRequestBody;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\nimport software.amazon.awssdk.services.s3.model.PutObjectResponse;\nimport java.nio.file.Paths;\nimport java.util.concurrent.CompletableFuture;\n// snippet-end:[s3.java2.async_ops.import]\n// snippet-start:[s3.java2.async_ops.main]\n\n/**\n * To run this AWS code example, ensure that you have setup your development environment, including your AWS credentials.\n *\n * For information, see this documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class S3AsyncOps {\n\n     public static void main(String[] args) {\n\n         final String USAGE = &quot;\\n&quot; +\n                 &quot;Usage:\\n&quot; +\n                 &quot;    S3AsyncOps &lt;bucketName&gt; &lt;key&gt; &lt;path&gt;\\n\\n&quot; +\n                 &quot;Where:\\n&quot; +\n                 &quot;    bucketName - the name of the Amazon S3 bucket (for example, bucket1). \\n\\n&quot; +\n                 &quot;    key - the name of the object (for example, book.pdf). \\n&quot; +\n                 &quot;    path - the local path to the file (for example, C:/AWS/book.pdf). \\n&quot;;\n\n         if (args.length != 3) {\n             System.out.println(USAGE);\n             System.exit(1);\n         }\n\n         String bucketName = args[0];\n         String key = args[1];\n         String path = args[2];\n\n         Region region = Region.US_WEST_2;\n         S3AsyncClient client = S3AsyncClient.builder()\n                 .region(region)\n                 .build();\n\n         putObjectAsync(client, bucketName,  key, path);\n     }\n\n     public static void putObjectAsync(S3AsyncClient client,String bucketName,  String key, String path) {\n\n        PutObjectRequest objectRequest = PutObjectRequest.builder()\n                .bucket(bucketName)\n                .key(key)\n                .build();\n\n        // Put the object into the bucket\n        CompletableFuture&lt;PutObjectResponse&gt; future = client.putObject(objectRequest,\n                AsyncRequestBody.fromFile(Paths.get(path))\n        );\n        future.whenComplete((resp, err) -&gt; {\n            try {\n                if (resp != null) {\n                    System.out.println(&quot;Object uploaded. Details: &quot; + resp);\n                } else {\n                    // Handle error\n                    err.printStackTrace();\n                }\n            } finally {\n                // Only close the client when you are completely done with it\n                client.close();\n            }\n        });\n\n        future.join();\n    }\n}\n</code></pre>\n<p>Now for my test, i want to call this code, not MOCK it. I have setup my test in IntelliJ like this,</p>\n<pre><code>import org.junit.jupiter.api.*;\nimport static org.junit.jupiter.api.Assertions.assertNotNull;\nimport software.amazon.awssdk.regions.Region;\nimport java.io.*;\nimport java.util.*;\nimport com.example.s3.async.*;\nimport software.amazon.awssdk.services.s3.S3AsyncClient;\n\n@TestInstance(TestInstance.Lifecycle.PER_METHOD)\n@TestMethodOrder(MethodOrderer.OrderAnnotation.class)\npublic class AmazonS3AsyncTest {\n\n    private static S3AsyncClient s3AsyncClient;\n\n    // Define the data members required for the tests\n    private static String bucketName = &quot;&quot;;\n    private static String objectKey = &quot;&quot;;\n    private static String objectPath = &quot;&quot;;\n    private static String toBucket = &quot;&quot;;\n\n\n\n    @BeforeAll\n    public static void setUp() throws IOException {\n\n        // Run tests on Real AWS Resources\n\n        s3AsyncClient = S3AsyncClient.builder()\n                .region(Region.US_EAST_1)\n                .build();\n\n\n        try (InputStream input = AmazonS3Test.class.getClassLoader().getResourceAsStream(&quot;config.properties&quot;)) {\n\n            Properties prop = new Properties();\n\n            if (input == null) {\n                System.out.println(&quot;Sorry, unable to find config.properties&quot;);\n                return;\n            }\n\n            //load a properties file from class path, inside static method\n            prop.load(input);\n\n            // Populate the data members required for all tests\n            bucketName = prop.getProperty(&quot;bucketName&quot;);\n            objectKey = prop.getProperty(&quot;objectKey&quot;);\n            objectPath= prop.getProperty(&quot;objectPath&quot;);\n            toBucket = prop.getProperty(&quot;toBucket&quot;);\n\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    @Test\n    @Order(1)\n    public void whenInitializingAWSS3Service_thenNotNull() {\n        assertNotNull(s3AsyncClient);\n        System.out.println(&quot;Test 1 passed&quot;);\n    }\n\n    @Test\n    @Order(2)\n    public void putObject() {\n\n        S3AsyncOps.putObjectAsync(s3AsyncClient, bucketName,  objectKey, objectPath);\n        System.out.println(&quot;Test 2 passed&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675250510,"creation_date":1675250510,"answer_id":75309437,"question_id":71717976,"body_markdown":"You could use Mockito to mock the S3AsyncClient operations. \r\n\r\n    @Mock\r\n    private S3AsyncClient s3AsyncClient;\r\n\r\nBelow is the unit test case for my upload file implementation. It will surely give you insights how it is done and it can be done.\r\n\r\n\r\n    @Nested\r\n      class UploadFile {\r\n        @Captor\r\n        ArgumentCaptor&lt;PutObjectRequest&gt; putObjectRequestCaptor;\r\n        @Captor\r\n        ArgumentCaptor&lt;AsyncRequestBody&gt; requestBodyCaptor;\r\n    \r\n        @Test\r\n        void testSuccessfulUpload() {\r\n          Flux&lt;ByteBuffer&gt; body = Flux.just();\r\n          var expectedResponse = PutObjectResponse.builder().build();\r\n          when(s3AsyncClient.putObject(putObjectRequestCaptor.capture(), requestBodyCaptor.capture()))              .thenReturn(CompletableFuture.completedFuture(expectedResponse));\r\n    \r\n          fileUploadService.upload(&quot;TEST_PREFIX&quot;, &quot;test.zip&quot;, body);\r\n          assertThat(putObjectRequestCaptor.getValue().bucket()).isEqualTo(TEST_BUCKET);\r\n          assertThat(putObjectRequestCaptor.getValue().key()).isEqualTo(&quot;TEST_PREFIX/test.zip&quot;);\r\n    \r\n          assertThat(requestBodyCaptor.getValue()).isNotNull();\r\n        }\r\n      } ","title":"How to mock S3AsyncClient in Junit","body":"<p>You could use Mockito to mock the S3AsyncClient operations.</p>\n<pre><code>@Mock\nprivate S3AsyncClient s3AsyncClient;\n</code></pre>\n<p>Below is the unit test case for my upload file implementation. It will surely give you insights how it is done and it can be done.</p>\n<pre><code>@Nested\n  class UploadFile {\n    @Captor\n    ArgumentCaptor&lt;PutObjectRequest&gt; putObjectRequestCaptor;\n    @Captor\n    ArgumentCaptor&lt;AsyncRequestBody&gt; requestBodyCaptor;\n\n    @Test\n    void testSuccessfulUpload() {\n      Flux&lt;ByteBuffer&gt; body = Flux.just();\n      var expectedResponse = PutObjectResponse.builder().build();\n      when(s3AsyncClient.putObject(putObjectRequestCaptor.capture(), requestBodyCaptor.capture()))              .thenReturn(CompletableFuture.completedFuture(expectedResponse));\n\n      fileUploadService.upload(&quot;TEST_PREFIX&quot;, &quot;test.zip&quot;, body);\n      assertThat(putObjectRequestCaptor.getValue().bucket()).isEqualTo(TEST_BUCKET);\n      assertThat(putObjectRequestCaptor.getValue().key()).isEqualTo(&quot;TEST_PREFIX/test.zip&quot;);\n\n      assertThat(requestBodyCaptor.getValue()).isNotNull();\n    }\n  } \n</code></pre>\n"}],"owner":{"account_id":19646064,"reputation":23,"user_id":14381053,"display_name":"BillalT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1675250510,"creation_date":1648906266,"question_id":71717976,"body_markdown":"I have one method that uploads files to Amazon S3. I am trying to write JUnit for this method but get NullPointerException on the S3AsyncClient:\r\n\r\nmy class:\r\n```\r\npublic class S3Client&lt;T&gt; {\r\n    private static final Logger log = LoggerFactory.getLogger(S3Client.class);\r\n    S3AsyncClient client;\r\n    /**\r\n     *\r\n     * @param s3Configuration\r\n     */\r\n    public S3Client(AWSS3Configuration s3Configuration) {\r\n        this.client = s3Configuration.getAsyncClient();\r\n    }\r\n\r\n\r\n    /**\r\n     * Uploads a file s3 bucket and returns etag\r\n     * @param uploadData\r\n     * @return\r\n     * @throws S3Exception\r\n     */\r\n    public CompletableFuture&lt;String&gt; uploadFile(S3UploadData&lt;T&gt; uploadData) throws S3Exception {\r\n        int contentLength;\r\n        AsyncRequestBody asyncRequestBody;\r\n\r\n        if(uploadData.getContent() instanceof String) {\r\n            String content = (String) uploadData.getContent();\r\n            contentLength = content.length();\r\n            asyncRequestBody = AsyncRequestBody.fromString(content);\r\n        }\r\n        else if(uploadData.getContent() instanceof byte[]){\r\n            byte[] bytes = (byte[]) uploadData.getContent();\r\n            contentLength = bytes.length;\r\n            asyncRequestBody = AsyncRequestBody.fromBytes(bytes);\r\n        }\r\n        else{\r\n            throw new IllegalArgumentException(&quot;Unsupported upload content type&quot;);\r\n        }\r\n\r\n\r\n        PutObjectRequest putObjRequest = PutObjectRequest.builder()\r\n                .bucket(uploadData.getBucketName())\r\n                .key(uploadData.getFileName())\r\n                .metadata(uploadData.getMetaData())\r\n                .contentLength((long) contentLength).build();\r\n\r\n\r\n        CompletableFuture&lt;String&gt; response = client.putObject(putObjRequest, asyncRequestBody).thenApply(\r\n                getPutObjectResponse -&gt; {\r\n                    log.info(&quot;Got response from S3 upload={}&quot;, getPutObjectResponse.eTag());\r\n                    return getPutObjectResponse.eTag();\r\n                });\r\n        response.exceptionally(throwable -&gt; {\r\n            log.error(&quot;Exception occurred while uploading a file intuit_tid={} file={}&quot;,uploadData.getTransactionId(),uploadData.getFileName());\r\n            throw new S3Exception(throwable.getMessage());\r\n        });\r\n        return response;\r\n    }\r\n```\r\n \r\ninput for this class object of S3UploadData:\r\n`   \r\n    @Getter\r\n    @AllArgsConstructor\r\n    \r\n        public class InputData&lt;T&gt; {\r\n            T content;\r\n            String fileName;\r\n            String bucketName;\r\n            String transactionId;\r\n            Map&lt;String, String&gt; metaData;\r\n        }`\r\ncan u help please with writing Junit for uploadFile method?\r\n \r\n","title":"How to mock S3AsyncClient in Junit","body":"<p>I have one method that uploads files to Amazon S3. I am trying to write JUnit for this method but get NullPointerException on the S3AsyncClient:</p>\n<p>my class:</p>\n<pre><code>public class S3Client&lt;T&gt; {\n    private static final Logger log = LoggerFactory.getLogger(S3Client.class);\n    S3AsyncClient client;\n    /**\n     *\n     * @param s3Configuration\n     */\n    public S3Client(AWSS3Configuration s3Configuration) {\n        this.client = s3Configuration.getAsyncClient();\n    }\n\n\n    /**\n     * Uploads a file s3 bucket and returns etag\n     * @param uploadData\n     * @return\n     * @throws S3Exception\n     */\n    public CompletableFuture&lt;String&gt; uploadFile(S3UploadData&lt;T&gt; uploadData) throws S3Exception {\n        int contentLength;\n        AsyncRequestBody asyncRequestBody;\n\n        if(uploadData.getContent() instanceof String) {\n            String content = (String) uploadData.getContent();\n            contentLength = content.length();\n            asyncRequestBody = AsyncRequestBody.fromString(content);\n        }\n        else if(uploadData.getContent() instanceof byte[]){\n            byte[] bytes = (byte[]) uploadData.getContent();\n            contentLength = bytes.length;\n            asyncRequestBody = AsyncRequestBody.fromBytes(bytes);\n        }\n        else{\n            throw new IllegalArgumentException(&quot;Unsupported upload content type&quot;);\n        }\n\n\n        PutObjectRequest putObjRequest = PutObjectRequest.builder()\n                .bucket(uploadData.getBucketName())\n                .key(uploadData.getFileName())\n                .metadata(uploadData.getMetaData())\n                .contentLength((long) contentLength).build();\n\n\n        CompletableFuture&lt;String&gt; response = client.putObject(putObjRequest, asyncRequestBody).thenApply(\n                getPutObjectResponse -&gt; {\n                    log.info(&quot;Got response from S3 upload={}&quot;, getPutObjectResponse.eTag());\n                    return getPutObjectResponse.eTag();\n                });\n        response.exceptionally(throwable -&gt; {\n            log.error(&quot;Exception occurred while uploading a file intuit_tid={} file={}&quot;,uploadData.getTransactionId(),uploadData.getFileName());\n            throw new S3Exception(throwable.getMessage());\n        });\n        return response;\n    }\n</code></pre>\n<p>input for this class object of S3UploadData:\n`<br />\n@Getter\n@AllArgsConstructor</p>\n<pre><code>    public class InputData&lt;T&gt; {\n        T content;\n        String fileName;\n        String bucketName;\n        String transactionId;\n        Map&lt;String, String&gt; metaData;\n    }`\n</code></pre>\n<p>can u help please with writing Junit for uploadFile method?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"score":3,"creation_date":1314924734,"post_id":7277757,"comment_id":8763025,"body_markdown":"Instead of importing it statically (which doesn&#39;t work as you&#39;ve found out) you can just type &quot;sysout&quot; and eclipse will replace it with System.out.println()","body":"Instead of importing it statically (which doesn&#39;t work as you&#39;ve found out) you can just type &quot;sysout&quot; and eclipse will replace it with System.out.println()"},{"owner":{"account_id":4535825,"reputation":1025,"user_id":9104070,"display_name":"Alonso del Arte"},"score":1,"creation_date":1581456068,"post_id":7277757,"comment_id":106438031,"body_markdown":"@Voo &quot;sout&quot; in NetBeans and IntelliJ, which I personally prefer even though &quot;sysout&quot; seems more logical and meaningful...","body":"@Voo &quot;sout&quot; in NetBeans and IntelliJ, which I personally prefer even though &quot;sysout&quot; seems more logical and meaningful..."}],"answers":[{"comments":[{"owner":{"account_id":470798,"reputation":6467,"user_id":878182,"accept_rate":50,"display_name":"Alistair A. Israel"},"score":40,"creation_date":1314924025,"post_id":7277780,"comment_id":8762951,"body_markdown":"Just to add to this, you can, instead, `import static java.lang.System.out` and from thereon just go `out.println()`.","body":"Just to add to this, you can, instead, <code>import static java.lang.System.out</code> and from thereon just go <code>out.println()</code>."},{"owner":{"account_id":316665,"reputation":87011,"user_id":632951,"accept_rate":83,"display_name":"Pacerier"},"score":1,"creation_date":1501370820,"post_id":7277780,"comment_id":77750647,"body_markdown":"@AlistairA.Israel, Why isn&#39;t the `java.lang` part optional?","body":"@AlistairA.Israel, Why isn&#39;t the <code>java.lang</code> part optional?"},{"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"score":1,"creation_date":1501473431,"post_id":7277780,"comment_id":77774881,"body_markdown":"@Pacerier: Since the `import` statement&#39;s purpose is to specify where things are coming from in the first place (when there could be similarly-named classes and such in different packages), they require the package name to be specified.","body":"@Pacerier: Since the <code>import</code> statement&#39;s purpose is to specify where things are coming from in the first place (when there could be similarly-named classes and such in different packages), they require the package name to be specified."},{"owner":{"account_id":170657,"reputation":14413,"user_id":397524,"accept_rate":89,"display_name":"Display Name"},"score":0,"creation_date":1520614429,"post_id":7277780,"comment_id":85401988,"body_markdown":"What is the reasonable decision of making `System.out` a static field rather than a class?","body":"What is the reasonable decision of making <code>System.out</code> a static field rather than a class?"},{"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"score":1,"creation_date":1520617950,"post_id":7277780,"comment_id":85403954,"body_markdown":"@ArtificialStupidity: One benefit is that they can reuse the `PrintStream` class to handle the logic and structure for `System.err` and `System.out`. You can also pass `out` or `err` as arguments to methods that are written more generally against `OutputStream`, `Appendable`, or `PrintStream`. There are probably other benefits as well that don&#39;t come to mind right away.","body":"@ArtificialStupidity: One benefit is that they can reuse the <code>PrintStream</code> class to handle the logic and structure for <code>System.err</code> and <code>System.out</code>. You can also pass <code>out</code> or <code>err</code> as arguments to methods that are written more generally against <code>OutputStream</code>, <code>Appendable</code>, or <code>PrintStream</code>. There are probably other benefits as well that don&#39;t come to mind right away."},{"owner":{"account_id":170657,"reputation":14413,"user_id":397524,"accept_rate":89,"display_name":"Display Name"},"score":0,"creation_date":1520633293,"post_id":7277780,"comment_id":85411093,"body_markdown":"I see. Thank you!","body":"I see. Thank you!"}],"tags":[],"owner":{"account_id":41594,"reputation":152717,"user_id":120955,"accept_rate":88,"display_name":"StriplingWarrior"},"comment_count":6,"down_vote_count":1,"up_vote_count":58,"is_accepted":true,"score":57,"last_activity_date":1314919736,"creation_date":1314919736,"answer_id":7277780,"question_id":7277757,"body_markdown":"`Math` is a class, on which `abs` is a static method. `System.out` is a static field rather than a class. So its `println` method isn&#39;t actually a static method, but an instance method on a static field.","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p><code>Math</code> is a class, on which <code>abs</code> is a static method. <code>System.out</code> is a static field rather than a class. So its <code>println</code> method isn't actually a static method, but an instance method on a static field.</p>\n"},{"comments":[{"owner":{"account_id":1985989,"reputation":656,"user_id":1781206,"accept_rate":71,"display_name":"Penelope The Duck"},"score":0,"creation_date":1353867908,"post_id":7277785,"comment_id":18566022,"body_markdown":"Nice Eclipse tip there @ratchet freak.","body":"Nice Eclipse tip there @ratchet freak."},{"owner":{"account_id":3148181,"reputation":2993,"user_id":2662227,"accept_rate":79,"display_name":"Matt"},"score":3,"creation_date":1495037753,"post_id":7277785,"comment_id":75086586,"body_markdown":"`sout` for IntelliJ","body":"<code>sout</code> for IntelliJ"},{"owner":{"account_id":11360616,"reputation":161,"user_id":8328871,"display_name":"Horsey"},"score":1,"creation_date":1521707946,"post_id":7277785,"comment_id":85848796,"body_markdown":"You can use `sout` for eclipse too. (At least in oxygen).","body":"You can use <code>sout</code> for eclipse too. (At least in oxygen)."}],"tags":[],"owner":{"account_id":378721,"reputation":47508,"user_id":731620,"accept_rate":80,"display_name":"ratchet freak"},"comment_count":3,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1420583702,"creation_date":1314919802,"answer_id":7277785,"question_id":7277757,"body_markdown":"Because `java.lang.System.out` is a [static object (a PrintStream)](http://docs.oracle.com/javase/7/docs/api/java/lang/System.html) on which you call `println`.\r\n\r\nThough in eclipse you can type `sysout` and then press &lt;kbd&gt;ctrl&lt;/kbd&gt;-&lt;kbd&gt;space&lt;/kbd&gt; to have it expanded to `System.out.println();`","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>Because <code>java.lang.System.out</code> is a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/System.html\" rel=\"noreferrer\">static object (a PrintStream)</a> on which you call <code>println</code>.</p>\n\n<p>Though in eclipse you can type <code>sysout</code> and then press <kbd>ctrl</kbd>-<kbd>space</kbd> to have it expanded to <code>System.out.println();</code></p>\n"},{"comments":[{"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"score":1,"creation_date":1377667988,"post_id":7280699,"comment_id":27164538,"body_markdown":"what does inlined mean here?","body":"what does inlined mean here?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":2,"creation_date":1377671379,"post_id":7280699,"comment_id":27165736,"body_markdown":"@Thufir When a method is, it code is placed inside the calling code and optimised.  The significance is that this has no overhead.","body":"@Thufir When a method is, it code is placed inside the calling code and optimised.  The significance is that this has no overhead."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1675250403,"creation_date":1314950575,"answer_id":7280699,"question_id":7277757,"body_markdown":"Non-static methods cannot be imported that way.\r\n\r\nHowever, you can do this:\r\n\r\n    public static void println(Object o) {\r\n        System.out.println(o);\r\n    }\r\n\r\n    // elsewhere\r\n    println(&quot;Hello World&quot;);     // can be inlined","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>Non-static methods cannot be imported that way.</p>\n<p>However, you can do this:</p>\n<pre><code>public static void println(Object o) {\n    System.out.println(o);\n}\n\n// elsewhere\nprintln(&quot;Hello World&quot;);     // can be inlined\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9530,"reputation":20000,"user_id":17651,"accept_rate":100,"display_name":"curtisk"},"score":2,"creation_date":1397737995,"post_id":17047385,"comment_id":35368064,"body_markdown":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post.","body":"This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post."},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":2,"creation_date":1400746557,"post_id":17047385,"comment_id":36610472,"body_markdown":"@curtisk it is neither critique nor a request for clarification. It is just a more practical alternative.","body":"@curtisk it is neither critique nor a request for clarification. It is just a more practical alternative."},{"owner":{"account_id":2264950,"reputation":668,"user_id":1993919,"accept_rate":75,"display_name":"Old Badman Grey"},"score":2,"creation_date":1414465929,"post_id":17047385,"comment_id":41814686,"body_markdown":"a tad old but why generic instead of just `Object`?","body":"a tad old but why generic instead of just <code>Object</code>?"}],"tags":[],"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"comment_count":3,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1370962918,"creation_date":1370962918,"answer_id":17047385,"question_id":7277757,"body_markdown":"[Peter][1]&#39;s answer seems to be the best work around. But without arguments the use cases are a bit limited.\r\n\r\n    static&lt;T&gt; void println(T arg) { System.out.println(arg); }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/57695/peter-lawrey","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p><a href=\"https://stackoverflow.com/users/57695/peter-lawrey\">Peter</a>'s answer seems to be the best work around. But without arguments the use cases are a bit limited.</p>\n\n<pre><code>static&lt;T&gt; void println(T arg) { System.out.println(arg); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1559502344,"creation_date":1466310648,"answer_id":37903957,"question_id":7277757,"body_markdown":"**Note:**`import static` only works on a static field or a static method of a class. \r\n\r\nYou can&#39;t `import static java.lang.System.out.println`, because `println` method is not a static method of any class(`out` is not even a class,it is an instance of `PrintStream`). \r\n\r\nYou can `import static java.lang.Math.abs`, because `abs` method is a static method of Class `Math`.\r\n\r\nMy suggestion is that since `out` is a static field of `System`(which is a class), you can `import static java.lang.System.out`, and then in your code you can use `out.println` instead of `System.out.println` for short.\r\n\r\n","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p><strong>Note:</strong><code>import static</code> only works on a static field or a static method of a class. </p>\n\n<p>You can't <code>import static java.lang.System.out.println</code>, because <code>println</code> method is not a static method of any class(<code>out</code> is not even a class,it is an instance of <code>PrintStream</code>). </p>\n\n<p>You can <code>import static java.lang.Math.abs</code>, because <code>abs</code> method is a static method of Class <code>Math</code>.</p>\n\n<p>My suggestion is that since <code>out</code> is a static field of <code>System</code>(which is a class), you can <code>import static java.lang.System.out</code>, and then in your code you can use <code>out.println</code> instead of <code>System.out.println</code> for short.</p>\n"},{"comments":[{"owner":{"account_id":1950733,"reputation":669,"user_id":1754879,"accept_rate":17,"display_name":"Keith"},"score":0,"creation_date":1520589011,"post_id":47057181,"comment_id":85386747,"body_markdown":"Alough it is not related to the question , but it did provide an alternative way for the shortand of System.out.println. I like this :)","body":"Alough it is not related to the question , but it did provide an alternative way for the shortand of System.out.println. I like this :)"}],"tags":[],"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1509546455,"creation_date":1509546455,"answer_id":47057181,"question_id":7277757,"body_markdown":"Combine printf and println  \r\n\r\n    public static void println(Object format, Object... args) {\r\n        System.out.printf(format.toString(), args);\r\n        System.out.println();\r\n    }\r\n\r\n    @Test\r\n    public void testPrintln(){\r\n        println(100);\r\n        println(&quot;abc&quot;);\r\n        println(new Date());\r\n        println(&quot;%s=%d&quot;,&quot;abc&quot;,100);\r\n    }\r\n\r\noutput\r\n\r\n    100\r\n    abc\r\n    Wed Nov 01 22:24:20 CST 2017\r\n    abc=100","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>Combine printf and println  </p>\n\n<pre><code>public static void println(Object format, Object... args) {\n    System.out.printf(format.toString(), args);\n    System.out.println();\n}\n\n@Test\npublic void testPrintln(){\n    println(100);\n    println(\"abc\");\n    println(new Date());\n    println(\"%s=%d\",\"abc\",100);\n}\n</code></pre>\n\n<p>output</p>\n\n<pre><code>100\nabc\nWed Nov 01 22:24:20 CST 2017\nabc=100\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5190752,"reputation":61,"user_id":4153771,"display_name":"Skit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564858485,"creation_date":1564858485,"answer_id":57341280,"question_id":7277757,"body_markdown":"My solution    \r\n\r\n    package example.tools;\r\n    \r\n    public class ShowMe {\r\n        /*public static void print(String arg) {\r\n           System.out.println(arg);\r\n        }*/\r\n        // or better as ceving&#39;s example\r\n        public static&lt;T&gt; void print(T arg) {\r\n            System.out.println(arg);\r\n        }\r\n    }\r\n\r\nIn another class\r\n\r\n    import static example.tools.ShowMe.*;\r\n        public class Flower {\r\n            Flower() {\r\n                print(&quot;Rose&quot;);\r\n            }\r\n        }\r\n\r\n","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>My solution    </p>\n\n<pre><code>package example.tools;\n\npublic class ShowMe {\n    /*public static void print(String arg) {\n       System.out.println(arg);\n    }*/\n    // or better as ceving's example\n    public static&lt;T&gt; void print(T arg) {\n        System.out.println(arg);\n    }\n}\n</code></pre>\n\n<p>In another class</p>\n\n<pre><code>import static example.tools.ShowMe.*;\n    public class Flower {\n        Flower() {\n            print(\"Rose\");\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":29045,"reputation":3334,"user_id":78181,"accept_rate":50,"display_name":"Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51612,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":7277780,"answer_count":7,"score":47,"last_activity_date":1675250403,"creation_date":1314919551,"question_id":7277757,"body_markdown":"It seems strange that I can&#39;t import static java.lang.System.out.println, when I can import static java.lang.Math.abs.  Is there some reason behind this or am I doing something really stupid that I don&#39;t see at the moment?  (Using Eclipse.)","title":"Why can&#39;t I import static java.lang.System.out.println?","body":"<p>It seems strange that I can't import static java.lang.System.out.println, when I can import static java.lang.Math.abs.  Is there some reason behind this or am I doing something really stupid that I don't see at the moment?  (Using Eclipse.)</p>\n"},{"tags":["java","sorting","alphabet","non-english"],"comments":[{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":0,"creation_date":1482170011,"post_id":41215852,"comment_id":69655680,"body_markdown":"Are not &quot;đž&quot;, &quot;lj&quot; and &quot;nj&quot; single letters in Croatian? They are in this Wikipedia article: [https://en.wikipedia.org/wiki/Gaj%27s_Latin_alphabet](https://en.wikipedia.org/wiki/Gaj%27s_Latin_alphabet#Digraphs). Perhaps you&#39;ll need to handle both variants but I think you&#39;ll find ǆ, ǉ, and ǌ work better with `Locale` than the non-digraph (incorrect?) versions.","body":"Are not &quot;đž&quot;, &quot;lj&quot; and &quot;nj&quot; single letters in Croatian? They are in this Wikipedia article: <a href=\"https://en.wikipedia.org/wiki/Gaj%27s_Latin_alphabet#Digraphs\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Gaj%27s_Latin_alphabet</a>. Perhaps you&#39;ll need to handle both variants but I think you&#39;ll find ǆ, ǉ, and ǌ work better with <code>Locale</code> than the non-digraph (incorrect?) versions."},{"owner":{"account_id":6923270,"reputation":910,"user_id":5315103,"accept_rate":100,"display_name":"SYOB SYOT"},"score":0,"creation_date":1482180757,"post_id":41215852,"comment_id":69660878,"body_markdown":"hay,\nyes, that is correct. this is what makes it more difficult to sort. since, for example &quot;l&quot; is one letter &quot;j&quot; is another, but when they are one by another they are considered to be third letter. i mentioned this in my question.\nbut anyway, answer below works nice, and it sorts letters correctly, so i do not have to worry about this anymore.","body":"hay, yes, that is correct. this is what makes it more difficult to sort. since, for example &quot;l&quot; is one letter &quot;j&quot; is another, but when they are one by another they are considered to be third letter. i mentioned this in my question. but anyway, answer below works nice, and it sorts letters correctly, so i do not have to worry about this anymore."},{"owner":{"account_id":2567288,"reputation":20415,"user_id":2226988,"display_name":"Tom Blodget"},"score":1,"creation_date":1482189943,"post_id":41215852,"comment_id":69664849,"body_markdown":"Good. My point is that there are single characters for the digraphs. Try copying one from the last sentence in my previous comment.","body":"Good. My point is that there are single characters for the digraphs. Try copying one from the last sentence in my previous comment."},{"owner":{"account_id":6923270,"reputation":910,"user_id":5315103,"accept_rate":100,"display_name":"SYOB SYOT"},"score":0,"creation_date":1482207437,"post_id":41215852,"comment_id":69669136,"body_markdown":"oh, really?\ni have not noticed it.\nthank you.\ni did not know that those characters have their own code. i thought they are always written as two characters lj or nj...\ncool, now i learned something new. but i do not think i will apply it.\nbecause my application is console application (although it has some sort of gui), but i use one code page in my program, and this code page has all croatian letters just letters like lj nj and đž does not exist as a single letter. i went truhth the whole code page from char 1 to 32768, and i did not find those letters there.","body":"oh, really? i have not noticed it. thank you. i did not know that those characters have their own code. i thought they are always written as two characters lj or nj... cool, now i learned something new. but i do not think i will apply it. because my application is console application (although it has some sort of gui), but i use one code page in my program, and this code page has all croatian letters just letters like lj nj and đž does not exist as a single letter. i went truhth the whole code page from char 1 to 32768, and i did not find those letters there."},{"owner":{"account_id":6923270,"reputation":910,"user_id":5315103,"accept_rate":100,"display_name":"SYOB SYOT"},"score":0,"creation_date":1482207688,"post_id":41215852,"comment_id":69669191,"body_markdown":"so since this code page has l j n đ ž as separate letters, i will include support just for those.\n\nbeside, it is not required to handle both đ ž as two letters and đž as one letter, because even croatian keyboard layout does not have those characters as a single letter. this means that when users are typing they would have to type in for for example &quot;đž&quot; đ and then ž, because there is no key which has &quot;đž&quot; on it. so, for standard users it would not be likely that they will use this variant you suggested with single letter.","body":"so since this code page has l j n đ ž as separate letters, i will include support just for those.  beside, it is not required to handle both đ ž as two letters and đž as one letter, because even croatian keyboard layout does not have those characters as a single letter. this means that when users are typing they would have to type in for for example &quot;đž&quot; đ and then ž, because there is no key which has &quot;đž&quot; on it. so, for standard users it would not be likely that they will use this variant you suggested with single letter."},{"owner":{"account_id":6923270,"reputation":910,"user_id":5315103,"accept_rate":100,"display_name":"SYOB SYOT"},"score":0,"creation_date":1482208161,"post_id":41215852,"comment_id":69669332,"body_markdown":"croats read them as single letter, but are used to write them separately.\n\nsince keyboard does not have those keys, users would have to copy-paste those letters if they want to use it. but i think even if someone does it, it is not important, since most users will not do it. they will type in l and j separately and n and j and đ and ž. plus my project is not intended for a lot of users. it is just a simple server application for my college. no one would probably use single letters for them. even if it does, it is okay if it ends up that it is not working.","body":"croats read them as single letter, but are used to write them separately.  since keyboard does not have those keys, users would have to copy-paste those letters if they want to use it. but i think even if someone does it, it is not important, since most users will not do it. they will type in l and j separately and n and j and đ and ž. plus my project is not intended for a lot of users. it is just a simple server application for my college. no one would probably use single letters for them. even if it does, it is okay if it ends up that it is not working."},{"owner":{"account_id":6923270,"reputation":910,"user_id":5315103,"accept_rate":100,"display_name":"SYOB SYOT"},"score":0,"creation_date":1482208217,"post_id":41215852,"comment_id":69669351,"body_markdown":"but anyway, thank you for mentioning this to me. i will remember in case i would need it any time in the future.","body":"but anyway, thank you for mentioning this to me. i will remember in case i would need it any time in the future."}],"answers":[{"comments":[{"owner":{"account_id":2871026,"reputation":31449,"user_id":2464386,"accept_rate":84,"display_name":"ajb"},"score":0,"creation_date":1482125736,"post_id":41215888,"comment_id":69631284,"body_markdown":"FYI, answers consisting only of a link are discouraged an StackOverflow (because the link could break and then your answer would be useless).  This would have been better as a comment.","body":"FYI, answers consisting only of a link are discouraged an StackOverflow (because the link could break and then your answer would be useless).  This would have been better as a comment."}],"tags":[],"owner":{"account_id":1196398,"reputation":6672,"user_id":1168041,"accept_rate":72,"display_name":"leeyuiwah"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1482125995,"creation_date":1482122828,"answer_id":41215888,"question_id":41215852,"body_markdown":"The concept is called collation.  You can look up the concept to know more about it.  For example, Oracle/Sun has a tutorial about this concept:\r\n\r\n[https://docs.oracle.com/javase/tutorial/i18n/text/rule.html][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/i18n/text/rule.html","title":"how to sort non-english strings?","body":"<p>The concept is called collation.  You can look up the concept to know more about it.  For example, Oracle/Sun has a tutorial about this concept:</p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/i18n/text/rule.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/i18n/text/rule.html</a></p>\n"},{"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1482123807,"post_id":41215909,"comment_id":69630763,"body_markdown":"@Andreas nice one","body":"@Andreas nice one"},{"owner":{"account_id":6923270,"reputation":910,"user_id":5315103,"accept_rate":100,"display_name":"SYOB SYOT"},"score":0,"creation_date":1482125273,"post_id":41215909,"comment_id":69631146,"body_markdown":"hello Erwin. well, thank you a lot for your example, and to Andreas for providing sample class.\ni newer before heard for &quot;collator&quot;. i took java course, but we never talked about this sort of things.\nwe learned only &quot;bubble sort&quot;, and after that we were told that java has methods in several classes which can be used to sort things.\nwe were talking like 10 minutes in  total about sorting in that course, and newer considered things like sorting with non english alphabets.","body":"hello Erwin. well, thank you a lot for your example, and to Andreas for providing sample class. i newer before heard for &quot;collator&quot;. i took java course, but we never talked about this sort of things. we learned only &quot;bubble sort&quot;, and after that we were told that java has methods in several classes which can be used to sort things. we were talking like 10 minutes in  total about sorting in that course, and newer considered things like sorting with non english alphabets."},{"owner":{"account_id":6923270,"reputation":910,"user_id":5315103,"accept_rate":100,"display_name":"SYOB SYOT"},"score":0,"creation_date":1482125432,"post_id":41215909,"comment_id":69631189,"body_markdown":"although i took java course on croatian, teacher was avoiding using croatian letters, and all tasks we were doing were either on english, or on croatian, but with all croatian letters replaced with closest english variants.\nso i never needed to sort non standard letters such as šđđćžč,\n\nuntil now.\n\n\nanyway, thank you for your answer,  it really helped.\n\nyou just saved me 2 days of programming. because my method, only one i could imagine would require at least 4096 lines of code.\n\nanyway, thank you.","body":"although i took java course on croatian, teacher was avoiding using croatian letters, and all tasks we were doing were either on english, or on croatian, but with all croatian letters replaced with closest english variants. so i never needed to sort non standard letters such as šđđćžč,  until now.   anyway, thank you for your answer,  it really helped.  you just saved me 2 days of programming. because my method, only one i could imagine would require at least 4096 lines of code.  anyway, thank you."}],"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1675250313,"creation_date":1482123024,"answer_id":41215909,"question_id":41215852,"body_markdown":"You use a `Collator` for that. Collators are Java&#39;s way to handle internationalized comparisons.\r\n\r\n    List&lt;String&gt; mylist = ...;\r\n    Locale croatian = new Locale(&quot;hr&quot;, &quot;HR&quot;);\r\n    // Put whatever Locale you need as the argument to the getInstance method.\r\n    Collator collator = Collator.getInstance(croatian);\r\n    Collections.sort(mylist, collator);\r\n\r\nLocale is not just &quot;language&quot; but also many other conventions. It is possible for the same language to be sorted differently depending on the country or region or convention within the country - that&#39;s why a Locale is identified by at most 3 parts: &quot;country&quot;, &quot;region&quot; and &quot;variant&quot;. \r\n","title":"how to sort non-english strings?","body":"<p>You use a <code>Collator</code> for that. Collators are Java's way to handle internationalized comparisons.</p>\n<pre><code>List&lt;String&gt; mylist = ...;\nLocale croatian = new Locale(&quot;hr&quot;, &quot;HR&quot;);\n// Put whatever Locale you need as the argument to the getInstance method.\nCollator collator = Collator.getInstance(croatian);\nCollections.sort(mylist, collator);\n</code></pre>\n<p>Locale is not just &quot;language&quot; but also many other conventions. It is possible for the same language to be sorted differently depending on the country or region or convention within the country - that's why a Locale is identified by at most 3 parts: &quot;country&quot;, &quot;region&quot; and &quot;variant&quot;.</p>\n"}],"owner":{"account_id":6923270,"reputation":910,"user_id":5315103,"accept_rate":100,"display_name":"SYOB SYOT"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2934,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":41215909,"answer_count":2,"score":5,"last_activity_date":1675250313,"creation_date":1482122567,"question_id":41215852,"body_markdown":"I did look up answers, and they are good for the standard alphabet. but I have a different situation than that.\r\n\r\nso, I am programming in Java. I am writing a certain program. this program has at some place some list of string items.\r\nI would like to sort those string items according to the alphabet.\r\n\r\nif I would sort it by English alphabet, it would be easy since usually all code pages are compatible with American standard code for information interchange (ASCII), and they have all letters of English alphabet already sorted, so, if I would like to sort my list, I would only have to compare the values of chars to determine which letter goes where.\r\n\r\nbut my problem is, that I do not want to sort a list by using the English alphabet.\r\nmy program has the option to display in English or some other languages.\r\nthe problem is that some of those languages have different alphabet from the English alphabet, therefore letters are not the same as those in the English alphabet, and thus simple &lt;, and &gt; validation of char values does not work because letters are not sorted correctly in the code page.\r\n\r\nfor the purposes of this question lets say English alphabet is as follows:\r\n\r\n    a,\r\n    b,\r\n    c,\r\n    d,\r\n    e,\r\n    f,\r\n    g.\r\n\r\nlet&#39;s say there is a certain country named &quot;ABC&quot; whose alphabet goes like this:\r\n\r\n    d,\r\n    b,\r\n    g,\r\n    e,\r\n    a,\r\n    c,\r\n    f.\r\n\r\nfirst of all, if a is equal to 97 on code page, b 98, c 99 et cetera, how can I sort my list using the second alphabet in this example, since the second alphabet has its first letter equal to 100, second equal to 98, third to 103 et cetera?\r\n\r\nand my second question:\r\nunfortunately, some of the countries I am translating my program too has alphabet where some combinations of letters are treated as one letter.\r\nfor my second example, let&#39;s say that country &quot;def&quot; has the following alphabet:\r\n\r\n\r\n    d,\r\n    g,\r\n    be,\r\n    e,\r\n    fe,\r\n    c,\r\n    f.\r\n\r\nhere:\r\nd - the first letter in the alphabet,\r\ng - second letter in the alphabet,\r\nbe - third letter in the alphabet (ONE letter, although it is written as two letters, it is considered to be just one letter, and has its position in the alphabet),\r\ne - fourth letter in the alphabet,\r\nthe - fifth letter in the alphabet (also written as two letters, but treated as ONE letter),\r\nc - sixth letter in the alphabet,\r\nf - seventh letter in the alphabet.\r\n\r\n\r\nas you can see in this imaginary example number 2 of imaginary country &quot;def&quot;, this country has really screwed up the alphabet.\r\nand after presenting these two examples of these two alphabets of two imaginary countries, you understand why I cannot use the standard method for sorting strings.\r\n\r\n\r\nso, can you please help me out with this sorting. I am not sure what I can do to sort according to this screwed up alphabet.\r\n\r\n\r\n\r\n\r\n\r\npost scriptum:\r\n**lines below this are not important for the question, but they are just more info if anyone wants to know where I have found such screwed up alphabet**\r\n\r\nwell, i gave those examples which consists of 7 randomly ordered letters just for the purpose of this question - to make it more simple. in case you wonder, what my real problem is - i am trying to translate my program to croatian. croatian alphabet is really screwed up because it goes as follows:\r\n\r\n    1 |a\r\n    2 |b\r\n    3 |c\r\n    4 |č\r\n    5 |ć\r\n    6 |d\r\n    7 |đ\r\n    8 |đž\r\n    9 |e\r\n    10|f\r\n    11|g\r\n    12|h\r\n    13|i\r\n    14|j\r\n    15|k\r\n    16|l\r\n    17|lj\r\n    18|m\r\n    19|n\r\n    20|nj\r\n    21|o\r\n    22|p\r\n    23|r\r\n    24|s\r\n    25|š\r\n    26|t\r\n    27|u\r\n    28|v\r\n    29|z\r\n    30|ž\r\n\r\nas you can see, Croatian alphabet is somewhat similar to the English alphabet, but most of the letters are not at the same location as English ones, and several of them do not exist in English alphabet at all, and several letters are one letter which is written as two letters. so really difficult to sort. so I hope someone knows some method of doing it.\r\nof course, there is the dumbest method for sorting which will always work and can sort anything, and that is method with switch statement, where I compare two string items, and for each letter i use switch statement where switch statement has 31+default=32 cases from which, each of them has its own switch with 32 cases. what is in total 1024 cases, and if my average case has 4 lines of code, I end up that if I want to sort strings using the non-English alphabet, that my sort method would be at least 4096 lines long.\r\nand that is a huge method.\r\nthis is the dumbest way of sorting, but only one I can figure out at the moment.\r\nso I am asking here because I hope someone would know any simpler method to do this. the method which is not so big as 4k lines of code just to sort stupid strings.\r\nI have a method for sorting English strings and it takes up only a bit more than 10 lines of code.\r\nI hope someone can suggest me something less than 4k lines of code.\r\n\r\n\r\nso if anyone knows the simpler solution, I would appreciate it.\r\n\r\n\r\nthanx.","title":"how to sort non-english strings?","body":"<p>I did look up answers, and they are good for the standard alphabet. but I have a different situation than that.</p>\n\n<p>so, I am programming in Java. I am writing a certain program. this program has at some place some list of string items.\nI would like to sort those string items according to the alphabet.</p>\n\n<p>if I would sort it by English alphabet, it would be easy since usually all code pages are compatible with American standard code for information interchange (ASCII), and they have all letters of English alphabet already sorted, so, if I would like to sort my list, I would only have to compare the values of chars to determine which letter goes where.</p>\n\n<p>but my problem is, that I do not want to sort a list by using the English alphabet.\nmy program has the option to display in English or some other languages.\nthe problem is that some of those languages have different alphabet from the English alphabet, therefore letters are not the same as those in the English alphabet, and thus simple &lt;, and > validation of char values does not work because letters are not sorted correctly in the code page.</p>\n\n<p>for the purposes of this question lets say English alphabet is as follows:</p>\n\n<pre><code>a,\nb,\nc,\nd,\ne,\nf,\ng.\n</code></pre>\n\n<p>let's say there is a certain country named \"ABC\" whose alphabet goes like this:</p>\n\n<pre><code>d,\nb,\ng,\ne,\na,\nc,\nf.\n</code></pre>\n\n<p>first of all, if a is equal to 97 on code page, b 98, c 99 et cetera, how can I sort my list using the second alphabet in this example, since the second alphabet has its first letter equal to 100, second equal to 98, third to 103 et cetera?</p>\n\n<p>and my second question:\nunfortunately, some of the countries I am translating my program too has alphabet where some combinations of letters are treated as one letter.\nfor my second example, let's say that country \"def\" has the following alphabet:</p>\n\n<pre><code>d,\ng,\nbe,\ne,\nfe,\nc,\nf.\n</code></pre>\n\n<p>here:\nd - the first letter in the alphabet,\ng - second letter in the alphabet,\nbe - third letter in the alphabet (ONE letter, although it is written as two letters, it is considered to be just one letter, and has its position in the alphabet),\ne - fourth letter in the alphabet,\nthe - fifth letter in the alphabet (also written as two letters, but treated as ONE letter),\nc - sixth letter in the alphabet,\nf - seventh letter in the alphabet.</p>\n\n<p>as you can see in this imaginary example number 2 of imaginary country \"def\", this country has really screwed up the alphabet.\nand after presenting these two examples of these two alphabets of two imaginary countries, you understand why I cannot use the standard method for sorting strings.</p>\n\n<p>so, can you please help me out with this sorting. I am not sure what I can do to sort according to this screwed up alphabet.</p>\n\n<p>post scriptum:\n<strong>lines below this are not important for the question, but they are just more info if anyone wants to know where I have found such screwed up alphabet</strong></p>\n\n<p>well, i gave those examples which consists of 7 randomly ordered letters just for the purpose of this question - to make it more simple. in case you wonder, what my real problem is - i am trying to translate my program to croatian. croatian alphabet is really screwed up because it goes as follows:</p>\n\n<pre><code>1 |a\n2 |b\n3 |c\n4 |č\n5 |ć\n6 |d\n7 |đ\n8 |đž\n9 |e\n10|f\n11|g\n12|h\n13|i\n14|j\n15|k\n16|l\n17|lj\n18|m\n19|n\n20|nj\n21|o\n22|p\n23|r\n24|s\n25|š\n26|t\n27|u\n28|v\n29|z\n30|ž\n</code></pre>\n\n<p>as you can see, Croatian alphabet is somewhat similar to the English alphabet, but most of the letters are not at the same location as English ones, and several of them do not exist in English alphabet at all, and several letters are one letter which is written as two letters. so really difficult to sort. so I hope someone knows some method of doing it.\nof course, there is the dumbest method for sorting which will always work and can sort anything, and that is method with switch statement, where I compare two string items, and for each letter i use switch statement where switch statement has 31+default=32 cases from which, each of them has its own switch with 32 cases. what is in total 1024 cases, and if my average case has 4 lines of code, I end up that if I want to sort strings using the non-English alphabet, that my sort method would be at least 4096 lines long.\nand that is a huge method.\nthis is the dumbest way of sorting, but only one I can figure out at the moment.\nso I am asking here because I hope someone would know any simpler method to do this. the method which is not so big as 4k lines of code just to sort stupid strings.\nI have a method for sorting English strings and it takes up only a bit more than 10 lines of code.\nI hope someone can suggest me something less than 4k lines of code.</p>\n\n<p>so if anyone knows the simpler solution, I would appreciate it.</p>\n\n<p>thanx.</p>\n"},{"tags":["java","http","streaming"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1549455080,"post_id":54553356,"comment_id":95906425,"body_markdown":"https://stackoverflow.com/q/27371201/461499 ?","body":"<a href=\"https://stackoverflow.com/q/27371201/461499\">stackoverflow.com/q/27371201/461499</a> ?"},{"owner":{"account_id":12454901,"reputation":239,"user_id":9068434,"accept_rate":75,"display_name":"Jurgen Voorneveld"},"score":1,"creation_date":1549457364,"post_id":54553356,"comment_id":95907837,"body_markdown":"@RobAu no that question is about streaming the response. I want to stream the request","body":"@RobAu no that question is about streaming the response. I want to stream the request"}],"answers":[{"comments":[{"owner":{"account_id":12454901,"reputation":239,"user_id":9068434,"accept_rate":75,"display_name":"Jurgen Voorneveld"},"score":0,"creation_date":1549462707,"post_id":54555582,"comment_id":95911084,"body_markdown":"Thats really cool. Alas the corporate environment I&#39;m in is stuck on Java 8 and I&#39;m not allowed to upgrade.","body":"Thats really cool. Alas the corporate environment I&#39;m in is stuck on Java 8 and I&#39;m not allowed to upgrade."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":0,"creation_date":1549463655,"post_id":54555582,"comment_id":95911702,"body_markdown":"Oh - too bad. can you use an executor to pump the InputStream and transfer it to the request? The old legacy http stack (HttpURLConnection) exposes the request body as an OutputStream - so if you can use an executor thread for the transfer...","body":"Oh - too bad. can you use an executor to pump the InputStream and transfer it to the request? The old legacy http stack (HttpURLConnection) exposes the request body as an OutputStream - so if you can use an executor thread for the transfer..."},{"owner":{"account_id":12454901,"reputation":239,"user_id":9068434,"accept_rate":75,"display_name":"Jurgen Voorneveld"},"score":0,"creation_date":1549464379,"post_id":54555582,"comment_id":95912177,"body_markdown":"I considered it but the HttpURLConnection classes are so broken its probably easier to just use a regular socket and write the request manually.","body":"I considered it but the HttpURLConnection classes are so broken its probably easier to just use a regular socket and write the request manually."},{"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"score":1,"creation_date":1549465429,"post_id":54555582,"comment_id":95912829,"body_markdown":"Well - there&#39;s a reason for having a new API in 11... As to use a plain socket directly you might be surprised at all the little dark corner cases that lurk in any HTTP implementation.","body":"Well - there&#39;s a reason for having a new API in 11... As to use a plain socket directly you might be surprised at all the little dark corner cases that lurk in any HTTP implementation."}],"tags":[],"owner":{"account_id":14531657,"reputation":2813,"user_id":10496385,"display_name":"daniel"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1549462542,"creation_date":1549462203,"answer_id":54555582,"question_id":54553356,"body_markdown":"I believe the new `HttpClient` standardized in Java 11 should let you do this. It uses the `Flow` API (reactive streams), and you can provide a `BodyHandler`/`BodySubscriber` that will request/receive the bytes as they come. The `HttpClient` also lets you specifies a `BodyPublisher` when you send out a request. So it should only be a matter of tying the subscription forwarded by the request publisher to its subscribers, to the subscription handed out to `BodySubscriber` by the Http stack, and then having the `BodySubscriber`&#39;s `onNext` (etc..) invoke the `Publisher`&#39;s subscriber corresponding methods.\r\nNote that this is an academic description: I haven&#39;t actually tried to implement it. It might require some thinking and some tricks to set up the subscription link but I believe it should work.\r\n\r\nMake sure that your implementation of `BodySubscriber`/`BodyPublisher` adhere to the reactive streams semantics however - and that they do not block in the callbacks.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\r\nhttps://openjdk.java.net/groups/net/httpclient/intro.html\r\n\r\nOn second thought maybe that&#39;s not what you&#39;re asking: if you already have an `InputStream` it&#39;s even simpler: just use `BodyPublishers.ofInputStream` when you send your request.\r\n\r\nhttps://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.BodyPublishers.html#ofInputStream(java.util.function.Supplier)\r\n\r\n","title":"How do I stream the body of an HTTP request using Java","body":"<p>I believe the new <code>HttpClient</code> standardized in Java 11 should let you do this. It uses the <code>Flow</code> API (reactive streams), and you can provide a <code>BodyHandler</code>/<code>BodySubscriber</code> that will request/receive the bytes as they come. The <code>HttpClient</code> also lets you specifies a <code>BodyPublisher</code> when you send out a request. So it should only be a matter of tying the subscription forwarded by the request publisher to its subscribers, to the subscription handed out to <code>BodySubscriber</code> by the Http stack, and then having the <code>BodySubscriber</code>'s <code>onNext</code> (etc..) invoke the <code>Publisher</code>'s subscriber corresponding methods.\nNote that this is an academic description: I haven't actually tried to implement it. It might require some thinking and some tricks to set up the subscription link but I believe it should work.</p>\n\n<p>Make sure that your implementation of <code>BodySubscriber</code>/<code>BodyPublisher</code> adhere to the reactive streams semantics however - and that they do not block in the callbacks.</p>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpClient.html</a>\n<a href=\"https://openjdk.java.net/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">https://openjdk.java.net/groups/net/httpclient/intro.html</a></p>\n\n<p>On second thought maybe that's not what you're asking: if you already have an <code>InputStream</code> it's even simpler: just use <code>BodyPublishers.ofInputStream</code> when you send your request.</p>\n\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.BodyPublishers.html#ofInputStream(java.util.function.Supplier)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/docs/api/java.net.http/java/net/http/HttpRequest.BodyPublishers.html#ofInputStream(java.util.function.Supplier)</a></p>\n"},{"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610389471,"creation_date":1610389471,"answer_id":65672524,"question_id":54553356,"body_markdown":"I would add that if the request is of sufficient size that you are wanting to implement streaming it, it is likely that the receiving service would also want to implement streaming as well. \r\n\r\nIt also true that while the older existing HttpUrlConnection class, or anything that provides access to the Input and Output streams associated with a given Url connection could support streaming, it is also likely that you would have to code an inordinate amount of support for newer security concerns such as OPTIONS.","title":"How do I stream the body of an HTTP request using Java","body":"<p>I would add that if the request is of sufficient size that you are wanting to implement streaming it, it is likely that the receiving service would also want to implement streaming as well.</p>\n<p>It also true that while the older existing HttpUrlConnection class, or anything that provides access to the Input and Output streams associated with a given Url connection could support streaming, it is also likely that you would have to code an inordinate amount of support for newer security concerns such as OPTIONS.</p>\n"},{"tags":[],"owner":{"account_id":16172613,"reputation":3,"user_id":11676066,"display_name":"Djuradj Gvozdenovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675250004,"creation_date":1675239509,"answer_id":75307258,"question_id":54553356,"body_markdown":"You can do something like this:\r\n\r\n        File file = new File(&quot;path_to_file&quot;); // specify path to the large file you want to upload\r\n\r\n        InputStream inputStream = new FileInputStream(file); // Create input stream out of the file. This will be used to stream data directly to request body\r\n\r\n        HttpURLConnection connection = (HttpURLConnection) new URL(&quot;remote_url&quot;).openConnection(); // Open connection. This will not send eny request until explicitly asked. \r\n        connection.setDoOutput(true); // This will set http method to POST\r\n        connection.setFixedLengthStreamingMode(file.length()); // Define the length of the request body size\r\n\r\n        OutputStream output = connection.getOutputStream(); // This is the output stream of the request body. It will be used to stream file bytes into.\r\n\r\n        var bytes = inputStream.readNBytes(1024); // Read the first 1024 bytes from the file\r\n\r\n        // Following while loop will read chunks of 1024 bytes from the file and write them into the request body output stream.\r\n        // Note the use of the flush function. It will send the current content of the output stream to the remote server. \r\n        while (bytes.length &gt; 0) {\r\n            output.write(bytes);\r\n            output.flush();\r\n            bytes = inputStream.readNBytes(1024);\r\n        }\r\n\r\n\r\n        connection.connect(); // This finishes request and returns response\r\n\r\nI used this for integration with Flussonic and it does the job.\r\n\r\nYou can use this answer for further research: https://stackoverflow.com/a/2793153/11676066","title":"How do I stream the body of an HTTP request using Java","body":"<p>You can do something like this:</p>\n<pre><code>    File file = new File(&quot;path_to_file&quot;); // specify path to the large file you want to upload\n\n    InputStream inputStream = new FileInputStream(file); // Create input stream out of the file. This will be used to stream data directly to request body\n\n    HttpURLConnection connection = (HttpURLConnection) new URL(&quot;remote_url&quot;).openConnection(); // Open connection. This will not send eny request until explicitly asked. \n    connection.setDoOutput(true); // This will set http method to POST\n    connection.setFixedLengthStreamingMode(file.length()); // Define the length of the request body size\n\n    OutputStream output = connection.getOutputStream(); // This is the output stream of the request body. It will be used to stream file bytes into.\n\n    var bytes = inputStream.readNBytes(1024); // Read the first 1024 bytes from the file\n\n    // Following while loop will read chunks of 1024 bytes from the file and write them into the request body output stream.\n    // Note the use of the flush function. It will send the current content of the output stream to the remote server. \n    while (bytes.length &gt; 0) {\n        output.write(bytes);\n        output.flush();\n        bytes = inputStream.readNBytes(1024);\n    }\n\n\n    connection.connect(); // This finishes request and returns response\n</code></pre>\n<p>I used this for integration with Flussonic and it does the job.</p>\n<p>You can use this answer for further research: <a href=\"https://stackoverflow.com/a/2793153/11676066\">https://stackoverflow.com/a/2793153/11676066</a></p>\n"}],"owner":{"account_id":12454901,"reputation":239,"user_id":9068434,"accept_rate":75,"display_name":"Jurgen Voorneveld"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6250,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1675250004,"creation_date":1549455034,"question_id":54553356,"body_markdown":"I have an `InputStream` and the size of the data that is going to come out (Response of HTTP request). For space complexity reasons I can&#39;t read the whole thing. What I want is to send the data directly into a new request body. I&#39;ve tried doing this with OkHttp but I can&#39;t get it to work. I&#39;m not aware of any other HTTP clients that can do this.\r\n\r\nIf at all possible I&#39;d like to avoid messing around with `Socket`. Any advice?\r\n\r\nEdit: Added restriction is that the solution must work with Java 8\r\n","title":"How do I stream the body of an HTTP request using Java","body":"<p>I have an <code>InputStream</code> and the size of the data that is going to come out (Response of HTTP request). For space complexity reasons I can't read the whole thing. What I want is to send the data directly into a new request body. I've tried doing this with OkHttp but I can't get it to work. I'm not aware of any other HTTP clients that can do this.</p>\n\n<p>If at all possible I'd like to avoid messing around with <code>Socket</code>. Any advice?</p>\n\n<p>Edit: Added restriction is that the solution must work with Java 8</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":5335541,"reputation":41,"user_id":4254663,"display_name":"Vasu Sethia"},"score":0,"creation_date":1675243637,"post_id":75307975,"comment_id":132884614,"body_markdown":"I have removed the @ResponseBody but still I am getting 404, also I have thymeleaf templates, I just want to return string instead of thymeleaf template","body":"I have removed the @ResponseBody but still I am getting 404, also I have thymeleaf templates, I just want to return string instead of thymeleaf template"},{"owner":{"account_id":25339479,"reputation":71,"user_id":19158062,"display_name":"dustbin"},"score":0,"creation_date":1675244954,"post_id":75307975,"comment_id":132885043,"body_markdown":"you can debug this request, judge whether to enter the request. if can enter the request, try to change the `@getmapping` to the `@postmapping`.  if not ,maybe regex not in effect.  i guess. sorry,I know little about regex.","body":"you can debug this request, judge whether to enter the request. if can enter the request, try to change the <code>@getmapping</code> to the <code>@postmapping</code>.  if not ,maybe regex not in effect.  i guess. sorry,I know little about regex."}],"tags":[],"owner":{"account_id":25339479,"reputation":71,"user_id":19158062,"display_name":"dustbin"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675243345,"creation_date":1675243345,"answer_id":75307975,"question_id":75307866,"body_markdown":"if you want to jump to other page, delete the annotation `@ResponseBody`;if you want to get the value(like json) from this request,change the annotation to `@PostMapping`. hope the ans works.","title":"Spring Controller mapping using regex","body":"<p>if you want to jump to other page, delete the annotation <code>@ResponseBody</code>;if you want to get the value(like json) from this request,change the annotation to <code>@PostMapping</code>. hope the ans works.</p>\n"}],"owner":{"account_id":5335541,"reputation":41,"user_id":4254663,"display_name":"Vasu Sethia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675249937,"creation_date":1675242840,"question_id":75307866,"body_markdown":"I am getting a following GET request \r\nhttp://localhost:8080/flamingo-json/en/web/Mobile/our-program/Tiers-recognition-Redesigned/rewards-program-new.html\r\n\r\nFor the above url I have defined the following Mapping in spring rest controller\r\n\r\n     @GetMapping(value = &quot;/flamingo-json/{language}/{platform}/{page:.+}&quot;)\r\n    @ResponseBody\r\n    public String getAboutUs(@PathVariable(value = &quot;language&quot;, required = false) String language,@PathVariable String platform,\r\n                             @PathVariable String page){\r\n        logger.info(&quot;Serving &quot; + page + &quot; page for the request&quot;);\r\n        return aboutUsService.getPageFromDb(page, language, platform);\r\n\r\nbut I am unable to get &quot;Mobile/our-program/Tiers-recognition-Redesigned/rewards-program-new.html&quot; value in the Path variable &#39;page&#39; and I am getting 404.\r\n","title":"Spring Controller mapping using regex","body":"<p>I am getting a following GET request\nhttp://localhost:8080/flamingo-json/en/web/Mobile/our-program/Tiers-recognition-Redesigned/rewards-program-new.html</p>\n<p>For the above url I have defined the following Mapping in spring rest controller</p>\n<pre><code> @GetMapping(value = &quot;/flamingo-json/{language}/{platform}/{page:.+}&quot;)\n@ResponseBody\npublic String getAboutUs(@PathVariable(value = &quot;language&quot;, required = false) String language,@PathVariable String platform,\n                         @PathVariable String page){\n    logger.info(&quot;Serving &quot; + page + &quot; page for the request&quot;);\n    return aboutUsService.getPageFromDb(page, language, platform);\n</code></pre>\n<p>but I am unable to get &quot;Mobile/our-program/Tiers-recognition-Redesigned/rewards-program-new.html&quot; value in the Path variable 'page' and I am getting 404.</p>\n"},{"tags":["java","android","kotlin","instrumented-test"],"owner":{"account_id":16676779,"reputation":51,"user_id":12052997,"display_name":"DanIke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675249712,"answer_count":0,"score":0,"last_activity_date":1675249737,"creation_date":1675248575,"question_id":75309091,"body_markdown":"I am running instrumented tests for my code and  I am trying to convert an image to byte array and then pass it in to a method, (the image is saved on a folder path in my test path).\r\nI am doing this in android Instrumented test because I need to pass in context to my method where I am using the byte array image.\r\nBut I keep getting No such file exception, \r\n\r\n```\r\njava.nio.file.NoSuchFileException: app/src/androidTest/testImages/image_s.png\r\n\tat sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\r\n\tat java.nio.file.Files.newByteChannel(Files.java:361)\r\n\tat java.nio.file.Files.newByteChannel(Files.java:407)\r\n\tat java.nio.file.Files.readAllBytes(Files.java:3152)\r\n\r\n```\r\n\r\nWhen I click on the image path on the error log it opens the image on my IDE so I know for sure that I am not passing in a wrong path&gt;\r\n\r\nThis is my sample code.\r\n```\r\n@Test\r\n    fun returnsValidationResultOnImagePassed() {\r\n\r\n        var image = File(&quot;app/src/androidTest/testImages/image_s.png&quot;)\r\n        var imgByte: ByteArray = Files.readAllBytes(image.toPath())\r\n\r\n\r\n        var imagePath = Base64.encodeToString(imgByte, Base64.NO_WRAP)\r\n\r\n        val result: ArrayList&lt;ValidationResult&gt; = processor.process(imagePath, context)\r\n\r\n        Log.d(&quot;tests&quot;, result.toString())\r\n\r\n        Assert.assertNotNull(processor)\r\n    }\r\n```\r\n\r\nI&#39;ve also tried creating a file with the image path, convert to buffered Image then to byte array using Bytestream still result in file not found exception\r\n\r\nAlso search for solutions like trying this https://stackoverflow.com/questions/48008550/errorexecution-failed-for-task-appmockableandroidjar-java-nio-file-nosuc.\r\n\r\nIf anyone has links to a solution for this please also share.","title":"java.nio.file.NoSuchFileException: on android instrumented test","body":"<p>I am running instrumented tests for my code and  I am trying to convert an image to byte array and then pass it in to a method, (the image is saved on a folder path in my test path).\nI am doing this in android Instrumented test because I need to pass in context to my method where I am using the byte array image.\nBut I keep getting No such file exception,</p>\n<pre><code>java.nio.file.NoSuchFileException: app/src/androidTest/testImages/image_s.png\n    at sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:214)\n    at java.nio.file.Files.newByteChannel(Files.java:361)\n    at java.nio.file.Files.newByteChannel(Files.java:407)\n    at java.nio.file.Files.readAllBytes(Files.java:3152)\n\n</code></pre>\n<p>When I click on the image path on the error log it opens the image on my IDE so I know for sure that I am not passing in a wrong path&gt;</p>\n<p>This is my sample code.</p>\n<pre><code>@Test\n    fun returnsValidationResultOnImagePassed() {\n\n        var image = File(&quot;app/src/androidTest/testImages/image_s.png&quot;)\n        var imgByte: ByteArray = Files.readAllBytes(image.toPath())\n\n\n        var imagePath = Base64.encodeToString(imgByte, Base64.NO_WRAP)\n\n        val result: ArrayList&lt;ValidationResult&gt; = processor.process(imagePath, context)\n\n        Log.d(&quot;tests&quot;, result.toString())\n\n        Assert.assertNotNull(processor)\n    }\n</code></pre>\n<p>I've also tried creating a file with the image path, convert to buffered Image then to byte array using Bytestream still result in file not found exception</p>\n<p>Also search for solutions like trying this <a href=\"https://stackoverflow.com/questions/48008550/errorexecution-failed-for-task-appmockableandroidjar-java-nio-file-nosuc\">Error:Execution failed for task &#39;:app:mockableAndroidJar&#39;. &gt; java.nio.file.NoSuchFileException: C\\path\\.android\\.android\\build-cache</a>.</p>\n<p>If anyone has links to a solution for this please also share.</p>\n"},{"tags":["java","spring-boot","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675260182,"post_id":75309267,"comment_id":132889979,"body_markdown":"See my answer to your other question: https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api. You just don&#39;t need a polling channel adapter for your task.","body":"See my answer to your other question: <a href=\"https://stackoverflow.com/questions/75307260/how-to-invoke-spring-channel-adapter-from-rest-api\" title=\"how to invoke spring channel adapter from rest api\">stackoverflow.com/questions/75307260/&hellip;</a>. You just don&#39;t need a polling channel adapter for your task."}],"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1675260192,"answer_count":0,"score":0,"last_activity_date":1675249527,"creation_date":1675249527,"question_id":75309267,"body_markdown":"I am new to spring integration and trying to understand how can I program jdbc inbound channel adapter programmatically \r\n\r\n   \r\n\r\n     &lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\r\n                                          channel=&quot;channel&quot;\r\n                                          data-source=&quot;dataSource&quot;\r\n                                          query=&quot;SELECT * FROM BOOKS&quot;\r\n                                          row-mapper=&quot;bookRowMapper&quot;&gt;\r\n            &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\r\n        &lt;/int-jdbc:inbound-channel-adapter&gt;\r\n\r\nI want to invoke the above adapter after the REST api is called\r\n\r\n           @RestController\r\n    public class HelloController {\r\n    \r\n    \t@GetMapping(value = &quot;/getBooks&quot;)\r\n    \t@ResponseStatus(value = HttpStatus.OK)\r\n    \tpublic void getBooks() {\r\n    \t\t// call above adapter\r\n    \t}\r\n    }\r\n\r\nHow can I either delay invocation of jdbc inbound dapater until REST API is invoked, or call the jdbc inbound adapter from getBooks() above?\r\n","title":"How to instantiate Spring-Integration&#39;s jdbc inbound channel adapter programmatically?","body":"<p>I am new to spring integration and trying to understand how can I program jdbc inbound channel adapter programmatically</p>\n<pre><code> &lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\n                                      channel=&quot;channel&quot;\n                                      data-source=&quot;dataSource&quot;\n                                      query=&quot;SELECT * FROM BOOKS&quot;\n                                      row-mapper=&quot;bookRowMapper&quot;&gt;\n        &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\n    &lt;/int-jdbc:inbound-channel-adapter&gt;\n</code></pre>\n<p>I want to invoke the above adapter after the REST api is called</p>\n<pre><code>       @RestController\npublic class HelloController {\n\n    @GetMapping(value = &quot;/getBooks&quot;)\n    @ResponseStatus(value = HttpStatus.OK)\n    public void getBooks() {\n        // call above adapter\n    }\n}\n</code></pre>\n<p>How can I either delay invocation of jdbc inbound dapater until REST API is invoked, or call the jdbc inbound adapter from getBooks() above?</p>\n"},{"tags":["java","swt","ole","win32ole","docx-mailmerge"],"owner":{"account_id":27674567,"reputation":1,"user_id":21124657,"display_name":"jhm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675249510,"creation_date":1675249510,"question_id":75309263,"body_markdown":"I&#39;m working on a java application that interacts with Word through an OLE library (org.eclipse.swt.ole.win32) to merge documents (mail merge).\r\nthe java method which makes it possible to merge has been working for several years without any particular problem.\r\n\r\nbut recently the data source can no longer be associated with the merge document.\r\nThis problem is random (on some workstations it works and on others it doesn&#39;t, yet same system configuration)\r\nI have no explicit error reported on the java side\r\nHere is the method that communicates with Word:\r\n\r\n\r\n```\r\n  public void mergeDocument(File model, File source) throws Exception {\r\n    OleAutomation autoMailMerge = null;\r\n    LOGGER.log(new Status(IStatus.INFO, pluginID, &quot;Merge d un document&quot;));\r\n    LOGGER.log(new Status(IStatus.INFO, pluginID, &quot;fichier modele: &quot; + model.getCanonicalPath()));\r\n    LOGGER.log(new Status(IStatus.INFO, pluginID, &quot;fichier source: &quot; + source.getPath()));\r\n    openDocumentReadOnly(model);\r\n\r\n    autoMailMerge = OLEHelper.getAutomationProperty(autoDocument, &quot;MailMerge&quot;);\r\n    if ((source != null) &amp;&amp; (source.exists()) &amp;&amp; (!source.isDirectory())) {\r\n      OLEHelper.invoke(autoMailMerge, &quot;OpenDataSource&quot;, source.getPath());\r\n    } else {\r\n      throw new MSWordOleInterfaceException(MSWordOleInterfaceCst.MSG_ERROR_EMPTY_SOURCE_PATH\r\n          + ((source == null) ? &quot;null&quot; : source.getPath()));\r\n    }\r\n    OLEHelper.invoke(autoMailMerge, &quot;Execute&quot;);\r\n\r\n    OleAutomation autoDocumentMerged = getActiveDocument();\r\n    closeDocument(autoDocument);\r\n    activateDocument(autoDocumentMerged);\r\n    autoDocument = autoDocumentMerged;\r\n    autoMailMerge.dispose();\r\n  }\r\n```\r\n\r\n\r\n- Merging by hand from Word (associating the data source and merging) works on workstations where the java application does not work.\r\n\r\n- thanks to the OLE command I validated that it is the data source which is not passed (on a workstation which works I have a return with the name of the source, on one or it does not work the return is empty)\r\n```\r\n    LOGGER.log(new Status(IStatus.INFO, pluginID, &quot;data source name: &quot;\r\n        + OLEHelper.getVariantProperty(autoDataSource, &quot;Name&quot;).getString()));\r\n```\r\n-a temporary solution has been found, by deleting the registry key related to office:\r\n\r\nHKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Office\\16.0\\Word\\DocumentTemplateCache\r\n\r\nbut this is only a temporary solution, the problem comes back.","title":"problem of associating a data source associated with Word mail merge from a java application (OLE communication)","body":"<p>I'm working on a java application that interacts with Word through an OLE library (org.eclipse.swt.ole.win32) to merge documents (mail merge).\nthe java method which makes it possible to merge has been working for several years without any particular problem.</p>\n<p>but recently the data source can no longer be associated with the merge document.\nThis problem is random (on some workstations it works and on others it doesn't, yet same system configuration)\nI have no explicit error reported on the java side\nHere is the method that communicates with Word:</p>\n<pre><code>  public void mergeDocument(File model, File source) throws Exception {\n    OleAutomation autoMailMerge = null;\n    LOGGER.log(new Status(IStatus.INFO, pluginID, &quot;Merge d un document&quot;));\n    LOGGER.log(new Status(IStatus.INFO, pluginID, &quot;fichier modele: &quot; + model.getCanonicalPath()));\n    LOGGER.log(new Status(IStatus.INFO, pluginID, &quot;fichier source: &quot; + source.getPath()));\n    openDocumentReadOnly(model);\n\n    autoMailMerge = OLEHelper.getAutomationProperty(autoDocument, &quot;MailMerge&quot;);\n    if ((source != null) &amp;&amp; (source.exists()) &amp;&amp; (!source.isDirectory())) {\n      OLEHelper.invoke(autoMailMerge, &quot;OpenDataSource&quot;, source.getPath());\n    } else {\n      throw new MSWordOleInterfaceException(MSWordOleInterfaceCst.MSG_ERROR_EMPTY_SOURCE_PATH\n          + ((source == null) ? &quot;null&quot; : source.getPath()));\n    }\n    OLEHelper.invoke(autoMailMerge, &quot;Execute&quot;);\n\n    OleAutomation autoDocumentMerged = getActiveDocument();\n    closeDocument(autoDocument);\n    activateDocument(autoDocumentMerged);\n    autoDocument = autoDocumentMerged;\n    autoMailMerge.dispose();\n  }\n</code></pre>\n<ul>\n<li><p>Merging by hand from Word (associating the data source and merging) works on workstations where the java application does not work.</p>\n</li>\n<li><p>thanks to the OLE command I validated that it is the data source which is not passed (on a workstation which works I have a return with the name of the source, on one or it does not work the return is empty)</p>\n</li>\n</ul>\n<pre><code>    LOGGER.log(new Status(IStatus.INFO, pluginID, &quot;data source name: &quot;\n        + OLEHelper.getVariantProperty(autoDataSource, &quot;Name&quot;).getString()));\n</code></pre>\n<p>-a temporary solution has been found, by deleting the registry key related to office:</p>\n<p>HKEY_CURRENT_USER\\SOFTWARE\\Microsoft\\Office\\16.0\\Word\\DocumentTemplateCache</p>\n<p>but this is only a temporary solution, the problem comes back.</p>\n"},{"tags":["java","file","sorting","text"],"comments":[{"owner":{"display_name":"user1898811"},"score":0,"creation_date":1364342000,"post_id":15649567,"comment_id":22207427,"body_markdown":"Sort of an off-topic answer, but how about\n`$ sort filename &gt; sorted.txt`","body":"Sort of an off-topic answer, but how about <code>$ sort filename &gt; sorted.txt</code>"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1364342002,"post_id":15649567,"comment_id":22207428,"body_markdown":"Your idea may work if the file data fits in memory.","body":"Your idea may work if the file data fits in memory."},{"owner":{"display_name":"user2205055"},"score":0,"creation_date":1364342318,"post_id":15649567,"comment_id":22207495,"body_markdown":"The file is a dictionary of words. 1.1 mbs. Over 1000 words??","body":"The file is a dictionary of words. 1.1 mbs. Over 1000 words??"},{"owner":{"account_id":7834,"reputation":5811,"user_id":13750,"accept_rate":100,"display_name":"Jordan Dea-Mattson"},"score":0,"creation_date":1364343884,"post_id":15649567,"comment_id":22207949,"body_markdown":"1.1MB is nothing. If you can&#39;t use sort from the command line, read it into an array of strings and then sort them.","body":"1.1MB is nothing. If you can&#39;t use sort from the command line, read it into an array of strings and then sort them."},{"owner":{"account_id":7834,"reputation":5811,"user_id":13750,"accept_rate":100,"display_name":"Jordan Dea-Mattson"},"score":0,"creation_date":1364343931,"post_id":15649567,"comment_id":22207965,"body_markdown":"This is a duplicate of [Sort ArrayList alphabetically][1].\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/2496841/sort-arraylist-alphabetically","body":"This is a duplicate of [Sort ArrayList alphabetically][1].        [1]: <a href=\"http://stackoverflow.com/questions/2496841/sort-arraylist-alphabetically\" title=\"sort arraylist alphabetically\">stackoverflow.com/questions/2496841/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":3,"creation_date":1364344394,"post_id":15649956,"comment_id":22208116,"body_markdown":"+1 for referencing posts that already exist, and not being a jerk about it","body":"+1 for referencing posts that already exist, and not being a jerk about it"}],"tags":[],"owner":{"account_id":7834,"reputation":5811,"user_id":13750,"accept_rate":100,"display_name":"Jordan Dea-Mattson"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1364344295,"creation_date":1364344295,"answer_id":15649956,"question_id":15649567,"body_markdown":"This is a simple four step process, with three of the four steps addressed by Stackoverflow Questions:\r\n\r\n 1. [Read each line and turn them into Java String][1]\r\n 2. Store each Java String in a Array (don&#39;t think you need a reference for this one.)\r\n 3. [Sort your Array][2]\r\n 4. [Write out each Java String in your array][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-in-java\r\n  [2]: https://stackoverflow.com/questions/2496841/sort-arraylist-alphabetically\r\n  [3]: https://stackoverflow.com/questions/409784/simplest-way-to-print-an-array-in-java","title":"Sorting a text file in Java","body":"<p>This is a simple four step process, with three of the four steps addressed by Stackoverflow Questions:</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/5868369/how-to-read-a-large-text-file-line-by-line-in-java\">Read each line and turn them into Java String</a></li>\n<li>Store each Java String in a Array (don't think you need a reference for this one.)</li>\n<li><a href=\"https://stackoverflow.com/questions/2496841/sort-arraylist-alphabetically\">Sort your Array</a></li>\n<li><a href=\"https://stackoverflow.com/questions/409784/simplest-way-to-print-an-array-in-java\">Write out each Java String in your array</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3037886,"reputation":11,"user_id":2575540,"display_name":"www.gadgetgyan.in"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1430752560,"creation_date":1373615415,"answer_id":17610070,"question_id":15649567,"body_markdown":"    \r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n\tpublic class example\r\n\t{\r\n\t\tTreeSet&lt;String&gt; tree=new TreeSet&lt;String&gt;();\r\n\t\tpublic static void main(String args[])\r\n\t\t{\r\n\t\t\tnew example().go();\r\n\t\t}\r\n\t\tpublic void go()\r\n\t\t\r\n\t\t{\r\n\t\t\tgetlist();\r\n\t\t\tSystem.out.println(tree);\r\n\r\n\t\t}\r\n\t\t void getlist()\r\n\t\t{\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tFile myfile= new File(&quot;C:/Users/Rajat/Desktop/me.txt&quot;);\r\n\t\t\t\tBufferedReader reader=new BufferedReader(new FileReader(myfile));\r\n\t\t\t\tString line=null;\r\n\t\t\t\twhile((line=reader.readLine())!=null){\r\n\t\t\t\t\taddnames(line);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\treader.close();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcatch(Exception ex)\r\n\t\t\t{\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n\t\tvoid addnames(String a)\r\n\t\t{\r\n\t\t       tree.add(a);\r\n\t\t       for(int i=1;i&lt;=a.length();i++)\r\n\t\t       {\r\n\t\t    \t   \r\n\t\t       }\r\n\t\t}\r\n\t}\r\n\r\n","title":"Sorting a text file in Java","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class example\n{\n    TreeSet&lt;String&gt; tree=new TreeSet&lt;String&gt;();\n    public static void main(String args[])\n    {\n        new example().go();\n    }\n    public void go()\n\n    {\n        getlist();\n        System.out.println(tree);\n\n    }\n     void getlist()\n    {\n        try\n        {\n            File myfile= new File(\"C:/Users/Rajat/Desktop/me.txt\");\n            BufferedReader reader=new BufferedReader(new FileReader(myfile));\n            String line=null;\n            while((line=reader.readLine())!=null){\n                addnames(line);\n\n\n            }\n        reader.close();\n        }\n\n        catch(Exception ex)\n        {\n            ex.printStackTrace();\n        }\n\n    }\n    void addnames(String a)\n    {\n           tree.add(a);\n           for(int i=1;i&lt;=a.length();i++)\n           {\n\n           }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49728,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429114297,"creation_date":1429114297,"answer_id":29655405,"question_id":15649567,"body_markdown":"Here is an example using Collections sort:\r\n\r\n    public static void sortFile() throws IOException\r\n    {     \r\n        FileReader fileReader = new FileReader(&quot;C:\\\\words.txt&quot;);\r\n        BufferedReader bufferedReader = new BufferedReader(fileReader);\r\n        List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n        String line = null;\r\n        while ((line = bufferedReader.readLine()) != null) {\r\n            lines.add(line);\r\n        }\r\n        bufferedReader.close();\r\n        \r\n        Collections.sort(lines, Collator.getInstance());\r\n        \r\n        FileWriter writer = new FileWriter(&quot;C:\\\\wordsnew.txt&quot;); \r\n        for(String str: lines) {\r\n          writer.write(str + &quot;\\r\\n&quot;);\r\n        }\r\n        writer.close();\r\n    }\r\n\r\n\r\nYou can also use your own collation like this:\r\n\r\n    Locale lithuanian = new Locale(&quot;lt_LT&quot;);\r\n    Collator lithuanianCollator = Collator.getInstance(lithuanian);","title":"Sorting a text file in Java","body":"<p>Here is an example using Collections sort:</p>\n\n<pre><code>public static void sortFile() throws IOException\n{     \n    FileReader fileReader = new FileReader(\"C:\\\\words.txt\");\n    BufferedReader bufferedReader = new BufferedReader(fileReader);\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n    String line = null;\n    while ((line = bufferedReader.readLine()) != null) {\n        lines.add(line);\n    }\n    bufferedReader.close();\n\n    Collections.sort(lines, Collator.getInstance());\n\n    FileWriter writer = new FileWriter(\"C:\\\\wordsnew.txt\"); \n    for(String str: lines) {\n      writer.write(str + \"\\r\\n\");\n    }\n    writer.close();\n}\n</code></pre>\n\n<p>You can also use your own collation like this:</p>\n\n<pre><code>Locale lithuanian = new Locale(\"lt_LT\");\nCollator lithuanianCollator = Collator.getInstance(lithuanian);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27248734,"reputation":9,"user_id":20773568,"display_name":"Nithesh Gowda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675249251,"creation_date":1675249251,"answer_id":75309217,"question_id":15649567,"body_markdown":"    public List&lt;String&gt; readFile(String filePath) throws FileNotFoundException {\r\n        List&lt;String&gt; txtLines = new ArrayList&lt;&gt;();\r\n        try {\r\n            BufferedReader reader = new BufferedReader(new FileReader(filePath));\r\n            String line;\r\n            while (!((line = reader.readLine()) == null)) {\r\n                txtLines.add(line);\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return txtLines.stream().sorted().collect(Collectors.toList());\r\n    }","title":"Sorting a text file in Java","body":"<pre><code>public List&lt;String&gt; readFile(String filePath) throws FileNotFoundException {\n    List&lt;String&gt; txtLines = new ArrayList&lt;&gt;();\n    try {\n        BufferedReader reader = new BufferedReader(new FileReader(filePath));\n        String line;\n        while (!((line = reader.readLine()) == null)) {\n            txtLines.add(line);\n        }\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return txtLines.stream().sorted().collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"display_name":"user2205055"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21349,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":15649956,"answer_count":4,"score":2,"last_activity_date":1675249251,"creation_date":1364341935,"question_id":15649567,"body_markdown":"I have a text file  with a list of words which I need to sort in alphabetical order using Java. The words are located on seperate lines.\r\n\r\nHow would I go about this, Read them into an array list and then sort that??","title":"Sorting a text file in Java","body":"<p>I have a text file  with a list of words which I need to sort in alphabetical order using Java. The words are located on seperate lines.</p>\n\n<p>How would I go about this, Read them into an array list and then sort that??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1540220636,"post_id":52932348,"comment_id":92774015,"body_markdown":"is the file exist on the generated jar?","body":"is the file exist on the generated jar?"},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540222721,"post_id":52932348,"comment_id":92775262,"body_markdown":"hi @BagusTesa , how can i know this file is exist on the generated jar? sorry i am very new....","body":"hi @BagusTesa , how can i know this file is exist on the generated jar? sorry i am very new...."},{"owner":{"account_id":2459013,"reputation":947,"user_id":2143547,"display_name":"chriopp"},"score":0,"creation_date":1540222841,"post_id":52932348,"comment_id":92775326,"body_markdown":"Could you show us your project structure?","body":"Could you show us your project structure?"},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1540222895,"post_id":52932348,"comment_id":92775375,"body_markdown":"&quot;how can i know this file is exist on the generated jar?&quot; Open Jar file with WinZip or any zip readers. Jar is Zip file.","body":"&quot;how can i know this file is exist on the generated jar?&quot; Open Jar file with WinZip or any zip readers. Jar is Zip file."},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540222996,"post_id":52932348,"comment_id":92775439,"body_markdown":"@chriopp please click&#39; file structure here&#39;","body":"@chriopp please click&#39; file structure here&#39;"},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1540223053,"post_id":52932348,"comment_id":92775473,"body_markdown":"more questions: what IDE do you use? Structure looks like Maven do you use it with your IDE? where do you need this file to be available - for JUnit or else?","body":"more questions: what IDE do you use? Structure looks like Maven do you use it with your IDE? where do you need this file to be available - for JUnit or else?"},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540223117,"post_id":52932348,"comment_id":92775510,"body_markdown":"@vadim thanks!  , yes this file is in the generated jar...","body":"@vadim thanks!  , yes this file is in the generated jar..."},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1540223191,"post_id":52932348,"comment_id":92775541,"body_markdown":"then  - is it in the root directory inside jar file?","body":"then  - is it in the root directory inside jar file?"},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540223207,"post_id":52932348,"comment_id":92775552,"body_markdown":"@vadim  IDE: Luna Service Release 2 (4.4.2) maven. i want test.json file to be unser src/test/resources. this is my practice project...","body":"@vadim  IDE: Luna Service Release 2 (4.4.2) maven. i want test.json file to be unser src/test/resources. this is my practice project..."},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540223267,"post_id":52932348,"comment_id":92775583,"body_markdown":"@Vadim sad.jar\\resources\\da\\test.json  like this..","body":"@Vadim sad.jar\\resources\\da\\test.json  like this.."},{"owner":{"account_id":9609012,"reputation":4037,"user_id":7134058,"display_name":"Vadim"},"score":0,"creation_date":1540223354,"post_id":52932348,"comment_id":92775626,"body_markdown":"so it must be available through `in=getClass().getResourceAsStream(&quot;/resources/da/test.json&quot;); `","body":"so it must be available through <code>in=getClass().getResourceAsStream(&quot;&#47;resources&#47;da&#47;test.json&quot;)&zwnj;&#8203;; </code>"},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540223552,"post_id":52932348,"comment_id":92775736,"body_markdown":"@Vadim thanks , i resolved the problem. &gt;&lt; have a nice day","body":"@Vadim thanks , i resolved the problem. &gt;&lt; have a nice day"}],"answers":[{"comments":[{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540222321,"post_id":52932656,"comment_id":92775045,"body_markdown":"still null...  i copied and pasted yours but still null","body":"still null...  i copied and pasted yours but still null"},{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540223583,"post_id":52932656,"comment_id":92775752,"body_markdown":"you are right, i just put in worng folder like @Florian Albrecht said. thanks !!!!!","body":"you are right, i just put in worng folder like @Florian Albrecht said. thanks !!!!!"}],"tags":[],"owner":{"account_id":1528686,"reputation":12048,"user_id":1426469,"accept_rate":12,"display_name":"Leo Aso"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1540221403,"creation_date":1540221403,"answer_id":52932656,"question_id":52932348,"body_markdown":"When getting resources, the resources folder is the root. If the file is in a subfolder, you need to include it in your path. Use\r\n\r\n    in = getClass().getResourceAsStream(&quot;/ds/test.json&quot;);","title":"get file from src/test/resources using getResourceAsStream()","body":"<p>When getting resources, the resources folder is the root. If the file is in a subfolder, you need to include it in your path. Use</p>\n\n<pre><code>in = getClass().getResourceAsStream(\"/ds/test.json\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"score":0,"creation_date":1540223504,"post_id":52933188,"comment_id":92775711,"body_markdown":"thank you so much...!!! i create a new folder and put my file. it works...  have a grate day","body":"thank you so much...!!! i create a new folder and put my file. it works...  have a grate day"}],"tags":[],"owner":{"account_id":2577707,"reputation":2286,"user_id":2235015,"display_name":"Florian Albrecht"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1540223285,"creation_date":1540223285,"answer_id":52933188,"question_id":52932348,"body_markdown":"You can&#39;t (by default) access `src/test/resources` resources from code within `src/main/java`. All `src/test/resources` resources are only available for tests usually stored in `src/test/java` and executed during `test` phase (in Maven). During that phase, **test** code can access that resources by some (not all) of the methods you quoted in your question.\r\n\r\nFor your main classes, the resources root is `src/main/resources`. You should store your JSON schema file there. Test code can also access resources stored there (so no duplication needed), but not vice versa.","title":"get file from src/test/resources using getResourceAsStream()","body":"<p>You can't (by default) access <code>src/test/resources</code> resources from code within <code>src/main/java</code>. All <code>src/test/resources</code> resources are only available for tests usually stored in <code>src/test/java</code> and executed during <code>test</code> phase (in Maven). During that phase, <strong>test</strong> code can access that resources by some (not all) of the methods you quoted in your question.</p>\n\n<p>For your main classes, the resources root is <code>src/main/resources</code>. You should store your JSON schema file there. Test code can also access resources stored there (so no duplication needed), but not vice versa.</p>\n"}],"owner":{"account_id":13996556,"reputation":938,"user_id":10109195,"display_name":"Energy"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3389,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52933188,"answer_count":2,"score":0,"last_activity_date":1675249117,"creation_date":1540220395,"question_id":52932348,"body_markdown":"[![file structure here][1]][1]\r\n\r\n++add\r\ni want to validate json based on json schema file.\r\nI currently save json as string , and try to read json schema file(which is test.json), then validate. \r\nhowever, reading schema file is always null..\r\n\r\nbelow code are I tried so far. \r\n\r\n\r\n++original post.\r\n\r\nthis is my current situaction.\r\nI&#39;ve tried many ways to get the file(test.json)...\r\n\r\nlike\r\n\r\n\tInputStream in;\r\n\t\t\r\n\t   \t \r\n\r\n    1.  in= valid.class.getResourceAsStream(&quot;/test.json&quot;); \r\n\t2.\tin = getClass().getClassLoader().getResourceAsStream(&quot;/test.json&quot;);\r\n    3.   in = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;//test.json&quot;);\r\n\t4. in=getClass().getResourceAsStream(&quot;/test.json&quot;); \r\n\t\t\r\n\t5. in=ValidationUtils.class.getResourceAsStream(&quot;../resources/ds/test.json&quot;); \r\n\t\t\r\n    6. ClassLoader classLoader =  getClass().getClassLoader();\r\n       in = classLoader.getResourceAsStream(&quot;test.json&quot;);\r\n    7.in=getClass().getResourceAsStream(&quot;/ds/test.json&quot;); //tried just now\r\n\r\n\r\n    System.out.println(&quot;in&quot;+in); //this is always null.\r\n\r\n\r\nnothing.. work.. above..\r\nplease help me... \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DPFvB.png","title":"get file from src/test/resources using getResourceAsStream()","body":"<p><a href=\"https://i.stack.imgur.com/DPFvB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DPFvB.png\" alt=\"file structure here\" /></a></p>\n<p>++add\ni want to validate json based on json schema file.\nI currently save json as string , and try to read json schema file(which is test.json), then validate.\nhowever, reading schema file is always null..</p>\n<p>below code are I tried so far.</p>\n<p>++original post.</p>\n<p>this is my current situaction.\nI've tried many ways to get the file(test.json)...</p>\n<p>like</p>\n<pre><code>InputStream in;\n    \n     \n\n1.  in= valid.class.getResourceAsStream(&quot;/test.json&quot;); \n2.  in = getClass().getClassLoader().getResourceAsStream(&quot;/test.json&quot;);\n3.   in = Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;//test.json&quot;);\n4. in=getClass().getResourceAsStream(&quot;/test.json&quot;); \n    \n5. in=ValidationUtils.class.getResourceAsStream(&quot;../resources/ds/test.json&quot;); \n    \n6. ClassLoader classLoader =  getClass().getClassLoader();\n   in = classLoader.getResourceAsStream(&quot;test.json&quot;);\n7.in=getClass().getResourceAsStream(&quot;/ds/test.json&quot;); //tried just now\n\n\nSystem.out.println(&quot;in&quot;+in); //this is always null.\n</code></pre>\n<p>nothing.. work.. above..\nplease help me...</p>\n"},{"tags":["java","pdf","apache-poi","docx"],"owner":{"account_id":24672006,"reputation":1,"user_id":18566918,"display_name":"Evgeny Sharov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":478,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675248770,"creation_date":1675153793,"question_id":75294427,"body_markdown":"The task is this, you need to create a printable form, replace the fields with the necessary data and convert to pdf format. Replacing text and saving in docx format is correct.  \r\nBut when I run:\r\n PdfConverter.getInstance().convert(document, outputStream, pdfOptions);  \r\n\r\nThe fields that have been replaced are missing in the pdf file. The fields in the form are entered in the form for tex (figure), you can see it in the photo.   \r\n\r\nIf you insert into plain text, then the replacement is correct. I think that you need to somehow configure PdfOptions, but so far there are no options for how to do it ...  \r\n If someone had such a problem and has suggestions on what to try to do, I will be glad for help))  \r\n\r\nThe code that converts the finished form:  \r\n\r\n    `InputStream inputStream = ByteSource.wrap(printFileDTO.getContent()).openStream();  \r\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();  \r\n\r\n    PdfOptions pdfOptions = PdfOptions.create();  \r\n        \r\n    pdfOptions.fontProvider((familyName, encoding, size, style, color) -&gt; {\r\n       try {\r\n            BaseFont baseFont =\r\n                    BaseFont.createFont(TNR, encoding, BaseFont.EMBEDDED);\r\n             return new Font(baseFont, size, style, color);\r\n         } catch (Exception e) {\r\n             throw new RuntimeException(e);\r\n         }\r\n    });\r\n\r\n        XWPFDocument document = new XWPFDocument(inputStream);\r\n        PdfConverter.getInstance().convert(document, outputStream, pdfOptions);`\r\n\r\nVersions:   \r\n    `&lt;apache.poi&gt;5.2.3&lt;/apache.poi&gt;\r\n    &lt;poi.ooxml.version&gt;5.2.3&lt;/poi.ooxml.version&gt;\r\n    &lt;poi.scratchpad.version&gt;5.2.3&lt;/poi.scratchpad.version&gt;        \r\n    &lt;opensagres.xdocreport.version&gt;2.0.3&lt;/opensagres.xdocreport.version&gt;`\r\n\r\nUpdated to the latest to try, but it did not change anything  \r\n\r\n\r\nPiece of completed form:\r\n\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sSC7G.png","title":"Convert docx to pdf using Apache POI","body":"<p>The task is this, you need to create a printable form, replace the fields with the necessary data and convert to pdf format. Replacing text and saving in docx format is correct.<br />\nBut when I run:\nPdfConverter.getInstance().convert(document, outputStream, pdfOptions);</p>\n<p>The fields that have been replaced are missing in the pdf file. The fields in the form are entered in the form for tex (figure), you can see it in the photo.</p>\n<p>If you insert into plain text, then the replacement is correct. I think that you need to somehow configure PdfOptions, but so far there are no options for how to do it ...<br />\nIf someone had such a problem and has suggestions on what to try to do, I will be glad for help))</p>\n<p>The code that converts the finished form:</p>\n<pre><code>`InputStream inputStream = ByteSource.wrap(printFileDTO.getContent()).openStream();  \nByteArrayOutputStream outputStream = new ByteArrayOutputStream();  \n\nPdfOptions pdfOptions = PdfOptions.create();  \n    \npdfOptions.fontProvider((familyName, encoding, size, style, color) -&gt; {\n   try {\n        BaseFont baseFont =\n                BaseFont.createFont(TNR, encoding, BaseFont.EMBEDDED);\n         return new Font(baseFont, size, style, color);\n     } catch (Exception e) {\n         throw new RuntimeException(e);\n     }\n});\n\n    XWPFDocument document = new XWPFDocument(inputStream);\n    PdfConverter.getInstance().convert(document, outputStream, pdfOptions);`\n</code></pre>\n<p>Versions:<br />\n<code>&lt;apache.poi&gt;5.2.3&lt;/apache.poi&gt; &lt;poi.ooxml.version&gt;5.2.3&lt;/poi.ooxml.version&gt; &lt;poi.scratchpad.version&gt;5.2.3&lt;/poi.scratchpad.version&gt;         &lt;opensagres.xdocreport.version&gt;2.0.3&lt;/opensagres.xdocreport.version&gt;</code></p>\n<p>Updated to the latest to try, but it did not change anything</p>\n<p>Piece of completed form:</p>\n<p><a href=\"https://i.stack.imgur.com/sSC7G.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","redis","vert.x"],"answers":[{"comments":[{"owner":{"account_id":9588915,"reputation":629,"user_id":7120574,"display_name":"0x4b50"},"score":0,"creation_date":1675250390,"post_id":75309098,"comment_id":132886833,"body_markdown":"Increasing the max pool size is the first thing I tried out. Redis can handle thousands of connections but the Vert.x only talks about &quot;common configuration&quot;. Could I set the max pool size to 10k or would that cause errors? The documenation says nothing about this.","body":"Increasing the max pool size is the first thing I tried out. Redis can handle thousands of connections but the Vert.x only talks about &quot;common configuration&quot;. Could I set the max pool size to 10k or would that cause errors? The documenation says nothing about this."},{"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"score":1,"creation_date":1675343248,"post_id":75309098,"comment_id":132911164,"body_markdown":"The max pool size is only limited by the available number of sockets. Theoretically you cannot go over 64k but you probably will be stopped before by the OS. Vert.x itself is single threaded so the number of sockets will not impact the number of threads so it won&#39;t impact your application performance in terms of scheduling.","body":"The max pool size is only limited by the available number of sockets. Theoretically you cannot go over 64k but you probably will be stopped before by the OS. Vert.x itself is single threaded so the number of sockets will not impact the number of threads so it won&#39;t impact your application performance in terms of scheduling."}],"tags":[],"owner":{"account_id":21271,"reputation":5855,"user_id":51560,"accept_rate":57,"display_name":"Paulo Lopes"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675248660,"creation_date":1675248660,"answer_id":75309098,"question_id":75307372,"body_markdown":"Vert.x redis client will attempt to work with the least number of connections to redis as this usually gives better performance for both vert.x and redis.\r\n\r\nWhen working with simple command and response, for example, `SET key value` then a pool has benefits as it reuses connections and the whole flow is faster. However, for pub/sub, it is best if you use a dedicated connection (not a pool)\r\n\r\n    Redis.createClient(\r\n      vertx,\r\n      &quot;redis://localhost:6379&quot;)\r\n      .connect()\r\n      .onSuccess(conn -&gt; {\r\n        // use the connection to subscribe...\r\n      });\r\n\r\nIf you wish to use a pool for subscriptions (which doesn&#39;t give any advantage in terms of performance) you still can, but need to tweak the defaults to allow more connections than usual. You&#39;ll do this with `RedisOptions` object:\r\n\r\n    new RedisOptions()\r\n        .setConnectionString(&quot;redis://localhost:7006&quot;)\r\n        // allow at max 128 connections to redis\r\n        .setMaxPoolSize(128)\r\n        // allow 512 connection requests to queue waiting\r\n        // for a connection to be available.\r\n        .setMaxWaitingHandlers(512))\r\n\r\nThis means that there will be 128 connections readily available and for commands that go over the connections in use, the client will queue them up to 512 until a connection is available, otherwise starts failing commands. Usually, this prevents your server to overload Redis or run out of memory/sockets.","title":"Subscription to Redis Stream Blocks Connections for Other Requests With Vert.x","body":"<p>Vert.x redis client will attempt to work with the least number of connections to redis as this usually gives better performance for both vert.x and redis.</p>\n<p>When working with simple command and response, for example, <code>SET key value</code> then a pool has benefits as it reuses connections and the whole flow is faster. However, for pub/sub, it is best if you use a dedicated connection (not a pool)</p>\n<pre><code>Redis.createClient(\n  vertx,\n  &quot;redis://localhost:6379&quot;)\n  .connect()\n  .onSuccess(conn -&gt; {\n    // use the connection to subscribe...\n  });\n</code></pre>\n<p>If you wish to use a pool for subscriptions (which doesn't give any advantage in terms of performance) you still can, but need to tweak the defaults to allow more connections than usual. You'll do this with <code>RedisOptions</code> object:</p>\n<pre><code>new RedisOptions()\n    .setConnectionString(&quot;redis://localhost:7006&quot;)\n    // allow at max 128 connections to redis\n    .setMaxPoolSize(128)\n    // allow 512 connection requests to queue waiting\n    // for a connection to be available.\n    .setMaxWaitingHandlers(512))\n</code></pre>\n<p>This means that there will be 128 connections readily available and for commands that go over the connections in use, the client will queue them up to 512 until a connection is available, otherwise starts failing commands. Usually, this prevents your server to overload Redis or run out of memory/sockets.</p>\n"}],"owner":{"account_id":9588915,"reputation":629,"user_id":7120574,"display_name":"0x4b50"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675248660,"creation_date":1675240139,"question_id":75307372,"body_markdown":"I&#39;m implementing an application with Vert.x (and their Redis Client library) that is able to listen to Redis Streams. For that I have `n` instances in my app subscribing to it. [The Vert.x documentation](https://vertx.io/docs/vertx-redis-client/java/#_connection_pooling) states:\r\n\r\n&gt; A common configuration is to set the maximum size of the pool to the number of available CPU cores\r\n\r\nThe pool provides connections to be used for requests to Redis. For instance, the pool size could to 6. If more than 6 instances trying to subscribe, the first 6 have no problems, but all the instances trying to subscribe afterwards can&#39;t because no connections are left.\r\n\r\nIs the &quot;common configuration&quot; are hard limit? Could I also have 10k connections?\r\n\r\nDoes Vert.x provide a way to separate pools for different purposes (for subscriptions and for other stuff)?\r\n\r\nIs there a solution to handle many connections mainly used for stream subscriptions with Vert.x?\r\n\r\nUnfortunately, the Vert.x documentation doesn&#39;t provide much information.","title":"Subscription to Redis Stream Blocks Connections for Other Requests With Vert.x","body":"<p>I'm implementing an application with Vert.x (and their Redis Client library) that is able to listen to Redis Streams. For that I have <code>n</code> instances in my app subscribing to it. <a href=\"https://vertx.io/docs/vertx-redis-client/java/#_connection_pooling\" rel=\"nofollow noreferrer\">The Vert.x documentation</a> states:</p>\n<blockquote>\n<p>A common configuration is to set the maximum size of the pool to the number of available CPU cores</p>\n</blockquote>\n<p>The pool provides connections to be used for requests to Redis. For instance, the pool size could to 6. If more than 6 instances trying to subscribe, the first 6 have no problems, but all the instances trying to subscribe afterwards can't because no connections are left.</p>\n<p>Is the &quot;common configuration&quot; are hard limit? Could I also have 10k connections?</p>\n<p>Does Vert.x provide a way to separate pools for different purposes (for subscriptions and for other stuff)?</p>\n<p>Is there a solution to handle many connections mainly used for stream subscriptions with Vert.x?</p>\n<p>Unfortunately, the Vert.x documentation doesn't provide much information.</p>\n"},{"tags":["java","spring-boot","api","payment-gateway","2checkout"],"owner":{"account_id":13974074,"reputation":98,"user_id":19665752,"display_name":"OrkhanGG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675248492,"creation_date":1675248492,"question_id":75309062,"body_markdown":"I am trying to integrate 2Checkout payment gateway into my Spring Boot application, but I am having difficulty finding up-to-date and comprehensive documentation online. Can anyone provide guidance or share their experience with integrating 2Checkout and Spring Boot? What are the key steps involved and what resources would be helpful?","title":"Integrating 2Checkout Payment Gateway in a Spring Boot Application","body":"<p>I am trying to integrate 2Checkout payment gateway into my Spring Boot application, but I am having difficulty finding up-to-date and comprehensive documentation online. Can anyone provide guidance or share their experience with integrating 2Checkout and Spring Boot? What are the key steps involved and what resources would be helpful?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1521740516,"post_id":49435197,"comment_id":85872187,"body_markdown":"It is *private* and hence you cannot access it directly","body":"It is <i>private</i> and hence you cannot access it directly"},{"owner":{"account_id":6512774,"reputation":7115,"user_id":5039498,"display_name":"Amit Bera"},"score":0,"creation_date":1521740568,"post_id":49435197,"comment_id":85872221,"body_markdown":"What is your set method doing? Is not it setting the value of the field ?","body":"What is your set method doing? Is not it setting the value of the field ?"},{"owner":{"account_id":13203916,"reputation":11,"user_id":9536331,"display_name":"Shubham Kaushik"},"score":0,"creation_date":1521740651,"post_id":49435197,"comment_id":85872277,"body_markdown":"i wann to modify the value through child calss","body":"i wann to modify the value through child calss"},{"owner":{"account_id":13203916,"reputation":11,"user_id":9536331,"display_name":"Shubham Kaushik"},"score":0,"creation_date":1521740690,"post_id":49435197,"comment_id":85872303,"body_markdown":"setter getter methods doing fine in parent class","body":"setter getter methods doing fine in parent class"},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1521740808,"post_id":49435197,"comment_id":85872394,"body_markdown":"Calling `set` *is* modifying the variable, right?","body":"Calling <code>set</code> <i>is</i> modifying the variable, right?"}],"answers":[{"tags":[],"owner":{"account_id":11052106,"reputation":3581,"user_id":8116173,"display_name":"Przemysław Moskal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521741464,"creation_date":1521740886,"answer_id":49435300,"question_id":49435197,"body_markdown":"You don&#39;t have a **direct** access to `private` members of parent class through child class. You can specify **getters** and **setters** with `protected` or `public` access modifier in parent class and change or read value of that `private` member of parent class by calling proper method - getter or setter.\r\n\r\nExample of how you can achieve that:\r\n\r\n    class Parent {\r\n    \tprivate int member;\r\n    \tpublic void setMember(int member) { // setter\r\n    \t\tthis.member = member;\r\n    \t}\r\n    \tpublic int getMember() { // getter\r\n    \t\treturn member;\r\n    \t}\r\n    }\r\n    \r\n    class Child extends Parent {}\r\n    \r\n    public class TestClass {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tChild child = new Child();\r\n    \t\tSystem.out.println(&quot;member = &quot; + child.getMember());\r\n    \t\tchild.setMember(5);\r\n    \t\tSystem.out.println(&quot;member = &quot; + child.getMember());\r\n    \t}\r\n    }\r\n\r\nOutput that you get:\r\n\r\n    member = 0\r\n    member = 5","title":"can we modify private variables in child class","body":"<p>You don't have a <strong>direct</strong> access to <code>private</code> members of parent class through child class. You can specify <strong>getters</strong> and <strong>setters</strong> with <code>protected</code> or <code>public</code> access modifier in parent class and change or read value of that <code>private</code> member of parent class by calling proper method - getter or setter.</p>\n\n<p>Example of how you can achieve that:</p>\n\n<pre><code>class Parent {\n    private int member;\n    public void setMember(int member) { // setter\n        this.member = member;\n    }\n    public int getMember() { // getter\n        return member;\n    }\n}\n\nclass Child extends Parent {}\n\npublic class TestClass {\n\n    public static void main(String[] args) throws IOException {\n        Child child = new Child();\n        System.out.println(\"member = \" + child.getMember());\n        child.setMember(5);\n        System.out.println(\"member = \" + child.getMember());\n    }\n}\n</code></pre>\n\n<p>Output that you get:</p>\n\n<pre><code>member = 0\nmember = 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9127082,"reputation":2952,"user_id":6790326,"display_name":"Dorian Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521743790,"creation_date":1521743790,"answer_id":49436114,"question_id":49435197,"body_markdown":"No, you cannot modify private variables in a super class, unless you are using reflection.\r\n\r\nThe only way to access them would be getter and setter.","title":"can we modify private variables in child class","body":"<p>No, you cannot modify private variables in a super class, unless you are using reflection.</p>\n\n<p>The only way to access them would be getter and setter.</p>\n"},{"tags":[],"owner":{"account_id":13134127,"reputation":21,"user_id":9487766,"display_name":"Mr.Engineer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675247831,"creation_date":1521744245,"answer_id":49436222,"question_id":49435197,"body_markdown":"There is no way to change private from the other class.\r\nYou can change in the same class\r\n```\r\nclass Parent {\r\n\r\nprivate value;\r\n\r\npublic class Method {\r\nSystem.out.println(value++);\r\n}\r\n           \r\n}\r\n```","title":"can we modify private variables in child class","body":"<p>There is no way to change private from the other class.\nYou can change in the same class</p>\n<pre><code>class Parent {\n\nprivate value;\n\npublic class Method {\nSystem.out.println(value++);\n}\n           \n}\n</code></pre>\n"}],"owner":{"account_id":13203916,"reputation":11,"user_id":9536331,"display_name":"Shubham Kaushik"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2576,"favorite_count":0,"down_vote_count":7,"up_vote_count":0,"closed_date":1521745963,"answer_count":3,"score":-7,"last_activity_date":1675247831,"creation_date":1521740473,"question_id":49435197,"body_markdown":"&gt;can we _modify_ a private variable through **child class**. &lt;br/&gt;We can use it by set and get methods but how can we modify them in child class.   ","title":"can we modify private variables in child class","body":"<blockquote>\n  <p>can we <em>modify</em> a private variable through <strong>child class</strong>. <br/>We can use it by set and get methods but how can we modify them in child class.   </p>\n</blockquote>\n"},{"tags":["java","netty"],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1464676343,"creation_date":1464676343,"answer_id":37538391,"question_id":37535482,"body_markdown":"if you have a ByteToMessageDecoder in your pipeline it will continue to read until you put an Object into the out List of the decode method. This is because otherwise the user may never have the chance to call read() by himself.","title":"Netty: Disabling auto-read doesn&#39;t work for `ByteToMessageDecoder`?","body":"<p>if you have a ByteToMessageDecoder in your pipeline it will continue to read until you put an Object into the out List of the decode method. This is because otherwise the user may never have the chance to call read() by himself.</p>\n"},{"tags":[],"owner":{"account_id":4963911,"reputation":736,"user_id":3993966,"display_name":"Scott Mitchell"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1464819667,"creation_date":1464819667,"answer_id":37579723,"question_id":37535482,"body_markdown":"[FlowControlHandler](https://github.com/netty/netty/blob/4.1/handler/src/main/java/io/netty/handler/flow/FlowControlHandler.java) was recently added and may be useful in this context.","title":"Netty: Disabling auto-read doesn&#39;t work for `ByteToMessageDecoder`?","body":"<p><a href=\"https://github.com/netty/netty/blob/4.1/handler/src/main/java/io/netty/handler/flow/FlowControlHandler.java\" rel=\"nofollow\">FlowControlHandler</a> was recently added and may be useful in this context.</p>\n"},{"tags":[],"owner":{"account_id":13565875,"reputation":11,"user_id":9785946,"display_name":"Hccake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675247566,"creation_date":1675247566,"answer_id":75308866,"question_id":37535482,"body_markdown":"Encountered the same problem, solved it by setting `ByteToMessageDecoder#singleDecode` to true.","title":"Netty: Disabling auto-read doesn&#39;t work for `ByteToMessageDecoder`?","body":"<p>Encountered the same problem, solved it by setting <code>ByteToMessageDecoder#singleDecode</code> to true.</p>\n"}],"owner":{"account_id":2192250,"reputation":9770,"user_id":1938929,"accept_rate":88,"display_name":"Jire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1195,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":37538391,"answer_count":3,"score":4,"last_activity_date":1675247566,"creation_date":1464657736,"question_id":37535482,"body_markdown":"I am using 4.1.0.Final from Maven central.\r\n\r\nIn my application, I disable auto-read after a certain point like this:\r\n\r\n`channel.config().setIsAutoRead(false);`\r\n\r\nI do not make any calls to `read`, yet my application still reads. In my pipeline there is only one `ByteToMessageDecoder`, and my (sharable) initializer is my server bootstrap&#39;s child handler.\r\n\r\nWhy is this? Can auto-read not be disabled on-the-fly? Is this a bug?","title":"Netty: Disabling auto-read doesn&#39;t work for `ByteToMessageDecoder`?","body":"<p>I am using 4.1.0.Final from Maven central.</p>\n\n<p>In my application, I disable auto-read after a certain point like this:</p>\n\n<p><code>channel.config().setIsAutoRead(false);</code></p>\n\n<p>I do not make any calls to <code>read</code>, yet my application still reads. In my pipeline there is only one <code>ByteToMessageDecoder</code>, and my (sharable) initializer is my server bootstrap's child handler.</p>\n\n<p>Why is this? Can auto-read not be disabled on-the-fly? Is this a bug?</p>\n"},{"tags":["java","apache-poi","testng-dataprovider"],"owner":{"account_id":11909522,"reputation":1,"user_id":8715180,"display_name":"Swapnil Shinde"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675247501,"creation_date":1675163870,"question_id":75296330,"body_markdown":"**Getting below warnings in Eclipse Console:**\r\n\r\n```\r\n[WARN ] 2023-01-31 16:36:01.122 [main] ZipPackage - Entry _rels/ is not valid, so this part won&#39;t be add to the package.\r\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /_rels/\r\n\r\n[WARN ] 2023-01-31 16:36:01.139 [main] ZipPackage - Entry docProps/ is not valid, so this part won&#39;t be add to the package.\r\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /docProps/\r\n\r\n[WARN ] 2023-01-31 16:36:01.144 [main] ZipPackage - Entry xl/theme/ is not valid, so this part won&#39;t be add to the package.\r\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /xl/theme/\r\n\r\n[WARN ] 2023-01-31 16:36:01.149 [main] ZipPackage - Entry xl/worksheets/ is not valid, so this part won&#39;t be add to the package.\r\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /xl/worksheets/\r\n\r\n[WARN ] 2023-01-31 16:36:01.163 [main] ZipPackage - Entry xl/ is not valid, so this part won&#39;t be add to the package.\r\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /xl/\r\n\r\n[WARN ] 2023-01-31 16:36:01.178 [main] ZipPackage - Entry xl/_rels/ is not valid, so this part won&#39;t be add to the package.\r\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /xl/_rels/\r\n```\r\n\r\n**Below is my code :**\r\n\r\n```java\r\n    public class DataProviderWithMap {\r\n\r\n\tpublic static String testDataExcelPath = null; // Location of Test data excel file\r\n\tpublic static final String currentDir = System.getProperty(&quot;user.dir&quot;); // Main Directory of the project\r\n\tpublic static final String testDataExcelFileName = &quot;data1.xlsx&quot;; // Global test data excel file\r\n\r\n\t@DataProvider(name = &quot;excel-data&quot;)\r\n\tpublic Object[] excelDP() throws IOException {\r\n\r\n\t\t// We are creating an object from the excel sheet data by calling a method that\r\n\t\t// reads data from the excel stored locally in our system\r\n\r\n\t\ttestDataExcelPath = currentDir + &quot;\\\\Test_Data\\\\&quot;;\r\n\t\tObject[] arrObj = getDataWithTable(testDataExcelPath + testDataExcelFileName, &quot;ISL_Dealer&quot;);\r\n\t\treturn arrObj;\r\n\r\n\t}\r\n\t\r\n\r\n\t// This method handles the excel - opens it and reads the data from the\r\n\t// respective cells using a for-loop &amp; returns it in the form of a string array\r\n\r\n\t@DataProvider(parallel = true)\r\n\tpublic Object[] getDataWithTable(String fileName, String sheetName) throws IOException {\r\n\r\n\t\tFileInputStream fs = new FileInputStream(fileName);\r\n\t\t//try (XSSFWorkbook wb = new XSSFWorkbook(fs)) \r\n\t\ttry (org.apache.poi.ss.usermodel.Workbook wb = WorkbookFactory.create(fs)) \r\n\t\t{\r\n\t\t\t\r\n\t\t\t//XSSFSheet sheet = wb.getSheet(sheetName);\r\n\t\t\torg.apache.poi.ss.usermodel.Sheet sheet = wb.getSheetAt(0);\r\n\t\t\t\r\n\t\t\t//System.out.println(sheet.getLastRowNum());\r\n\t\t\t//System.out.println(sheet.getRow(0).getLastCellNum());\r\n\r\n\t\t\tObject[] data = new Object[sheet.getLastRowNum()];\r\n\r\n\t\t\tMap&lt;String, String&gt; table;\r\n\r\n\t\t\tfor (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\r\n\t\t\t\ttable = new HashMap&lt;&gt;();\r\n\t\t\t\tfor (int j = 0; j &lt; sheet.getRow(0).getLastCellNum(); j++) \r\n\t\t\t\t{\r\n\t\t\t\t\tDataFormatter formatter = new DataFormatter();\r\n\t\t\t\t\tString key = formatter.formatCellValue(sheet.getRow(0).getCell(j));\r\n\t\t\t\t\tString value = formatter.formatCellValue(sheet.getRow(i).getCell(j));\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t//String key = sheet.getRow(0).getCell(j).getStringCellValue();\r\n\t\t\t\t\t//String value = sheet.getRow(i).getCell(j).getStringCellValue();\r\n\t\t\t\t\ttable.put(key, value);\r\n\t\t\t\t\tdata[i - 1] = table;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn data;\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Getting warning in org.apache.poi.openxml4j.exceptions.InvalidFormatException while using Apache POI in my Java Selenium TestNG framework","body":"<p><strong>Getting below warnings in Eclipse Console:</strong></p>\n<pre><code>[WARN ] 2023-01-31 16:36:01.122 [main] ZipPackage - Entry _rels/ is not valid, so this part won't be add to the package.\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /_rels/\n\n[WARN ] 2023-01-31 16:36:01.139 [main] ZipPackage - Entry docProps/ is not valid, so this part won't be add to the package.\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /docProps/\n\n[WARN ] 2023-01-31 16:36:01.144 [main] ZipPackage - Entry xl/theme/ is not valid, so this part won't be add to the package.\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /xl/theme/\n\n[WARN ] 2023-01-31 16:36:01.149 [main] ZipPackage - Entry xl/worksheets/ is not valid, so this part won't be add to the package.\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /xl/worksheets/\n\n[WARN ] 2023-01-31 16:36:01.163 [main] ZipPackage - Entry xl/ is not valid, so this part won't be add to the package.\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /xl/\n\n[WARN ] 2023-01-31 16:36:01.178 [main] ZipPackage - Entry xl/_rels/ is not valid, so this part won't be add to the package.\norg.apache.poi.openxml4j.exceptions.InvalidFormatException: A part name shall not have a forward slash as the last character [M1.5]: /xl/_rels/\n</code></pre>\n<p><strong>Below is my code :</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class DataProviderWithMap {\n\n    public static String testDataExcelPath = null; // Location of Test data excel file\n    public static final String currentDir = System.getProperty(&quot;user.dir&quot;); // Main Directory of the project\n    public static final String testDataExcelFileName = &quot;data1.xlsx&quot;; // Global test data excel file\n\n    @DataProvider(name = &quot;excel-data&quot;)\n    public Object[] excelDP() throws IOException {\n\n        // We are creating an object from the excel sheet data by calling a method that\n        // reads data from the excel stored locally in our system\n\n        testDataExcelPath = currentDir + &quot;\\\\Test_Data\\\\&quot;;\n        Object[] arrObj = getDataWithTable(testDataExcelPath + testDataExcelFileName, &quot;ISL_Dealer&quot;);\n        return arrObj;\n\n    }\n    \n\n    // This method handles the excel - opens it and reads the data from the\n    // respective cells using a for-loop &amp; returns it in the form of a string array\n\n    @DataProvider(parallel = true)\n    public Object[] getDataWithTable(String fileName, String sheetName) throws IOException {\n\n        FileInputStream fs = new FileInputStream(fileName);\n        //try (XSSFWorkbook wb = new XSSFWorkbook(fs)) \n        try (org.apache.poi.ss.usermodel.Workbook wb = WorkbookFactory.create(fs)) \n        {\n            \n            //XSSFSheet sheet = wb.getSheet(sheetName);\n            org.apache.poi.ss.usermodel.Sheet sheet = wb.getSheetAt(0);\n            \n            //System.out.println(sheet.getLastRowNum());\n            //System.out.println(sheet.getRow(0).getLastCellNum());\n\n            Object[] data = new Object[sheet.getLastRowNum()];\n\n            Map&lt;String, String&gt; table;\n\n            for (int i = 1; i &lt;= sheet.getLastRowNum(); i++) {\n                table = new HashMap&lt;&gt;();\n                for (int j = 0; j &lt; sheet.getRow(0).getLastCellNum(); j++) \n                {\n                    DataFormatter formatter = new DataFormatter();\n                    String key = formatter.formatCellValue(sheet.getRow(0).getCell(j));\n                    String value = formatter.formatCellValue(sheet.getRow(i).getCell(j));\n                    \n                    \n                    //String key = sheet.getRow(0).getCell(j).getStringCellValue();\n                    //String value = sheet.getRow(i).getCell(j).getStringCellValue();\n                    table.put(key, value);\n                    data[i - 1] = table;\n                }\n            }\n            \n            return data;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","xml","native","inflate-exception"],"owner":{"account_id":21038537,"reputation":1,"user_id":15461436,"display_name":"Tharindu Athapaththu Hewage"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675247301,"creation_date":1675247301,"question_id":75308814,"body_markdown":"This issue is occuring randomly and I am an intermediate in developing native android applications. This issue ossurs 1% of user engagements within the app. Randomly I can view crash reports of this in firebase crashlytics as follows\r\n\r\n**Fatal Exception: java.lang.RuntimeException\r\nUnable to start activity ComponentInfo{my.artic.lotcalculatorglobal/my.artic.lotcalculatorglobal.MainActivity}: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class android.widget.RelativeLayou**t\r\n\r\n*This is my XML code*\r\n\r\n```\r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/alt_background&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/titleBar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;25dp&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginEnd=&quot;20dp&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:weightSum=&quot;2&quot;&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/textView&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:text=&quot;@string/app_name&quot;\r\n                    android:textColor=&quot;@color/white&quot;\r\n                    android:textSize=&quot;20sp&quot;\r\n                    android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n            &lt;RelativeLayout\r\n                android:id=&quot;@+id/dropMenu&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:gravity=&quot;end&quot;&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;30dp&quot;\r\n                    android:layout_height=&quot;30dp&quot;\r\n                    android:layout_marginStart=&quot;20dp&quot;\r\n                    android:background=&quot;@drawable/menu&quot;\r\n                    android:onClick=&quot;showPopup&quot; /&gt;\r\n\r\n            &lt;/RelativeLayout&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;RelativeLayout\r\n        android:id=&quot;@+id/calculatorLayout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_below=&quot;@+id/titleBar&quot;\r\n        android:layout_marginStart=&quot;15dp&quot;\r\n        android:layout_marginEnd=&quot;15dp&quot;\r\n        android:layout_marginBottom=&quot;80dp&quot;&gt;\r\n\r\n        &lt;androidx.core.widget.NestedScrollView\r\n            android:id=&quot;@+id/calScroll&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_above=&quot;@+id/buttonlayout&quot;\r\n            android:layout_alignParentTop=&quot;true&quot;\r\n            android:layout_marginTop=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:background=&quot;@drawable/layout_background&quot;\r\n            android:isScrollContainer=&quot;true&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:id=&quot;@+id/fund_layout&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;10dp&quot;\r\n                        android:layout_marginBottom=&quot;5dp&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;start&quot;\r\n                            android:layout_marginStart=&quot;10dp&quot;\r\n                            android:text=&quot;@string/fund&quot;\r\n                            android:textColor=&quot;@color/white&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/fund&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;50dp&quot;\r\n                            android:layout_marginTop=&quot;5dp&quot;\r\n                            android:background=&quot;@drawable/bg_edit_text&quot;\r\n                            android:hint=&quot;@string/input_the_fund_value&quot;\r\n                            android:inputType=&quot;numberDecimal&quot; /&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:id=&quot;@+id/crypto_info_layout&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;5dp&quot;\r\n                        android:layout_marginBottom=&quot;5dp&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;start&quot;\r\n                            android:layout_marginStart=&quot;10dp&quot;\r\n                            android:text=&quot;@string/choose_crypto&quot;\r\n                            android:textColor=&quot;@color/white&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;50dp&quot;\r\n                            android:layout_marginTop=&quot;5dp&quot;\r\n                            android:orientation=&quot;horizontal&quot;\r\n                            android:weightSum=&quot;2&quot;&gt;\r\n\r\n                            &lt;RelativeLayout\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;match_parent&quot;\r\n                                android:layout_weight=&quot;1&quot;&gt;\r\n\r\n                                &lt;RelativeLayout\r\n                                    android:layout_width=&quot;match_parent&quot;\r\n                                    android:layout_height=&quot;match_parent&quot;\r\n                                    android:layout_marginEnd=&quot;5dp&quot;\r\n                                    android:background=&quot;@drawable/bg_edit_text&quot;&gt;\r\n\r\n                                    &lt;Spinner\r\n                                        android:id=&quot;@+id/tab&quot;\r\n                                        android:layout_width=&quot;match_parent&quot;\r\n                                        android:layout_height=&quot;match_parent&quot;\r\n                                        android:layout_marginEnd=&quot;10dp&quot;\r\n                                        android:backgroundTint=&quot;@color/white&quot;\r\n                                        android:gravity=&quot;center&quot;\r\n                                        android:nestedScrollingEnabled=&quot;true&quot;\r\n                                        android:spinnerMode=&quot;dropdown&quot; /&gt;\r\n                                &lt;/RelativeLayout&gt;\r\n\r\n                            &lt;/RelativeLayout&gt;\r\n\r\n                            &lt;RelativeLayout\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;match_parent&quot;\r\n                                android:layout_weight=&quot;1&quot;&gt;\r\n\r\n                                &lt;RelativeLayout\r\n                                    android:layout_width=&quot;match_parent&quot;\r\n                                    android:layout_height=&quot;match_parent&quot;\r\n                                    android:layout_marginStart=&quot;5dp&quot;\r\n                                    android:background=&quot;@drawable/bg_edit_text&quot; /&gt;\r\n\r\n                                &lt;Spinner\r\n                                    android:id=&quot;@+id/currencyType&quot;\r\n                                    android:layout_width=&quot;match_parent&quot;\r\n                                    android:layout_height=&quot;match_parent&quot;\r\n                                    android:layout_marginStart=&quot;10dp&quot;\r\n                                    android:backgroundTint=&quot;@color/white&quot;\r\n                                    android:gravity=&quot;center&quot;\r\n                                    android:nestedScrollingEnabled=&quot;true&quot;\r\n                                    android:spinnerMode=&quot;dropdown&quot;/&gt;\r\n\r\n                            &lt;/RelativeLayout&gt;\r\n\r\n                        &lt;/LinearLayout&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;5dp&quot;\r\n                        android:layout_marginBottom=&quot;5dp&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;start&quot;\r\n                            android:layout_marginStart=&quot;10dp&quot;\r\n                            android:text=&quot;@string/service_charge&quot;\r\n                            android:textColor=&quot;@color/white&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/s_charge&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;50dp&quot;\r\n                            android:layout_marginTop=&quot;5dp&quot;\r\n                            android:background=&quot;@drawable/bg_edit_text&quot;\r\n                            android:hint=&quot;@string/input_the_service_charge_value&quot;\r\n                            android:inputType=&quot;numberDecimal&quot; /&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;5dp&quot;\r\n                        android:layout_marginBottom=&quot;5dp&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;start&quot;\r\n                            android:layout_marginStart=&quot;10dp&quot; /&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/lockUpDeposit&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;50dp&quot;\r\n                            android:layout_marginTop=&quot;5dp&quot;\r\n                            android:background=&quot;@drawable/bg_edit_text&quot;\r\n                            android:hint=&quot;@string/input_the_currency_value&quot;\r\n                            android:inputType=&quot;numberDecimal&quot;\r\n                            android:paddingStart=&quot;20dp&quot; /&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_marginStart=&quot;10dp&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;5dp&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;start&quot;\r\n                            android:text=&quot;@string/range&quot;\r\n                            android:textColor=&quot;@color/white&quot;\r\n                            android:textStyle=&quot;bold&quot; /&gt;\r\n\r\n                        &lt;EditText\r\n                            android:id=&quot;@+id/range&quot;\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;50dp&quot;\r\n                            android:layout_marginTop=&quot;5dp&quot;\r\n                            android:background=&quot;@drawable/bg_edit_text&quot;\r\n                            android:hint=&quot;@string/input_the_range_value&quot;\r\n                            android:inputType=&quot;numberDecimal&quot;\r\n                            android:paddingStart=&quot;10dp&quot;\r\n                            android:textColorHint=&quot;@color/light_green&quot;\r\n                            android:visibility=&quot;gone&quot; /&gt;\r\n\r\n                        &lt;RelativeLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:gravity=&quot;center&quot;&gt;\r\n\r\n                            &lt;LinearLayout\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_alignParentStart=&quot;true&quot;\r\n                                android:layout_centerInParent=&quot;true&quot;\r\n                                android:layout_centerVertical=&quot;true&quot;\r\n                                android:layout_marginTop=&quot;5dp&quot;\r\n                                android:layout_toStartOf=&quot;@+id/seek_value&quot;\r\n                                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                                &lt;SeekBar\r\n                                    android:id=&quot;@+id/seekBar&quot;\r\n                                    android:layout_width=&quot;match_parent&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_marginStart=&quot;-15dp&quot;\r\n                                    android:max=&quot;15&quot;\r\n                                    android:min=&quot;5&quot;\r\n                                    android:progress=&quot;15&quot; /&gt;\r\n\r\n                                &lt;LinearLayout\r\n                                    android:layout_width=&quot;match_parent&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_marginEnd=&quot;15dp&quot;\r\n                                    android:weightSum=&quot;2&quot;&gt;\r\n\r\n                                    &lt;TextView\r\n                                        android:layout_width=&quot;wrap_content&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        android:layout_weight=&quot;1&quot;\r\n                                        android:gravity=&quot;start&quot;\r\n                                        android:text=&quot;0.5&quot; /&gt;\r\n\r\n                                    &lt;TextView\r\n                                        android:layout_width=&quot;wrap_content&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        android:layout_weight=&quot;1&quot;\r\n                                        android:gravity=&quot;end&quot;\r\n                                        android:text=&quot;1.5&quot;/&gt;\r\n\r\n                                &lt;/LinearLayout&gt;\r\n\r\n                            &lt;/LinearLayout&gt;\r\n\r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/seek_value&quot;\r\n                                android:layout_width=&quot;45dp&quot;\r\n                                android:layout_height=&quot;30dp&quot;\r\n                                android:layout_alignParentEnd=&quot;true&quot;\r\n                                android:layout_centerInParent=&quot;true&quot;\r\n                                android:background=&quot;@drawable/bg_edit_text&quot;\r\n                                android:gravity=&quot;center&quot;\r\n                                android:text=&quot;1.5&quot; /&gt;\r\n\r\n                        &lt;/RelativeLayout&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;25dp&quot;\r\n                        android:layout_marginBottom=&quot;5dp&quot;\r\n                        android:weightSum=&quot;2&quot;&gt;\r\n\r\n                        &lt;RelativeLayout\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:gravity=&quot;center&quot;&gt;\r\n\r\n                            &lt;LinearLayout\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                                &lt;TextView\r\n                                    android:layout_width=&quot;wrap_content&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_gravity=&quot;start&quot;\r\n                                    android:layout_marginStart=&quot;10dp&quot;\r\n                                    android:text=&quot;@string/lot&quot; /&gt;\r\n\r\n                                &lt;LinearLayout\r\n                                    android:layout_width=&quot;wrap_content&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_gravity=&quot;center&quot;\r\n                                    android:layout_marginTop=&quot;5dp&quot;\r\n                                    android:animateLayoutChanges=&quot;true&quot;\r\n                                    android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                                    &lt;TextView\r\n                                        android:id=&quot;@+id/lot&quot;\r\n                                        android:layout_width=&quot;wrap_content&quot;\r\n                                        android:layout_height=&quot;wrap_content&quot;\r\n                                        android:background=&quot;@drawable/bg_white&quot;\r\n                                        android:padding=&quot;10dp&quot;\r\n                                        android:text=&quot;0.0&quot; /&gt;\r\n\r\n                                    &lt;RelativeLayout\r\n                                        android:id=&quot;@+id/copy&quot;\r\n                                        android:layout_width=&quot;30dp&quot;\r\n                                        android:layout_height=&quot;30dp&quot;\r\n                                        android:layout_gravity=&quot;center_vertical&quot;\r\n                                        android:layout_marginStart=&quot;5dp&quot;\r\n                                        android:background=&quot;@drawable/icon_copy&quot;\r\n                                        android:onClick=&quot;onClick&quot;\r\n                                        tools:ignore=&quot;SpeakableTextPresentCheck,TouchTargetSizeCheck&quot; /&gt;\r\n\r\n                                &lt;/LinearLayout&gt;\r\n\r\n                            &lt;/LinearLayout&gt;\r\n\r\n                        &lt;/RelativeLayout&gt;\r\n\r\n                        &lt;RelativeLayout\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_weight=&quot;1&quot;\r\n                            android:gravity=&quot;center&quot;&gt;\r\n\r\n                            &lt;LinearLayout\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:animateLayoutChanges=&quot;true&quot;\r\n                                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                                &lt;TextView\r\n                                    android:layout_width=&quot;wrap_content&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_gravity=&quot;center&quot;\r\n                                    android:text=&quot;@string/s_charge&quot; /&gt;\r\n\r\n                                &lt;TextView\r\n                                    android:id=&quot;@+id/charge&quot;\r\n                                    android:layout_width=&quot;wrap_content&quot;\r\n                                    android:layout_height=&quot;wrap_content&quot;\r\n                                    android:layout_gravity=&quot;center&quot;\r\n                                    android:animateLayoutChanges=&quot;true&quot;\r\n                                    android:background=&quot;@drawable/bg_white&quot;\r\n                                    android:text=&quot;0.0&quot; /&gt;\r\n\r\n                            &lt;/LinearLayout&gt;\r\n\r\n                        &lt;/RelativeLayout&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n                &lt;RelativeLayout\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n                    &lt;LinearLayout\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:layout_marginTop=&quot;15dp&quot;\r\n                        android:layout_marginBottom=&quot;5dp&quot;\r\n                        android:animateLayoutChanges=&quot;true&quot;\r\n                        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                        &lt;TextView\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center&quot;\r\n                            android:text=&quot;@string/profit_range&quot;/&gt;\r\n\r\n                        &lt;TextView\r\n                            android:id=&quot;@+id/profit_range&quot;\r\n                            android:layout_width=&quot;wrap_content&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_gravity=&quot;center&quot;\r\n                            android:layout_marginTop=&quot;5dp&quot;\r\n                            android:background=&quot;@drawable/bg_white&quot;\r\n                            android:padding=&quot;10dp&quot;\r\n                            android:text=&quot;0.0&quot; /&gt;\r\n\r\n                        &lt;LinearLayout\r\n                            android:layout_width=&quot;match_parent&quot;\r\n                            android:layout_height=&quot;wrap_content&quot;\r\n                            android:layout_marginTop=&quot;5dp&quot;\r\n                            android:gravity=&quot;center&quot;\r\n                            android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                            &lt;TextView\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_gravity=&quot;center&quot;\r\n                                android:text=&quot;@string/gross_profit&quot; /&gt;\r\n\r\n                            &lt;TextView\r\n                                android:id=&quot;@+id/gross_profit&quot;\r\n                                android:layout_width=&quot;wrap_content&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:layout_gravity=&quot;center&quot;\r\n                                android:text=&quot; 0.0&quot; /&gt;\r\n\r\n                        &lt;/LinearLayout&gt;\r\n\r\n                    &lt;/LinearLayout&gt;\r\n\r\n                &lt;/RelativeLayout&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/androidx.core.widget.NestedScrollView&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:id=&quot;@+id/buttonlayout&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:animateLayoutChanges=&quot;true&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatButton\r\n                    android:id=&quot;@+id/calculate&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:background=&quot;@drawable/bg_button_main&quot;\r\n                    android:onClick=&quot;onClick&quot; /&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatButton\r\n                    android:id=&quot;@+id/clear&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:background=&quot;@drawable/bg_button_main&quot;\r\n                    android:onClick=&quot;onClick&quot; /&gt;\r\n\r\n                &lt;androidx.appcompat.widget.AppCompatButton\r\n                    android:id=&quot;@+id/clearAll&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;50dp&quot;\r\n                    android:layout_gravity=&quot;center&quot;\r\n                    android:background=&quot;@drawable/bg_button_main&quot;\r\n                    android:onClick=&quot;onClick&quot; /&gt;\r\n\r\n            &lt;/LinearLayout&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n\r\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/adView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n&lt;/RelativeLayout&gt;`\r\n```","title":"Caused by android.view.InflateException Binary XML file line #9: Binary XML file line #9: Error inflating class android.widget.RelativeLayout","body":"<p>This issue is occuring randomly and I am an intermediate in developing native android applications. This issue ossurs 1% of user engagements within the app. Randomly I can view crash reports of this in firebase crashlytics as follows</p>\n<p><strong>Fatal Exception: java.lang.RuntimeException\nUnable to start activity ComponentInfo{my.artic.lotcalculatorglobal/my.artic.lotcalculatorglobal.MainActivity}: android.view.InflateException: Binary XML file line #9: Binary XML file line #9: Error inflating class android.widget.RelativeLayou</strong>t</p>\n<p><em>This is my XML code</em></p>\n<pre><code>`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/alt_background&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/titleBar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;25dp&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:layout_marginEnd=&quot;20dp&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;horizontal&quot;\n            android:weightSum=&quot;2&quot;&gt;\n\n            &lt;RelativeLayout\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;&gt;\n\n                &lt;TextView\n                    android:id=&quot;@+id/textView&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:text=&quot;@string/app_name&quot;\n                    android:textColor=&quot;@color/white&quot;\n                    android:textSize=&quot;20sp&quot;\n                    android:textStyle=&quot;bold&quot; /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;RelativeLayout\n                android:id=&quot;@+id/dropMenu&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:gravity=&quot;end&quot;&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;30dp&quot;\n                    android:layout_height=&quot;30dp&quot;\n                    android:layout_marginStart=&quot;20dp&quot;\n                    android:background=&quot;@drawable/menu&quot;\n                    android:onClick=&quot;showPopup&quot; /&gt;\n\n            &lt;/RelativeLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;RelativeLayout\n        android:id=&quot;@+id/calculatorLayout&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/titleBar&quot;\n        android:layout_marginStart=&quot;15dp&quot;\n        android:layout_marginEnd=&quot;15dp&quot;\n        android:layout_marginBottom=&quot;80dp&quot;&gt;\n\n        &lt;androidx.core.widget.NestedScrollView\n            android:id=&quot;@+id/calScroll&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_above=&quot;@+id/buttonlayout&quot;\n            android:layout_alignParentTop=&quot;true&quot;\n            android:layout_marginTop=&quot;10dp&quot;\n            android:layout_marginBottom=&quot;10dp&quot;\n            android:background=&quot;@drawable/layout_background&quot;\n            android:isScrollContainer=&quot;true&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:id=&quot;@+id/fund_layout&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;10dp&quot;\n                        android:layout_marginBottom=&quot;5dp&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;start&quot;\n                            android:layout_marginStart=&quot;10dp&quot;\n                            android:text=&quot;@string/fund&quot;\n                            android:textColor=&quot;@color/white&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n\n                        &lt;EditText\n                            android:id=&quot;@+id/fund&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;50dp&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:background=&quot;@drawable/bg_edit_text&quot;\n                            android:hint=&quot;@string/input_the_fund_value&quot;\n                            android:inputType=&quot;numberDecimal&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/RelativeLayout&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:id=&quot;@+id/crypto_info_layout&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;5dp&quot;\n                        android:layout_marginBottom=&quot;5dp&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;start&quot;\n                            android:layout_marginStart=&quot;10dp&quot;\n                            android:text=&quot;@string/choose_crypto&quot;\n                            android:textColor=&quot;@color/white&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n\n                        &lt;LinearLayout\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;50dp&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:orientation=&quot;horizontal&quot;\n                            android:weightSum=&quot;2&quot;&gt;\n\n                            &lt;RelativeLayout\n                                android:layout_width=&quot;match_parent&quot;\n                                android:layout_height=&quot;match_parent&quot;\n                                android:layout_weight=&quot;1&quot;&gt;\n\n                                &lt;RelativeLayout\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;match_parent&quot;\n                                    android:layout_marginEnd=&quot;5dp&quot;\n                                    android:background=&quot;@drawable/bg_edit_text&quot;&gt;\n\n                                    &lt;Spinner\n                                        android:id=&quot;@+id/tab&quot;\n                                        android:layout_width=&quot;match_parent&quot;\n                                        android:layout_height=&quot;match_parent&quot;\n                                        android:layout_marginEnd=&quot;10dp&quot;\n                                        android:backgroundTint=&quot;@color/white&quot;\n                                        android:gravity=&quot;center&quot;\n                                        android:nestedScrollingEnabled=&quot;true&quot;\n                                        android:spinnerMode=&quot;dropdown&quot; /&gt;\n                                &lt;/RelativeLayout&gt;\n\n                            &lt;/RelativeLayout&gt;\n\n                            &lt;RelativeLayout\n                                android:layout_width=&quot;match_parent&quot;\n                                android:layout_height=&quot;match_parent&quot;\n                                android:layout_weight=&quot;1&quot;&gt;\n\n                                &lt;RelativeLayout\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;match_parent&quot;\n                                    android:layout_marginStart=&quot;5dp&quot;\n                                    android:background=&quot;@drawable/bg_edit_text&quot; /&gt;\n\n                                &lt;Spinner\n                                    android:id=&quot;@+id/currencyType&quot;\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;match_parent&quot;\n                                    android:layout_marginStart=&quot;10dp&quot;\n                                    android:backgroundTint=&quot;@color/white&quot;\n                                    android:gravity=&quot;center&quot;\n                                    android:nestedScrollingEnabled=&quot;true&quot;\n                                    android:spinnerMode=&quot;dropdown&quot;/&gt;\n\n                            &lt;/RelativeLayout&gt;\n\n                        &lt;/LinearLayout&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/RelativeLayout&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;5dp&quot;\n                        android:layout_marginBottom=&quot;5dp&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;start&quot;\n                            android:layout_marginStart=&quot;10dp&quot;\n                            android:text=&quot;@string/service_charge&quot;\n                            android:textColor=&quot;@color/white&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n\n                        &lt;EditText\n                            android:id=&quot;@+id/s_charge&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;50dp&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:background=&quot;@drawable/bg_edit_text&quot;\n                            android:hint=&quot;@string/input_the_service_charge_value&quot;\n                            android:inputType=&quot;numberDecimal&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/RelativeLayout&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;5dp&quot;\n                        android:layout_marginBottom=&quot;5dp&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;start&quot;\n                            android:layout_marginStart=&quot;10dp&quot; /&gt;\n\n                        &lt;EditText\n                            android:id=&quot;@+id/lockUpDeposit&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;50dp&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:background=&quot;@drawable/bg_edit_text&quot;\n                            android:hint=&quot;@string/input_the_currency_value&quot;\n                            android:inputType=&quot;numberDecimal&quot;\n                            android:paddingStart=&quot;20dp&quot; /&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/RelativeLayout&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:layout_marginStart=&quot;10dp&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;5dp&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;start&quot;\n                            android:text=&quot;@string/range&quot;\n                            android:textColor=&quot;@color/white&quot;\n                            android:textStyle=&quot;bold&quot; /&gt;\n\n                        &lt;EditText\n                            android:id=&quot;@+id/range&quot;\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;50dp&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:background=&quot;@drawable/bg_edit_text&quot;\n                            android:hint=&quot;@string/input_the_range_value&quot;\n                            android:inputType=&quot;numberDecimal&quot;\n                            android:paddingStart=&quot;10dp&quot;\n                            android:textColorHint=&quot;@color/light_green&quot;\n                            android:visibility=&quot;gone&quot; /&gt;\n\n                        &lt;RelativeLayout\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:gravity=&quot;center&quot;&gt;\n\n                            &lt;LinearLayout\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_alignParentStart=&quot;true&quot;\n                                android:layout_centerInParent=&quot;true&quot;\n                                android:layout_centerVertical=&quot;true&quot;\n                                android:layout_marginTop=&quot;5dp&quot;\n                                android:layout_toStartOf=&quot;@+id/seek_value&quot;\n                                android:orientation=&quot;vertical&quot;&gt;\n\n                                &lt;SeekBar\n                                    android:id=&quot;@+id/seekBar&quot;\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:layout_marginStart=&quot;-15dp&quot;\n                                    android:max=&quot;15&quot;\n                                    android:min=&quot;5&quot;\n                                    android:progress=&quot;15&quot; /&gt;\n\n                                &lt;LinearLayout\n                                    android:layout_width=&quot;match_parent&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:layout_marginEnd=&quot;15dp&quot;\n                                    android:weightSum=&quot;2&quot;&gt;\n\n                                    &lt;TextView\n                                        android:layout_width=&quot;wrap_content&quot;\n                                        android:layout_height=&quot;wrap_content&quot;\n                                        android:layout_weight=&quot;1&quot;\n                                        android:gravity=&quot;start&quot;\n                                        android:text=&quot;0.5&quot; /&gt;\n\n                                    &lt;TextView\n                                        android:layout_width=&quot;wrap_content&quot;\n                                        android:layout_height=&quot;wrap_content&quot;\n                                        android:layout_weight=&quot;1&quot;\n                                        android:gravity=&quot;end&quot;\n                                        android:text=&quot;1.5&quot;/&gt;\n\n                                &lt;/LinearLayout&gt;\n\n                            &lt;/LinearLayout&gt;\n\n                            &lt;TextView\n                                android:id=&quot;@+id/seek_value&quot;\n                                android:layout_width=&quot;45dp&quot;\n                                android:layout_height=&quot;30dp&quot;\n                                android:layout_alignParentEnd=&quot;true&quot;\n                                android:layout_centerInParent=&quot;true&quot;\n                                android:background=&quot;@drawable/bg_edit_text&quot;\n                                android:gravity=&quot;center&quot;\n                                android:text=&quot;1.5&quot; /&gt;\n\n                        &lt;/RelativeLayout&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/RelativeLayout&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;25dp&quot;\n                        android:layout_marginBottom=&quot;5dp&quot;\n                        android:weightSum=&quot;2&quot;&gt;\n\n                        &lt;RelativeLayout\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_weight=&quot;1&quot;\n                            android:gravity=&quot;center&quot;&gt;\n\n                            &lt;LinearLayout\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:orientation=&quot;vertical&quot;&gt;\n\n                                &lt;TextView\n                                    android:layout_width=&quot;wrap_content&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:layout_gravity=&quot;start&quot;\n                                    android:layout_marginStart=&quot;10dp&quot;\n                                    android:text=&quot;@string/lot&quot; /&gt;\n\n                                &lt;LinearLayout\n                                    android:layout_width=&quot;wrap_content&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:layout_gravity=&quot;center&quot;\n                                    android:layout_marginTop=&quot;5dp&quot;\n                                    android:animateLayoutChanges=&quot;true&quot;\n                                    android:orientation=&quot;horizontal&quot;&gt;\n\n                                    &lt;TextView\n                                        android:id=&quot;@+id/lot&quot;\n                                        android:layout_width=&quot;wrap_content&quot;\n                                        android:layout_height=&quot;wrap_content&quot;\n                                        android:background=&quot;@drawable/bg_white&quot;\n                                        android:padding=&quot;10dp&quot;\n                                        android:text=&quot;0.0&quot; /&gt;\n\n                                    &lt;RelativeLayout\n                                        android:id=&quot;@+id/copy&quot;\n                                        android:layout_width=&quot;30dp&quot;\n                                        android:layout_height=&quot;30dp&quot;\n                                        android:layout_gravity=&quot;center_vertical&quot;\n                                        android:layout_marginStart=&quot;5dp&quot;\n                                        android:background=&quot;@drawable/icon_copy&quot;\n                                        android:onClick=&quot;onClick&quot;\n                                        tools:ignore=&quot;SpeakableTextPresentCheck,TouchTargetSizeCheck&quot; /&gt;\n\n                                &lt;/LinearLayout&gt;\n\n                            &lt;/LinearLayout&gt;\n\n                        &lt;/RelativeLayout&gt;\n\n                        &lt;RelativeLayout\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_weight=&quot;1&quot;\n                            android:gravity=&quot;center&quot;&gt;\n\n                            &lt;LinearLayout\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:animateLayoutChanges=&quot;true&quot;\n                                android:orientation=&quot;vertical&quot;&gt;\n\n                                &lt;TextView\n                                    android:layout_width=&quot;wrap_content&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:layout_gravity=&quot;center&quot;\n                                    android:text=&quot;@string/s_charge&quot; /&gt;\n\n                                &lt;TextView\n                                    android:id=&quot;@+id/charge&quot;\n                                    android:layout_width=&quot;wrap_content&quot;\n                                    android:layout_height=&quot;wrap_content&quot;\n                                    android:layout_gravity=&quot;center&quot;\n                                    android:animateLayoutChanges=&quot;true&quot;\n                                    android:background=&quot;@drawable/bg_white&quot;\n                                    android:text=&quot;0.0&quot; /&gt;\n\n                            &lt;/LinearLayout&gt;\n\n                        &lt;/RelativeLayout&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/RelativeLayout&gt;\n\n                &lt;RelativeLayout\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;wrap_content&quot;&gt;\n\n                    &lt;LinearLayout\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:layout_marginTop=&quot;15dp&quot;\n                        android:layout_marginBottom=&quot;5dp&quot;\n                        android:animateLayoutChanges=&quot;true&quot;\n                        android:orientation=&quot;vertical&quot;&gt;\n\n                        &lt;TextView\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center&quot;\n                            android:text=&quot;@string/profit_range&quot;/&gt;\n\n                        &lt;TextView\n                            android:id=&quot;@+id/profit_range&quot;\n                            android:layout_width=&quot;wrap_content&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_gravity=&quot;center&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:background=&quot;@drawable/bg_white&quot;\n                            android:padding=&quot;10dp&quot;\n                            android:text=&quot;0.0&quot; /&gt;\n\n                        &lt;LinearLayout\n                            android:layout_width=&quot;match_parent&quot;\n                            android:layout_height=&quot;wrap_content&quot;\n                            android:layout_marginTop=&quot;5dp&quot;\n                            android:gravity=&quot;center&quot;\n                            android:orientation=&quot;horizontal&quot;&gt;\n\n                            &lt;TextView\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_gravity=&quot;center&quot;\n                                android:text=&quot;@string/gross_profit&quot; /&gt;\n\n                            &lt;TextView\n                                android:id=&quot;@+id/gross_profit&quot;\n                                android:layout_width=&quot;wrap_content&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:layout_gravity=&quot;center&quot;\n                                android:text=&quot; 0.0&quot; /&gt;\n\n                        &lt;/LinearLayout&gt;\n\n                    &lt;/LinearLayout&gt;\n\n                &lt;/RelativeLayout&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n\n        &lt;RelativeLayout\n            android:id=&quot;@+id/buttonlayout&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignParentBottom=&quot;true&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:animateLayoutChanges=&quot;true&quot;\n                android:orientation=&quot;vertical&quot;\n                android:weightSum=&quot;2&quot;&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatButton\n                    android:id=&quot;@+id/calculate&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:layout_weight=&quot;1&quot;\n                    android:background=&quot;@drawable/bg_button_main&quot;\n                    android:onClick=&quot;onClick&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatButton\n                    android:id=&quot;@+id/clear&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:background=&quot;@drawable/bg_button_main&quot;\n                    android:onClick=&quot;onClick&quot; /&gt;\n\n                &lt;androidx.appcompat.widget.AppCompatButton\n                    android:id=&quot;@+id/clearAll&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;50dp&quot;\n                    android:layout_gravity=&quot;center&quot;\n                    android:background=&quot;@drawable/bg_button_main&quot;\n                    android:onClick=&quot;onClick&quot; /&gt;\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/RelativeLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n    &lt;com.google.android.gms.ads.AdView xmlns:ads=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:id=&quot;@+id/adView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n&lt;/RelativeLayout&gt;`\n</code></pre>\n"},{"tags":["java","maven","visual-studio-code"],"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1675151262,"post_id":75293882,"comment_id":132861332,"body_markdown":"Are you using a buildsystem like Grade, Maven, or Ant? Please [edit] to clarify.","body":"Are you using a buildsystem like Grade, Maven, or Ant? Please <a href=\"https://stackoverflow.com/posts/75293882/edit\">edit</a> to clarify."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675231423,"creation_date":1675231423,"answer_id":75306216,"question_id":75293882,"body_markdown":"#### It seems that vscode currently does not have such an interface feature to set the build order of Java projects. \r\n\r\n*eclipse*\r\n[![enter image description here][1]][1]\r\n\r\nFor more Java project management, you can check [this link][2]. If you have a need, you can file a report on [GitHub][3] to get a response from the official folks, maybe they will consider adding this.\r\n\r\nIn addition, the same effect can be achieved by modifying [*pom.xml*][4] in maven. Pay attention to follow the rules of dependency resolution and version specifications, otherwise the build will fail.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lL463.png\r\n  [2]: https://code.visualstudio.com/docs/java/java-project\r\n  [3]: https://github.com/redhat-developer/vscode-java/issues/new\r\n  [4]: https://maven.apache.org/guides/introduction/introduction-to-the-pom.html","title":"Is there a way to set up the build order in a JAVA project on VSCode?","body":"<h4>It seems that vscode currently does not have such an interface feature to set the build order of Java projects.</h4>\n<p><em>eclipse</em>\n<a href=\"https://i.stack.imgur.com/lL463.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lL463.png\" alt=\"enter image description here\" /></a></p>\n<p>For more Java project management, you can check <a href=\"https://code.visualstudio.com/docs/java/java-project\" rel=\"nofollow noreferrer\">this link</a>. If you have a need, you can file a report on <a href=\"https://github.com/redhat-developer/vscode-java/issues/new\" rel=\"nofollow noreferrer\">GitHub</a> to get a response from the official folks, maybe they will consider adding this.</p>\n<p>In addition, the same effect can be achieved by modifying <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-pom.html\" rel=\"nofollow noreferrer\"><em>pom.xml</em></a> in maven. Pay attention to follow the rules of dependency resolution and version specifications, otherwise the build will fail.</p>\n"}],"owner":{"account_id":4235396,"reputation":39,"user_id":3466681,"accept_rate":83,"display_name":"user3466681"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75306216,"answer_count":1,"score":0,"last_activity_date":1675247151,"creation_date":1675150200,"question_id":75293882,"body_markdown":"Simple question here but could not found it anywhere else.\r\n\r\nEclipse has this feature in Preferences &gt; General &gt; Workspace &gt; Build where you can set the projects build order. Is there any way to do it on VS Code?\r\n\r\nUsing Maven.\r\n\r\nThanks in advance.\r\n","title":"Is there a way to set up the build order in a JAVA project on VSCode?","body":"<p>Simple question here but could not found it anywhere else.</p>\n<p>Eclipse has this feature in Preferences &gt; General &gt; Workspace &gt; Build where you can set the projects build order. Is there any way to do it on VS Code?</p>\n<p>Using Maven.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","performance","low-latency"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1675246743,"post_id":75308610,"comment_id":132885625,"body_markdown":"Your first one isn&#39;t *creating a temporary object*. It&#39;s assigning a value to a temporary variable.","body":"Your first one isn&#39;t <i>creating a temporary object</i>. It&#39;s assigning a value to a temporary variable."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1675247394,"post_id":75308610,"comment_id":132885854,"body_markdown":"The only thing potentially eating any perfomance here is the `cache.get` - why would you call it twice?","body":"The only thing potentially eating any perfomance here is the <code>cache.get</code> - why would you call it twice?"}],"answers":[{"comments":[{"owner":{"account_id":10703126,"reputation":562,"user_id":7877771,"display_name":"sachyy"},"score":0,"creation_date":1675257545,"post_id":75308714,"comment_id":132888987,"body_markdown":"would there be any cost is assignment, any shallow copy ?","body":"would there be any cost is assignment, any shallow copy ?"},{"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"score":0,"creation_date":1675266503,"post_id":75308714,"comment_id":132892344,"body_markdown":"In Java, assigning an object doesn&#39;t perform any copying of the data, shallow or otherwise - it&#39;s just another reference to the same object. You can think of it as assigning a pointer - the only thing you&#39;re copying is the address in memory.","body":"In Java, assigning an object doesn&#39;t perform any copying of the data, shallow or otherwise - it&#39;s just another reference to the same object. You can think of it as assigning a pointer - the only thing you&#39;re copying is the address in memory."}],"tags":[],"owner":{"account_id":2818342,"reputation":299906,"user_id":2422776,"display_name":"Mureinik"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675246884,"creation_date":1675246884,"answer_id":75308714,"question_id":75308610,"body_markdown":"In the first snippet, you are **not** creating a temporary reference - you are assigning an existing object to a local variable that will be go out of scope soon.\r\n\r\nThe first snippet is preferable, although if `cache` is a simple `HashMap` it would probably be unnoticeable. \r\nIt becomes more important if `cache` is something fancier, e.g., some sort of synchronized map that needs to handle concurrency.","title":"Which one performs better in Java? Creating object or getting from cache twice?","body":"<p>In the first snippet, you are <strong>not</strong> creating a temporary reference - you are assigning an existing object to a local variable that will be go out of scope soon.</p>\n<p>The first snippet is preferable, although if <code>cache</code> is a simple <code>HashMap</code> it would probably be unnoticeable.\nIt becomes more important if <code>cache</code> is something fancier, e.g., some sort of synchronized map that needs to handle concurrency.</p>\n"}],"owner":{"account_id":10703126,"reputation":562,"user_id":7877771,"display_name":"sachyy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1675288588,"answer_count":1,"score":-5,"last_activity_date":1675246884,"creation_date":1675246521,"question_id":75308610,"body_markdown":"The object has 6,7 fields.\r\n`cache.get()` is a map read.\r\nWhich one is faster?\r\n\r\n```\r\nobj temp = cache.get(key);                              // temporary object creation\r\nInt id = temp != null ? temp.getId() : null;\r\n```\r\nor\r\n\r\n```\r\nInt id = cache.get(key) != null ? cache.get(key).getId() : null;       // cache read twice\r\n```\r\n\r\nFor Java with low latency, which of the above is better?","title":"Which one performs better in Java? Creating object or getting from cache twice?","body":"<p>The object has 6,7 fields.\n<code>cache.get()</code> is a map read.\nWhich one is faster?</p>\n<pre><code>obj temp = cache.get(key);                              // temporary object creation\nInt id = temp != null ? temp.getId() : null;\n</code></pre>\n<p>or</p>\n<pre><code>Int id = cache.get(key) != null ? cache.get(key).getId() : null;       // cache read twice\n</code></pre>\n<p>For Java with low latency, which of the above is better?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1650697,"reputation":753,"user_id":1521370,"display_name":"bongo"},"score":0,"creation_date":1675238682,"post_id":75307019,"comment_id":132883114,"body_markdown":"Does this answer your question? [Android different font for each language](https://stackoverflow.com/questions/54836812/android-different-font-for-each-language)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54836812/android-different-font-for-each-language\">Android different font for each language</a>"},{"owner":{"account_id":27673272,"reputation":1,"user_id":21123626,"display_name":"Mati"},"score":0,"creation_date":1675244728,"post_id":75307019,"comment_id":132884969,"body_markdown":"I want to change the font from within the activity","body":"I want to change the font from within the activity"},{"owner":{"account_id":26045599,"reputation":91,"user_id":19749681,"display_name":"Hitesh Khatri"},"score":0,"creation_date":1675329514,"post_id":75307019,"comment_id":132906551,"body_markdown":"please refer this one [solution](https://stackoverflow.com/questions/4395309/android-want-to-set-custom-fonts-for-whole-application-not-runtime)","body":"please refer this one <a href=\"https://stackoverflow.com/questions/4395309/android-want-to-set-custom-fonts-for-whole-application-not-runtime\">solution</a>"}],"owner":{"account_id":27673272,"reputation":1,"user_id":21123626,"display_name":"Mati"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675246791,"creation_date":1675237785,"question_id":75307019,"body_markdown":"I have a bilingual program (Persian, English). I want the font of the program to change when the Persian language is selected \r\nAnd when the English language is selected, the default font (Them) will be applied\r\n\r\nIn simple words, I want to change the font of the entire program from the activity\r\n\r\n\r\n[Persian](https://i.stack.imgur.com/msEPg.jpg)\r\n\r\n\r\n[English](https://i.stack.imgur.com/65464.jpg)\r\n\r\n```\r\nval typeface = Typeface.createFromAsset(activity.assets, &quot;fonts/my_font.ttf&quot;)\r\n\r\n\r\nactivity.findViewById&lt;View&gt;(android.R.id.content).setTypeface(typeface)\r\n```\r\n\r\nI tested but it didn&#39;t work","title":"Changing the font of the entire application from an activity in Kotlin","body":"<p>I have a bilingual program (Persian, English). I want the font of the program to change when the Persian language is selected\nAnd when the English language is selected, the default font (Them) will be applied</p>\n<p>In simple words, I want to change the font of the entire program from the activity</p>\n<p><a href=\"https://i.stack.imgur.com/msEPg.jpg\" rel=\"nofollow noreferrer\">Persian</a></p>\n<p><a href=\"https://i.stack.imgur.com/65464.jpg\" rel=\"nofollow noreferrer\">English</a></p>\n<pre><code>val typeface = Typeface.createFromAsset(activity.assets, &quot;fonts/my_font.ttf&quot;)\n\n\nactivity.findViewById&lt;View&gt;(android.R.id.content).setTypeface(typeface)\n</code></pre>\n<p>I tested but it didn't work</p>\n"},{"tags":["java","postgresql","jdbc","ssl-certificate"],"comments":[{"owner":{"account_id":3502577,"reputation":640,"user_id":2928992,"display_name":"Vokail"},"score":0,"creation_date":1627889900,"post_id":68617951,"comment_id":121267004,"body_markdown":"could you provide some code to look at? So we can understand better the problem","body":"could you provide some code to look at? So we can understand better the problem"},{"owner":{"account_id":13224952,"reputation":21,"user_id":9550332,"display_name":"Uvais"},"score":0,"creation_date":1627898097,"post_id":68617951,"comment_id":121269808,"body_markdown":"I have edited the question with both the code \n\n1) Used in application - Tomcat which connects to DB using Context.xml by creating Data Source\n\n2) Used in Standlaone application - using plain JDBC.\n\nIn both these cases I have used postgres jar version  42.2.8","body":"I have edited the question with both the code   1) Used in application - Tomcat which connects to DB using Context.xml by creating Data Source  2) Used in Standlaone application - using plain JDBC.  In both these cases I have used postgres jar version  42.2.8"},{"owner":{"account_id":5677059,"reputation":171,"user_id":4489818,"display_name":"Ganesh Modak"},"score":0,"creation_date":1627901503,"post_id":68617951,"comment_id":121271000,"body_markdown":"Check if this helps: https://stackoverflow.com/questions/62179397/how-to-pass-certificate-path-with-postgres-database-url-string-for-ssl-connectio/62989084#62989084","body":"Check if this helps: <a href=\"https://stackoverflow.com/questions/62179397/how-to-pass-certificate-path-with-postgres-database-url-string-for-ssl-connectio/62989084#62989084\" title=\"how to pass certificate path with postgres database url string for ssl connectio\">stackoverflow.com/questions/62179397/&hellip;</a>"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1627937475,"post_id":68617951,"comment_id":121284573,"body_markdown":"What error shows up in the server&#39;s log file?  The server and the client log different information, and often one will be more useful than the other.","body":"What error shows up in the server&#39;s log file?  The server and the client log different information, and often one will be more useful than the other."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1627937620,"post_id":68617951,"comment_id":121284597,"body_markdown":"Is the standalone being run from the same machine and as the same user as the apache software is?","body":"Is the standalone being run from the same machine and as the same user as the apache software is?"},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":0,"creation_date":1627937849,"post_id":68617951,"comment_id":121284658,"body_markdown":"If you sabotage the stand-alone client, for example by giving it the wrong key file, does it produce the same error as the apache code does?","body":"If you sabotage the stand-alone client, for example by giving it the wrong key file, does it produce the same error as the apache code does?"},{"owner":{"account_id":13224952,"reputation":21,"user_id":9550332,"display_name":"Uvais"},"score":0,"creation_date":1627975747,"post_id":68617951,"comment_id":121291519,"body_markdown":"@GaneshModak: I tried the option which you gave in standalone program it gave me error: &quot;The SSLSocketFactory class provided org.postgresql.ssl.SingleCertValidatingFactory could not be instantiated.&quot;","body":"@GaneshModak: I tried the option which you gave in standalone program it gave me error: &quot;The SSLSocketFactory class provided org.postgresql.ssl.SingleCertValidatingFactory could not be instantiated.&quot;"},{"owner":{"account_id":13224952,"reputation":21,"user_id":9550332,"display_name":"Uvais"},"score":0,"creation_date":1627980021,"post_id":68617951,"comment_id":121293175,"body_markdown":"@jjanes: Both Server log and Catalina log shows the same error. Unfortunately I could not run with same user which apache software uses due to restriction.","body":"@jjanes: Both Server log and Catalina log shows the same error. Unfortunately I could not run with same user which apache software uses due to restriction."},{"owner":{"account_id":5677059,"reputation":171,"user_id":4489818,"display_name":"Ganesh Modak"},"score":0,"creation_date":1628067160,"post_id":68617951,"comment_id":121320024,"body_markdown":"@Uvais can share how your connection string looks like now?","body":"@Uvais can share how your connection string looks like now?"}],"owner":{"account_id":13224952,"reputation":21,"user_id":9550332,"display_name":"Uvais"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1590,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675246469,"creation_date":1627889731,"question_id":68617951,"body_markdown":"We are facing issue with connecting to Postgres SQL database with certificate (pk8 and key file) in tomcat using Java web application, however when we try to connect with Java standalone we can able to connect.\r\n\r\nUpon checking the Catalina logs we found the error – \r\n&gt; org.postgresql.util.PSQLException: FATAL: connection requires a valid client certificate\r\n\r\nBelow is the connection params used in Java web application (as per documentation), the same works fine when tried with standalone application (Refer screen shot below)\r\n\r\n```none\r\njdbc:postgresql://:/&lt;DB_NAME&gt;?sslmode=require&amp;sslcert=/app/localstorage/UAT_Certs/FA1234.crt&amp;sslkey=/app/localstorage/UAT_Certs/FA1234.pk8&amp;sslpassword=XXXX&amp;user=XXXX\r\n```\r\n\r\nStandalone Successful connection:\r\n\r\n```none\r\njava -cp postgresql-9.3-1102-jdbc41.jar:Query.jar com.company.test.Query\r\n```\r\nURL used to connect to Database is \r\n\r\n```none\r\njdbc:postgresql://example.com:5432/sample?sslmode=require&amp;sslcert=/app/localstorage/FA1234.crt&amp;sslkey=/app/localstorage/FA1234.pk8&amp;sslpassword=test&amp;user=test_name\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nCurrent Time in Database is 12:15:48.738587+01\r\n```\r\n\r\nBelow is the code which we use in Tomcat to create Data source by passing the necessary DB information:\r\n\r\n```java\r\npublic  class SecureTomcatDataSourceImpl extends DataSourceFactory {\r\n\r\n    private EncDecJDBCPass encryptor = null;\r\n    public SecureTomcatDataSourceImpl() {\r\n        try {\r\n                encryptor = new EncDecJDBCPass();\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public DataSource createDataSource(Properties properties, Context context, boolean XA) throws InvalidKeyException,\r\n            IllegalBlockSizeException, BadPaddingException, SQLException, NoSuchAlgorithmException,\r\n            NoSuchPaddingException, UnrecoverableKeyException, KeyManagementException, CertificateException, FileNotFoundException, KeyStoreException, IOException {\r\n\r\n        System.out.println(&quot;Inside createDataSource() method. &quot;);\r\n\t\t\r\n\t\t//fetching pfx file  encrypted password from context.xml\r\n        PoolConfiguration poolProperties = SecureTomcatDataSourceImpl.parsePoolProperties(properties);\r\n\r\n        //poolProperties.setPassword(pwd);\r\n\r\n        poolProperties.setPassword(null);\r\n        poolProperties.setUsername(&quot;XXXX&quot;);\r\n        String urlVal = poolProperties.getUrl();\r\n        System.out.println(&quot;Before Append&quot;+urlVal);\r\n        String appendUrlVal = \t&quot;jdbc:postgresql://:/&lt;DB_NAME&gt;?sslmode=require&amp;sslcert=/app/localstorage/UAT_Certs/FA1234.crt&amp;sslkey=/app/localstorage/UAT_Certs/FA1234.pk8&amp;sslpassword=XXXX&amp;user=XXXX&quot;\r\n\r\n\r\n        System.out.println(&quot;AppendUrlVal:::::::::::::::&quot;+appendUrlVal);\r\n\r\n        poolProperties.setUrl(appendUrlVal);\r\n\r\n\r\n        // The rest of the code is copied from Tomcat&#39;s DataSourceFactory.\r\n        if (poolProperties.getDataSourceJNDI() != null &amp;&amp; poolProperties.getDataSource() == null) {\r\n            performJNDILookup(context, poolProperties);\r\n        }\r\n        org.apache.tomcat.jdbc.pool.DataSource dataSource = XA ? new XADataSource(poolProperties)\r\n                : new org.apache.tomcat.jdbc.pool.DataSource(poolProperties);\r\n\r\n        String Name = SecureTomcatDataSourceImpl.getProperties(&quot;name&quot;).toString();\r\n        String URL = poolProperties.getUrl();\r\n        System.out.println(&quot;URL VALUE::::::::&quot;+URL);\r\n        String username = poolProperties.getUsername();\r\n        Logger.getLogger(SecureTomcatDataSourceImpl.class.getName()).log(Level.INFO, &quot;Creating a New Connection Pool for DataSource &quot;+Name+&quot; with URL &quot;+URL+&quot; and the  username &quot;+username);\r\n\r\n        dataSource.createPool();\r\n\r\n        return dataSource;\r\n    }\r\n\r\n}\r\n```\r\n\r\nCode used in Standalone Program:\r\n\r\n```java\r\nimport java.sql.*;\r\nimport java.util.Properties;\r\n\r\npublic class Query {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\tString url = &quot;jdbc:postgresql://:/&lt;DB_NAME&gt;?sslmode=require&amp;sslcert=/app/localstorage/UAT_Certs/FA1234.crt&amp;sslkey=/app/localstorage/UAT_Certs/FA1234.pk8&amp;sslpassword=XXXX&amp;user=XXXX&quot;\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;URL used to connect to Database is &quot; + url);\r\n\t\t\t\r\n\t\t\tConnection conn = DriverManager.getConnection(url);\r\n\r\n\t\t\tStatement stmt = conn.createStatement();\r\n\t\t\tResultSet rs = stmt.executeQuery(&quot;select current_time&quot;);\r\n\t\t\twhile (rs.next()) {\r\n\t\t\t\tSystem.out.println(&quot;Current Time in Database is :::::::::::::::::::::::::&quot; + rs.getString(&quot;current_time&quot;));\r\n\t\t\t}\r\n\t\t\tconn.close();\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n","title":"Tomcat with Postgres Certificate connectivity Issue [FATAL: connection requires a valid client certificate]","body":"<p>We are facing issue with connecting to Postgres SQL database with certificate (pk8 and key file) in tomcat using Java web application, however when we try to connect with Java standalone we can able to connect.</p>\n<p>Upon checking the Catalina logs we found the error –</p>\n<blockquote>\n<p>org.postgresql.util.PSQLException: FATAL: connection requires a valid client certificate</p>\n</blockquote>\n<p>Below is the connection params used in Java web application (as per documentation), the same works fine when tried with standalone application (Refer screen shot below)</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:postgresql://:/&lt;DB_NAME&gt;?sslmode=require&amp;sslcert=/app/localstorage/UAT_Certs/FA1234.crt&amp;sslkey=/app/localstorage/UAT_Certs/FA1234.pk8&amp;sslpassword=XXXX&amp;user=XXXX\n</code></pre>\n<p>Standalone Successful connection:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp postgresql-9.3-1102-jdbc41.jar:Query.jar com.company.test.Query\n</code></pre>\n<p>URL used to connect to Database is</p>\n<pre class=\"lang-none prettyprint-override\"><code>jdbc:postgresql://example.com:5432/sample?sslmode=require&amp;sslcert=/app/localstorage/FA1234.crt&amp;sslkey=/app/localstorage/FA1234.pk8&amp;sslpassword=test&amp;user=test_name\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Current Time in Database is 12:15:48.738587+01\n</code></pre>\n<p>Below is the code which we use in Tomcat to create Data source by passing the necessary DB information:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  class SecureTomcatDataSourceImpl extends DataSourceFactory {\n\n    private EncDecJDBCPass encryptor = null;\n    public SecureTomcatDataSourceImpl() {\n        try {\n                encryptor = new EncDecJDBCPass();\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public DataSource createDataSource(Properties properties, Context context, boolean XA) throws InvalidKeyException,\n            IllegalBlockSizeException, BadPaddingException, SQLException, NoSuchAlgorithmException,\n            NoSuchPaddingException, UnrecoverableKeyException, KeyManagementException, CertificateException, FileNotFoundException, KeyStoreException, IOException {\n\n        System.out.println(&quot;Inside createDataSource() method. &quot;);\n        \n        //fetching pfx file  encrypted password from context.xml\n        PoolConfiguration poolProperties = SecureTomcatDataSourceImpl.parsePoolProperties(properties);\n\n        //poolProperties.setPassword(pwd);\n\n        poolProperties.setPassword(null);\n        poolProperties.setUsername(&quot;XXXX&quot;);\n        String urlVal = poolProperties.getUrl();\n        System.out.println(&quot;Before Append&quot;+urlVal);\n        String appendUrlVal =   &quot;jdbc:postgresql://:/&lt;DB_NAME&gt;?sslmode=require&amp;sslcert=/app/localstorage/UAT_Certs/FA1234.crt&amp;sslkey=/app/localstorage/UAT_Certs/FA1234.pk8&amp;sslpassword=XXXX&amp;user=XXXX&quot;\n\n\n        System.out.println(&quot;AppendUrlVal:::::::::::::::&quot;+appendUrlVal);\n\n        poolProperties.setUrl(appendUrlVal);\n\n\n        // The rest of the code is copied from Tomcat's DataSourceFactory.\n        if (poolProperties.getDataSourceJNDI() != null &amp;&amp; poolProperties.getDataSource() == null) {\n            performJNDILookup(context, poolProperties);\n        }\n        org.apache.tomcat.jdbc.pool.DataSource dataSource = XA ? new XADataSource(poolProperties)\n                : new org.apache.tomcat.jdbc.pool.DataSource(poolProperties);\n\n        String Name = SecureTomcatDataSourceImpl.getProperties(&quot;name&quot;).toString();\n        String URL = poolProperties.getUrl();\n        System.out.println(&quot;URL VALUE::::::::&quot;+URL);\n        String username = poolProperties.getUsername();\n        Logger.getLogger(SecureTomcatDataSourceImpl.class.getName()).log(Level.INFO, &quot;Creating a New Connection Pool for DataSource &quot;+Name+&quot; with URL &quot;+URL+&quot; and the  username &quot;+username);\n\n        dataSource.createPool();\n\n        return dataSource;\n    }\n\n}\n</code></pre>\n<p>Code used in Standalone Program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.*;\nimport java.util.Properties;\n\npublic class Query {\n\n    public static void main(String[] args) {\n\n        try {\n            \n            String url = &quot;jdbc:postgresql://:/&lt;DB_NAME&gt;?sslmode=require&amp;sslcert=/app/localstorage/UAT_Certs/FA1234.crt&amp;sslkey=/app/localstorage/UAT_Certs/FA1234.pk8&amp;sslpassword=XXXX&amp;user=XXXX&quot;\n            \n            System.out.println(&quot;URL used to connect to Database is &quot; + url);\n            \n            Connection conn = DriverManager.getConnection(url);\n\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(&quot;select current_time&quot;);\n            while (rs.next()) {\n                System.out.println(&quot;Current Time in Database is :::::::::::::::::::::::::&quot; + rs.getString(&quot;current_time&quot;));\n            }\n            conn.close();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc"],"answers":[{"comments":[{"owner":{"account_id":85548,"reputation":7632,"user_id":238421,"accept_rate":100,"display_name":"Danilo Piazzalunga"},"score":2,"creation_date":1380038932,"post_id":6202721,"comment_id":28046561,"body_markdown":"See also: [Oracle JDBC Drivers release 11.1.0.7.0 - Production README](http://www.oracle.com/technetwork/database/enterprise-edition/111070-readme-083278.html).","body":"See also: <a href=\"http://www.oracle.com/technetwork/database/enterprise-edition/111070-readme-083278.html\" rel=\"nofollow noreferrer\">Oracle JDBC Drivers release 11.1.0.7.0 - Production README</a>."}],"tags":[],"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"comment_count":1,"down_vote_count":0,"up_vote_count":83,"is_accepted":true,"score":83,"last_activity_date":1306938184,"creation_date":1306938184,"answer_id":6202721,"question_id":6202653,"body_markdown":"&gt; For Oracle 9i onwards you should use oracle.jdbc.OracleDriver rather than oracle.jdbc.driver.OracleDriver as Oracle have stated that oracle.jdbc.driver.OracleDriver is deprecated and support for this driver class will be discontinued in the next major release.\r\n\r\n-- [http://tomcat.apache.org/tomcat-5.5-doc/jndi-datasource-examples-howto.html#Oracle_8i,_9i_&amp;_10g][1]\r\n\r\n\r\n  [1]: http://tomcat.apache.org/tomcat-5.5-doc/jndi-datasource-examples-howto.html#Oracle_8i,_9i_&amp;_10g","title":"Difference between Oracle jdbc driver classes?","body":"<blockquote>\n  <p>For Oracle 9i onwards you should use oracle.jdbc.OracleDriver rather than oracle.jdbc.driver.OracleDriver as Oracle have stated that oracle.jdbc.driver.OracleDriver is deprecated and support for this driver class will be discontinued in the next major release.</p>\n</blockquote>\n\n<p>-- <a href=\"http://tomcat.apache.org/tomcat-5.5-doc/jndi-datasource-examples-howto.html#Oracle_8i,_9i_&amp;_10g\" rel=\"noreferrer\">http://tomcat.apache.org/tomcat-5.5-doc/jndi-datasource-examples-howto.html#Oracle_8i,<em>9i</em>&amp;_10g</a></p>\n"},{"tags":[],"owner":{"account_id":7718945,"reputation":709,"user_id":5845739,"display_name":"Pratik Gaurav"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675246125,"creation_date":1675246125,"answer_id":75308526,"question_id":6202653,"body_markdown":"[Oracle Documentation][1]\r\n\r\n&quot;*Your code should use the package oracle.jdbc instead of the package oracle.jdbc.driver used in earlier versions of Oracle. Use of the package oracle.jdbc.driver is now deprecated, but will continue to be supported for backwards compatibility.*&quot;\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E18283_01/appdev.112/e13995/oracle/jdbc/package-summary.html","title":"Difference between Oracle jdbc driver classes?","body":"<p><a href=\"https://docs.oracle.com/cd/E18283_01/appdev.112/e13995/oracle/jdbc/package-summary.html\" rel=\"nofollow noreferrer\">Oracle Documentation</a></p>\n<p>&quot;<em>Your code should use the package oracle.jdbc instead of the package oracle.jdbc.driver used in earlier versions of Oracle. Use of the package oracle.jdbc.driver is now deprecated, but will continue to be supported for backwards compatibility.</em>&quot;</p>\n"}],"owner":{"account_id":170731,"reputation":4483,"user_id":397667,"accept_rate":100,"display_name":"bw_&#252;ezi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54411,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"accepted_answer_id":6202721,"answer_count":2,"score":66,"last_activity_date":1675246125,"creation_date":1306937863,"question_id":6202653,"body_markdown":"I&#39;m using Oracle&#39;s `ojdbc5.jar` and noticed that it includes two JDBC driver classes.\r\n\r\nWhat is the difference between `oracle.jdbc.driver.OracleDriver` vs. `oracle.jdbc.OracleDriver`?\r\n\r\nWhich one should I use in my Java project?","title":"Difference between Oracle jdbc driver classes?","body":"<p>I'm using Oracle's <code>ojdbc5.jar</code> and noticed that it includes two JDBC driver classes.</p>\n\n<p>What is the difference between <code>oracle.jdbc.driver.OracleDriver</code> vs. <code>oracle.jdbc.OracleDriver</code>?</p>\n\n<p>Which one should I use in my Java project?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1675220037,"post_id":75305150,"comment_id":132880224,"body_markdown":"Cast or parse it as an int","body":"Cast or parse it as an int"},{"owner":{"account_id":14679090,"reputation":1356,"user_id":10601203,"display_name":"Jesse"},"score":2,"creation_date":1675220183,"post_id":75305150,"comment_id":132880251,"body_markdown":"Does this answer your question? [How do I convert a String to an int in Java?](https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java\">How do I convert a String to an int in Java?</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1675220927,"post_id":75305150,"comment_id":132880332,"body_markdown":"The stack trace says that the error is on line 100 of `Tp1.java`, where you&#39;re calling `parseInt`, on a value that&#39;s not a number.  Presumably, that&#39;s not the code that you&#39;ve shown here.","body":"The stack trace says that the error is on line 100 of <code>Tp1.java</code>, where you&#39;re calling <code>parseInt</code>, on a value that&#39;s not a number.  Presumably, that&#39;s not the code that you&#39;ve shown here."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675221035,"post_id":75305150,"comment_id":132880344,"body_markdown":"@JonR85 you can&#39;t cast a `String` to an `int`.","body":"@JonR85 you can&#39;t cast a <code>String</code> to an <code>int</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1675221131,"post_id":75305150,"comment_id":132880351,"body_markdown":"The code in your question doesn&#39;t compile. How are you getting a runtime error?","body":"The code in your question doesn&#39;t compile. How are you getting a runtime error?"}],"answers":[{"comments":[{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1675222503,"post_id":75305255,"comment_id":132880502,"body_markdown":"that&#39;s true, but even though his code is a complete dumpster fire it looks like his issue is handling what happens when a NumberFormatException is thrown.","body":"that&#39;s true, but even though his code is a complete dumpster fire it looks like his issue is handling what happens when a NumberFormatException is thrown."}],"tags":[],"owner":{"account_id":17933563,"reputation":25,"user_id":13030369,"display_name":"Dương Th&#225;i"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1675221417,"creation_date":1675220795,"answer_id":75305255,"question_id":75305150,"body_markdown":"u must convert String to an Integer &lt;br&gt;\r\n```\r\nInteger n = Integer.valueOf(nbJoursLouer);\r\nwhile ( n &lt; 0 || n &gt; 180)\r\n```\r\n\r\nthe nbJoursLouer variable is not a number &lt;br&gt;\r\nit&#39;s just the letter &quot;d&quot; &lt;br&gt;\r\nYour code is wrong.","title":"is there a way to use &gt; and &lt; with Strings?","body":"<p>u must convert String to an Integer <br></p>\n<pre><code>Integer n = Integer.valueOf(nbJoursLouer);\nwhile ( n &lt; 0 || n &gt; 180)\n</code></pre>\n<p>the nbJoursLouer variable is not a number <br>\nit's just the letter &quot;d&quot; <br>\nYour code is wrong.</p>\n"},{"tags":[],"owner":{"account_id":10377194,"reputation":4505,"user_id":7653073,"display_name":"Malte Hartwig"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675245541,"creation_date":1675222254,"answer_id":75305370,"question_id":75305150,"body_markdown":"You can not use `&lt;` and `&gt;` for String in Java, it&#39;s a compile error. The closest equivalent is `String.compareTo(String)`, which won&#39;t work how you intend it to: &quot;100&quot; would be less than &quot;18&quot; because strings are ordered lexicographically and Java won&#39;t try to be &quot;smart&quot; like JavaScript. Hence, you must convert your string to integers explicitly. Have a look at [this related question for how to use `Integer.parseInt()`][1].\r\n\r\nThe error message you shared shows that `Integer.parseInt()` is used somewhere. It tries to convert the string to a number by reading it character by character. But when it encounters a character that is invalid for integers (letters, special characters...), it will fail with the exceptions you are seeing. By using a `try-catch` clause, you can react to that and handle it by returning an error message similar to the one in your code.\r\n\r\n```\r\nint lireNombre() {\r\n  while (true) {\r\n    System.out.println(&quot;Entrez le nombre de jours de location (sup&#233;rieur &#224; 0 et inf&#233;rieur ou &#233;gal &#224; 180) : &quot;);\r\n    try {\r\n      int value = Integer.parseInt(Clavier.lireString());\r\n      if (value &gt; 0 || value &lt;= 180) {\r\n        return value;\r\n      } else {\r\n        System.out.println(&quot;Ce n&#39;est pas sup&#233;rieur &#224; 0 et inf&#233;rieur ou &#233;gal &#224; 180!&quot;);\r\n      }\r\n    } catch (NumberFormatException e) {  \r\n      System.out.println(&quot;Ce n&#39;est pas un nombre!&quot;);\r\n    }\r\n  }\r\n  throw new RuntimeException(&quot;We should never have gotten here&quot;);\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java?noredirect=1&amp;lq=1","title":"is there a way to use &gt; and &lt; with Strings?","body":"<p>You can not use <code>&lt;</code> and <code>&gt;</code> for String in Java, it's a compile error. The closest equivalent is <code>String.compareTo(String)</code>, which won't work how you intend it to: &quot;100&quot; would be less than &quot;18&quot; because strings are ordered lexicographically and Java won't try to be &quot;smart&quot; like JavaScript. Hence, you must convert your string to integers explicitly. Have a look at <a href=\"https://stackoverflow.com/questions/5585779/how-do-i-convert-a-string-to-an-int-in-java?noredirect=1&amp;lq=1\">this related question for how to use <code>Integer.parseInt()</code></a>.</p>\n<p>The error message you shared shows that <code>Integer.parseInt()</code> is used somewhere. It tries to convert the string to a number by reading it character by character. But when it encounters a character that is invalid for integers (letters, special characters...), it will fail with the exceptions you are seeing. By using a <code>try-catch</code> clause, you can react to that and handle it by returning an error message similar to the one in your code.</p>\n<pre><code>int lireNombre() {\n  while (true) {\n    System.out.println(&quot;Entrez le nombre de jours de location (supérieur à 0 et inférieur ou égal à 180) : &quot;);\n    try {\n      int value = Integer.parseInt(Clavier.lireString());\n      if (value &gt; 0 || value &lt;= 180) {\n        return value;\n      } else {\n        System.out.println(&quot;Ce n'est pas supérieur à 0 et inférieur ou égal à 180!&quot;);\n      }\n    } catch (NumberFormatException e) {  \n      System.out.println(&quot;Ce n'est pas un nombre!&quot;);\n    }\n  }\n  throw new RuntimeException(&quot;We should never have gotten here&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":26945328,"reputation":1,"user_id":20515410,"display_name":"Alain Karam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1675245541,"creation_date":1675219603,"question_id":75305150,"body_markdown":"i want to ask the user to input a number between 0 and 180. but the variable has to be a String.\r\n\r\n\t// Saisie du nombre de jours de location\r\n\t\t\t\tSystem.out.println(&quot;Entrez le nombre de jours de location (sup&#233;rieur &#224; 0 et inf&#233;rieur ou &#233;gal &#224; 180) : &quot;);\r\n\t\t\t\tnbJoursLouer = Clavier.lireString();\r\n\t\t\t\twhile ( nbJoursLouer &lt; &quot;0&quot; || nbJoursLouer &gt; &quot;180&quot;) {\r\n\t\t\t\t\tSystem.out.println(&quot;Entr&#233;e invalide !&quot;);\r\n\t\t\t\t\tSystem.out.println(&quot;Entrez le nombre de jours de location (sup&#233;rieur &#224; 0 et inf&#233;rieur ou &#233;gal &#224; 180) : &quot;);\r\n\t\t\t\t\tnbJoursLouer = Clavier.lireString();\r\n\t\t\t\t}\r\n\r\nwhen i run and input a letter instead of a number, i get this message:\r\n\r\n```\r\nEntrez le nombre de jours de location (sup&#233;rieur &#224; 0 et inf&#233;rieur ou &#233;gal &#224; 180) : \r\nd\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;d&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:668)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\tat Tp1.main(Tp1.java:100) \r\n```\r\n","title":"is there a way to use &gt; and &lt; with Strings?","body":"<p>i want to ask the user to input a number between 0 and 180. but the variable has to be a String.</p>\n<pre><code>// Saisie du nombre de jours de location\n            System.out.println(&quot;Entrez le nombre de jours de location (supérieur à 0 et inférieur ou égal à 180) : &quot;);\n            nbJoursLouer = Clavier.lireString();\n            while ( nbJoursLouer &lt; &quot;0&quot; || nbJoursLouer &gt; &quot;180&quot;) {\n                System.out.println(&quot;Entrée invalide !&quot;);\n                System.out.println(&quot;Entrez le nombre de jours de location (supérieur à 0 et inférieur ou égal à 180) : &quot;);\n                nbJoursLouer = Clavier.lireString();\n            }\n</code></pre>\n<p>when i run and input a letter instead of a number, i get this message:</p>\n<pre><code>Entrez le nombre de jours de location (supérieur à 0 et inférieur ou égal à 180) : \nd\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;d&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:668)\n    at java.base/java.lang.Integer.parseInt(Integer.java:786)\n    at Tp1.main(Tp1.java:100) \n</code></pre>\n"},{"tags":["java","spring","apache-camel","spring-framework-beans"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1675266737,"post_id":75308360,"comment_id":132892432,"body_markdown":"Can you switch to Spring Boot? The Camel developers [recommend Spring Boot as the replacement for camel-spring-javaconfig](https://www.mail-archive.com/users@camel.apache.org/msg65203.html).","body":"Can you switch to Spring Boot? The Camel developers <a href=\"https://www.mail-archive.com/users@camel.apache.org/msg65203.html\" rel=\"nofollow noreferrer\">recommend Spring Boot as the replacement for camel-spring-javaconfig</a>."},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1675267121,"post_id":75308360,"comment_id":132892583,"body_markdown":"@ChinHuang does camel support spring boot 3","body":"@ChinHuang does camel support spring boot 3"},{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1675267522,"post_id":75308360,"comment_id":132892751,"body_markdown":"[Apache Camel 4](https://camel.apache.org/blog/2023/01/camel4roadmap/) will support Spring Boot 3.","body":"<a href=\"https://camel.apache.org/blog/2023/01/camel4roadmap/\" rel=\"nofollow noreferrer\">Apache Camel 4</a> will support Spring Boot 3."},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1675319254,"post_id":75308360,"comment_id":132904142,"body_markdown":"@ChinHuang im facing the below error while using camel-spring-javaconfig:3.14.7 along with spring 6 while deploying in tomcat 10.","body":"@ChinHuang im facing the below error while using camel-spring-javaconfig:3.14.7 along with spring 6 while deploying in tomcat 10."},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1675319463,"post_id":75308360,"comment_id":132904184,"body_markdown":"CamelSpringJavaconfigInitializationException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: &gt;&gt;&gt; To[http://0.0.0.0:0000/?bridgeEndpoint=true&amp;urlRewrite=#urlRewriter&amp;httpClientConfigurer=clientConfigurer] &lt;&lt;&lt; in route: Route(route1)[From[servlet://?matchOnUriPrefix=true&amp;httpBind... because of No endpoint could be found for: http://0.0.0.0:0000/?bridgeEndpoint=true&amp;urlRewrite=#urlRewriter&amp;httpClientConfigurer=clientConfigurer, please check your classpath contains the needed Camel component jar.","body":"CamelSpringJavaconfigInitializationException: org.apache.camel.FailedToCreateRouteException: Failed to create route route1 at: &gt;&gt;&gt; To[<a href=\"http://0.0.0.0:0000/?bridgeEndpoint=true&amp;urlRewrite=#urlRewriter&amp;httpClientConfigurer=clientConfigurer]\" rel=\"nofollow noreferrer\">0.0.0.0:0000/&hellip;</a> &lt;&lt;&lt; in route: Route(route1)[From[servlet://?matchOnUriPrefix=true&amp;httpBind&zwnj;&#8203;... because of No endpoint could be found for: <a href=\"http://0.0.0.0:0000/?bridgeEndpoint=true&amp;urlRewrite=#urlRewriter&amp;httpClientConfigurer=clientConfigurer\" rel=\"nofollow noreferrer\">0.0.0.0:0000/&hellip;</a>, please check your classpath contains the needed Camel component jar."},{"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"score":0,"creation_date":1675319527,"post_id":75308360,"comment_id":132904195,"body_markdown":"@ChinHuang i havent faced this issue while using spring 5 and camel-spring-javaconfig:3.7","body":"@ChinHuang i havent faced this issue while using spring 5 and camel-spring-javaconfig:3.7"}],"owner":{"account_id":13423226,"reputation":167,"user_id":9685373,"display_name":"Suhail Ahmed"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675245325,"creation_date":1675245325,"question_id":75308360,"body_markdown":"I’m using camel-spring-javaconfig to configure camel routes in spring 5 application. Now I’m migrating to spring 6 and found that camel-spring-javaconfig is deprecated.\r\n\r\nSo I want to know how to configure camel routes with out using camel-spring-Javaconfig in spring 6 applications ","title":"Alternative of camel Java config for configuring routes using camel in spring 6","body":"<p>I’m using camel-spring-javaconfig to configure camel routes in spring 5 application. Now I’m migrating to spring 6 and found that camel-spring-javaconfig is deprecated.</p>\n<p>So I want to know how to configure camel routes with out using camel-spring-Javaconfig in spring 6 applications</p>\n"},{"tags":["java","ssl-certificate","burp"],"owner":{"account_id":27066490,"reputation":11,"user_id":20617767,"display_name":"mszt deku88"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1675245201,"creation_date":1669585198,"question_id":74593990,"body_markdown":"I have burp suite installed on windows 10, when I try to export certificate, it says:\r\n```\r\nFailed to export certificate: java.lang.NullPointerException:Cannot invoke&quot;java.security.cert.X509Certificate.getEncoded()&quot;because &quot;burp.r2n.P&quot;is null\r\n```\r\n[error message](https://i.stack.imgur.com/fZ7MK.jpg)\r\n\r\nexport certificate for burp suite","title":"Cannot invoke&quot;java.security.cert.X509Certificate.getEncoded() error while exporting SSL Certificate BurpSuit","body":"<p>I have burp suite installed on windows 10, when I try to export certificate, it says:</p>\n<pre><code>Failed to export certificate: java.lang.NullPointerException:Cannot invoke&quot;java.security.cert.X509Certificate.getEncoded()&quot;because &quot;burp.r2n.P&quot;is null\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fZ7MK.jpg\" rel=\"nofollow noreferrer\">error message</a></p>\n<p>export certificate for burp suite</p>\n"},{"tags":["java","spring-boot","maven","lombok"],"comments":[{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1674838128,"post_id":75259746,"comment_id":132805419,"body_markdown":"Lombok hooks into the compiler, and these things may happen. Can you do without Lombok?","body":"Lombok hooks into the compiler, and these things may happen. Can you do without Lombok?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1674839614,"post_id":75259746,"comment_id":132805920,"body_markdown":"Can you provide a [mre] that triggers that Stackoverflow?","body":"Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that triggers that Stackoverflow?"}],"answers":[{"tags":[],"owner":{"account_id":11706821,"reputation":67,"user_id":8570097,"display_name":"Ivan Vynogradov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675245129,"creation_date":1675245129,"answer_id":75308330,"question_id":75259746,"body_markdown":"MAVEN_OPTS=&quot;-Xms512m -Xmx2048m -Xss1024m&quot; fixed issue. even -Xss1024k was enought. ","title":"SpringBoot, Maven, Lombok StackOverflowErrorESC","body":"<p>MAVEN_OPTS=&quot;-Xms512m -Xmx2048m -Xss1024m&quot; fixed issue. even -Xss1024k was enought.</p>\n"}],"owner":{"account_id":11706821,"reputation":67,"user_id":8570097,"display_name":"Ivan Vynogradov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675245129,"creation_date":1674831149,"question_id":75259746,"body_markdown":"I have maven project that success build on Windows environment.\r\n\r\n    C:\\java\\apache-maven-3.6.3\\bin\\mvn -DskipTests=true package -P prod\r\n\r\nBuild success\r\n\r\nbut when I&#39;ve tried to execute the same command on Ubuntu env\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project ics3: Fatal error compiling: java.lang.StackOverflowError -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project ics3: Fatal error compiling\r\n\r\n    Caused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\r\n        at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\r\n\r\n    Caused by: org.codehaus.plexus.compiler.CompilerException: java.lang.StackOverflowError\r\n        at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:197)\r\n    Caused by: java.lang.StackOverflowError\r\n        at lombok.javac.JavacAST.drill (JavacAST.java:506)\r\n\r\nI&#39;ve tried to set without luck the same memory to maven as on Windows PC\r\n\r\n    export MAVEN_OPTS=&quot;-Xmx3096m -XX:MaxPermSize=512m&quot;\r\n\r\nand `export JAVA_OPTIONS=&quot;-Xmx4g&quot;` \r\n\r\nmy pom.xml is\r\n\r\n      &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n\r\n\r\nJava 11, SpringBoot 2.7","title":"SpringBoot, Maven, Lombok StackOverflowErrorESC","body":"<p>I have maven project that success build on Windows environment.</p>\n<pre><code>C:\\java\\apache-maven-3.6.3\\bin\\mvn -DskipTests=true package -P prod\n</code></pre>\n<p>Build success</p>\n<p>but when I've tried to execute the same command on Ubuntu env</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project ics3: Fatal error compiling: java.lang.StackOverflowError -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project ics3: Fatal error compiling\n\nCaused by: org.apache.maven.plugin.MojoExecutionException: Fatal error compiling\n    at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute (AbstractCompilerMojo.java:1220)\n\nCaused by: org.codehaus.plexus.compiler.CompilerException: java.lang.StackOverflowError\n    at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess (JavaxToolsCompiler.java:197)\nCaused by: java.lang.StackOverflowError\n    at lombok.javac.JavacAST.drill (JavacAST.java:506)\n</code></pre>\n<p>I've tried to set without luck the same memory to maven as on Windows PC</p>\n<pre><code>export MAVEN_OPTS=&quot;-Xmx3096m -XX:MaxPermSize=512m&quot;\n</code></pre>\n<p>and <code>export JAVA_OPTIONS=&quot;-Xmx4g&quot;</code></p>\n<p>my pom.xml is</p>\n<pre><code>  &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n</code></pre>\n<p>Java 11, SpringBoot 2.7</p>\n"},{"tags":["java","spring","spring-boot","spring-data","spring-data-rest"],"comments":[{"owner":{"account_id":451585,"reputation":4900,"user_id":847553,"accept_rate":86,"display_name":"Dave Richardson"},"score":0,"creation_date":1496666332,"post_id":44369093,"comment_id":75739217,"body_markdown":"How are you invoking a POST on that URL?","body":"How are you invoking a POST on that URL?"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":0,"creation_date":1496666475,"post_id":44369093,"comment_id":75739294,"body_markdown":"I am sending a JSON through Postman","body":"I am sending a JSON through Postman"}],"answers":[{"comments":[{"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"score":1,"creation_date":1496666646,"post_id":44369181,"comment_id":75739399,"body_markdown":"you can ask for info you need using comments","body":"you can ask for info you need using comments"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":0,"creation_date":1496666750,"post_id":44369181,"comment_id":75739461,"body_markdown":"I have updated the question with the JSON I am sending to the endpoint","body":"I have updated the question with the JSON I am sending to the endpoint"},{"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"score":0,"creation_date":1496666812,"post_id":44369181,"comment_id":75739497,"body_markdown":"Ok, did you try to put slash in RequestMapping value as I had proposed?","body":"Ok, did you try to put slash in RequestMapping value as I had proposed?"}],"tags":[],"owner":{"account_id":5783887,"reputation":3326,"user_id":4563745,"accept_rate":80,"display_name":"Vasiliy Vlasov"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1496666508,"creation_date":1496666508,"answer_id":44369181,"question_id":44369093,"body_markdown":"It is difficult to give you an exact solution not knowing how you are invoking the request. But possible reason is that you are missing the slash symbol `@RequestMapping` value attribute: \r\n\r\n    @RequestMapping(method = POST, value = &quot;countries&quot;)\r\n\r\nShould be:\r\n\r\n    @RequestMapping(method = POST, value = &quot;/countries&quot;)","title":"Spring Data REST - RepositoryEventHandler methods not getting invoked for POST method?","body":"<p>It is difficult to give you an exact solution not knowing how you are invoking the request. But possible reason is that you are missing the slash symbol <code>@RequestMapping</code> value attribute: </p>\n\n<pre><code>@RequestMapping(method = POST, value = \"countries\")\n</code></pre>\n\n<p>Should be:</p>\n\n<pre><code>@RequestMapping(method = POST, value = \"/countries\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8652805,"reputation":1100,"user_id":6477936,"accept_rate":9,"display_name":"Amit Gujarathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496667052,"creation_date":1496667052,"answer_id":44369353,"question_id":44369093,"body_markdown":"Define a Bean in AppConfigration as \r\n\r\n    @Configuration\r\n    @EnableAsync\r\n    public class AppConfig {\r\n    \r\n      @Bean\r\n        CountryHandler countryHandler (){\r\n            return new CountryHandler ();\r\n        }\r\n    \r\n    }\r\n\r\nIt will work then.","title":"Spring Data REST - RepositoryEventHandler methods not getting invoked for POST method?","body":"<p>Define a Bean in AppConfigration as </p>\n\n<pre><code>@Configuration\n@EnableAsync\npublic class AppConfig {\n\n  @Bean\n    CountryHandler countryHandler (){\n        return new CountryHandler ();\n    }\n\n}\n</code></pre>\n\n<p>It will work then.</p>\n"},{"comments":[{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":0,"creation_date":1496682937,"post_id":44371229,"comment_id":75749357,"body_markdown":"If I change to @RestController my controller class will be out of Spring Data Rest scope and I will have to implement GET, PUT and DELETE methods as well","body":"If I change to @RestController my controller class will be out of Spring Data Rest scope and I will have to implement GET, PUT and DELETE methods as well"},{"owner":{"account_id":6752840,"reputation":2432,"user_id":5202340,"accept_rate":70,"display_name":"Lazar Lazarov"},"score":0,"creation_date":1496731187,"post_id":44371229,"comment_id":75766062,"body_markdown":"I do not think so. `Open Declaration org.springframework.web.bind.annotation.RestController`. You can have `@RestController` with `@RequestMapping(value = &quot;/countries&quot;, method = RequestMethod.POST)` for sure. I am not sure what you mean by implementing another GET PUT DELETE methods ? For Rest controllers I have always used those two annotations for the class and the method and I have never had any problems invoking a method or else. (Of course when we are talking about Spring not `Open Declaration javax.ws.rs.*` )","body":"I do not think so. <code>Open Declaration org.springframework.web.bind.annotation.RestController</code>. You can have <code>@RestController</code> with <code>@RequestMapping(value = &quot;&#47;countries&quot;, method = RequestMethod.POST)</code> for sure. I am not sure what you mean by implementing another GET PUT DELETE methods ? For Rest controllers I have always used those two annotations for the class and the method and I have never had any problems invoking a method or else. (Of course when we are talking about Spring not <code>Open Declaration javax.ws.rs.*</code> )"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":0,"creation_date":1496810323,"post_id":44371229,"comment_id":75806451,"body_markdown":"I am using Spring Data Rest so there is actually no need to implement a controller. Spring does that at runtime. But since I am using a DTO I have to implement a POST method.","body":"I am using Spring Data Rest so there is actually no need to implement a controller. Spring does that at runtime. But since I am using a DTO I have to implement a POST method."}],"tags":[],"owner":{"account_id":6752840,"reputation":2432,"user_id":5202340,"accept_rate":70,"display_name":"Lazar Lazarov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496672808,"creation_date":1496672808,"answer_id":44371229,"question_id":44369093,"body_markdown":"Try editing maybe  the Controller class annotation from:\r\n \r\n\r\n    @RepositoryRestController\r\n\r\nto\r\n\r\n    @RestController\r\n\r\nand mainly the method annotation from:\r\n\r\n    @RequestMapping(method = POST, value = &quot;countries&quot;)\r\n\r\nto\r\n\r\n  \r\n\r\n    @RequestMapping(value = &quot;/countries&quot;, method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\r\n\r\nPS: `produces = MediaType.APPLICATION_JSON_VALUE` if you are going to return json.","title":"Spring Data REST - RepositoryEventHandler methods not getting invoked for POST method?","body":"<p>Try editing maybe  the Controller class annotation from:</p>\n\n<pre><code>@RepositoryRestController\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@RestController\n</code></pre>\n\n<p>and mainly the method annotation from:</p>\n\n<pre><code>@RequestMapping(method = POST, value = \"countries\")\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@RequestMapping(value = \"/countries\", method = RequestMethod.POST, produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n\n<p>PS: <code>produces = MediaType.APPLICATION_JSON_VALUE</code> if you are going to return json.</p>\n"},{"tags":[],"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675244891,"creation_date":1675244891,"answer_id":75308285,"question_id":44369093,"body_markdown":"I know this is older but this works as it is supposed to.\r\n\r\nThe methods defined in a `@RepositoryRestController` implementation replace the methods in the default [RepositoryEntityController](https://github.com/spring-projects/spring-data-rest/blob/master/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/RepositoryEntityController.java) which publish `@RepositoryEventHandler` events.\r\n\r\nSo your controller needs to publish a create event:\r\n\r\n````\r\n@RepositoryRestController\r\npublic class CountryController {\r\n\r\n    @Autowired\r\n    private CountryRepository repo;\r\n\r\n    private final ApplicationEventPublisher publisher; //This changed\r\n\r\n    @RequestMapping(method = POST, value = &quot;countries&quot;)\r\n    public @ResponseBody ResponseEntity&lt;?&gt; createCountry(@RequestBody Resource&lt;CountryDTO&gt; dto,\r\n            Pageable page, PersistentEntityResourceAssembler resourceAssembler) {\r\n\r\n        Country savedCountry = repo.save(dto.getContent().getCountries());\r\n        publisher.publishEvent(new BeforeCreateEvent(savedCountry)); //This changed\r\n        return new ResponseEntity&lt;&gt;(resourceAssembler.toResource(savedCountry), HttpStatus.OK);\r\n    }\r\n\r\n\r\n}\r\n````","title":"Spring Data REST - RepositoryEventHandler methods not getting invoked for POST method?","body":"<p>I know this is older but this works as it is supposed to.</p>\n<p>The methods defined in a <code>@RepositoryRestController</code> implementation replace the methods in the default <a href=\"https://github.com/spring-projects/spring-data-rest/blob/master/spring-data-rest-webmvc/src/main/java/org/springframework/data/rest/webmvc/RepositoryEntityController.java\" rel=\"nofollow noreferrer\">RepositoryEntityController</a> which publish <code>@RepositoryEventHandler</code> events.</p>\n<p>So your controller needs to publish a create event:</p>\n<pre><code>@RepositoryRestController\npublic class CountryController {\n\n    @Autowired\n    private CountryRepository repo;\n\n    private final ApplicationEventPublisher publisher; //This changed\n\n    @RequestMapping(method = POST, value = &quot;countries&quot;)\n    public @ResponseBody ResponseEntity&lt;?&gt; createCountry(@RequestBody Resource&lt;CountryDTO&gt; dto,\n            Pageable page, PersistentEntityResourceAssembler resourceAssembler) {\n\n        Country savedCountry = repo.save(dto.getContent().getCountries());\n        publisher.publishEvent(new BeforeCreateEvent(savedCountry)); //This changed\n        return new ResponseEntity&lt;&gt;(resourceAssembler.toResource(savedCountry), HttpStatus.OK);\n    }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":745,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1675244891,"creation_date":1496666241,"question_id":44369093,"body_markdown":"I have the following domain object and DTO defined.\r\n\r\n**Country.java**\r\n\r\n    @Data\r\n    @Entity\r\n    public class Country extends ResourceSupport {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long countryID;\r\n        \r\n        @NotBlank(message = &quot;Country name is a required field&quot;)\r\n        private String countryName;\r\n    \r\n        private String countryNationality;\r\n    }\r\n\r\n**CountryDTO.java**\r\n\r\n    @Data\r\n    \r\n    public class CountryDTO {\r\n    \r\n        private List&lt;Country&gt; countries;\r\n    }\r\n\r\nI have overridden the POST method in the RepositoryRestController for the country class.\r\n\r\n    @RepositoryRestController\r\n    public class CountryController {\r\n    \r\n        @Autowired\r\n        private CountryRepository repo;\r\n    \r\n        @RequestMapping(method = POST, value = &quot;countries&quot;)\r\n        public @ResponseBody ResponseEntity&lt;?&gt; createCountry(@RequestBody Resource&lt;CountryDTO&gt; dto,\r\n                Pageable page, PersistentEntityResourceAssembler resourceAssembler) {\r\n    \r\n            Country savedCountry = repo.save(dto.getContent().getCountries());\r\n            return new ResponseEntity&lt;&gt;(resourceAssembler.toResource(savedCountry), HttpStatus.OK);\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nNow I have defined a RepositoryEventHandler to handle validations.\r\n\r\n    @Component\r\n    @RepositoryEventHandler\r\n    public class CountryHandler {\r\n\r\n    \r\n        @HandleBeforeCreate\r\n        public void handleBeforeCreate(Country country) {\r\n    \r\n            System.out.println(&quot;testing&quot;);\r\n    \r\n    }\r\n\r\nBut when I send a POST request to the endpoint `http://localhost:8080/countries`, the eventhandler does not get invoked. Is there anything I am doing wrong?\r\n\r\nUPDATE 1:\r\nI am sending the following JSON to the endpoint using Postman.\r\n\r\n    &quot;countries&quot;:[{\r\n    \t&quot;countryName&quot;:&quot;Australia&quot;,\r\n    \t&quot;countryNationality&quot;:&quot;Australian&quot;\r\n\r\n    }]\r\n\r\n","title":"Spring Data REST - RepositoryEventHandler methods not getting invoked for POST method?","body":"<p>I have the following domain object and DTO defined.</p>\n\n<p><strong>Country.java</strong></p>\n\n<pre><code>@Data\n@Entity\npublic class Country extends ResourceSupport {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long countryID;\n\n    @NotBlank(message = \"Country name is a required field\")\n    private String countryName;\n\n    private String countryNationality;\n}\n</code></pre>\n\n<p><strong>CountryDTO.java</strong></p>\n\n<pre><code>@Data\n\npublic class CountryDTO {\n\n    private List&lt;Country&gt; countries;\n}\n</code></pre>\n\n<p>I have overridden the POST method in the RepositoryRestController for the country class.</p>\n\n<pre><code>@RepositoryRestController\npublic class CountryController {\n\n    @Autowired\n    private CountryRepository repo;\n\n    @RequestMapping(method = POST, value = \"countries\")\n    public @ResponseBody ResponseEntity&lt;?&gt; createCountry(@RequestBody Resource&lt;CountryDTO&gt; dto,\n            Pageable page, PersistentEntityResourceAssembler resourceAssembler) {\n\n        Country savedCountry = repo.save(dto.getContent().getCountries());\n        return new ResponseEntity&lt;&gt;(resourceAssembler.toResource(savedCountry), HttpStatus.OK);\n    }\n\n\n}\n</code></pre>\n\n<p>Now I have defined a RepositoryEventHandler to handle validations.</p>\n\n<pre><code>@Component\n@RepositoryEventHandler\npublic class CountryHandler {\n\n\n    @HandleBeforeCreate\n    public void handleBeforeCreate(Country country) {\n\n        System.out.println(\"testing\");\n\n}\n</code></pre>\n\n<p>But when I send a POST request to the endpoint <code>http://localhost:8080/countries</code>, the eventhandler does not get invoked. Is there anything I am doing wrong?</p>\n\n<p>UPDATE 1:\nI am sending the following JSON to the endpoint using Postman.</p>\n\n<pre><code>\"countries\":[{\n    \"countryName\":\"Australia\",\n    \"countryNationality\":\"Australian\"\n\n}]\n</code></pre>\n"},{"tags":["java","android","sqlite","android-camera2","android-camerax"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1675254053,"post_id":75307782,"comment_id":132887826,"body_markdown":"Store it as a file on internal storage (`getFilesDir()` or `getCacheDir()` on `Context`). Those files are inaccessible to gallery-type apps. SQLite on Android is not designed to handle multi-megabyte rows, and it will not meaningfully improve your security.","body":"Store it as a file on internal storage (<code>getFilesDir()</code> or <code>getCacheDir()</code> on <code>Context</code>). Those files are inaccessible to gallery-type apps. SQLite on Android is not designed to handle multi-megabyte rows, and it will not meaningfully improve your security."}],"answers":[{"comments":[{"owner":{"account_id":25463398,"reputation":51,"user_id":19350699,"display_name":"Anshul"},"score":0,"creation_date":1675245523,"post_id":75308277,"comment_id":132885228,"body_markdown":"what is the best appproach to save it into the SQlite database. Would i have to compress it before saving into the databse?","body":"what is the best appproach to save it into the SQlite database. Would i have to compress it before saving into the databse?"},{"owner":{"account_id":7072599,"reputation":874,"user_id":5422725,"display_name":"Eugene Troyanskii"},"score":0,"creation_date":1675439161,"post_id":75308277,"comment_id":132935664,"body_markdown":"@Anshul if you keep your money in the refrigerator or if you use the shower for sleeping then yes.","body":"@Anshul if you keep your money in the refrigerator or if you use the shower for sleeping then yes."}],"tags":[],"owner":{"account_id":7072599,"reputation":874,"user_id":5422725,"display_name":"Eugene Troyanskii"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675244869,"creation_date":1675244869,"answer_id":75308277,"question_id":75307782,"body_markdown":"First of all SQL(Room in our case) database is not the best approach to storing a single element. I suggest you use `PharedPreferences`. And about your main question. Room so as `SharedPreferences` working with primary types (to be honest Room store data in SQL types like `TEXT, INTEGER, BLOB, REAL` and `UNDEFINED` and that convert in java types) so for your goal, you have to convert your file to something that feet for our storage. I guess you can use a `String`.\r\n\r\nYou could convert the file to a Base64 format and save it as a String however depending on your file size you could face problems with memory because the Base64 format consumes more memory than the initial file. Here is an explanation of Base64 format memory consumption.\r\n\r\nhttps://stackoverflow.com/a/27798343/5422725","title":"Can i save CameraX recorded video in SQLite database?","body":"<p>First of all SQL(Room in our case) database is not the best approach to storing a single element. I suggest you use <code>PharedPreferences</code>. And about your main question. Room so as <code>SharedPreferences</code> working with primary types (to be honest Room store data in SQL types like <code>TEXT, INTEGER, BLOB, REAL</code> and <code>UNDEFINED</code> and that convert in java types) so for your goal, you have to convert your file to something that feet for our storage. I guess you can use a <code>String</code>.</p>\n<p>You could convert the file to a Base64 format and save it as a String however depending on your file size you could face problems with memory because the Base64 format consumes more memory than the initial file. Here is an explanation of Base64 format memory consumption.</p>\n<p><a href=\"https://stackoverflow.com/a/27798343/5422725\">https://stackoverflow.com/a/27798343/5422725</a></p>\n"}],"owner":{"account_id":25463398,"reputation":51,"user_id":19350699,"display_name":"Anshul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675244869,"creation_date":1675242334,"question_id":75307782,"body_markdown":"My requirement is that I have to built a video recording app in which user will save his 30 seconds of video which will be sent to the another server. User will use the video recording only for once.\r\n\r\n&gt; How can I store that 30 second recorded video in SQLite database as I cannot store it in gallery as it is confidential.\r\n\r\nAny help in this topic is highly appreciated.\r\n\r\nBelow is my demo app in which I&#39;m just saving it into the gallery for now.\r\n\r\n    public class VideoKycActivity extends AppCompatActivity implements ImageAnalysis.Analyzer, View.OnClickListener {\r\n        private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\r\n    \r\n        PreviewView previewView;\r\n        private VideoCapture videoCapture;\r\n        private Button bRecord;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            previewView = findViewById(R.id.previewView);\r\n            bRecord = findViewById(R.id.bRecord);\r\n            bRecord.setText(&quot;start recording&quot;); // Set the initial text of the button\r\n            \r\n            bRecord.setOnClickListener(this);\r\n    \r\n            cameraProviderFuture = ProcessCameraProvider.getInstance(this);\r\n            cameraProviderFuture.addListener(() -&gt; {\r\n                try {\r\n                    ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\r\n                    startCameraX(cameraProvider);\r\n                } catch (ExecutionException | InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }, getExecutor());\r\n    \r\n        }\r\n    \r\n        Executor getExecutor() {\r\n            return ContextCompat.getMainExecutor(this);\r\n        }\r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        private void startCameraX(ProcessCameraProvider cameraProvider) {\r\n            cameraProvider.unbindAll();\r\n            CameraSelector cameraSelector = new CameraSelector.Builder()\r\n                    .requireLensFacing(CameraSelector.LENS_FACING_BACK)\r\n                    .build();\r\n            Preview preview = new Preview.Builder()\r\n                    .build();\r\n            preview.setSurfaceProvider(previewView.getSurfaceProvider());\r\n    \r\n    \r\n            // Video capture use case\r\n            videoCapture = new VideoCapture.Builder()\r\n                    .setVideoFrameRate(30)\r\n                    .build();\r\n    \r\n            // Image analysis use case\r\n            ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\r\n                    .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                    .build();\r\n    \r\n            imageAnalysis.setAnalyzer(getExecutor(), this);\r\n    \r\n            //bind to lifecycle:\r\n            cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, videoCapture);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void analyze(@NonNull ImageProxy image) {\r\n            // image processing here for the current frame\r\n            Log.d(&quot;TAG&quot;, &quot;analyze: got the frame at: &quot; + image.getImageInfo().getTimestamp());\r\n            image.close();\r\n        }\r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        @Override\r\n        public void onClick(View view) {\r\n            switch (view.getId()) {\r\n                case R.id.bRecord:\r\n                    if (bRecord.getText() == &quot;start recording&quot;){\r\n                        bRecord.setText(&quot;stop recording&quot;);\r\n                        recordVideo();\r\n                    } else {\r\n                        bRecord.setText(&quot;start recording&quot;);\r\n                        videoCapture.stopRecording();\r\n                    }\r\n                    break;\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n        @SuppressLint(&quot;RestrictedApi&quot;)\r\n        private void recordVideo() {\r\n            if (videoCapture != null) {\r\n    \r\n                long timestamp = System.currentTimeMillis();\r\n    \r\n                ContentValues contentValues = new ContentValues();\r\n                contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\r\n                contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\r\n    \r\n                try {\r\n                    if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\r\n                        // TODO: Consider calling\r\n                        //    ActivityCompat#requestPermissions\r\n                        // here to request the missing permissions, and then overriding\r\n                        //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                        //                                          int[] grantResults)\r\n                        // to handle the case where the user grants the permission. See the documentation\r\n                        // for ActivityCompat#requestPermissions for more details.\r\n                        return;\r\n                    }\r\n                    videoCapture.startRecording(\r\n                            new VideoCapture.OutputFileOptions.Builder(\r\n                                    getContentResolver(),\r\n                                    MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\r\n                                    contentValues\r\n                            ).build(),\r\n                            getExecutor(),\r\n                            new VideoCapture.OnVideoSavedCallback() {\r\n                                @Override\r\n                                public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\r\n                                    Toast.makeText(VideoKycActivity.this, &quot;Video has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n    \r\n                                @Override\r\n                                public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\r\n                                    Toast.makeText(VideoKycActivity.this, &quot;Error saving video: &quot; + message, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                    );\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n    \r\n    }","title":"Can i save CameraX recorded video in SQLite database?","body":"<p>My requirement is that I have to built a video recording app in which user will save his 30 seconds of video which will be sent to the another server. User will use the video recording only for once.</p>\n<blockquote>\n<p>How can I store that 30 second recorded video in SQLite database as I cannot store it in gallery as it is confidential.</p>\n</blockquote>\n<p>Any help in this topic is highly appreciated.</p>\n<p>Below is my demo app in which I'm just saving it into the gallery for now.</p>\n<pre><code>public class VideoKycActivity extends AppCompatActivity implements ImageAnalysis.Analyzer, View.OnClickListener {\n    private ListenableFuture&lt;ProcessCameraProvider&gt; cameraProviderFuture;\n\n    PreviewView previewView;\n    private VideoCapture videoCapture;\n    private Button bRecord;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        previewView = findViewById(R.id.previewView);\n        bRecord = findViewById(R.id.bRecord);\n        bRecord.setText(&quot;start recording&quot;); // Set the initial text of the button\n        \n        bRecord.setOnClickListener(this);\n\n        cameraProviderFuture = ProcessCameraProvider.getInstance(this);\n        cameraProviderFuture.addListener(() -&gt; {\n            try {\n                ProcessCameraProvider cameraProvider = cameraProviderFuture.get();\n                startCameraX(cameraProvider);\n            } catch (ExecutionException | InterruptedException e) {\n                e.printStackTrace();\n            }\n        }, getExecutor());\n\n    }\n\n    Executor getExecutor() {\n        return ContextCompat.getMainExecutor(this);\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    private void startCameraX(ProcessCameraProvider cameraProvider) {\n        cameraProvider.unbindAll();\n        CameraSelector cameraSelector = new CameraSelector.Builder()\n                .requireLensFacing(CameraSelector.LENS_FACING_BACK)\n                .build();\n        Preview preview = new Preview.Builder()\n                .build();\n        preview.setSurfaceProvider(previewView.getSurfaceProvider());\n\n\n        // Video capture use case\n        videoCapture = new VideoCapture.Builder()\n                .setVideoFrameRate(30)\n                .build();\n\n        // Image analysis use case\n        ImageAnalysis imageAnalysis = new ImageAnalysis.Builder()\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                .build();\n\n        imageAnalysis.setAnalyzer(getExecutor(), this);\n\n        //bind to lifecycle:\n        cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, preview, videoCapture);\n\n    }\n\n    @Override\n    public void analyze(@NonNull ImageProxy image) {\n        // image processing here for the current frame\n        Log.d(&quot;TAG&quot;, &quot;analyze: got the frame at: &quot; + image.getImageInfo().getTimestamp());\n        image.close();\n    }\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n            case R.id.bRecord:\n                if (bRecord.getText() == &quot;start recording&quot;){\n                    bRecord.setText(&quot;stop recording&quot;);\n                    recordVideo();\n                } else {\n                    bRecord.setText(&quot;start recording&quot;);\n                    videoCapture.stopRecording();\n                }\n                break;\n\n        }\n    }\n\n\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    private void recordVideo() {\n        if (videoCapture != null) {\n\n            long timestamp = System.currentTimeMillis();\n\n            ContentValues contentValues = new ContentValues();\n            contentValues.put(MediaStore.MediaColumns.DISPLAY_NAME, timestamp);\n            contentValues.put(MediaStore.MediaColumns.MIME_TYPE, &quot;video/mp4&quot;);\n\n            try {\n                if (ActivityCompat.checkSelfPermission(this, Manifest.permission.RECORD_AUDIO) != PackageManager.PERMISSION_GRANTED) {\n                    // TODO: Consider calling\n                    //    ActivityCompat#requestPermissions\n                    // here to request the missing permissions, and then overriding\n                    //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\n                    //                                          int[] grantResults)\n                    // to handle the case where the user grants the permission. See the documentation\n                    // for ActivityCompat#requestPermissions for more details.\n                    return;\n                }\n                videoCapture.startRecording(\n                        new VideoCapture.OutputFileOptions.Builder(\n                                getContentResolver(),\n                                MediaStore.Video.Media.EXTERNAL_CONTENT_URI,\n                                contentValues\n                        ).build(),\n                        getExecutor(),\n                        new VideoCapture.OnVideoSavedCallback() {\n                            @Override\n                            public void onVideoSaved(@NonNull VideoCapture.OutputFileResults outputFileResults) {\n                                Toast.makeText(VideoKycActivity.this, &quot;Video has been saved successfully.&quot;, Toast.LENGTH_SHORT).show();\n                            }\n\n                            @Override\n                            public void onError(int videoCaptureError, @NonNull String message, @Nullable Throwable cause) {\n                                Toast.makeText(VideoKycActivity.this, &quot;Error saving video: &quot; + message, Toast.LENGTH_SHORT).show();\n                            }\n                        }\n                );\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":24269,"reputation":63231,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"score":4,"creation_date":1363845879,"post_id":15540522,"comment_id":22018096,"body_markdown":"Can you show us some test cases?  What is your input and your output?","body":"Can you show us some test cases?  What is your input and your output?"},{"owner":{"account_id":1129088,"reputation":10395,"user_id":1115584,"accept_rate":71,"display_name":"AmitG"},"score":2,"creation_date":1363845931,"post_id":15540522,"comment_id":22018111,"body_markdown":"Question is not clear....","body":"Question is not clear...."},{"owner":{"account_id":185878,"reputation":7904,"user_id":422870,"display_name":"Saurabh"},"score":0,"creation_date":1363846507,"post_id":15540522,"comment_id":22018310,"body_markdown":"This is not a standard problem. Lets approach this problem specific to current scenario for your usage. Can you please tell what is the data type of C1,C2 and C3 ? If they are integers then what would be the range of them?","body":"This is not a standard problem. Lets approach this problem specific to current scenario for your usage. Can you please tell what is the data type of C1,C2 and C3 ? If they are integers then what would be the range of them?"},{"owner":{"account_id":930869,"reputation":3743,"user_id":960778,"accept_rate":69,"display_name":"Apurv"},"score":0,"creation_date":1363846865,"post_id":15540522,"comment_id":22018425,"body_markdown":"Can you share some sample values for C1, C2 and C3 in a tabular format with columns C1, C2 and C3 ?","body":"Can you share some sample values for C1, C2 and C3 in a tabular format with columns C1, C2 and C3 ?"},{"owner":{"account_id":445412,"reputation":8623,"user_id":837847,"display_name":"James Waldby - jwpat7"},"score":0,"creation_date":1363850698,"post_id":15540522,"comment_id":22019905,"body_markdown":"I don&#39;t understand the question, but also see  [SortedMap with multiple fields for keys and values](http://stackoverflow.com/q/3452517), and  [How to implement a Map with multiple keys?](http://stackoverflow.com/q/822322),","body":"I don&#39;t understand the question, but also see  <a href=\"http://stackoverflow.com/q/3452517\">SortedMap with multiple fields for keys and values</a>, and  <a href=\"http://stackoverflow.com/q/822322\">How to implement a Map with multiple keys?</a>,"}],"answers":[{"comments":[{"owner":{"account_id":185878,"reputation":7904,"user_id":422870,"display_name":"Saurabh"},"score":0,"creation_date":1363846282,"post_id":15540564,"comment_id":22018238,"body_markdown":"but then how will you fetch values only corresponding to C1 or only C1 and C2?","body":"but then how will you fetch values only corresponding to C1 or only C1 and C2?"}],"tags":[],"owner":{"account_id":1472940,"reputation":2363,"user_id":1384030,"display_name":"Rahul Banerjee"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363845916,"creation_date":1363845916,"answer_id":15540564,"question_id":15540522,"body_markdown":"By &quot;priority&quot;, I presume you mean what is usually referred to as primary, secondary and tertiary keys.\r\n\r\nIf they&#39;re all string fields, concatenate them into a single string and use that as the key. In your case, the key is C1+C2+C3 (where &quot;+&quot; refers to string concatenation).","title":"Java Map with keys of 3 columns","body":"<p>By \"priority\", I presume you mean what is usually referred to as primary, secondary and tertiary keys.</p>\n\n<p>If they're all string fields, concatenate them into a single string and use that as the key. In your case, the key is C1+C2+C3 (where \"+\" refers to string concatenation).</p>\n"},{"tags":[],"owner":{"account_id":1141397,"reputation":4287,"user_id":1125197,"accept_rate":80,"display_name":"lichengwu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363847042,"creation_date":1363845931,"answer_id":15540571,"question_id":15540522,"body_markdown":"Use three maps.\r\n \r\n    One Map&lt;C1, V&gt; and one Map&lt;C2, V&gt; and one Map&lt;C3, V&gt;. \r\n\r\nYou can wrap the three maps into a class and implement you method.\r\n","title":"Java Map with keys of 3 columns","body":"<p>Use three maps.</p>\n\n<pre><code>One Map&lt;C1, V&gt; and one Map&lt;C2, V&gt; and one Map&lt;C3, V&gt;. \n</code></pre>\n\n<p>You can wrap the three maps into a class and implement you method.</p>\n"},{"tags":[],"owner":{"account_id":882029,"reputation":6941,"user_id":272451,"accept_rate":100,"display_name":"Thihara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363846093,"creation_date":1363846093,"answer_id":15540609,"question_id":15540522,"body_markdown":"A Map will always return just one value for a key. You can&#39;t have it return multiple values based on your key classes content.\r\n\r\nThe simple way is to keep a separate map for each key type  and return the appropriate results based on the passed key.","title":"Java Map with keys of 3 columns","body":"<p>A Map will always return just one value for a key. You can't have it return multiple values based on your key classes content.</p>\n\n<p>The simple way is to keep a separate map for each key type  and return the appropriate results based on the passed key.</p>\n"},{"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1363847072,"creation_date":1363847072,"answer_id":15540803,"question_id":15540522,"body_markdown":"A three-level index where a higher-level key can be used to access all lower level keys and objects will require a three-level map.\r\n\r\n    class ThreeLevelMap&lt;K1,K2,K3,V&gt;\r\n    {\r\n        private Map&lt;K1,Map&lt;K2,Map&lt;K3,V&gt;&gt;&gt; store = new HashMap&lt;K,Map&lt;K2,Map&lt;K3,V&gt;&gt;&gt;();\r\n        ...\r\n        public V put(K1 key1, K2 key2, K3 key3, V value) { ... }\r\n        public V get(K1 key1, K2 key2, K3 key3) { ... }\r\n\r\n        public static class TLMEntry&lt;K1,K2,K3,V&gt;\r\n        {\r\n        ...\r\n        }\r\n        public Collection&lt;TLMEntry&lt;K1,K2,K3,V&gt;&gt; get(K1 key1, K2 key2) { ... }\r\n        public Collection&lt;TLMEntry&lt;K1,K2,K3,V&gt;&gt; get(K1 key1) { ... }\r\n    }\r\n\r\nThis is a basic skeleton but should get you going in the right direction.","title":"Java Map with keys of 3 columns","body":"<p>A three-level index where a higher-level key can be used to access all lower level keys and objects will require a three-level map.</p>\n\n<pre><code>class ThreeLevelMap&lt;K1,K2,K3,V&gt;\n{\n    private Map&lt;K1,Map&lt;K2,Map&lt;K3,V&gt;&gt;&gt; store = new HashMap&lt;K,Map&lt;K2,Map&lt;K3,V&gt;&gt;&gt;();\n    ...\n    public V put(K1 key1, K2 key2, K3 key3, V value) { ... }\n    public V get(K1 key1, K2 key2, K3 key3) { ... }\n\n    public static class TLMEntry&lt;K1,K2,K3,V&gt;\n    {\n    ...\n    }\n    public Collection&lt;TLMEntry&lt;K1,K2,K3,V&gt;&gt; get(K1 key1, K2 key2) { ... }\n    public Collection&lt;TLMEntry&lt;K1,K2,K3,V&gt;&gt; get(K1 key1) { ... }\n}\n</code></pre>\n\n<p>This is a basic skeleton but should get you going in the right direction.</p>\n"},{"tags":[],"owner":{"account_id":2316842,"reputation":7874,"user_id":2033703,"display_name":"Eric Jablow"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363847640,"creation_date":1363847640,"answer_id":15540933,"question_id":15540522,"body_markdown":"This seems more like a database problem.  If you had a database with a table structured like:\r\n\r\n    CREATE TABLE MyMap (\r\n        id IDENTITY PRIMARY KEY,\r\n        c1 int, -- Change data types as needed.\r\n        c2 int,\r\n        c3 int,\r\n        v  int);\r\n\r\nthen you would simply issue SELECT statements against it. You might want to use any of the in-memory Java databases.\r\n\r\nIf you don&#39;t want to do that, you could do the equivalent purely in Java functionally by writing a container class value class:\r\n\r\n    class Cdata {\r\n        private int c1;\r\n        private int c2;\r\n        private int c3;\r\n        private int v;\r\n        // Constructors and getters elided.\r\n        public boolean match(int c1) {\r\n            return this.c1 == c1;\r\n        }\r\n        public boolean match(int c1, int c2) {\r\n            return match(c1) &amp;&amp; this.c2 == c2;\r\n        }\r\n        public boolean match(int c1, int c2, int c3) {\r\n            return match(c1, c2) &amp;&amp; this.c3 == c3;\r\n        }\r\n    }\r\n\r\nThen create a List&lt;Cdata&gt; and use a functional programming library with filter methods.  Or, wait for Java 8 lambdas.  Using a `Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt;&gt;&gt;` is too confusing.\r\n        ","title":"Java Map with keys of 3 columns","body":"<p>This seems more like a database problem.  If you had a database with a table structured like:</p>\n\n<pre><code>CREATE TABLE MyMap (\n    id IDENTITY PRIMARY KEY,\n    c1 int, -- Change data types as needed.\n    c2 int,\n    c3 int,\n    v  int);\n</code></pre>\n\n<p>then you would simply issue SELECT statements against it. You might want to use any of the in-memory Java databases.</p>\n\n<p>If you don't want to do that, you could do the equivalent purely in Java functionally by writing a container class value class:</p>\n\n<pre><code>class Cdata {\n    private int c1;\n    private int c2;\n    private int c3;\n    private int v;\n    // Constructors and getters elided.\n    public boolean match(int c1) {\n        return this.c1 == c1;\n    }\n    public boolean match(int c1, int c2) {\n        return match(c1) &amp;&amp; this.c2 == c2;\n    }\n    public boolean match(int c1, int c2, int c3) {\n        return match(c1, c2) &amp;&amp; this.c3 == c3;\n    }\n}\n</code></pre>\n\n<p>Then create a List and use a functional programming library with filter methods.  Or, wait for Java 8 lambdas.  Using a <code>Map&lt;Integer, Map&lt;Integer, Map&lt;Integer, Integer&gt;&gt;&gt;&gt;</code> is too confusing.</p>\n"},{"tags":[],"owner":{"account_id":26588,"reputation":11301,"user_id":69340,"accept_rate":78,"display_name":"Suresh Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363852532,"creation_date":1363852532,"answer_id":15542093,"question_id":15540522,"body_markdown":"You can use TreeMap to acheive your usecase. I am assuming the following:\r\nYour three columns map to 3 increasing integer values i.e \r\n\r\n&gt; C1 = 1, C2 = 2, C3 =3\r\n\r\n where C1 = 1 is the highest priority and C2 = 2 is next in line and so on.\r\n\r\nNote: Your keys need not always be Integers, you can use any type if you provide the proper `Comparator` to your `TreeMap`.\r\n\r\nWith this in place, you could do something like:\r\n\r\n\r\n\r\n\r\n    TreeMap&lt;Integer, String&gt; treeMap = new TreeMap&lt;Integer, String&gt;();\r\n    treeMap.put(1, &quot;One&quot;);\r\n    treeMap.put(2, &quot;two&quot;);\r\n    treeMap.put(3, &quot;three&quot;);\r\n    \r\n    List&lt;String&gt; list = getMappedValues(treeMap, 1);// returns One, Two, Three\r\n    //List&lt;String&gt; list = getMappedValues(treeMap, 2);// returns Two, Three\r\n    //List&lt;String&gt; list = getMappedValues(treeMap, 3);// returns Three\r\n    //List&lt;String&gt; list = getMappedValues(treeMap, 4);// returns null\r\n    if(list != null){\r\n    \t//do something with the list of values\r\n    }\r\n    \r\n    private static List&lt;String&gt; getMappedValues(TreeMap&lt;Integer, String&gt; map, Integer key) {\r\n    \tEntry&lt;Integer, String&gt; e = map.ceilingEntry(key);\r\n    \tif(e == null){\r\n    \t\treturn null;\r\n    \t}\r\n    \tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \twhile(e != null){\r\n    \t\tlist.add(e.getValue());\r\n    \t\tkey = e.getKey();\r\n    \t\te = map.higherEntry(key);\r\n    \t}\r\n    \treturn list;\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Java Map with keys of 3 columns","body":"<p>You can use TreeMap to acheive your usecase. I am assuming the following:\nYour three columns map to 3 increasing integer values i.e </p>\n\n<blockquote>\n  <p>C1 = 1, C2 = 2, C3 =3</p>\n</blockquote>\n\n<p>where C1 = 1 is the highest priority and C2 = 2 is next in line and so on.</p>\n\n<p>Note: Your keys need not always be Integers, you can use any type if you provide the proper <code>Comparator</code> to your <code>TreeMap</code>.</p>\n\n<p>With this in place, you could do something like:</p>\n\n<pre><code>TreeMap&lt;Integer, String&gt; treeMap = new TreeMap&lt;Integer, String&gt;();\ntreeMap.put(1, \"One\");\ntreeMap.put(2, \"two\");\ntreeMap.put(3, \"three\");\n\nList&lt;String&gt; list = getMappedValues(treeMap, 1);// returns One, Two, Three\n//List&lt;String&gt; list = getMappedValues(treeMap, 2);// returns Two, Three\n//List&lt;String&gt; list = getMappedValues(treeMap, 3);// returns Three\n//List&lt;String&gt; list = getMappedValues(treeMap, 4);// returns null\nif(list != null){\n    //do something with the list of values\n}\n\nprivate static List&lt;String&gt; getMappedValues(TreeMap&lt;Integer, String&gt; map, Integer key) {\n    Entry&lt;Integer, String&gt; e = map.ceilingEntry(key);\n    if(e == null){\n        return null;\n    }\n    List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n    while(e != null){\n        list.add(e.getValue());\n        key = e.getKey();\n        e = map.higherEntry(key);\n    }\n    return list;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":33157,"reputation":12921,"user_id":92568,"accept_rate":77,"display_name":"Avinash"},"score":0,"creation_date":1363959946,"post_id":15543346,"comment_id":22072750,"body_markdown":"Thanks, I have question my type is byte[]. How Do I define MAX and MIN Value","body":"Thanks, I have question my type is byte[]. How Do I define MAX and MIN Value"},{"owner":{"account_id":1766596,"reputation":2236,"user_id":1612355,"display_name":"jop"},"score":0,"creation_date":1363963892,"post_id":15543346,"comment_id":22075364,"body_markdown":"Assuming a [byte comparator](http://stackoverflow.com/questions/5108091/java-comparator-for-byte-array-lexicographic), you can use `MIN = new byte[0]`. For `MAX`, if you have a maximum array size, just use it and initialize all elements with `Byte.MAX_VALUE`. Otherwise, you have to choose some instance (defined as `static final`) and explicitly check for it in `compareTo` with `==`. Finally, depending on your application, `null` might also work as a maximum value by considering it explicitly in `compareTo`.","body":"Assuming a <a href=\"http://stackoverflow.com/questions/5108091/java-comparator-for-byte-array-lexicographic\">byte comparator</a>, you can use <code>MIN = new byte[0]</code>. For <code>MAX</code>, if you have a maximum array size, just use it and initialize all elements with <code>Byte.MAX_VALUE</code>. Otherwise, you have to choose some instance (defined as <code>static final</code>) and explicitly check for it in <code>compareTo</code> with <code>==</code>. Finally, depending on your application, <code>null</code> might also work as a maximum value by considering it explicitly in <code>compareTo</code>."}],"tags":[],"owner":{"account_id":1766596,"reputation":2236,"user_id":1612355,"display_name":"jop"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1363857543,"creation_date":1363857200,"answer_id":15543346,"question_id":15540522,"body_markdown":"You can use the same strategy as multicolumn indexes in databases, if your key columns can be ordered (i.e., in Java, they need to be `Comparable`) and can easily define maximum and minimum values for all but the first.\r\n\r\nAn example with integer columns:\r\n\r\n\tpublic class Key implements Comparable&lt;Key&gt; {\r\n\t\tint c1, c2, c3;\r\n\t\t\r\n\t\tprivate static final int c2_min = Integer.MIN_VALUE;\r\n\t\tprivate static final int c2_max = Integer.MAX_VALUE;\r\n\t\tprivate static final int c3_min = Integer.MIN_VALUE;\r\n\t\tprivate static final int c3_max = Integer.MAX_VALUE;\r\n\r\n\t\t@Override\r\n\t\tpublic int compareTo(Key o) {\r\n\t\t\tif (c1!=o.c1) return Integer.compare(c1, o.c1);\r\n\t\t\tif (c2!=o.c2) return Integer.compare(c2, o.c2);\r\n\t\t\treturn Integer.compare(c3, o.c3);\r\n\t\t}\r\n\t\r\n\t\t// constructor, equals, ...\r\n\r\n\t}\r\n\r\nand then you can get all entries for some value `k1` in `c1` like this:\r\n\r\n\tmap.subMap(new Key(k1, Key.c2_min, 0), new Key(k1, Key.c2_max, 0));\r\n\r\nLikewise, using the first two columns:\r\n\r\n\tmap.subMap(new Key(k1, k2, Key.c3_min), new Key(k1, k2, Key.c3_max));\r\n","title":"Java Map with keys of 3 columns","body":"<p>You can use the same strategy as multicolumn indexes in databases, if your key columns can be ordered (i.e., in Java, they need to be <code>Comparable</code>) and can easily define maximum and minimum values for all but the first.</p>\n\n<p>An example with integer columns:</p>\n\n<pre><code>public class Key implements Comparable&lt;Key&gt; {\n    int c1, c2, c3;\n\n    private static final int c2_min = Integer.MIN_VALUE;\n    private static final int c2_max = Integer.MAX_VALUE;\n    private static final int c3_min = Integer.MIN_VALUE;\n    private static final int c3_max = Integer.MAX_VALUE;\n\n    @Override\n    public int compareTo(Key o) {\n        if (c1!=o.c1) return Integer.compare(c1, o.c1);\n        if (c2!=o.c2) return Integer.compare(c2, o.c2);\n        return Integer.compare(c3, o.c3);\n    }\n\n    // constructor, equals, ...\n\n}\n</code></pre>\n\n<p>and then you can get all entries for some value <code>k1</code> in <code>c1</code> like this:</p>\n\n<pre><code>map.subMap(new Key(k1, Key.c2_min, 0), new Key(k1, Key.c2_max, 0));\n</code></pre>\n\n<p>Likewise, using the first two columns:</p>\n\n<pre><code>map.subMap(new Key(k1, k2, Key.c3_min), new Key(k1, k2, Key.c3_max));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1828279,"reputation":1162,"user_id":1660435,"accept_rate":86,"display_name":"MissingNumber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364647220,"creation_date":1364547293,"answer_id":15700125,"question_id":15540522,"body_markdown":"&gt; \r\n\r\n    private class C {\r\n\r\n        public C() {\r\n            Map &lt;Object ,String&gt; ObjectC =new HashMap&lt;Object, String&gt;();\r\n        }\r\n    }\r\n\r\n    private class B {\r\n\r\n        public B() {\r\n            Map &lt;Object ,C&gt; ObjectB =new HashMap&lt;Object, C&gt;();\r\n        }\r\n    }\r\n\r\n    private class A {\r\n\r\n        public A() {\r\n            Map &lt;Object ,B&gt; ObjectA =new HashMap&lt;Object, B&gt;();\r\n        }\r\n    }\r\n\r\n\r\nSo this could promise you a beautiful structure for which you don&#39;t need do more work further as \r\nYou can get All the content of A  \r\n\r\n    MapVar.ObjectA.get(C1);\r\n\r\nif both C1, C2 are given You can call  \r\n\r\n    MapVar.ObjectA.get(C1).ObjectB.get(C2);\r\n\r\nif both C1, C2 , C3 are given You can call  \r\n\r\n    MapVar.ObjectA.get(C1).ObjectB.get(C2).ObjectC.get(C3);;\r\n\r\nThen you can simply iterate through the map and get values .","title":"Java Map with keys of 3 columns","body":"<blockquote>\n  <p></p>\n</blockquote>\n\n<pre><code>private class C {\n\n    public C() {\n        Map &lt;Object ,String&gt; ObjectC =new HashMap&lt;Object, String&gt;();\n    }\n}\n\nprivate class B {\n\n    public B() {\n        Map &lt;Object ,C&gt; ObjectB =new HashMap&lt;Object, C&gt;();\n    }\n}\n\nprivate class A {\n\n    public A() {\n        Map &lt;Object ,B&gt; ObjectA =new HashMap&lt;Object, B&gt;();\n    }\n}\n</code></pre>\n\n<p>So this could promise you a beautiful structure for which you don't need do more work further as \nYou can get All the content of A  </p>\n\n<pre><code>MapVar.ObjectA.get(C1);\n</code></pre>\n\n<p>if both C1, C2 are given You can call  </p>\n\n<pre><code>MapVar.ObjectA.get(C1).ObjectB.get(C2);\n</code></pre>\n\n<p>if both C1, C2 , C3 are given You can call  </p>\n\n<pre><code>MapVar.ObjectA.get(C1).ObjectB.get(C2).ObjectC.get(C3);;\n</code></pre>\n\n<p>Then you can simply iterate through the map and get values .</p>\n"},{"tags":[],"owner":{"account_id":5319838,"reputation":311,"user_id":4243605,"display_name":"Chandan Hegde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675244693,"creation_date":1675244693,"answer_id":75308234,"question_id":15540522,"body_markdown":"Taking inspiration from how we would&#39;ve handled this if we had access to a database.\r\n\r\nSuppose, we have a table with columns as - C1, C2, C3, Value.\r\n\r\nAnd given the requirement that following would be the query patterns:\r\n\r\n 1. select * from tbl where C1 = &quot;input1&quot;;\r\n 2. select * from tbl where C1 = &quot;input1&quot; and C2 = &quot;input2&quot;;\r\n 3. select * from tbl where C1 = &quot;input1&quot; and C2 = &quot;input2&quot; and C3 = &quot;input3&quot;;\r\n\r\nIn such scenarios, it would be better if we use a multi-column index on (C1, C2, C3) in that particular order - which would internally create 3 separate indexes as:\r\n\r\n - Index1 - C1  (Useful for queries of type 1.)\r\n - Index2 - C1 and C2  (Useful for queries of type 2.)\r\n - Index3 - C1 and C2 and C3 (Useful for queries of type 3.)\r\n\r\nWe can follow a similar strategy in Java - to define 3 maps:\r\n - Map1 - Map&lt;C1, Set&lt;Value&gt;&gt;\r\n - Map2 - Map&lt;C1+C2, Set&lt;Value&gt;&gt; (Here key is concatenation of string values of C1 and C2)\r\n - Map3 - Map&lt;C1+C2+C3, Set&lt;Value&gt;&gt; (Here key is concatenation of string values of C1, C2 and C3)\r\n\r\nSo, based on the keys passed for fetch query, we pick the appropriate map.\r\nFor example: \r\n - get(K1) - we will fetch from Map1\r\n - get(K1, K2) - we will fetch from Map2\r\n - get(K1, K2, K3) - we will fetch from Map3\r\n\r\nNote that, this would require us to insert/delete in/from all the 3 maps for registering new data and deleting existing data ","title":"Java Map with keys of 3 columns","body":"<p>Taking inspiration from how we would've handled this if we had access to a database.</p>\n<p>Suppose, we have a table with columns as - C1, C2, C3, Value.</p>\n<p>And given the requirement that following would be the query patterns:</p>\n<ol>\n<li>select * from tbl where C1 = &quot;input1&quot;;</li>\n<li>select * from tbl where C1 = &quot;input1&quot; and C2 = &quot;input2&quot;;</li>\n<li>select * from tbl where C1 = &quot;input1&quot; and C2 = &quot;input2&quot; and C3 = &quot;input3&quot;;</li>\n</ol>\n<p>In such scenarios, it would be better if we use a multi-column index on (C1, C2, C3) in that particular order - which would internally create 3 separate indexes as:</p>\n<ul>\n<li>Index1 - C1  (Useful for queries of type 1.)</li>\n<li>Index2 - C1 and C2  (Useful for queries of type 2.)</li>\n<li>Index3 - C1 and C2 and C3 (Useful for queries of type 3.)</li>\n</ul>\n<p>We can follow a similar strategy in Java - to define 3 maps:</p>\n<ul>\n<li>Map1 - Map&lt;C1, Set&gt;</li>\n<li>Map2 - Map&lt;C1+C2, Set&gt; (Here key is concatenation of string values of C1 and C2)</li>\n<li>Map3 - Map&lt;C1+C2+C3, Set&gt; (Here key is concatenation of string values of C1, C2 and C3)</li>\n</ul>\n<p>So, based on the keys passed for fetch query, we pick the appropriate map.\nFor example:</p>\n<ul>\n<li>get(K1) - we will fetch from Map1</li>\n<li>get(K1, K2) - we will fetch from Map2</li>\n<li>get(K1, K2, K3) - we will fetch from Map3</li>\n</ul>\n<p>Note that, this would require us to insert/delete in/from all the 3 maps for registering new data and deleting existing data</p>\n"}],"owner":{"account_id":33157,"reputation":12921,"user_id":92568,"accept_rate":77,"display_name":"Avinash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12137,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":15543346,"answer_count":9,"score":8,"last_activity_date":1675244693,"creation_date":1363845762,"question_id":15540522,"body_markdown":"I need a map in which my key should be based on 3 columns, say `C1, C2, C3`. `C1` has highest priority. `C2` has one less than `C1` and `C3` has one less than `C2`.\r\n\r\nHow do i create key in the map such that if somebody asks for information on `C1`, I should able to give all the values which has `C1`. I also should be able to return all the values if asked for `C1 &amp; C2`","title":"Java Map with keys of 3 columns","body":"<p>I need a map in which my key should be based on 3 columns, say <code>C1, C2, C3</code>. <code>C1</code> has highest priority. <code>C2</code> has one less than <code>C1</code> and <code>C3</code> has one less than <code>C2</code>.</p>\n\n<p>How do i create key in the map such that if somebody asks for information on <code>C1</code>, I should able to give all the values which has <code>C1</code>. I also should be able to return all the values if asked for <code>C1 &amp; C2</code></p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"owner":{"account_id":12119765,"reputation":111,"user_id":8851815,"display_name":"Dafik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675244490,"creation_date":1675244490,"question_id":75308200,"body_markdown":"How can I do relation between one entity, something like followers at Instagram. I did something like below, but I&#39;m getting **&quot;D has the wrong number of column. should be 2&quot;**\r\n\r\nHow can I do relation between one type object? \r\n\r\n```java\r\n@Embeddable\r\npublic class DRelationshipKey implements Serializable {\r\n    \r\n@Column(name = &quot;d1_id&quot;)\r\n    Long d1Id;\r\n\r\n    @Column(name = &quot;d2_id&quot;)\r\n    Long d2Id;\r\n}\r\n```\r\n\r\n\r\n```java\r\n@Entity\r\npublic class DRelationship {\r\n\r\n    @EmbeddedId\r\n    public DRelationshipKey id;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;d1Id&quot;)\r\n    private D d1;\r\n\r\n    @ManyToOne\r\n    @MapsId(&quot;d2Id&quot;)\r\n    private D d2;\r\n\r\n    @Column\r\n    String type;\r\n}\r\n```\r\n\r\n```java\r\npublic class D {\r\n...\r\n@ManyToMany\r\n\t@JoinTable(name = &quot;d_relationship&quot;,\r\n\t\t\tjoinColumns = @JoinColumn(name = &quot;d1_id&quot;),\r\n\t\t\tinverseJoinColumns = @JoinColumn(name = &quot;d2_id&quot;))\r\n\tprivate List&lt;DRelationship&gt; relatedEntities;\r\n}\r\n```","title":"@ManyToMany at one object spring boot hibernate","body":"<p>How can I do relation between one entity, something like followers at Instagram. I did something like below, but I'm getting <strong>&quot;D has the wrong number of column. should be 2&quot;</strong></p>\n<p>How can I do relation between one type object?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class DRelationshipKey implements Serializable {\n    \n@Column(name = &quot;d1_id&quot;)\n    Long d1Id;\n\n    @Column(name = &quot;d2_id&quot;)\n    Long d2Id;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class DRelationship {\n\n    @EmbeddedId\n    public DRelationshipKey id;\n\n    @ManyToOne\n    @MapsId(&quot;d1Id&quot;)\n    private D d1;\n\n    @ManyToOne\n    @MapsId(&quot;d2Id&quot;)\n    private D d2;\n\n    @Column\n    String type;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class D {\n...\n@ManyToMany\n    @JoinTable(name = &quot;d_relationship&quot;,\n            joinColumns = @JoinColumn(name = &quot;d1_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;d2_id&quot;))\n    private List&lt;DRelationship&gt; relatedEntities;\n}\n</code></pre>\n"},{"tags":["java","html","geomap"],"owner":{"account_id":26010313,"reputation":1,"user_id":19719483,"display_name":"nd12950395"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675244244,"creation_date":1675244244,"question_id":75308148,"body_markdown":"I am trying to pass a JSON file into a Google Charts Geo Map but nothing is return after running the script.\r\n\r\nHere is the JSON for states and the amount of orders (orders.json):\r\n\r\n```\r\n{&quot;columns&quot;:[&quot;state&quot;,&quot;orders&quot;],&quot;data&quot;:[[&quot;US-SC&quot;,245],[&quot;US-CA&quot;,2866],[&quot;US-MD&quot;,411],[&quot;US-VA&quot;,552],     [&quot;US-CO&quot;,390],[&quot;US-NY&quot;,1529],[&quot;US-FL&quot;,1534],[&quot;US-TX&quot;,1588],[&quot;US-ID&quot;,76],[&quot;US-CT&quot;,275],[&quot;US-PA&quot;,926],[&quot;US-WV&quot;,88],[&quot;US-HI&quot;,141],[&quot;US-NJ&quot;,833],[&quot;US-MI&quot;,507],[&quot;US-KS&quot;,158],[&quot;US-WA&quot;,476],[&quot;US-MN&quot;,289],[&quot;US-OH&quot;,682],[&quot;US-GA&quot;,574],[&quot;US-KY&quot;,209],[&quot;US-WI&quot;,282],[&quot;US-IL&quot;,866],[&quot;US-OK&quot;,170],[&quot;US-MA&quot;,643],[&quot;US-RI&quot;,85],[&quot;US-NC&quot;,536],[&quot;US-MS&quot;,103],[&quot;US-OR&quot;,207],[&quot;US-AZ&quot;,382],[&quot;US-NV&quot;,168],[&quot;US-TN&quot;,374],[&quot;US-AR&quot;,131],[&quot;US-AL&quot;,233],[&quot;US-MO&quot;,353],[&quot;US-WY&quot;,14],[&quot;US-IA&quot;,143],[&quot;US-IN&quot;,300],[&quot;US-LA&quot;,237],[&quot;US-ME&quot;,65],[&quot;US-AK&quot;,44],[&quot;US-UT&quot;,134],[&quot;US-ND&quot;,44],[&quot;US-NE&quot;,105],[&quot;US-BC&quot;,29],[&quot;US-MT&quot;,52],[&quot;US-DE&quot;,68],[&quot;US-SD&quot;,31],[null,91],[&quot;US-ON&quot;,69],[&quot;US-DC&quot;,68],[&quot;US-Jersey&quot;,1],[&quot;US-Taipei&quot;,1],[&quot;US-NH&quot;,89],[&quot;US-VI&quot;,5],[&quot;US-NM&quot;,63],[&quot;US-Dubai&quot;,5],[&quot;US-AB&quot;,22],[&quot;US-AP&quot;,8],[&quot;US-Wan Chai&quot;,1],[&quot;US-VT&quot;,18],[&quot;US-AE&quot;,11],[&quot;US-West Midlands&quot;,2],[&quot;US-Stafford&quot;,1],[&quot;US-Glos&quot;,1],[&quot;US-QC&quot;,19],[&quot;US-SK&quot;,4],[&quot;US-VIC&quot;,8],[&quot;US-London&quot;,3],[&quot;US-QLD&quot;,5],[&quot;US-Nottinghamshire&quot;,1],[&quot;US-England&quot;,11],[&quot;US-NRW&quot;,2],[&quot;US-PR&quot;,15],[&quot;US-Kwun Tong&quot;,1],[&quot;US-Isle of Wight&quot;,1],[&quot;US-NSW&quot;,14],[&quot;US-N\\/A&quot;,3],[&quot;US-CORK&quot;,1],[&quot;US-Oxfordshire&quot;,1],[&quot;US-MEX&quot;,1],[&quot;US-NT&quot;,1],[&quot;US-Guam&quot;,1],[&quot;US-Powys&quot;,1],[&quot;US-NS&quot;,9],[&quot;US-NB&quot;,1],[&quot;US-Tenessee&quot;,1],[&quot;US-AS&quot;,1],[&quot;US-BAYERN&quot;,1],[&quot;US-Co. Dublin&quot;,2],[&quot;US-Central and Western&quot;,3],[&quot;US-MB&quot;,3],[&quot;US-Tamuning&quot;,1],[&quot;US-Kowloon City&quot;,1],[&quot;US-PE&quot;,1],[&quot;US-COUNTY DURHAM&quot;,1],[&quot;US-3892&quot;,1],[&quot;US-GU&quot;,2],[&quot;US-ALICANTE&quot;,1],[&quot;US-Cambridgeshire&quot;,1],[&quot;US-AA&quot;,1],[&quot;US-WEST GLAMORGAN&quot;,1],[&quot;US-Warwickshire&quot;,1],[&quot;US-Gelderland&quot;,1],[&quot;US-NL&quot;,3],[&quot;US-Gujarat&quot;,2],[&quot;US-Tokyo&quot;,1],[&quot;US-MOR&quot;,1],[&quot;US-Abu Dhabi&quot;,1],[&quot;US-Co. Clare&quot;,1],[&quot;US-West lothian&quot;,1],[&quot;US-Worcestershire&quot;,1],[&quot;US-Northamptonshire&quot;,1],[&quot;US-Essex&quot;,1],[&quot;US-PI&quot;,1],[&quot;US-Z\\u00fcrich&quot;,1],[&quot;US-Merseyside&quot;,2],[&quot;US-Durham&quot;,1],[&quot;US-Co. Kildare&quot;,2],[&quot;US-Hamilton&quot;,1],[&quot;US-TO&quot;,2],[&quot;US-Buenos Aires&quot;,1],[&quot;US-Lagos&quot;,1],[&quot;US-Greater London&quot;,1],[&quot;US-Shetland Islands&quot;,1],[&quot;US-HK&quot;,1],[&quot;US-Co. Waterford&quot;,1],[&quot;US-SA&quot;,2],[&quot;US-West Yorkshire&quot;,1],[&quot;US-3906&quot;,1],[&quot;US-Surrey&quot;,1],[&quot;US-FM&quot;,1],[&quot;US-Warrington&quot;,1],[&quot;US-ACT&quot;,1],[&quot;US-BW&quot;,1],[&quot;US-PUE&quot;,1],[&quot;US-Ash Sh\\u0101riqah&quot;,1],[&quot;US-Co. Kerry&quot;,1]]}\r\n```\r\n\r\nHere is the script for creating the Geo Map:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n  &lt;head&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://www.gstatic.com/charts/loader.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script type=&quot;text/javascript&quot; src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;&gt;\r\n\r\n    google.charts.load(&#39;visualization&#39;, &#39;1&#39;, {&#39;packages&#39;: [&#39;geochart&#39;]});\r\n    google.charts.setOnLoadCallback(drawStatesMap);\r\n\r\n    function drawStatesMap() {\r\n        var jsonData = $.ajax({\r\n            data: &#39;orders.json&#39;,\r\n            dataType: &quot;json&quot;\r\n            success: function(json) {\r\n            console.log(jsonData);\r\n        }\r\n            }).responseText;\r\n        var statesData = google.visualization.DataTable(jsonData);\r\n\r\n    //   var statesData = google.visualization.DataTable(jsonData);\r\n        var chart = google.visualization.GeoChart(document.getElementById(&#39;chart_div&#39;));\r\n        var options = {region: &#39;US&#39;, resolution: &#39;provinces&#39;};\r\n        var dimension = &quot;orders&quot;;\r\n        chart.draw(statesData, options);\r\n        };\r\n\r\n&lt;/script&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;div id=&quot;chart_div&quot; style=&quot;width: 900px; height: 500px;&quot;&gt;&lt;/div&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n I was expecting to have an interactive Google Geo Map but nothing is returned to Google CHrome when running the above script. ","title":"JSON data not loading into Google Charts Geo Map Visual","body":"<p>I am trying to pass a JSON file into a Google Charts Geo Map but nothing is return after running the script.</p>\n<p>Here is the JSON for states and the amount of orders (orders.json):</p>\n<pre><code>{&quot;columns&quot;:[&quot;state&quot;,&quot;orders&quot;],&quot;data&quot;:[[&quot;US-SC&quot;,245],[&quot;US-CA&quot;,2866],[&quot;US-MD&quot;,411],[&quot;US-VA&quot;,552],     [&quot;US-CO&quot;,390],[&quot;US-NY&quot;,1529],[&quot;US-FL&quot;,1534],[&quot;US-TX&quot;,1588],[&quot;US-ID&quot;,76],[&quot;US-CT&quot;,275],[&quot;US-PA&quot;,926],[&quot;US-WV&quot;,88],[&quot;US-HI&quot;,141],[&quot;US-NJ&quot;,833],[&quot;US-MI&quot;,507],[&quot;US-KS&quot;,158],[&quot;US-WA&quot;,476],[&quot;US-MN&quot;,289],[&quot;US-OH&quot;,682],[&quot;US-GA&quot;,574],[&quot;US-KY&quot;,209],[&quot;US-WI&quot;,282],[&quot;US-IL&quot;,866],[&quot;US-OK&quot;,170],[&quot;US-MA&quot;,643],[&quot;US-RI&quot;,85],[&quot;US-NC&quot;,536],[&quot;US-MS&quot;,103],[&quot;US-OR&quot;,207],[&quot;US-AZ&quot;,382],[&quot;US-NV&quot;,168],[&quot;US-TN&quot;,374],[&quot;US-AR&quot;,131],[&quot;US-AL&quot;,233],[&quot;US-MO&quot;,353],[&quot;US-WY&quot;,14],[&quot;US-IA&quot;,143],[&quot;US-IN&quot;,300],[&quot;US-LA&quot;,237],[&quot;US-ME&quot;,65],[&quot;US-AK&quot;,44],[&quot;US-UT&quot;,134],[&quot;US-ND&quot;,44],[&quot;US-NE&quot;,105],[&quot;US-BC&quot;,29],[&quot;US-MT&quot;,52],[&quot;US-DE&quot;,68],[&quot;US-SD&quot;,31],[null,91],[&quot;US-ON&quot;,69],[&quot;US-DC&quot;,68],[&quot;US-Jersey&quot;,1],[&quot;US-Taipei&quot;,1],[&quot;US-NH&quot;,89],[&quot;US-VI&quot;,5],[&quot;US-NM&quot;,63],[&quot;US-Dubai&quot;,5],[&quot;US-AB&quot;,22],[&quot;US-AP&quot;,8],[&quot;US-Wan Chai&quot;,1],[&quot;US-VT&quot;,18],[&quot;US-AE&quot;,11],[&quot;US-West Midlands&quot;,2],[&quot;US-Stafford&quot;,1],[&quot;US-Glos&quot;,1],[&quot;US-QC&quot;,19],[&quot;US-SK&quot;,4],[&quot;US-VIC&quot;,8],[&quot;US-London&quot;,3],[&quot;US-QLD&quot;,5],[&quot;US-Nottinghamshire&quot;,1],[&quot;US-England&quot;,11],[&quot;US-NRW&quot;,2],[&quot;US-PR&quot;,15],[&quot;US-Kwun Tong&quot;,1],[&quot;US-Isle of Wight&quot;,1],[&quot;US-NSW&quot;,14],[&quot;US-N\\/A&quot;,3],[&quot;US-CORK&quot;,1],[&quot;US-Oxfordshire&quot;,1],[&quot;US-MEX&quot;,1],[&quot;US-NT&quot;,1],[&quot;US-Guam&quot;,1],[&quot;US-Powys&quot;,1],[&quot;US-NS&quot;,9],[&quot;US-NB&quot;,1],[&quot;US-Tenessee&quot;,1],[&quot;US-AS&quot;,1],[&quot;US-BAYERN&quot;,1],[&quot;US-Co. Dublin&quot;,2],[&quot;US-Central and Western&quot;,3],[&quot;US-MB&quot;,3],[&quot;US-Tamuning&quot;,1],[&quot;US-Kowloon City&quot;,1],[&quot;US-PE&quot;,1],[&quot;US-COUNTY DURHAM&quot;,1],[&quot;US-3892&quot;,1],[&quot;US-GU&quot;,2],[&quot;US-ALICANTE&quot;,1],[&quot;US-Cambridgeshire&quot;,1],[&quot;US-AA&quot;,1],[&quot;US-WEST GLAMORGAN&quot;,1],[&quot;US-Warwickshire&quot;,1],[&quot;US-Gelderland&quot;,1],[&quot;US-NL&quot;,3],[&quot;US-Gujarat&quot;,2],[&quot;US-Tokyo&quot;,1],[&quot;US-MOR&quot;,1],[&quot;US-Abu Dhabi&quot;,1],[&quot;US-Co. Clare&quot;,1],[&quot;US-West lothian&quot;,1],[&quot;US-Worcestershire&quot;,1],[&quot;US-Northamptonshire&quot;,1],[&quot;US-Essex&quot;,1],[&quot;US-PI&quot;,1],[&quot;US-Z\\u00fcrich&quot;,1],[&quot;US-Merseyside&quot;,2],[&quot;US-Durham&quot;,1],[&quot;US-Co. Kildare&quot;,2],[&quot;US-Hamilton&quot;,1],[&quot;US-TO&quot;,2],[&quot;US-Buenos Aires&quot;,1],[&quot;US-Lagos&quot;,1],[&quot;US-Greater London&quot;,1],[&quot;US-Shetland Islands&quot;,1],[&quot;US-HK&quot;,1],[&quot;US-Co. Waterford&quot;,1],[&quot;US-SA&quot;,2],[&quot;US-West Yorkshire&quot;,1],[&quot;US-3906&quot;,1],[&quot;US-Surrey&quot;,1],[&quot;US-FM&quot;,1],[&quot;US-Warrington&quot;,1],[&quot;US-ACT&quot;,1],[&quot;US-BW&quot;,1],[&quot;US-PUE&quot;,1],[&quot;US-Ash Sh\\u0101riqah&quot;,1],[&quot;US-Co. Kerry&quot;,1]]}\n</code></pre>\n<p>Here is the script for creating the Geo Map:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n  &lt;head&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;https://www.gstatic.com/charts/loader.js&quot;&gt;&lt;/script&gt;\n    &lt;script type=&quot;text/javascript&quot; src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js&quot;&gt;\n\n    google.charts.load('visualization', '1', {'packages': ['geochart']});\n    google.charts.setOnLoadCallback(drawStatesMap);\n\n    function drawStatesMap() {\n        var jsonData = $.ajax({\n            data: 'orders.json',\n            dataType: &quot;json&quot;\n            success: function(json) {\n            console.log(jsonData);\n        }\n            }).responseText;\n        var statesData = google.visualization.DataTable(jsonData);\n\n    //   var statesData = google.visualization.DataTable(jsonData);\n        var chart = google.visualization.GeoChart(document.getElementById('chart_div'));\n        var options = {region: 'US', resolution: 'provinces'};\n        var dimension = &quot;orders&quot;;\n        chart.draw(statesData, options);\n        };\n\n&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=&quot;chart_div&quot; style=&quot;width: 900px; height: 500px;&quot;&gt;&lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I was expecting to have an interactive Google Geo Map but nothing is returned to Google CHrome when running the above script.</p>\n"},{"tags":["java","postgresql","ref-cursor"],"comments":[{"owner":{"display_name":"user330315"},"score":0,"creation_date":1675244428,"post_id":75308136,"comment_id":132884866,"body_markdown":"Why not change the stored procedure to a function that returns a result set, then use `select * from my_function(....)` instead?","body":"Why not change the stored procedure to a function that returns a result set, then use <code>select * from my_function(....)</code> instead?"},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1675397361,"post_id":75308136,"comment_id":132924825,"body_markdown":"@a_horse_with_no_name : Yes with function it is working","body":"@a_horse_with_no_name : Yes with function it is working"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675244171,"creation_date":1675244171,"question_id":75308136,"body_markdown":"I am using a Postgres database. And I have one stored procedure which returns a refcursor as below\r\n\r\n    INOUT p_refcur refcursor DEFAULT NULL::refcursor\r\n\r\n\r\nI am calling the SP in pgAdmin tool as below and getting proper result :\r\n\r\n    BEGIN;\r\n    CALL my_spg(&#39;some_val&#39;, &#39;another_val&#39;, &#39;refcursorresult&#39;);\r\n    FETCH ALL IN &quot;refcursorresult&quot;;\r\n    COMMIT;\r\n\r\nNow I am trying to call the above SP from my Java code and trying to obtain the result from the refcursor , but I am not able to fetch. I looked around many forums but I did not find any single way on how to obtain the value from the refcursor in postgres.\r\n\r\nMy sample minimum relevant java code :\r\n\r\n    public List&lt;ResponseDTO&gt; callMySP(String someVal, String anotherVal) {\t\t\r\n\t\t\r\n\t\tConnection conn = DatabaseConnection.connect();\r\n\t\tCallableStatement cstmt = null;\t\t\r\n\t\tList&lt;ResponseDTO&gt; respList= new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\ttry {\t\t\t\r\n\t\t\tif(conn != null) {\r\n\t\t\t\tconn.setAutoCommit(false);\r\n\t\t\t}\t\t\t\r\n\t\t\t\r\n\t\t\tcstmt = conn.prepareCall(&quot;call public.my_sp (?,?,&#39;refcursorresult&#39;);&quot;);\r\n\t\t\tcstmt.setString(1, someVal);\r\n\t\t\tcstmt.setString(2, anotherVal);\t\t\t\r\n\t\t\tcstmt.registerOutParameter(1, Types.OTHER);\r\n\t\t\t\r\n\t\t\tBoolean result = cstmt.execute();\r\n\t\t\t\r\n\t\t\tif(result) {\r\n\t\t\t\tResultSet rs = (ResultSet) cstmt.getObject(1);\r\n\t\t\t\tif(null != rs) {\t\r\n                   \r\n                    // Here I am confused on how to obtain the refcursor value from RS.\t\t\t\t\r\n\t\t\t\t\twhile(rs.next()) {\r\n\t\t\t\t\t\t\r\n                           // my logic here\r\n                           respList.add();\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tLOGGER.info(&quot;Result Set is null&quot;);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconn.commit();\t\t\t\r\n\r\n\t\t} catch (SQLException sqlEx) {\t\t\t\r\n\t\t\tLOGGER.error(&quot;&quot;, sqlEx);\t\t\t\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;&quot;, e);\t\t\t\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tcstmt.close();\r\n\t\t\t\tconn.close();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\tLOGGER.error(&quot;Error in connection close.&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\treturn respList;\r\n\t}\r\n\r\nCan some one please help me out. I am stuck here.","title":"How to fetch the data In JAVA from refcursor resultset in postgres stored procedure","body":"<p>I am using a Postgres database. And I have one stored procedure which returns a refcursor as below</p>\n<pre><code>INOUT p_refcur refcursor DEFAULT NULL::refcursor\n</code></pre>\n<p>I am calling the SP in pgAdmin tool as below and getting proper result :</p>\n<pre><code>BEGIN;\nCALL my_spg('some_val', 'another_val', 'refcursorresult');\nFETCH ALL IN &quot;refcursorresult&quot;;\nCOMMIT;\n</code></pre>\n<p>Now I am trying to call the above SP from my Java code and trying to obtain the result from the refcursor , but I am not able to fetch. I looked around many forums but I did not find any single way on how to obtain the value from the refcursor in postgres.</p>\n<p>My sample minimum relevant java code :</p>\n<pre><code>public List&lt;ResponseDTO&gt; callMySP(String someVal, String anotherVal) {      \n    \n    Connection conn = DatabaseConnection.connect();\n    CallableStatement cstmt = null;     \n    List&lt;ResponseDTO&gt; respList= new ArrayList&lt;&gt;();\n    \n    try {           \n        if(conn != null) {\n            conn.setAutoCommit(false);\n        }           \n        \n        cstmt = conn.prepareCall(&quot;call public.my_sp (?,?,'refcursorresult');&quot;);\n        cstmt.setString(1, someVal);\n        cstmt.setString(2, anotherVal);         \n        cstmt.registerOutParameter(1, Types.OTHER);\n        \n        Boolean result = cstmt.execute();\n        \n        if(result) {\n            ResultSet rs = (ResultSet) cstmt.getObject(1);\n            if(null != rs) {    \n               \n                // Here I am confused on how to obtain the refcursor value from RS.             \n                while(rs.next()) {\n                    \n                       // my logic here\n                       respList.add();                      \n                }\n            }\n        } else {\n            LOGGER.info(&quot;Result Set is null&quot;);\n        }\n        \n        conn.commit();          \n\n    } catch (SQLException sqlEx) {          \n        LOGGER.error(&quot;&quot;, sqlEx);            \n    } catch (Exception e) {\n        LOGGER.error(&quot;&quot;, e);            \n    } finally {\n        try {\n            cstmt.close();\n            conn.close();\n        } catch (SQLException e) {\n            LOGGER.error(&quot;Error in connection close.&quot;, e);\n        }\n    }\n\n    return respList;\n}\n</code></pre>\n<p>Can some one please help me out. I am stuck here.</p>\n"},{"tags":["java","postgresql","hibernate","annotations","pojo"],"comments":[{"owner":{"display_name":"user330315"},"score":2,"creation_date":1675244294,"post_id":75308111,"comment_id":132884821,"body_markdown":"A `numeric` type should be mapped to a BigDecimal. **Never** store numbers in strings. But a `number(x,0)` from Oracle is probably better mapped to an `integer` or `bigint` in Postgres (depends on the value of X). A `smallint` in Oracle and it should be mapped to a `smallint` in Postgres. Or better a `boolean` if that stores a boolean flag.","body":"A <code>numeric</code> type should be mapped to a BigDecimal. <b>Never</b> store numbers in strings. But a <code>number(x,0)</code> from Oracle is probably better mapped to an <code>integer</code> or <code>bigint</code> in Postgres (depends on the value of X). A <code>smallint</code> in Oracle and it should be mapped to a <code>smallint</code> in Postgres. Or better a <code>boolean</code> if that stores a boolean flag."},{"owner":{"account_id":9800962,"reputation":21,"user_id":7262340,"display_name":"EillesDeveloper"},"score":0,"creation_date":1675244772,"post_id":75308111,"comment_id":132884986,"body_markdown":"Thanks for the answer. for the `smallint` i am actually thinking about to convert it into a `boolean` (probably align it with data migration then). For the `number` i am also unhappy that this was initially used and not as a `varchar`. Is there anyway out-of-the-box way to still tell hibernate that it should be treated as a String, but the database Type still remains `numeric`?","body":"Thanks for the answer. for the <code>smallint</code> i am actually thinking about to convert it into a <code>boolean</code> (probably align it with data migration then). For the <code>number</code> i am also unhappy that this was initially used and not as a <code>varchar</code>. Is there anyway out-of-the-box way to still tell hibernate that it should be treated as a String, but the database Type still remains <code>numeric</code>?"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1675244926,"post_id":75308111,"comment_id":132885031,"body_markdown":"Why would you want to handle numbers as Strings inside your Java application? That makes zero sense to me.","body":"Why would you want to handle numbers as Strings inside your Java application? That makes zero sense to me."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1675245076,"post_id":75308111,"comment_id":132885088,"body_markdown":"Note that Oracle doesn&#39;t really have a `smallint` data type. It&#39;s converted to `number` internally which will allow to store values as high as `1e100` so you might want to make sure that the column really only contains `0` and `1`","body":"Note that Oracle doesn&#39;t really have a <code>smallint</code> data type. It&#39;s converted to <code>number</code> internally which will allow to store values as high as <code>1e100</code> so you might want to make sure that the column really only contains <code>0</code> and <code>1</code>"},{"owner":{"account_id":9800962,"reputation":21,"user_id":7262340,"display_name":"EillesDeveloper"},"score":0,"creation_date":1675245196,"post_id":75308111,"comment_id":132885124,"body_markdown":"i think the former developer handled it as a String because functionally the number is more like a label. e.g a telephone number or a description based on numbers.  Therefore i think it was easier initially to map it to a string to use it within the application. For Oracle this wasn&#39;t a problem but with Postgres now this a bit differently","body":"i think the former developer handled it as a String because functionally the number is more like a label. e.g a telephone number or a description based on numbers.  Therefore i think it was easier initially to map it to a string to use it within the application. For Oracle this wasn&#39;t a problem but with Postgres now this a bit differently"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1675245554,"post_id":75308111,"comment_id":132885242,"body_markdown":"If it&#39;s not really a number, then it should be a `varchar` (or `text`) in the database.","body":"If it&#39;s not really a number, then it should be a <code>varchar</code> (or <code>text</code>) in the database."}],"owner":{"account_id":9800962,"reputation":21,"user_id":7262340,"display_name":"EillesDeveloper"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675244039,"creation_date":1675244039,"question_id":75308111,"body_markdown":"Currently i am migrating my legacy application from Oracle to Postgres.\r\nWithin my POJOs i am having issues with following new datatypes.\r\n\r\n| Datatype in Oracle | New Datatype in Postgres | Data Type in Spring Boot (Hibernate Entity)  |\r\n| -------- | -------------- |-------------- |\r\n| NUMBER(X,0)   | NUMERIC(X,0)            | String\r\n| SMALLINT | NUMERIC(1,0)            | boolean\r\n\r\nHow can i map this within my Hibernate Entity correctly?\r\nCurrently i am getting always Type Exceptions because of character does not match numeric etc.\r\n\r\nFor the boolean is somehow fixed it by adding @Type(type=&quot;org.hibernate.type.NumericBooleanType)\r\nbut there i have also to change the Java Type from boolean to Boolean which i would like to avoid\r\n\r\nMy current research should i need to write an own UserType for it, but somehow i am bit confused because i don&#39;t think Numeric to String / boolean is such a rare case so that nobody included already a Logic / UserType within Hibernate.","title":"Converting Oracle Database Types to Postgres / Hibernate Mapping","body":"<p>Currently i am migrating my legacy application from Oracle to Postgres.\nWithin my POJOs i am having issues with following new datatypes.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Datatype in Oracle</th>\n<th>New Datatype in Postgres</th>\n<th>Data Type in Spring Boot (Hibernate Entity)</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>NUMBER(X,0)</td>\n<td>NUMERIC(X,0)</td>\n<td>String</td>\n</tr>\n<tr>\n<td>SMALLINT</td>\n<td>NUMERIC(1,0)</td>\n<td>boolean</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>How can i map this within my Hibernate Entity correctly?\nCurrently i am getting always Type Exceptions because of character does not match numeric etc.</p>\n<p>For the boolean is somehow fixed it by adding @Type(type=&quot;org.hibernate.type.NumericBooleanType)\nbut there i have also to change the Java Type from boolean to Boolean which i would like to avoid</p>\n<p>My current research should i need to write an own UserType for it, but somehow i am bit confused because i don't think Numeric to String / boolean is such a rare case so that nobody included already a Logic / UserType within Hibernate.</p>\n"},{"tags":["java","comparison"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1675130079,"post_id":75291929,"comment_id":132858363,"body_markdown":"Which line of code throws the NPE?","body":"Which line of code throws the NPE?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1675130228,"post_id":75291929,"comment_id":132858382,"body_markdown":"@OldDogProgrammer The second line is the only one that can throw an NPE.  (Unless someone does something silly like `System.setOut(null);`).","body":"@OldDogProgrammer The second line is the only one that can throw an NPE.  (Unless someone does something silly like <code>System.setOut(null);</code>)."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675130119,"creation_date":1675130119,"answer_id":75291958,"question_id":75291929,"body_markdown":"The type of the conditional expression is inferred as `double`, so you get a `NullPointerException` when the program attempts to unbox `value` (which is `null`) as a primitive `double`.\r\n\r\nTo make the expression have a `Double` result (which can store `null`), cast `0.0` to `Double`.\r\n\r\n```java\r\nDouble v = value != null &amp;&amp; value.isNaN() ? (Double) 0.0 : value\r\n```\r\n\r\nSee [&#167;15.25.2. Numeric Conditional Expressions](https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.25.2) for more details.","title":"NullPointerException with ternary operator","body":"<p>The type of the conditional expression is inferred as <code>double</code>, so you get a <code>NullPointerException</code> when the program attempts to unbox <code>value</code> (which is <code>null</code>) as a primitive <code>double</code>.</p>\n<p>To make the expression have a <code>Double</code> result (which can store <code>null</code>), cast <code>0.0</code> to <code>Double</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Double v = value != null &amp;&amp; value.isNaN() ? (Double) 0.0 : value\n</code></pre>\n<p>See <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.25.2\" rel=\"noreferrer\">§15.25.2. Numeric Conditional Expressions</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675243947,"creation_date":1675243947,"answer_id":75308098,"question_id":75291929,"body_markdown":"Just to extend the above accepted answer which is to the point but you may as well avoid casting here.\r\n\r\n       Double value = null;\r\n       Double v = value != null &amp;&amp; value.isNaN() ? Double.valueOf(0.0) : value;\r\n       System.out.println(v);\r\n\r\nThe `Double.valueOf(0.0)` will provide a `Double` in first type of condition which will make the conditional operator to evaluate into the type of `Double` since `value` is as well of type `Double`. So if no participant of condition is of primitive type `double`, it will not try any unboxing and a NPE will not be thrown.","title":"NullPointerException with ternary operator","body":"<p>Just to extend the above accepted answer which is to the point but you may as well avoid casting here.</p>\n<pre><code>   Double value = null;\n   Double v = value != null &amp;&amp; value.isNaN() ? Double.valueOf(0.0) : value;\n   System.out.println(v);\n</code></pre>\n<p>The <code>Double.valueOf(0.0)</code> will provide a <code>Double</code> in first type of condition which will make the conditional operator to evaluate into the type of <code>Double</code> since <code>value</code> is as well of type <code>Double</code>. So if no participant of condition is of primitive type <code>double</code>, it will not try any unboxing and a NPE will not be thrown.</p>\n"}],"owner":{"account_id":19032382,"reputation":53,"user_id":16177734,"display_name":"Vic Investa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1677406003,"accepted_answer_id":75291958,"answer_count":2,"score":5,"last_activity_date":1675243947,"creation_date":1675129640,"question_id":75291929,"body_markdown":"Why does this work:\r\n\r\n```\r\nString a = null;\r\nString b = a != null &amp;&amp; a.equals(&quot;Nan&quot;) ? &quot;Nan&quot; : a;\r\nSystem.out.println(b);\r\n```\r\n\r\nbut this produces NPE:\r\n\r\n```\r\nDouble value = null;\r\nDouble v = value != null &amp;&amp; value.isNaN() ? 0.0 : value;\r\nSystem.out.println(v);\r\n```\r\n\r\nRewriting it as:\r\n\r\n```\r\nDouble value = null;\r\nDouble v;\r\nif (value != null &amp;&amp; value.isNaN()) {\r\n    v = 0.0;\r\n} else {\r\n    v = value;\r\n}\r\n```\r\n\r\nof course works as expected. But why do I get NPE using the ternary/conditional operator when using `Double` and no NPE when using `String`? What am I missing?","title":"NullPointerException with ternary operator","body":"<p>Why does this work:</p>\n<pre><code>String a = null;\nString b = a != null &amp;&amp; a.equals(&quot;Nan&quot;) ? &quot;Nan&quot; : a;\nSystem.out.println(b);\n</code></pre>\n<p>but this produces NPE:</p>\n<pre><code>Double value = null;\nDouble v = value != null &amp;&amp; value.isNaN() ? 0.0 : value;\nSystem.out.println(v);\n</code></pre>\n<p>Rewriting it as:</p>\n<pre><code>Double value = null;\nDouble v;\nif (value != null &amp;&amp; value.isNaN()) {\n    v = 0.0;\n} else {\n    v = value;\n}\n</code></pre>\n<p>of course works as expected. But why do I get NPE using the ternary/conditional operator when using <code>Double</code> and no NPE when using <code>String</code>? What am I missing?</p>\n"},{"tags":["java","mysql","spring-boot","hibernate","hibernate-mapping"],"answers":[{"comments":[{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":0,"creation_date":1675363402,"post_id":75308093,"comment_id":132918438,"body_markdown":"Thank you for the answer I will take a look if this will work and I can add the models if i can&#39;t manage to fix the issue.","body":"Thank you for the answer I will take a look if this will work and I can add the models if i can&#39;t manage to fix the issue."}],"tags":[],"owner":{"account_id":5771551,"reputation":135,"user_id":4554863,"display_name":"Dinosaur-Guy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675243907,"creation_date":1675243907,"answer_id":75308093,"question_id":75307801,"body_markdown":"It seems like your `PublicMetrics` cannot be mapped correctly. Since it is not within a `OneToMany` relationship anymore you have to tell Hibernate how to serialize/deserialize it, e.g. using a `javax.persistence.AttributeConverter`. Its hard to make those assumptions without seeing the actual models, though.","title":"org.hibernate.MappingException: persistent class not known: for non entity class","body":"<p>It seems like your <code>PublicMetrics</code> cannot be mapped correctly. Since it is not within a <code>OneToMany</code> relationship anymore you have to tell Hibernate how to serialize/deserialize it, e.g. using a <code>javax.persistence.AttributeConverter</code>. Its hard to make those assumptions without seeing the actual models, though.</p>\n"}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675243907,"creation_date":1675242475,"question_id":75307801,"body_markdown":"I have issue deploying a new version of my app in tomcat. I got an exception for class which was an entity with @OneToOne relation to another entity class. In the new version of the app, the both classes are not entities anymore and don&#39;t have relation. Is appear is tried to clean the MySQL, but it fails on this step and I try the couple of tings online and still is not working, any help will be welcomed.\r\n\r\n\tCaused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: persistent class not known: com.mikegrep.TwitterModel.PublicMetrics\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\r\n\t\t... 25 more\r\n\tCaused by: org.hibernate.MappingException: persistent class not known: com.mikegrep.TwitterModel.PublicMetrics\r\n\t\tat org.hibernate.boot.internal.MetadataImpl.getIdentifierType(MetadataImpl.java:427)\r\n\t\tat org.hibernate.type.EntityType.getIdentifierType(EntityType.java:603)\r\n\t\tat org.hibernate.type.EntityType.getIdentifierOrUniqueKeyType(EntityType.java:643)\r\n\t\tat org.hibernate.persister.entity.AbstractPropertyMapping.initIdentifierPropertyPaths(AbstractPropertyMapping.java:396)\r\n\t\tat org.hibernate.persister.entity.AbstractPropertyMapping.initPropertyPaths(AbstractPropertyMapping.java:365)\r\n\t\tat org.hibernate.persister.entity.AbstractEntityPersister.initOrdinaryPropertyPaths(AbstractEntityPersister.java:2629)\r\n\t\tat org.hibernate.persister.entity.AbstractEntityPersister.initPropertyPaths(AbstractEntityPersister.java:2676)\r\n\t\tat org.hibernate.persister.entity.AbstractEntityPersister.postConstruct(AbstractEntityPersister.java:4344)\r\n\t\tat org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:449)\r\n\t\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\t\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\t\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\t\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\t\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\r\n\t\tat org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\r\n\t\tat org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\r\n\t\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:319)\r\n\t\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\r\n\t\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)\r\n\t\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\r\n\t\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\t\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)","title":"org.hibernate.MappingException: persistent class not known: for non entity class","body":"<p>I have issue deploying a new version of my app in tomcat. I got an exception for class which was an entity with @OneToOne relation to another entity class. In the new version of the app, the both classes are not entities anymore and don't have relation. Is appear is tried to clean the MySQL, but it fails on this step and I try the couple of tings online and still is not working, any help will be welcomed.</p>\n<pre><code>Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: persistent class not known: com.mikegrep.TwitterModel.PublicMetrics\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:421)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800)\n    ... 25 more\nCaused by: org.hibernate.MappingException: persistent class not known: com.mikegrep.TwitterModel.PublicMetrics\n    at org.hibernate.boot.internal.MetadataImpl.getIdentifierType(MetadataImpl.java:427)\n    at org.hibernate.type.EntityType.getIdentifierType(EntityType.java:603)\n    at org.hibernate.type.EntityType.getIdentifierOrUniqueKeyType(EntityType.java:643)\n    at org.hibernate.persister.entity.AbstractPropertyMapping.initIdentifierPropertyPaths(AbstractPropertyMapping.java:396)\n    at org.hibernate.persister.entity.AbstractPropertyMapping.initPropertyPaths(AbstractPropertyMapping.java:365)\n    at org.hibernate.persister.entity.AbstractEntityPersister.initOrdinaryPropertyPaths(AbstractEntityPersister.java:2629)\n    at org.hibernate.persister.entity.AbstractEntityPersister.initPropertyPaths(AbstractEntityPersister.java:2676)\n    at org.hibernate.persister.entity.AbstractEntityPersister.postConstruct(AbstractEntityPersister.java:4344)\n    at org.hibernate.persister.entity.SingleTableEntityPersister.&lt;init&gt;(SingleTableEntityPersister.java:449)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:96)\n    at org.hibernate.persister.internal.PersisterFactoryImpl.createEntityPersister(PersisterFactoryImpl.java:77)\n    at org.hibernate.metamodel.internal.MetamodelImpl.initialize(MetamodelImpl.java:181)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:319)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409)\n</code></pre>\n"},{"tags":["java","spring-boot","swagger-ui","openapi","springdoc"],"answers":[{"tags":[],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675243904,"creation_date":1675231050,"answer_id":75306175,"question_id":75280424,"body_markdown":"A related question was posted here and this answer solved the issue: https://stackoverflow.com/a/75273492/6654475\r\n\r\nIn summary, it was related to this line that needed to be removed `spring.web.resources.add-mappings=false` and the yml file that needed to be moved to the `resources/static/` folder.","title":"Failed to load api definition when loading files from application properties","body":"<p>A related question was posted here and this answer solved the issue: <a href=\"https://stackoverflow.com/a/75273492/6654475\">https://stackoverflow.com/a/75273492/6654475</a></p>\n<p>In summary, it was related to this line that needed to be removed <code>spring.web.resources.add-mappings=false</code> and the yml file that needed to be moved to the <code>resources/static/</code> folder.</p>\n"}],"owner":{"account_id":8915876,"reputation":3560,"user_id":6654475,"accept_rate":100,"display_name":"Francislainy Campos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75306175,"answer_count":1,"score":1,"last_activity_date":1675243904,"creation_date":1675054919,"question_id":75280424,"body_markdown":"I have an openapi file generated through restdocs and converted into this format. They are added to the resources folder, and the properties file is pointing to their format, however, swagger is failing to load and I&#39;m not sure what else I could be missing.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-restdocs-mockmvc.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;${springdoc-openapi-ui.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;capital.scalable&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-auto-restdocs-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-auto-restdocs-core.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.epages&lt;/groupId&gt;\r\n            &lt;artifactId&gt;restdocs-api-spec&lt;/artifactId&gt;\r\n            &lt;version&gt;${restdocs-api-spec.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.epages&lt;/groupId&gt;\r\n            &lt;artifactId&gt;restdocs-api-spec-mockmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;${restdocs-api-spec.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n       &lt;plugin&gt;\r\n                &lt;groupId&gt;io.github.berkleytechnologyservices&lt;/groupId&gt;\r\n                &lt;artifactId&gt;restdocs-spec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${restdocs-spec.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;generate&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;!--suppress MavenModelInspection --&gt;\r\n                            &lt;skip&gt;${skipTests}&lt;/skip&gt;\r\n                            &lt;host&gt;localhost:8081&lt;/host&gt;\r\n                            &lt;specification&gt;OPENAPI_V3&lt;/specification&gt;\r\n                            \r\n     &lt;outputDirectory&gt;${project.build.directory}/classes/static/docs&lt;/outputDirectory&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nThank you very much.\r\n\r\n  [1]: https://i.stack.imgur.com/h7hTp.png\r\n  [2]: https://i.stack.imgur.com/boMnE.png","title":"Failed to load api definition when loading files from application properties","body":"<p>I have an openapi file generated through restdocs and converted into this format. They are added to the resources folder, and the properties file is pointing to their format, however, swagger is failing to load and I'm not sure what else I could be missing.</p>\n<p><a href=\"https://i.stack.imgur.com/h7hTp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h7hTp.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/boMnE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/boMnE.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.restdocs&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-restdocs-mockmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring-restdocs-mockmvc.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springdoc-openapi-ui.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;capital.scalable&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-auto-restdocs-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring-auto-restdocs-core.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.epages&lt;/groupId&gt;\n            &lt;artifactId&gt;restdocs-api-spec&lt;/artifactId&gt;\n            &lt;version&gt;${restdocs-api-spec.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.epages&lt;/groupId&gt;\n            &lt;artifactId&gt;restdocs-api-spec-mockmvc&lt;/artifactId&gt;\n            &lt;version&gt;${restdocs-api-spec.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n       &lt;plugin&gt;\n                &lt;groupId&gt;io.github.berkleytechnologyservices&lt;/groupId&gt;\n                &lt;artifactId&gt;restdocs-spec-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${restdocs-spec.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;!--suppress MavenModelInspection --&gt;\n                            &lt;skip&gt;${skipTests}&lt;/skip&gt;\n                            &lt;host&gt;localhost:8081&lt;/host&gt;\n                            &lt;specification&gt;OPENAPI_V3&lt;/specification&gt;\n                            \n     &lt;outputDirectory&gt;${project.build.directory}/classes/static/docs&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>Thank you very much.</p>\n"},{"tags":["java","java-8","java-time","date"],"comments":[{"owner":{"account_id":13027345,"reputation":109,"user_id":9414919,"display_name":"Vicky"},"score":1,"creation_date":1527278232,"post_id":50536000,"comment_id":88084153,"body_markdown":"Thanks, I have included what the exception was","body":"Thanks, I have included what the exception was"},{"owner":{"account_id":402847,"reputation":2233,"user_id":770254,"accept_rate":56,"display_name":"bruno"},"score":0,"creation_date":1527278700,"post_id":50536000,"comment_id":88084369,"body_markdown":"What&#39;s the value of PROPER_DATE_FORMAT?","body":"What&#39;s the value of PROPER_DATE_FORMAT?"},{"owner":{"account_id":13027345,"reputation":109,"user_id":9414919,"display_name":"Vicky"},"score":0,"creation_date":1527278755,"post_id":50536000,"comment_id":88084391,"body_markdown":"I updated the question with the value.","body":"I updated the question with the value."},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1527278777,"post_id":50536000,"comment_id":88084399,"body_markdown":"perhaps sometimes the `Instance.now().toString()` call returns a value with only two digits in the ms (while the `format` expects three digits) ?","body":"perhaps sometimes the <code>Instance.now().toString()</code> call returns a value with only two digits in the ms (while the <code>format</code> expects three digits) ?"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1527278836,"post_id":50536000,"comment_id":88084417,"body_markdown":"@bruno the exception is thrown before that line (while parsing) so the `PROPER_DATE_FORMAT` does not seem to be relevant in this case","body":"@bruno the exception is thrown before that line (while parsing) so the <code>PROPER_DATE_FORMAT</code> does not seem to be relevant in this case"},{"owner":{"account_id":13027345,"reputation":109,"user_id":9414919,"display_name":"Vicky"},"score":0,"creation_date":1527278866,"post_id":50536000,"comment_id":88084440,"body_markdown":"No, whenever I print out the value of `Instant.now().toString()`, it returns a value with 3 digits, like this: 2018-05-25T20:06:58.905Z","body":"No, whenever I print out the value of <code>Instant.now().toString()</code>, it returns a value with 3 digits, like this: 2018-05-25T20:06:58.905Z"},{"owner":{"account_id":13027345,"reputation":109,"user_id":9414919,"display_name":"Vicky"},"score":0,"creation_date":1527278926,"post_id":50536000,"comment_id":88084455,"body_markdown":"I thought about whether it was bc there&#39;s a zero at the end but just wasn&#39;t displayed but I&#39;m not convinced bc I was able to get a value of `2018-05-25T20:06:58.900Z` as a result of `Instant.now().toString()`","body":"I thought about whether it was bc there&#39;s a zero at the end but just wasn&#39;t displayed but I&#39;m not convinced bc I was able to get a value of <code>2018-05-25T20:06:58.900Z</code> as a result of <code>Instant.now().toString()</code>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1527278937,"post_id":50536000,"comment_id":88084458,"body_markdown":"Why do you convert the instant to a string only to parse it into a date? Why not write `Date d = new Date(Instant.now().toEpochMilli());`","body":"Why do you convert the instant to a string only to parse it into a date? Why not write <code>Date d = new Date(Instant.now().toEpochMilli());</code>"},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1527278955,"post_id":50536000,"comment_id":88084467,"body_markdown":"In this case, yes - but try parsing `2018-05-25T20:06:58.90Z` with the same formatter","body":"In this case, yes - but try parsing <code>2018-05-25T20:06:58.90Z</code> with the same formatter"},{"owner":{"account_id":13027345,"reputation":109,"user_id":9414919,"display_name":"Vicky"},"score":0,"creation_date":1527279023,"post_id":50536000,"comment_id":88084493,"body_markdown":"Parsing `2018-05-25T20:06:58.90Z` with the same formatter will return the exception above as it should.","body":"Parsing <code>2018-05-25T20:06:58.90Z</code> with the same formatter will return the exception above as it should."},{"owner":{"account_id":295859,"reputation":13588,"user_id":600486,"accept_rate":80,"display_name":"blurfus"},"score":0,"creation_date":1527279141,"post_id":50536000,"comment_id":88084534,"body_markdown":"so, perhaps (once in a while) `Instance.now().toString()` returns only 1 or 2 digits in the ms (and not 3) as expected?","body":"so, perhaps (once in a while) <code>Instance.now().toString()</code> returns only 1 or 2 digits in the ms (and not 3) as expected?"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1527279238,"post_id":50536000,"comment_id":88084573,"body_markdown":"`Instant.toString()` outputs digits for millis only if necessary (if they are not `000`). So you have a one in thousand chance of hitting exactly the second (with all milliseconds digits zero) where your code will fail","body":"<code>Instant.toString()</code> outputs digits for millis only if necessary (if they are not <code>000</code>). So you have a one in thousand chance of hitting exactly the second (with all milliseconds digits zero) where your code will fail"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1527281788,"post_id":50536000,"comment_id":88085546,"body_markdown":"Since you can use `java.time`, the modern Java date and time API, don’t use `Date` too, it’s long outdated and poorly designed. Only if you need a `Date` for a legacy API that you cannot change. Only in this case, use `Date.from(Instant)` for conversion. And under no circumstances *at all* use the notoriously troublesome `SimpleDateFormat`.","body":"Since you can use <code>java.time</code>, the modern Java date and time API, don’t use <code>Date</code> too, it’s long outdated and poorly designed. Only if you need a <code>Date</code> for a legacy API that you cannot change. Only in this case, use <code>Date.from(Instant)</code> for conversion. And under no circumstances <i>at all</i> use the notoriously troublesome <code>SimpleDateFormat</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1527282243,"post_id":50536000,"comment_id":88085697,"body_markdown":"To obtain your string in `yyyy-MM-dd` format, you can use `LocalDate.now(yourZoneId).toString()`.","body":"To obtain your string in <code>yyyy-MM-dd</code> format, you can use <code>LocalDate.now(yourZoneId).toString()</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1527314360,"post_id":50536000,"comment_id":88091193,"body_markdown":"As an aside, on the Java 9 on my computer, `Instant.now().toString()` yields something like `2018-05-26T05:56:50.294304Z`, which your code converts to a `Date` of Sat May 26 08:01:44 CEST 2018. CEST is at offset +02:00, so you notice the time is not correct.","body":"As an aside, on the Java 9 on my computer, <code>Instant.now().toString()</code> yields something like <code>2018-05-26T05:56:50.294304Z</code>, which your code converts to a <code>Date</code> of Sat May 26 08:01:44 CEST 2018. CEST is at offset +02:00, so you notice the time is not correct."}],"answers":[{"tags":[],"owner":{"account_id":402847,"reputation":2233,"user_id":770254,"accept_rate":56,"display_name":"bruno"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1527279869,"creation_date":1527279360,"answer_id":50536286,"question_id":50536000,"body_markdown":"When the nanoseconds is zero, it&#39;s not included in the formatted string. So the output would be formatted as &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssX&quot;\r\n\r\nYou can see the difference with:\r\n\r\n\tpublic static void main(String[] args) throws ParseException {\r\n\t\t\tfinal Instant now = Instant.now();\r\n\t\t\tSystem.out.println(&quot;Now:\\t&quot; +  now);\r\n\r\n\t\t\tfinal Instant zeroedNow = now.with(ChronoField.NANO_OF_SECOND, 0);\r\n\t\t\tSystem.out.println(&quot;Zeroed:\\t&quot; + zeroedNow);\r\n    } \r\n\r\nThe output looks like\r\n\r\n    Now:\t2018-05-25T20:23:54.208Z\r\n    Zeroed:\t2018-05-25T20:23:54Z\r\n","title":"Why is Instant.now() sometimes formatted differently?","body":"<p>When the nanoseconds is zero, it's not included in the formatted string. So the output would be formatted as \"yyyy-MM-dd'T'HH:mm:ssX\"</p>\n\n<p>You can see the difference with:</p>\n\n<pre><code>public static void main(String[] args) throws ParseException {\n        final Instant now = Instant.now();\n        System.out.println(\"Now:\\t\" +  now);\n\n        final Instant zeroedNow = now.with(ChronoField.NANO_OF_SECOND, 0);\n        System.out.println(\"Zeroed:\\t\" + zeroedNow);\n} \n</code></pre>\n\n<p>The output looks like</p>\n\n<pre><code>Now:    2018-05-25T20:23:54.208Z\nZeroed: 2018-05-25T20:23:54Z\n</code></pre>\n"},{"comments":[{"owner":{"account_id":402847,"reputation":2233,"user_id":770254,"accept_rate":56,"display_name":"bruno"},"score":0,"creation_date":1527279575,"post_id":50536312,"comment_id":88084724,"body_markdown":"That is not what was asked.","body":"That is not what was asked."},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1527279728,"post_id":50536312,"comment_id":88084776,"body_markdown":"I agree with @bruno — while yours is (probably) a better way to go about doing this conversion, it doesn&#39;t answer the question of _&quot;Why is Instant.now() sometimes formatted differently?&quot;_","body":"I agree with @bruno — while yours is (probably) a better way to go about doing this conversion, it doesn&#39;t answer the question of <i>&quot;Why is Instant.now() sometimes formatted differently?&quot;</i>"}],"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1527284921,"creation_date":1527279489,"answer_id":50536312,"question_id":50536000,"body_markdown":"Your code fails because [Instant.toString()](https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--) is documented as\r\n\r\n&gt; The format used is the same as DateTimeFormatter.ISO_INSTANT.\r\n\r\nAnd according to [DateTimeFormatter.html#ISO_INSTANT](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT)\r\n\r\n&gt; The nano-of-second outputs zero, three, six or nine digits digits as necessary\r\n\r\nSo you have a one in thousand chance of getting an Instant where the millis are `000` and your code fails.\r\n\r\n----\r\nAnyway, your code is unnecessarly complex and could be replaced with \r\n\r\n    String formattedDate = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)\r\n        .withZone(ZoneId.systemDefault())\r\n        .format(Instant.now());\r\n\r\nThere is no need to transform the `Instant` into a String only to parse it into a Date and then transform it into a String again.","title":"Why is Instant.now() sometimes formatted differently?","body":"<p>Your code fails because <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#toString--\" rel=\"noreferrer\">Instant.toString()</a> is documented as</p>\n\n<blockquote>\n  <p>The format used is the same as DateTimeFormatter.ISO_INSTANT.</p>\n</blockquote>\n\n<p>And according to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"noreferrer\">DateTimeFormatter.html#ISO_INSTANT</a></p>\n\n<blockquote>\n  <p>The nano-of-second outputs zero, three, six or nine digits digits as necessary</p>\n</blockquote>\n\n<p>So you have a one in thousand chance of getting an Instant where the millis are <code>000</code> and your code fails.</p>\n\n<hr>\n\n<p>Anyway, your code is unnecessarly complex and could be replaced with </p>\n\n<pre><code>String formattedDate = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\")\n    .withZone(ZoneId.systemDefault())\n    .format(Instant.now());\n</code></pre>\n\n<p>There is no need to transform the <code>Instant</code> into a String only to parse it into a Date and then transform it into a String again.</p>\n"},{"tags":[],"owner":{"account_id":3619169,"reputation":9458,"user_id":3018377,"accept_rate":64,"display_name":"LHA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527283030,"creation_date":1527281816,"answer_id":50536745,"question_id":50536000,"body_markdown":"To answer your question: &quot;**Instant.now() sometimes formatted differently?**&quot;. Lets take a look at how Instance.now().toString() was implemented:\r\n\r\n**Instant.now().toString() source**:\r\n\r\n    public String toString() {\r\n        return DateTimeFormatter.ISO_INSTANT.format(this);\r\n    }\r\n\r\nJavadoc of \r\n&gt; DateTimeFormatter.ISO_INSTANT\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\r\n\r\n&gt;      When formatting, the second-of-minute is always output.\r\n&gt;      The nano-of-second outputs zero, three, six or nine digits digits as necessary.\r\n\r\n**From this javadoc, we understand that Instance.now.toString() NOT always 24 length**.\r\n\r\nIf milliseconds is 000 -&gt; It will produce the format like you got:\r\n\r\n&gt; 2018-05-25T18:56:09Z  - 20 length\r\n\r\nNOT\r\n&gt; 2018-05-25T18:56:09.000Z - 24 length\r\n\r\nIs everything clear?\r\n\r\n","title":"Why is Instant.now() sometimes formatted differently?","body":"<p>To answer your question: \"<strong>Instant.now() sometimes formatted differently?</strong>\". Lets take a look at how Instance.now().toString() was implemented:</p>\n\n<p><strong>Instant.now().toString() source</strong>:</p>\n\n<pre><code>public String toString() {\n    return DateTimeFormatter.ISO_INSTANT.format(this);\n}\n</code></pre>\n\n<p>Javadoc of </p>\n\n<blockquote>\n  <p>DateTimeFormatter.ISO_INSTANT</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html#ISO_INSTANT</a></p>\n\n<blockquote>\n<pre><code> When formatting, the second-of-minute is always output.\n The nano-of-second outputs zero, three, six or nine digits digits as necessary.\n</code></pre>\n</blockquote>\n\n<p><strong>From this javadoc, we understand that Instance.now.toString() NOT always 24 length</strong>.</p>\n\n<p>If milliseconds is 000 -> It will produce the format like you got:</p>\n\n<blockquote>\n  <p>2018-05-25T18:56:09Z  - 20 length</p>\n</blockquote>\n\n<p>NOT</p>\n\n<blockquote>\n  <p>2018-05-25T18:56:09.000Z - 24 length</p>\n</blockquote>\n\n<p>Is everything clear?</p>\n"},{"tags":[],"owner":{"account_id":7498629,"reputation":149,"user_id":5697889,"display_name":"Amandeep"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675243739,"creation_date":1675240841,"answer_id":75307492,"question_id":50536000,"body_markdown":"You can format Instant using\r\n\r\n    instant.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;))\r\n\r\nif you want to use the same api and in absence of any standard approach you can think of putting following logic\r\n\r\n```\r\nInstant inst = Instant.now()\r\nif(inst.get(ChronoField.MILLI_OF_SECOND) == 0)\r\ninst  = inst.minusMillis(1)\r\n\r\n```","title":"Why is Instant.now() sometimes formatted differently?","body":"<p>You can format Instant using</p>\n<pre><code>instant.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;))\n</code></pre>\n<p>if you want to use the same api and in absence of any standard approach you can think of putting following logic</p>\n<pre><code>Instant inst = Instant.now()\nif(inst.get(ChronoField.MILLI_OF_SECOND) == 0)\ninst  = inst.minusMillis(1)\n\n</code></pre>\n"}],"owner":{"account_id":13027345,"reputation":109,"user_id":9414919,"display_name":"Vicky"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11716,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":4,"score":7,"last_activity_date":1675243739,"creation_date":1527277930,"question_id":50536000,"body_markdown":"I have code that looks like this:\r\n\r\n    String PROPER_DATE_FORMAT = &quot;yyyy-MM-dd&quot;;\r\n    String format = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSSX&quot;;\r\n        \r\n    SimpleDateFormat sdf = new SimpleDateFormat(format);\r\n    Date d = sdf.parse(Instant.now().toString());\r\n    SimpleDateFormat properFormat = new SimpleDateFormat(PROPER_DATE_FORMAT);\r\n    String formatterDate = properFormat.format(d);\r\n\r\n\r\nNow, most of the time, this code works but every now and then, I&#39;ll Instant.now() returning `2018-05-25T18:56:09Z` and then it will throw an exception bc the format doesn&#39;t match. \r\n\r\nWhy is it sometimes inconsistent?\r\n\r\nThe exception is `java.lang.RuntimeException: java.text.ParseException: Unparseable date: &quot;2018-05-25T18:56:09Z&quot;`\r\n\r\nNormally, when `Instant.now().toString()` does return a String with the above format. Again, this code works most of the time but there are a few times when it doesn&#39;t and I&#39;m puzzled as to why.\r\n\r\nI thought about whether it was because there&#39;s a zero at the end but just wasn&#39;t displayed but I&#39;m not convinced because I was able to get a value of 2018-05-25T20:06:58.900Z as a result of Instant.now().toString()","title":"Why is Instant.now() sometimes formatted differently?","body":"<p>I have code that looks like this:</p>\n\n<pre><code>String PROPER_DATE_FORMAT = \"yyyy-MM-dd\";\nString format = \"yyyy-MM-dd'T'HH:mm:ss.SSSX\";\n\nSimpleDateFormat sdf = new SimpleDateFormat(format);\nDate d = sdf.parse(Instant.now().toString());\nSimpleDateFormat properFormat = new SimpleDateFormat(PROPER_DATE_FORMAT);\nString formatterDate = properFormat.format(d);\n</code></pre>\n\n<p>Now, most of the time, this code works but every now and then, I'll Instant.now() returning <code>2018-05-25T18:56:09Z</code> and then it will throw an exception bc the format doesn't match. </p>\n\n<p>Why is it sometimes inconsistent?</p>\n\n<p>The exception is <code>java.lang.RuntimeException: java.text.ParseException: Unparseable date: \"2018-05-25T18:56:09Z\"</code></p>\n\n<p>Normally, when <code>Instant.now().toString()</code> does return a String with the above format. Again, this code works most of the time but there are a few times when it doesn't and I'm puzzled as to why.</p>\n\n<p>I thought about whether it was because there's a zero at the end but just wasn't displayed but I'm not convinced because I was able to get a value of 2018-05-25T20:06:58.900Z as a result of Instant.now().toString()</p>\n"},{"tags":["java","multithreading","synchronized"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1675258771,"post_id":75305875,"comment_id":132889421,"body_markdown":"Your code seems overly complicated. What is the purpose of `JobQueue`? If `exec` is a thread pool, then it already has a queue of its own. Why can&#39;t you just submit jobs directly to the pool? If there is some reason why you can&#39;t let them start working until some gating event happens (whatever it is that calls `runJob()` in your existing code,) then you can have them wait for the gate to open before they begin to do whatever it is that they do.","body":"Your code seems overly complicated. What is the purpose of <code>JobQueue</code>? If <code>exec</code> is a thread pool, then it already has a queue of its own. Why can&#39;t you just submit jobs directly to the pool? If there is some reason why you can&#39;t let them start working until some gating event happens (whatever it is that calls <code>runJob()</code> in your existing code,) then you can have them wait for the gate to open before they begin to do whatever it is that they do."}],"answers":[{"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1675286544,"post_id":75308050,"comment_id":132898756,"body_markdown":"There’s another problem in the original code: because `jobq.poll()` is deferred to the executor, it is not executing within the synchronized block. It runs on another thread at a later time and does not hold the lock on `jobq`.","body":"There’s another problem in the original code: because <code>jobq.poll()</code> is deferred to the executor, it is not executing within the synchronized block. It runs on another thread at a later time and does not hold the lock on <code>jobq</code>."}],"tags":[],"owner":{"account_id":27674081,"reputation":1,"user_id":21124278,"display_name":"user21124278"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675243714,"creation_date":1675243714,"answer_id":75308050,"question_id":75305875,"body_markdown":"&gt; 1. To avoid starvation of the `addJob` method, would it be better to lock the `!jobq.isEmpty()` and then unlock, and then separately lock the `exec.submit...`? That way in between checking the jobq is empty and polling a job off, the `addJob` has a chance to acquire the lock?\r\n\r\nIn this case locking the whole `while{...}` loop is OK because `exec.submit...` doesn&#39;t do much: it actually only creates and returns a `Future`, while the task is executed in another thread.\r\n\r\n---\r\n\r\nAlso if `!jobq.isEmpty()` and `exec.submit...` were locked separately, then you would get an additional problem: what if in between these locks another thread executes `runJob()` and `jobq` becomes empty.","title":"Java locking simple multi threaded queue class to avoid starvation","body":"<blockquote>\n<ol>\n<li>To avoid starvation of the <code>addJob</code> method, would it be better to lock the <code>!jobq.isEmpty()</code> and then unlock, and then separately lock the <code>exec.submit...</code>? That way in between checking the jobq is empty and polling a job off, the <code>addJob</code> has a chance to acquire the lock?</li>\n</ol>\n</blockquote>\n<p>In this case locking the whole <code>while{...}</code> loop is OK because <code>exec.submit...</code> doesn't do much: it actually only creates and returns a <code>Future</code>, while the task is executed in another thread.</p>\n<hr />\n<p>Also if <code>!jobq.isEmpty()</code> and <code>exec.submit...</code> were locked separately, then you would get an additional problem: what if in between these locks another thread executes <code>runJob()</code> and <code>jobq</code> becomes empty.</p>\n"}],"owner":{"account_id":1433200,"reputation":3239,"user_id":1355120,"accept_rate":52,"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675243714,"creation_date":1675227841,"question_id":75305875,"body_markdown":"I&#39;m currently reviewing concurrency and wanted to double check my understanding. \r\n\r\nLet&#39;s say I have a simple queue class that I want to use multiple threads to take jobs off of the queue and run. \r\n\r\n```java\r\nclass JobQueue {\r\n    static Queue&lt;Job&gt; jobq;\r\n    ExecutorService exec;\r\n\r\n    public void addJob(Job j) \r\n        synchronized(jobq) {\r\n            jobq.add(j)\r\n        }\r\n    \r\n    public void runJob() {\r\n      synchronized(jobq) {\r\n         while (!jobq.isEmpty()) {\r\n             exec.submit(() -&gt; jobq.poll().run());\r\n         }\r\n      }\r\n    }\r\n```\r\n\r\nPardon my syntax I quickly put this together. Anyways, I have a 2 part question.\r\n\r\n1. To avoid starvation of the `addJob` method, would it be better to lock the `!jobq.isEmpty()` and then unlock, and then separately lock the `exec.submit...`? That way in between checking the jobq is empty and polling a job off, the `addJob` has a chance to acquire the lock?\r\n\r\n2. If the above is the case (it&#39;s better to unlock after the `while` check), how would you do so with this synchronized object? Since the `exec.submit` is nested within the `while` loop which is nested within the `synchronized(jobq)` loop.","title":"Java locking simple multi threaded queue class to avoid starvation","body":"<p>I'm currently reviewing concurrency and wanted to double check my understanding.</p>\n<p>Let's say I have a simple queue class that I want to use multiple threads to take jobs off of the queue and run.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class JobQueue {\n    static Queue&lt;Job&gt; jobq;\n    ExecutorService exec;\n\n    public void addJob(Job j) \n        synchronized(jobq) {\n            jobq.add(j)\n        }\n    \n    public void runJob() {\n      synchronized(jobq) {\n         while (!jobq.isEmpty()) {\n             exec.submit(() -&gt; jobq.poll().run());\n         }\n      }\n    }\n</code></pre>\n<p>Pardon my syntax I quickly put this together. Anyways, I have a 2 part question.</p>\n<ol>\n<li><p>To avoid starvation of the <code>addJob</code> method, would it be better to lock the <code>!jobq.isEmpty()</code> and then unlock, and then separately lock the <code>exec.submit...</code>? That way in between checking the jobq is empty and polling a job off, the <code>addJob</code> has a chance to acquire the lock?</p>\n</li>\n<li><p>If the above is the case (it's better to unlock after the <code>while</code> check), how would you do so with this synchronized object? Since the <code>exec.submit</code> is nested within the <code>while</code> loop which is nested within the <code>synchronized(jobq)</code> loop.</p>\n</li>\n</ol>\n"},{"tags":["java","memory-leaks","jprofiler"],"answers":[{"comments":[{"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"score":0,"creation_date":1675190748,"post_id":75294829,"comment_id":132874242,"body_markdown":"Thanks @Ingo Kegel, I know personally that I&#39;m not making any ThreadLocal operations, so I&#39;m guessing some underlying library or code is in that case. Do you know if there&#39;s any easy way to identify who is making that call in JProfiler?","body":"Thanks @Ingo Kegel, I know personally that I&#39;m not making any ThreadLocal operations, so I&#39;m guessing some underlying library or code is in that case. Do you know if there&#39;s any easy way to identify who is making that call in JProfiler?"}],"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675243382,"creation_date":1675156147,"answer_id":75294829,"question_id":75292271,"body_markdown":"Just looking at the garbage collector root will not always tell you what causes the memory leak, you have to analyze the while reference chain.\r\n\r\nThe screen shot shows a `java.util.Stack` object in the reference chain that you have put into a `java.lang.ThreadLocal`. Thread locals are a common source of memory leaks.\r\n\r\nTo see which thread local references your objects, select the object(s) of interest in a new object set, then calculate the &quot;Thread locals&quot; inspection in the heap walker.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H6Htw.png","title":"How can I find source of java memory leak with JProfiler","body":"<p>Just looking at the garbage collector root will not always tell you what causes the memory leak, you have to analyze the while reference chain.</p>\n<p>The screen shot shows a <code>java.util.Stack</code> object in the reference chain that you have put into a <code>java.lang.ThreadLocal</code>. Thread locals are a common source of memory leaks.</p>\n<p>To see which thread local references your objects, select the object(s) of interest in a new object set, then calculate the &quot;Thread locals&quot; inspection in the heap walker.</p>\n<p><a href=\"https://i.stack.imgur.com/H6Htw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H6Htw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5894385,"reputation":313,"user_id":4639947,"accept_rate":100,"display_name":"fbailey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75294829,"answer_count":1,"score":1,"last_activity_date":1675243382,"creation_date":1675133662,"question_id":75292271,"body_markdown":"I have a memory leak in my program that I&#39;ve been analyzing with JProfiler. There are some string values, which I recognize as originating from my program, that are not getting garbage collected. However, when looking at the Heap Walker in JProfiler I&#39;m not quite sure how to narrow down the source.\r\n\r\n[![JProfiler Screenshot][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/EQVi9.jpg\r\n\r\nThe string is data coming from some HTML parsing I do, however I&#39;m not certain how there is still a reference to the object. All I see is &quot;thread object&quot;. How can I find out where the actual memory leak is? Is that possible?","title":"How can I find source of java memory leak with JProfiler","body":"<p>I have a memory leak in my program that I've been analyzing with JProfiler. There are some string values, which I recognize as originating from my program, that are not getting garbage collected. However, when looking at the Heap Walker in JProfiler I'm not quite sure how to narrow down the source.</p>\n<p><a href=\"https://i.stack.imgur.com/EQVi9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EQVi9.jpg\" alt=\"JProfiler Screenshot\" /></a></p>\n<p>The string is data coming from some HTML parsing I do, however I'm not certain how there is still a reference to the object. All I see is &quot;thread object&quot;. How can I find out where the actual memory leak is? Is that possible?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1675241999,"post_id":75307328,"comment_id":132884078,"body_markdown":"The error page you are seeing is indeed because your application doesn&#39;t know what do do in case of an error. The actual error should be in your logs. Could you please add those to the question?","body":"The error page you are seeing is indeed because your application doesn&#39;t know what do do in case of an error. The actual error should be in your logs. Could you please add those to the question?"},{"owner":{"account_id":9895976,"reputation":38,"user_id":7327486,"display_name":"Koren Lahav"},"score":0,"creation_date":1675243511,"post_id":75307328,"comment_id":132884569,"body_markdown":"I added a picture of the log","body":"I added a picture of the log"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1675243748,"post_id":75307328,"comment_id":132884655,"body_markdown":"You seem to have included the log from the application startup. Please include the part where you try to execute the request and [edit] your question to show how you are triggering the error. Also, please paste it as text instead of an image, see [this explanation](//meta.stackoverflow.com/q/285551) .","body":"You seem to have included the log from the application startup. Please include the part where you try to execute the request and <a href=\"https://stackoverflow.com/posts/75307328/edit\">edit</a> your question to show how you are triggering the error. Also, please paste it as text instead of an image, see <a href=\"//meta.stackoverflow.com/q/285551\">this explanation</a> ."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1675267330,"post_id":75307328,"comment_id":132892669,"body_markdown":"Which version of Spring Boot are you using? I reproduced a simpler variant of your program and it works just fine without any changes in Spring Boot 2.7.8. `@SpringBootApplication @RestController public class DemoApplication { public static void main(String[] args) {SpringApplication.run(DemoApplication.class, args);}@GetMapping public String hello() {return &quot;hello&quot;;}}` and then `curl localhost:8080` prints &quot;hello&quot;, not an error","body":"Which version of Spring Boot are you using? I reproduced a simpler variant of your program and it works just fine without any changes in Spring Boot 2.7.8. <code>@SpringBootApplication @RestController public class DemoApplication { public static void main(String[] args) {SpringApplication.run(DemoApplication.class, args);}@GetMapping public String hello() {return &quot;hello&quot;;}}</code> and then <code>curl localhost:8080</code> prints &quot;hello&quot;, not an error"}],"answers":[{"comments":[{"owner":{"account_id":9895976,"reputation":38,"user_id":7327486,"display_name":"Koren Lahav"},"score":0,"creation_date":1675243669,"post_id":75307606,"comment_id":132884623,"body_markdown":"Thank you, it works now, if you have an explanation why it worked on the video but not on my computer i would be thankful even more","body":"Thank you, it works now, if you have an explanation why it worked on the video but not on my computer i would be thankful even more"},{"owner":{"account_id":25339479,"reputation":71,"user_id":19158062,"display_name":"dustbin"},"score":0,"creation_date":1675244559,"post_id":75307606,"comment_id":132884913,"body_markdown":"you can learn about @GetMapper, distinction about assign value and not assign value.","body":"you can learn about @GetMapper, distinction about assign value and not assign value."}],"tags":[],"owner":{"account_id":25339479,"reputation":71,"user_id":19158062,"display_name":"dustbin"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675241502,"creation_date":1675241502,"answer_id":75307606,"question_id":75307328,"body_markdown":"maybe you can assign a value to the annotation GetMapping,like `@GetMapping(&quot;/query&quot;)`.then by this url `http://localhost:8080/query` to visit.","title":"why does @GetMapping not working as I expected?","body":"<p>maybe you can assign a value to the annotation GetMapping,like <code>@GetMapping(&quot;/query&quot;)</code>.then by this url <code>http://localhost:8080/query</code> to visit.</p>\n"}],"owner":{"account_id":9895976,"reputation":38,"user_id":7327486,"display_name":"Koren Lahav"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75307606,"answer_count":1,"score":1,"last_activity_date":1675243339,"creation_date":1675239878,"question_id":75307328,"body_markdown":"I started learning Spring and been watching this video https://youtu.be/9SGDpanrc8U from \r\nAmigoscode. I followed along and did what he did but my code acts differently than his, maybe i missed something, but I set on it for two hours trying to figure out what&#39;s not working and nothing works.\r\nhere is the code\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.Month;\r\nimport java.util.List;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport com.example.demo.Student.*;\r\n@SpringBootApplication\r\n@RestController\r\npublic class Demo2Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Demo2Application.class, args);\r\n\t}\r\n\t\r\n\t@GetMapping\r\n\tpublic List&lt;Student&gt; hello() {\r\n\t\treturn List.of(\r\n\t\t\t\tnew Student(\r\n\t\t\t\t\t\t1L,\r\n\t\t\t\t\t\t&quot;Mariam&quot;,\r\n\t\t\t\t\t\t&quot;Marim.jamal@gmail.com&quot;,\r\n\t\t\t\t\t\tLocalDate.of(2000, Month.JANUARY, 5),\r\n\t\t\t\t\t\t21\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd the Student class\r\n\r\n```\r\npackage com.example.demo.Student;\r\n\r\nimport java.time.LocalDate;\r\n\r\npublic class Student {\r\n\tprivate long id;\r\n\tprivate String name;\r\n\tprivate String email;\r\n\tprivate LocalDate dob;\r\n\tprivate Integer age;\r\n\t\r\n\tpublic Student(Long id, String name, String email, LocalDate dob, Integer age) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.email = email;\r\n\t\tthis.dob = dob;\r\n\t\tthis.age = age;\r\n\t}\r\n\t\r\n\tpublic Student(String name, String email, LocalDate dob, Integer age) {\r\n\t\tthis.name = name;\r\n\t\tthis.email = email;\r\n\t\tthis.dob = dob;\r\n\t\tthis.age = age;\r\n\t}\r\n\t\r\n\tpublic Long getId() {\r\n\t\treturn id;\r\n\t}\r\n\t\r\n\tpublic void setId(Long id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\t\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\t\r\n\tpublic LocalDate getDob() {\r\n\t\treturn dob;\r\n\t}\r\n\t\r\n\tpublic void setDob(LocalDate dob) {\r\n\t\tthis.dob = dob;\r\n\t}\r\n\t\r\n\tpublic Integer getAge() {\r\n\t\treturn age;\r\n\t}\r\n\t\r\n\tpublic void setAge(Integer age) {\r\n\t\tthis.age = age;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;Student{&quot; +\r\n\t\t\t\t&quot;id=&quot; + id +\r\n\t\t\t\t&quot;, name=&#39;&quot; + name + &quot;&#39;&quot; +\r\n\t\t\t\t&quot;, email=&#39;&quot; + email +&quot;&#39;&quot; +\r\n\t\t\t\t&quot;, dob=&quot; + dob +\r\n\t\t\t\t&quot;, age=&quot; + age +\r\n\t\t\t\t&quot;}&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nwhen he runs the code in the video, the websites loads a list with a single student details in it.\r\nwhen I run it, it shows this:\r\n\r\n[Whitelabel Error Page \\n This application has no explicit mapping for /error, so you are seeing this as a fallback](https://i.stack.imgur.com/LS3V6.png)\r\n\r\nI checked Stack Overflow and other websites for this problem, most say it is because the controller doesn&#39;t handle what to do in case of an error, but that&#39;s not the case here. and the others say it&#39;s because packaging hierarchy, i tried splitting Demo2Application into two, one for the Application one for the RestController and put them in hierarchical order where Demo2Application shows before RestController, still didn&#39;t work so I reversed the splitting back to what the video showed.\r\n\r\nHere is the log when I run:\r\n\r\n[Log][1]\r\n\r\nTruly Frustrated, will appreciate anything you have for me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nAGuu.png","title":"why does @GetMapping not working as I expected?","body":"<p>I started learning Spring and been watching this video <a href=\"https://youtu.be/9SGDpanrc8U\" rel=\"nofollow noreferrer\">https://youtu.be/9SGDpanrc8U</a> from\nAmigoscode. I followed along and did what he did but my code acts differently than his, maybe i missed something, but I set on it for two hours trying to figure out what's not working and nothing works.\nhere is the code</p>\n<pre><code>package com.example.demo;\n\nimport java.time.LocalDate;\nimport java.time.Month;\nimport java.util.List;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport com.example.demo.Student.*;\n@SpringBootApplication\n@RestController\npublic class Demo2Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Demo2Application.class, args);\n    }\n    \n    @GetMapping\n    public List&lt;Student&gt; hello() {\n        return List.of(\n                new Student(\n                        1L,\n                        &quot;Mariam&quot;,\n                        &quot;Marim.jamal@gmail.com&quot;,\n                        LocalDate.of(2000, Month.JANUARY, 5),\n                        21\n                    )\n                );\n                \n    }\n}\n\n</code></pre>\n<p>And the Student class</p>\n<pre><code>package com.example.demo.Student;\n\nimport java.time.LocalDate;\n\npublic class Student {\n    private long id;\n    private String name;\n    private String email;\n    private LocalDate dob;\n    private Integer age;\n    \n    public Student(Long id, String name, String email, LocalDate dob, Integer age) {\n        this.id = id;\n        this.name = name;\n        this.email = email;\n        this.dob = dob;\n        this.age = age;\n    }\n    \n    public Student(String name, String email, LocalDate dob, Integer age) {\n        this.name = name;\n        this.email = email;\n        this.dob = dob;\n        this.age = age;\n    }\n    \n    public Long getId() {\n        return id;\n    }\n    \n    public void setId(Long id) {\n        this.id = id;\n    }\n    \n    public String getName() {\n        return name;\n    }\n    \n    public void setName(String name) {\n        this.name = name;\n    }\n    \n    public String getEmail() {\n        return email;\n    }\n    \n    public void setEmail(String email) {\n        this.email = email;\n    }\n    \n    public LocalDate getDob() {\n        return dob;\n    }\n    \n    public void setDob(LocalDate dob) {\n        this.dob = dob;\n    }\n    \n    public Integer getAge() {\n        return age;\n    }\n    \n    public void setAge(Integer age) {\n        this.age = age;\n    }\n    \n    @Override\n    public String toString() {\n        // TODO Auto-generated method stub\n        return &quot;Student{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, name='&quot; + name + &quot;'&quot; +\n                &quot;, email='&quot; + email +&quot;'&quot; +\n                &quot;, dob=&quot; + dob +\n                &quot;, age=&quot; + age +\n                &quot;}&quot;;\n    }\n}\n\n</code></pre>\n<p>when he runs the code in the video, the websites loads a list with a single student details in it.\nwhen I run it, it shows this:</p>\n<p><a href=\"https://i.stack.imgur.com/LS3V6.png\" rel=\"nofollow noreferrer\">Whitelabel Error Page \\n This application has no explicit mapping for /error, so you are seeing this as a fallback</a></p>\n<p>I checked Stack Overflow and other websites for this problem, most say it is because the controller doesn't handle what to do in case of an error, but that's not the case here. and the others say it's because packaging hierarchy, i tried splitting Demo2Application into two, one for the Application one for the RestController and put them in hierarchical order where Demo2Application shows before RestController, still didn't work so I reversed the splitting back to what the video showed.</p>\n<p>Here is the log when I run:</p>\n<p><a href=\"https://i.stack.imgur.com/nAGuu.png\" rel=\"nofollow noreferrer\">Log</a></p>\n<p>Truly Frustrated, will appreciate anything you have for me.</p>\n"},{"tags":["java","android","kotlin","junit","android-espresso"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1638150658,"post_id":70147764,"comment_id":124003726,"body_markdown":"What do your `build.gradle` file look like?","body":"What do your <code>build.gradle</code> file look like?"},{"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"score":0,"creation_date":1638150825,"post_id":70147764,"comment_id":124003743,"body_markdown":"@dominicoder I edited my question to include that file.","body":"@dominicoder I edited my question to include that file."}],"answers":[{"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1638255119,"creation_date":1638203667,"answer_id":70158063,"question_id":70147764,"body_markdown":"&gt; Uhh, wait a second, I already have implementation &#39;androidx.test:core-ktx:1.4.0&#39; included in my project... The commented out one is just a duplicate lol \r\n\r\nYou have it imported as `testImplementation` - it should be `androidTestImplementation`.\r\n\r\nHow you declare the dependency depends on what kind of tests are going to use it. `testImplementation` is for anything under `test/` (usually unit tests that don&#39;t depend on the Android framework). Anything that does depend on the Android framework goes under `androidTest/` and so would use `androidTestImplementation`:\r\n\r\n    androidTestImplementation &#39;androidx.test.ext:junit-ktx:1.1.3&#39;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uwEKn.png","title":"Unresolved reference: ext when importing androidx.test.ext.junit.rules.ActivityScenarioRule","body":"<blockquote>\n<p>Uhh, wait a second, I already have implementation 'androidx.test:core-ktx:1.4.0' included in my project... The commented out one is just a duplicate lol</p>\n</blockquote>\n<p>You have it imported as <code>testImplementation</code> - it should be <code>androidTestImplementation</code>.</p>\n<p>How you declare the dependency depends on what kind of tests are going to use it. <code>testImplementation</code> is for anything under <code>test/</code> (usually unit tests that don't depend on the Android framework). Anything that does depend on the Android framework goes under <code>androidTest/</code> and so would use <code>androidTestImplementation</code>:</p>\n<pre><code>androidTestImplementation 'androidx.test.ext:junit-ktx:1.1.3'\n</code></pre>\n"}],"owner":{"account_id":20537440,"reputation":253,"user_id":15073157,"display_name":"thebluepandabear"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2051,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70158063,"answer_count":1,"score":2,"last_activity_date":1675243014,"creation_date":1638136184,"question_id":70147764,"body_markdown":"Recently, I&#39;ve decided to update my Espresso code to use `ActivityScenarioRule` instead of the deprecated `ActivityTestRule`.\r\n\r\nTo do this, I&#39;ve imported the following library into my project:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe final code using `ActivityScenarioRule`:\r\n\r\n```\r\npackage com.realtomjoney.pyxlmoose.activities.main\r\n\r\nimport androidx.test.espresso.Espresso.onView\r\nimport androidx.test.espresso.action.ViewActions\r\nimport androidx.test.espresso.matcher.ViewMatchers.*\r\nimport com.realtomjoney.pyxlmoose.R\r\nimport org.junit.Rule\r\nimport org.junit.Test\r\nimport androidx.test.espresso.action.ViewActions.click\r\nimport androidx.test.espresso.assertion.ViewAssertions\r\nimport androidx.test.ext.junit.rules.ActivityScenarioRule\r\nimport androidx.test.filters.LargeTest\r\nimport androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner\r\nimport org.junit.runner.RunWith\r\n\r\n\r\n@LargeTest\r\n@RunWith(AndroidJUnit4ClassRunner::class)\r\nclass MainActivityTestsWhenNewProjectIsCreated {\r\n    @get:Rule\r\n    var activityTestRule = ActivityScenarioRule(MainActivity::class.java)\r\n\r\n    private fun createNewProject() {\r\n        onView(withId(R.id.floatingActionButton)).perform(click())\r\n        onView(withId(R.id.fragmentNewCanvas_projectTitleTextInputEditText)).perform(ViewActions.replaceText(&quot;Untitled Project&quot;))\r\n        onView(withId(R.id.fragmentNewCanvas_spanCountTextInputEditText)).perform(ViewActions.replaceText(&quot;5&quot;))\r\n        onView(withId(R.id.fragmentNewCanvas_doneButton)).perform(click())\r\n    }\r\n\r\n    @Test\r\n    fun uitest_fragmentNewCanvasProjectTitleTextInputEditText_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\r\n        createNewProject()\r\n        onView(withId(R.id.fragmentNewCanvas_projectTitleTextInputEditText)).check(ViewAssertions.doesNotExist())\r\n    }\r\n\r\n    @Test\r\n    fun uitest_fragmentNewCanvasProjectTitleTextInputLayout_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\r\n        createNewProject()\r\n        onView(withId(R.id.fragmentNewCanvas_projectTitleTextInputLayout)).check(ViewAssertions.doesNotExist())\r\n    }\r\n\r\n    @Test\r\n    fun uitest_fragmentNewCanvasSpanCountTextInputEditText_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\r\n        createNewProject()\r\n        onView(withId(R.id.fragmentNewCanvas_spanCountTextInputEditText)).check(ViewAssertions.doesNotExist())\r\n    }\r\n\r\n    @Test\r\n    fun uitest_fragmentNewCanvasSpanCountTextInputLayout_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\r\n        createNewProject()\r\n        onView(withId(R.id.fragmentNewCanvas_spanCountTextInputLayout)).check(ViewAssertions.doesNotExist())\r\n    }\r\n\r\n    @Test\r\n    fun uitest_fragmentNewCanvasDoneButton_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\r\n        createNewProject()\r\n        onView(withId(R.id.fragmentNewCanvas_doneButton)).check(ViewAssertions.doesNotExist())\r\n    }\r\n}\r\n```\r\n\r\nWhenever I run the UI tests, I get the following error:\r\n\r\n```\r\nUnresolved reference: ext\r\n```\r\n\r\nThe error is coming from this line:\r\n\r\n```\r\nimport androidx.test.ext.junit.rules.ActivityScenarioRule\r\n```\r\n\r\n`build.gradle`:\r\n\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;kotlin-android&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 31\r\n\r\n    testOptions {\r\n        unitTests.includeAndroidResources = true\r\n    }\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.realtomjoney.pyxlmoose&quot;\r\n        minSdk 27\r\n        targetSdk 31\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n    testOptions {\r\n        unitTests.returnDefaultValues = true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.4.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.2&#39;\r\n//    implementation &#39;androidx.test:core-ktx:1.4.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0-beta01&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    testImplementation &#39;androidx.test:core-ktx:1.4.0&#39;\r\n    testImplementation &#39;androidx.test.ext:junit-ktx:1.1.3&#39;\r\n    testImplementation &#39;org.robolectric:robolectric:4.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0-alpha03&#39;\r\n    androidTestImplementation &#39;androidx.test:rules:1.4.1-alpha03&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    androidTestImplementation &#39;com.android.support.test.espresso:espresso-contrib:3.0.2&#39;\r\n}\r\n```\r\n\r\nHow can I fix this? This import statement was added automatically by Android Studio, and I&#39;m confused why it&#39;s saying that &#39;ext&#39; is an unresolved reference.\r\n\r\nIt&#39;s not that the code with `ActivityTestRule` *doesn&#39;t* work, I just wanted to switch to a safer alternative which seems to be `ActivityScenarioRule` - if I keep running into these problems I might need to revert back to the deprecated library.\r\n\r\n  [1]: https://i.stack.imgur.com/eMsPE.png","title":"Unresolved reference: ext when importing androidx.test.ext.junit.rules.ActivityScenarioRule","body":"<p>Recently, I've decided to update my Espresso code to use <code>ActivityScenarioRule</code> instead of the deprecated <code>ActivityTestRule</code>.</p>\n<p>To do this, I've imported the following library into my project:</p>\n<p><a href=\"https://i.stack.imgur.com/eMsPE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eMsPE.png\" alt=\"enter image description here\" /></a></p>\n<p>The final code using <code>ActivityScenarioRule</code>:</p>\n<pre><code>package com.realtomjoney.pyxlmoose.activities.main\n\nimport androidx.test.espresso.Espresso.onView\nimport androidx.test.espresso.action.ViewActions\nimport androidx.test.espresso.matcher.ViewMatchers.*\nimport com.realtomjoney.pyxlmoose.R\nimport org.junit.Rule\nimport org.junit.Test\nimport androidx.test.espresso.action.ViewActions.click\nimport androidx.test.espresso.assertion.ViewAssertions\nimport androidx.test.ext.junit.rules.ActivityScenarioRule\nimport androidx.test.filters.LargeTest\nimport androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner\nimport org.junit.runner.RunWith\n\n\n@LargeTest\n@RunWith(AndroidJUnit4ClassRunner::class)\nclass MainActivityTestsWhenNewProjectIsCreated {\n    @get:Rule\n    var activityTestRule = ActivityScenarioRule(MainActivity::class.java)\n\n    private fun createNewProject() {\n        onView(withId(R.id.floatingActionButton)).perform(click())\n        onView(withId(R.id.fragmentNewCanvas_projectTitleTextInputEditText)).perform(ViewActions.replaceText(&quot;Untitled Project&quot;))\n        onView(withId(R.id.fragmentNewCanvas_spanCountTextInputEditText)).perform(ViewActions.replaceText(&quot;5&quot;))\n        onView(withId(R.id.fragmentNewCanvas_doneButton)).perform(click())\n    }\n\n    @Test\n    fun uitest_fragmentNewCanvasProjectTitleTextInputEditText_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\n        createNewProject()\n        onView(withId(R.id.fragmentNewCanvas_projectTitleTextInputEditText)).check(ViewAssertions.doesNotExist())\n    }\n\n    @Test\n    fun uitest_fragmentNewCanvasProjectTitleTextInputLayout_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\n        createNewProject()\n        onView(withId(R.id.fragmentNewCanvas_projectTitleTextInputLayout)).check(ViewAssertions.doesNotExist())\n    }\n\n    @Test\n    fun uitest_fragmentNewCanvasSpanCountTextInputEditText_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\n        createNewProject()\n        onView(withId(R.id.fragmentNewCanvas_spanCountTextInputEditText)).check(ViewAssertions.doesNotExist())\n    }\n\n    @Test\n    fun uitest_fragmentNewCanvasSpanCountTextInputLayout_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\n        createNewProject()\n        onView(withId(R.id.fragmentNewCanvas_spanCountTextInputLayout)).check(ViewAssertions.doesNotExist())\n    }\n\n    @Test\n    fun uitest_fragmentNewCanvasDoneButton_isNotDisplayed_after_fragmentNewCanvasDoneButton_isPressed() {\n        createNewProject()\n        onView(withId(R.id.fragmentNewCanvas_doneButton)).check(ViewAssertions.doesNotExist())\n    }\n}\n</code></pre>\n<p>Whenever I run the UI tests, I get the following error:</p>\n<pre><code>Unresolved reference: ext\n</code></pre>\n<p>The error is coming from this line:</p>\n<pre><code>import androidx.test.ext.junit.rules.ActivityScenarioRule\n</code></pre>\n<p><code>build.gradle</code>:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n}\n\nandroid {\n    compileSdk 31\n\n    testOptions {\n        unitTests.includeAndroidResources = true\n    }\n\n    defaultConfig {\n        applicationId &quot;com.realtomjoney.pyxlmoose&quot;\n        minSdk 27\n        targetSdk 31\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n    buildFeatures {\n        viewBinding true\n    }\n    testOptions {\n        unitTests.returnDefaultValues = true\n    }\n}\n\ndependencies {\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.appcompat:appcompat:1.4.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.2'\n//    implementation 'androidx.test:core-ktx:1.4.0'\n    implementation 'com.google.android.material:material:1.5.0-beta01'\n    testImplementation 'junit:junit:4.13.2'\n    testImplementation 'androidx.test:core-ktx:1.4.0'\n    testImplementation 'androidx.test.ext:junit-ktx:1.1.3'\n    testImplementation 'org.robolectric:robolectric:4.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0-alpha03'\n    androidTestImplementation 'androidx.test:rules:1.4.1-alpha03'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-contrib:3.0.2'\n}\n</code></pre>\n<p>How can I fix this? This import statement was added automatically by Android Studio, and I'm confused why it's saying that 'ext' is an unresolved reference.</p>\n<p>It's not that the code with <code>ActivityTestRule</code> <em>doesn't</em> work, I just wanted to switch to a safer alternative which seems to be <code>ActivityScenarioRule</code> - if I keep running into these problems I might need to revert back to the deprecated library.</p>\n"},{"tags":["java","spring","spring-boot","asynchronous","spring-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1675175256,"post_id":75298417,"comment_id":132868970,"body_markdown":"Please show the full stacktrace and add your configuration and code.","body":"Please show the full stacktrace and add your configuration and code."},{"owner":{"account_id":25414251,"reputation":51,"user_id":19221489,"display_name":"TheCoder"},"score":0,"creation_date":1675182420,"post_id":75298417,"comment_id":132871671,"body_markdown":"@M.Deinum thanks!!. I have updated it in the question please have a look.","body":"@M.Deinum thanks!!. I have updated it in the question please have a look."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675236105,"post_id":75298417,"comment_id":132882467,"body_markdown":"Pleas use proper formatting (the code tags are there for a reason) also this is only the stacktrace and not the configuration.","body":"Pleas use proper formatting (the code tags are there for a reason) also this is only the stacktrace and not the configuration."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675243012,"creation_date":1675243012,"answer_id":75307909,"question_id":75298417,"body_markdown":"This error means you are making a task executor step-scoped, which is incorrect.\r\n\r\nThe task executor should not be &quot;SpringBatch-scoped&quot; (job-scoped or step-scoped) or even scoped at all (IMO the default singleton scope is the correct scope of such a compnent for most use cases). Spring Batch does not create or manage threads, it delegates that to task executors in different parts of the framework. Therefore, such a component should not be impacted by any scope of Spring Batch and should not impact the behaviour of a Spring Batch job by any mean.\r\n\r\nSo in your case, you should remove the step scope from task executor bean definition.","title":"Error creating bean with name &#39;scopedTarget.taskExecutor&#39;","body":"<p>This error means you are making a task executor step-scoped, which is incorrect.</p>\n<p>The task executor should not be &quot;SpringBatch-scoped&quot; (job-scoped or step-scoped) or even scoped at all (IMO the default singleton scope is the correct scope of such a compnent for most use cases). Spring Batch does not create or manage threads, it delegates that to task executors in different parts of the framework. Therefore, such a component should not be impacted by any scope of Spring Batch and should not impact the behaviour of a Spring Batch job by any mean.</p>\n<p>So in your case, you should remove the step scope from task executor bean definition.</p>\n"}],"owner":{"account_id":25414251,"reputation":51,"user_id":19221489,"display_name":"TheCoder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":968,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75307909,"answer_count":1,"score":0,"last_activity_date":1675243012,"creation_date":1675174232,"question_id":75298417,"body_markdown":"I am initiating a spring batch job after a rest-api call from UI. I need to make the rest-api call async, when I use `@Async` on a function in service class where batch job parameters are set and job is started I get the below error\r\n\r\n```\r\norg.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name &#39;scopedTarget.taskExecutor&#39;: Scope &#39;step&#39; is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No context holder available for step scope\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\tat org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\r\n\tat jdk.proxy16/jdk.proxy16.$Proxy420.execute(Unknown Source)\r\n\tat org.springframework.core.task.support.TaskExecutorAdapter.doExecute(TaskExecutorAdapter.java:180)\r\n\tat org.springframework.core.task.support.TaskExecutorAdapter.submit(TaskExecutorAdapter.java:131)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionAspectSupport.doSubmit(AsyncExecutionAspectSupport.java:290)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.invoke(AsyncExecutionInterceptor.java:129)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n\tat com.zscalar.log.reader.utility.service.impl.LogParserServiceImpl$$EnhancerBySpringCGLIB$$9cc8d9af_2.parseExternalLog(&lt;generated&gt;)\r\n\tat com.zscalar.log.reader.utility.service.impl.LogParserServiceImpl$$FastClassBySpringCGLIB$$5e500a79.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\r\n\tat com.zscalar.log.reader.utility.service.impl.LogParserServiceImpl$$EnhancerBySpringCGLIB$$793770d6.parseExternalLog(&lt;generated&gt;)\r\n\tat com.zscalar.log.reader.utility.controller.LogAnalyserController.uploadSfdcFiles(LogAnalyserController.java:265)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat com.zscalar.log.reader.utility.jwt.config.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:72)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: java.lang.IllegalStateException: No context holder available for step scope\r\n\tat org.springframework.batch.core.scope.StepScope.getContext(StepScope.java:167)\r\n\tat org.springframework.batch.core.scope.StepScope.get(StepScope.java:99)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\r\n\t... 111 more\r\n```\r\nIts a spring-boot project with a spring-batch job.\r\n","title":"Error creating bean with name &#39;scopedTarget.taskExecutor&#39;","body":"<p>I am initiating a spring batch job after a rest-api call from UI. I need to make the rest-api call async, when I use <code>@Async</code> on a function in service class where batch job parameters are set and job is started I get the below error</p>\n<pre><code>org.springframework.beans.factory.support.ScopeNotActiveException: Error creating bean with name 'scopedTarget.taskExecutor': Scope 'step' is not active for the current thread; consider defining a scoped proxy for this bean if you intend to refer to it from a singleton; nested exception is java.lang.IllegalStateException: No context holder available for step scope\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:383)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n    at org.springframework.aop.target.SimpleBeanTargetSource.getTarget(SimpleBeanTargetSource.java:35)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:195)\n    at jdk.proxy16/jdk.proxy16.$Proxy420.execute(Unknown Source)\n    at org.springframework.core.task.support.TaskExecutorAdapter.doExecute(TaskExecutorAdapter.java:180)\n    at org.springframework.core.task.support.TaskExecutorAdapter.submit(TaskExecutorAdapter.java:131)\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.doSubmit(AsyncExecutionAspectSupport.java:290)\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.invoke(AsyncExecutionInterceptor.java:129)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at com.zscalar.log.reader.utility.service.impl.LogParserServiceImpl$$EnhancerBySpringCGLIB$$9cc8d9af_2.parseExternalLog(&lt;generated&gt;)\n    at com.zscalar.log.reader.utility.service.impl.LogParserServiceImpl$$FastClassBySpringCGLIB$$5e500a79.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)\n    at com.zscalar.log.reader.utility.service.impl.LogParserServiceImpl$$EnhancerBySpringCGLIB$$793770d6.parseExternalLog(&lt;generated&gt;)\n    at com.zscalar.log.reader.utility.controller.LogAnalyserController.uploadSfdcFiles(LogAnalyserController.java:265)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:113)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at com.zscalar.log.reader.utility.jwt.config.JwtRequestFilter.doFilterInternal(JwtRequestFilter.java:72)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:103)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: java.lang.IllegalStateException: No context holder available for step scope\n    at org.springframework.batch.core.scope.StepScope.getContext(StepScope.java:167)\n    at org.springframework.batch.core.scope.StepScope.get(StepScope.java:99)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:371)\n    ... 111 more\n</code></pre>\n<p>Its a spring-boot project with a spring-batch job.</p>\n"},{"tags":["java","spring-boot","spring-cloud"],"comments":[{"owner":{"account_id":11593348,"reputation":401,"user_id":8492856,"display_name":"ktcl"},"score":0,"creation_date":1687771275,"post_id":74666252,"comment_id":134978033,"body_markdown":"do you use multi-datasource ?","body":"do you use multi-datasource ?"}],"answers":[{"tags":[],"owner":{"account_id":15096905,"reputation":11,"user_id":10895111,"display_name":"Developer530"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675242735,"creation_date":1675242735,"answer_id":75307845,"question_id":74666252,"body_markdown":"remove the following dependency: \r\n\r\n`\r\n\r\n        &lt;groupId&gt;net.ttddyy&lt;/groupId&gt;\r\n        &lt;artifactId&gt;datasource-proxy&lt;/artifactId&gt;\r\n\r\n`","title":"Sleuth error while upgrading to Spring boot 2.7.5","body":"<p>remove the following dependency:</p>\n<p>`</p>\n<pre><code>    &lt;groupId&gt;net.ttddyy&lt;/groupId&gt;\n    &lt;artifactId&gt;datasource-proxy&lt;/artifactId&gt;\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":4983156,"reputation":343,"user_id":4007518,"accept_rate":75,"display_name":"Akkave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675242735,"creation_date":1670066591,"question_id":74666252,"body_markdown":"I`m upgrading to spring-boot 2.7.5 and spring-cloud 2021.0.5.\r\n\r\nI`m getting error about sleuth.\r\nStep done so far:\r\n1. m2 cleaning\r\n2. change in spring-cloud version 2021.0.4 and 2021.0.3 but same error.\r\n\r\nAny help would be appreciable.\r\n\r\n```\r\nApplication run failed\r\njava.lang.IllegalStateException: Error processing condition on org.springframework.cloud.sleuth.autoconfig.instrument.jdbc.DataSourceProxyConfiguration.traceResultSetProxyLogicFactory\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n\tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\r\n\tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\r\n\tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.shiksha.trend.Application.main(Application.java:69)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalStateException: @ConditionalOnMissingBean did not specify a bean using type, name or annotation and the attempt to deduce the bean&#39;s type failed\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.validate(OnBeanCondition.java:494)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:443)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:154)\r\n\tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n\t... 22 common frames omitted\r\nCaused by: org.springframework.boot.autoconfigure.condition.OnBeanCondition$BeanTypeDeductionException: Failed to deduce bean type for org.springframework.cloud.sleuth.autoconfig.instrument.jdbc.DataSourceProxyConfiguration.traceResultSetProxyLogicFactory\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:524)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanType(OnBeanCondition.java:513)\r\n\tat org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:436)\r\n\t... 24 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: net.ttddyy.dsproxy.proxy.ResultSetProxyLogicFactory\r\n\r\n```\r\n\r\n","title":"Sleuth error while upgrading to Spring boot 2.7.5","body":"<p>I`m upgrading to spring-boot 2.7.5 and spring-cloud 2021.0.5.</p>\n<p>I`m getting error about sleuth.\nStep done so far:</p>\n<ol>\n<li>m2 cleaning</li>\n<li>change in spring-cloud version 2021.0.4 and 2021.0.3 but same error.</li>\n</ol>\n<p>Any help would be appreciable.</p>\n<pre><code>Application run failed\njava.lang.IllegalStateException: Error processing condition on org.springframework.cloud.sleuth.autoconfig.instrument.jdbc.DataSourceProxyConfiguration.traceResultSetProxyLogicFactory\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734)\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.shiksha.trend.Application.main(Application.java:69)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalStateException: @ConditionalOnMissingBean did not specify a bean using type, name or annotation and the attempt to deduce the bean's type failed\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.validate(OnBeanCondition.java:494)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:443)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:154)\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n    ... 22 common frames omitted\nCaused by: org.springframework.boot.autoconfigure.condition.OnBeanCondition$BeanTypeDeductionException: Failed to deduce bean type for org.springframework.cloud.sleuth.autoconfig.instrument.jdbc.DataSourceProxyConfiguration.traceResultSetProxyLogicFactory\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanTypeForBeanMethod(OnBeanCondition.java:524)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.deducedBeanType(OnBeanCondition.java:513)\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition$Spec.&lt;init&gt;(OnBeanCondition.java:436)\n    ... 24 common frames omitted\nCaused by: java.lang.ClassNotFoundException: net.ttddyy.dsproxy.proxy.ResultSetProxyLogicFactory\n\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1675242738,"post_id":75307803,"comment_id":132884311,"body_markdown":"There is a lot of code in your question. Can you please provide an [mcve](https://stackoverflow.com/help/minimal-reproducible-example)?","body":"There is a lot of code in your question. Can you please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mcve</a>?"},{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1675242974,"post_id":75307803,"comment_id":132884389,"body_markdown":"@&#201;tienneMiret  am getting and error when i run the main method","body":"@&#201;tienneMiret  am getting and error when i run the main method"},{"owner":{"account_id":2099531,"reputation":6497,"user_id":1867549,"accept_rate":80,"display_name":"&#201;tienne Miret"},"score":0,"creation_date":1675243082,"post_id":75307803,"comment_id":132884427,"body_markdown":"Well, post the error then...","body":"Well, post the error then..."},{"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"score":0,"creation_date":1675244185,"post_id":75307803,"comment_id":132884789,"body_markdown":"[Utils] [ERROR] [Error] org.testng.TestNGException: \nCannot inject @Test annotated Method [useFilepath] with [class java.lang.String].\nFor more information on native dependency injection please refer to https://testng.org/doc/documentation-main.html#native-dependency-injection","body":"[Utils] [ERROR] [Error] org.testng.TestNGException:  Cannot inject @Test annotated Method [useFilepath] with [class java.lang.String]. For more information on native dependency injection please refer to <a href=\"https://testng.org/doc/documentation-main.html#native-dependency-injection\" rel=\"nofollow noreferrer\">testng.org/doc/&hellip;</a>"},{"owner":{"account_id":16536700,"reputation":499,"user_id":11948496,"display_name":"MDK"},"score":0,"creation_date":1675250977,"post_id":75307803,"comment_id":132886988,"body_markdown":"You do have the import `import org.testng.annotations.Test;` in your classes, but don&#39;t seem to use the annotation. What is the purpose of that import? Does removing it change anything?","body":"You do have the import <code>import org.testng.annotations.Test;</code> in your classes, but don&#39;t seem to use the annotation. What is the purpose of that import? Does removing it change anything?"}],"owner":{"account_id":23533465,"reputation":15,"user_id":17578737,"display_name":"ramesh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675242507,"creation_date":1675242507,"question_id":75307803,"body_markdown":"Iam using two different classes which generated the latest files in the directory, so this latest file is calling in the main method,but getting and error.\r\n\r\nFirst latest file class file code:\r\n\r\n   \r\n\r\n     package API_Automation.panaray;\r\n    \r\n    import java.io.File;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    \r\n    import org.testng.annotations.Test;\r\n     \r\n    public class DataBase_directory {\r\n     \r\n     \r\n        public static  String getLatestFilePath() {\r\n        \t\r\n            File folder = new File(&quot;.//Output_Files//Data_Base&quot;);\r\n            File[] listOfFiles = folder.listFiles();\r\n    \r\n            File latestDir = null;\r\n            for (File file : listOfFiles) {\r\n                if (file.isDirectory() &amp;&amp; (latestDir == null || file.lastModified() &gt; latestDir.lastModified())) {\r\n                    latestDir = file;\r\n                }\r\n            }\r\n    \r\n            if (latestDir != null) {\r\n                //System.out.println(&quot;Latest directory: &quot; + latestDir.getPath());\r\n                File directory = new File(latestDir.getPath());\r\n                File[] files = directory.listFiles();\r\n                \r\n                // Sort files by last modified date\r\n                Arrays.sort(files, new Comparator&lt;File&gt;() {\r\n                    public int compare(File f1, File f2) {\r\n                        return Long.valueOf(f2.lastModified()).compareTo(f1.lastModified());\r\n                    }\r\n                });\r\n    \r\n                // Iterate through files and get the first file with .xlsx extension\r\n                for (File file : files) {\r\n                    if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.xlsx&quot;)) {\r\n                        return file.getPath();\r\n                       // System.out.println(file.getPath());\r\n                     \r\n                    }\r\n                }\r\n            \r\n            \r\n            }\r\n            return null;\r\n           \r\n             \r\n        }\r\n    \r\n    }\r\n\r\nSecond latest file class file code:\r\n\r\n    package API_Automation.panaray;\r\n    \r\n    import java.io.File;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    \r\n    import org.testng.annotations.Test;\r\n     \r\n    public class Elastic_Search_directory {\r\n     \r\n     \r\n        public static  String getLatestFilePath() {\r\n        \t\r\n            File folder = new File(&quot;.//Output_Files//Elastic_Search&quot;);\r\n            File[] listOfFiles = folder.listFiles();\r\n    \r\n            File latestDir = null;\r\n            for (File file : listOfFiles) {\r\n                if (file.isDirectory() &amp;&amp; (latestDir == null || file.lastModified() &gt; latestDir.lastModified())) {\r\n                    latestDir = file;\r\n                }\r\n            }\r\n    \r\n            if (latestDir != null) {\r\n                //System.out.println(&quot;Latest directory: &quot; + latestDir.getPath());\r\n                File directory = new File(latestDir.getPath());\r\n                File[] files = directory.listFiles();\r\n                \r\n                // Sort files by last modified date\r\n                Arrays.sort(files, new Comparator&lt;File&gt;() {\r\n                    public int compare(File f1, File f2) {\r\n                        return Long.valueOf(f2.lastModified()).compareTo(f1.lastModified());\r\n                    }\r\n                });\r\n    \r\n                // Iterate through files and get the first file with .xlsx extension\r\n                for (File file : files) {\r\n                    if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.xlsx&quot;)) {\r\n                        return file.getPath();\r\n                       // System.out.println(file.getPath());\r\n                     \r\n                    }\r\n                }\r\n            \r\n            \r\n            }\r\n            return null;\r\n           \r\n             \r\n        }\r\n    \r\n    }\r\n\r\nThis is the main code which i am calling the filepath\r\n\r\n        package API_Automation.panaray;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.time.LocalDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class Excel_Compare {\r\n    \r\n    \t \r\n    \tpublic void useFilepath(String filepath) throws IOException {\r\n    \r\n    \t\tif (filepath == null) {\r\n    \t\t\tSystem.out.println(&quot;no file&quot;);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(&quot;The filepath is&quot; + filepath);\r\n    \t\t}\r\n    \t}\r\n    \t@Test\r\n    \tpublic   void main(String[] args) throws IOException {\r\n    \t\tDataBase_directory DB_directory = new DataBase_directory();\r\n    \t\tString filepath1 = DB_directory.getLatestFilePath();\r\n    \t\tSystem.out.println(filepath1);\r\n    \r\n    \t\tDataBase_directory ES_directory = new DataBase_directory();\r\n    \t\tString filepath2 = ES_directory.getLatestFilePath();\r\n    \t\tSystem.out.println(filepath2);\r\n    \r\n    \t\tLocalDateTime date = LocalDateTime.now();\r\n    \r\n    \t\tDateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n    \t\tString formattedDate = date.format(dateFormat);\r\n    \r\n    \t\tDateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm&quot;);\r\n    \t\tString formatedate = date.format(dateformat);\r\n    \r\n    \t\tPath dir = Paths.get(&quot;.//Difference_Excel_Files//Excelfiles-&quot; + formattedDate);\r\n    \t\tFiles.createDirectories(dir);\r\n    \r\n    \t\ttry {\r\n    \t\t\t// Read the contents of both excel files\r\n    \t\t\tFileInputStream file1 = new FileInputStream(new File(filepath1));\r\n    \t\t\tFileInputStream file2 = new FileInputStream(new File(filepath2));\r\n    \t\t\tWorkbook workbook1 = WorkbookFactory.create(file1);\r\n    \t\t\tWorkbook workbook2 = WorkbookFactory.create(file2);\r\n    \r\n    \t\t\t// Compare the contents of each cell\r\n    \t\t\tList&lt;String[]&gt; differences = new ArrayList&lt;&gt;();\r\n    \t\t\tfor (int i = 0; i &lt; workbook1.getNumberOfSheets(); i++) {\r\n    \t\t\t\tSheet sheet1 = workbook1.getSheetAt(i);\r\n    \t\t\t\tSheet sheet2 = workbook2.getSheetAt(i);\r\n    \t\t\t\tfor (int j = 1; j &lt; sheet1.getLastRowNum(); j++) {\r\n    \t\t\t\t\tRow row1 = sheet1.getRow(j);\r\n    \t\t\t\t\tRow row2 = sheet2.getRow(j);\r\n    \t\t\t\t\tfor (int k = 1; k &lt; row1.getLastCellNum(); k++) {\r\n    \r\n    \t\t\t\t\t\tCell cell1 = row1.getCell(k);\r\n    \t\t\t\t\t\tCell cell2 = row2.getCell(k);\r\n    \t\t\t\t\t\tCell cell3 = sheet1.getRow(0).getCell(k);\r\n    \t\t\t\t\t\tCell cell4 = sheet1.getRow(j).getCell(0);\r\n    \r\n    \t\t\t\t\t\tint type1 = cell1.getCellType();\r\n    \t\t\t\t\t\tint type2 = cell2.getCellType();\r\n    \r\n    \t\t\t\t\t\tif (type1 == XSSFCell.CELL_TYPE_STRING &amp; type2 == XSSFCell.CELL_TYPE_STRING) {\r\n    \t\t\t\t\t\t\tif (!cell1.getStringCellValue().equals(cell2.getStringCellValue())) {\r\n    \t\t\t\t\t\t\t\tdifferences.add(new String[] { sheet1.getSheetName(), cell4.getStringCellValue(),\r\n    \t\t\t\t\t\t\t\t\t\tcell1.getStringCellValue(), cell2.getStringCellValue(),\r\n    \t\t\t\t\t\t\t\t\t\tcell3.getStringCellValue() });\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t} else if (type1 == XSSFCell.CELL_TYPE_NUMERIC &amp;&amp; type2 == XSSFCell.CELL_TYPE_NUMERIC) {\r\n    \t\t\t\t\t\t\tif (cell1.getNumericCellValue() != (cell2.getNumericCellValue())) {\r\n    \t\t\t\t\t\t\t\tdifferences.add(new String[] { sheet1.getSheetName(), cell4.getStringCellValue(),\r\n    \t\t\t\t\t\t\t\t\t\tcell1.getStringCellValue(), cell2.getStringCellValue(),\r\n    \t\t\t\t\t\t\t\t\t\tcell3.getStringCellValue() });\r\n    \t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tif (differences.contains(differences)) {\r\n    \t\t\t\tSystem.out.println(&quot;Data is not matching&quot;);\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Data is matching&quot;);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Write the differences to a new excel file\r\n    \t\t\tFileOutputStream fileOut = new FileOutputStream(dir + &quot;//Difference&quot; + &quot;-&quot; + formatedate + &quot;.xlsx&quot;);\r\n    \t\t\tWorkbook differencesWorkbook = new XSSFWorkbook();\r\n    \t\t\tSheet differencesSheet = differencesWorkbook.createSheet(&quot;Differences&quot;);\r\n    \t\t\tif (differences.contains(differences)) {\r\n    \t\t\t\tfor (int i = 0; i &lt; differences.size(); i++) {\r\n    \t\t\t\t\tRow row = differencesSheet.createRow(i);\r\n    \t\t\t\t\tfor (int j = 0; j &lt; differences.get(i).length; j++) {\r\n    \t\t\t\t\t\tCell cell = row.createCell(j);\r\n    \t\t\t\t\t\tcell.setCellValue(differences.get(i)[j]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tdifferencesWorkbook.write(fileOut);\r\n    \t\t\t\tfileOut.close();\r\n    \t\t\t} else {\r\n    \t\t\t\tdifferencesSheet.createRow(0).createCell(0).setCellValue(&quot;Data is matching&quot;);\r\n    \t\t\t\tdifferencesWorkbook.write(fileOut);\r\n    \t\t\t\tfileOut.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tcatch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe main method is to compare the two latestexcel file and paste the differnec between the excelf file.\r\n","title":"Getting error of &quot;Cannot inject @Test annotated Method [useFilepath] with [class java.lang.String]&quot;","body":"<p>Iam using two different classes which generated the latest files in the directory, so this latest file is calling in the main method,but getting and error.</p>\n<p>First latest file class file code:</p>\n<pre><code> package API_Automation.panaray;\n\nimport java.io.File;\nimport java.util.Arrays;\nimport java.util.Comparator;\n\nimport org.testng.annotations.Test;\n \npublic class DataBase_directory {\n \n \n    public static  String getLatestFilePath() {\n        \n        File folder = new File(&quot;.//Output_Files//Data_Base&quot;);\n        File[] listOfFiles = folder.listFiles();\n\n        File latestDir = null;\n        for (File file : listOfFiles) {\n            if (file.isDirectory() &amp;&amp; (latestDir == null || file.lastModified() &gt; latestDir.lastModified())) {\n                latestDir = file;\n            }\n        }\n\n        if (latestDir != null) {\n            //System.out.println(&quot;Latest directory: &quot; + latestDir.getPath());\n            File directory = new File(latestDir.getPath());\n            File[] files = directory.listFiles();\n            \n            // Sort files by last modified date\n            Arrays.sort(files, new Comparator&lt;File&gt;() {\n                public int compare(File f1, File f2) {\n                    return Long.valueOf(f2.lastModified()).compareTo(f1.lastModified());\n                }\n            });\n\n            // Iterate through files and get the first file with .xlsx extension\n            for (File file : files) {\n                if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.xlsx&quot;)) {\n                    return file.getPath();\n                   // System.out.println(file.getPath());\n                 \n                }\n            }\n        \n        \n        }\n        return null;\n       \n         \n    }\n\n}\n</code></pre>\n<p>Second latest file class file code:</p>\n<pre><code>package API_Automation.panaray;\n\nimport java.io.File;\nimport java.util.Arrays;\nimport java.util.Comparator;\n\nimport org.testng.annotations.Test;\n \npublic class Elastic_Search_directory {\n \n \n    public static  String getLatestFilePath() {\n        \n        File folder = new File(&quot;.//Output_Files//Elastic_Search&quot;);\n        File[] listOfFiles = folder.listFiles();\n\n        File latestDir = null;\n        for (File file : listOfFiles) {\n            if (file.isDirectory() &amp;&amp; (latestDir == null || file.lastModified() &gt; latestDir.lastModified())) {\n                latestDir = file;\n            }\n        }\n\n        if (latestDir != null) {\n            //System.out.println(&quot;Latest directory: &quot; + latestDir.getPath());\n            File directory = new File(latestDir.getPath());\n            File[] files = directory.listFiles();\n            \n            // Sort files by last modified date\n            Arrays.sort(files, new Comparator&lt;File&gt;() {\n                public int compare(File f1, File f2) {\n                    return Long.valueOf(f2.lastModified()).compareTo(f1.lastModified());\n                }\n            });\n\n            // Iterate through files and get the first file with .xlsx extension\n            for (File file : files) {\n                if (file.isFile() &amp;&amp; file.getName().endsWith(&quot;.xlsx&quot;)) {\n                    return file.getPath();\n                   // System.out.println(file.getPath());\n                 \n                }\n            }\n        \n        \n        }\n        return null;\n       \n         \n    }\n\n}\n</code></pre>\n<p>This is the main code which i am calling the filepath</p>\n<pre><code>    package API_Automation.panaray;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\nimport org.testng.annotations.Test;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Excel_Compare {\n\n     \n    public void useFilepath(String filepath) throws IOException {\n\n        if (filepath == null) {\n            System.out.println(&quot;no file&quot;);\n        } else {\n            System.out.println(&quot;The filepath is&quot; + filepath);\n        }\n    }\n    @Test\n    public   void main(String[] args) throws IOException {\n        DataBase_directory DB_directory = new DataBase_directory();\n        String filepath1 = DB_directory.getLatestFilePath();\n        System.out.println(filepath1);\n\n        DataBase_directory ES_directory = new DataBase_directory();\n        String filepath2 = ES_directory.getLatestFilePath();\n        System.out.println(filepath2);\n\n        LocalDateTime date = LocalDateTime.now();\n\n        DateTimeFormatter dateFormat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n        String formattedDate = date.format(dateFormat);\n\n        DateTimeFormatter dateformat = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH-mm&quot;);\n        String formatedate = date.format(dateformat);\n\n        Path dir = Paths.get(&quot;.//Difference_Excel_Files//Excelfiles-&quot; + formattedDate);\n        Files.createDirectories(dir);\n\n        try {\n            // Read the contents of both excel files\n            FileInputStream file1 = new FileInputStream(new File(filepath1));\n            FileInputStream file2 = new FileInputStream(new File(filepath2));\n            Workbook workbook1 = WorkbookFactory.create(file1);\n            Workbook workbook2 = WorkbookFactory.create(file2);\n\n            // Compare the contents of each cell\n            List&lt;String[]&gt; differences = new ArrayList&lt;&gt;();\n            for (int i = 0; i &lt; workbook1.getNumberOfSheets(); i++) {\n                Sheet sheet1 = workbook1.getSheetAt(i);\n                Sheet sheet2 = workbook2.getSheetAt(i);\n                for (int j = 1; j &lt; sheet1.getLastRowNum(); j++) {\n                    Row row1 = sheet1.getRow(j);\n                    Row row2 = sheet2.getRow(j);\n                    for (int k = 1; k &lt; row1.getLastCellNum(); k++) {\n\n                        Cell cell1 = row1.getCell(k);\n                        Cell cell2 = row2.getCell(k);\n                        Cell cell3 = sheet1.getRow(0).getCell(k);\n                        Cell cell4 = sheet1.getRow(j).getCell(0);\n\n                        int type1 = cell1.getCellType();\n                        int type2 = cell2.getCellType();\n\n                        if (type1 == XSSFCell.CELL_TYPE_STRING &amp; type2 == XSSFCell.CELL_TYPE_STRING) {\n                            if (!cell1.getStringCellValue().equals(cell2.getStringCellValue())) {\n                                differences.add(new String[] { sheet1.getSheetName(), cell4.getStringCellValue(),\n                                        cell1.getStringCellValue(), cell2.getStringCellValue(),\n                                        cell3.getStringCellValue() });\n                            }\n                        } else if (type1 == XSSFCell.CELL_TYPE_NUMERIC &amp;&amp; type2 == XSSFCell.CELL_TYPE_NUMERIC) {\n                            if (cell1.getNumericCellValue() != (cell2.getNumericCellValue())) {\n                                differences.add(new String[] { sheet1.getSheetName(), cell4.getStringCellValue(),\n                                        cell1.getStringCellValue(), cell2.getStringCellValue(),\n                                        cell3.getStringCellValue() });\n                            }\n                        }\n                    }\n                }\n            }\n            if (differences.contains(differences)) {\n                System.out.println(&quot;Data is not matching&quot;);\n            } else {\n                System.out.println(&quot;Data is matching&quot;);\n            }\n\n            // Write the differences to a new excel file\n            FileOutputStream fileOut = new FileOutputStream(dir + &quot;//Difference&quot; + &quot;-&quot; + formatedate + &quot;.xlsx&quot;);\n            Workbook differencesWorkbook = new XSSFWorkbook();\n            Sheet differencesSheet = differencesWorkbook.createSheet(&quot;Differences&quot;);\n            if (differences.contains(differences)) {\n                for (int i = 0; i &lt; differences.size(); i++) {\n                    Row row = differencesSheet.createRow(i);\n                    for (int j = 0; j &lt; differences.get(i).length; j++) {\n                        Cell cell = row.createCell(j);\n                        cell.setCellValue(differences.get(i)[j]);\n                    }\n                }\n                differencesWorkbook.write(fileOut);\n                fileOut.close();\n            } else {\n                differencesSheet.createRow(0).createCell(0).setCellValue(&quot;Data is matching&quot;);\n                differencesWorkbook.write(fileOut);\n                fileOut.close();\n            }\n        }\n\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>The main method is to compare the two latestexcel file and paste the differnec between the excelf file.</p>\n"},{"tags":["java","spring","database","spring-boot","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":22036973,"reputation":11,"user_id":16303304,"display_name":"Ankit Kumar"},"score":0,"creation_date":1675257956,"post_id":75307747,"comment_id":132889135,"body_markdown":"Thanks a lot for pointing out the mistake. I will try to solve it using your inputs.","body":"Thanks a lot for pointing out the mistake. I will try to solve it using your inputs."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675242179,"creation_date":1675242179,"answer_id":75307747,"question_id":75300686,"body_markdown":"For lazy loading to work you need a session which is bound to the transaction where the entity was loaded or persisted. \r\n\r\nYou are running the code outside that transaction and therefore get the exception.\r\n\r\nNote that you construct the lambda inside a transaction but execution happens elsewhere outside that transaction.","title":"DefaultExceptionListener : failed to lazily initialize a collection of role could not initialize proxy - no Session","body":"<p>For lazy loading to work you need a session which is bound to the transaction where the entity was loaded or persisted.</p>\n<p>You are running the code outside that transaction and therefore get the exception.</p>\n<p>Note that you construct the lambda inside a transaction but execution happens elsewhere outside that transaction.</p>\n"}],"owner":{"account_id":22036973,"reputation":11,"user_id":16303304,"display_name":"Ankit Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675242179,"creation_date":1675185064,"question_id":75300686,"body_markdown":"I am getting the error failed to lazily initialize a collection of role could not initialize proxy - no Session when i am trying to retrieve a list from my database object.\r\n\r\n\r\n```\r\n@Transactional\r\nprivate DataListener&lt;String&gt; onGetPieceInfoEvent() {\r\nreturn (senderClient, data, ack) -&gt; {\r\n\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        JsonNode jsonNode = mapper.readTree(data);\r\n        String roomId = jsonNode.get(&quot;roomId&quot;).textValue();\r\n        String color = jsonNode.get(&quot;color&quot;).textValue();\r\n    \r\n        Game game = this.gameService.findByRoomId(roomId);\r\n    \r\n        List&lt;Piece&gt; pieces = color.equals(&quot;white&quot;) ? game.getWhitePieces()\r\n        : game.getBlackPieces();\r\n    \r\n        Collection&lt;SocketIOClient&gt; clientsCollection =   this.server.getRoomOperations(roomId).getClients();\r\n    \r\n    \r\n        ArrayList&lt;SocketIOClient&gt; clients = new ArrayList&lt;&gt;(clientsCollection);\r\n    \r\n        // SocketIOClient client1 = senderClient; // the client from where the data came \r\n    \r\n        // the client to whom we need to send the converted data.\r\n        SocketIOClient client = clients.get(0).getSessionId().equals(senderClient.getSessionId()) ? clients.get(1)\r\n                : clients.get(0);\r\n    \r\n        socketService.sendMessage(roomId, &quot;colorOnMount&quot;,mapper.writeValueAsString(pieces),\r\n                client);\r\n    }\r\n```\r\n\r\nI get the error when I use mapper.writeValueAsString(pieces). Otherwise Its fine, But I need to use this to send it to the frontend.\r\n\r\nFollowing is the game Class.\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;game_data&quot;)\r\npublic class Game {\r\n@Id\r\n@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n@Column(name=&quot;game_id&quot;)\r\nprivate Integer gameId;\r\n\r\n    @Column(name=&quot;room&quot;,nullable = false)\r\n    private String roomId;\r\n    \r\n    GameState state;\r\n    \r\n    @ElementCollection\r\n    @ColumnDefault(&quot;[]&quot;)\r\n    @CollectionTable(name = &quot;white_pieces&quot;, joinColumns = @JoinColumn(name = &quot;game_id&quot;))\r\n    @Basic(fetch = FetchType.EAGER)\r\n    private List&lt;Piece&gt; whitePieces = new ArrayList&lt;&gt;();\r\n    \r\n    @ElementCollection\r\n    @ColumnDefault(&quot;[]&quot;)\r\n    @CollectionTable(name = &quot;black_pieces&quot;, joinColumns = @JoinColumn(name = &quot;game_id&quot;))\r\n    @Basic(fetch = FetchType.EAGER)\r\n    private List&lt;Piece&gt; blackPieces = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nFollowing is the Piece Class\r\n\r\n\r\n```\r\n@Embeddable\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Piece {\r\n@JsonProperty(&quot;image&quot;)\r\n@Column\r\nprivate String image;\r\n\r\n@JsonProperty(&quot;x&quot;)\r\n@Column\r\nprivate Integer x;\r\n\r\n@JsonProperty(&quot;y&quot;)\r\n@Column\r\nprivate Integer y;\r\n\r\n@JsonProperty(&quot;type&quot;)\r\n@Column\r\nprivate String type;\r\n\r\n@JsonProperty(&quot;team&quot;)\r\n@Column\r\nprivate String team;\r\n\r\n@JsonProperty(&quot;enPassant&quot;)\r\n@Column\r\nprivate Boolean enPassant;\r\n```","title":"DefaultExceptionListener : failed to lazily initialize a collection of role could not initialize proxy - no Session","body":"<p>I am getting the error failed to lazily initialize a collection of role could not initialize proxy - no Session when i am trying to retrieve a list from my database object.</p>\n<pre><code>@Transactional\nprivate DataListener&lt;String&gt; onGetPieceInfoEvent() {\nreturn (senderClient, data, ack) -&gt; {\n\n        ObjectMapper mapper = new ObjectMapper();\n        JsonNode jsonNode = mapper.readTree(data);\n        String roomId = jsonNode.get(&quot;roomId&quot;).textValue();\n        String color = jsonNode.get(&quot;color&quot;).textValue();\n    \n        Game game = this.gameService.findByRoomId(roomId);\n    \n        List&lt;Piece&gt; pieces = color.equals(&quot;white&quot;) ? game.getWhitePieces()\n        : game.getBlackPieces();\n    \n        Collection&lt;SocketIOClient&gt; clientsCollection =   this.server.getRoomOperations(roomId).getClients();\n    \n    \n        ArrayList&lt;SocketIOClient&gt; clients = new ArrayList&lt;&gt;(clientsCollection);\n    \n        // SocketIOClient client1 = senderClient; // the client from where the data came \n    \n        // the client to whom we need to send the converted data.\n        SocketIOClient client = clients.get(0).getSessionId().equals(senderClient.getSessionId()) ? clients.get(1)\n                : clients.get(0);\n    \n        socketService.sendMessage(roomId, &quot;colorOnMount&quot;,mapper.writeValueAsString(pieces),\n                client);\n    }\n</code></pre>\n<p>I get the error when I use mapper.writeValueAsString(pieces). Otherwise Its fine, But I need to use this to send it to the frontend.</p>\n<p>Following is the game Class.</p>\n<pre><code>@Entity\n@Table(name=&quot;game_data&quot;)\npublic class Game {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name=&quot;game_id&quot;)\nprivate Integer gameId;\n\n    @Column(name=&quot;room&quot;,nullable = false)\n    private String roomId;\n    \n    GameState state;\n    \n    @ElementCollection\n    @ColumnDefault(&quot;[]&quot;)\n    @CollectionTable(name = &quot;white_pieces&quot;, joinColumns = @JoinColumn(name = &quot;game_id&quot;))\n    @Basic(fetch = FetchType.EAGER)\n    private List&lt;Piece&gt; whitePieces = new ArrayList&lt;&gt;();\n    \n    @ElementCollection\n    @ColumnDefault(&quot;[]&quot;)\n    @CollectionTable(name = &quot;black_pieces&quot;, joinColumns = @JoinColumn(name = &quot;game_id&quot;))\n    @Basic(fetch = FetchType.EAGER)\n    private List&lt;Piece&gt; blackPieces = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>Following is the Piece Class</p>\n<pre><code>@Embeddable\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Piece {\n@JsonProperty(&quot;image&quot;)\n@Column\nprivate String image;\n\n@JsonProperty(&quot;x&quot;)\n@Column\nprivate Integer x;\n\n@JsonProperty(&quot;y&quot;)\n@Column\nprivate Integer y;\n\n@JsonProperty(&quot;type&quot;)\n@Column\nprivate String type;\n\n@JsonProperty(&quot;team&quot;)\n@Column\nprivate String team;\n\n@JsonProperty(&quot;enPassant&quot;)\n@Column\nprivate Boolean enPassant;\n</code></pre>\n"},{"tags":["java","hibernate","jpa","orm","associations"],"comments":[{"owner":{"account_id":152965,"reputation":1565,"user_id":367890,"accept_rate":86,"display_name":"Satadru Biswas"},"score":12,"creation_date":1300523612,"post_id":5360795,"comment_id":6056662,"body_markdown":"The group will now know which users it contains. I don&#39;t think this is by any means a small difference.","body":"The group will now know which users it contains. I don&#39;t think this is by any means a small difference."},{"owner":{"account_id":479869,"reputation":5332,"user_id":892788,"accept_rate":90,"display_name":"diyoda_"},"score":9,"creation_date":1396287635,"post_id":5360795,"comment_id":34710826,"body_markdown":"Bidirectional relationships became a chaos for me when it comes to updating. :)","body":"Bidirectional relationships became a chaos for me when it comes to updating. :)"},{"owner":{"account_id":3862437,"reputation":298,"user_id":3199849,"display_name":"L.Zak"},"score":2,"creation_date":1628619510,"post_id":5360795,"comment_id":121468247,"body_markdown":"This may help : https://thorben-janssen.com/ultimate-guide-association-mappings-jpa-hibernate/","body":"This may help : <a href=\"https://thorben-janssen.com/ultimate-guide-association-mappings-jpa-hibernate/\" rel=\"nofollow noreferrer\">thorben-janssen.com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1811553,"reputation":1736,"user_id":1647509,"display_name":"cslotty"},"score":1,"creation_date":1468488204,"post_id":5360908,"comment_id":64151584,"body_markdown":"The bi-directionality can hurt in some cases, as axtavt has explained! I would be very careful with every relation mapped in a Hibernate entity! You can end up with endless time needed for loading things in Hibernate, unless you know exactly what you&#39;re doing. Carefully think about the use cases and use different model classes for different use cases. F.ex. in a list of things, I don&#39;t need all related objects, just a label and the ID. So the list entity is a different (and very simple) one than the detail entity, for me.","body":"The bi-directionality can hurt in some cases, as axtavt has explained! I would be very careful with every relation mapped in a Hibernate entity! You can end up with endless time needed for loading things in Hibernate, unless you know exactly what you&#39;re doing. Carefully think about the use cases and use different model classes for different use cases. F.ex. in a list of things, I don&#39;t need all related objects, just a label and the ID. So the list entity is a different (and very simple) one than the detail entity, for me."}],"tags":[],"owner":{"account_id":103706,"reputation":5039,"user_id":277617,"accept_rate":55,"display_name":"kvista"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1300521803,"creation_date":1300521803,"answer_id":5360908,"question_id":5360795,"body_markdown":"I&#39;m not 100% sure this is the *only* difference, but it is the *main* difference.  It is also recommended to have bi-directional associations by the Hibernate docs:\r\n\r\nhttp://docs.jboss.org/hibernate/core/3.3/reference/en/html/best-practices.html\r\n\r\nSpecifically:\r\n\r\n&gt; Prefer bidirectional associations:\r\n&gt;      Unidirectional associations are more difficult to query. In a large\r\n&gt; application, almost all associations\r\n&gt; must be navigable in both directions\r\n&gt; in queries.\r\n\r\nI personally have a slight problem with this blanket recommendation -- it seems to me there are cases where a child doesn&#39;t have any practical reason to know about its parent (e.g., why does an order item *need* to know about the order it is associated with?), but I do see value in it a reasonable portion of the time as well.  And since the bi-directionality doesn&#39;t really hurt anything, I don&#39;t find it too objectionable to adhere to.","title":"What is the difference between Unidirectional and Bidirectional JPA and Hibernate associations?","body":"<p>I'm not 100% sure this is the <em>only</em> difference, but it is the <em>main</em> difference.  It is also recommended to have bi-directional associations by the Hibernate docs:</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/best-practices.html\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/core/3.3/reference/en/html/best-practices.html</a></p>\n\n<p>Specifically:</p>\n\n<blockquote>\n  <p>Prefer bidirectional associations:\n       Unidirectional associations are more difficult to query. In a large\n  application, almost all associations\n  must be navigable in both directions\n  in queries.</p>\n</blockquote>\n\n<p>I personally have a slight problem with this blanket recommendation -- it seems to me there are cases where a child doesn't have any practical reason to know about its parent (e.g., why does an order item <em>need</em> to know about the order it is associated with?), but I do see value in it a reasonable portion of the time as well.  And since the bi-directionality doesn't really hurt anything, I don't find it too objectionable to adhere to.</p>\n"},{"comments":[{"owner":{"account_id":117060,"reputation":35328,"user_id":306719,"accept_rate":78,"display_name":"hguser"},"score":0,"creation_date":1300541432,"post_id":5361587,"comment_id":6058413,"body_markdown":"Hi,thanks,seems that you are a experter of hibernate,since you have answer my question :http://stackoverflow.com/questions/5350770/mapping-a-entity-which-have-two-refer-to-another-same-entity . And now I am not sure the relationship holding,since I can not write more in the comment,so I post it here  http://dpaste.de/J85m/ .Please have a check if possible.:)","body":"Hi,thanks,seems that you are a experter of hibernate,since you have answer my question :<a href=\"http://stackoverflow.com/questions/5350770/mapping-a-entity-which-have-two-refer-to-another-same-entity\" title=\"mapping a entity which have two refer to another same entity\">stackoverflow.com/questions/5350770/&hellip;</a> . And now I am not sure the relationship holding,since I can not write more in the comment,so I post it here  <a href=\"http://dpaste.de/J85m/\" rel=\"nofollow noreferrer\">dpaste.de/J85m</a> .Please have a check if possible.:)"},{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1300551893,"post_id":5361587,"comment_id":6059551,"body_markdown":"@hguser: If you finally decide to make you relationship bidirectional, I think it would be better to call `setGroup()` from `addUser()` in order to hold both sides consistent.","body":"@hguser: If you finally decide to make you relationship bidirectional, I think it would be better to call <code>setGroup()</code> from <code>addUser()</code> in order to hold both sides consistent."},{"owner":{"account_id":117060,"reputation":35328,"user_id":306719,"accept_rate":78,"display_name":"hguser"},"score":0,"creation_date":1300584633,"post_id":5361587,"comment_id":6063641,"body_markdown":"how about if I do not call the setGroup() inside the group.addUser()?","body":"how about if I do not call the setGroup() inside the group.addUser()?"},{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1300622413,"post_id":5361587,"comment_id":6066605,"body_markdown":"@hguser: Relationship wouldn&#39;t be persisted, see point 2 in the answer. You can call `setGroup()` without `addUser()`, but it would result in inconsistent state of objects in memory.","body":"@hguser: Relationship wouldn&#39;t be persisted, see point 2 in the answer. You can call <code>setGroup()</code> without <code>addUser()</code>, but it would result in inconsistent state of objects in memory."},{"owner":{"account_id":117060,"reputation":35328,"user_id":306719,"accept_rate":78,"display_name":"hguser"},"score":0,"creation_date":1301133465,"post_id":5361587,"comment_id":6162945,"body_markdown":"I found that I can not a correct maping,can you spare some time to check my project at github? it is a little project.","body":"I found that I can not a correct maping,can you spare some time to check my project at github? it is a little project."},{"owner":{"account_id":306491,"reputation":1448,"user_id":617271,"accept_rate":94,"display_name":"olyanren"},"score":0,"creation_date":1423913028,"post_id":5361587,"comment_id":45347684,"body_markdown":"@axtavt What do you think about `inverse=true` ? If you use `inverse=true` in a collection this collection manages `insert, update, delete` operations because of owned side","body":"@axtavt What do you think about <code>inverse=true</code> ? If you use <code>inverse=true</code> in a collection this collection manages <code>insert, update, delete</code> operations because of owned side"},{"owner":{"account_id":3564480,"reputation":1938,"user_id":2976424,"display_name":"Kumaresan Perumal"},"score":0,"creation_date":1567154073,"post_id":5361587,"comment_id":101887121,"body_markdown":"thank you very much. any practical diagram to represent the performance. please add it","body":"thank you very much. any practical diagram to represent the performance. please add it"}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":7,"down_vote_count":1,"up_vote_count":210,"is_accepted":true,"score":209,"last_activity_date":1673871235,"creation_date":1300531249,"answer_id":5361587,"question_id":5360795,"body_markdown":"The main difference is that bidirectional relationship provides navigational access in both directions, so that you can access the other side without explicit queries. Also it allows you to apply cascading options to both directions.\r\n\r\nNote that navigational access is not always good, especially for &quot;one-to-very-many&quot; and &quot;many-to-very-many&quot; relationships. Imagine a `Group` that contains thousands of `User`s:\r\n\r\n * How would you access them? With so many `User`s, you usually need to apply some filtering and/or pagination, so that you need to execute a query anyway (unless you use [collection filtering][1], which looks like a hack for me). Some developers may tend to apply filtering in memory in such cases, which is obviously not good for performance. Note that having such a relationship can encourage this kind of developers to use it without considering performance implications.\r\n\r\n * How would you add new `User`s to the `Group`? Fortunately, Hibernate looks at the owning side of relationship when persisting it, so you can only set `User.group`. However, if you want to keep objects in memory consistent, you also need to add `User` to `Group.users`. But it would make Hibernate to fetch all elements of `Group.users` from the database!\r\n\r\nSo, I can&#39;t agree with the recommendation from the [Best Practices][2]. You need to design bidirectional relationships carefully, considering use cases (do you need navigational access in both directions?) and possible performance implications.\r\n\r\n**See also:**\r\n \r\n * [Deterring “ToMany” Relationships in JPA models][3]\r\n * [Hibernate mapped collections performance problems][4] \r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/filters.html\r\n  [2]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/best-practices.html\r\n  [3]: https://dzone.com/articles/deterring-“tomany”\r\n  [4]: http://www.javacodegeeks.com/2011/02/hibernate-mapped-collections.html","title":"What is the difference between Unidirectional and Bidirectional JPA and Hibernate associations?","body":"<p>The main difference is that bidirectional relationship provides navigational access in both directions, so that you can access the other side without explicit queries. Also it allows you to apply cascading options to both directions.</p>\n<p>Note that navigational access is not always good, especially for &quot;one-to-very-many&quot; and &quot;many-to-very-many&quot; relationships. Imagine a <code>Group</code> that contains thousands of <code>User</code>s:</p>\n<ul>\n<li><p>How would you access them? With so many <code>User</code>s, you usually need to apply some filtering and/or pagination, so that you need to execute a query anyway (unless you use <a href=\"http://docs.jboss.org/hibernate/core/3.6/reference/en-US/html/filters.html\" rel=\"noreferrer\">collection filtering</a>, which looks like a hack for me). Some developers may tend to apply filtering in memory in such cases, which is obviously not good for performance. Note that having such a relationship can encourage this kind of developers to use it without considering performance implications.</p>\n</li>\n<li><p>How would you add new <code>User</code>s to the <code>Group</code>? Fortunately, Hibernate looks at the owning side of relationship when persisting it, so you can only set <code>User.group</code>. However, if you want to keep objects in memory consistent, you also need to add <code>User</code> to <code>Group.users</code>. But it would make Hibernate to fetch all elements of <code>Group.users</code> from the database!</p>\n</li>\n</ul>\n<p>So, I can't agree with the recommendation from the <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/best-practices.html\" rel=\"noreferrer\">Best Practices</a>. You need to design bidirectional relationships carefully, considering use cases (do you need navigational access in both directions?) and possible performance implications.</p>\n<p><strong>See also:</strong></p>\n<ul>\n<li><a href=\"https://dzone.com/articles/deterring-%E2%80%9Ctomany%E2%80%9D\" rel=\"noreferrer\">Deterring “ToMany” Relationships in JPA models</a></li>\n<li><a href=\"http://www.javacodegeeks.com/2011/02/hibernate-mapped-collections.html\" rel=\"noreferrer\">Hibernate mapped collections performance problems</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1374868490,"creation_date":1374868490,"answer_id":17889914,"question_id":5360795,"body_markdown":"In terms of coding, a bidirectional relationship is more complex to implement because the application is responsible for keeping both sides in synch according to JPA specification 5 (on page 42). Unfortunately the example given in the specification does not give more details, so it does not give an idea of the level of complexity.\r\n\r\nWhen not using a second level cache it is usually not a problem to do not have the relationship methods correctly implemented because the instances get discarded at the end of the transaction.\r\n\r\nWhen using second level cache, if anything gets corrupted because of wrongly implemented relationship handling methods, this means that other transactions will also see the corrupted elements (the second level cache is global).\r\n\r\nA correctly implemented bi-directional relationship can make queries and the code simpler, but should not be used if it does not really make sense in terms of business logic.","title":"What is the difference between Unidirectional and Bidirectional JPA and Hibernate associations?","body":"<p>In terms of coding, a bidirectional relationship is more complex to implement because the application is responsible for keeping both sides in synch according to JPA specification 5 (on page 42). Unfortunately the example given in the specification does not give more details, so it does not give an idea of the level of complexity.</p>\n\n<p>When not using a second level cache it is usually not a problem to do not have the relationship methods correctly implemented because the instances get discarded at the end of the transaction.</p>\n\n<p>When using second level cache, if anything gets corrupted because of wrongly implemented relationship handling methods, this means that other transactions will also see the corrupted elements (the second level cache is global).</p>\n\n<p>A correctly implemented bi-directional relationship can make queries and the code simpler, but should not be used if it does not really make sense in terms of business logic.</p>\n"},{"comments":[{"owner":{"account_id":8565758,"reputation":55,"user_id":6418283,"accept_rate":0,"display_name":"TOMAS"},"score":0,"creation_date":1602601602,"post_id":48681422,"comment_id":113768747,"body_markdown":"But the parent side is always the one that have the foreign key as far as I know. This two sentences seems contradictory to me. `from the child side where the foreign key resides.`  `from the parent side where the foreign key resides.`","body":"But the parent side is always the one that have the foreign key as far as I know. This two sentences seems contradictory to me. <code>from the child side where the foreign key resides.</code>  <code>from the parent side where the foreign key resides.</code>"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":3,"creation_date":1602608638,"post_id":48681422,"comment_id":113772333,"body_markdown":"The FK is always on the child side. The unidirectional OneToMany manages the FK that can be in the child table on in a join table. Follow the links for more details.","body":"The FK is always on the child side. The unidirectional OneToMany manages the FK that can be in the child table on in a join table. Follow the links for more details."},{"owner":{"account_id":13261890,"reputation":310,"user_id":11141889,"display_name":"Alex"},"score":0,"creation_date":1646951654,"post_id":48681422,"comment_id":126257503,"body_markdown":"Hello @Vlad one question: Can many-to-many association be unidirectional? I mean performance. `@ManyToMany\n\t@JoinTable(name = &quot;role_privileges&quot;, joinColumns = {\n\t\t\t@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;) }, inverseJoinColumns = {\n\t\t\t\t\t@JoinColumn(name = &quot;privilege_id&quot;, referencedColumnName = &quot;id&quot;) })\n\tprivate Set&lt;Privilege&gt; privileges=new HashSet&lt;Privilege&gt;();`","body":"Hello @Vlad one question: Can many-to-many association be unidirectional? I mean performance. <code>@ManyToMany \t@JoinTable(name = &quot;role_privileges&quot;, joinColumns = { \t\t\t@JoinColumn(name = &quot;role_id&quot;, referencedColumnName = &quot;id&quot;) }, inverseJoinColumns = { \t\t\t\t\t@JoinColumn(name = &quot;privilege_id&quot;, referencedColumnName = &quot;id&quot;) }) \tprivate Set&lt;Privilege&gt; privileges=new HashSet&lt;Privilege&gt;();</code>"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":3,"creation_date":1646980686,"post_id":48681422,"comment_id":126262165,"body_markdown":"For Many-to-Many, it doesn&#39;t matter whether they are unidirectional or bidirectional from a performance perspective.","body":"For Many-to-Many, it doesn&#39;t matter whether they are unidirectional or bidirectional from a performance perspective."}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":4,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1602608533,"creation_date":1518080450,"answer_id":48681422,"question_id":5360795,"body_markdown":"There are two main differences.\r\n\r\nAccessing the association sides\r\n-------------------------------\r\n\r\nThe first one is related to how you will access the relationship. For a unidirectional association, you can navigate the association from one end only. \r\n\r\nSo, for a unidirectional `@ManyToOne` association, it means you can only access the relationship from the child side where the foreign key resides.\r\n\r\nIf you have a unidirectional `@OneToMany` association, it means you can only access the relationship from the parent side which manages the foreign key.\r\n\r\nFor the bidirectional `@OneToMany` association, you can navigate the association in both ways, either from the parent or from the child side.\r\n\r\nYou also need to [use add/remove utility methods for bidirectional associations to make sure that both sides are properly synchronized][1].\r\n\r\nPerformance\r\n-----------\r\n\r\nThe second aspect is related to performance. \r\n\r\n 1. For `@OneToMany`, [unidirectional associations don&#39;t perform as well as bidirectional ones][2].\r\n 2. For `@OneToOne`, [a bidirectional association will cause the parent to be fetched eagerly if Hibernate cannot tell whether the Proxy should be assigned or a null value][3].\r\n 3. For `@ManyToMany`, [the collection type makes quite a difference as `Sets` perform better than `Lists`][4].\r\n\r\n\r\n  [1]: https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/\r\n  [2]: https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\r\n  [3]: https://vladmihalcea.com/2016/07/26/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\r\n  [4]: https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/","title":"What is the difference between Unidirectional and Bidirectional JPA and Hibernate associations?","body":"<p>There are two main differences.</p>\n<h2>Accessing the association sides</h2>\n<p>The first one is related to how you will access the relationship. For a unidirectional association, you can navigate the association from one end only.</p>\n<p>So, for a unidirectional <code>@ManyToOne</code> association, it means you can only access the relationship from the child side where the foreign key resides.</p>\n<p>If you have a unidirectional <code>@OneToMany</code> association, it means you can only access the relationship from the parent side which manages the foreign key.</p>\n<p>For the bidirectional <code>@OneToMany</code> association, you can navigate the association in both ways, either from the parent or from the child side.</p>\n<p>You also need to <a href=\"https://vladmihalcea.com/a-beginners-guide-to-jpa-and-hibernate-cascade-types/\" rel=\"noreferrer\">use add/remove utility methods for bidirectional associations to make sure that both sides are properly synchronized</a>.</p>\n<h2>Performance</h2>\n<p>The second aspect is related to performance.</p>\n<ol>\n<li>For <code>@OneToMany</code>, <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"noreferrer\">unidirectional associations don't perform as well as bidirectional ones</a>.</li>\n<li>For <code>@OneToOne</code>, <a href=\"https://vladmihalcea.com/2016/07/26/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"noreferrer\">a bidirectional association will cause the parent to be fetched eagerly if Hibernate cannot tell whether the Proxy should be assigned or a null value</a>.</li>\n<li>For <code>@ManyToMany</code>, <a href=\"https://vladmihalcea.com/the-best-way-to-use-the-manytomany-annotation-with-jpa-and-hibernate/\" rel=\"noreferrer\">the collection type makes quite a difference as <code>Sets</code> perform better than <code>Lists</code></a>.</li>\n</ol>\n"}],"owner":{"account_id":117060,"reputation":35328,"user_id":306719,"accept_rate":78,"display_name":"hguser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160881,"favorite_count":0,"down_vote_count":0,"up_vote_count":200,"accepted_answer_id":5361587,"answer_count":4,"score":200,"last_activity_date":1675241775,"creation_date":1300519682,"question_id":5360795,"body_markdown":"What is the difference between Unidirectional and Bidirectional associations?\r\n\r\nSince the table generated in the db are all the same,so the only difference I found is that each side of the bidiretional assocations will have a refer to the other,and the unidirectional not.\r\n\r\n\r\n**This is a Unidirectional association**\r\n\r\n    public class User {\r\n    \tprivate int\t\tid;\r\n    \tprivate String\tname;\r\n    \t@ManyToOne\r\n    \t@JoinColumn(\r\n    \t\t\tname = &quot;groupId&quot;)\r\n    \tprivate Group\tgroup;\r\n    }\r\n    \r\n    public class Group {\r\n    \tprivate int\t\tid;\r\n    \tprivate String\tname;\r\n    }\r\n    \r\n**The Bidirectional association**\r\n    \r\n    public class User {\r\n    \tprivate int\t\tid;\r\n    \tprivate String\tname;\r\n    \t@ManyToOne\r\n    \t@JoinColumn(\r\n    \t\t\tname = &quot;groupId&quot;)\r\n    \tprivate Group\tgroup;\r\n    }\r\n    public class Group {\r\n    \tprivate int\t\t\tid;\r\n    \tprivate String\t\tname;\r\n    \t@OneToMany(mappedBy=&quot;group&quot;)\r\n    \tprivate List&lt;User&gt;\tusers;\r\n    }\r\n\r\n\r\nThe difference is whether the group holds a reference of the user.\r\n\r\nSo I wonder if this is the only difference? which is recommended?","title":"What is the difference between Unidirectional and Bidirectional JPA and Hibernate associations?","body":"<p>What is the difference between Unidirectional and Bidirectional associations?</p>\n\n<p>Since the table generated in the db are all the same,so the only difference I found is that each side of the bidiretional assocations will have a refer to the other,and the unidirectional not.</p>\n\n<p><strong>This is a Unidirectional association</strong></p>\n\n<pre><code>public class User {\n    private int     id;\n    private String  name;\n    @ManyToOne\n    @JoinColumn(\n            name = \"groupId\")\n    private Group   group;\n}\n\npublic class Group {\n    private int     id;\n    private String  name;\n}\n</code></pre>\n\n<p><strong>The Bidirectional association</strong></p>\n\n<pre><code>public class User {\n    private int     id;\n    private String  name;\n    @ManyToOne\n    @JoinColumn(\n            name = \"groupId\")\n    private Group   group;\n}\npublic class Group {\n    private int         id;\n    private String      name;\n    @OneToMany(mappedBy=\"group\")\n    private List&lt;User&gt;  users;\n}\n</code></pre>\n\n<p>The difference is whether the group holds a reference of the user.</p>\n\n<p>So I wonder if this is the only difference? which is recommended?</p>\n"},{"tags":["java","proxy"],"answers":[{"tags":[],"owner":{"account_id":13542756,"reputation":15,"user_id":9770015,"display_name":"felix_w"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675241604,"creation_date":1675241604,"answer_id":75307636,"question_id":75299269,"body_markdown":"Ok, it turned out I did a formatting error in my Java systm properties. The usage of the http proxy for https traffic works with `-Dhttp.proxyHost=proxy.myorg.org -Dhttp.proxyPort=8080 -Dhttps.proxyHost=proxy.myorg.org -Dhttps.proxyPort=8080`","title":"Java use http proxy for https traffic","body":"<p>Ok, it turned out I did a formatting error in my Java systm properties. The usage of the http proxy for https traffic works with <code>-Dhttp.proxyHost=proxy.myorg.org -Dhttp.proxyPort=8080 -Dhttps.proxyHost=proxy.myorg.org -Dhttps.proxyPort=8080</code></p>\n"}],"owner":{"account_id":13542756,"reputation":15,"user_id":9770015,"display_name":"felix_w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675241604,"creation_date":1675178322,"question_id":75299269,"body_markdown":"I have a problem with making a Java process use the proxy in my organisation.\r\nI read the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/doc-files/net-properties.html) carefully but still not can make it work.\r\nI assume it might be a problem with a mix-up between http and https:\r\n\r\nMy organisation offers _only_ an http proxy. Therefore, in the OS of my machine both `export http_proxy` and `export https_proxy` return `http://proxy.myorg.org` (no `https://`).\r\nIs there a way to tell Java to use a proxy for https-connections, but to connect with http to the proxy?\r\nIf I understand correctly, `https.proxyHost` expects the server name but no protocol to it.\r\n\r\nAny help is highly appreciated","title":"Java use http proxy for https traffic","body":"<p>I have a problem with making a Java process use the proxy in my organisation.\nI read the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/doc-files/net-properties.html\" rel=\"nofollow noreferrer\">documentation</a> carefully but still not can make it work.\nI assume it might be a problem with a mix-up between http and https:</p>\n<p>My organisation offers <em>only</em> an http proxy. Therefore, in the OS of my machine both <code>export http_proxy</code> and <code>export https_proxy</code> return <code>http://proxy.myorg.org</code> (no <code>https://</code>).\nIs there a way to tell Java to use a proxy for https-connections, but to connect with http to the proxy?\nIf I understand correctly, <code>https.proxyHost</code> expects the server name but no protocol to it.</p>\n<p>Any help is highly appreciated</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":20604679,"reputation":9,"user_id":15125194,"display_name":"adnryMono"},"score":0,"creation_date":1675266007,"post_id":75307175,"comment_id":132892133,"body_markdown":"Thank you a lot SebastianM!","body":"Thank you a lot SebastianM!"}],"tags":[],"owner":{"account_id":6579605,"reputation":81,"user_id":5084271,"display_name":"SebastianM"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675239501,"creation_date":1675239057,"answer_id":75307175,"question_id":75307026,"body_markdown":"This is just how PersistentBag works - Hibernate loads it when you perform action on list. I would simply replace adding new Book to Author&#39;s books list with referencing created Book to existing Author\r\n\r\n    public class BookService {\r\n\r\n        BookRepository bookRepository;\r\n        AuthorRepository authorRepository;\r\n\r\n        @Transactional\r\n        public void saveBooks() {\r\n\r\n            Book newBook = new Book();\r\n    \r\n            Author author = authorRepository.findByid(1L);\r\n            newBook.setAuthor(author);\r\n            bookRepository.save(newBook);\r\n        }\r\n    }","title":"Why @OneToMany relations generate additional SQL select queries?","body":"<p>This is just how PersistentBag works - Hibernate loads it when you perform action on list. I would simply replace adding new Book to Author's books list with referencing created Book to existing Author</p>\n<pre><code>public class BookService {\n\n    BookRepository bookRepository;\n    AuthorRepository authorRepository;\n\n    @Transactional\n    public void saveBooks() {\n\n        Book newBook = new Book();\n\n        Author author = authorRepository.findByid(1L);\n        newBook.setAuthor(author);\n        bookRepository.save(newBook);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675241538,"creation_date":1675241538,"answer_id":75307620,"question_id":75307026,"body_markdown":"The reason for this is the basic premise under which JPA works: You load an object graph, you manipulate it, at the end of the transaction JPA makes sure the changes end up in the database.\r\n\r\nI see two ways to avoid the select.\r\n\r\n1. reverse the relationship: When the `Book` references the `Author` there is no need to load the collection, since it doesn&#39;t even exist in the first place. If you actually need the collection you can always use a dedicated query for that.\r\n\r\n2. Drop back to SQL and just execute a SQL insert statement. Of course this can lead to inconsistencies between your database and the 1st level cache of JPA. Make sure you understand how the 1st level cache works and what it is used for.","title":"Why @OneToMany relations generate additional SQL select queries?","body":"<p>The reason for this is the basic premise under which JPA works: You load an object graph, you manipulate it, at the end of the transaction JPA makes sure the changes end up in the database.</p>\n<p>I see two ways to avoid the select.</p>\n<ol>\n<li><p>reverse the relationship: When the <code>Book</code> references the <code>Author</code> there is no need to load the collection, since it doesn't even exist in the first place. If you actually need the collection you can always use a dedicated query for that.</p>\n</li>\n<li><p>Drop back to SQL and just execute a SQL insert statement. Of course this can lead to inconsistencies between your database and the 1st level cache of JPA. Make sure you understand how the 1st level cache works and what it is used for.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":20604679,"reputation":9,"user_id":15125194,"display_name":"adnryMono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75307175,"answer_count":2,"score":0,"last_activity_date":1675241538,"creation_date":1675237817,"question_id":75307026,"body_markdown":"```\r\n@Entity\r\npublic class Author  {\r\n    @OneToMany(cascade = {PERSISTE, MERGE},\r\n            mappedBy = &quot;author&quot;)\r\n    private List&lt;Book&gt; books = new ArrayList&lt;&gt;();\r\n\t\r\n\tpublic void addBook(Book book) {\r\n        this.books.add(book);\r\n        book.setAuthor(this);\r\n    }\r\n\t\r\n\t//other fields\r\n\t\r\n}\r\n\t\r\n@Entity\r\npublic class Book{\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;author_id&quot;)\r\n    private Author author;\r\n}\r\n\r\npublic class BookService {\r\n\r\n\tAuthorRepository repository;\r\n\r\n    @Transactional\r\n\tpublic void saveBooks(){\r\n\r\n\tBook newBook = new Book);\r\n\t\r\n\tAuthor author = repository.findByid(1L);\r\n\tauthor.addBook(newBook);\r\n\t}\r\n}\r\n```\r\n\r\nIn a database, an author already contains one book.\r\nI create a new book for an author and want to save it.\r\n\r\nBut when the function addBook is called the existing book is loaded from the database. I see the additional SQL query in logs:\r\n@Query[&quot;select book ....&quot;]\r\n\r\nHow can I fix it? \r\nI don&#39;t want to have additional SQL selects","title":"Why @OneToMany relations generate additional SQL select queries?","body":"<pre><code>@Entity\npublic class Author  {\n    @OneToMany(cascade = {PERSISTE, MERGE},\n            mappedBy = &quot;author&quot;)\n    private List&lt;Book&gt; books = new ArrayList&lt;&gt;();\n    \n    public void addBook(Book book) {\n        this.books.add(book);\n        book.setAuthor(this);\n    }\n    \n    //other fields\n    \n}\n    \n@Entity\npublic class Book{\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;author_id&quot;)\n    private Author author;\n}\n\npublic class BookService {\n\n    AuthorRepository repository;\n\n    @Transactional\n    public void saveBooks(){\n\n    Book newBook = new Book);\n    \n    Author author = repository.findByid(1L);\n    author.addBook(newBook);\n    }\n}\n</code></pre>\n<p>In a database, an author already contains one book.\nI create a new book for an author and want to save it.</p>\n<p>But when the function addBook is called the existing book is loaded from the database. I see the additional SQL query in logs:\n@Query[&quot;select book ....&quot;]</p>\n<p>How can I fix it?\nI don't want to have additional SQL selects</p>\n"},{"tags":["java","spring-boot","micrometer"],"answers":[{"tags":[],"owner":{"account_id":7759962,"reputation":292,"user_id":6665108,"display_name":"Mathias"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675241478,"creation_date":1675241478,"answer_id":75307603,"question_id":75286861,"body_markdown":"Thanks to input from a colleague, I found the answer.\r\n\r\nAccording to [the Spring documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics.endpoint), you can view tag specific data with `tag=KEY:VALUE` query parameters. So in my case the URL would be\r\n```\r\nhttp://127.0.0.1:8080/actuator/metrics/company.publishing_errors?tag=tenant:tenant1\r\n```","title":"Spring Micrometer: How to access tag related information","body":"<p>Thanks to input from a colleague, I found the answer.</p>\n<p>According to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.metrics.endpoint\" rel=\"nofollow noreferrer\">the Spring documentation</a>, you can view tag specific data with <code>tag=KEY:VALUE</code> query parameters. So in my case the URL would be</p>\n<pre><code>http://127.0.0.1:8080/actuator/metrics/company.publishing_errors?tag=tenant:tenant1\n</code></pre>\n"}],"owner":{"account_id":7759962,"reputation":292,"user_id":6665108,"display_name":"Mathias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75307603,"answer_count":1,"score":2,"last_activity_date":1675241478,"creation_date":1675093872,"question_id":75286861,"body_markdown":"Sorry for this stupid question, but I cannot understand how to extract tag-specific information from Micrometer.\r\n\r\nWe are using Spring Boot 2.7.6. When using multiple counters with tags like this:\r\n\r\n```\r\nprivate Map&lt;String, Counter&gt; errorCounters = new HashMap&lt;&gt;();\r\n\r\n...\r\n\r\ntenantList.forEach(tenant -&gt;\r\n{\r\n\tfinal Counter counter = Counter.builder(&quot;company.publishing_errors&quot;)\r\n\t\t\t.description(&quot;Total number of failed tries to publish an object.&quot;)\r\n\t\t\t.tag(&quot;tenant&quot;, tenant)\r\n\t\t\t.register(registry);\r\n\terrorCounters.put(tenant, counter);\r\n});\r\n\r\n...\r\n\r\nerrorCounters.get(tenant).increment();\r\n```\r\n\r\nwhich results in one counter per tenant. In the debugger I can clearly see that they are counted independently.\r\n\r\nUnder http://127.0.0.1:8080/actuator/metrics/company.publishing_errors I see the following JSON:\r\n\r\n```\r\n{\r\n  &quot;name&quot;:&quot;company.publishing_errors&quot;,\r\n  &quot;description&quot;:&quot;Total number of failed tries to publish an object.&quot;,\r\n  &quot;baseUnit&quot;:null,\r\n  &quot;measurements&quot;:[{\r\n    &quot;statistic&quot;:&quot;COUNT&quot;,\r\n    &quot;value&quot;:6.0\r\n  }],\r\n  &quot;availableTags&quot;:[{\r\n    &quot;tag&quot;:&quot;tenant&quot;,\r\n    &quot;values&quot;:[\r\n      &quot;tenant1&quot;,\r\n      &quot;tenant2&quot;\r\n    ]}\r\n  ]}\r\n```\r\n\r\nI tried multiple variations to extract the tag specific data, but failed. All tutorials and guides I found either stop at this point, or just import the data into e.g. Grafana which extracts the data itself. Do I have to specify the version, e.g. [Micrometer-Prometheus](https://micrometer.io/docs/registry/prometheus)? We are only using the Spring Boot standard, which includes the `micrometer-core`-library. Do I need to set `commonTags`?","title":"Spring Micrometer: How to access tag related information","body":"<p>Sorry for this stupid question, but I cannot understand how to extract tag-specific information from Micrometer.</p>\n<p>We are using Spring Boot 2.7.6. When using multiple counters with tags like this:</p>\n<pre><code>private Map&lt;String, Counter&gt; errorCounters = new HashMap&lt;&gt;();\n\n...\n\ntenantList.forEach(tenant -&gt;\n{\n    final Counter counter = Counter.builder(&quot;company.publishing_errors&quot;)\n            .description(&quot;Total number of failed tries to publish an object.&quot;)\n            .tag(&quot;tenant&quot;, tenant)\n            .register(registry);\n    errorCounters.put(tenant, counter);\n});\n\n...\n\nerrorCounters.get(tenant).increment();\n</code></pre>\n<p>which results in one counter per tenant. In the debugger I can clearly see that they are counted independently.</p>\n<p>Under <a href=\"http://127.0.0.1:8080/actuator/metrics/company.publishing_errors\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/actuator/metrics/company.publishing_errors</a> I see the following JSON:</p>\n<pre><code>{\n  &quot;name&quot;:&quot;company.publishing_errors&quot;,\n  &quot;description&quot;:&quot;Total number of failed tries to publish an object.&quot;,\n  &quot;baseUnit&quot;:null,\n  &quot;measurements&quot;:[{\n    &quot;statistic&quot;:&quot;COUNT&quot;,\n    &quot;value&quot;:6.0\n  }],\n  &quot;availableTags&quot;:[{\n    &quot;tag&quot;:&quot;tenant&quot;,\n    &quot;values&quot;:[\n      &quot;tenant1&quot;,\n      &quot;tenant2&quot;\n    ]}\n  ]}\n</code></pre>\n<p>I tried multiple variations to extract the tag specific data, but failed. All tutorials and guides I found either stop at this point, or just import the data into e.g. Grafana which extracts the data itself. Do I have to specify the version, e.g. <a href=\"https://micrometer.io/docs/registry/prometheus\" rel=\"nofollow noreferrer\">Micrometer-Prometheus</a>? We are only using the Spring Boot standard, which includes the <code>micrometer-core</code>-library. Do I need to set <code>commonTags</code>?</p>\n"},{"tags":["java","eclipse","frameworks","data-driven-tests"],"owner":{"account_id":27663145,"reputation":1,"user_id":21115503,"display_name":"Ramya P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675241146,"creation_date":1675240258,"question_id":75307397,"body_markdown":"I am using loop statement but the final result not returned. i am trying static variable but not accept that. please give me any suggestions \r\n```java\r\npublic static String getMultipleExcelVlue(String sheetName) throws IOException {\r\n\t\t String res = null;\r\n\r\n\t\t// 1.mention the path\r\n\t\tFile file = new File(&quot;C:\\\\Users\\\\Lap662\\\\eclipse-workspace\\\\DVT-Creation\\\\ExcelSheet\\\\Excel.xlsx&quot;);\r\n\r\n\t\t// 2.read the object\r\n\t\tFileInputStream stream = new FileInputStream(file);\r\n\t\t// 3.create workbook\r\n\r\n\t\tWorkbook workbook = new XSSFWorkbook(stream);\r\n\t\t// 4.get the sheet\r\n\t\tSheet sheet = workbook.getSheet(&quot;Sheet1&quot;);\r\n\t\tint lastRowNum = sheet.getLastRowNum();\r\n\t\t\r\n\t\t// 5.get the row\r\n\t\tint lastCellNum = sheet.getRow(1).getLastCellNum();\r\n\t\t\r\n\t\tfor (int i = 1; i &lt;= lastRowNum; i++) {\r\n\t\t\tRow row = sheet.getRow(i);\r\n\r\n\t\t\tfor (int j = 0; j &lt; lastCellNum; j++) {\r\n\t\t\t\tCell cell = row.getCell(j);\r\n\t\t\t\tCellType type = cell.getCellType();\r\n\t\t\t\t// 8.switch case\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\tcase STRING:\r\n\t\t\t\t\tres = cell.getStringCellValue();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase NUMERIC:\r\n\t\t\t\t\tif (DateUtil.isCellDateFormatted(cell)) {\r\n\t\t\t\t\t\tDate dateCellValue = cell.getDateCellValue();\r\n\t\t\t\t\t\tSimpleDateFormat dateformat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\r\n\t\t\t\t\t\tres = dateformat.format(dateCellValue);\r\n\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\tdouble d = cell.getNumericCellValue();\r\n\t\t\t\t\t\tlong round = Math.round(d);\r\n\t\t\t\t\t\tif (round == d) {\r\n\t\t\t\t\t\t\tres = String.valueOf(round);\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tres = String.valueOf(d);\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\treturn res;\r\n\r\n\t}\r\n```","title":"Data driven framework in eclipse using Baseclass","body":"<p>I am using loop statement but the final result not returned. i am trying static variable but not accept that. please give me any suggestions</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getMultipleExcelVlue(String sheetName) throws IOException {\n         String res = null;\n\n        // 1.mention the path\n        File file = new File(&quot;C:\\\\Users\\\\Lap662\\\\eclipse-workspace\\\\DVT-Creation\\\\ExcelSheet\\\\Excel.xlsx&quot;);\n\n        // 2.read the object\n        FileInputStream stream = new FileInputStream(file);\n        // 3.create workbook\n\n        Workbook workbook = new XSSFWorkbook(stream);\n        // 4.get the sheet\n        Sheet sheet = workbook.getSheet(&quot;Sheet1&quot;);\n        int lastRowNum = sheet.getLastRowNum();\n        \n        // 5.get the row\n        int lastCellNum = sheet.getRow(1).getLastCellNum();\n        \n        for (int i = 1; i &lt;= lastRowNum; i++) {\n            Row row = sheet.getRow(i);\n\n            for (int j = 0; j &lt; lastCellNum; j++) {\n                Cell cell = row.getCell(j);\n                CellType type = cell.getCellType();\n                // 8.switch case\n                switch (type) {\n                case STRING:\n                    res = cell.getStringCellValue();\n                    break;\n                case NUMERIC:\n                    if (DateUtil.isCellDateFormatted(cell)) {\n                        Date dateCellValue = cell.getDateCellValue();\n                        SimpleDateFormat dateformat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n                        res = dateformat.format(dateCellValue);\n\n                    } else {\n\n                        double d = cell.getNumericCellValue();\n                        long round = Math.round(d);\n                        if (round == d) {\n                            res = String.valueOf(round);\n\n                        } else {\n                            res = String.valueOf(d);\n\n                        }\n                        break;\n                    }\n                default:\n                    break;\n                }\n\n            }\n\n        }\n        return res;\n\n    }\n</code></pre>\n"},{"tags":["java","javafx","textarea","whitespace"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1574803350,"post_id":59059100,"comment_id":104358503,"body_markdown":"I got no idea whether it&#39;s useful: use a tab character and a tab size of 4.","body":"I got no idea whether it&#39;s useful: use a tab character and a tab size of 4."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1574803505,"post_id":59059100,"comment_id":104358567,"body_markdown":"@OleV.V. If only... unfortunately, as far as I know, JavaFX does not provide a way to control the spacing of a tab character.","body":"@OleV.V. If only... unfortunately, as far as I know, JavaFX does not provide a way to control the spacing of a tab character."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1574852606,"post_id":59059100,"comment_id":104375578,"body_markdown":"@Slaw it&#39;s work-in-progress: https://github.com/openjdk/jfx/pull/32","body":"@Slaw it&#39;s work-in-progress: <a href=\"https://github.com/openjdk/jfx/pull/32\" rel=\"nofollow noreferrer\">github.com/openjdk/jfx/pull/32</a>"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1574853046,"post_id":59059100,"comment_id":104375829,"body_markdown":".. or maybe not: after re-reading, I have to admit that I don&#39;t quite understand the question ;) Please provide a [mcve] that demonstrates what you are after and why/how it doesn&#39;t behave as you want it to.","body":".. or maybe not: after re-reading, I have to admit that I don&#39;t quite understand the question ;) Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates what you are after and why/how it doesn&#39;t behave as you want it to."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1574856290,"post_id":59059100,"comment_id":104377634,"body_markdown":".. all that said: a TextFormatter is what you want to use (vs. listeners to any of the area&#39;s properties) - it get&#39;s every pending change to the input before it is applied and that change can be modified in every detail (like text, selection, caret position)","body":".. all that said: a TextFormatter is what you want to use (vs. listeners to any of the area&#39;s properties) - it get&#39;s every pending change to the input before it is applied and that change can be modified in every detail (like text, selection, caret position)"},{"owner":{"account_id":1364396,"reputation":3104,"user_id":2475470,"accept_rate":40,"display_name":"Vector"},"score":0,"creation_date":1574885222,"post_id":59059100,"comment_id":104392566,"body_markdown":"@javaion this is a way to strip all the carriage returns and tabs from a TextArea see if his works         String line = txaDiaryEntry.getText();\n        strArray = line.split(&quot;\\\\s&quot;); or look at this SO post https://stackoverflow.com/questions/59076572/javafx-8-replace-text-in-textarea-and-maintain-formatting","body":"@javaion this is a way to strip all the carriage returns and tabs from a TextArea see if his works         String line = txaDiaryEntry.getText();         strArray = line.split(&quot;\\\\s&quot;); or look at this SO post <a href=\"https://stackoverflow.com/questions/59076572/javafx-8-replace-text-in-textarea-and-maintain-formatting\" title=\"javafx 8 replace text in textarea and maintain formatting\">stackoverflow.com/questions/59076572/&hellip;</a>"},{"owner":{"account_id":17084596,"reputation":11,"user_id":12362234,"display_name":"javaion"},"score":0,"creation_date":1574892610,"post_id":59059100,"comment_id":104395288,"body_markdown":"@kleopatra Due to some other limitations imposed by the other parts of my code, I decided to use the TextFormatter just for deleting them all at once and I&#39;ve kept the caret listener for the first two bullet points of my post. I could still implement them just fine in the TextFormatter as well, but it was quite a bit wordier than what I&#39;ve written in the listener. I&#39;ve gotten rid of the backspace event filter though, which basically did nothing, as it turned out. Thank you very much for your suggestion BTW!","body":"@kleopatra Due to some other limitations imposed by the other parts of my code, I decided to use the TextFormatter just for deleting them all at once and I&#39;ve kept the caret listener for the first two bullet points of my post. I could still implement them just fine in the TextFormatter as well, but it was quite a bit wordier than what I&#39;ve written in the listener. I&#39;ve gotten rid of the backspace event filter though, which basically did nothing, as it turned out. Thank you very much for your suggestion BTW!"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1574944135,"post_id":59059100,"comment_id":104412656,"body_markdown":"repeating: textformatter is the way to go - you get all changes related to text _and_ caret _and_ selection in its filter before they are applied and are free to _change_ them! On the other hand: with a listener to any of them you have no information about the state of any the others. So don&#39;t, you&#39;ll build an unstable process. But then, it&#39;s your decision - you&#39;ll learn &lt;g&gt;","body":"repeating: textformatter is the way to go - you get all changes related to text <i>and</i> caret <i>and</i> selection in its filter before they are applied and are free to <i>change</i> them! On the other hand: with a listener to any of them you have no information about the state of any the others. So don&#39;t, you&#39;ll build an unstable process. But then, it&#39;s your decision - you&#39;ll learn &lt;g&gt;"},{"owner":{"account_id":17084596,"reputation":11,"user_id":12362234,"display_name":"javaion"},"score":0,"creation_date":1574986221,"post_id":59059100,"comment_id":104427937,"body_markdown":"@kleopatra Just to clarify: when I wrote that comment, I had some issues with implementing the TextFormatter for the first two bullet points of the post because some other part of my code apparently made my caret jump to the very start of the text before returning where it was supposed to be, which meant that `change.getControlCaretPosition()` would return 0 immediately after pressing Alt+C. As a result, I would&#39;ve had to write &quot;if&quot;s with a ton of conditions to compensate for that. Now that I&#39;ve updated the code, I finally got rid of the caret listener. Thank you for your help once again.","body":"@kleopatra Just to clarify: when I wrote that comment, I had some issues with implementing the TextFormatter for the first two bullet points of the post because some other part of my code apparently made my caret jump to the very start of the text before returning where it was supposed to be, which meant that <code>change.getControlCaretPosition()</code> would return 0 immediately after pressing Alt+C. As a result, I would&#39;ve had to write &quot;if&quot;s with a ton of conditions to compensate for that. Now that I&#39;ve updated the code, I finally got rid of the caret listener. Thank you for your help once again."}],"answers":[{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1675076085,"post_id":75281993,"comment_id":132843292,"body_markdown":"the question is about javafx, not swing :)","body":"the question is about javafx, not swing :)"}],"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675068450,"creation_date":1675068450,"answer_id":75281993,"question_id":59059100,"body_markdown":"You may be able to do this using a NavigationFilter. You would install one by calling the `setNavigationFilter()` method in `JTextComponent`. Here&#39;s what the JavaDocs say for NavigationFilter:\r\n\r\n&gt; `NavigationFilter` can be used to restrict where the cursor can be\r\n&gt; positioned. When the default cursor positioning actions attempt to\r\n&gt; reposition the cursor they will call into the `NavigationFilter`,\r\n&gt; assuming the `JTextComponent` has a non-null `NavigationFilter` set.\r\n&gt; In this manner the `NavigationFilter` can effectively restrict where\r\n&gt; the cursor can be positioned. Similarly `DefaultCaret` will call into\r\n&gt; the `NavigationFilter` when the user is changing the selection to\r\n&gt; further restrict where the cursor can be positioned.\r\n\r\nYou may be able to write a NavigationFilter that doesn&#39;t let the cursor be placed inside the four spaces. Typing an arrow key will move the caret across all four spaces, and selections will include the four spaces, so they will behave for the user as a single character. I&#39;ve done this kind of thing and it&#39;s very reliable and isn&#39;t very hard.","title":"How to treat 4 consecutive spaces as a single character?","body":"<p>You may be able to do this using a NavigationFilter. You would install one by calling the <code>setNavigationFilter()</code> method in <code>JTextComponent</code>. Here's what the JavaDocs say for NavigationFilter:</p>\n<blockquote>\n<p><code>NavigationFilter</code> can be used to restrict where the cursor can be\npositioned. When the default cursor positioning actions attempt to\nreposition the cursor they will call into the <code>NavigationFilter</code>,\nassuming the <code>JTextComponent</code> has a non-null <code>NavigationFilter</code> set.\nIn this manner the <code>NavigationFilter</code> can effectively restrict where\nthe cursor can be positioned. Similarly <code>DefaultCaret</code> will call into\nthe <code>NavigationFilter</code> when the user is changing the selection to\nfurther restrict where the cursor can be positioned.</p>\n</blockquote>\n<p>You may be able to write a NavigationFilter that doesn't let the cursor be placed inside the four spaces. Typing an arrow key will move the caret across all four spaces, and selections will include the four spaces, so they will behave for the user as a single character. I've done this kind of thing and it's very reliable and isn't very hard.</p>\n"}],"owner":{"account_id":17084596,"reputation":11,"user_id":12362234,"display_name":"javaion"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1675241009,"creation_date":1574801171,"question_id":59059100,"body_markdown":"I have written a TextArea that types 4 consecutive spaces whenever I press a certain key combination (&lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;C&lt;/kbd&gt; in my case), however, I am looking for a way to make the program treat them as if they&#39;re a single character, by which I mean that:\r\n\r\n - the caret&#39;s position jumps from one end of the space sequence to the other if it moves towards it\r\n - I can only select all of them at once\r\n - if I press backspace and the caret is in front of them, all 4 get deleted at once\r\n\r\nI&#39;ve managed to complete the first two tasks by creating a caret position listener, but whenever I try to delete the 4 spaces, I get an `IndexOutOfBoundsException` error that redirects me to the listener, even though the code for that is written in a key event handler that checks if the key pressed is a backspace.\r\n\r\nI&#39;m only going to include the snippets of code that are relevant to the question, as the whole program is quite long:\r\n\r\n    textarea.caretPositionProperty().addListener((ob, old1, new1) -&gt; {\r\n        int oldi = old1.intValue();\r\n        int newi = new1.intValue();\r\n        if (oldi &gt; newi &amp;&amp; oldi &gt; 3 &amp;&amp; textarea.getText(oldi - 4, oldi).equals(&quot;    &quot;))\r\n            textarea.positionCaret(oldi - 4);\r\n\r\n        if (oldi &lt; newi &amp;&amp; oldi &lt; (textarea.getText().length() - 3) &amp;&amp; textarea.getText(oldi, oldi + 4).equals(&quot;    &quot;))\r\n            textarea.positionCaret(oldi + 4);\r\n    });\r\n\r\n\r\n    textarea.addEventFilter(KeyEvent.KEY_PRESSED, e -&gt; {\r\n        int cp = textarea.getCaretPosition();\r\n        if (e.isAltDown() &amp;&amp; (e.getCode() == KeyCode.C)) {\r\n            // Some other code\r\n            textarea.positionCaret(cp + 4);\r\n        }\r\n\r\n        if (e.getCode() == KeyCode.BACK_SPACE &amp;&amp; areat.length() &gt; 3)\r\n            if (areat.substring(cp - 4, cp).equals(&quot;    &quot;))\r\n                textarea.setText(areat.substring(0, cp - 4) + areat.substring(cp));\r\n    });\r\n\r\nTo explain the `areat` variable: at one point, I thought that the problem might be caused by the `textarea.getText()` function, given that (presumably) it could either refer to the text before or after pressing backspace (e.g. either &quot;Hello!&quot; or &quot;Hello&quot;). Fortunately, I&#39;ve already written a text property listener for a separate feature of the program, so I tried solving the problem by declaring a global variable (`areat`) and storing the old text there (which didn&#39;t work, needless to say):\r\n\r\n    textarea.textProperty().addListener((obs, old1, new1) -&gt; {\r\n        areat = old1;\r\n        areatn = new1;\r\n        // Some other code\r\n    });\r\n\r\nHow should I proceed from here? Is there a problem with the event handler or with the caret listener? Or maybe there is a specific method that has all the features mentioned above built-in?\r\n\r\nSide note: I would prefer not switching to a `JTextArea`, as I&#39;ve never worked with swing elements before.\r\n\r\nEDIT: If you&#39;re an admin, please don&#39;t mark this question as solved, because I&#39;m still looking for better answers, BUT I&#39;ve managed to fix the issue by storing the **new** text of the text property listener in a global variable (`areatn`) instead of the old one, which I&#39;ve used in both the event handler and the caret listener. Please do let me know if you&#39;ve found a solution that&#39;s less bodged-in than mine.\r\n\r\nEDIT 2: As @kleopatra pointed out in the comments, the TextFormatter class is much better equipped for this kind of situation than my listeners are.","title":"How to treat 4 consecutive spaces as a single character?","body":"<p>I have written a TextArea that types 4 consecutive spaces whenever I press a certain key combination (<kbd>Alt</kbd> + <kbd>C</kbd> in my case), however, I am looking for a way to make the program treat them as if they're a single character, by which I mean that:</p>\n<ul>\n<li>the caret's position jumps from one end of the space sequence to the other if it moves towards it</li>\n<li>I can only select all of them at once</li>\n<li>if I press backspace and the caret is in front of them, all 4 get deleted at once</li>\n</ul>\n<p>I've managed to complete the first two tasks by creating a caret position listener, but whenever I try to delete the 4 spaces, I get an <code>IndexOutOfBoundsException</code> error that redirects me to the listener, even though the code for that is written in a key event handler that checks if the key pressed is a backspace.</p>\n<p>I'm only going to include the snippets of code that are relevant to the question, as the whole program is quite long:</p>\n<pre><code>textarea.caretPositionProperty().addListener((ob, old1, new1) -&gt; {\n    int oldi = old1.intValue();\n    int newi = new1.intValue();\n    if (oldi &gt; newi &amp;&amp; oldi &gt; 3 &amp;&amp; textarea.getText(oldi - 4, oldi).equals(&quot;    &quot;))\n        textarea.positionCaret(oldi - 4);\n\n    if (oldi &lt; newi &amp;&amp; oldi &lt; (textarea.getText().length() - 3) &amp;&amp; textarea.getText(oldi, oldi + 4).equals(&quot;    &quot;))\n        textarea.positionCaret(oldi + 4);\n});\n\n\ntextarea.addEventFilter(KeyEvent.KEY_PRESSED, e -&gt; {\n    int cp = textarea.getCaretPosition();\n    if (e.isAltDown() &amp;&amp; (e.getCode() == KeyCode.C)) {\n        // Some other code\n        textarea.positionCaret(cp + 4);\n    }\n\n    if (e.getCode() == KeyCode.BACK_SPACE &amp;&amp; areat.length() &gt; 3)\n        if (areat.substring(cp - 4, cp).equals(&quot;    &quot;))\n            textarea.setText(areat.substring(0, cp - 4) + areat.substring(cp));\n});\n</code></pre>\n<p>To explain the <code>areat</code> variable: at one point, I thought that the problem might be caused by the <code>textarea.getText()</code> function, given that (presumably) it could either refer to the text before or after pressing backspace (e.g. either &quot;Hello!&quot; or &quot;Hello&quot;). Fortunately, I've already written a text property listener for a separate feature of the program, so I tried solving the problem by declaring a global variable (<code>areat</code>) and storing the old text there (which didn't work, needless to say):</p>\n<pre><code>textarea.textProperty().addListener((obs, old1, new1) -&gt; {\n    areat = old1;\n    areatn = new1;\n    // Some other code\n});\n</code></pre>\n<p>How should I proceed from here? Is there a problem with the event handler or with the caret listener? Or maybe there is a specific method that has all the features mentioned above built-in?</p>\n<p>Side note: I would prefer not switching to a <code>JTextArea</code>, as I've never worked with swing elements before.</p>\n<p>EDIT: If you're an admin, please don't mark this question as solved, because I'm still looking for better answers, BUT I've managed to fix the issue by storing the <strong>new</strong> text of the text property listener in a global variable (<code>areatn</code>) instead of the old one, which I've used in both the event handler and the caret listener. Please do let me know if you've found a solution that's less bodged-in than mine.</p>\n<p>EDIT 2: As @kleopatra pointed out in the comments, the TextFormatter class is much better equipped for this kind of situation than my listeners are.</p>\n"},{"tags":["java","xml","string","exception","transform"],"comments":[{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1328455787,"post_id":9150403,"comment_id":11505412,"body_markdown":"I get no trouble when I use the com.sun.org.apache.xml.internal.serialize.XMLSerializer instead, but it gives warnings about being a sun proprietary api and possibly being removed in future releases","body":"I get no trouble when I use the com.sun.org.apache.xml.internal.serialize.XMLSerializer instead, but it gives warnings about being a sun proprietary api and possibly being removed in future releases"},{"owner":{"account_id":886478,"reputation":9207,"user_id":925806,"display_name":"Ashwinee K Jha"},"score":0,"creation_date":1328458700,"post_id":9150403,"comment_id":11505938,"body_markdown":"Please add full stack trace as that would make the problem more clear. Rather than ex.getMessage() do ex.printStackTrace().","body":"Please add full stack trace as that would make the problem more clear. Rather than ex.getMessage() do ex.printStackTrace()."},{"owner":{"account_id":923448,"reputation":2396,"user_id":954680,"accept_rate":71,"display_name":"thermz"},"score":0,"creation_date":1328466775,"post_id":9150403,"comment_id":11507519,"body_markdown":"The line where NPE is triggered is com.protocase.utils.StringHelpers.XMLElementToString(StringHelpers.java:132)\nCan you please underline in XMLElementToString method where line 132 is? Thanks","body":"The line where NPE is triggered is com.protocase.utils.StringHelpers.XMLElementToString(StringH&zwnj;&#8203;elpers.java:132) Can you please underline in XMLElementToString method where line 132 is? Thanks"},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1328468229,"post_id":9150403,"comment_id":11507788,"body_markdown":"The line that the exception occurs at is\n\n        transformer.transform(source, result);","body":"The line that the exception occurs at is          transformer.transform(source, result);"},{"owner":{"account_id":1212717,"reputation":11317,"user_id":1180968,"accept_rate":100,"display_name":"Sajan Chandran"},"score":1,"creation_date":1329181800,"post_id":9150403,"comment_id":11685743,"body_markdown":"This may help you http://dotcommers.wordpress.com/2008/10/22/javaxxmltransformtransformerexception-javalangnullpointerexception-how-to-solve/","body":"This may help you <a href=\"http://dotcommers.wordpress.com/2008/10/22/javaxxmltransformtransformerexception-javalangnullpointerexception-how-to-solve/\" rel=\"nofollow noreferrer\">dotcommers.wordpress.com/2008/10/22/&hellip;</a>"},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1329182522,"post_id":9150403,"comment_id":11685877,"body_markdown":"That is very interesting and somewhat enlightening. It gives me some idea as to where to look at least. This seems like a major flaw in the library however!d","body":"That is very interesting and somewhat enlightening. It gives me some idea as to where to look at least. This seems like a major flaw in the library however!d"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1329252010,"post_id":9150403,"comment_id":11705988,"body_markdown":"@vextorspace - it is a major flaw that it throws a NullPointerException when you pass it null data?  how should a text-node with null content be handled?","body":"@vextorspace - it is a major flaw that it throws a NullPointerException when you pass it null data?  how should a text-node with null content be handled?"}],"answers":[{"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":1,"creation_date":1329252971,"post_id":9283697,"comment_id":11706328,"body_markdown":"you should at least include the link to the source of this suggestion (which @SajanChandran provided in his comment to the OP).","body":"you should at least include the link to the source of this suggestion (which @SajanChandran provided in his comment to the OP)."},{"owner":{"account_id":28144,"reputation":15820,"user_id":74861,"accept_rate":100,"display_name":"Fraser"},"score":0,"creation_date":1329253192,"post_id":9283697,"comment_id":11706400,"body_markdown":"Sorry I added that in an edit after reading the link, missed the url..thought it was obvious. My main point was if it is a specific object causing the error then it is something specific about that object, invalid xml, etc","body":"Sorry I added that in an edit after reading the link, missed the url..thought it was obvious. My main point was if it is a specific object causing the error then it is something specific about that object, invalid xml, etc"},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":0,"creation_date":1329259062,"post_id":9283697,"comment_id":11708409,"body_markdown":"So the transformer can&#39;t handle null text nodes? What does a null text node look like when you are looking at the xml? Is there any way of making the transformer robust to these things?","body":"So the transformer can&#39;t handle null text nodes? What does a null text node look like when you are looking at the xml? Is there any way of making the transformer robust to these things?"},{"owner":{"account_id":28144,"reputation":15820,"user_id":74861,"accept_rate":100,"display_name":"Fraser"},"score":0,"creation_date":1329260360,"post_id":9283697,"comment_id":11708827,"body_markdown":"The offending node will likly be &quot;&lt;type/&gt;&quot; with no corresponding closing element.  It will be some element that is not always written to. The best way is to just make sure the node has an empty string, so you have &quot;&lt;type&gt;&lt;/type&gt;&quot; rather than &quot;&lt;type/&gt;&quot;","body":"The offending node will likly be &quot;&lt;type/&gt;&quot; with no corresponding closing element.  It will be some element that is not always written to. The best way is to just make sure the node has an empty string, so you have &quot;&lt;type&gt;&lt;/type&gt;&quot; rather than &quot;&lt;type/&gt;&quot;"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":1,"creation_date":1329280826,"post_id":9283697,"comment_id":11712473,"body_markdown":"@Fraser: if that were true, the library would indeed be seriously buggy, and the OP would be at the mercy of his input. `&lt;type/&gt;` does not need a closing tag in XML; it&#39;s self-closing. A conforming XML parser will parse `&lt;type/&gt;` and `&lt;type&gt;&lt;/type&gt;` the same way.","body":"@Fraser: if that were true, the library would indeed be seriously buggy, and the OP would be at the mercy of his input. <code>&lt;type&#47;&gt;</code> does not need a closing tag in XML; it&#39;s self-closing. A conforming XML parser will parse <code>&lt;type&#47;&gt;</code> and <code>&lt;type&gt;&lt;&#47;type&gt;</code> the same way."},{"owner":{"account_id":28144,"reputation":15820,"user_id":74861,"accept_rate":100,"display_name":"Fraser"},"score":0,"creation_date":1329322583,"post_id":9283697,"comment_id":11725108,"body_markdown":"@LarsH - hmm you are right of-course - I was speculating as to why the node has a null value, what to look for in the XML (ie. a node with no value)","body":"@LarsH - hmm you are right of-course - I was speculating as to why the node has a null value, what to look for in the XML (ie. a node with no value)"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":1,"creation_date":1329323229,"post_id":9283697,"comment_id":11725371,"body_markdown":"OK. Not a bad guess, but I&#39;m sure that if there were a not-well-formed XML file, e.g. if you had a `&lt;type&gt;` start tag without a closing tag `&lt;/type&gt;`, then the parsing step would fail, before `doc` or `e` were ever passed to XMLElementToString(). `doc` and `e` are node (tree)s, not serialized XML, so they have no tags.","body":"OK. Not a bad guess, but I&#39;m sure that if there were a not-well-formed XML file, e.g. if you had a <code>&lt;type&gt;</code> start tag without a closing tag <code>&lt;&#47;type&gt;</code>, then the parsing step would fail, before <code>doc</code> or <code>e</code> were ever passed to XMLElementToString(). <code>doc</code> and <code>e</code> are node (tree)s, not serialized XML, so they have no tags."},{"owner":{"account_id":28144,"reputation":15820,"user_id":74861,"accept_rate":100,"display_name":"Fraser"},"score":0,"creation_date":1329351466,"post_id":9283697,"comment_id":11734917,"body_markdown":"@vextorspace no worries, ooi what was the root of the issue?","body":"@vextorspace no worries, ooi what was the root of the issue?"},{"owner":{"account_id":28144,"reputation":15820,"user_id":74861,"accept_rate":100,"display_name":"Fraser"},"score":0,"creation_date":1329352099,"post_id":9283697,"comment_id":11735045,"body_markdown":"@LarsH - again true, but then whence the error? puzzling - if the error is only on a certain objects, that is the code given works as intended in all other cases, then I would look for a difference in the data structure, format, etc, of the object causing the error.","body":"@LarsH - again true, but then whence the error? puzzling - if the error is only on a certain objects, that is the code given works as intended in all other cases, then I would look for a difference in the data structure, format, etc, of the object causing the error."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":1,"creation_date":1329396087,"post_id":9283697,"comment_id":11745536,"body_markdown":"It was in fact null text nodes - the internal sun methods in sun XMLSerializer deal with these the same as empty text nodes but not the sun XMLSerializer. I find it odd that the code would just give an exception for this case.","body":"It was in fact null text nodes - the internal sun methods in sun XMLSerializer deal with these the same as empty text nodes but not the sun XMLSerializer. I find it odd that the code would just give an exception for this case."}],"tags":[],"owner":{"account_id":28144,"reputation":15820,"user_id":74861,"accept_rate":100,"display_name":"Fraser"},"comment_count":10,"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1473522593,"creation_date":1329251220,"answer_id":9283697,"question_id":9150403,"body_markdown":"I am guessing that the error is with one of your objects, either because that object is not valid XML or because the XML has an empty (null) text node rather than an empty string value.\r\n\r\nsee `java.lang.NullPointerException`\r\n\r\n`at com.sun.org.apache.xml.internal.serializer. ToUnknownStream.characters(ToUnknownStream.java:338)`\r\n\r\nBased on the link in @Sajan Chandran&#39;s comment: \r\n\r\nhttp://dotcommers.wordpress.com/2008/10/22/javaxxmltransformtransformerexception-javalangnullpointerexception-how-to-solve/\r\n\r\nIf you take a look at that you will see the code.\r\n\r\n    public void characters(String chars) throws SAXException\r\n    {\r\n      final int length = chars.length();\r\n\r\nThe issue being `char.length()` is zero because of a null text node.\r\n\r\nAs it states, to fix this simply make sure all XML nodes have a string value rather than &#39;null&#39; value.\r\n\r\nIf this does not work can you post an example of the XML object that causes the exception to be thrown. Also, can you check that the object is valid XML and that character entities, etc, are properly encoded.\r\n\r\n\r\n\r\n","title":"How do you debug an xml object that causes a transform error when writing to string?","body":"<p>I am guessing that the error is with one of your objects, either because that object is not valid XML or because the XML has an empty (null) text node rather than an empty string value.</p>\n\n<p>see <code>java.lang.NullPointerException</code></p>\n\n<p><code>at com.sun.org.apache.xml.internal.serializer. ToUnknownStream.characters(ToUnknownStream.java:338)</code></p>\n\n<p>Based on the link in @Sajan Chandran's comment: </p>\n\n<p><a href=\"http://dotcommers.wordpress.com/2008/10/22/javaxxmltransformtransformerexception-javalangnullpointerexception-how-to-solve/\" rel=\"nofollow noreferrer\">http://dotcommers.wordpress.com/2008/10/22/javaxxmltransformtransformerexception-javalangnullpointerexception-how-to-solve/</a></p>\n\n<p>If you take a look at that you will see the code.</p>\n\n<pre><code>public void characters(String chars) throws SAXException\n{\n  final int length = chars.length();\n</code></pre>\n\n<p>The issue being <code>char.length()</code> is zero because of a null text node.</p>\n\n<p>As it states, to fix this simply make sure all XML nodes have a string value rather than 'null' value.</p>\n\n<p>If this does not work can you post an example of the XML object that causes the exception to be thrown. Also, can you check that the object is valid XML and that character entities, etc, are properly encoded.</p>\n"},{"comments":[{"owner":{"account_id":28144,"reputation":15820,"user_id":74861,"accept_rate":100,"display_name":"Fraser"},"score":0,"creation_date":1329265769,"post_id":9285690,"comment_id":11710056,"body_markdown":"I think empty here means null, i.e. a node in the short form &lt;data/&gt;","body":"I think empty here means null, i.e. a node in the short form &lt;data/&gt;"},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":0,"creation_date":1329280958,"post_id":9285690,"comment_id":11712490,"body_markdown":"@Fraser, I&#39;m not sure which instance of &quot;empty&quot; you&#39;re referring to. In the above when I say &quot;null&quot; I&#39;m referring to a null pointer, which is not valid input to `transformer.transform()`. A short form XML element like `&lt;data/&gt;` should never produce a null pointer on parsing.","body":"@Fraser, I&#39;m not sure which instance of &quot;empty&quot; you&#39;re referring to. In the above when I say &quot;null&quot; I&#39;m referring to a null pointer, which is not valid input to <code>transformer.transform()</code>. A short form XML element like <code>&lt;data&#47;&gt;</code> should never produce a null pointer on parsing."},{"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"score":1,"creation_date":1329320336,"post_id":9285690,"comment_id":11724158,"body_markdown":"@Fraser, P.S., when I say &quot;empty&quot; above I&#39;m referring to a string that is an actual object (not null) but contains zero characters, i.e. `&quot;&quot;`.","body":"@Fraser, P.S., when I say &quot;empty&quot; above I&#39;m referring to a string that is an actual object (not null) but contains zero characters, i.e. <code>&quot;&quot;</code>."},{"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"score":1,"creation_date":1329341509,"post_id":9285690,"comment_id":11732044,"body_markdown":"Thanks, this was also very helpful and had some extra detail that was very nice!","body":"Thanks, this was also very helpful and had some extra detail that was very nice!"}],"tags":[],"owner":{"account_id":186022,"reputation":27604,"user_id":423105,"accept_rate":68,"display_name":"LarsH"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1329415479,"creation_date":1329261546,"answer_id":9285690,"question_id":9150403,"body_markdown":"Basically agreeing with the other answers, except:\r\n\r\nThe problem would be that you have a text node with *null* (**not** empty) character content, in your `doc` or `e` data structure.\r\n\r\nWhile Kiran&#39;s post (linked by Sajan) is helpful, I&#39;m pretty sure he&#39;s mistaken about &quot;the chars.length() was zero because there was a null text node insertion being tried.&quot; The `chars.length()` was not zero; the call to `chars.length()` threw an NPE because `chars` was null.\r\n\r\nTo find the problem, add a method call here:\r\n\r\n        if (e != null) {\r\n            transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n            source = new DOMSource(e);\r\n            checkForNullTextNodes(e); // ADDED\r\n        } else {\r\n            source = new DOMSource(doc);\r\n            checkForNullTextNodes(doc);  // ADDED\r\n        }\r\n        transformer.transform(source, result); // &lt;-- Error occurs here\r\n\r\nThen define `checkForNullTextNodes(node)` to: (pseudocode)\r\n\r\n - walk through the tree with `n` for each node\r\n - check each text node for null character data\r\n\r\nE.g. (still semi-pseudocode)\r\n\r\n     if (n.getType() == org.w3c.dom.Node.TEXT_NODE &amp;&amp; n.getNodeValue() == null) {\r\n         throw new Exception(&quot;Text node with null content: &quot; +\r\n             path to this node);\r\n     }\r\n\r\nThat should help you find out where any text nodes with null character content are, which should help you figure out where they are coming from. Where are these `doc` or `e` structures being created, anyway?\r\n","title":"How do you debug an xml object that causes a transform error when writing to string?","body":"<p>Basically agreeing with the other answers, except:</p>\n\n<p>The problem would be that you have a text node with <em>null</em> (<strong>not</strong> empty) character content, in your <code>doc</code> or <code>e</code> data structure.</p>\n\n<p>While Kiran's post (linked by Sajan) is helpful, I'm pretty sure he's mistaken about \"the chars.length() was zero because there was a null text node insertion being tried.\" The <code>chars.length()</code> was not zero; the call to <code>chars.length()</code> threw an NPE because <code>chars</code> was null.</p>\n\n<p>To find the problem, add a method call here:</p>\n\n<pre><code>    if (e != null) {\n        transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n        source = new DOMSource(e);\n        checkForNullTextNodes(e); // ADDED\n    } else {\n        source = new DOMSource(doc);\n        checkForNullTextNodes(doc);  // ADDED\n    }\n    transformer.transform(source, result); // &lt;-- Error occurs here\n</code></pre>\n\n<p>Then define <code>checkForNullTextNodes(node)</code> to: (pseudocode)</p>\n\n<ul>\n<li>walk through the tree with <code>n</code> for each node</li>\n<li>check each text node for null character data</li>\n</ul>\n\n<p>E.g. (still semi-pseudocode)</p>\n\n<pre><code> if (n.getType() == org.w3c.dom.Node.TEXT_NODE &amp;&amp; n.getNodeValue() == null) {\n     throw new Exception(\"Text node with null content: \" +\n         path to this node);\n }\n</code></pre>\n\n<p>That should help you find out where any text nodes with null character content are, which should help you figure out where they are coming from. Where are these <code>doc</code> or <code>e</code> structures being created, anyway?</p>\n"},{"comments":[{"owner":{"account_id":436784,"reputation":945,"user_id":824142,"accept_rate":90,"display_name":"Jeremy"},"score":1,"creation_date":1411755764,"post_id":12087598,"comment_id":40838756,"body_markdown":"This worked like a champ for me it actually helped me find an error in my xml.","body":"This worked like a champ for me it actually helped me find an error in my xml."}],"tags":[],"owner":{"account_id":1775231,"reputation":41,"user_id":1619129,"display_name":"John Fa"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1348696515,"creation_date":1345710317,"answer_id":12087598,"question_id":9150403,"body_markdown":"I agree with the other answer, here is the code I used to get rid of the `null` nodes\r\n\r\n\r\n    public void deleteNullNode(Node racine)\r\n    \t{\r\n    \t\tNodeList nl = racine.getChildNodes();\r\n    \t\tfor (int i = 0; i &lt; nl.getLength(); i++)\r\n    \t\t{\r\n    \t\t\tif (nl.item(i).getNodeType() == Node.TEXT_NODE &amp;&amp; nl.item(i).getNodeValue() == null)\r\n    \t\t\t{\r\n    \t\t\t\tnl.item(i).getParentNode().removeChild(nl.item(i));\r\n    \t\t\t}\r\n    \t\t\telse\r\n    \t\t\t{\r\n    \t\t\t\tdeleteNullNode(nl.item(i));\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How do you debug an xml object that causes a transform error when writing to string?","body":"<p>I agree with the other answer, here is the code I used to get rid of the <code>null</code> nodes</p>\n\n<pre><code>public void deleteNullNode(Node racine)\n    {\n        NodeList nl = racine.getChildNodes();\n        for (int i = 0; i &lt; nl.getLength(); i++)\n        {\n            if (nl.item(i).getNodeType() == Node.TEXT_NODE &amp;&amp; nl.item(i).getNodeValue() == null)\n            {\n                nl.item(i).getParentNode().removeChild(nl.item(i));\n            }\n            else\n            {\n                deleteNullNode(nl.item(i));\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20509890,"reputation":11,"user_id":15051921,"display_name":"Santosh R Dhariwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675240984,"creation_date":1674835210,"answer_id":75260507,"question_id":9150403,"body_markdown":"Yes, I was getting **NPE** in translator. Earlier I was using **SAXON** Parser and was working ok, but when I switched to `com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl` it, started failing. So before `transformer.transform()` I called this API `deleteNullNode(Node node)` ... and it worked like charm...","title":"How do you debug an xml object that causes a transform error when writing to string?","body":"<p>Yes, I was getting <strong>NPE</strong> in translator. Earlier I was using <strong>SAXON</strong> Parser and was working ok, but when I switched to <code>com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl</code> it, started failing. So before <code>transformer.transform()</code> I called this API <code>deleteNullNode(Node node)</code> ... and it worked like charm...</p>\n"}],"owner":{"account_id":426556,"reputation":934,"user_id":807828,"accept_rate":93,"display_name":"vextorspace"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23354,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":9283697,"answer_count":4,"score":10,"last_activity_date":1675240984,"creation_date":1328455418,"question_id":9150403,"body_markdown":"I have an XML Object and when I transform it to string with \r\n\r\n\r\n    public static String XMLElementToString(Document doc, Element e) {\r\n        // --- Output XML ---\r\n        try {\r\n            TransformerFactory transFactory = TransformerFactory.newInstance();\r\n            Transformer transformer = transFactory.newTransformer();\r\n            transformer.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n            transformer.setOutputProperty(OutputKeys.ENCODING, &quot;UTF-8&quot;);\r\n\r\n            StringWriter buffer = new StringWriter();\r\n            Result result = new StreamResult(buffer);\r\n            Source source = null;\r\n            if (e != null) {\r\n                transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, &quot;yes&quot;);\r\n                source = new DOMSource(e);\r\n            } else {\r\n                source = new DOMSource(doc);\r\n            }\r\n            transformer.transform(source, result); // &lt;-- Error occurs here\r\n\r\n            buffer.flush();\r\n            return buffer.toString();\r\n\r\n        } catch (TransformerException ex) {\r\n            System.out.println(&quot;exception: &quot; + ex.getMessage());            \r\n        }\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\nI get an error with one of my objects. Using a breakpoint and looking through the xml object I cannot say why, although the TransformerException does say that the contained exception is a null pointer exception. It works on other related objects I have in the same program but I have no idea how to debug this.\r\n\r\n[[EDIT]]\r\nHere is the stack trace:\r\n\r\n    ERROR:  &#39;&#39;\r\n    javax.xml.transform.TransformerException: java.lang.NullPointerException\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:716)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)\r\n\tat com.protocase.utils.StringHelpers.XMLElementToString(StringHelpers.java:132)\r\n\tat com.protocase.io.PDWriter.writePD(PDWriter.java:49)\r\n\tat com.protocase.io.PDWriter.writePDA(PDWriter.java:26)\r\n\tat com.protocase.viewer.JDesigner.OnSaveAs(JDesigner.java:1364)\r\n\tat com.protocase.viewer.JDesigner.access$000(JDesigner.java:106)\r\n\tat com.protocase.viewer.JDesigner$34.actionPerformed(JDesigner.java:722)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\r\n\tat java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:272)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6288)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3267)\r\n\tat java.awt.Component.processEvent(Component.java:6053)\r\n\tat java.awt.Container.processEvent(Container.java:2041)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4651)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2099)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4481)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4577)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4238)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2085)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2478)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4481)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:643)\r\n\tat java.awt.EventQueue.access$000(EventQueue.java:84)\r\n\tat java.awt.EventQueue$1.run(EventQueue.java:602)\r\n\tat java.awt.EventQueue$1.run(EventQueue.java:600)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:98)\r\n\tat java.awt.EventQueue$2.run(EventQueue.java:616)\r\n\tat java.awt.EventQueue$2.run(EventQueue.java:614)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:613)\r\n\tat com.protocase.viewer.EventQueueProxy.dispatchEvent(JDesigner.java:2338)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\r\n    Caused by: java.lang.NullPointerException\r\n\tat com.sun.org.apache.xml.internal.serializer.ToUnknownStream.characters(ToUnknownStream.java:338)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:240)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:132)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:94)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:661)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:707)\r\n    \t... 45 more\r\n    ---------\r\n    java.lang.NullPointerException\r\n\tat com.sun.org.apache.xml.internal.serializer.ToUnknownStream.characters(ToUnknownStream.java:338)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:240)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:132)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:94)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:661)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:707)\r\n\tat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)\r\n\tat com.protocase.utils.StringHelpers.XMLElementToString(StringHelpers.java:132)\r\n\tat com.protocase.io.PDWriter.writePD(PDWriter.java:49)\r\n\tat com.protocase.io.PDWriter.writePDA(PDWriter.java:26)\r\n\tat com.protocase.viewer.JDesigner.OnSaveAs(JDesigner.java:1364)\r\n\tat com.protocase.viewer.JDesigner.access$000(JDesigner.java:106)\r\n\tat com.protocase.viewer.JDesigner$34.actionPerformed(JDesigner.java:722)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\r\n\tat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\r\n\tat java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:272)\r\n\tat java.awt.Component.processMouseEvent(Component.java:6288)\r\n\tat javax.swing.JComponent.processMouseEvent(JComponent.java:3267)\r\n\tat java.awt.Component.processEvent(Component.java:6053)\r\n\tat java.awt.Container.processEvent(Container.java:2041)\r\n\tat java.awt.Component.dispatchEventImpl(Component.java:4651)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2099)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4481)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4577)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4238)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\r\n\tat java.awt.Container.dispatchEventImpl(Container.java:2085)\r\n\tat java.awt.Window.dispatchEventImpl(Window.java:2478)\r\n\tat java.awt.Component.dispatchEvent(Component.java:4481)\r\n\tat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:643)\r\n\tat java.awt.EventQueue.access$000(EventQueue.java:84)\r\n\tat java.awt.EventQueue$1.run(EventQueue.java:602)\r\n\tat java.awt.EventQueue$1.run(EventQueue.java:600)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\r\n\tat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:98)\r\n\tat java.awt.EventQueue$2.run(EventQueue.java:616)\r\n\tat java.awt.EventQueue$2.run(EventQueue.java:614)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat     java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\r\n\tat java.awt.EventQueue.dispatchEvent(EventQueue.java:613)\r\n\tat com.protocase.viewer.EventQueueProxy.dispatchEvent(JDesigner.java:2338)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\r\n\tat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\r\n\tat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)","title":"How do you debug an xml object that causes a transform error when writing to string?","body":"<p>I have an XML Object and when I transform it to string with </p>\n\n<pre><code>public static String XMLElementToString(Document doc, Element e) {\n    // --- Output XML ---\n    try {\n        TransformerFactory transFactory = TransformerFactory.newInstance();\n        Transformer transformer = transFactory.newTransformer();\n        transformer.setOutputProperty(OutputKeys.INDENT, \"yes\");\n        transformer.setOutputProperty(OutputKeys.ENCODING, \"UTF-8\");\n\n        StringWriter buffer = new StringWriter();\n        Result result = new StreamResult(buffer);\n        Source source = null;\n        if (e != null) {\n            transformer.setOutputProperty(OutputKeys.OMIT_XML_DECLARATION, \"yes\");\n            source = new DOMSource(e);\n        } else {\n            source = new DOMSource(doc);\n        }\n        transformer.transform(source, result); // &lt;-- Error occurs here\n\n        buffer.flush();\n        return buffer.toString();\n\n    } catch (TransformerException ex) {\n        System.out.println(\"exception: \" + ex.getMessage());            \n    }\n    return \"\";\n}\n</code></pre>\n\n<p>I get an error with one of my objects. Using a breakpoint and looking through the xml object I cannot say why, although the TransformerException does say that the contained exception is a null pointer exception. It works on other related objects I have in the same program but I have no idea how to debug this.</p>\n\n<p>[[EDIT]]\nHere is the stack trace:</p>\n\n<pre><code>ERROR:  ''\njavax.xml.transform.TransformerException: java.lang.NullPointerException\nat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:716)\nat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)\nat com.protocase.utils.StringHelpers.XMLElementToString(StringHelpers.java:132)\nat com.protocase.io.PDWriter.writePD(PDWriter.java:49)\nat com.protocase.io.PDWriter.writePDA(PDWriter.java:26)\nat com.protocase.viewer.JDesigner.OnSaveAs(JDesigner.java:1364)\nat com.protocase.viewer.JDesigner.access$000(JDesigner.java:106)\nat com.protocase.viewer.JDesigner$34.actionPerformed(JDesigner.java:722)\nat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\nat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\nat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\nat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\nat java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:272)\nat java.awt.Component.processMouseEvent(Component.java:6288)\nat javax.swing.JComponent.processMouseEvent(JComponent.java:3267)\nat java.awt.Component.processEvent(Component.java:6053)\nat java.awt.Container.processEvent(Container.java:2041)\nat java.awt.Component.dispatchEventImpl(Component.java:4651)\nat java.awt.Container.dispatchEventImpl(Container.java:2099)\nat java.awt.Component.dispatchEvent(Component.java:4481)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4577)\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4238)\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\nat java.awt.Container.dispatchEventImpl(Container.java:2085)\nat java.awt.Window.dispatchEventImpl(Window.java:2478)\nat java.awt.Component.dispatchEvent(Component.java:4481)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:643)\nat java.awt.EventQueue.access$000(EventQueue.java:84)\nat java.awt.EventQueue$1.run(EventQueue.java:602)\nat java.awt.EventQueue$1.run(EventQueue.java:600)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:98)\nat java.awt.EventQueue$2.run(EventQueue.java:616)\nat java.awt.EventQueue$2.run(EventQueue.java:614)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:613)\nat com.protocase.viewer.EventQueueProxy.dispatchEvent(JDesigner.java:2338)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\nCaused by: java.lang.NullPointerException\nat com.sun.org.apache.xml.internal.serializer.ToUnknownStream.characters(ToUnknownStream.java:338)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:240)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:132)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:94)\nat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:661)\nat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:707)\n    ... 45 more\n---------\njava.lang.NullPointerException\nat com.sun.org.apache.xml.internal.serializer.ToUnknownStream.characters(ToUnknownStream.java:338)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:240)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:226)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:132)\nat com.sun.org.apache.xalan.internal.xsltc.trax.DOM2TO.parse(DOM2TO.java:94)\nat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transformIdentity(TransformerImpl.java:661)\nat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:707)\nat com.sun.org.apache.xalan.internal.xsltc.trax.TransformerImpl.transform(TransformerImpl.java:313)\nat com.protocase.utils.StringHelpers.XMLElementToString(StringHelpers.java:132)\nat com.protocase.io.PDWriter.writePD(PDWriter.java:49)\nat com.protocase.io.PDWriter.writePDA(PDWriter.java:26)\nat com.protocase.viewer.JDesigner.OnSaveAs(JDesigner.java:1364)\nat com.protocase.viewer.JDesigner.access$000(JDesigner.java:106)\nat com.protocase.viewer.JDesigner$34.actionPerformed(JDesigner.java:722)\nat javax.swing.AbstractButton.fireActionPerformed(AbstractButton.java:1995)\nat javax.swing.AbstractButton$Handler.actionPerformed(AbstractButton.java:2318)\nat javax.swing.DefaultButtonModel.fireActionPerformed(DefaultButtonModel.java:387)\nat javax.swing.DefaultButtonModel.setPressed(DefaultButtonModel.java:242)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(BasicButtonListener.java:236)\nat java.awt.AWTEventMulticaster.mouseReleased(AWTEventMulticaster.java:272)\nat java.awt.Component.processMouseEvent(Component.java:6288)\nat javax.swing.JComponent.processMouseEvent(JComponent.java:3267)\nat java.awt.Component.processEvent(Component.java:6053)\nat java.awt.Container.processEvent(Container.java:2041)\nat java.awt.Component.dispatchEventImpl(Component.java:4651)\nat java.awt.Container.dispatchEventImpl(Container.java:2099)\nat java.awt.Component.dispatchEvent(Component.java:4481)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Container.java:4577)\nat java.awt.LightweightDispatcher.processMouseEvent(Container.java:4238)\nat java.awt.LightweightDispatcher.dispatchEvent(Container.java:4168)\nat java.awt.Container.dispatchEventImpl(Container.java:2085)\nat java.awt.Window.dispatchEventImpl(Window.java:2478)\nat java.awt.Component.dispatchEvent(Component.java:4481)\nat java.awt.EventQueue.dispatchEventImpl(EventQueue.java:643)\nat java.awt.EventQueue.access$000(EventQueue.java:84)\nat java.awt.EventQueue$1.run(EventQueue.java:602)\nat java.awt.EventQueue$1.run(EventQueue.java:600)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\nat java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:98)\nat java.awt.EventQueue$2.run(EventQueue.java:616)\nat java.awt.EventQueue$2.run(EventQueue.java:614)\nat java.security.AccessController.doPrivileged(Native Method)\nat     java.security.AccessControlContext$1.doIntersectionPrivilege(AccessControlContext.java:87)\nat java.awt.EventQueue.dispatchEvent(EventQueue.java:613)\nat com.protocase.viewer.EventQueueProxy.dispatchEvent(JDesigner.java:2338)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(EventDispatchThread.java:269)\nat java.awt.EventDispatchThread.pumpEventsForFilter(EventDispatchThread.java:184)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(EventDispatchThread.java:174)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:169)\nat java.awt.EventDispatchThread.pumpEvents(EventDispatchThread.java:161)\nat java.awt.EventDispatchThread.run(EventDispatchThread.java:122)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","jar"],"comments":[{"owner":{"account_id":6586022,"reputation":76,"user_id":5088766,"display_name":"mcarn"},"score":0,"creation_date":1675201955,"post_id":75303214,"comment_id":132877153,"body_markdown":"Do you run your jar file like `$ java -jar target/app.war`?","body":"Do you run your jar file like <code>$ java -jar target&#47;app.war</code>?"},{"owner":{"account_id":13790888,"reputation":21,"user_id":9953404,"display_name":"jvivo"},"score":0,"creation_date":1675203118,"post_id":75303214,"comment_id":132877506,"body_markdown":"@MaiGoL7 I run it like this \n` java -jar .\\InterconnectingFlightsApplication.jar `\nI am using Windows by the way","body":"@MaiGoL7 I run it like this  ` java -jar .\\InterconnectingFlightsApplication.jar ` I am using Windows by the way"}],"answers":[{"tags":[],"owner":{"account_id":13790888,"reputation":21,"user_id":9953404,"display_name":"jvivo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675207902,"creation_date":1675207902,"answer_id":75304205,"question_id":75303214,"body_markdown":"Created a new JAR using `mvn package`, which turned out to work. VSCode&#39;s Java Project Manager doesn&#39;t seem to build the JAR correctly","title":"SpringBoot application shuts down when running using JAR, but works well when running from cmd or VSCode","body":"<p>Created a new JAR using <code>mvn package</code>, which turned out to work. VSCode's Java Project Manager doesn't seem to build the JAR correctly</p>\n"},{"tags":[],"owner":{"account_id":22229891,"reputation":9,"user_id":16466250,"display_name":"Daudi Mabula"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675240798,"creation_date":1675240798,"answer_id":75307483,"question_id":75303214,"body_markdown":"Make sure the java version defined in your pom file match or lower than that installed in your computer for example if installed java 16 you need version 16 or lower in your dependence file. some IDE use the builtin java SDKs or JDK plugins.","title":"SpringBoot application shuts down when running using JAR, but works well when running from cmd or VSCode","body":"<p>Make sure the java version defined in your pom file match or lower than that installed in your computer for example if installed java 16 you need version 16 or lower in your dependence file. some IDE use the builtin java SDKs or JDK plugins.</p>\n"}],"owner":{"account_id":13790888,"reputation":21,"user_id":9953404,"display_name":"jvivo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75304205,"answer_count":2,"score":1,"last_activity_date":1675240798,"creation_date":1675199672,"question_id":75303214,"body_markdown":"I am trying to run a SpringBoot application from a JAR file, which I have built using VSCode&#39;s Project Manager from Java.\r\n\r\nThe app runs smoothly when running from VSCode, or when running from the command line, using \r\n```\r\nmvn spring-boot:run\r\n```\r\n\r\nThis is my Main Class file:\r\n\r\n\r\n```\r\npackage com.jvc.interconnectingflights.app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(&quot;com.jvc.interconnectingflights&quot;)\r\npublic class InterconnectingFlightsApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(InterconnectingFlightsApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nThis is my pom.xml file:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.jvc&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;interconnecting-flights&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;interconnecting-flights&lt;/name&gt;\r\n\t&lt;description&gt;SpringBoot app&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.18.22&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nThis is the output I am getting when running from the JAR:\r\n\r\n\r\n```\r\n22:05:28.287 [main] INFO com.jvc.interconnectingflights.app.InterconnectingFlightsApplication - Started InterconnectingFlightsApplication in 3.102 seconds (process running for 3.46)\r\n22:05:28.318 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@78e94dcf, started on Tue Jan 31 22:05:25 CET 2023\r\n```\r\n\r\n\r\nI have tried all the answers from related posts, but still no luck. I would really appreciate any advice!\r\n\r\n\r\n\r\nTried answers from this post and related ones:\r\n\r\n[https://stackoverflow.com/questions/22380119/why-does-my-spring-boot-app-always-shutdown-immediately-after-starting](https://www.stackoverflow.com/)\r\n\r\n","title":"SpringBoot application shuts down when running using JAR, but works well when running from cmd or VSCode","body":"<p>I am trying to run a SpringBoot application from a JAR file, which I have built using VSCode's Project Manager from Java.</p>\n<p>The app runs smoothly when running from VSCode, or when running from the command line, using</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>This is my Main Class file:</p>\n<pre><code>package com.jvc.interconnectingflights.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(&quot;com.jvc.interconnectingflights&quot;)\npublic class InterconnectingFlightsApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(InterconnectingFlightsApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>This is my pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.jvc&lt;/groupId&gt;\n    &lt;artifactId&gt;interconnecting-flights&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;interconnecting-flights&lt;/name&gt;\n    &lt;description&gt;SpringBoot app&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>This is the output I am getting when running from the JAR:</p>\n<pre><code>22:05:28.287 [main] INFO com.jvc.interconnectingflights.app.InterconnectingFlightsApplication - Started InterconnectingFlightsApplication in 3.102 seconds (process running for 3.46)\n22:05:28.318 [SpringApplicationShutdownHook] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@78e94dcf, started on Tue Jan 31 22:05:25 CET 2023\n</code></pre>\n<p>I have tried all the answers from related posts, but still no luck. I would really appreciate any advice!</p>\n<p>Tried answers from this post and related ones:</p>\n<p><a href=\"https://www.stackoverflow.com/\">https://stackoverflow.com/questions/22380119/why-does-my-spring-boot-app-always-shutdown-immediately-after-starting</a></p>\n"},{"tags":["java","android","kotlin","google-play","android-tv"],"answers":[{"tags":[],"owner":{"account_id":25554903,"reputation":3,"user_id":19338636,"display_name":"ultimatical"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675240735,"creation_date":1675240735,"answer_id":75307471,"question_id":75281183,"body_markdown":"It was non-obvious, but all you need is to add Android TV form factor to the Google Play Console:\r\n**Release** -&gt; **Advanced Settings** -&gt; **Form Factors** -&gt; **Add**\r\n\r\n[How to add the form factor to the Play Console][1]\r\n\r\nI waited over 24 hours before my application was approved. \r\nNow all TV devices are available.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yIRYx.jpg","title":"App is not compatible with TVs on closed testing in the Google Play. This item is not compatible with your device","body":"<p>It was non-obvious, but all you need is to add Android TV form factor to the Google Play Console:\n<strong>Release</strong> -&gt; <strong>Advanced Settings</strong> -&gt; <strong>Form Factors</strong> -&gt; <strong>Add</strong></p>\n<p><a href=\"https://i.stack.imgur.com/yIRYx.jpg\" rel=\"nofollow noreferrer\">How to add the form factor to the Play Console</a></p>\n<p>I waited over 24 hours before my application was approved.\nNow all TV devices are available.</p>\n"}],"owner":{"account_id":25554903,"reputation":3,"user_id":19338636,"display_name":"ultimatical"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75307471,"answer_count":1,"score":0,"last_activity_date":1675240735,"creation_date":1675062838,"question_id":75281183,"body_markdown":"I&#39;m developing an app for Android TV and TV-boxes.\r\nMy problem is that Android TV devices are available for installing my app from Google Play for **internal** testing, but NOT available for **closed** testing (but it still can be installed on the smartphones).\r\n\r\nScreenshot: Google Play install dialog\r\n\r\n![Screenshot: Google Play install dialog](https://i.stack.imgur.com/FccLl.jpg)\r\n\r\nMy app starting from StartScreenActivity (it&#39;s splash screen).\r\nThe QUERY_ALL_PACKAGES is required for my app and declared.\r\n\r\n**AndroidManifest.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.PACKAGE_USAGE_STATS&quot;\r\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;\r\n        tools:ignore=&quot;QueryAllPackagesPermission&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.software.leanback&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.touchscreen&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:banner=&quot;@mipmap/appbanner&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.presentation.StartScreenActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            android:screenOrientation=&quot;landscape&quot;\r\n            android:theme=&quot;@style/SplashTheme&quot;&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LEANBACK_LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n\r\n        &lt;/activity&gt;\r\n        &lt;activity\r\n            android:name=&quot;.ui.presentation.MainActivity&quot;\r\n            android:windowSoftInputMode=&quot;adjustPan&quot;\r\n            android:screenOrientation=&quot;landscape&quot;\r\n            android:exported=&quot;false&quot;&gt;\r\n\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nOn the internal testing it works like expected, but no one can to install an app to TV on the close testing. Setting the **android.software.leanback** as required not helped - it just making all others devices not available for install. \r\nWhat am I doing wrong? Please advise.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1N5te.jpg","title":"App is not compatible with TVs on closed testing in the Google Play. This item is not compatible with your device","body":"<p>I'm developing an app for Android TV and TV-boxes.\nMy problem is that Android TV devices are available for installing my app from Google Play for <strong>internal</strong> testing, but NOT available for <strong>closed</strong> testing (but it still can be installed on the smartphones).</p>\n<p>Screenshot: Google Play install dialog</p>\n<p><img src=\"https://i.stack.imgur.com/FccLl.jpg\" alt=\"Screenshot: Google Play install dialog\" /></p>\n<p>My app starting from StartScreenActivity (it's splash screen).\nThe QUERY_ALL_PACKAGES is required for my app and declared.</p>\n<p><strong>AndroidManifest.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.PACKAGE_USAGE_STATS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;\n        tools:ignore=&quot;QueryAllPackagesPermission&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.software.leanback&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.touchscreen&quot;\n        android:required=&quot;false&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:banner=&quot;@mipmap/appbanner&quot;&gt;\n        &lt;activity\n            android:name=&quot;.ui.presentation.StartScreenActivity&quot;\n            android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTask&quot;\n            android:screenOrientation=&quot;landscape&quot;\n            android:theme=&quot;@style/SplashTheme&quot;&gt;\n\n            &lt;intent-filter&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LEANBACK_LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n\n        &lt;/activity&gt;\n        &lt;activity\n            android:name=&quot;.ui.presentation.MainActivity&quot;\n            android:windowSoftInputMode=&quot;adjustPan&quot;\n            android:screenOrientation=&quot;landscape&quot;\n            android:exported=&quot;false&quot;&gt;\n\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>On the internal testing it works like expected, but no one can to install an app to TV on the close testing. Setting the <strong>android.software.leanback</strong> as required not helped - it just making all others devices not available for install.\nWhat am I doing wrong? Please advise.</p>\n"},{"tags":["java","spring-boot","redis"],"answers":[{"comments":[{"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"score":0,"creation_date":1494363328,"post_id":43879577,"comment_id":74794392,"body_markdown":"Since I am using Redis locally (fresh install, no configuration changes), I thought Spring Boot Redis starter assumes those defaults. I am not using a cluster. The only Redis properties that are applicable would be `spring.redis.host` (localhost) and `spring.redis.port` (6379).","body":"Since I am using Redis locally (fresh install, no configuration changes), I thought Spring Boot Redis starter assumes those defaults. I am not using a cluster. The only Redis properties that are applicable would be <code>spring.redis.host</code> (localhost) and <code>spring.redis.port</code> (6379)."},{"owner":{"account_id":2529186,"reputation":3484,"user_id":2197837,"accept_rate":25,"display_name":"Praneeth Ramesh"},"score":0,"creation_date":1494365695,"post_id":43879577,"comment_id":74795487,"body_markdown":"Is your redis service running. Were you able to connect the service through redis-cli? Your code looks good...","body":"Is your redis service running. Were you able to connect the service through redis-cli? Your code looks good..."},{"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"score":0,"creation_date":1494370258,"post_id":43879577,"comment_id":74796990,"body_markdown":"Hi @PraneethRamesh my redis server is running. Verifications I ran included `telnet localhost 6379` *(was able to telnet into that port)* and writing a testing GET based method in the controller to open a socket using `Socket s = new Socket(&quot;localhost&quot;, 6379); return s.isConnected();` *(which yielded true)*. So I know Redis is running and accessible to the JVM. And yes, I am able to connect to service with redis-cli.","body":"Hi @PraneethRamesh my redis server is running. Verifications I ran included <code>telnet localhost 6379</code> <i>(was able to telnet into that port)</i> and writing a testing GET based method in the controller to open a socket using <code>Socket s = new Socket(&quot;localhost&quot;, 6379); return s.isConnected();</code> <i>(which yielded true)</i>. So I know Redis is running and accessible to the JVM. And yes, I am able to connect to service with redis-cli."}],"tags":[],"owner":{"account_id":66458,"reputation":1770,"user_id":194932,"display_name":"Raphael"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494362836,"creation_date":1494362836,"answer_id":43879577,"question_id":43879279,"body_markdown":"You need to configure your redis server information using the application.properties: \r\n\r\n\r\n    # REDIS (RedisProperties)\r\n    spring.redis.cluster.nodes= # Comma-separated list of &quot;host:port&quot;\r\n    spring.redis.database=0 # Database index\r\n    spring.redis.url= # Connection URL, \r\n    spring.redis.host=localhost # Redis server host.\r\n    spring.redis.password= # Login password of the redis server.\r\n    spring.redis.ssl=false # Enable SSL support.\r\n    spring.redis.port=6379 # Redis server port.\r\n\r\nSpring data docs: https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html#REDIS","title":"Spring Boot Redis configuration not working","body":"<p>You need to configure your redis server information using the application.properties: </p>\n\n<pre><code># REDIS (RedisProperties)\nspring.redis.cluster.nodes= # Comma-separated list of \"host:port\"\nspring.redis.database=0 # Database index\nspring.redis.url= # Connection URL, \nspring.redis.host=localhost # Redis server host.\nspring.redis.password= # Login password of the redis server.\nspring.redis.ssl=false # Enable SSL support.\nspring.redis.port=6379 # Redis server port.\n</code></pre>\n\n<p>Spring data docs: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html#REDIS\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html#REDIS</a></p>\n"},{"tags":[],"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1494434713,"creation_date":1494434713,"answer_id":43898383,"question_id":43879279,"body_markdown":"This was a proxy related problem, where even access to localhost was somehow being curtailed. Once I disabled the proxy settings, Redis health was `UP`! So the problem is solved. I did not have to add any property to `application.properties` and neither did I have to explicitly configure anything in the Spring Boot application class, because Spring Boot and the Redis Starter auto-configures based on Redis defaults (as applicable in my development environment). I just added the following to the `pom.xml`:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\n\r\nand the following to the `@RestController` annotated class, and Spring Boot auto-wired as needed (awesome!).\r\n\r\n\t@Autowired\r\n\tprivate RedisTemplate&lt;String, String&gt; redisTemplate;\r\n\r\nTo publish a simple message to a channel, this single line of code was sufficient for validating the setup:\r\n\r\n    this.redisTemplate.convertAndSend(channelName, &quot;hello world&quot;);\r\n\r\nI appreciate all the comments, which were helpful in backing up my checks. ","title":"Spring Boot Redis configuration not working","body":"<p>This was a proxy related problem, where even access to localhost was somehow being curtailed. Once I disabled the proxy settings, Redis health was <code>UP</code>! So the problem is solved. I did not have to add any property to <code>application.properties</code> and neither did I have to explicitly configure anything in the Spring Boot application class, because Spring Boot and the Redis Starter auto-configures based on Redis defaults (as applicable in my development environment). I just added the following to the <code>pom.xml</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and the following to the <code>@RestController</code> annotated class, and Spring Boot auto-wired as needed (awesome!).</p>\n\n<pre><code>@Autowired\nprivate RedisTemplate&lt;String, String&gt; redisTemplate;\n</code></pre>\n\n<p>To publish a simple message to a channel, this single line of code was sufficient for validating the setup:</p>\n\n<pre><code>this.redisTemplate.convertAndSend(channelName, \"hello world\");\n</code></pre>\n\n<p>I appreciate all the comments, which were helpful in backing up my checks. </p>\n"},{"tags":[],"owner":{"account_id":3343918,"reputation":776,"user_id":2809468,"display_name":"Omid Mohebbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552477832,"creation_date":1552477832,"answer_id":55141230,"question_id":43879279,"body_markdown":"I done a simple example with redis and spring boot \r\n\r\nFirst I installed redis on docker:\r\n\r\n**$ docker run --name some-redis -d redis redis-server --appendonly yes**\r\n\r\nThen I Used this code for receiver :\r\n\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    public class Receiver {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(Receiver.class);\r\n    \r\n        private CountDownLatch latch;\r\n    \r\n        @Autowired\r\n        public Receiver(CountDownLatch latch) {\r\n            this.latch = latch;\r\n        }\r\n    \r\n        public void receiveMessage(String message) {\r\n            LOGGER.info(&quot;Received &lt;&quot; + message + &quot;&gt;&quot;);\r\n            latch.countDown();\r\n        }\r\n    \r\n    }\r\n\r\nAnd this is my spring boot app and my listener:\r\n\r\n\r\n\r\n\r\n    @SpringBootApplication\r\n    // after add security library then it is need to use security configuration.\r\n    @ComponentScan(&quot;omid.spring.example.springexample.security&quot;)\r\n    public class RunSpring {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(RunSpring.class);\r\n    \r\n    \r\n        public  static   void main(String[] args) throws InterruptedException {\r\n            ConfigurableApplicationContext contex =  SpringApplication.run(RunSpring.class, args);\r\n        }\r\n    \r\n        @Autowired\r\n        private ApplicationContext context;\r\n    \r\n        @RestController\r\n        public class SimpleController{\r\n    \r\n            @RequestMapping(&quot;/test&quot;)\r\n            public String getHelloWorld(){\r\n    \r\n                StringRedisTemplate template = context.getBean(StringRedisTemplate.class);\r\n                CountDownLatch latch = context.getBean(CountDownLatch.class);\r\n    \r\n                LOGGER.info(&quot;Sending message...&quot;);\r\n    \r\n                Thread t = new Thread(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        for (int i = 0 ;  i &lt; 100 ; i++) {\r\n                            template.convertAndSend(&quot;chat&quot;, i + &quot; =&gt; Hello from Redis!&quot;);\r\n                            try {\r\n                                Thread.sleep(100);\r\n                            } catch (InterruptedException e) {\r\n                                e.printStackTrace();\r\n                            }\r\n    \r\n                        }\r\n    \r\n                    }\r\n                });\r\n                t.start();\r\n    \r\n                try {\r\n                    latch.await();\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n    \r\n    \r\n                return &quot;hello world 1&quot;;\r\n            }\r\n        }\r\n    \r\n        ///////////////////////////////////////////////////////////////\r\n    \r\n    \r\n        @Bean\r\n        RedisMessageListenerContainer container(RedisConnectionFactory connectionFactory,\r\n                                                MessageListenerAdapter listenerAdapter) {\r\n    \r\n            RedisMessageListenerContainer container = new RedisMessageListenerContainer();\r\n            container.setConnectionFactory(connectionFactory);\r\n            container.addMessageListener(listenerAdapter, new PatternTopic(&quot;chat&quot;));\r\n    \r\n            return container;\r\n        }\r\n    \r\n        @Bean\r\n        MessageListenerAdapter listenerAdapter(Receiver receiver) {\r\n            return new MessageListenerAdapter(receiver, &quot;receiveMessage&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        Receiver receiver(CountDownLatch latch) {\r\n            return new Receiver(latch);\r\n        }\r\n    \r\n        @Bean\r\n        CountDownLatch latch() {\r\n            return new CountDownLatch(1);\r\n        }\r\n    \r\n        @Bean\r\n        StringRedisTemplate template(RedisConnectionFactory connectionFactory) {\r\n            return new StringRedisTemplate(connectionFactory);\r\n        }\r\n    }\r\n\r\nThe important point is the redis IP. if you installed it on docker like me then\r\nyou should set ip address in application.properties like this:\r\n**spring.redis.host=172.17.0.4**\r\n\r\nI put all my spring examples on github [here][1]\r\n\r\n\r\nIn addition I used redis stat to monitor redis. it is simple monitoring. \r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/omidmohebbise/springexample\r\n  [2]: https://i.stack.imgur.com/LYfyO.png","title":"Spring Boot Redis configuration not working","body":"<p>I done a simple example with redis and spring boot </p>\n\n<p>First I installed redis on docker:</p>\n\n<p><strong>$ docker run --name some-redis -d redis redis-server --appendonly yes</strong></p>\n\n<p>Then I Used this code for receiver :</p>\n\n<pre><code>import java.util.concurrent.CountDownLatch;\n\npublic class Receiver {\n    private static final Logger LOGGER = LoggerFactory.getLogger(Receiver.class);\n\n    private CountDownLatch latch;\n\n    @Autowired\n    public Receiver(CountDownLatch latch) {\n        this.latch = latch;\n    }\n\n    public void receiveMessage(String message) {\n        LOGGER.info(\"Received &lt;\" + message + \"&gt;\");\n        latch.countDown();\n    }\n\n}\n</code></pre>\n\n<p>And this is my spring boot app and my listener:</p>\n\n<pre><code>@SpringBootApplication\n// after add security library then it is need to use security configuration.\n@ComponentScan(\"omid.spring.example.springexample.security\")\npublic class RunSpring {\n    private static final Logger LOGGER = LoggerFactory.getLogger(RunSpring.class);\n\n\n    public  static   void main(String[] args) throws InterruptedException {\n        ConfigurableApplicationContext contex =  SpringApplication.run(RunSpring.class, args);\n    }\n\n    @Autowired\n    private ApplicationContext context;\n\n    @RestController\n    public class SimpleController{\n\n        @RequestMapping(\"/test\")\n        public String getHelloWorld(){\n\n            StringRedisTemplate template = context.getBean(StringRedisTemplate.class);\n            CountDownLatch latch = context.getBean(CountDownLatch.class);\n\n            LOGGER.info(\"Sending message...\");\n\n            Thread t = new Thread(new Runnable() {\n                @Override\n                public void run() {\n                    for (int i = 0 ;  i &lt; 100 ; i++) {\n                        template.convertAndSend(\"chat\", i + \" =&gt; Hello from Redis!\");\n                        try {\n                            Thread.sleep(100);\n                        } catch (InterruptedException e) {\n                            e.printStackTrace();\n                        }\n\n                    }\n\n                }\n            });\n            t.start();\n\n            try {\n                latch.await();\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n\n\n            return \"hello world 1\";\n        }\n    }\n\n    ///////////////////////////////////////////////////////////////\n\n\n    @Bean\n    RedisMessageListenerContainer container(RedisConnectionFactory connectionFactory,\n                                            MessageListenerAdapter listenerAdapter) {\n\n        RedisMessageListenerContainer container = new RedisMessageListenerContainer();\n        container.setConnectionFactory(connectionFactory);\n        container.addMessageListener(listenerAdapter, new PatternTopic(\"chat\"));\n\n        return container;\n    }\n\n    @Bean\n    MessageListenerAdapter listenerAdapter(Receiver receiver) {\n        return new MessageListenerAdapter(receiver, \"receiveMessage\");\n    }\n\n    @Bean\n    Receiver receiver(CountDownLatch latch) {\n        return new Receiver(latch);\n    }\n\n    @Bean\n    CountDownLatch latch() {\n        return new CountDownLatch(1);\n    }\n\n    @Bean\n    StringRedisTemplate template(RedisConnectionFactory connectionFactory) {\n        return new StringRedisTemplate(connectionFactory);\n    }\n}\n</code></pre>\n\n<p>The important point is the redis IP. if you installed it on docker like me then\nyou should set ip address in application.properties like this:\n<strong>spring.redis.host=172.17.0.4</strong></p>\n\n<p>I put all my spring examples on github <a href=\"https://github.com/omidmohebbise/springexample\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>In addition I used redis stat to monitor redis. it is simple monitoring. \n<a href=\"https://i.stack.imgur.com/LYfyO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LYfyO.png\" alt=\"enter image description here\"></a></p>\n"},{"comments":[{"owner":{"account_id":4390503,"reputation":663,"user_id":3579061,"display_name":"NuttLoose"},"score":0,"creation_date":1679390101,"post_id":75307197,"comment_id":133708711,"body_markdown":"Thanks a lot. looks like config got changed for spring boot 3","body":"Thanks a lot. looks like config got changed for spring boot 3"}],"tags":[],"owner":{"account_id":5344055,"reputation":71,"user_id":4260087,"display_name":"Sanditha Shetty"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1675240647,"creation_date":1675239149,"answer_id":75307197,"question_id":43879279,"body_markdown":"[Spring data redis properties are updated][1], e.g. `spring.redis.host` is now `spring.data.redis.host`.\r\n\r\n [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#REDIS\r\n","title":"Spring Boot Redis configuration not working","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#REDIS\" rel=\"nofollow noreferrer\">Spring data redis properties are updated</a>, e.g. <code>spring.redis.host</code> is now <code>spring.data.redis.host</code>.</p>\n"}],"owner":{"account_id":155026,"reputation":7508,"user_id":371392,"accept_rate":67,"display_name":"Web User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23065,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43898383,"answer_count":4,"score":1,"last_activity_date":1675240647,"creation_date":1494361775,"question_id":43879279,"body_markdown":"I am developing a Spring Boot [web] REST-style application with a `ServletInitializer` (since it needs to be deployed to an existing Tomcat server). It has a `@RestController` with a method that, when invoked, needs to write to a Redis `pub-sub channel`. I have the Redis server running on localhost (default port, no password). The relevant part of the POM file has the required starter dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nWhen I deploy the WAR and hit the endpoint `http://localhost:8080/springBootApp/health`, I get this response:\r\n\r\n    {\r\n      &quot;status&quot;: &quot;DOWN&quot;,\r\n      &quot;diskSpace&quot;: {\r\n        &quot;status&quot;: &quot;UP&quot;,\r\n        &quot;total&quot;: 999324516352,\r\n        &quot;free&quot;: 691261681664,\r\n        &quot;threshold&quot;: 10485760\r\n      },\r\n      &quot;redis&quot;: {\r\n        &quot;status&quot;: &quot;DOWN&quot;,\r\n        &quot;error&quot;: &quot;org.springframework.data.redis.RedisConnectionFailureException: java.net.SocketTimeoutException: Read timed out; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out&quot;\r\n      }\r\n    }\r\n\r\nI added the following to my Spring Boot application class:\r\n\r\n\t@Bean\r\n\tJedisConnectionFactory jedisConnectionFactory() {\r\n\t    return new JedisConnectionFactory();\r\n\t}\r\n\t \r\n\t@Bean\r\n\tpublic RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n\t    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;();\r\n\t    template.setConnectionFactory(jedisConnectionFactory());\r\n\t    return template;\r\n\t}\r\n\r\nI also tried adding the following to my `@RestController` before executing some test Redis code, but I get the same error as above in the stack trace:\r\n\r\n\t@Autowired\r\n\tprivate RedisTemplate&lt;String, String&gt; redisTemplate;\r\n\r\n**Edit** (2017-05-09)\r\nMy understanding is that Spring Boot Redis starter assumes the default values of `spring.redis.host=localhost` and `spring.redis.port=6379`, I still added the two to `application.properties`, but that did not fill the gap.\r\n\r\n**Update** (2017-05-10)\r\nI added an answer to this thread.","title":"Spring Boot Redis configuration not working","body":"<p>I am developing a Spring Boot [web] REST-style application with a <code>ServletInitializer</code> (since it needs to be deployed to an existing Tomcat server). It has a <code>@RestController</code> with a method that, when invoked, needs to write to a Redis <code>pub-sub channel</code>. I have the Redis server running on localhost (default port, no password). The relevant part of the POM file has the required starter dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When I deploy the WAR and hit the endpoint <code>http://localhost:8080/springBootApp/health</code>, I get this response:</p>\n\n<pre><code>{\n  \"status\": \"DOWN\",\n  \"diskSpace\": {\n    \"status\": \"UP\",\n    \"total\": 999324516352,\n    \"free\": 691261681664,\n    \"threshold\": 10485760\n  },\n  \"redis\": {\n    \"status\": \"DOWN\",\n    \"error\": \"org.springframework.data.redis.RedisConnectionFailureException: java.net.SocketTimeoutException: Read timed out; nested exception is redis.clients.jedis.exceptions.JedisConnectionException: java.net.SocketTimeoutException: Read timed out\"\n  }\n}\n</code></pre>\n\n<p>I added the following to my Spring Boot application class:</p>\n\n<pre><code>@Bean\nJedisConnectionFactory jedisConnectionFactory() {\n    return new JedisConnectionFactory();\n}\n\n@Bean\npublic RedisTemplate&lt;String, Object&gt; redisTemplate() {\n    RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;String, Object&gt;();\n    template.setConnectionFactory(jedisConnectionFactory());\n    return template;\n}\n</code></pre>\n\n<p>I also tried adding the following to my <code>@RestController</code> before executing some test Redis code, but I get the same error as above in the stack trace:</p>\n\n<pre><code>@Autowired\nprivate RedisTemplate&lt;String, String&gt; redisTemplate;\n</code></pre>\n\n<p><strong>Edit</strong> (2017-05-09)\nMy understanding is that Spring Boot Redis starter assumes the default values of <code>spring.redis.host=localhost</code> and <code>spring.redis.port=6379</code>, I still added the two to <code>application.properties</code>, but that did not fill the gap.</p>\n\n<p><strong>Update</strong> (2017-05-10)\nI added an answer to this thread.</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":5218565,"reputation":1034,"user_id":6540591,"display_name":"User51"},"score":0,"creation_date":1674658656,"post_id":75196524,"comment_id":132761869,"body_markdown":"Would something like this do it for you, to exclude/include what you dont/do want?  https://stackoverflow.com/questions/19575474/gradle-how-to-exclude-a-particular-package-from-a-jar","body":"Would something like this do it for you, to exclude/include what you dont/do want?  <a href=\"https://stackoverflow.com/questions/19575474/gradle-how-to-exclude-a-particular-package-from-a-jar\" title=\"gradle how to exclude a particular package from a jar\">stackoverflow.com/questions/19575474/&hellip;</a>"},{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":0,"creation_date":1674663457,"post_id":75196524,"comment_id":132763674,"body_markdown":"Will check jar and sourceSets but I think it focus on what not to pack. In case of gradle dependency (or .aar file), we already have a compiled packaged jar (classes.jar) file.","body":"Will check jar and sourceSets but I think it focus on what not to pack. In case of gradle dependency (or .aar file), we already have a compiled packaged jar (classes.jar) file."}],"answers":[{"tags":[],"owner":{"account_id":2337701,"reputation":840,"user_id":2049647,"display_name":"ATutorMe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675232114,"creation_date":1675232114,"answer_id":75306293,"question_id":75196524,"body_markdown":"Using gradle constraints might be the answer: https://docs.gradle.org/current/userguide/dependency_constraints.html#sec:adding-constraints-transitive-deps\r\n\r\n\r\nYou could then have your fixed version of the library in `mavenLocal`, your own private Nexus repo, or a `libs` directory and specify the version number of your fixed version in the constraint.","title":"How to exclude a file when including any dependency or replace the file during packaging?","body":"<p>Using gradle constraints might be the answer: <a href=\"https://docs.gradle.org/current/userguide/dependency_constraints.html#sec:adding-constraints-transitive-deps\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/dependency_constraints.html#sec:adding-constraints-transitive-deps</a></p>\n<p>You could then have your fixed version of the library in <code>mavenLocal</code>, your own private Nexus repo, or a <code>libs</code> directory and specify the version number of your fixed version in the constraint.</p>\n"},{"comments":[{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":1,"creation_date":1675259445,"post_id":75307423,"comment_id":132889678,"body_markdown":"This can solve. However, their are few disadvantages. 1. It will looks like its your code. 2. Updating the library at the same time could be tedious. In case if somebody made some changes in the module file. We need to keep track of it.","body":"This can solve. However, their are few disadvantages. 1. It will looks like its your code. 2. Updating the library at the same time could be tedious. In case if somebody made some changes in the module file. We need to keep track of it."}],"tags":[],"owner":{"account_id":1940329,"reputation":380,"user_id":1746655,"display_name":"MisterAnt"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675240413,"creation_date":1675240413,"answer_id":75307423,"question_id":75196524,"body_markdown":"For me the best solution is modify the problem library.\r\n\r\nSTEPS:\r\n\r\n1. Clone the library.\r\n\r\n2. Use like local module in your app.\r\n\r\n3. Keep the package name and fix the bugs.\r\n\r\nPROBLEM SOLVED!\r\n\r\n","title":"How to exclude a file when including any dependency or replace the file during packaging?","body":"<p>For me the best solution is modify the problem library.</p>\n<p>STEPS:</p>\n<ol>\n<li><p>Clone the library.</p>\n</li>\n<li><p>Use like local module in your app.</p>\n</li>\n<li><p>Keep the package name and fix the bugs.</p>\n</li>\n</ol>\n<p>PROBLEM SOLVED!</p>\n"}],"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":203,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1675240413,"creation_date":1674334782,"question_id":75196524,"body_markdown":"I am using a third-party dependency which doesn&#39;t handle a special use case and is been crashing on multi-process applications. \r\n\r\nIs there any way we can remove the file during packaging so that we can create and put a new fixed file in the application code with the same package name as of third party? \r\n\r\nIf we are not removing the original file from the third-party dependency, we are getting multiple files defined in different dex. Is there any way to remove the original file from external dependency or replace the file during packaging? \r\n\r\nI have tried the same using \r\n\r\n[ResolutionStrategy][1]: This doesn&#39;t support file-level changes.\r\n\r\n[DuplicatesStrategy][2]: Not able to get enough resources to solve the requirement.\r\n\r\n\r\nThere can be the solution of downloading the `.aar` or `.jar` file and manually removing the file and then repackaging it. But looking forward to knowing if there is any direct solution that gradle or any other tool support this context.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.ResolutionStrategy.html\r\n  [2]: https://docs.gradle.org/current/javadoc/org/gradle/api/file/DuplicatesStrategy.html","title":"How to exclude a file when including any dependency or replace the file during packaging?","body":"<p>I am using a third-party dependency which doesn't handle a special use case and is been crashing on multi-process applications.</p>\n<p>Is there any way we can remove the file during packaging so that we can create and put a new fixed file in the application code with the same package name as of third party?</p>\n<p>If we are not removing the original file from the third-party dependency, we are getting multiple files defined in different dex. Is there any way to remove the original file from external dependency or replace the file during packaging?</p>\n<p>I have tried the same using</p>\n<p><a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.artifacts.ResolutionStrategy.html\" rel=\"nofollow noreferrer\">ResolutionStrategy</a>: This doesn't support file-level changes.</p>\n<p><a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/file/DuplicatesStrategy.html\" rel=\"nofollow noreferrer\">DuplicatesStrategy</a>: Not able to get enough resources to solve the requirement.</p>\n<p>There can be the solution of downloading the <code>.aar</code> or <code>.jar</code> file and manually removing the file and then repackaging it. But looking forward to knowing if there is any direct solution that gradle or any other tool support this context.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"comments":[{"owner":{"account_id":14688781,"reputation":143,"user_id":10608027,"display_name":"Sky Tracker"},"score":0,"creation_date":1541440162,"post_id":53156370,"comment_id":93209647,"body_markdown":"Thank for the answer, I try your solution.","body":"Thank for the answer, I try your solution."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1541441052,"post_id":53156370,"comment_id":93210031,"body_markdown":"Ok, keep me posted.","body":"Ok, keep me posted."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1541490260,"post_id":53156370,"comment_id":93225045,"body_markdown":"Hi Sky! Have you tried my solution above, does it work?","body":"Hi Sky! Have you tried my solution above, does it work?"},{"owner":{"account_id":960314,"reputation":20995,"user_id":984830,"accept_rate":93,"display_name":"Nick Cardoso"},"score":0,"creation_date":1541755534,"post_id":53156370,"comment_id":93332750,"body_markdown":"This answer is incomplete as it misses a big point (the date solves the issue, but doesn&#39;t explain [*why* the behaviour happens](https://stackoverflow.com/a/48491561/984830)).\n\nThe snapshot provides data from the local cache as well as mutations from the remote. So if you only wan&#39;t changes (implying this is a repeated query) it&#39;s not fetching (and charging for) everything again. It&#39;s getting just the mutations as expected, you just have to handle it appropriately.","body":"This answer is incomplete as it misses a big point (the date solves the issue, but doesn&#39;t explain <a href=\"https://stackoverflow.com/a/48491561/984830\"><i>why</i> the behaviour happens</a>).  The snapshot provides data from the local cache as well as mutations from the remote. So if you only wan&#39;t changes (implying this is a repeated query) it&#39;s not fetching (and charging for) everything again. It&#39;s getting just the mutations as expected, you just have to handle it appropriately."},{"owner":{"account_id":3887321,"reputation":956,"user_id":3218362,"display_name":"Raj"},"score":0,"creation_date":1546861415,"post_id":53156370,"comment_id":94980293,"body_markdown":"Hi @AlexMamo,thanks, do you have any other solution for this, it is not working in my case : https://stackoverflow.com/questions/54073457/how-to-ignore-the-first-playload-of-addsnapshotlistener-in-firestore-for-android?noredirect=1#comment94979831_54073457","body":"Hi @AlexMamo,thanks, do you have any other solution for this, it is not working in my case : <a href=\"https://stackoverflow.com/questions/54073457/how-to-ignore-the-first-playload-of-addsnapshotlistener-in-firestore-for-android?noredirect=1#comment94979831_54073457\" title=\"how to ignore the first playload of addsnapshotlistener in firestore for android\">stackoverflow.com/questions/54073457/&hellip;</a>"},{"owner":{"account_id":2089941,"reputation":2087,"user_id":3097425,"accept_rate":55,"display_name":"C&#237;cero Moura"},"score":0,"creation_date":1620087539,"post_id":53156370,"comment_id":119092333,"body_markdown":"I&#39;m using this approach, but I do not get the REMOVED change type when the listener starts fro the first time.","body":"I&#39;m using this approach, but I do not get the REMOVED change type when the listener starts fro the first time."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1620118935,"post_id":53156370,"comment_id":119099748,"body_markdown":"@C&#237;ceroMoura Without seeing your code, it&#39;s hard to say why you have that behavior. So please post a new question using its own [MCVE](https://stackoverflow.com/help/mcve), so I and other Firebase developers can help you.","body":"@C&#237;ceroMoura Without seeing your code, it&#39;s hard to say why you have that behavior. So please post a new question using its own <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>, so I and other Firebase developers can help you."},{"owner":{"account_id":2089941,"reputation":2087,"user_id":3097425,"accept_rate":55,"display_name":"C&#237;cero Moura"},"score":0,"creation_date":1620345672,"post_id":53156370,"comment_id":119180946,"body_markdown":"@AlexMamo, here is my question: https://stackoverflow.com/questions/67427355/firestore-does-not-notify-remove-change-type-when-querying-documents","body":"@AlexMamo, here is my question: <a href=\"https://stackoverflow.com/questions/67427355/firestore-does-not-notify-remove-change-type-when-querying-documents\" title=\"firestore does not notify remove change type when querying documents\">stackoverflow.com/questions/67427355/&hellip;</a>"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":8,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1541756770,"creation_date":1541428149,"answer_id":53156370,"question_id":53156109,"body_markdown":"When you are listening for changes in Cloud Firestore for realtime changes, using Firestore Query&#39;s [addSnapshotListener()](https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query.html#addSnapshotListener(com.google.firebase.firestore.EventListener%3Ccom.google.firebase.firestore.QuerySnapshot%3E)) method, it:\r\n\r\n&gt; Starts listening to this query.\r\n\r\nWhich basically means that first time you attach the listener, you get all documents that correspond to that particular query. Furthermore, everytime a property within a document changes, you are notified according to that change. Obviously, this is happening only if the listener remains active and is not removed.\r\n\r\nUnfortunately, Firestore listeners don&#39;t work that way, so you cannot skip that &quot;case ADDED&quot;. What you can do instead, is to add add under each user object a `Date` property (**[this](https://stackoverflow.com/questions/48474957/servertimestamp-is-allways-null-on-firebase-firestore/48475027)** is how you can add it) and query your database on client, according to this new property, for all documents that have changed since a previous time.\r\n\r\nAccording to Nick Cardoso&#39;s comment, for future visitors that might ask why this behaviour happens, is because the reason he mentioned in his comment. I also recommend see Doug Stevenson&#39;s answer from this [post](https://stackoverflow.com/questions/48489895/firestore-query-reads-all-the-documents-again-from-database-when-only-one-is-m/48491561#48491561), for a better understanding.","title":"How to skip initial data and trigger only new updates in Firestore Firebase?","body":"<p>When you are listening for changes in Cloud Firestore for realtime changes, using Firestore Query's <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query.html#addSnapshotListener(com.google.firebase.firestore.EventListener%3Ccom.google.firebase.firestore.QuerySnapshot%3E)\" rel=\"noreferrer\">addSnapshotListener()</a> method, it:</p>\n\n<blockquote>\n  <p>Starts listening to this query.</p>\n</blockquote>\n\n<p>Which basically means that first time you attach the listener, you get all documents that correspond to that particular query. Furthermore, everytime a property within a document changes, you are notified according to that change. Obviously, this is happening only if the listener remains active and is not removed.</p>\n\n<p>Unfortunately, Firestore listeners don't work that way, so you cannot skip that \"case ADDED\". What you can do instead, is to add add under each user object a <code>Date</code> property (<strong><a href=\"https://stackoverflow.com/questions/48474957/servertimestamp-is-allways-null-on-firebase-firestore/48475027\">this</a></strong> is how you can add it) and query your database on client, according to this new property, for all documents that have changed since a previous time.</p>\n\n<p>According to Nick Cardoso's comment, for future visitors that might ask why this behaviour happens, is because the reason he mentioned in his comment. I also recommend see Doug Stevenson's answer from this <a href=\"https://stackoverflow.com/questions/48489895/firestore-query-reads-all-the-documents-again-from-database-when-only-one-is-m/48491561#48491561\">post</a>, for a better understanding.</p>\n"},{"comments":[{"owner":{"account_id":8075635,"reputation":2057,"user_id":6086782,"display_name":"varun"},"score":0,"creation_date":1603351103,"post_id":54074967,"comment_id":114010837,"body_markdown":"The AtomicBoolean you use is as good as a default volatile boolean value, because you are not using any special atomic methods of the class, so this code does not prevent race conditions during any parallel executions! Refer: https://stackoverflow.com/a/39352047/6086782","body":"The AtomicBoolean you use is as good as a default volatile boolean value, because you are not using any special atomic methods of the class, so this code does not prevent race conditions during any parallel executions! Refer: <a href=\"https://stackoverflow.com/a/39352047/6086782\">stackoverflow.com/a/39352047/6086782</a>"},{"owner":{"account_id":8075635,"reputation":2057,"user_id":6086782,"display_name":"varun"},"score":1,"creation_date":1603351114,"post_id":54074967,"comment_id":114010844,"body_markdown":"Note: This solution is very very superficial, all it is doing is ignoring the first fetch of data using an (if...else) statement. The only solution to the OP&#39;s question is to wait for the firestore team to give us an API which can make the initial snapshot optional.","body":"Note: This solution is very very superficial, all it is doing is ignoring the first fetch of data using an (if...else) statement. The only solution to the OP&#39;s question is to wait for the firestore team to give us an API which can make the initial snapshot optional."}],"tags":[],"owner":{"account_id":3887321,"reputation":956,"user_id":3218362,"display_name":"Raj"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1546866189,"creation_date":1546866189,"answer_id":54074967,"question_id":53156109,"body_markdown":"Here is a solution working for me:\r\nuse\r\n\r\n  [1]: https://stackoverflow.com/a/49804089\r\n\r\n    AtomicBoolean isFirstListener = new AtomicBoolean(true);\r\nand then on event method\r\n\r\n    if (isFirstListener.get()) {\r\n                        isFirstListener.set(false);\r\n                        //TODO Handle the entire list. \r\n                        return;\r\n                    }\r\n\r\nHere is a sample code from my project:\r\n\r\n   \r\n\r\n     final AtomicBoolean isFirstListener = new AtomicBoolean(true);\r\n     mDb.collection(&quot;conversation_log&quot;).document(room_id).collection(&quot;messages&quot;).orderBy(&quot;sent_at&quot;)\r\n        .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n            @Override\r\n            public void onEvent(@Nullable QuerySnapshot value2, @Nullable FirebaseFirestoreException e) {\r\n            if (isFirstListener.get()) {\r\n                isFirstListener.set(false);\r\n                //TODO Handle the entire list.\r\n                return;\r\n            }\r\n        }\r\n    });\r\n\r\nreference: [answer][1]","title":"How to skip initial data and trigger only new updates in Firestore Firebase?","body":"<p>Here is a solution working for me:\nuse</p>\n\n<pre><code>AtomicBoolean isFirstListener = new AtomicBoolean(true);\n</code></pre>\n\n<p>and then on event method</p>\n\n<pre><code>if (isFirstListener.get()) {\n                    isFirstListener.set(false);\n                    //TODO Handle the entire list. \n                    return;\n                }\n</code></pre>\n\n<p>Here is a sample code from my project:</p>\n\n<pre><code> final AtomicBoolean isFirstListener = new AtomicBoolean(true);\n mDb.collection(\"conversation_log\").document(room_id).collection(\"messages\").orderBy(\"sent_at\")\n    .addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n        @Override\n        public void onEvent(@Nullable QuerySnapshot value2, @Nullable FirebaseFirestoreException e) {\n        if (isFirstListener.get()) {\n            isFirstListener.set(false);\n            //TODO Handle the entire list.\n            return;\n        }\n    }\n});\n</code></pre>\n\n<p>reference: <a href=\"https://stackoverflow.com/a/49804089\">answer</a></p>\n"},{"comments":[{"owner":{"account_id":1185980,"reputation":2864,"user_id":1159930,"accept_rate":50,"display_name":"Markymark"},"score":0,"creation_date":1608854355,"post_id":57403486,"comment_id":115702623,"body_markdown":"Thank you! This should be the accepted solution!","body":"Thank you! This should be the accepted solution!"},{"owner":{"account_id":9862925,"reputation":960,"user_id":7305269,"accept_rate":56,"display_name":"Ian W"},"score":0,"creation_date":1613082521,"post_id":57403486,"comment_id":116974694,"body_markdown":"Although this didn&#39;t really work for me, I thought I would mention that this is now done in the following way `snapshot.metadata.fromCache` as the API has changed.","body":"Although this didn&#39;t really work for me, I thought I would mention that this is now done in the following way <code>snapshot.metadata.fromCache</code> as the API has changed."},{"owner":{"account_id":1426616,"reputation":67,"user_id":1349950,"accept_rate":67,"display_name":"Ghelle"},"score":0,"creation_date":1639765507,"post_id":57403486,"comment_id":124440810,"body_markdown":"Thanks a lot! Short and very useful solution! This helps to not mess up the code with booleans fields, showing if it is the first run.","body":"Thanks a lot! Short and very useful solution! This helps to not mess up the code with booleans fields, showing if it is the first run."}],"tags":[],"owner":{"account_id":8614338,"reputation":480,"user_id":6451794,"display_name":"Artur Gniewowski"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1565221344,"creation_date":1565221344,"answer_id":57403486,"question_id":53156109,"body_markdown":"There is an option to check if the querySnapshot is from a cache, changes return false\r\n```\r\nif(querySnapshot.getMetadata().isFromCache()) return\r\n```","title":"How to skip initial data and trigger only new updates in Firestore Firebase?","body":"<p>There is an option to check if the querySnapshot is from a cache, changes return false</p>\n\n<pre><code>if(querySnapshot.getMetadata().isFromCache()) return\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18674578,"reputation":1,"user_id":13612531,"display_name":"akshit tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675239105,"creation_date":1675239105,"answer_id":75307187,"question_id":53156109,"body_markdown":"Found a work around for this given use case, it is possible to skip the initial data and get only updates. The workaround is including a server timestamp in your structure and build your query to fetch only the data that has timestamp greater than the current time.\r\n\r\n    val ref = db.collection(&quot;Messages&quot;).document(&quot;Client_ID&quot;)\r\n            .collection(&quot;Private&quot;)\r\n            .orderBy(&quot;timestamp&quot;)\r\n            .whereGreaterThan(&quot;timestamp&quot;,Calendar.getInstance().time)\r\n\r\n    //Add snapshot listener\r\n    ref.addSnapshotListener { snapshot , e -&gt;\r\n                if (snapshot != null) {\r\n                    Log.d(&quot;TAG&quot;, &quot;Current data: ${snapshot.documents.size}&quot;)\r\n                    for(document in snapshot.documents){\r\n                        Log.e(&quot;Document Data&quot;,document.data.toString())\r\n                    }\r\n                }\r\n            }\r\n\r\nSo, the query won&#39;t return any data in the initial build, but will listen to the document changes. As soon as timestamp of a document changes, you&#39;ll be notified about that change. Then you can check if the data exists in your list (if you&#39;re looking for modifications, or if it&#39;s a new document added)\r\n\r\nJust update timestamp of the document when your write any changes. As shown below :\r\n\r\n    val message = hashMapOf&lt;String,Any&gt;(\r\n            &quot;timestamp&quot; to FieldValue.serverTimestamp(),\r\n            &quot;id&quot; to userId,\r\n            &quot;data&quot; to data,\r\n        )\r\n    db.collection(&quot;Messages&quot;).document(&quot;Client_ID&quot;)\r\n            .collection(&quot;Private&quot;)\r\n            .document().set(message)\r\n\r\n","title":"How to skip initial data and trigger only new updates in Firestore Firebase?","body":"<p>Found a work around for this given use case, it is possible to skip the initial data and get only updates. The workaround is including a server timestamp in your structure and build your query to fetch only the data that has timestamp greater than the current time.</p>\n<pre><code>val ref = db.collection(&quot;Messages&quot;).document(&quot;Client_ID&quot;)\n        .collection(&quot;Private&quot;)\n        .orderBy(&quot;timestamp&quot;)\n        .whereGreaterThan(&quot;timestamp&quot;,Calendar.getInstance().time)\n\n//Add snapshot listener\nref.addSnapshotListener { snapshot , e -&gt;\n            if (snapshot != null) {\n                Log.d(&quot;TAG&quot;, &quot;Current data: ${snapshot.documents.size}&quot;)\n                for(document in snapshot.documents){\n                    Log.e(&quot;Document Data&quot;,document.data.toString())\n                }\n            }\n        }\n</code></pre>\n<p>So, the query won't return any data in the initial build, but will listen to the document changes. As soon as timestamp of a document changes, you'll be notified about that change. Then you can check if the data exists in your list (if you're looking for modifications, or if it's a new document added)</p>\n<p>Just update timestamp of the document when your write any changes. As shown below :</p>\n<pre><code>val message = hashMapOf&lt;String,Any&gt;(\n        &quot;timestamp&quot; to FieldValue.serverTimestamp(),\n        &quot;id&quot; to userId,\n        &quot;data&quot; to data,\n    )\ndb.collection(&quot;Messages&quot;).document(&quot;Client_ID&quot;)\n        .collection(&quot;Private&quot;)\n        .document().set(message)\n</code></pre>\n"}],"owner":{"account_id":14688781,"reputation":143,"user_id":10608027,"display_name":"Sky Tracker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6124,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":53156370,"answer_count":4,"score":10,"last_activity_date":1675239105,"creation_date":1541427223,"question_id":53156109,"body_markdown":"I&#39;ve searched everywhere with no luck. I want to query Firestore to get all users WHERE type is admin. Something like:\r\n\r\n    SELECT * FROM users WHERE type=admin\r\n\r\nbut **only** when the property `total` is changing. If I&#39;m using:\r\n\r\n    users.whereEqualTo(&quot;type&quot;, &quot;admin&quot;).addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onEvent(@Nullable QuerySnapshot snapshots, @Nullable FirebaseFirestoreException e) {\r\n            for (DocumentChange dc : snapshots.getDocumentChanges()) {\r\n                switch (dc.getType()) {\r\n                    case ADDED:\r\n                        //Not trigger\r\n                        break;\r\n                    case MODIFIED:\r\n                        //Trigger\r\n                        break;\r\n                    case REMOVED:\r\n                        //\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\nThe case ADDED is triggered first time when I query and when the `total` is changed `case MODIFIED` is triggered again (this is what is want). I want only changes and not the all initial data, I don&#39;t need it. How to get it?\r\n\r\nPlease help me, is the last part of my project. How to skip is `case ADDED`?","title":"How to skip initial data and trigger only new updates in Firestore Firebase?","body":"<p>I've searched everywhere with no luck. I want to query Firestore to get all users WHERE type is admin. Something like:</p>\n\n<pre><code>SELECT * FROM users WHERE type=admin\n</code></pre>\n\n<p>but <strong>only</strong> when the property <code>total</code> is changing. If I'm using:</p>\n\n<pre><code>users.whereEqualTo(\"type\", \"admin\").addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onEvent(@Nullable QuerySnapshot snapshots, @Nullable FirebaseFirestoreException e) {\n        for (DocumentChange dc : snapshots.getDocumentChanges()) {\n            switch (dc.getType()) {\n                case ADDED:\n                    //Not trigger\n                    break;\n                case MODIFIED:\n                    //Trigger\n                    break;\n                case REMOVED:\n                    //\n                    break;\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>The case ADDED is triggered first time when I query and when the <code>total</code> is changed <code>case MODIFIED</code> is triggered again (this is what is want). I want only changes and not the all initial data, I don't need it. How to get it?</p>\n\n<p>Please help me, is the last part of my project. How to skip is <code>case ADDED</code>?</p>\n"},{"tags":["java","vaadin","vaadin8","vaadin-charts"],"answers":[{"tags":[],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675238091,"creation_date":1675238091,"answer_id":75307067,"question_id":75299580,"body_markdown":"After quite some time I found the answer, I had to set the label formatting function in the `PlotOptionsPie` object:\r\n\r\n    PlotOptionsPie plot = new PlotOptionsPie();\r\n    plot.setInnerSize(&quot;60%&quot;);  // hollow inside -&gt; &quot;donut&quot; chart\r\n    plot.getDataLabels().setFormatter(&quot;function() { return this.point.name + &#39; sample&#39;; }&quot;);\r\n    chart.getConfiguration().setPlotOptions(plot);\r\n\r\nThe result:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SYdGd.png","title":"Vaadin pie chart label formatter not working","body":"<p>After quite some time I found the answer, I had to set the label formatting function in the <code>PlotOptionsPie</code> object:</p>\n<pre><code>PlotOptionsPie plot = new PlotOptionsPie();\nplot.setInnerSize(&quot;60%&quot;);  // hollow inside -&gt; &quot;donut&quot; chart\nplot.getDataLabels().setFormatter(&quot;function() { return this.point.name + ' sample'; }&quot;);\nchart.getConfiguration().setPlotOptions(plot);\n</code></pre>\n<p>The result:</p>\n<p><a href=\"https://i.stack.imgur.com/SYdGd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYdGd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675238091,"creation_date":1675179844,"question_id":75299580,"body_markdown":"I have a chart in Vaadin 8 with the following formatter for y axis labels:\r\n\r\n    chart.getConfiguration().getyAxis().getLabels()\r\n        .setFormatter(&quot;function() { return this.point.name + &#39; sample&#39;; }&quot;);\r\n\r\nI can&#39;t seem to get it to work correctly, as the chart always displays *only* the `point.name` part and not the `&#39; sample&#39;` part. I did the same for the tooltip where it works:\r\n\r\n    chart.getConfiguration().getTooltip()\r\n            .setFormatter(&quot;function() { return this.point.name + &#39; sample&#39;; }&quot;);\r\n\r\nScreenshot for confirmation:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zQxD0.png","title":"Vaadin pie chart label formatter not working","body":"<p>I have a chart in Vaadin 8 with the following formatter for y axis labels:</p>\n<pre><code>chart.getConfiguration().getyAxis().getLabels()\n    .setFormatter(&quot;function() { return this.point.name + ' sample'; }&quot;);\n</code></pre>\n<p>I can't seem to get it to work correctly, as the chart always displays <em>only</em> the <code>point.name</code> part and not the <code>' sample'</code> part. I did the same for the tooltip where it works:</p>\n<pre><code>chart.getConfiguration().getTooltip()\n        .setFormatter(&quot;function() { return this.point.name + ' sample'; }&quot;);\n</code></pre>\n<p>Screenshot for confirmation:\n<a href=\"https://i.stack.imgur.com/zQxD0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zQxD0.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","list","sorting","dynamic","hashmap"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1675086039,"post_id":75285176,"comment_id":132846429,"body_markdown":"No one can help you if you don&#39;t outline what you&#39;re actually trying to do. Namely an example Map showing the difficulty you&#39;re having / example data.","body":"No one can help you if you don&#39;t outline what you&#39;re actually trying to do. Namely an example Map showing the difficulty you&#39;re having / example data."},{"owner":{"account_id":4029950,"reputation":621,"user_id":4511243,"accept_rate":61,"display_name":"Frank"},"score":0,"creation_date":1675087554,"post_id":75285176,"comment_id":132846960,"body_markdown":"You are right, sorry I did not add an example immediately. I added an example Map in json format to make it more readable.","body":"You are right, sorry I did not add an example immediately. I added an example Map in json format to make it more readable."},{"owner":{"account_id":4029950,"reputation":621,"user_id":4511243,"accept_rate":61,"display_name":"Frank"},"score":0,"creation_date":1675087744,"post_id":75285176,"comment_id":132847028,"body_markdown":"Sorry maybe I did not make it clear. I have a list of fields and I want to sort my maps based on the order of those fields. So for example first on destination, and then for maps with same destination, sort by speed, and so on.","body":"Sorry maybe I did not make it clear. I have a list of fields and I want to sort my maps based on the order of those fields. So for example first on destination, and then for maps with same destination, sort by speed, and so on."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675088947,"creation_date":1675088947,"answer_id":75285823,"question_id":75285176,"body_markdown":"I would change the approach. Instead of chaining `thenComparing()`, write a normal Comparator implementation, depending on the list of fields.\r\n```\r\npublic class MapComparator implements Comparator&lt;Map&lt;String, Object&gt;&gt; {\r\n\r\n  private final List&lt;String&gt; fields;\r\n\r\n  public MapComparator(List&lt;String&gt; fields) {\r\n    this.fields = fields;\r\n  }\r\n\r\n  @Override\r\n  public int compare(Map&lt;String, Object&gt; map1, Map&lt;String, Object&gt; map2) {\r\n    for (String field : this.fields) {\r\n      Object value1 = map1.get(field);\r\n      Object value2 = map2.get(field);\r\n      //don&#39;t forget to handle nulls, if applicable\r\n      int cmp;\r\n      if (value1 instanceof Comparable comparable) {\r\n        cmp = comparable.compareTo(value2);\r\n      } else {\r\n        cmp = // deal with non-Comparable types, if there are such\r\n        // may make them implement Comparable, if they are custom\r\n        // or depend on Comparators\r\n      }\r\n      if (cmp != 0) {\r\n        return cmp;\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n```\r\nOr even better, make a custom class to represent the elements. Then map fields names (String) to Comparator functions using the particular field.\r\n```\r\npublic class MyClassComparator implements Comparator&lt;MyClassA&gt; {\r\n\r\n  private final List&lt;String&gt; fields;\r\n  private final Map&lt;String, Comparator&lt;MyClassA&gt;&gt; map;\r\n\r\n  public MyClassComparator(List&lt;String&gt; fields, Map&lt;String, Comparator&lt;MyClassA&gt;&gt; map) {\r\n    this.fields = fields;\r\n    this.map = map;\r\n  }\r\n\r\n  @Override\r\n  public int compare(MyClassA o1, MyClassA o2) {\r\n    for (String field : this.fields) {\r\n      int cmp = this.map.get(field).compare(o1, o2);\r\n      if (cmp != 0) {\r\n        return cmp;\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n}\r\n```\r\nYou can also make the map static, since most probably it will never change once intialized.","title":"Sort list of map items based on unknown list of fields","body":"<p>I would change the approach. Instead of chaining <code>thenComparing()</code>, write a normal Comparator implementation, depending on the list of fields.</p>\n<pre><code>public class MapComparator implements Comparator&lt;Map&lt;String, Object&gt;&gt; {\n\n  private final List&lt;String&gt; fields;\n\n  public MapComparator(List&lt;String&gt; fields) {\n    this.fields = fields;\n  }\n\n  @Override\n  public int compare(Map&lt;String, Object&gt; map1, Map&lt;String, Object&gt; map2) {\n    for (String field : this.fields) {\n      Object value1 = map1.get(field);\n      Object value2 = map2.get(field);\n      //don't forget to handle nulls, if applicable\n      int cmp;\n      if (value1 instanceof Comparable comparable) {\n        cmp = comparable.compareTo(value2);\n      } else {\n        cmp = // deal with non-Comparable types, if there are such\n        // may make them implement Comparable, if they are custom\n        // or depend on Comparators\n      }\n      if (cmp != 0) {\n        return cmp;\n      }\n    }\n    return 0;\n  }\n}\n</code></pre>\n<p>Or even better, make a custom class to represent the elements. Then map fields names (String) to Comparator functions using the particular field.</p>\n<pre><code>public class MyClassComparator implements Comparator&lt;MyClassA&gt; {\n\n  private final List&lt;String&gt; fields;\n  private final Map&lt;String, Comparator&lt;MyClassA&gt;&gt; map;\n\n  public MyClassComparator(List&lt;String&gt; fields, Map&lt;String, Comparator&lt;MyClassA&gt;&gt; map) {\n    this.fields = fields;\n    this.map = map;\n  }\n\n  @Override\n  public int compare(MyClassA o1, MyClassA o2) {\n    for (String field : this.fields) {\n      int cmp = this.map.get(field).compare(o1, o2);\n      if (cmp != 0) {\n        return cmp;\n      }\n    }\n    return 0;\n  }\n}\n</code></pre>\n<p>You can also make the map static, since most probably it will never change once intialized.</p>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675091909,"creation_date":1675091277,"answer_id":75286284,"question_id":75285176,"body_markdown":"You could create all possible comparators and store them in a map using your field names as keys and then depending on the input you could combine the comparators needed. An example method:\r\n\r\n    static void sortBy(List&lt;Map&lt;String, Object&gt;&gt; maps, List&lt;String&gt; sortOrder) {\r\n        Comparator&lt;Map&lt;String, Object&gt;&gt; byDest   = Comparator.comparing(m -&gt; (String) m.get(&quot;destination&quot;));\r\n        Comparator&lt;Map&lt;String, Object&gt;&gt; byOrigin = Comparator.comparing(m -&gt; (String) m.get(&quot;origin&quot;));\r\n        Comparator&lt;Map&lt;String, Object&gt;&gt; byModel  = Comparator.comparing(m -&gt; (String) m.get(&quot;model&quot;));\r\n        Comparator&lt;Map&lt;String, Object&gt;&gt; byId     = Comparator.comparing(m -&gt; (long)   m.get(&quot;id&quot;));\r\n        Comparator&lt;Map&lt;String, Object&gt;&gt; bySpeed  = Comparator.comparing(m -&gt; (double) m.get(&quot;speed&quot;));\r\n        Comparator&lt;Map&lt;String, Object&gt;&gt; byAlt    = Comparator.comparing(m -&gt; (int)    m.get(&quot;altitude&quot;));\r\n        Comparator&lt;Map&lt;String, Object&gt;&gt; byTime   = Comparator.comparing(m -&gt; (String) m.get(&quot;time&quot;));\r\n\r\n        Map&lt;String, Comparator&lt;Map&lt;String, Object&gt;&gt;&gt; compMap = Map.of(\r\n                &quot;destination&quot;, byDest,\r\n                &quot;origin&quot;, byOrigin,\r\n                &quot;model&quot;, byModel,\r\n                &quot;id&quot;, byId,\r\n                &quot;speed&quot;, bySpeed,\r\n                &quot;altitude&quot;, byAlt,\r\n                &quot;time&quot;, byTime);\r\n\r\n        Comparator&lt;Map&lt;String, Object&gt;&gt; combined = sortOrder.stream().map(compMap::get).reduce(Comparator::thenComparing).get();\r\n\r\n        maps.sort(combined);\r\n    }\r\n\r\nassuming you have your map and the sort order in a list of strings:\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; yourListOfMaps = ...\r\n    List&lt;String&gt; sortByFields = List.of(&quot;destination&quot;, &quot;origin&quot;, &quot;speed&quot;);\r\n\r\nuse it as:\r\n\r\n    sortBy(yourListOfMaps, sortByFields);\r\n\r\nIf the list of sort orders is empty you&#39;ll get a `NoSuchElementException`. To avoid this you could define a default comparator instead of calling get blindly on the optional returned from reduce. For example `byId`\r\n \r\n\r\n    Comparator&lt;Map&lt;String, Object&gt;&gt; combined = sortOrder.stream()\r\n                                                        .map(compMap::get)\r\n                                                        .reduce(Comparator::thenComparing)\r\n                                                        .orElse(byId);","title":"Sort list of map items based on unknown list of fields","body":"<p>You could create all possible comparators and store them in a map using your field names as keys and then depending on the input you could combine the comparators needed. An example method:</p>\n<pre><code>static void sortBy(List&lt;Map&lt;String, Object&gt;&gt; maps, List&lt;String&gt; sortOrder) {\n    Comparator&lt;Map&lt;String, Object&gt;&gt; byDest   = Comparator.comparing(m -&gt; (String) m.get(&quot;destination&quot;));\n    Comparator&lt;Map&lt;String, Object&gt;&gt; byOrigin = Comparator.comparing(m -&gt; (String) m.get(&quot;origin&quot;));\n    Comparator&lt;Map&lt;String, Object&gt;&gt; byModel  = Comparator.comparing(m -&gt; (String) m.get(&quot;model&quot;));\n    Comparator&lt;Map&lt;String, Object&gt;&gt; byId     = Comparator.comparing(m -&gt; (long)   m.get(&quot;id&quot;));\n    Comparator&lt;Map&lt;String, Object&gt;&gt; bySpeed  = Comparator.comparing(m -&gt; (double) m.get(&quot;speed&quot;));\n    Comparator&lt;Map&lt;String, Object&gt;&gt; byAlt    = Comparator.comparing(m -&gt; (int)    m.get(&quot;altitude&quot;));\n    Comparator&lt;Map&lt;String, Object&gt;&gt; byTime   = Comparator.comparing(m -&gt; (String) m.get(&quot;time&quot;));\n\n    Map&lt;String, Comparator&lt;Map&lt;String, Object&gt;&gt;&gt; compMap = Map.of(\n            &quot;destination&quot;, byDest,\n            &quot;origin&quot;, byOrigin,\n            &quot;model&quot;, byModel,\n            &quot;id&quot;, byId,\n            &quot;speed&quot;, bySpeed,\n            &quot;altitude&quot;, byAlt,\n            &quot;time&quot;, byTime);\n\n    Comparator&lt;Map&lt;String, Object&gt;&gt; combined = sortOrder.stream().map(compMap::get).reduce(Comparator::thenComparing).get();\n\n    maps.sort(combined);\n}\n</code></pre>\n<p>assuming you have your map and the sort order in a list of strings:</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; yourListOfMaps = ...\nList&lt;String&gt; sortByFields = List.of(&quot;destination&quot;, &quot;origin&quot;, &quot;speed&quot;);\n</code></pre>\n<p>use it as:</p>\n<pre><code>sortBy(yourListOfMaps, sortByFields);\n</code></pre>\n<p>If the list of sort orders is empty you'll get a <code>NoSuchElementException</code>. To avoid this you could define a default comparator instead of calling get blindly on the optional returned from reduce. For example <code>byId</code></p>\n<pre><code>Comparator&lt;Map&lt;String, Object&gt;&gt; combined = sortOrder.stream()\n                                                    .map(compMap::get)\n                                                    .reduce(Comparator::thenComparing)\n                                                    .orElse(byId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675213589,"creation_date":1675093347,"answer_id":75286753,"question_id":75285176,"body_markdown":"This may help demo what you could do. I made up some data to facilitate the demo.\r\n```\r\nList&lt;Map&lt;String, Object&gt;&gt; maps = new ArrayList&lt;&gt;(List.of(\r\n        Map.of(&quot;integer&quot;, 2, &quot;string&quot;, &quot;process&quot;, &quot;double&quot;, 6.8),\r\n        Map.of(&quot;integer&quot;, 5, &quot;string&quot;, &quot;test&quot;, &quot;double&quot;, 7.8),\r\n        Map.of(&quot;integer&quot;, 10, &quot;string&quot;, &quot;think&quot;, &quot;double&quot;, 2.8),\r\n        Map.of(&quot;integer&quot;, 7, &quot;string&quot;, &quot;think&quot;, &quot;double&quot;, 2.8),\r\n        Map.of(&quot;integer&quot;, 7, &quot;string&quot;, &quot;data&quot;, &quot;double&quot;, 9.9)));\r\n```\r\nDefine some functions as `keyExtractors` to access the map info.\r\n``` \r\nComparator&lt;Map&lt;String, Object&gt;&gt; icomp = Comparator\r\n                .comparing(m -&gt; (Integer) m.get(&quot;integer&quot;));\r\nComparator&lt;Map&lt;String, Object&gt;&gt; dcomp = Comparator\r\n                .comparing(m -&gt; (Double) m.get(&quot;double&quot;));\r\nComparator&lt;Map&lt;String, Object&gt;&gt; scomp = Comparator\r\n                .comparing(m -&gt; (String) m.get(&quot;string&quot;));\r\n```\r\nNow build the comparator.  This will sort the integers in ascending order followed by the doubles sorted in reverse order if the ints compare equally. \r\n```\r\nComparator&lt;Map&lt;String, Object&gt;&gt; comp = \r\n        icomp.thenComparing(dcomp.reversed());\r\n              \r\n\r\nmaps.sort(comp);\r\nmaps.forEach(System.out::println);\r\n```\r\nprints\r\n```\r\n{integer=2, double=6.8, string=process}\r\n{integer=5, double=7.8, string=test}\r\n{integer=7, double=9.9, string=data}\r\n{integer=7, double=2.8, string=think}\r\n{integer=10, double=3.8, string=think}\r\n","title":"Sort list of map items based on unknown list of fields","body":"<p>This may help demo what you could do. I made up some data to facilitate the demo.</p>\n<pre><code>List&lt;Map&lt;String, Object&gt;&gt; maps = new ArrayList&lt;&gt;(List.of(\n        Map.of(&quot;integer&quot;, 2, &quot;string&quot;, &quot;process&quot;, &quot;double&quot;, 6.8),\n        Map.of(&quot;integer&quot;, 5, &quot;string&quot;, &quot;test&quot;, &quot;double&quot;, 7.8),\n        Map.of(&quot;integer&quot;, 10, &quot;string&quot;, &quot;think&quot;, &quot;double&quot;, 2.8),\n        Map.of(&quot;integer&quot;, 7, &quot;string&quot;, &quot;think&quot;, &quot;double&quot;, 2.8),\n        Map.of(&quot;integer&quot;, 7, &quot;string&quot;, &quot;data&quot;, &quot;double&quot;, 9.9)));\n</code></pre>\n<p>Define some functions as <code>keyExtractors</code> to access the map info.</p>\n<pre><code>Comparator&lt;Map&lt;String, Object&gt;&gt; icomp = Comparator\n                .comparing(m -&gt; (Integer) m.get(&quot;integer&quot;));\nComparator&lt;Map&lt;String, Object&gt;&gt; dcomp = Comparator\n                .comparing(m -&gt; (Double) m.get(&quot;double&quot;));\nComparator&lt;Map&lt;String, Object&gt;&gt; scomp = Comparator\n                .comparing(m -&gt; (String) m.get(&quot;string&quot;));\n</code></pre>\n<p>Now build the comparator.  This will sort the integers in ascending order followed by the doubles sorted in reverse order if the ints compare equally.</p>\n<pre><code>Comparator&lt;Map&lt;String, Object&gt;&gt; comp = \n        icomp.thenComparing(dcomp.reversed());\n              \n\nmaps.sort(comp);\nmaps.forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>{integer=2, double=6.8, string=process}\n{integer=5, double=7.8, string=test}\n{integer=7, double=9.9, string=data}\n{integer=7, double=2.8, string=think}\n{integer=10, double=3.8, string=think}\n</code></pre>\n"}],"owner":{"account_id":4029950,"reputation":621,"user_id":4511243,"accept_rate":61,"display_name":"Frank"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1675237976,"creation_date":1675085667,"question_id":75285176,"body_markdown":"I have a big list of HashMap&lt;String, Object&gt; items that I need to sort dynamically based on a list of fields. \r\n\r\nIf the list of fields were static, I know I could easily use `Comparator.compare(..)` follow by `thenComparing(..)`. \r\n\r\nBut if I do not know how many fields and which ones, I do not understand how I can chain the `thenComparion` dynamically based on the number of fields.\r\n\r\nCurrently my data is only Strings, but I expect it will change to other field types later so here is a future proof example:\r\n\r\n```json\r\n[\r\n  {\r\n     &quot;destination&quot;: &quot;tokyo&quot;,\r\n     &quot;origin&quot;: &quot;paris&quot;,\r\n     &quot;model&quot;: &quot;speedflight 3000&quot;,\r\n     &quot;id&quot;: 5000047632459593,\r\n     &quot;speed&quot;: 502.5,\r\n     &quot;altitude&quot;: 5001,\r\n     &quot;time&quot;: &quot;2023-01-30T13:35:23Z&quot;\r\n  },\r\n  ....\r\n]\r\n\r\n```\r\n\r\nThe request could be for example to filter on the fields in following order `id, speed, time`, or also just simply `id`. There is no sorting direction given (asc,desc) so the default is always used. ","title":"Sort list of map items based on unknown list of fields","body":"<p>I have a big list of HashMap&lt;String, Object&gt; items that I need to sort dynamically based on a list of fields.</p>\n<p>If the list of fields were static, I know I could easily use <code>Comparator.compare(..)</code> follow by <code>thenComparing(..)</code>.</p>\n<p>But if I do not know how many fields and which ones, I do not understand how I can chain the <code>thenComparion</code> dynamically based on the number of fields.</p>\n<p>Currently my data is only Strings, but I expect it will change to other field types later so here is a future proof example:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n     &quot;destination&quot;: &quot;tokyo&quot;,\n     &quot;origin&quot;: &quot;paris&quot;,\n     &quot;model&quot;: &quot;speedflight 3000&quot;,\n     &quot;id&quot;: 5000047632459593,\n     &quot;speed&quot;: 502.5,\n     &quot;altitude&quot;: 5001,\n     &quot;time&quot;: &quot;2023-01-30T13:35:23Z&quot;\n  },\n  ....\n]\n\n</code></pre>\n<p>The request could be for example to filter on the fields in following order <code>id, speed, time</code>, or also just simply <code>id</code>. There is no sorting direction given (asc,desc) so the default is always used.</p>\n"},{"tags":["java","maven","junit","maven-surefire-plugin"],"comments":[{"owner":{"account_id":33206,"reputation":10107,"user_id":92764,"accept_rate":84,"display_name":"Luciano Fiandesio"},"score":0,"creation_date":1604991272,"post_id":63451828,"comment_id":114508825,"body_markdown":"Hi, did you find a solution? I have a similar problem.","body":"Hi, did you find a solution? I have a similar problem."},{"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"score":0,"creation_date":1605023879,"post_id":63451828,"comment_id":114523178,"body_markdown":"@LucianoFiandesio hi. I&#39;ve found in that project hidden dependencies related to junit5 and excluded them all (junit-jupiter, junit-vintage-engine, mockito-junit-jupiter) - it helped me.","body":"@LucianoFiandesio hi. I&#39;ve found in that project hidden dependencies related to junit5 and excluded them all (junit-jupiter, junit-vintage-engine, mockito-junit-jupiter) - it helped me."}],"answers":[{"tags":[],"owner":{"account_id":1478876,"reputation":1042,"user_id":1388639,"display_name":"Malcolm Boekhoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1675237897,"creation_date":1675237897,"answer_id":75307037,"question_id":63451828,"body_markdown":"I got this to work by using &quot;executions&quot; in both the default plugin and in the profile plugin (which is not, by the way, an override of the default one)\r\n\r\n    &lt;project&gt;\r\n      ...\r\n      &lt;build&gt;\r\n      ...\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;default-test&lt;/id&gt;\r\n                &lt;phase&gt;test&lt;/phase&gt;\r\n                &lt;goals&gt;&lt;goal&gt;test&lt;/goal&gt;&lt;/goals&gt; &lt;!-- REQUIRED --&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                  &lt;systemPropertyVariables&gt;\r\n                    &lt;log4j.debug&gt;true&lt;/log4j.debug&gt;\r\n                    &lt;client.test.url&gt;http://localhost:8080/axis/services/MyService&lt;/client.test.url&gt;\r\n                  &lt;/systemPropertyVariables&gt;\r\n                  &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/TestAccountOp&lt;/exclude&gt; &lt;!-- Tomcat required - use the profile --&gt;\r\n                    &lt;exclude&gt;**/TestWsdl&lt;/exclude&gt;\r\n                  &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;myprofileid-testwithtomcat&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-M8&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt; &lt;id&gt;default-test&lt;/id&gt; &lt;phase&gt;none&lt;/phase&gt; &lt;/execution&gt; &lt;!-- Disable default Maven execution --&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;myexecutionid-testwithtomcat&lt;/id&gt;\r\n                    &lt;phase&gt;test&lt;/phase&gt;\r\n                    &lt;goals&gt;&lt;goal&gt;test&lt;/goal&gt;&lt;/goals&gt; &lt;!-- REQUIRED --&gt;\r\n                    &lt;configuration&gt;\r\n                      &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\r\n                      &lt;systemPropertyVariables&gt;\r\n                        &lt;log4j.debug&gt;true&lt;/log4j.debug&gt;\r\n                        &lt;client.test.url&gt;http://localhost:8080/axis/services/MyService&lt;/client.test.url&gt;\r\n                      &lt;/systemPropertyVariables&gt;\r\n                      &lt;excludes&gt;\r\n                        &lt;exclude&gt;**/TestWsdl&lt;/exclude&gt;\r\n                      &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        ...\r\n      &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n\r\nIn the profile, I removed the &quot;default-test&quot;, otherwise the &quot;excludes&quot; were set from the default one, but that might have been before I moved the &quot;configurations&quot; into the &quot;executions&quot;. You have to remember that &quot;default-test&quot; is active unless you disable it, but not using an &quot;execution&quot; in the main body did not work for me.\r\n\r\n&quot;default-test&quot; is Maven&#39;s &quot;id&quot; for the one in the main body, so that is why I used that name in the &quot;execution&quot; in the main body.\r\n\r\nI think you can get away with not bothering with the &quot;phase&quot; elements, because that&#39;s the default for the &quot;test&quot; goal, but I&#39;m pretty sure that you need the goal.\r\n\r\n\r\nGood luck!","title":"maven-surefire-plugin isn&#39;t working with profiles","body":"<p>I got this to work by using &quot;executions&quot; in both the default plugin and in the profile plugin (which is not, by the way, an override of the default one)</p>\n<pre><code>&lt;project&gt;\n  ...\n  &lt;build&gt;\n  ...\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M8&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;default-test&lt;/id&gt;\n            &lt;phase&gt;test&lt;/phase&gt;\n            &lt;goals&gt;&lt;goal&gt;test&lt;/goal&gt;&lt;/goals&gt; &lt;!-- REQUIRED --&gt;\n            &lt;configuration&gt;\n              &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n              &lt;systemPropertyVariables&gt;\n                &lt;log4j.debug&gt;true&lt;/log4j.debug&gt;\n                &lt;client.test.url&gt;http://localhost:8080/axis/services/MyService&lt;/client.test.url&gt;\n              &lt;/systemPropertyVariables&gt;\n              &lt;excludes&gt;\n                &lt;exclude&gt;**/TestAccountOp&lt;/exclude&gt; &lt;!-- Tomcat required - use the profile --&gt;\n                &lt;exclude&gt;**/TestWsdl&lt;/exclude&gt;\n              &lt;/excludes&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;myprofileid-testwithtomcat&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-M8&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt; &lt;id&gt;default-test&lt;/id&gt; &lt;phase&gt;none&lt;/phase&gt; &lt;/execution&gt; &lt;!-- Disable default Maven execution --&gt;\n              &lt;execution&gt;\n                &lt;id&gt;myexecutionid-testwithtomcat&lt;/id&gt;\n                &lt;phase&gt;test&lt;/phase&gt;\n                &lt;goals&gt;&lt;goal&gt;test&lt;/goal&gt;&lt;/goals&gt; &lt;!-- REQUIRED --&gt;\n                &lt;configuration&gt;\n                  &lt;enableAssertions&gt;true&lt;/enableAssertions&gt;\n                  &lt;systemPropertyVariables&gt;\n                    &lt;log4j.debug&gt;true&lt;/log4j.debug&gt;\n                    &lt;client.test.url&gt;http://localhost:8080/axis/services/MyService&lt;/client.test.url&gt;\n                  &lt;/systemPropertyVariables&gt;\n                  &lt;excludes&gt;\n                    &lt;exclude&gt;**/TestWsdl&lt;/exclude&gt;\n                  &lt;/excludes&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n    ...\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>In the profile, I removed the &quot;default-test&quot;, otherwise the &quot;excludes&quot; were set from the default one, but that might have been before I moved the &quot;configurations&quot; into the &quot;executions&quot;. You have to remember that &quot;default-test&quot; is active unless you disable it, but not using an &quot;execution&quot; in the main body did not work for me.</p>\n<p>&quot;default-test&quot; is Maven's &quot;id&quot; for the one in the main body, so that is why I used that name in the &quot;execution&quot; in the main body.</p>\n<p>I think you can get away with not bothering with the &quot;phase&quot; elements, because that's the default for the &quot;test&quot; goal, but I'm pretty sure that you need the goal.</p>\n<p>Good luck!</p>\n"}],"owner":{"account_id":3121211,"reputation":198,"user_id":2640934,"display_name":"gad_gadskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1296,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1675237897,"creation_date":1597670916,"question_id":63451828,"body_markdown":"I have profile configuration in my POM with surefire-maven-plugin &amp; junit connection to run only specific tests by profile. For example:\r\n```\r\nmvn clean test -Pgroup1 --also-make -DfailIfNoTests=false\r\n```\r\nIt works as expected with following versions:\r\n```\r\n&lt;maven-surefire-plugin.version&gt;2.22.1&lt;/maven-surefire-plugin.version&gt;\r\n&lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n```\r\nBut stops working normally when I try to upgrade them:\r\n```\r\n&lt;maven-surefire-plugin.version&gt;3.0.0-M5&lt;/maven-surefire-plugin.version&gt;\r\n&lt;junit.version&gt;4.13&lt;/junit.version&gt;\r\n```\r\nIn this case `mvn test` always run all tests as I wouldn&#39;t set profile in command line.\r\nMy config of profiles is:\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;default&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;**/unit/*Test.java&lt;/include&gt;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;group1&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/unit/**&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;groups&gt;com.Group1&lt;/groups&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;group2&lt;/id&gt;\r\n            &lt;build&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;**/unit/**&lt;/exclude&gt;\r\n                            &lt;/excludes&gt;\r\n                            &lt;groups&gt;com.Group2&lt;/groups&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n        ......................\r\n    &lt;/profiles&gt;\r\n```\r\nEvery test class has connected interface linked to profile:\r\n```\r\n@Category(Group1.class)\r\n@RunWith(JUnitParamsRunner.class)\r\npublic class Group1Test {\r\n```\r\nPlaying with &#39;default&#39; profile and &#39;activeByDefault&#39; property also gave me no result. Any ideas how to fix it?","title":"maven-surefire-plugin isn&#39;t working with profiles","body":"<p>I have profile configuration in my POM with surefire-maven-plugin &amp; junit connection to run only specific tests by profile. For example:</p>\n<pre><code>mvn clean test -Pgroup1 --also-make -DfailIfNoTests=false\n</code></pre>\n<p>It works as expected with following versions:</p>\n<pre><code>&lt;maven-surefire-plugin.version&gt;2.22.1&lt;/maven-surefire-plugin.version&gt;\n&lt;junit.version&gt;4.12&lt;/junit.version&gt;\n</code></pre>\n<p>But stops working normally when I try to upgrade them:</p>\n<pre><code>&lt;maven-surefire-plugin.version&gt;3.0.0-M5&lt;/maven-surefire-plugin.version&gt;\n&lt;junit.version&gt;4.13&lt;/junit.version&gt;\n</code></pre>\n<p>In this case <code>mvn test</code> always run all tests as I wouldn't set profile in command line.\nMy config of profiles is:</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;default&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;includes&gt;\n                                &lt;include&gt;**/unit/*Test.java&lt;/include&gt;\n                            &lt;/includes&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;group1&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/unit/**&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;groups&gt;com.Group1&lt;/groups&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;group2&lt;/id&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;**/unit/**&lt;/exclude&gt;\n                            &lt;/excludes&gt;\n                            &lt;groups&gt;com.Group2&lt;/groups&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n        ......................\n    &lt;/profiles&gt;\n</code></pre>\n<p>Every test class has connected interface linked to profile:</p>\n<pre><code>@Category(Group1.class)\n@RunWith(JUnitParamsRunner.class)\npublic class Group1Test {\n</code></pre>\n<p>Playing with 'default' profile and 'activeByDefault' property also gave me no result. Any ideas how to fix it?</p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":22861647,"reputation":3,"user_id":17005621,"display_name":"RAKESH YEDLAPPALLI"},"score":0,"creation_date":1675143166,"post_id":75282482,"comment_id":132859961,"body_markdown":"@times29, Can you help me with this? thank you.","body":"@times29, Can you help me with this? thank you."}],"answers":[{"tags":[],"owner":{"account_id":22861647,"reputation":3,"user_id":17005621,"display_name":"RAKESH YEDLAPPALLI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675237743,"creation_date":1675237743,"answer_id":75307013,"question_id":75282482,"body_markdown":"I could able to solve this by disabling the default constraint violation \r\n\r\ncontext.disableDefaultConstraintViolation();","title":"How to exclude CustomValidator default message from ConstraintValidatorContext JavaX","body":"<p>I could able to solve this by disabling the default constraint violation</p>\n<p>context.disableDefaultConstraintViolation();</p>\n"}],"owner":{"account_id":22861647,"reputation":3,"user_id":17005621,"display_name":"RAKESH YEDLAPPALLI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675237743,"creation_date":1675071277,"question_id":75282482,"body_markdown":"I have a custom validator that checks validations against the given Object and builds the \r\nConstraintValidatorContext, and if anything is violated then it builds the ConstraintViolationWithTemplate and adds the violated constraint message to the ConstraintValidatorContext context, \r\nhere in the constraint list, I could even see the default message which is in CustomerValidatorConstraint, I would like to exclude that CustomValidator default message\r\n\r\n\r\n**Code**\r\n\r\n\r\npublic @interface ValidateItems {\r\n\r\n        String message() default &quot;Invalid Items object&quot;;\r\n\r\n        Class&lt;?&gt;[] groups() default {};\r\n\r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n\r\n    }\r\n\r\n    @ValidateItems\r\n    private Items items;\r\n\r\n\r\n    public class Items {\r\n        private int id;\r\n        private String productName;\r\n    }\r\n\r\n\r\n    public class ValidItemValidator implements ConstraintValidator\r\n            &lt;ValidateItems, Items&gt; {\r\n\r\n        @Override\r\n        public boolean isValid(Items items, ConstraintValidatorContext context) {\r\n\r\n            if (items.getProductName.startsWith(&quot;Z&quot;)) {\r\n                context.buildConstraintViolationWithTemplate(&quot;Product name should not start with Z&quot;).addConstraintViolation();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nas shown in the above code, in the ConstraintValidatorContext object, I could see two constraint validation when I pass the product name starting with &quot;Z&quot;\r\n\r\n1)Invalid Items object (Default custom validator message)\r\n\r\n2)Product name should not start with Z (Actual Validation message)\r\n\r\n**Requirement:**\r\nI would like to exclude the default message from ConstraintValidator, Could someone help me with this?\r\n","title":"How to exclude CustomValidator default message from ConstraintValidatorContext JavaX","body":"<p>I have a custom validator that checks validations against the given Object and builds the\nConstraintValidatorContext, and if anything is violated then it builds the ConstraintViolationWithTemplate and adds the violated constraint message to the ConstraintValidatorContext context,\nhere in the constraint list, I could even see the default message which is in CustomerValidatorConstraint, I would like to exclude that CustomValidator default message</p>\n<p><strong>Code</strong></p>\n<p>public @interface ValidateItems {</p>\n<pre><code>    String message() default &quot;Invalid Items object&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n}\n\n@ValidateItems\nprivate Items items;\n\n\npublic class Items {\n    private int id;\n    private String productName;\n}\n\n\npublic class ValidItemValidator implements ConstraintValidator\n        &lt;ValidateItems, Items&gt; {\n\n    @Override\n    public boolean isValid(Items items, ConstraintValidatorContext context) {\n\n        if (items.getProductName.startsWith(&quot;Z&quot;)) {\n            context.buildConstraintViolationWithTemplate(&quot;Product name should not start with Z&quot;).addConstraintViolation();\n        }\n    }\n}\n</code></pre>\n<p>as shown in the above code, in the ConstraintValidatorContext object, I could see two constraint validation when I pass the product name starting with &quot;Z&quot;</p>\n<p>1)Invalid Items object (Default custom validator message)</p>\n<p>2)Product name should not start with Z (Actual Validation message)</p>\n<p><strong>Requirement:</strong>\nI would like to exclude the default message from ConstraintValidator, Could someone help me with this?</p>\n"},{"tags":["java","spring","spring-boot","autowired","mapstruct"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1675171170,"post_id":75296353,"comment_id":132867485,"body_markdown":"Does interface support injection? Maybe best use an abstract class.","body":"Does interface support injection? Maybe best use an abstract class."}],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675237422,"creation_date":1675237422,"answer_id":75306962,"question_id":75296353,"body_markdown":"You should define the `MapperA` as an abstract class instead of an interface, and use setter injection to inject `MapperB` as follows:\r\n```\r\n@Mapper(componentModel=&quot;spring&quot;)\r\npublic abstract class MapperA {\r\n\r\n    private MapperB mapperB; \r\n\r\n    @Autowired\r\n    public final void setMapperB(MapperB mapperB) {\r\n        this.mapperB = mapperB;\r\n    }\r\n\r\n    public ArrayList&lt;AudioDto&gt; audiosToDto(List&lt;Audio&gt; audios, ApplicationUser loggedInUser) {\r\n        Stream&lt;AudioDto&gt; audiosStream = audios.stream().map((Audio audio) -&gt; mapperB.audioToAudioDto(audio, loggedInUser));\r\n        return audiosStream.collect(Collectors.toCollection(ArrayList::new));\r\n    }\r\n}\r\n```","title":"Use a custom mapper inside another custom mapper with mapstruct (in default method)","body":"<p>You should define the <code>MapperA</code> as an abstract class instead of an interface, and use setter injection to inject <code>MapperB</code> as follows:</p>\n<pre><code>@Mapper(componentModel=&quot;spring&quot;)\npublic abstract class MapperA {\n\n    private MapperB mapperB; \n\n    @Autowired\n    public final void setMapperB(MapperB mapperB) {\n        this.mapperB = mapperB;\n    }\n\n    public ArrayList&lt;AudioDto&gt; audiosToDto(List&lt;Audio&gt; audios, ApplicationUser loggedInUser) {\n        Stream&lt;AudioDto&gt; audiosStream = audios.stream().map((Audio audio) -&gt; mapperB.audioToAudioDto(audio, loggedInUser));\n        return audiosStream.collect(Collectors.toCollection(ArrayList::new));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26351827,"reputation":176,"user_id":20009330,"display_name":"Felix Olszewski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1675237422,"creation_date":1675163990,"question_id":75296353,"body_markdown":"I want to use MapperB inside MapperA&#39;s default method\r\n\r\nSimilar to this question:\r\nhttps://stackoverflow.com/questions/60523230/how-can-i-use-another-mapping-from-different-class-in-mapstruct\r\n\r\nHowever afaik this question did not ask for &#39;custom mappers&#39;, i.e. mappers that exist as their own interface.\r\n\r\nHow would I be able to do that?\r\n\r\nI have an interface of MapperA and an interface of MapperB\r\n\r\nHow would I use the MapperB inside MapperA?\r\n\r\nlike so:\r\n\r\n    @Mapper\r\n    public interface MapperA {\r\n\r\n        @Autowired\r\n        MapperB mapperB; \r\n\r\n        default ArrayList&lt;AudioDto&gt; audiosToDto(List&lt;Audio&gt; audios, ApplicationUser loggedInUser) {\r\n        Stream&lt;AudioDto&gt; audiosStream = audios.stream().map((Audio audio) -&gt; mapperB.audioToAudioDto(audio, loggedInUser));\r\n        return audiosStream.collect(Collectors.toCollection(ArrayList::new));\r\n    }\r\n\r\n\r\nThe above code didn&#39;t work. Now I tried adding @Component(to MapperA &amp; MapperB) to be able to autowire it, but it&#39;s still giving me:\r\n\r\n@Autowired &lt;- Field injection is not recommended \r\n\r\nMapperB mapperB; &lt;- Variable &#39;audioMapper&#39; might not have been initialized\r\n\r\neven after maven-cleaning the project to get rid of the MapperAImpl.","title":"Use a custom mapper inside another custom mapper with mapstruct (in default method)","body":"<p>I want to use MapperB inside MapperA's default method</p>\n<p>Similar to this question:\n<a href=\"https://stackoverflow.com/questions/60523230/how-can-i-use-another-mapping-from-different-class-in-mapstruct\">How can I use another mapping from different class in mapstruct</a></p>\n<p>However afaik this question did not ask for 'custom mappers', i.e. mappers that exist as their own interface.</p>\n<p>How would I be able to do that?</p>\n<p>I have an interface of MapperA and an interface of MapperB</p>\n<p>How would I use the MapperB inside MapperA?</p>\n<p>like so:</p>\n<pre><code>@Mapper\npublic interface MapperA {\n\n    @Autowired\n    MapperB mapperB; \n\n    default ArrayList&lt;AudioDto&gt; audiosToDto(List&lt;Audio&gt; audios, ApplicationUser loggedInUser) {\n    Stream&lt;AudioDto&gt; audiosStream = audios.stream().map((Audio audio) -&gt; mapperB.audioToAudioDto(audio, loggedInUser));\n    return audiosStream.collect(Collectors.toCollection(ArrayList::new));\n}\n</code></pre>\n<p>The above code didn't work. Now I tried adding @Component(to MapperA &amp; MapperB) to be able to autowire it, but it's still giving me:</p>\n<p>@Autowired &lt;- Field injection is not recommended</p>\n<p>MapperB mapperB; &lt;- Variable 'audioMapper' might not have been initialized</p>\n<p>even after maven-cleaning the project to get rid of the MapperAImpl.</p>\n"},{"tags":["java","spring","resteasy","jta","lazy-initialization"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675084672,"post_id":75284815,"comment_id":132845930,"body_markdown":"Please add the **full stacktrace**. If your `EmployeeApiImpl` is an `@Component` don&#39;t do a lookup but use dependency injection to inject the `UserDAO`.However the fact that you get the exception is likely an indication that your Resteasy / Spring integration doesn&#39;t work (and basically using the lookup hides that).","body":"Please add the <b>full stacktrace</b>. If your <code>EmployeeApiImpl</code> is an <code>@Component</code> don&#39;t do a lookup but use dependency injection to inject the <code>UserDAO</code>.However the fact that you get the exception is likely an indication that your Resteasy / Spring integration doesn&#39;t work (and basically using the lookup hides that)."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675086356,"post_id":75284815,"comment_id":132846560,"body_markdown":"Thank you for comment. When I try to use setter based dependency injection using declartive approach then the userDAO is null but other spring class has valid reference to userDAO. Whenever class with @ Path and @ Component try to inject this DAO class then it&#39;s either null( dependency injection ) or Unable to locate current JTA(with lookup). I&#39;ll add full stacktrace","body":"Thank you for comment. When I try to use setter based dependency injection using declartive approach then the userDAO is null but other spring class has valid reference to userDAO. Whenever class with @ Path and @ Component try to inject this DAO class then it&#39;s either null( dependency injection ) or Unable to locate current JTA(with lookup). I&#39;ll add full stacktrace"},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675087480,"post_id":75284815,"comment_id":132846935,"body_markdown":"added full stacktrace","body":"added full stacktrace"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675088721,"post_id":75284815,"comment_id":132847400,"body_markdown":"If there is no injection, the `@Component` is useless and thus an indication your Spring integration isn&#39;t steup properly (else you wouldn&#39;t need the workaround with the lookup). Also marking your endpoint `@Transactional` (basically your web layer) isn&#39;t the best either. Create a service that has an `@Transactional` method and call that from your endpoint (with or without a lookup). Looking at your current setup I would suggest just adding a service layer in between.","body":"If there is no injection, the <code>@Component</code> is useless and thus an indication your Spring integration isn&#39;t steup properly (else you wouldn&#39;t need the workaround with the lookup). Also marking your endpoint <code>@Transactional</code> (basically your web layer) isn&#39;t the best either. Create a service that has an <code>@Transactional</code> method and call that from your endpoint (with or without a lookup). Looking at your current setup I would suggest just adding a service layer in between."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675091155,"post_id":75284815,"comment_id":132848290,"body_markdown":"tried with service layer in between but the result is same as service is null when I inject  using declartive approach,\n```\n@Path(&quot;/requests&quot;)\npublic class EmployeeApiImpl   {\n\n   ExampleService exampleService;\n\n   public void setExampleService(ExampleService exampleService) {\n      this.exampleService = exampleService;\n   }\n   @GET\n   @Path(&quot;/{id}&quot;)\n   @Produces({MediaType.APPLICATION_JSON})\n   public IbisRequest findUserCountByEmpId(@PathParam(value = &quot;id&quot;) Long id) throws ServiceException {\n      return exampleService.findUserCountByEmpId(id);\n   }\n}\n```","body":"tried with service layer in between but the result is same as service is null when I inject  using declartive approach, ``` @Path(&quot;/requests&quot;) public class EmployeeApiImpl   {     ExampleService exampleService;     public void setExampleService(ExampleService exampleService) {       this.exampleService = exampleService;    }    @GET    @Path(&quot;/{id}&quot;)    @Produces({MediaType.APPLICATION_JSON})    public IbisRequest findUserCountByEmpId(@PathParam(value = &quot;id&quot;) Long id) throws ServiceException {       return exampleService.findUserCountByEmpId(id);    } } ```"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675091503,"post_id":75284815,"comment_id":132848423,"body_markdown":"Don&#39;t add code as comments that is totally unreadable. I stated use the approach you now have (the lookup) and introduce a service layer with `@Transactional`.","body":"Don&#39;t add code as comments that is totally unreadable. I stated use the approach you now have (the lookup) and introduce a service layer with <code>@Transactional</code>."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675096772,"post_id":75284815,"comment_id":132850203,"body_markdown":"As per your suggestion, I have updated question with code. with this approach I think transaction part is working but not completely as getting error Caused by: org.hibernate.LazyInitializationException: could not initialize proxy - no Session.\n\nI have added error log to question","body":"As per your suggestion, I have updated question with code. with this approach I think transaction part is working but not completely as getting error Caused by: org.hibernate.LazyInitializationException: could not initialize proxy - no Session.  I have added error log to question"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675145623,"post_id":75284815,"comment_id":132860276,"body_markdown":"Let me guess, you are using JPA and decided to add Lombok into the mix and use `@Data`. In your dao you are doing somet logging with the user(s) that are retrieved (or using `System.out`). Or this stacktrace isn&#39;t the one that comes with the code you shown herer (please add the full stacktrace and not a snippet).","body":"Let me guess, you are using JPA and decided to add Lombok into the mix and use <code>@Data</code>. In your dao you are doing somet logging with the user(s) that are retrieved (or using <code>System.out</code>). Or this stacktrace isn&#39;t the one that comes with the code you shown herer (please add the full stacktrace and not a snippet)."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675167881,"post_id":75284815,"comment_id":132866340,"body_markdown":"added the full stacktrace","body":"added the full stacktrace"},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675169696,"post_id":75284815,"comment_id":132866977,"body_markdown":"The stacktrace is modified with names as removed class name from actual code. we have spring application with entity classes and declartive hbm configuration and we now want to integrate jboss resteasy which are using bean from spring applications","body":"The stacktrace is modified with names as removed class name from actual code. we have spring application with entity classes and declartive hbm configuration and we now want to integrate jboss resteasy which are using bean from spring applications"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675169919,"post_id":75284815,"comment_id":132867067,"body_markdown":"That doesn&#39;t answer my question(s). Do you have entities with `@Data` or at least some reflective `toString` method (as it appears that way).  Also why resteasy instead of just plain Spring controllers (as you are already using Spring) which saves you a lot of headaches.","body":"That doesn&#39;t answer my question(s). Do you have entities with <code>@Data</code> or at least some reflective <code>toString</code> method (as it appears that way).  Also why resteasy instead of just plain Spring controllers (as you are already using Spring) which saves you a lot of headaches."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675170692,"post_id":75284815,"comment_id":132867323,"body_markdown":"we don&#39;t have entities with @Data, we have entities which are implementing Serializable interface and override toString() and for plain Spring controllers, could you please give me any reference to some document? or example to implement rest api with  Spring controllers","body":"we don&#39;t have entities with @Data, we have entities which are implementing Serializable interface and override toString() and for plain Spring controllers, could you please give me any reference to some document? or example to implement rest api with  Spring controllers"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1675171386,"post_id":75284815,"comment_id":132867559,"body_markdown":"If you look at your stacktrace the `toString` is the problem as you are probably logging something and the `toString` is printing (probably lazy loaded) collections.","body":"If you look at your stacktrace the <code>toString</code> is the problem as you are probably logging something and the <code>toString</code> is printing (probably lazy loaded) collections."},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675174634,"post_id":75284815,"comment_id":132868719,"body_markdown":"yes, logging is there, is there any way so that it&#39;ll work with  lazy loaded? I tried with opensessioninviewfilter but did not work","body":"yes, logging is there, is there any way so that it&#39;ll work with  lazy loaded? I tried with opensessioninviewfilter but did not work"},{"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"score":0,"creation_date":1675270818,"post_id":75284815,"comment_id":132893937,"body_markdown":"finally it&#39;s working. The issue was aop configuration and use of ObjectMapper objectMapper = new ObjectMapper to transform the response to josn. Thank your for your help","body":"finally it&#39;s working. The issue was aop configuration and use of ObjectMapper objectMapper = new ObjectMapper to transform the response to josn. Thank your for your help"}],"owner":{"account_id":9427779,"reputation":336,"user_id":7012221,"display_name":"Abhishek"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1675237175,"creation_date":1675083858,"question_id":75284815,"body_markdown":"Can any one help me with correct approach to integrate Resteasy and Spring with AOP declartive configuration for JTA transaction.\r\n\r\nThe configuration is as per below,\r\n\r\n**Project structure:**\r\n\r\n```\r\ncom.example.dao\r\n   - UserDAO\r\ncom.example.daoimpl\r\n   - UserDAOImpl\r\ncom.example.services.api\r\n   - EmployeeApi\r\ncom.example.services.api.impl\r\n   - EmployeeApiImpl\r\n```\r\n**aop.xml**\r\n\r\n```\r\n\t&lt;tx:advice id=&quot;txServiceAdvice&quot; transaction-manager=&quot;txManager&quot;&gt;\r\n\t\t&lt;tx:attributes&gt;\r\n\t\t\t&lt;!-- all methods starting with search/view/get/is are read-only --&gt;\r\n\t\t\t&lt;tx:method name=&quot;search*&quot; read-only=&quot;true&quot;/&gt;\r\n\t\t\t&lt;tx:method name=&quot;view*&quot; read-only=&quot;true&quot;/&gt;\r\n\t\t\t&lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\r\n\t\t\t&lt;tx:method name=&quot;is*&quot; read-only=&quot;true&quot;/&gt;\r\n\r\n\t\t\t&lt;!-- all other methods require transaction --&gt;\r\n\t\t\t&lt;tx:method name=&quot;*&quot; read-only=&quot;false&quot;\r\n\t\t\t\tpropagation=&quot;REQUIRED&quot;\r\n\t\t\t\tisolation=&quot;READ_COMMITTED&quot;\r\n\t\t\t\trollback-for=&quot;RuntimeException&quot;\r\n\t\t\t\tno-rollback-for=&quot;ServiceException&quot; /&gt;\r\n\r\n\t\t&lt;/tx:attributes&gt;\r\n\t&lt;/tx:advice&gt;\r\n\r\n       &lt;aop:config&gt;\r\n          &lt;aop:pointcut id=&quot;restApiPointcut&quot; expression=&quot;execution(* com.example.services.*.*(..))&quot;/&gt;\r\n          &lt;aop:advisor advice-ref=&quot;txServiceAdvice&quot; pointcut-ref=&quot;restApiPointcut&quot;/&gt;\r\n       &lt;/aop:config&gt;\r\n\t \r\n```\r\n\r\nI followed the ApplicationContextAware intrefaces approch mentioned here https://mkyong.com/webservices/jax-rs/resteasy-spring-integration-example/\r\n\r\nThe EmployeeApiImpl look like below,\r\n\r\n```\r\n@Path(&quot;/requests&quot;)\r\n@Component\r\npublic class EmployeeApiImpl {\r\n\r\n\r\n\r\n   @GET\r\n   @Path(&quot;/{id}&quot;)\r\n   @Produces({MediaType.APPLICATION_JSON})\r\n   @Transactional\r\n   public int findUserCountByEmpId(@PathParam(value = &quot;id&quot;) Long id) throws ServiceException {\r\n      UserDAO userDAO= SpringApplicationContext.getBean(&quot;UserDAO&quot;, UserDAOImpl.class);\r\n      return userDAO.findCountById(id);\r\n   }\r\n\r\n}\r\n```\r\n\r\nWhen I call the api then it&#39;s giving below error,\r\n\r\n\r\n```\r\n 14:59:27,477 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /example-fe-war/api/requests/170: org.jboss.resteasy.spi.UnhandledException: org.hibernate.HibernateException: Unable to locate current JTA transaction\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:82)\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:346)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:193)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:457)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\r\n        at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\r\n        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\r\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\r\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n        at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)\r\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n        at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)\r\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n        at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.hibernate.HibernateException: Unable to locate current JTA transaction\r\n        at org.hibernate.context.internal.JTASessionContext.currentSession(JTASessionContext.java:75)\r\n        at org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:464)\r\n        atcom.example.dao.application.application.impl.AbstractBaseDAOImpl.getSession(AbstractBaseDAOImpl.java:116)\r\n        atcom.example.dao.application.application.impl.GenericDAOImpl.findById(GenericDAOImpl.java:43)\r\n        at com.example.services.api.impl.EmployeeApiImpl.findCountById(EmployeeApiImpl.java:29)\r\n        at com.example.services.api.impl.EmployeeApiImpl$Proxy$_$$_WeldClientProxy.findCountById(Unknown Source)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)\r\n        at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)\r\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)\r\n        ... 60 more\r\n```\r\n\r\n---------------added service layer as per suggestion-------------------------\r\n```\r\n@Path(&quot;/requests&quot;)\r\npublic class EmployeeApiImpl   {\r\n\r\n   @GET\r\n   @Path(&quot;/{id}&quot;)\r\n   @Produces({MediaType.APPLICATION_JSON})\r\n   public int findUserCountByEmpId(@PathParam(value = &quot;id&quot;) Long id) throws ServiceException {\r\n      ExampleService exampleService = SpringApplicationContext.getBean(&quot;exampleService&quot;, ExampleService.class);\r\n      return exampleService.findUserCountByEmpId(id);\r\n   }\r\n\r\n}\r\n```\r\n```\r\npublic class ExampleService {\r\n\r\n\r\n   @Transactional\r\n   public int findUserCountByEmpId(Long id) throws ServiceException {\r\n     UserDAO userDAO= SpringApplicationContext.getBean(&quot;UserDAO&quot;, UserDAOImpl.class);\r\n      return userDAO.findCountById(id);\r\n   }\r\n}\r\n\r\n```\r\n\r\n```\r\n13:17:02,254 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /example-fe-war/api/requests/170: org.jboss.resteasy.spi.UnhandledException: javax.ws.rs.ProcessingException: RESTEASY008205: JSON Binding serialization error javax.json.bind.JsonbException: Unable to serialize property &#39;Address&#39; from com.example.entities.User\r\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:356)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:193)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:539)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:461)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\r\n        at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\r\n        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\r\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\r\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\r\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n        at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\r\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\r\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)\r\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n        at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)\r\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\r\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\r\n        at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\r\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\r\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\r\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\r\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: javax.ws.rs.ProcessingException: RESTEASY008205: JSON Binding serialization error javax.json.bind.JsonbException: Unable to serialize property &#39;Address&#39; from com.example.entities.User\r\n        at org.jboss.resteasy.plugins.providers.jsonb.JsonBindingProvider.writeTo(JsonBindingProvider.java:160)\r\n        at org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.writeTo(AbstractWriterInterceptorContext.java:137)\r\n        at org.jboss.resteasy.core.interception.ServerWriterInterceptorContext.writeTo(ServerWriterInterceptorContext.java:61)\r\n        at org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:124)\r\n        at org.jboss.resteasy.security.doseta.DigitalSigningInterceptor.aroundWriteTo(DigitalSigningInterceptor.java:147)\r\n        at org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:129)\r\n        at org.jboss.resteasy.core.ServerResponseWriter.lambda$writeNomapResponse$2(ServerResponseWriter.java:151)\r\n        at org.jboss.resteasy.core.interception.ContainerResponseContextImpl.filter(ContainerResponseContextImpl.java:399)\r\n        at org.jboss.resteasy.core.ServerResponseWriter.executeFilters(ServerResponseWriter.java:219)\r\n        at org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:95)\r\n        at org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:69)\r\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:530)\r\n        ... 61 more\r\nCaused by: javax.json.bind.JsonbException: Unable to serialize property &#39;User&#39; from com.example.entities.Address\r\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.serializeInternal(ObjectSerializer.java:67)\r\n        at org.eclipse.yasson.internal.serializer.AbstractContainerSerializer.serialize(AbstractContainerSerializer.java:64)\r\n        at org.eclipse.yasson.internal.Marshaller.serializeRoot(Marshaller.java:148)\r\n        at org.eclipse.yasson.internal.Marshaller.marshall(Marshaller.java:76)\r\n        at org.eclipse.yasson.internal.Marshaller.marshall(Marshaller.java:102)\r\n        at org.eclipse.yasson.internal.JsonBinding.toJson(JsonBinding.java:118)\r\n        at org.jboss.resteasy.plugins.providers.jsonb.JsonBindingProvider.writeTo(JsonBindingProvider.java:156)\r\n        ... 72 more\r\nCaused by: javax.json.bind.JsonbException: Unable to serialize property &#39;additionalRequestTypeInfo&#39; from com.example.entities.User_$$_jvst356_26b\r\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.serializeInternal(ObjectSerializer.java:67)\r\n        at org.eclipse.yasson.internal.serializer.AbstractContainerSerializer.serialize(AbstractContainerSerializer.java:64)\r\n        at org.eclipse.yasson.internal.serializer.AbstractContainerSerializer.serializerCaptor(AbstractContainerSerializer.java:96)\r\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.marshallProperty(ObjectSerializer.java:110)\r\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.serializeInternal(ObjectSerializer.java:65)\r\n        ... 78 more\r\nCaused by: org.hibernate.LazyInitializationException: could not initialize proxy - no Session\r\n        at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:153)\r\n        at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:266)\r\n        at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:73)\r\n        at com.example.entities.User_$$_jvst356_26b.toString(User_$$_jvst356_26b.java)\r\n        at java.lang.String.valueOf(String.java:2994)\r\n        at java.lang.StringBuilder.append(StringBuilder.java:131)\r\n        at org.eclipse.yasson.internal.model.GetValueCommand.getValue(GetValueCommand.java:36)\r\n        at org.eclipse.yasson.internal.model.ReflectionPropagation.getValue(ReflectionPropagation.java:73)\r\n        at org.eclipse.yasson.internal.model.PropertyModel.getValue(PropertyModel.java:284)\r\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.marshallProperty(ObjectSerializer.java:87)\r\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.serializeInternal(ObjectSerializer.java:65)\r\n        ... 82 more\r\n\r\n```\r\n\r\nHow can I integrate Resteasy and Spring with JTA correctly? I went throuh many official document and other post but it did not help so please help me if someone know how I can call userDAO.findCountById with proper transaction. The transaction aop configuration for spring classes is working but not for classes annotated with @ path and @ componant","title":"Unable to locate current JTA transaction during integration of Jboss Resteasy and Spring","body":"<p>Can any one help me with correct approach to integrate Resteasy and Spring with AOP declartive configuration for JTA transaction.</p>\n<p>The configuration is as per below,</p>\n<p><strong>Project structure:</strong></p>\n<pre><code>com.example.dao\n   - UserDAO\ncom.example.daoimpl\n   - UserDAOImpl\ncom.example.services.api\n   - EmployeeApi\ncom.example.services.api.impl\n   - EmployeeApiImpl\n</code></pre>\n<p><strong>aop.xml</strong></p>\n<pre><code>    &lt;tx:advice id=&quot;txServiceAdvice&quot; transaction-manager=&quot;txManager&quot;&gt;\n        &lt;tx:attributes&gt;\n            &lt;!-- all methods starting with search/view/get/is are read-only --&gt;\n            &lt;tx:method name=&quot;search*&quot; read-only=&quot;true&quot;/&gt;\n            &lt;tx:method name=&quot;view*&quot; read-only=&quot;true&quot;/&gt;\n            &lt;tx:method name=&quot;get*&quot; read-only=&quot;true&quot;/&gt;\n            &lt;tx:method name=&quot;is*&quot; read-only=&quot;true&quot;/&gt;\n\n            &lt;!-- all other methods require transaction --&gt;\n            &lt;tx:method name=&quot;*&quot; read-only=&quot;false&quot;\n                propagation=&quot;REQUIRED&quot;\n                isolation=&quot;READ_COMMITTED&quot;\n                rollback-for=&quot;RuntimeException&quot;\n                no-rollback-for=&quot;ServiceException&quot; /&gt;\n\n        &lt;/tx:attributes&gt;\n    &lt;/tx:advice&gt;\n\n       &lt;aop:config&gt;\n          &lt;aop:pointcut id=&quot;restApiPointcut&quot; expression=&quot;execution(* com.example.services.*.*(..))&quot;/&gt;\n          &lt;aop:advisor advice-ref=&quot;txServiceAdvice&quot; pointcut-ref=&quot;restApiPointcut&quot;/&gt;\n       &lt;/aop:config&gt;\n     \n</code></pre>\n<p>I followed the ApplicationContextAware intrefaces approch mentioned here <a href=\"https://mkyong.com/webservices/jax-rs/resteasy-spring-integration-example/\" rel=\"nofollow noreferrer\">https://mkyong.com/webservices/jax-rs/resteasy-spring-integration-example/</a></p>\n<p>The EmployeeApiImpl look like below,</p>\n<pre><code>@Path(&quot;/requests&quot;)\n@Component\npublic class EmployeeApiImpl {\n\n\n\n   @GET\n   @Path(&quot;/{id}&quot;)\n   @Produces({MediaType.APPLICATION_JSON})\n   @Transactional\n   public int findUserCountByEmpId(@PathParam(value = &quot;id&quot;) Long id) throws ServiceException {\n      UserDAO userDAO= SpringApplicationContext.getBean(&quot;UserDAO&quot;, UserDAOImpl.class);\n      return userDAO.findCountById(id);\n   }\n\n}\n</code></pre>\n<p>When I call the api then it's giving below error,</p>\n<pre><code> 14:59:27,477 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /example-fe-war/api/requests/170: org.jboss.resteasy.spi.UnhandledException: org.hibernate.HibernateException: Unable to locate current JTA transaction\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:82)\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:346)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:193)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:457)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\n        at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\n        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n        at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: org.hibernate.HibernateException: Unable to locate current JTA transaction\n        at org.hibernate.context.internal.JTASessionContext.currentSession(JTASessionContext.java:75)\n        at org.hibernate.internal.SessionFactoryImpl.getCurrentSession(SessionFactoryImpl.java:464)\n        atcom.example.dao.application.application.impl.AbstractBaseDAOImpl.getSession(AbstractBaseDAOImpl.java:116)\n        atcom.example.dao.application.application.impl.GenericDAOImpl.findById(GenericDAOImpl.java:43)\n        at com.example.services.api.impl.EmployeeApiImpl.findCountById(EmployeeApiImpl.java:29)\n        at com.example.services.api.impl.EmployeeApiImpl$Proxy$_$$_WeldClientProxy.findCountById(Unknown Source)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:138)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:546)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:435)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$0(ResourceMethodInvoker.java:396)\n        at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:398)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:365)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:338)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:440)\n        ... 60 more\n</code></pre>\n<p>---------------added service layer as per suggestion-------------------------</p>\n<pre><code>@Path(&quot;/requests&quot;)\npublic class EmployeeApiImpl   {\n\n   @GET\n   @Path(&quot;/{id}&quot;)\n   @Produces({MediaType.APPLICATION_JSON})\n   public int findUserCountByEmpId(@PathParam(value = &quot;id&quot;) Long id) throws ServiceException {\n      ExampleService exampleService = SpringApplicationContext.getBean(&quot;exampleService&quot;, ExampleService.class);\n      return exampleService.findUserCountByEmpId(id);\n   }\n\n}\n</code></pre>\n<pre><code>public class ExampleService {\n\n\n   @Transactional\n   public int findUserCountByEmpId(Long id) throws ServiceException {\n     UserDAO userDAO= SpringApplicationContext.getBean(&quot;UserDAO&quot;, UserDAOImpl.class);\n      return userDAO.findCountById(id);\n   }\n}\n\n</code></pre>\n<pre><code>13:17:02,254 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /example-fe-war/api/requests/170: org.jboss.resteasy.spi.UnhandledException: javax.ws.rs.ProcessingException: RESTEASY008205: JSON Binding serialization error javax.json.bind.JsonbException: Unable to serialize property 'Address' from com.example.entities.User\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:356)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:193)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:539)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:461)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:229)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:135)\n        at org.jboss.resteasy.core.interception.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:358)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:138)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:215)\n        at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:245)\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:61)\n        at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:590)\n        at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\n        at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71)\n        at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\n        at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\n        at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\n        at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\n        at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\n        at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\n        at org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\n        at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:117)\n        at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.security.handlers.AuthenticationConstraintHandler.handleRequest(AuthenticationConstraintHandler.java:53)\n        at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\n        at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\n        at io.undertow.servlet.handlers.security.ServletSecurityConstraintHandler.handleRequest(ServletSecurityConstraintHandler.java:59)\n        at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\n        at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\n        at io.undertow.security.handlers.NotificationReceiverHandler.handleRequest(NotificationReceiverHandler.java:50)\n        at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at org.wildfly.extension.undertow.deployment.GlobalRequestControllerHandler.handleRequest(GlobalRequestControllerHandler.java:68)\n        at io.undertow.servlet.handlers.SendErrorPageHandler.handleRequest(SendErrorPageHandler.java:52)\n        at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\n        at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\n        at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\n        at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\n        at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\n        at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\n        at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\n        at io.undertow.server.Connectors.executeRootHandler(Connectors.java:387)\n        at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:841)\n        at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1377)\n        at org.xnio.XnioWorker$WorkerThreadFactory$1$1.run(XnioWorker.java:1280)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.ws.rs.ProcessingException: RESTEASY008205: JSON Binding serialization error javax.json.bind.JsonbException: Unable to serialize property 'Address' from com.example.entities.User\n        at org.jboss.resteasy.plugins.providers.jsonb.JsonBindingProvider.writeTo(JsonBindingProvider.java:160)\n        at org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.writeTo(AbstractWriterInterceptorContext.java:137)\n        at org.jboss.resteasy.core.interception.ServerWriterInterceptorContext.writeTo(ServerWriterInterceptorContext.java:61)\n        at org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:124)\n        at org.jboss.resteasy.security.doseta.DigitalSigningInterceptor.aroundWriteTo(DigitalSigningInterceptor.java:147)\n        at org.jboss.resteasy.core.interception.AbstractWriterInterceptorContext.proceed(AbstractWriterInterceptorContext.java:129)\n        at org.jboss.resteasy.core.ServerResponseWriter.lambda$writeNomapResponse$2(ServerResponseWriter.java:151)\n        at org.jboss.resteasy.core.interception.ContainerResponseContextImpl.filter(ContainerResponseContextImpl.java:399)\n        at org.jboss.resteasy.core.ServerResponseWriter.executeFilters(ServerResponseWriter.java:219)\n        at org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:95)\n        at org.jboss.resteasy.core.ServerResponseWriter.writeNomapResponse(ServerResponseWriter.java:69)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeResponse(SynchronousDispatcher.java:530)\n        ... 61 more\nCaused by: javax.json.bind.JsonbException: Unable to serialize property 'User' from com.example.entities.Address\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.serializeInternal(ObjectSerializer.java:67)\n        at org.eclipse.yasson.internal.serializer.AbstractContainerSerializer.serialize(AbstractContainerSerializer.java:64)\n        at org.eclipse.yasson.internal.Marshaller.serializeRoot(Marshaller.java:148)\n        at org.eclipse.yasson.internal.Marshaller.marshall(Marshaller.java:76)\n        at org.eclipse.yasson.internal.Marshaller.marshall(Marshaller.java:102)\n        at org.eclipse.yasson.internal.JsonBinding.toJson(JsonBinding.java:118)\n        at org.jboss.resteasy.plugins.providers.jsonb.JsonBindingProvider.writeTo(JsonBindingProvider.java:156)\n        ... 72 more\nCaused by: javax.json.bind.JsonbException: Unable to serialize property 'additionalRequestTypeInfo' from com.example.entities.User_$$_jvst356_26b\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.serializeInternal(ObjectSerializer.java:67)\n        at org.eclipse.yasson.internal.serializer.AbstractContainerSerializer.serialize(AbstractContainerSerializer.java:64)\n        at org.eclipse.yasson.internal.serializer.AbstractContainerSerializer.serializerCaptor(AbstractContainerSerializer.java:96)\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.marshallProperty(ObjectSerializer.java:110)\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.serializeInternal(ObjectSerializer.java:65)\n        ... 78 more\nCaused by: org.hibernate.LazyInitializationException: could not initialize proxy - no Session\n        at org.hibernate.proxy.AbstractLazyInitializer.initialize(AbstractLazyInitializer.java:153)\n        at org.hibernate.proxy.AbstractLazyInitializer.getImplementation(AbstractLazyInitializer.java:266)\n        at org.hibernate.proxy.pojo.javassist.JavassistLazyInitializer.invoke(JavassistLazyInitializer.java:73)\n        at com.example.entities.User_$$_jvst356_26b.toString(User_$$_jvst356_26b.java)\n        at java.lang.String.valueOf(String.java:2994)\n        at java.lang.StringBuilder.append(StringBuilder.java:131)\n        at org.eclipse.yasson.internal.model.GetValueCommand.getValue(GetValueCommand.java:36)\n        at org.eclipse.yasson.internal.model.ReflectionPropagation.getValue(ReflectionPropagation.java:73)\n        at org.eclipse.yasson.internal.model.PropertyModel.getValue(PropertyModel.java:284)\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.marshallProperty(ObjectSerializer.java:87)\n        at org.eclipse.yasson.internal.serializer.ObjectSerializer.serializeInternal(ObjectSerializer.java:65)\n        ... 82 more\n\n</code></pre>\n<p>How can I integrate Resteasy and Spring with JTA correctly? I went throuh many official document and other post but it did not help so please help me if someone know how I can call userDAO.findCountById with proper transaction. The transaction aop configuration for spring classes is working but not for classes annotated with @ path and @ componant</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9538,"page":685,"page_size":100}
