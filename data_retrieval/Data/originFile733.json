{"items":[{"tags":["java","android"],"comments":[{"owner":{"account_id":27516793,"reputation":1,"user_id":20997607,"display_name":"Joshua Apurillo"},"score":0,"creation_date":1673591720,"post_id":75105462,"comment_id":132537878,"body_markdown":"what about the secondsRemaining on the public void onTick???","body":"what about the secondsRemaining on the public void onTick???"}],"answers":[{"tags":[],"owner":{"account_id":23653818,"reputation":565,"user_id":17682395,"display_name":"Heet Changela"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673602250,"creation_date":1673602250,"answer_id":75107239,"question_id":75105462,"body_markdown":"Firstly, Please add proper/entire code of your activity.\r\n\r\nI think your code was not right you have to check this demo [https://www.geeksforgeeks.org/countdowntimer-in-android-with-example/][1] and improve your code. You take **secondsRemaining** variable unnecessary. \r\n  \r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/countdowntimer-in-android-with-example/","title":"countdown timer in android studio","body":"<p>Firstly, Please add proper/entire code of your activity.</p>\n<p>I think your code was not right you have to check this demo <a href=\"https://www.geeksforgeeks.org/countdowntimer-in-android-with-example/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/countdowntimer-in-android-with-example/</a> and improve your code. You take <strong>secondsRemaining</strong> variable unnecessary.</p>\n"}],"owner":{"account_id":27516793,"reputation":1,"user_id":20997607,"display_name":"Joshua Apurillo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673602250,"creation_date":1673590224,"question_id":75105462,"body_markdown":"why my countdown timer in level 1 continuously run when i move to the next level/activity? pls help me!!! :( i&#39;m a newbie in programming\r\n\r\n    int secondsRemaining = 30;\r\n    CountDownTimer timer = new CountDownTimer(30000, 1000) {\r\n\r\n        @Override\r\n\r\n        public void onTick(long l) {\r\n\r\n            secondsRemaining --;\r\n\r\n            tv_timer.setText(Integer.toString(secondsRemaining) + &quot;sec&quot;);\r\n\r\n        }\r\n\r\n        @Override\r\n\r\n        public void onFinish() {\r\n\r\n            Intent intent = new Intent(easyQuiz1.this, TryAgain1.class);\r\n\r\n            startActivity(intent);\r\n\r\n            finish();\r\n\r\n        }\r\n\r\n    }.start();\r\n","title":"countdown timer in android studio","body":"<p>why my countdown timer in level 1 continuously run when i move to the next level/activity? pls help me!!! :( i'm a newbie in programming</p>\n<pre><code>int secondsRemaining = 30;\nCountDownTimer timer = new CountDownTimer(30000, 1000) {\n\n    @Override\n\n    public void onTick(long l) {\n\n        secondsRemaining --;\n\n        tv_timer.setText(Integer.toString(secondsRemaining) + &quot;sec&quot;);\n\n    }\n\n    @Override\n\n    public void onFinish() {\n\n        Intent intent = new Intent(easyQuiz1.this, TryAgain1.class);\n\n        startActivity(intent);\n\n        finish();\n\n    }\n\n}.start();\n</code></pre>\n"},{"tags":["java","regex","string","split"],"answers":[{"tags":[],"owner":{"account_id":1128247,"reputation":32675,"user_id":1114966,"accept_rate":100,"display_name":"squiguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1363672264,"creation_date":1363672264,"answer_id":15492367,"question_id":15492353,"body_markdown":"`*` has special meaning in regular expressions.  You have to escape it.\r\n\r\n    line.split(&quot;\\\\*&quot;);","title":"Regex Java String Split by Asterisk","body":"<p><code>*</code> has special meaning in regular expressions.  You have to escape it.</p>\n\n<pre><code>line.split(\"\\\\*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":118221,"reputation":16321,"user_id":309086,"display_name":"Aziz Shaikh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363672337,"creation_date":1363672337,"answer_id":15492384,"question_id":15492353,"body_markdown":"Try this statement:\r\n\r\n    line.split(&quot;\\\\*&quot;);","title":"Regex Java String Split by Asterisk","body":"<p>Try this statement:</p>\n\n<pre><code>line.split(\"\\\\*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2473735,"reputation":625,"user_id":2154872,"accept_rate":27,"display_name":"Cris_Towi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363672499,"creation_date":1363672499,"answer_id":15492422,"question_id":15492353,"body_markdown":"It is because you used a &quot;*&quot;, that is a regular expression. If you want to use this caracter, you need tu put something like that:\r\n\r\n    line.split(&quot;\\\\*&quot;);","title":"Regex Java String Split by Asterisk","body":"<p>It is because you used a \"*\", that is a regular expression. If you want to use this caracter, you need tu put something like that:</p>\n\n<pre><code>line.split(\"\\\\*\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363672846,"creation_date":1363672846,"answer_id":15492490,"question_id":15492353,"body_markdown":"**\\*** is a meta character in regular expression. It is used for matching 0 or more elements. If you want to use **\\*** as a normal character and not as a special character (i.e. skip its behavior as a meta character) then add escape characters before it.\r\n\r\nEg: `String[] split = line.split(&quot;\\\\*&quot;);`\r\n\r\nHope this helps.","title":"Regex Java String Split by Asterisk","body":"<p><strong>*</strong> is a meta character in regular expression. It is used for matching 0 or more elements. If you want to use <strong>*</strong> as a normal character and not as a special character (i.e. skip its behavior as a meta character) then add escape characters before it.</p>\n\n<p>Eg: <code>String[] split = line.split(\"\\\\*\");</code></p>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1673602288,"post_id":75085298,"comment_id":132540676,"body_markdown":"Thanks, @anubhava for the valuable suggestion. I have incorporated your suggestion in my answer now.","body":"Thanks, @anubhava for the valuable suggestion. I have incorporated your suggestion in my answer now."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673602123,"creation_date":1673450474,"answer_id":75085298,"question_id":15492353,"body_markdown":"As shown in the following [table](https://docs.oracle.com/javase/tutorial/essential/regex/quant.html), `*` has a special meaning, ***zero or more times***.\r\n\r\nGreedy|Reluctant|Possessive|Meaning\r\n-|-|-|-\r\nX? | X?? | X?+ | X, once or not at all\r\nX* | X*? | X*+ | X, zero or more times\r\nX+ |X+?  |X++  |X, one or more times\r\nX{n}|X{n}?|X{n}+|X, exactly n times\r\nX{n,}|X{n,}?|X{n,}+|X, at least n times\r\nX{n,m}|X{n,m}?|X{n,m}+|X, at least n but not more than m times\r\n\r\nTherefore, you need to escape it with a `\\`. However, `\\` too is a special character and therefore you need to put an additional `\\` to escape `\\`. Thus, the required pattern becomes `\\\\*`. \r\n\r\n    String[] arr = line.split(&quot;\\\\*&quot;);\r\n    System.out.println(java.util.Arrays.toString(arr));\r\n\r\nAlternatively, as [suggested by anubhava](https://stackoverflow.com/questions/15492353/regex-java-string-split-by-asterisk/75085298?noredirect=1#comment132537607_75085298), you can use `[*]`. The character, `*` is not required to be escaped when used as a [character class](https://docs.oracle.com/javase/tutorial/essential/regex/char_classes.html).\r\n\r\n    String[] arr = line.split(&quot;[*]&quot;);\r\n    System.out.println(java.util.Arrays.toString(arr));","title":"Regex Java String Split by Asterisk","body":"<p>As shown in the following <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/quant.html\" rel=\"nofollow noreferrer\">table</a>, <code>*</code> has a special meaning, <em><strong>zero or more times</strong></em>.</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Greedy</th>\n<th>Reluctant</th>\n<th>Possessive</th>\n<th>Meaning</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>X?</td>\n<td>X??</td>\n<td>X?+</td>\n<td>X, once or not at all</td>\n</tr>\n<tr>\n<td>X*</td>\n<td>X*?</td>\n<td>X*+</td>\n<td>X, zero or more times</td>\n</tr>\n<tr>\n<td>X+</td>\n<td>X+?</td>\n<td>X++</td>\n<td>X, one or more times</td>\n</tr>\n<tr>\n<td>X{n}</td>\n<td>X{n}?</td>\n<td>X{n}+</td>\n<td>X, exactly n times</td>\n</tr>\n<tr>\n<td>X{n,}</td>\n<td>X{n,}?</td>\n<td>X{n,}+</td>\n<td>X, at least n times</td>\n</tr>\n<tr>\n<td>X{n,m}</td>\n<td>X{n,m}?</td>\n<td>X{n,m}+</td>\n<td>X, at least n but not more than m times</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Therefore, you need to escape it with a <code>\\</code>. However, <code>\\</code> too is a special character and therefore you need to put an additional <code>\\</code> to escape <code>\\</code>. Thus, the required pattern becomes <code>\\\\*</code>.</p>\n<pre><code>String[] arr = line.split(&quot;\\\\*&quot;);\nSystem.out.println(java.util.Arrays.toString(arr));\n</code></pre>\n<p>Alternatively, as <a href=\"https://stackoverflow.com/questions/15492353/regex-java-string-split-by-asterisk/75085298?noredirect=1#comment132537607_75085298\">suggested by anubhava</a>, you can use <code>[*]</code>. The character, <code>*</code> is not required to be escaped when used as a <a href=\"https://docs.oracle.com/javase/tutorial/essential/regex/char_classes.html\" rel=\"nofollow noreferrer\">character class</a>.</p>\n<pre><code>String[] arr = line.split(&quot;[*]&quot;);\nSystem.out.println(java.util.Arrays.toString(arr));\n</code></pre>\n"}],"owner":{"account_id":1911746,"reputation":1287,"user_id":1725389,"accept_rate":77,"display_name":"princepiero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19475,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"accepted_answer_id":15492367,"answer_count":5,"score":19,"last_activity_date":1673602123,"creation_date":1363672204,"question_id":15492353,"body_markdown":"Help is needed.\r\n\r\n    line.split(&quot;*&quot;);\r\n\r\nI used this line of code to split a string into an asterisk mark. However, I got an error from my compiler. It says, &quot;INVALID REGULAR EXPRESSION: DANGLING META CHARACTER &#39;*&#39;&quot;\r\n\r\nHow to resolve this problem? Thanks in advance.","title":"Regex Java String Split by Asterisk","body":"<p>Help is needed.</p>\n\n<pre><code>line.split(\"*\");\n</code></pre>\n\n<p>I used this line of code to split a string into an asterisk mark. However, I got an error from my compiler. It says, \"INVALID REGULAR EXPRESSION: DANGLING META CHARACTER '*'\"</p>\n\n<p>How to resolve this problem? Thanks in advance.</p>\n"},{"tags":["java","android","singleton"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1461136892,"post_id":36736544,"comment_id":61055699,"body_markdown":"You can not use a non static variable in a static method","body":"You can not use a non static variable in a static method"},{"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"score":0,"creation_date":1461136999,"post_id":36736544,"comment_id":61055777,"body_markdown":"@Jens I didn&#39;t understand what you are saying. can you please tell me in detail","body":"@Jens I didn&#39;t understand what you are saying. can you please tell me in detail"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1461137128,"post_id":36736544,"comment_id":61055848,"body_markdown":"Are you using multiple threads?","body":"Are you using multiple threads?"},{"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"score":0,"creation_date":1461137246,"post_id":36736544,"comment_id":61055928,"body_markdown":"It&#39;s Android. so, yes It might be possible. @khelwood so, what I&#39;ve to do.","body":"It&#39;s Android. so, yes It might be possible. @khelwood so, what I&#39;ve to do."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1461137296,"post_id":36736544,"comment_id":61055959,"body_markdown":"Try putting `sync` blocks around your access to the `sSyncPrefs` static field.","body":"Try putting <code>sync</code> blocks around your access to the <code>sSyncPrefs</code> static field."},{"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"score":0,"creation_date":1461137454,"post_id":36736544,"comment_id":61056076,"body_markdown":"I&#39;m using Java 7. is `sync` blocks available for me to use?","body":"I&#39;m using Java 7. is <code>sync</code> blocks available for me to use?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1461137565,"post_id":36736544,"comment_id":61056166,"body_markdown":"Singletons are something that you should avoid; especially lazily-initialized singletons with constructor parameters (e.g. what if you try to get an instance with different parameters?). Is there a good reason you can&#39;t just create a `SyncPrefs` instance somewhere and inject it wherever it is needed?","body":"Singletons are something that you should avoid; especially lazily-initialized singletons with constructor parameters (e.g. what if you try to get an instance with different parameters?). Is there a good reason you can&#39;t just create a <code>SyncPrefs</code> instance somewhere and inject it wherever it is needed?"},{"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"score":0,"creation_date":1461137638,"post_id":36736544,"comment_id":61056216,"body_markdown":"@AndyTurner I&#39;ve already tried it. that din&#39;t work for me.","body":"@AndyTurner I&#39;ve already tried it. that din&#39;t work for me."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1461137695,"post_id":36736544,"comment_id":61056267,"body_markdown":"@Ka7Im1011 You may have tried *something* that didn&#39;t work (whatever &quot;didn&#39;t work&quot; means). I can assure you that you can write it without a singleton.","body":"@Ka7Im1011 You may have tried <i>something</i> that didn&#39;t work (whatever &quot;didn&#39;t work&quot; means). I can assure you that you can write it without a singleton."}],"answers":[{"comments":[{"owner":{"account_id":309230,"reputation":1914,"user_id":621567,"accept_rate":85,"display_name":"Theresa Forster"},"score":0,"creation_date":1462139101,"post_id":36736760,"comment_id":61500180,"body_markdown":"Ok so 2 negative entries, but where are the comments explaining why? This is not how it is done.","body":"Ok so 2 negative entries, but where are the comments explaining why? This is not how it is done."}],"tags":[],"owner":{"account_id":309230,"reputation":1914,"user_id":621567,"accept_rate":85,"display_name":"Theresa Forster"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1461137401,"creation_date":1461137401,"answer_id":36736760,"question_id":36736544,"body_markdown":"You need to set the Static in the constructor so when the singleton is initialised then it sets the TAG, \r\nThe code you list doesn&#39;t have the method you are calling either. SyncPrefs is a singleton so there should be no public constructor and the constructor should either be checked on the getInstance or within a static block (the Spring way of doing it) \r\n\r\n        public static class SyncPrefs {\r\n        \r\n         private static SyncPrefs instance;\r\n         private static final String TAG;\r\n        \r\n         private SyncPrefs() {\r\n             TAG = &quot;Something&quot;;\r\n        }\r\n        \r\n         public static SyncPrefs getInstance() {\r\n            if(instance == null)\r\n            { \r\n                 instance = new SyncPrefs();\r\n            }\r\n            return instance;\r\n        }\r\n    }","title":"Can&#39;t initialize static member in Singleton class in Java - Android","body":"<p>You need to set the Static in the constructor so when the singleton is initialised then it sets the TAG, \nThe code you list doesn't have the method you are calling either. SyncPrefs is a singleton so there should be no public constructor and the constructor should either be checked on the getInstance or within a static block (the Spring way of doing it) </p>\n\n<pre><code>    public static class SyncPrefs {\n\n     private static SyncPrefs instance;\n     private static final String TAG;\n\n     private SyncPrefs() {\n         TAG = \"Something\";\n    }\n\n     public static SyncPrefs getInstance() {\n        if(instance == null)\n        { \n             instance = new SyncPrefs();\n        }\n        return instance;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1461137444,"post_id":36736765,"comment_id":61056065,"body_markdown":"This is true, but the posted logcat shows that the one which actually does initialize the variable is called first.","body":"This is true, but the posted logcat shows that the one which actually does initialize the variable is called first."},{"owner":{"account_id":744888,"reputation":47860,"user_id":721079,"accept_rate":78,"display_name":"Alexander"},"score":0,"creation_date":1461137487,"post_id":36736765,"comment_id":61056100,"body_markdown":"Maybe the singleton gets garbage collected","body":"Maybe the singleton gets garbage collected"},{"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"score":0,"creation_date":1461137524,"post_id":36736765,"comment_id":61056126,"body_markdown":"@AndyTurner yes, You&#39;re right. I&#39;ve initialized it.","body":"@AndyTurner yes, You&#39;re right. I&#39;ve initialized it."},{"owner":{"account_id":744888,"reputation":47860,"user_id":721079,"accept_rate":78,"display_name":"Alexander"},"score":0,"creation_date":1461137595,"post_id":36736765,"comment_id":61056180,"body_markdown":"Maybe you initialized it but it&#39;s gone. Why not to do the same lazy initialization in getInstance() as you did in getInstance(x, y)","body":"Maybe you initialized it but it&#39;s gone. Why not to do the same lazy initialization in getInstance() as you did in getInstance(x, y)"},{"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"score":0,"creation_date":1461137870,"post_id":36736765,"comment_id":61056377,"body_markdown":"@AlexanderKulyakhtin That&#39;s not possible because the second param is `Fragment` itself. I can&#39;t call `getInstace(x,y)` from anywhere unless from `Fragment` itself.","body":"@AlexanderKulyakhtin That&#39;s not possible because the second param is <code>Fragment</code> itself. I can&#39;t call <code>getInstace(x,y)</code> from anywhere unless from <code>Fragment</code> itself."},{"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"score":0,"creation_date":1461137978,"post_id":36736765,"comment_id":61056445,"body_markdown":"@AlexanderKulyakhtin I guarantee that `sSyncPrefs` will initialized first. before any no-params `getInstance()` get called.","body":"@AlexanderKulyakhtin I guarantee that <code>sSyncPrefs</code> will initialized first. before any no-params <code>getInstance()</code> get called."}],"tags":[],"owner":{"account_id":744888,"reputation":47860,"user_id":721079,"accept_rate":78,"display_name":"Alexander"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461137407,"creation_date":1461137407,"answer_id":36736765,"question_id":36736544,"body_markdown":"You have 2 `getInstance()` and one of them will always return `null` unless you call the other one before.","title":"Can&#39;t initialize static member in Singleton class in Java - Android","body":"<p>You have 2 <code>getInstance()</code> and one of them will always return <code>null</code> unless you call the other one before.</p>\n"},{"comments":[{"owner":{"account_id":744888,"reputation":47860,"user_id":721079,"accept_rate":78,"display_name":"Alexander"},"score":0,"creation_date":1461147101,"post_id":36737328,"comment_id":61063073,"body_markdown":"Dohble-checked, seriously? :-)","body":"Dohble-checked, seriously? :-)"},{"owner":{"account_id":744888,"reputation":47860,"user_id":721079,"accept_rate":78,"display_name":"Alexander"},"score":0,"creation_date":1461147102,"post_id":36737328,"comment_id":61063075,"body_markdown":"Dohble-checked, seriously? :-)","body":"Dohble-checked, seriously? :-)"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1461147293,"post_id":36737328,"comment_id":61063220,"body_markdown":"@AlexanderKulyakhtin What alternative method do you propose (other than not using a lazy singleton)? Single-element enum doesn&#39;t work because of the parameters; always-synchronized works but is slower because it always locks.","body":"@AlexanderKulyakhtin What alternative method do you propose (other than not using a lazy singleton)? Single-element enum doesn&#39;t work because of the parameters; always-synchronized works but is slower because it always locks."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1461147387,"post_id":36737328,"comment_id":61063288,"body_markdown":"@AlexanderKulyakhtin (And is your second comment just in case the first one was null?)","body":"@AlexanderKulyakhtin (And is your second comment just in case the first one was null?)"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1461138938,"creation_date":1461138938,"answer_id":36737328,"question_id":36736544,"body_markdown":"I *strongly* recommend that you stop using a singleton here. As your question demonstrates, singletons are not easy to implement correctly, especially if you are initializing them lazily.\r\n\r\nHowever, I believe that the reason your code isn&#39;t working here is facing a basic memory visibility issue: there is no guarantee that multiple threads see the most recent value for non-volatile variables.\r\n\r\n(I am assuming that you don&#39;t simply have another bit of code that you didn&#39;t share, where you make another assignment of `sSyncPrefs` to `null`).\r\n\r\nTo implement this &quot;correctly&quot; (and I use the term loosely, because I don&#39;t think that a singleton is appropriate), you would need to use [double-checked locking](https://en.wikipedia.org/wiki/Double-checked_locking):\r\n\r\n1. Make the `sSyncPrefs` variable `volatile`:\r\n\r\n        private static volatile SyncPrefs sSyncPrefs;\r\n\r\n   This ensures that updates to `sSyncPrefs` are not cached by threads, and that the value is always read from main memory.\r\n\r\n2. Use synchronization when you check for nullity:\r\n\r\n        public static SyncPrefs getInstance(Context context, final Employees employees) {\r\n          if (sSyncPrefs == null) {\r\n            synchronized (SyncPrefs.class) {\r\n              if (sSyncPrefs == null) {\r\n                sSyncPrefs = new SyncPrefs(context, employees);\r\n                Log.e(TAG, &quot;getInstance(Context, Employees) called&quot;);\r\n                Log.e(TAG, &quot;sSyncPrefs initialized at: &quot; + sSyncPrefs);\r\n              }\r\n            }\r\n          }\r\n          return sSyncPrefs;\r\n        }\r\n\r\n  The first `null` check allows you to skip the synchronization once the variable has been initialized; if it is found to be null, the synchronization ensures that no other thread updates the value at the same time.\r\n\r\n3. You also need to use double-checked locking in the no-args `getInstance()` method to add a check that the variable has actually been initialized.\r\n\r\n        public static SyncPrefs getInstance() {\r\n          if (sSyncPrefs == null) {\r\n            synchronized (SyncPrefs.class) {\r\n              if (sSyncPrefs == null) {\r\n                throw new IllegalStateException(&quot;getInstance(Context, Employees) was not called first!&quot;);\r\n              }\r\n            }\r\n          }\r\n          return sSyncPrefs;\r\n        }\r\n","title":"Can&#39;t initialize static member in Singleton class in Java - Android","body":"<p>I <em>strongly</em> recommend that you stop using a singleton here. As your question demonstrates, singletons are not easy to implement correctly, especially if you are initializing them lazily.</p>\n\n<p>However, I believe that the reason your code isn't working here is facing a basic memory visibility issue: there is no guarantee that multiple threads see the most recent value for non-volatile variables.</p>\n\n<p>(I am assuming that you don't simply have another bit of code that you didn't share, where you make another assignment of <code>sSyncPrefs</code> to <code>null</code>).</p>\n\n<p>To implement this \"correctly\" (and I use the term loosely, because I don't think that a singleton is appropriate), you would need to use <a href=\"https://en.wikipedia.org/wiki/Double-checked_locking\" rel=\"nofollow\">double-checked locking</a>:</p>\n\n<ol>\n<li><p>Make the <code>sSyncPrefs</code> variable <code>volatile</code>:</p>\n\n<pre><code>private static volatile SyncPrefs sSyncPrefs;\n</code></pre>\n\n<p>This ensures that updates to <code>sSyncPrefs</code> are not cached by threads, and that the value is always read from main memory.</p></li>\n<li><p>Use synchronization when you check for nullity:</p>\n\n<pre><code>public static SyncPrefs getInstance(Context context, final Employees employees) {\n  if (sSyncPrefs == null) {\n    synchronized (SyncPrefs.class) {\n      if (sSyncPrefs == null) {\n        sSyncPrefs = new SyncPrefs(context, employees);\n        Log.e(TAG, \"getInstance(Context, Employees) called\");\n        Log.e(TAG, \"sSyncPrefs initialized at: \" + sSyncPrefs);\n      }\n    }\n  }\n  return sSyncPrefs;\n}\n</code></pre>\n\n<p>The first <code>null</code> check allows you to skip the synchronization once the variable has been initialized; if it is found to be null, the synchronization ensures that no other thread updates the value at the same time.</p></li>\n<li><p>You also need to use double-checked locking in the no-args <code>getInstance()</code> method to add a check that the variable has actually been initialized.</p>\n\n<pre><code>public static SyncPrefs getInstance() {\n  if (sSyncPrefs == null) {\n    synchronized (SyncPrefs.class) {\n      if (sSyncPrefs == null) {\n        throw new IllegalStateException(\"getInstance(Context, Employees) was not called first!\");\n      }\n    }\n  }\n  return sSyncPrefs;\n}\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":4559240,"reputation":1785,"user_id":3702021,"accept_rate":70,"display_name":"Kasim Rangwala"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1673601864,"creation_date":1461136814,"question_id":36736544,"body_markdown":"I&#39;ve Singleton `SharedPreferences` helper class name `SyncPrefs`.\r\n\r\n    public class SyncPrefs {\r\n\r\n        public static final String TAG = SyncPrefs.class.getSimpleName();\r\n\r\n        private static final String HrEmployeeSyncFinished = &quot;hrEmployeeSyncFinished&quot;;\r\n\r\n        private SharedPreferences mPrefs;\r\n        private SyncFinishedListener mSyncFinishedListener;\r\n\r\n        private static SyncPrefs sSyncPrefs;\r\n\r\n        private SyncPrefs(Context context, final Employees employees) {\r\n            mPrefs = context.getSharedPreferences(TAG, Context.MODE_PRIVATE);\r\n            mSyncFinishedListener = new SyncFinishedListener() {\r\n                @Override\r\n                public void onSyncFinished() {\r\n                    employees.mSyncFinishedListener.onSyncFinished();\r\n                }\r\n            };\r\n            // This call start sync &amp; make isSyncFinished() getting called\r\n            SyncUtils.get(context).requestSync(HrEmployee.AUTHORITY);\r\n        }\r\n\r\n        public static SyncPrefs getInstance(Context context, final Employees employees) {\r\n            if (sSyncPrefs == null) {\r\n                sSyncPrefs = new SyncPrefs(context, employees);\r\n                Log.e(TAG, &quot;getInstance(Context, Employees) called&quot;);\r\n                Log.e(TAG, &quot;sSyncPrefs initialized at: &quot; + sSyncPrefs);\r\n            }\r\n            return sSyncPrefs;\r\n        }\r\n\r\n        public static SyncPrefs getInstance() {\r\n            Log.e(TAG, &quot;getInstance() called&quot;);\r\n            Log.e(TAG, &quot;sSyncPrefs is: &quot; + sSyncPrefs);\r\n            return sSyncPrefs;\r\n        }\r\n\r\n        private boolean isSyncFinished() {\r\n            boolean isSyncFinished = isHrEmployeeSyncFinished();\r\n            // isSyncFinished = true;\r\n            Log.e(TAG, &quot;isSyncFinished is :&quot; + isSyncFinished);\r\n            if (isSyncFinished) {\r\n                try {\r\n                    setHrEmployeeSyncFinished(false);\r\n                    mSyncFinishedListener.onSyncFinished();\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return isSyncFinished;\r\n        }\r\n\r\n        private boolean isHrEmployeeSyncFinished() {\r\n            return mPrefs.getBoolean(HrEmployeeSyncFinished, false);\r\n        }\r\n\r\n        public SyncPrefs setHrEmployeeSyncFinished(boolean hrEmployeeSyncFinished) {\r\n            mPrefs.edit().putBoolean(HrEmployeeSyncFinished, hrEmployeeSyncFinished).apply();\r\n            if (hrEmployeeSyncFinished) {\r\n                isSyncFinished();\r\n            }\r\n            return this;\r\n        }\r\n    }\r\n\r\nThe above code should run fine. but, somehow I can&#39;t initialize the `static` member `sSyncPrefs`. I&#39;ve coonfirmed that `sSyncPrefs` is getting initialized. but, when I called `getInstance()` it always returns `null`.\r\n\r\nHere&#39;s are some logs:\r\n\r\n    E/SyncPrefs: getInstance(Context, Employees) called\r\n    // Look here, it has memory address\r\n\tE/SyncPrefs: sSyncPrefs initialized at: com.odoo.addons.employees.utils.SyncPrefs@7d0e0a5\r\n\tE/HrEmployee: onSyncStarted\r\n\tE/HrEmployee: onSyncFinished\r\n\tE/SyncPrefs: getInstance() called\r\n    // now, where the memory address gone?\r\n\tE/SyncPrefs: sSyncPrefs is: null\r\n\r\nI don&#39;t know why this is happening. Any ideas, answers or suggestions will be appreciated.","title":"Can&#39;t initialize static member in Singleton class in Java - Android","body":"<p>I've Singleton <code>SharedPreferences</code> helper class name <code>SyncPrefs</code>.</p>\n<pre><code>public class SyncPrefs {\n\n    public static final String TAG = SyncPrefs.class.getSimpleName();\n\n    private static final String HrEmployeeSyncFinished = &quot;hrEmployeeSyncFinished&quot;;\n\n    private SharedPreferences mPrefs;\n    private SyncFinishedListener mSyncFinishedListener;\n\n    private static SyncPrefs sSyncPrefs;\n\n    private SyncPrefs(Context context, final Employees employees) {\n        mPrefs = context.getSharedPreferences(TAG, Context.MODE_PRIVATE);\n        mSyncFinishedListener = new SyncFinishedListener() {\n            @Override\n            public void onSyncFinished() {\n                employees.mSyncFinishedListener.onSyncFinished();\n            }\n        };\n        // This call start sync &amp; make isSyncFinished() getting called\n        SyncUtils.get(context).requestSync(HrEmployee.AUTHORITY);\n    }\n\n    public static SyncPrefs getInstance(Context context, final Employees employees) {\n        if (sSyncPrefs == null) {\n            sSyncPrefs = new SyncPrefs(context, employees);\n            Log.e(TAG, &quot;getInstance(Context, Employees) called&quot;);\n            Log.e(TAG, &quot;sSyncPrefs initialized at: &quot; + sSyncPrefs);\n        }\n        return sSyncPrefs;\n    }\n\n    public static SyncPrefs getInstance() {\n        Log.e(TAG, &quot;getInstance() called&quot;);\n        Log.e(TAG, &quot;sSyncPrefs is: &quot; + sSyncPrefs);\n        return sSyncPrefs;\n    }\n\n    private boolean isSyncFinished() {\n        boolean isSyncFinished = isHrEmployeeSyncFinished();\n        // isSyncFinished = true;\n        Log.e(TAG, &quot;isSyncFinished is :&quot; + isSyncFinished);\n        if (isSyncFinished) {\n            try {\n                setHrEmployeeSyncFinished(false);\n                mSyncFinishedListener.onSyncFinished();\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n        return isSyncFinished;\n    }\n\n    private boolean isHrEmployeeSyncFinished() {\n        return mPrefs.getBoolean(HrEmployeeSyncFinished, false);\n    }\n\n    public SyncPrefs setHrEmployeeSyncFinished(boolean hrEmployeeSyncFinished) {\n        mPrefs.edit().putBoolean(HrEmployeeSyncFinished, hrEmployeeSyncFinished).apply();\n        if (hrEmployeeSyncFinished) {\n            isSyncFinished();\n        }\n        return this;\n    }\n}\n</code></pre>\n<p>The above code should run fine. but, somehow I can't initialize the <code>static</code> member <code>sSyncPrefs</code>. I've coonfirmed that <code>sSyncPrefs</code> is getting initialized. but, when I called <code>getInstance()</code> it always returns <code>null</code>.</p>\n<p>Here's are some logs:</p>\n<pre><code>E/SyncPrefs: getInstance(Context, Employees) called\n// Look here, it has memory address\nE/SyncPrefs: sSyncPrefs initialized at: com.odoo.addons.employees.utils.SyncPrefs@7d0e0a5\nE/HrEmployee: onSyncStarted\nE/HrEmployee: onSyncFinished\nE/SyncPrefs: getInstance() called\n// now, where the memory address gone?\nE/SyncPrefs: sSyncPrefs is: null\n</code></pre>\n<p>I don't know why this is happening. Any ideas, answers or suggestions will be appreciated.</p>\n"},{"tags":["java","excel","jmeter","apache-poi","jsr223"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673601747,"creation_date":1673601747,"answer_id":75107152,"question_id":75105644,"body_markdown":"It&#39;s an [Excel limitation][1], you won&#39;t be able to overcome this. \r\n\r\nWhat you can do is to split the large string and save it to the neighbor cell.\r\n\r\nExample code:\r\n\r\n\tdef wb = new org.apache.poi.hssf.usermodel.HSSFWorkbook()\r\n\t\r\n\tdef sheet = wb.createSheet(&quot;new sheet&quot;)\r\n\t\r\n\tdef row = sheet.createRow(0)\r\n\t\r\n\tdef variable = vars.get(&#39;your-variable-name&#39;)\r\n\t\r\n\tdef chunkSize = 32767\r\n\t\r\n\tdef parts = java.util.stream.IntStream.iterate(0, i -&gt; i &lt; variable.length(), i -&gt; i + chunkSize)\r\n\t        .mapToObj(i -&gt; variable.substring(i, Math.min(variable.length(), i + chunkSize)))\r\n\t        .collect(java.util.stream.Collectors.toList());\r\n\t\r\n\tparts.eachWithIndex { entry, index -&gt;\r\n\t    def cell = row.createCell(index)\r\n\t    cell.setCellValue(entry)\r\n\t}\r\n\t\r\n\twb.write(new File(&#39;file.xls&#39;))\r\n\r\nMore information:\r\n\r\n - [Busy Developers&#39; Guide to HSSF and XSSF Features][2]  \r\n - [Apache Groovy: What Is Groovy Used For?][3]\r\n\r\n\r\n  [1]: https://bz.apache.org/bugzilla/show_bug.cgi?id=56579\r\n  [2]: https://poi.apache.org/components/spreadsheet/quick-guide.html\r\n  [3]: https://www.blazemeter.com/blog/apache-groovy","title":"How automatically split data into multiple cells using Apache poi HSSF libraries?","body":"<p>It's an <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=56579\" rel=\"nofollow noreferrer\">Excel limitation</a>, you won't be able to overcome this.</p>\n<p>What you can do is to split the large string and save it to the neighbor cell.</p>\n<p>Example code:</p>\n<pre><code>def wb = new org.apache.poi.hssf.usermodel.HSSFWorkbook()\n\ndef sheet = wb.createSheet(&quot;new sheet&quot;)\n\ndef row = sheet.createRow(0)\n\ndef variable = vars.get('your-variable-name')\n\ndef chunkSize = 32767\n\ndef parts = java.util.stream.IntStream.iterate(0, i -&gt; i &lt; variable.length(), i -&gt; i + chunkSize)\n        .mapToObj(i -&gt; variable.substring(i, Math.min(variable.length(), i + chunkSize)))\n        .collect(java.util.stream.Collectors.toList());\n\nparts.eachWithIndex { entry, index -&gt;\n    def cell = row.createCell(index)\n    cell.setCellValue(entry)\n}\n\nwb.write(new File('file.xls'))\n</code></pre>\n<p>More information:</p>\n<ul>\n<li><a href=\"https://poi.apache.org/components/spreadsheet/quick-guide.html\" rel=\"nofollow noreferrer\">Busy Developers' Guide to HSSF and XSSF Features</a></li>\n<li><a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Apache Groovy: What Is Groovy Used For?</a></li>\n</ul>\n"}],"owner":{"account_id":20508639,"reputation":9,"user_id":15050866,"display_name":"Vaibhav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673601747,"creation_date":1673591751,"question_id":75105644,"body_markdown":"I have a variable which is more than 32767 characters long and when I&#39;m trying to write that data into a single cell using Apache poi HSSF libraries I&#39;m getting below error\r\n[![Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tyyHv.png\r\n\r\nHow can I automatically split that data into multiple cells column wise i.e. my row should remain the same but data will be auto split into multiple column on the same row using Apache poi HSSF libraries?\r\nThanks","title":"How automatically split data into multiple cells using Apache poi HSSF libraries?","body":"<p>I have a variable which is more than 32767 characters long and when I'm trying to write that data into a single cell using Apache poi HSSF libraries I'm getting below error\n<a href=\"https://i.stack.imgur.com/tyyHv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tyyHv.png\" alt=\"Error\" /></a></p>\n<p>How can I automatically split that data into multiple cells column wise i.e. my row should remain the same but data will be auto split into multiple column on the same row using Apache poi HSSF libraries?\nThanks</p>\n"},{"tags":["java","android","android-recyclerview","imageview","android-glide"],"answers":[{"comments":[{"owner":{"account_id":24021591,"reputation":114,"user_id":18003799,"display_name":"Seife"},"score":0,"creation_date":1673603063,"post_id":75107150,"comment_id":132540942,"body_markdown":"This caches in both memory and disk.","body":"This caches in both memory and disk."},{"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"score":0,"creation_date":1673603598,"post_id":75107150,"comment_id":132541098,"body_markdown":"try this .https://bumptech.github.io/glide/doc/caching.html","body":"try this .<a href=\"https://bumptech.github.io/glide/doc/caching.html\" rel=\"nofollow noreferrer\">bumptech.github.io/glide/doc/caching.html</a>"}],"tags":[],"owner":{"account_id":18378745,"reputation":802,"user_id":13387235,"display_name":"Dhruv Sakariya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673601744,"creation_date":1673601744,"answer_id":75107150,"question_id":75106940,"body_markdown":"Try this.\r\n\r\nGlide.with(context).load(imageUrl).into(holder.myImgView);","title":"Showing lists of image to RecyclerView from internet","body":"<p>Try this.</p>\n<p>Glide.with(context).load(imageUrl).into(holder.myImgView);</p>\n"}],"owner":{"account_id":24021591,"reputation":114,"user_id":18003799,"display_name":"Seife"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673601744,"creation_date":1673600450,"question_id":75106940,"body_markdown":"I have a long list of images that i need to show in to recyclerView. I am using glide to show the images from my adapter.\r\n\r\n```\r\nGlide.with(context).load(feed.getImgLink()).diskCacheStrategy(DiskCacheStrategy.NONE).into(holder.myImgView);\r\n```\r\nThe above is the code am using i set the DiskCacheStrategy to none because I&#39;m trying to show Instagram like Feed and i didn&#39;t want to permanently cache the img on disk.\r\n\r\nThe first time i see the image there is no problem it is displayed normal but after i scroll down and back up the image reload again. I get that i haven&#39;t cache the image in to disk but there is still momery cache.\r\n\r\n\r\n\r\nIs there any way i can solve i could use diskcache to ALL but it is taking space for just one time viewing.","title":"Showing lists of image to RecyclerView from internet","body":"<p>I have a long list of images that i need to show in to recyclerView. I am using glide to show the images from my adapter.</p>\n<pre><code>Glide.with(context).load(feed.getImgLink()).diskCacheStrategy(DiskCacheStrategy.NONE).into(holder.myImgView);\n</code></pre>\n<p>The above is the code am using i set the DiskCacheStrategy to none because I'm trying to show Instagram like Feed and i didn't want to permanently cache the img on disk.</p>\n<p>The first time i see the image there is no problem it is displayed normal but after i scroll down and back up the image reload again. I get that i haven't cache the image in to disk but there is still momery cache.</p>\n<p>Is there any way i can solve i could use diskcache to ALL but it is taking space for just one time viewing.</p>\n"},{"tags":["java","image","jpanel"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1427322673,"post_id":29267761,"comment_id":46736976,"body_markdown":"What *exactly* do you mean by &quot;import&quot; here?","body":"What <i>exactly</i> do you mean by &quot;import&quot; here?"},{"owner":{"account_id":91502,"reputation":88311,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1427323145,"post_id":29267761,"comment_id":46737183,"body_markdown":"We have no idea what you&#39;re asking especially when there is no code sample to show what you&#39;re trying to do.","body":"We have no idea what you&#39;re asking especially when there is no code sample to show what you&#39;re trying to do."},{"owner":{"account_id":5761194,"reputation":131,"user_id":4547575,"accept_rate":67,"display_name":"jack zhang"},"score":0,"creation_date":1427325633,"post_id":29267761,"comment_id":46738137,"body_markdown":"I want to add images in my program","body":"I want to add images in my program"},{"owner":{"account_id":23143,"reputation":53986,"user_id":57752,"accept_rate":73,"display_name":"Eddie"},"score":0,"creation_date":1427326849,"post_id":29267761,"comment_id":46738526,"body_markdown":"You need to give more information about what you are trying to do, what classes or libraries you are trying to use, and so on.  Are you trying to load images so that you can show them in your application, e.g., a Swing application?  Are you trying to load images so you can process them somehow and then write them out to disk?  Just &quot;add images&quot; is too vague.","body":"You need to give more information about what you are trying to do, what classes or libraries you are trying to use, and so on.  Are you trying to load images so that you can show them in your application, e.g., a Swing application?  Are you trying to load images so you can process them somehow and then write them out to disk?  Just &quot;add images&quot; is too vague."},{"owner":{"account_id":5761194,"reputation":131,"user_id":4547575,"accept_rate":67,"display_name":"jack zhang"},"score":0,"creation_date":1427377584,"post_id":29267761,"comment_id":46758019,"body_markdown":"I wanted to do a program where I ask the user a question for example: what is 7/2=?, and if the user get it right a picture/image will pop up from the Jpanel.","body":"I wanted to do a program where I ask the user a question for example: what is 7/2=?, and if the user get it right a picture/image will pop up from the Jpanel."}],"answers":[{"comments":[{"owner":{"account_id":2247942,"reputation":1289,"user_id":1980882,"accept_rate":60,"display_name":"moarCoffee"},"score":0,"creation_date":1427531941,"post_id":29268188,"comment_id":46822805,"body_markdown":"I&#39;m not going to write your whole program for you. That&#39;s not what this site is for.","body":"I&#39;m not going to write your whole program for you. That&#39;s not what this site is for."},{"owner":{"account_id":5761194,"reputation":131,"user_id":4547575,"accept_rate":67,"display_name":"jack zhang"},"score":0,"creation_date":1427768547,"post_id":29268188,"comment_id":46903301,"body_markdown":":(, will then I have no idea on how to do it. I tried every youtube video there is for how to display a jpg image on java but non of it actually works.... D:","body":":(, will then I have no idea on how to do it. I tried every youtube video there is for how to display a jpg image on java but non of it actually works.... D:"}],"tags":[],"owner":{"account_id":2247942,"reputation":1289,"user_id":1980882,"accept_rate":60,"display_name":"moarCoffee"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427324772,"creation_date":1427324772,"answer_id":29268188,"question_id":29267761,"body_markdown":"Given that you&#39;ve tagged `JPanel` in your question, I&#39;m going to assume that you&#39;re using swing. You can add an image to a `JLabel` like so:\r\n\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.ImageIcon;\r\n    import java.net.URL;\r\n    \r\n    // inside your class constructor/method\r\n    JPanel panel = new JPanel();\r\n    ImageIcon img = new ImageIcon(new URL(&quot;http://image....&quot;));\r\n    JLabel jlPic = new JLabel(img);\r\n    \r\n    panel.add(jlPic);\r\n\r\nIf your image is on your computer instead of from a URL, you can simply pass a `String` path to that image to the constructor of `ImageIcon` instead.","title":"How do I import a jpg image in java?","body":"<p>Given that you've tagged <code>JPanel</code> in your question, I'm going to assume that you're using swing. You can add an image to a <code>JLabel</code> like so:</p>\n\n<pre><code>import javax.swing.JPanel;\nimport javax.swing.JLabel;\nimport javax.swing.ImageIcon;\nimport java.net.URL;\n\n// inside your class constructor/method\nJPanel panel = new JPanel();\nImageIcon img = new ImageIcon(new URL(\"http://image....\"));\nJLabel jlPic = new JLabel(img);\n\npanel.add(jlPic);\n</code></pre>\n\n<p>If your image is on your computer instead of from a URL, you can simply pass a <code>String</code> path to that image to the constructor of <code>ImageIcon</code> instead.</p>\n"}],"owner":{"account_id":5761194,"reputation":131,"user_id":4547575,"accept_rate":67,"display_name":"jack zhang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11621,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1673601115,"creation_date":1427322609,"question_id":29267761,"body_markdown":"I wanted to import a image in java, and I have no idea how to do it. I need someone to show me how. I wanted to import a jpg image I found on google, I tried and a lot example code online but none of them works for me. The application I use for programming my code is by using eclipse. P.S I use a mac. ","title":"How do I import a jpg image in java?","body":"<p>I wanted to import a image in java, and I have no idea how to do it. I need someone to show me how. I wanted to import a jpg image I found on google, I tried and a lot example code online but none of them works for me. The application I use for programming my code is by using eclipse. P.S I use a mac. </p>\n"},{"tags":["java","swagger","swagger-codegen","swagger-editor"],"answers":[{"tags":[],"owner":{"account_id":11864138,"reputation":1365,"user_id":8682068,"display_name":"RubenDG"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1673601099,"creation_date":1541838418,"answer_id":53237264,"question_id":53235812,"body_markdown":"In order to generate a `Long` property you have to use `integer` as type and `int64` as format\r\n\r\n    phoneNum:\r\n        type: integer\r\n        format: int64\r\n\r\nLooking at [AbstractJavaCodegen](https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/main/java/io/swagger/codegen/languages/AbstractJavaCodegen.java) I think there is no way to generate a `Timestamp` property.  \r\nThe only available types are:  \r\n\r\n - `org.threeten.bp.LocalDate`\r\n - `org.threeten.bp.OffsetDateTime`\r\n - `org.joda.time.LocalDate` \r\n - `org.joda.time.DateTime` \r\n - `java.time.LocalDate`\r\n - `java.time.LocalDateTime`\r\n - `java.time.OffsetDateTime`\r\n - `java.time.Instant` (added on Feb 2019)\r\n - `java.util.Date`\r\n\r\nHere&#39;s a way to convert OffsetDateTime to Timestamp\r\n\r\n    OffsetDateTime dateTime = OffsetDateTime.now();\r\n    Timestamp timestamp = Timestamp.valueOf(dateTime.atZoneSameInstant(ZoneId.systemDefault()).toLocalDateTime());\r\n\r\n","title":"swagger.yaml :: How to generate properties with &quot;Long&quot; data type and &quot;Timestamp&quot; datatype?","body":"<p>In order to generate a <code>Long</code> property you have to use <code>integer</code> as type and <code>int64</code> as format</p>\n<pre><code>phoneNum:\n    type: integer\n    format: int64\n</code></pre>\n<p>Looking at <a href=\"https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/main/java/io/swagger/codegen/languages/AbstractJavaCodegen.java\" rel=\"noreferrer\">AbstractJavaCodegen</a> I think there is no way to generate a <code>Timestamp</code> property.<br />\nThe only available types are:</p>\n<ul>\n<li><code>org.threeten.bp.LocalDate</code></li>\n<li><code>org.threeten.bp.OffsetDateTime</code></li>\n<li><code>org.joda.time.LocalDate</code></li>\n<li><code>org.joda.time.DateTime</code></li>\n<li><code>java.time.LocalDate</code></li>\n<li><code>java.time.LocalDateTime</code></li>\n<li><code>java.time.OffsetDateTime</code></li>\n<li><code>java.time.Instant</code> (added on Feb 2019)</li>\n<li><code>java.util.Date</code></li>\n</ul>\n<p>Here's a way to convert OffsetDateTime to Timestamp</p>\n<pre><code>OffsetDateTime dateTime = OffsetDateTime.now();\nTimestamp timestamp = Timestamp.valueOf(dateTime.atZoneSameInstant(ZoneId.systemDefault()).toLocalDateTime());\n</code></pre>\n"}],"owner":{"account_id":14540892,"reputation":1111,"user_id":10502646,"display_name":"snmaddula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12368,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":53237264,"answer_count":1,"score":7,"last_activity_date":1673601099,"creation_date":1541821243,"question_id":53235812,"body_markdown":"I am using `swagger-codegen-maven-plugin` to generate Java classes based on `swagger.yaml` spec.\r\n\r\nI have added a property `phoneNum` in the `swagger.yaml` as below:\r\n\r\n    phoneNum:\r\n        type: number\r\n\r\nI am expecting it generate the property with `Integer` or `Long` datatype.&lt;br&gt;But it got generated as `BigDecimal phoneNum;`\r\n\r\nAs per the [swagger docs](https://swagger.io/docs/specification/data-models/data-types/#numbers), it was mentioned to use `format: int64`\r\n\r\n      phoneNum:\r\n        type: number\r\n        format: int64\r\n\r\nBut still, it ends up generating `private BigDecimal phoneNum;`\r\n\r\nIf anyone of you have faced similar issue and have a workaround, please share it here. \r\n\r\nThank you.","title":"swagger.yaml :: How to generate properties with &quot;Long&quot; data type and &quot;Timestamp&quot; datatype?","body":"<p>I am using <code>swagger-codegen-maven-plugin</code> to generate Java classes based on <code>swagger.yaml</code> spec.</p>\n\n<p>I have added a property <code>phoneNum</code> in the <code>swagger.yaml</code> as below:</p>\n\n<pre><code>phoneNum:\n    type: number\n</code></pre>\n\n<p>I am expecting it generate the property with <code>Integer</code> or <code>Long</code> datatype.<br>But it got generated as <code>BigDecimal phoneNum;</code></p>\n\n<p>As per the <a href=\"https://swagger.io/docs/specification/data-models/data-types/#numbers\" rel=\"noreferrer\">swagger docs</a>, it was mentioned to use <code>format: int64</code></p>\n\n<pre><code>  phoneNum:\n    type: number\n    format: int64\n</code></pre>\n\n<p>But still, it ends up generating <code>private BigDecimal phoneNum;</code></p>\n\n<p>If anyone of you have faced similar issue and have a workaround, please share it here. </p>\n\n<p>Thank you.</p>\n"},{"tags":["java","spring","maven","gradle"],"answers":[{"comments":[{"owner":{"account_id":1108189,"reputation":3327,"user_id":1099142,"accept_rate":87,"display_name":"java_doctor_101"},"score":0,"creation_date":1673542868,"post_id":75091074,"comment_id":132528003,"body_markdown":"what what if vfs2 only works with version 1.6.0 of okio and kubernetes client only works with 2.8.0 of okio ? In that case, does that mean that I won&#39;t be able use these two libraries (vfs2 and kubernetes client) together in my project? –","body":"what what if vfs2 only works with version 1.6.0 of okio and kubernetes client only works with 2.8.0 of okio ? In that case, does that mean that I won&#39;t be able use these two libraries (vfs2 and kubernetes client) together in my project? –"}],"tags":[],"owner":{"account_id":27504373,"reputation":11,"user_id":20987381,"display_name":"sachin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673600637,"creation_date":1673491751,"answer_id":75091074,"question_id":75090058,"body_markdown":"It is having same library but two version of it on classpath, so at run time any one would be picked.\r\n\r\nAnd if the version has some breaking changes, it won&#39;t work. You have to put a constraint to have only one version.\r\n\r\nYou can refer to [How Gradle handles conflicts?][1] for more information.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/dependency_resolution.html","title":"How to resolve external dependency conflict in gradle","body":"<p>It is having same library but two version of it on classpath, so at run time any one would be picked.</p>\n<p>And if the version has some breaking changes, it won't work. You have to put a constraint to have only one version.</p>\n<p>You can refer to <a href=\"https://docs.gradle.org/current/userguide/dependency_resolution.html\" rel=\"nofollow noreferrer\">How Gradle handles conflicts?</a> for more information.</p>\n"}],"owner":{"account_id":1108189,"reputation":3327,"user_id":1099142,"accept_rate":87,"display_name":"java_doctor_101"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673600637,"creation_date":1673479590,"question_id":75090058,"body_markdown":"I am getting following conflicts for okio library in my sprint boot project.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jt1Vj.png\r\n\r\n\r\nI am not not sure how to read this. Specifically:\r\n 1. What does conflict actually mean here. What is conflicting with what?\r\n 2. Why is 1.6.0 is conflicting with 1.6.0\r\n 3. What does Scopes mean (6 scopes , 4 scopes) etc..\r\n\r\n\r\nHow do I resolve this in my gradle project. Current in my build.gradle I have\r\n\r\n```\r\nimplementation &quot;org.apache.commons:commons-vfs2:2.9.0&quot;\r\nimplementation &#39;io.fabric8:kubernetes-client:6.3.1&#39;\r\n```\r\n\r\nMy server fails to start with a NoSuchFieldError within a class in Okio library. How can I go about resolving this? None of this is my direct code issue is happening in the okio which is the transitive dependency of above two libraries.","title":"How to resolve external dependency conflict in gradle","body":"<p>I am getting following conflicts for okio library in my sprint boot project.</p>\n<p><a href=\"https://i.stack.imgur.com/Jt1Vj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jt1Vj.png\" alt=\"enter image description here\" /></a></p>\n<p>I am not not sure how to read this. Specifically:</p>\n<ol>\n<li>What does conflict actually mean here. What is conflicting with what?</li>\n<li>Why is 1.6.0 is conflicting with 1.6.0</li>\n<li>What does Scopes mean (6 scopes , 4 scopes) etc..</li>\n</ol>\n<p>How do I resolve this in my gradle project. Current in my build.gradle I have</p>\n<pre><code>implementation &quot;org.apache.commons:commons-vfs2:2.9.0&quot;\nimplementation 'io.fabric8:kubernetes-client:6.3.1'\n</code></pre>\n<p>My server fails to start with a NoSuchFieldError within a class in Okio library. How can I go about resolving this? None of this is my direct code issue is happening in the okio which is the transitive dependency of above two libraries.</p>\n"},{"tags":["java","spring-boot","charts","scriptengine","spring-thymeleaf"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1672756980,"post_id":74994146,"comment_id":132343306,"body_markdown":"Not sure what your question has to do with Spring Boot but, what you are referring to are javascript (which usually is needed for charts). So, if you want the chart to be created server side, you would need to look at something like NodeJS or NextJs or NuxtJS","body":"Not sure what your question has to do with Spring Boot but, what you are referring to are javascript (which usually is needed for charts). So, if you want the chart to be created server side, you would need to look at something like NodeJS or NextJs or NuxtJS"},{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1672824201,"post_id":74994146,"comment_id":132358017,"body_markdown":"I don&#39;t want any client side interaction. My server is `Spring Boot based application`. I want to configure charts at the server end, convert these chart objects to images and send them via mail. I have a scheduler that will run my API on scheduled time. This API will take the chart related data stored in DB and I need to make use of the data for configuring charts. To be clear, `no user interaction`.","body":"I don&#39;t want any client side interaction. My server is <code>Spring Boot based application</code>. I want to configure charts at the server end, convert these chart objects to images and send them via mail. I have a scheduler that will run my API on scheduled time. This API will take the chart related data stored in DB and I need to make use of the data for configuring charts. To be clear, <code>no user interaction</code>."},{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1672824662,"post_id":74994146,"comment_id":132358139,"body_markdown":"What came to my mind was, sending the data to a model view, configuring charts in this view using `Javascript`, and then hitting my another API, sending this configured HTML back to server. But that won&#39;t work unless the view is loaded on browser.","body":"What came to my mind was, sending the data to a model view, configuring charts in this view using <code>Javascript</code>, and then hitting my another API, sending this configured HTML back to server. But that won&#39;t work unless the view is loaded on browser."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1672828683,"post_id":74994146,"comment_id":132359420,"body_markdown":"So, as I understand it, you need the chart as a picture file to include in your e-mail, correct? Something like JFreeChart might do the trick","body":"So, as I understand it, you need the chart as a picture file to include in your e-mail, correct? Something like JFreeChart might do the trick"},{"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"score":0,"creation_date":1672912418,"post_id":74994146,"comment_id":132381375,"body_markdown":"JFreeChart does not generate good UI. Also limited charts and options. I was thinking like some thymeleaf scenario where I can read the template, add the required values and get the HTML after configuring charts using javascript.","body":"JFreeChart does not generate good UI. Also limited charts and options. I was thinking like some thymeleaf scenario where I can read the template, add the required values and get the HTML after configuring charts using javascript."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1672925525,"post_id":74994146,"comment_id":132385740,"body_markdown":"These options would require javascript running in a browser or a node environment. I don&#39;t think it is possible in Spring Boot per se. Calling an node JS API from Spring Boot might do the trick though.","body":"These options would require javascript running in a browser or a node environment. I don&#39;t think it is possible in Spring Boot per se. Calling an node JS API from Spring Boot might do the trick though."}],"answers":[{"tags":[],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673600159,"creation_date":1673600159,"answer_id":75106888,"question_id":74994146,"body_markdown":"I found a solution. I solved my issue using `Thymeleaf`, `Selenium` and `IText HTML2PDF`. I followed given steps - \r\n\r\nI added below dependencies to my POM - \r\n\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n        &lt;version&gt;3.141.59&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen, I resolved my HTML template containing javascript using ThymeleafResolver - \r\n\r\n    public ServletContextTemplateResolver templateResolver() {\r\n        ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver();\r\n        templateResolver.setPrefix(&quot;/&lt;My folder name in resources&gt;/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        templateResolver.setTemplateMode(&quot;HTML&quot;);\r\n\r\n        return templateResolver;\r\n    }\r\n\r\n    public SpringTemplateEngine templateEngine() {\r\n        SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n        templateEngine.setTemplateResolver(templateResolver());\r\n        templateEngine.setTemplateEngineMessageSource(messageSource());\r\n        return templateEngine;\r\n    }\r\n\r\nAnd in my code I used - \r\n\r\n    Context ctx = new Context();\r\n    String html = templateEngine.process(&lt;My HTML file name&gt;, ctx);\r\n\r\nThis resolved my HTML. Now, about javascript, I referred this - [Evaludate JS][1], and my issue was resolved. \r\n\r\nThank you.\r\n\r\n\r\n  [1]: https://kb.itextpdf.com/home/it7kb/examples/evaluating-js-with-pdfhtml","title":"Springboot server-side chart creation","body":"<p>I found a solution. I solved my issue using <code>Thymeleaf</code>, <code>Selenium</code> and <code>IText HTML2PDF</code>. I followed given steps -</p>\n<p>I added below dependencies to my POM -</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.0.3&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.141.59&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n    &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n    &lt;version&gt;4.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then, I resolved my HTML template containing javascript using ThymeleafResolver -</p>\n<pre><code>public ServletContextTemplateResolver templateResolver() {\n    ServletContextTemplateResolver templateResolver = new ServletContextTemplateResolver();\n    templateResolver.setPrefix(&quot;/&lt;My folder name in resources&gt;/&quot;);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    templateResolver.setTemplateMode(&quot;HTML&quot;);\n\n    return templateResolver;\n}\n\npublic SpringTemplateEngine templateEngine() {\n    SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n    templateEngine.setTemplateResolver(templateResolver());\n    templateEngine.setTemplateEngineMessageSource(messageSource());\n    return templateEngine;\n}\n</code></pre>\n<p>And in my code I used -</p>\n<pre><code>Context ctx = new Context();\nString html = templateEngine.process(&lt;My HTML file name&gt;, ctx);\n</code></pre>\n<p>This resolved my HTML. Now, about javascript, I referred this - <a href=\"https://kb.itextpdf.com/home/it7kb/examples/evaluating-js-with-pdfhtml\" rel=\"nofollow noreferrer\">Evaludate JS</a>, and my issue was resolved.</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":12236729,"reputation":440,"user_id":8930916,"display_name":"Chetan Oswal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75106888,"answer_count":1,"score":0,"last_activity_date":1673600159,"creation_date":1672753139,"question_id":74994146,"body_markdown":"I want to create Google Charts at server-end. I found some plugins like -\r\n[GWT Tutorial][1], but I did not find it helpful because we need client-side interaction here. I need something using which I can create charts at server end so that I can store these charts images without requiring user to interact. I also found one more plugin - [Charts4j][2], but I did not find any helpful examples or tutorial for this plugin.\r\n\r\n`Update`-\r\nUsing `Thymeleaf`, I was able to load the HTML file to backend and was able to convert the HTML as PDF using [HTMLToPDF][3] plugin. The HTML is working beautifully fine. The PDF is getting generated. Now only issue left is that the javascript from HTML is not getting evaluated. Any solution for this?\r\n\r\n\r\n`Another Update` - \r\n\r\nWhen I find a solution I find another obstacle. I was able to execute the script using [ScripEngine][4], but ScriptEngine did not find `document`. Then I used [Java Jsoup&#39;s Document][5], sent the object to ScriptEngine, but again Jsoup&#39;s Document has different methods than Javascript&#39;s document.\r\n\r\n  [1]: https://www.javatpoint.com/gwt-charts\r\n  [2]: https://code.google.com/archive/p/charts4j/\r\n  [3]: https://github.com/wooio/htmltopdf-java\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngine.html\r\n  [5]: https://jsoup.org/apidocs/org/jsoup/nodes/Document.html","title":"Springboot server-side chart creation","body":"<p>I want to create Google Charts at server-end. I found some plugins like -\n<a href=\"https://www.javatpoint.com/gwt-charts\" rel=\"nofollow noreferrer\">GWT Tutorial</a>, but I did not find it helpful because we need client-side interaction here. I need something using which I can create charts at server end so that I can store these charts images without requiring user to interact. I also found one more plugin - <a href=\"https://code.google.com/archive/p/charts4j/\" rel=\"nofollow noreferrer\">Charts4j</a>, but I did not find any helpful examples or tutorial for this plugin.</p>\n<p><code>Update</code>-\nUsing <code>Thymeleaf</code>, I was able to load the HTML file to backend and was able to convert the HTML as PDF using <a href=\"https://github.com/wooio/htmltopdf-java\" rel=\"nofollow noreferrer\">HTMLToPDF</a> plugin. The HTML is working beautifully fine. The PDF is getting generated. Now only issue left is that the javascript from HTML is not getting evaluated. Any solution for this?</p>\n<p><code>Another Update</code> -</p>\n<p>When I find a solution I find another obstacle. I was able to execute the script using <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/script/ScriptEngine.html\" rel=\"nofollow noreferrer\">ScripEngine</a>, but ScriptEngine did not find <code>document</code>. Then I used <a href=\"https://jsoup.org/apidocs/org/jsoup/nodes/Document.html\" rel=\"nofollow noreferrer\">Java Jsoup's Document</a>, sent the object to ScriptEngine, but again Jsoup's Document has different methods than Javascript's document.</p>\n"},{"tags":["java","io","console","java.util.scanner","subscript"],"comments":[{"owner":{"account_id":7332,"reputation":23983,"user_id":12704,"accept_rate":75,"display_name":"Michael Easter"},"score":0,"creation_date":1673600904,"post_id":75106824,"comment_id":132540235,"body_markdown":"FWIW, the code snippet works OK for me with JDK 18 on Mac OS.","body":"FWIW, the code snippet works OK for me with JDK 18 on Mac OS."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1673603121,"post_id":75106824,"comment_id":132540954,"body_markdown":"Good to know. Then its probably an issue with the specific console being used, I suppose.","body":"Good to know. Then its probably an issue with the specific console being used, I suppose."}],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673600120,"creation_date":1673599803,"question_id":75106824,"body_markdown":"## Problem\r\n\r\nIn short, if you try out the following snippet:\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString text = scanner.nextLine(); // enter ₂\r\n\r\nSystem.out.println(text); // 2, not ₂\r\n```\r\nand **enter a subscript number**, like `₂`, `text` is actually `2`, **without subscript**.\r\n\r\n### Tests\r\n\r\nNow, I tried to factor out some classic reasons here.\r\n\r\n#### Printing?\r\n\r\nYou can also compare the string instead of printing it, and it is still incorrect:\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString text = scanner.nextLine(); // enter ₂\r\n\r\nSystem.out.println(text.equals(&quot;₂&quot;)); // false\r\nSystem.out.println(text.equals(&quot;2&quot;)); // true\r\n```\r\n\r\n#### Scanner?\r\n\r\nScanner is capable of doing it correctly, for example if the input is given as `String`:\r\n\r\n```java\r\nScanner scanner = new Scanner(&quot;₂&quot;);\r\nString text = scanner.nextLine();\r\n\r\nSystem.out.println(text); // now prints ₂\r\n```\r\n\r\n#### System.in?\r\n\r\nThe issue is still present if factoring out `Scanner` completely, for example:\r\n\r\n```java\r\nbyte[] data = System.in.readAllBytes(); // enter ₂\r\nString text = new String(data, StandardCharsets.UTF_8).trim();\r\n\r\nSystem.out.println(text);  // 2, not ₂\r\n```\r\n\r\n#### Encoding?\r\n\r\nIt does not seem to be a general problem with Unicode/encoding. When entering another character, such as &#129300;, it works as expected.\r\n\r\n```java\r\nScanner scanner = new Scanner(System.in);\r\nString text = scanner.nextLine(); // enter &#129300;\r\n\r\nSystem.out.println(text); // &#129300;\r\n```\r\n\r\n## Hypothesis\r\n\r\nIt seems that the subscript is lost between the console input and `System.in`, possibly even before reaching Java at all.\r\n\r\nMaybe this is a console specific quirk I am not aware of? I tried it with VSC and Windows CMD (Java 18).","title":"Can not enter subscript via console (lost before System.in)","body":"<h2>Problem</h2>\n<p>In short, if you try out the following snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString text = scanner.nextLine(); // enter ₂\n\nSystem.out.println(text); // 2, not ₂\n</code></pre>\n<p>and <strong>enter a subscript number</strong>, like <code>₂</code>, <code>text</code> is actually <code>2</code>, <strong>without subscript</strong>.</p>\n<h3>Tests</h3>\n<p>Now, I tried to factor out some classic reasons here.</p>\n<h4>Printing?</h4>\n<p>You can also compare the string instead of printing it, and it is still incorrect:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString text = scanner.nextLine(); // enter ₂\n\nSystem.out.println(text.equals(&quot;₂&quot;)); // false\nSystem.out.println(text.equals(&quot;2&quot;)); // true\n</code></pre>\n<h4>Scanner?</h4>\n<p>Scanner is capable of doing it correctly, for example if the input is given as <code>String</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(&quot;₂&quot;);\nString text = scanner.nextLine();\n\nSystem.out.println(text); // now prints ₂\n</code></pre>\n<h4>System.in?</h4>\n<p>The issue is still present if factoring out <code>Scanner</code> completely, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] data = System.in.readAllBytes(); // enter ₂\nString text = new String(data, StandardCharsets.UTF_8).trim();\n\nSystem.out.println(text);  // 2, not ₂\n</code></pre>\n<h4>Encoding?</h4>\n<p>It does not seem to be a general problem with Unicode/encoding. When entering another character, such as 🤔, it works as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner scanner = new Scanner(System.in);\nString text = scanner.nextLine(); // enter 🤔\n\nSystem.out.println(text); // 🤔\n</code></pre>\n<h2>Hypothesis</h2>\n<p>It seems that the subscript is lost between the console input and <code>System.in</code>, possibly even before reaching Java at all.</p>\n<p>Maybe this is a console specific quirk I am not aware of? I tried it with VSC and Windows CMD (Java 18).</p>\n"},{"tags":["java","eclipse","java-platform-module-system"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1673538492,"post_id":75098597,"comment_id":132526387,"body_markdown":"Is this `src/java` or `src/main/java` correctly set as a  Source Folder on the Java Build Path beforehand?","body":"Is this <code>src&#47;java</code> or <code>src&#47;main&#47;java</code> correctly set as a  Source Folder on the Java Build Path beforehand?"},{"owner":{"account_id":3635761,"reputation":160,"user_id":3030918,"accept_rate":80,"display_name":"Kalman"},"score":0,"creation_date":1673539938,"post_id":75098597,"comment_id":132527000,"body_markdown":"I have inserted an image about Java Build Path. I am not sure if it is perfectly good.","body":"I have inserted an image about Java Build Path. I am not sure if it is perfectly good."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1673560104,"post_id":75098597,"comment_id":132533241,"body_markdown":"How do you know Eclipse &quot;can&#39;t find it&quot;?  Given that build path, it should be findable in `midas/src/java`.","body":"How do you know Eclipse &quot;can&#39;t find it&quot;?  Given that build path, it should be findable in <code>midas&#47;src&#47;java</code>."},{"owner":{"account_id":1187908,"reputation":8615,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"score":0,"creation_date":1673560379,"post_id":75098597,"comment_id":132533309,"body_markdown":"You can change the default location the `module-info` is generated for New Projects under Preferences &gt; Java &gt; Build Path, selecting &quot;Folders&quot; and changing the &quot;Source Folder Name&quot;.  However, if you already have a build path defined it should put it there.  Perhaps you need to remove `src` from your build path?","body":"You can change the default location the <code>module-info</code> is generated for New Projects under Preferences &gt; Java &gt; Build Path, selecting &quot;Folders&quot; and changing the &quot;Source Folder Name&quot;.  However, if you already have a build path defined it should put it there.  Perhaps you need to remove <code>src</code> from your build path?"},{"owner":{"account_id":3635761,"reputation":160,"user_id":3030918,"accept_rate":80,"display_name":"Kalman"},"score":0,"creation_date":1673596336,"post_id":75098597,"comment_id":132538962,"body_markdown":"Thank you very much for your comments, I could manage to solve the problem. I had to remove and recreate Java Build Paths. Then I deleted module-info.java, and after that Configure &gt; Create module-info.java - created it to the expected place, that is into src/java.","body":"Thank you very much for your comments, I could manage to solve the problem. I had to remove and recreate Java Build Paths. Then I deleted module-info.java, and after that Configure &gt; Create module-info.java - created it to the expected place, that is into src/java."}],"answers":[{"tags":[],"owner":{"account_id":3635761,"reputation":160,"user_id":3030918,"accept_rate":80,"display_name":"Kalman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673600077,"creation_date":1673600077,"answer_id":75106873,"question_id":75098597,"body_markdown":"Thanks to nitind and Daniel Widdis I could manage to solve this problem by deleting and recreating Java Build Path sources. I deleted module-info.java and recreated it with Configure -&gt; Create module-info.java. Eclipse created it in the right place, which is (in my case) src/java.\r\nThank you very much again!","title":"Eclipse creates module-info.java in the ./src folder. Is it possible to move it in the ./src/java folder?","body":"<p>Thanks to nitind and Daniel Widdis I could manage to solve this problem by deleting and recreating Java Build Path sources. I deleted module-info.java and recreated it with Configure -&gt; Create module-info.java. Eclipse created it in the right place, which is (in my case) src/java.\nThank you very much again!</p>\n"}],"owner":{"account_id":3635761,"reputation":160,"user_id":3030918,"accept_rate":80,"display_name":"Kalman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75106873,"answer_count":1,"score":0,"last_activity_date":1673600077,"creation_date":1673536835,"question_id":75098597,"body_markdown":"Eclipse (4.25.0) creates the module-info.java in the ./src folder.\r\nIf I moved it in ./src/java (or in ./src/main/java) Eclipse would not be able to find it.\r\nIs it possible to change the default place of module-info.java in Eclipse?\r\n\r\nThe java build path is the following:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lI461.png","title":"Eclipse creates module-info.java in the ./src folder. Is it possible to move it in the ./src/java folder?","body":"<p>Eclipse (4.25.0) creates the module-info.java in the ./src folder.\nIf I moved it in ./src/java (or in ./src/main/java) Eclipse would not be able to find it.\nIs it possible to change the default place of module-info.java in Eclipse?</p>\n<p>The java build path is the following:\n<a href=\"https://i.stack.imgur.com/lI461.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lI461.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1673599270,"post_id":75106700,"comment_id":132539754,"body_markdown":"Please show the `Person` class.","body":"Please show the <code>Person</code> class."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673599489,"post_id":75106700,"comment_id":132539820,"body_markdown":"Please add the complete stacktrace","body":"Please add the complete stacktrace"}],"answers":[{"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673600101,"post_id":75106831,"comment_id":132540005,"body_markdown":"Use Integer.TYPE, as per https://stackoverflow.com/a/3925617/681444","body":"Use Integer.TYPE, as per <a href=\"https://stackoverflow.com/a/3925617/681444\">stackoverflow.com/a/3925617/681444</a>"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1673600181,"post_id":75106831,"comment_id":132540026,"body_markdown":"@racraman That does exactly the same thing.  But if you want to write an answer that&#39;s slightly different from mine, go right ahead.","body":"@racraman That does exactly the same thing.  But if you want to write an answer that&#39;s slightly different from mine, go right ahead."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1673604137,"post_id":75106831,"comment_id":132541277,"body_markdown":"@racraman according to the post that you linked: _You can also use `int.class`. It&#39;s a shortcut for `Integer.TYPE`. Therefore both ways are equally acceptable.","body":"@racraman according to the post that you linked: _You can also use <code>int.class</code>. It&#39;s a shortcut for <code>Integer.TYPE</code>. Therefore both ways are equally acceptable."}],"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673599999,"creation_date":1673599833,"answer_id":75106831,"question_id":75106700,"body_markdown":"The arguments to `getDeclaredConstructor` are the types of the parameters for the constructor.  So here, your code would be looking for something like \r\n\r\n    public Person(Person arg) {\r\n       ...\r\n    }\r\n\r\nIf your class doesn&#39;t have a constructor like that, you&#39;ll get the `NoSuchMethodException`.\r\n\r\nBased on your `Person` class, you might want something like\r\n\r\n    personClass.getDeclaredConstructor(String.class, int.class);\r\n\r\n","title":"Why does the code throw a NoSuchMethod Exception?","body":"<p>The arguments to <code>getDeclaredConstructor</code> are the types of the parameters for the constructor.  So here, your code would be looking for something like</p>\n<pre><code>public Person(Person arg) {\n   ...\n}\n</code></pre>\n<p>If your class doesn't have a constructor like that, you'll get the <code>NoSuchMethodException</code>.</p>\n<p>Based on your <code>Person</code> class, you might want something like</p>\n<pre><code>personClass.getDeclaredConstructor(String.class, int.class);\n</code></pre>\n"}],"owner":{"account_id":27270343,"reputation":15,"user_id":20791751,"display_name":"Lenntox"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75106831,"answer_count":1,"score":0,"last_activity_date":1673599999,"creation_date":1673599083,"question_id":75106700,"body_markdown":"    public static void main(String[] args) {\r\n            Class&lt;Person&gt; personClass = Person.class;\r\n            Constructor&lt;Person&gt; constructor;\r\n    \r\n            try {\r\n                constructor = personClass.getDeclaredConstructor(ReflectionAPI.Person.class);\r\n            } catch (NoSuchMethodException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n            PersonData personData = constructor.getAnnotation(PersonData.class);\r\n            String[] names = personData.persons();\r\n            int [] ages = personData.ageOfPersons();\r\n            for (int i = 0; i &lt; names.length; i++) {\r\n                System.out.println(names[i]);\r\n                System.out.println(ages[i]);\r\n            }\r\n        }\r\n\r\nI dont know what to do\r\nI tried different things, I think the problem is the Parameter in the getDEclaredConstructor.\r\nPlease help!\r\n\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    \r\n    @Discover\r\n    public class Person {\r\n    \r\n        private String name;\r\n        private int age;\r\n    \r\n        @PersonData(persons = {&quot;Fritz&quot;, &quot;Hans&quot;, &quot;Peter&quot;}, ageOfPersons = {69, 86, 99})\r\n        public Person(String name, int age) {\r\n            this.name = name;\r\n            this.age = age;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n   \r\n    }\r\nHere&#39;s the Person class.\r\nI dont see whats wrong, Im still learning so please have mercy!","title":"Why does the code throw a NoSuchMethod Exception?","body":"<pre><code>public static void main(String[] args) {\n        Class&lt;Person&gt; personClass = Person.class;\n        Constructor&lt;Person&gt; constructor;\n\n        try {\n            constructor = personClass.getDeclaredConstructor(ReflectionAPI.Person.class);\n        } catch (NoSuchMethodException e) {\n            throw new RuntimeException(e);\n        }\n\n        PersonData personData = constructor.getAnnotation(PersonData.class);\n        String[] names = personData.persons();\n        int [] ages = personData.ageOfPersons();\n        for (int i = 0; i &lt; names.length; i++) {\n            System.out.println(names[i]);\n            System.out.println(ages[i]);\n        }\n    }\n</code></pre>\n<p>I dont know what to do\nI tried different things, I think the problem is the Parameter in the getDEclaredConstructor.\nPlease help!</p>\n<pre><code>import java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\n@Discover\npublic class Person {\n\n    private String name;\n    private int age;\n\n    @PersonData(persons = {&quot;Fritz&quot;, &quot;Hans&quot;, &quot;Peter&quot;}, ageOfPersons = {69, 86, 99})\n    public Person(String name, int age) {\n        this.name = name;\n        this.age = age;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n}\n</code></pre>\n<p>Here's the Person class.\nI dont see whats wrong, Im still learning so please have mercy!</p>\n"},{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":9682712,"reputation":1953,"user_id":7183757,"display_name":"S&#246;nke Liebau"},"score":0,"creation_date":1519256139,"post_id":48917249,"comment_id":84841062,"body_markdown":"The question as it stands does not provide enough information for anybody to give a helpful answer, can you please provide additional details? Are there any errors in the logs, the code that you are using to consume, ...","body":"The question as it stands does not provide enough information for anybody to give a helpful answer, can you please provide additional details? Are there any errors in the logs, the code that you are using to consume, ..."},{"owner":{"account_id":2247163,"reputation":4471,"user_id":7417402,"display_name":"Devstr"},"score":0,"creation_date":1519256853,"post_id":48917249,"comment_id":84841260,"body_markdown":"Looking at threaddumps might provide some insights","body":"Looking at threaddumps might provide some insights"},{"owner":{"account_id":1292275,"reputation":5660,"user_id":1244138,"accept_rate":69,"display_name":"Jack"},"score":0,"creation_date":1519256991,"post_id":48917249,"comment_id":84841302,"body_markdown":"how to see that please, do you mean see Kafka broker&#39;s thread dumps?","body":"how to see that please, do you mean see Kafka broker&#39;s thread dumps?"},{"owner":{"account_id":255165,"reputation":3172,"user_id":535024,"accept_rate":88,"display_name":"codejitsu"},"score":0,"creation_date":1519300626,"post_id":48917249,"comment_id":84859697,"body_markdown":"Are you polling the records in a some kind of loop? Or is the provided code the only poll call?","body":"Are you polling the records in a some kind of loop? Or is the provided code the only poll call?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547152724,"creation_date":1547152724,"answer_id":54136562,"question_id":48917249,"body_markdown":"Would need to see more code, so it is hard to know what properties you do have, but `KafkaConsumer` is not thread-safe; it would be wiser to start multiple instances of your application, rather than two threads in the same JVM. \r\n\r\nIn any case, you can find copyable examples of Java Consumers on Confluent&#39;s site, either sync commits or async. \r\n\r\nHere is [the more-advanced basic example](https://docs.confluent.io/current/clients/consumer.html#basic-poll-loop) than a simple `while(true) { poll(); }` that allows you to extend and wrap a Thread or ExecutorService around. \r\n\r\n    public abstract class BasicConsumeLoop&lt;K, V&gt; implements Runnable {\r\n      private final KafkaConsumer&lt;K, V&gt; consumer;\r\n      private final List&lt;String&gt; topics;\r\n      private final AtomicBoolean shutdown;\r\n      private final CountDownLatch shutdownLatch;\r\n    \r\n      public BasicConsumeLoop(Properties config, List&lt;String&gt; topics) {\r\n        this.consumer = new KafkaConsumer&lt;&gt;(config);\r\n        this.topics = topics;\r\n        this.shutdown = new AtomicBoolean(false);\r\n        this.shutdownLatch = new CountDownLatch(1);\r\n      }\r\n    \r\n      public abstract void process(ConsumerRecord&lt;K, V&gt; record);\r\n    \r\n      public void run() {\r\n        try {\r\n          consumer.subscribe(topics);\r\n    \r\n          while (!shutdown.get()) {\r\n            ConsumerRecords&lt;K, V&gt; records = consumer.poll(500);\r\n            records.forEach(record -&gt; process(record));\r\n            // commit();\r\n          }\r\n        } finally {\r\n          consumer.close();\r\n          shutdownLatch.countDown();\r\n        }\r\n      }\r\n    \r\n      public void shutdown() throws InterruptedException {\r\n        shutdown.set(true);\r\n        shutdownLatch.await();\r\n      }\r\n    }","title":"Consumer not be able to poll message from Kafka","body":"<p>Would need to see more code, so it is hard to know what properties you do have, but <code>KafkaConsumer</code> is not thread-safe; it would be wiser to start multiple instances of your application, rather than two threads in the same JVM. </p>\n\n<p>In any case, you can find copyable examples of Java Consumers on Confluent's site, either sync commits or async. </p>\n\n<p>Here is <a href=\"https://docs.confluent.io/current/clients/consumer.html#basic-poll-loop\" rel=\"nofollow noreferrer\">the more-advanced basic example</a> than a simple <code>while(true) { poll(); }</code> that allows you to extend and wrap a Thread or ExecutorService around. </p>\n\n<pre><code>public abstract class BasicConsumeLoop&lt;K, V&gt; implements Runnable {\n  private final KafkaConsumer&lt;K, V&gt; consumer;\n  private final List&lt;String&gt; topics;\n  private final AtomicBoolean shutdown;\n  private final CountDownLatch shutdownLatch;\n\n  public BasicConsumeLoop(Properties config, List&lt;String&gt; topics) {\n    this.consumer = new KafkaConsumer&lt;&gt;(config);\n    this.topics = topics;\n    this.shutdown = new AtomicBoolean(false);\n    this.shutdownLatch = new CountDownLatch(1);\n  }\n\n  public abstract void process(ConsumerRecord&lt;K, V&gt; record);\n\n  public void run() {\n    try {\n      consumer.subscribe(topics);\n\n      while (!shutdown.get()) {\n        ConsumerRecords&lt;K, V&gt; records = consumer.poll(500);\n        records.forEach(record -&gt; process(record));\n        // commit();\n      }\n    } finally {\n      consumer.close();\n      shutdownLatch.countDown();\n    }\n  }\n\n  public void shutdown() throws InterruptedException {\n    shutdown.set(true);\n    shutdownLatch.await();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":1292275,"reputation":5660,"user_id":1244138,"accept_rate":69,"display_name":"Jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673599635,"creation_date":1519255838,"question_id":48917249,"body_markdown":"I started two consumers to consume messages from Kafka, there were six partitions, so each consumer was assigned three partitions. I found the consumers could not poll any messages after consuming a while, I could see the lag was there, that means there were still unpolled messages.\r\n\r\nWhen I killed the program and restarted it, the consumers could consume the remaining messages, but after a while, it stopped again although there were remaining messages. \r\n\r\nThere were no any error messages, part of my code as following please:\r\n\r\n     KafkaConsumer&lt;String, byte[]&gt; consum = new KafkaConsumer&lt;String, byte[]&gt;(props);\r\n     ConsumerRecords&lt;String, byte[]&gt; records = kconsumer.poll(timeoutInMS);\r\n\r\nI started two threads in one JVM, each thread will create itself KafkaConsumer.\r\n\r\nI used AsyncCommit,and I set the callback class is null. such as:\r\n\r\n    Map&lt;TopicPartition, OffsetAndMetadata&gt; offsets = ...;\r\n    consumer.commitAsync(offsets, null);\r\nDid this caused the issue please?","title":"Consumer not be able to poll message from Kafka","body":"<p>I started two consumers to consume messages from Kafka, there were six partitions, so each consumer was assigned three partitions. I found the consumers could not poll any messages after consuming a while, I could see the lag was there, that means there were still unpolled messages.</p>\n\n<p>When I killed the program and restarted it, the consumers could consume the remaining messages, but after a while, it stopped again although there were remaining messages. </p>\n\n<p>There were no any error messages, part of my code as following please:</p>\n\n<pre><code> KafkaConsumer&lt;String, byte[]&gt; consum = new KafkaConsumer&lt;String, byte[]&gt;(props);\n ConsumerRecords&lt;String, byte[]&gt; records = kconsumer.poll(timeoutInMS);\n</code></pre>\n\n<p>I started two threads in one JVM, each thread will create itself KafkaConsumer.</p>\n\n<p>I used AsyncCommit,and I set the callback class is null. such as:</p>\n\n<pre><code>Map&lt;TopicPartition, OffsetAndMetadata&gt; offsets = ...;\nconsumer.commitAsync(offsets, null);\n</code></pre>\n\n<p>Did this caused the issue please?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":6379952,"reputation":3111,"user_id":4949750,"display_name":"Amongalen"},"score":1,"creation_date":1562574269,"post_id":56930776,"comment_id":100402773,"body_markdown":"Isn&#39;t it the same as typical `File.lastModified()`? Do you even need POI for that?","body":"Isn&#39;t it the same as typical <code>File.lastModified()</code>? Do you even need POI for that?"},{"owner":{"account_id":8957620,"reputation":269,"user_id":6681385,"accept_rate":67,"display_name":"cao"},"score":0,"creation_date":1562575353,"post_id":56930776,"comment_id":100403241,"body_markdown":"No. It is not the same for last modified in office documents and last modified in file system. Consider some one has saved a word document last year, and this document is copied to somewhere via JAVA InputStream/OutputStream now, in this case, the last modified date in office property will still remain as last year but the last modified date in file system &quot;File.lastModified()&quot; will be today.","body":"No. It is not the same for last modified in office documents and last modified in file system. Consider some one has saved a word document last year, and this document is copied to somewhere via JAVA InputStream/OutputStream now, in this case, the last modified date in office property will still remain as last year but the last modified date in file system &quot;File.lastModified()&quot; will be today."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1562578793,"post_id":56930776,"comment_id":100405013,"body_markdown":"What&#39;s wrong with [reading and following the Apache POI documentation on the topic](https://poi.apache.org/components/hpsf/how-to.html#sec1)?","body":"What&#39;s wrong with <a href=\"https://poi.apache.org/components/hpsf/how-to.html#sec1\" rel=\"nofollow noreferrer\">reading and following the Apache POI documentation on the topic</a>?"},{"owner":{"account_id":8957620,"reputation":269,"user_id":6681385,"accept_rate":67,"display_name":"cao"},"score":0,"creation_date":1562643247,"post_id":56930776,"comment_id":100429609,"body_markdown":"Well, thank you very much. I was not aware that there is POIFS documentation, I can read out the last modified date for xls and doc files now.","body":"Well, thank you very much. I was not aware that there is POIFS documentation, I can read out the last modified date for xls and doc files now."}],"owner":{"account_id":8957620,"reputation":269,"user_id":6681385,"accept_rate":67,"display_name":"cao"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673599531,"creation_date":1562573335,"question_id":56930776,"body_markdown":"Is there any APIs in the POI to read out the last modified date for old office files?\r\n\r\nI am using poi 4.1.0, actually I am able to read out the last modified date for .xlsx and .docx files but also with a small problem: with getModifiedPropertyString() it returns a correct string value but with getModifiedProperty() it returns a Optional date always with empty value.\r\n\r\n\tOPCPackage pkg = OPCPackage.open(file);\r\n\tPOIXMLProperties props = new POIXMLProperties(pkg);\r\n\tPackagePropertiesPart ppropsPart = props.getCoreProperties().getUnderlyingProperties();\r\n\tOptional&lt;Date&gt; date = ppropsPart.*getModifiedProperty()*;\r\n\t\t\t\r\n\tSystem.out.println(date);\r\n\r\nFor this above code for .xlsx and .docx files, the result is: Optional.empty","title":"how to get the last modified date for old MS-office files, e.g. .xls and .doc files","body":"<p>Is there any APIs in the POI to read out the last modified date for old office files?</p>\n<p>I am using poi 4.1.0, actually I am able to read out the last modified date for .xlsx and .docx files but also with a small problem: with getModifiedPropertyString() it returns a correct string value but with getModifiedProperty() it returns a Optional date always with empty value.</p>\n<pre><code>OPCPackage pkg = OPCPackage.open(file);\nPOIXMLProperties props = new POIXMLProperties(pkg);\nPackagePropertiesPart ppropsPart = props.getCoreProperties().getUnderlyingProperties();\nOptional&lt;Date&gt; date = ppropsPart.*getModifiedProperty()*;\n        \nSystem.out.println(date);\n</code></pre>\n<p>For this above code for .xlsx and .docx files, the result is: Optional.empty</p>\n"},{"tags":["java","eclipse-plugin","m2eclipse","querydsl"],"answers":[{"comments":[{"owner":{"account_id":969262,"reputation":1640,"user_id":992124,"accept_rate":65,"display_name":"Arry"},"score":0,"creation_date":1375041839,"post_id":17901566,"comment_id":26167160,"body_markdown":"The problem was with the version only. But not with the older version, infact 0.12 (a quite older version) was required to support the execution phase. Using 0.12 version solved my problem.","body":"The problem was with the version only. But not with the older version, infact 0.12 (a quite older version) was required to support the execution phase. Using 0.12 version solved my problem."}],"tags":[],"owner":{"account_id":92092,"reputation":21904,"user_id":252552,"accept_rate":81,"display_name":"Timo Westk&#228;mper"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374952835,"creation_date":1374952835,"answer_id":17901566,"question_id":17865691,"body_markdown":"This is a quite old version of the plugin and probably that&#39;s the reason why it&#39;s not covered. Please update to the configuration displayed here https://github.com/mysema/apt-maven-plugin","title":"Maven apt-get-plugin for mysema","body":"<p>This is a quite old version of the plugin and probably that's the reason why it's not covered. Please update to the configuration displayed here <a href=\"https://github.com/mysema/apt-maven-plugin\" rel=\"nofollow\">https://github.com/mysema/apt-maven-plugin</a></p>\n"},{"tags":[],"owner":{"account_id":1682117,"reputation":581,"user_id":1546146,"display_name":"Tobi Nonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1427205408,"creation_date":1427205408,"answer_id":29234546,"question_id":17865691,"body_markdown":"This is an error that you will see very often in eclipse. Basically, Eclipse tries to match a plugin to an m2e connector. If it fails to do so, because you have not installed a suitable connector, you get this error.\r\n\r\nResolving it is quite straitforward: Hover your mouse over the error. You are presented with 3 possible quick fixes, like this:\r\n![Insert your plugin name](https://lsiu.github.io/websphere-maven-plugin/images/plugin-execution-not-covered-error.png)\r\n\r\nThey have the following effects:\r\n\r\n- Discover new m2e connectors: probably the most sensible one: Look for a m2e connector and install it. This solves the problem for your eclipse installation (for this specific plugin)\r\n- Mark goal FOOBAR as ignored in [...] Eclipse preferences: This sets a preference within your local Eclipse installation to ignore that Eclipse didn&#39;t find a m2e connector for this specific plugin\r\n- Permanently mark goal [...] in pom.xml [...]: This will introduce a configuration snippet in the pom.xml of the project to ignore that eclipse doesn&#39;t find a m2e connector.\r\n\r\nIf there isn&#39;t an m2e connctor for the plugin you&#39;re using, you will want to ignore this problem, as it is very Eclipse specific. Your maven build will run nevertheless (e.g. via command line), and when you configure Eclipse to ignore the plugin, the Eclipse maven plugin will build your project fine as well.\r\nIf you want to share the configuration with your team, or have different eclipse installations, add the configuration to your pom. If you prefer not to have the pom polluted by IDE specific settings (like I do), rather use the eclipse preference.\r\n\r\nHere is some more detail about this issue: https://www.eclipse.org/m2e/documentation/m2e-execution-not-covered.html","title":"Maven apt-get-plugin for mysema","body":"<p>This is an error that you will see very often in eclipse. Basically, Eclipse tries to match a plugin to an m2e connector. If it fails to do so, because you have not installed a suitable connector, you get this error.</p>\n\n<p>Resolving it is quite straitforward: Hover your mouse over the error. You are presented with 3 possible quick fixes, like this:\n<img src=\"https://lsiu.github.io/websphere-maven-plugin/images/plugin-execution-not-covered-error.png\" alt=\"Insert your plugin name\"></p>\n\n<p>They have the following effects:</p>\n\n<ul>\n<li>Discover new m2e connectors: probably the most sensible one: Look for a m2e connector and install it. This solves the problem for your eclipse installation (for this specific plugin)</li>\n<li>Mark goal FOOBAR as ignored in [...] Eclipse preferences: This sets a preference within your local Eclipse installation to ignore that Eclipse didn't find a m2e connector for this specific plugin</li>\n<li>Permanently mark goal [...] in pom.xml [...]: This will introduce a configuration snippet in the pom.xml of the project to ignore that eclipse doesn't find a m2e connector.</li>\n</ul>\n\n<p>If there isn't an m2e connctor for the plugin you're using, you will want to ignore this problem, as it is very Eclipse specific. Your maven build will run nevertheless (e.g. via command line), and when you configure Eclipse to ignore the plugin, the Eclipse maven plugin will build your project fine as well.\nIf you want to share the configuration with your team, or have different eclipse installations, add the configuration to your pom. If you prefer not to have the pom polluted by IDE specific settings (like I do), rather use the eclipse preference.</p>\n\n<p>Here is some more detail about this issue: <a href=\"https://www.eclipse.org/m2e/documentation/m2e-execution-not-covered.html\" rel=\"nofollow noreferrer\">https://www.eclipse.org/m2e/documentation/m2e-execution-not-covered.html</a></p>\n"},{"tags":[],"owner":{"account_id":4901709,"reputation":319,"user_id":3949702,"accept_rate":9,"display_name":"prit kalra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451469874,"creation_date":1451469874,"answer_id":34527255,"question_id":17865691,"body_markdown":"Use the following if using with m2e\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.1.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;process&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\r\n                    &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.6.7&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n                    &lt;classifier&gt;apt&lt;/classifier&gt;\r\n                    &lt;version&gt;3.6.7&lt;/version&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/plugin&gt;","title":"Maven apt-get-plugin for mysema","body":"<p>Use the following if using with m2e</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;process&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;target/generated-sources/java&lt;/outputDirectory&gt;\n                &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n                &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n                &lt;version&gt;3.6.7&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.mysema.querydsl&lt;/groupId&gt;\n                &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n                &lt;classifier&gt;apt&lt;/classifier&gt;\n                &lt;version&gt;3.6.7&lt;/version&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"score":1,"creation_date":1522755216,"post_id":40651722,"comment_id":86264723,"body_markdown":"I was skeptical when I saw the apt classifier, but this works like a charm in SpringBoot 1.5.10 and 2.0.0","body":"I was skeptical when I saw the apt classifier, but this works like a charm in SpringBoot 1.5.10 and 2.0.0"},{"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"score":1,"creation_date":1522845491,"post_id":40651722,"comment_id":86310546,"body_markdown":"If you&#39;re using this along with Spring Data JPA and Hibernate, take a look at https://github.com/infobip/infobip-spring-data-jpa-querydsl. Note that Spring Boot 2 (newest Spring Data JPA) is not yet supported, but I expect it to be done soon.","body":"If you&#39;re using this along with Spring Data JPA and Hibernate, take a look at <a href=\"https://github.com/infobip/infobip-spring-data-jpa-querydsl\" rel=\"nofollow noreferrer\">github.com/infobip/infobip-spring-data-jpa-querydsl</a>. Note that Spring Boot 2 (newest Spring Data JPA) is not yet supported, but I expect it to be done soon."},{"owner":{"account_id":1426585,"reputation":2315,"user_id":1349927,"accept_rate":62,"display_name":"tak3shi"},"score":1,"creation_date":1542797393,"post_id":40651722,"comment_id":93695623,"body_markdown":"Wow, simply replace the plugin with the jpa clasifier and you are done!","body":"Wow, simply replace the plugin with the jpa clasifier and you are done!"}],"tags":[],"owner":{"account_id":300561,"reputation":6020,"user_id":607767,"accept_rate":89,"display_name":"Lovro Pandžić"},"comment_count":3,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1673599422,"creation_date":1479376612,"answer_id":40651722,"question_id":17865691,"body_markdown":"Another possible solution, if you only need to generate Q classes from JPA entity classes, is to use the classifier for querydsl-apt like:\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;classifier&gt;jpa&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn case of using Jakarta Persistence (Spring 6+):\r\n\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n        &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n        &lt;version&gt;${querydsl.version}&lt;/version&gt;\r\n        &lt;classifier&gt;jakarta&lt;/classifier&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nIn that case you don&#39;t need manual apt-maven-plugin build configuration at all.\r\n\r\nEDIT: in case you&#39;re migrating to Java EE 9, the classifier should be jakarta","title":"Maven apt-get-plugin for mysema","body":"<p>Another possible solution, if you only need to generate Q classes from JPA entity classes, is to use the classifier for querydsl-apt like:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n    &lt;version&gt;${querydsl.version}&lt;/version&gt;\n    &lt;classifier&gt;jpa&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In case of using Jakarta Persistence (Spring 6+):</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n    &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n    &lt;version&gt;${querydsl.version}&lt;/version&gt;\n    &lt;classifier&gt;jakarta&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In that case you don't need manual apt-maven-plugin build configuration at all.</p>\n<p>EDIT: in case you're migrating to Java EE 9, the classifier should be jakarta</p>\n"}],"owner":{"account_id":969262,"reputation":1640,"user_id":992124,"accept_rate":65,"display_name":"Arry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21794,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1673599422,"creation_date":1374776040,"question_id":17865691,"body_markdown":"I have added following snippet in my pom.xml, but in eclipse the execution part is error saying:\r\n\r\n    Plugin execution not covered by lifecycle configuration: com.mysema.maven:maven-apt-plugin:1.0.3:process (execution: default, phase: generate-sources)\r\n\r\nThough when I am running mvn clean install from command line it is working properly then.\r\n\r\n\r\n    &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-apt-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;1.0.3&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;process&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/target/generated-sources/java&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t\t&lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t\t\t&lt;processors&gt;\r\n    \t\t\t\t\t\t\t\t&lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n    \t\t\t\t\t\t&lt;/processors&gt;\r\n    \t\t\t\t\t\t&lt;showWarnings&gt;true&lt;/showWarnings&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n\r\nAfter running from command line, its generating query dsl classes (QClasses), but from eclipse its not generating them.\r\n\r\nAlso, when I am running my application from eclipse, it gives following error: \r\n\r\n    Caused by: java.lang.ClassNotFoundException: xxx.QClass\r\n\r\nIs there some problem with eclipse maven plugin? How can I resolve this?","title":"Maven apt-get-plugin for mysema","body":"<p>I have added following snippet in my pom.xml, but in eclipse the execution part is error saying:</p>\n\n<pre><code>Plugin execution not covered by lifecycle configuration: com.mysema.maven:maven-apt-plugin:1.0.3:process (execution: default, phase: generate-sources)\n</code></pre>\n\n<p>Though when I am running mvn clean install from command line it is working properly then.</p>\n\n<pre><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-apt-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;process&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.basedir}/target/generated-sources/java&lt;/outputDirectory&gt;\n                            &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                            &lt;processors&gt;\n                                &lt;processor&gt;com.mysema.query.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                        &lt;/processors&gt;\n                        &lt;showWarnings&gt;true&lt;/showWarnings&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n\n<p>After running from command line, its generating query dsl classes (QClasses), but from eclipse its not generating them.</p>\n\n<p>Also, when I am running my application from eclipse, it gives following error: </p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: xxx.QClass\n</code></pre>\n\n<p>Is there some problem with eclipse maven plugin? How can I resolve this?</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"owner":{"account_id":27515671,"reputation":31,"user_id":20996684,"display_name":"shull.xy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1673599350,"creation_date":1673580346,"question_id":75104571,"body_markdown":"In a simple demo program I compared the output of `Mono.just().map().subscribe()` and `Mono.just().flatMap().subscribe()`, to my surprise `map()` is executed after `onSubscribe()` but `flatMap()` is before.\r\n\r\nThe program:\r\n\r\n```java\r\n    public static void main(@Nonnull String[] args) {\r\n        // 1. Case with map()\r\n        Mono.just(1).map(number -&gt; {\r\n            System.out.printf(&quot;[%s] mapping:%d%n&quot;, threadName(), number);\r\n            return number * 10;\r\n\r\n        }).subscribe(buildSubscriber());\r\n\r\n        // 2. Case with flatMap()\r\n        System.out.println();\r\n        Mono.just(1).flatMap(number -&gt; {\r\n            System.out.printf(&quot;[%s] flat-mapping:%d%n&quot;, threadName(), number);\r\n            return Mono.just(number * 10);\r\n\r\n        }).subscribe(buildSubscriber());\r\n    }\r\n\r\n    @SuppressWarnings(&quot;ReactiveStreamsSubscriberImplementation&quot;)\r\n    @Nonnull\r\n    private static Subscriber&lt;Integer&gt; buildSubscriber() {\r\n        return new Subscriber&lt;&gt;() {\r\n            private Subscription subscription;\r\n\r\n            @Override\r\n            public void onSubscribe(Subscription subscription) {\r\n                System.out.printf(&quot;[%s] onSubscribe%n&quot;, threadName());\r\n                this.subscription = subscription;\r\n                subscription.request(1);\r\n            }\r\n\r\n            @Override\r\n            public void onNext(Integer item) {\r\n                System.out.printf(&quot;[%s] onNext:%s%n&quot;, threadName(), item);\r\n                subscription.request(1);\r\n            }\r\n\r\n            @Override\r\n            public void onError(Throwable throwable) {\r\n                System.out.printf(&quot;[%s] onError:%s%n&quot;, threadName(), throwable);\r\n            }\r\n\r\n            @Override\r\n            public void onComplete() {\r\n                System.out.printf(&quot;[%s] onComplete%n&quot;, threadName());\r\n            }\r\n        };\r\n    }\r\n\r\n    @Nonnull\r\n    private static String threadName() {\r\n        return Thread.currentThread().getName();\r\n    }\r\n```\r\n\r\nThe output:\r\n\r\n```text\r\n[main] onSubscribe\r\n[main] mapping:1\r\n[main] onNext:10\r\n[main] onComplete\r\n\r\n[main] flat-mapping:1\r\n[main] onSubscribe\r\n[main] onNext:10\r\n[main] onComplete\r\n```\r\n\r\nIn the output of the first case `onSubscribe` is before `mapping:1`. It&#39;s conceivable that the subscriber made a request for one event and then the publisher produced one, and then this very event went through the transformation and other operations if any.\r\n\r\nIn the output of the second case `flat-mapping:1` comes first, which means `onSubscribe()` is not yet called but the event is emitted already. The [documentation](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html) says that `map()` is implemented [by applying a synchronous function](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-), and `flatMap()` [transforms asynchronously](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-). What we witness here is that everything happens in the `main`  thread.\r\n\r\n Things seem in contradiction, neither `flatMap()` is performed asynchronously, nor the publisher emits on subscriber&#39;s demand, so what&#39;s going on under the hood in reactor？","title":"Execution order of onSubscribe(), map() and flatMap()","body":"<p>In a simple demo program I compared the output of <code>Mono.just().map().subscribe()</code> and <code>Mono.just().flatMap().subscribe()</code>, to my surprise <code>map()</code> is executed after <code>onSubscribe()</code> but <code>flatMap()</code> is before.</p>\n<p>The program:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void main(@Nonnull String[] args) {\n        // 1. Case with map()\n        Mono.just(1).map(number -&gt; {\n            System.out.printf(&quot;[%s] mapping:%d%n&quot;, threadName(), number);\n            return number * 10;\n\n        }).subscribe(buildSubscriber());\n\n        // 2. Case with flatMap()\n        System.out.println();\n        Mono.just(1).flatMap(number -&gt; {\n            System.out.printf(&quot;[%s] flat-mapping:%d%n&quot;, threadName(), number);\n            return Mono.just(number * 10);\n\n        }).subscribe(buildSubscriber());\n    }\n\n    @SuppressWarnings(&quot;ReactiveStreamsSubscriberImplementation&quot;)\n    @Nonnull\n    private static Subscriber&lt;Integer&gt; buildSubscriber() {\n        return new Subscriber&lt;&gt;() {\n            private Subscription subscription;\n\n            @Override\n            public void onSubscribe(Subscription subscription) {\n                System.out.printf(&quot;[%s] onSubscribe%n&quot;, threadName());\n                this.subscription = subscription;\n                subscription.request(1);\n            }\n\n            @Override\n            public void onNext(Integer item) {\n                System.out.printf(&quot;[%s] onNext:%s%n&quot;, threadName(), item);\n                subscription.request(1);\n            }\n\n            @Override\n            public void onError(Throwable throwable) {\n                System.out.printf(&quot;[%s] onError:%s%n&quot;, threadName(), throwable);\n            }\n\n            @Override\n            public void onComplete() {\n                System.out.printf(&quot;[%s] onComplete%n&quot;, threadName());\n            }\n        };\n    }\n\n    @Nonnull\n    private static String threadName() {\n        return Thread.currentThread().getName();\n    }\n</code></pre>\n<p>The output:</p>\n<pre><code>[main] onSubscribe\n[main] mapping:1\n[main] onNext:10\n[main] onComplete\n\n[main] flat-mapping:1\n[main] onSubscribe\n[main] onNext:10\n[main] onComplete\n</code></pre>\n<p>In the output of the first case <code>onSubscribe</code> is before <code>mapping:1</code>. It's conceivable that the subscriber made a request for one event and then the publisher produced one, and then this very event went through the transformation and other operations if any.</p>\n<p>In the output of the second case <code>flat-mapping:1</code> comes first, which means <code>onSubscribe()</code> is not yet called but the event is emitted already. The <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"nofollow noreferrer\">documentation</a> says that <code>map()</code> is implemented <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#map-java.util.function.Function-\" rel=\"nofollow noreferrer\">by applying a synchronous function</a>, and <code>flatMap()</code> <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#flatMap-java.util.function.Function-\" rel=\"nofollow noreferrer\">transforms asynchronously</a>. What we witness here is that everything happens in the <code>main</code>  thread.</p>\n<p>Things seem in contradiction, neither <code>flatMap()</code> is performed asynchronously, nor the publisher emits on subscriber's demand, so what's going on under the hood in reactor？</p>\n"},{"tags":["java","spring-boot","microservices","camunda","camunda-modeler"],"comments":[{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1674010838,"post_id":75106694,"comment_id":132622178,"body_markdown":"Can you share more of your requirements? Roughly what throughput, overall process volume and max latency are you aiming for?","body":"Can you share more of your requirements? Roughly what throughput, overall process volume and max latency are you aiming for?"}],"owner":{"account_id":27517822,"reputation":1,"user_id":20998459,"display_name":"Vaishali Anghan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673599123,"creation_date":1673599068,"question_id":75106694,"body_markdown":"I am planning to use camunda in my project which is based on microservice architecture with spring boot. I have simple workflow for example from rest api it will get some data in instance and on each service it’s calling one class to print data. I checked some concepts for both edition (standalone and embedded).\r\n\r\nCan anyone help me with some statistics data? \r\n\r\nperformance wise which one is better to use in my project? standalone or embedded?","title":"Camunda performance for standalone edition v/s embedded edition","body":"<p>I am planning to use camunda in my project which is based on microservice architecture with spring boot. I have simple workflow for example from rest api it will get some data in instance and on each service it’s calling one class to print data. I checked some concepts for both edition (standalone and embedded).</p>\n<p>Can anyone help me with some statistics data?</p>\n<p>performance wise which one is better to use in my project? standalone or embedded?</p>\n"},{"tags":["java","double","number-formatting"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1673599163,"post_id":75106666,"comment_id":132539725,"body_markdown":"Well, I could give you an answer for Java, but that code you&#39;ve shown us doesn&#39;t look like Java to me.  Perhaps you should tag this question with a different language, to get the right help.","body":"Well, I could give you an answer for Java, but that code you&#39;ve shown us doesn&#39;t look like Java to me.  Perhaps you should tag this question with a different language, to get the right help."},{"owner":{"account_id":27517545,"reputation":1,"user_id":20998222,"display_name":"Gianluca"},"score":0,"creation_date":1673607626,"post_id":75106666,"comment_id":132542357,"body_markdown":"I&#39;m not so experienced in programming, so maybe this is not a &quot;fully-Java&quot; code...maybe it&#39;s just based on Java, I don&#39;t know sorry. The thing I can tell you is that I retrieved that code from the pdf template editor that I have inside my management software: through this editor, I can also view the source code, so I&#39;ve been able to see the code that I have posted.","body":"I&#39;m not so experienced in programming, so maybe this is not a &quot;fully-Java&quot; code...maybe it&#39;s just based on Java, I don&#39;t know sorry. The thing I can tell you is that I retrieved that code from the pdf template editor that I have inside my management software: through this editor, I can also view the source code, so I&#39;ve been able to see the code that I have posted."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673663550,"post_id":75106666,"comment_id":132555170,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1673675019,"post_id":75106666,"comment_id":132556076,"body_markdown":"@Gianluca it looks like your PDF template editor has its own language.  It&#39;s a bit Java-like, but it has some syntax that isn&#39;t Java.  I&#39;m not familiar with your PDF template editor, so I don&#39;t know what this language can and can&#39;t do.  You might have to work this out from the documentation for the template editor.","body":"@Gianluca it looks like your PDF template editor has its own language.  It&#39;s a bit Java-like, but it has some syntax that isn&#39;t Java.  I&#39;m not familiar with your PDF template editor, so I don&#39;t know what this language can and can&#39;t do.  You might have to work this out from the documentation for the template editor."},{"owner":{"account_id":27517545,"reputation":1,"user_id":20998222,"display_name":"Gianluca"},"score":0,"creation_date":1673855632,"post_id":75106666,"comment_id":132582209,"body_markdown":"Ok, thank you @DawoodibnKareem for the help...anyway, yes, I think that the editor is made with a sort of &quot;custom language&quot; based on Java. I will try to figure out how to manage this.","body":"Ok, thank you @DawoodibnKareem for the help...anyway, yes, I think that the editor is made with a sort of &quot;custom language&quot; based on Java. I will try to figure out how to manage this."}],"owner":{"account_id":27517545,"reputation":1,"user_id":20998222,"display_name":"Gianluca"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673599004,"creation_date":1673598942,"question_id":75106666,"body_markdown":"I have a management software for invoices that creates a pdf document with the values inputed by the user in the various fields (product&#39;s price, quantity, reference etc.).\r\n\r\nI need to modify the code that controls the displaying of the product&#39;s price to obtain the price always formatted to show only the first two decimals.\r\n\r\nExample: when the user inputs the value `12,36789 €`, in the pdf this value is displayed exactly as it is (`12,36789 €`); I would like to display `12,36 €`.\r\n\r\nThe code is the following:\r\n`$V{Formatter}.format(new Double($F{importoUnitario}.replaceAll(&quot;,&quot;,&quot;.&quot;)))+&quot; &quot;+$P{valutaSimbolo}`\r\n\r\nthe first part\r\n`$V{Formatter}.format(new Double($F{importoUnitario}.replaceAll(&quot;,&quot;,&quot;.&quot;)))`\r\ncontrols the value itself (12,36)\r\n\r\nthe middle part\r\n`+&quot; &quot;`\r\nit&#39;s just a blank space between the value and the symbol\r\n\r\nthe last part\r\n`+$P{valutaSimbolo}`\r\nis the currency symbol\r\n\r\nHow do I do this?","title":"Formatting a Double to show only the first 2 decimals","body":"<p>I have a management software for invoices that creates a pdf document with the values inputed by the user in the various fields (product's price, quantity, reference etc.).</p>\n<p>I need to modify the code that controls the displaying of the product's price to obtain the price always formatted to show only the first two decimals.</p>\n<p>Example: when the user inputs the value <code>12,36789 €</code>, in the pdf this value is displayed exactly as it is (<code>12,36789 €</code>); I would like to display <code>12,36 €</code>.</p>\n<p>The code is the following:\n<code>$V{Formatter}.format(new Double($F{importoUnitario}.replaceAll(&quot;,&quot;,&quot;.&quot;)))+&quot; &quot;+$P{valutaSimbolo}</code></p>\n<p>the first part\n<code>$V{Formatter}.format(new Double($F{importoUnitario}.replaceAll(&quot;,&quot;,&quot;.&quot;)))</code>\ncontrols the value itself (12,36)</p>\n<p>the middle part\n<code>+&quot; &quot;</code>\nit's just a blank space between the value and the symbol</p>\n<p>the last part\n<code>+$P{valutaSimbolo}</code>\nis the currency symbol</p>\n<p>How do I do this?</p>\n"},{"tags":["java","server","minecraft"],"answers":[{"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565110053,"creation_date":1565110053,"answer_id":57380655,"question_id":57380589,"body_markdown":"It looks like you have `_JAVA_OPTIONS` defined in your environment. Make sure to unset it. You can do it inside environment settings.\r\n\r\nYou can find sample here: https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/","title":"Picked up _JAVA_OPTIONS: _Xmx2048M Unrecognized option: _Xmx2048M Minecraft server","body":"<p>It looks like you have <code>_JAVA_OPTIONS</code> defined in your environment. Make sure to unset it. You can do it inside environment settings.</p>\n\n<p>You can find sample here: <a href=\"https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/\" rel=\"nofollow noreferrer\">https://www.architectryan.com/2018/03/17/add-to-the-path-on-windows-10/</a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673688898,"post_id":75106627,"comment_id":132557410,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75106627/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20282488,"reputation":1,"user_id":14875880,"display_name":"Arunkumar R"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673598625,"creation_date":1673598625,"answer_id":75106627,"question_id":57380589,"body_markdown":"try this  set _JAVA_OPTIONS=Xmx1024M ","title":"Picked up _JAVA_OPTIONS: _Xmx2048M Unrecognized option: _Xmx2048M Minecraft server","body":"<p>try this  set _JAVA_OPTIONS=Xmx1024M</p>\n"}],"owner":{"account_id":16459351,"reputation":1,"user_id":11890813,"display_name":"Daniel Field"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673598625,"creation_date":1565109745,"question_id":57380589,"body_markdown":"When trying to set up my minecraft server I get the following error and I am unclear of how to fix the problem. \r\n\r\n\r\nI have tried changing environment settings and can get a 1GB server to run but It cant handle 2GB\r\nAny help would be appreciated\r\n\r\ncommand prompt error message- \r\n\r\n```\r\nC:\\Users\\Daniel\\Desktop\\server&gt;java -Xmx2G -Xms2G -jar \r\n\r\nminecraft_server.1.14.4.jar nogui\r\n\r\nPicked up _JAVA_OPTIONS: _Xmx2G\r\n\r\nUnrecognized option: _Xmx2G\r\n\r\nError: Could not create the Java Virtual Machine.\r\n\r\nError: A fatal exception has occurred. Program will exit.\r\n```","title":"Picked up _JAVA_OPTIONS: _Xmx2048M Unrecognized option: _Xmx2048M Minecraft server","body":"<p>When trying to set up my minecraft server I get the following error and I am unclear of how to fix the problem. </p>\n\n<p>I have tried changing environment settings and can get a 1GB server to run but It cant handle 2GB\nAny help would be appreciated</p>\n\n<p>command prompt error message- </p>\n\n<pre><code>C:\\Users\\Daniel\\Desktop\\server&gt;java -Xmx2G -Xms2G -jar \n\nminecraft_server.1.14.4.jar nogui\n\nPicked up _JAVA_OPTIONS: _Xmx2G\n\nUnrecognized option: _Xmx2G\n\nError: Could not create the Java Virtual Machine.\n\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n"},{"tags":["java","selenium","webdriver","popup","popupwindow"],"answers":[{"comments":[{"owner":{"account_id":24002730,"reputation":1,"user_id":17987364,"display_name":"sam"},"score":0,"creation_date":1673765712,"post_id":75106580,"comment_id":132568442,"body_markdown":"I&#39;ve checked with above given xpath and checked putting some waits but didn&#39;t work","body":"I&#39;ve checked with above given xpath and checked putting some waits but didn&#39;t work"}],"tags":[],"owner":{"account_id":23905808,"reputation":11,"user_id":17903417,"display_name":"Simon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673598416,"creation_date":1673598416,"answer_id":75106580,"question_id":75099460,"body_markdown":"I have checked mentioned place and it seems that &#39;Submit&#39; button is activated after a moment after typed code and some validation in background. You might need to add some wait for button to be clickable like [here][1].\r\n\r\nThen you can try clicking with xpath like: \r\n\r\n    //div[text() = &#39;Submit&#39;]\r\n(As there are no many characteristic attributes around).\r\n\r\nAs for &#39;IllegalArgumentException&#39; your code sample might be necessary.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/38327049/check-if-element-is-clickable-in-selenium-java","title":"Is there any option handle popup using java with selenium which has HTML properties but hasn&#39;t any ok/accept/done button?","body":"<p>I have checked mentioned place and it seems that 'Submit' button is activated after a moment after typed code and some validation in background. You might need to add some wait for button to be clickable like <a href=\"https://stackoverflow.com/questions/38327049/check-if-element-is-clickable-in-selenium-java\">here</a>.</p>\n<p>Then you can try clicking with xpath like:</p>\n<pre><code>//div[text() = 'Submit']\n</code></pre>\n<p>(As there are no many characteristic attributes around).</p>\n<p>As for 'IllegalArgumentException' your code sample might be necessary.</p>\n"}],"owner":{"account_id":24002730,"reputation":1,"user_id":17987364,"display_name":"sam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673598416,"creation_date":1673540987,"question_id":75099460,"body_markdown":"I&#39;m automating using java selenium\r\nI open flipkart.com in google chrome and as soon as I click on grocery it is asking for verify delivery Pincode but there is no any ok/done button to perform the task. if I open the site manually same Pincode popup is coming and I enter the Pincode then I hit on Enter button it gets open.\r\n\r\nI&#39;ve tried using action class to hit on Enter button however IllegalArgumentException occurring ","title":"Is there any option handle popup using java with selenium which has HTML properties but hasn&#39;t any ok/accept/done button?","body":"<p>I'm automating using java selenium\nI open flipkart.com in google chrome and as soon as I click on grocery it is asking for verify delivery Pincode but there is no any ok/done button to perform the task. if I open the site manually same Pincode popup is coming and I enter the Pincode then I hit on Enter button it gets open.</p>\n<p>I've tried using action class to hit on Enter button however IllegalArgumentException occurring</p>\n"},{"tags":["java","mysql","spring","hibernate","persistence"],"comments":[{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":1,"creation_date":1461179034,"post_id":36752560,"comment_id":61086018,"body_markdown":"Are you able to run the query in mysql directly ? It&#39;s showing that `portfoliotype_id` is not a column in `stories` table.","body":"Are you able to run the query in mysql directly ? It&#39;s showing that <code>portfoliotype_id</code> is not a column in <code>stories</code> table."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1461179131,"post_id":36752560,"comment_id":61086076,"body_markdown":"Do you have any errors configuring Hibernate?","body":"Do you have any errors configuring Hibernate?"},{"owner":{"account_id":3416100,"reputation":172,"user_id":2864962,"display_name":"goKishore"},"score":0,"creation_date":1461179269,"post_id":36752560,"comment_id":61086167,"body_markdown":"I&#39;m able to run the query directly in commandline. I am even able to query the table based on portfoliotype_id, but not able to insert a new row through hibernate.","body":"I&#39;m able to run the query directly in commandline. I am even able to query the table based on portfoliotype_id, but not able to insert a new row through hibernate."},{"owner":{"account_id":8034427,"reputation":1287,"user_id":6058076,"accept_rate":100,"display_name":"LearningPhase"},"score":0,"creation_date":1461203410,"post_id":36752560,"comment_id":61095971,"body_markdown":"@goKishore do you have any table  named &#39;field list&#39; in your code?","body":"@goKishore do you have any table  named &#39;field list&#39; in your code?"},{"owner":{"account_id":3416100,"reputation":172,"user_id":2864962,"display_name":"goKishore"},"score":0,"creation_date":1461204860,"post_id":36752560,"comment_id":61096347,"body_markdown":"no, I don&#39;t have any. I assume it is a generic error message, not sure what it means though.","body":"no, I don&#39;t have any. I assume it is a generic error message, not sure what it means though."}],"answers":[{"comments":[{"owner":{"account_id":3416100,"reputation":172,"user_id":2864962,"display_name":"goKishore"},"score":0,"creation_date":1461249678,"post_id":36759154,"comment_id":61122960,"body_markdown":"Ok, should I do anything in the database at all? rename the columns?","body":"Ok, should I do anything in the database at all? rename the columns?"}],"tags":[],"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"comment_count":1,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1461210370,"creation_date":1461209703,"answer_id":36759154,"question_id":36752560,"body_markdown":"The error is basically saying that there isn&#39;t a field/column on `PortfolioType` called `portfoliotype_id` that it can find, because the field is actually called `id`.\r\n\r\nThis is a basic error because your ID column name doesn&#39;t match what you&#39;ve specified in your `@JoinColumn` annotation.\r\n\r\nChange the classes to the following and it should work.\r\n\r\n    public class Story implements TimesheetLoggable, LabelContainer, NamedObject, TaskContainer {\r\n        /** other fields omitted for space **/\r\n        \r\n        @ManyToOne(optional = true, targetEntity=PortfolioType.class)\r\n        @JoinColumn(name=&quot;portfolioTypeId&quot;)\r\n        private PortfolioType portfoliotype;\r\n    }\r\n\r\nPortfolio Type:\r\n\r\n    public class PortfolioType {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        @XmlAttribute(name = &quot;objectId&quot;)\r\n        @Column(name=&quot;portfolioTypeId&quot;)\r\n        private int portfolioTypeId;\r\n\r\n        /** other fields omitted for space **/\r\n    }\r\n    \r\nYou need to make sure that the `name` value in your `@Column` annotation, matches the `name` in your `@JoinColumn` annotation. Which is why always using `id` as your ID field name isn&#39;t a great idea.\r\n\r\nAlso, just a tip, putting these annotations on the setters, makes it much harder to read and work out what your relationships are. The usual convention is to to put these annotations on the field declarations.","title":"Springframework.dao.InvalidDataAccessResourceUsageException hibernate.SQLGrammarException MySQLSyntaxErrorException","body":"<p>The error is basically saying that there isn't a field/column on <code>PortfolioType</code> called <code>portfoliotype_id</code> that it can find, because the field is actually called <code>id</code>.</p>\n\n<p>This is a basic error because your ID column name doesn't match what you've specified in your <code>@JoinColumn</code> annotation.</p>\n\n<p>Change the classes to the following and it should work.</p>\n\n<pre><code>public class Story implements TimesheetLoggable, LabelContainer, NamedObject, TaskContainer {\n    /** other fields omitted for space **/\n\n    @ManyToOne(optional = true, targetEntity=PortfolioType.class)\n    @JoinColumn(name=\"portfolioTypeId\")\n    private PortfolioType portfoliotype;\n}\n</code></pre>\n\n<p>Portfolio Type:</p>\n\n<pre><code>public class PortfolioType {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @XmlAttribute(name = \"objectId\")\n    @Column(name=\"portfolioTypeId\")\n    private int portfolioTypeId;\n\n    /** other fields omitted for space **/\n}\n</code></pre>\n\n<p>You need to make sure that the <code>name</code> value in your <code>@Column</code> annotation, matches the <code>name</code> in your <code>@JoinColumn</code> annotation. Which is why always using <code>id</code> as your ID field name isn't a great idea.</p>\n\n<p>Also, just a tip, putting these annotations on the setters, makes it much harder to read and work out what your relationships are. The usual convention is to to put these annotations on the field declarations.</p>\n"},{"comments":[{"owner":{"account_id":5300172,"reputation":2057,"user_id":4230093,"accept_rate":20,"display_name":"Hey StackExchange"},"score":0,"creation_date":1654190012,"post_id":62809095,"comment_id":128037714,"body_markdown":"Was my case. Thanks","body":"Was my case. Thanks"}],"tags":[],"owner":{"account_id":16903577,"reputation":115,"user_id":12224315,"display_name":"Chirag Gupta"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1594280909,"creation_date":1594277615,"answer_id":62809095,"question_id":36752560,"body_markdown":"Most commonly `InvalidDataAccessResourceUsageException` is thrown when database access is restricted to **Read-only mode** and you are trying to perform any DML query.","title":"Springframework.dao.InvalidDataAccessResourceUsageException hibernate.SQLGrammarException MySQLSyntaxErrorException","body":"<p>Most commonly <code>InvalidDataAccessResourceUsageException</code> is thrown when database access is restricted to <strong>Read-only mode</strong> and you are trying to perform any DML query.</p>\n"},{"tags":[],"owner":{"account_id":22780815,"reputation":23,"user_id":16936777,"display_name":"Bogdan Anton"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673598168,"creation_date":1673598168,"answer_id":75106541,"question_id":36752560,"body_markdown":"I know this is a quite old question and it might help someone. If this exceptions prompts the causes can be diverse, in case of simpler DAO my advice would be simply to run the query directly to database and check what&#39;s wrong, for my case I had some old solution of materialized views refreshed via a function and a trigger and unfortunately my application didn&#39;t have refresh rights on that particular materialized view. ","title":"Springframework.dao.InvalidDataAccessResourceUsageException hibernate.SQLGrammarException MySQLSyntaxErrorException","body":"<p>I know this is a quite old question and it might help someone. If this exceptions prompts the causes can be diverse, in case of simpler DAO my advice would be simply to run the query directly to database and check what's wrong, for my case I had some old solution of materialized views refreshed via a function and a trigger and unfortunately my application didn't have refresh rights on that particular materialized view.</p>\n"}],"owner":{"account_id":3416100,"reputation":172,"user_id":2864962,"display_name":"goKishore"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133121,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":3,"score":12,"last_activity_date":1673598168,"creation_date":1461178041,"question_id":36752560,"body_markdown":"I&#39;m breaking my head trying to find out what&#39;s wrong here. I&#39;m working on a schema: It has a **Story entity (table: stories)** and I&#39;m trying to add a column to this **stories.portofoliotype_id** which is a foreign key to **PortfolioType (table: portofoliotypes)**. I think I have the annotations right, I even logged MySQL queries, it gets the following query, which is correct. I&#39;m trying to create a new story:\r\n&lt;code&gt;insert into stories(backlog_id, description, iteration_id, name, parent_id,portfoliotype_id, state, storyPoints, storyValue, treeRank) values (11, null, null, &#39;debug story&#39;, null, null, 0, null, null, 0)\r\n&lt;/code&gt;\r\n\r\nbut the hibernate fails with above mentioned exception. Here&#39;s the code :\r\n\r\n**Story.java**\r\n\r\n    @Entity\r\n    @Table(name = &quot;stories&quot;)\r\n    @Audited\r\n    @XmlRootElement\r\n    @XmlAccessorType( XmlAccessType.NONE )\r\n    public class Story implements TimesheetLoggable, LabelContainer,     NamedObject, TaskContainer {\r\n    private int id;\r\n    private String name;\r\n    private PortfolioType portfoliotype;\r\n    private String description;\r\n    private Backlog backlog;\r\n    private StoryState state = StoryState.NOT_STARTED;\r\n    private int treeRank = 0;\r\n    private Story parent;\r\n    private Iteration iteration;\r\n    private List&lt;Story&gt; children = new ArrayList&lt;Story&gt;();\r\n    private Set&lt;Label&gt; labels = new HashSet&lt;Label&gt;();\r\n    private Set&lt;User&gt; responsibles = new HashSet&lt;User&gt;();\r\n    private Set&lt;Task&gt; tasks = new HashSet&lt;Task&gt;();\r\n    private Set&lt;StoryHourEntry&gt; hourEntries = new HashSet&lt;StoryHourEntry&gt;();\r\n    private Set&lt;StoryRank&gt; storyRanks = new HashSet&lt;StoryRank&gt;();\r\n    private Set&lt;StoryAccess&gt; storyAccesses;\r\n    private Set&lt;WhatsNextStoryEntry&gt; whatsNextStoryEntries = new     HashSet&lt;WhatsNextStoryEntry&gt;();\r\n    private Integer storyPoints;\r\n    private Integer storyValue;\r\n    private Story fullInfoStory;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @XmlAttribute(name = &quot;objectId&quot;)\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @Column(nullable = false)\r\n    @XmlAttribute\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @ManyToOne(optional = true, targetEntity=PortfolioType.class)\r\n    @JoinColumn(name=&quot;portfoliotype_id&quot;)\r\n    public PortfolioType getPortfoliotype() {\r\n        return portfoliotype;\r\n    }\r\n\r\n    public void setPortfoliotype(PortfolioType portfolio) {\r\n        this.portfoliotype = portfolio;\r\n    }\r\n\r\n**PortfolioType.java**\r\n\r\n    @Entity\r\n    @Table(name=&quot;portfoliotypes&quot;)\r\n    @Audited\r\n    @XmlRootElement\r\n    @XmlAccessorType( XmlAccessType.NONE )\r\n    public class PortfolioType {\r\n    public PortfolioType() {}\r\n\r\n    private int id;\r\n    private String name;\r\n\t\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @XmlAttribute(name = &quot;objectId&quot;)\r\n    @Column(name=&quot;id&quot;)\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int portfoliotype_id) {\r\n        this.id = portfoliotype_id;\r\n    }\r\n\r\n    @Column(nullable=false)\r\n    @XmlAttribute\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\t\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\n\r\nAnd the stack trace : &lt;pre&gt;\r\n12:30:09.681 [http-bio-9090-exec-5] ERROR o.a.struts2.dispatcher.Dispatcher - Exception occurred during processing request: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\r\n    \tat org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:130) ~[spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:682) ~[spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:564) ~[spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:475) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) ~[spring-aop-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204) ~[spring-aop-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat com.sun.proxy.$Proxy74.create(Unknown Source) ~[na:na]\r\n    \tat fi.hut.soberit.agilefant.web.StoryAction.create(StoryAction.java:92) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.7.0_79]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.7.0_79]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_79]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_79]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat fi.hut.soberit.agilefant.web.SettingsInterceptor.intercept(SettingsInterceptor.java:23) ~[classes/:na]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat fi.hut.soberit.agilefant.web.SecurityInterceptor.intercept(SecurityInterceptor.java:198) ~[classes/:na]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat fi.hut.soberit.agilefant.web.RefreshUserInterceptor.intercept(RefreshUserInterceptor.java:41) ~[classes/:na]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:249) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:249) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:546) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77) [struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91) [struts2-core-2.3.14.2.jar:2.3.14.2]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\r\n    \tat fi.hut.soberit.agilefant.security.RestrictActionPathFilter.doFilter(RestrictActionPathFilter.java:28) [classes/:na]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\r\n    \tat org.springframework.orm.hibernate4.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:149) [spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat fi.hut.soberit.agilefant.security.SetupUserFilter.doFilter(SetupUserFilter.java:43) [classes/:na]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:146) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\r\n    \tat net.sf.ehcache.constructs.web.filter.GzipFilter.doFilter(GzipFilter.java:95) [ehcache-web-2.0.4.jar:na]\r\n    \tat net.sf.ehcache.constructs.web.filter.Filter.doFilter(Filter.java:86) [ehcache-web-2.0.4.jar:na]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) [catalina.jar:7.0.67]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423) [catalina.jar:7.0.67]\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1079) [tomcat-coyote.jar:7.0.67]\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625) [tomcat-coyote.jar:7.0.67]\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318) [tomcat-coyote.jar:7.0.67]\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_79]\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_79]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-coyote.jar:7.0.67]\r\n    \tat java.lang.Thread.run(Thread.java:745) [na:1.7.0_79]\r\n    Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:82) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:124) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:189) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:59) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3079) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3521) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:88) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:395) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:387) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:303) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:349) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1195) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.envers.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:158) ~[hibernate-envers-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.envers.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:62) ~[hibernate-envers-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:748) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:338) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:490) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:105) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \tat org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:556) ~[spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\r\n    \t... 130 common frames omitted\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column &#39;portfoliotype_id&#39; in &#39;field list&#39;\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.7.0_79]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:1.7.0_79]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.7.0_79]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:1.7.0_79]\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:411) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.Util.getInstance(Util.java:386) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2794) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2458) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2375) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2359) ~[mysql-connector-java-5.1.23.jar:na]\r\n    \tat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105) ~[commons-dbcp-1.4.jar:1.4]\r\n    \tat org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105) ~[commons-dbcp-1.4.jar:1.4]\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:186) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\r\n    \t... 148 common frames omitted\r\n    \r\n&lt;/pre&gt;\r\n\r\nAny help is much appreciated, thank you in advance. Also, this test case works :\r\nThis test case works, i.e fetches rows from stories\r\n\r\n    @Test\r\n    public void testSearchByPortfolioType() {\r\n        int searchfolio = 1;\r\n        String name = &quot;parity&quot;;\r\n        PortfolioType portfolio = new PortfolioType();\r\n        portfolio.setId(searchfolio);\r\n        portfolio.setName(name);\r\n        executeClassSql();\r\n        List&lt;Story&gt; stories = storyDAO.searchByPortfolioType(portfolio);\r\n        assertEquals(4, stories.size());\r\n    }\r\n\r\n\r\n**StoryDAOImpl.java**\r\n\r\n    public List&lt;Story&gt; searchByPortfolioType(PortfolioType portfolio) {\r\n        Criteria crit = this.createCriteria(Story.class);\r\n        Criterion folioCrit = Restrictions.eq(&quot;portfoliotype.id&quot;,portfolio.getId());\r\n        crit.add(folioCrit);\r\n        crit.addOrder(Order.asc(&quot;name&quot;));\r\n        crit.setMaxResults(SearchBusiness.MAX_RESULTS_PER_TYPE);\r\n        return asList(crit);\r\n    }","title":"Springframework.dao.InvalidDataAccessResourceUsageException hibernate.SQLGrammarException MySQLSyntaxErrorException","body":"<p>I'm breaking my head trying to find out what's wrong here. I'm working on a schema: It has a <strong>Story entity (table: stories)</strong> and I'm trying to add a column to this <strong>stories.portofoliotype_id</strong> which is a foreign key to <strong>PortfolioType (table: portofoliotypes)</strong>. I think I have the annotations right, I even logged MySQL queries, it gets the following query, which is correct. I'm trying to create a new story:\n<code>insert into stories(backlog_id, description, iteration_id, name, parent_id,portfoliotype_id, state, storyPoints, storyValue, treeRank) values (11, null, null, 'debug story', null, null, 0, null, null, 0)\n</code></p>\n\n<p>but the hibernate fails with above mentioned exception. Here's the code :</p>\n\n<p><strong>Story.java</strong></p>\n\n<pre><code>@Entity\n@Table(name = \"stories\")\n@Audited\n@XmlRootElement\n@XmlAccessorType( XmlAccessType.NONE )\npublic class Story implements TimesheetLoggable, LabelContainer,     NamedObject, TaskContainer {\nprivate int id;\nprivate String name;\nprivate PortfolioType portfoliotype;\nprivate String description;\nprivate Backlog backlog;\nprivate StoryState state = StoryState.NOT_STARTED;\nprivate int treeRank = 0;\nprivate Story parent;\nprivate Iteration iteration;\nprivate List&lt;Story&gt; children = new ArrayList&lt;Story&gt;();\nprivate Set&lt;Label&gt; labels = new HashSet&lt;Label&gt;();\nprivate Set&lt;User&gt; responsibles = new HashSet&lt;User&gt;();\nprivate Set&lt;Task&gt; tasks = new HashSet&lt;Task&gt;();\nprivate Set&lt;StoryHourEntry&gt; hourEntries = new HashSet&lt;StoryHourEntry&gt;();\nprivate Set&lt;StoryRank&gt; storyRanks = new HashSet&lt;StoryRank&gt;();\nprivate Set&lt;StoryAccess&gt; storyAccesses;\nprivate Set&lt;WhatsNextStoryEntry&gt; whatsNextStoryEntries = new     HashSet&lt;WhatsNextStoryEntry&gt;();\nprivate Integer storyPoints;\nprivate Integer storyValue;\nprivate Story fullInfoStory;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@XmlAttribute(name = \"objectId\")\npublic int getId() {\n    return id;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\n@Column(nullable = false)\n@XmlAttribute\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\n@ManyToOne(optional = true, targetEntity=PortfolioType.class)\n@JoinColumn(name=\"portfoliotype_id\")\npublic PortfolioType getPortfoliotype() {\n    return portfoliotype;\n}\n\npublic void setPortfoliotype(PortfolioType portfolio) {\n    this.portfoliotype = portfolio;\n}\n</code></pre>\n\n<p><strong>PortfolioType.java</strong></p>\n\n<pre><code>@Entity\n@Table(name=\"portfoliotypes\")\n@Audited\n@XmlRootElement\n@XmlAccessorType( XmlAccessType.NONE )\npublic class PortfolioType {\npublic PortfolioType() {}\n\nprivate int id;\nprivate String name;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@XmlAttribute(name = \"objectId\")\n@Column(name=\"id\")\npublic int getId() {\n    return id;\n}\n\npublic void setId(int portfoliotype_id) {\n    this.id = portfoliotype_id;\n}\n\n@Column(nullable=false)\n@XmlAttribute\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>And the stack trace : <pre>\n12:30:09.681 [http-bio-9090-exec-5] ERROR o.a.struts2.dispatcher.Dispatcher - Exception occurred during processing request: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement; SQL [n/a]; nested exception is org.hibernate.exception.SQLGrammarException: could not execute statement\n        at org.springframework.orm.hibernate4.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:130) ~[spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.orm.hibernate4.HibernateTransactionManager.convertHibernateAccessException(HibernateTransactionManager.java:682) ~[spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:564) ~[spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:755) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:724) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:475) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:270) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:94) ~[spring-tx-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172) ~[spring-aop-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204) ~[spring-aop-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at com.sun.proxy.$Proxy74.create(Unknown Source) ~[na:na]\n        at fi.hut.soberit.agilefant.web.StoryAction.create(StoryAction.java:92) ~[classes/:na]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.7.0_79]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) ~[na:1.7.0_79]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.7.0_79]\n        at java.lang.reflect.Method.invoke(Method.java:606) ~[na:1.7.0_79]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invokeAction(DefaultActionInvocation.java:450) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invokeActionOnly(DefaultActionInvocation.java:289) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:252) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at fi.hut.soberit.agilefant.web.SettingsInterceptor.intercept(SettingsInterceptor.java:23) ~[classes/:na]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at fi.hut.soberit.agilefant.web.SecurityInterceptor.intercept(SecurityInterceptor.java:198) ~[classes/:na]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at fi.hut.soberit.agilefant.web.RefreshUserInterceptor.intercept(RefreshUserInterceptor.java:41) ~[classes/:na]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:176) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:249) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:249) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:176) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:187) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) ~[xwork-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:546) ~[struts2-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77) [struts2-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:91) [struts2-core-2.3.14.2.jar:2.3.14.2]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\n        at fi.hut.soberit.agilefant.security.RestrictActionPathFilter.doFilter(RestrictActionPathFilter.java:28) [classes/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\n        at org.springframework.orm.hibernate4.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:149) [spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at fi.hut.soberit.agilefant.security.SetupUserFilter.doFilter(SetupUserFilter.java:43) [classes/:na]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:146) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160) [spring-security-web-3.2.5.RELEASE.jar:3.2.5.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\n        at net.sf.ehcache.constructs.web.filter.GzipFilter.doFilter(GzipFilter.java:95) [ehcache-web-2.0.4.jar:na]\n        at net.sf.ehcache.constructs.web.filter.Filter.doFilter(Filter.java:86) [ehcache-web-2.0.4.jar:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:88) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:106) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260) [spring-web-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) [catalina.jar:7.0.67]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:505) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169) [catalina.jar:7.0.67]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103) [catalina.jar:7.0.67]\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:956) [catalina.jar:7.0.67]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) [catalina.jar:7.0.67]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:423) [catalina.jar:7.0.67]\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1079) [tomcat-coyote.jar:7.0.67]\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:625) [tomcat-coyote.jar:7.0.67]\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318) [tomcat-coyote.jar:7.0.67]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145) [na:1.7.0_79]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615) [na:1.7.0_79]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-coyote.jar:7.0.67]\n        at java.lang.Thread.run(Thread.java:745) [na:1.7.0_79]\n    Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement\n        at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:82) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:49) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:124) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:109) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:189) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.jdbc.batch.internal.NonBatchingBatch.addToBatch(NonBatchingBatch.java:59) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3079) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3521) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:88) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:395) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:387) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:303) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:349) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:56) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.internal.SessionImpl.flush(SessionImpl.java:1195) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.envers.synchronization.AuditProcess.doBeforeTransactionCompletion(AuditProcess.java:158) ~[hibernate-envers-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.envers.synchronization.AuditProcessManager$1.doBeforeTransactionCompletion(AuditProcessManager.java:62) ~[hibernate-envers-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.spi.ActionQueue$BeforeTransactionCompletionProcessQueue.beforeTransactionCompletion(ActionQueue.java:748) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.spi.ActionQueue.beforeTransactionCompletion(ActionQueue.java:338) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:490) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.beforeTransactionCommit(JdbcTransaction.java:105) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.commit(AbstractTransactionImpl.java:175) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        at org.springframework.orm.hibernate4.HibernateTransactionManager.doCommit(HibernateTransactionManager.java:556) ~[spring-orm-3.2.13.RELEASE.jar:3.2.13.RELEASE]\n        ... 130 common frames omitted\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown column 'portfoliotype_id' in 'field list'\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.7.0_79]\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:57) ~[na:1.7.0_79]\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.7.0_79]\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:526) ~[na:1.7.0_79]\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:411) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.Util.getInstance(Util.java:386) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:1053) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4120) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4052) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2503) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2664) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2794) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:2155) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2458) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2375) ~[mysql-connector-java-5.1.23.jar:na]\n        at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:2359) ~[mysql-connector-java-5.1.23.jar:na]\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105) ~[commons-dbcp-1.4.jar:1.4]\n        at org.apache.commons.dbcp.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:105) ~[commons-dbcp-1.4.jar:1.4]\n        at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:186) ~[hibernate-core-4.2.18.Final.jar:4.2.18.Final]\n        ... 148 common frames omitted</p>\n\n<p></pre></p>\n\n<p>Any help is much appreciated, thank you in advance. Also, this test case works :\nThis test case works, i.e fetches rows from stories</p>\n\n<pre><code>@Test\npublic void testSearchByPortfolioType() {\n    int searchfolio = 1;\n    String name = \"parity\";\n    PortfolioType portfolio = new PortfolioType();\n    portfolio.setId(searchfolio);\n    portfolio.setName(name);\n    executeClassSql();\n    List&lt;Story&gt; stories = storyDAO.searchByPortfolioType(portfolio);\n    assertEquals(4, stories.size());\n}\n</code></pre>\n\n<p><strong>StoryDAOImpl.java</strong></p>\n\n<pre><code>public List&lt;Story&gt; searchByPortfolioType(PortfolioType portfolio) {\n    Criteria crit = this.createCriteria(Story.class);\n    Criterion folioCrit = Restrictions.eq(\"portfoliotype.id\",portfolio.getId());\n    crit.add(folioCrit);\n    crit.addOrder(Order.asc(\"name\"));\n    crit.setMaxResults(SearchBusiness.MAX_RESULTS_PER_TYPE);\n    return asList(crit);\n}\n</code></pre>\n"},{"tags":["java","html","wkhtmltopdf","converters"],"owner":{"account_id":724094,"reputation":41,"user_id":665620,"display_name":"Jim Theodoris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673598132,"creation_date":1673598132,"question_id":75106533,"body_markdown":"I have implemented html to pdf conversion using openhtmltopdf and I use it in Struts 2 action and it works very well. However, in the case of very large data, e.g. the html data is &gt; 3Mb (pdf file ~1.6Mb) when I test it with JMeter for 50 hits the application crashes with message java.lang.OutOfMemoryError: Java heap space.\r\nIf I increase the java limit with the -Xmx option I just get some extra hits\r\n\r\nThe code i use is like this:\r\n\r\nFirst clean html\r\n```\r\npublic class HtmlToXhtmlConverterHTMLCleaner2 extends AbstractHtmlToXhtmlConverter\r\n        implements IHtmlToXhtmlConverter {\r\n\r\n    public HtmlToXhtmlConverterHTMLCleaner2(String htmlData) {\r\n        super(htmlData);\r\n    }\r\n\r\n    @Override\r\n    public void convert() {\r\n\r\n        final HtmlCleaner cleaner =  new HtmlCleaner();\r\n\r\n        CleanerProperties cleanerProperties = cleaner.getProperties();\r\n        cleanerProperties.setAdvancedXmlEscape(true);\r\n        cleanerProperties.setOmitXmlDeclaration(true);\r\n        cleanerProperties.setOmitDoctypeDeclaration(false);\r\n        cleanerProperties.setTranslateSpecialEntities(true);\r\n        cleanerProperties.setTransResCharsToNCR(true);\r\n        cleanerProperties.setRecognizeUnicodeChars(true);\r\n        cleanerProperties.setIgnoreQuestAndExclam(true);\r\n        cleanerProperties.setUseEmptyElementTags(false);\r\n        cleanerProperties.setPruneTags(&quot;script&quot;);\r\n        \r\n        final XmlSerializer xmlSerializer = new PrettyXmlSerializer(cleanerProperties);\r\n\r\n        try {\r\n\r\n            final TagNode rootTagNode = cleaner.clean(htmlData);\r\n\r\n            this.xhtmlData = xmlSerializer.getAsString(rootTagNode);\r\n \r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nthen convert cleaned html to pdf \r\n\r\n```\r\npublic class PDFConverterHtmlToPdf extends AbstractPDFConverter implements IPDFConverter {\r\n\r\n    ByteArrayOutputStream psfData;\r\n   \r\n       public PDFConverterHtmlToPdf(String xhtmlData, String cssFile) {\r\n        super();\r\n        this.xhtmlData = xhtmlData;\r\n        this.cssFile = cssFile;\r\n    }\r\n\r\n    \r\n   @Override\r\n    public void convert() {\r\n   \r\n            pdfData = new ByteArrayOutputStream();\r\n            try {   \r\n            \r\n                // There are more options on the builder than shown below.\r\n                PdfRendererBuilder builder = new PdfRendererBuilder();\r\n                 if(cssFile != null &amp;&amp; cssFile.length() &gt; 0){\r\n                    builder.withHtmlContent(xhtmlData, cssFile);\r\n                 } else {\r\n                     builder.withHtmlContent(xhtmlData, &quot;&quot;);\r\n                 }\r\n                builder.toStream(pdfData);\r\n                builder.run();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            } \r\n     \r\n    }\r\n\r\n}\r\n```\r\n\r\nthen send data from strus2 action to request\r\n\r\n```\r\n private void buildPdfContent(String htmlContent) {\r\n        String pdfConverterCssFile = &quot;http://localhost:8080/DocumentConverterApi/css/htmlToPdf.css&quot;;\r\n        PDFConverterHelp pdfConverterHelp = new PDFConverterHelp(&quot;demo.pdf&quot;,\r\n                htmlContent, pdfConverterCssFile);\r\n        pdfConverterHelp.build();\r\n        inputStream = new ByteArrayInputStream(pdfConverterHelp.getPDFFile().toByteArray());\r\n        pdfConverterHelp.closePdfData();\r\n        contentDisposition = &quot;inline;filename=\\&quot;&quot; + &quot;demo.pdf\\&quot;&quot;;\r\n    }\r\n```\r\n\r\n\r\nI&#39;m doing something wron?\r\n\r\nIs there any other way to implement it without the risk of crashing the application?","title":"Convert html to Pdf with with very big data","body":"<p>I have implemented html to pdf conversion using openhtmltopdf and I use it in Struts 2 action and it works very well. However, in the case of very large data, e.g. the html data is &gt; 3Mb (pdf file ~1.6Mb) when I test it with JMeter for 50 hits the application crashes with message java.lang.OutOfMemoryError: Java heap space.\nIf I increase the java limit with the -Xmx option I just get some extra hits</p>\n<p>The code i use is like this:</p>\n<p>First clean html</p>\n<pre><code>public class HtmlToXhtmlConverterHTMLCleaner2 extends AbstractHtmlToXhtmlConverter\n        implements IHtmlToXhtmlConverter {\n\n    public HtmlToXhtmlConverterHTMLCleaner2(String htmlData) {\n        super(htmlData);\n    }\n\n    @Override\n    public void convert() {\n\n        final HtmlCleaner cleaner =  new HtmlCleaner();\n\n        CleanerProperties cleanerProperties = cleaner.getProperties();\n        cleanerProperties.setAdvancedXmlEscape(true);\n        cleanerProperties.setOmitXmlDeclaration(true);\n        cleanerProperties.setOmitDoctypeDeclaration(false);\n        cleanerProperties.setTranslateSpecialEntities(true);\n        cleanerProperties.setTransResCharsToNCR(true);\n        cleanerProperties.setRecognizeUnicodeChars(true);\n        cleanerProperties.setIgnoreQuestAndExclam(true);\n        cleanerProperties.setUseEmptyElementTags(false);\n        cleanerProperties.setPruneTags(&quot;script&quot;);\n        \n        final XmlSerializer xmlSerializer = new PrettyXmlSerializer(cleanerProperties);\n\n        try {\n\n            final TagNode rootTagNode = cleaner.clean(htmlData);\n\n            this.xhtmlData = xmlSerializer.getAsString(rootTagNode);\n \n        } catch (Exception ex) {\n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n<p>then convert cleaned html to pdf</p>\n<pre><code>public class PDFConverterHtmlToPdf extends AbstractPDFConverter implements IPDFConverter {\n\n    ByteArrayOutputStream psfData;\n   \n       public PDFConverterHtmlToPdf(String xhtmlData, String cssFile) {\n        super();\n        this.xhtmlData = xhtmlData;\n        this.cssFile = cssFile;\n    }\n\n    \n   @Override\n    public void convert() {\n   \n            pdfData = new ByteArrayOutputStream();\n            try {   \n            \n                // There are more options on the builder than shown below.\n                PdfRendererBuilder builder = new PdfRendererBuilder();\n                 if(cssFile != null &amp;&amp; cssFile.length() &gt; 0){\n                    builder.withHtmlContent(xhtmlData, cssFile);\n                 } else {\n                     builder.withHtmlContent(xhtmlData, &quot;&quot;);\n                 }\n                builder.toStream(pdfData);\n                builder.run();\n            } catch (Exception e) {\n                e.printStackTrace();\n            } \n     \n    }\n\n}\n</code></pre>\n<p>then send data from strus2 action to request</p>\n<pre><code> private void buildPdfContent(String htmlContent) {\n        String pdfConverterCssFile = &quot;http://localhost:8080/DocumentConverterApi/css/htmlToPdf.css&quot;;\n        PDFConverterHelp pdfConverterHelp = new PDFConverterHelp(&quot;demo.pdf&quot;,\n                htmlContent, pdfConverterCssFile);\n        pdfConverterHelp.build();\n        inputStream = new ByteArrayInputStream(pdfConverterHelp.getPDFFile().toByteArray());\n        pdfConverterHelp.closePdfData();\n        contentDisposition = &quot;inline;filename=\\&quot;&quot; + &quot;demo.pdf\\&quot;&quot;;\n    }\n</code></pre>\n<p>I'm doing something wron?</p>\n<p>Is there any other way to implement it without the risk of crashing the application?</p>\n"},{"tags":["java","eclipse","maven","jar","export"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673563587,"post_id":75102811,"comment_id":132534022,"body_markdown":"The whole point about a Maven build file is that it gets the dependencies for you. In theory all you need to do is give them pom.xml and it will do all that&#39;s required","body":"The whole point about a Maven build file is that it gets the dependencies for you. In theory all you need to do is give them pom.xml and it will do all that&#39;s required"},{"owner":{"account_id":26392322,"reputation":13,"user_id":20044035,"display_name":"newbieprogammer"},"score":0,"creation_date":1673566057,"post_id":75102811,"comment_id":132534460,"body_markdown":"Its the thing that its a java project with maven dependancies, cant have one without having the other","body":"Its the thing that its a java project with maven dependancies, cant have one without having the other"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1673568265,"post_id":75102811,"comment_id":132534805,"body_markdown":"Sorry I don&#39;t understand your comment at all","body":"Sorry I don&#39;t understand your comment at all"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673593422,"post_id":75102811,"comment_id":132538215,"body_markdown":"If you like to achieve that you have to make a configuration to build a resulting jar (executable jar via maven-shade-plugin/maven-assembly-plugin) or creating a zip/tar archive with maven-assembly-plugin depending on your requirements.","body":"If you like to achieve that you have to make a configuration to build a resulting jar (executable jar via maven-shade-plugin/maven-assembly-plugin) or creating a zip/tar archive with maven-assembly-plugin depending on your requirements."}],"answers":[{"comments":[{"owner":{"account_id":26392322,"reputation":13,"user_id":20044035,"display_name":"newbieprogammer"},"score":0,"creation_date":1673980061,"post_id":75103647,"comment_id":132615831,"body_markdown":"did not work :(","body":"did not work :("},{"owner":{"account_id":19942379,"reputation":33,"user_id":14613856,"display_name":"k.agoris"},"score":0,"creation_date":1673980988,"post_id":75103647,"comment_id":132616085,"body_markdown":"What is the error message?","body":"What is the error message?"}],"tags":[],"owner":{"account_id":19942379,"reputation":33,"user_id":14613856,"display_name":"k.agoris"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673597536,"creation_date":1673569239,"answer_id":75103647,"question_id":75102811,"body_markdown":"The default local repository is located based on OS:\r\n&gt;Windows: C:\\Users\\&lt;User_Name&gt;\\.m2\r\n\r\n&gt;Linux: /home/&lt;User_Name&gt;/.m2\r\n\r\n&gt;Mac: /Users/&lt;user_name&gt;/.m2\r\n\r\nAssuming that you want to store these dependencies in the project folder so that every user **does not have to download and import the external libraries**  according to  [this][1] source you can download all your dependencies to the target folder with the  following command.\r\n\r\n&gt; mvn install dependency:copy-dependencies \r\n\r\nYou can also specify the folder.\r\n\r\n&gt; mvn dependency:copy-dependencies -DoutputDirectory=specific-folder/\r\n\r\nTo make use of these commands you will have to install [Apache Maven Dependency Plugin][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21641165/14613856\r\n  [2]: https://does%20not%20have%20to%20download%20and%20import%20the%20external%20libraries","title":"How to export a java Maven file from eclipse","body":"<p>The default local repository is located based on OS:</p>\n<blockquote>\n<p>Windows: C:\\Users&lt;User_Name&gt;.m2</p>\n</blockquote>\n<blockquote>\n<p>Linux: /home/&lt;User_Name&gt;/.m2</p>\n</blockquote>\n<blockquote>\n<p>Mac: /Users/&lt;user_name&gt;/.m2</p>\n</blockquote>\n<p>Assuming that you want to store these dependencies in the project folder so that every user <strong>does not have to download and import the external libraries</strong>  according to  <a href=\"https://stackoverflow.com/a/21641165/14613856\">this</a> source you can download all your dependencies to the target folder with the  following command.</p>\n<blockquote>\n<p>mvn install dependency:copy-dependencies</p>\n</blockquote>\n<p>You can also specify the folder.</p>\n<blockquote>\n<p>mvn dependency:copy-dependencies -DoutputDirectory=specific-folder/</p>\n</blockquote>\n<p>To make use of these commands you will have to install <a href=\"https://does%20not%20have%20to%20download%20and%20import%20the%20external%20libraries\" rel=\"nofollow noreferrer\">Apache Maven Dependency Plugin</a></p>\n"}],"owner":{"account_id":26392322,"reputation":13,"user_id":20044035,"display_name":"newbieprogammer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673597536,"creation_date":1673561396,"question_id":75102811,"body_markdown":"How to export a java maven file from eclipse with all external libraries and maven dependacies so the other peorson opening does not have to download and import the external libraries?\r\n\r\nI tried the Archive file exporting method. But it wasn&#39;t successful, cause it lost the external libraries while importing, and it lost clases and packages . ","title":"How to export a java Maven file from eclipse","body":"<p>How to export a java maven file from eclipse with all external libraries and maven dependacies so the other peorson opening does not have to download and import the external libraries?</p>\n<p>I tried the Archive file exporting method. But it wasn't successful, cause it lost the external libraries while importing, and it lost clases and packages .</p>\n"},{"tags":["java","regex","string","split"],"comments":[{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":2,"creation_date":1673473394,"post_id":75089136,"comment_id":132510136,"body_markdown":"What is the logic behind expected output? I don&#39;t see a pattern, i.e in the first part you don&#39;t split at space but after the second and third comma you do partially. Why?","body":"What is the logic behind expected output? I don&#39;t see a pattern, i.e in the first part you don&#39;t split at space but after the second and third comma you do partially. Why?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1673473472,"post_id":75089136,"comment_id":132510158,"body_markdown":"Two questions here : 1) is the input String being generated by your program (or a program under your control)?  If so, a better approach would be to modify that if possible.  2) can you express in English the rules for what constitutes those “fields” - eg is out the first 2 characters after each comma, or the first word after each comma, or …","body":"Two questions here : 1) is the input String being generated by your program (or a program under your control)?  If so, a better approach would be to modify that if possible.  2) can you express in English the rules for what constitutes those “fields” - eg is out the first 2 characters after each comma, or the first word after each comma, or …"},{"owner":{"account_id":24086382,"reputation":1,"user_id":18060306,"display_name":"Jean  De S&#225;"},"score":0,"creation_date":1673476013,"post_id":75089136,"comment_id":132510873,"body_markdown":"I do the first division by removing the blanks, slashes and parentheses.\nAfter that, the fields have 1 space between them.\nSo my problem is that I need the Data&amp;HoraUTC together as well as the ProblemaEspec&#237;fico.","body":"I do the first division by removing the blanks, slashes and parentheses. After that, the fields have 1 space between them. So my problem is that I need the Data&amp;HoraUTC together as well as the ProblemaEspec&#237;fico."},{"owner":{"account_id":24086382,"reputation":1,"user_id":18060306,"display_name":"Jean  De S&#225;"},"score":0,"creation_date":1673476446,"post_id":75089136,"comment_id":132510957,"body_markdown":"The input string is being generated by other program. I don&#39;t have control.","body":"The input string is being generated by other program. I don&#39;t have control."}],"answers":[{"tags":[],"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673597516,"creation_date":1673597516,"answer_id":75106418,"question_id":75089136,"body_markdown":"I don&#39;t think you can get a single pattern to do the whole job, so simplest would be to insert the commas yourself for the split to operate on.\r\n\r\nSo preprocess your string like :\r\n\r\n    List&lt;String&gt; stringList = Pattern.compile(&quot;[^A-Za-z\\\\&amp;]{2,}&quot;)\r\n            .splitAsStream(&quot;Data &amp; Hora UTC, V Problema Espec&#237;fico, ID Descricao/InformacaoAdicional&quot;\r\n                    .replaceAll(&quot;, *([^ ]+))&quot;, &quot;, \\1,&quot;) )\r\n            .map(String::trim)\r\n            .collect(Collectors.toList());\r\n\r\nThat replaceAll changes your String ready for the split, so :\r\n\r\n    &quot;Data &amp; Hora UTC, V, Problema Espec&#237;fico, ID, Descricao/InformacaoAdicional&quot;\r\n","title":"How do I split and join string Java","body":"<p>I don't think you can get a single pattern to do the whole job, so simplest would be to insert the commas yourself for the split to operate on.</p>\n<p>So preprocess your string like :</p>\n<pre><code>List&lt;String&gt; stringList = Pattern.compile(&quot;[^A-Za-z\\\\&amp;]{2,}&quot;)\n        .splitAsStream(&quot;Data &amp; Hora UTC, V Problema Específico, ID Descricao/InformacaoAdicional&quot;\n                .replaceAll(&quot;, *([^ ]+))&quot;, &quot;, \\1,&quot;) )\n        .map(String::trim)\n        .collect(Collectors.toList());\n</code></pre>\n<p>That replaceAll changes your String ready for the split, so :</p>\n<pre><code>&quot;Data &amp; Hora UTC, V, Problema Específico, ID, Descricao/InformacaoAdicional&quot;\n</code></pre>\n"}],"owner":{"account_id":24086382,"reputation":1,"user_id":18060306,"display_name":"Jean  De S&#225;"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1673597516,"creation_date":1673472241,"question_id":75089136,"body_markdown":"I&#39;m using a **RegEx** to match the string fields below so that I get this order:\r\n\r\n - Data&amp;HoraUTC\r\n - V\r\n - ProblemaEspec&#237;fico\r\n - ID\r\n - DescricaoInformacaoAdicional\r\n\r\nI do the first division by removing the blanks, slashes and parentheses. After that, the fields have 1 space between them.\r\n\r\nhowever, I can&#39;t separate the fields* V and ProblemaEspecifico* and *ID and Descricao/InformacaoAdditional*.\r\n\r\nCan anybody help me. I believe a little adjustment and the code will work.\r\nthank you for your attention and help.\r\n\r\nThis is the original line.\r\n\r\n\r\n   ```\r\n====================================================================================================================                                                                                                                            \r\nData &amp; Hora (UTC)   V Problema Espec&#237;fico                    ID (Descricao/InformacaoAdicional)                                                                                                                                                             \r\n====================================================================================================================\r\n``` \r\n\r\nThe code :\r\n\r\n    List&lt;String&gt; stringList = Pattern.compile(&quot;[^A-Za-z\\\\&amp;]{2,}&quot;)\r\n                .splitAsStream(&quot;Data &amp; Hora UTC, V Problema Espec&#237;fico, ID Descricao/InformacaoAdicional&quot;)\r\n                .map(String::trim)\r\n                .collect(Collectors.toList());\r\n    \r\n    stringList.forEach(s -&gt; System.out.println(s));\r\n\r\nResult:\r\n\r\n    Data &amp; Hora UTC\r\n    V Problema Espec&#237;fico\r\n    ID Descricao/InformacaoAdicional\r\n\r\n","title":"How do I split and join string Java","body":"<p>I'm using a <strong>RegEx</strong> to match the string fields below so that I get this order:</p>\n<ul>\n<li>Data&amp;HoraUTC</li>\n<li>V</li>\n<li>ProblemaEspecífico</li>\n<li>ID</li>\n<li>DescricaoInformacaoAdicional</li>\n</ul>\n<p>I do the first division by removing the blanks, slashes and parentheses. After that, the fields have 1 space between them.</p>\n<p>however, I can't separate the fields* V and ProblemaEspecifico* and <em>ID and Descricao/InformacaoAdditional</em>.</p>\n<p>Can anybody help me. I believe a little adjustment and the code will work.\nthank you for your attention and help.</p>\n<p>This is the original line.</p>\n<pre><code>====================================================================================================================                                                                                                                            \nData &amp; Hora (UTC)   V Problema Específico                    ID (Descricao/InformacaoAdicional)                                                                                                                                                             \n====================================================================================================================\n</code></pre>\n<p>The code :</p>\n<pre><code>List&lt;String&gt; stringList = Pattern.compile(&quot;[^A-Za-z\\\\&amp;]{2,}&quot;)\n            .splitAsStream(&quot;Data &amp; Hora UTC, V Problema Específico, ID Descricao/InformacaoAdicional&quot;)\n            .map(String::trim)\n            .collect(Collectors.toList());\n\nstringList.forEach(s -&gt; System.out.println(s));\n</code></pre>\n<p>Result:</p>\n<pre><code>Data &amp; Hora UTC\nV Problema Específico\nID Descricao/InformacaoAdicional\n</code></pre>\n"},{"tags":["java","spring","web-services"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673506326,"post_id":75087052,"comment_id":132515508,"body_markdown":"Which Spring Boot version are you using? Please add the dependencies you have in your build file.","body":"Which Spring Boot version are you using? Please add the dependencies you have in your build file."}],"answers":[{"tags":[],"owner":{"account_id":16785993,"reputation":11,"user_id":12134962,"display_name":"dori rozen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673597470,"creation_date":1673597470,"answer_id":75106416,"question_id":75087052,"body_markdown":"I solved this\r\n\r\n     issue by configuring pom file with the next dependancy:\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\ninstead of :    \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Bounded mismatch with ServletRegistrationBean&lt;MessageDispatcherServlet&gt;","body":"<p>I solved this</p>\n<pre><code> issue by configuring pom file with the next dependancy:\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>instead of :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16785993,"reputation":11,"user_id":12134962,"display_name":"dori rozen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673597470,"creation_date":1673459032,"question_id":75087052,"body_markdown":"i tried to write ServletRegistrationBean&lt;MessageDispatcherServlet&gt; method that return \r\nMessageDispatcherServlet instance and i get bounded mismatch error.\r\n\r\nthis is the method i wrote:\r\n\r\n    public ServletRegistrationBean&lt;MessageDispatcherServlet&gt; requestDispatcher (ApplicationContext conext){\r\n    \t\tMessageDispatcherServlet msd = new MessageDispatcherServlet();\r\n    \t\tmsd.setApplicationContext(conext);\r\n    \t\tmsd.setTransformWsdlLocations(true);\r\n    servletContext.addServlet(&quot;MessageDispatcherServlet&quot;,msd);\r\n    \t\treturn new ServletRegistrationBean&lt;MessageDispatcherServlet&gt;(msd, &quot;/soap/*&quot;);\r\n    \t}\r\n\r\nwhat am i doing wrong?\r\n\r\n","title":"Bounded mismatch with ServletRegistrationBean&lt;MessageDispatcherServlet&gt;","body":"<p>i tried to write ServletRegistrationBean method that return\nMessageDispatcherServlet instance and i get bounded mismatch error.</p>\n<p>this is the method i wrote:</p>\n<pre><code>public ServletRegistrationBean&lt;MessageDispatcherServlet&gt; requestDispatcher (ApplicationContext conext){\n        MessageDispatcherServlet msd = new MessageDispatcherServlet();\n        msd.setApplicationContext(conext);\n        msd.setTransformWsdlLocations(true);\nservletContext.addServlet(&quot;MessageDispatcherServlet&quot;,msd);\n        return new ServletRegistrationBean&lt;MessageDispatcherServlet&gt;(msd, &quot;/soap/*&quot;);\n    }\n</code></pre>\n<p>what am i doing wrong?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-authentication"],"answers":[{"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1673616679,"post_id":75106392,"comment_id":132545188,"body_markdown":"You&#39;re very w elcome, Ayoub.","body":"You&#39;re very w elcome, Ayoub."},{"owner":{"account_id":17769351,"reputation":43,"user_id":12903385,"display_name":"Ayoub Bentameur"},"score":1,"creation_date":1673617050,"post_id":75106392,"comment_id":132545313,"body_markdown":"a lot alex i was used Dialog for the user to signout and reauth it&#39;s a good idea then i want to try the second choice for learning new stuff as a beginner .","body":"a lot alex i was used Dialog for the user to signout and reauth it&#39;s a good idea then i want to try the second choice for learning new stuff as a beginner ."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1673619047,"post_id":75106392,"comment_id":132546014,"body_markdown":"Ok, good to hear that.","body":"Ok, good to hear that."},{"owner":{"account_id":17769351,"reputation":43,"user_id":12903385,"display_name":"Ayoub Bentameur"},"score":1,"creation_date":1673620997,"post_id":75106392,"comment_id":132546724,"body_markdown":"i will support you on youtube and instagram alex you deserve more than that my brother.","body":"i will support you on youtube and instagram alex you deserve more than that my brother."}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673597299,"creation_date":1673597299,"answer_id":75106392,"question_id":75099569,"body_markdown":"&gt; Some security-sensitive actions—such as deleting an account, setting a primary email address, and changing a password—require that the user has recently signed in.\r\n\r\nYes, that&#39;s correct. As soon as 5 minutes have passed since the last log-in, the delete account operation cannot be performed, as it is considered a sensitive operation.\r\n\r\n&gt; Is there any way to get the current password from the user or any other solution?\r\n\r\n**No**, there is no way you can get the password of the logged-in user. Nobody will ever provide that. When a user tries to delete the account when 5 minutes have already passed since the last log-in, then you have two options available:\r\n\r\n1. You provide in the UI the possibility to sign out. In this way, the user will be redirected to a sign-in screen. As soon as it lands on the sign-in screen the user will be able to restart the authentication process. \r\n\r\n2. You can keep the user logged in but you&#39;ll need to provide an option to type the password again. As soon as you have the password, then you can call [FirebaseUser#getEmail()][1] to get the email of the logged-in user. Right after that, you can call [EmailAuthProvider#getCredential(String email, String password)][2] to get an object of type [AuthCredential][3]. Having such an object, you can call then call [FirebaseUser#reauthenticate(AuthCredential credential)][4] to reauthenticate with its own credentials.\r\n\r\nNo matter what option you choose, right after a successful authentication or a successful reauthentication, the user will be able to delete the account in a 5 minutes time frame.\r\n\r\nPersonally, I prefer the first option as it needs [only a sign-out option][5]. But it&#39;s up to you to decide which is better for your use case. In code, it looks like [this][6].\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#getEmail()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/EmailAuthProvider#getCredential(java.lang.String,%20java.lang.String)\r\n  [3]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthCredential\r\n  [4]: https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#reauthenticate(com.google.firebase.auth.AuthCredential)\r\n  [5]: https://medium.com/firebase-tips-tricks/how-to-authenticate-to-firebase-using-email-and-password-in-jetpack-compose-bd70ca56ea91\r\n  [6]: https://github.com/alexmamo/FirebaseSignInWithEmailAndPassword","title":"Re-authenticate a user. with FirebaseUI auth for Android","body":"<blockquote>\n<p>Some security-sensitive actions—such as deleting an account, setting a primary email address, and changing a password—require that the user has recently signed in.</p>\n</blockquote>\n<p>Yes, that's correct. As soon as 5 minutes have passed since the last log-in, the delete account operation cannot be performed, as it is considered a sensitive operation.</p>\n<blockquote>\n<p>Is there any way to get the current password from the user or any other solution?</p>\n</blockquote>\n<p><strong>No</strong>, there is no way you can get the password of the logged-in user. Nobody will ever provide that. When a user tries to delete the account when 5 minutes have already passed since the last log-in, then you have two options available:</p>\n<ol>\n<li><p>You provide in the UI the possibility to sign out. In this way, the user will be redirected to a sign-in screen. As soon as it lands on the sign-in screen the user will be able to restart the authentication process.</p>\n</li>\n<li><p>You can keep the user logged in but you'll need to provide an option to type the password again. As soon as you have the password, then you can call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#getEmail()\" rel=\"nofollow noreferrer\">FirebaseUser#getEmail()</a> to get the email of the logged-in user. Right after that, you can call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/EmailAuthProvider#getCredential(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">EmailAuthProvider#getCredential(String email, String password)</a> to get an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/AuthCredential\" rel=\"nofollow noreferrer\">AuthCredential</a>. Having such an object, you can call then call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/auth/FirebaseUser#reauthenticate(com.google.firebase.auth.AuthCredential)\" rel=\"nofollow noreferrer\">FirebaseUser#reauthenticate(AuthCredential credential)</a> to reauthenticate with its own credentials.</p>\n</li>\n</ol>\n<p>No matter what option you choose, right after a successful authentication or a successful reauthentication, the user will be able to delete the account in a 5 minutes time frame.</p>\n<p>Personally, I prefer the first option as it needs <a href=\"https://medium.com/firebase-tips-tricks/how-to-authenticate-to-firebase-using-email-and-password-in-jetpack-compose-bd70ca56ea91\" rel=\"nofollow noreferrer\">only a sign-out option</a>. But it's up to you to decide which is better for your use case. In code, it looks like <a href=\"https://github.com/alexmamo/FirebaseSignInWithEmailAndPassword\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":17769351,"reputation":43,"user_id":12903385,"display_name":"Ayoub Bentameur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75106392,"answer_count":1,"score":2,"last_activity_date":1673597347,"creation_date":1673541493,"question_id":75099569,"body_markdown":"I&#39;m using Firebase-UI auth and I want to implement delete account functionality for my application.\r\n\r\nSome security-sensitive actions—such as deleting an account, setting a primary email address, and changing a password—require that the user has recently signed in.\r\n\r\nTo delete a user, the user must have signed in recently, See [Re-authenticate a user](https://firebase.google.com/docs/auth/android/manage-users#re-authenticate_a_user).\r\n\r\n```\r\nFirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n// Get auth credentials from the user for re-authentication. The example below shows\r\n// email and password credentials but there are multiple possible providers,\r\n// such as GoogleAuthProvider or FacebookAuthProvider.\r\nAuthCredential credential = EmailAuthProvider\r\n        .getCredential(user.getEmail(), );//how can i get password of the user \r\n\r\n// Prompt the user to re-provide their sign-in credentials\r\nuser.reauthenticate(credential)\r\n        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                Log.d(TAG, &quot;User re-authenticated.&quot;);\r\n            }\r\n        });\r\n```\r\n\r\nis there any way to get the current password from the user or any other solution?\r\n\r\nI search all the documentation and I can&#39;t find a method that gives me the current password of the user.","title":"Re-authenticate a user. with FirebaseUI auth for Android","body":"<p>I'm using Firebase-UI auth and I want to implement delete account functionality for my application.</p>\n<p>Some security-sensitive actions—such as deleting an account, setting a primary email address, and changing a password—require that the user has recently signed in.</p>\n<p>To delete a user, the user must have signed in recently, See <a href=\"https://firebase.google.com/docs/auth/android/manage-users#re-authenticate_a_user\" rel=\"nofollow noreferrer\">Re-authenticate a user</a>.</p>\n<pre><code>FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n\n// Get auth credentials from the user for re-authentication. The example below shows\n// email and password credentials but there are multiple possible providers,\n// such as GoogleAuthProvider or FacebookAuthProvider.\nAuthCredential credential = EmailAuthProvider\n        .getCredential(user.getEmail(), );//how can i get password of the user \n\n// Prompt the user to re-provide their sign-in credentials\nuser.reauthenticate(credential)\n        .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                Log.d(TAG, &quot;User re-authenticated.&quot;);\n            }\n        });\n</code></pre>\n<p>is there any way to get the current password from the user or any other solution?</p>\n<p>I search all the documentation and I can't find a method that gives me the current password of the user.</p>\n"},{"tags":["java","c++"],"comments":[{"owner":{"account_id":1413789,"reputation":61252,"user_id":1553090,"accept_rate":89,"display_name":"paddy"},"score":1,"creation_date":1673579186,"post_id":75104449,"comment_id":132536243,"body_markdown":"There is no equivalent in C++. You will need to hand-roll your own. There are many possible approaches one might take. See [enum to string in modern C++](https://stackoverflow.com/q/28828957/1553090) for more information.","body":"There is no equivalent in C++. You will need to hand-roll your own. There are many possible approaches one might take. See <a href=\"https://stackoverflow.com/q/28828957/1553090\">enum to string in modern C++</a> for more information."},{"owner":{"account_id":5460139,"reputation":173036,"user_id":4342498,"accept_rate":50,"display_name":"NathanOliver"},"score":3,"creation_date":1673580325,"post_id":75104449,"comment_id":132536375,"body_markdown":"`std::(unordered_)map&lt;std::string, std::string&gt;` is a close-ish approximation.","body":"<code>std::(unordered_)map&lt;std::string, std::string&gt;</code> is a close-ish approximation."},{"owner":{"account_id":4892666,"reputation":116370,"user_id":3943312,"display_name":"Sam Varshavchik"},"score":3,"creation_date":1673580485,"post_id":75104449,"comment_id":132536397,"body_markdown":"C++ is not Java. The task at hand is not how to write Java-Like enumeration in C++, but how to implement what the Java enumeration does, but in C++.","body":"C++ is not Java. The task at hand is not how to write Java-Like enumeration in C++, but how to implement what the Java enumeration does, but in C++."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1673582342,"post_id":75104449,"comment_id":132536640,"body_markdown":"Use free functions. Java is a bit aggressive with the &quot;everything must be a method&quot; rule. In C++, it&#39;s very common to use free functions, even for things that operate on classes. The C++ Code Guidelines recommend only using member functions when you need access to internal state ([Source](https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-member)). And for an `enum`, there *is* no internal state (all of the properties of an enum, the description in your example, are public knowledge and immutable to the whole program).","body":"Use free functions. Java is a bit aggressive with the &quot;everything must be a method&quot; rule. In C++, it&#39;s very common to use free functions, even for things that operate on classes. The C++ Code Guidelines recommend only using member functions when you need access to internal state (<a href=\"https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#Rc-member\" rel=\"nofollow noreferrer\">Source</a>). And for an <code>enum</code>, there <i>is</i> no internal state (all of the properties of an enum, the description in your example, are public knowledge and immutable to the whole program)."}],"answers":[{"comments":[{"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"score":0,"creation_date":1673741691,"post_id":75106396,"comment_id":132566424,"body_markdown":"This works great and I think that I understand most of what is happening. There are a few keywords that I don&#39;t understand. Although, since this is a class and not an enum or integer value; I cannot utilize this with a switch statement. Is there a way that I could retrieve the variable name for a single InteractionType and make a switch statement do action based on the InteractionType selected?","body":"This works great and I think that I understand most of what is happening. There are a few keywords that I don&#39;t understand. Although, since this is a class and not an enum or integer value; I cannot utilize this with a switch statement. Is there a way that I could retrieve the variable name for a single InteractionType and make a switch statement do action based on the InteractionType selected?"},{"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"score":0,"creation_date":1673745535,"post_id":75106396,"comment_id":132566811,"body_markdown":"Adding a unique int/enum value to each class instance is trivial, just do similarly as the `description` field. And you can retrieve that value for use in a `switch` statement, eg: `InteractionType action = getSelectedAction(); switch (action.value()) {...}`. The problem is, you can’t use the values in `case` statements, eg: `case InteractionType::PRINTACTIONS.value():` won&#39;t work.","body":"Adding a unique int/enum value to each class instance is trivial, just do similarly as the <code>description</code> field. And you can retrieve that value for use in a <code>switch</code> statement, eg: <code>InteractionType action = getSelectedAction(); switch (action.value()) {...}</code>. The problem is, you can’t use the values in <code>case</code> statements, eg: <code>case InteractionType::PRINTACTIONS.value():</code> won&#39;t work."},{"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"score":0,"creation_date":1673750600,"post_id":75106396,"comment_id":132567170,"body_markdown":"That&#39;s exactly what I was trying to do. In my Java code I have a `switch (action) { ... }` which  has a case for each action. It seems efficient than writing the same code in `if (action) { ... } elseif { ... } else { ... }`. Would you be able to show me how I would modify the code to get it&#39;s value name out?","body":"That&#39;s exactly what I was trying to do. In my Java code I have a <code>switch (action) { ... }</code> which  has a case for each action. It seems efficient than writing the same code in <code>if (action) { ... } elseif { ... } else { ... }</code>. Would you be able to show me how I would modify the code to get it&#39;s value name out?"}],"tags":[],"owner":{"account_id":25589,"reputation":562161,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673597319,"creation_date":1673597319,"answer_id":75106396,"question_id":75104449,"body_markdown":"Your translation is a bit off. Try this instead:\r\n\r\nInteractionType.h\r\n```c++\r\n#ifndef InteractionTypeH\r\n#define InteractionTypeH\r\n\r\n#include &lt;string&gt;\r\n#include &lt;array&gt;\r\n\r\nclass InteractionType {\r\n    public:\r\n        static const InteractionType PRINTACTIONS;\r\n        static const InteractionType PRINTBANKNAME;\r\n        static const InteractionType PRINTBANKACTIONS;\r\n        static const InteractionType CREATEBRANCH;\r\n        static const InteractionType CREATECUSTOMER;\r\n        static const InteractionType READBRANCH;\r\n        static const InteractionType READCUSTOMER;\r\n        static const InteractionType UPDATEBRANCH;\r\n        static const InteractionType UPDATECUSTOMER;\r\n        static const InteractionType DELETEBRANCH;\r\n        static const InteractionType DELETECUSTOMER;\r\n        static const InteractionType QUITAPP;\r\n\r\n        std::string toString() const;\r\n\r\n        static std::array&lt;InteractionType, 12&gt; values();\r\n\r\n    private:\r\n        std::string description;\r\n        InteractionType(std::string description);\r\n};\r\n\r\n#endif\r\n```\r\n\r\nInteractionType.cpp\r\n```\r\n#include &quot;InteractionType.h&quot;\r\n\r\nconst InteractionType InteractionType::PRINTACTIONS(&quot;Print Actions&quot;);\r\nconst InteractionType InteractionType::PRINTBANKNAME(&quot;Print Bank Name&quot;);\r\nconst InteractionType InteractionType::PRINTBANKACTIONS(&quot;Print Bank Actions&quot;);\r\nconst InteractionType InteractionType::CREATEBRANCH(&quot;Create a Branch&quot;);\r\nconst InteractionType InteractionType::CREATECUSTOMER(&quot;Create a Customer&quot;);\r\nconst InteractionType InteractionType::READBRANCH(&quot;Read Branches&quot;);\r\nconst InteractionType InteractionType::READCUSTOMER(&quot;Read Customers&quot;);\r\nconst InteractionType InteractionType::UPDATEBRANCH(&quot;Update a Branch&quot;);\r\nconst InteractionType InteractionType::UPDATECUSTOMER(&quot;Update a Customer&quot;);\r\nconst InteractionType InteractionType::DELETEBRANCH(&quot;Delete a Branch&quot;);\r\nconst InteractionType InteractionType::DELETECUSTOMER(&quot;Delete a Customer&quot;);\r\nconst InteractionType InteractionType::QUITAPP(&quot;Quit Application&quot;);\r\n\r\nInteractionType::InteractionType(std::string description) {\r\n    this-&gt;description = description;\r\n}\r\n\r\nstd::string InteractionType::toString() const {\r\n    return description;\r\n}\r\n\r\nstd::array&lt;InteractionType, 12&gt; InteractionType::values() {\r\n    return {\r\n        PRINTACTIONS,\r\n        PRINTBANKNAME,\r\n        PRINTBANKACTIONS,\r\n        CREATEBRANCH,\r\n        CREATECUSTOMER,\r\n        READBRANCH,\r\n        READCUSTOMER,\r\n        UPDATEBRANCH,\r\n        UPDATECUSTOMER,\r\n        DELETEBRANCH,\r\n        DELETECUSTOMER,\r\n        QUITAPP\r\n    };\r\n}\r\n```\r\n\r\nAnd then you can use it like this:\r\n\r\n```c++\r\n#include &lt;iostream&gt;\r\n#include &lt;limits&gt;\r\n#include &quot;InteractionType.h&quot;\r\n\r\nvoid displayActions() {\r\n    std::cout &lt;&lt; &quot;Actions: &quot; &lt;&lt; std::endl;\r\n    size_t id = 0;\r\n    for(auto &amp;elem : InteractionType::values()) {\r\n        std::cout &lt;&lt; id++ &lt;&lt; &#39;:&#39; &lt;&lt; elem.toString() &lt;&lt; std::endl;\r\n    }\r\n}\r\n\r\nInteractionType getSelectedAction() {\r\n    auto interactionTypes = InteractionType::values();\r\n    std::cout &lt;&lt; &quot;Select an action: &quot;;\r\n    int id;\r\n    std::cin &gt;&gt; id;\r\n    std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), &#39;\\n&#39;);\r\n    return interactionTypes.at(id);\r\n}\r\n```\r\n\r\n[Online Demo](https://onlinegdb.com/HbP281h6Z)","title":"How to write a Java-like Enumeration in C++","body":"<p>Your translation is a bit off. Try this instead:</p>\n<p>InteractionType.h</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#ifndef InteractionTypeH\n#define InteractionTypeH\n\n#include &lt;string&gt;\n#include &lt;array&gt;\n\nclass InteractionType {\n    public:\n        static const InteractionType PRINTACTIONS;\n        static const InteractionType PRINTBANKNAME;\n        static const InteractionType PRINTBANKACTIONS;\n        static const InteractionType CREATEBRANCH;\n        static const InteractionType CREATECUSTOMER;\n        static const InteractionType READBRANCH;\n        static const InteractionType READCUSTOMER;\n        static const InteractionType UPDATEBRANCH;\n        static const InteractionType UPDATECUSTOMER;\n        static const InteractionType DELETEBRANCH;\n        static const InteractionType DELETECUSTOMER;\n        static const InteractionType QUITAPP;\n\n        std::string toString() const;\n\n        static std::array&lt;InteractionType, 12&gt; values();\n\n    private:\n        std::string description;\n        InteractionType(std::string description);\n};\n\n#endif\n</code></pre>\n<p>InteractionType.cpp</p>\n<pre><code>#include &quot;InteractionType.h&quot;\n\nconst InteractionType InteractionType::PRINTACTIONS(&quot;Print Actions&quot;);\nconst InteractionType InteractionType::PRINTBANKNAME(&quot;Print Bank Name&quot;);\nconst InteractionType InteractionType::PRINTBANKACTIONS(&quot;Print Bank Actions&quot;);\nconst InteractionType InteractionType::CREATEBRANCH(&quot;Create a Branch&quot;);\nconst InteractionType InteractionType::CREATECUSTOMER(&quot;Create a Customer&quot;);\nconst InteractionType InteractionType::READBRANCH(&quot;Read Branches&quot;);\nconst InteractionType InteractionType::READCUSTOMER(&quot;Read Customers&quot;);\nconst InteractionType InteractionType::UPDATEBRANCH(&quot;Update a Branch&quot;);\nconst InteractionType InteractionType::UPDATECUSTOMER(&quot;Update a Customer&quot;);\nconst InteractionType InteractionType::DELETEBRANCH(&quot;Delete a Branch&quot;);\nconst InteractionType InteractionType::DELETECUSTOMER(&quot;Delete a Customer&quot;);\nconst InteractionType InteractionType::QUITAPP(&quot;Quit Application&quot;);\n\nInteractionType::InteractionType(std::string description) {\n    this-&gt;description = description;\n}\n\nstd::string InteractionType::toString() const {\n    return description;\n}\n\nstd::array&lt;InteractionType, 12&gt; InteractionType::values() {\n    return {\n        PRINTACTIONS,\n        PRINTBANKNAME,\n        PRINTBANKACTIONS,\n        CREATEBRANCH,\n        CREATECUSTOMER,\n        READBRANCH,\n        READCUSTOMER,\n        UPDATEBRANCH,\n        UPDATECUSTOMER,\n        DELETEBRANCH,\n        DELETECUSTOMER,\n        QUITAPP\n    };\n}\n</code></pre>\n<p>And then you can use it like this:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n#include &lt;limits&gt;\n#include &quot;InteractionType.h&quot;\n\nvoid displayActions() {\n    std::cout &lt;&lt; &quot;Actions: &quot; &lt;&lt; std::endl;\n    size_t id = 0;\n    for(auto &amp;elem : InteractionType::values()) {\n        std::cout &lt;&lt; id++ &lt;&lt; ':' &lt;&lt; elem.toString() &lt;&lt; std::endl;\n    }\n}\n\nInteractionType getSelectedAction() {\n    auto interactionTypes = InteractionType::values();\n    std::cout &lt;&lt; &quot;Select an action: &quot;;\n    int id;\n    std::cin &gt;&gt; id;\n    std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n');\n    return interactionTypes.at(id);\n}\n</code></pre>\n<p><a href=\"https://onlinegdb.com/HbP281h6Z\" rel=\"nofollow noreferrer\">Online Demo</a></p>\n"}],"owner":{"account_id":1738315,"reputation":359,"user_id":1590375,"accept_rate":75,"display_name":"TroyPilewski"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1673597319,"creation_date":1673578916,"question_id":75104449,"body_markdown":"I&#39;m new to learning C++. I&#39;m trying to convert a Java application that I wrote to C++. What I can&#39;t understand is how to recreate the Enumeration classes from Java to C++. I would like to be able to create Enumeration objects which have a constructor and a `toString()` method.\r\n\r\nBelow is an example of my Java Enumeration:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public enum InteractionType {\r\n        // Enumeration Values\r\n            PRINTACTIONS(&quot;Print Available Actions&quot;),\r\n            PRINTBANKNAME(&quot;Display Bank Name&quot;),\r\n            PRINTBANKACTIONS(&quot;Display Bank Actions&quot;),\r\n            CREATEBRANCH(&quot;Create a Branch&quot;),\r\n            CREATECUSTOMER(&quot;Create a Customer&quot;),\r\n            READBRANCH(&quot;Query Bank Branches&quot;),\r\n            READCUSTOMER(&quot;Query Customers and/or Customer Transactions&quot;),\r\n            UPDATEBRANCH(&quot;Update Branch Name&quot;),\r\n            UPDATECUSTOMER(&quot;Update Customer Information&quot;),\r\n            DELETEBRANCH(&quot;Delete Branch&quot;),\r\n            DELETECUSTOMER(&quot;Delete Customer&quot;),\r\n            QUITAPP(&quot;Quit Application&quot;);\r\n            \r\n        // Private Variables\r\n        private final String description;\r\n    \r\n        // Constructor\r\n        InteractionType(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        // Methods\r\n        public String toString() {\r\n            return description;\r\n        }\r\n    }\r\n\r\nI would then create a method in the main file to get a specific `InteractionType` from an array of values. An example of that method would be:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    private static InteractionType getSelectedAction() {\r\n        // Creates an array with all the values of the Enumeration Class\r\n            InteractionType[] interactionTypes = InteractionType.values();\r\n            System.out.print(&quot;Select an action: &quot;);\r\n            int id = scanner.nextInt();\r\n            scanner.nextLine();\r\n        // Returns a specific InteractionType\r\n            return interactionTypes[id];\r\n        }\r\n\r\nThis is the class I have attempted to write to recreate a Java Enumeration in C++:\r\n\r\nInteractionType.h\r\n&lt;!-- language: c++ --&gt;\r\n\r\n    #include &lt;iostream&gt;\r\n    #include &lt;string&gt;\r\n    using namespace std;\r\n    \r\n    class InteractionType {\r\n    \tpublic:\r\n    \t\tstatic const InteractionType PRINTACTIONS(string = &quot;Print Actions&quot;);\r\n            static const InteractionType PRINTBANKNAME(string = &quot;Print Bank Name&quot;);\r\n            static const InteractionType PRINTBANKACTIONS(string = &quot;Print Bank Actions&quot;);\r\n            static const InteractionType CREATEBRANCH(string = &quot;Create a Branch&quot;);\r\n            static const InteractionType CREATECUSTOMER(string = &quot;Create a Customer&quot;);\r\n            static const InteractionType READBRANCH(string = &quot;Read Branches&quot;);\r\n            static const InteractionType READCUSTOMER(string = &quot;Read Customers&quot;);\r\n            static const InteractionType UPDATEBRANCH(string = &quot;Update a Branch&quot;);\r\n            static const InteractionType UPDATECUSTOMER(string = &quot;Update a Customer&quot;);\r\n            static const InteractionType DELETEBRANCH(string = &quot;Delete a Branch&quot;);\r\n            static const InteractionType DELETECUSTOMER(string = &quot;Delete a Customer&quot;);\r\n            static const InteractionType QUITAPP(string = &quot;Quit Application&quot;);\r\n    \tprivate:\r\n            string description;\r\n            InteractionType(string description);\r\n    };\r\n\r\nInteractionType.cpp\r\n&lt;!-- language: c++ --&gt;\r\n\r\n    #include &quot;InteractionType.h&quot;\r\n    \r\n    const InteractionType InteractionType::PRINTACTIONS(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::PRINTBANKNAME(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::PRINTBANKACTIONS(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::CREATEBRANCH(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::CREATECUSTOMER(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::READBRANCH(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::READCUSTOMER(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::UPDATEBRANCH(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::UPDATECUSTOMER(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::DELETEBRANCH(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::DELETECUSTOMER(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    const InteractionType InteractionType::QUITAPP(string description)\r\n    {\r\n    \treturn InteractionType(description);\r\n    }\r\n    \r\n    InteractionType::InteractionType(string description) {\r\n    \tthis-&gt;description = description;\r\n    }","title":"How to write a Java-like Enumeration in C++","body":"<p>I'm new to learning C++. I'm trying to convert a Java application that I wrote to C++. What I can't understand is how to recreate the Enumeration classes from Java to C++. I would like to be able to create Enumeration objects which have a constructor and a <code>toString()</code> method.</p>\n<p>Below is an example of my Java Enumeration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum InteractionType {\n    // Enumeration Values\n        PRINTACTIONS(&quot;Print Available Actions&quot;),\n        PRINTBANKNAME(&quot;Display Bank Name&quot;),\n        PRINTBANKACTIONS(&quot;Display Bank Actions&quot;),\n        CREATEBRANCH(&quot;Create a Branch&quot;),\n        CREATECUSTOMER(&quot;Create a Customer&quot;),\n        READBRANCH(&quot;Query Bank Branches&quot;),\n        READCUSTOMER(&quot;Query Customers and/or Customer Transactions&quot;),\n        UPDATEBRANCH(&quot;Update Branch Name&quot;),\n        UPDATECUSTOMER(&quot;Update Customer Information&quot;),\n        DELETEBRANCH(&quot;Delete Branch&quot;),\n        DELETECUSTOMER(&quot;Delete Customer&quot;),\n        QUITAPP(&quot;Quit Application&quot;);\n        \n    // Private Variables\n    private final String description;\n\n    // Constructor\n    InteractionType(String description) {\n        this.description = description;\n    }\n\n    // Methods\n    public String toString() {\n        return description;\n    }\n}\n</code></pre>\n<p>I would then create a method in the main file to get a specific <code>InteractionType</code> from an array of values. An example of that method would be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static InteractionType getSelectedAction() {\n    // Creates an array with all the values of the Enumeration Class\n        InteractionType[] interactionTypes = InteractionType.values();\n        System.out.print(&quot;Select an action: &quot;);\n        int id = scanner.nextInt();\n        scanner.nextLine();\n    // Returns a specific InteractionType\n        return interactionTypes[id];\n    }\n</code></pre>\n<p>This is the class I have attempted to write to recreate a Java Enumeration in C++:</p>\n<p>InteractionType.h</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nclass InteractionType {\n    public:\n        static const InteractionType PRINTACTIONS(string = &quot;Print Actions&quot;);\n        static const InteractionType PRINTBANKNAME(string = &quot;Print Bank Name&quot;);\n        static const InteractionType PRINTBANKACTIONS(string = &quot;Print Bank Actions&quot;);\n        static const InteractionType CREATEBRANCH(string = &quot;Create a Branch&quot;);\n        static const InteractionType CREATECUSTOMER(string = &quot;Create a Customer&quot;);\n        static const InteractionType READBRANCH(string = &quot;Read Branches&quot;);\n        static const InteractionType READCUSTOMER(string = &quot;Read Customers&quot;);\n        static const InteractionType UPDATEBRANCH(string = &quot;Update a Branch&quot;);\n        static const InteractionType UPDATECUSTOMER(string = &quot;Update a Customer&quot;);\n        static const InteractionType DELETEBRANCH(string = &quot;Delete a Branch&quot;);\n        static const InteractionType DELETECUSTOMER(string = &quot;Delete a Customer&quot;);\n        static const InteractionType QUITAPP(string = &quot;Quit Application&quot;);\n    private:\n        string description;\n        InteractionType(string description);\n};\n</code></pre>\n<p>InteractionType.cpp</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &quot;InteractionType.h&quot;\n\nconst InteractionType InteractionType::PRINTACTIONS(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::PRINTBANKNAME(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::PRINTBANKACTIONS(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::CREATEBRANCH(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::CREATECUSTOMER(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::READBRANCH(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::READCUSTOMER(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::UPDATEBRANCH(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::UPDATECUSTOMER(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::DELETEBRANCH(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::DELETECUSTOMER(string description)\n{\n    return InteractionType(description);\n}\n\nconst InteractionType InteractionType::QUITAPP(string description)\n{\n    return InteractionType(description);\n}\n\nInteractionType::InteractionType(string description) {\n    this-&gt;description = description;\n}\n</code></pre>\n"},{"tags":["java","android","filter","android-arrayadapter","autocompletetextview"],"comments":[{"owner":{"account_id":4829862,"reputation":1186,"user_id":4127441,"accept_rate":73,"display_name":"rgv"},"score":0,"creation_date":1610499689,"post_id":8512762,"comment_id":116151900,"body_markdown":"Lost half my day. Thank you brother :)","body":"Lost half my day. Thank you brother :)"}],"answers":[{"comments":[{"owner":{"account_id":556764,"reputation":823,"user_id":918957,"accept_rate":64,"display_name":"Rajiv yadav"},"score":0,"creation_date":1329135201,"post_id":8728169,"comment_id":11669791,"body_markdown":"hi thanks Alon i hav same prob . i would be grateful to you if you can post some related code. Thanks in advance","body":"hi thanks Alon i hav same prob . i would be grateful to you if you can post some related code. Thanks in advance"},{"owner":{"account_id":556764,"reputation":823,"user_id":918957,"accept_rate":64,"display_name":"Rajiv yadav"},"score":2,"creation_date":1329193688,"post_id":8728169,"comment_id":11687695,"body_markdown":"please add some code or describe your solution.\ni am totally stuck on this.","body":"please add some code or describe your solution. i am totally stuck on this."},{"owner":{"account_id":81884,"reputation":4943,"user_id":230637,"accept_rate":100,"display_name":"Alon Amir"},"score":0,"creation_date":1329421580,"post_id":8728169,"comment_id":11755616,"body_markdown":"@Rajivyadav did the new answer by Krzysztow help you?","body":"@Rajivyadav did the new answer by Krzysztow help you?"},{"owner":{"account_id":2511958,"reputation":1442,"user_id":2184214,"accept_rate":57,"display_name":"JJJones_3860"},"score":0,"creation_date":1636646403,"post_id":8728169,"comment_id":123618088,"body_markdown":"I got all of this to work the same way. Sub-classed ArrayAdapter; overrode getFilter() returning null as you did in performFiltering(). I am also getting my dropdown data from a web api call in onTextChanged(); calling an AsyncTask to retrieve the data and in onPostExecute() set the adapter list and notifyDataSetChanged(). I override getView() in my ArrayAdapter in order to set the dropdown layout items. I have to wonder whether AutoCompleteTextView is the right solution here, but I don&#39;t have a better one. And, I haven&#39;t yet figured out how to set the Text on item selection.","body":"I got all of this to work the same way. Sub-classed ArrayAdapter; overrode getFilter() returning null as you did in performFiltering(). I am also getting my dropdown data from a web api call in onTextChanged(); calling an AsyncTask to retrieve the data and in onPostExecute() set the adapter list and notifyDataSetChanged(). I override getView() in my ArrayAdapter in order to set the dropdown layout items. I have to wonder whether AutoCompleteTextView is the right solution here, but I don&#39;t have a better one. And, I haven&#39;t yet figured out how to set the Text on item selection."},{"owner":{"account_id":2511958,"reputation":1442,"user_id":2184214,"accept_rate":57,"display_name":"JJJones_3860"},"score":0,"creation_date":1636648459,"post_id":8728169,"comment_id":123618940,"body_markdown":"Ah! AutoCompleteTextView.setOnClickListener(...) to call setText() when item is selected from dropdown where the dropdown list is a data class.","body":"Ah! AutoCompleteTextView.setOnClickListener(...) to call setText() when item is selected from dropdown where the dropdown list is a data class."}],"tags":[],"owner":{"account_id":81884,"reputation":4943,"user_id":230637,"accept_rate":100,"display_name":"Alon Amir"},"comment_count":5,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1362923289,"creation_date":1325685900,"answer_id":8728169,"question_id":8512762,"body_markdown":"Eventually I subclassed `ArrayAdapter`, Disabled the filters by Overriding it&#39;s `getFilter` method, and Made my `HTTPRequest` during the &quot;text changed&quot; events.","title":"AutoCompleteTextView - disable filtering","body":"<p>Eventually I subclassed <code>ArrayAdapter</code>, Disabled the filters by Overriding it's <code>getFilter</code> method, and Made my <code>HTTPRequest</code> during the \"text changed\" events.</p>\n"},{"tags":[],"owner":{"account_id":185204,"reputation":781,"user_id":421760,"display_name":"Krzysztow"},"comment_count":0,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1329307452,"creation_date":1329271658,"answer_id":9286980,"question_id":8512762,"body_markdown":"Probably @Alon meant subclassing `ArrayAdapter`, instead of `AutoCompleteTextView`. In `getFilter()` method one has to return a custom filter, that performs no filtering at all (in its `performFiltering()`). Probably the performance could be a problem - because theread is spawned. The best thing would be to derive from TextEdit and implement own completion popup. But this is again too many hassle for me, so far. Finally, I did something as follows and it works for me. Any feedback appreciated.\r\n\r\n    public class KArrayAdapter&lt;T&gt; \r\n    extends ArrayAdapter&lt;T&gt;\r\n    {\r\n    \tprivate Filter filter = new KNoFilter();\r\n    \tpublic List&lt;T&gt; items;\r\n    \t\r\n    \t@Override\r\n    \tpublic Filter getFilter() {\r\n    \t\treturn filter;\r\n    \t}\r\n    \t\r\n    \tpublic KArrayAdapter(Context context, int textViewResourceId,\r\n    \t\t\tList&lt;T&gt; objects) {\r\n    \t\tsuper(context, textViewResourceId, objects);\r\n    \t\tLog.v(&quot;Krzys&quot;, &quot;Adapter created &quot; + filter);\r\n    \t\titems = objects;\r\n    \t}\r\n    \t\r\n    \tprivate class KNoFilter extends Filter {\r\n    \r\n    \t\t@Override\r\n    \t\tprotected FilterResults performFiltering(CharSequence arg0) {\r\n    \t\t\tFilterResults result = new FilterResults();\r\n                    result.values = items;\r\n                    result.count = items.size(); \r\n                return result;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tprotected void publishResults(CharSequence arg0, FilterResults arg1) {\r\n    \t\t\tnotifyDataSetChanged();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nHope it helps. ","title":"AutoCompleteTextView - disable filtering","body":"<p>Probably @Alon meant subclassing <code>ArrayAdapter</code>, instead of <code>AutoCompleteTextView</code>. In <code>getFilter()</code> method one has to return a custom filter, that performs no filtering at all (in its <code>performFiltering()</code>). Probably the performance could be a problem - because theread is spawned. The best thing would be to derive from TextEdit and implement own completion popup. But this is again too many hassle for me, so far. Finally, I did something as follows and it works for me. Any feedback appreciated.</p>\n\n<pre><code>public class KArrayAdapter&lt;T&gt; \nextends ArrayAdapter&lt;T&gt;\n{\n    private Filter filter = new KNoFilter();\n    public List&lt;T&gt; items;\n\n    @Override\n    public Filter getFilter() {\n        return filter;\n    }\n\n    public KArrayAdapter(Context context, int textViewResourceId,\n            List&lt;T&gt; objects) {\n        super(context, textViewResourceId, objects);\n        Log.v(\"Krzys\", \"Adapter created \" + filter);\n        items = objects;\n    }\n\n    private class KNoFilter extends Filter {\n\n        @Override\n        protected FilterResults performFiltering(CharSequence arg0) {\n            FilterResults result = new FilterResults();\n                result.values = items;\n                result.count = items.size(); \n            return result;\n        }\n\n        @Override\n        protected void publishResults(CharSequence arg0, FilterResults arg1) {\n            notifyDataSetChanged();\n        }\n    }\n}\n</code></pre>\n\n<p>Hope it helps. </p>\n"},{"tags":[],"owner":{"account_id":13946328,"reputation":111,"user_id":10071001,"display_name":"cHAuHaN"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1563716966,"creation_date":1563716966,"answer_id":57133805,"question_id":8512762,"body_markdown":"I solved my problem by making a custom adapter extending ````ArrayAdapter```` class and overriding its ````getFilter()```` method. By doing this the list will not be filtered based on any text placed in the TextField and all items will be displayed.\r\n\r\n````\r\npublic class MyAdapter extends ArrayAdapter{\r\n    public MyAdapter(@NonNull Context context, int resource) {\r\n        super(context, resource);\r\n    }\r\n\r\n    public MyAdapter(@NonNull Context context, int resource, int textViewResourceId) {\r\n        super(context, resource, textViewResourceId);\r\n    }\r\n\r\n    public MyAdapter(@NonNull Context context, int resource, @NonNull Object[] objects) {\r\n        super(context, resource, objects);\r\n    }\r\n\r\n    public MyAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull Object[] objects) {\r\n        super(context, resource, textViewResourceId, objects);\r\n    }\r\n\r\n    public MyAdapter(@NonNull Context context, int resource, @NonNull List objects) {\r\n        super(context, resource, objects);\r\n    }\r\n\r\n    public MyAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull List objects) {\r\n        super(context, resource, textViewResourceId, objects);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Filter getFilter() {\r\n        return new Filter() {\r\n            @Override\r\n            protected FilterResults performFiltering(CharSequence constraint) {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void publishResults(CharSequence constraint, FilterResults results) {\r\n\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\n````","title":"AutoCompleteTextView - disable filtering","body":"<p>I solved my problem by making a custom adapter extending <code>ArrayAdapter</code> class and overriding its <code>getFilter()</code> method. By doing this the list will not be filtered based on any text placed in the TextField and all items will be displayed.</p>\n\n<pre><code>public class MyAdapter extends ArrayAdapter{\n    public MyAdapter(@NonNull Context context, int resource) {\n        super(context, resource);\n    }\n\n    public MyAdapter(@NonNull Context context, int resource, int textViewResourceId) {\n        super(context, resource, textViewResourceId);\n    }\n\n    public MyAdapter(@NonNull Context context, int resource, @NonNull Object[] objects) {\n        super(context, resource, objects);\n    }\n\n    public MyAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull Object[] objects) {\n        super(context, resource, textViewResourceId, objects);\n    }\n\n    public MyAdapter(@NonNull Context context, int resource, @NonNull List objects) {\n        super(context, resource, objects);\n    }\n\n    public MyAdapter(@NonNull Context context, int resource, int textViewResourceId, @NonNull List objects) {\n        super(context, resource, textViewResourceId, objects);\n    }\n\n    @NonNull\n    @Override\n    public Filter getFilter() {\n        return new Filter() {\n            @Override\n            protected FilterResults performFiltering(CharSequence constraint) {\n                return null;\n            }\n\n            @Override\n            protected void publishResults(CharSequence constraint, FilterResults results) {\n\n            }\n        };\n    }\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4574940,"reputation":81,"user_id":3751236,"display_name":"android6p"},"score":0,"creation_date":1601888048,"post_id":63187620,"comment_id":113535026,"body_markdown":"This is the much needed answer!","body":"This is the much needed answer!"},{"owner":{"account_id":13584346,"reputation":86,"user_id":9799463,"display_name":"Acemond"},"score":1,"creation_date":1679498141,"post_id":63187620,"comment_id":133733458,"body_markdown":"This should be the selected answer. It works flawlessly without needing to write extra code or overriding adapters.","body":"This should be the selected answer. It works flawlessly without needing to write extra code or overriding adapters."}],"tags":[],"owner":{"account_id":7361640,"reputation":660,"user_id":5604736,"display_name":"NezSpencer"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1596180801,"creation_date":1596180801,"answer_id":63187620,"question_id":8512762,"body_markdown":"When setting text to the AutoCompleteTextView, use `setText(CharSequence text, boolean filter)`.\r\nSet filter to false, this sets the text without activating the filter","title":"AutoCompleteTextView - disable filtering","body":"<p>When setting text to the AutoCompleteTextView, use <code>setText(CharSequence text, boolean filter)</code>.\nSet filter to false, this sets the text without activating the filter</p>\n"},{"tags":[],"owner":{"account_id":882201,"reputation":1848,"user_id":291688,"accept_rate":69,"display_name":"Dennis K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673597012,"creation_date":1673597012,"answer_id":75106350,"question_id":8512762,"body_markdown":"Found this while looking for a similar thing, but in what could be a bit unusual setup - using `AutocompleteTextView` as a Spinner (it&#39;s useful when you want a spinner wrapped in `TextInputLayout`). \r\nI&#39;m also using `app:simpleItems` approach for providing items instead of a custom adapter like so:\r\n\r\n```\r\n&lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\r\n                                android:id=&quot;@+id/sizes&quot;\r\n                                android:layout_width=&quot;match_parent&quot;\r\n                                android:layout_height=&quot;wrap_content&quot;\r\n                                android:inputType=&quot;none&quot;\r\n                                app:simpleItems=&quot;@array/sizes&quot; /&gt;\r\n```\r\n\r\n\r\nThere are two approaches that worked and don&#39;t require you to subclass the adapter:\r\n1. Call `setText(text, false)` in your `onItemClickListener`\r\n```\r\nview.findViewById&lt;MaterialAutoCompleteTextView&gt;(R.id.sizes).onItemClickListener =\r\n        AdapterView.OnItemClickListener { _, _, position, _ -&gt;\r\n            setText(adapter.getItem(position).toString(), false);\r\n        }\r\n```\r\n2. Set empty array to filters.\r\n```\r\nview.findViewById&lt;MaterialAutoCompleteTextView&gt;(R.id.sampler).filters = arrayOf()\r\n```\r\n\r\nHope this helps someone.","title":"AutoCompleteTextView - disable filtering","body":"<p>Found this while looking for a similar thing, but in what could be a bit unusual setup - using <code>AutocompleteTextView</code> as a Spinner (it's useful when you want a spinner wrapped in <code>TextInputLayout</code>).\nI'm also using <code>app:simpleItems</code> approach for providing items instead of a custom adapter like so:</p>\n<pre><code>&lt;com.google.android.material.textfield.MaterialAutoCompleteTextView\n                                android:id=&quot;@+id/sizes&quot;\n                                android:layout_width=&quot;match_parent&quot;\n                                android:layout_height=&quot;wrap_content&quot;\n                                android:inputType=&quot;none&quot;\n                                app:simpleItems=&quot;@array/sizes&quot; /&gt;\n</code></pre>\n<p>There are two approaches that worked and don't require you to subclass the adapter:</p>\n<ol>\n<li>Call <code>setText(text, false)</code> in your <code>onItemClickListener</code></li>\n</ol>\n<pre><code>view.findViewById&lt;MaterialAutoCompleteTextView&gt;(R.id.sizes).onItemClickListener =\n        AdapterView.OnItemClickListener { _, _, position, _ -&gt;\n            setText(adapter.getItem(position).toString(), false);\n        }\n</code></pre>\n<ol start=\"2\">\n<li>Set empty array to filters.</li>\n</ol>\n<pre><code>view.findViewById&lt;MaterialAutoCompleteTextView&gt;(R.id.sampler).filters = arrayOf()\n</code></pre>\n<p>Hope this helps someone.</p>\n"}],"owner":{"account_id":81884,"reputation":4943,"user_id":230637,"accept_rate":100,"display_name":"Alon Amir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11366,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":8728169,"answer_count":5,"score":22,"last_activity_date":1673597012,"creation_date":1323902419,"question_id":8512762,"body_markdown":"I&#39;m retrieving a list of strings from a `webservice` and I want to list them up on a `AutoCompleteTextField` regardless of the built-in `AutoCompleteTextField` filters.\r\n\r\nHow do I do that? is there a way to disable it&#39;s inner filtering easily (preferably without subclassing)\r\nI&#39;ve loaded all my results into a `ArrayAdapter`, the problem is that some of them don&#39;t show up because of the filtering.\r\n\r\nIf I&#39;m going in the wrong direction please point me to the right direction.","title":"AutoCompleteTextView - disable filtering","body":"<p>I'm retrieving a list of strings from a <code>webservice</code> and I want to list them up on a <code>AutoCompleteTextField</code> regardless of the built-in <code>AutoCompleteTextField</code> filters.</p>\n\n<p>How do I do that? is there a way to disable it's inner filtering easily (preferably without subclassing)\nI've loaded all my results into a <code>ArrayAdapter</code>, the problem is that some of them don't show up because of the filtering.</p>\n\n<p>If I'm going in the wrong direction please point me to the right direction.</p>\n"},{"tags":["java","javafx","appendtext"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":6,"creation_date":1673586689,"post_id":75105066,"comment_id":132537120,"body_markdown":"In JavaFX, stack traces like that, where none of your code shows up in the trace, is a strong indication of improper use of threads. If you&#39;re calling `appendText` on a background thread, then that is likely the root of the problem. Or at least the most prevalent symptom of a larger design issue. You must never interact with the UI on a background thread; only the _JavaFX Application Thread_ is allowed to touch a live scene graph.","body":"In JavaFX, stack traces like that, where none of your code shows up in the trace, is a strong indication of improper use of threads. If you&#39;re calling <code>appendText</code> on a background thread, then that is likely the root of the problem. Or at least the most prevalent symptom of a larger design issue. You must never interact with the UI on a background thread; only the <i>JavaFX Application Thread</i> is allowed to touch a live scene graph."},{"owner":{"account_id":27516057,"reputation":11,"user_id":20997003,"display_name":"MatleBonVon"},"score":0,"creation_date":1673587102,"post_id":75105066,"comment_id":132537192,"body_markdown":"You are correct there is a ScheduledThread to keep it running every x seconds (determined by user) without running this the whole program freezes up due to starting as soon as it stops. Also I can&#39;t just make the program wait x seconds as part of it is an API call which can vary as large as 800 ms. Any suggestions? Thanks","body":"You are correct there is a ScheduledThread to keep it running every x seconds (determined by user) without running this the whole program freezes up due to starting as soon as it stops. Also I can&#39;t just make the program wait x seconds as part of it is an API call which can vary as large as 800 ms. Any suggestions? Thanks"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":6,"creation_date":1673588257,"post_id":75105066,"comment_id":132537334,"body_markdown":"Refer to [Concurrency in JavaFX](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm#JFXIP546) and method [Platform.runLater](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable))","body":"Refer to <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm#JFXIP546\" rel=\"nofollow noreferrer\">Concurrency in JavaFX</a> and method <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\">Platform.runLater</a>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1673595083,"post_id":75105066,"comment_id":132538607,"body_markdown":"@MatleBonVon You&#39;re correct to put I/O work, or otherwise time-consuming work, on a background thread. The exact solution to your problem depends on what you&#39;re trying to do. But the general suggestion is to execute any and all code that updates the UI, and only that code, on the _JavaFX Application Thread_. Abra linked some good resources.","body":"@MatleBonVon You&#39;re correct to put I/O work, or otherwise time-consuming work, on a background thread. The exact solution to your problem depends on what you&#39;re trying to do. But the general suggestion is to execute any and all code that updates the UI, and only that code, on the <i>JavaFX Application Thread</i>. Abra linked some good resources."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1673595247,"post_id":75105066,"comment_id":132538644,"body_markdown":"That said, it seems to me like you&#39;re trying to append results to a `TextArea` as the task executes. If you don&#39;t mind displaying all the results at once, then the idea is to have a `Task` return e.g., a `List` of objects, then watch that task for completion (e.g., via its `onSucceeded` handler) and grab the value. Handlers such as `onSucceeded` are designed to execute on the FX thread regardless of which thread actually executes the task. Otherwise, as noted by Abra, look into `Platform#runLater(Runnable)`. Try not to overwhelm the FX thread with tasks.","body":"That said, it seems to me like you&#39;re trying to append results to a <code>TextArea</code> as the task executes. If you don&#39;t mind displaying all the results at once, then the idea is to have a <code>Task</code> return e.g., a <code>List</code> of objects, then watch that task for completion (e.g., via its <code>onSucceeded</code> handler) and grab the value. Handlers such as <code>onSucceeded</code> are designed to execute on the FX thread regardless of which thread actually executes the task. Otherwise, as noted by Abra, look into <code>Platform#runLater(Runnable)</code>. Try not to overwhelm the FX thread with tasks."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673596830,"post_id":75105066,"comment_id":132539103,"body_markdown":"Possible [duplicate](https://stackoverflow.com/questions/59379148/how-to-communicate-between-a-thread-and-the-gui).","body":"Possible <a href=\"https://stackoverflow.com/questions/59379148/how-to-communicate-between-a-thread-and-the-gui\">duplicate</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1673596881,"post_id":75105066,"comment_id":132539115,"body_markdown":"I’ll reopen this for now, incase somebody wants to provide a more specific answer than the marked duplicate.","body":"I’ll reopen this for now, incase somebody wants to provide a more specific answer than the marked duplicate."}],"owner":{"account_id":27516057,"reputation":11,"user_id":20997003,"display_name":"MatleBonVon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673596898,"creation_date":1673586359,"question_id":75105066,"body_markdown":"I am writing a program that checks prices and if it increases past a set amount then lets the user know by putting into a JavaFX text area line by line with a time stamp, appendText() spits out 2 errors. The error codes don&#39;t point to anything specific which is causing me to go in circles.\r\n\r\nMost of the code works and if I use System.out.print() instead the code runs perfectly, but if I use txtContent.appendText() then at a random time in the first five minutes I will get one of the following errors.\r\n\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot read the array length because &quot;this.lines&quot; is null\r\n\tat javafx.graphics@19/com.sun.javafx.text.PrismTextLayout.layout(PrismTextLayout.java:1222)\r\n\tat javafx.graphics@19/com.sun.javafx.text.PrismTextLayout.ensureLayout(PrismTextLayout.java:223)\r\n\tat javafx.graphics@19/com.sun.javafx.text.PrismTextLayout.getBounds(PrismTextLayout.java:246)\r\n\tat javafx.graphics@19/javafx.scene.text.Text.getLogicalBounds(Text.java:432)\r\n\tat javafx.graphics@19/javafx.scene.text.Text.doComputeGeomBounds(Text.java:1187)\r\n\tat javafx.graphics@19/javafx.scene.text.Text$1.doComputeGeomBounds(Text.java:149)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.shape.TextHelper.computeGeomBoundsImpl(TextHelper.java:90)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.NodeHelper.computeGeomBounds(NodeHelper.java:117)\r\n\tat javafx.graphics@19/javafx.scene.Node.updateGeomBounds(Node.java:3825)\r\n\tat javafx.graphics@19/javafx.scene.Node.getGeomBounds(Node.java:3787)\r\n\tat javafx.graphics@19/javafx.scene.Node.getLocalBounds(Node.java:3735)\r\n\tat javafx.graphics@19/javafx.scene.Node$MiscProperties$3.computeBounds(Node.java:6825)\r\n\tat javafx.graphics@19/javafx.scene.Node$LazyBoundsProperty.get(Node.java:9840)\r\n\tat javafx.graphics@19/javafx.scene.Node$LazyBoundsProperty.get(Node.java:9810)\r\n\tat javafx.graphics@19/javafx.scene.Node.getBoundsInLocal(Node.java:3415)\r\n\tat javafx.controls@19/javafx.scene.control.skin.TextAreaSkin$ContentView.layoutChildren(TextAreaSkin.java:1324)\r\n\tat javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1207)\r\n\tat javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\r\n\tat javafx.graphics@19/javafx.scene.Scene.doLayoutPass(Scene.java:592)\r\n\tat javafx.graphics@19/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2512)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:407)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:406)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:436)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:575)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:555)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:548)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\r\n\tat javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n\r\n```\r\n\r\n\r\n```\r\nException in thread &quot;JavaFX Application Thread&quot; java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 2\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\r\n\tat java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\r\n\tat java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\r\n\tat java.base/java.util.Objects.checkIndex(Objects.java:385)\r\n\tat java.base/java.util.ArrayList.get(ArrayList.java:427)\r\n\tat javafx.base@19/com.sun.javafx.collections.ObservableListWrapper.get(ObservableListWrapper.java:89)\r\n\tat javafx.base@19/com.sun.javafx.collections.VetoableListDecorator.get(VetoableListDecorator.java:305)\r\n\tat javafx.graphics@19/javafx.scene.Parent.updateCachedBounds(Parent.java:1704)\r\n\tat javafx.graphics@19/javafx.scene.Parent.recomputeBounds(Parent.java:1648)\r\n\tat javafx.graphics@19/javafx.scene.Parent.doComputeGeomBounds(Parent.java:1501)\r\n\tat javafx.graphics@19/javafx.scene.Parent$1.doComputeGeomBounds(Parent.java:115)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.ParentHelper.computeGeomBoundsImpl(ParentHelper.java:84)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.layout.RegionHelper.superComputeGeomBoundsImpl(RegionHelper.java:78)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.layout.RegionHelper.superComputeGeomBounds(RegionHelper.java:62)\r\n\tat javafx.graphics@19/javafx.scene.layout.Region.doComputeGeomBounds(Region.java:3355)\r\n\tat javafx.graphics@19/javafx.scene.layout.Region$1.doComputeGeomBounds(Region.java:168)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.layout.RegionHelper.computeGeomBoundsImpl(RegionHelper.java:89)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.NodeHelper.computeGeomBounds(NodeHelper.java:117)\r\n\tat javafx.graphics@19/javafx.scene.Node.updateGeomBounds(Node.java:3825)\r\n\tat javafx.graphics@19/javafx.scene.Node.getGeomBounds(Node.java:3787)\r\n\tat javafx.graphics@19/javafx.scene.Node.getLocalBounds(Node.java:3735)\r\n\tat javafx.graphics@19/javafx.scene.Node.intersectsBounds(Node.java:5270)\r\n\tat javafx.graphics@19/javafx.scene.Node$1.intersectsBounds(Node.java:559)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.NodeHelper.intersectsBounds(NodeHelper.java:264)\r\n\tat javafx.graphics@19/javafx.scene.layout.Region.doPickNodeLocal(Region.java:3224)\r\n\tat javafx.graphics@19/javafx.scene.layout.Region$1.doPickNodeLocal(Region.java:184)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.layout.RegionHelper.pickNodeLocalImpl(RegionHelper.java:104)\r\n\tat javafx.graphics@19/com.sun.javafx.scene.NodeHelper.pickNodeLocal(NodeHelper.java:130)\r\n\tat javafx.graphics@19/javafx.scene.Node.pickNode(Node.java:5180)\r\n\tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.pickNode(Scene.java:4037)\r\n\tat javafx.graphics@19/javafx.scene.Scene.pick(Scene.java:2067)\r\n\tat javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3847)\r\n\tat javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\r\n\tat javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n\tat javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n\tat javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n\tat javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\n```\r\n\r\nNormally when I get errors like this I will follow errors to the part that I wrote something incorrect or made some mistake with my work. But these don&#39;t point to anything in particular other than my runLoop which is pretty simple. \r\n\r\n```\r\ntry\r\n\t\t{\r\n\t\t\tDatabase.deleteLastRow();\r\n\t\t\tDatabase.updateRows();\r\n\t\t\t\t\r\n\t\t\tJSONAccess.createNewRow();\r\n\t\t\t\r\n\t\t\tif(increaseCounter)\r\n\t\t\t{\r\n\t\t\t\trowCounter++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(rowCounter &gt;= Main.calculatedRows)\r\n\t\t\t{\r\n\t\t\t\tif(testLine)\r\n\t\t\t\t{\r\n\t\t\t\t\tSystem.out.println(&quot;Starting&quot;);\r\n\t\t\t\t\ttestLine = false;\r\n\t\t\t\t}\r\n\t\t\t\tincreaseCounter = false;\r\n\t\t\t\tMainGUI.txtContent.appendText(&quot;\\n New Section&quot;);\r\n\t\t\t\tDatabase.compareValues();\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tMainGUI.btnStart.setDisable(false);\r\n\t\t\tMainGUI.btnStop.setDisable(true);\r\n\t\t\tSystem.out.println(&quot;Test to see if something goes wrong&quot;);\r\n\t\t}\r\n```\r\n```\r\npublic static void compareValues() throws Exception\r\n\t{\r\n\t\tClass.forName(&quot;org.hsqldb.jdbc.JDBCDriver&quot;);\r\n\t\t\r\n\t\tfor (String tableName : symbolsList)\r\n\t\t{\r\n\t\t\tString compareSql = &quot;SELECT * FROM tbl_&quot; + tableName + &quot; ORDER BY id&quot;;\r\n\t\t\tprepStatement = connection.prepareStatement(compareSql);\r\n\t\t\t\r\n\t\t\tResultSet rs = prepStatement.executeQuery();\r\n\t\t\tint rowNum = 1;\r\n\t\t\twhile (rs.next())\r\n\t\t\t{\r\n\t\t\t\tif (rowNum == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tdblNew = rs.getDouble(&quot;val&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif (rowNum == Main.calculatedRows)\r\n\t\t\t\t{\r\n\t\t\t\t\tdblOld = rs.getDouble(&quot;val&quot;);\r\n\t\t\t\t}\r\n\t\t\t\trowNum = Main.calculatedRows;\r\n\t\t\t}\r\n\t\t\tmathsCompare(tableName, dblNew, dblOld);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void mathsCompare(String tableName1, double dblNew1, double dblOld1) throws Exception\r\n\t{\r\n\t\tif(dblNew1&gt;dblOld1)\r\n\t\t{\r\n\t\t\tdouble dblChange = ((dblNew1-dblOld1)/dblOld1)*100;\r\n\t\t\t\r\n\t\t\tif(dblChange &gt;= Main.dblPercentage)\r\n\t\t\t{\r\n\t\t\t\tMainGUI.txtContent.appendText(&quot;\\n&quot; + tableName1);\r\n\t\t\t\tSystem.out.print(&quot;\\n&quot; + tableName1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nIf I have both System.out.println and MainGUI.txtContent.appendText enabled then the console gets an extra set of values out before the error comes out but thats when I get stumped\r\n\r\nAny help appreciated.","title":"JavaFX Text Area Append Causes Two Errors","body":"<p>I am writing a program that checks prices and if it increases past a set amount then lets the user know by putting into a JavaFX text area line by line with a time stamp, appendText() spits out 2 errors. The error codes don't point to anything specific which is causing me to go in circles.</p>\n<p>Most of the code works and if I use System.out.print() instead the code runs perfectly, but if I use txtContent.appendText() then at a random time in the first five minutes I will get one of the following errors.</p>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.NullPointerException: Cannot read the array length because &quot;this.lines&quot; is null\n    at javafx.graphics@19/com.sun.javafx.text.PrismTextLayout.layout(PrismTextLayout.java:1222)\n    at javafx.graphics@19/com.sun.javafx.text.PrismTextLayout.ensureLayout(PrismTextLayout.java:223)\n    at javafx.graphics@19/com.sun.javafx.text.PrismTextLayout.getBounds(PrismTextLayout.java:246)\n    at javafx.graphics@19/javafx.scene.text.Text.getLogicalBounds(Text.java:432)\n    at javafx.graphics@19/javafx.scene.text.Text.doComputeGeomBounds(Text.java:1187)\n    at javafx.graphics@19/javafx.scene.text.Text$1.doComputeGeomBounds(Text.java:149)\n    at javafx.graphics@19/com.sun.javafx.scene.shape.TextHelper.computeGeomBoundsImpl(TextHelper.java:90)\n    at javafx.graphics@19/com.sun.javafx.scene.NodeHelper.computeGeomBounds(NodeHelper.java:117)\n    at javafx.graphics@19/javafx.scene.Node.updateGeomBounds(Node.java:3825)\n    at javafx.graphics@19/javafx.scene.Node.getGeomBounds(Node.java:3787)\n    at javafx.graphics@19/javafx.scene.Node.getLocalBounds(Node.java:3735)\n    at javafx.graphics@19/javafx.scene.Node$MiscProperties$3.computeBounds(Node.java:6825)\n    at javafx.graphics@19/javafx.scene.Node$LazyBoundsProperty.get(Node.java:9840)\n    at javafx.graphics@19/javafx.scene.Node$LazyBoundsProperty.get(Node.java:9810)\n    at javafx.graphics@19/javafx.scene.Node.getBoundsInLocal(Node.java:3415)\n    at javafx.controls@19/javafx.scene.control.skin.TextAreaSkin$ContentView.layoutChildren(TextAreaSkin.java:1324)\n    at javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1207)\n    at javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@19/javafx.scene.Parent.layout(Parent.java:1214)\n    at javafx.graphics@19/javafx.scene.Scene.doLayoutPass(Scene.java:592)\n    at javafx.graphics@19/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2512)\n    at javafx.graphics@19/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:407)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:406)\n    at javafx.graphics@19/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:436)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:575)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:555)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:548)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)\n    at javafx.graphics@19/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n\n</code></pre>\n<pre><code>Exception in thread &quot;JavaFX Application Thread&quot; java.lang.IndexOutOfBoundsException: Index -1 out of bounds for length 2\n    at java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:100)\n    at java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:106)\n    at java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:302)\n    at java.base/java.util.Objects.checkIndex(Objects.java:385)\n    at java.base/java.util.ArrayList.get(ArrayList.java:427)\n    at javafx.base@19/com.sun.javafx.collections.ObservableListWrapper.get(ObservableListWrapper.java:89)\n    at javafx.base@19/com.sun.javafx.collections.VetoableListDecorator.get(VetoableListDecorator.java:305)\n    at javafx.graphics@19/javafx.scene.Parent.updateCachedBounds(Parent.java:1704)\n    at javafx.graphics@19/javafx.scene.Parent.recomputeBounds(Parent.java:1648)\n    at javafx.graphics@19/javafx.scene.Parent.doComputeGeomBounds(Parent.java:1501)\n    at javafx.graphics@19/javafx.scene.Parent$1.doComputeGeomBounds(Parent.java:115)\n    at javafx.graphics@19/com.sun.javafx.scene.ParentHelper.computeGeomBoundsImpl(ParentHelper.java:84)\n    at javafx.graphics@19/com.sun.javafx.scene.layout.RegionHelper.superComputeGeomBoundsImpl(RegionHelper.java:78)\n    at javafx.graphics@19/com.sun.javafx.scene.layout.RegionHelper.superComputeGeomBounds(RegionHelper.java:62)\n    at javafx.graphics@19/javafx.scene.layout.Region.doComputeGeomBounds(Region.java:3355)\n    at javafx.graphics@19/javafx.scene.layout.Region$1.doComputeGeomBounds(Region.java:168)\n    at javafx.graphics@19/com.sun.javafx.scene.layout.RegionHelper.computeGeomBoundsImpl(RegionHelper.java:89)\n    at javafx.graphics@19/com.sun.javafx.scene.NodeHelper.computeGeomBounds(NodeHelper.java:117)\n    at javafx.graphics@19/javafx.scene.Node.updateGeomBounds(Node.java:3825)\n    at javafx.graphics@19/javafx.scene.Node.getGeomBounds(Node.java:3787)\n    at javafx.graphics@19/javafx.scene.Node.getLocalBounds(Node.java:3735)\n    at javafx.graphics@19/javafx.scene.Node.intersectsBounds(Node.java:5270)\n    at javafx.graphics@19/javafx.scene.Node$1.intersectsBounds(Node.java:559)\n    at javafx.graphics@19/com.sun.javafx.scene.NodeHelper.intersectsBounds(NodeHelper.java:264)\n    at javafx.graphics@19/javafx.scene.layout.Region.doPickNodeLocal(Region.java:3224)\n    at javafx.graphics@19/javafx.scene.layout.Region$1.doPickNodeLocal(Region.java:184)\n    at javafx.graphics@19/com.sun.javafx.scene.layout.RegionHelper.pickNodeLocalImpl(RegionHelper.java:104)\n    at javafx.graphics@19/com.sun.javafx.scene.NodeHelper.pickNodeLocal(NodeHelper.java:130)\n    at javafx.graphics@19/javafx.scene.Node.pickNode(Node.java:5180)\n    at javafx.graphics@19/javafx.scene.Scene$MouseHandler.pickNode(Scene.java:4037)\n    at javafx.graphics@19/javafx.scene.Scene.pick(Scene.java:2067)\n    at javafx.graphics@19/javafx.scene.Scene$MouseHandler.process(Scene.java:3847)\n    at javafx.graphics@19/javafx.scene.Scene.processMouseEvent(Scene.java:1887)\n    at javafx.graphics@19/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2620)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@19/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@19/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@19/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@19/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:184)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\n</code></pre>\n<p>Normally when I get errors like this I will follow errors to the part that I wrote something incorrect or made some mistake with my work. But these don't point to anything in particular other than my runLoop which is pretty simple.</p>\n<pre><code>try\n        {\n            Database.deleteLastRow();\n            Database.updateRows();\n                \n            JSONAccess.createNewRow();\n            \n            if(increaseCounter)\n            {\n                rowCounter++;\n            }\n            \n            if(rowCounter &gt;= Main.calculatedRows)\n            {\n                if(testLine)\n                {\n                    System.out.println(&quot;Starting&quot;);\n                    testLine = false;\n                }\n                increaseCounter = false;\n                MainGUI.txtContent.appendText(&quot;\\n New Section&quot;);\n                Database.compareValues();\n            }\n        }\n        catch (Exception e)\n        {\n            MainGUI.btnStart.setDisable(false);\n            MainGUI.btnStop.setDisable(true);\n            System.out.println(&quot;Test to see if something goes wrong&quot;);\n        }\n</code></pre>\n<pre><code>public static void compareValues() throws Exception\n    {\n        Class.forName(&quot;org.hsqldb.jdbc.JDBCDriver&quot;);\n        \n        for (String tableName : symbolsList)\n        {\n            String compareSql = &quot;SELECT * FROM tbl_&quot; + tableName + &quot; ORDER BY id&quot;;\n            prepStatement = connection.prepareStatement(compareSql);\n            \n            ResultSet rs = prepStatement.executeQuery();\n            int rowNum = 1;\n            while (rs.next())\n            {\n                if (rowNum == 1)\n                {\n                    dblNew = rs.getDouble(&quot;val&quot;);\n                }\n                if (rowNum == Main.calculatedRows)\n                {\n                    dblOld = rs.getDouble(&quot;val&quot;);\n                }\n                rowNum = Main.calculatedRows;\n            }\n            mathsCompare(tableName, dblNew, dblOld);\n        }\n    }\n    \n    public static void mathsCompare(String tableName1, double dblNew1, double dblOld1) throws Exception\n    {\n        if(dblNew1&gt;dblOld1)\n        {\n            double dblChange = ((dblNew1-dblOld1)/dblOld1)*100;\n            \n            if(dblChange &gt;= Main.dblPercentage)\n            {\n                MainGUI.txtContent.appendText(&quot;\\n&quot; + tableName1);\n                System.out.print(&quot;\\n&quot; + tableName1);\n            }\n        }\n    }\n</code></pre>\n<p>If I have both System.out.println and MainGUI.txtContent.appendText enabled then the console gets an extra set of values out before the error comes out but thats when I get stumped</p>\n<p>Any help appreciated.</p>\n"},{"tags":["java","graph","jung"],"answers":[{"tags":[],"owner":{"account_id":336919,"reputation":2704,"user_id":664856,"display_name":"Joshua O&#39;Madadhain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673596551,"creation_date":1673596551,"answer_id":75106268,"question_id":75087617,"body_markdown":"You can certainly supply a more complex `Function` than `v -&gt; Color.blue` if you like; for instance:\r\n\r\n```\r\nvv.getRenderContext().setVertexFillPaintFunction(\r\n    v -&gt; v.equals(specialNode) ? Color.red : Color.blue);\r\n```\r\n\r\nFor more information on specifying `Functions` (using lambda expressions or not), see https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html.","title":"JUNG change the color of specific vertex","body":"<p>You can certainly supply a more complex <code>Function</code> than <code>v -&gt; Color.blue</code> if you like; for instance:</p>\n<pre><code>vv.getRenderContext().setVertexFillPaintFunction(\n    v -&gt; v.equals(specialNode) ? Color.red : Color.blue);\n</code></pre>\n<p>For more information on specifying <code>Functions</code> (using lambda expressions or not), see <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html</a>.</p>\n"}],"owner":{"account_id":22445743,"reputation":13,"user_id":16649693,"display_name":"Doktor_DOOM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75106268,"answer_count":1,"score":0,"last_activity_date":1673596551,"creation_date":1673462190,"question_id":75087617,"body_markdown":"at the moment, I&#39;m trying to change the color of a specific vertex in JUNG.\r\nI know i can use the following function to change the color of all nodes. \r\nIs it possible to substitute v from the following line with a specific node.\r\n\r\n    vv.getRenderContext().setVertexFillPaintFunction(v -&gt; Color.blue);\r\n\r\nOr should i use  transformer classes?","title":"JUNG change the color of specific vertex","body":"<p>at the moment, I'm trying to change the color of a specific vertex in JUNG.\nI know i can use the following function to change the color of all nodes.\nIs it possible to substitute v from the following line with a specific node.</p>\n<pre><code>vv.getRenderContext().setVertexFillPaintFunction(v -&gt; Color.blue);\n</code></pre>\n<p>Or should i use  transformer classes?</p>\n"},{"tags":["java","mongodb","spring-boot","aggregation-framework","spring-data-mongodb"],"answers":[{"comments":[{"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"score":0,"creation_date":1673579221,"post_id":75103644,"comment_id":132536248,"body_markdown":"Had to make a slight change. \n```.by(ComparisonOperators.valueOf(ConditionalOperators.ifNull(&quot;$$v.terminationDate&quot;).then(true)).equalToValue(true))```","body":"Had to make a slight change.  <code>.by(ComparisonOperators.valueOf(ConditionalOperators.ifNull(&zwnj;&#8203;&quot;$$v.terminationDate&zwnj;&#8203;&quot;).then(true)).equal&zwnj;&#8203;ToValue(true))</code>"},{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1673600406,"post_id":75103644,"comment_id":132540087,"body_markdown":"Nice! By the way, does `new BsonNull()` instead of `null` in your initial query works? I&#39;ve thought about that and maybe is easier. The result will be the same but maybe it works too.","body":"Nice! By the way, does <code>new BsonNull()</code> instead of <code>null</code> in your initial query works? I&#39;ve thought about that and maybe is easier. The result will be the same but maybe it works too."},{"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"score":0,"creation_date":1673611283,"post_id":75103644,"comment_id":132543471,"body_markdown":"Oh, didn&#39;t know about BsonNull. But, it doesn&#39;t work. The pipeline that is generated is \n```&quot;$lte&quot; : [&quot;$$v.terminationDate&quot;, {}]```","body":"Oh, didn&#39;t know about BsonNull. But, it doesn&#39;t work. The pipeline that is generated is  <code>&quot;$lte&quot; : [&quot;$$v.terminationDate&quot;, {}]</code>"}],"tags":[],"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1673596413,"creation_date":1673569202,"answer_id":75103644,"question_id":74463051,"body_markdown":"I think this could works. The goal is to reproduce [this query](https://mongoplayground.net/p/JdB6O7Zjccy) using [$ifNull](https://www.mongodb.com/docs/manual/reference/operator/aggregation/ifNull/) so you can try something like this:\r\n\r\nUpdated with the small change from the comments to works perfectly: \r\n\r\n```java\r\nAggregation.project()\r\n    .andInclude(&quot;name&quot;)\r\n    .and(Filter.filter(&quot;versions&quot;)\r\n        .as(&quot;v&quot;)\r\n        .by(ComparisonOperators.valueOf(ConditionalOperators.ifNull(&quot;$$v.terminationDate&quot;)\r\n                .then(true)).equalToValue(true))\r\n    .as(&quot;versions&quot;);\r\n```","title":"spring-data-mongodb : Check if a field is null or not exists in project filter stage","body":"<p>I think this could works. The goal is to reproduce <a href=\"https://mongoplayground.net/p/JdB6O7Zjccy\" rel=\"nofollow noreferrer\">this query</a> using <a href=\"https://www.mongodb.com/docs/manual/reference/operator/aggregation/ifNull/\" rel=\"nofollow noreferrer\">$ifNull</a> so you can try something like this:</p>\n<p>Updated with the small change from the comments to works perfectly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Aggregation.project()\n    .andInclude(&quot;name&quot;)\n    .and(Filter.filter(&quot;versions&quot;)\n        .as(&quot;v&quot;)\n        .by(ComparisonOperators.valueOf(ConditionalOperators.ifNull(&quot;$$v.terminationDate&quot;)\n                .then(true)).equalToValue(true))\n    .as(&quot;versions&quot;);\n</code></pre>\n"}],"owner":{"account_id":325417,"reputation":10221,"user_id":646591,"accept_rate":73,"display_name":"Noel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75103644,"answer_count":1,"score":1,"last_activity_date":1673596413,"creation_date":1668612139,"question_id":74463051,"body_markdown":"I have this stage in my aggregation pipeline, where I&#39;m filtering the array elements where termination date is either null or doesn&#39;t exist.\r\n\r\n    {\r\n        &quot;$project&quot;: {\r\n            &quot;_id&quot;: 1,\r\n            &quot;name&quot;: 1,\r\n            &quot;versions&quot;: {\r\n                &quot;$filter&quot;: {\r\n                    &quot;input&quot;: &quot;$versions&quot;,\r\n                    &quot;as&quot;: &quot;v&quot;,\r\n                    &quot;cond&quot;: {\r\n                        &quot;$lte&quot;: [\r\n                            &quot;$$v.terminationDate&quot;, null\r\n                        ]\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis works fine in Mongo shell. \r\n[MongoPlayGround][1]\r\n\r\nBut, I&#39;m not sure how to write this in spring-data-mongodb.\r\n\r\n    Aggregation.project()\r\n    \t.andInclude(&quot;name&quot;)\r\n    \t.and(Filter.filter(&quot;versions&quot;)\r\n    \t\t.as(&quot;v&quot;)\r\n    \t\t.by(ComparisonOperators.valueOf(&quot;$$v.terminationDate&quot;).lessThanEqualToValue(null)))\r\n    \t.as(&quot;versions&quot;);\r\n\r\nBut, lessThanEqualToValue doesn&#39;t accept null. \r\n\r\nPlease help.\r\n\r\n  [1]: https://mongoplayground.net/p/GIBRJd_u1ae","title":"spring-data-mongodb : Check if a field is null or not exists in project filter stage","body":"<p>I have this stage in my aggregation pipeline, where I'm filtering the array elements where termination date is either null or doesn't exist.</p>\n<pre><code>{\n    &quot;$project&quot;: {\n        &quot;_id&quot;: 1,\n        &quot;name&quot;: 1,\n        &quot;versions&quot;: {\n            &quot;$filter&quot;: {\n                &quot;input&quot;: &quot;$versions&quot;,\n                &quot;as&quot;: &quot;v&quot;,\n                &quot;cond&quot;: {\n                    &quot;$lte&quot;: [\n                        &quot;$$v.terminationDate&quot;, null\n                    ]\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>This works fine in Mongo shell.\n<a href=\"https://mongoplayground.net/p/GIBRJd_u1ae\" rel=\"nofollow noreferrer\">MongoPlayGround</a></p>\n<p>But, I'm not sure how to write this in spring-data-mongodb.</p>\n<pre><code>Aggregation.project()\n    .andInclude(&quot;name&quot;)\n    .and(Filter.filter(&quot;versions&quot;)\n        .as(&quot;v&quot;)\n        .by(ComparisonOperators.valueOf(&quot;$$v.terminationDate&quot;).lessThanEqualToValue(null)))\n    .as(&quot;versions&quot;);\n</code></pre>\n<p>But, lessThanEqualToValue doesn't accept null.</p>\n<p>Please help.</p>\n"},{"tags":["java","exception"],"comments":[{"owner":{"account_id":164450,"reputation":63063,"user_id":387194,"accept_rate":82,"display_name":"jcubic"},"score":0,"creation_date":1386142452,"post_id":6822968,"comment_id":30410577,"body_markdown":"If you want to get exception trace as String you can call `getStackTrace` method of Trowable (the Exception) that will return array of `StackTraceElement` objects that you can combine to one String (using toString method of that object to get one line of a trace).","body":"If you want to get exception trace as String you can call <code>getStackTrace</code> method of Trowable (the Exception) that will return array of <code>StackTraceElement</code> objects that you can combine to one String (using toString method of that object to get one line of a trace)."}],"answers":[{"comments":[{"owner":{"account_id":10930114,"reputation":794,"user_id":8033562,"display_name":"Geoff Langenderfer"},"score":2,"creation_date":1655424391,"post_id":6823007,"comment_id":128335409,"body_markdown":"how would we print this with log4j? log.error(ex.printStackTrace())?","body":"how would we print this with log4j? log.error(ex.printStackTrace())?"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":1,"down_vote_count":1,"up_vote_count":69,"is_accepted":true,"score":68,"last_activity_date":1546602747,"creation_date":1311632026,"answer_id":6823007,"question_id":6822968,"body_markdown":"`Throwable.printStackTrace(..)` can take a `PrintWriter` or `PrintStream` argument:\r\n\r\n    } catch (Exception ex) {\r\n        ex.printStackTrace(new java.io.PrintStream(yourOutputStream));\r\n    }\r\n\r\nThat said, consider using a logger interface like [SLF4J][1] with an logging implementation like [LOGBack][2] or [log4j][3].\r\n\r\n\r\n  [1]: http://www.slf4j.org/\r\n  [2]: http://logback.qos.ch/\r\n  [3]: https://logging.apache.org/log4j/1.2/manual.html","title":"Print the stack trace of an exception","body":"<p><code>Throwable.printStackTrace(..)</code> can take a <code>PrintWriter</code> or <code>PrintStream</code> argument:</p>\n\n<pre><code>} catch (Exception ex) {\n    ex.printStackTrace(new java.io.PrintStream(yourOutputStream));\n}\n</code></pre>\n\n<p>That said, consider using a logger interface like <a href=\"http://www.slf4j.org/\" rel=\"noreferrer\">SLF4J</a> with an logging implementation like <a href=\"http://logback.qos.ch/\" rel=\"noreferrer\">LOGBack</a> or <a href=\"https://logging.apache.org/log4j/1.2/manual.html\" rel=\"noreferrer\">log4j</a>.</p>\n"},{"tags":[],"owner":{"account_id":235018,"reputation":364854,"user_id":501557,"accept_rate":90,"display_name":"templatetypedef"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1311632044,"creation_date":1311632044,"answer_id":6823014,"question_id":6822968,"body_markdown":"The [Throwable][1] class provides two methods named `printStackTrace`, one that accepts a `PrintWriter` and one that takes in a `PrintStream`, that outputs the stack trace to the given stream.  Consider using one of these.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/%5C","title":"Print the stack trace of an exception","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/%5C\" rel=\"nofollow\">Throwable</a> class provides two methods named <code>printStackTrace</code>, one that accepts a <code>PrintWriter</code> and one that takes in a <code>PrintStream</code>, that outputs the stack trace to the given stream.  Consider using one of these.</p>\n"},{"comments":[{"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"score":4,"creation_date":1455640442,"post_id":6823019,"comment_id":58573927,"body_markdown":"@FranklinYu, the whole point of the question is that he doesn&#39;t want to print to stderr, but to another arbitrary stream.","body":"@FranklinYu, the whole point of the question is that he doesn&#39;t want to print to stderr, but to another arbitrary stream."},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1656568119,"post_id":6823019,"comment_id":128605484,"body_markdown":"instead of `System.out` you can use `e.printStackTrace(new PrintStream(&quot;path.txt&quot;))`","body":"instead of <code>System.out</code> you can use <code>e.printStackTrace(new PrintStream(&quot;path.txt&quot;))</code>"}],"tags":[],"owner":{"account_id":946,"reputation":18105,"user_id":1247,"accept_rate":91,"display_name":"Mike Deck"},"comment_count":2,"down_vote_count":0,"up_vote_count":91,"is_accepted":false,"score":91,"last_activity_date":1371845863,"creation_date":1311632061,"answer_id":6823019,"question_id":6822968,"body_markdown":"There is an alternate form of Throwable.printStackTrace() that takes a print stream as an argument. &lt;http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html#printStackTrace(java.io.PrintStream)&gt;\r\n\r\nE.g.\r\n\r\n    catch(Exception e) {\r\n        e.printStackTrace(System.out);\r\n    }\r\n\r\nThis will print the stack trace to std out instead of std error.\r\n","title":"Print the stack trace of an exception","body":"<p>There is an alternate form of Throwable.printStackTrace() that takes a print stream as an argument. <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html#printStackTrace(java.io.PrintStream)\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/lang/Throwable.html#printStackTrace(java.io.PrintStream)</a></p>\n\n<p>E.g.</p>\n\n<pre><code>catch(Exception e) {\n    e.printStackTrace(System.out);\n}\n</code></pre>\n\n<p>This will print the stack trace to std out instead of std error.</p>\n"},{"comments":[{"owner":{"account_id":334885,"reputation":21599,"user_id":661624,"accept_rate":72,"display_name":"Henley Wing Chiu"},"score":3,"creation_date":1379360712,"post_id":6823021,"comment_id":27787889,"body_markdown":"This is what i needed (even though I feel really dirty using it!)","body":"This is what i needed (even though I feel really dirty using it!)"}],"tags":[],"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"comment_count":1,"down_vote_count":0,"up_vote_count":88,"is_accepted":false,"score":88,"last_activity_date":1311632072,"creation_date":1311632072,"answer_id":6823021,"question_id":6822968,"body_markdown":"Not beautiful, but a solution nonetheless:\r\n\r\n    StringWriter writer = new StringWriter();\r\n    PrintWriter printWriter = new PrintWriter( writer );\r\n    exception.printStackTrace( printWriter );\r\n    printWriter.flush();\r\n\r\n    String stackTrace = writer.toString();","title":"Print the stack trace of an exception","body":"<p>Not beautiful, but a solution nonetheless:</p>\n\n<pre><code>StringWriter writer = new StringWriter();\nPrintWriter printWriter = new PrintWriter( writer );\nexception.printStackTrace( printWriter );\nprintWriter.flush();\n\nString stackTrace = writer.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":141726,"reputation":10755,"user_id":348975,"accept_rate":86,"display_name":"emory"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1311632937,"creation_date":1311632081,"answer_id":6823025,"question_id":6822968,"body_markdown":"See [javadoc][1]\r\n\r\n    out = some stream ...\r\n    try\r\n    {\r\n    }\r\n    catch ( Exception cause )\r\n    {\r\n          cause . printStrackTrace ( new PrintStream ( out ) ) ;\r\n    }\r\n\r\n\r\n  [1]: http://download.java.net/jdk7/docs/api/java/lang/Throwable.html#printStackTrace%28java.io.PrintStream%29","title":"Print the stack trace of an exception","body":"<p>See <a href=\"http://download.java.net/jdk7/docs/api/java/lang/Throwable.html#printStackTrace%28java.io.PrintStream%29\" rel=\"nofollow\">javadoc</a></p>\n\n<pre><code>out = some stream ...\ntry\n{\n}\ncatch ( Exception cause )\n{\n      cause . printStrackTrace ( new PrintStream ( out ) ) ;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":274982,"reputation":4717,"user_id":567555,"accept_rate":77,"display_name":"r.v"},"score":1,"creation_date":1449437886,"post_id":34119794,"comment_id":55994779,"body_markdown":"You can&#39;t use this to print to an arbitrary stream. It is useful only if you have a logger configured.","body":"You can&#39;t use this to print to an arbitrary stream. It is useful only if you have a logger configured."},{"owner":{"account_id":5073215,"reputation":940,"user_id":4071413,"display_name":"killjoy"},"score":0,"creation_date":1489765982,"post_id":34119794,"comment_id":72829934,"body_markdown":"I liked this minimalist approach but it didn&#39;t jell with my slf4j :(","body":"I liked this minimalist approach but it didn&#39;t jell with my slf4j :("}],"tags":[],"owner":{"account_id":4448529,"reputation":887,"user_id":3621175,"accept_rate":100,"display_name":"PatrickMA"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1489766052,"creation_date":1449419302,"answer_id":34119794,"question_id":6822968,"body_markdown":"For the android dev minimalists: `Log.getStackTraceString(exception)` ","title":"Print the stack trace of an exception","body":"<p>For the android dev minimalists: <code>Log.getStackTraceString(exception)</code> </p>\n"},{"tags":[],"owner":{"account_id":8048662,"reputation":111,"user_id":6068039,"display_name":"kuppurangi"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1553696730,"creation_date":1458067210,"answer_id":36019489,"question_id":6822968,"body_markdown":"I have created a method that helps with getting the stackTrace:\r\n\r\n\r\n    private static String getStackTrace(Exception ex) {\r\n\t    StringBuffer sb = new StringBuffer(500);\r\n\t    StackTraceElement[] st = ex.getStackTrace();\r\n\t    sb.append(ex.getClass().getName() + &quot;: &quot; + ex.getMessage() + &quot;\\n&quot;);\r\n\t    for (int i = 0; i &lt; st.length; i++) {\r\n\t      sb.append(&quot;\\t at &quot; + st[i].toString() + &quot;\\n&quot;);\r\n\t    }\r\n\t    return sb.toString();\r\n    }","title":"Print the stack trace of an exception","body":"<p>I have created a method that helps with getting the stackTrace:</p>\n\n<pre><code>private static String getStackTrace(Exception ex) {\n    StringBuffer sb = new StringBuffer(500);\n    StackTraceElement[] st = ex.getStackTrace();\n    sb.append(ex.getClass().getName() + \": \" + ex.getMessage() + \"\\n\");\n    for (int i = 0; i &lt; st.length; i++) {\n      sb.append(\"\\t at \" + st[i].toString() + \"\\n\");\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":353405,"reputation":1924,"user_id":691074,"display_name":"Buurman"},"score":0,"creation_date":1521562258,"post_id":49388507,"comment_id":85779668,"body_markdown":"While this answer looks very much correct, it is not an answer to the question. OP asked how he could print the stack trace to another stream.","body":"While this answer looks very much correct, it is not an answer to the question. OP asked how he could print the stack trace to another stream."},{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":0,"creation_date":1550671032,"post_id":49388507,"comment_id":96354412,"body_markdown":"Even though this might not answer OP&#39;s question, I think this is the best way to have an exception as a String, using a very well established format. Thanks!","body":"Even though this might not answer OP&#39;s question, I think this is the best way to have an exception as a String, using a very well established format. Thanks!"}],"tags":[],"owner":{"account_id":4351792,"reputation":429,"user_id":4262060,"display_name":"Rathan"},"comment_count":2,"down_vote_count":3,"up_vote_count":15,"is_accepted":false,"score":12,"last_activity_date":1521560580,"creation_date":1521560580,"answer_id":49388507,"question_id":6822968,"body_markdown":"Apache commons provides utility to convert the stack trace from throwable to string. \r\n\r\nUsage:\r\n\r\n    ExceptionUtils.getStackTrace(e)\r\n\r\nFor complete documentation refer to\r\nhttps://commons.apache.org/proper/commons-lang/javadocs/api-release/index.html","title":"Print the stack trace of an exception","body":"<p>Apache commons provides utility to convert the stack trace from throwable to string. </p>\n\n<p>Usage:</p>\n\n<pre><code>ExceptionUtils.getStackTrace(e)\n</code></pre>\n\n<p>For complete documentation refer to\n<a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/index.html\" rel=\"noreferrer\">https://commons.apache.org/proper/commons-lang/javadocs/api-release/index.html</a></p>\n"},{"tags":[],"owner":{"account_id":2506033,"reputation":513,"user_id":2179737,"display_name":"user2179737"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591627293,"creation_date":1591627293,"answer_id":62264609,"question_id":6822968,"body_markdown":"If you are interested in a more compact stack trace with more information (package detail) that looks like:\r\n\r\n      java.net.SocketTimeoutException:Receive timed out\r\n      \tat j.n.PlainDatagramSocketImpl.receive0(Native Method)[na:1.8.0_151]\r\n      \tat j.n.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)[^]\r\n      \tat j.n.DatagramSocket.receive(DatagramSocket.java:812)[^]\r\n      \tat o.s.n.SntpClient.requestTime(SntpClient.java:213)[classes/]\r\n      \tat o.s.n.SntpClient$1.call(^:145)[^]\r\n      \tat ^.call(^:134)[^]\r\n      \tat o.s.f.SyncRetryExecutor.call(SyncRetryExecutor.java:124)[^]\r\n      \tat o.s.f.RetryPolicy.call(RetryPolicy.java:105)[^]\r\n      \tat o.s.f.SyncRetryExecutor.call(SyncRetryExecutor.java:59)[^]\r\n      \tat o.s.n.SntpClient.requestTimeHA(SntpClient.java:134)[^]\r\n      \tat ^.requestTimeHA(^:122)[^]\r\n      \tat o.s.n.SntpClientTest.test2h(SntpClientTest.java:89)[test-classes/]\r\n      \tat s.r.NativeMethodAccessorImpl.invoke0(Native Method)[na:1.8.0_151]\r\n\r\nyou can try to use [Throwables.writeTo][1] from the [spf4j][2] lib.\r\n\r\n\r\n  [1]: https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/base/Throwables.java#L536\r\n  [2]: http://www.spf4j.org","title":"Print the stack trace of an exception","body":"<p>If you are interested in a more compact stack trace with more information (package detail) that looks like:</p>\n\n<pre><code>  java.net.SocketTimeoutException:Receive timed out\n    at j.n.PlainDatagramSocketImpl.receive0(Native Method)[na:1.8.0_151]\n    at j.n.AbstractPlainDatagramSocketImpl.receive(AbstractPlainDatagramSocketImpl.java:143)[^]\n    at j.n.DatagramSocket.receive(DatagramSocket.java:812)[^]\n    at o.s.n.SntpClient.requestTime(SntpClient.java:213)[classes/]\n    at o.s.n.SntpClient$1.call(^:145)[^]\n    at ^.call(^:134)[^]\n    at o.s.f.SyncRetryExecutor.call(SyncRetryExecutor.java:124)[^]\n    at o.s.f.RetryPolicy.call(RetryPolicy.java:105)[^]\n    at o.s.f.SyncRetryExecutor.call(SyncRetryExecutor.java:59)[^]\n    at o.s.n.SntpClient.requestTimeHA(SntpClient.java:134)[^]\n    at ^.requestTimeHA(^:122)[^]\n    at o.s.n.SntpClientTest.test2h(SntpClientTest.java:89)[test-classes/]\n    at s.r.NativeMethodAccessorImpl.invoke0(Native Method)[na:1.8.0_151]\n</code></pre>\n\n<p>you can try to use <a href=\"https://github.com/zolyfarkas/spf4j/blob/master/spf4j-core/src/main/java/org/spf4j/base/Throwables.java#L536\" rel=\"nofollow noreferrer\">Throwables.writeTo</a> from the <a href=\"http://www.spf4j.org\" rel=\"nofollow noreferrer\">spf4j</a> lib.</p>\n"},{"tags":[],"owner":{"account_id":121925,"reputation":2229,"user_id":315385,"display_name":"xilef"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673596262,"creation_date":1673596262,"answer_id":75106231,"question_id":6822968,"body_markdown":"With slf4j e.g via `lombok`&#39;s `@Slf4j` annotation\r\n\r\n`log.error(&quot;error&quot;, e);`","title":"Print the stack trace of an exception","body":"<p>With slf4j e.g via <code>lombok</code>'s <code>@Slf4j</code> annotation</p>\n<p><code>log.error(&quot;error&quot;, e);</code></p>\n"}],"owner":{"account_id":274982,"reputation":4717,"user_id":567555,"accept_rate":77,"display_name":"r.v"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238987,"favorite_count":0,"down_vote_count":1,"up_vote_count":103,"accepted_answer_id":6823007,"answer_count":10,"score":102,"last_activity_date":1673596262,"creation_date":1311631850,"question_id":6822968,"body_markdown":"How do I print the stack trace of an exception to a stream other than stderr? One way I found is to use getStackTrace() and print the entire list to the stream.","title":"Print the stack trace of an exception","body":"<p>How do I print the stack trace of an exception to a stream other than stderr? One way I found is to use getStackTrace() and print the entire list to the stream.</p>\n"},{"tags":["java","angular","spring"],"answers":[{"comments":[{"owner":{"account_id":8486229,"reputation":345,"user_id":7136237,"accept_rate":50,"display_name":"Peter"},"score":0,"creation_date":1673522319,"post_id":75093302,"comment_id":132520434,"body_markdown":"Thank you for your response. We already have some grouping integrated. So if there are many updates comming we will wait some seconds an group the updates. I also thought about the storing the client filter. But then that would be against the stateless server concept because I would have to have the clients states on the server side.","body":"Thank you for your response. We already have some grouping integrated. So if there are many updates comming we will wait some seconds an group the updates. I also thought about the storing the client filter. But then that would be against the stateless server concept because I would have to have the clients states on the server side."},{"owner":{"account_id":8486229,"reputation":345,"user_id":7136237,"accept_rate":50,"display_name":"Peter"},"score":0,"creation_date":1673542203,"post_id":75093302,"comment_id":132527787,"body_markdown":"For returning the updated rows individually I wouldn&#180;t store them I would just send them with the update notification where the updated rows are included. But yeah of course with the websocket sessions I have some kind of state stored. Your option 3 is a good solution. I was thinkig about that and I am debating now if I want that or if I want to store the state/filter of the clients.","body":"For returning the updated rows individually I wouldn&#180;t store them I would just send them with the update notification where the updated rows are included. But yeah of course with the websocket sessions I have some kind of state stored. Your option 3 is a good solution. I was thinkig about that and I am debating now if I want that or if I want to store the state/filter of the clients."},{"owner":{"account_id":8486229,"reputation":345,"user_id":7136237,"accept_rate":50,"display_name":"Peter"},"score":0,"creation_date":1673544073,"post_id":75093302,"comment_id":132528445,"body_markdown":"One problem that I would have with the timestamp solutions is what if an row gets deleted or if an update of a row will result that the client doesn&#180;t need the row anymore because of his filter. Then a new request with the timestamp would not help. So I would have to check if there are any rows that has to be removed on the client side which can be the result of the update of the row and the client filter. So I would have to know if the row was loaded from the client before the update or check the row with client filter when the row is updated.","body":"One problem that I would have with the timestamp solutions is what if an row gets deleted or if an update of a row will result that the client doesn&#180;t need the row anymore because of his filter. Then a new request with the timestamp would not help. So I would have to check if there are any rows that has to be removed on the client side which can be the result of the update of the row and the client filter. So I would have to know if the row was loaded from the client before the update or check the row with client filter when the row is updated."},{"owner":{"account_id":1731741,"reputation":1982,"user_id":1585218,"accept_rate":83,"display_name":"Krenom"},"score":0,"creation_date":1673595879,"post_id":75093302,"comment_id":132538833,"body_markdown":"As I said: `The most efficient things are always the most work, sadly.`. Yes, if you want efficient, you need to make things smarter, which means more work, which means more state. They can&#39;t magically know things, there isn&#39;t an easy solution.","body":"As I said: <code>The most efficient things are always the most work, sadly.</code>. Yes, if you want efficient, you need to make things smarter, which means more work, which means more state. They can&#39;t magically know things, there isn&#39;t an easy solution."}],"tags":[],"owner":{"account_id":1731741,"reputation":1982,"user_id":1585218,"accept_rate":83,"display_name":"Krenom"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673596141,"creation_date":1673511512,"answer_id":75093302,"question_id":75088537,"body_markdown":"The most efficient things are always the most work, sadly.\r\n\r\nI won&#39;t claim to be an expert at this kind of thing - on either the implementation(s) available or even the best practices - but I can give some food for thought at least, which may or may not be of help.\r\n\r\nMy first choice: your first thought.\r\n\r\nYou have the problem of knowing if the updated item is relevant to the client, due to the filters. \r\n\r\nSave the filters for the client whenever they request the full data set!\r\n\r\nRow gets updated, check through all the client filters to see if it is relevant to any of them, push out to those it is.\r\n\r\nThe effort for maintaining that filter cache is minimal (update whenever they change their filters), and you&#39;ll also be sending down minimal data to the clients. You also won&#39;t be iterating over a large dataset multiple times, just the smaller client set and only for the few rows that have been updated.\r\n\r\nAnother option:\r\n\r\nIf you don&#39;t go ahead with option 1, option 2 might be to group updates - assuming you have the luxury of not needing *immediate*, *real-time* updates.\r\n\r\nInstead of telling the clients about *every* data update, only tell them every x seconds that there might be data waiting for them (*might be*, you little tease).\r\n\r\n\r\nI was going to add other options but, to be honest, I don&#39;t see why you&#39;d worry about much beyond option 1, maybe with an option 2 addition to reduce traffic if that&#39;s an issue.\r\n\r\n&#39;Best practice&#39;-wise, sending down multiple FULL datasets to multiple clients multiple times a second is certainly not it.\r\n\r\nSending only the data relevant to each client is a much better solution, and if you can further reduce how much the client even needs to send (i.e. only their filter *updates* and not have them re-send something you could already have saved) is an added bonus.\r\n\r\n----\r\n\r\nEdit:\r\n\r\nAh, stateless server - though it&#39;s not really stateless. You&#39;re using web sockets, so the server has some kind of state for those connections. It&#39;s already stateful so option 1 doesn&#39;t really break anything.\r\n\r\nIf it&#39;s to be completely stateless, then you also can&#39;t store the updated rows of data, so you can&#39;t return those individually. You&#39;re back to what you&#39;re doing which is a full round-trip and data read + serve.\r\n\r\nOption 3, though, if you&#39;re semi stateless (don&#39;t want to add any metadata to those socket connections) but do hold updated rows: timestamp them and have the clients send the time of their last update along with their filters - you can then return only the updated rows since their last update using their provided filters (timestamp becomes just another filter) (or maybe it is stateless, but the timestamp becomes another filter).\r\n\r\nEither way, limiting the updated data back down to the client is the main goal if for nothing else than saving data transfer.\r\n\r\n----\r\n\r\nEdit 2:\r\n\r\nSounds like you may need to send two bits of data down (or three if you want to split things even further - makes life easier client-side, I guess):\r\n```json\r\n{\r\n    newItems: [{...}, ...],\r\n    updatedItems: [{...}, ...],\r\n    deletedIds: [1,2...]\r\n}\r\n```\r\n\r\nYes, when their request for an update comes, you&#39;ll have to check through your updated items to see if any are deleted and of relevance to the client&#39;s filters, but you can send down a minimal list of ids rather than whole rows that your client can then remove.","title":"Server/Client live updates","body":"<p>The most efficient things are always the most work, sadly.</p>\n<p>I won't claim to be an expert at this kind of thing - on either the implementation(s) available or even the best practices - but I can give some food for thought at least, which may or may not be of help.</p>\n<p>My first choice: your first thought.</p>\n<p>You have the problem of knowing if the updated item is relevant to the client, due to the filters.</p>\n<p>Save the filters for the client whenever they request the full data set!</p>\n<p>Row gets updated, check through all the client filters to see if it is relevant to any of them, push out to those it is.</p>\n<p>The effort for maintaining that filter cache is minimal (update whenever they change their filters), and you'll also be sending down minimal data to the clients. You also won't be iterating over a large dataset multiple times, just the smaller client set and only for the few rows that have been updated.</p>\n<p>Another option:</p>\n<p>If you don't go ahead with option 1, option 2 might be to group updates - assuming you have the luxury of not needing <em>immediate</em>, <em>real-time</em> updates.</p>\n<p>Instead of telling the clients about <em>every</em> data update, only tell them every x seconds that there might be data waiting for them (<em>might be</em>, you little tease).</p>\n<p>I was going to add other options but, to be honest, I don't see why you'd worry about much beyond option 1, maybe with an option 2 addition to reduce traffic if that's an issue.</p>\n<p>'Best practice'-wise, sending down multiple FULL datasets to multiple clients multiple times a second is certainly not it.</p>\n<p>Sending only the data relevant to each client is a much better solution, and if you can further reduce how much the client even needs to send (i.e. only their filter <em>updates</em> and not have them re-send something you could already have saved) is an added bonus.</p>\n<hr />\n<p>Edit:</p>\n<p>Ah, stateless server - though it's not really stateless. You're using web sockets, so the server has some kind of state for those connections. It's already stateful so option 1 doesn't really break anything.</p>\n<p>If it's to be completely stateless, then you also can't store the updated rows of data, so you can't return those individually. You're back to what you're doing which is a full round-trip and data read + serve.</p>\n<p>Option 3, though, if you're semi stateless (don't want to add any metadata to those socket connections) but do hold updated rows: timestamp them and have the clients send the time of their last update along with their filters - you can then return only the updated rows since their last update using their provided filters (timestamp becomes just another filter) (or maybe it is stateless, but the timestamp becomes another filter).</p>\n<p>Either way, limiting the updated data back down to the client is the main goal if for nothing else than saving data transfer.</p>\n<hr />\n<p>Edit 2:</p>\n<p>Sounds like you may need to send two bits of data down (or three if you want to split things even further - makes life easier client-side, I guess):</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    newItems: [{...}, ...],\n    updatedItems: [{...}, ...],\n    deletedIds: [1,2...]\n}\n</code></pre>\n<p>Yes, when their request for an update comes, you'll have to check through your updated items to see if any are deleted and of relevance to the client's filters, but you can send down a minimal list of ids rather than whole rows that your client can then remove.</p>\n"}],"owner":{"account_id":8486229,"reputation":345,"user_id":7136237,"accept_rate":50,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673596141,"creation_date":1673467928,"question_id":75088537,"body_markdown":"I have some problems understanding the best concept for my problem.\r\nMy architecure is pretty basic. I have a backend with data that can be updated and clients which will load data with some filtes. \r\n\r\nI have a backend that has the data in a EHCache. \r\nThe data model is pretty basic for example \r\n\r\n    {\r\n      id: string,\r\n      startDate: date,\r\n      endDate: date,\r\n      username: string,\r\n      group: string\r\n    }\r\n\r\nThe data can only be modified by another backend service.\r\nWhen data is modified, added or deleted we have an data update event generated.\r\n\r\nThe clients are all web clients and have a Spring boot REST Service to fetch the data from the cache.\r\nFor the data request the clients sends his own request settings. There are different settings like date and text filter. For example\r\n\r\n    {\r\n      contentFilter: Filter,\r\n      startDateFilter: date,\r\n      endDateFilter: date\r\n    }\r\n\r\nThe backend use this settings to filter the data from the cache and then sends the response with the filtered data.\r\n\r\nWhen the cache generates an update event every client gets notified by a websocket connection.\r\nAnd then request the full data with the same request settings as before.\r\n\r\nMy problem is now that there are many cache updates happening and that the clients can have a lots of data to load if the full dataset is loaded everytime.\r\n\r\nFor example I have this scenario.\r\n\r\n    Full dataset in cache: 100 000 rows\r\n    Update of rows in cache: 5-10 random rows every 1-5 seconds\r\n    Client1 dataset with request filter: 5000 rows\r\n    Client2 dataset with request filter: 50 rows\r\n\r\nNow everytime the client receives a update notification the client will load the complete dataset (5000 rows) and that every 1-5 seconds. If the update only happens on the same row everytime and the row isn&#180;t loaded by the client because of his filter settings then the client would be loading the data unnecessarily.\r\n\r\nI am not sure what would be the best solution to reduce the client updates and increase the performance.\r\n\r\nMy first thought was to just send the updated line directly with the websocket connection to the clients.\r\nBut for that I would have to know if the client &quot;needs&quot; the updated line. If the updates are happening on rows that the clients doesn&#180;t need to load because of the filter settings then I would spam the client with unnecessary updates.\r\nI could add a check on the client side if the id of the updated row is in the loaded dataset but then I would need a separate check if a row is added to the cache instead of an update.\r\n\r\nBut I am not sure if that is the best practice. And unfortunately I can not find many resources about this topic.\r\n","title":"Server/Client live updates","body":"<p>I have some problems understanding the best concept for my problem.\nMy architecure is pretty basic. I have a backend with data that can be updated and clients which will load data with some filtes.</p>\n<p>I have a backend that has the data in a EHCache.\nThe data model is pretty basic for example</p>\n<pre><code>{\n  id: string,\n  startDate: date,\n  endDate: date,\n  username: string,\n  group: string\n}\n</code></pre>\n<p>The data can only be modified by another backend service.\nWhen data is modified, added or deleted we have an data update event generated.</p>\n<p>The clients are all web clients and have a Spring boot REST Service to fetch the data from the cache.\nFor the data request the clients sends his own request settings. There are different settings like date and text filter. For example</p>\n<pre><code>{\n  contentFilter: Filter,\n  startDateFilter: date,\n  endDateFilter: date\n}\n</code></pre>\n<p>The backend use this settings to filter the data from the cache and then sends the response with the filtered data.</p>\n<p>When the cache generates an update event every client gets notified by a websocket connection.\nAnd then request the full data with the same request settings as before.</p>\n<p>My problem is now that there are many cache updates happening and that the clients can have a lots of data to load if the full dataset is loaded everytime.</p>\n<p>For example I have this scenario.</p>\n<pre><code>Full dataset in cache: 100 000 rows\nUpdate of rows in cache: 5-10 random rows every 1-5 seconds\nClient1 dataset with request filter: 5000 rows\nClient2 dataset with request filter: 50 rows\n</code></pre>\n<p>Now everytime the client receives a update notification the client will load the complete dataset (5000 rows) and that every 1-5 seconds. If the update only happens on the same row everytime and the row isn´t loaded by the client because of his filter settings then the client would be loading the data unnecessarily.</p>\n<p>I am not sure what would be the best solution to reduce the client updates and increase the performance.</p>\n<p>My first thought was to just send the updated line directly with the websocket connection to the clients.\nBut for that I would have to know if the client &quot;needs&quot; the updated line. If the updates are happening on rows that the clients doesn´t need to load because of the filter settings then I would spam the client with unnecessary updates.\nI could add a check on the client side if the id of the updated row is in the loaded dataset but then I would need a separate check if a row is added to the cache instead of an update.</p>\n<p>But I am not sure if that is the best practice. And unfortunately I can not find many resources about this topic.</p>\n"},{"tags":["java","android","xml","android-studio","android-cardview"],"comments":[{"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"score":0,"creation_date":1673596203,"post_id":75106192,"comment_id":132538931,"body_markdown":"check this https://stackoverflow.com/questions/51178933/cardview-with-different-corner-radius","body":"check this <a href=\"https://stackoverflow.com/questions/51178933/cardview-with-different-corner-radius\" title=\"cardview with different corner radius\">stackoverflow.com/questions/51178933/&hellip;</a>"}],"owner":{"account_id":27498382,"reputation":1,"user_id":20982538,"display_name":"Kriti Darin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673596195,"answer_count":0,"score":0,"last_activity_date":1673595994,"creation_date":1673595994,"question_id":75106192,"body_markdown":"[half discorectangle](https://i.stack.imgur.com/30KRp.png)\r\n\r\ni need to add this shape to mu module using card view in android studio. can anyone please suggest some ideas or possible way to achieve it.\r\n\r\ni use android studio dolphin version with java\r\n\r\ni tried using card view but it curves on both the sides so it becomes a full discorectangle but i need half one of it.","title":"using cardview to get half discorectangle shape","body":"<p><a href=\"https://i.stack.imgur.com/30KRp.png\" rel=\"nofollow noreferrer\">half discorectangle</a></p>\n<p>i need to add this shape to mu module using card view in android studio. can anyone please suggest some ideas or possible way to achieve it.</p>\n<p>i use android studio dolphin version with java</p>\n<p>i tried using card view but it curves on both the sides so it becomes a full discorectangle but i need half one of it.</p>\n"},{"tags":["java","g1gc"],"answers":[{"comments":[{"owner":{"account_id":8159397,"reputation":170,"user_id":6143899,"display_name":"Zedorg"},"score":0,"creation_date":1553246086,"post_id":46786917,"comment_id":97320836,"body_markdown":"Xms, minimum heap:\n&quot;The goal is to have around 2048 regions based on the minimum Java heap size.&quot;\nBut if not defined, nothing mentioned in the documentation above :(","body":"Xms, minimum heap: &quot;The goal is to have around 2048 regions based on the minimum Java heap size.&quot; But if not defined, nothing mentioned in the documentation above :("}],"tags":[],"owner":{"account_id":3212285,"reputation":375,"user_id":2712022,"display_name":"mrinal"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1508232607,"creation_date":1508232607,"answer_id":46786917,"question_id":46786601,"body_markdown":"The region size is calculated by the JVM during startup based on the size of the heap. \r\nHeap&#39;s default value is 1/4th of your physical memory or 1GB (whichever is smaller). Refer [this][1].\r\n\r\nThe region sizes can vary from 1 MB to 32 MB depending on the heap size. The goal is to have no more than 2048 regions.\r\n\r\n You can override the size by specifying `-XX:G1HeapRegionSize=XX` in the startup script.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html","title":"How to know region size used of G1 garbage collector?","body":"<p>The region size is calculated by the JVM during startup based on the size of the heap. \nHeap's default value is 1/4th of your physical memory or 1GB (whichever is smaller). Refer <a href=\"http://www.oracle.com/technetwork/articles/java/g1gc-1984535.html\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>The region sizes can vary from 1 MB to 32 MB depending on the heap size. The goal is to have no more than 2048 regions.</p>\n\n<p>You can override the size by specifying <code>-XX:G1HeapRegionSize=XX</code> in the startup script.</p>\n"},{"comments":[{"owner":{"account_id":4104040,"reputation":180,"user_id":3568853,"display_name":"chengzi"},"score":1,"creation_date":1673595883,"post_id":48347022,"comment_id":132538835,"body_markdown":"try use `jmap -heap pid`","body":"try use <code>jmap -heap pid</code>"}],"tags":[],"owner":{"account_id":4173853,"reputation":544,"user_id":3420971,"display_name":"Ron Reynolds"},"comment_count":1,"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1516385004,"creation_date":1516385004,"answer_id":48347022,"question_id":46786601,"body_markdown":"G1 region-size in Java-8 is based on `startingHeapSize/2048` and rounded DOWN to the first power of 2 between 1MB and 32MB; region sizes &lt;1MB or &gt;32MB are not supported.  \r\n\r\nyou can also set the region-size via `-XX:G1HeapRegionSize=n` (note, the value has the same power-of-2/range restrictions).\r\n\r\nso actually the JVM seems biased towards a region count between 2048 and 4095 (assuming a heap between 2GB and 128GB).\r\n\r\nin general these are the region-sizes per heap-size range:\r\n\r\n     &lt;4GB -  1MB\r\n     &lt;8GB -  2MB\r\n    &lt;16GB -  4MB\r\n    &lt;32GB -  8MB\r\n    &lt;64GB - 16MB\r\n    64GB+ - 32MB\r\n\r\n_note, MB is actually MiB and GB is actually GiB_","title":"How to know region size used of G1 garbage collector?","body":"<p>G1 region-size in Java-8 is based on <code>startingHeapSize/2048</code> and rounded DOWN to the first power of 2 between 1MB and 32MB; region sizes &lt;1MB or >32MB are not supported.  </p>\n\n<p>you can also set the region-size via <code>-XX:G1HeapRegionSize=n</code> (note, the value has the same power-of-2/range restrictions).</p>\n\n<p>so actually the JVM seems biased towards a region count between 2048 and 4095 (assuming a heap between 2GB and 128GB).</p>\n\n<p>in general these are the region-sizes per heap-size range:</p>\n\n<pre><code> &lt;4GB -  1MB\n &lt;8GB -  2MB\n&lt;16GB -  4MB\n&lt;32GB -  8MB\n&lt;64GB - 16MB\n64GB+ - 32MB\n</code></pre>\n\n<p><em>note, MB is actually MiB and GB is actually GiB</em></p>\n"},{"tags":[],"owner":{"account_id":8261465,"reputation":83,"user_id":6626157,"display_name":"Roman Markunas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593884873,"creation_date":1593884873,"answer_id":62732500,"question_id":46786601,"body_markdown":"Regarding &quot;How can I find out how big the region size is set?&quot;, instead of calculating you can launch java with `-Xlog:gc*` flag (Java 9 or later), which should print in the very beginning:\r\n```\r\n[0.003s][info][gc,heap] Heap region size: 1M\r\n[0.004s][info][gc     ] Using G1\r\n[0.004s][info][gc,heap,coops] Heap address: 0x00000000fc000000, size: 64 MB, Compressed Oops mode: 32-bit\r\n```","title":"How to know region size used of G1 garbage collector?","body":"<p>Regarding &quot;How can I find out how big the region size is set?&quot;, instead of calculating you can launch java with <code>-Xlog:gc*</code> flag (Java 9 or later), which should print in the very beginning:</p>\n<pre><code>[0.003s][info][gc,heap] Heap region size: 1M\n[0.004s][info][gc     ] Using G1\n[0.004s][info][gc,heap,coops] Heap address: 0x00000000fc000000, size: 64 MB, Compressed Oops mode: 32-bit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16506745,"reputation":143,"user_id":11926593,"display_name":"roamer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601450804,"creation_date":1601450804,"answer_id":64132799,"question_id":46786601,"body_markdown":"to see the region size, use  `jinfo -flags your_pid`\r\n```\r\nNon-default VM flags: -XX:G1HeapRegionSize=1048576 -XX:InitialHeapSize=1054867456 -XX:MarkStackSize=4194304 -XX:MaxHeapSize=5368709120 -XX:MaxNewSize=3221225472 -XX:MinHeapDeltaBytes=1048576 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC \r\n```","title":"How to know region size used of G1 garbage collector?","body":"<p>to see the region size, use  <code>jinfo -flags your_pid</code></p>\n<pre><code>Non-default VM flags: -XX:G1HeapRegionSize=1048576 -XX:InitialHeapSize=1054867456 -XX:MarkStackSize=4194304 -XX:MaxHeapSize=5368709120 -XX:MaxNewSize=3221225472 -XX:MinHeapDeltaBytes=1048576 -XX:+PrintGC -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseG1GC \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4104040,"reputation":180,"user_id":3568853,"display_name":"chengzi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673595782,"creation_date":1673595782,"answer_id":75106163,"question_id":46786601,"body_markdown":"1. `jps` find java program pid\r\n2. `jmap -heap pid`\r\n3. `G1HeapRegionSize` is the region size jvm calculated\r\n\r\neg:\r\n\r\n```bash\r\nusing thread-local object allocation.\r\nGarbage-First (G1) GC with 8 thread(s)\r\n\r\nHeap Configuration:\r\n   MinHeapFreeRatio         = 30\r\n   MaxHeapFreeRatio         = 50\r\n   .............................\r\n   MaxHeapSize              = 12884901888 (12288.0MB)\r\n   G1HeapRegionSize         = 4194304 (4.0MB)\r\n\r\nHeap Usage:\r\nG1 Heap:\r\n   regions  = 3072\r\n   capacity = 12884901888 (12288.0MB)\r\n   used     = 4050405416 (3862.7676162719727MB)\r\n   free     = 8834496472 (8425.232383728027MB)\r\n   31.435283335546654% used\r\n```","title":"How to know region size used of G1 garbage collector?","body":"<ol>\n<li><code>jps</code> find java program pid</li>\n<li><code>jmap -heap pid</code></li>\n<li><code>G1HeapRegionSize</code> is the region size jvm calculated</li>\n</ol>\n<p>eg:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>using thread-local object allocation.\nGarbage-First (G1) GC with 8 thread(s)\n\nHeap Configuration:\n   MinHeapFreeRatio         = 30\n   MaxHeapFreeRatio         = 50\n   .............................\n   MaxHeapSize              = 12884901888 (12288.0MB)\n   G1HeapRegionSize         = 4194304 (4.0MB)\n\nHeap Usage:\nG1 Heap:\n   regions  = 3072\n   capacity = 12884901888 (12288.0MB)\n   used     = 4050405416 (3862.7676162719727MB)\n   free     = 8834496472 (8425.232383728027MB)\n   31.435283335546654% used\n</code></pre>\n"}],"owner":{"account_id":328571,"reputation":3309,"user_id":651601,"accept_rate":94,"display_name":"keiki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21563,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":48347022,"answer_count":5,"score":16,"last_activity_date":1673595782,"creation_date":1508231720,"question_id":46786601,"body_markdown":"I&#39;m currently looking into G1 GC in latest Java 8 version.\r\n\r\nI have issues with &quot;Humongous Allocation&quot; so I wanna know how big my region size is.\r\n\r\nHow can I find out how big the region size is set? \r\n\r\nHow can I calculate the region size myself?\r\n\r\nThanks","title":"How to know region size used of G1 garbage collector?","body":"<p>I'm currently looking into G1 GC in latest Java 8 version.</p>\n\n<p>I have issues with \"Humongous Allocation\" so I wanna know how big my region size is.</p>\n\n<p>How can I find out how big the region size is set? </p>\n\n<p>How can I calculate the region size myself?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose"],"owner":{"account_id":15707403,"reputation":87,"user_id":11333766,"display_name":"Yuba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673595763,"creation_date":1673595763,"question_id":75106157,"body_markdown":"I have tried to make a session after login using data store. but i faced my read token didnt function and no idea to resolve it. please help me if you familiar with this case. and why it&#39;s work? \r\n\r\nplease help me for solve this case. i have new in android development\r\n\r\n**SplashViewModel**\r\n\r\n    @HiltViewModel\r\n    class SplashViewModel @Inject constructor(\r\n        private val datastore: AppDatastore\r\n    ) : ViewModel() {\r\n    \r\n        private val _onBoardingCompleted = mutableStateOf(false)\r\n        val onBoardingCompleted get() = _onBoardingCompleted\r\n    \r\n        private val _tokenIsEmpty = mutableStateOf(&quot;&quot;)\r\n        val tokenIstEmpty get() = _tokenIsEmpty\r\n    \r\n        private val _startDestination: MutableState&lt;String&gt; = mutableStateOf(Screen.HomeScreen.route)\r\n        val startDestination: State&lt;String&gt; = _startDestination\r\n    \r\n        init {\r\n            viewModelScope.launch {\r\n                datastore.readOnBoardingState().collect { completed -&gt;\r\n                    if (completed) {\r\n                        _startDestination.value = Screen.LoginScreen.route\r\n                    } else {\r\n                        _startDestination.value = Screen.OnBoardingScreen.route\r\n                    }\r\n                    _onBoardingCompleted.value = true\r\n                }\r\n    \r\n               datastore.readUserTokenState().collect { token -&gt;\r\n                   if (token != &quot;&quot;){\r\n                       _startDestination.value = Screen.HomeScreen.route\r\n                   }else{\r\n                       _startDestination.value = Screen.OnBoardingScreen.route\r\n                   }\r\n                   _tokenIsEmpty.value = token\r\n               }\r\n            }\r\n        }\r\n    }\r\n\r\n**DataStore Class**\r\n\r\n    class AppDatastore(context: Context) {\r\n    \r\n        companion object {\r\n            val Context.datastore: DataStore&lt;Preferences&gt; by preferencesDataStore(name = &quot;app_datastore&quot;)\r\n            private val TOKEN = stringPreferencesKey(name = &quot;token&quot;)\r\n            private val ONBOARD = booleanPreferencesKey(&quot;onboard&quot;)\r\n        }\r\n    \r\n        private val dataStore = context.datastore\r\n    \r\n        suspend fun saveOnBoardState(isCompleted: Boolean) {\r\n            dataStore.edit { preferences -&gt;\r\n                preferences[ONBOARD] = isCompleted\r\n            }\r\n        }\r\n    \r\n        fun readOnBoardingState(): Flow&lt;Boolean&gt; {\r\n            return dataStore.data\r\n                .catch { exception -&gt;\r\n                    if (exception is IOException) {\r\n                        emit(emptyPreferences())\r\n                    } else {\r\n                        throw exception\r\n                    }\r\n                }\r\n                .map { preferences -&gt;\r\n                    val onBoardingState = preferences[ONBOARD] ?: false\r\n                    onBoardingState\r\n                }\r\n        }\r\n    \r\n        suspend fun saveUserToken(token: String) {\r\n            dataStore.edit { preferences -&gt;\r\n                preferences[TOKEN] = token\r\n            }\r\n        }\r\n    \r\n        fun readUserTokenState(): Flow&lt;String&gt; {\r\n            return dataStore.data\r\n                .catch { exception -&gt;\r\n                    if (exception is IOException) {\r\n                        emit(emptyPreferences())\r\n                    } else {\r\n                        throw exception\r\n                    }\r\n                }\r\n                .map { preferences -&gt;\r\n                    val tokenState = preferences[TOKEN] ?: &quot;&quot;\r\n                    tokenState\r\n                }\r\n        }\r\n    \r\n        suspend fun deleteToken() {\r\n            dataStore.edit { preferences -&gt;\r\n                preferences.remove(TOKEN)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**LoginViewModel**\r\n\r\n    @HiltViewModel\r\n    class LoginViewModel @Inject constructor(\r\n        private val loginUseCase: LoginUseCase,\r\n        private val datastore: AppDatastore\r\n    ) : ViewModel() {\r\n    \r\n        private val _loginState: MutableState&lt;LoginState&gt; = mutableStateOf(LoginState())\r\n        val loginState: LoginState by _loginState\r\n    \r\n        fun login(username: String, password: String) {\r\n            _loginState.value.isLoading\r\n            viewModelScope.launch {\r\n                loginUseCase.execute(LoginRequest(username, password)).collect { result -&gt;\r\n                    when (result) {\r\n                        is Resource.Success -&gt; {\r\n                            _loginState.value = LoginState().copy(\r\n                                isLoading = false,\r\n                                login = result.data,\r\n                                error = null\r\n                            )\r\n                            saveToken(result.data?.token.toString())\r\n                            Log.d(&quot;TAG&quot;, &quot;login:  ${result.data?.token}&quot;)\r\n                        }\r\n                        is Resource.Error -&gt; {\r\n                            _loginState.value = LoginState().copy(\r\n                                isLoading = false,\r\n                                login = null,\r\n                                error = result.message.toString()\r\n                            )\r\n                        }\r\n                        is Resource.Loading -&gt; {\r\n                            _loginState.value = LoginState().copy(\r\n                                isLoading = true,\r\n                                login = null,\r\n                                error = null\r\n                            )\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n        fun saveToken(token: String) {\r\n            viewModelScope.launch(Dispatchers.IO) {\r\n                datastore.saveUserToken(token)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**SplashScreen**\r\n\r\n    @Composable\r\n    fun SplashScreen(\r\n        navController: NavController,\r\n        loginViewModel: LoginViewModel = hiltViewModel(),\r\n        splashViewModel: SplashViewModel = hiltViewModel()\r\n    ) {\r\n        var startAnimation by remember { mutableStateOf(false) }\r\n    \r\n        val alphaAnim = animateFloatAsState(\r\n            targetValue = if (startAnimation) 0.8f else 0f,\r\n            animationSpec = tween(\r\n                durationMillis = 800,\r\n                easing = {\r\n                    OvershootInterpolator(4f).getInterpolation(it)\r\n                })\r\n        )\r\n    \r\n        LaunchedEffect(key1 = true) {\r\n            val token = splashViewModel.tokenIstEmpty.value\r\n            val screen by splashViewModel.startDestination\r\n    \r\n            startAnimation = true\r\n            delay(3000)\r\n            navController.popBackStack()\r\n    \r\n    \r\n    //        if (splashViewModel.onBoardingCompleted.value){\r\n    //            val screen by splashViewModel.startDestination\r\n    //            navController.navigate(screen)\r\n    //        }\r\n            when (token) {\r\n                &quot;&quot; -&gt; navController.navigate(screen)\r\n                else -&gt; navController.navigate(screen)\r\n            }\r\n        }\r\n        Splash(scale = alphaAnim.value)\r\n    }\r\n\r\n","title":"Why my read token didn&#39;t work while save token is work. data store android.?","body":"<p>I have tried to make a session after login using data store. but i faced my read token didnt function and no idea to resolve it. please help me if you familiar with this case. and why it's work?</p>\n<p>please help me for solve this case. i have new in android development</p>\n<p><strong>SplashViewModel</strong></p>\n<pre><code>@HiltViewModel\nclass SplashViewModel @Inject constructor(\n    private val datastore: AppDatastore\n) : ViewModel() {\n\n    private val _onBoardingCompleted = mutableStateOf(false)\n    val onBoardingCompleted get() = _onBoardingCompleted\n\n    private val _tokenIsEmpty = mutableStateOf(&quot;&quot;)\n    val tokenIstEmpty get() = _tokenIsEmpty\n\n    private val _startDestination: MutableState&lt;String&gt; = mutableStateOf(Screen.HomeScreen.route)\n    val startDestination: State&lt;String&gt; = _startDestination\n\n    init {\n        viewModelScope.launch {\n            datastore.readOnBoardingState().collect { completed -&gt;\n                if (completed) {\n                    _startDestination.value = Screen.LoginScreen.route\n                } else {\n                    _startDestination.value = Screen.OnBoardingScreen.route\n                }\n                _onBoardingCompleted.value = true\n            }\n\n           datastore.readUserTokenState().collect { token -&gt;\n               if (token != &quot;&quot;){\n                   _startDestination.value = Screen.HomeScreen.route\n               }else{\n                   _startDestination.value = Screen.OnBoardingScreen.route\n               }\n               _tokenIsEmpty.value = token\n           }\n        }\n    }\n}\n</code></pre>\n<p><strong>DataStore Class</strong></p>\n<pre><code>class AppDatastore(context: Context) {\n\n    companion object {\n        val Context.datastore: DataStore&lt;Preferences&gt; by preferencesDataStore(name = &quot;app_datastore&quot;)\n        private val TOKEN = stringPreferencesKey(name = &quot;token&quot;)\n        private val ONBOARD = booleanPreferencesKey(&quot;onboard&quot;)\n    }\n\n    private val dataStore = context.datastore\n\n    suspend fun saveOnBoardState(isCompleted: Boolean) {\n        dataStore.edit { preferences -&gt;\n            preferences[ONBOARD] = isCompleted\n        }\n    }\n\n    fun readOnBoardingState(): Flow&lt;Boolean&gt; {\n        return dataStore.data\n            .catch { exception -&gt;\n                if (exception is IOException) {\n                    emit(emptyPreferences())\n                } else {\n                    throw exception\n                }\n            }\n            .map { preferences -&gt;\n                val onBoardingState = preferences[ONBOARD] ?: false\n                onBoardingState\n            }\n    }\n\n    suspend fun saveUserToken(token: String) {\n        dataStore.edit { preferences -&gt;\n            preferences[TOKEN] = token\n        }\n    }\n\n    fun readUserTokenState(): Flow&lt;String&gt; {\n        return dataStore.data\n            .catch { exception -&gt;\n                if (exception is IOException) {\n                    emit(emptyPreferences())\n                } else {\n                    throw exception\n                }\n            }\n            .map { preferences -&gt;\n                val tokenState = preferences[TOKEN] ?: &quot;&quot;\n                tokenState\n            }\n    }\n\n    suspend fun deleteToken() {\n        dataStore.edit { preferences -&gt;\n            preferences.remove(TOKEN)\n        }\n    }\n}\n</code></pre>\n<p><strong>LoginViewModel</strong></p>\n<pre><code>@HiltViewModel\nclass LoginViewModel @Inject constructor(\n    private val loginUseCase: LoginUseCase,\n    private val datastore: AppDatastore\n) : ViewModel() {\n\n    private val _loginState: MutableState&lt;LoginState&gt; = mutableStateOf(LoginState())\n    val loginState: LoginState by _loginState\n\n    fun login(username: String, password: String) {\n        _loginState.value.isLoading\n        viewModelScope.launch {\n            loginUseCase.execute(LoginRequest(username, password)).collect { result -&gt;\n                when (result) {\n                    is Resource.Success -&gt; {\n                        _loginState.value = LoginState().copy(\n                            isLoading = false,\n                            login = result.data,\n                            error = null\n                        )\n                        saveToken(result.data?.token.toString())\n                        Log.d(&quot;TAG&quot;, &quot;login:  ${result.data?.token}&quot;)\n                    }\n                    is Resource.Error -&gt; {\n                        _loginState.value = LoginState().copy(\n                            isLoading = false,\n                            login = null,\n                            error = result.message.toString()\n                        )\n                    }\n                    is Resource.Loading -&gt; {\n                        _loginState.value = LoginState().copy(\n                            isLoading = true,\n                            login = null,\n                            error = null\n                        )\n                    }\n                }\n            }\n        }\n    }\n\n    fun saveToken(token: String) {\n        viewModelScope.launch(Dispatchers.IO) {\n            datastore.saveUserToken(token)\n        }\n    }\n}\n</code></pre>\n<p><strong>SplashScreen</strong></p>\n<pre><code>@Composable\nfun SplashScreen(\n    navController: NavController,\n    loginViewModel: LoginViewModel = hiltViewModel(),\n    splashViewModel: SplashViewModel = hiltViewModel()\n) {\n    var startAnimation by remember { mutableStateOf(false) }\n\n    val alphaAnim = animateFloatAsState(\n        targetValue = if (startAnimation) 0.8f else 0f,\n        animationSpec = tween(\n            durationMillis = 800,\n            easing = {\n                OvershootInterpolator(4f).getInterpolation(it)\n            })\n    )\n\n    LaunchedEffect(key1 = true) {\n        val token = splashViewModel.tokenIstEmpty.value\n        val screen by splashViewModel.startDestination\n\n        startAnimation = true\n        delay(3000)\n        navController.popBackStack()\n\n\n//        if (splashViewModel.onBoardingCompleted.value){\n//            val screen by splashViewModel.startDestination\n//            navController.navigate(screen)\n//        }\n        when (token) {\n            &quot;&quot; -&gt; navController.navigate(screen)\n            else -&gt; navController.navigate(screen)\n        }\n    }\n    Splash(scale = alphaAnim.value)\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":1227133,"reputation":93,"user_id":1192483,"accept_rate":0,"display_name":"Levi Mendes"},"score":0,"creation_date":1349447642,"post_id":12748282,"comment_id":17222882,"body_markdown":"Thanks njzk2, this works ok, the only problem is that i need create a new File() to achieve the desired result, but lets forward.","body":"Thanks njzk2, this works ok, the only problem is that i need create a new File() to achieve the desired result, but lets forward."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":2,"creation_date":1349449529,"post_id":12748282,"comment_id":17223802,"body_markdown":"you don&#39;t actually create a file, you create an object that represent a file. there is not necessarly an underlying actual file","body":"you don&#39;t actually create a file, you create an object that represent a file. there is not necessarly an underlying actual file"},{"owner":{"account_id":1227133,"reputation":93,"user_id":1192483,"accept_rate":0,"display_name":"Levi Mendes"},"score":0,"creation_date":1349452307,"post_id":12748282,"comment_id":17225093,"body_markdown":"exactly, that&#39;s what I meant. Thank you.","body":"exactly, that&#39;s what I meant. Thank you."}],"tags":[],"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1349446765,"creation_date":1349446765,"answer_id":12748282,"question_id":12748257,"body_markdown":"How about \r\n\r\n    new File(entry.getName()).getName()\r\n","title":"How to get the simple name of the ZipEntry?","body":"<p>How about </p>\n\n<pre><code>new File(entry.getName()).getName()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"score":0,"creation_date":1349452043,"post_id":12749691,"comment_id":17224971,"body_markdown":"to add-up, above logic will only print file names, and not folder names.","body":"to add-up, above logic will only print file names, and not folder names."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1349452383,"post_id":12749691,"comment_id":17225126,"body_markdown":"are you actually sure the directory separator is a / ? and is it possible that a file name contains a / ?","body":"are you actually sure the directory separator is a / ? and is it possible that a file name contains a / ?"},{"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"score":0,"creation_date":1349459252,"post_id":12749691,"comment_id":17227822,"body_markdown":"Instead of &#39;/&#39; we can use File.separator. File name never contains &#39;/&#39;, so you would get complete file name. lastIndex(&quot;/&quot;) returns -1 if the name does not contains any separator, so the effective operation is substring(0,length)","body":"Instead of &#39;/&#39; we can use File.separator. File name never contains &#39;/&#39;, so you would get complete file name. lastIndex(&quot;/&quot;) returns -1 if the name does not contains any separator, so the effective operation is substring(0,length)"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1349681632,"post_id":12749691,"comment_id":17270324,"body_markdown":"what makes you so sure a filename doesn&#39;t contain &#39;/&#39; ?","body":"what makes you so sure a filename doesn&#39;t contain &#39;/&#39; ?"},{"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"score":0,"creation_date":1349688690,"post_id":12749691,"comment_id":17272976,"body_markdown":"What  software (OS) creates file contains &#39;/&#39; .","body":"What  software (OS) creates file contains &#39;/&#39; ."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1349689101,"post_id":12749691,"comment_id":17273130,"body_markdown":"see http://en.wikipedia.org/wiki/Filename#Comparison_of_filename_limitations for a list of reserved charaters by FS. You can see that not all FS forbid the use of a &#39;/&#39; (although most do)","body":"see <a href=\"http://en.wikipedia.org/wiki/Filename#Comparison_of_filename_limitations\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a> for a list of reserved charaters by FS. You can see that not all FS forbid the use of a &#39;/&#39; (although most do)"},{"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"score":0,"creation_date":1349689323,"post_id":12749691,"comment_id":17273222,"body_markdown":"Anyway windows doesn&#39;t allow you to create files contains &#39;/\\:*?&lt;&gt;|&#39; . I am curious to know how can we do that","body":"Anyway windows doesn&#39;t allow you to create files contains &#39;/\\:*?&lt;&gt;|&#39; . I am curious to know how can we do that"},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":0,"creation_date":1349689474,"post_id":12749691,"comment_id":17273291,"body_markdown":"how is windows relevant here ? Also, i don&#39;t know of any actual limitation to file names in a zip file (i could find anything to this regard)","body":"how is windows relevant here ? Also, i don&#39;t know of any actual limitation to file names in a zip file (i could find anything to this regard)"},{"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"score":0,"creation_date":1349690086,"post_id":12749691,"comment_id":17273573,"body_markdown":"My comment was just before you post wiki link,  that is quite useful .  But any I can improve the code by using File.separator instead of &#39;/&#39;. That should make the program  works any where.","body":"My comment was just before you post wiki link,  that is quite useful .  But any I can improve the code by using File.separator instead of &#39;/&#39;. That should make the program  works any where."}],"tags":[],"owner":{"account_id":431486,"reputation":3641,"user_id":815566,"accept_rate":81,"display_name":"Satheesh Cheveri"},"comment_count":9,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349451891,"creation_date":1349451891,"answer_id":12749691,"question_id":12748257,"body_markdown":"you can try with below code ( may be you would need to take some precaution for java.lang.StringIndexOutOfBoundsException). Also you can enforce some check if you know the extension\r\n\r\n    \t\ttry {\r\n    \t\t\tZipFile zip = new ZipFile(new File(&quot;F:\\\\OTHERS\\\\classes.zip&quot;));\r\n    \t\t\tfor (Enumeration e = zip.entries(); e.hasMoreElements(); ) {\r\n    \t\t\t\tZipEntry entry = (ZipEntry) e.nextElement();\r\n    \t\t\t\t//Here I need to get the simple name instead the full name with its root\r\n    \t\t\t\tString name =entry.getName();\r\n    \t\t\t\t//if( name.endsWith(&quot;.java&quot;))\r\n    //\t\t\t\t{\r\n    \t\t\t\t\tname = name.substring(name.lastIndexOf(&quot;/&quot;)+1,name.length() );\r\n    \t\t\t\t\tSystem.out.println(name );\r\n    //\t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t} catch (ZipException e) {\r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t} catch (IOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \r\n    \t\t}","title":"How to get the simple name of the ZipEntry?","body":"<p>you can try with below code ( may be you would need to take some precaution for java.lang.StringIndexOutOfBoundsException). Also you can enforce some check if you know the extension</p>\n\n<pre><code>        try {\n            ZipFile zip = new ZipFile(new File(\"F:\\\\OTHERS\\\\classes.zip\"));\n            for (Enumeration e = zip.entries(); e.hasMoreElements(); ) {\n                ZipEntry entry = (ZipEntry) e.nextElement();\n                //Here I need to get the simple name instead the full name with its root\n                String name =entry.getName();\n                //if( name.endsWith(\".java\"))\n//              {\n                    name = name.substring(name.lastIndexOf(\"/\")+1,name.length() );\n                    System.out.println(name );\n//              }\n            }\n\n        } catch (ZipException e) {\n            e.printStackTrace();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10113904,"reputation":429,"user_id":7473218,"display_name":"A. Hafid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673595057,"creation_date":1673595057,"answer_id":75106055,"question_id":12748257,"body_markdown":"String name = name.substring(name.lastIndexOf(&quot;/&quot;)+1);","title":"How to get the simple name of the ZipEntry?","body":"<p>String name = name.substring(name.lastIndexOf(&quot;/&quot;)+1);</p>\n"}],"owner":{"account_id":1227133,"reputation":93,"user_id":1192483,"accept_rate":0,"display_name":"Levi Mendes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12188,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1673595057,"creation_date":1349446691,"question_id":12748257,"body_markdown":"I would know if is it possible to get the simple name from a `ZipEntry`...\r\n\r\nWhen I invoke the `getName()` of the Entry, I get a full path name.\r\n\r\nI need get only the file&#39;s name.\r\n\r\nHere I need get the simple name instead the full name with its root.\r\n\r\n\r\n    public class ZipFileSample {\r\n    \t\r\n        public static void main(String[] args) {\r\n        \t\r\n            try {\r\n            \tZipFile zip = new ZipFile(new File(&quot;C:\\\\Users\\\\Levi\\\\Desktop\\\\jessica.zip&quot;));\r\n    \r\n                for (Enumeration e = zip.entries(); e.hasMoreElements(); ) {\r\n                    ZipEntry entry = (ZipEntry) e.nextElement();\r\n                    //Here I need to get the simple name instead the full name with its root\r\n                    System.out.println(entry.getName());\r\n                }\r\n                \r\n            } catch (ZipException e) {\r\n                e.printStackTrace();\r\n                \r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                \r\n            }\r\n            \r\n        }\r\n    }\r\n\r\n","title":"How to get the simple name of the ZipEntry?","body":"<p>I would know if is it possible to get the simple name from a <code>ZipEntry</code>...</p>\n\n<p>When I invoke the <code>getName()</code> of the Entry, I get a full path name.</p>\n\n<p>I need get only the file's name.</p>\n\n<p>Here I need get the simple name instead the full name with its root.</p>\n\n<pre><code>public class ZipFileSample {\n\n    public static void main(String[] args) {\n\n        try {\n            ZipFile zip = new ZipFile(new File(\"C:\\\\Users\\\\Levi\\\\Desktop\\\\jessica.zip\"));\n\n            for (Enumeration e = zip.entries(); e.hasMoreElements(); ) {\n                ZipEntry entry = (ZipEntry) e.nextElement();\n                //Here I need to get the simple name instead the full name with its root\n                System.out.println(entry.getName());\n            }\n\n        } catch (ZipException e) {\n            e.printStackTrace();\n\n        } catch (IOException e) {\n            e.printStackTrace();\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","oop","equals"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668562571,"post_id":74453990,"comment_id":131434332,"body_markdown":"What&#39;s `cardNum`? You need to show your `Card` class.","body":"What&#39;s <code>cardNum</code>? You need to show your <code>Card</code> class."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668562632,"post_id":74453990,"comment_id":131434344,"body_markdown":"Incidentally, always override `hashCode` when you override `equals` -- but that isn&#39;t causing any problem in this instance.","body":"Incidentally, always override <code>hashCode</code> when you override <code>equals</code> -- but that isn&#39;t causing any problem in this instance."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668562778,"post_id":74453990,"comment_id":131434371,"body_markdown":"Oh: &quot;I need my equals method to be able to correctly tell me if a card has the same rank as another card&quot; If you consider that the Ace of Spades and the Ace of Clubs are the same Card, then your code is behaving as expected.","body":"Oh: &quot;I need my equals method to be able to correctly tell me if a card has the same rank as another card&quot; If you consider that the Ace of Spades and the Ace of Clubs are the same Card, then your code is behaving as expected."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1668563591,"post_id":74453990,"comment_id":131434522,"body_markdown":"Because `equals` is used by `List.remove` to decide which item to remove.","body":"Because <code>equals</code> is used by <code>List.remove</code> to decide which item to remove."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":3,"creation_date":1668563691,"post_id":74453990,"comment_id":131434535,"body_markdown":"Write another method on `Card`: `boolean hasSameRankAs(Card otherCard)` instead of breaking the semantics of `equals`.","body":"Write another method on <code>Card</code>: <code>boolean hasSameRankAs(Card otherCard)</code> instead of breaking the semantics of <code>equals</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673594857,"creation_date":1673550860,"answer_id":75101265,"question_id":74453990,"body_markdown":"Here&#39;s how `equals` affects other code:\r\n\r\n    public Card deal() {\r\n        Random rand = new Random();\r\n        Card randomCard;\r\n\r\n        randomCard = m_cards.get(rand.nextInt(m_cards.size()));\r\n        m_cards.remove(randomCard);\r\n\r\n        return randomCard;\r\n    }\r\n\r\n`m_cards.remove(randomCard)` – think how this method is going to know which card to remove from the collection? Exactly, it calls `equals` with the parameter and every item in the collection!\r\n\r\nYou have to decide: is a seven of hearts really _equal_ to a seven of clubs? I don&#39;t think so. They might have the same rank, but for them to be considired equal, I&#39;d expect them to have the same rank _and_ the same suit.\r\n\r\nThe canonical implementation of this method is (more or less):\r\n\r\n    public boolean remove(final Object o) {\r\n        final Iterator&lt;E&gt; it = iterator();\r\n        while (it.hasNext()) {\r\n            if (Objects.equals(o, it.next())) {\r\n                it.remove();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nPS Random instances should be reused, not recreated with `new` every time you need them. If you recreate, you are not getting good random values and might even end up with the same number several times in a row. To reuse, create it once in the constructor or store it in a `static final` field.","title":"Equals method override messes up other code/changes output?","body":"<p>Here's how <code>equals</code> affects other code:</p>\n<pre><code>public Card deal() {\n    Random rand = new Random();\n    Card randomCard;\n\n    randomCard = m_cards.get(rand.nextInt(m_cards.size()));\n    m_cards.remove(randomCard);\n\n    return randomCard;\n}\n</code></pre>\n<p><code>m_cards.remove(randomCard)</code> – think how this method is going to know which card to remove from the collection? Exactly, it calls <code>equals</code> with the parameter and every item in the collection!</p>\n<p>You have to decide: is a seven of hearts really <em>equal</em> to a seven of clubs? I don't think so. They might have the same rank, but for them to be considired equal, I'd expect them to have the same rank <em>and</em> the same suit.</p>\n<p>The canonical implementation of this method is (more or less):</p>\n<pre><code>public boolean remove(final Object o) {\n    final Iterator&lt;E&gt; it = iterator();\n    while (it.hasNext()) {\n        if (Objects.equals(o, it.next())) {\n            it.remove();\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>PS Random instances should be reused, not recreated with <code>new</code> every time you need them. If you recreate, you are not getting good random values and might even end up with the same number several times in a row. To reuse, create it once in the constructor or store it in a <code>static final</code> field.</p>\n"}],"owner":{"account_id":26778822,"reputation":23,"user_id":20374009,"display_name":"Seba"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1673594857,"creation_date":1668560861,"question_id":74453990,"body_markdown":"I&#39;m making a card game for a school project. I need my equals method to be able to correctly tell me if a card has the same rank as another card. However, I notice that as long as an equals override *exists*, even if I don&#39;t use &quot;.equals()&quot; on anything, it seems to screw up output for other code. Here is a sample of my output with the equals method active:\r\n\r\n```\r\nPlayer 1\r\nHas spoon? false\r\nIs dealer? true\r\nHand: [7 of Clubs, 2 of Clubs, 8 of Spades, 8 of Clubs]\r\nDealer: \r\nYour dealer has a deck of 48 cards: \r\n\r\nCards currently in deck: 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, Queen of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, King of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 6 of Diamonds, 7 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds\r\n```\r\n\r\nI can create multiple players and deal them each a set number of cards.\r\n\r\nOn some occasions players will get dealt duplicate cards, which is an obvious problem. On top of this, it doesn&#39;t remove the right cards from the deck, sometimes removing the right rank but the wrong suit. Notice that some cards in this player&#39;s hand are still in the deck but several Hearts cards are taken out.\r\n\r\nThis is output with the equals method commented out, nothing else changed:\r\n\r\n```\r\nPlayer 1\r\nHas spoon? false\r\nIs dealer? true\r\nHand: [7 of Diamonds, Queen of Hearts, 6 of Diamonds, King of Spades]\r\nDealer: \r\nYour dealer has a deck of 48 cards: \r\n\r\nCards currently in deck: 2 of Hearts, 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 7 of Hearts, 8 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 8 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds, \r\n```\r\n\r\nI am confident that this works perfectly. The player gets their specific cards and those cards are removed from the deck.\r\n\r\nThis is my equals method:\r\n\r\n```\r\npublic boolean equals(Object obj) {\r\n        if (!(obj instanceof Card)){\r\n            return false;\r\n        } else {\r\n            Card card = (Card) obj;\r\n            return card.cardNum == this.cardNum;\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;m guessing this must be happening when the cards are removed from the deck, and not when they are created, because the deck is still made of 52 individual unique card objects even with the equals method.\r\n\r\nSo, I use 2 methods to remove a card from a deck: deal and deals\r\n\r\n```\r\n    /**\r\n     * @return randomCard, the randomly selected card\r\n     */\r\n    public Card deal() {\r\n        Random rand = new Random();\r\n        Card randomCard;\r\n\r\n        randomCard = m_cards.get(rand.nextInt(m_cards.size()));\r\n        m_cards.remove(randomCard);\r\n\r\n        return randomCard;\r\n    }\r\n```\r\n\r\n```\r\n    /**\r\n     * @param n, the number of times deal is called\r\n     * @return cardsDealt, a LinkedList containing the cards removed from the Deck.\r\n     */\r\n    public LinkedList&lt;Card&gt; deals(int n) {\r\n        LinkedList&lt;Card&gt; cardsDealt = new LinkedList&lt;Card&gt;();\r\n\r\n        for(int i = 0; i &lt; n; i++) {\r\n            cardsDealt.add(m_deck.deal());\r\n        }\r\n        // System.out.print(&quot;\\nRemoving: &quot;);\r\n        return cardsDealt;\r\n    }\r\n```\r\n\r\nAnd this is the code I have for the Player class right now:\r\n\r\n```\r\nimport java.util.LinkedList;\r\npublic class Player {\r\n    private int playerNum;\r\n    private boolean hasSpoon;\r\n    private boolean isDealer;\r\n\r\n    static Dealer dealer = new Dealer();\r\n    LinkedList&lt;Card&gt; hand;\r\n\r\n    public Player(int playerNum) {\r\n        this.playerNum = playerNum;\r\n        this.hasSpoon = false;\r\n        if(this.playerNum == 1) {\r\n            this.isDealer = true;\r\n        }\r\n        this.hand = new LinkedList&lt;Card&gt;(dealer.deals(4));\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;\\nPlayer &quot; + playerNum + \r\n               &quot;\\nHas spoon? &quot; + hasSpoon + \r\n               &quot;\\nIs dealer? &quot; + isDealer + \r\n               &quot;\\nHand: &quot; + hand\r\n              + &quot;\\nDealer: &quot; + dealer;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Player player1 = new Player(1);\r\n\r\n        System.out.println(player1);\r\n    }\r\n}\r\n```\r\n\r\nAgain, this is for school so don&#39;t give me the direct answer but I would appreciate to know why this is happening and be pointed in the right direction.","title":"Equals method override messes up other code/changes output?","body":"<p>I'm making a card game for a school project. I need my equals method to be able to correctly tell me if a card has the same rank as another card. However, I notice that as long as an equals override <em>exists</em>, even if I don't use &quot;.equals()&quot; on anything, it seems to screw up output for other code. Here is a sample of my output with the equals method active:</p>\n<pre><code>Player 1\nHas spoon? false\nIs dealer? true\nHand: [7 of Clubs, 2 of Clubs, 8 of Spades, 8 of Clubs]\nDealer: \nYour dealer has a deck of 48 cards: \n\nCards currently in deck: 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, Queen of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, King of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 6 of Diamonds, 7 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds\n</code></pre>\n<p>I can create multiple players and deal them each a set number of cards.</p>\n<p>On some occasions players will get dealt duplicate cards, which is an obvious problem. On top of this, it doesn't remove the right cards from the deck, sometimes removing the right rank but the wrong suit. Notice that some cards in this player's hand are still in the deck but several Hearts cards are taken out.</p>\n<p>This is output with the equals method commented out, nothing else changed:</p>\n<pre><code>Player 1\nHas spoon? false\nIs dealer? true\nHand: [7 of Diamonds, Queen of Hearts, 6 of Diamonds, King of Spades]\nDealer: \nYour dealer has a deck of 48 cards: \n\nCards currently in deck: 2 of Hearts, 3 of Hearts, 4 of Hearts, 5 of Hearts, 6 of Hearts, 7 of Hearts, 8 of Hearts, 9 of Hearts, 10 of Hearts, Jack of Hearts, King of Hearts, Ace of Hearts, 2 of Spades, 3 of Spades, 4 of Spades, 5 of Spades, 6 of Spades, 7 of Spades, 8 of Spades, 9 of Spades, 10 of Spades, Jack of Spades, Queen of Spades, Ace of Spades, 2 of Clubs, 3 of Clubs, 4 of Clubs, 5 of Clubs, 6 of Clubs, 7 of Clubs, 8 of Clubs, 9 of Clubs, 10 of Clubs, Jack of Clubs, Queen of Clubs, King of Clubs, Ace of Clubs, 2 of Diamonds, 3 of Diamonds, 4 of Diamonds, 5 of Diamonds, 8 of Diamonds, 9 of Diamonds, 10 of Diamonds, Jack of Diamonds, Queen of Diamonds, King of Diamonds, Ace of Diamonds, \n</code></pre>\n<p>I am confident that this works perfectly. The player gets their specific cards and those cards are removed from the deck.</p>\n<p>This is my equals method:</p>\n<pre><code>public boolean equals(Object obj) {\n        if (!(obj instanceof Card)){\n            return false;\n        } else {\n            Card card = (Card) obj;\n            return card.cardNum == this.cardNum;\n        }\n    }\n</code></pre>\n<p>I'm guessing this must be happening when the cards are removed from the deck, and not when they are created, because the deck is still made of 52 individual unique card objects even with the equals method.</p>\n<p>So, I use 2 methods to remove a card from a deck: deal and deals</p>\n<pre><code>    /**\n     * @return randomCard, the randomly selected card\n     */\n    public Card deal() {\n        Random rand = new Random();\n        Card randomCard;\n\n        randomCard = m_cards.get(rand.nextInt(m_cards.size()));\n        m_cards.remove(randomCard);\n\n        return randomCard;\n    }\n</code></pre>\n<pre><code>    /**\n     * @param n, the number of times deal is called\n     * @return cardsDealt, a LinkedList containing the cards removed from the Deck.\n     */\n    public LinkedList&lt;Card&gt; deals(int n) {\n        LinkedList&lt;Card&gt; cardsDealt = new LinkedList&lt;Card&gt;();\n\n        for(int i = 0; i &lt; n; i++) {\n            cardsDealt.add(m_deck.deal());\n        }\n        // System.out.print(&quot;\\nRemoving: &quot;);\n        return cardsDealt;\n    }\n</code></pre>\n<p>And this is the code I have for the Player class right now:</p>\n<pre><code>import java.util.LinkedList;\npublic class Player {\n    private int playerNum;\n    private boolean hasSpoon;\n    private boolean isDealer;\n\n    static Dealer dealer = new Dealer();\n    LinkedList&lt;Card&gt; hand;\n\n    public Player(int playerNum) {\n        this.playerNum = playerNum;\n        this.hasSpoon = false;\n        if(this.playerNum == 1) {\n            this.isDealer = true;\n        }\n        this.hand = new LinkedList&lt;Card&gt;(dealer.deals(4));\n    }\n\n    public String toString() {\n        return &quot;\\nPlayer &quot; + playerNum + \n               &quot;\\nHas spoon? &quot; + hasSpoon + \n               &quot;\\nIs dealer? &quot; + isDealer + \n               &quot;\\nHand: &quot; + hand\n              + &quot;\\nDealer: &quot; + dealer;\n    }\n\n    public static void main(String[] args) {\n        Player player1 = new Player(1);\n\n        System.out.println(player1);\n    }\n}\n</code></pre>\n<p>Again, this is for school so don't give me the direct answer but I would appreciate to know why this is happening and be pointed in the right direction.</p>\n"},{"tags":["java","java-stream","distinct","hashcode"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1670908314,"post_id":74780214,"comment_id":131976150,"body_markdown":"From the _javadoc_ of method [equals](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) in class `java.lang.Object`: _equal objects must have equal hash codes_","body":"From the <i>javadoc</i> of method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">equals</a> in class <code>java.lang.Object</code>: <i>equal objects must have equal hash codes</i>"},{"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"score":0,"creation_date":1670908582,"post_id":74780214,"comment_id":131976186,"body_markdown":"Thanks Abra for helping, can you expand on that a little?","body":"Thanks Abra for helping, can you expand on that a little?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670908709,"post_id":74780214,"comment_id":131976207,"body_markdown":"[*What issues should be considered when overriding equals and hashCode in Java?*](https://stackoverflow.com/q/27581/642706)","body":"<a href=\"https://stackoverflow.com/q/27581/642706\"><i>What issues should be considered when overriding equals and hashCode in Java?</i></a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1670945350,"post_id":74780214,"comment_id":131987567,"body_markdown":"**Caution:** `if (personId != other.personId)` will fail for most Number instances.  Always compare objects using the `equals` method.  If one or both of them might be null, use [Objects.equals](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Objects.html#equals(java.lang.Object,java.lang.Object)).","body":"<b>Caution:</b> <code>if (personId != other.personId)</code> will fail for most Number instances.  Always compare objects using the <code>equals</code> method.  If one or both of them might be null, use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/Objects.html#equals(java.lang.Object,java.lang.Object)\" rel=\"nofollow noreferrer\">Objects.equals</a>."}],"answers":[{"comments":[{"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"score":0,"creation_date":1670910365,"post_id":74780390,"comment_id":131976420,"body_markdown":"I thought my hashCode is based on the personId field... can you tell me how it is not?\nMore importantly, since it looks like it chooses the instance either by first if ordered or randomly if unordered, then how can I specify stream().distinct() to choose the instance with the most pets so that I can always get a consistent result?","body":"I thought my hashCode is based on the personId field... can you tell me how it is not? More importantly, since it looks like it chooses the instance either by first if ordered or randomly if unordered, then how can I specify stream().distinct() to choose the instance with the most pets so that I can always get a consistent result?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670910463,"post_id":74780390,"comment_id":131976433,"body_markdown":"@Adam Oops, I misread your `hashCode`. I&#39;m working on some more example code, then I will edit that section.","body":"@Adam Oops, I misread your <code>hashCode</code>. I&#39;m working on some more example code, then I will edit that section."},{"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"score":0,"creation_date":1670911051,"post_id":74780390,"comment_id":131976512,"body_markdown":"Okay thanks Basil. And regarding this: &quot;You do not disclose what kind of stream you are using.&quot; I am using java.util.stream, if that helps answer? To be more specific, I am using hibernate, and fetching a DTO projection with a To Many Association, where I use tuples, and use resultList.stream().map(&lt;lot&#39;s of code&gt;).distinct().collect(Collectors.toList()).  Basically what this guy did at 2:05: https://www.youtube.com/watch?v=5oTH_Slettc","body":"Okay thanks Basil. And regarding this: &quot;You do not disclose what kind of stream you are using.&quot; I am using java.util.stream, if that helps answer? To be more specific, I am using hibernate, and fetching a DTO projection with a To Many Association, where I use tuples, and use resultList.stream().map(&lt;lot&#39;s of code&gt;).distinct().collect(Collectors.toList()).  Basically what this guy did at 2:05: <a href=\"https://www.youtube.com/watch?v=5oTH_Slettc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=5oTH_Slettc</a>"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670911478,"post_id":74780390,"comment_id":131976585,"body_markdown":"@Adam Be careful with names. [`java.util.stream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html) is a package, not a class/interface. You meant [`java.util.stream.Stream`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html).","body":"@Adam Be careful with names. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.util.stream</code></a> is a package, not a class/interface. You meant <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>java.util.stream.Stream</code></a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670911748,"post_id":74780390,"comment_id":131976630,"body_markdown":"@Adam Furthermore, `Stream` is an interface, not a concrete class. Your code must use, directly or indirectly, a concrete class that implements that interface. It is up to you to know if that implementation in &quot;ordered&quot; or not, per the Javadoc discussed above, if you want to know which of the multiple equal objects will be chosen by the `distinct` method.","body":"@Adam Furthermore, <code>Stream</code> is an interface, not a concrete class. Your code must use, directly or indirectly, a concrete class that implements that interface. It is up to you to know if that implementation in &quot;ordered&quot; or not, per the Javadoc discussed above, if you want to know which of the multiple equal objects will be chosen by the <code>distinct</code> method."},{"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"score":0,"creation_date":1670912261,"post_id":74780390,"comment_id":131976730,"body_markdown":"Thank you Basil. Can you point me in the direction of how to make the distinct method choose the instance with the most pets?","body":"Thank you Basil. Can you point me in the direction of how to make the distinct method choose the instance with the most pets?"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1670912649,"post_id":74780390,"comment_id":131976800,"body_markdown":"@Adam Your last Comment makes no sense. If the size of `petNames` matters, then the three objects with a `personId` of `1` are *not* equal. So calling `distinct` is no longer relevant or useful. You *could* work on ensuring the stream is ordered, with ordering first by `personId` and then by the size of `petNames` to put first the `Person` object with the longest `petNames`. But I suspect at this point we have ventured into an [XY problem](https://en.wikipedia.org/wiki/XY_problem).","body":"@Adam Your last Comment makes no sense. If the size of <code>petNames</code> matters, then the three objects with a <code>personId</code> of <code>1</code> are <i>not</i> equal. So calling <code>distinct</code> is no longer relevant or useful. You <i>could</i> work on ensuring the stream is ordered, with ordering first by <code>personId</code> and then by the size of <code>petNames</code> to put first the <code>Person</code> object with the longest <code>petNames</code>. But I suspect at this point we have ventured into an <a href=\"https://en.wikipedia.org/wiki/XY_problem\" rel=\"nofollow noreferrer\">XY problem</a>."},{"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"score":0,"creation_date":1670913156,"post_id":74780390,"comment_id":131976895,"body_markdown":"I am querying my database and have a join, and i have more fields in the data tables than what I want for this particular server response, and so I am using data transfer objects. I am selecting only the 4 fields: person_id, name, age, and pets which is the join to my PETS table. As a result I have 5 rows returned, and my code, which I am leaving out of this post, is creating those three instances for Tim, and I want to only get the last instance that has all three pets added to his pets array. Curious why distinct was recommended for this here: https://www.youtube.com/watch?v=5oTH_Slettc","body":"I am querying my database and have a join, and i have more fields in the data tables than what I want for this particular server response, and so I am using data transfer objects. I am selecting only the 4 fields: person_id, name, age, and pets which is the join to my PETS table. As a result I have 5 rows returned, and my code, which I am leaving out of this post, is creating those three instances for Tim, and I want to only get the last instance that has all three pets added to his pets array. Curious why distinct was recommended for this here: <a href=\"https://www.youtube.com/watch?v=5oTH_Slettc\" rel=\"nofollow noreferrer\">youtube.com/watch?v=5oTH_Slettc</a>"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1670920406,"post_id":74780390,"comment_id":131978621,"body_markdown":"Very good coverage! Instead of saying, *The implementations of `equals` and `hashCode` should always use the same logic.*, I would say, *The  `hashCode` method should always be overridden along with `equals` to maintain the general contract between them, which is: equal objects must have equal hash codes.*.","body":"Very good coverage! Instead of saying, <i>The implementations of <code>equals</code> and <code>hashCode</code> should always use the same logic.</i>, I would say, <i>The  <code>hashCode</code> method should always be overridden along with <code>equals</code> to maintain the general contract between them, which is: equal objects must have equal hash codes.</i>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1670955970,"post_id":74780390,"comment_id":131991405,"body_markdown":"@ArvindKumarAvinash Thank you. I copy-pasted your well-said sentence.","body":"@ArvindKumarAvinash Thank you. I copy-pasted your well-said sentence."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670955872,"creation_date":1670909642,"answer_id":74780390,"question_id":74780214,"body_markdown":"# `distinct` uses `equals` method\r\n\r\nDid you read the documentation, the Javadoc for [`Stream#distinct`][1]? Programming by documentation usually works better than programming by intuition.\r\n\r\nThe first sentence says:\r\n\r\n&gt;Returns a stream consisting of the distinct elements (according to Object.equals(Object)) of this stream.\r\n\r\nDid you override the `equals` method? An edit to your Question says you did indeed. \r\n\r\nIn your `equals` method, you compare only the member field `personId`, of type `Long`. So why would you expect the list of pet names to be considered? \r\n\r\nSimilarly, if the three `Tim` objects have different ages such as 28, 48, and 98, that too is irrelevant. Your code says to consider them to be the same as long as the `personId` number is the same. \r\n\r\nYou told the JVM to examine only the id field. So if two `Person` objects have the same 64-bit integer number in their `personId` field, they are considered equal. If the two numbers differ, the two `Person` objects are not equal.\r\n\r\nAs to your more general question about which of two or more equal objects encountered in the stream are kept as the result of `distinct`: Again, read [the documentation][1].\r\n\r\n&gt; For ordered streams, the selection of distinct elements is stable (for duplicated elements, the element appearing first in the encounter order is preserved.) For unordered streams, no stability guarantees are made.\r\n\r\nSo:\r\n\r\n - If you have an ordered stream, the first object wins. Any duplicate objects that follow are eliminated. \r\n - If the stream is not ordered, then any of the objects may win. You should not depend on any particular one to win.\r\n\r\nYou do not disclose what kind of stream you are using. So we cannot know if it is ordered or not. So we can provide no further insight.\r\n\r\n# `equals` &amp; `hashCode` must share same logic\r\n\r\nThe implementations of `equals` and `hashCode` should always use the same logic. The  `hashCode` method should always be overridden along with `equals` to maintain the general contract between them, which is: *equal objects must have equal hash codes.*\r\n\r\nIf for equality you compare the `personId` field, then your hash code should be based on the `personId` field value. \r\n\r\nYou did this correctly in your code. But, you could do so more simply by using `Objects.hash( this.id )`. See this alternate implementation of your code.\r\n\r\n```java\r\npackage work.basil.example.distinct;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\npublic final class Person\r\n{\r\n    private final Long id;\r\n    private final String name;\r\n    private final int age;\r\n    private final List &lt; String &gt; petNames;\r\n\r\n    public Person ( Long id , String name , int age , List &lt; String &gt; petNames )\r\n    {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.age = age;\r\n        this.petNames = petNames;\r\n    }\r\n\r\n    public Long id ( ) { return id; }\r\n\r\n    public String name ( ) { return name; }\r\n\r\n    public int age ( ) { return age; }\r\n\r\n    public List &lt; String &gt; petNames ( ) { return petNames; }\r\n\r\n    @Override\r\n    public boolean equals ( final Object o )\r\n    {\r\n        if ( this == o ) { return true; }\r\n        if ( o == null || getClass() != o.getClass() ) { return false; }\r\n        Person person = ( Person ) o;\r\n        return id.equals( person.id );\r\n    }\r\n\r\n    @Override\r\n    public int hashCode ( )\r\n    {\r\n        return Objects.hash( this.id );\r\n    }\r\n\r\n    @Override\r\n    public String toString ( )\r\n    {\r\n        return &quot;Person[&quot; +\r\n                &quot;id=&quot; + this.id + &quot;, &quot; +\r\n                &quot;name=&quot; + this.name + &quot;, &quot; +\r\n                &quot;age=&quot; + this.age + &quot;, &quot; +\r\n                &quot;petNames=&quot; + this.petNames + &#39;]&#39;;\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe issue of `equals` and `hashCode` needing to share the same logic is covered in the documentation, in the Java literature, and on Stack Overflow extensively. Search to learn more. Start [here](https://stackoverflow.com/q/27581/642706). \r\n\r\n# Example\r\n\r\nHere is an example app using that class above.\r\n\r\n```java\r\npackage work.basil.example.distinct;\r\n\r\nimport java.util.List;\r\n\r\npublic class App\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        List &lt; Person &gt; persons =\r\n                List.of(\r\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; ) ) ,\r\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; , &quot;Cowboy&quot; ) ) ,\r\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; , &quot;Cowboy&quot; , &quot;Fido&quot; ) ) ,\r\n                        new Person( 2L , &quot;Jamie&quot; , 19 , List.of() ) ,\r\n                        new Person( 3L , &quot;Fred&quot; , 23 , List.of() )\r\n                );\r\n        List &lt; Person &gt; personsDistinct = persons.stream().distinct().toList();\r\n\r\n        System.out.println( &quot;persons = &quot; + persons );\r\n        System.out.println( &quot;personsDistinct = &quot; + personsDistinct );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n\r\n&gt;persons = [Person[id=1, name=Tim, age=28, petNames=[Brix]], Person[id=1, name=Tim, age=28, petNames=[Brix, Cowboy]], Person[id=1, name=Tim, age=28, petNames=[Brix, Cowboy, Fido]], Person[id=2, name=Jamie, age=19, petNames=[]], Person[id=3, name=Fred, age=23, petNames=[]]]\r\n&gt;\r\n&gt;personsDistinct = [Person[id=1, name=Tim, age=28, petNames=[Brix]], Person[id=2, name=Jamie, age=19, petNames=[]], Person[id=3, name=Fred, age=23, petNames=[]]]\r\n\r\n\r\n# `record`\r\n\r\nTip: If you want **all the member fields to be considered automatically** for `equals` &amp; `hashCode`, and the main purpose of your class is to **communicate data transparently and immutably,** define your class as a [record][2].\r\n\r\nIn a record, by default, the compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`.\r\n\r\nFurthermore, you can define a record locally as well as define it as a nested class or as a separate class.\r\n\r\n```java\r\nrecord Person( Long id , String name , int age , List &lt; String &gt; petNames ) { }\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\r\n  [2]: https://openjdk.org/jeps/395","title":"How does Java&#39;s Stream.distinct() select which of the duplicates to use","body":"<h1><code>distinct</code> uses <code>equals</code> method</h1>\n<p>Did you read the documentation, the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\"><code>Stream#distinct</code></a>? Programming by documentation usually works better than programming by intuition.</p>\n<p>The first sentence says:</p>\n<blockquote>\n<p>Returns a stream consisting of the distinct elements (according to Object.equals(Object)) of this stream.</p>\n</blockquote>\n<p>Did you override the <code>equals</code> method? An edit to your Question says you did indeed.</p>\n<p>In your <code>equals</code> method, you compare only the member field <code>personId</code>, of type <code>Long</code>. So why would you expect the list of pet names to be considered?</p>\n<p>Similarly, if the three <code>Tim</code> objects have different ages such as 28, 48, and 98, that too is irrelevant. Your code says to consider them to be the same as long as the <code>personId</code> number is the same.</p>\n<p>You told the JVM to examine only the id field. So if two <code>Person</code> objects have the same 64-bit integer number in their <code>personId</code> field, they are considered equal. If the two numbers differ, the two <code>Person</code> objects are not equal.</p>\n<p>As to your more general question about which of two or more equal objects encountered in the stream are kept as the result of <code>distinct</code>: Again, read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#distinct()\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<blockquote>\n<p>For ordered streams, the selection of distinct elements is stable (for duplicated elements, the element appearing first in the encounter order is preserved.) For unordered streams, no stability guarantees are made.</p>\n</blockquote>\n<p>So:</p>\n<ul>\n<li>If you have an ordered stream, the first object wins. Any duplicate objects that follow are eliminated.</li>\n<li>If the stream is not ordered, then any of the objects may win. You should not depend on any particular one to win.</li>\n</ul>\n<p>You do not disclose what kind of stream you are using. So we cannot know if it is ordered or not. So we can provide no further insight.</p>\n<h1><code>equals</code> &amp; <code>hashCode</code> must share same logic</h1>\n<p>The implementations of <code>equals</code> and <code>hashCode</code> should always use the same logic. The  <code>hashCode</code> method should always be overridden along with <code>equals</code> to maintain the general contract between them, which is: <em>equal objects must have equal hash codes.</em></p>\n<p>If for equality you compare the <code>personId</code> field, then your hash code should be based on the <code>personId</code> field value.</p>\n<p>You did this correctly in your code. But, you could do so more simply by using <code>Objects.hash( this.id )</code>. See this alternate implementation of your code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.distinct;\n\nimport java.util.List;\nimport java.util.Objects;\n\npublic final class Person\n{\n    private final Long id;\n    private final String name;\n    private final int age;\n    private final List &lt; String &gt; petNames;\n\n    public Person ( Long id , String name , int age , List &lt; String &gt; petNames )\n    {\n        this.id = id;\n        this.name = name;\n        this.age = age;\n        this.petNames = petNames;\n    }\n\n    public Long id ( ) { return id; }\n\n    public String name ( ) { return name; }\n\n    public int age ( ) { return age; }\n\n    public List &lt; String &gt; petNames ( ) { return petNames; }\n\n    @Override\n    public boolean equals ( final Object o )\n    {\n        if ( this == o ) { return true; }\n        if ( o == null || getClass() != o.getClass() ) { return false; }\n        Person person = ( Person ) o;\n        return id.equals( person.id );\n    }\n\n    @Override\n    public int hashCode ( )\n    {\n        return Objects.hash( this.id );\n    }\n\n    @Override\n    public String toString ( )\n    {\n        return &quot;Person[&quot; +\n                &quot;id=&quot; + this.id + &quot;, &quot; +\n                &quot;name=&quot; + this.name + &quot;, &quot; +\n                &quot;age=&quot; + this.age + &quot;, &quot; +\n                &quot;petNames=&quot; + this.petNames + ']';\n    }\n}\n</code></pre>\n<p>The issue of <code>equals</code> and <code>hashCode</code> needing to share the same logic is covered in the documentation, in the Java literature, and on Stack Overflow extensively. Search to learn more. Start <a href=\"https://stackoverflow.com/q/27581/642706\">here</a>.</p>\n<h1>Example</h1>\n<p>Here is an example app using that class above.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.distinct;\n\nimport java.util.List;\n\npublic class App\n{\n    public static void main ( String[] args )\n    {\n        List &lt; Person &gt; persons =\n                List.of(\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; ) ) ,\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; , &quot;Cowboy&quot; ) ) ,\n                        new Person( 1L , &quot;Tim&quot; , 28 , List.of( &quot;Brix&quot; , &quot;Cowboy&quot; , &quot;Fido&quot; ) ) ,\n                        new Person( 2L , &quot;Jamie&quot; , 19 , List.of() ) ,\n                        new Person( 3L , &quot;Fred&quot; , 23 , List.of() )\n                );\n        List &lt; Person &gt; personsDistinct = persons.stream().distinct().toList();\n\n        System.out.println( &quot;persons = &quot; + persons );\n        System.out.println( &quot;personsDistinct = &quot; + personsDistinct );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<blockquote>\n<p>persons = [Person[id=1, name=Tim, age=28, petNames=[Brix]], Person[id=1, name=Tim, age=28, petNames=[Brix, Cowboy]], Person[id=1, name=Tim, age=28, petNames=[Brix, Cowboy, Fido]], Person[id=2, name=Jamie, age=19, petNames=[]], Person[id=3, name=Fred, age=23, petNames=[]]]</p>\n<p>personsDistinct = [Person[id=1, name=Tim, age=28, petNames=[Brix]], Person[id=2, name=Jamie, age=19, petNames=[]], Person[id=3, name=Fred, age=23, petNames=[]]]</p>\n</blockquote>\n<h1><code>record</code></h1>\n<p>Tip: If you want <strong>all the member fields to be considered automatically</strong> for <code>equals</code> &amp; <code>hashCode</code>, and the main purpose of your class is to <strong>communicate data transparently and immutably,</strong> define your class as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<p>In a record, by default, the compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<p>Furthermore, you can define a record locally as well as define it as a nested class or as a separate class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Person( Long id , String name , int age , List &lt; String &gt; petNames ) { }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27224286,"reputation":9,"user_id":20753018,"display_name":"ZhenHong Fan"},"score":1,"creation_date":1670914391,"post_id":74780881,"comment_id":131977164,"body_markdown":"The bottom stream distinct layer uses HashSet for duplicate processing, and HashSet itself is weighted based on HashMap","body":"The bottom stream distinct layer uses HashSet for duplicate processing, and HashSet itself is weighted based on HashMap"},{"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"score":0,"creation_date":1670914441,"post_id":74780881,"comment_id":131977172,"body_markdown":"Sorry for deleting my comment, I was trying to edit it. This is my edited comment: How do I know my stream is ordered? Sure the instances within are ordered thanks to the sorted method, but is that all this means or is there something else that specifies it such that each insertion of the stream is inserted with order?","body":"Sorry for deleting my comment, I was trying to edit it. This is my edited comment: How do I know my stream is ordered? Sure the instances within are ordered thanks to the sorted method, but is that all this means or is there something else that specifies it such that each insertion of the stream is inserted with order?"},{"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"score":0,"creation_date":1670914702,"post_id":74780881,"comment_id":131977216,"body_markdown":"Can you expand on that a little? Or give me a link or two to read on what you are saying? Thank you! Very interesting!","body":"Can you expand on that a little? Or give me a link or two to read on what you are saying? Thank you! Very interesting!"},{"owner":{"account_id":27224286,"reputation":9,"user_id":20753018,"display_name":"ZhenHong Fan"},"score":1,"creation_date":1670916038,"post_id":74780881,"comment_id":131977508,"body_markdown":"[trying-to-understand-distinct-for-streams-in-java8](https://stackoverflow.com/questions/34562359/trying-to-understand-distinct-for-streams-in-java8)  Maybe this article will help you","body":"<a href=\"https://stackoverflow.com/questions/34562359/trying-to-understand-distinct-for-streams-in-java8\">trying-to-understand-distinct-for-streams-in-java8</a>  Maybe this article will help you"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1670923234,"post_id":74780881,"comment_id":131979568,"body_markdown":"This `compareTo` method is broken. Even if you fix the method, it’s a strongly discouraged idea, to have a natural order that contradicts equality. For example, since your `compareTo` method says that all objects with different ids are equal, the `sorted().distinct()` approach can remove arbitrary elements if an element with a different id exists.","body":"This <code>compareTo</code> method is broken. Even if you fix the method, it’s a strongly discouraged idea, to have a natural order that contradicts equality. For example, since your <code>compareTo</code> method says that all objects with different ids are equal, the <code>sorted().distinct()</code> approach can remove arbitrary elements if an element with a different id exists."},{"owner":{"account_id":27224286,"reputation":9,"user_id":20753018,"display_name":"ZhenHong Fan"},"score":0,"creation_date":1670982017,"post_id":74780881,"comment_id":131997308,"body_markdown":"Thank you very much for your comments. It seems that my method still needs to be discussed. Please forgive me for not understanding what you said\n`the sorted().distinct() approach can remove arbitrary elements if an element with a different id exists.`\nHow does this work, or under what circumstances, can you be more specific? thank you","body":"Thank you very much for your comments. It seems that my method still needs to be discussed. Please forgive me for not understanding what you said <code>the sorted().distinct() approach can remove arbitrary elements if an element with a different id exists.</code> How does this work, or under what circumstances, can you be more specific? thank you"}],"tags":[],"owner":{"account_id":27224286,"reputation":9,"user_id":20753018,"display_name":"ZhenHong Fan"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1670913668,"creation_date":1670913668,"answer_id":74780881,"question_id":74780214,"body_markdown":"you could try to implement the &#39;Comparable&#39; interface and use `stream.sorted()` to sort the `list.size()` in the first place\r\n\r\nCode Example\r\n\r\n    public class Person implements Comparable&lt;Person&gt;\r\noverride `compareTo` method\r\n\r\n    @Override\r\n    public int compareTo(Person person) {\r\n        if (this.getPersonId().equals(person.getPersonId())) {\r\n            if (person.getPetNames().size() &gt; this.getPetNames().size()) {\r\n                return 1;\r\n            } else{\r\n                return -1;\r\n            }\r\n        }\r\n        return 0;\r\n    }\r\nfinally\r\n\r\n    peopleList.stream().sorted().distinct().collect(Collectors.toList())\r\nthanks","title":"How does Java&#39;s Stream.distinct() select which of the duplicates to use","body":"<p>you could try to implement the 'Comparable' interface and use <code>stream.sorted()</code> to sort the <code>list.size()</code> in the first place</p>\n<p>Code Example</p>\n<pre><code>public class Person implements Comparable&lt;Person&gt;\n</code></pre>\n<p>override <code>compareTo</code> method</p>\n<pre><code>@Override\npublic int compareTo(Person person) {\n    if (this.getPersonId().equals(person.getPersonId())) {\n        if (person.getPetNames().size() &gt; this.getPetNames().size()) {\n            return 1;\n        } else{\n            return -1;\n        }\n    }\n    return 0;\n}\n</code></pre>\n<p>finally</p>\n<pre><code>peopleList.stream().sorted().distinct().collect(Collectors.toList())\n</code></pre>\n<p>thanks</p>\n"}],"owner":{"account_id":3447582,"reputation":2110,"user_id":2888009,"accept_rate":38,"display_name":"Adam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":998,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1673594785,"creation_date":1670907917,"question_id":74780214,"body_markdown":"In Java let&#39;s say I have a class called Person. It has four properties: \r\n\r\n1. Long personId\r\n1. String name\r\n1. int age\r\n1. List\\&lt;String\\&gt; petNames\r\n\r\nLet&#39;s say I have an array list variable of people called peopleList:\r\n\r\n1. personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix]\r\n2. personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix, Cowboy]\r\n3. personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix, Cowboy, Fido]\r\n4. personId: 2, name: &quot;Jamie&quot;, age: 19, petNames: []\r\n5. personId: 3, name: &quot;Fred&quot;, age: 23, petNames: []\r\n\r\nI override hashCode and equals of Person class to be this:\r\n``` java\r\n@Override\r\npublic int hashCode() {\r\n    final int prime = 31;\r\n    int result = 1;\r\n    result = prime * result + personId.intValue();\r\n    return result;\r\n}\r\n\r\n@Override\r\npublic boolean equals(Object obj) {\r\n    System.out.println(&quot;Person equals method&quot;);\r\n    if (this == obj)\r\n        return true;\r\n    if (obj == null)\r\n        return false;\r\n    if (getClass() != obj.getClass())\r\n        return false;\r\n    Person other = (Person) obj;\r\n    if (personId != other.personId)\r\n        return false;\r\n    return true;\r\n}\r\n```\r\nAnd then I use `peopleList.stream().distinct().collect(Collectors.toList());` to remove duplicates. I was originally wrong, turns out it selects the first occurrence of Tim which is having only one pet and not the instance with all three pets. My original question though is: **Which instance does distinct() choose?** And that has been answered below.","title":"How does Java&#39;s Stream.distinct() select which of the duplicates to use","body":"<p>In Java let's say I have a class called Person. It has four properties:</p>\n<ol>\n<li>Long personId</li>\n<li>String name</li>\n<li>int age</li>\n<li>List&lt;String&gt; petNames</li>\n</ol>\n<p>Let's say I have an array list variable of people called peopleList:</p>\n<ol>\n<li>personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix]</li>\n<li>personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix, Cowboy]</li>\n<li>personId: 1, name: &quot;Tim&quot;, age: 28, petNames: [Brix, Cowboy, Fido]</li>\n<li>personId: 2, name: &quot;Jamie&quot;, age: 19, petNames: []</li>\n<li>personId: 3, name: &quot;Fred&quot;, age: 23, petNames: []</li>\n</ol>\n<p>I override hashCode and equals of Person class to be this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int hashCode() {\n    final int prime = 31;\n    int result = 1;\n    result = prime * result + personId.intValue();\n    return result;\n}\n\n@Override\npublic boolean equals(Object obj) {\n    System.out.println(&quot;Person equals method&quot;);\n    if (this == obj)\n        return true;\n    if (obj == null)\n        return false;\n    if (getClass() != obj.getClass())\n        return false;\n    Person other = (Person) obj;\n    if (personId != other.personId)\n        return false;\n    return true;\n}\n</code></pre>\n<p>And then I use <code>peopleList.stream().distinct().collect(Collectors.toList());</code> to remove duplicates. I was originally wrong, turns out it selects the first occurrence of Tim which is having only one pet and not the instance with all three pets. My original question though is: <strong>Which instance does distinct() choose?</strong> And that has been answered below.</p>\n"},{"tags":["java","spring-boot","keycloak"],"answers":[{"tags":[],"owner":{"account_id":20672368,"reputation":108,"user_id":15177824,"display_name":"JustM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673594619,"creation_date":1673594619,"answer_id":75105991,"question_id":75097335,"body_markdown":"Check https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3 or https://www.baeldung.com/spring-boot-keycloak both resolved My problem with same issue ","title":"@KeycloakConfiguration implementing method missing","body":"<p>Check <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3\">Use Keycloak Spring Adapter with Spring Boot 3</a> or <a href=\"https://www.baeldung.com/spring-boot-keycloak\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-keycloak</a> both resolved My problem with same issue</p>\n"}],"owner":{"account_id":27509229,"reputation":1,"user_id":20991445,"display_name":"fulvio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673642646,"answer_count":1,"score":0,"last_activity_date":1673594619,"creation_date":1673531440,"question_id":75097335,"body_markdown":"I&#39;m having issue about setting @KeycloakConfiguration, I watched keycloak&#39;s docs and it say that i have to create a class and set all the methods that are set in the documentation\r\n\r\nDocumentation Keycloak:\r\n\r\n```\r\n@KeycloakConfiguration\r\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter\r\n{\r\n    /**\r\n     * Registers the KeycloakAuthenticationProvider with the authentication manager.\r\n     */\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(keycloakAuthenticationProvider());\r\n    }\r\n\r\n    /**\r\n     * Defines the session authentication strategy.\r\n     */\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new RegisterSessionAuthenticationStrategy(buildSessionRegistry());\r\n    }\r\n\r\n    @Bean\r\n    protected SessionRegistry buildSessionRegistry() {\r\n        return new SessionRegistryImpl();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception\r\n    {\r\n        super.configure(http);\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/customers*&quot;).hasRole(&quot;USER&quot;)\r\n                .antMatchers(&quot;/admin*&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .anyRequest().permitAll();\r\n    }\r\n}\r\n```\r\n\r\nso i did, but when i copy and paste that in my class it says that i have to implements two more method of security configurer that are init(Builder:B) void and configure (Builder:B) void, other than that i already have a configure method.\r\n\r\nI saw in the Docs but doesn&#39;t specify what i have to do with these two methods, i would like to know if I&#39;m missing something or if is a feature of the last version of keycloak, the keycloak version that i&#39;m using is the 20.0.2\r\n\r\nmy dependecies are this:\r\n\r\n\r\n```\r\n &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;[enter image description here](https://i.stack.imgur.com/v2En6.png)\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\r\n            &lt;version&gt;20.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\r\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;20.0.2&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;```\r\n\r\n\r\n\r\n \r\n\r\n\r\nAs i say i would like to know what i have to do with these two methods","title":"@KeycloakConfiguration implementing method missing","body":"<p>I'm having issue about setting @KeycloakConfiguration, I watched keycloak's docs and it say that i have to create a class and set all the methods that are set in the documentation</p>\n<p>Documentation Keycloak:</p>\n<pre><code>@KeycloakConfiguration\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter\n{\n    /**\n     * Registers the KeycloakAuthenticationProvider with the authentication manager.\n     */\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(keycloakAuthenticationProvider());\n    }\n\n    /**\n     * Defines the session authentication strategy.\n     */\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(buildSessionRegistry());\n    }\n\n    @Bean\n    protected SessionRegistry buildSessionRegistry() {\n        return new SessionRegistryImpl();\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception\n    {\n        super.configure(http);\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/customers*&quot;).hasRole(&quot;USER&quot;)\n                .antMatchers(&quot;/admin*&quot;).hasRole(&quot;ADMIN&quot;)\n                .anyRequest().permitAll();\n    }\n}\n</code></pre>\n<p>so i did, but when i copy and paste that in my class it says that i have to implements two more method of security configurer that are init(Builder:B) void and configure (Builder:B) void, other than that i already have a configure method.</p>\n<p>I saw in the Docs but doesn't specify what i have to do with these two methods, i would like to know if I'm missing something or if is a feature of the last version of keycloak, the keycloak version that i'm using is the 20.0.2</p>\n<p>my dependecies are this:</p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;[enter image description here](https://i.stack.imgur.com/v2En6.png)\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n            &lt;artifactId&gt;keycloak-spring-security-adapter&lt;/artifactId&gt;\n            &lt;version&gt;20.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.keycloak.bom&lt;/groupId&gt;\n                &lt;artifactId&gt;keycloak-adapter-bom&lt;/artifactId&gt;\n                &lt;version&gt;20.0.2&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;```\n\n\n\n \n\n\nAs i say i would like to know what i have to do with these two methods\n</code></pre>\n"},{"tags":["java","jasper-reports","jfreechart","ireport"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1673639062,"post_id":75101590,"comment_id":132552346,"body_markdown":"What requires `jcommon`? `jfreechart-1.5.4` does not.","body":"What requires <code>jcommon</code>? <code>jfreechart-1.5.4</code> does not."}],"owner":{"account_id":13509087,"reputation":103,"user_id":10441922,"display_name":"Markos Tzetzis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1673594599,"creation_date":1673552983,"question_id":75101590,"body_markdown":"I am trying to customize the space between bars my BarChart with a customizer class.\r\nFollowing the documentation i created a customizer class \r\n\r\n**ChartCustomizer.java**\r\n\r\n    package com.example.jasper;\r\n\r\n    import net.sf.jasperreports.engine.JRChart;\r\n    import net.sf.jasperreports.engine.JRAbstractChartCustomizer;\r\n    import org.jfree.chart.JFreeChart;\r\n    import org.jfree.chart.plot.CategoryPlot;\r\n    import org.jfree.chart.renderer.category.*;\r\n\r\n\r\n    public class ChartCustomizer extends JRAbstractChartCustomizer {\r\n\r\n        @Override\r\n        public void customize(JFreeChart chart, JRChart jasperChart){\r\n\r\n            CategoryPlot categoryPlot = chart.getCategoryPlot();\r\n            BarRenderer br = (BarRenderer) categoryPlot.getRenderer();\r\n\r\n            br.setItemMargin(2.0);\r\n        }\r\n    }\r\n\r\nI extracted the .jar of this on intellij including the needed libs\r\n\r\n 1. jfreechart-1.5.4 \r\n 2. jasperreports-5.6.1\r\n 3. jcommon-1.0.24\r\n\r\nI included the .jar file to the JasperReport classpath\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand i am using the full path name for the class \r\n[![enter image description here][2]][2]\r\n\r\nBUT still i get this error: \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nI am missing something? \r\nThanks for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QJSJU.png\r\n  [2]: https://i.stack.imgur.com/smlys.png\r\n  [3]: https://i.stack.imgur.com/bG2G2.png","title":"Jasper Report: BarChart - ERROR Could not create chart customizer instance","body":"<p>I am trying to customize the space between bars my BarChart with a customizer class.\nFollowing the documentation i created a customizer class</p>\n<p><strong>ChartCustomizer.java</strong></p>\n<pre><code>package com.example.jasper;\n\nimport net.sf.jasperreports.engine.JRChart;\nimport net.sf.jasperreports.engine.JRAbstractChartCustomizer;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.CategoryPlot;\nimport org.jfree.chart.renderer.category.*;\n\n\npublic class ChartCustomizer extends JRAbstractChartCustomizer {\n\n    @Override\n    public void customize(JFreeChart chart, JRChart jasperChart){\n\n        CategoryPlot categoryPlot = chart.getCategoryPlot();\n        BarRenderer br = (BarRenderer) categoryPlot.getRenderer();\n\n        br.setItemMargin(2.0);\n    }\n}\n</code></pre>\n<p>I extracted the .jar of this on intellij including the needed libs</p>\n<ol>\n<li>jfreechart-1.5.4</li>\n<li>jasperreports-5.6.1</li>\n<li>jcommon-1.0.24</li>\n</ol>\n<p>I included the .jar file to the JasperReport classpath</p>\n<p><a href=\"https://i.stack.imgur.com/QJSJU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QJSJU.png\" alt=\"enter image description here\" /></a></p>\n<p>and i am using the full path name for the class\n<a href=\"https://i.stack.imgur.com/smlys.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smlys.png\" alt=\"enter image description here\" /></a></p>\n<p>BUT still i get this error:</p>\n<p><a href=\"https://i.stack.imgur.com/bG2G2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bG2G2.png\" alt=\"enter image description here\" /></a></p>\n<p>I am missing something?\nThanks for your help.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1673594277,"post_id":75105909,"comment_id":132538419,"body_markdown":"There is no point to joining the same thread twice. `join()`ing a thread that is no longer running does nothing and returns immediately. Also, that code is invalid (`exception` isn&#39;t a type).","body":"There is no point to joining the same thread twice. <code>join()</code>ing a thread that is no longer running does nothing and returns immediately. Also, that code is invalid (<code>exception</code> isn&#39;t a type)."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1673594291,"post_id":75105909,"comment_id":132538420,"body_markdown":"For sure the empty catch block is a bad programming pattern and will hide if the second call to join fails.","body":"For sure the empty catch block is a bad programming pattern and will hide if the second call to join fails."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1673595113,"post_id":75105909,"comment_id":132538613,"body_markdown":"What do you _expect_ `join` to do?","body":"What do you <i>expect</i> <code>join</code> to do?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1673615123,"post_id":75105909,"comment_id":132544663,"body_markdown":"@dan1st, OP is coming from C++ background. C++ requires that every `std::thread` instance must either be `join`ed exactly one time or it must be `detach`ed exactly one time.","body":"@dan1st, OP is coming from C++ background. C++ requires that every <code>std::thread</code> instance must either be <code>join</code>ed exactly one time or it must be <code>detach</code>ed exactly one time."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1673615312,"post_id":75105909,"comment_id":132544722,"body_markdown":"@web_zai, The best way to think about Java `join` is: It does _nothing._ It does absolutely nothing at all until the thread is finished, and then it returns. If the thread was already finished, then join does absolutely nothing at all.","body":"@web_zai, The best way to think about Java <code>join</code> is: It does <i>nothing.</i> It does absolutely nothing at all until the thread is finished, and then it returns. If the thread was already finished, then join does absolutely nothing at all."}],"owner":{"account_id":27505174,"reputation":1,"user_id":20988060,"display_name":"web_zai"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673595608,"answer_count":0,"score":0,"last_activity_date":1673594498,"creation_date":1673594001,"question_id":75105909,"body_markdown":"I am new to java.\r\nWhen I review the codebase of my company, I see it do the thread join twice.\r\nSomething like this:\r\n\r\n```\r\nif (timeout) {\r\n    try {\r\n        this.join();\r\n        this.join();\r\n    } catch(exception e) {}\r\n }\r\n```\r\n\r\nAs I learned c/c++, thread will become unjoinable after joined.\r\nDoes anyone know what&#39;s the purpose of this ?\r\n\r\nThanks for help!!\r\n\r\n\r\nI tried ask somebody in my team, but they do not know for sure.","title":"Can thread join twice in java?","body":"<p>I am new to java.\nWhen I review the codebase of my company, I see it do the thread join twice.\nSomething like this:</p>\n<pre><code>if (timeout) {\n    try {\n        this.join();\n        this.join();\n    } catch(exception e) {}\n }\n</code></pre>\n<p>As I learned c/c++, thread will become unjoinable after joined.\nDoes anyone know what's the purpose of this ?</p>\n<p>Thanks for help!!</p>\n<p>I tried ask somebody in my team, but they do not know for sure.</p>\n"},{"tags":["java","android","coordinates","google-maps-android-api-2","point-in-polygon"],"comments":[{"owner":{"account_id":301127,"reputation":5471,"user_id":608667,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1358535239,"post_id":14405593,"comment_id":20045230,"body_markdown":"So to clarify, are you trying to figure out whether or not your touch occurred inside the geographic bounds of the polygon?","body":"So to clarify, are you trying to figure out whether or not your touch occurred inside the geographic bounds of the polygon?"}],"answers":[{"comments":[{"owner":{"account_id":1715225,"reputation":506,"user_id":1572452,"accept_rate":74,"display_name":"Dwill"},"score":0,"creation_date":1358895252,"post_id":14405940,"comment_id":20156916,"body_markdown":"Ok Matt, I got it to work my only problem is if two polygons are on the same x path it treats them as one and uses the same id number for them. Any thoughts?","body":"Ok Matt, I got it to work my only problem is if two polygons are on the same x path it treats them as one and uses the same id number for them. Any thoughts?"},{"owner":{"account_id":301127,"reputation":5471,"user_id":608667,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1358961768,"post_id":14405940,"comment_id":20184432,"body_markdown":"Hmm, could you elaborate further?  What I am imagining you&#39;re saying is that if two polygons share an edge, the app treats them as one polygon?","body":"Hmm, could you elaborate further?  What I am imagining you&#39;re saying is that if two polygons share an edge, the app treats them as one polygon?"},{"owner":{"account_id":301127,"reputation":5471,"user_id":608667,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1361908822,"post_id":14405940,"comment_id":21239836,"body_markdown":"I&#39;m not sure what the issue is.  That function should return true if your tap was to the left of the line segment you are testing.  You need to run this function on every set of adjacent points in your polygon, and gather the number of times this function returned true.","body":"I&#39;m not sure what the issue is.  That function should return true if your tap was to the left of the line segment you are testing.  You need to run this function on every set of adjacent points in your polygon, and gather the number of times this function returned true."},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1413739699,"post_id":14405940,"comment_id":41547393,"body_markdown":"How to do for `Polyline`?","body":"How to do for <code>Polyline</code>?"},{"owner":{"account_id":301127,"reputation":5471,"user_id":608667,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1413838092,"post_id":14405940,"comment_id":41586699,"body_markdown":"@MuhammadBabar are you asking how to figure out if a Point is on a Polyline? Or if a Polyline is inside a Polygon?","body":"@MuhammadBabar are you asking how to figure out if a Point is on a Polyline? Or if a Polyline is inside a Polygon?"},{"owner":{"account_id":2193082,"reputation":8094,"user_id":1939564,"display_name":"Muhammad Babar"},"score":0,"creation_date":1413867348,"post_id":14405940,"comment_id":41594642,"body_markdown":"@Matt for `Point is on a Polyline`. Actually i want to detect touch/click on `Polyline` in android.","body":"@Matt for <code>Point is on a Polyline</code>. Actually i want to detect touch/click on <code>Polyline</code> in android."},{"owner":{"account_id":301127,"reputation":5471,"user_id":608667,"accept_rate":75,"display_name":"Matt"},"score":2,"creation_date":1413915357,"post_id":14405940,"comment_id":41620465,"body_markdown":"@MuhammadBabar I would ask that on a separate thread. There&#39;s a couple ways of approaching that problem. It&#39;s tricky because of the need for a tappable area buffer (the odds the user would tap exactly on the line are very slim)","body":"@MuhammadBabar I would ask that on a separate thread. There&#39;s a couple ways of approaching that problem. It&#39;s tricky because of the need for a tappable area buffer (the odds the user would tap exactly on the line are very slim)"},{"owner":{"account_id":4951203,"reputation":7272,"user_id":3985071,"accept_rate":54,"display_name":"Arpit Patel"},"score":0,"creation_date":1592494831,"post_id":14405940,"comment_id":110452275,"body_markdown":"mMap.setOnPolygonClickListener you can get the polygon points.","body":"mMap.setOnPolygonClickListener you can get the polygon points."}],"tags":[],"owner":{"account_id":301127,"reputation":5471,"user_id":608667,"accept_rate":75,"display_name":"Matt"},"comment_count":8,"down_vote_count":0,"up_vote_count":25,"is_accepted":true,"score":25,"last_activity_date":1358537720,"creation_date":1358536343,"answer_id":14405940,"question_id":14405593,"body_markdown":"The problem you&#39;re trying to solve is the [Point in Polygon][1] test.\r\n    \r\n&lt;blockquote&gt;\r\nTo help visualize the concept of Ray Casting:&lt;br&gt;&lt;br&gt;\r\nDraw a Polygon on a piece of paper.  Then, starting at any random point, draw a straight line to the right of the page.  If your line intersected with your polygon an odd number of times, this means your starting point was inside the Polygon.\r\n&lt;/blockquote&gt;\r\n&lt;br&gt;\r\nSo, how do you do that in code?\r\n\r\nYour polygon is comprised of a list of vertices:  `ArrayList&lt;Geopoint&gt; vertices`.  You need to look at each `Line Segment` individually, and see if your `Ray` intersects it\r\n\r\n    private boolean isPointInPolygon(Geopoint tap, ArrayList&lt;Geopoint&gt; vertices) {\r\n        int intersectCount = 0;\r\n        for(int j=0; j&lt;vertices.size()-1; j++) {\r\n            if( rayCastIntersect(tap, vertices.get(j), vertices.get(j+1)) ) {\r\n                intersectCount++;\r\n            }\r\n        }\r\n        \t\r\n        return (intersectCount%2) == 1); // odd = inside, even = outside;\r\n    }\r\n\r\n    private boolean rayCastIntersect(Geopoint tap, Geopoint vertA, Geopoint vertB) {\r\n    \t\r\n    \tdouble aY = vertA.getLatitude();\r\n    \tdouble bY = vertB.getLatitude();\r\n    \tdouble aX = vertA.getLongitude();\r\n    \tdouble bX = vertB.getLongitude();\r\n    \tdouble pY = tap.getLatitude();\r\n    \tdouble pX = tap.getLongitude();\r\n    \t\r\n    \tif ( (aY&gt;pY &amp;&amp; bY&gt;pY) || (aY&lt;pY &amp;&amp; bY&lt;pY) || (aX&lt;pX &amp;&amp; bX&lt;pX) ) {\r\n    \t\treturn false; // a and b can&#39;t both be above or below pt.y, and a or b must be east of pt.x\r\n    \t}\r\n    \t\r\n    \tdouble m = (aY-bY) / (aX-bX); \t\t\t\t// Rise over run\r\n    \tdouble bee = (-aX) * m + aY;  \t\t\t\t// y = mx + b\r\n    \tdouble x = (pY - bee) / m; \t                // algebra is neat!\r\n    \t\r\n    \treturn x &gt; pX;\r\n    }\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Point_in_polygon","title":"Polygon Touch detection Google Map API V2","body":"<p>The problem you're trying to solve is the <a href=\"http://en.wikipedia.org/wiki/Point_in_polygon\" rel=\"noreferrer\">Point in Polygon</a> test.</p>\n\n<blockquote>\nTo help visualize the concept of Ray Casting:<br><br>\nDraw a Polygon on a piece of paper.  Then, starting at any random point, draw a straight line to the right of the page.  If your line intersected with your polygon an odd number of times, this means your starting point was inside the Polygon.\n</blockquote>\n\n<p><br>\nSo, how do you do that in code?</p>\n\n<p>Your polygon is comprised of a list of vertices:  <code>ArrayList&lt;Geopoint&gt; vertices</code>.  You need to look at each <code>Line Segment</code> individually, and see if your <code>Ray</code> intersects it</p>\n\n<pre><code>private boolean isPointInPolygon(Geopoint tap, ArrayList&lt;Geopoint&gt; vertices) {\n    int intersectCount = 0;\n    for(int j=0; j&lt;vertices.size()-1; j++) {\n        if( rayCastIntersect(tap, vertices.get(j), vertices.get(j+1)) ) {\n            intersectCount++;\n        }\n    }\n\n    return (intersectCount%2) == 1); // odd = inside, even = outside;\n}\n\nprivate boolean rayCastIntersect(Geopoint tap, Geopoint vertA, Geopoint vertB) {\n\n    double aY = vertA.getLatitude();\n    double bY = vertB.getLatitude();\n    double aX = vertA.getLongitude();\n    double bX = vertB.getLongitude();\n    double pY = tap.getLatitude();\n    double pX = tap.getLongitude();\n\n    if ( (aY&gt;pY &amp;&amp; bY&gt;pY) || (aY&lt;pY &amp;&amp; bY&lt;pY) || (aX&lt;pX &amp;&amp; bX&lt;pX) ) {\n        return false; // a and b can't both be above or below pt.y, and a or b must be east of pt.x\n    }\n\n    double m = (aY-bY) / (aX-bX);               // Rise over run\n    double bee = (-aX) * m + aY;                // y = mx + b\n    double x = (pY - bee) / m;                  // algebra is neat!\n\n    return x &gt; pX;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2051151,"reputation":1570,"user_id":1830141,"accept_rate":78,"display_name":"dm78"},"score":1,"creation_date":1381085437,"post_id":18634895,"comment_id":28431825,"body_markdown":"This is somewhat incorrect.  [`onMapClick(LatLng point)` Called when the user makes a tap gesture on the map, but only if none of the overlays of the map handled the gesture.](http://developer.android.com/reference/com/google/android/gms/maps/GoogleMap.OnMapClickListener.html#onMapClick(com.google.android.gms.maps.model.LatLng)).  I cannot find any way for permit a polygon or overlay to handle such an event.  So it seems that `onMapClick()` will be called.","body":"This is somewhat incorrect.  <a href=\"http://developer.android.com/reference/com/google/android/gms/maps/GoogleMap.OnMapClickListener.html#onMapClick(com.google.android.gms.maps.model.LatLng)\" rel=\"nofollow noreferrer\"><code>onMapClick(LatLng point)</code> Called when the user makes a tap gesture on the map, but only if none of the overlays of the map handled the gesture.</a>.  I cannot find any way for permit a polygon or overlay to handle such an event.  So it seems that <code>onMapClick()</code> will be called."}],"tags":[],"owner":{"account_id":1016877,"reputation":4098,"user_id":1028256,"accept_rate":43,"display_name":"Mixaz"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1378379831,"creation_date":1378379831,"answer_id":18634895,"question_id":14405593,"body_markdown":"Just for consistency - onMapClick is not called when user taps on a polygon (or other overlay), and it&#39;s mentioned in javadoc.\r\n\r\nI made a workaround to intercept taps events before MapFragment handles them, and project point to map coordinates and check if the point is inside any polygon, as suggested in other answer.\r\n\r\nSee more details [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18445191/android-google-map-polygon-click-event","title":"Polygon Touch detection Google Map API V2","body":"<p>Just for consistency - onMapClick is not called when user taps on a polygon (or other overlay), and it's mentioned in javadoc.</p>\n\n<p>I made a workaround to intercept taps events before MapFragment handles them, and project point to map coordinates and check if the point is inside any polygon, as suggested in other answer.</p>\n\n<p>See more details <a href=\"https://stackoverflow.com/questions/18445191/android-google-map-polygon-click-event\">here</a></p>\n"},{"comments":[{"owner":{"account_id":2343554,"reputation":4272,"user_id":2054348,"accept_rate":50,"display_name":"Sagar Shah"},"score":0,"creation_date":1439468852,"post_id":30170825,"comment_id":51880832,"body_markdown":"This is more Accurate method. And This is really working like charm. Appreciate this answer. Should believe this method as Its from Google Map Utility itself.","body":"This is more Accurate method. And This is really working like charm. Appreciate this answer. Should believe this method as Its from Google Map Utility itself."}],"tags":[],"owner":{"account_id":1629667,"reputation":666,"user_id":1504495,"accept_rate":86,"display_name":"user1504495"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1431355690,"creation_date":1431355690,"answer_id":30170825,"question_id":14405593,"body_markdown":"The Google Maps Support library now has a static method that does this check for you:\r\n\r\n    PolyUtil.containsLocation(LatLng point, List&lt;LatLng&gt;polygon, boolean geodesic);\r\n\r\nAlthough the docs don&#39;t mention it explicitly in the guide the method is there\r\n\r\n[Maps Support Library docs][1]\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android/utility/","title":"Polygon Touch detection Google Map API V2","body":"<p>The Google Maps Support library now has a static method that does this check for you:</p>\n\n<pre><code>PolyUtil.containsLocation(LatLng point, List&lt;LatLng&gt;polygon, boolean geodesic);\n</code></pre>\n\n<p>Although the docs don't mention it explicitly in the guide the method is there</p>\n\n<p><a href=\"https://developers.google.com/maps/documentation/android/utility/\">Maps Support Library docs</a></p>\n"},{"tags":[],"owner":{"account_id":1862982,"reputation":2053,"user_id":1687169,"display_name":"whizzle"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1436483392,"creation_date":1436483392,"answer_id":31329842,"question_id":14405593,"body_markdown":"Here&#39;s a full working example to know if a touch happened on a polygon. Some of the answers are more complicated than they need to be. This solution uses the &quot;android-maps-utils&quot; \r\n\r\n\r\n\r\n    // compile &#39;com.google.maps.android:android-maps-utils:0.3.4&#39;\r\n    private ArrayList&lt;Polygon&gt; polygonList = new ArrayList&lt;&gt;();\r\n\r\n    private void addMyPolygons() {\r\n        PolygonOptions options = new PolygonOptions();\r\n        // TODO: make your polygon&#39;s however you want\r\n        Polygon polygon = googleMap.addPolygon(options);\r\n        polygonList.add(polygon);\r\n    }\r\n\r\n    @Override\r\n\tpublic void onMapClick(LatLng point) {\r\n\t\tboolean contains = false;\r\n\t\tfor (Polygon p : polygonList) {\r\n\t\t\tcontains = PolyUtil.containsLocation(point, p.getPoints(), false);\r\n\t\t\tif (contains) break;\r\n\t\t}\r\n\t\tToast.makeText(getActivity(), &quot;Click in polygon? &quot;\r\n\t\t\t\t+ contains, Toast.LENGTH_SHORT).show();\r\n\t}\r\n\r\n    @Override\r\n\tprotected void onMapReady(View view, Bundle savedInstanceState) {\r\n\t\tgoogleMap.setOnMapClickListener(this);\r\n\t\taddMyPolygons();\r\n\t}","title":"Polygon Touch detection Google Map API V2","body":"<p>Here's a full working example to know if a touch happened on a polygon. Some of the answers are more complicated than they need to be. This solution uses the \"android-maps-utils\" </p>\n\n<pre><code>// compile 'com.google.maps.android:android-maps-utils:0.3.4'\nprivate ArrayList&lt;Polygon&gt; polygonList = new ArrayList&lt;&gt;();\n\nprivate void addMyPolygons() {\n    PolygonOptions options = new PolygonOptions();\n    // TODO: make your polygon's however you want\n    Polygon polygon = googleMap.addPolygon(options);\n    polygonList.add(polygon);\n}\n\n@Override\npublic void onMapClick(LatLng point) {\n    boolean contains = false;\n    for (Polygon p : polygonList) {\n        contains = PolyUtil.containsLocation(point, p.getPoints(), false);\n        if (contains) break;\n    }\n    Toast.makeText(getActivity(), \"Click in polygon? \"\n            + contains, Toast.LENGTH_SHORT).show();\n}\n\n@Override\nprotected void onMapReady(View view, Bundle savedInstanceState) {\n    googleMap.setOnMapClickListener(this);\n    addMyPolygons();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1631775,"reputation":863,"user_id":1506153,"accept_rate":50,"display_name":"Emanuel"},"score":1,"creation_date":1596115465,"post_id":31988461,"comment_id":111712508,"body_markdown":"This answer works for me. Is it possible though to add a tolerance? So if the given location is let&#39;s say 50 meters outside of the polygon it still verifies it as valid?","body":"This answer works for me. Is it possible though to add a tolerance? So if the given location is let&#39;s say 50 meters outside of the polygon it still verifies it as valid?"}],"tags":[],"owner":{"account_id":2343554,"reputation":4272,"user_id":2054348,"accept_rate":50,"display_name":"Sagar Shah"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439470720,"creation_date":1439469424,"answer_id":31988461,"question_id":14405593,"body_markdown":"Though user1504495 has answered in short as I have used it. But instead of using whole [Map Utility Library][1] Use this methods.\r\n\r\nFrom your activity class pass params accordingly:\r\n\r\n    if (area.containsLocation(Touchablelatlong, listLatlong, true))\r\n                    isMarkerINSide = true;\r\n                else\r\n                    isMarkerINSide = false;\r\n\r\n and put following  in a Separate class :\r\n\r\n\r\n  [1]: https://developers.google.com/maps/documentation/android/utility/\r\n\r\n\r\n    /**\r\n         * Computes whether the given point lies inside the specified polygon.\r\n         * The polygon is always cosidered closed, regardless of whether the last point equals\r\n         * the first or not.\r\n         * Inside is defined as not containing the South Pole -- the South Pole is always outside.\r\n         * The polygon is formed of great circle segments if geodesic is true, and of rhumb\r\n         * (loxodromic) segments otherwise.\r\n         */\r\n        public static boolean containsLocation(LatLng point, List&lt;LatLng&gt; polygon, boolean geodesic) {\r\n            final int size = polygon.size();\r\n            if (size == 0) {\r\n                return false;\r\n            }\r\n            double lat3 = toRadians(point.latitude);\r\n            double lng3 = toRadians(point.longitude);\r\n            LatLng prev = polygon.get(size - 1);\r\n            double lat1 = toRadians(prev.latitude);\r\n            double lng1 = toRadians(prev.longitude);\r\n            int nIntersect = 0;\r\n            for (LatLng point2 : polygon) {\r\n                double dLng3 = wrap(lng3 - lng1, -PI, PI);\r\n                // Special case: point equal to vertex is inside.\r\n                if (lat3 == lat1 &amp;&amp; dLng3 == 0) {\r\n                    return true;\r\n                }\r\n                double lat2 = toRadians(point2.latitude);\r\n                double lng2 = toRadians(point2.longitude);\r\n                // Offset longitudes by -lng1.\r\n                if (intersects(lat1, lat2, wrap(lng2 - lng1, -PI, PI), lat3, dLng3, geodesic)) {\r\n                    ++nIntersect;\r\n                }\r\n                lat1 = lat2;\r\n                lng1 = lng2;\r\n            }\r\n            return (nIntersect &amp; 1) != 0;\r\n        }\r\n    \r\n        /**\r\n         * Wraps the given value into the inclusive-exclusive interval between min and max.\r\n         * @param n   The value to wrap.\r\n         * @param min The minimum.\r\n         * @param max The maximum.\r\n         */\r\n        static double wrap(double n, double min, double max) {\r\n            return (n &gt;= min &amp;&amp; n &lt; max) ? n : (mod(n - min, max - min) + min);\r\n        }\r\n    \r\n        /**\r\n         * Returns the non-negative remainder of x / m.\r\n         * @param x The operand.\r\n         * @param m The modulus.\r\n         */\r\n        static double mod(double x, double m) {\r\n            return ((x % m) + m) % m;\r\n        }\r\n    \r\n        /**\r\n         * Computes whether the vertical segment (lat3, lng3) to South Pole intersects the segment\r\n         * (lat1, lng1) to (lat2, lng2).\r\n         * Longitudes are offset by -lng1; the implicit lng1 becomes 0.\r\n         */\r\n        private static boolean intersects(double lat1, double lat2, double lng2,\r\n                                          double lat3, double lng3, boolean geodesic) {\r\n            // Both ends on the same side of lng3.\r\n            if ((lng3 &gt;= 0 &amp;&amp; lng3 &gt;= lng2) || (lng3 &lt; 0 &amp;&amp; lng3 &lt; lng2)) {\r\n                return false;\r\n            }\r\n            // Point is South Pole.\r\n            if (lat3 &lt;= -PI/2) {\r\n                return false;\r\n            }\r\n            // Any segment end is a pole.\r\n            if (lat1 &lt;= -PI/2 || lat2 &lt;= -PI/2 || lat1 &gt;= PI/2 || lat2 &gt;= PI/2) {\r\n                return false;\r\n            }\r\n            if (lng2 &lt;= -PI) {\r\n                return false;\r\n            }\r\n            double linearLat = (lat1 * (lng2 - lng3) + lat2 * lng3) / lng2;\r\n            // Northern hemisphere and point under lat-lng line.\r\n            if (lat1 &gt;= 0 &amp;&amp; lat2 &gt;= 0 &amp;&amp; lat3 &lt; linearLat) {\r\n                return false;\r\n            }\r\n            // Southern hemisphere and point above lat-lng line.\r\n            if (lat1 &lt;= 0 &amp;&amp; lat2 &lt;= 0 &amp;&amp; lat3 &gt;= linearLat) {\r\n                return true;\r\n            }\r\n            // North Pole.\r\n            if (lat3 &gt;= PI/2) {\r\n                return true;\r\n            }\r\n            // Compare lat3 with latitude on the GC/Rhumb segment corresponding to lng3.\r\n            // Compare through a strictly-increasing function (tan() or mercator()) as convenient.\r\n            return geodesic ?\r\n                    tan(lat3) &gt;= tanLatGC(lat1, lat2, lng2, lng3) :\r\n                    mercator(lat3) &gt;= mercatorLatRhumb(lat1, lat2, lng2, lng3);\r\n        }\r\n    \r\n        /**\r\n         * Returns tan(latitude-at-lng3) on the great circle (lat1, lng1) to (lat2, lng2). lng1==0.\r\n         * See http://williams.best.vwh.net/avform.htm .\r\n         */\r\n        private static double tanLatGC(double lat1, double lat2, double lng2, double lng3) {\r\n            return (tan(lat1) * sin(lng2 - lng3) + tan(lat2) * sin(lng3)) / sin(lng2);\r\n        }\r\n    \r\n        /**\r\n         * Returns mercator Y corresponding to latitude.\r\n         * See http://en.wikipedia.org/wiki/Mercator_projection .\r\n         */\r\n        static double mercator(double lat) {\r\n            return log(tan(lat * 0.5 + PI/4));\r\n        }\r\n    \r\n        /**\r\n         * Returns mercator(latitude-at-lng3) on the Rhumb line (lat1, lng1) to (lat2, lng2). lng1==0.\r\n         */\r\n        private static double mercatorLatRhumb(double lat1, double lat2, double lng2, double lng3) {\r\n            return (mercator(lat1) * (lng2 - lng3) + mercator(lat2) * lng3) / lng2;\r\n        } \r\n\r\n","title":"Polygon Touch detection Google Map API V2","body":"<p>Though user1504495 has answered in short as I have used it. But instead of using whole <a href=\"https://developers.google.com/maps/documentation/android/utility/\" rel=\"nofollow\">Map Utility Library</a> Use this methods.</p>\n\n<p>From your activity class pass params accordingly:</p>\n\n<pre><code>if (area.containsLocation(Touchablelatlong, listLatlong, true))\n                isMarkerINSide = true;\n            else\n                isMarkerINSide = false;\n</code></pre>\n\n<p>and put following  in a Separate class :</p>\n\n<pre><code>/**\n     * Computes whether the given point lies inside the specified polygon.\n     * The polygon is always cosidered closed, regardless of whether the last point equals\n     * the first or not.\n     * Inside is defined as not containing the South Pole -- the South Pole is always outside.\n     * The polygon is formed of great circle segments if geodesic is true, and of rhumb\n     * (loxodromic) segments otherwise.\n     */\n    public static boolean containsLocation(LatLng point, List&lt;LatLng&gt; polygon, boolean geodesic) {\n        final int size = polygon.size();\n        if (size == 0) {\n            return false;\n        }\n        double lat3 = toRadians(point.latitude);\n        double lng3 = toRadians(point.longitude);\n        LatLng prev = polygon.get(size - 1);\n        double lat1 = toRadians(prev.latitude);\n        double lng1 = toRadians(prev.longitude);\n        int nIntersect = 0;\n        for (LatLng point2 : polygon) {\n            double dLng3 = wrap(lng3 - lng1, -PI, PI);\n            // Special case: point equal to vertex is inside.\n            if (lat3 == lat1 &amp;&amp; dLng3 == 0) {\n                return true;\n            }\n            double lat2 = toRadians(point2.latitude);\n            double lng2 = toRadians(point2.longitude);\n            // Offset longitudes by -lng1.\n            if (intersects(lat1, lat2, wrap(lng2 - lng1, -PI, PI), lat3, dLng3, geodesic)) {\n                ++nIntersect;\n            }\n            lat1 = lat2;\n            lng1 = lng2;\n        }\n        return (nIntersect &amp; 1) != 0;\n    }\n\n    /**\n     * Wraps the given value into the inclusive-exclusive interval between min and max.\n     * @param n   The value to wrap.\n     * @param min The minimum.\n     * @param max The maximum.\n     */\n    static double wrap(double n, double min, double max) {\n        return (n &gt;= min &amp;&amp; n &lt; max) ? n : (mod(n - min, max - min) + min);\n    }\n\n    /**\n     * Returns the non-negative remainder of x / m.\n     * @param x The operand.\n     * @param m The modulus.\n     */\n    static double mod(double x, double m) {\n        return ((x % m) + m) % m;\n    }\n\n    /**\n     * Computes whether the vertical segment (lat3, lng3) to South Pole intersects the segment\n     * (lat1, lng1) to (lat2, lng2).\n     * Longitudes are offset by -lng1; the implicit lng1 becomes 0.\n     */\n    private static boolean intersects(double lat1, double lat2, double lng2,\n                                      double lat3, double lng3, boolean geodesic) {\n        // Both ends on the same side of lng3.\n        if ((lng3 &gt;= 0 &amp;&amp; lng3 &gt;= lng2) || (lng3 &lt; 0 &amp;&amp; lng3 &lt; lng2)) {\n            return false;\n        }\n        // Point is South Pole.\n        if (lat3 &lt;= -PI/2) {\n            return false;\n        }\n        // Any segment end is a pole.\n        if (lat1 &lt;= -PI/2 || lat2 &lt;= -PI/2 || lat1 &gt;= PI/2 || lat2 &gt;= PI/2) {\n            return false;\n        }\n        if (lng2 &lt;= -PI) {\n            return false;\n        }\n        double linearLat = (lat1 * (lng2 - lng3) + lat2 * lng3) / lng2;\n        // Northern hemisphere and point under lat-lng line.\n        if (lat1 &gt;= 0 &amp;&amp; lat2 &gt;= 0 &amp;&amp; lat3 &lt; linearLat) {\n            return false;\n        }\n        // Southern hemisphere and point above lat-lng line.\n        if (lat1 &lt;= 0 &amp;&amp; lat2 &lt;= 0 &amp;&amp; lat3 &gt;= linearLat) {\n            return true;\n        }\n        // North Pole.\n        if (lat3 &gt;= PI/2) {\n            return true;\n        }\n        // Compare lat3 with latitude on the GC/Rhumb segment corresponding to lng3.\n        // Compare through a strictly-increasing function (tan() or mercator()) as convenient.\n        return geodesic ?\n                tan(lat3) &gt;= tanLatGC(lat1, lat2, lng2, lng3) :\n                mercator(lat3) &gt;= mercatorLatRhumb(lat1, lat2, lng2, lng3);\n    }\n\n    /**\n     * Returns tan(latitude-at-lng3) on the great circle (lat1, lng1) to (lat2, lng2). lng1==0.\n     * See http://williams.best.vwh.net/avform.htm .\n     */\n    private static double tanLatGC(double lat1, double lat2, double lng2, double lng3) {\n        return (tan(lat1) * sin(lng2 - lng3) + tan(lat2) * sin(lng3)) / sin(lng2);\n    }\n\n    /**\n     * Returns mercator Y corresponding to latitude.\n     * See http://en.wikipedia.org/wiki/Mercator_projection .\n     */\n    static double mercator(double lat) {\n        return log(tan(lat * 0.5 + PI/4));\n    }\n\n    /**\n     * Returns mercator(latitude-at-lng3) on the Rhumb line (lat1, lng1) to (lat2, lng2). lng1==0.\n     */\n    private static double mercatorLatRhumb(double lat1, double lat2, double lng2, double lng3) {\n        return (mercator(lat1) * (lng2 - lng3) + mercator(lat2) * lng3) / lng2;\n    } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":3100197,"reputation":1792,"user_id":2624525,"accept_rate":43,"display_name":"Samad"},"score":0,"creation_date":1464435592,"post_id":34418732,"comment_id":62491987,"body_markdown":"how to detect which polygon is clicked?","body":"how to detect which polygon is clicked?"},{"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"score":0,"creation_date":1464453240,"post_id":34418732,"comment_id":62497629,"body_markdown":"@Delta it&#39;s the polygon you receive in the listener.","body":"@Delta it&#39;s the polygon you receive in the listener."},{"owner":{"account_id":3100197,"reputation":1792,"user_id":2624525,"accept_rate":43,"display_name":"Samad"},"score":0,"creation_date":1464494525,"post_id":34418732,"comment_id":62506713,"body_markdown":"I made a class for polygons that contains IDs but I can&#39;t set an ID for a polygon,so how can I figure out polygon&#39;s Id?","body":"I made a class for polygons that contains IDs but I can&#39;t set an ID for a polygon,so how can I figure out polygon&#39;s Id?"},{"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"score":1,"creation_date":1464498578,"post_id":34418732,"comment_id":62507319,"body_markdown":"@Delta7 You could just create a Map&lt;Polygon, Integer&gt; for the references, and add there any Polygons you add to the map. That way you can do a lookup to find the associated id.","body":"@Delta7 You could just create a Map&lt;Polygon, Integer&gt; for the references, and add there any Polygons you add to the map. That way you can do a lookup to find the associated id."},{"owner":{"account_id":369157,"reputation":2093,"user_id":716371,"accept_rate":95,"display_name":"Gereltod"},"score":0,"creation_date":1470628199,"post_id":34418732,"comment_id":65008706,"body_markdown":"Can you retrieve clicked coordinate from Polygon?","body":"Can you retrieve clicked coordinate from Polygon?"},{"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"score":0,"creation_date":1470679590,"post_id":34418732,"comment_id":65036990,"body_markdown":"@Gereltod As far as I know, no. Sorry.","body":"@Gereltod As far as I know, no. Sorry."},{"owner":{"account_id":67276,"reputation":36662,"user_id":196919,"accept_rate":96,"display_name":"NoWar"},"score":0,"creation_date":1514192451,"post_id":34418732,"comment_id":82903834,"body_markdown":"How to get info associated with Polygon? Let&#39;s say some description and PolygonID.","body":"How to get info associated with Polygon? Let&#39;s say some description and PolygonID."},{"owner":{"account_id":334755,"reputation":560,"user_id":661414,"accept_rate":0,"display_name":"Leukipp"},"score":0,"creation_date":1520454828,"post_id":34418732,"comment_id":85326974,"body_markdown":"You have to make the polygon clickable, e.g., `polygon.setClickable(true);`. Otherwise, `onPolygonClick()` is not called. (cf. https://stackoverflow.com/a/36043409/661414). @el-programmer: You can add a tag to a polygon which takes any object (e.g., and ID). See https://developers.google.com/android/reference/com/google/android/gms/maps/model/Polygon.html#setTag(java.lang.Object))","body":"You have to make the polygon clickable, e.g., <code>polygon.setClickable(true);</code>. Otherwise, <code>onPolygonClick()</code> is not called. (cf. <a href=\"https://stackoverflow.com/a/36043409/661414\">stackoverflow.com/a/36043409/661414</a>). @el-programmer: You can add a tag to a polygon which takes any object (e.g., and ID). See <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/model/Polygon.html#setTag(java.lang.Object)\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a>)"}],"tags":[],"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"comment_count":8,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1450796989,"creation_date":1450796664,"answer_id":34418732,"question_id":14405593,"body_markdown":"With the [release of Google Play Services 8.4.0][1], the Maps API has included support for adding an [`OnPolygonClickListener`][2] to Polygons. Both [polygons][3], [polylines][4] and [overlays][5] support similar events.\r\n\r\nYou just need to call [`GoogleMap.setOnPolygonClickListener(OnPolygonClickListener listener)`][6] to set it up, and correspondingly for the other listeners (`setOnPolylineClickListener`, &amp;c):\r\n\r\n    map.setOnPolygonClickListener(new GoogleMap.OnPolygonClickListener() {  \r\n        @Override  \r\n        public void onPolygonClick(Polygon polygon) {  \r\n            // Handle click ...  \r\n        }  \r\n    });  \r\n\r\nAlthough a bit late, it solves this use case quite nicely.\r\n\r\n\r\n  [1]: http://android-developers.blogspot.com/2015/12/google-play-services-84-sdk-is-available_18.html\r\n  [2]: https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnPolygonClickListener\r\n  [3]: https://developers.google.com/maps/documentation/android-api/shapes#polygon_events\r\n  [4]: https://developers.google.com/maps/documentation/android-api/shapes#polyline_events\r\n  [5]: https://developers.google.com/maps/documentation/android-api/groundoverlay#handle_ground_overlay_events\r\n  [6]: https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html#setOnPolygonClickListener%28com.google.android.gms.maps.GoogleMap.OnPolygonClickListener%29","title":"Polygon Touch detection Google Map API V2","body":"<p>With the <a href=\"http://android-developers.blogspot.com/2015/12/google-play-services-84-sdk-is-available_18.html\" rel=\"noreferrer\">release of Google Play Services 8.4.0</a>, the Maps API has included support for adding an <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnPolygonClickListener\" rel=\"noreferrer\"><code>OnPolygonClickListener</code></a> to Polygons. Both <a href=\"https://developers.google.com/maps/documentation/android-api/shapes#polygon_events\" rel=\"noreferrer\">polygons</a>, <a href=\"https://developers.google.com/maps/documentation/android-api/shapes#polyline_events\" rel=\"noreferrer\">polylines</a> and <a href=\"https://developers.google.com/maps/documentation/android-api/groundoverlay#handle_ground_overlay_events\" rel=\"noreferrer\">overlays</a> support similar events.</p>\n\n<p>You just need to call <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.html#setOnPolygonClickListener%28com.google.android.gms.maps.GoogleMap.OnPolygonClickListener%29\" rel=\"noreferrer\"><code>GoogleMap.setOnPolygonClickListener(OnPolygonClickListener listener)</code></a> to set it up, and correspondingly for the other listeners (<code>setOnPolylineClickListener</code>, &amp;c):</p>\n\n<pre><code>map.setOnPolygonClickListener(new GoogleMap.OnPolygonClickListener() {  \n    @Override  \n    public void onPolygonClick(Polygon polygon) {  \n        // Handle click ...  \n    }  \n});  \n</code></pre>\n\n<p>Although a bit late, it solves this use case quite nicely.</p>\n"},{"tags":[],"owner":{"account_id":27517294,"reputation":1,"user_id":20998016,"display_name":"kshitiz_s"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673594297,"creation_date":1673594297,"answer_id":75105950,"question_id":14405593,"body_markdown":"I know I am posting this very late but I had some issue with the answer posted here, so I studied both the top answers and an [article](https://www.geeksforgeeks.org/how-to-check-if-a-given-point-lies-inside-a-polygon/) (which I think is the origin of this method) and modified [Matt Answer](https://stackoverflow.com/a/14405940) to compile something that works best for me.\r\n\r\nProblem with [Matt Answer](https://stackoverflow.com/a/14405940): It doesn&#39;t calculate the last line of polygon (i.e. one created by the last vertex and the first vertex)\r\n\r\nProblem with [Dwill Answer](https://stackoverflow.com/q/14405593): It seems complex and daunting especially when you are already frustrated on how to make things work\r\n\r\nOther checks I have added:\r\n - Checked if a polygon is actually created\r\n - Checked if any side of polygon is parallel to y-axis\r\n\r\nI have tried to comment and explain as much I as I could hope this would be helpful for someone\r\n\r\nOne more thing, this is written in Dart and mainly focused on finding if current position is inside a geofence.\r\n\r\n```dart\r\nFuture&lt;bool&gt; checkIfLocationIsInsideBoundary({\r\n  required LatLng positionToCheck,\r\n  required List&lt;LatLng&gt; boundaryVertices,\r\n}) async {\r\n\r\n  // If there are less than 3 points then there will be no polygon\r\n  if (boundaryVertices.length &lt; 3) return false;\r\n\r\n  int intersectCount = 0;\r\n  // Check Ray-cast for lines created by all the vertices in our List\r\n  for (int j = 0; j &lt; boundaryVertices.length - 1; j++) {\r\n    if (_rayCastIntersect(\r\n      positionToCheck,\r\n      boundaryVertices[j],\r\n      boundaryVertices[j + 1],\r\n    )) {\r\n      intersectCount++;\r\n    }\r\n  }\r\n  // Check for line created by the last vertex and the first vertex of the List\r\n  if (_rayCastIntersect(\r\n    positionToCheck,\r\n    boundaryVertices.last,\r\n    boundaryVertices.first,\r\n  )) {\r\n    intersectCount++;\r\n  }\r\n\r\n  // If our point is inside the polygon they will always intersect odd number of\r\n  // times, else they will intersect even number of times\r\n  return (intersectCount % 2) == 1; // odd = inside, even = outside\r\n}\r\n\r\nbool _rayCastIntersect(LatLng point, LatLng vertA, LatLng vertB) {\r\n  final double aY = vertA.latitude;\r\n  final double bY = vertB.latitude;\r\n  final double aX = vertA.longitude;\r\n  final double bX = vertB.longitude;\r\n  final double pY = point.latitude;\r\n  final double pX = point.longitude;\r\n\r\n  // If vertices A and B are both above our point P then obviously the line made\r\n  // by A and B cannot intersect with ray-cast of P. Note: Only y-coordinates of\r\n  // each points can be used to check this.\r\n  if (aY &gt; pY &amp;&amp; bY &gt; pY) return false;\r\n\r\n  // If vertices A and B are both below our point P then obviously the line made\r\n  // by A and B cannot intersect with ray-cast of P. Note: Only y-coordinates of\r\n  // each points can be used to check this.\r\n  if (aY &lt; pY &amp;&amp; bY &lt; pY) return false;\r\n\r\n  // Since we will be casting ray on east side from our point P, at least one of\r\n  // the vertex (either A or B) must be east of P else line made by A nd B\r\n  // cannot intersect with ray-cast of P. Note: Only x-coordinates of each\r\n  // points can be used to check this.\r\n  if (aY &lt; pY &amp;&amp; bY &lt; pY) return false;\r\n\r\n  // If line made by vertices is parallel to Y-axis then we will get\r\n  // &#39;Divided by zero` exception when calculating slope. In such case we can\r\n  // only check if the line is on the east or the west relative to our point. If\r\n  // it is on the east we count is as intersection. Note: we can be sure our\r\n  // ray-cast will intersect the line because it is a vertical line, our\r\n  // ray-cast is horizontal and finally we already made sure that both the\r\n  // vertices are neither above nor below our point. Finally, since `aX == bX`\r\n  // we can check if either aX or bX is on the right/east of pX\r\n  if (aX == bX) return aX &gt; pX;\r\n\r\n  // Calculate slope of the line `m` made by vertices A and B using the formula\r\n  // `m = (y2-y1) / (x2-x1)`\r\n  final double m = (aY - bY) / (aX - bX); // Rise over run\r\n\r\n  // Calculate the value of y-intersect `b` using the equation of line\r\n  final double b = aY - (aX * m); // y = mx + b =&gt; b = y - mx\r\n\r\n  // Now we translate our point P along X-axis such that it intersects our line.\r\n  // This means we can pluck y-coordinate of our point P into the equation of\r\n  // our line and calculate a new x-coordinate\r\n  final double x = (pY - b) / m; // y = mx + b =&gt; x = (y - b) / m\r\n\r\n  // Till now we have only calculated this new translated point but we don&#39;t\r\n  // know if this point was translated towards west(left) of towards\r\n  // east(right). This can be determined in the same way as we have done above,\r\n  // if the x-coordinate of this new point is greater than x-coordinate of our\r\n  // original point then it has shifted east, which means it has intersected our\r\n  // line\r\n  return x &gt; pX;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Polygon Touch detection Google Map API V2","body":"<p>I know I am posting this very late but I had some issue with the answer posted here, so I studied both the top answers and an <a href=\"https://www.geeksforgeeks.org/how-to-check-if-a-given-point-lies-inside-a-polygon/\" rel=\"nofollow noreferrer\">article</a> (which I think is the origin of this method) and modified <a href=\"https://stackoverflow.com/a/14405940\">Matt Answer</a> to compile something that works best for me.</p>\n<p>Problem with <a href=\"https://stackoverflow.com/a/14405940\">Matt Answer</a>: It doesn't calculate the last line of polygon (i.e. one created by the last vertex and the first vertex)</p>\n<p>Problem with <a href=\"https://stackoverflow.com/q/14405593\">Dwill Answer</a>: It seems complex and daunting especially when you are already frustrated on how to make things work</p>\n<p>Other checks I have added:</p>\n<ul>\n<li>Checked if a polygon is actually created</li>\n<li>Checked if any side of polygon is parallel to y-axis</li>\n</ul>\n<p>I have tried to comment and explain as much I as I could hope this would be helpful for someone</p>\n<p>One more thing, this is written in Dart and mainly focused on finding if current position is inside a geofence.</p>\n<pre class=\"lang-dart prettyprint-override\"><code>Future&lt;bool&gt; checkIfLocationIsInsideBoundary({\n  required LatLng positionToCheck,\n  required List&lt;LatLng&gt; boundaryVertices,\n}) async {\n\n  // If there are less than 3 points then there will be no polygon\n  if (boundaryVertices.length &lt; 3) return false;\n\n  int intersectCount = 0;\n  // Check Ray-cast for lines created by all the vertices in our List\n  for (int j = 0; j &lt; boundaryVertices.length - 1; j++) {\n    if (_rayCastIntersect(\n      positionToCheck,\n      boundaryVertices[j],\n      boundaryVertices[j + 1],\n    )) {\n      intersectCount++;\n    }\n  }\n  // Check for line created by the last vertex and the first vertex of the List\n  if (_rayCastIntersect(\n    positionToCheck,\n    boundaryVertices.last,\n    boundaryVertices.first,\n  )) {\n    intersectCount++;\n  }\n\n  // If our point is inside the polygon they will always intersect odd number of\n  // times, else they will intersect even number of times\n  return (intersectCount % 2) == 1; // odd = inside, even = outside\n}\n\nbool _rayCastIntersect(LatLng point, LatLng vertA, LatLng vertB) {\n  final double aY = vertA.latitude;\n  final double bY = vertB.latitude;\n  final double aX = vertA.longitude;\n  final double bX = vertB.longitude;\n  final double pY = point.latitude;\n  final double pX = point.longitude;\n\n  // If vertices A and B are both above our point P then obviously the line made\n  // by A and B cannot intersect with ray-cast of P. Note: Only y-coordinates of\n  // each points can be used to check this.\n  if (aY &gt; pY &amp;&amp; bY &gt; pY) return false;\n\n  // If vertices A and B are both below our point P then obviously the line made\n  // by A and B cannot intersect with ray-cast of P. Note: Only y-coordinates of\n  // each points can be used to check this.\n  if (aY &lt; pY &amp;&amp; bY &lt; pY) return false;\n\n  // Since we will be casting ray on east side from our point P, at least one of\n  // the vertex (either A or B) must be east of P else line made by A nd B\n  // cannot intersect with ray-cast of P. Note: Only x-coordinates of each\n  // points can be used to check this.\n  if (aY &lt; pY &amp;&amp; bY &lt; pY) return false;\n\n  // If line made by vertices is parallel to Y-axis then we will get\n  // 'Divided by zero` exception when calculating slope. In such case we can\n  // only check if the line is on the east or the west relative to our point. If\n  // it is on the east we count is as intersection. Note: we can be sure our\n  // ray-cast will intersect the line because it is a vertical line, our\n  // ray-cast is horizontal and finally we already made sure that both the\n  // vertices are neither above nor below our point. Finally, since `aX == bX`\n  // we can check if either aX or bX is on the right/east of pX\n  if (aX == bX) return aX &gt; pX;\n\n  // Calculate slope of the line `m` made by vertices A and B using the formula\n  // `m = (y2-y1) / (x2-x1)`\n  final double m = (aY - bY) / (aX - bX); // Rise over run\n\n  // Calculate the value of y-intersect `b` using the equation of line\n  final double b = aY - (aX * m); // y = mx + b =&gt; b = y - mx\n\n  // Now we translate our point P along X-axis such that it intersects our line.\n  // This means we can pluck y-coordinate of our point P into the equation of\n  // our line and calculate a new x-coordinate\n  final double x = (pY - b) / m; // y = mx + b =&gt; x = (y - b) / m\n\n  // Till now we have only calculated this new translated point but we don't\n  // know if this point was translated towards west(left) of towards\n  // east(right). This can be determined in the same way as we have done above,\n  // if the x-coordinate of this new point is greater than x-coordinate of our\n  // original point then it has shifted east, which means it has intersected our\n  // line\n  return x &gt; pX;\n}\n</code></pre>\n"}],"owner":{"account_id":1715225,"reputation":506,"user_id":1572452,"accept_rate":74,"display_name":"Dwill"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16860,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":14405940,"answer_count":7,"score":15,"last_activity_date":1673594297,"creation_date":1358534922,"question_id":14405593,"body_markdown":"I&#39;m trying to figure out how best to do this, I have a map with one `Polygon` drawn on it. Since it doesn&#39;t seem as though the Google Maps API V2 has a touch detection on a Polygon. I was wonder if it is possible to detect whether the touch point is inside the Polygon? If so then how, my main goal is to outline a state on a map and when the user taps that state it will show more details inside a custom view. As of now I am able to capture the `MapOnClick` of the map but when the user taps inside the `Polygon` I want the `polygon.getID()` set on the `Toast`. I am a newbie so I apologize if I am not clear enough.\r\n \r\n\r\n    googleMap.setOnMapClickListener(new OnMapClickListener() \r\n        {\r\n            public void onMapClick(LatLng point) \r\n            {\r\n            boolean checkPoly = true;\r\n              \r\n            Toast.makeText(MainActivity.this,&quot;The Location is outside of the Area&quot;, Toast.LENGTH_LONG).show();\r\n            }    \r\n         });\r\n         }\r\n         }\r\n       catch (Exception e) {\r\n             Log.e(&quot;APP&quot;,&quot;Failed&quot;, e);\r\n         }    \r\n\r\nOk this is what I have semi-working so far\r\n\r\n    \tprivate boolean rayCastIntersect(LatLng tap, LatLng vertA, LatLng vertB) {\r\n\r\n\t\tdouble aY = vertA.latitude;\r\n\t\tdouble bY = vertB.latitude;\r\n\t\tdouble aX = vertA.longitude;\r\n\t\tdouble bX = vertB.longitude;\r\n\t\tdouble pY = tap.latitude;\r\n\t\tdouble pX = tap.longitude;\r\n\t\t if (aY &gt; bY) {\r\n\t\t        aX = vertB.longitude;\r\n\t\t        aY = vertB.latitude;\r\n\t\t        bX = vertA.longitude;\r\n\t\t        bX = vertA.latitude;\r\n\t\t    }\r\n\t\tSystem.out.println(&quot;aY: &quot;+aY+&quot; aX : &quot;+aX);\r\n\t\tSystem.out.println(&quot;bY: &quot;+bY+&quot; bX : &quot;+bX);\r\n\t\t\r\n\t\t if (pX &lt; 0) pX += 360;\r\n\t        if (aX &lt; 0) aX += 360;\r\n\t        if (bX &lt; 0) bX += 360;\r\n\t        \r\n\t        if (pY == aY || pY == bY) pY += 0.00000001;\r\n\t        if ((pY &gt; bY || pY &lt; aY) || (pX &gt; Math.max(aX, bX))) return false;\r\n\t        if (pX &lt; Math.min(aX, bX))\r\n\t        \t\r\n\t        \treturn true;\r\n\t//\t}\r\n\r\n\t\tdouble m = (aX != bX) ? ((bY - aY) / (bX - aX)) : aX;\r\n\t\tdouble bee = (aX != pX) ? ((pY - aY) / (pX - aX)) : aX;\r\n\t\tdouble x = (pY - bee) / m;\r\n\r\n\t\treturn x &gt; pX;\r\n\t}\r\n\r\n }\r\n\r\nThe issue that I am having is the touch is true to the left of each polygon until it reaches another one. What&#39;s wrong with my algorithm that would cause this issue? Any help would be appreciated.","title":"Polygon Touch detection Google Map API V2","body":"<p>I'm trying to figure out how best to do this, I have a map with one <code>Polygon</code> drawn on it. Since it doesn't seem as though the Google Maps API V2 has a touch detection on a Polygon. I was wonder if it is possible to detect whether the touch point is inside the Polygon? If so then how, my main goal is to outline a state on a map and when the user taps that state it will show more details inside a custom view. As of now I am able to capture the <code>MapOnClick</code> of the map but when the user taps inside the <code>Polygon</code> I want the <code>polygon.getID()</code> set on the <code>Toast</code>. I am a newbie so I apologize if I am not clear enough.</p>\n\n<pre><code>googleMap.setOnMapClickListener(new OnMapClickListener() \n    {\n        public void onMapClick(LatLng point) \n        {\n        boolean checkPoly = true;\n\n        Toast.makeText(MainActivity.this,\"The Location is outside of the Area\", Toast.LENGTH_LONG).show();\n        }    \n     });\n     }\n     }\n   catch (Exception e) {\n         Log.e(\"APP\",\"Failed\", e);\n     }    \n</code></pre>\n\n<p>Ok this is what I have semi-working so far</p>\n\n<pre><code>    private boolean rayCastIntersect(LatLng tap, LatLng vertA, LatLng vertB) {\n\n    double aY = vertA.latitude;\n    double bY = vertB.latitude;\n    double aX = vertA.longitude;\n    double bX = vertB.longitude;\n    double pY = tap.latitude;\n    double pX = tap.longitude;\n     if (aY &gt; bY) {\n            aX = vertB.longitude;\n            aY = vertB.latitude;\n            bX = vertA.longitude;\n            bX = vertA.latitude;\n        }\n    System.out.println(\"aY: \"+aY+\" aX : \"+aX);\n    System.out.println(\"bY: \"+bY+\" bX : \"+bX);\n\n     if (pX &lt; 0) pX += 360;\n        if (aX &lt; 0) aX += 360;\n        if (bX &lt; 0) bX += 360;\n\n        if (pY == aY || pY == bY) pY += 0.00000001;\n        if ((pY &gt; bY || pY &lt; aY) || (pX &gt; Math.max(aX, bX))) return false;\n        if (pX &lt; Math.min(aX, bX))\n\n            return true;\n//  }\n\n    double m = (aX != bX) ? ((bY - aY) / (bX - aX)) : aX;\n    double bee = (aX != pX) ? ((pY - aY) / (pX - aX)) : aX;\n    double x = (pY - bee) / m;\n\n    return x &gt; pX;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>The issue that I am having is the touch is true to the left of each polygon until it reaches another one. What's wrong with my algorithm that would cause this issue? Any help would be appreciated.</p>\n"},{"tags":["java","sql","rest","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1486855631,"post_id":42182426,"comment_id":71527610,"body_markdown":"Looks like you don&#39;t have JPA autoconfiguration running. Make sure you have the starter and a database connection.","body":"Looks like you don&#39;t have JPA autoconfiguration running. Make sure you have the starter and a database connection."},{"owner":{"account_id":3336440,"reputation":313,"user_id":2803884,"accept_rate":46,"display_name":"Dheeraj"},"score":0,"creation_date":1486856021,"post_id":42182426,"comment_id":71527695,"body_markdown":"@chrylis - How do I get a JPA autoconfiguration running? I have established a connection to mysql database in application.properties","body":"@chrylis - How do I get a JPA autoconfiguration running? I have established a connection to mysql database in application.properties"},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":9,"creation_date":1486856133,"post_id":42182426,"comment_id":71527716,"body_markdown":"You have mismatched Hibernate dependencies. Just drop the version numbers and let Boot manage them.","body":"You have mismatched Hibernate dependencies. Just drop the version numbers and let Boot manage them."}],"answers":[{"comments":[{"owner":{"account_id":260010,"reputation":9493,"user_id":543315,"accept_rate":61,"display_name":"Nic Cottrell"},"score":2,"creation_date":1531913699,"post_id":43356888,"comment_id":89772534,"body_markdown":"I have a similar error, and I did include hibernate myself. However, according to `mvn dependency:tree` I have `spring-boot:jar:2.0.3.` and `spring-boot-starter-data-jpa:2.0.3.` includes only `hibernate-core` but not `hibernate-entitymanager`.","body":"I have a similar error, and I did include hibernate myself. However, according to <code>mvn dependency:tree</code> I have <code>spring-boot:jar:2.0.3.</code> and <code>spring-boot-starter-data-jpa:2.0.3.</code> includes only <code>hibernate-core</code> but not <code>hibernate-entitymanager</code>."},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":0,"creation_date":1534369680,"post_id":43356888,"comment_id":90685855,"body_markdown":"@NicCottrell Cottrell I am running into same issue with Spring Boot 2.0.3. I was wondering how you fixed it for yourself?","body":"@NicCottrell Cottrell I am running into same issue with Spring Boot 2.0.3. I was wondering how you fixed it for yourself?"},{"owner":{"account_id":8951791,"reputation":1493,"user_id":6677551,"accept_rate":75,"display_name":"shabinjo"},"score":0,"creation_date":1545230157,"post_id":43356888,"comment_id":94554239,"body_markdown":"@NicCottrell ,@Ajay kumar ;i am on the same issue and tried all possible solutions but no luck.please let me know how did you take it forward?","body":"@NicCottrell ,@Ajay kumar ;i am on the same issue and tried all possible solutions but no luck.please let me know how did you take it forward?"}],"tags":[],"owner":{"account_id":283914,"reputation":1031,"user_id":581702,"display_name":"kyleus"},"comment_count":3,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1491947873,"creation_date":1491947873,"answer_id":43356888,"question_id":42182426,"body_markdown":"**spring-boot-starter-data-jpa** will pull in all the hibernate dependencies you need.  Using spring boot release 1.5.1, it will pull in **hibernate-core:5.0.11** and **hibernate-entitymanager:5.0.11**.  In addition to being unnecessary, your hibernate dependency versions are mismatched which is what I&#39;m guessing is causing the error.\r\n\r\nTry removing these dependencies from your pom.xml.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p><strong>spring-boot-starter-data-jpa</strong> will pull in all the hibernate dependencies you need.  Using spring boot release 1.5.1, it will pull in <strong>hibernate-core:5.0.11</strong> and <strong>hibernate-entitymanager:5.0.11</strong>.  In addition to being unnecessary, your hibernate dependency versions are mismatched which is what I'm guessing is causing the error.</p>\n\n<p>Try removing these dependencies from your pom.xml.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7552759,"reputation":171,"user_id":5733586,"display_name":"Jules S."},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1609857440,"creation_date":1511047854,"answer_id":47372196,"question_id":42182426,"body_markdown":"Try these dependencies\r\n==\r\n&lt;!-- language-all: lang-xml --&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;   \r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n         &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n    \r\n\r\ninstead of:\r\n=\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n       &lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n       &lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<h1>Try these dependencies</h1>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;dependency&gt;\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n     &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n  &lt;/dependency&gt;   \n  &lt;dependency&gt;\n     &lt;groupId&gt;mysql&lt;/groupId&gt;\n     &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<h1>instead of:</h1>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n   &lt;version&gt;4.1.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n   &lt;version&gt;5.2.3.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4972065,"reputation":3372,"user_id":3999482,"display_name":"malvadao"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1527080207,"creation_date":1526930611,"answer_id":50455396,"question_id":42182426,"body_markdown":"Try deleting your dependencies from \r\n\r\n - ~/.m2/repository (Linux)\r\n - C:/Users/**your_user**/.m2/repository (Windows)\r\n\r\nand further updating your project dependencies either through your IDE&#39;s **update dependencies** functionality, or by running **mvn install** from your project&#39;s folder.\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>Try deleting your dependencies from </p>\n\n<ul>\n<li>~/.m2/repository (Linux)</li>\n<li>C:/Users/<strong>your_user</strong>/.m2/repository (Windows)</li>\n</ul>\n\n<p>and further updating your project dependencies either through your IDE's <strong>update dependencies</strong> functionality, or by running <strong>mvn install</strong> from your project's folder.</p>\n"},{"tags":[],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1535297748,"creation_date":1535297748,"answer_id":52027772,"question_id":42182426,"body_markdown":"Hibernate-core 5.2.0 have problem with Spring Data JPA while process collection. \r\nHibernate-core 5.2.1 and above is ok with Spring Data JPA when you use Spring Data JPA.\r\n\r\nFrom hibernate onwards 5.2.0. hibernate-entitymanager is no longer needed.\r\n\r\n**So try to change:**\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n     &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n     &lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**To this version:**\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n     &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n     &lt;version&gt; 5.2.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThis fixed it for me.","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>Hibernate-core 5.2.0 have problem with Spring Data JPA while process collection. \nHibernate-core 5.2.1 and above is ok with Spring Data JPA when you use Spring Data JPA.</p>\n\n<p>From hibernate onwards 5.2.0. hibernate-entitymanager is no longer needed.</p>\n\n<p><strong>So try to change:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n &lt;version&gt;4.1.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>To this version:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n &lt;version&gt; 5.2.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>This fixed it for me.</p>\n"},{"tags":[],"owner":{"account_id":5445447,"reputation":1726,"user_id":4332176,"accept_rate":25,"display_name":"Dila Gurung"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560392451,"creation_date":1560392451,"answer_id":56572550,"question_id":42182426,"body_markdown":"The problem might be due to version mismatch. Problem can be solve by specifying the dependency like this (since version is not mentioned, its auto managed)\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>The problem might be due to version mismatch. Problem can be solve by specifying the dependency like this (since version is not mentioned, its auto managed)</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8105684,"reputation":137,"user_id":6107304,"accept_rate":60,"display_name":"FrancisGeek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637475242,"creation_date":1637475242,"answer_id":70052275,"question_id":42182426,"body_markdown":"I came across the problem again. What I did is to change pom dependecy.\r\n\r\nFrom **spring-data-jpa**\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\nTo **spring-boot-starter-data-jpa**\r\n\r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n     &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**No extra hibernate related dependency.**\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>I came across the problem again. What I did is to change pom dependecy.</p>\n<p>From <strong>spring-data-jpa</strong></p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To <strong>spring-boot-starter-data-jpa</strong></p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>No extra hibernate related dependency.</strong></p>\n"},{"tags":[],"owner":{"account_id":13963769,"reputation":31,"user_id":10084172,"display_name":"Pankaj kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673594143,"creation_date":1673594143,"answer_id":75105928,"question_id":42182426,"body_markdown":"For those having two datasources, just add @Primary at one of the datasources.","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>For those having two datasources, just add @Primary at one of the datasources.</p>\n"}],"owner":{"account_id":3336440,"reputation":313,"user_id":2803884,"accept_rate":46,"display_name":"Dheeraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103770,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":7,"score":28,"last_activity_date":1673594143,"creation_date":1486855465,"question_id":42182426,"body_markdown":"I am in the process of developing a Spring Boot application and came across this error when starting the server. I am not sure if I am incorrectly defining any annotations or missing any dependencies. Any help would be appreciated.\r\n\r\n\r\nMain class:\r\n\r\n    @SpringBootApplication\r\n    public class FantasyManagerApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(FantasyManagerApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nLeagueService.java:\r\n\r\n    @Service\r\n    public class LeagueService {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate LeagueRepository leagueRepository;\r\n    \t@Autowired\r\n    \tprivate PlayerRepository playerRepository;\r\n    \t@Autowired\r\n    \tprivate TeamRepository teamRepository;\r\n    \t\r\n    \t/**\r\n    \t * Returns a list of all the leagues in the database \r\n    \t * @return List&lt;League&gt;\r\n    \t */\r\n    \tpublic List&lt;League&gt; getAllLeagues(){\r\n    \t\tList&lt;League&gt; leagues = new ArrayList&lt;&gt;();\r\n    \t\tleagueRepository.findAll()\r\n    \t\t.forEach(leagues::add);\r\n    \t\treturn leagues;\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Find details for a particular League\r\n    \t * @param leagueId\r\n    \t * @return League\r\n    \t */\r\n    \tpublic League getLeagueById(long leagueId){\r\n    \t\treturn leagueRepository.findOne(leagueId);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Find the leagueSettings for a particular League\t\r\n    \t * @param leagueId\r\n    \t * @return LeagueSettings\r\n    \t */\r\n    \tpublic LeagueSettings getLeagueSettingsById(long leagueId){\r\n    \t\treturn leagueRepository.findOne(leagueId).getLeagueSettings();\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Returns a list of all the Team&#39;s in the League\r\n    \t * @param leagueId\r\n    \t * @return List&lt;Team&gt;\r\n    \t */\r\n    \tpublic List&lt;Team&gt; getTeamsInLeague(long leagueId){\r\n    \t\tList&lt;Team&gt; teams = new ArrayList&lt;&gt;();\r\n    \t\tleagueRepository.findOne(leagueId).getTeams()\r\n    \t\t.forEach(teams::add);\r\n    \t\treturn teams;\r\n    \t\t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Returns a list of all the Player&#39;s in the League\r\n    \t * @param leagueId\r\n    \t * @return List&lt;Player&gt;\r\n    \t */\r\n    \tpublic List&lt;Player&gt; getPlayersInLeague(long leagueId){\r\n    \t\tList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n    \t\tleagueRepository.findOne(leagueId).getPlayers()\r\n    \t\t.forEach(players::add);\r\n    \t\treturn players;\t\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Returns a list of all the User&#39;s in the League\r\n    \t * @param leagueId\r\n    \t * @return List&lt;User&gt;\r\n    \t */\r\n    \tpublic List&lt;User&gt; getUsersInLeague(long leagueId){\r\n    \t\tList&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    \t\tleagueRepository.findOne(leagueId).getUsers()\r\n    \t\t.forEach(users::add);\r\n    \t\treturn users;\t\t\r\n    \t}\r\n    \t\r\n    \t\t\t\r\n    \t/**\r\n    \t * Add League to database\r\n    \t * @param league\r\n    \t */\r\n    \tpublic void addLeague(League league){\r\n    \t\tleagueRepository.save(league);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Assign LeagueSettings for a League\r\n    \t * @param userId\r\n    \t * @param leagueSettings\r\n    \t */\r\n    \tpublic void assignLeagueSettings(long leagueId, LeagueSettings leagueSettings){\r\n    \t\tLeague league = leagueRepository.findOne(leagueId);\r\n    \t\tleague.setLeagueSettings(leagueSettings);\r\n    \t\tleagueRepository.save(league);\t\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Assign a Player to a League and vice versa\r\n    \t * @param leagueId\r\n    \t * @param playerId\r\n    \t */\r\n    \tpublic void assignPlayerToLeague(long leagueId, long playerId){\r\n    \t\t//Find the league and player from the database\r\n    \t\tLeague league = leagueRepository.findOne(leagueId);\r\n    \t\tPlayer player = playerRepository.findOne(playerId);\r\n    \t\t\r\n    \t\t//Get the players that the league already has\r\n    \t\tList&lt;Player&gt; players = new ArrayList&lt;&gt;();\r\n    \t\tplayers = league.getPlayers();\r\n    \t\t\r\n    \t\t//Get the leagues that the player is part of\r\n    \t\tList&lt;League&gt; leagues = new ArrayList&lt;&gt;();\r\n    \t\tleagues = player.getLeagues();\r\n    \t\t\r\n    \t\t//Assign player to this league and vice versa\r\n    \t\tleagues.add(league);\r\n    \t\tplayers.add(player);\r\n    \t\tleague.setPlayers(players);\r\n    \t\tplayer.setLeagues(leagues);\r\n    \t\t\r\n    \t\t//Update changes in database\r\n    \t\tplayerRepository.save(player);\r\n    \t\tleagueRepository.save(league);\r\n    \t}\r\n    \t\r\n    \t/**\r\n    \t * Assign a Team to a League and vice versa\r\n    \t * @param leagueId\r\n    \t * @param teamId\r\n    \t */\r\n    \tpublic void assignTeamToLeague(long leagueId, long teamId){\r\n    \t\t//Find the league and player from the database\r\n    \t\tLeague league = leagueRepository.findOne(leagueId);\r\n    \t\tTeam team = teamRepository.findOne(teamId);\r\n    \t\t\r\n    \t\t//Get the teams that are already in the league\r\n    \t\tList&lt;Team&gt; teams = new ArrayList&lt;&gt;();\r\n    \t\tteams = league.getTeams();\r\n    \t\t\r\n    \t\t//Assign team to this league and vice versa\r\n    \t\tteams.add(team);\r\n    \t\tleague.setTeams(teams);\r\n    \t\tteam.setLeague(league);\r\n    \t\t\r\n    \t\t//Update changes in database\r\n    \t\tteamRepository.save(team);\r\n    \t\tleagueRepository.save(league);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Edit the details for a particular League\r\n    \t * @param league\r\n    \t */\r\n    \tpublic void updateLeague(League league, long leagueId){\r\n    \t\tleagueRepository.save(league);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Delete the League from the database\r\n    \t * @param leagueId\r\n    \t */\r\n    \tpublic void deleteLeague(long leagueId){\r\n    \t\tleagueRepository.delete(leagueId);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nLeagueRepository.java\r\n\r\n    public interface LeagueRepository extends CrudRepository&lt;League, Long&gt; {\r\n    \t\r\n    }\r\n\r\npom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.dheeraj&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;fantasy-manager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;fantasy-manager&lt;/name&gt;\r\n    \t&lt;description&gt;Fantasy Manager Application&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t    &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n       \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\nError:\r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    Field leagueRepository in com.dheeraj.service.LeagueService required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring Boot - repository field required a bean named &#39;entityManagerFactory&#39; that could not be found","body":"<p>I am in the process of developing a Spring Boot application and came across this error when starting the server. I am not sure if I am incorrectly defining any annotations or missing any dependencies. Any help would be appreciated.</p>\n\n<p>Main class:</p>\n\n<pre><code>@SpringBootApplication\npublic class FantasyManagerApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FantasyManagerApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>LeagueService.java:</p>\n\n<pre><code>@Service\npublic class LeagueService {\n\n    @Autowired\n    private LeagueRepository leagueRepository;\n    @Autowired\n    private PlayerRepository playerRepository;\n    @Autowired\n    private TeamRepository teamRepository;\n\n    /**\n     * Returns a list of all the leagues in the database \n     * @return List&lt;League&gt;\n     */\n    public List&lt;League&gt; getAllLeagues(){\n        List&lt;League&gt; leagues = new ArrayList&lt;&gt;();\n        leagueRepository.findAll()\n        .forEach(leagues::add);\n        return leagues;\n    }\n\n    /**\n     * Find details for a particular League\n     * @param leagueId\n     * @return League\n     */\n    public League getLeagueById(long leagueId){\n        return leagueRepository.findOne(leagueId);\n    }\n\n    /**\n     * Find the leagueSettings for a particular League  \n     * @param leagueId\n     * @return LeagueSettings\n     */\n    public LeagueSettings getLeagueSettingsById(long leagueId){\n        return leagueRepository.findOne(leagueId).getLeagueSettings();\n    }\n\n\n    /**\n     * Returns a list of all the Team's in the League\n     * @param leagueId\n     * @return List&lt;Team&gt;\n     */\n    public List&lt;Team&gt; getTeamsInLeague(long leagueId){\n        List&lt;Team&gt; teams = new ArrayList&lt;&gt;();\n        leagueRepository.findOne(leagueId).getTeams()\n        .forEach(teams::add);\n        return teams;\n\n    }\n\n    /**\n     * Returns a list of all the Player's in the League\n     * @param leagueId\n     * @return List&lt;Player&gt;\n     */\n    public List&lt;Player&gt; getPlayersInLeague(long leagueId){\n        List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n        leagueRepository.findOne(leagueId).getPlayers()\n        .forEach(players::add);\n        return players;     \n    }\n\n    /**\n     * Returns a list of all the User's in the League\n     * @param leagueId\n     * @return List&lt;User&gt;\n     */\n    public List&lt;User&gt; getUsersInLeague(long leagueId){\n        List&lt;User&gt; users = new ArrayList&lt;&gt;();\n        leagueRepository.findOne(leagueId).getUsers()\n        .forEach(users::add);\n        return users;       \n    }\n\n\n    /**\n     * Add League to database\n     * @param league\n     */\n    public void addLeague(League league){\n        leagueRepository.save(league);\n    }\n\n    /**\n     * Assign LeagueSettings for a League\n     * @param userId\n     * @param leagueSettings\n     */\n    public void assignLeagueSettings(long leagueId, LeagueSettings leagueSettings){\n        League league = leagueRepository.findOne(leagueId);\n        league.setLeagueSettings(leagueSettings);\n        leagueRepository.save(league);  \n    }\n\n    /**\n     * Assign a Player to a League and vice versa\n     * @param leagueId\n     * @param playerId\n     */\n    public void assignPlayerToLeague(long leagueId, long playerId){\n        //Find the league and player from the database\n        League league = leagueRepository.findOne(leagueId);\n        Player player = playerRepository.findOne(playerId);\n\n        //Get the players that the league already has\n        List&lt;Player&gt; players = new ArrayList&lt;&gt;();\n        players = league.getPlayers();\n\n        //Get the leagues that the player is part of\n        List&lt;League&gt; leagues = new ArrayList&lt;&gt;();\n        leagues = player.getLeagues();\n\n        //Assign player to this league and vice versa\n        leagues.add(league);\n        players.add(player);\n        league.setPlayers(players);\n        player.setLeagues(leagues);\n\n        //Update changes in database\n        playerRepository.save(player);\n        leagueRepository.save(league);\n    }\n\n    /**\n     * Assign a Team to a League and vice versa\n     * @param leagueId\n     * @param teamId\n     */\n    public void assignTeamToLeague(long leagueId, long teamId){\n        //Find the league and player from the database\n        League league = leagueRepository.findOne(leagueId);\n        Team team = teamRepository.findOne(teamId);\n\n        //Get the teams that are already in the league\n        List&lt;Team&gt; teams = new ArrayList&lt;&gt;();\n        teams = league.getTeams();\n\n        //Assign team to this league and vice versa\n        teams.add(team);\n        league.setTeams(teams);\n        team.setLeague(league);\n\n        //Update changes in database\n        teamRepository.save(team);\n        leagueRepository.save(league);\n    }\n\n\n    /**\n     * Edit the details for a particular League\n     * @param league\n     */\n    public void updateLeague(League league, long leagueId){\n        leagueRepository.save(league);\n    }\n\n\n    /**\n     * Delete the League from the database\n     * @param leagueId\n     */\n    public void deleteLeague(long leagueId){\n        leagueRepository.delete(leagueId);\n    }\n\n}\n</code></pre>\n\n<p>LeagueRepository.java</p>\n\n<pre><code>public interface LeagueRepository extends CrudRepository&lt;League, Long&gt; {\n\n}\n</code></pre>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.dheeraj&lt;/groupId&gt;\n    &lt;artifactId&gt;fantasy-manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;fantasy-manager&lt;/name&gt;\n    &lt;description&gt;Fantasy Manager Application&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;4.1.4.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField leagueRepository in com.dheeraj.service.LeagueService required a bean named 'entityManagerFactory' that could not be found.\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n</code></pre>\n"},{"tags":["java","apache-poi"],"owner":{"account_id":27506734,"reputation":1,"user_id":20989350,"display_name":"user20989350"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1673544872,"answer_count":0,"score":-2,"last_activity_date":1673593328,"creation_date":1673526331,"question_id":75096309,"body_markdown":"How to read ppt data and any image data it contains using java and apache poi\r\n\r\n","title":"How to read ppt data using java and apache poi","body":"<p>How to read ppt data and any image data it contains using java and apache poi</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2038932,"reputation":3052,"user_id":1820599,"accept_rate":58,"display_name":"adalpari"},"score":0,"creation_date":1468231950,"post_id":38304249,"comment_id":64025134,"body_markdown":"Why you don&#39;t use SimpleDateFormat. It&#39;s what I use in Android and it workd fine.","body":"Why you don&#39;t use SimpleDateFormat. It&#39;s what I use in Android and it workd fine."},{"owner":{"account_id":8794967,"reputation":611,"user_id":6573127,"accept_rate":67,"display_name":"Slartibartfast"},"score":0,"creation_date":1530863838,"post_id":38304249,"comment_id":89392077,"body_markdown":"SimpleDateFormat is what I am using in Android and it is not working fine. In particular it is unable to parse the time zone AEST (Australian Eastern Standard Time) which DateTimeFormatter apparently does: https://stackoverflow.com/questions/36473928/parse-date-with-aedt-and-aest-time-zone-in-java","body":"SimpleDateFormat is what I am using in Android and it is not working fine. In particular it is unable to parse the time zone AEST (Australian Eastern Standard Time) which DateTimeFormatter apparently does: <a href=\"https://stackoverflow.com/questions/36473928/parse-date-with-aedt-and-aest-time-zone-in-java\" title=\"parse date with aedt and aest time zone in java\">stackoverflow.com/questions/36473928/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673701570,"post_id":38304249,"comment_id":132559240,"body_markdown":"I believe that when the question was asked, the answer was to use ThreeTenABP, the Android adaptation of the backport of java.time. Today core API desugaring seems a more attractive option. See the linked original question (which is later than this one).","body":"I believe that when the question was asked, the answer was to use ThreeTenABP, the Android adaptation of the backport of java.time. Today core API desugaring seems a more attractive option. See the linked original question (which is later than this one)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673701756,"post_id":38304249,"comment_id":132559268,"body_markdown":"@adalpari and Slartibartfas:t Please not. That would be a sizeable step backward. `SimpleDateFormat` was a notorious troublemaker of a class. The OP is wise in asking how to use its clearly better replacement, `DateTimeFormatter` from java.time.","body":"@adalpari and Slartibartfas:t Please not. That would be a sizeable step backward. <code>SimpleDateFormat</code> was a notorious troublemaker of a class. The OP is wise in asking how to use its clearly better replacement, <code>DateTimeFormatter</code> from java.time."}],"answers":[{"tags":[],"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1468231926,"creation_date":1468231926,"answer_id":38304332,"question_id":38304249,"body_markdown":"From [official documentation][1] about this class:\r\n\r\n&gt; Since:\r\n&gt; 1.8\r\n\r\n`Android SDK` is working over `jvm 1.6`\r\n\r\nRelated answer:\r\nhttps://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"How to include DateTimeFormatter to project","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">official documentation</a> about this class:</p>\n\n<blockquote>\n  <p>Since:\n  1.8</p>\n</blockquote>\n\n<p><code>Android SDK</code> is working over <code>jvm 1.6</code></p>\n\n<p>Related answer:\n<a href=\"https://stackoverflow.com/questions/23318109/is-it-possible-to-use-java-8-for-android-development\">Is it possible to use Java 8 for Android development?</a></p>\n"},{"comments":[{"owner":{"account_id":7304890,"reputation":141,"user_id":5566137,"accept_rate":100,"display_name":"Stephan Leila"},"score":1,"creation_date":1468233021,"post_id":38304396,"comment_id":64025814,"body_markdown":"Oh, thanks for clarification. I like that in java 8 I can use `DateTimeFormatter.ISO_INSTANT` instead of hardcoding pattern myself","body":"Oh, thanks for clarification. I like that in java 8 I can use <code>DateTimeFormatter.ISO_INSTANT</code> instead of hardcoding pattern myself"}],"tags":[],"owner":{"account_id":2038932,"reputation":3052,"user_id":1820599,"accept_rate":58,"display_name":"adalpari"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1468232095,"creation_date":1468232095,"answer_id":38304396,"question_id":38304249,"body_markdown":"In Android, actually you are ussing *Android SDK*, not JDK directly.\r\nYou could use SimpleDateFormat:\r\n\r\n    import java.text.SimpleDateFormat;\r\n\r\n    Date myDate = new Date();\r\n    SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss.ZZZZ&quot;);\r\n    String date = dateFormat.format(myDate);","title":"How to include DateTimeFormatter to project","body":"<p>In Android, actually you are ussing <em>Android SDK</em>, not JDK directly.\nYou could use SimpleDateFormat:</p>\n\n<pre><code>import java.text.SimpleDateFormat;\n\nDate myDate = new Date();\nSimpleDateFormat dateFormat = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss.ZZZZ\");\nString date = dateFormat.format(myDate);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1673622833,"post_id":75105835,"comment_id":132547398,"body_markdown":"I strongly disagree. The `SimpleDateFormat`class that you suggest is a notorious troublemaker of a class and fortunately long outdated. No one should use it. The question also wisely asked about its modern replacement, the `DateTimeFormatter` class of java.time, the modern Java date and time API.","body":"I strongly disagree. The <code>SimpleDateFormat</code>class that you suggest is a notorious troublemaker of a class and fortunately long outdated. No one should use it. The question also wisely asked about its modern replacement, the <code>DateTimeFormatter</code> class of java.time, the modern Java date and time API."}],"tags":[],"owner":{"account_id":23936770,"reputation":128,"user_id":17930413,"display_name":"Rahul Rokade"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673593306,"creation_date":1673593306,"answer_id":75105835,"question_id":38304249,"body_markdown":"**Date time formatter**\r\n**Java**\r\nDate time formatter to convert simple date it&#39;s very easy in utils class\r\njust like that please check and used this program.\r\n\r\n    public static String getApiSurveyResponseDateConvertToLocal(String date) {\r\n\r\n        try {\r\n            SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;, Locale.US);\r\n            SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\r\n           Date datee = inputFormat.parse(date);\r\n            return outputFormat.format(datee);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n            return &quot;&quot;;\r\n        }\r\n    }","title":"How to include DateTimeFormatter to project","body":"<p><strong>Date time formatter</strong>\n<strong>Java</strong>\nDate time formatter to convert simple date it's very easy in utils class\njust like that please check and used this program.</p>\n<pre><code>public static String getApiSurveyResponseDateConvertToLocal(String date) {\n\n    try {\n        SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss&quot;, Locale.US);\n        SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;, Locale.US);\n       Date datee = inputFormat.parse(date);\n        return outputFormat.format(datee);\n    } catch (ParseException e) {\n        e.printStackTrace();\n        return &quot;&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7304890,"reputation":141,"user_id":5566137,"accept_rate":100,"display_name":"Stephan Leila"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1673690922,"accepted_answer_id":38304396,"answer_count":3,"score":2,"last_activity_date":1673593306,"creation_date":1468231671,"question_id":38304249,"body_markdown":"I&#39;m trying to use [DateTimeFormatter](https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) in my project, but Android Studio can&#39;t find `java.time.format.DateTimeFormatter` package.&lt;br&gt;\r\nI downloaded [Java SE Development Kit 8u92](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) and in settings of my project I also set &quot;use jdk8&quot;.&lt;br&gt;What am I missing?","title":"How to include DateTimeFormatter to project","body":"<p>I'm trying to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow\">DateTimeFormatter</a> in my project, but Android Studio can't find <code>java.time.format.DateTimeFormatter</code> package.<br>\nI downloaded <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\" rel=\"nofollow\">Java SE Development Kit 8u92</a> and in settings of my project I also set \"use jdk8\".<br>What am I missing?</p>\n"},{"tags":["java","spring","spring-boot","spring-restcontroller"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673542917,"post_id":75099814,"comment_id":132528014,"body_markdown":"Do not use the Entity classes at controller level. It is very bad architecture","body":"Do not use the Entity classes at controller level. It is very bad architecture"},{"owner":{"account_id":19020553,"reputation":675,"user_id":13884720,"display_name":"Abdalrhman Alkraien"},"score":0,"creation_date":1673543686,"post_id":75099814,"comment_id":132528306,"body_markdown":"the bad request means your request does not arrive to you controller method and the request stop from servlet  `filter.chain`, and the recommended architecture use `dto` inside the controller and check validation using `LOMBOK` validation, and all of the business logic will process inside the service class","body":"the bad request means your request does not arrive to you controller method and the request stop from servlet  <code>filter.chain</code>, and the recommended architecture use <code>dto</code> inside the controller and check validation using <code>LOMBOK</code> validation, and all of the business logic will process inside the service class"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1673544853,"post_id":75099814,"comment_id":132528692,"body_markdown":"whats the error that spring boot gives you after you click send?","body":"whats the error that spring boot gives you after you click send?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673549170,"post_id":75099814,"comment_id":132530110,"body_markdown":"Is that your full customer? The `@Valid` seems to indicate otherwise, I would expect you to have some validation annotations on there.","body":"Is that your full customer? The <code>@Valid</code> seems to indicate otherwise, I would expect you to have some validation annotations on there."}],"answers":[{"tags":[],"owner":{"account_id":6233666,"reputation":29,"user_id":4849599,"display_name":"Robert"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673543249,"creation_date":1673543249,"answer_id":75099923,"question_id":75099814,"body_markdown":"The validation of `Customer` seems to fail.\r\nI would\r\n 1. look at the logs to error details\r\n 2. think about having a separate class for the request object. You do not really want to mix database related and request related concerns.","title":"Bad request in RestController spring boot 2.7","body":"<p>The validation of <code>Customer</code> seems to fail.\nI would</p>\n<ol>\n<li>look at the logs to error details</li>\n<li>think about having a separate class for the request object. You do not really want to mix database related and request related concerns.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4475864,"reputation":457,"user_id":3641003,"accept_rate":83,"display_name":"Roe hit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673544243,"creation_date":1673544243,"answer_id":75100111,"question_id":75099814,"body_markdown":"@Valid lets the framework check against the parameter on the method invocation and, if the validation fails, an HTTP 400 Bad Request status is thrown. You are having a complex type and that type requires a validation too. Here&#39;s a link: \r\nhttps://medium.com/javarevisited/are-you-using-valid-and-validated-annotations-wrong-b4a35ac1bca4 \r\n\r\nTry removing the @Valid just to see the difference and the above article gives you an example implementation.\r\n\r\nAlso, using an Entity as a Request object is a highly discouraged paradigm. You are encouraged to make a DTO object specific to your request as a start. There are situations where you have to inherit, but this question&#39;s scope is not that.\r\n\r\n\r\n","title":"Bad request in RestController spring boot 2.7","body":"<p>@Valid lets the framework check against the parameter on the method invocation and, if the validation fails, an HTTP 400 Bad Request status is thrown. You are having a complex type and that type requires a validation too. Here's a link:\n<a href=\"https://medium.com/javarevisited/are-you-using-valid-and-validated-annotations-wrong-b4a35ac1bca4\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/are-you-using-valid-and-validated-annotations-wrong-b4a35ac1bca4</a></p>\n<p>Try removing the @Valid just to see the difference and the above article gives you an example implementation.</p>\n<p>Also, using an Entity as a Request object is a highly discouraged paradigm. You are encouraged to make a DTO object specific to your request as a start. There are situations where you have to inherit, but this question's scope is not that.</p>\n"}],"owner":{"account_id":24280012,"reputation":123,"user_id":18226690,"display_name":"ln3106"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673592561,"creation_date":1673542709,"question_id":75099814,"body_markdown":"I checked in several different ways to check where is bug but I still do not know the answer.\r\n\r\nThat is my RestController\r\n\r\n    @RestController\r\n    public class CustomerController {\r\n        @PostMapping(value = &quot;/customer&quot;)\r\n        public ResponseEntity&lt;CustomerResponse&gt; addCustomer(@RequestBody @Valid Customer custRequest) throws Exception {\r\n            ModelMapper modelMapper = new ModelMapper();\r\n            CustomerDto customerDto = modelMapper.map(custRequest, CustomerDto.class);\r\n            CustomerDto addCust = customer.addCustomer(customerDto);\r\n            CustomerResponse custResponse = modelMapper.map(addCust, CustomerResponse.class);\r\n            return new ResponseEntity&lt;CustomerResponse&gt;(custResponse, HttpStatus.CREATED);\r\n        }\r\n    }\r\n\r\n\r\n\r\nThat is my Model\r\n\r\n    @Entity\r\n    @Table(name = &quot;customers&quot;)\r\n    public class Customer {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n        private String idCustomer;\r\n        private String email;\r\n        @OneToMany(mappedBy = &quot;customer&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\r\n        private List&lt;Choice&gt; choices;\r\n    \t// Getter and setter and constructor\r\n    }\r\n\r\nmaven dependencies \r\n\r\n    &lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nresponse of postman\r\n[![enter image description here][1]][1]\r\n\r\nHow can i resolve this problem to post a new customer .\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y4DyO.png","title":"Bad request in RestController spring boot 2.7","body":"<p>I checked in several different ways to check where is bug but I still do not know the answer.</p>\n<p>That is my RestController</p>\n<pre><code>@RestController\npublic class CustomerController {\n    @PostMapping(value = &quot;/customer&quot;)\n    public ResponseEntity&lt;CustomerResponse&gt; addCustomer(@RequestBody @Valid Customer custRequest) throws Exception {\n        ModelMapper modelMapper = new ModelMapper();\n        CustomerDto customerDto = modelMapper.map(custRequest, CustomerDto.class);\n        CustomerDto addCust = customer.addCustomer(customerDto);\n        CustomerResponse custResponse = modelMapper.map(addCust, CustomerResponse.class);\n        return new ResponseEntity&lt;CustomerResponse&gt;(custResponse, HttpStatus.CREATED);\n    }\n}\n</code></pre>\n<p>That is my Model</p>\n<pre><code>@Entity\n@Table(name = &quot;customers&quot;)\npublic class Customer {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n    private String idCustomer;\n    private String email;\n    @OneToMany(mappedBy = &quot;customer&quot;,cascade = CascadeType.ALL,fetch = FetchType.EAGER)\n    private List&lt;Choice&gt; choices;\n    // Getter and setter and constructor\n}\n</code></pre>\n<p>maven dependencies</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n            &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>response of postman\n<a href=\"https://i.stack.imgur.com/y4DyO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y4DyO.png\" alt=\"enter image description here\" /></a></p>\n<p>How can i resolve this problem to post a new customer .</p>\n"},{"tags":["java","datetime","java-8","java-time"],"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1464341719,"post_id":23215299,"comment_id":62456848,"body_markdown":"Because a `LocalDate` doesn&#39;t include a time.","body":"Because a <code>LocalDate</code> doesn&#39;t include a time."}],"answers":[{"comments":[{"owner":{"account_id":1806309,"reputation":2695,"user_id":1643352,"accept_rate":73,"display_name":"user1643352"},"score":0,"creation_date":1398160038,"post_id":23215426,"comment_id":35514947,"body_markdown":"Thanks a lot. I understand now that I need to specify a time zone to get an Instant.","body":"Thanks a lot. I understand now that I need to specify a time zone to get an Instant."},{"owner":{"account_id":5483053,"reputation":406,"user_id":4358787,"display_name":"Gaurav"},"score":0,"creation_date":1629330873,"post_id":23215426,"comment_id":121661454,"body_markdown":"flawless answer!","body":"flawless answer!"},{"owner":{"account_id":141040,"reputation":1982,"user_id":347775,"accept_rate":88,"display_name":"Matthias Wuttke"},"score":0,"creation_date":1699518529,"post_id":23215426,"comment_id":136542731,"body_markdown":"this is good for UTC, but not for local time zones as the offset might change depending on the local date (if it is in summer or winter time)","body":"this is good for UTC, but not for local time zones as the offset might change depending on the local date (if it is in summer or winter time)"}],"tags":[],"owner":{"account_id":229476,"reputation":6991,"user_id":492462,"accept_rate":80,"display_name":"mdo"},"comment_count":3,"down_vote_count":2,"up_vote_count":180,"is_accepted":false,"score":178,"last_activity_date":1398158437,"creation_date":1398158437,"answer_id":23215426,"question_id":23215299,"body_markdown":"In order to convert it to an instant you need to have a LocalDateTime instance, e.g.:\r\n\r\n    LocalDate.now().atStartOfDay().toInstant(ZoneOffset.UTC)","title":"How to convert a LocalDate to an Instant?","body":"<p>In order to convert it to an instant you need to have a LocalDateTime instance, e.g.:</p>\n\n<pre><code>LocalDate.now().atStartOfDay().toInstant(ZoneOffset.UTC)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1498138,"reputation":1032,"user_id":1403612,"display_name":"wuerg"},"score":3,"creation_date":1528804868,"post_id":23886207,"comment_id":88638263,"body_markdown":"I think this is the more useful than the accepted answer since ZoneId (timezone) is the parameter and not ZoneOffset (hours shifted from UTC, which may change for a timezone in summer/winter).","body":"I think this is the more useful than the accepted answer since ZoneId (timezone) is the parameter and not ZoneOffset (hours shifted from UTC, which may change for a timezone in summer/winter)."},{"owner":{"account_id":1814166,"reputation":247,"user_id":2441921,"display_name":"Nadrendion"},"score":1,"creation_date":1547623825,"post_id":23886207,"comment_id":95250338,"body_markdown":"In a unit test I am writing, I have a LocalDate, that is converted to a com.google.protobuf.Timestamp and then mapped back to a LocalDate via an Instant, both ways. \n\nWhen using the approach the accepted answer suggests, I get the expected LocalDate in return, but using this approach gives me &quot;yesterday&quot; back instead of &quot;today&quot;.\nMy timezone is GMT+1","body":"In a unit test I am writing, I have a LocalDate, that is converted to a com.google.protobuf.Timestamp and then mapped back to a LocalDate via an Instant, both ways.   When using the approach the accepted answer suggests, I get the expected LocalDate in return, but using this approach gives me &quot;yesterday&quot; back instead of &quot;today&quot;. My timezone is GMT+1"}],"tags":[],"owner":{"account_id":17393,"reputation":61637,"user_id":38896,"accept_rate":80,"display_name":"JodaStephen"},"comment_count":2,"down_vote_count":5,"up_vote_count":214,"is_accepted":true,"score":209,"last_activity_date":1546337113,"creation_date":1401184102,"answer_id":23886207,"question_id":23215299,"body_markdown":"The `Instant` class represents an instantaneous point on the time-line. Conversion to and from a `LocalDate` requires a time-zone. Unlike some other date and time libraries, JSR-310 will not select the time-zone for you automatically, so you must provide it.\r\n\r\n    LocalDate date = LocalDate.now();\r\n    Instant instant = date.atStartOfDay(ZoneId.systemDefault()).toInstant();\r\n\r\nThis example uses the default time-zone of the JVM - `ZoneId.systemDefault()` - to perform the conversion. See here for a [longer answer][1] to a related question.\r\n\r\n---\r\n\r\nUpdate: The accepted answer uses `LocalDateTime::toInstant(ZoneOffset)` which only accepts `ZoneOffset`. This answer uses `LocalDate::atStartOfDay(ZoneId)` which accepts any `ZoneId`. As such, this answer is generally more useful (and probably should be the accepted one).\r\n\r\nPS. I was the main author of the API\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21242111/38896","title":"How to convert a LocalDate to an Instant?","body":"<p>The <code>Instant</code> class represents an instantaneous point on the time-line. Conversion to and from a <code>LocalDate</code> requires a time-zone. Unlike some other date and time libraries, JSR-310 will not select the time-zone for you automatically, so you must provide it.</p>\n\n<pre><code>LocalDate date = LocalDate.now();\nInstant instant = date.atStartOfDay(ZoneId.systemDefault()).toInstant();\n</code></pre>\n\n<p>This example uses the default time-zone of the JVM - <code>ZoneId.systemDefault()</code> - to perform the conversion. See here for a <a href=\"https://stackoverflow.com/a/21242111/38896\">longer answer</a> to a related question.</p>\n\n<hr>\n\n<p>Update: The accepted answer uses <code>LocalDateTime::toInstant(ZoneOffset)</code> which only accepts <code>ZoneOffset</code>. This answer uses <code>LocalDate::atStartOfDay(ZoneId)</code> which accepts any <code>ZoneId</code>. As such, this answer is generally more useful (and probably should be the accepted one).</p>\n\n<p>PS. I was the main author of the API</p>\n"},{"comments":[{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":2,"creation_date":1680703659,"post_id":75105725,"comment_id":133943328,"body_markdown":"your answer is about `LocalDateTime`, not `LocalDate`","body":"your answer is about <code>LocalDateTime</code>, not <code>LocalDate</code>"}],"tags":[],"owner":{"account_id":228633,"reputation":3657,"user_id":491066,"accept_rate":38,"display_name":"paiego"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673592532,"creation_date":1673592532,"answer_id":75105725,"question_id":23215299,"body_markdown":"Using this I&#39;m able to get the local datetime Instance:\r\n\r\n    LocalDateTime.now().toInstant(ZoneOffset.UTC)\r\n\r\n\r\n","title":"How to convert a LocalDate to an Instant?","body":"<p>Using this I'm able to get the local datetime Instance:</p>\n<pre><code>LocalDateTime.now().toInstant(ZoneOffset.UTC)\n</code></pre>\n"}],"owner":{"account_id":1806309,"reputation":2695,"user_id":1643352,"accept_rate":73,"display_name":"user1643352"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176342,"favorite_count":0,"down_vote_count":0,"up_vote_count":180,"accepted_answer_id":23886207,"answer_count":3,"score":180,"last_activity_date":1673592532,"creation_date":1398158109,"question_id":23215299,"body_markdown":"I work with the new DateTime API of Java 8.\r\n\r\nHow to convert a LocalDate to an Instant?\r\nI get an exception with\r\n\r\n    LocalDate date = LocalDate.of(2012, 2, 2);\r\n    Instant instant = Instant.from(date);\r\n\r\nand I don&#39;t understand why.","title":"How to convert a LocalDate to an Instant?","body":"<p>I work with the new DateTime API of Java 8.</p>\n\n<p>How to convert a LocalDate to an Instant?\nI get an exception with</p>\n\n<pre><code>LocalDate date = LocalDate.of(2012, 2, 2);\nInstant instant = Instant.from(date);\n</code></pre>\n\n<p>and I don't understand why.</p>\n"},{"tags":["java","mysql","jpa","spring-boot"],"comments":[{"owner":{"account_id":2887481,"reputation":1735,"user_id":2476976,"display_name":"Kenneth Clark"},"score":1,"creation_date":1432625221,"post_id":30451470,"comment_id":48985227,"body_markdown":"Take a look at the following post. http://hibernatedb.blogspot.in/2009/05/automatic-reconnect-from-hibernate-to.html , this was a comment link which was intriguing from http://stackoverflow.com/questions/2077081/connection-with-mysql-is-being-aborted-automaticly-how-to-configure-connector-j","body":"Take a look at the following post. <a href=\"http://hibernatedb.blogspot.in/2009/05/automatic-reconnect-from-hibernate-to.html\" rel=\"nofollow noreferrer\">hibernatedb.blogspot.in/2009/05/&hellip;</a> , this was a comment link which was intriguing from <a href=\"http://stackoverflow.com/questions/2077081/connection-with-mysql-is-being-aborted-automaticly-how-to-configure-connector-j\" title=\"connection with mysql is being aborted automaticly how to configure connector j\">stackoverflow.com/questions/2077081/&hellip;</a>"},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432625679,"post_id":30451470,"comment_id":48985497,"body_markdown":"@KennethClark I am using spring-boot not spring so these wouldn&#39;t helped me much.And I don&#39;t know much about spring also.","body":"@KennethClark I am using spring-boot not spring so these wouldn&#39;t helped me much.And I don&#39;t know much about spring also."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1432627500,"post_id":30451470,"comment_id":48986612,"body_markdown":"Spring Boot is based on Spring, so if you use Spring Boot, of course you are also using Spring. You should read more about the basics of Spring Boot, if you don&#39;t know that.","body":"Spring Boot is based on Spring, so if you use Spring Boot, of course you are also using Spring. You should read more about the basics of Spring Boot, if you don&#39;t know that."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1432627880,"post_id":30451470,"comment_id":48986816,"body_markdown":"Why wouldn&#39;t it be recommended to validate the connection? The `autoReconnect` property isn&#39;t recommended.","body":"Why wouldn&#39;t it be recommended to validate the connection? The <code>autoReconnect</code> property isn&#39;t recommended."},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432628885,"post_id":30451470,"comment_id":48987448,"body_markdown":"@M.Deinum I have given the link above for the reason . It has side effects related to session state and data consistency when applications don&#39;t handle SQLExceptions properly.","body":"@M.Deinum I have given the link above for the reason . It has side effects related to session state and data consistency when applications don&#39;t handle SQLExceptions properly."},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432629042,"post_id":30451470,"comment_id":48987571,"body_markdown":"@dunni ,yes i agree with you but I haven&#39;t found any solution for the above error,maybe I missed that.It would be better if you can guide me to the solution.","body":"@dunni ,yes i agree with you but I haven&#39;t found any solution for the above error,maybe I missed that.It would be better if you can guide me to the solution."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1432630973,"post_id":30451470,"comment_id":48988841,"body_markdown":"@Soham I strongly suggest a read again as that is for the `autoReconnect` property NOT for those 2 properties you are specifying...","body":"@Soham I strongly suggest a read again as that is for the <code>autoReconnect</code> property NOT for those 2 properties you are specifying..."},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432632562,"post_id":30451470,"comment_id":48989974,"body_markdown":"@M.Deinum  sorry my mistake,it&#39;s written here http://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect","body":"@M.Deinum  sorry my mistake,it&#39;s written here <a href=\"http://stackoverflow.com/questions/22684807/spring-boot-jpa-configuring-auto-reconnect\" title=\"spring boot jpa configuring auto reconnect\">stackoverflow.com/questions/22684807/&hellip;</a>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1432632624,"post_id":30451470,"comment_id":48990012,"body_markdown":"No it is not, that is also about the `autoReconnect` property.","body":"No it is not, that is also about the <code>autoReconnect</code> property."},{"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"score":0,"creation_date":1432634323,"post_id":30451470,"comment_id":48991248,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/78781/discussion-between-soham-and-m-deinum).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/78781/discussion-between-soham-and-m-deinum\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":1690821,"reputation":5357,"user_id":1553203,"accept_rate":54,"display_name":"phanin"},"score":2,"creation_date":1482453967,"post_id":30455408,"comment_id":69790244,"body_markdown":"Thanks. Is the `validation-query` run every `time-between-eviction-runs-millis` OR `min-evictable-idle-time-millis` ?","body":"Thanks. Is the <code>validation-query</code> run every <code>time-between-eviction-runs-millis</code> OR <code>min-evictable-idle-time-millis</code> ?"},{"owner":{"account_id":2911666,"reputation":4689,"user_id":2495717,"accept_rate":88,"display_name":"ben3000"},"score":4,"creation_date":1501729497,"post_id":30455408,"comment_id":77908825,"body_markdown":"As of Spring Boot 1.4.1, [many of these properties are ignored](https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#datasource-binding), instead you have to use `spring.datasource.tomcat` for the tomcat-specific properties.","body":"As of Spring Boot 1.4.1, <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-1.4-Release-Notes#datasource-binding\" rel=\"nofollow noreferrer\">many of these properties are ignored</a>, instead you have to use <code>spring.datasource.tomcat</code> for the tomcat-specific properties."},{"owner":{"account_id":541070,"reputation":150,"user_id":909481,"accept_rate":25,"display_name":"user909481"},"score":2,"creation_date":1501760728,"post_id":30455408,"comment_id":77926827,"body_markdown":"See [Tomcat documentation](https://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html#Attributes) for a description of Tomcat specific properties (`spring.datasource.tomcat.*`) and their default values.","body":"See <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/jdbc-pool.html#Attributes\" rel=\"nofollow noreferrer\">Tomcat documentation</a> for a description of Tomcat specific properties (<code>spring.datasource.tomcat.*</code>) and their default values."},{"owner":{"account_id":2353308,"reputation":381,"user_id":2061690,"display_name":"Sanjay Amin"},"score":0,"creation_date":1619736412,"post_id":30455408,"comment_id":119002739,"body_markdown":"does this post mean to have autoReconnect with url including all the other properties to set as mentioned or autoReconnect is not required when other properties are set? I&#39;ve been using spring boot 2.3.3 which has hibernate 5.1.3. What are the minimum properties required that also boot performance solving this issue?","body":"does this post mean to have autoReconnect with url including all the other properties to set as mentioned or autoReconnect is not required when other properties are set? I&#39;ve been using spring boot 2.3.3 which has hibernate 5.1.3. What are the minimum properties required that also boot performance solving this issue?"}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":4,"down_vote_count":1,"up_vote_count":114,"is_accepted":true,"score":113,"last_activity_date":1619765995,"creation_date":1432634587,"answer_id":30455408,"question_id":30451470,"body_markdown":"The easiest way is to specify the `autoReconnect` property in the JDBC url, although this isn&#39;t the recommended approach.\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/test?autoReconnect=true\r\n\r\nThis can give issues when you have an active connection and during a transaction something happens and a reconnect is going to happen. It will not give issues when the connection is validated at the start of the transaction and a new connection is acquired at the start. \r\n\r\nHowever it is probably better to enable validation of your connections during the lifetime of your application. For this you can specify [several properties][1].\r\n\r\nFirst start by specifying  maximum number of connections you allow for the pool. (For a read on determining the max poolsize read [this][2]).\r\n\r\n    spring.datasource.max-active=10\r\n\r\nYou also might want to specify the number of initial connections\r\n\r\n    spring.datasource.initial-size=5\r\n\r\nNext you want to specify the min and max number of idle connections.\r\n\r\n    spring.datasource.max-idle=5\r\n    spring.datasource.min-idle=1\r\n\r\nTo validate connection you need to specify a validation-query and when to validate. As you want to validate periodically, instead of when a connection is retrieved from the pool (this to prevent broken connections in your pool). \r\n\r\n    spring.datasource.test-while-idle=true\r\n    spring.datasource.test-on-borrow=true\r\n    spring.datasource.validation-query=SELECT 1\r\n\r\n**NOTE:** The usage of a `validation-query` is actually discouraged with as JDBC4 has a better/different way of doing connection validation. HikariCP will automatically call the JDBC validation method when available. \r\n\r\nNow that you are also validating while a connection is idle you need to specify how often you want to run this query for the connections and when a connection is considered idle.\r\n\r\n    spring.datasource.time-between-eviction-runs-millis=5000 (this is the default)\r\n    spring.datasource.min-evictable-idle-time-millis=60000 (this is also default)\r\n\r\nThis all should trigger validation of your (idle) connections and when an exception occurs or the idle period has passed your connections will be removed from the pool.\r\n\r\nAssuming you are using Tomcat JDBC as the connection pool [this][3] is a nice read of what and how to configure. \r\n\r\n**UPDATE:** Spring Boot 2.x switched the default connection pool to HikariCP instead of Tomcat JDBC. \r\n\r\n[1]: http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\r\n[2]: https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\r\n[3]: http://www.tomcatexpert.com/blog/2010/04/01/configuring-jdbc-pool-high-concurrency","title":"Connection to Db dies after &gt;4&lt;24 in spring-boot jpa hibernate","body":"<p>The easiest way is to specify the <code>autoReconnect</code> property in the JDBC url, although this isn't the recommended approach.</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/test?autoReconnect=true\n</code></pre>\n<p>This can give issues when you have an active connection and during a transaction something happens and a reconnect is going to happen. It will not give issues when the connection is validated at the start of the transaction and a new connection is acquired at the start.</p>\n<p>However it is probably better to enable validation of your connections during the lifetime of your application. For this you can specify <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html\" rel=\"nofollow noreferrer\">several properties</a>.</p>\n<p>First start by specifying  maximum number of connections you allow for the pool. (For a read on determining the max poolsize read <a href=\"https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing\" rel=\"nofollow noreferrer\">this</a>).</p>\n<pre><code>spring.datasource.max-active=10\n</code></pre>\n<p>You also might want to specify the number of initial connections</p>\n<pre><code>spring.datasource.initial-size=5\n</code></pre>\n<p>Next you want to specify the min and max number of idle connections.</p>\n<pre><code>spring.datasource.max-idle=5\nspring.datasource.min-idle=1\n</code></pre>\n<p>To validate connection you need to specify a validation-query and when to validate. As you want to validate periodically, instead of when a connection is retrieved from the pool (this to prevent broken connections in your pool).</p>\n<pre><code>spring.datasource.test-while-idle=true\nspring.datasource.test-on-borrow=true\nspring.datasource.validation-query=SELECT 1\n</code></pre>\n<p><strong>NOTE:</strong> The usage of a <code>validation-query</code> is actually discouraged with as JDBC4 has a better/different way of doing connection validation. HikariCP will automatically call the JDBC validation method when available.</p>\n<p>Now that you are also validating while a connection is idle you need to specify how often you want to run this query for the connections and when a connection is considered idle.</p>\n<pre><code>spring.datasource.time-between-eviction-runs-millis=5000 (this is the default)\nspring.datasource.min-evictable-idle-time-millis=60000 (this is also default)\n</code></pre>\n<p>This all should trigger validation of your (idle) connections and when an exception occurs or the idle period has passed your connections will be removed from the pool.</p>\n<p>Assuming you are using Tomcat JDBC as the connection pool <a href=\"http://www.tomcatexpert.com/blog/2010/04/01/configuring-jdbc-pool-high-concurrency\" rel=\"nofollow noreferrer\">this</a> is a nice read of what and how to configure.</p>\n<p><strong>UPDATE:</strong> Spring Boot 2.x switched the default connection pool to HikariCP instead of Tomcat JDBC.</p>\n"}],"owner":{"account_id":4926376,"reputation":4397,"user_id":3967525,"accept_rate":70,"display_name":"Soham"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43117,"favorite_count":0,"down_vote_count":0,"up_vote_count":48,"accepted_answer_id":30455408,"answer_count":1,"score":48,"last_activity_date":1673591729,"creation_date":1432623274,"question_id":30451470,"body_markdown":"I have an app that uses spring-boot,jpa-hiberanate with mysql.I am getting this error log\r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 56,006,037 milliseconds ago.  The last packet sent successfully to the server was 56,006,037 milliseconds ago. is longer than the server configured value of &#39;wait_timeout&#39;. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property &#39;autoReconnect=true&#39; to avoid this problem.\r\n\r\nHere is my application.properties\r\n\r\n    # DataSource settings: set here configurations for the database connection\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/test\r\n    spring.datasource.username = test\r\n    spring.datasource.password = test\r\n    spring.datasource.driverClassName = com.mysql.jdbc.Driver\r\n    \r\n    # Specify the DBMS\r\n    spring.jpa.database = MYSQL\r\n    \r\n    # Show or not log for each sql query\r\n    spring.jpa.show-sql = true\r\n    \r\n    # Hibernate settings are prefixed with spring.jpa.hibernate.*\r\n    spring.jpa.hibernate.ddl-auto = update\r\n    spring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\n**To solve this issue I can use**\r\n\r\n    spring.datasource.testOnBorrow=true\r\n    spring.datasource.validationQuery=SELECT 1\r\n\r\nBut I checked that it&#39;s not [recommended][1] .So can anyone suggest me what should I do to overcome this error\r\n\r\n  [1]: http://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html","title":"Connection to Db dies after &gt;4&lt;24 in spring-boot jpa hibernate","body":"<p>I have an app that uses spring-boot,jpa-hiberanate with mysql.I am getting this error log</p>\n\n<pre><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: The last packet successfully received from the server was 56,006,037 milliseconds ago.  The last packet sent successfully to the server was 56,006,037 milliseconds ago. is longer than the server configured value of 'wait_timeout'. You should consider either expiring and/or testing connection validity before use in your application, increasing the server configured values for client timeouts, or using the Connector/J connection property 'autoReconnect=true' to avoid this problem.\n</code></pre>\n\n<p>Here is my application.properties</p>\n\n<pre><code># DataSource settings: set here configurations for the database connection\nspring.datasource.url = jdbc:mysql://localhost:3306/test\nspring.datasource.username = test\nspring.datasource.password = test\nspring.datasource.driverClassName = com.mysql.jdbc.Driver\n\n# Specify the DBMS\nspring.jpa.database = MYSQL\n\n# Show or not log for each sql query\nspring.jpa.show-sql = true\n\n# Hibernate settings are prefixed with spring.jpa.hibernate.*\nspring.jpa.hibernate.ddl-auto = update\nspring.jpa.hibernate.dialect = org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.naming_strategy = org.hibernate.cfg.ImprovedNamingStrategy\n</code></pre>\n\n<p><strong>To solve this issue I can use</strong></p>\n\n<pre><code>spring.datasource.testOnBorrow=true\nspring.datasource.validationQuery=SELECT 1\n</code></pre>\n\n<p>But I checked that it's not <a href=\"http://dev.mysql.com/doc/connector-j/en/connector-j-reference-configuration-properties.html\" rel=\"noreferrer\">recommended</a> .So can anyone suggest me what should I do to overcome this error</p>\n"},{"tags":["java","spring-boot","event-listener","completable-future","threadpoolexecutor"],"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1672950693,"post_id":75021789,"comment_id":132394718,"body_markdown":"&quot;When method calls using @EventListener(ApplicationReadyEvent.class) all is good&quot; what is this supposed to mean?","body":"&quot;When method calls using @EventListener(ApplicationReadyEvent.class) all is good&quot; what is this supposed to mean?"},{"owner":{"account_id":12332598,"reputation":1,"user_id":8998027,"display_name":"ordinary user"},"score":0,"creation_date":1672992922,"post_id":75021789,"comment_id":132402105,"body_markdown":"Thank you, the question body was edited for clear","body":"Thank you, the question body was edited for clear"}],"answers":[{"tags":[],"owner":{"account_id":12332598,"reputation":1,"user_id":8998027,"display_name":"ordinary user"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673591670,"creation_date":1673090015,"answer_id":75039864,"question_id":75021789,"body_markdown":"Problem was solved by deleting Completablefuture. I mistakenly believed reuse thread when asyncThreadPool complete its task. In my case I decide don&#39;t pass DB operation in another thread and make task inside main thread. ","title":"Method called using annotation &#39;@EventListener(ApplicationReadyEvent.class)&#39; working as expected, but direct call falls","body":"<p>Problem was solved by deleting Completablefuture. I mistakenly believed reuse thread when asyncThreadPool complete its task. In my case I decide don't pass DB operation in another thread and make task inside main thread.</p>\n"}],"owner":{"account_id":12332598,"reputation":1,"user_id":8998027,"display_name":"ordinary user"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75039864,"answer_count":1,"score":-1,"last_activity_date":1673591670,"creation_date":1672937344,"question_id":75021789,"body_markdown":"When the method is called by `@EventListener(ApplicationReadyEvent.class)`, the expected behavior eventually occurs. But when a direct method call occurs, then the loop inside CompletableFuture repeats only once\r\n\r\n\r\n```\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void method1() {\r\n\r\n        List&lt;CompletableFuture&lt;Void&gt;&gt; pool = new ArrayList&lt;&gt;();\r\n        IntStream.range(0, configproperty.getPipelinethreads()).forEach(i -&gt; pool.add(method2()));\r\n        CompletableFuture.allOf(pool.toArray(CompletableFuture[]::new))\r\n                .thenRun(() -&gt; {\r\n                    log.info(&quot;Delta time - &quot; + calcDeltaTime(timeBegin));\r\n                });\r\n    }\r\n\r\n    private CompletableFuture&lt;Void&gt; method2() {\r\n\r\n        return CompletableFuture.runAsync(() -&gt; {\r\n            do {\r\n                List&lt;Entity&gt; entityList = facility.fetchEntityList();\r\n\r\n                entityList.forEach(entity -&gt; {\r\n\r\n                    performStore(entity);\r\n                });\r\n            } while (proceed.get());\r\n        }, asyncThreadPool);//ThreadPoolTaskExecutor\r\n    }\r\n```\r\n`asyncThreadPool` pool got a capacity also from `configproperty.getPipelinethreads()`\r\n\r\nI have tried run it using `@EventListener(ApplicationReadyEvent.class)` in controller&#39;s method and it working properly, but direct call the controller make it motionless after few iterations in CompletableFuture. Where should I look to find the essence of the problem?","title":"Method called using annotation &#39;@EventListener(ApplicationReadyEvent.class)&#39; working as expected, but direct call falls","body":"<p>When the method is called by <code>@EventListener(ApplicationReadyEvent.class)</code>, the expected behavior eventually occurs. But when a direct method call occurs, then the loop inside CompletableFuture repeats only once</p>\n<pre><code>    @EventListener(ApplicationReadyEvent.class)\n    public void method1() {\n\n        List&lt;CompletableFuture&lt;Void&gt;&gt; pool = new ArrayList&lt;&gt;();\n        IntStream.range(0, configproperty.getPipelinethreads()).forEach(i -&gt; pool.add(method2()));\n        CompletableFuture.allOf(pool.toArray(CompletableFuture[]::new))\n                .thenRun(() -&gt; {\n                    log.info(&quot;Delta time - &quot; + calcDeltaTime(timeBegin));\n                });\n    }\n\n    private CompletableFuture&lt;Void&gt; method2() {\n\n        return CompletableFuture.runAsync(() -&gt; {\n            do {\n                List&lt;Entity&gt; entityList = facility.fetchEntityList();\n\n                entityList.forEach(entity -&gt; {\n\n                    performStore(entity);\n                });\n            } while (proceed.get());\n        }, asyncThreadPool);//ThreadPoolTaskExecutor\n    }\n</code></pre>\n<p><code>asyncThreadPool</code> pool got a capacity also from <code>configproperty.getPipelinethreads()</code></p>\n<p>I have tried run it using <code>@EventListener(ApplicationReadyEvent.class)</code> in controller's method and it working properly, but direct call the controller make it motionless after few iterations in CompletableFuture. Where should I look to find the essence of the problem?</p>\n"},{"tags":["java","decode","encode"],"comments":[{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":2,"creation_date":1673516465,"post_id":75094091,"comment_id":132518447,"body_markdown":"Spaces are perfectly valid in filenames on many platforms. Do you have a specific error?","body":"Spaces are perfectly valid in filenames on many platforms. Do you have a specific error?"}],"answers":[{"comments":[{"owner":{"account_id":1490076,"reputation":741,"user_id":1397376,"display_name":"Mike Kaganski"},"score":0,"creation_date":1676288951,"post_id":75094157,"comment_id":133100672,"body_markdown":"&quot;+ and %20 in a URL are identical and are both turned into a space, as per spec&quot; is wrong. This was only mentioned by RFC 1630, which was not a standard, but just an info summarizing some obsoleted non-standard use at that time. The actual spec (RFC 1738 and following) does not mention such replacement at all. RFC 3986 puts `+` to &quot;reserved characters&quot; (sub-delims). &quot;characters in the reserved set are protected from normalization and are therefore safe to be used by scheme-specific and producer-specific algorithms for delimiting data subcomponents within a URI&quot;.","body":"&quot;+ and %20 in a URL are identical and are both turned into a space, as per spec&quot; is wrong. This was only mentioned by RFC 1630, which was not a standard, but just an info summarizing some obsoleted non-standard use at that time. The actual spec (RFC 1738 and following) does not mention such replacement at all. RFC 3986 puts <code>+</code> to &quot;reserved characters&quot; (sub-delims). &quot;characters in the reserved set are protected from normalization and are therefore safe to be used by scheme-specific and producer-specific algorithms for delimiting data subcomponents within a URI&quot;."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673516012,"creation_date":1673516012,"answer_id":75094157,"question_id":75094091,"body_markdown":"`+` in a URL _means_ space. If you want `+` to mean +, that&#39;s bizarre, and no tool exists to do that, because that&#39;s not what URL decoding means. Note that `+` and `%20` in a URL are identical and are both turned into a space, as per spec. If you want `+` to remain `+`, but `%20` to turn into space, you&#39;d have to write your own URL decoder. If you don&#39;t care about `%20`, you can always take the string that the url decoder gives you, and call `.replace(&quot; &quot;, &quot;+&quot;)` on it.","title":"Replacement of URLDecoder","body":"<p><code>+</code> in a URL <em>means</em> space. If you want <code>+</code> to mean +, that's bizarre, and no tool exists to do that, because that's not what URL decoding means. Note that <code>+</code> and <code>%20</code> in a URL are identical and are both turned into a space, as per spec. If you want <code>+</code> to remain <code>+</code>, but <code>%20</code> to turn into space, you'd have to write your own URL decoder. If you don't care about <code>%20</code>, you can always take the string that the url decoder gives you, and call <code>.replace(&quot; &quot;, &quot;+&quot;)</code> on it.</p>\n"},{"tags":[],"owner":{"account_id":792027,"reputation":2645,"user_id":869368,"display_name":"Matthias"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1673516531,"creation_date":1673516531,"answer_id":75094275,"question_id":75094091,"body_markdown":"if you&#39;re talking about parsing the `Content-Disposition` header, which looks like this here for example: \r\n\r\n    Content-Disposition: attachment; filename=&quot;file+name.txt&quot;; \r\n\r\nthen you don&#39;t need to decode what&#39;s written in the quotes using url encoding. What&#39;s inside the quotes is going to be the right filename without encoding necessary. Therefore, the plus represents an actual plus. If it were a space, the header would look like this: \r\n\r\n    Content-Disposition: attachment; filename=&quot;file name.txt&quot;; \r\n\r\nfor some more theory behind this: \r\n\r\nThis [RFC 6266, section 4.1][1] specifies the Content-Disposition header with how the filename should be formatted. They losely mention that the filename is just &quot;as is&quot; and not encoded, but they also reference that details on the encoding can be found in[RFC 2616, Section 3.6][2] that section however does not really detail out the specific encoding. \r\n\r\nSo my suggestion: assume the filename parameter is &quot;right as is&quot;. That is unless you&#39;re expecting to deal with filenames that contain non-ascii characters. in which case, details can also be found in the two mentioned RFCs. \r\n\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc6266#section-4.1\r\n  [2]: https://www.rfc-editor.org/rfc/rfc2616#section-3.6","title":"Replacement of URLDecoder","body":"<p>if you're talking about parsing the <code>Content-Disposition</code> header, which looks like this here for example:</p>\n<pre><code>Content-Disposition: attachment; filename=&quot;file+name.txt&quot;; \n</code></pre>\n<p>then you don't need to decode what's written in the quotes using url encoding. What's inside the quotes is going to be the right filename without encoding necessary. Therefore, the plus represents an actual plus. If it were a space, the header would look like this:</p>\n<pre><code>Content-Disposition: attachment; filename=&quot;file name.txt&quot;; \n</code></pre>\n<p>for some more theory behind this:</p>\n<p>This <a href=\"https://www.rfc-editor.org/rfc/rfc6266#section-4.1\" rel=\"nofollow noreferrer\">RFC 6266, section 4.1</a> specifies the Content-Disposition header with how the filename should be formatted. They losely mention that the filename is just &quot;as is&quot; and not encoded, but they also reference that details on the encoding can be found in<a href=\"https://www.rfc-editor.org/rfc/rfc2616#section-3.6\" rel=\"nofollow noreferrer\">RFC 2616, Section 3.6</a> that section however does not really detail out the specific encoding.</p>\n<p>So my suggestion: assume the filename parameter is &quot;right as is&quot;. That is unless you're expecting to deal with filenames that contain non-ascii characters. in which case, details can also be found in the two mentioned RFCs.</p>\n"}],"owner":{"account_id":20291390,"reputation":21,"user_id":14882983,"display_name":"varen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1673547107,"answer_count":2,"score":-2,"last_activity_date":1673591417,"creation_date":1673515705,"question_id":75094091,"body_markdown":"Sorry, I edit question again to make it clearly.\r\n\r\nIf there is a filename called ```abc你好+```.\r\n\r\nWhen this filename pasre in Content-Disposition header as ```abc%E4%BD%A0%E5%A5%BD+```.\r\n\r\nI decode ```abc%E4%BD%A0%E5%A5%BD+``` through java.net.URLDecoder.decode() but it turned to be ```abc你好```, the plus sign is replaced with space, thus the filename is not the original one.\r\n\r\nI wonder if there is build-in method or other 3rd party package to decode and avoid plus pattern to be space. Because I just want to decode the string which had been percentage encoding. Thank you.","title":"Replacement of URLDecoder","body":"<p>Sorry, I edit question again to make it clearly.</p>\n<p>If there is a filename called <code>abc你好+</code>.</p>\n<p>When this filename pasre in Content-Disposition header as <code>abc%E4%BD%A0%E5%A5%BD+</code>.</p>\n<p>I decode <code>abc%E4%BD%A0%E5%A5%BD+</code> through java.net.URLDecoder.decode() but it turned to be <code>abc你好</code>, the plus sign is replaced with space, thus the filename is not the original one.</p>\n<p>I wonder if there is build-in method or other 3rd party package to decode and avoid plus pattern to be space. Because I just want to decode the string which had been percentage encoding. Thank you.</p>\n"},{"tags":["java","spring","apache-camel","amazon-sqs"],"answers":[{"comments":[{"owner":{"account_id":15536363,"reputation":209,"user_id":11208460,"display_name":"Alex Faster"},"score":1,"creation_date":1604505614,"post_id":64680190,"comment_id":114368760,"body_markdown":"unfortunately it is not acceptable for my case. I really need to delete sqs message as soon as it is consumed","body":"unfortunately it is not acceptable for my case. I really need to delete sqs message as soon as it is consumed"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":1,"creation_date":1604510569,"post_id":64680190,"comment_id":114371143,"body_markdown":"@AlexFaster why?  That simply does not make sense for a queuing system.","body":"@AlexFaster why?  That simply does not make sense for a queuing system."},{"owner":{"account_id":15536363,"reputation":209,"user_id":11208460,"display_name":"Alex Faster"},"score":1,"creation_date":1604563767,"post_id":64680190,"comment_id":114386147,"body_markdown":"it is a part for manual reprocessing, we log in the database all processing steps and have logic which pickups the entity if it is not fully processed. So for us, the most important is to avoid reprocessing by any cost, because the pipeline is huge and requires a lot of processing power == money.","body":"it is a part for manual reprocessing, we log in the database all processing steps and have logic which pickups the entity if it is not fully processed. So for us, the most important is to avoid reprocessing by any cost, because the pipeline is huge and requires a lot of processing power == money."},{"owner":{"account_id":11518310,"reputation":656,"user_id":8441015,"display_name":"Sidharth Ramesh"},"score":0,"creation_date":1625481428,"post_id":64680190,"comment_id":120630357,"body_markdown":"@luk2302 - To clarify, does setting the &#39;deleteAfterRead&#39; in Camel to TRUE mean that the message is deleted as soon as it&#39;s read without waiting to see if it gets processed or not?","body":"@luk2302 - To clarify, does setting the &#39;deleteAfterRead&#39; in Camel to TRUE mean that the message is deleted as soon as it&#39;s read without waiting to see if it gets processed or not?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1625482104,"post_id":64680190,"comment_id":120630624,"body_markdown":"@SidharthRamesh I have no clue what camel does, sorry.","body":"@SidharthRamesh I have no clue what camel does, sorry."},{"owner":{"account_id":1735496,"reputation":1778,"user_id":1588163,"accept_rate":74,"display_name":"clapas"},"score":0,"creation_date":1673532551,"post_id":64680190,"comment_id":132524046,"body_markdown":"This does not answer the OP question. Instead, it is telling the OP to do something different.","body":"This does not answer the OP question. Instead, it is telling the OP to do something different."}],"tags":[],"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"comment_count":6,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1604493233,"creation_date":1604493233,"answer_id":64680190,"question_id":64680085,"body_markdown":"You should certainly NOT delete the message as soon as you consume it if you are not finished processing it because you will lose the message if your application crashes.  \r\n\r\nWhat you should do instead is **extend the visibility timeout manually** if you realize that your processing time gets close to the original visibility timeout. Not sure how you would implement it in Camel but we previously integrated into the default `springframework.cloud.aws.messaging`: https://github.com/Mercateo/sqs-utils","title":"Apache Camel immediate read from SQS","body":"<p>You should certainly NOT delete the message as soon as you consume it if you are not finished processing it because you will lose the message if your application crashes.</p>\n<p>What you should do instead is <strong>extend the visibility timeout manually</strong> if you realize that your processing time gets close to the original visibility timeout. Not sure how you would implement it in Camel but we previously integrated into the default <code>springframework.cloud.aws.messaging</code>: <a href=\"https://github.com/Mercateo/sqs-utils\" rel=\"nofollow noreferrer\">https://github.com/Mercateo/sqs-utils</a></p>\n"},{"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1673533207,"post_id":75097622,"comment_id":132524296,"body_markdown":"And then your server crashes and you have lost the messages, not a good idea. As I explained in my answer: don&#39;t delete message before you are done processing them.","body":"And then your server crashes and you have lost the messages, not a good idea. As I explained in my answer: don&#39;t delete message before you are done processing them."},{"owner":{"account_id":1735496,"reputation":1778,"user_id":1588163,"accept_rate":74,"display_name":"clapas"},"score":0,"creation_date":1673533903,"post_id":75097622,"comment_id":132524561,"body_markdown":"I don&#39;t care about losing the messages, nor does the OP as he already told you. But you smarter than anyone, aren&#39;t you?","body":"I don&#39;t care about losing the messages, nor does the OP as he already told you. But you smarter than anyone, aren&#39;t you?"}],"tags":[],"owner":{"account_id":1735496,"reputation":1778,"user_id":1588163,"accept_rate":74,"display_name":"clapas"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1673590901,"creation_date":1673532733,"answer_id":75097622,"question_id":64680085,"body_markdown":"If, like the OP has stated, you don&#39;t mind about losing the messages in case e.g. of a server crash, there is a workaround consisting in sending the message to a `wireTap` and doing your processing there. This allows the main route to end early and a `deleteMessage` to be sent to the queue.\r\n\r\nAnother interesting, realted situation is that of an exception: if you have an exception handler in place and mark the exception as handled calling `handled(true)` on the `OnExceptionDefinition`, your message will be deleted too.","title":"Apache Camel immediate read from SQS","body":"<p>If, like the OP has stated, you don't mind about losing the messages in case e.g. of a server crash, there is a workaround consisting in sending the message to a <code>wireTap</code> and doing your processing there. This allows the main route to end early and a <code>deleteMessage</code> to be sent to the queue.</p>\n<p>Another interesting, realted situation is that of an exception: if you have an exception handler in place and mark the exception as handled calling <code>handled(true)</code> on the <code>OnExceptionDefinition</code>, your message will be deleted too.</p>\n"}],"owner":{"account_id":15536363,"reputation":209,"user_id":11208460,"display_name":"Alex Faster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1673590901,"creation_date":1604492832,"question_id":64680085,"body_markdown":"I have very huge camel pipeline which starts from consuming message from SQS.\r\nThe time requires for whole process is vary. From 5 sec to 30 min, it is hard to guess here.\r\n\r\nWhat I want to achieve: \r\n1) Do not guess visibility timeout size, and just delete message from SQS as soon as message is consumed.\r\n\r\nWhat I already tried: \r\n1) Tried Camel option deleteAfterRead=true -&gt; doesn&#39;t help, because as stated in the doc: **Delete message from SQS after it has been read (and processed by the route).** And I have huge pipeline. So processed requirement fails here.\r\n2) Tried to increase visibility timeout, but as I stated, it is just a guessing game, and I want to develop more reliable solution.\r\n\r\nThank you for help!","title":"Apache Camel immediate read from SQS","body":"<p>I have very huge camel pipeline which starts from consuming message from SQS.\nThe time requires for whole process is vary. From 5 sec to 30 min, it is hard to guess here.</p>\n<p>What I want to achieve:</p>\n<ol>\n<li>Do not guess visibility timeout size, and just delete message from SQS as soon as message is consumed.</li>\n</ol>\n<p>What I already tried:</p>\n<ol>\n<li>Tried Camel option deleteAfterRead=true -&gt; doesn't help, because as stated in the doc: <strong>Delete message from SQS after it has been read (and processed by the route).</strong> And I have huge pipeline. So processed requirement fails here.</li>\n<li>Tried to increase visibility timeout, but as I stated, it is just a guessing game, and I want to develop more reliable solution.</li>\n</ol>\n<p>Thank you for help!</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":18851191,"reputation":14,"user_id":13750298,"display_name":"HIMANSHU RANJAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673590233,"creation_date":1673590233,"answer_id":75105463,"question_id":75100213,"body_markdown":"You can use a @RequestParam annotation for passing a parameter which is not related to the same entity class in this case. \r\nI am adding a code snippet. you can take a reference from it. \r\n```\r\n@PostMapping(&quot;/users&quot;)public String saveUser(@RequestBody User user, @RequestParam(&quot;role_ids&quot;) String roleIds) {\r\n        user.setId(0);\r\n        userservice.saveUser(user, roleIds);\r\n        return &quot;blog saved&quot;;\r\n}\r\n```\r\n\r\nYou&#39;ll need to separate the roleIds and convert it to integer or long in the service layer before saving it. ","title":"How to make a post request when it has a @ManyToMany relationship?","body":"<p>You can use a @RequestParam annotation for passing a parameter which is not related to the same entity class in this case.\nI am adding a code snippet. you can take a reference from it.</p>\n<pre><code>@PostMapping(&quot;/users&quot;)public String saveUser(@RequestBody User user, @RequestParam(&quot;role_ids&quot;) String roleIds) {\n        user.setId(0);\n        userservice.saveUser(user, roleIds);\n        return &quot;blog saved&quot;;\n}\n</code></pre>\n<p>You'll need to separate the roleIds and convert it to integer or long in the service layer before saving it.</p>\n"}],"owner":{"account_id":27329336,"reputation":15,"user_id":20849092,"display_name":"KratosWithoutAtreus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75105463,"answer_count":1,"score":0,"last_activity_date":1673590233,"creation_date":1673544792,"question_id":75100213,"body_markdown":"I have the following tables in my database: **RoleModel** and **UserModel**. The UserModel table has a **@ManyToMany** relationship with RoleModel, where a user can be assigned one or more roles. How should I pass the role_id in the POST request body when registering a user?\r\n\r\n**UserModel**\r\n\r\n    public class UserModel {\r\n    \r\n    \tprivate Long id;\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \t@ManyToMany\r\n    \t@JoinTable(name = &quot;users_roles&quot;,\r\n    \t\t\tjoinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n    \t\t\tinverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    \tprivate List&lt;RoleModel&gt; roles;\r\n    }\r\n\r\n**RoleModel**\r\n\r\n    public class RoleModel {\r\n    \r\n    \tprivate Long id;\r\n    \t@Enumerated(EnumType.STRING)\r\n    \tprivate RoleName roleName;\r\n\r\n\r\n**UserDtoRequest** Here is my problem!\r\n\r\n    public class UserDtoRequest {\r\n    \t\r\n    \tprivate String username;\r\n    \tprivate String password;\r\n    \tprivate List&lt;Long&gt; roleModelIds;\r\n    \r\n    }\r\n\r\n\r\nI tried to assemble the request this way in the POSTMAN.\r\n\r\n    {\r\n        &quot;username&quot;: &quot;joao&quot;,\r\n        &quot;password&quot;: &quot;test&quot;,\r\n        &quot;roleModelId&quot;: [\r\n            {\r\n                &quot;id&quot;: 1\r\n            },\r\n            {\r\n                &quot;id&quot;: 2\r\n            }\r\n        ]\r\n    }\r\n\r\n\r\n","title":"How to make a post request when it has a @ManyToMany relationship?","body":"<p>I have the following tables in my database: <strong>RoleModel</strong> and <strong>UserModel</strong>. The UserModel table has a <strong>@ManyToMany</strong> relationship with RoleModel, where a user can be assigned one or more roles. How should I pass the role_id in the POST request body when registering a user?</p>\n<p><strong>UserModel</strong></p>\n<pre><code>public class UserModel {\n\n    private Long id;\n    private String username;\n    private String password;\n    @ManyToMany\n    @JoinTable(name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private List&lt;RoleModel&gt; roles;\n}\n</code></pre>\n<p><strong>RoleModel</strong></p>\n<pre><code>public class RoleModel {\n\n    private Long id;\n    @Enumerated(EnumType.STRING)\n    private RoleName roleName;\n</code></pre>\n<p><strong>UserDtoRequest</strong> Here is my problem!</p>\n<pre><code>public class UserDtoRequest {\n    \n    private String username;\n    private String password;\n    private List&lt;Long&gt; roleModelIds;\n\n}\n</code></pre>\n<p>I tried to assemble the request this way in the POSTMAN.</p>\n<pre><code>{\n    &quot;username&quot;: &quot;joao&quot;,\n    &quot;password&quot;: &quot;test&quot;,\n    &quot;roleModelId&quot;: [\n        {\n            &quot;id&quot;: 1\n        },\n        {\n            &quot;id&quot;: 2\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","visual-studio-code","text-files"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1673518990,"post_id":75094767,"comment_id":132519323,"body_markdown":"The question is where the files is actually located relative to the java file, the jar, the project, etc.","body":"The question is where the files is actually located relative to the java file, the jar, the project, etc."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673519013,"post_id":75094767,"comment_id":132519331,"body_markdown":"It&#39;s not VSCode or the .txt extension that&#39;s causing the problem. When you start the java vm your program opens a file, the vm looks for that file in the process&#39;s working directory. The file obviously is not there. How do you start your program?","body":"It&#39;s not VSCode or the .txt extension that&#39;s causing the problem. When you start the java vm your program opens a file, the vm looks for that file in the process&#39;s working directory. The file obviously is not there. How do you start your program?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1673519266,"post_id":75094767,"comment_id":132519415,"body_markdown":"Don’t post pictures of your source code. Insert the relevant part as text. That’s actually easier than making a screenshot.","body":"Don’t post pictures of your source code. Insert the relevant part as text. That’s actually easier than making a screenshot."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":2,"creation_date":1673519270,"post_id":75094767,"comment_id":132519417,"body_markdown":"Either use absolute addressing, like `C:\\Data\\Integers.txt`, or put the File in the directory where the VM is running the java/jar file. Hint: use `System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));` in your code, it will tell you the execution location.","body":"Either use absolute addressing, like <code>C:\\Data\\Integers.txt</code>, or put the File in the directory where the VM is running the java/jar file. Hint: use <code>System.out.println(&quot;Working Directory = &quot; + System.getProperty(&quot;user.dir&quot;));</code> in your code, it will tell you the execution location."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673589866,"creation_date":1673589866,"answer_id":75105422,"question_id":75094767,"body_markdown":"Place the `.txt` file in the project root directory so that the code reads to the file location. As shown below\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf the file is not with the project, use absolute paths in the code.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iuIOz.png\r\n  [2]: https://i.stack.imgur.com/lQOer.png","title":"can I use .txt files in JAVA using VS code?","body":"<p>Place the <code>.txt</code> file in the project root directory so that the code reads to the file location. As shown below</p>\n<p><a href=\"https://i.stack.imgur.com/iuIOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iuIOz.png\" alt=\"enter image description here\" /></a></p>\n<p>If the file is not with the project, use absolute paths in the code.</p>\n<p><a href=\"https://i.stack.imgur.com/lQOer.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lQOer.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27508098,"reputation":1,"user_id":20990511,"display_name":"Lama84"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":778,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673589866,"creation_date":1673518907,"question_id":75094767,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/6euij.png)](https://i.stack.imgur.com/6euij.png)\r\n\r\nI am trying to access the text file in java and the code I have works in other IDEs but in VS code it keeps saying `File Not Found` - (produced from my exception handling)\r\n\r\nI can&#39;t find anything about how to access text files with VScode. Is this possible please and does anyone know how? \r\n\r\nI have tried to create the file in VScode with the `new text file` option and also by loading a pre-existing file and get the same result each time ","title":"can I use .txt files in JAVA using VS code?","body":"<p><a href=\"https://i.stack.imgur.com/6euij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6euij.png\" alt=\"enter image description here\" /></a></p>\n<p>I am trying to access the text file in java and the code I have works in other IDEs but in VS code it keeps saying <code>File Not Found</code> - (produced from my exception handling)</p>\n<p>I can't find anything about how to access text files with VScode. Is this possible please and does anyone know how?</p>\n<p>I have tried to create the file in VScode with the <code>new text file</code> option and also by loading a pre-existing file and get the same result each time</p>\n"},{"tags":["java","reactjs","spring"],"comments":[{"owner":{"account_id":1020929,"reputation":3574,"user_id":1031296,"display_name":"vicpermir"},"score":0,"creation_date":1652128532,"post_id":72177926,"comment_id":127526887,"body_markdown":"Does this answer your question? [origin has been blocked by CORS policy Spring boot and React](https://stackoverflow.com/questions/59775325/origin-has-been-blocked-by-cors-policy-spring-boot-and-react)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59775325/origin-has-been-blocked-by-cors-policy-spring-boot-and-react\">origin has been blocked by CORS policy Spring boot and React</a>"},{"owner":{"account_id":21043492,"reputation":1,"user_id":15465335,"display_name":"Fatih Uyanık"},"score":0,"creation_date":1652130939,"post_id":72177926,"comment_id":127527574,"body_markdown":"I tried but it didn&#39;t solve my problem","body":"I tried but it didn&#39;t solve my problem"}],"answers":[{"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":1,"creation_date":1673955989,"post_id":75105256,"comment_id":132607442,"body_markdown":"This &quot;works&quot; in that it allows `http://localhost:3000` to make cross-origin requests to the server, but it does allow cross-origin requests from *any* client, which may well create security issues. You should only do this in a production service if you really know what you are doing.","body":"This &quot;works&quot; in that it allows <code>http:&#47;&#47;localhost:3000</code> to make cross-origin requests to the server, but it does allow cross-origin requests from <i>any</i> client, which may well create security issues. You should only do this in a production service if you really know what you are doing."},{"owner":{"account_id":6638877,"reputation":131,"user_id":5125255,"display_name":"&#199;ağlar YILMAZ"},"score":0,"creation_date":1674760116,"post_id":75105256,"comment_id":132787720,"body_markdown":"yes, you right. this allow all client. this will create security problem","body":"yes, you right. this allow all client. this will create security problem"}],"tags":[],"owner":{"account_id":6638877,"reputation":131,"user_id":5125255,"display_name":"&#199;ağlar YILMAZ"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673588208,"creation_date":1673588208,"answer_id":75105256,"question_id":72177926,"body_markdown":"Use @CrossOrigin(origins = &quot;*&quot;) annotation Above your controller class\r\n","title":"Java Spring-Boot Access-Control-Allow-Origin Error","body":"<p>Use @CrossOrigin(origins = &quot;*&quot;) annotation Above your controller class</p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673589621,"creation_date":1673589621,"answer_id":75105399,"question_id":72177926,"body_markdown":"Anotate your spring boot controller class with this:\r\n\r\n    @CrossOrigin(origins = &quot;http://localhost:4200&quot;, maxAge = 3600)\r\n\r\n**Set the localhost port number as react listens**","title":"Java Spring-Boot Access-Control-Allow-Origin Error","body":"<p>Anotate your spring boot controller class with this:</p>\n<pre><code>@CrossOrigin(origins = &quot;http://localhost:4200&quot;, maxAge = 3600)\n</code></pre>\n<p><strong>Set the localhost port number as react listens</strong></p>\n"}],"owner":{"account_id":21043492,"reputation":1,"user_id":15465335,"display_name":"Fatih Uyanık"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1673589621,"creation_date":1652128320,"question_id":72177926,"body_markdown":"I want to connect react with spring boot application but when I open security settings\r\n&gt; Access to XMLHttpRequest at &#39;http://localhost:8080/sporcu/all&#39; from origin &#39;http://localhost:3000/&#39; has been blocked by CORS policy: No &#39;Access- Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\n i get the error","title":"Java Spring-Boot Access-Control-Allow-Origin Error","body":"<p>I want to connect react with spring boot application but when I open security settings</p>\n<blockquote>\n<p>Access to XMLHttpRequest at 'http://localhost:8080/sporcu/all' from origin 'http://localhost:3000/' has been blocked by CORS policy: No 'Access- Control-Allow-Origin' header is present on the requested resource.</p>\n</blockquote>\n<p>i get the error</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10922123,"reputation":563,"user_id":8028034,"display_name":"lxg95"},"score":0,"creation_date":1673535972,"post_id":75098373,"comment_id":132525407,"body_markdown":"ok nice, and what is the question?","body":"ok nice, and what is the question?"},{"owner":{"account_id":27276396,"reputation":11,"user_id":20796942,"display_name":"n0thing1993"},"score":0,"creation_date":1673536130,"post_id":75098373,"comment_id":132525475,"body_markdown":"jpg image in resources directory cannot be accessed in browser","body":"jpg image in resources directory cannot be accessed in browser"},{"owner":{"account_id":14601909,"reputation":955,"user_id":10545973,"display_name":"Rick"},"score":0,"creation_date":1673537047,"post_id":75098373,"comment_id":132525882,"body_markdown":"Please [edit] your question and include how you&#39;ve set up the application, what you are attempting and what you expect to happen. Consider reading [ask] or taking the [tour]","body":"Please <a href=\"https://stackoverflow.com/posts/75098373/edit\">edit</a> your question and include how you&#39;ve set up the application, what you are attempting and what you expect to happen. Consider reading <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> or taking the <a href=\"https://stackoverflow.com/tour\">tour</a>"}],"answers":[{"tags":[],"owner":{"account_id":27321132,"reputation":102,"user_id":20834798,"display_name":"Udit Mishra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673589416,"creation_date":1673589416,"answer_id":75105384,"question_id":75098373,"body_markdown":"\r\nUnlike what the spring-boot states, to get your spring-boot jar to serve the content: you had to add specifically register my src/main/resources/static content through this config class:\r\n\r\n       @Configuration\r\n       public class StaticResourceConfiguration implements WebMvcConfigurer {\r\n\r\n        private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {\r\n            &quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,\r\n            &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; };\r\n\r\n       @Override\r\n       public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n        registry.addResourceHandler(&quot;/**&quot;)\r\n            .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\r\n       }\r\n      }","title":"springboot fails to access static resources","body":"<p>Unlike what the spring-boot states, to get your spring-boot jar to serve the content: you had to add specifically register my src/main/resources/static content through this config class:</p>\n<pre><code>   @Configuration\n   public class StaticResourceConfiguration implements WebMvcConfigurer {\n\n    private static final String[] CLASSPATH_RESOURCE_LOCATIONS = {\n        &quot;classpath:/META-INF/resources/&quot;, &quot;classpath:/resources/&quot;,\n        &quot;classpath:/static/&quot;, &quot;classpath:/public/&quot; };\n\n   @Override\n   public void addResourceHandlers(ResourceHandlerRegistry registry) {\n    registry.addResourceHandler(&quot;/**&quot;)\n        .addResourceLocations(CLASSPATH_RESOURCE_LOCATIONS);\n   }\n  }\n</code></pre>\n"}],"owner":{"account_id":27276396,"reputation":11,"user_id":20796942,"display_name":"n0thing1993"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673589416,"creation_date":1673535866,"question_id":75098373,"body_markdown":"2023-01-12 22:58:37.869  WARN 6052 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /2.jpg\r\n2023-01-12 22:58:37.952  WARN 6052 --- [nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /2.jpg\r\n\r\n\r\nSetting the profile still does not solve the problem","title":"springboot fails to access static resources","body":"<p>2023-01-12 22:58:37.869  WARN 6052 --- [nio-8080-exec-5] o.s.web.servlet.PageNotFound             : No mapping for GET /2.jpg\n2023-01-12 22:58:37.952  WARN 6052 --- [nio-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for GET /2.jpg</p>\n<p>Setting the profile still does not solve the problem</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","alias","nativequery"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673518545,"post_id":75094671,"comment_id":132519159,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1673518607,"post_id":75094671,"comment_id":132519182,"body_markdown":"What is `countDistanceQuery` in the native query? I&#39;m not sure you can do that there.","body":"What is <code>countDistanceQuery</code> in the native query? I&#39;m not sure you can do that there."},{"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"score":0,"creation_date":1673518667,"post_id":75094671,"comment_id":132519207,"body_markdown":"This will calculate shortest distance between two locations","body":"This will calculate shortest distance between two locations"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1673519786,"post_id":75094671,"comment_id":132519587,"body_markdown":"What exactly is the issue? Both images have a distance?","body":"What exactly is the issue? Both images have a distance?"},{"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"score":0,"creation_date":1673520328,"post_id":75094671,"comment_id":132519767,"body_markdown":"I want to print alias distance in my result like this :  https://i.stack.imgur.com/Jx8gD.png","body":"I want to print alias distance in my result like this :  <a href=\"https://i.stack.imgur.com/Jx8gD.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/Jx8gD.png</a>"},{"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"score":0,"creation_date":1673520390,"post_id":75094671,"comment_id":132519784,"body_markdown":"Here distance column value not getting.","body":"Here distance column value not getting."}],"answers":[{"comments":[{"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"score":0,"creation_date":1673521126,"post_id":75095096,"comment_id":132520052,"body_markdown":"The calculation is based on some client-side values how can be add into model","body":"The calculation is based on some client-side values how can be add into model"}],"tags":[],"owner":{"account_id":18177897,"reputation":1,"user_id":13226272,"display_name":"PRRASANTHI VS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673520394,"creation_date":1673520394,"answer_id":75095096,"question_id":75094671,"body_markdown":"**@Transient** annotation is used to mark a field to be transient for the mapping framework, which means the field marked with **@Transient** is ignored by mapping framework and the field not mapped to any database column.\r\n\r\nTherefore try representing the distance property with **@Formula** annotation, and apply the distance calculation so that we can obtain the calculated value(I can see that you are calculating the distance based upon the image you have shared).\r\n\r\nWith **@Formula**, we can call native database functions and stored procedures and basically do anything that does not break the syntax of an SQL select clause for this field.\r\n\r\n\r\n\r\nReference: [https://www.concretepage.com/hibernate/formula_hibernate_annotation]","title":"How to show alias column in spring data jpa using native query?","body":"<p><strong>@Transient</strong> annotation is used to mark a field to be transient for the mapping framework, which means the field marked with <strong>@Transient</strong> is ignored by mapping framework and the field not mapped to any database column.</p>\n<p>Therefore try representing the distance property with <strong>@Formula</strong> annotation, and apply the distance calculation so that we can obtain the calculated value(I can see that you are calculating the distance based upon the image you have shared).</p>\n<p>With <strong>@Formula</strong>, we can call native database functions and stored procedures and basically do anything that does not break the syntax of an SQL select clause for this field.</p>\n<p>Reference: [https://www.concretepage.com/hibernate/formula_hibernate_annotation]</p>\n"}],"owner":{"account_id":27228501,"reputation":1,"user_id":20756611,"display_name":"Narender Singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":536,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673589226,"creation_date":1673518361,"question_id":75094671,"body_markdown":"I want to show it in my response distance field, but I am not able to do it please help.\r\n\r\nHere is my repo class in alias name (distance) I need to attach this distance column with my list of user results.\r\n\r\nRepository\r\n```\r\nString countDistanceQuery = &quot;(3959 * ACOS(COS(RADIANS(:latitude)) * COS(RADIANS(latitude)) * COS(RADIANS(longitude) - RADIANS(:longitude)) + SIN(RADIANS(:latitude)) * SIN(RADIANS(latitude))))&quot;;\r\n\r\n\r\n@Query(value = &quot;SELECT a.* , &quot; + countDistanceQuery + &quot; AS distance FROM user a WHERE a.address LIKE %:address% HAVING distance &lt; 25 ORDER BY distance LIMIT 0, 20&quot; , nativeQuery = true)\r\npublic List&lt;User&gt; getNearsetLoactionOfSitter(String address, String latitude, String longitude);\r\n```\r\n\r\nModel\r\n\r\nHere I will take the distance attribute as a @Transient to know the JPA does not present in the database.\r\n\r\n```\r\npackage com.misha.model;\r\n\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.FetchType;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.JoinTable;\r\nimport javax.persistence.ManyToMany;\r\nimport javax.persistence.Table;\r\n\r\nimport lombok.ToString;\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@ToString\r\n@Table(name = &quot;user&quot;,uniqueConstraints = { \r\n\t\t@UniqueConstraint(columnNames = &quot;email&quot;) \r\n\t})\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Integer id;\r\n\r\n\tprivate String contactname;\r\n\t\r\n\t@Column(unique=true)\r\n\tprivate String email;\r\n\r\n\tprivate String password;\r\n\r\n\tprivate String company;\r\n\t\r\n\tprivate String location;\r\n\r\n\tprivate String address;\r\n\r\n\tprivate String latitude;\r\n\r\n\tprivate String longitude;\r\n\r\n\tprivate String open;\r\n\r\n\tprivate String close;\r\n\r\n\tprivate float chargesperhour;\r\n\r\n\tprivate String logo;\r\n\r\n\tprivate boolean enabled;\r\n\t\r\n\t@Transient\r\n\tprivate double distance;\r\n\t\r\n\t@Column(name = &quot;reset_password_token&quot;)\r\n    private String resetPasswordToken;\r\n\t\r\n\t@ManyToMany(fetch = FetchType.EAGER)\r\n\t@JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n\tprivate Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n\tpublic User() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tpublic User(Integer id, String contactname, String email, String password, String company, String location, String address,\r\n\t\t\tString latitude, String longitude, String open, String close, float chargesperhour, String logo,\r\n\t\t\tboolean enabled, String resetPasswordToken) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.contactname = contactname;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.company = company;\r\n\t\tthis.location = location;\r\n\t\tthis.address = address;\r\n\t\tthis.latitude = latitude;\r\n\t\tthis.longitude = longitude;\r\n\t\tthis.open = open;\r\n\t\tthis.close = close;\r\n\t\tthis.chargesperhour = chargesperhour;\r\n\t\tthis.logo = logo;\r\n\t\tthis.enabled = enabled;\r\n\t\tthis.resetPasswordToken = resetPasswordToken;\r\n\t}\r\n\r\n\r\n\tpublic User(Integer id, String contactname, String email, String password, String company, String location,\r\n\t\t\tString address, String latitude, String longitude, String open, String close, float chargesperhour,\r\n\t\t\tString logo, boolean enabled, double distance, String resetPasswordToken, Set&lt;Role&gt; roles) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.contactname = contactname;\r\n\t\tthis.email = email;\r\n\t\tthis.password = password;\r\n\t\tthis.company = company;\r\n\t\tthis.location = location;\r\n\t\tthis.address = address;\r\n\t\tthis.latitude = latitude;\r\n\t\tthis.longitude = longitude;\r\n\t\tthis.open = open;\r\n\t\tthis.close = close;\r\n\t\tthis.chargesperhour = chargesperhour;\r\n\t\tthis.logo = logo;\r\n\t\tthis.enabled = enabled;\r\n\t\tthis.distance = distance;\r\n\t\tthis.resetPasswordToken = resetPasswordToken;\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n\tpublic Integer getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(Integer id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getContactname() {\r\n\t\treturn contactname;\r\n\t}\r\n\r\n\tpublic void setContactname(String contactname) {\r\n\t\tthis.contactname = contactname;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getPassword() {\r\n\t\treturn password;\r\n\t}\r\n\r\n\tpublic void setPassword(String password) {\r\n\t\tthis.password = password;\r\n\t}\r\n\r\n\tpublic String getCompany() {\r\n\t\treturn company;\r\n\t}\r\n\r\n\tpublic void setCompany(String company) {\r\n\t\tthis.company = company;\r\n\t}\r\n\t\r\n\r\n\tpublic String getLocation() {\r\n\t\treturn location;\r\n\t}\r\n\r\n\tpublic void setLocation(String location) {\r\n\t\tthis.location = location;\r\n\t}\r\n\r\n\tpublic String getAddress() {\r\n\t\treturn address;\r\n\t}\r\n\r\n\tpublic void setAddress(String address) {\r\n\t\tthis.address = address;\r\n\t}\r\n\r\n\tpublic String getLatitude() {\r\n\t\treturn latitude;\r\n\t}\r\n\r\n\tpublic void setLatitude(String latitude) {\r\n\t\tthis.latitude = latitude;\r\n\t}\r\n\r\n\tpublic String getLongitude() {\r\n\t\treturn longitude;\r\n\t}\r\n\r\n\tpublic void setLongitude(String longitude) {\r\n\t\tthis.longitude = longitude;\r\n\t}\r\n\r\n\tpublic String getOpen() {\r\n\t\treturn open;\r\n\t}\r\n\r\n\tpublic void setOpen(String open) {\r\n\t\tthis.open = open;\r\n\t}\r\n\r\n\tpublic String getClose() {\r\n\t\treturn close;\r\n\t}\r\n\r\n\tpublic void setClose(String close) {\r\n\t\tthis.close = close;\r\n\t}\r\n\r\n\tpublic float getChargesperhour() {\r\n\t\treturn chargesperhour;\r\n\t}\r\n\r\n\tpublic void setChargesperhour(float chargesperhour) {\r\n\t\tthis.chargesperhour = chargesperhour;\r\n\t}\r\n\r\n\tpublic String getLogo() {\r\n\t\treturn logo;\r\n\t}\r\n\r\n\tpublic void setLogo(String logo) {\r\n\t\tthis.logo = logo;\r\n\t}\r\n\r\n\tpublic boolean isEnabled() {\r\n\t\treturn enabled;\r\n\t}\r\n\r\n\tpublic void setEnabled(boolean enabled) {\r\n\t\tthis.enabled = enabled;\r\n\t}\r\n\t\r\n\tpublic String getResetPasswordToken() {\r\n\t\treturn resetPasswordToken;\r\n\t}\r\n\r\n\tpublic void setResetPasswordToken(String resetPasswordToken) {\r\n\t\tthis.resetPasswordToken = resetPasswordToken;\r\n\t}\r\n\t\r\n\tpublic double getDistance() {\r\n\t\treturn distance;\r\n\t}\r\n\r\n\tpublic void setDistance(double distance) {\r\n\t\tthis.distance = distance;\r\n\t}\r\n\r\n\tpublic Set&lt;Role&gt; getRoles() {\r\n\t\treturn roles;\r\n\t}\r\n\r\n\tpublic void setRoles(Set&lt;Role&gt; roles) {\r\n\t\tthis.roles = roles;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nController\r\n\r\n\r\n```\r\n@GetMapping(&quot;/users/search&quot;)\r\n\tpublic ResponseEntity&lt;List&lt;User&gt;&gt; searchNearestLocation(@RequestParam String address, @RequestParam String latitude, @RequestParam String longitude){\r\n\t\t\tif(!address.isEmpty() &amp;&amp; !latitude.isEmpty() &amp;&amp; !longitude.isEmpty()) {\t\t\t\t\r\n\t\ttry {\r\n\t\tList&lt;User&gt; list = userService.getNearsetLoactionOfSitter(address, latitude, longitude);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\tif( list.isEmpty() || list.size() == 0 ) {\r\n\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n\t\t\t}\t\t\r\n\t\t\treturn new ResponseEntity&lt;&gt;(list, HttpStatus.OK);\t\t\t\r\n\t\t}catch(Exception e) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\r\n\t\t\t\t}\t\t\t\r\n\t\t\t}else {\r\n\t\t\t\treturn new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\r\n\t\t\t}\t\t\r\n\t}\r\n\t\r\n```\r\n\r\n\r\n\r\n[I need to add Distance column in my response](https://i.stack.imgur.com/UcQvV.png)\r\n\r\n[I need to show calculated distance in response][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Jx8gD.png","title":"How to show alias column in spring data jpa using native query?","body":"<p>I want to show it in my response distance field, but I am not able to do it please help.</p>\n<p>Here is my repo class in alias name (distance) I need to attach this distance column with my list of user results.</p>\n<p>Repository</p>\n<pre><code>String countDistanceQuery = &quot;(3959 * ACOS(COS(RADIANS(:latitude)) * COS(RADIANS(latitude)) * COS(RADIANS(longitude) - RADIANS(:longitude)) + SIN(RADIANS(:latitude)) * SIN(RADIANS(latitude))))&quot;;\n\n\n@Query(value = &quot;SELECT a.* , &quot; + countDistanceQuery + &quot; AS distance FROM user a WHERE a.address LIKE %:address% HAVING distance &lt; 25 ORDER BY distance LIMIT 0, 20&quot; , nativeQuery = true)\npublic List&lt;User&gt; getNearsetLoactionOfSitter(String address, String latitude, String longitude);\n</code></pre>\n<p>Model</p>\n<p>Here I will take the distance attribute as a @Transient to know the JPA does not present in the database.</p>\n<pre><code>package com.misha.model;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.JoinTable;\nimport javax.persistence.ManyToMany;\nimport javax.persistence.Table;\n\nimport lombok.ToString;\nimport javax.persistence.*;\n\n@Entity\n@ToString\n@Table(name = &quot;user&quot;,uniqueConstraints = { \n        @UniqueConstraint(columnNames = &quot;email&quot;) \n    })\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Integer id;\n\n    private String contactname;\n    \n    @Column(unique=true)\n    private String email;\n\n    private String password;\n\n    private String company;\n    \n    private String location;\n\n    private String address;\n\n    private String latitude;\n\n    private String longitude;\n\n    private String open;\n\n    private String close;\n\n    private float chargesperhour;\n\n    private String logo;\n\n    private boolean enabled;\n    \n    @Transient\n    private double distance;\n    \n    @Column(name = &quot;reset_password_token&quot;)\n    private String resetPasswordToken;\n    \n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    public User() {\n        super();\n    }\n\n    public User(Integer id, String contactname, String email, String password, String company, String location, String address,\n            String latitude, String longitude, String open, String close, float chargesperhour, String logo,\n            boolean enabled, String resetPasswordToken) {\n        super();\n        this.id = id;\n        this.contactname = contactname;\n        this.email = email;\n        this.password = password;\n        this.company = company;\n        this.location = location;\n        this.address = address;\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.open = open;\n        this.close = close;\n        this.chargesperhour = chargesperhour;\n        this.logo = logo;\n        this.enabled = enabled;\n        this.resetPasswordToken = resetPasswordToken;\n    }\n\n\n    public User(Integer id, String contactname, String email, String password, String company, String location,\n            String address, String latitude, String longitude, String open, String close, float chargesperhour,\n            String logo, boolean enabled, double distance, String resetPasswordToken, Set&lt;Role&gt; roles) {\n        super();\n        this.id = id;\n        this.contactname = contactname;\n        this.email = email;\n        this.password = password;\n        this.company = company;\n        this.location = location;\n        this.address = address;\n        this.latitude = latitude;\n        this.longitude = longitude;\n        this.open = open;\n        this.close = close;\n        this.chargesperhour = chargesperhour;\n        this.logo = logo;\n        this.enabled = enabled;\n        this.distance = distance;\n        this.resetPasswordToken = resetPasswordToken;\n        this.roles = roles;\n    }\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getContactname() {\n        return contactname;\n    }\n\n    public void setContactname(String contactname) {\n        this.contactname = contactname;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getCompany() {\n        return company;\n    }\n\n    public void setCompany(String company) {\n        this.company = company;\n    }\n    \n\n    public String getLocation() {\n        return location;\n    }\n\n    public void setLocation(String location) {\n        this.location = location;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getLatitude() {\n        return latitude;\n    }\n\n    public void setLatitude(String latitude) {\n        this.latitude = latitude;\n    }\n\n    public String getLongitude() {\n        return longitude;\n    }\n\n    public void setLongitude(String longitude) {\n        this.longitude = longitude;\n    }\n\n    public String getOpen() {\n        return open;\n    }\n\n    public void setOpen(String open) {\n        this.open = open;\n    }\n\n    public String getClose() {\n        return close;\n    }\n\n    public void setClose(String close) {\n        this.close = close;\n    }\n\n    public float getChargesperhour() {\n        return chargesperhour;\n    }\n\n    public void setChargesperhour(float chargesperhour) {\n        this.chargesperhour = chargesperhour;\n    }\n\n    public String getLogo() {\n        return logo;\n    }\n\n    public void setLogo(String logo) {\n        this.logo = logo;\n    }\n\n    public boolean isEnabled() {\n        return enabled;\n    }\n\n    public void setEnabled(boolean enabled) {\n        this.enabled = enabled;\n    }\n    \n    public String getResetPasswordToken() {\n        return resetPasswordToken;\n    }\n\n    public void setResetPasswordToken(String resetPasswordToken) {\n        this.resetPasswordToken = resetPasswordToken;\n    }\n    \n    public double getDistance() {\n        return distance;\n    }\n\n    public void setDistance(double distance) {\n        this.distance = distance;\n    }\n\n    public Set&lt;Role&gt; getRoles() {\n        return roles;\n    }\n\n    public void setRoles(Set&lt;Role&gt; roles) {\n        this.roles = roles;\n    }\n\n}\n</code></pre>\n<p>Controller</p>\n<pre><code>@GetMapping(&quot;/users/search&quot;)\n    public ResponseEntity&lt;List&lt;User&gt;&gt; searchNearestLocation(@RequestParam String address, @RequestParam String latitude, @RequestParam String longitude){\n            if(!address.isEmpty() &amp;&amp; !latitude.isEmpty() &amp;&amp; !longitude.isEmpty()) {             \n        try {\n        List&lt;User&gt; list = userService.getNearsetLoactionOfSitter(address, latitude, longitude);\n                    \n                    \n        if( list.isEmpty() || list.size() == 0 ) {\n        return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }       \n            return new ResponseEntity&lt;&gt;(list, HttpStatus.OK);           \n        }catch(Exception e) {\n            return new ResponseEntity&lt;&gt;(null, HttpStatus.INTERNAL_SERVER_ERROR);\n                }           \n            }else {\n                return new ResponseEntity&lt;&gt;(HttpStatus.NO_CONTENT);\n            }       \n    }\n    \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UcQvV.png\" rel=\"nofollow noreferrer\">I need to add Distance column in my response</a></p>\n<p><a href=\"https://i.stack.imgur.com/Jx8gD.png\" rel=\"nofollow noreferrer\">I need to show calculated distance in response</a></p>\n"},{"tags":["java","arrays","algorithm","binary","decimal"],"answers":[{"tags":[],"owner":{"account_id":1257651,"reputation":12773,"user_id":1216776,"display_name":"stark"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1417616047,"creation_date":1417616047,"answer_id":27273905,"question_id":27273849,"body_markdown":"Should be\r\n\r\n    randombanana = a[x] + b[x] + carryover;\r\n\r\n","title":"Adding binary numbers in Java","body":"<p>Should be</p>\n\n<pre><code>randombanana = a[x] + b[x] + carryover;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2707308,"reputation":246,"user_id":2336634,"accept_rate":50,"display_name":"KC McLaughlin"},"score":0,"creation_date":1417616614,"post_id":27273971,"comment_id":43017520,"body_markdown":"The final bit is handled in a separate if statement outside of the for loop.","body":"The final bit is handled in a separate if statement outside of the for loop."}],"tags":[],"owner":{"account_id":5419198,"reputation":1,"user_id":4313439,"display_name":"agreene"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417616216,"creation_date":1417616216,"answer_id":27273971,"question_id":27273849,"body_markdown":"Your for loop isn&#39;t handling the 0th bit\r\n\r\n    for(x = 7; x &gt;= 0; x--){","title":"Adding binary numbers in Java","body":"<p>Your for loop isn't handling the 0th bit</p>\n\n<pre><code>for(x = 7; x &gt;= 0; x--){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4418840,"reputation":7587,"user_id":3599535,"accept_rate":39,"display_name":"Riyafa Abdul Hameed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558350279,"creation_date":1558350279,"answer_id":56219659,"question_id":27273849,"body_markdown":"Assuming the two numbers are of the same length the numbers could be added as follows:\r\n\r\n \r\n\r\n    public static int[] addNumbers(int[] firstNum, int[] secondNum) {\r\n            int[] result = new int[firstNum.length + 1];\r\n            int digitSum, carry = 0, i;\r\n            for (i = firstNum.length - 1; i &gt;= 0; i--) {\r\n                digitSum = firstNum[i] + secondNum[i] + carry;\r\n                result[i + 1] = digitSum % 2;\r\n                carry = digitSum / 2;\r\n            }\r\n            result[0] = carry;\r\n            return result;\r\n        }","title":"Adding binary numbers in Java","body":"<p>Assuming the two numbers are of the same length the numbers could be added as follows:</p>\n\n<pre><code>public static int[] addNumbers(int[] firstNum, int[] secondNum) {\n        int[] result = new int[firstNum.length + 1];\n        int digitSum, carry = 0, i;\n        for (i = firstNum.length - 1; i &gt;= 0; i--) {\n            digitSum = firstNum[i] + secondNum[i] + carry;\n            result[i + 1] = digitSum % 2;\n            carry = digitSum / 2;\n        }\n        result[0] = carry;\n        return result;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673615146,"post_id":75105206,"comment_id":132544669,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75105206/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":20266675,"reputation":3,"user_id":14863691,"display_name":"Mites97"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673588815,"creation_date":1673587752,"answer_id":75105206,"question_id":27273849,"body_markdown":"Here is a short and crisp solution.\r\n\r\n     public static int [] addBinaryNumbers(int a[],int b[])\r\n        {\r\n            int n =Integer.max(a.length, b.length);\r\n            int c[]=new int[n+1];\r\n            int carry =0;\r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n                c[n-i]=(a[i]+b[i]+carry)%2;\r\n                carry= (a[i]+b[i]+carry) /2;\r\n            }\r\n            c[n]=carry;\r\n            return c;\r\n        }","title":"Adding binary numbers in Java","body":"<p>Here is a short and crisp solution.</p>\n<pre><code> public static int [] addBinaryNumbers(int a[],int b[])\n    {\n        int n =Integer.max(a.length, b.length);\n        int c[]=new int[n+1];\n        int carry =0;\n        for(int i=0;i&lt;n;i++)\n        {\n            c[n-i]=(a[i]+b[i]+carry)%2;\n            carry= (a[i]+b[i]+carry) /2;\n        }\n        c[n]=carry;\n        return c;\n    }\n</code></pre>\n"}],"owner":{"account_id":2707308,"reputation":246,"user_id":2336634,"accept_rate":50,"display_name":"KC McLaughlin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27273905,"answer_count":4,"score":0,"last_activity_date":1673588815,"creation_date":1417615894,"question_id":27273849,"body_markdown":"I have a function which takes two binary numbers as an array of integers, adds the numbers, then returns the sum as a new array of integers.\r\n\r\n    public static int[] addBin(int a[], int b[]){\r\n          int[] sum = {0, 0, 0, 0, 0, 0, 0, 0};\r\n          int carryover = 0;\r\n          int randombanana = 0;\r\n          int x = 7;\r\n          for(x = 7; x &gt; 0; x--){\r\n            randombanana = a[x] + a[x] + carryover;\r\n            if(randombanana == 1){\r\n              sum[x] = 1;\r\n              carryover = 0;\r\n            }\r\n            else if(randombanana == 2){\r\n              sum[x] = 0;\r\n              carryover = 1;\r\n            }\r\n            else if(randombanana == 3){\r\n              sum[x] = 1;\r\n              carryover = 1;\r\n            }\r\n            else if(randombanana == 0){\r\n              sum[x] = 0;\r\n              carryover = 0;\r\n            }\r\n            else{\r\n              System.out.println(&quot;Either I [censored] up, or you [censored] up.  I&#39;m a genius so I&#39;m going to assume you [censored] up&quot;);\r\n            }\r\n          }\r\n              if(carryover == 1){\r\n                sum[x] = 1;\r\n          }\r\n          return sum;\r\n        }\r\n\r\nThe code works fine on single digit numbers, including numbers that require carrying a digit, but on double or triple digit numbers it works when a number is added to itself, but not when different multiple digit numbers are added.","title":"Adding binary numbers in Java","body":"<p>I have a function which takes two binary numbers as an array of integers, adds the numbers, then returns the sum as a new array of integers.</p>\n\n<pre><code>public static int[] addBin(int a[], int b[]){\n      int[] sum = {0, 0, 0, 0, 0, 0, 0, 0};\n      int carryover = 0;\n      int randombanana = 0;\n      int x = 7;\n      for(x = 7; x &gt; 0; x--){\n        randombanana = a[x] + a[x] + carryover;\n        if(randombanana == 1){\n          sum[x] = 1;\n          carryover = 0;\n        }\n        else if(randombanana == 2){\n          sum[x] = 0;\n          carryover = 1;\n        }\n        else if(randombanana == 3){\n          sum[x] = 1;\n          carryover = 1;\n        }\n        else if(randombanana == 0){\n          sum[x] = 0;\n          carryover = 0;\n        }\n        else{\n          System.out.println(\"Either I [censored] up, or you [censored] up.  I'm a genius so I'm going to assume you [censored] up\");\n        }\n      }\n          if(carryover == 1){\n            sum[x] = 1;\n      }\n      return sum;\n    }\n</code></pre>\n\n<p>The code works fine on single digit numbers, including numbers that require carrying a digit, but on double or triple digit numbers it works when a number is added to itself, but not when different multiple digit numbers are added.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"score":0,"creation_date":1673580503,"post_id":75104561,"comment_id":132536400,"body_markdown":"tried that and no that still does not work","body":"tried that and no that still does not work"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1673580596,"post_id":75104561,"comment_id":132536406,"body_markdown":"Then i expect you would need to use the Wrapper classes Boolean. This [link](https://stackoverflow.com/q/36507509/16034206) is somewhat similar. I think its because streams dont work with primitives?","body":"Then i expect you would need to use the Wrapper classes Boolean. This <a href=\"https://stackoverflow.com/q/36507509/16034206\">link</a> is somewhat similar. I think its because streams dont work with primitives?"},{"owner":{"account_id":12646737,"reputation":1077,"user_id":9192223,"display_name":"hiren"},"score":0,"creation_date":1673581156,"post_id":75104561,"comment_id":132536491,"body_markdown":"The stream in your code and in general is only capable of producing an Object[] if you attempt to collect it into an array. Using a list will at least allow you to maintain the type you want to convert it into.","body":"The stream in your code and in general is only capable of producing an Object[] if you attempt to collect it into an array. Using a list will at least allow you to maintain the type you want to convert it into."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1673581523,"post_id":75104561,"comment_id":132536528,"body_markdown":"`Boolean[] isAvailableArray =  class1List.stream().map(e -&gt; e.isAvailable()).toArray(Boolean[]::new);`","body":"<code>Boolean[] isAvailableArray =  class1List.stream().map(e -&gt; e.isAvailable()).toArray(Boolean[]::new);</code>"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1673596765,"post_id":75104561,"comment_id":132539079,"body_markdown":"Why do you even want a `boolean[]`? It’s very likely that whatever you want to do with the boolean array afterwards, can be done directly or at least, with an alternative way not requiring the boolean array.","body":"Why do you even want a <code>boolean[]</code>? It’s very likely that whatever you want to do with the boolean array afterwards, can be done directly or at least, with an alternative way not requiring the boolean array."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1673621258,"post_id":75104561,"comment_id":132546835,"body_markdown":"Does this answer your question? [Convert a Object\\[\\] of booleans to a boolean\\[\\] using streams](https://stackoverflow.com/questions/36507509/convert-a-object-of-booleans-to-a-boolean-using-streams)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/36507509/convert-a-object-of-booleans-to-a-boolean-using-streams\">Convert a Object&#91;&#93; of booleans to a boolean&#91;&#93; using streams</a>"}],"answers":[{"tags":[],"owner":{"account_id":8354342,"reputation":76,"user_id":6275236,"display_name":"Roland J."},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673585971,"creation_date":1673585971,"answer_id":75105016,"question_id":75104561,"body_markdown":"As you can see in the following example, the stream handles the primitive boolean values correctly (it creates Boolean objects). However, when `toArray` is used without a `generator` param (constructor), it falls back to an `Object` array.\r\n\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    public class BooleanStream {\r\n        public static class SomeClass {\r\n            public boolean isAvailable() {\r\n                return true;\r\n            }\r\n        }\r\n        @Test\r\n        public void testBoolean() {\r\n            List&lt;ByteArray.SomeClass&gt; list = new ArrayList&lt;&gt;();\r\n            ByteArray.SomeClass someClass = new ByteArray.SomeClass();\r\n            list.add(someClass);\r\n    \r\n            Object[] isAvailableArray = list.stream().map(e -&gt; e.isAvailable()).toArray();\r\n            assertTrue(isAvailableArray[0] instanceof Boolean);\r\n        }\r\n    }\r\n\r\nAs [experiment-unit-1998x][1] pointed out, the best solution is probably the generator param.\r\n\r\n  [1]: https://stackoverflow.com/users/16034206/experiment-unit-1998x","title":"how to create boolean array from stream","body":"<p>As you can see in the following example, the stream handles the primitive boolean values correctly (it creates Boolean objects). However, when <code>toArray</code> is used without a <code>generator</code> param (constructor), it falls back to an <code>Object</code> array.</p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\npublic class BooleanStream {\n    public static class SomeClass {\n        public boolean isAvailable() {\n            return true;\n        }\n    }\n    @Test\n    public void testBoolean() {\n        List&lt;ByteArray.SomeClass&gt; list = new ArrayList&lt;&gt;();\n        ByteArray.SomeClass someClass = new ByteArray.SomeClass();\n        list.add(someClass);\n\n        Object[] isAvailableArray = list.stream().map(e -&gt; e.isAvailable()).toArray();\n        assertTrue(isAvailableArray[0] instanceof Boolean);\n    }\n}\n</code></pre>\n<p>As <a href=\"https://stackoverflow.com/users/16034206/experiment-unit-1998x\">experiment-unit-1998x</a> pointed out, the best solution is probably the generator param.</p>\n"}],"owner":{"account_id":4708698,"reputation":1254,"user_id":3809938,"accept_rate":44,"display_name":"user3809938"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673588497,"creation_date":1673580242,"question_id":75104561,"body_markdown":"I have a list of `Class1`, which has a method `isAvailable()` which returns a boolean.\r\n\r\nI am trying to create an array of boolean from this.\r\n\r\nSo far I have tried the below:\r\n\r\n    List&lt;Class1&gt; class1List;\r\n    boolean[] isAvailableArray =  class1List.stream()\r\n\t\t\t\t\t\t\t                .map(e -&gt; e.isAvailable())\r\n                                            .toArray();\r\n\r\nHowever this is throwing  a ___can&#39;t convert from `Object[]` to `boolean[]`___ error.\r\n\r\nWhat is the reason for this. \r\n","title":"how to create boolean array from stream","body":"<p>I have a list of <code>Class1</code>, which has a method <code>isAvailable()</code> which returns a boolean.</p>\n<p>I am trying to create an array of boolean from this.</p>\n<p>So far I have tried the below:</p>\n<pre><code>List&lt;Class1&gt; class1List;\nboolean[] isAvailableArray =  class1List.stream()\n                                        .map(e -&gt; e.isAvailable())\n                                        .toArray();\n</code></pre>\n<p>However this is throwing  a <em><strong>can't convert from <code>Object[]</code> to <code>boolean[]</code></strong></em> error.</p>\n<p>What is the reason for this.</p>\n"},{"tags":["python","java","ubuntu","conda"],"answers":[{"comments":[{"owner":{"account_id":432990,"reputation":1632,"user_id":818072,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1673622283,"post_id":75105274,"comment_id":132547209,"body_markdown":"But the binary would continue using the default system python unless I replace the symbolic link, wouldn&#39;t it? Why would it start calling `python3.9`?","body":"But the binary would continue using the default system python unless I replace the symbolic link, wouldn&#39;t it? Why would it start calling <code>python3.9</code>?"},{"owner":{"account_id":20724483,"reputation":113848,"user_id":15239951,"display_name":"Corralien"},"score":0,"creation_date":1673624921,"post_id":75105274,"comment_id":132548123,"body_markdown":"Because you will have two binaries now: one for the system and one for python3.9 (with its own packages).","body":"Because you will have two binaries now: one for the system and one for python3.9 (with its own packages)."},{"owner":{"account_id":432990,"reputation":1632,"user_id":818072,"accept_rate":82,"display_name":"Egor"},"score":0,"creation_date":1673626293,"post_id":75105274,"comment_id":132548626,"body_markdown":"I meant the third-party shaka packager binary that needs python 3.9. It&#39;s just calling `python` internally, not `python3.9`","body":"I meant the third-party shaka packager binary that needs python 3.9. It&#39;s just calling <code>python</code> internally, not <code>python3.9</code>"},{"owner":{"account_id":20724483,"reputation":113848,"user_id":15239951,"display_name":"Corralien"},"score":0,"creation_date":1673643493,"post_id":75105274,"comment_id":132553380,"body_markdown":"OK. Maybe you can use `update-alternatives` to change the default python interpreter","body":"OK. Maybe you can use <code>update-alternatives</code> to change the default python interpreter"}],"tags":[],"owner":{"account_id":20724483,"reputation":113848,"user_id":15239951,"display_name":"Corralien"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673588444,"creation_date":1673588444,"answer_id":75105274,"question_id":75105205,"body_markdown":"I recommend you to install Python3.9 from PPA:\r\n\r\n```\r\n$ sudo add-apt-repository ppa:deadsnakes/ppa\r\n$ sudo apt install python3.9\r\n```\r\n\r\nNow you can use `python3.9`:\r\n```\r\n$ python3.9 --version\r\n$ python3.9 -m pip install -r requirements.txt\r\n```","title":"Use an older python version in Ubuntu when executing a binary from Java using ProcessBuilder","body":"<p>I recommend you to install Python3.9 from PPA:</p>\n<pre><code>$ sudo add-apt-repository ppa:deadsnakes/ppa\n$ sudo apt install python3.9\n</code></pre>\n<p>Now you can use <code>python3.9</code>:</p>\n<pre><code>$ python3.9 --version\n$ python3.9 -m pip install -r requirements.txt\n</code></pre>\n"}],"owner":{"account_id":432990,"reputation":1632,"user_id":818072,"accept_rate":82,"display_name":"Egor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673588444,"creation_date":1673587734,"question_id":75105205,"body_markdown":"I have a Java SpringBoot app that does audio processing and builds to a docker container based on Ubuntu. The app uses a third-party binary tool (https://github.com/shaka-project/shaka-packager) like \r\n```\r\nProcessBuilder pb = new ProcessBuilder();\r\npb.command(&quot;shaka-packager&quot;, &quot;-input foo&quot;, &quot;-output bar&quot;);\r\npb.start().waitFor();\r\n```\r\n\r\nProblem:\r\nWe started updating versions of Java, etc, and are using a newer version of Ubuntu 22.04, which comes with Python 3.10. This broke shaka-packager, because it has some python component that does `from collections import Mapping`, which has been deprecated and moved to `collections.abc`.\r\n\r\nI&#39;m trying to figure out if there is a way I can run the shaka packager in a virtual 3.9 python environment. I messed around with conda for a bit, but can&#39;t seem to get it to work with Java&#39;s `ProcessBuilder` calls. `conda activate` works in interactive shells, but `ProcessBuilder` creates a new shell for every invocation. I thought `conda run` would do it, but it seems to only work with python scripts and not compiled binaries. \r\n\r\nAny suggestions on how to approach this? I could fork shaka packager and fix the python script that&#39;s failing (and submit a PR), but I would prefer not maintaining our own fork long-term if the owner doesn&#39;t merge it. I would also love to move away from a binary and use a Java library instead, but haven&#39;t found one that does everything shaka can do and I don&#39;t think I have the time to experiment with a mix of different libraries to get full feature parity.","title":"Use an older python version in Ubuntu when executing a binary from Java using ProcessBuilder","body":"<p>I have a Java SpringBoot app that does audio processing and builds to a docker container based on Ubuntu. The app uses a third-party binary tool (<a href=\"https://github.com/shaka-project/shaka-packager\" rel=\"nofollow noreferrer\">https://github.com/shaka-project/shaka-packager</a>) like</p>\n<pre><code>ProcessBuilder pb = new ProcessBuilder();\npb.command(&quot;shaka-packager&quot;, &quot;-input foo&quot;, &quot;-output bar&quot;);\npb.start().waitFor();\n</code></pre>\n<p>Problem:\nWe started updating versions of Java, etc, and are using a newer version of Ubuntu 22.04, which comes with Python 3.10. This broke shaka-packager, because it has some python component that does <code>from collections import Mapping</code>, which has been deprecated and moved to <code>collections.abc</code>.</p>\n<p>I'm trying to figure out if there is a way I can run the shaka packager in a virtual 3.9 python environment. I messed around with conda for a bit, but can't seem to get it to work with Java's <code>ProcessBuilder</code> calls. <code>conda activate</code> works in interactive shells, but <code>ProcessBuilder</code> creates a new shell for every invocation. I thought <code>conda run</code> would do it, but it seems to only work with python scripts and not compiled binaries.</p>\n<p>Any suggestions on how to approach this? I could fork shaka packager and fix the python script that's failing (and submit a PR), but I would prefer not maintaining our own fork long-term if the owner doesn't merge it. I would also love to move away from a binary and use a Java library instead, but haven't found one that does everything shaka can do and I don't think I have the time to experiment with a mix of different libraries to get full feature parity.</p>\n"},{"tags":["java","spring-security","spring-data"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":4,"creation_date":1582545258,"post_id":60375346,"comment_id":106802013,"body_markdown":"Remove the `findOne` method or add an `@Query` to add the query. That simply doesn&#39;t work.","body":"Remove the <code>findOne</code> method or add an <code>@Query</code> to add the query. That simply doesn&#39;t work."},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1582546934,"post_id":60375346,"comment_id":106802868,"body_markdown":"how are the methods `findById(Long id);` and `Message findOne(Long id);` different? what are you expecting from those two methods? seems same for me.(finding Message by its Id)","body":"how are the methods <code>findById(Long id);</code> and <code>Message findOne(Long id);</code> different? what are you expecting from those two methods? seems same for me.(finding Message by its Id)"}],"answers":[{"comments":[{"owner":{"account_id":17833749,"reputation":33,"user_id":12953201,"display_name":"Ion Efrem"},"score":0,"creation_date":1582551180,"post_id":60376233,"comment_id":106805204,"body_markdown":"Hi Arun, thank you for your answer. Reply to your question: This serves to demonstrate two different rights as simply as possible. Messages found via `findById` can thus be viewed by the current user as well as by an administrator, while messages found via `findOne` can only be viewed by the current user.","body":"Hi Arun, thank you for your answer. Reply to your question: This serves to demonstrate two different rights as simply as possible. Messages found via <code>findById</code> can thus be viewed by the current user as well as by an administrator, while messages found via <code>findOne</code> can only be viewed by the current user."},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1582554457,"post_id":60376233,"comment_id":106807130,"body_markdown":"Well in that case, I suggest having those authorizations on the service layer, rather than on the DAO layer. You really can&#39;t mess with method names while using spring data. Hope that helps","body":"Well in that case, I suggest having those authorizations on the service layer, rather than on the DAO layer. You really can&#39;t mess with method names while using spring data. Hope that helps"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1582554765,"post_id":60376233,"comment_id":106807287,"body_markdown":"Even on DAO layer it boils down to to this. Both admin and current user can access `getMessageById`. Ex: admin and current user can access `X`, current user can also access `X`. This comes down to both admin and current user can access `X`.","body":"Even on DAO layer it boils down to to this. Both admin and current user can access <code>getMessageById</code>. Ex: admin and current user can access <code>X</code>, current user can also access <code>X</code>. This comes down to both admin and current user can access <code>X</code>."},{"owner":{"account_id":6515289,"reputation":101,"user_id":14522549,"display_name":"Erica Okamura"},"score":0,"creation_date":1657751371,"post_id":60376233,"comment_id":128888072,"body_markdown":"Actually you have to annotate your repository interface with @Repository","body":"Actually you have to annotate your repository interface with @Repository"}],"tags":[],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673588381,"creation_date":1582548318,"answer_id":60376233,"question_id":60375346,"body_markdown":"Spring data will convert your method names to actual database queries. But this doesn&#39;t happen magically. Of course spring does magic, But you have to follow the syntax.\r\n\r\nIn your first method, `Message findById(Long id);` Spring understands that you need Message object and you need to find that by message_id. This is converted it to somewhat like the following.\r\n\r\n`select msg from Message msg where msg.id = ?1`;\r\n \r\n`?1` will be replaced by your method argument.\r\n\r\nIf you do not wish Spring to generate the query for you, then you have to use `@Query` and provide your own custom query.(Method name does not matter in this case.)\r\n\r\nyou can achieve this as mentioned [here][1].\r\n\r\nNow, coming back to your error,\r\nSpring is not able to understand your method `Message findOne(Long id);`. \r\nBecause it is expecting the syntax `findBy`.\r\n\r\nYou can find the valid method names from  [spring documentations][2].\r\n\r\nWhat I don&#39;t understand is, how are methods ` Message findById(Long id);` and `Message findOne(Long id);` different. I suppose they both try to get Message from messageId.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53374883/query-annotation-with-custom-class-spring-boot-java\r\n  [2]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation","title":"findById(ID) in CrudRepository - attempting to use incompatible return type","body":"<p>Spring data will convert your method names to actual database queries. But this doesn't happen magically. Of course spring does magic, But you have to follow the syntax.</p>\n<p>In your first method, <code>Message findById(Long id);</code> Spring understands that you need Message object and you need to find that by message_id. This is converted it to somewhat like the following.</p>\n<p><code>select msg from Message msg where msg.id = ?1</code>;</p>\n<p><code>?1</code> will be replaced by your method argument.</p>\n<p>If you do not wish Spring to generate the query for you, then you have to use <code>@Query</code> and provide your own custom query.(Method name does not matter in this case.)</p>\n<p>you can achieve this as mentioned <a href=\"https://stackoverflow.com/questions/53374883/query-annotation-with-custom-class-spring-boot-java\">here</a>.</p>\n<p>Now, coming back to your error,\nSpring is not able to understand your method <code>Message findOne(Long id);</code>.\nBecause it is expecting the syntax <code>findBy</code>.</p>\n<p>You can find the valid method names from  <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.query-creation\" rel=\"nofollow noreferrer\">spring documentations</a>.</p>\n<p>What I don't understand is, how are methods <code> Message findById(Long id);</code> and <code>Message findOne(Long id);</code> different. I suppose they both try to get Message from messageId.</p>\n"}],"owner":{"account_id":17833749,"reputation":33,"user_id":12953201,"display_name":"Ion Efrem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7628,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":60376233,"answer_count":1,"score":3,"last_activity_date":1673588381,"creation_date":1582545085,"question_id":60375346,"body_markdown":"I have defined message entity\r\n\r\n```java\r\n@Entity\r\npublic class Message {\r\n    @Id\r\n    @GeneratedValue()\r\n    private long id;\r\n\r\n    @OneToOne\r\n    @NotNull\r\n    private User user;\r\n\r\n    @NotEmpty(message = &quot;text is required&quot;)\r\n    private String text;\r\n\r\n    @NotEmpty(message = &quot;title is required&quot;)\r\n    private String title;\r\n\r\n    public User getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(User user) {\r\n        this.user = user;\r\n    }\r\n\r\n    public String getText() {\r\n        return text;\r\n    }\r\n\r\n    public void setText(String text) {\r\n        this.text = text;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n\r\n```\r\n\r\nand CrudRepository\r\n\r\n```java\r\npublic interface MessageRepository extends CrudRepository&lt;Message, Long&gt; {\r\n\r\n\r\n    @PostAuthorize(&quot;hasPermission(returnObject, &#39;message&#39;)&quot;)\r\n    Message findById(Long id);\r\n\r\n    Iterable&lt;Message&gt; findByUserId(Long id);\r\n\r\n    @PostAuthorize(&quot;hasPermission(returnObject, &#39;privateMessage&#39;)&quot;)\r\n    Message findOne(Long id);\r\n\r\n}\r\n\r\n```\r\nI get the following error\r\n[Error][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WFC5e.png\r\n\r\nWhen I use\r\n```java\r\n @PostAuthorize(&quot;hasPermission(returnObject, &#39;message&#39;)&quot;)\r\n  Optional&lt;Message&gt; findById(Long id);\r\n```\r\nstill doesn&#39;t work.\r\nI get, that the &quot;Message message = messageRepository.findById(id);&quot; cannot be converted and i should change  variable &quot;message&quot; type to the &quot;Optional&lt;&quot;Message&gt;&quot;\r\n\r\nWhen I do that, I get following error:\r\n```error\r\nError creating bean with name &#39;defaultController&#39;: Unsatisfied dependency expressed through field &#39;messageRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;messageRepository&#39;: Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.chapter5.data.Message com.example.chapter5.data.MessageRepository.findOne(java.lang.Long)! No property findOne found for type Message!\r\n``` \r\n\r\nCan someone suggest an alternative solution?\r\nThanks\r\n","title":"findById(ID) in CrudRepository - attempting to use incompatible return type","body":"<p>I have defined message entity</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Message {\n    @Id\n    @GeneratedValue()\n    private long id;\n\n    @OneToOne\n    @NotNull\n    private User user;\n\n    @NotEmpty(message = \"text is required\")\n    private String text;\n\n    @NotEmpty(message = \"title is required\")\n    private String title;\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n}\n\n</code></pre>\n\n<p>and CrudRepository</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface MessageRepository extends CrudRepository&lt;Message, Long&gt; {\n\n\n    @PostAuthorize(\"hasPermission(returnObject, 'message')\")\n    Message findById(Long id);\n\n    Iterable&lt;Message&gt; findByUserId(Long id);\n\n    @PostAuthorize(\"hasPermission(returnObject, 'privateMessage')\")\n    Message findOne(Long id);\n\n}\n\n</code></pre>\n\n<p>I get the following error\n<a href=\"https://i.stack.imgur.com/WFC5e.png\" rel=\"nofollow noreferrer\">Error</a></p>\n\n<p>When I use</p>\n\n<pre class=\"lang-java prettyprint-override\"><code> @PostAuthorize(\"hasPermission(returnObject, 'message')\")\n  Optional&lt;Message&gt; findById(Long id);\n</code></pre>\n\n<p>still doesn't work.\nI get, that the \"Message message = messageRepository.findById(id);\" cannot be converted and i should change  variable \"message\" type to the \"Optional&lt;\"Message>\"</p>\n\n<p>When I do that, I get following error:</p>\n\n<pre><code>Error creating bean with name 'defaultController': Unsatisfied dependency expressed through field 'messageRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'messageRepository': Invocation of init method failed; nested exception is java.lang.IllegalArgumentException: Failed to create query for method public abstract com.example.chapter5.data.Message com.example.chapter5.data.MessageRepository.findOne(java.lang.Long)! No property findOne found for type Message!\n</code></pre>\n\n<p>Can someone suggest an alternative solution?\nThanks</p>\n"},{"tags":["java","spring-boot","cors"],"comments":[{"owner":{"account_id":18115590,"reputation":131,"user_id":13172277,"display_name":"Dunick"},"score":0,"creation_date":1667580303,"post_id":74320296,"comment_id":131207884,"body_markdown":"See the error message from the console. Have you tried to place the same request from the client side without credentials included?","body":"See the error message from the console. Have you tried to place the same request from the client side without credentials included?"}],"answers":[{"comments":[{"owner":{"account_id":2651999,"reputation":7958,"user_id":3145373,"accept_rate":77,"display_name":"user3145373 ツ"},"score":0,"creation_date":1672655029,"post_id":74322863,"comment_id":132319810,"body_markdown":"eventually this will security for all endpoints/requests which is not recommended. to verify/test you can create 1 endpoint and permit that specific endpoint using this security config.","body":"eventually this will security for all endpoints/requests which is not recommended. to verify/test you can create 1 endpoint and permit that specific endpoint using this security config."}],"tags":[],"owner":{"account_id":2460702,"reputation":171,"user_id":2144940,"display_name":"Eduardo Felipe Zambom Santana"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667595236,"creation_date":1667595236,"answer_id":74322863,"question_id":74320296,"body_markdown":"I had the same issue in my application, and my solution was configure it in the HttpSecurity. The code is:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n\r\n            CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\r\n            corsConfiguration.addAllowedMethod(&quot;*&quot;);\r\n            httpSecurity\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/**&quot;).permitAll()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .cors().configurationSource(request -&gt; corsConfiguration)\r\n                .and()\r\n                .csrf().disable();\r\n        }\r\n\r\n    }","title":"CORS error is not fixed despite allowing all origins, all methods, and all headers","body":"<p>I had the same issue in my application, and my solution was configure it in the HttpSecurity. The code is:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n\n        CorsConfiguration corsConfiguration = new CorsConfiguration().applyPermitDefaultValues();\n        corsConfiguration.addAllowedMethod(&quot;*&quot;);\n        httpSecurity\n            .authorizeRequests()\n            .antMatchers(&quot;/**&quot;).permitAll()\n            .anyRequest().permitAll()\n            .and()\n            .cors().configurationSource(request -&gt; corsConfiguration)\n            .and()\n            .csrf().disable();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26678684,"reputation":11,"user_id":20288956,"display_name":"serin-B"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673588123,"creation_date":1667579967,"question_id":74320296,"body_markdown":"We used Java-Spring boot, and React - CRA. we deployed a server using AWS EC2 and a client using AWS S3.\r\n\r\nBut the website does not work properly due to a CORS error. \r\n\r\nHere is the error I see in my console:\r\n\r\n`GET http://ec2-13-125-208-244.ap-northeast-2.compute.amazonaws.com:8080/api/questions/1/answers net::ERR_FAILED 200`\r\n\r\nWe try.....\r\n\r\n\\&lt; In Client \\&gt; \r\n\r\nwe used &#39;http-proxy-middleware&#39; in the development phase and put the server address deployed to EC2 using the `.env.development/.env.production` environment variable. (Put the EC2 server address in `.env.production` and an empty string (&quot;&quot;) in `.env.development` to solve the local problem.)\r\n\r\nAlso, we are using axios and tried putting {withCredentials: true} in the request header\r\n\r\nBefore using environment variables, set the baseUrl using an instance.\r\n\r\n`const instance = axios.create({baseURL: &#39;``https://http``://~~.s3-website.ap-northeast-2.amazonaws.com/&#39;});`\r\n\r\nIn &#39;localhost: 3000&#39;, it works fine. But it doesn&#39;t work with a static website using Amazon S3.\r\n\r\n\\&lt;In Sever\\&gt;\r\n\r\nWe wrote code related to CORS like this, but it didn&#39;t work.\r\n\r\n```\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n}\r\n```\r\n\r\n```\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://pre-project-038-client.s3-website.ap-northeast-2.amazonaws.com/questions&quot;));\r\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n}\r\n```\r\n\r\nI know it is vulnerable to security, but I wrote the following code to solve the CORS error in Java.\r\n\r\n```\r\n@Bean\r\nCorsConfigurationSource corsConfigurationSource() {\r\n    CorsConfiguration configuration = new CorsConfiguration();\r\n    configuration.addAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n    configuration.addAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n    configuration.addAllowedHeader(Arrays.asList(&quot;*&quot;));\r\n    configuration.setAllowCredentials(true);\r\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n    return source;\r\n}\r\n```\r\n\r\nThe response status is 200, but still, no data is loaded on the screen due to a CORS error.\r\n\r\nWhat can we try on the client or server side?","title":"CORS error is not fixed despite allowing all origins, all methods, and all headers","body":"<p>We used Java-Spring boot, and React - CRA. we deployed a server using AWS EC2 and a client using AWS S3.</p>\n<p>But the website does not work properly due to a CORS error.</p>\n<p>Here is the error I see in my console:</p>\n<p><code>GET http://ec2-13-125-208-244.ap-northeast-2.compute.amazonaws.com:8080/api/questions/1/answers net::ERR_FAILED 200</code></p>\n<p>We try.....</p>\n<p>&lt; In Client &gt;</p>\n<p>we used 'http-proxy-middleware' in the development phase and put the server address deployed to EC2 using the <code>.env.development/.env.production</code> environment variable. (Put the EC2 server address in <code>.env.production</code> and an empty string (&quot;&quot;) in <code>.env.development</code> to solve the local problem.)</p>\n<p>Also, we are using axios and tried putting {withCredentials: true} in the request header</p>\n<p>Before using environment variables, set the baseUrl using an instance.</p>\n<p><code>const instance = axios.create({baseURL: '``https://http``://~~.s3-website.ap-northeast-2.amazonaws.com/'});</code></p>\n<p>In 'localhost: 3000', it works fine. But it doesn't work with a static website using Amazon S3.</p>\n<p>&lt;In Sever&gt;</p>\n<p>We wrote code related to CORS like this, but it didn't work.</p>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;, &quot;http://pre-project-038-client.s3-website.ap-northeast-2.amazonaws.com/questions&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;,&quot;POST&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>I know it is vulnerable to security, but I wrote the following code to solve the CORS error in Java.</p>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.addAllowedOrigins(Arrays.asList(&quot;*&quot;));\n    configuration.addAllowedMethods(Arrays.asList(&quot;*&quot;));\n    configuration.addAllowedHeader(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowCredentials(true);\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>The response status is 200, but still, no data is loaded on the screen due to a CORS error.</p>\n<p>What can we try on the client or server side?</p>\n"},{"tags":["java","spring","cors","xmlhttprequest"],"answers":[{"tags":[],"owner":{"account_id":6674353,"reputation":505,"user_id":5149545,"display_name":"c3R1cGFy"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1666039293,"creation_date":1666039293,"answer_id":74103020,"question_id":74102251,"body_markdown":"You can try to create the class as described below. Then, you would not need this manual configuration within spring-security\r\n\r\n```java\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class WebConfiguration implements WebMvcConfigurer {\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\r\n    }\r\n}\r\n\r\n```\r\n*Name of the class (WebConfiguration) is up to you*","title":"No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. I have tried looking at other solutions on here but so far unsuccessful","body":"<p>You can try to create the class as described below. Then, you would not need this manual configuration within spring-security</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.CorsRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class WebConfiguration implements WebMvcConfigurer {\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;).allowedMethods(&quot;*&quot;);\n    }\n}\n\n</code></pre>\n<p><em>Name of the class (WebConfiguration) is up to you</em></p>\n"}],"owner":{"account_id":5462244,"reputation":62,"user_id":15446557,"display_name":"Rav Singh Sandhu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1673588066,"creation_date":1666034726,"question_id":74102251,"body_markdown":"Hi I am getting following error: \r\n```  \r\nAccess to XMLHttpRequest at &#39;https:xyztest.com/as/authorization.oauth2?client_id=newpeteGAQA&amp;redirect_uri=http://localhost:8080/login&amp;response_type=code&amp;scope=openid%20profile&amp;state=B2Rig4&#39; \r\n(redirected from &#39;http://localhost:8080/health-incidents&#39;) from origin &#39;http://localhost:8081&#39; has been blocked by CORS policy: \r\nNo &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\nnewrelic.js:1          GET https://testxyz.com/as/authorization.oauth2?client_id=newpeteGAQA&amp;redirect_uri=http://localhost:8080/login&amp;response_type=code&amp; ```\r\n\r\n\r\n\r\n\r\n```\r\n I have tried adding following headers to fix the error but it still keeps giving me above error,any input how to fix this issue, am I am suppose to look for anything elese where I need to make changes ?:\r\n```\r\nProtected void configure(HttpSecurity http) throws Exception {\r\n        if (enableAuthentication &amp;&amp; !unsecured) {\r\n            http\r\n                    .csrf().disable()\r\n                    .headers(headers -&gt;\r\n                            headers\r\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Origin&quot;,&quot;http://localhost:8081&quot;))\r\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Methods&quot;,&quot;POST, PUT, GET, OPTIONS, DELETE&quot;))\r\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Credentials&quot;,&quot;true&quot;))\r\n                                   // .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Headers&quot;,&quot;Authorization, Content-Type&quot;))\r\n                                    .addHeaderWriter( new StaticHeadersWriter(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Content-Type, Accept, X-Requested-With, remember-me&quot;))\r\n                               //     .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;))\r\n                    )\r\n                    .antMatcher(ANY_PATH).authorizeRequests()\r\n\r\n                    .antMatchers(whitelist).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and().addFilterAfter(oauth2SsoFilter(), HeaderWriterFilter.class)\r\n                    .logout()\r\n                    .logoutSuccessUrl(&quot;/login&quot;)\r\n                    .invalidateHttpSession(true)\r\n                    .deleteCookies(&quot;SESSION&quot;);\r\n            addAuthenticationEntryPoint(http);\r\n        } else {\r\n            http\r\n                    .csrf().disable()\r\n                    .antMatcher(ANY_PATH).authorizeRequests()\r\n                    .antMatchers(ANY_PATH).permitAll();\r\n        }\r\n    }\r\n\r\n\r\n```\r\n\r\n","title":"No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource. I have tried looking at other solutions on here but so far unsuccessful","body":"<p>Hi I am getting following error:</p>\n<pre><code>Access to XMLHttpRequest at 'https:xyztest.com/as/authorization.oauth2?client_id=newpeteGAQA&amp;redirect_uri=http://localhost:8080/login&amp;response_type=code&amp;scope=openid%20profile&amp;state=B2Rig4' \n(redirected from 'http://localhost:8080/health-incidents') from origin 'http://localhost:8081' has been blocked by CORS policy: \nNo 'Access-Control-Allow-Origin' header is present on the requested resource.\nnewrelic.js:1          GET https://testxyz.com/as/authorization.oauth2?client_id=newpeteGAQA&amp;redirect_uri=http://localhost:8080/login&amp;response_type=code&amp; ```\n\n\n\n\n</code></pre>\n<p>I have tried adding following headers to fix the error but it still keeps giving me above error,any input how to fix this issue, am I am suppose to look for anything elese where I need to make changes ?:</p>\n<pre><code>Protected void configure(HttpSecurity http) throws Exception {\n        if (enableAuthentication &amp;&amp; !unsecured) {\n            http\n                    .csrf().disable()\n                    .headers(headers -&gt;\n                            headers\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Origin&quot;,&quot;http://localhost:8081&quot;))\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Methods&quot;,&quot;POST, PUT, GET, OPTIONS, DELETE&quot;))\n                                    .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Credentials&quot;,&quot;true&quot;))\n                                   // .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Headers&quot;,&quot;Authorization, Content-Type&quot;))\n                                    .addHeaderWriter( new StaticHeadersWriter(&quot;Access-Control-Allow-Headers&quot;, &quot;Origin, Content-Type, Accept, X-Requested-With, remember-me&quot;))\n                               //     .addHeaderWriter(new StaticHeadersWriter(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;))\n                    )\n                    .antMatcher(ANY_PATH).authorizeRequests()\n\n                    .antMatchers(whitelist).permitAll()\n                    .anyRequest().authenticated()\n                    .and().addFilterAfter(oauth2SsoFilter(), HeaderWriterFilter.class)\n                    .logout()\n                    .logoutSuccessUrl(&quot;/login&quot;)\n                    .invalidateHttpSession(true)\n                    .deleteCookies(&quot;SESSION&quot;);\n            addAuthenticationEntryPoint(http);\n        } else {\n            http\n                    .csrf().disable()\n                    .antMatcher(ANY_PATH).authorizeRequests()\n                    .antMatchers(ANY_PATH).permitAll();\n        }\n    }\n\n\n</code></pre>\n"},{"tags":["java","json","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":27495247,"reputation":156,"user_id":20979858,"display_name":"Harsha Gandikota"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673587301,"creation_date":1673587301,"answer_id":75105165,"question_id":75104993,"body_markdown":"The reason you are getting the infinite recursion is because, the question is mapped in the campaign class and the campaign is mapped in the question class. This bi-directional relation causes the infinite recursion. This can be solved by using `@JsonManagedReference`, and `@JsonBackReference` annotations on the mappings. You can use the `@JsonManagedRefernce` annotation on the one to many relation and `@JsonBackReference` annotation on the Many to one relation. This should solve the recursion problem. You can get more info from [here][1]  . Let me know if this helps.\r\n\r\n  [1]: https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion","title":"Triple nested JPA Entity to JSON - Spring Boot Project","body":"<p>The reason you are getting the infinite recursion is because, the question is mapped in the campaign class and the campaign is mapped in the question class. This bi-directional relation causes the infinite recursion. This can be solved by using <code>@JsonManagedReference</code>, and <code>@JsonBackReference</code> annotations on the mappings. You can use the <code>@JsonManagedRefernce</code> annotation on the one to many relation and <code>@JsonBackReference</code> annotation on the Many to one relation. This should solve the recursion problem. You can get more info from <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">here</a>  . Let me know if this helps.</p>\n"},{"tags":[],"owner":{"account_id":17683470,"reputation":158,"user_id":12836822,"display_name":"Ashrik Ahamed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673587707,"creation_date":1673587707,"answer_id":75105200,"question_id":75104993,"body_markdown":"**Here you need to add @JsonIgnore Anotation like this:**\r\n\r\n    class Question{\r\n    @Id\r\n    private long questionId;\r\n\r\n    //Other fields\r\n    @OneToMany(mappedBy = &quot;question&quot;,cascade=CascadeType.ALL)\r\n    private Set&lt;Choices&gt; choices;\r\n\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n    @JoinColumn(name=&quot;CAMPAIGN_ID&quot;)\r\n    @JsonIgnore\r\n    private Campaign campaign;\r\n    }\r\n\r\n \r\n","title":"Triple nested JPA Entity to JSON - Spring Boot Project","body":"<p><strong>Here you need to add @JsonIgnore Anotation like this:</strong></p>\n<pre><code>class Question{\n@Id\nprivate long questionId;\n\n//Other fields\n@OneToMany(mappedBy = &quot;question&quot;,cascade=CascadeType.ALL)\nprivate Set&lt;Choices&gt; choices;\n\n@ManyToOne(fetch=FetchType.LAZY)\n@JoinColumn(name=&quot;CAMPAIGN_ID&quot;)\n@JsonIgnore\nprivate Campaign campaign;\n}\n</code></pre>\n"}],"owner":{"account_id":15518998,"reputation":149,"user_id":11195677,"display_name":"Thomas A Mathew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75105165,"answer_count":2,"score":1,"last_activity_date":1673587707,"creation_date":1673585733,"question_id":75104993,"body_markdown":"So, \r\nI have 3 @Entity classes\r\n```\r\nclass Campaign\r\n{\r\n  @Id\r\n  private long campaignId;\r\n  //Other fields\r\n\r\n  @OneToMany(mappedBy = &quot;campaign&quot;,cascade=CascadeType.ALL)\r\n\tprivate Set&lt;Question&gt; questions;\r\n}\r\n\r\nclass Question\r\n{\r\n  @Id\r\n  private long questionId;\r\n\r\n  //Other fields\r\n  @OneToMany(mappedBy = &quot;question&quot;,cascade=CascadeType.ALL)\r\n\tprivate Set&lt;Choices&gt; choices;\r\n\r\n  @ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;CAMPAIGN_ID&quot;)\r\n\tprivate Campaign campaign;\r\n}\r\n\r\nclass Choices\r\n{\r\n  @Id\r\n  private long choiceId;\r\n\r\n  //Other fields\r\n    @ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;QUESTION_ID&quot;)\r\n\tprivate Question question;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nWhen I create and send a JSON\r\n```\r\n{\r\n\t&quot;campaignName&quot; : &quot;Dummy Quiz Campaign&quot;,\r\n\t&quot;campaignDescription&quot; : &quot;This is a dummy quiz campaign for testing&quot;,\r\n\t&quot;noOfQuestions&quot;:2,\r\n\t&quot;noOfChoices&quot;:3,\r\n\t&quot;lastUpdatedTime&quot;:&quot;2012-04-23T18:25:43.511Z&quot;,\r\n\t&quot;createdTime&quot;:&quot;2012-04-23T18:25:43.511Z&quot;,\r\n\t&quot;questions&quot;:[\r\n\t\t{\r\n\t\t\t&quot;question&quot;:&quot;Question 1&quot;,\r\n\t\t\t&quot;choices&quot;:[\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 1&quot;},\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 2&quot;},\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 3&quot;}\r\n\t\t\t\t],\r\n\t\t\t&quot;correctAnswer&quot;:&quot;Choice 2&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;question&quot;:&quot;Question 2&quot;,\r\n\t\t\t&quot;choices&quot;:[\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 4&quot;},\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 5&quot;},\r\n\t\t\t\t{&quot;choice&quot;:&quot;Choice 6&quot;}\r\n\t\t\t\t],\r\n\t\t\t&quot;correctAnswer&quot;:&quot;Choice 2&quot;\r\n\t\t}\r\n\t]\r\n}\r\n\r\n```\r\n\r\nIt is being created and mapped accurately. It is also being deleted accurately.\r\n\r\nBut when I am trying to getAllCampaigns()\r\n\r\n```\r\n@GetMapping(&quot;/api/campaign/all&quot;)\r\n\tpublic List&lt;Campaign&gt; getAllCampaigns() throws Exception \r\n\t{\r\n\t\treturn campaignService.getAllCampaigns();\r\n\t}\r\n```\r\n\r\n\r\nIt is showing a jackson.bind error, when I tried to write the JSON to a file, it ended up having an infinitely nested JSON.\r\n\r\nWhat I can do to retrieve the Campaigns and there mapped entities like in the format I have send it.\r\n\r\nAs for the tables,\r\n3 Tables\r\nCampaign Table\r\nQuestion Table with Campaign_Id\r\nChoices Table with Question_Id\r\n\r\nThanks in advance.","title":"Triple nested JPA Entity to JSON - Spring Boot Project","body":"<p>So,\nI have 3 @Entity classes</p>\n<pre><code>class Campaign\n{\n  @Id\n  private long campaignId;\n  //Other fields\n\n  @OneToMany(mappedBy = &quot;campaign&quot;,cascade=CascadeType.ALL)\n    private Set&lt;Question&gt; questions;\n}\n\nclass Question\n{\n  @Id\n  private long questionId;\n\n  //Other fields\n  @OneToMany(mappedBy = &quot;question&quot;,cascade=CascadeType.ALL)\n    private Set&lt;Choices&gt; choices;\n\n  @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;CAMPAIGN_ID&quot;)\n    private Campaign campaign;\n}\n\nclass Choices\n{\n  @Id\n  private long choiceId;\n\n  //Other fields\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;QUESTION_ID&quot;)\n    private Question question;\n}\n</code></pre>\n<p>When I create and send a JSON</p>\n<pre><code>{\n    &quot;campaignName&quot; : &quot;Dummy Quiz Campaign&quot;,\n    &quot;campaignDescription&quot; : &quot;This is a dummy quiz campaign for testing&quot;,\n    &quot;noOfQuestions&quot;:2,\n    &quot;noOfChoices&quot;:3,\n    &quot;lastUpdatedTime&quot;:&quot;2012-04-23T18:25:43.511Z&quot;,\n    &quot;createdTime&quot;:&quot;2012-04-23T18:25:43.511Z&quot;,\n    &quot;questions&quot;:[\n        {\n            &quot;question&quot;:&quot;Question 1&quot;,\n            &quot;choices&quot;:[\n                {&quot;choice&quot;:&quot;Choice 1&quot;},\n                {&quot;choice&quot;:&quot;Choice 2&quot;},\n                {&quot;choice&quot;:&quot;Choice 3&quot;}\n                ],\n            &quot;correctAnswer&quot;:&quot;Choice 2&quot;\n        },\n        {\n            &quot;question&quot;:&quot;Question 2&quot;,\n            &quot;choices&quot;:[\n                {&quot;choice&quot;:&quot;Choice 4&quot;},\n                {&quot;choice&quot;:&quot;Choice 5&quot;},\n                {&quot;choice&quot;:&quot;Choice 6&quot;}\n                ],\n            &quot;correctAnswer&quot;:&quot;Choice 2&quot;\n        }\n    ]\n}\n\n</code></pre>\n<p>It is being created and mapped accurately. It is also being deleted accurately.</p>\n<p>But when I am trying to getAllCampaigns()</p>\n<pre><code>@GetMapping(&quot;/api/campaign/all&quot;)\n    public List&lt;Campaign&gt; getAllCampaigns() throws Exception \n    {\n        return campaignService.getAllCampaigns();\n    }\n</code></pre>\n<p>It is showing a jackson.bind error, when I tried to write the JSON to a file, it ended up having an infinitely nested JSON.</p>\n<p>What I can do to retrieve the Campaigns and there mapped entities like in the format I have send it.</p>\n<p>As for the tables,\n3 Tables\nCampaign Table\nQuestion Table with Campaign_Id\nChoices Table with Question_Id</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1427190605,"post_id":29229373,"comment_id":46665373,"body_markdown":"I really don&#39;t get your problem. why should it behave differnt?","body":"I really don&#39;t get your problem. why should it behave differnt?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":11,"creation_date":1427190729,"post_id":29229373,"comment_id":46665456,"body_markdown":"@PhilippSander: Because if it behaved lazily - as it does in the first case - it would only evaluate the filter once.","body":"@PhilippSander: Because if it behaved lazily - as it does in the first case - it would only evaluate the filter once."},{"owner":{"account_id":2680659,"reputation":10169,"user_id":2316112,"accept_rate":70,"display_name":"Philipp Sander"},"score":0,"creation_date":1427191436,"post_id":29229373,"comment_id":46665862,"body_markdown":"ah.... it clicked when I read markos answer","body":"ah.... it clicked when I read markos answer"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":4,"creation_date":1427192107,"post_id":29229373,"comment_id":46666284,"body_markdown":"Note that you could also use `peek` :  `Stream.of(1, 2, 3).peek(System.out::println).filter(i -&gt; true)...`","body":"Note that you could also use <code>peek</code> :  <code>Stream.of(1, 2, 3).peek(System.out::println).filter(i -&gt; true)...</code>"},{"owner":{"account_id":2052845,"reputation":15850,"user_id":2074608,"accept_rate":100,"display_name":"Qantas 94 Heavy"},"score":0,"creation_date":1429356444,"post_id":29229373,"comment_id":47567901,"body_markdown":"@Asieh: when editing, please note that inline code spans (`like this`) [shouldn&#39;t be used for highlighting](http://meta.stackoverflow.com/q/254990), only for code in sentences. Also, please try and improve the post as much as possible when editing to save the reviewers time. Thanks!","body":"@Asieh: when editing, please note that inline code spans (<code>like this</code>) <a href=\"http://meta.stackoverflow.com/q/254990\">shouldn&#39;t be used for highlighting</a>, only for code in sentences. Also, please try and improve the post as much as possible when editing to save the reviewers time. Thanks!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1443115309,"post_id":29229373,"comment_id":53373906,"body_markdown":"Note that I created a general [workaround](http://stackoverflow.com/a/32767282/2711488)","body":"Note that I created a general <a href=\"http://stackoverflow.com/a/32767282/2711488\">workaround</a>"},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":10,"creation_date":1456762272,"post_id":29229373,"comment_id":59084977,"body_markdown":"An OpenJDK bug was raised for this on the day this question was asked: https://bugs.openjdk.java.net/browse/JDK-8075939 . It has been assigned, but still not fixed, almost a year later :(","body":"An OpenJDK bug was raised for this on the day this question was asked: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8075939</a> . It has been assigned, but still not fixed, almost a year later :("},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":6,"creation_date":1513947103,"post_id":29229373,"comment_id":82853124,"body_markdown":"@MikeFHay [JDK-8075939](https://bugs.openjdk.java.net/browse/JDK-8075939) is targeted for Java 10. Cf. http://mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/050763.html for the core-libs-dev review thread and a link to the first webrev.","body":"@MikeFHay <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">JDK-8075939</a> is targeted for Java 10. Cf. <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/050763.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/&zwnj;&#8203;&hellip;</a> for the core-libs-dev review thread and a link to the first webrev."},{"owner":{"account_id":446208,"reputation":8611,"user_id":839128,"accept_rate":75,"display_name":"MikeFHay"},"score":1,"creation_date":1572359307,"post_id":29229373,"comment_id":103529515,"body_markdown":"Update: this issue was fixed in Java 10 and backported to Java 8u66. You should no longer encounter this issue - if you do, you should upgrade to the latest minor version of Java.","body":"Update: this issue was fixed in Java 10 and backported to Java 8u66. You should no longer encounter this issue - if you do, you should upgrade to the latest minor version of Java."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":1,"creation_date":1597893867,"post_id":29229373,"comment_id":112282750,"body_markdown":"@MikeFHay It was [backported](https://bugs.openjdk.java.net/browse/JDK-8225328) to Java 8u222, not 8u66.","body":"@MikeFHay It was <a href=\"https://bugs.openjdk.java.net/browse/JDK-8225328\" rel=\"nofollow noreferrer\">backported</a> to Java 8u222, not 8u66."}],"answers":[{"comments":[{"owner":{"account_id":1246473,"reputation":1428,"user_id":1207816,"display_name":"Vadym S. Khondar"},"score":2,"creation_date":1427194239,"post_id":29229513,"comment_id":46667669,"body_markdown":"@MarkoTopolnik, thanks for your reply. Actually, the concern brought by Holger is actually reason of my surprise. Does the second case mean that I can&#39;t use flatMap for infinite streams?","body":"@MarkoTopolnik, thanks for your reply. Actually, the concern brought by Holger is actually reason of my surprise. Does the second case mean that I can&#39;t use flatMap for infinite streams?"},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1427200031,"post_id":29229513,"comment_id":46671248,"body_markdown":"Yes, I bet that the nested stream cannot be infinite.","body":"Yes, I bet that the nested stream cannot be infinite."}],"tags":[],"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"comment_count":2,"down_vote_count":1,"up_vote_count":19,"is_accepted":false,"score":18,"last_activity_date":1584846878,"creation_date":1427190925,"answer_id":29229513,"question_id":29229373,"body_markdown":"The elements of the input stream are consumed lazily one by one. The first element, `1`, is transformed by the two `flatMap`s into the stream `-1, 0, 1, 0, 1, 2, 1, 2, 3`, so that entire stream corresponds to just the first input element. The nested streams are eagerly materialized by the pipeline, then flattened, then fed to the `filter` stage. This explains your output.\r\n\r\nThe above does not stem from a fundamental limitation, but it would probably make things much more complicated to get full-blown laziness for nested streams. I suspect it would be an even greater challenge to make it performant. \r\n\r\nFor comparison, Clojure&#39;s lazy seqs get another layer of wrapping for each such level of nesting. Due to this design, the operations may even fail with `StackOverflowError` when nesting is exercised to the extreme.","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>The elements of the input stream are consumed lazily one by one. The first element, <code>1</code>, is transformed by the two <code>flatMap</code>s into the stream <code>-1, 0, 1, 0, 1, 2, 1, 2, 3</code>, so that entire stream corresponds to just the first input element. The nested streams are eagerly materialized by the pipeline, then flattened, then fed to the <code>filter</code> stage. This explains your output.</p>\n\n<p>The above does not stem from a fundamental limitation, but it would probably make things much more complicated to get full-blown laziness for nested streams. I suspect it would be an even greater challenge to make it performant. </p>\n\n<p>For comparison, Clojure's lazy seqs get another layer of wrapping for each such level of nesting. Due to this design, the operations may even fail with <code>StackOverflowError</code> when nesting is exercised to the extreme.</p>\n"},{"comments":[{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":29,"creation_date":1427196639,"post_id":29230939,"comment_id":46669131,"body_markdown":"This a bug. While it might be true that the specification supports this behavior, no one expects that getting the first element of an infinite stream will throw a StackOverflowError or will end up in an infinite loop, no matter if it comes directly from the source of the pipeline or from a nested stream via a mapping function. This should be reported as a bug.","body":"This a bug. While it might be true that the specification supports this behavior, no one expects that getting the first element of an infinite stream will throw a StackOverflowError or will end up in an infinite loop, no matter if it comes directly from the source of the pipeline or from a nested stream via a mapping function. This should be reported as a bug."},{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":0,"creation_date":1427196911,"post_id":29230939,"comment_id":46669302,"body_markdown":"This is an interesting analysis of the code itself. But do you have any thoughts on whether this should be expected behaviour based on the API guarantees? I found your [comment on the other answer](http://stackoverflow.com/questions/29229373/why-filter-after-flatmap-is-not-completely-lazy-in-java-streams#comment46667431_29229513) interesting and was hoping your answer would contain a more general discussion too.","body":"This is an interesting analysis of the code itself. But do you have any thoughts on whether this should be expected behaviour based on the API guarantees? I found your <a href=\"http://stackoverflow.com/questions/29229373/why-filter-after-flatmap-is-not-completely-lazy-in-java-streams#comment46667431_29229513\">comment on the other answer</a> interesting and was hoping your answer would contain a more general discussion too."},{"owner":{"account_id":1246473,"reputation":1428,"user_id":1207816,"display_name":"Vadym S. Khondar"},"score":1,"creation_date":1427203721,"post_id":29230939,"comment_id":46673817,"body_markdown":"Strange that there is not much around the internet with this regard. Don&#39;t believe nobody spotted this before me. I was trying to resolve combinatorial problem for which I hoped not to calculate all exploration space by using lazy stream behaviour. But it appears to be not possible because of this. Should I file this as a bug? I will try to solve it in Scala then.","body":"Strange that there is not much around the internet with this regard. Don&#39;t believe nobody spotted this before me. I was trying to resolve combinatorial problem for which I hoped not to calculate all exploration space by using lazy stream behaviour. But it appears to be not possible because of this. Should I file this as a bug? I will try to solve it in Scala then."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1427213927,"post_id":29230939,"comment_id":46681553,"body_markdown":"@Vadym S. Khondar: filing a bug report is a good idea. Regarding why didn’t someone spot this before, I have seen a lot of “can’t believe I’m the first one to notice this” kind of bugs before. Unless infinite streams are involved, this bug has only performance impacts which might stay unnoticed in a lot of use cases.","body":"@Vadym S. Khondar: filing a bug report is a good idea. Regarding why didn’t someone spot this before, I have seen a lot of “can’t believe I’m the first one to notice this” kind of bugs before. Unless infinite streams are involved, this bug has only performance impacts which might stay unnoticed in a lot of use cases."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1427216811,"post_id":29230939,"comment_id":46683575,"body_markdown":"`Intermediate operations return a new stream. They are always lazy;`---this continues with `Traversal of the pipeline source does not begin until the terminal operation of the pipeline is executed.` This property has not been violated. `Laziness also allows avoiding examining...` This doesn&#39;t specify any further guarantees, it is just an explanation. `An intermediate operation is short-circuiting if, when presented with infinite input, it may produce a finite stream as a result. `---again, not violated.","body":"<code>Intermediate operations return a new stream. They are always lazy;</code>---this continues with <code>Traversal of the pipeline source does not begin until the terminal operation of the pipeline is executed.</code> This property has not been violated. <code>Laziness also allows avoiding examining...</code> This doesn&#39;t specify any further guarantees, it is just an explanation. <code>An intermediate operation is short-circuiting if, when presented with infinite input, it may produce a finite stream as a result. </code>---again, not violated."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1427217886,"post_id":29230939,"comment_id":46684294,"body_markdown":"@Marko Topolnik: the property “does not begin until the terminal operation of the pipeline is executed” does not negate other properties of lazy operations. I know that there is no single-sentence declaration of the discussed property, otherwise I cited it. Within [the `Stream` API doc](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html) it is said that “Streams are lazy; computation on the source data is only performed when the terminal operation is initiated, and *source elements are consumed only as needed*.”","body":"@Marko Topolnik: the property “does not begin until the terminal operation of the pipeline is executed” does not negate other properties of lazy operations. I know that there is no single-sentence declaration of the discussed property, otherwise I cited it. Within <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">the <code>Stream</code> API doc</a> it is said that “Streams are lazy; computation on the source data is only performed when the terminal operation is initiated, and <i>source elements are consumed only as needed</i>.”"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1427218233,"post_id":29230939,"comment_id":46684500,"body_markdown":"You may question again wither this implies a lazy execution guaranty regarding short-circuiting, however, I tend to see it the other way round: at no point it is said that implementations are free to implement non-lazy behavior the way we see here. And the specification is very exhaustive regarding what is permissible and what not.","body":"You may question again wither this implies a lazy execution guaranty regarding short-circuiting, however, I tend to see it the other way round: at no point it is said that implementations are free to implement non-lazy behavior the way we see here. And the specification is very exhaustive regarding what is permissible and what not."},{"owner":{"account_id":1114067,"reputation":196801,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1427220023,"post_id":29230939,"comment_id":46685582,"body_markdown":"Arguably, &quot;source elements&quot; here are what OP supplied: `1, 2, 3`. Nothing is explicitly said either way about the nested streams. Specifically, nothing is said about what would constitute a terminal operation for the nested stream. The passing of a nested stream to `filter` may constitute a terminal operation for it. Note that I am with you on all this being counterintuitive; I just have enough experience with Streams that I&#39;ve learned what to expect from them, and here I actually expected eager consumption of the nested stream (or at least wasn&#39;t at all surprised to see it).","body":"Arguably, &quot;source elements&quot; here are what OP supplied: <code>1, 2, 3</code>. Nothing is explicitly said either way about the nested streams. Specifically, nothing is said about what would constitute a terminal operation for the nested stream. The passing of a nested stream to <code>filter</code> may constitute a terminal operation for it. Note that I am with you on all this being counterintuitive; I just have enough experience with Streams that I&#39;ve learned what to expect from them, and here I actually expected eager consumption of the nested stream (or at least wasn&#39;t at all surprised to see it)."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1498466310,"post_id":29230939,"comment_id":76492394,"body_markdown":"@Holger almost two years after and I feel like a total idiot not seeing this; do you know if this has been reported as a bug or not? Cause I can still reproduce it in jdk-9...","body":"@Holger almost two years after and I feel like a total idiot not seeing this; do you know if this has been reported as a bug or not? Cause I can still reproduce it in jdk-9..."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1498467053,"post_id":29230939,"comment_id":76492766,"body_markdown":"@Eugene: there seems to be no activity in [JDK-8075939](https://bugs.openjdk.java.net/browse/JDK-8075939) at the moment. Note [this workaround](http://stackoverflow.com/a/32767282/2711488)…","body":"@Eugene: there seems to be no activity in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">JDK-8075939</a> at the moment. Note <a href=\"http://stackoverflow.com/a/32767282/2711488\">this workaround</a>…"},{"owner":{"account_id":1546239,"reputation":3192,"user_id":1439733,"display_name":"Stefan Zobel"},"score":5,"creation_date":1513946964,"post_id":29230939,"comment_id":82853044,"body_markdown":"[JDK-8075939](https://bugs.openjdk.java.net/browse/JDK-8075939) makes progress now. See http://mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/050763.html for the core-libs-dev review thread and a link to the first webrev. It apppears we&#39;ll see it in Java 10.","body":"<a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">JDK-8075939</a> makes progress now. See <a href=\"http://mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/050763.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/core-libs-dev/2017-December/&zwnj;&#8203;&hellip;</a> for the core-libs-dev review thread and a link to the first webrev. It apppears we&#39;ll see it in Java 10."},{"owner":{"account_id":362885,"reputation":37276,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":2,"creation_date":1559728606,"post_id":29230939,"comment_id":99508188,"body_markdown":"@StefanZobel Looks like it has been [backported](https://bugs.openjdk.java.net/browse/JDK-8225328) to Java 8 too.","body":"@StefanZobel Looks like it has been <a href=\"https://bugs.openjdk.java.net/browse/JDK-8225328\" rel=\"nofollow noreferrer\">backported</a> to Java 8 too."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":12,"down_vote_count":0,"up_vote_count":70,"is_accepted":true,"score":70,"last_activity_date":1563781971,"creation_date":1427195089,"answer_id":29230939,"question_id":29229373,"body_markdown":"TL;DR, this has been addressed in [JDK-8075939](https://bugs.openjdk.java.net/browse/JDK-8075939) and fixed in Java&#160;10 (and backported to **Java 8** in [JDK-8225328](https://bugs.openjdk.java.net/browse/JDK-8225328)).\n\n\nWhen looking into the implementation (`ReferencePipeline.java`) we see the method [[link](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/ReferencePipeline.java#l124)]\n\n    @Override\n    final void forEachWithCancel(Spliterator&lt;P_OUT&gt; spliterator, Sink&lt;P_OUT&gt; sink) {\n        do { } while (!sink.cancellationRequested() &amp;&amp; spliterator.tryAdvance(sink));\n    }\n\nwhich will be invoke for `findFirst` operation. The special thing to take care about is the `sink.cancellationRequested()` which allows to end the loop on the first match. Compare to [[link](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/ReferencePipeline.java#l252)]\n\n    @Override\n    public final &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super P_OUT, ? extends Stream&lt;? extends R&gt;&gt; mapper) {\n        Objects.requireNonNull(mapper);\n        // We can do better than this, by polling cancellationRequested when stream is infinite\n        return new StatelessOp&lt;P_OUT, R&gt;(this, StreamShape.REFERENCE,\n                                     StreamOpFlag.NOT_SORTED | StreamOpFlag.NOT_DISTINCT | StreamOpFlag.NOT_SIZED) {\n            @Override\n            Sink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;R&gt; sink) {\n                return new Sink.ChainedReference&lt;P_OUT, R&gt;(sink) {\n                    @Override\n                    public void begin(long size) {\n                        downstream.begin(-1);\n                    }\n\n                    @Override\n                    public void accept(P_OUT u) {\n                        try (Stream&lt;? extends R&gt; result = mapper.apply(u)) {\n                            // We can do better that this too; optimize for depth=0 case and just grab spliterator and forEach it\n                            if (result != null)\n                                result.sequential().forEach(downstream);\n                        }\n                    }\n                };\n            }\n        };\n    }\n\nThe method for advancing one item ends up calling `forEach` on the sub-stream without any possibility for earlier termination and the comment at the beginning of the `flatMap` method even tells about this absent feature.\n\nSince this is more than just an optimization thing as it implies that the code simply breaks when the sub-stream is infinite, I hope that the developers soon prove that they “can do better than this”…\n\n---\nTo illustrate the implications, while `Stream.iterate(0, i-&gt;i+1).findFirst()` works as expected, `Stream.of(&quot;&quot;).flatMap(x-&gt;Stream.iterate(0, i-&gt;i+1)).findFirst()` will end up in an infinite loop.\n\nRegarding the specification, most of it can be found in the\n\n[chapter “Stream operations and pipelines” of the package specification](http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps):\n\n&gt; …\n&gt;\n&gt; Intermediate operations return a new stream. They are always *lazy*;\n&gt;\n&gt; …\n&gt;\n&gt; … Laziness also allows avoiding examining all the data when it is not necessary; for operations such as &quot;find the first string longer than 1000 characters&quot;, it is only necessary to examine just enough strings to find one that has the desired characteristics without examining all of the strings available from the source. (This behavior becomes even more important when the input stream is infinite and not merely large.)\n&gt;\n&gt; …\n&gt;\n&gt; Further, some operations are deemed *short-circuiting* operations. An intermediate operation is short-circuiting if, when presented with infinite input, it may produce a finite stream as a result. A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time.\n\nIt’s clear that a short-circuiting operation doesn’t guaranty a finite time termination, e.g. when a filter doesn’t match any item the processing can’t complete, but an implementation which doesn’t support any termination in finite time by simply ignoring the short-circuiting nature of an operation is far off the specification.\n","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>TL;DR, this has been addressed in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"noreferrer\">JDK-8075939</a> and fixed in Java 10 (and backported to <strong>Java 8</strong> in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8225328\" rel=\"noreferrer\">JDK-8225328</a>).</p>\n<p>When looking into the implementation (<code>ReferencePipeline.java</code>) we see the method [<a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/ReferencePipeline.java#l124\" rel=\"noreferrer\">link</a>]</p>\n<pre><code>@Override\nfinal void forEachWithCancel(Spliterator&lt;P_OUT&gt; spliterator, Sink&lt;P_OUT&gt; sink) {\n    do { } while (!sink.cancellationRequested() &amp;&amp; spliterator.tryAdvance(sink));\n}\n</code></pre>\n<p>which will be invoke for <code>findFirst</code> operation. The special thing to take care about is the <code>sink.cancellationRequested()</code> which allows to end the loop on the first match. Compare to [<a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/stream/ReferencePipeline.java#l252\" rel=\"noreferrer\">link</a>]</p>\n<pre><code>@Override\npublic final &lt;R&gt; Stream&lt;R&gt; flatMap(Function&lt;? super P_OUT, ? extends Stream&lt;? extends R&gt;&gt; mapper) {\n    Objects.requireNonNull(mapper);\n    // We can do better than this, by polling cancellationRequested when stream is infinite\n    return new StatelessOp&lt;P_OUT, R&gt;(this, StreamShape.REFERENCE,\n                                 StreamOpFlag.NOT_SORTED | StreamOpFlag.NOT_DISTINCT | StreamOpFlag.NOT_SIZED) {\n        @Override\n        Sink&lt;P_OUT&gt; opWrapSink(int flags, Sink&lt;R&gt; sink) {\n            return new Sink.ChainedReference&lt;P_OUT, R&gt;(sink) {\n                @Override\n                public void begin(long size) {\n                    downstream.begin(-1);\n                }\n\n                @Override\n                public void accept(P_OUT u) {\n                    try (Stream&lt;? extends R&gt; result = mapper.apply(u)) {\n                        // We can do better that this too; optimize for depth=0 case and just grab spliterator and forEach it\n                        if (result != null)\n                            result.sequential().forEach(downstream);\n                    }\n                }\n            };\n        }\n    };\n}\n</code></pre>\n<p>The method for advancing one item ends up calling <code>forEach</code> on the sub-stream without any possibility for earlier termination and the comment at the beginning of the <code>flatMap</code> method even tells about this absent feature.</p>\n<p>Since this is more than just an optimization thing as it implies that the code simply breaks when the sub-stream is infinite, I hope that the developers soon prove that they “can do better than this”…</p>\n<hr />\n<p>To illustrate the implications, while <code>Stream.iterate(0, i-&gt;i+1).findFirst()</code> works as expected, <code>Stream.of(&quot;&quot;).flatMap(x-&gt;Stream.iterate(0, i-&gt;i+1)).findFirst()</code> will end up in an infinite loop.</p>\n<p>Regarding the specification, most of it can be found in the</p>\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"noreferrer\">chapter “Stream operations and pipelines” of the package specification</a>:</p>\n<blockquote>\n<p>…</p>\n<p>Intermediate operations return a new stream. They are always <em>lazy</em>;</p>\n<p>…</p>\n<p>… Laziness also allows avoiding examining all the data when it is not necessary; for operations such as &quot;find the first string longer than 1000 characters&quot;, it is only necessary to examine just enough strings to find one that has the desired characteristics without examining all of the strings available from the source. (This behavior becomes even more important when the input stream is infinite and not merely large.)</p>\n<p>…</p>\n<p>Further, some operations are deemed <em>short-circuiting</em> operations. An intermediate operation is short-circuiting if, when presented with infinite input, it may produce a finite stream as a result. A terminal operation is short-circuiting if, when presented with infinite input, it may terminate in finite time. Having a short-circuiting operation in the pipeline is a necessary, but not sufficient, condition for the processing of an infinite stream to terminate normally in finite time.</p>\n</blockquote>\n<p>It’s clear that a short-circuiting operation doesn’t guaranty a finite time termination, e.g. when a filter doesn’t match any item the processing can’t complete, but an implementation which doesn’t support any termination in finite time by simply ignoring the short-circuiting nature of an operation is far off the specification.</p>\n"},{"tags":[],"owner":{"account_id":6230916,"reputation":315,"user_id":4847731,"display_name":"Sebastian"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430479728,"creation_date":1430479728,"answer_id":29986041,"question_id":29229373,"body_markdown":"With regard to breakage with infinite sub-streams, the behavior of flatMap becomes still more surprising when one throws in an **intermediate** (as opposed to terminal) short-circuiting operation.\r\n\r\nWhile the following works as expected, printing out the infinite sequence of integers\r\n\r\n    Stream.of(&quot;x&quot;).flatMap(_x -&gt; Stream.iterate(1, i -&gt; i + 1)).forEach(System.out::println);\r\n\r\nthe  following code prints out only the &quot;1&quot;, but still does **not** terminate:\r\n\r\n    Stream.of(&quot;x&quot;).flatMap(_x -&gt; Stream.iterate(1, i -&gt; i + 1)).limit(1).forEach(System.out::println);\r\n\r\nI cannot imagine a reading of the spec in which that were not a bug.","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>With regard to breakage with infinite sub-streams, the behavior of flatMap becomes still more surprising when one throws in an <strong>intermediate</strong> (as opposed to terminal) short-circuiting operation.</p>\n\n<p>While the following works as expected, printing out the infinite sequence of integers</p>\n\n<pre><code>Stream.of(\"x\").flatMap(_x -&gt; Stream.iterate(1, i -&gt; i + 1)).forEach(System.out::println);\n</code></pre>\n\n<p>the  following code prints out only the \"1\", but still does <strong>not</strong> terminate:</p>\n\n<pre><code>Stream.of(\"x\").flatMap(_x -&gt; Stream.iterate(1, i -&gt; i + 1)).limit(1).forEach(System.out::println);\n</code></pre>\n\n<p>I cannot imagine a reading of the spec in which that were not a bug.</p>\n"},{"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1448078296,"creation_date":1448078296,"answer_id":33839551,"question_id":29229373,"body_markdown":"In my free [StreamEx](https://github.com/amaembo/streamex) library I introduced the short-circuiting collectors. When collecting sequential stream with short-circuiting collector (like [`MoreCollectors.first()`](http://amaembo.github.io/streamex/javadoc/javax/util/streamex/MoreCollectors.html#first--)) exactly one element is consumed from the source. Internally it&#39;s implemented in quite dirty way: using a custom exception to break the control flow. Using my library your sample could be rewritten in this way:\r\n\r\n\tSystem.out.println(\r\n\t\t\t&quot;Result: &quot; +\r\n\t\t\t\t\tStreamEx.of(1, 2, 3)\r\n\t\t\t\t\t.flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n\t\t\t\t\t.flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n\t\t\t\t\t.filter(i -&gt; {\r\n\t\t\t\t\t\tSystem.out.println(i);\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.collect(MoreCollectors.first())\r\n\t\t\t\t\t.get()\r\n\t\t\t);\r\n\r\nThe result is the following:\r\n\r\n    -1\r\n    Result: -1\r\n","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>In my free <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\">StreamEx</a> library I introduced the short-circuiting collectors. When collecting sequential stream with short-circuiting collector (like <a href=\"http://amaembo.github.io/streamex/javadoc/javax/util/streamex/MoreCollectors.html#first--\" rel=\"noreferrer\"><code>MoreCollectors.first()</code></a>) exactly one element is consumed from the source. Internally it's implemented in quite dirty way: using a custom exception to break the control flow. Using my library your sample could be rewritten in this way:</p>\n\n<pre><code>System.out.println(\n        \"Result: \" +\n                StreamEx.of(1, 2, 3)\n                .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                .filter(i -&gt; {\n                    System.out.println(i);\n                    return true;\n                })\n                .collect(MoreCollectors.first())\n                .get()\n        );\n</code></pre>\n\n<p>The result is the following:</p>\n\n<pre><code>-1\nResult: -1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587289,"creation_date":1481138272,"answer_id":41025588,"question_id":29229373,"body_markdown":"I agree with other people this is a bug opened at [JDK-8075939][2]. And since it&#39;s still not fixed more than one year later. I would like to recommend you: [abacus-common][1]\r\n    \r\n    N.println(&quot;Result: &quot; + Stream.of(1, 2, 3).peek(N::println).first().get());\r\n\r\n    N.println(&quot;-----------&quot;);\r\n\r\n    N.println(&quot;Result: &quot; + Stream.of(1, 2, 3)\r\n                            .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n                            .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n                            .peek(N::println).first().get());\r\n\r\n    // output:\r\n    // 1\r\n    // Result: 1\r\n    // -----------\r\n    // -1\r\n    // Result: -1\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8075939","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>I agree with other people this is a bug opened at <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">JDK-8075939</a>. And since it's still not fixed more than one year later. I would like to recommend you: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>N.println(&quot;Result: &quot; + Stream.of(1, 2, 3).peek(N::println).first().get());\n\nN.println(&quot;-----------&quot;);\n\nN.println(&quot;Result: &quot; + Stream.of(1, 2, 3)\n                        .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                        .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                        .peek(N::println).first().get());\n\n// output:\n// 1\n// Result: 1\n// -----------\n// -1\n// Result: -1\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":11914266,"reputation":1165,"user_id":8718583,"accept_rate":75,"display_name":"Tet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1507668408,"creation_date":1507668408,"answer_id":46675717,"question_id":29229373,"body_markdown":"Unfortunately `.flatMap()` is not lazy. However, a custom `flatMap` workaround is available here: https://stackoverflow.com/questions/46661232/why-flatmap-is-so-inefficient-non-lazy-in-java-8-and-java-9","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>Unfortunately <code>.flatMap()</code> is not lazy. However, a custom <code>flatMap</code> workaround is available here: <a href=\"https://stackoverflow.com/questions/46661232/why-flatmap-is-so-inefficient-non-lazy-in-java-8-and-java-9\">Why .flatMap() is so inefficient (non lazy) in java 8 and java 9</a></p>\n"},{"tags":[],"owner":{"account_id":138148,"reputation":5659,"user_id":342882,"accept_rate":34,"display_name":"Daniil Iaitskov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573166452,"creation_date":1573166452,"answer_id":58757902,"question_id":29229373,"body_markdown":"Today I also stumbled up on this bug. Behavior is not so strait forward, cause simple case, like below, is working fine, but similar production code doesn&#39;t work.\r\n\r\n```\r\n stream(spliterator).map(o -&gt; o).flatMap(Stream::of).flatMap(Stream::of).findAny()\r\n```\r\n\r\nFor guys who cannot wait another couple years for migration to JDK-10 there is a alternative true lazy stream. It doesn&#39;t support parallel. It was dedicated for JavaScript translation, but it worked out for me, cause interface is the same.\r\n\r\nStreamHelper is collection based, but it is easy to adapt Spliterator.\r\n\r\nhttps://github.com/yaitskov/j4ts/blob/stream/src/main/java/javaemul/internal/stream/StreamHelper.java","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>Today I also stumbled up on this bug. Behavior is not so strait forward, cause simple case, like below, is working fine, but similar production code doesn't work.</p>\n\n<pre><code> stream(spliterator).map(o -&gt; o).flatMap(Stream::of).flatMap(Stream::of).findAny()\n</code></pre>\n\n<p>For guys who cannot wait another couple years for migration to JDK-10 there is a alternative true lazy stream. It doesn't support parallel. It was dedicated for JavaScript translation, but it worked out for me, cause interface is the same.</p>\n\n<p>StreamHelper is collection based, but it is easy to adapt Spliterator.</p>\n\n<p><a href=\"https://github.com/yaitskov/j4ts/blob/stream/src/main/java/javaemul/internal/stream/StreamHelper.java\" rel=\"nofollow noreferrer\">https://github.com/yaitskov/j4ts/blob/stream/src/main/java/javaemul/internal/stream/StreamHelper.java</a></p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621408128,"creation_date":1621408128,"answer_id":67598458,"question_id":29229373,"body_markdown":"While [JDK-8075939][1] has been fixed in Java 11 and backported to 10 and 8u222, there&#39;s still an edge case of `flatMap()` not being truly lazy when using `Stream.iterator()`: [JDK-8267359][2], still present in Java 17.\r\n\r\nThis\r\n```java\r\nIterator&lt;Integer&gt; it =\r\n    Stream.of(&quot;a&quot;, &quot;b&quot;)\r\n        .flatMap(s -&gt; Stream\r\n            .of(1, 2, 3, 4)\r\n            .filter(i -&gt; { System.out.println(i); return true; }))\r\n        .iterator();\r\n\r\nit.hasNext(); // This consumes the entire flatmapped stream\r\nit.next();\r\n```\r\n\r\nPrints\r\n\r\n```none\r\n1\r\n2\r\n3\r\n4\r\n```\r\n\r\nWhile this:\r\n\r\n```java\r\nIterator&lt;Integer&gt; it =\r\n    Stream.of(&quot;a&quot;, &quot;b&quot;)\r\n        .flatMap(s -&gt; Stream\r\n            .iterate(1, i -&gt; i)\r\n            .filter(i -&gt; { System.out.println(i); return true; }))\r\n        .iterator();\r\n\r\nit.hasNext();\r\nit.next();\r\n```\r\n\r\nNever terminates\r\n\r\n\r\n  [1]: https://bugs.openjdk.java.net/browse/JDK-8075939\r\n  [2]: https://bugs.openjdk.java.net/browse/JDK-8267359","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>While <a href=\"https://bugs.openjdk.java.net/browse/JDK-8075939\" rel=\"nofollow noreferrer\">JDK-8075939</a> has been fixed in Java 11 and backported to 10 and 8u222, there's still an edge case of <code>flatMap()</code> not being truly lazy when using <code>Stream.iterator()</code>: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8267359\" rel=\"nofollow noreferrer\">JDK-8267359</a>, still present in Java 17.</p>\n<p>This</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;Integer&gt; it =\n    Stream.of(&quot;a&quot;, &quot;b&quot;)\n        .flatMap(s -&gt; Stream\n            .of(1, 2, 3, 4)\n            .filter(i -&gt; { System.out.println(i); return true; }))\n        .iterator();\n\nit.hasNext(); // This consumes the entire flatmapped stream\nit.next();\n</code></pre>\n<p>Prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>1\n2\n3\n4\n</code></pre>\n<p>While this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Iterator&lt;Integer&gt; it =\n    Stream.of(&quot;a&quot;, &quot;b&quot;)\n        .flatMap(s -&gt; Stream\n            .iterate(1, i -&gt; i)\n            .filter(i -&gt; { System.out.println(i); return true; }))\n        .iterator();\n\nit.hasNext();\nit.next();\n</code></pre>\n<p>Never terminates</p>\n"}],"owner":{"account_id":1246473,"reputation":1428,"user_id":1207816,"display_name":"Vadym S. Khondar"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10824,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":29230939,"answer_count":8,"score":81,"last_activity_date":1673587289,"creation_date":1427190414,"question_id":29229373,"body_markdown":"I have the following sample code:\r\n\r\n    System.out.println(\r\n           &quot;Result: &quot; +\r\n            Stream.of(1, 2, 3)\r\n                    .filter(i -&gt; {\r\n                        System.out.println(i);\r\n                        return true;\r\n                    })\r\n                    .findFirst()\r\n                    .get()\r\n    );\r\n    System.out.println(&quot;-----------&quot;);\r\n    System.out.println(\r\n           &quot;Result: &quot; +\r\n            Stream.of(1, 2, 3)\r\n                    .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n                    .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\r\n                    .filter(i -&gt; {\r\n                        System.out.println(i);\r\n                        return true;\r\n                    })\r\n                    .findFirst()\r\n                    .get()\r\n    );\r\n\r\nThe output is as follows:\r\n\r\n    1\r\n    Result: 1\r\n    -----------\r\n    -1\r\n    0\r\n    1\r\n    0\r\n    1\r\n    2\r\n    1\r\n    2\r\n    3\r\n    Result: -1\r\n\r\nFrom here I see that in first case `stream` really behaves lazily - we use `findFirst()` so once we have first element our filtering lambda is not invoked.\r\nHowever, in second case which uses `flatMap`s we see that despite first element which fulfils the filter condition is found (it&#39;s just any first element as lambda always returns true) further contents of the stream are still being fed through filtering function.\r\n\r\nI am trying to understand why it behaves like this rather than giving up after first element is calculated as in the first case.\r\nAny helpful information would be appreciated.\r\n\r\n","title":"Why filter() after flatMap() is &quot;not completely&quot; lazy in Java streams?","body":"<p>I have the following sample code:</p>\n\n<pre><code>System.out.println(\n       \"Result: \" +\n        Stream.of(1, 2, 3)\n                .filter(i -&gt; {\n                    System.out.println(i);\n                    return true;\n                })\n                .findFirst()\n                .get()\n);\nSystem.out.println(\"-----------\");\nSystem.out.println(\n       \"Result: \" +\n        Stream.of(1, 2, 3)\n                .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                .flatMap(i -&gt; Stream.of(i - 1, i, i + 1))\n                .filter(i -&gt; {\n                    System.out.println(i);\n                    return true;\n                })\n                .findFirst()\n                .get()\n);\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>1\nResult: 1\n-----------\n-1\n0\n1\n0\n1\n2\n1\n2\n3\nResult: -1\n</code></pre>\n\n<p>From here I see that in first case <code>stream</code> really behaves lazily - we use <code>findFirst()</code> so once we have first element our filtering lambda is not invoked.\nHowever, in second case which uses <code>flatMap</code>s we see that despite first element which fulfils the filter condition is found (it's just any first element as lambda always returns true) further contents of the stream are still being fed through filtering function.</p>\n\n<p>I am trying to understand why it behaves like this rather than giving up after first element is calculated as in the first case.\nAny helpful information would be appreciated.</p>\n"},{"tags":["java","algorithm","functional-programming","java-8","reduce"],"comments":[{"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"score":1,"creation_date":1469321128,"post_id":38547580,"comment_id":64487143,"body_markdown":"You may want to use mutable objects instead of primitives but this is not really the goal while using lambda expressions","body":"You may want to use mutable objects instead of primitives but this is not really the goal while using lambda expressions"}],"answers":[{"tags":[],"owner":{"account_id":6528825,"reputation":21455,"user_id":5050667,"accept_rate":91,"display_name":"Yassin Hajaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1469322659,"creation_date":1469321809,"answer_id":38547754,"question_id":38547580,"body_markdown":"So just like I told you within my comment, it is not ok to use mutable objects within your lambda expressions. But in your case, if you really want to apply the same algorithm, it&#39;ll be difficult.\r\n\r\nHere&#39;s one that will do the same as what you want, if no majority is found, it returns `-1`\r\n\r\n\tpublic static int findCandidate(int ... nums) {\r\n\t\tMap&lt;Integer, List&lt;Integer&gt;&gt; map =\r\n\t    Arrays.stream(nums)\r\n\t          .boxed()\r\n\t          .collect(Collectors.groupingBy(x -&gt; x));\r\n\t\tint value = \r\n\t\t\t  map\r\n\t          .entrySet().stream()\r\n\t          .max((e1, e2) -&gt; Integer.compare(e1.getValue().size(), e2.getValue().size()))\r\n\t          .map(e -&gt; e.getKey())\r\n\t          .get();\r\n\t\tint result = map.get(value).size();\r\n\t    return result &gt; nums.length / 2 ? value : -1;\r\n\t}","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p>So just like I told you within my comment, it is not ok to use mutable objects within your lambda expressions. But in your case, if you really want to apply the same algorithm, it'll be difficult.</p>\n\n<p>Here's one that will do the same as what you want, if no majority is found, it returns <code>-1</code></p>\n\n<pre><code>public static int findCandidate(int ... nums) {\n    Map&lt;Integer, List&lt;Integer&gt;&gt; map =\n    Arrays.stream(nums)\n          .boxed()\n          .collect(Collectors.groupingBy(x -&gt; x));\n    int value = \n          map\n          .entrySet().stream()\n          .max((e1, e2) -&gt; Integer.compare(e1.getValue().size(), e2.getValue().size()))\n          .map(e -&gt; e.getKey())\n          .get();\n    int result = map.get(value).size();\n    return result &gt; nums.length / 2 ? value : -1;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":0,"creation_date":1469550403,"post_id":38548821,"comment_id":64578447,"body_markdown":"@LalitRao Thank you!","body":"@LalitRao Thank you!"}],"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1469335349,"creation_date":1469335349,"answer_id":38548821,"question_id":38547580,"body_markdown":"[Yassin Hajaj&#39;s answer][1] shows some pretty good streams techniques. (+1) Fundamentally I think it&#39;s using the right approach. There are a couple of minor improvements that can be made to it, though.\r\n\r\nThe first change is use the `counting()` collector to count the items in each group instead of accumulating them into a list. Since we&#39;re looking for a majority, all we need is the count, not the actual elements, and we avoid having to compare the lengths of the lists.\r\n\r\nThe second change is to filter the list looking for a group whose count is a majority. By definition there can be at most one, so we just filter the map entries using this predicate and terminate the stream with `findAny` instead of `max`.\r\n\r\nThe third change is to have the function return `OptionalInt` which more closely matches its intent. The `OptionalInt` either contains the majority value, or it&#39;s empty if there isn&#39;t a majority value. This avoids having to use a sentinel value such as `-1` that might actually occur in the data. Since `findAny` returns an `OptionalInt`, we&#39;re done.\r\n\r\nFinally, I&#39;ve relied on static imports in several places. This is mainly a matter of style, but I think it cleans up the code a bit.\r\n\r\nHere&#39;s my variation:\r\n\r\n    static OptionalInt majority(int... nums) {\r\n        Map&lt;Integer, Long&gt; map =\r\n            Arrays.stream(nums)\r\n                  .boxed()\r\n                  .collect(groupingBy(x -&gt; x, counting()));\r\n        \r\n        return map.entrySet().stream()\r\n                  .filter(e -&gt; e.getValue() &gt; nums.length / 2)\r\n                  .mapToInt(Entry::getKey)\r\n                  .findAny();\r\n    }\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38547754/1441122","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p><a href=\"https://stackoverflow.com/a/38547754/1441122\">Yassin Hajaj's answer</a> shows some pretty good streams techniques. (+1) Fundamentally I think it's using the right approach. There are a couple of minor improvements that can be made to it, though.</p>\n\n<p>The first change is use the <code>counting()</code> collector to count the items in each group instead of accumulating them into a list. Since we're looking for a majority, all we need is the count, not the actual elements, and we avoid having to compare the lengths of the lists.</p>\n\n<p>The second change is to filter the list looking for a group whose count is a majority. By definition there can be at most one, so we just filter the map entries using this predicate and terminate the stream with <code>findAny</code> instead of <code>max</code>.</p>\n\n<p>The third change is to have the function return <code>OptionalInt</code> which more closely matches its intent. The <code>OptionalInt</code> either contains the majority value, or it's empty if there isn't a majority value. This avoids having to use a sentinel value such as <code>-1</code> that might actually occur in the data. Since <code>findAny</code> returns an <code>OptionalInt</code>, we're done.</p>\n\n<p>Finally, I've relied on static imports in several places. This is mainly a matter of style, but I think it cleans up the code a bit.</p>\n\n<p>Here's my variation:</p>\n\n<pre><code>static OptionalInt majority(int... nums) {\n    Map&lt;Integer, Long&gt; map =\n        Arrays.stream(nums)\n              .boxed()\n              .collect(groupingBy(x -&gt; x, counting()));\n\n    return map.entrySet().stream()\n              .filter(e -&gt; e.getValue() &gt; nums.length / 2)\n              .mapToInt(Entry::getKey)\n              .findAny();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1102249,"reputation":29917,"user_id":1094403,"accept_rate":83,"display_name":"Luis Casillas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1469497028,"creation_date":1469496178,"answer_id":38579740,"question_id":38547580,"body_markdown":"Your problem here is that Java streams don&#39;t have a true [list fold operation](https://en.wikipedia.org/wiki/Fold_(higher-order_function)).  With a true fold operation it&#39;s not too difficult to write the function as a left fold.  For example, in Haskell:\r\n\r\n    import Data.List (foldl&#39;)\r\n    \r\n    -- A custom struct to represent the state of the fold.\r\n    data MooreState a = MooreState { candidate :: a, count :: !Int }\r\n    \r\n    findCandidate :: Eq a =&gt; [a] -&gt; Maybe a\r\n    findCandidate (first:rest) = Just result\r\n        where \r\n          Moore result _ = foldl&#39; combiner (MooreState first 1) rest                       \r\n\r\n          combiner :: Eq a =&gt; MooreState a -&gt; a -&gt; MooreState a\r\n          combiner (Moore candidate count) current\r\n              | count == 0           = MooreState current 1\r\n              | candidate == current = MooreState candidate (count + 1)\r\n              | otherwise            = MooreState candidate (count - 1)\r\n\r\n    -- The empty list has no candidates.\r\n    findCandidate [] = Nothing\r\n\r\n\r\nJava&#39;s `reduce()` methods are the closest it has to a true left fold, but if you look at [the Javadoc for the `reduce()` method that you&#39;re using](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-), you&#39;ll note that it says that:\r\n\r\n1. It &quot;is not constrained to execute sequentially&quot;;\r\n2. It requires the accumulation function to be **associative**.\r\n\r\nThis documentation is really hard to interpret, but the way I read it is this.  Even though it might process elements out of order:\r\n\r\n* **If** your accumulation function is associative **then** it is guaranteed to produce the same result as if you processed the stream sequentially;\r\n* If your accumulation function is not associative, then it may produce results different from the simple sequential process.\r\n\r\nWhy is this important?  Well, first of all, the fact that you are mutating an external variable means that the way you&#39;re using the `count` is broken.  Element #7 of the stream may be processed before element #5, for all you know.\r\n\r\nMore insidiously, the `combine` operation in the Haskell version above combines inputs of different types (`Moore a` and `a`), but the Java `reduce` method that you use is based on a `BinaryOperator&lt;T&gt;`, which combines two objects of the same type.  There&#39;s [another overload of `reduce` that uses a `BiFunction&lt;U, T, U&gt;`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-), but that requires you to supply a `BinaryOperator&lt;U&gt; combiner` and its `U identity` as well.  This is because Java&#39;s `reduce` methods are designed so that they can:\r\n\r\n1. Split the input stream into contiguous chunks;\r\n2. Process multiple chunks in parallel;\r\n3. Combine the results of adjacent chunks in order when they finish.\r\n\r\nSo the associativity and identity requirements are there to guarantee that this parallel processing produces the same result as if you did it sequentially.  But this means that while there&#39;s a straightforward functional implementation of the algorithm, there is no straightforward way to write it with Java&#39;s `Stream` type.  (There is a non-straightforward way, but that gets into a bit of wizardry that would be (a) really convoluted and (b) really slow in Java.)  \r\n\r\nSo I personally would just accept that Java&#39;s not a great functional programming language, leave good enough alone and use the imperative version as-is.  But if for some weird reason I really insisted on doing it functionally, I&#39;d go for a library like [jOOλ](https://github.com/jOOQ/jOOL) which provides [true left folds in Java](http://www.jooq.org/products/jOO%CE%BB/javadoc/0.9.7/index.html?overview-summary.html).  Then you can do the same as the Haskell solution (untested pseudocode):\r\n\r\n    import org.jooq.lambda.Seq;\r\n    import org.jooq.lambda.tuple.Tuple2;\r\n\r\n    class MooreState&lt;A&gt; {\r\n        private final A candidate;\r\n        private final int count;\r\n        // ...constructors and getters...\r\n    }\r\n\r\n    public static Optional&lt;A&gt; findCandidate(Seq&lt;A&gt; elements) {\r\n        Tuple2&lt;Optional&lt;A&gt;, Seq&lt;A&gt;&gt; split = elements.splitAtHead();\r\n        return split.v1().map(first -&gt; {\r\n            Seq&lt;A&gt; rest = split.v2();\r\n            return rest.foldLeft(\r\n                new MooreState&lt;&gt;(first, 1),\r\n                (state, current) -&gt; {\r\n                    if (state.getCount() == 0) {\r\n                        return new MooreState&lt;&gt;(current, 1);\r\n                    } else if (state.getCandidate().equals(current) {\r\n                        return new MooreState&lt;&gt;(state.getCandidate(),\r\n                                                state.getCount() + 1);\r\n                    } else {\r\n                        return new MooreState&lt;&gt;(state.getCandidate(),\r\n                                                state.getCount() - 1);\r\n                    }\r\n                }\r\n            );\r\n        });\r\n    }\r\n\r\n...which is probably terrifyingly slow.  ","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p>Your problem here is that Java streams don't have a true <a href=\"https://en.wikipedia.org/wiki/Fold_(higher-order_function)\" rel=\"nofollow\">list fold operation</a>.  With a true fold operation it's not too difficult to write the function as a left fold.  For example, in Haskell:</p>\n\n<pre><code>import Data.List (foldl')\n\n-- A custom struct to represent the state of the fold.\ndata MooreState a = MooreState { candidate :: a, count :: !Int }\n\nfindCandidate :: Eq a =&gt; [a] -&gt; Maybe a\nfindCandidate (first:rest) = Just result\n    where \n      Moore result _ = foldl' combiner (MooreState first 1) rest                       \n\n      combiner :: Eq a =&gt; MooreState a -&gt; a -&gt; MooreState a\n      combiner (Moore candidate count) current\n          | count == 0           = MooreState current 1\n          | candidate == current = MooreState candidate (count + 1)\n          | otherwise            = MooreState candidate (count - 1)\n\n-- The empty list has no candidates.\nfindCandidate [] = Nothing\n</code></pre>\n\n<p>Java's <code>reduce()</code> methods are the closest it has to a true left fold, but if you look at <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-T-java.util.function.BinaryOperator-\" rel=\"nofollow\">the Javadoc for the <code>reduce()</code> method that you're using</a>, you'll note that it says that:</p>\n\n<ol>\n<li>It \"is not constrained to execute sequentially\";</li>\n<li>It requires the accumulation function to be <strong>associative</strong>.</li>\n</ol>\n\n<p>This documentation is really hard to interpret, but the way I read it is this.  Even though it might process elements out of order:</p>\n\n<ul>\n<li><strong>If</strong> your accumulation function is associative <strong>then</strong> it is guaranteed to produce the same result as if you processed the stream sequentially;</li>\n<li>If your accumulation function is not associative, then it may produce results different from the simple sequential process.</li>\n</ul>\n\n<p>Why is this important?  Well, first of all, the fact that you are mutating an external variable means that the way you're using the <code>count</code> is broken.  Element #7 of the stream may be processed before element #5, for all you know.</p>\n\n<p>More insidiously, the <code>combine</code> operation in the Haskell version above combines inputs of different types (<code>Moore a</code> and <code>a</code>), but the Java <code>reduce</code> method that you use is based on a <code>BinaryOperator&lt;T&gt;</code>, which combines two objects of the same type.  There's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow\">another overload of <code>reduce</code> that uses a <code>BiFunction&lt;U, T, U&gt;</code></a>, but that requires you to supply a <code>BinaryOperator&lt;U&gt; combiner</code> and its <code>U identity</code> as well.  This is because Java's <code>reduce</code> methods are designed so that they can:</p>\n\n<ol>\n<li>Split the input stream into contiguous chunks;</li>\n<li>Process multiple chunks in parallel;</li>\n<li>Combine the results of adjacent chunks in order when they finish.</li>\n</ol>\n\n<p>So the associativity and identity requirements are there to guarantee that this parallel processing produces the same result as if you did it sequentially.  But this means that while there's a straightforward functional implementation of the algorithm, there is no straightforward way to write it with Java's <code>Stream</code> type.  (There is a non-straightforward way, but that gets into a bit of wizardry that would be (a) really convoluted and (b) really slow in Java.)  </p>\n\n<p>So I personally would just accept that Java's not a great functional programming language, leave good enough alone and use the imperative version as-is.  But if for some weird reason I really insisted on doing it functionally, I'd go for a library like <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a> which provides <a href=\"http://www.jooq.org/products/jOO%CE%BB/javadoc/0.9.7/index.html?overview-summary.html\" rel=\"nofollow\">true left folds in Java</a>.  Then you can do the same as the Haskell solution (untested pseudocode):</p>\n\n<pre><code>import org.jooq.lambda.Seq;\nimport org.jooq.lambda.tuple.Tuple2;\n\nclass MooreState&lt;A&gt; {\n    private final A candidate;\n    private final int count;\n    // ...constructors and getters...\n}\n\npublic static Optional&lt;A&gt; findCandidate(Seq&lt;A&gt; elements) {\n    Tuple2&lt;Optional&lt;A&gt;, Seq&lt;A&gt;&gt; split = elements.splitAtHead();\n    return split.v1().map(first -&gt; {\n        Seq&lt;A&gt; rest = split.v2();\n        return rest.foldLeft(\n            new MooreState&lt;&gt;(first, 1),\n            (state, current) -&gt; {\n                if (state.getCount() == 0) {\n                    return new MooreState&lt;&gt;(current, 1);\n                } else if (state.getCandidate().equals(current) {\n                    return new MooreState&lt;&gt;(state.getCandidate(),\n                                            state.getCount() + 1);\n                } else {\n                    return new MooreState&lt;&gt;(state.getCandidate(),\n                                            state.getCount() - 1);\n                }\n            }\n        );\n    });\n}\n</code></pre>\n\n<p>...which is probably terrifyingly slow.  </p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587261,"creation_date":1480730665,"answer_id":40943509,"question_id":38547580,"body_markdown":"@Stuart Marks wrote the concise code. however it&#39;s still can simplified by [abacus-common][1]\r\n    \r\n    Stream.from(nums).groupBy(Function.identity(), Collectors.counting())\r\n         .findAny(e -&gt; e.getValue() &gt; nums.length / 2)\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p>@Stuart Marks wrote the concise code. however it's still can simplified by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.from(nums).groupBy(Function.identity(), Collectors.counting())\n     .findAny(e -&gt; e.getValue() &gt; nums.length / 2)\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":2997690,"reputation":53,"user_id":2543880,"display_name":"Vic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3012,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":38547754,"answer_count":4,"score":5,"last_activity_date":1673587261,"creation_date":1469319760,"question_id":38547580,"body_markdown":"I am trying to use Java 8 to rewrite the implementation of [Moore’s Voting Algorithm](http://www.geeksforgeeks.org/majority-element/) to find the Majority Element in an array.\r\n\r\nThe Java 7 implementation will be something like this:\r\n\r\n    public int findCandidate(int[] nums) {\r\n\r\n        int maj_index = 0, count = 1;\r\n        for(int i=1; i&lt;nums.length;i++){\r\n            if(count==0){\r\n                count++;\r\n                maj_index=i;\r\n            }else if(nums[maj_index]==nums[i]){\r\n                count++;\r\n            } else {\r\n                count--;\r\n            }\r\n        }\r\n        return nums[maj_index];\r\n    }\r\n\r\nThe method I can think of is using stream reduce to get the final result\r\n\r\n    public int findCandidate(int[] nums) {\r\n        int count = 1;\r\n        Arrays\r\n                .asList(nums)\r\n                .stream()\r\n                .reduce(0, (result, cur) -&gt; {\r\n                    if (count == 0) {\r\n                        result = cur;\r\n                        count++;\r\n                    } else if (result == cur){\r\n                        count++;\r\n                    } else {\r\n                        count --;\r\n                    }\r\n                });\r\n        return result;\r\n    }\r\n\r\nBut this method have compile error, besides, it also break the functional purist, I encounter this situation many times, so what is the best way to deal with the global variable inside the lambda expression. ","title":"Avoid using global variable in Java 8 stream reduce method","body":"<p>I am trying to use Java 8 to rewrite the implementation of <a href=\"http://www.geeksforgeeks.org/majority-element/\" rel=\"noreferrer\">Moore’s Voting Algorithm</a> to find the Majority Element in an array.</p>\n\n<p>The Java 7 implementation will be something like this:</p>\n\n<pre><code>public int findCandidate(int[] nums) {\n\n    int maj_index = 0, count = 1;\n    for(int i=1; i&lt;nums.length;i++){\n        if(count==0){\n            count++;\n            maj_index=i;\n        }else if(nums[maj_index]==nums[i]){\n            count++;\n        } else {\n            count--;\n        }\n    }\n    return nums[maj_index];\n}\n</code></pre>\n\n<p>The method I can think of is using stream reduce to get the final result</p>\n\n<pre><code>public int findCandidate(int[] nums) {\n    int count = 1;\n    Arrays\n            .asList(nums)\n            .stream()\n            .reduce(0, (result, cur) -&gt; {\n                if (count == 0) {\n                    result = cur;\n                    count++;\n                } else if (result == cur){\n                    count++;\n                } else {\n                    count --;\n                }\n            });\n    return result;\n}\n</code></pre>\n\n<p>But this method have compile error, besides, it also break the functional purist, I encounter this situation many times, so what is the best way to deal with the global variable inside the lambda expression. </p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":1,"creation_date":1474053193,"post_id":39538622,"comment_id":66391184,"body_markdown":"`collectingAndThen` I knew I was missing something, but I always think about `mapping` instead. +1","body":"<code>collectingAndThen</code> I knew I was missing something, but I always think about <code>mapping</code> instead. +1"},{"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"score":0,"creation_date":1474054129,"post_id":39538622,"comment_id":66391627,"body_markdown":"Is there a way to check if the `Optional` returned by `.max()` is present in the stream operation before calling `.get()` on it?","body":"Is there a way to check if the <code>Optional</code> returned by <code>.max()</code> is present in the stream operation before calling <code>.get()</code> on it?"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1474054344,"post_id":39538622,"comment_id":66391713,"body_markdown":"@AndrewMairose Yes, but `.get()` is safe to call here, the map can never be empty, it will necessarily contain at least the city with the grouped by zip.","body":"@AndrewMairose Yes, but <code>.get()</code> is safe to call here, the map can never be empty, it will necessarily contain at least the city with the grouped by zip."},{"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"score":0,"creation_date":1474054526,"post_id":39538622,"comment_id":66391788,"body_markdown":"How could you call is present first? In my actual application, the map could be empty because `city` is nullable, and I call `filter` first to filter out records where `city` is `null`. So in the case that there is only one record for a `zip`, and that record has a `null` `city`, then the optional would not be present.","body":"How could you call is present first? In my actual application, the map could be empty because <code>city</code> is nullable, and I call <code>filter</code> first to filter out records where <code>city</code> is <code>null</code>. So in the case that there is only one record for a <code>zip</code>, and that record has a <code>null</code> <code>city</code>, then the optional would not be present."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":1,"creation_date":1474054679,"post_id":39538622,"comment_id":66391851,"body_markdown":"@AndrewMairose I see, well instead of `.get().getKey()`, you can call `.map(Map.Entry::getKey).orElse(null)`, which would return `null` for the most frequent city if the map is empty.","body":"@AndrewMairose I see, well instead of <code>.get().getKey()</code>, you can call <code>.map(Map.Entry::getKey).orElse(null)</code>, which would return <code>null</code> for the most frequent city if the map is empty."},{"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"score":0,"creation_date":1474054746,"post_id":39538622,"comment_id":66391880,"body_markdown":"Perfect! Thank you!","body":"Perfect! Thank you!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1474302546,"post_id":39538622,"comment_id":66465601,"body_markdown":"@Andrew Mairose: I don’t see, how the nullability of `getCity` should change the fact that `groupingBy` never produces empty groups, hence, `max` on a group will never produce an empty `Optional`. If you filter before collecting, a group might cease to exist, still, there won’t be empty groups.","body":"@Andrew Mairose: I don’t see, how the nullability of <code>getCity</code> should change the fact that <code>groupingBy</code> never produces empty groups, hence, <code>max</code> on a group will never produce an empty <code>Optional</code>. If you filter before collecting, a group might cease to exist, still, there won’t be empty groups."}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":7,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1474053051,"creation_date":1474053051,"answer_id":39538622,"question_id":39538089,"body_markdown":"You could have the following:\r\n\r\n\tfinal Map&lt;String, String&gt; mostFrequentCities =\r\n\t  records.stream()\r\n\t\t\t .collect(Collectors.groupingBy(\r\n\t\t\t    Record::getZip,\r\n\t\t\t    Collectors.collectingAndThen(\r\n\t\t\t\t  Collectors.groupingBy(Record::getCity, Collectors.counting()),\r\n\t\t\t\t  map -&gt; map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getKey()\r\n\t\t        )\r\n\t\t\t ));\r\n\r\nThis groups each records by their zip, and by their cities, counting the number of cities for each zip. Then, the map of the number of cities by zip is post-processed to keep only the city having the maximum count.","title":"Get object with max frequency from Java 8 stream","body":"<p>You could have the following:</p>\n\n<pre><code>final Map&lt;String, String&gt; mostFrequentCities =\n  records.stream()\n         .collect(Collectors.groupingBy(\n            Record::getZip,\n            Collectors.collectingAndThen(\n              Collectors.groupingBy(Record::getCity, Collectors.counting()),\n              map -&gt; map.entrySet().stream().max(Map.Entry.comparingByValue()).get().getKey()\n            )\n         ));\n</code></pre>\n\n<p>This groups each records by their zip, and by their cities, counting the number of cities for each zip. Then, the map of the number of cities by zip is post-processed to keep only the city having the maximum count.</p>\n"},{"comments":[{"owner":{"account_id":8460659,"reputation":2301,"user_id":6346531,"display_name":"aksh1618"},"score":0,"creation_date":1599134013,"post_id":40943322,"comment_id":112683130,"body_markdown":"Please add code snippet (preferably) or link to code snippet (at least)","body":"Please add code snippet (preferably) or link to code snippet (at least)"}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673587244,"creation_date":1480728482,"answer_id":40943322,"question_id":39538089,"body_markdown":"I think Multiset is a good choice for this kind of question. Here is code by [abacus-common][1]\r\n    \r\n    Stream.of(records).map(e -&gt; e.getCity()).filter(N::notNullOrEmpty)\r\n          .toMultiset().maxOccurrences().get().getKey();\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Get object with max frequency from Java 8 stream","body":"<p>I think Multiset is a good choice for this kind of question. Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(records).map(e -&gt; e.getCity()).filter(N::notNullOrEmpty)\n      .toMultiset().maxOccurrences().get().getKey();\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":3020114,"reputation":10675,"user_id":2561365,"accept_rate":63,"display_name":"Andrew Mairose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6161,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":39538622,"answer_count":2,"score":9,"last_activity_date":1673587244,"creation_date":1474050969,"question_id":39538089,"body_markdown":"I have an object with `city` and `zip` fields, let&#39;s call it `Record`.\r\n\r\n    public class Record() {\r\n        private String zip;\r\n        private String city;\r\n        \r\n        //getters and setters\r\n    }\r\n\r\nNow, I have a collection of these objects, and I group them by `zip` using the following code:\r\n\r\n    final Collection&lt;Record&gt; records; //populated collection of records\r\n    final Map&lt;String, List&lt;Record&gt;&gt; recordsByZip = records.stream()\r\n        .collect(Collectors.groupingBy(Record::getZip));\r\n\r\nSo, now I have a map where the key is the `zip` and the value is a list of `Record` objects with that `zip`.\r\n\r\nWhat I want to get now is the most common `city` for each `zip`.\r\n\r\n    recordsByZip.forEach((zip, records) -&gt; {\r\n        final String mostCommonCity = //get most common city for these records\r\n    });\r\n\r\nI would like to do this with all stream operations. For example, I am able to get a map of the frequency for each `city` by doing this:\r\n\r\n    recordsByZip.forEach((zip, entries) -&gt; {\r\n        final Map&lt;String, Long&gt; frequencyMap = entries.stream()\r\n            .map(GisSectorFileRecord::getCity)\r\n            .filter(StringUtils::isNotBlank)\r\n            .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\r\n    });\r\n\r\nBut I would like to be able to do a single-line stream operation that will just return the most frequent `city`.\r\n\r\nAre there any Java 8 stream gurus out there that can work some magic on this?\r\n\r\nHere is an [ideone sandbox](https://ideone.com/IhL5te) if you&#39;d like to play around with it.","title":"Get object with max frequency from Java 8 stream","body":"<p>I have an object with <code>city</code> and <code>zip</code> fields, let's call it <code>Record</code>.</p>\n\n<pre><code>public class Record() {\n    private String zip;\n    private String city;\n\n    //getters and setters\n}\n</code></pre>\n\n<p>Now, I have a collection of these objects, and I group them by <code>zip</code> using the following code:</p>\n\n<pre><code>final Collection&lt;Record&gt; records; //populated collection of records\nfinal Map&lt;String, List&lt;Record&gt;&gt; recordsByZip = records.stream()\n    .collect(Collectors.groupingBy(Record::getZip));\n</code></pre>\n\n<p>So, now I have a map where the key is the <code>zip</code> and the value is a list of <code>Record</code> objects with that <code>zip</code>.</p>\n\n<p>What I want to get now is the most common <code>city</code> for each <code>zip</code>.</p>\n\n<pre><code>recordsByZip.forEach((zip, records) -&gt; {\n    final String mostCommonCity = //get most common city for these records\n});\n</code></pre>\n\n<p>I would like to do this with all stream operations. For example, I am able to get a map of the frequency for each <code>city</code> by doing this:</p>\n\n<pre><code>recordsByZip.forEach((zip, entries) -&gt; {\n    final Map&lt;String, Long&gt; frequencyMap = entries.stream()\n        .map(GisSectorFileRecord::getCity)\n        .filter(StringUtils::isNotBlank)\n        .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()));\n});\n</code></pre>\n\n<p>But I would like to be able to do a single-line stream operation that will just return the most frequent <code>city</code>.</p>\n\n<p>Are there any Java 8 stream gurus out there that can work some magic on this?</p>\n\n<p>Here is an <a href=\"https://ideone.com/IhL5te\" rel=\"noreferrer\">ideone sandbox</a> if you'd like to play around with it.</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":3,"creation_date":1432729206,"post_id":30482083,"comment_id":49043125,"body_markdown":"Note: you should close the file: `try(Stream&lt;String&gt; lines = Files.lines(...)) { lines.map(xxx).collect(...) };`","body":"Note: you should close the file: <code>try(Stream&lt;String&gt; lines = Files.lines(...)) { lines.map(xxx).collect(...) };</code>"}],"answers":[{"comments":[{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1432729127,"post_id":30482204,"comment_id":49043076,"body_markdown":"Provided that the `createAirport` method is changed to `return` the created airport instead of appending it to that (now obsolete) list.","body":"Provided that the <code>createAirport</code> method is changed to <code>return</code> the created airport instead of appending it to that (now obsolete) list."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":1,"creation_date":1432729205,"post_id":30482204,"comment_id":49043124,"body_markdown":"As an addition I would recommend to read the [java.util.stream](https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description) package description. It&#39;s not very long and really helpful to understand the streams.","body":"As an addition I would recommend to read the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#package.description\" rel=\"nofollow noreferrer\">java.util.stream</a> package description. It&#39;s not very long and really helpful to understand the streams."},{"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"score":0,"creation_date":1432729288,"post_id":30482204,"comment_id":49043172,"body_markdown":"@tobias_k doh!  Thanks - fixed.","body":"@tobias_k doh!  Thanks - fixed."},{"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"score":0,"creation_date":1432729654,"post_id":30482204,"comment_id":49043446,"body_markdown":"I&#39;m talking about mutation of the reference.  The `line` passed in does not have the same value as `line` half-way down the method.","body":"I&#39;m talking about mutation of the reference.  The <code>line</code> passed in does not have the same value as <code>line</code> half-way down the method."},{"owner":{"account_id":5172676,"reputation":297,"user_id":4140728,"display_name":"Venraey"},"score":0,"creation_date":1432730402,"post_id":30482204,"comment_id":49043992,"body_markdown":"Absolutely fantastic answer, thank you so much!\n\nEDIT: Actually sorry, it gives me 2 errors.\n1 is that it cannot resolve method stream() and the second one gives me an error trying to pass the string line to createAirport().","body":"Absolutely fantastic answer, thank you so much!  EDIT: Actually sorry, it gives me 2 errors. 1 is that it cannot resolve method stream() and the second one gives me an error trying to pass the string line to createAirport()."},{"owner":{"account_id":5172676,"reputation":297,"user_id":4140728,"display_name":"Venraey"},"score":0,"creation_date":1432730875,"post_id":30482204,"comment_id":49044377,"body_markdown":"the second error is as follows: createAirport (java.lang.String) in AirportConsumer cannot be applied to (&lt;lambda parameter&gt;)","body":"the second error is as follows: createAirport (java.lang.String) in AirportConsumer cannot be applied to (&lt;lambda parameter&gt;)"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1432734887,"post_id":30482204,"comment_id":49047609,"body_markdown":"Your `try(…)` statement will close the stream before it is returned, that’s surely not what you want. The try-with-resources construct is only useful for resources you are processing within the scope of the statement, not when you want to return the resource to the method’s caller. Btw., I don’t get why you name a class which *produces* `Airport` instances `AirportConsumer`.","body":"Your <code>try(…)</code> statement will close the stream before it is returned, that’s surely not what you want. The try-with-resources construct is only useful for resources you are processing within the scope of the statement, not when you want to return the resource to the method’s caller. Btw., I don’t get why you name a class which <i>produces</i> <code>Airport</code> instances <code>AirportConsumer</code>."},{"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"score":0,"creation_date":1432738749,"post_id":30482204,"comment_id":49050765,"body_markdown":"Damn, you&#39;re absolutely right.  Good catch.  However, once the contents of the file have been converted to airports, the file could be closed while leaving the stream open.","body":"Damn, you&#39;re absolutely right.  Good catch.  However, once the contents of the file have been converted to airports, the file could be closed while leaving the stream open."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":5,"creation_date":1432740714,"post_id":30482204,"comment_id":49052302,"body_markdown":"But that’s not how streams work. All intermediate operations are lazy and are performed when the sink (aka terminal operation) requires another element. Hence, the last line will be `map`ped to an `Airport` instance right before the terminal operation processes the last element (if it ever does, as it might be short-circuiting). So there is no place where all lines have been converted already but keeping the stream open would make sense.","body":"But that’s not how streams work. All intermediate operations are lazy and are performed when the sink (aka terminal operation) requires another element. Hence, the last line will be <code>map</code>ped to an <code>Airport</code> instance right before the terminal operation processes the last element (if it ever does, as it might be short-circuiting). So there is no place where all lines have been converted already but keeping the stream open would make sense."}],"tags":[],"owner":{"account_id":1062621,"reputation":8172,"user_id":1063929,"display_name":"Steve Chaloner"},"comment_count":9,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1432738882,"creation_date":1432729040,"answer_id":30482204,"question_id":30482083,"body_markdown":"You need to use [`map()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-) to transform the data as it comes past.\r\n\r\n    Files.lines(Paths.get(&quot;resources/planes.txt&quot;))\r\n         .map(line -&gt; createAirport(line));\r\n\r\nThis will return a `Stream&lt;Airport&gt;` - if you want to return a `List`, then you&#39;ll need to use the `collect` method at the end.\r\n\r\nThis approach is also stateless, which means you won&#39;t need the instance-level `airports` value.\r\n\r\nYou&#39;ll need to update your createAirport method to return something:\r\n\r\n    public Airport createAirport(String line) {\r\n\r\n        String airport = line.substring(0, line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(airport + &quot;;&quot;, &quot;&quot;);\r\n        String country = line.substring(0,line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(country + &quot;;&quot;, &quot;&quot;);\r\n        String continent = line.substring(0,line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(continent + &quot;;&quot;, &quot;&quot;);\r\n        int length = Integer.parseInt(line.substring(0,line.indexOf(&#39;;&#39;)).trim());\r\n        return new Airport(airport, country, continent, length);\r\n    }\r\n\r\nIf you&#39;re looking for a more functional approach to your code, you may want to consider a rewrite of `createAirport` so it doesn&#39;t mutate line.  Builders are also nice for this kind of thing.\r\n\r\n    public Airport createAirport(final String line) {\r\n        final String[] fields = line.split(&quot;;&quot;);\r\n        return new Airport(fields[0].trim(), \r\n                           fields[1].trim(), \r\n                           fields[2].trim(), \r\n                           Integer.parseInt(fields[3].trim()));\r\n    }\r\n\r\nThrowing it all together, your class now looks like this.\r\n\r\n    public class AirportConsumer implements AirportAPI {\r\n\r\n        @Override\r\n        public Stream&lt;Airport&gt; getAirports() {\r\n            Stream&lt;String&gt; stream = null;\r\n            try {\r\n                stream = Files.lines(Paths.get(&quot;resources/planes.txt&quot;))\r\n                                       .map(line -&gt; createAirport(line));\r\n            } catch (IOException e) {\r\n                stream = Stream.empty();\r\n                e.printStackTrace();\r\n            }\r\n            return stream;\r\n        }\r\n\r\n        private Airport createAirport(final String line) {\r\n            final String[] fields = line.split(&quot;;&quot;);\r\n            return new Airport(fields[0].trim(), \r\n                               fields[1].trim(), \r\n                               fields[2].trim(), \r\n                               Integer.parseInt(fields[3].trim()));\r\n        }\r\n    }","title":"Java 8 streams, lambdas","body":"<p>You need to use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#map-java.util.function.Function-\" rel=\"noreferrer\"><code>map()</code></a> to transform the data as it comes past.</p>\n\n<pre><code>Files.lines(Paths.get(\"resources/planes.txt\"))\n     .map(line -&gt; createAirport(line));\n</code></pre>\n\n<p>This will return a <code>Stream&lt;Airport&gt;</code> - if you want to return a <code>List</code>, then you'll need to use the <code>collect</code> method at the end.</p>\n\n<p>This approach is also stateless, which means you won't need the instance-level <code>airports</code> value.</p>\n\n<p>You'll need to update your createAirport method to return something:</p>\n\n<pre><code>public Airport createAirport(String line) {\n\n    String airport = line.substring(0, line.indexOf(';')).trim();\n    line = line.replace(airport + \";\", \"\");\n    String country = line.substring(0,line.indexOf(';')).trim();\n    line = line.replace(country + \";\", \"\");\n    String continent = line.substring(0,line.indexOf(';')).trim();\n    line = line.replace(continent + \";\", \"\");\n    int length = Integer.parseInt(line.substring(0,line.indexOf(';')).trim());\n    return new Airport(airport, country, continent, length);\n}\n</code></pre>\n\n<p>If you're looking for a more functional approach to your code, you may want to consider a rewrite of <code>createAirport</code> so it doesn't mutate line.  Builders are also nice for this kind of thing.</p>\n\n<pre><code>public Airport createAirport(final String line) {\n    final String[] fields = line.split(\";\");\n    return new Airport(fields[0].trim(), \n                       fields[1].trim(), \n                       fields[2].trim(), \n                       Integer.parseInt(fields[3].trim()));\n}\n</code></pre>\n\n<p>Throwing it all together, your class now looks like this.</p>\n\n<pre><code>public class AirportConsumer implements AirportAPI {\n\n    @Override\n    public Stream&lt;Airport&gt; getAirports() {\n        Stream&lt;String&gt; stream = null;\n        try {\n            stream = Files.lines(Paths.get(\"resources/planes.txt\"))\n                                   .map(line -&gt; createAirport(line));\n        } catch (IOException e) {\n            stream = Stream.empty();\n            e.printStackTrace();\n        }\n        return stream;\n    }\n\n    private Airport createAirport(final String line) {\n        final String[] fields = line.split(\";\");\n        return new Airport(fields[0].trim(), \n                           fields[1].trim(), \n                           fields[2].trim(), \n                           Integer.parseInt(fields[3].trim()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587228,"creation_date":1480710388,"answer_id":40940320,"question_id":30482083,"body_markdown":"The code posted by Steve looks great. But there are still two places can be improved:\r\n1, How to split a string.\r\n2, It may cause issue if the people forget or don&#39;t know to close the stream created by calling getAirports() method. So it&#39;s better to finish the task(toList() or whatever) in place.\r\nHere is code by [abacus-common][1]\r\n\r\n    try(Reader reader = IOUtil.createBufferedReader(file)) {\r\n        List&lt;Airport&gt; airportList = Stream.of(reader).map(line -&gt; {\r\n            String[] strs = Splitter.with(&quot;;&quot;).trim(true).splitToArray(line);\r\n            return Airport(strs[0], strs[1], strs[2], Integer.valueOf(strs[3]));\r\n        }).toList();\r\n    } catch (IOException e) {\r\n        throw new RuntimeException(e);\r\n    }\r\n\r\n// Or By the [Try][2]:\r\n\r\n    List&lt;Airport&gt; airportList = Try.stream(file).call(s -&gt; s.map(line -&gt; {\r\n        String[] strs = Splitter.with(&quot;;&quot;).trim(true).splitToArray(line);\r\n        return Airport(strs[0], strs[1], strs[2], Integer.valueOf(strs[3]));\r\n    }).toList())\r\n\r\nDisclosure： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common\r\n  [2]: https://cdn.rawgit.com/landawn/AbacusUtil/master/docs/Try_view.html","title":"Java 8 streams, lambdas","body":"<p>The code posted by Steve looks great. But there are still two places can be improved:\n1, How to split a string.\n2, It may cause issue if the people forget or don't know to close the stream created by calling getAirports() method. So it's better to finish the task(toList() or whatever) in place.\nHere is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>try(Reader reader = IOUtil.createBufferedReader(file)) {\n    List&lt;Airport&gt; airportList = Stream.of(reader).map(line -&gt; {\n        String[] strs = Splitter.with(&quot;;&quot;).trim(true).splitToArray(line);\n        return Airport(strs[0], strs[1], strs[2], Integer.valueOf(strs[3]));\n    }).toList();\n} catch (IOException e) {\n    throw new RuntimeException(e);\n}\n</code></pre>\n<p>// Or By the <a href=\"https://cdn.rawgit.com/landawn/AbacusUtil/master/docs/Try_view.html\" rel=\"nofollow noreferrer\">Try</a>:</p>\n<pre><code>List&lt;Airport&gt; airportList = Try.stream(file).call(s -&gt; s.map(line -&gt; {\n    String[] strs = Splitter.with(&quot;;&quot;).trim(true).splitToArray(line);\n    return Airport(strs[0], strs[1], strs[2], Integer.valueOf(strs[3]));\n}).toList())\n</code></pre>\n<p>Disclosure： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":5172676,"reputation":297,"user_id":4140728,"display_name":"Venraey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4339,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":30482204,"answer_count":2,"score":11,"last_activity_date":1673587228,"creation_date":1432728771,"question_id":30482083,"body_markdown":"I am trying to learn how to utilize Java 8 features(such as lambdas and streams) in my daily programming, since it makes for much cleaner code.\r\n\r\nHere&#39;s what I am currently working on:\r\nI get a string stream from a local file with some data which I turn into objects later. The input file structure looks something like this:\r\n\r\n    Airport name; Country; Continent; some number;\r\n\r\nAnd my code looks like this:\r\n\r\n    public class AirportConsumer implements AirportAPI {\r\n\r\n    List&lt;Airport&gt; airports = new ArrayList&lt;Airport&gt;();\r\n\r\n    @Override\r\n    public Stream&lt;Airport&gt; getAirports() {\r\n        Stream&lt;String&gt; stream = null;\r\n        try {\r\n            stream = Files.lines(Paths.get(&quot;resources/planes.txt&quot;));\r\n            stream.forEach(line -&gt; createAirport(line));\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n        return airports.stream();\r\n    }\r\n\r\n    public void createAirport(String line) {\r\n        String airport, country, continent;\r\n        int length;\r\n\r\n\r\n        airport = line.substring(0, line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(airport + &quot;;&quot;, &quot;&quot;);\r\n        country = line.substring(0,line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(country + &quot;;&quot;, &quot;&quot;);\r\n        continent = line.substring(0,line.indexOf(&#39;;&#39;)).trim();\r\n        line = line.replace(continent + &quot;;&quot;, &quot;&quot;);\r\n        length = Integer.parseInt(line.substring(0,line.indexOf(&#39;;&#39;)).trim());\r\n        airports.add(new Airport(airport, country, continent, length));\r\n        }\r\n    }\r\n\r\nAnd in my main class I iterate over the object stream and print out the results:\r\n\r\n    public class Main {\r\n\r\n\r\n\r\n    public void toString(Airport t){\r\n      System.out.println(t.getName() + &quot; &quot; + t.getContinent());\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Main m = new Main();\r\n        m.whatever();\r\n\r\n    }\r\n\r\n    private void whatever() throws IOException {\r\n        AirportAPI k = new AirportConsumer();\r\n        Stream&lt;Airport&gt; s;\r\n        s = k.getAirports();\r\n        s.forEach(this::toString);\r\n\r\n    }\r\n\r\n\r\n    }\r\n\r\n\r\nMy question is this: How can I optimize this code, so I don&#39;t have to parse the lines from the file separately, but instead create a stream of objects Airport straight from the source file? Or is this the extent in which I can do this?","title":"Java 8 streams, lambdas","body":"<p>I am trying to learn how to utilize Java 8 features(such as lambdas and streams) in my daily programming, since it makes for much cleaner code.</p>\n\n<p>Here's what I am currently working on:\nI get a string stream from a local file with some data which I turn into objects later. The input file structure looks something like this:</p>\n\n<pre><code>Airport name; Country; Continent; some number;\n</code></pre>\n\n<p>And my code looks like this:</p>\n\n<pre><code>public class AirportConsumer implements AirportAPI {\n\nList&lt;Airport&gt; airports = new ArrayList&lt;Airport&gt;();\n\n@Override\npublic Stream&lt;Airport&gt; getAirports() {\n    Stream&lt;String&gt; stream = null;\n    try {\n        stream = Files.lines(Paths.get(\"resources/planes.txt\"));\n        stream.forEach(line -&gt; createAirport(line));\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return airports.stream();\n}\n\npublic void createAirport(String line) {\n    String airport, country, continent;\n    int length;\n\n\n    airport = line.substring(0, line.indexOf(';')).trim();\n    line = line.replace(airport + \";\", \"\");\n    country = line.substring(0,line.indexOf(';')).trim();\n    line = line.replace(country + \";\", \"\");\n    continent = line.substring(0,line.indexOf(';')).trim();\n    line = line.replace(continent + \";\", \"\");\n    length = Integer.parseInt(line.substring(0,line.indexOf(';')).trim());\n    airports.add(new Airport(airport, country, continent, length));\n    }\n}\n</code></pre>\n\n<p>And in my main class I iterate over the object stream and print out the results:</p>\n\n<pre><code>public class Main {\n\n\n\npublic void toString(Airport t){\n  System.out.println(t.getName() + \" \" + t.getContinent());\n}\n\npublic static void main(String[] args) throws IOException {\n    Main m = new Main();\n    m.whatever();\n\n}\n\nprivate void whatever() throws IOException {\n    AirportAPI k = new AirportConsumer();\n    Stream&lt;Airport&gt; s;\n    s = k.getAirports();\n    s.forEach(this::toString);\n\n}\n\n\n}\n</code></pre>\n\n<p>My question is this: How can I optimize this code, so I don't have to parse the lines from the file separately, but instead create a stream of objects Airport straight from the source file? Or is this the extent in which I can do this?</p>\n"},{"tags":["java","scala","java-8","java-stream","sieve"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1383706446,"post_id":19803058,"comment_id":29441280,"body_markdown":"If you want to operate over the stream that way, the best you&#39;ll be able to do is probably to wrap its `iterator()`.  (To say nothing of the fact that your implementation isn&#39;t actually a proper prime sieve; see e.g. [this paper](http://www.cs.hmc.edu/~oneill/papers/Sieve-JFP.pdf).)","body":"If you want to operate over the stream that way, the best you&#39;ll be able to do is probably to wrap its <code>iterator()</code>.  (To say nothing of the fact that your implementation isn&#39;t actually a proper prime sieve; see e.g. <a href=\"http://www.cs.hmc.edu/~oneill/papers/Sieve-JFP.pdf\" rel=\"nofollow noreferrer\">this paper</a>.)"},{"owner":{"account_id":187693,"reputation":4250,"user_id":425943,"accept_rate":91,"display_name":"lyomi"},"score":0,"creation_date":1383709441,"post_id":19803058,"comment_id":29442015,"body_markdown":"I have tried extracting the first number and reconstructing another stream like `IntStream.generate(() -&gt; it.next())`, but the iterator&#39;s `hasNext()` works eagerly and leads to an infinite recursion.","body":"I have tried extracting the first number and reconstructing another stream like <code>IntStream.generate(() -&gt; it.next())</code>, but the iterator&#39;s <code>hasNext()</code> works eagerly and leads to an infinite recursion."},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1383717834,"post_id":19803058,"comment_id":29444237,"body_markdown":"Yeah, that&#39;s not going to work.  Really, this isn&#39;t going to work cleanly with `Stream`s at all.","body":"Yeah, that&#39;s not going to work.  Really, this isn&#39;t going to work cleanly with <code>Stream</code>s at all."},{"owner":{"account_id":212470,"reputation":53057,"user_id":2621536,"accept_rate":88,"display_name":"kiritsuku"},"score":0,"creation_date":1383732172,"post_id":19803058,"comment_id":29450382,"body_markdown":"See this [blog post](http://java.dzone.com/articles/lazy-sequences-implementation) for an explanation on how to build a lazy sequence by yourself in Java.","body":"See this <a href=\"http://java.dzone.com/articles/lazy-sequences-implementation\" rel=\"nofollow noreferrer\">blog post</a> for an explanation on how to build a lazy sequence by yourself in Java."},{"owner":{"account_id":357454,"reputation":77335,"user_id":697630,"accept_rate":84,"display_name":"Edwin Dalorzo"},"score":0,"creation_date":1383779433,"post_id":19803058,"comment_id":29477667,"body_markdown":"I [programmed this recently](https://gist.github.com/edalorzo/5135612) with JDK8, but I built my own stream, since I do not think JDK 8 streams are exactly the same thing as the scala&#39;s lazy streams.","body":"I <a href=\"https://gist.github.com/edalorzo/5135612\" rel=\"nofollow noreferrer\">programmed this recently</a> with JDK8, but I built my own stream, since I do not think JDK 8 streams are exactly the same thing as the scala&#39;s lazy streams."}],"answers":[{"comments":[{"owner":{"account_id":222105,"reputation":1801,"user_id":480483,"accept_rate":80,"display_name":"djjeck"},"score":0,"creation_date":1473724799,"post_id":20007272,"comment_id":66241772,"body_markdown":"I don&#39;t think this works, you can&#39;t refer to non-final variables inside lambda expressions.","body":"I don&#39;t think this works, you can&#39;t refer to non-final variables inside lambda expressions."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1473754880,"post_id":20007272,"comment_id":66251001,"body_markdown":"@djjeck: if you refer to the second solution, these are *fields*, not local variables, and can be modified. The variables of the first example are *effectively final*. And both examples are tested and proven.","body":"@djjeck: if you refer to the second solution, these are <i>fields</i>, not local variables, and can be modified. The variables of the first example are <i>effectively final</i>. And both examples are tested and proven."},{"owner":{"account_id":222105,"reputation":1801,"user_id":480483,"accept_rate":80,"display_name":"djjeck"},"score":0,"creation_date":1473890077,"post_id":20007272,"comment_id":66317972,"body_markdown":"You&#39;re right, that works (and you actually mention it in the answer). Thanks for clarifying.","body":"You&#39;re right, that works (and you actually mention it in the answer). Thanks for clarifying."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1453213323,"creation_date":1384537219,"answer_id":20007272,"question_id":19803058,"body_markdown":"Even if you hadn’t the problem that you can’t split an `IntStream`, you code didn’t work because you are invoking your `sieve` method recursively instead of lazily. So you had an infinity recursion before you could query your resulting stream for the first value.\r\n\r\nSplitting an `IntStream s` into a head and a tail `IntStream` (which has not yet consumed) is possible:\r\n\r\n    PrimitiveIterator.OfInt it = s.iterator();\r\n    int head = it.nextInt();\r\n    IntStream tail = IntStream.generate(it::next).filter(i -&gt; i % head != 0);\r\n\r\nAt this place you need a construct of invoking `sieve` on the tail lazily. `Stream` does not provide that; `concat` expects existing stream instances as arguments and you can’t construct a stream invoking `sieve` lazily with a lambda expression as lazy creation works with mutable state only which lambda expressions do not support. If you don’t have a library implementation hiding the mutable state you have to use a mutable object. But once you accept the requirement of mutable state, the solution can be even easier than your first approach:\r\n\r\n    IntStream primes = from(2).filter(i -&gt; p.test(i)).peek(i -&gt; p = p.and(v -&gt; v % i != 0));\r\n\r\n    IntPredicate p = x -&gt; true;\r\n\r\n    IntStream from(int n)\r\n    {\r\n      return IntStream.iterate(n, m -&gt; m + 1);\r\n    }\r\n\r\nThis will recursively create a filter but in the end it doesn’t matter whether you create a tree of `IntPredicate`s or a tree of `IntStream`s (like with your `IntStream.concat` approach if it did work). If you don’t like the mutable instance field for the filter you can hide it in an inner class (but not in a lambda expression…).","title":"Java 8 Stream, getting head and tail","body":"<p>Even if you hadn’t the problem that you can’t split an <code>IntStream</code>, you code didn’t work because you are invoking your <code>sieve</code> method recursively instead of lazily. So you had an infinity recursion before you could query your resulting stream for the first value.</p>\n\n<p>Splitting an <code>IntStream s</code> into a head and a tail <code>IntStream</code> (which has not yet consumed) is possible:</p>\n\n<pre><code>PrimitiveIterator.OfInt it = s.iterator();\nint head = it.nextInt();\nIntStream tail = IntStream.generate(it::next).filter(i -&gt; i % head != 0);\n</code></pre>\n\n<p>At this place you need a construct of invoking <code>sieve</code> on the tail lazily. <code>Stream</code> does not provide that; <code>concat</code> expects existing stream instances as arguments and you can’t construct a stream invoking <code>sieve</code> lazily with a lambda expression as lazy creation works with mutable state only which lambda expressions do not support. If you don’t have a library implementation hiding the mutable state you have to use a mutable object. But once you accept the requirement of mutable state, the solution can be even easier than your first approach:</p>\n\n<pre><code>IntStream primes = from(2).filter(i -&gt; p.test(i)).peek(i -&gt; p = p.and(v -&gt; v % i != 0));\n\nIntPredicate p = x -&gt; true;\n\nIntStream from(int n)\n{\n  return IntStream.iterate(n, m -&gt; m + 1);\n}\n</code></pre>\n\n<p>This will recursively create a filter but in the end it doesn’t matter whether you create a tree of <code>IntPredicate</code>s or a tree of <code>IntStream</code>s (like with your <code>IntStream.concat</code> approach if it did work). If you don’t like the mutable instance field for the filter you can hide it in an inner class (but not in a lambda expression…).</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1411396126,"creation_date":1411396126,"answer_id":25976558,"question_id":19803058,"body_markdown":"You can essentially implement it like this:\r\n\r\n    static &lt;T&gt; Tuple2&lt;Optional&lt;T&gt;, Seq&lt;T&gt;&gt; splitAtHead(Stream&lt;T&gt; stream) {\r\n        Iterator&lt;T&gt; it = stream.iterator();\r\n        return tuple(it.hasNext() ? Optional.of(it.next()) : Optional.empty(), seq(it));\r\n    }\r\n\r\nIn the above example, `Tuple2` and `Seq` are types borrowed from [jOOλ][2], a library that we developed for [jOOQ][3] integration tests. If you don&#39;t want any additional dependencies, you might as well implement them yourself:\r\n\r\n    class Tuple2&lt;T1, T2&gt; {\r\n        final T1 v1;\r\n        final T2 v2;\r\n\r\n        Tuple2(T1 v1, T2 v2) {\r\n            this.v1 = v1;\r\n            this.v2 = v2;\r\n        }\r\n\r\n        static &lt;T1, T2&gt; Tuple2&lt;T1, T2&gt; tuple(T1 v1, T2 v2) {\r\n            return new Tuple&lt;&gt;(v1, v2);\r\n        }\r\n    }\r\n\r\n    static &lt;T&gt; Tuple2&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; splitAtHead(Stream&lt;T&gt; stream) {\r\n        Iterator&lt;T&gt; it = stream.iterator();\r\n        return tuple(\r\n            it.hasNext() ? Optional.of(it.next()) : Optional.empty,\r\n            StreamSupport.stream(Spliterators.spliteratorUnknownSize(\r\n                it, Spliterator.ORDERED\r\n            ), false)\r\n        );\r\n    }\r\n\r\n\r\n  [2]: https://github.com/jOOQ/jOOL\r\n  [3]: http://www.jooq.org","title":"Java 8 Stream, getting head and tail","body":"<p>You can essentially implement it like this:</p>\n\n<pre><code>static &lt;T&gt; Tuple2&lt;Optional&lt;T&gt;, Seq&lt;T&gt;&gt; splitAtHead(Stream&lt;T&gt; stream) {\n    Iterator&lt;T&gt; it = stream.iterator();\n    return tuple(it.hasNext() ? Optional.of(it.next()) : Optional.empty(), seq(it));\n}\n</code></pre>\n\n<p>In the above example, <code>Tuple2</code> and <code>Seq</code> are types borrowed from <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a>, a library that we developed for <a href=\"http://www.jooq.org\" rel=\"nofollow\">jOOQ</a> integration tests. If you don't want any additional dependencies, you might as well implement them yourself:</p>\n\n<pre><code>class Tuple2&lt;T1, T2&gt; {\n    final T1 v1;\n    final T2 v2;\n\n    Tuple2(T1 v1, T2 v2) {\n        this.v1 = v1;\n        this.v2 = v2;\n    }\n\n    static &lt;T1, T2&gt; Tuple2&lt;T1, T2&gt; tuple(T1 v1, T2 v2) {\n        return new Tuple&lt;&gt;(v1, v2);\n    }\n}\n\nstatic &lt;T&gt; Tuple2&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; splitAtHead(Stream&lt;T&gt; stream) {\n    Iterator&lt;T&gt; it = stream.iterator();\n    return tuple(\n        it.hasNext() ? Optional.of(it.next()) : Optional.empty,\n        StreamSupport.stream(Spliterators.spliteratorUnknownSize(\n            it, Spliterator.ORDERED\n        ), false)\n    );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433588883,"creation_date":1433586207,"answer_id":30681661,"question_id":19803058,"body_markdown":"To get head and tail you need a Lazy Stream implementation. Java 8 stream or RxJava are not suitable.\r\n\r\nYou can use for example [LazySeq][1] as follows.\r\n\r\n\r\n&gt; Lazy sequence is always traversed from the beginning using very cheap\r\n&gt; first/rest decomposition (head() and tail())\r\n&gt; \r\n&gt; LazySeq implements java.util.List interface, thus can be used in\r\n&gt; variety of places. Moreover it also implements Java 8 enhancements to\r\n&gt; collections, namely streams and collectors\r\n\r\n---\r\n\r\n    package com.company;\r\n    \r\n    import com.nurkiewicz.lazyseq.LazySeq;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            LazySeq&lt;Integer&gt; ints = integers(2);\r\n            LazySeq primes = sieve(ints);\r\n            primes.take(10).forEach(p -&gt; System.out.println(p));\r\n    \r\n        }\r\n    \r\n        private static LazySeq&lt;Integer&gt; sieve(LazySeq&lt;Integer&gt; s) {\r\n            return LazySeq.cons(s.head(), () -&gt; sieve(s.filter(x -&gt; x % s.head() != 0)));\r\n        }\r\n    \r\n        private static LazySeq&lt;Integer&gt; integers(int from) {\r\n            return LazySeq.cons(from, () -&gt; integers(from + 1));\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/nurkiewicz/LazySeq","title":"Java 8 Stream, getting head and tail","body":"<p>To get head and tail you need a Lazy Stream implementation. Java 8 stream or RxJava are not suitable.</p>\n\n<p>You can use for example <a href=\"https://github.com/nurkiewicz/LazySeq\" rel=\"nofollow\">LazySeq</a> as follows.</p>\n\n<blockquote>\n  <p>Lazy sequence is always traversed from the beginning using very cheap\n  first/rest decomposition (head() and tail())</p>\n  \n  <p>LazySeq implements java.util.List interface, thus can be used in\n  variety of places. Moreover it also implements Java 8 enhancements to\n  collections, namely streams and collectors</p>\n</blockquote>\n\n<hr>\n\n<pre><code>package com.company;\n\nimport com.nurkiewicz.lazyseq.LazySeq;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        LazySeq&lt;Integer&gt; ints = integers(2);\n        LazySeq primes = sieve(ints);\n        primes.take(10).forEach(p -&gt; System.out.println(p));\n\n    }\n\n    private static LazySeq&lt;Integer&gt; sieve(LazySeq&lt;Integer&gt; s) {\n        return LazySeq.cons(s.head(), () -&gt; sieve(s.filter(x -&gt; x % s.head() != 0)));\n    }\n\n    private static LazySeq&lt;Integer&gt; integers(int from) {\n        return LazySeq.cons(from, () -&gt; integers(from + 1));\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4093298,"reputation":4962,"user_id":3360759,"display_name":"frhack"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433589115,"creation_date":1433589115,"answer_id":30682096,"question_id":19803058,"body_markdown":"Here is another recipe using the way suggested by Holger.\r\nIt use RxJava just to add the possibility to use the take(int) method and many others.\r\n\r\n\r\n    package com.company;\r\n    \r\n    import rx.Observable;\r\n    \r\n    import java.util.function.IntPredicate;\r\n    import java.util.stream.IntStream;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final IntPredicate[] p={(x)-&gt;true};\r\n            IntStream primesStream=IntStream.iterate(2,n-&gt;n+1).filter(i -&gt; p[0].test(i)).peek(i-&gt;p[0]=p[0].and(v-&gt;v%i!=0)   );\r\n    \r\n            Observable primes = Observable.from(()-&gt;primesStream.iterator());\r\n    \r\n            primes.take(10).forEach((x) -&gt; System.out.println(x.toString()));\r\n    \r\n    \r\n        }\r\n    \r\n    }\r\n\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>Here is another recipe using the way suggested by Holger.\nIt use RxJava just to add the possibility to use the take(int) method and many others.</p>\n\n<pre><code>package com.company;\n\nimport rx.Observable;\n\nimport java.util.function.IntPredicate;\nimport java.util.stream.IntStream;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        final IntPredicate[] p={(x)-&gt;true};\n        IntStream primesStream=IntStream.iterate(2,n-&gt;n+1).filter(i -&gt; p[0].test(i)).peek(i-&gt;p[0]=p[0].and(v-&gt;v%i!=0)   );\n\n        Observable primes = Observable.from(()-&gt;primesStream.iterator());\n\n        primes.take(10).forEach((x) -&gt; System.out.println(x.toString()));\n\n\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"score":1,"creation_date":1467116402,"post_id":32634130,"comment_id":63588633,"body_markdown":"It would be great to avoid the **modulo** operation and take advantage of the additive nature of the sieve. Something along the lines of `IntStream impossiblePrimes = IntStream.iterate(head * head, i -&gt; i + 2 * head);`. But sure, it&#39;s more primes-related than head/tail-related.","body":"It would be great to avoid the <b>modulo</b> operation and take advantage of the additive nature of the sieve. Something along the lines of <code>IntStream impossiblePrimes = IntStream.iterate(head * head, i -&gt; i + 2 * head);</code>. But sure, it&#39;s more primes-related than head/tail-related."}],"tags":[],"owner":{"account_id":1743153,"reputation":2076,"user_id":1593986,"accept_rate":95,"display_name":"vidi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1442503219,"creation_date":1442503219,"answer_id":32634130,"question_id":19803058,"body_markdown":"The solution below does not do state mutations, except for the head/tail deconstruction of the stream.\r\n\r\nThe lazyness is obtained using IntStream.iterate. The class Prime is used to keep the generator state\r\n\r\n        import java.util.PrimitiveIterator;\r\n        import java.util.stream.IntStream;\r\n        import java.util.stream.Stream;\r\n    \r\n        public class Prime {\r\n            private final IntStream candidates;\r\n            private final int current;\r\n    \r\n            private Prime(int current, IntStream candidates)\r\n            {\r\n                this.current = current;\r\n                this.candidates = candidates;\r\n            }\r\n    \r\n            private Prime next()\r\n            {\r\n                PrimitiveIterator.OfInt it = candidates.filter(n -&gt; n % current != 0).iterator();\r\n    \r\n                int head = it.next();\r\n                IntStream tail = IntStream.generate(it::next);\r\n    \r\n                return new Prime(head, tail);\r\n            }\r\n    \r\n            public static Stream&lt;Integer&gt; stream() {\r\n                IntStream possiblePrimes = IntStream.iterate(3, i -&gt; i + 1);\r\n    \r\n                return Stream.iterate(new Prime(2, possiblePrimes), Prime::next)\r\n                             .map(p -&gt; p.current);\r\n            }\r\n        }\r\n\r\nThe usage would be this:\r\n\r\n    Stream&lt;Integer&gt; first10Primes = Prime.stream().limit(10)\r\n\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>The solution below does not do state mutations, except for the head/tail deconstruction of the stream.</p>\n\n<p>The lazyness is obtained using IntStream.iterate. The class Prime is used to keep the generator state</p>\n\n<pre><code>    import java.util.PrimitiveIterator;\n    import java.util.stream.IntStream;\n    import java.util.stream.Stream;\n\n    public class Prime {\n        private final IntStream candidates;\n        private final int current;\n\n        private Prime(int current, IntStream candidates)\n        {\n            this.current = current;\n            this.candidates = candidates;\n        }\n\n        private Prime next()\n        {\n            PrimitiveIterator.OfInt it = candidates.filter(n -&gt; n % current != 0).iterator();\n\n            int head = it.next();\n            IntStream tail = IntStream.generate(it::next);\n\n            return new Prime(head, tail);\n        }\n\n        public static Stream&lt;Integer&gt; stream() {\n            IntStream possiblePrimes = IntStream.iterate(3, i -&gt; i + 1);\n\n            return Stream.iterate(new Prime(2, possiblePrimes), Prime::next)\n                         .map(p -&gt; p.current);\n        }\n    }\n</code></pre>\n\n<p>The usage would be this:</p>\n\n<pre><code>Stream&lt;Integer&gt; first10Primes = Prime.stream().limit(10)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1452505512,"post_id":34715087,"comment_id":57182379,"body_markdown":"It would be nice to see the full solution of primes problem using your libraries.","body":"It would be nice to see the full solution of primes problem using your libraries."},{"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"score":0,"creation_date":1452509006,"post_id":34715087,"comment_id":57184717,"body_markdown":"Teammate going to play around with implementing a sieve of Eratosthenes with Streamable / SequenceM - will keep you posted.","body":"Teammate going to play around with implementing a sieve of Eratosthenes with Streamable / SequenceM - will keep you posted."},{"owner":{"account_id":7383078,"reputation":304,"user_id":5619043,"display_name":"Nikita Sapozhnikov"},"score":1,"creation_date":1452596531,"post_id":34715087,"comment_id":57229367,"body_markdown":"`final List&lt;Integer&gt; prime = new ArrayList&lt;&gt;();\n\t\tSequenceM&lt;Integer&gt; primeNumbers = SequenceM.generate(() -&gt;\n\t\t{\n\t\t\tsynchronized (prime) {\n\t\t\t\tif (prime.isEmpty()) {\n\t\t\t\t\tprime.add(2);\n\t\t\t\t} else {\n\t\t\t\t\tint last = prime.get(prime.size() - 1);\n\t\t\t\t\tdo {\n\t\t\t\t\t\tint candidate = last;\n\t\t\t\t\t\tif (!prime.stream().parallel().anyMatch(c -&gt; (candidate) % c == 0)) {\n\t\t\t\t\t\t\tprime.add(candidate);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlast++;\n\t\t\t\t\t} while (true);\n\t\t\t\t}\n\t\t\t\treturn prime.get(prime.size() - 1);\n\t\t\t}\n\t\t});`","body":"<code>final List&lt;Integer&gt; prime = new ArrayList&lt;&gt;(); \t\tSequenceM&lt;Integer&gt; primeNumbers = SequenceM.generate(() -&gt; \t\t{ \t\t\tsynchronized (prime) { \t\t\t\tif (prime.isEmpty()) { \t\t\t\t\tprime.add(2); \t\t\t\t} else { \t\t\t\t\tint last = prime.get(prime.size() - 1); \t\t\t\t\tdo { \t\t\t\t\t\tint candidate = last; \t\t\t\t\t\tif (!prime.stream().parallel().anyMatch(c -&gt; (candidate) % c == 0)) { \t\t\t\t\t\t\tprime.add(candidate); \t\t\t\t\t\t\tbreak; \t\t\t\t\t\t} \t\t\t\t\t\tlast++; \t\t\t\t\t} while (true); \t\t\t\t} \t\t\t\treturn prime.get(prime.size() - 1); \t\t\t} \t\t});</code>"},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1453194854,"post_id":34715087,"comment_id":57483451,"body_markdown":"Looks that both solutions are not lazy though. Try `sieve(Stream.iterate(2, x -&gt; x+1)).limit(1000)` as the source, for example.","body":"Looks that both solutions are not lazy though. Try <code>sieve(Stream.iterate(2, x -&gt; x+1)).limit(1000)</code> as the source, for example."},{"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"score":0,"creation_date":1453203462,"post_id":34715087,"comment_id":57489459,"body_markdown":"Yes, the head is evaluated immediately each time, the tail is processed lazily. It&#39;s a pretty trivial modification to make the head() method in HeadAndTail evaluate lazily however and one that we will add soon.","body":"Yes, the head is evaluated immediately each time, the tail is processed lazily. It&#39;s a pretty trivial modification to make the head() method in HeadAndTail evaluate lazily however and one that we will add soon."},{"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"score":0,"creation_date":1453207312,"post_id":34715087,"comment_id":57491933,"body_markdown":"You probably mean the solution provided isn&#39;t Lazy? Yes that&#39;s true, I&#39;ll update with a Lazy version (the question did specify a pretty low limit originally though).","body":"You probably mean the solution provided isn&#39;t Lazy? Yes that&#39;s true, I&#39;ll update with a Lazy version (the question did specify a pretty low limit originally though)."}],"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453212694,"creation_date":1452492046,"answer_id":34715087,"question_id":19803058,"body_markdown":"If you don&#39;t mind using 3rd party libraries [cyclops-streams](https://github.com/aol/cyclops/tree/master/cyclops-streams), I library I wrote has a number of potential solutions.\r\n\r\nThe [StreamUtils](http://static.javadoc.io/com.aol.cyclops/cyclops-streams/7.1.0/com/aol/cyclops/streams/StreamUtils.html) class has large number of static methods for working directly with `java.util.stream.Streams` including `headAndTail`.\r\n\r\n    HeadAndTail&lt;Integer&gt; headAndTail = StreamUtils.headAndTail(Stream.of(1,2,3,4));\r\n    int head = headAndTail.head(); //1\r\n    Stream&lt;Integer&gt; tail = headAndTail.tail(); //Stream[2,3,4]\r\n\r\nThe [Streamable](http://static.javadoc.io/com.aol.cyclops/cyclops-sequence-api/7.1.0/com/aol/cyclops/sequence/streamable/Streamable.html) class represents a replayable `Stream` and works by building a lazy, caching intermediate data-structure. Because it is caching and repayable - head and tail can be implemented directly and separately.\r\n\r\n    Streamable&lt;Integer&gt; replayable=  Streamable.fromStream(Stream.of(1,2,3,4));\r\n    int head = repayable.head(); //1\r\n    Stream&lt;Integer&gt; tail = replayable.tail(); //Stream[2,3,4]\r\n\r\n[cyclops-streams](https://github.com/aol/cyclops/tree/master/cyclops-streams) also provides a sequential `Stream` extension that in turn extends [jOOλ][1] and has both `Tuple` based (from jOOλ)  and domain object (HeadAndTail) solutions for head and tail extraction.\r\n \r\n    SequenceM.of(1,2,3,4)\r\n             .splitAtHead(); //Tuple[1,SequenceM[2,3,4]\r\n\r\n    SequenceM.of(1,2,3,4)\r\n             .headAndTail();\r\n\r\nUpdate per Tagir&#39;s request -&gt; A Java version of the Scala sieve using `SequenceM`\r\n\r\n    public void sieveTest(){\r\n\t\tsieve(SequenceM.range(2, 1_000)).forEach(System.out::println);\r\n\t}\r\n\t\r\n\tSequenceM&lt;Integer&gt; sieve(SequenceM&lt;Integer&gt; s){\r\n\t\t\r\n\t\treturn s.headAndTailOptional().map(ht -&gt;SequenceM.of(ht.head())\r\n\t    \t\t\t\t\t\t.appendStream(sieve(ht.tail().filter(n -&gt; n % ht.head() != 0))))\r\n\t    \t\t\t\t.orElse(SequenceM.of());\r\n\t}\r\n\r\nAnd another version via `Streamable`\r\n\r\n    public void sieveTest2(){\r\n\t\tsieve(Streamable.range(2, 1_000)).forEach(System.out::println);\r\n\t}\r\n\t\r\n\tStreamable&lt;Integer&gt; sieve(Streamable&lt;Integer&gt; s){\r\n\t\t\r\n\t\treturn s.size()==0? Streamable.of() : Streamable.of(s.head())\r\n\t    \t\t\t\t\t\t\t\t\t\t\t\t.appendStreamable(sieve(s.tail()\r\n\t    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter(n -&gt; n % s.head() != 0)));\r\n\t}\r\n\r\nNote - neither `Streamable` of `SequenceM` have an Empty implementation - hence the size check for `Streamable` and the use of `headAndTailOptional`.\r\n\r\nFinally a version using plain `java.util.stream.Stream`\r\n\r\n    import static com.aol.cyclops.streams.StreamUtils.headAndTailOptional;\r\n\r\n    public void sieveTest(){\r\n\t\tsieve(IntStream.range(2, 1_000).boxed()).forEach(System.out::println);\r\n\t}\r\n\t\r\n\tStream&lt;Integer&gt; sieve(Stream&lt;Integer&gt; s){\r\n\t\r\n\t\treturn headAndTailOptional(s).map(ht -&gt;Stream.concat(Stream.of(ht.head())\r\n\t    \t\t\t\t\t\t,sieve(ht.tail().filter(n -&gt; n % ht.head() != 0))))\r\n\t    \t\t\t\t.orElse(Stream.of());\r\n\t}\r\n\r\n\r\nAnother update - a lazy iterative based on @Holger&#39;s version using objects rather than primitives (note a primitive version is also possible)\r\n\r\n      final Mutable&lt;Predicate&lt;Integer&gt;&gt; predicate = Mutable.of(x-&gt;true);\r\n\t  SequenceM.iterate(2, n-&gt;n+1)\r\n\t    \t   .filter(i-&gt;predicate.get().test(i))\r\n\t    \t   .peek(i-&gt;predicate.mutate(p-&gt; p.and(v -&gt; v%i!=0)))\r\n\t    \t   .limit(100000)\r\n\t    \t   .forEach(System.out::println);\r\n\r\n  [1]: https://github.com/jOOQ/jOOL","title":"Java 8 Stream, getting head and tail","body":"<p>If you don't mind using 3rd party libraries <a href=\"https://github.com/aol/cyclops/tree/master/cyclops-streams\" rel=\"nofollow\">cyclops-streams</a>, I library I wrote has a number of potential solutions.</p>\n\n<p>The <a href=\"http://static.javadoc.io/com.aol.cyclops/cyclops-streams/7.1.0/com/aol/cyclops/streams/StreamUtils.html\" rel=\"nofollow\">StreamUtils</a> class has large number of static methods for working directly with <code>java.util.stream.Streams</code> including <code>headAndTail</code>.</p>\n\n<pre><code>HeadAndTail&lt;Integer&gt; headAndTail = StreamUtils.headAndTail(Stream.of(1,2,3,4));\nint head = headAndTail.head(); //1\nStream&lt;Integer&gt; tail = headAndTail.tail(); //Stream[2,3,4]\n</code></pre>\n\n<p>The <a href=\"http://static.javadoc.io/com.aol.cyclops/cyclops-sequence-api/7.1.0/com/aol/cyclops/sequence/streamable/Streamable.html\" rel=\"nofollow\">Streamable</a> class represents a replayable <code>Stream</code> and works by building a lazy, caching intermediate data-structure. Because it is caching and repayable - head and tail can be implemented directly and separately.</p>\n\n<pre><code>Streamable&lt;Integer&gt; replayable=  Streamable.fromStream(Stream.of(1,2,3,4));\nint head = repayable.head(); //1\nStream&lt;Integer&gt; tail = replayable.tail(); //Stream[2,3,4]\n</code></pre>\n\n<p><a href=\"https://github.com/aol/cyclops/tree/master/cyclops-streams\" rel=\"nofollow\">cyclops-streams</a> also provides a sequential <code>Stream</code> extension that in turn extends <a href=\"https://github.com/jOOQ/jOOL\" rel=\"nofollow\">jOOλ</a> and has both <code>Tuple</code> based (from jOOλ)  and domain object (HeadAndTail) solutions for head and tail extraction.</p>\n\n<pre><code>SequenceM.of(1,2,3,4)\n         .splitAtHead(); //Tuple[1,SequenceM[2,3,4]\n\nSequenceM.of(1,2,3,4)\n         .headAndTail();\n</code></pre>\n\n<p>Update per Tagir's request -> A Java version of the Scala sieve using <code>SequenceM</code></p>\n\n<pre><code>public void sieveTest(){\n    sieve(SequenceM.range(2, 1_000)).forEach(System.out::println);\n}\n\nSequenceM&lt;Integer&gt; sieve(SequenceM&lt;Integer&gt; s){\n\n    return s.headAndTailOptional().map(ht -&gt;SequenceM.of(ht.head())\n                            .appendStream(sieve(ht.tail().filter(n -&gt; n % ht.head() != 0))))\n                    .orElse(SequenceM.of());\n}\n</code></pre>\n\n<p>And another version via <code>Streamable</code></p>\n\n<pre><code>public void sieveTest2(){\n    sieve(Streamable.range(2, 1_000)).forEach(System.out::println);\n}\n\nStreamable&lt;Integer&gt; sieve(Streamable&lt;Integer&gt; s){\n\n    return s.size()==0? Streamable.of() : Streamable.of(s.head())\n                                                    .appendStreamable(sieve(s.tail()\n                                                                    .filter(n -&gt; n % s.head() != 0)));\n}\n</code></pre>\n\n<p>Note - neither <code>Streamable</code> of <code>SequenceM</code> have an Empty implementation - hence the size check for <code>Streamable</code> and the use of <code>headAndTailOptional</code>.</p>\n\n<p>Finally a version using plain <code>java.util.stream.Stream</code></p>\n\n<pre><code>import static com.aol.cyclops.streams.StreamUtils.headAndTailOptional;\n\npublic void sieveTest(){\n    sieve(IntStream.range(2, 1_000).boxed()).forEach(System.out::println);\n}\n\nStream&lt;Integer&gt; sieve(Stream&lt;Integer&gt; s){\n\n    return headAndTailOptional(s).map(ht -&gt;Stream.concat(Stream.of(ht.head())\n                            ,sieve(ht.tail().filter(n -&gt; n % ht.head() != 0))))\n                    .orElse(Stream.of());\n}\n</code></pre>\n\n<p>Another update - a lazy iterative based on @Holger's version using objects rather than primitives (note a primitive version is also possible)</p>\n\n<pre><code>  final Mutable&lt;Predicate&lt;Integer&gt;&gt; predicate = Mutable.of(x-&gt;true);\n  SequenceM.iterate(2, n-&gt;n+1)\n           .filter(i-&gt;predicate.get().test(i))\n           .peek(i-&gt;predicate.mutate(p-&gt; p.and(v -&gt; v%i!=0)))\n           .limit(100000)\n           .forEach(System.out::println);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1135767,"reputation":1478,"user_id":1120854,"display_name":"charlie"},"score":0,"creation_date":1467115589,"post_id":34874466,"comment_id":63588047,"body_markdown":"Could you please add timing comparison of respective solutions? Since they **all** involve predicate contatenation (just more or less explicit) and the **modulo** operation, they might score equally, though.","body":"Could you please add timing comparison of respective solutions? Since they <b>all</b> involve predicate contatenation (just more or less explicit) and the <b>modulo</b> operation, they might score equally, though."},{"owner":{"account_id":1525843,"reputation":583,"user_id":1424313,"display_name":"ailveen"},"score":0,"creation_date":1508411539,"post_id":34874466,"comment_id":80604343,"body_markdown":"Hey man, great work with this library. We use it fairly extensively. The MoreCollectors.flatMapping was really useful, now it is in Java 9. A lot of things you did here could actually be candidates to the main JDK baseline 10+","body":"Hey man, great work with this library. We use it fairly extensively. The MoreCollectors.flatMapping was really useful, now it is in Java 9. A lot of things you did here could actually be candidates to the main JDK baseline 10+"}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475552453,"creation_date":1453199584,"answer_id":34874466,"question_id":19803058,"body_markdown":"My [StreamEx](https://github.com/amaembo/streamex/) library has now [`headTail()`](http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#headTail-java.util.function.BiFunction-) operation which solves the problem:\r\n\r\n    public static StreamEx&lt;Integer&gt; sieve(StreamEx&lt;Integer&gt; input) {\r\n        return input.headTail((head, tail) -&gt; \r\n            sieve(tail.filter(n -&gt; n % head != 0)).prepend(head));\r\n    }\r\n\r\nThe `headTail` method takes a `BiFunction` which will be executed at most once during the stream terminal operation execution. So this implementation is lazy: it does not compute anything until traversal starts and computes only as much prime numbers as requested. The `BiFunction` receives a first stream element `head` and the stream of the rest elements `tail` and can modify the `tail` in any way it wants. You may use it with predefined input:\r\n\r\n    sieve(IntStreamEx.range(2, 1000).boxed()).forEach(System.out::println);\r\n\r\nBut infinite stream work as well\r\n\r\n    sieve(StreamEx.iterate(2, x -&gt; x+1)).takeWhile(x -&gt; x &lt; 1000)\r\n         .forEach(System.out::println);\r\n    // Not the primes till 1000, but 1000 first primes\r\n    sieve(StreamEx.iterate(2, x -&gt; x+1)).limit(1000).forEach(System.out::println);\r\n\r\nThere&#39;s also alternative solution using `headTail` and predicate concatenation:\r\n\r\n\tpublic static StreamEx&lt;Integer&gt; sieve(StreamEx&lt;Integer&gt; input, IntPredicate isPrime) {\r\n\t\treturn input.headTail((head, tail) -&gt; isPrime.test(head) \r\n\t\t\t\t? sieve(tail, isPrime.and(n -&gt; n % head != 0)).prepend(head)\r\n\t\t\t\t: sieve(tail, isPrime));\r\n\t}\r\n\r\n\tsieve(StreamEx.iterate(2, x -&gt; x+1), i -&gt; true).limit(1000).forEach(System.out::println);\r\n\r\n\r\n----\r\n\r\nIt interesting to compare recursive solutions: how many primes they capable to generate.\r\n\r\n**@John McClean solution (`StreamUtils`)**\r\n\r\nJohn McClean solutions are not lazy: you cannot feed them with infinite stream. So I just found by trial-and-error the maximal allowed upper bound (`17793`) (after that StackOverflowError occurs):\r\n\r\n\tpublic void sieveTest(){\r\n\t    sieve(IntStream.range(2, 17793).boxed()).forEach(System.out::println);\r\n\t}\r\n\r\n**@John McClean solution (`Streamable`)**\r\n\r\n\tpublic void sieveTest2(){\r\n\t    sieve(Streamable.range(2, 39990)).forEach(System.out::println);\r\n\t}\r\n\r\nIncreasing upper limit above `39990` results in StackOverflowError.\r\n\r\n\r\n**@frhack solution (`LazySeq`)**\r\n\r\n    LazySeq&lt;Integer&gt; ints = integers(2);\r\n    LazySeq primes = sieve(ints); // sieve method from @frhack answer\r\n    primes.forEach(p -&gt; System.out.println(p));\r\n\r\nResult: stuck after prime number = `53327` with enormous heap allocation and garbage collection taking more than 90%. It took several minutes to advance from 53323 to 53327, so waiting more seems impractical.\r\n\r\n**@vidi solution**\r\n\r\n    Prime.stream().forEach(System.out::println);\r\n\r\nResult: StackOverflowError after prime number = `134417`.\r\n\r\n**My solution (StreamEx)**\r\n\r\n    sieve(StreamEx.iterate(2, x -&gt; x+1)).forEach(System.out::println);\r\n\r\nResult: StackOverflowError after prime number = `236167`.\r\n\r\n**@frhack solution (`rxjava`)**\r\n\r\n    Observable&lt;Integer&gt; primes = Observable.from(()-&gt;primesStream.iterator());\r\n    primes.forEach((x) -&gt; System.out.println(x.toString()));\t\t\t\r\n\r\nResult: StackOverflowError after prime number = `367663`.\r\n\r\n**@Holger solution**\r\n\r\n\tIntStream primes=from(2).filter(i-&gt;p.test(i)).peek(i-&gt;p=p.and(v-&gt;v%i!=0));\r\n\tprimes.forEach(System.out::println);\r\n\r\nResult: StackOverflowError after prime number = `368089`.\r\n\r\n**My solution (StreamEx with predicate concatenation)**\r\n\r\n    sieve(StreamEx.iterate(2, x -&gt; x+1), i -&gt; true).forEach(System.out::println);\r\n\r\nResult: StackOverflowError after prime number = `368287`.\r\n\r\n---\r\n\r\nSo three solutions involving predicate concatenation win, because each new condition adds only 2 more stack frames. I think, the difference between them is marginal and should not be considered to define a winner. However I like my first StreamEx solution more as it more similar to Scala code.","title":"Java 8 Stream, getting head and tail","body":"<p>My <a href=\"https://github.com/amaembo/streamex/\" rel=\"nofollow\">StreamEx</a> library has now <a href=\"http://amaembo.github.io/streamex/javadoc/one/util/streamex/StreamEx.html#headTail-java.util.function.BiFunction-\" rel=\"nofollow\"><code>headTail()</code></a> operation which solves the problem:</p>\n\n<pre><code>public static StreamEx&lt;Integer&gt; sieve(StreamEx&lt;Integer&gt; input) {\n    return input.headTail((head, tail) -&gt; \n        sieve(tail.filter(n -&gt; n % head != 0)).prepend(head));\n}\n</code></pre>\n\n<p>The <code>headTail</code> method takes a <code>BiFunction</code> which will be executed at most once during the stream terminal operation execution. So this implementation is lazy: it does not compute anything until traversal starts and computes only as much prime numbers as requested. The <code>BiFunction</code> receives a first stream element <code>head</code> and the stream of the rest elements <code>tail</code> and can modify the <code>tail</code> in any way it wants. You may use it with predefined input:</p>\n\n<pre><code>sieve(IntStreamEx.range(2, 1000).boxed()).forEach(System.out::println);\n</code></pre>\n\n<p>But infinite stream work as well</p>\n\n<pre><code>sieve(StreamEx.iterate(2, x -&gt; x+1)).takeWhile(x -&gt; x &lt; 1000)\n     .forEach(System.out::println);\n// Not the primes till 1000, but 1000 first primes\nsieve(StreamEx.iterate(2, x -&gt; x+1)).limit(1000).forEach(System.out::println);\n</code></pre>\n\n<p>There's also alternative solution using <code>headTail</code> and predicate concatenation:</p>\n\n<pre><code>public static StreamEx&lt;Integer&gt; sieve(StreamEx&lt;Integer&gt; input, IntPredicate isPrime) {\n    return input.headTail((head, tail) -&gt; isPrime.test(head) \n            ? sieve(tail, isPrime.and(n -&gt; n % head != 0)).prepend(head)\n            : sieve(tail, isPrime));\n}\n\nsieve(StreamEx.iterate(2, x -&gt; x+1), i -&gt; true).limit(1000).forEach(System.out::println);\n</code></pre>\n\n<hr>\n\n<p>It interesting to compare recursive solutions: how many primes they capable to generate.</p>\n\n<p><strong>@John McClean solution (<code>StreamUtils</code>)</strong></p>\n\n<p>John McClean solutions are not lazy: you cannot feed them with infinite stream. So I just found by trial-and-error the maximal allowed upper bound (<code>17793</code>) (after that StackOverflowError occurs):</p>\n\n<pre><code>public void sieveTest(){\n    sieve(IntStream.range(2, 17793).boxed()).forEach(System.out::println);\n}\n</code></pre>\n\n<p><strong>@John McClean solution (<code>Streamable</code>)</strong></p>\n\n<pre><code>public void sieveTest2(){\n    sieve(Streamable.range(2, 39990)).forEach(System.out::println);\n}\n</code></pre>\n\n<p>Increasing upper limit above <code>39990</code> results in StackOverflowError.</p>\n\n<p><strong>@frhack solution (<code>LazySeq</code>)</strong></p>\n\n<pre><code>LazySeq&lt;Integer&gt; ints = integers(2);\nLazySeq primes = sieve(ints); // sieve method from @frhack answer\nprimes.forEach(p -&gt; System.out.println(p));\n</code></pre>\n\n<p>Result: stuck after prime number = <code>53327</code> with enormous heap allocation and garbage collection taking more than 90%. It took several minutes to advance from 53323 to 53327, so waiting more seems impractical.</p>\n\n<p><strong>@vidi solution</strong></p>\n\n<pre><code>Prime.stream().forEach(System.out::println);\n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>134417</code>.</p>\n\n<p><strong>My solution (StreamEx)</strong></p>\n\n<pre><code>sieve(StreamEx.iterate(2, x -&gt; x+1)).forEach(System.out::println);\n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>236167</code>.</p>\n\n<p><strong>@frhack solution (<code>rxjava</code>)</strong></p>\n\n<pre><code>Observable&lt;Integer&gt; primes = Observable.from(()-&gt;primesStream.iterator());\nprimes.forEach((x) -&gt; System.out.println(x.toString()));            \n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>367663</code>.</p>\n\n<p><strong>@Holger solution</strong></p>\n\n<pre><code>IntStream primes=from(2).filter(i-&gt;p.test(i)).peek(i-&gt;p=p.and(v-&gt;v%i!=0));\nprimes.forEach(System.out::println);\n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>368089</code>.</p>\n\n<p><strong>My solution (StreamEx with predicate concatenation)</strong></p>\n\n<pre><code>sieve(StreamEx.iterate(2, x -&gt; x+1), i -&gt; true).forEach(System.out::println);\n</code></pre>\n\n<p>Result: StackOverflowError after prime number = <code>368287</code>.</p>\n\n<hr>\n\n<p>So three solutions involving predicate concatenation win, because each new condition adds only 2 more stack frames. I think, the difference between them is marginal and should not be considered to define a winner. However I like my first StreamEx solution more as it more similar to Scala code.</p>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1673587167,"creation_date":1480621387,"answer_id":40919102,"question_id":19803058,"body_markdown":"If you want to get head of a stream, just:\r\n\r\n    IntStream.range(1, 5).first();\r\n\r\nIf you want to get tail of a stream, just:\r\n\r\n    IntStream.range(1, 5).skip(1);\r\n\r\nIf you want to get both head and tail of a stream, just:\r\n\r\n    IntStream s = IntStream.range(1, 5);\r\n\tint head = s.head();\r\n\tIntStream tail = s.tail();\r\n\r\nIf you want to find the prime, just:\r\n\r\n    LongStream.range(2, n)\r\n       .filter(i -&gt; LongStream.range(2, (long) Math.sqrt(i) + 1).noneMatch(j -&gt; i % j == 0))\r\n       .forEach(N::println);\r\n\r\nIf you want to know more, go to get [abacus-common][1]\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>If you want to get head of a stream, just:</p>\n<pre><code>IntStream.range(1, 5).first();\n</code></pre>\n<p>If you want to get tail of a stream, just:</p>\n<pre><code>IntStream.range(1, 5).skip(1);\n</code></pre>\n<p>If you want to get both head and tail of a stream, just:</p>\n<pre><code>IntStream s = IntStream.range(1, 5);\nint head = s.head();\nIntStream tail = s.tail();\n</code></pre>\n<p>If you want to find the prime, just:</p>\n<pre><code>LongStream.range(2, n)\n   .filter(i -&gt; LongStream.range(2, (long) Math.sqrt(i) + 1).noneMatch(j -&gt; i % j == 0))\n   .forEach(N::println);\n</code></pre>\n<p>If you want to know more, go to get <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":357752,"reputation":1302,"user_id":698121,"display_name":"Peter"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541938974,"creation_date":1541938974,"answer_id":53248719,"question_id":19803058,"body_markdown":"There are many interesting suggestions provided here, but if someone needs a solution without dependencies to third party libraries I came up with this:\r\n\r\n        import java.util.AbstractMap;\r\n        import java.util.Optional;\r\n        import java.util.Spliterators;\r\n        import java.util.stream.StreamSupport;\r\n    \r\n        /**\r\n         * Splits a stream in the head element and a tail stream.\r\n    \t * Parallel streams are not supported.\r\n    \t * \r\n         * @param stream Stream to split.\r\n    \t * @param &lt;T&gt; Type of the input stream.\r\n    \t * @return A map entry where {@link Map.Entry#getKey()} contains an\r\n    \t *    optional with the first element (head) of the original stream\r\n    \t *    and {@link Map.Entry#getValue()} the tail of the original stream.\r\n    \t * @throws IllegalArgumentException for parallel streams.\r\n    \t */\r\n    \tpublic static &lt;T&gt; Map.Entry&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; headAndTail(final Stream&lt;T&gt; stream) {\r\n    \t\tif (stream.isParallel()) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;parallel streams are not supported&quot;);\r\n    \t\t}\r\n    \t\tfinal Iterator&lt;T&gt; iterator = stream.iterator();\r\n    \t\treturn new AbstractMap.SimpleImmutableEntry&lt;&gt;(\r\n    \t\t\t\titerator.hasNext() ? Optional.of(iterator.next()) : Optional.empty(),\r\n    \t\t\t\tStreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, 0), false)\r\n    \t\t);\r\n    \t}\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>There are many interesting suggestions provided here, but if someone needs a solution without dependencies to third party libraries I came up with this:</p>\n\n<pre><code>    import java.util.AbstractMap;\n    import java.util.Optional;\n    import java.util.Spliterators;\n    import java.util.stream.StreamSupport;\n\n    /**\n     * Splits a stream in the head element and a tail stream.\n     * Parallel streams are not supported.\n     * \n     * @param stream Stream to split.\n     * @param &lt;T&gt; Type of the input stream.\n     * @return A map entry where {@link Map.Entry#getKey()} contains an\n     *    optional with the first element (head) of the original stream\n     *    and {@link Map.Entry#getValue()} the tail of the original stream.\n     * @throws IllegalArgumentException for parallel streams.\n     */\n    public static &lt;T&gt; Map.Entry&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; headAndTail(final Stream&lt;T&gt; stream) {\n        if (stream.isParallel()) {\n            throw new IllegalArgumentException(\"parallel streams are not supported\");\n        }\n        final Iterator&lt;T&gt; iterator = stream.iterator();\n        return new AbstractMap.SimpleImmutableEntry&lt;&gt;(\n                iterator.hasNext() ? Optional.of(iterator.next()) : Optional.empty(),\n                StreamSupport.stream(Spliterators.spliteratorUnknownSize(iterator, 0), false)\n        );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8241122,"reputation":389,"user_id":6198746,"display_name":"Brixomatic"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625217480,"creation_date":1625217480,"answer_id":68222635,"question_id":19803058,"body_markdown":"This should work with parallel streams as well:\r\n\r\n\r\n```java\r\npublic static &lt;T&gt; Map.Entry&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; headAndTail(final Stream&lt;T&gt; stream) {\r\n\tfinal AtomicReference&lt;Optional&lt;T&gt;&gt; head = new AtomicReference&lt;&gt;(Optional.empty());\r\n\tfinal var spliterator = stream.spliterator();\r\n\tspliterator.tryAdvance(x -&gt; head.set(Optional.of(x)));\r\n\treturn Map.entry(head.get(), StreamSupport.stream(spliterator, stream.isParallel()));\r\n}\r\n```\r\n","title":"Java 8 Stream, getting head and tail","body":"<p>This should work with parallel streams as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static &lt;T&gt; Map.Entry&lt;Optional&lt;T&gt;, Stream&lt;T&gt;&gt; headAndTail(final Stream&lt;T&gt; stream) {\n    final AtomicReference&lt;Optional&lt;T&gt;&gt; head = new AtomicReference&lt;&gt;(Optional.empty());\n    final var spliterator = stream.spliterator();\n    spliterator.tryAdvance(x -&gt; head.set(Optional.of(x)));\n    return Map.entry(head.get(), StreamSupport.stream(spliterator, stream.isParallel()));\n}\n</code></pre>\n"}],"owner":{"account_id":187693,"reputation":4250,"user_id":425943,"accept_rate":91,"display_name":"lyomi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15355,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":20007272,"answer_count":10,"score":24,"last_activity_date":1673587167,"creation_date":1383705461,"question_id":19803058,"body_markdown":"Java 8 introduced a [Stream][1] class that resembles Scala&#39;s [Stream][2], a powerful lazy construct using which it is possible to do something like this very concisely:\r\n\r\n&lt;!-- language: lang-scala --&gt;\r\n\r\n    def from(n: Int): Stream[Int] = n #:: from(n+1)\r\n     \r\n    def sieve(s: Stream[Int]): Stream[Int] = {\r\n      s.head #:: sieve(s.tail filter (_ % s.head != 0))\r\n    }\r\n     \r\n    val primes = sieve(from(2))\r\n     \r\n    primes takeWhile(_ &lt; 1000) print  // prints all primes less than 1000\r\n\r\nI wondered if it is possible to do this in Java 8, so I wrote something like this:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n\r\n\tIntStream from(int n) {\r\n\t\treturn IntStream.iterate(n, m -&gt; m + 1);\r\n\t}\r\n\r\n\tIntStream sieve(IntStream s) {\r\n\t\tint head = s.findFirst().getAsInt();\r\n\t\treturn IntStream.concat(IntStream.of(head), sieve(s.skip(1).filter(n -&gt; n % head != 0)));\r\n\t}\r\n\r\n\tIntStream primes = sieve(from(2));\r\n\r\n\r\nFairly simple, but it produces `java.lang.IllegalStateException: stream has already been operated upon or closed` because both `findFirst()` and `skip()` are terminal operations on `Stream` which can be done only once.\r\n\r\nI don&#39;t really have to use up the stream twice since all I need is the first number in the stream and the rest as another stream, i.e. equivalent of Scala&#39;s `Stream.head` and `Stream.tail`. Is there a method in Java 8 `Stream` that I can use to achieve this?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: http://download.java.net/jdk8/docs/api/java/util/stream/Stream.html\r\n  [2]: http://www.scala-lang.org/files/archive/nightly/docs/library/scala/collection/immutable/Stream.html","title":"Java 8 Stream, getting head and tail","body":"<p>Java 8 introduced a <a href=\"http://download.java.net/jdk8/docs/api/java/util/stream/Stream.html\">Stream</a> class that resembles Scala's <a href=\"http://www.scala-lang.org/files/archive/nightly/docs/library/scala/collection/immutable/Stream.html\">Stream</a>, a powerful lazy construct using which it is possible to do something like this very concisely:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>def from(n: Int): Stream[Int] = n #:: from(n+1)\n\ndef sieve(s: Stream[Int]): Stream[Int] = {\n  s.head #:: sieve(s.tail filter (_ % s.head != 0))\n}\n\nval primes = sieve(from(2))\n\nprimes takeWhile(_ &lt; 1000) print  // prints all primes less than 1000\n</code></pre>\n\n<p>I wondered if it is possible to do this in Java 8, so I wrote something like this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>IntStream from(int n) {\n    return IntStream.iterate(n, m -&gt; m + 1);\n}\n\nIntStream sieve(IntStream s) {\n    int head = s.findFirst().getAsInt();\n    return IntStream.concat(IntStream.of(head), sieve(s.skip(1).filter(n -&gt; n % head != 0)));\n}\n\nIntStream primes = sieve(from(2));\n</code></pre>\n\n<p>Fairly simple, but it produces <code>java.lang.IllegalStateException: stream has already been operated upon or closed</code> because both <code>findFirst()</code> and <code>skip()</code> are terminal operations on <code>Stream</code> which can be done only once.</p>\n\n<p>I don't really have to use up the stream twice since all I need is the first number in the stream and the rest as another stream, i.e. equivalent of Scala's <code>Stream.head</code> and <code>Stream.tail</code>. Is there a method in Java 8 <code>Stream</code> that I can use to achieve this?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","functional-programming","java-8","java-stream"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":9,"creation_date":1441616298,"post_id":32434592,"comment_id":52734181,"body_markdown":"Making partitions lazily evaluated is generally infeasible in my experience - what would you expect to happen if you maintained references to several partitions, and then accessed them out of order?","body":"Making partitions lazily evaluated is generally infeasible in my experience - what would you expect to happen if you maintained references to several partitions, and then accessed them out of order?"},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":3,"creation_date":1441616636,"post_id":32434592,"comment_id":52734363,"body_markdown":"@JonSkeet - Especially if they are parallel.","body":"@JonSkeet - Especially if they are parallel."},{"owner":{"account_id":226458,"reputation":974,"user_id":487516,"display_name":"Trader001"},"score":0,"creation_date":1441617467,"post_id":32434592,"comment_id":52734850,"body_markdown":"Thanks for your point, Jon, I suspected that. Do you think non-lazy implementation in my own answer below is optimal?","body":"Thanks for your point, Jon, I suspected that. Do you think non-lazy implementation in my own answer below is optimal?"},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1543431237,"post_id":32434592,"comment_id":93921307,"body_markdown":"I think that if I&#39;m more concerned about memory than parallelism, I&#39;d want to work with a stream of &quot;lazy evaluated streams&quot;.","body":"I think that if I&#39;m more concerned about memory than parallelism, I&#39;d want to work with a stream of &quot;lazy evaluated streams&quot;."}],"answers":[{"comments":[{"owner":{"account_id":354814,"reputation":12916,"user_id":693387,"display_name":"Tomasz Stanczak"},"score":23,"creation_date":1469784007,"post_id":32435046,"comment_id":64691452,"body_markdown":"I know it is an old topic, but it think is worth mentioning - it&#39;s not pure Java 8: `Iterators` class is from Guava.","body":"I know it is an old topic, but it think is worth mentioning - it&#39;s not pure Java 8: <code>Iterators</code> class is from Guava."}],"tags":[],"owner":{"account_id":226458,"reputation":974,"user_id":487516,"display_name":"Trader001"},"comment_count":1,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1441617307,"creation_date":1441617307,"answer_id":32435046,"question_id":32434592,"body_markdown":"It seem like, as Jon Skeet has shown in his [comment][1], it&#39;s not possible to make partitions lazy. For non-lazy partitions, I already have this code:\r\n\r\n    public static &lt;T&gt; Stream&lt;Stream&lt;T&gt;&gt; partition(Stream&lt;T&gt; source, int size) {\r\n        final Iterator&lt;T&gt; it = source.iterator();\r\n        final Iterator&lt;Stream&lt;T&gt;&gt; partIt = Iterators.transform(Iterators.partition(it, size), List::stream);\r\n        final Iterable&lt;Stream&lt;T&gt;&gt; iterable = () -&gt; partIt;\r\n\r\n        return StreamSupport.stream(iterable.spliterator(), false);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32434592/partition-a-java-8-stream#comment52734181_32434592","title":"Partition a Java 8 Stream","body":"<p>It seem like, as Jon Skeet has shown in his <a href=\"https://stackoverflow.com/questions/32434592/partition-a-java-8-stream#comment52734181_32434592\">comment</a>, it's not possible to make partitions lazy. For non-lazy partitions, I already have this code:</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;Stream&lt;T&gt;&gt; partition(Stream&lt;T&gt; source, int size) {\n    final Iterator&lt;T&gt; it = source.iterator();\n    final Iterator&lt;Stream&lt;T&gt;&gt; partIt = Iterators.transform(Iterators.partition(it, size), List::stream);\n    final Iterable&lt;Stream&lt;T&gt;&gt; iterable = () -&gt; partIt;\n\n    return StreamSupport.stream(iterable.spliterator(), false);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1240064,"reputation":3356,"user_id":1202894,"accept_rate":71,"display_name":"Torque"},"score":0,"creation_date":1518682478,"post_id":32435407,"comment_id":84607756,"body_markdown":"I would be very interested in seeing something like the parallel solution added to StreamEx (which has become a staple in my projects the way Guava and Lombok has). Less because I care about paralellism, but instead because it works on streams - StreamEx.ofSubLists requires you to already have a collapsed list, whereas my use cases are usually ongoing streams that I don&#39;t want to collapse into a Collection and have in memory all at once.","body":"I would be very interested in seeing something like the parallel solution added to StreamEx (which has become a staple in my projects the way Guava and Lombok has). Less because I care about paralellism, but instead because it works on streams - StreamEx.ofSubLists requires you to already have a collapsed list, whereas my use cases are usually ongoing streams that I don&#39;t want to collapse into a Collection and have in memory all at once."},{"owner":{"account_id":2264978,"reputation":3734,"user_id":1993937,"accept_rate":47,"display_name":"TheJeff"},"score":0,"creation_date":1660251748,"post_id":32435407,"comment_id":129495390,"body_markdown":"What about a parallel-friendly solution for an ordered steam?\n\nI.E. convert a list of objects into a stream of Lists grouped by the ordered var? \n\nEx: Send the list downstream once the ordered var changes?","body":"What about a parallel-friendly solution for an ordered steam?  I.E. convert a list of objects into a stream of Lists grouped by the ordered var?   Ex: Send the list downstream once the ordered var changes?"}],"tags":[],"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"comment_count":2,"down_vote_count":2,"up_vote_count":60,"is_accepted":true,"score":58,"last_activity_date":1450755733,"creation_date":1441618468,"answer_id":32435407,"question_id":32434592,"body_markdown":"It&#39;s impossible to partition the arbitrary source stream to the fixed size batches, because this will screw up the parallel processing. When processing in parallel you may not know how many elements in the first sub-task after the split, so you cannot create the partitions for the next sub-task until the first is fully processed.\r\n\r\nHowever it is possible to create the stream of partitions from the random access `List`. Such feature is available, for example, in my [`StreamEx`](https://github.com/amaembo/streamex) library:\r\n\r\n    List&lt;Type&gt; input = Arrays.asList(...);\r\n\r\n    Stream&lt;List&lt;Type&gt;&gt; stream = StreamEx.ofSubLists(input, partitionSize);\r\n\r\nOr if you really want the stream of streams:\r\n\r\n    Stream&lt;Stream&lt;Type&gt;&gt; stream = StreamEx.ofSubLists(input, partitionSize).map(List::stream);\r\n\r\nIf you don&#39;t want to depend on third-party libraries, you can implement such `ofSubLists` method manually:\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofSubLists(List&lt;T&gt; source, int length) {\r\n        if (length &lt;= 0)\r\n            throw new IllegalArgumentException(&quot;length = &quot; + length);\r\n        int size = source.size();\r\n        if (size &lt;= 0)\r\n            return Stream.empty();\r\n        int fullChunks = (size - 1) / length;\r\n        return IntStream.range(0, fullChunks + 1).mapToObj(\r\n            n -&gt; source.subList(n * length, n == fullChunks ? size : (n + 1) * length));\r\n    }\r\n\r\nThis implementation looks a little bit long, but it takes into account some corner cases like close-to-MAX_VALUE list size.\r\n\r\n----\r\n\r\nIf you want parallel-friendly solution for unordered stream (so you don&#39;t care which stream elements will be combined in single batch), you may use the collector like this (thanks to @sibnick for inspiration):\r\n\r\n\tpublic static &lt;T, A, R&gt; Collector&lt;T, ?, R&gt; unorderedBatches(int batchSize, \r\n                       Collector&lt;List&lt;T&gt;, A, R&gt; downstream) {\r\n\t\tclass Acc {\r\n\t\t\tList&lt;T&gt; cur = new ArrayList&lt;&gt;();\r\n\t\t\tA acc = downstream.supplier().get();\r\n\t\t}\r\n\t\tBiConsumer&lt;Acc, T&gt; accumulator = (acc, t) -&gt; {\r\n\t\t\tacc.cur.add(t);\r\n\t\t\tif(acc.cur.size() == batchSize) {\r\n\t\t\t\tdownstream.accumulator().accept(acc.acc, acc.cur);\r\n\t\t\t\tacc.cur = new ArrayList&lt;&gt;();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn Collector.of(Acc::new, accumulator,\r\n\t\t\t\t(acc1, acc2) -&gt; {\r\n\t\t\t\t\tacc1.acc = downstream.combiner().apply(acc1.acc, acc2.acc);\r\n\t\t\t\t\tfor(T t : acc2.cur) accumulator.accept(acc1, t);\r\n\t\t\t\t\treturn acc1;\r\n\t\t\t\t}, acc -&gt; {\r\n                    if(!acc.cur.isEmpty())\r\n\t\t\t\t\t    downstream.accumulator().accept(acc.acc, acc.cur);\r\n\t\t\t\t\treturn downstream.finisher().apply(acc.acc);\r\n\t\t\t\t}, Collector.Characteristics.UNORDERED);\r\n\t}\r\n\r\nUsage example:\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; list = IntStream.range(0,20)\r\n                                        .boxed().parallel()\r\n                                        .collect(unorderedBatches(3, Collectors.toList()));\r\n\r\nResult:\r\n\r\n    [[2, 3, 4], [7, 8, 9], [0, 1, 5], [12, 13, 14], [17, 18, 19], [10, 11, 15], [6, 16]]\r\n\r\nSuch collector is perfectly thread-safe and produces ordered batches for sequential stream.\r\n\r\nIf you want to apply an intermediate transformation for every batch, you may use the following version:\r\n\r\n\tpublic static &lt;T, AA, A, B, R&gt; Collector&lt;T, ?, R&gt; unorderedBatches(int batchSize,\r\n\t\t\tCollector&lt;T, AA, B&gt; batchCollector,\r\n\t\t\tCollector&lt;B, A, R&gt; downstream) {\r\n\t\treturn unorderedBatches(batchSize, \r\n\t\t\t\tCollectors.mapping(list -&gt; list.stream().collect(batchCollector), downstream));\r\n\t}\r\n\r\nFor example, this way you can sum the numbers in every batch on the fly:\r\n\r\n\tList&lt;Integer&gt; list = IntStream.range(0,20)\r\n            .boxed().parallel()\r\n            .collect(unorderedBatches(3, Collectors.summingInt(Integer::intValue), \r\n                Collectors.toList()));\r\n","title":"Partition a Java 8 Stream","body":"<p>It's impossible to partition the arbitrary source stream to the fixed size batches, because this will screw up the parallel processing. When processing in parallel you may not know how many elements in the first sub-task after the split, so you cannot create the partitions for the next sub-task until the first is fully processed.</p>\n\n<p>However it is possible to create the stream of partitions from the random access <code>List</code>. Such feature is available, for example, in my <a href=\"https://github.com/amaembo/streamex\" rel=\"noreferrer\"><code>StreamEx</code></a> library:</p>\n\n<pre><code>List&lt;Type&gt; input = Arrays.asList(...);\n\nStream&lt;List&lt;Type&gt;&gt; stream = StreamEx.ofSubLists(input, partitionSize);\n</code></pre>\n\n<p>Or if you really want the stream of streams:</p>\n\n<pre><code>Stream&lt;Stream&lt;Type&gt;&gt; stream = StreamEx.ofSubLists(input, partitionSize).map(List::stream);\n</code></pre>\n\n<p>If you don't want to depend on third-party libraries, you can implement such <code>ofSubLists</code> method manually:</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; ofSubLists(List&lt;T&gt; source, int length) {\n    if (length &lt;= 0)\n        throw new IllegalArgumentException(\"length = \" + length);\n    int size = source.size();\n    if (size &lt;= 0)\n        return Stream.empty();\n    int fullChunks = (size - 1) / length;\n    return IntStream.range(0, fullChunks + 1).mapToObj(\n        n -&gt; source.subList(n * length, n == fullChunks ? size : (n + 1) * length));\n}\n</code></pre>\n\n<p>This implementation looks a little bit long, but it takes into account some corner cases like close-to-MAX_VALUE list size.</p>\n\n<hr>\n\n<p>If you want parallel-friendly solution for unordered stream (so you don't care which stream elements will be combined in single batch), you may use the collector like this (thanks to @sibnick for inspiration):</p>\n\n<pre><code>public static &lt;T, A, R&gt; Collector&lt;T, ?, R&gt; unorderedBatches(int batchSize, \n                   Collector&lt;List&lt;T&gt;, A, R&gt; downstream) {\n    class Acc {\n        List&lt;T&gt; cur = new ArrayList&lt;&gt;();\n        A acc = downstream.supplier().get();\n    }\n    BiConsumer&lt;Acc, T&gt; accumulator = (acc, t) -&gt; {\n        acc.cur.add(t);\n        if(acc.cur.size() == batchSize) {\n            downstream.accumulator().accept(acc.acc, acc.cur);\n            acc.cur = new ArrayList&lt;&gt;();\n        }\n    };\n    return Collector.of(Acc::new, accumulator,\n            (acc1, acc2) -&gt; {\n                acc1.acc = downstream.combiner().apply(acc1.acc, acc2.acc);\n                for(T t : acc2.cur) accumulator.accept(acc1, t);\n                return acc1;\n            }, acc -&gt; {\n                if(!acc.cur.isEmpty())\n                    downstream.accumulator().accept(acc.acc, acc.cur);\n                return downstream.finisher().apply(acc.acc);\n            }, Collector.Characteristics.UNORDERED);\n}\n</code></pre>\n\n<p>Usage example:</p>\n\n<pre><code>List&lt;List&lt;Integer&gt;&gt; list = IntStream.range(0,20)\n                                    .boxed().parallel()\n                                    .collect(unorderedBatches(3, Collectors.toList()));\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>[[2, 3, 4], [7, 8, 9], [0, 1, 5], [12, 13, 14], [17, 18, 19], [10, 11, 15], [6, 16]]\n</code></pre>\n\n<p>Such collector is perfectly thread-safe and produces ordered batches for sequential stream.</p>\n\n<p>If you want to apply an intermediate transformation for every batch, you may use the following version:</p>\n\n<pre><code>public static &lt;T, AA, A, B, R&gt; Collector&lt;T, ?, R&gt; unorderedBatches(int batchSize,\n        Collector&lt;T, AA, B&gt; batchCollector,\n        Collector&lt;B, A, R&gt; downstream) {\n    return unorderedBatches(batchSize, \n            Collectors.mapping(list -&gt; list.stream().collect(batchCollector), downstream));\n}\n</code></pre>\n\n<p>For example, this way you can sum the numbers in every batch on the fly:</p>\n\n<pre><code>List&lt;Integer&gt; list = IntStream.range(0,20)\n        .boxed().parallel()\n        .collect(unorderedBatches(3, Collectors.summingInt(Integer::intValue), \n            Collectors.toList()));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":53490,"reputation":4005,"user_id":159923,"display_name":"sibnick"},"score":0,"creation_date":1441630659,"post_id":32438624,"comment_id":52742713,"body_markdown":"You are right about undocumented fact and it is reason why I called it &#39;hack&#39;. Also you are right about non-atomic `computeIfAbsent`. I will edit code shortly. But why it is not lazy? It is not allocate all lists before processing one batch. Also it is common that concurrent batch processing is not ordered.","body":"You are right about undocumented fact and it is reason why I called it &#39;hack&#39;. Also you are right about non-atomic <code>computeIfAbsent</code>. I will edit code shortly. But why it is not lazy? It is not allocate all lists before processing one batch. Also it is common that concurrent batch processing is not ordered."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1441630713,"post_id":32438624,"comment_id":52742746,"body_markdown":"For parallel stream it doesn&#39;t work at all. `applyConcurrentBatchToStream(System.out::println, IntStream.range(0,100).boxed().parallel(), 3)` prints garbage (randomly collected groups, some elements repeating, even number of groups differ between runs). For sequential-only streams there are far simpler and more efficient solutions (like one presented by OP).","body":"For parallel stream it doesn&#39;t work at all. <code>applyConcurrentBatchToStream(System.out::println, IntStream.range(0,100).boxed().parallel(), 3)</code> prints garbage (randomly collected groups, some elements repeating, even number of groups differ between runs). For sequential-only streams there are far simpler and more efficient solutions (like one presented by OP)."},{"owner":{"account_id":53490,"reputation":4005,"user_id":159923,"display_name":"sibnick"},"score":0,"creation_date":1441631529,"post_id":32438624,"comment_id":52743239,"body_markdown":"But you also show the source of bug: non-atomic `computeIfAbsent`.","body":"But you also show the source of bug: non-atomic <code>computeIfAbsent</code>."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1441631776,"post_id":32438624,"comment_id":52743395,"body_markdown":"As for ordering, it&#39;s not so common that concurrent batch processing is unordered. There&#39;s even special Stream API method `unordered()` which you may use to explicitly state that you don&#39;t care about order. In many cases you do care. And, I believe there&#39;s a simpler alternative for creating fixed size unordered batches...","body":"As for ordering, it&#39;s not so common that concurrent batch processing is unordered. There&#39;s even special Stream API method <code>unordered()</code> which you may use to explicitly state that you don&#39;t care about order. In many cases you do care. And, I believe there&#39;s a simpler alternative for creating fixed size unordered batches..."},{"owner":{"account_id":53490,"reputation":4005,"user_id":159923,"display_name":"sibnick"},"score":0,"creation_date":1441632100,"post_id":32438624,"comment_id":52743563,"body_markdown":"I added fix for multithread issue, but I will think about it yet.","body":"I added fix for multithread issue, but I will think about it yet."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":2,"creation_date":1441633452,"post_id":32438624,"comment_id":52744394,"body_markdown":"I posted my own unordered-parallel solution.","body":"I posted my own unordered-parallel solution."}],"tags":[],"owner":{"account_id":53490,"reputation":4005,"user_id":159923,"display_name":"sibnick"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441631964,"creation_date":1441628362,"answer_id":32438624,"question_id":32434592,"body_markdown":"I think it is possible with some sort of hack inside:\r\n\r\n\r\ncreate utility class for batch:\r\n\r\n\r\n    public static class ConcurrentBatch {\r\n        private AtomicLong id = new AtomicLong();\r\n        private int batchSize;\r\n\r\n        public ConcurrentBatch(int batchSize) {\r\n            this.batchSize = batchSize;\r\n        }\r\n\r\n        public long next() {\r\n            return (id.getAndIncrement()) / batchSize;\r\n        }\r\n\r\n        public int getBatchSize() {\r\n            return batchSize;\r\n        }\r\n    }\r\n\r\nand method:\r\n\r\n    public static &lt;T&gt; void applyConcurrentBatchToStream(Consumer&lt;List&lt;T&gt;&gt; batchFunc, Stream&lt;T&gt; stream, int batchSize){\r\n        ConcurrentBatch batch = new ConcurrentBatch(batchSize);\r\n        //hack java map: extends and override computeIfAbsent\r\n        Supplier&lt;ConcurrentMap&lt;Long, List&lt;T&gt;&gt;&gt; mapFactory = () -&gt; new ConcurrentHashMap&lt;Long, List&lt;T&gt;&gt;() {\r\n            @Override\r\n            public List&lt;T&gt; computeIfAbsent(Long key, Function&lt;? super Long, ? extends List&lt;T&gt;&gt; mappingFunction) {\r\n                List&lt;T&gt; rs = super.computeIfAbsent(key, mappingFunction);\r\n                //apply batchFunc to old lists, when new batch list is created\r\n                if(rs.isEmpty()){\r\n                    for(Entry&lt;Long, List&lt;T&gt;&gt; e : entrySet()) {\r\n                        List&lt;T&gt; batchList = e.getValue();\r\n                        //todo: need to improve\r\n                        synchronized (batchList) {\r\n                            if (batchList.size() == batch.getBatchSize()){\r\n                                batchFunc.accept(batchList);\r\n                                remove(e.getKey());\r\n                                batchList.clear();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return rs;\r\n            }\r\n        };\r\n        stream.map(s -&gt; new AbstractMap.SimpleEntry&lt;&gt;(batch.next(), s))\r\n                .collect(groupingByConcurrent(AbstractMap.SimpleEntry::getKey, mapFactory, mapping(AbstractMap.SimpleEntry::getValue, toList())))\r\n                .entrySet()\r\n                .stream()\r\n                //map contains only unprocessed lists (size&lt;batchSize)\r\n                .forEach(e -&gt; batchFunc.accept(e.getValue()));\r\n    }","title":"Partition a Java 8 Stream","body":"<p>I think it is possible with some sort of hack inside:</p>\n\n<p>create utility class for batch:</p>\n\n<pre><code>public static class ConcurrentBatch {\n    private AtomicLong id = new AtomicLong();\n    private int batchSize;\n\n    public ConcurrentBatch(int batchSize) {\n        this.batchSize = batchSize;\n    }\n\n    public long next() {\n        return (id.getAndIncrement()) / batchSize;\n    }\n\n    public int getBatchSize() {\n        return batchSize;\n    }\n}\n</code></pre>\n\n<p>and method:</p>\n\n<pre><code>public static &lt;T&gt; void applyConcurrentBatchToStream(Consumer&lt;List&lt;T&gt;&gt; batchFunc, Stream&lt;T&gt; stream, int batchSize){\n    ConcurrentBatch batch = new ConcurrentBatch(batchSize);\n    //hack java map: extends and override computeIfAbsent\n    Supplier&lt;ConcurrentMap&lt;Long, List&lt;T&gt;&gt;&gt; mapFactory = () -&gt; new ConcurrentHashMap&lt;Long, List&lt;T&gt;&gt;() {\n        @Override\n        public List&lt;T&gt; computeIfAbsent(Long key, Function&lt;? super Long, ? extends List&lt;T&gt;&gt; mappingFunction) {\n            List&lt;T&gt; rs = super.computeIfAbsent(key, mappingFunction);\n            //apply batchFunc to old lists, when new batch list is created\n            if(rs.isEmpty()){\n                for(Entry&lt;Long, List&lt;T&gt;&gt; e : entrySet()) {\n                    List&lt;T&gt; batchList = e.getValue();\n                    //todo: need to improve\n                    synchronized (batchList) {\n                        if (batchList.size() == batch.getBatchSize()){\n                            batchFunc.accept(batchList);\n                            remove(e.getKey());\n                            batchList.clear();\n                        }\n                    }\n                }\n            }\n            return rs;\n        }\n    };\n    stream.map(s -&gt; new AbstractMap.SimpleEntry&lt;&gt;(batch.next(), s))\n            .collect(groupingByConcurrent(AbstractMap.SimpleEntry::getKey, mapFactory, mapping(AbstractMap.SimpleEntry::getValue, toList())))\n            .entrySet()\n            .stream()\n            //map contains only unprocessed lists (size&lt;batchSize)\n            .forEach(e -&gt; batchFunc.accept(e.getValue()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5914036,"reputation":5245,"user_id":4653367,"display_name":"John McClean"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1476092448,"creation_date":1442664642,"answer_id":32668057,"question_id":32434592,"body_markdown":"Provided you want to use the Stream sequentially, it is possible to partition a Stream (as well as perform related functions such as windowing - which I think is what you really want in this case). \r\nTwo libraries that will support partitoning for standard Streams are [cyclops-react](https://github.com/aol/cyclops-react) (I am the author) and [jOOλ](https://github.com/jOOQ/jOOL) which cyclops-react extends (to add functionality such as Windowing).\r\n\r\n cyclops-streams has a collection of static functions [StreamUtils](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-FINAL/com/aol/cyclops/control/StreamUtils.html) for operating on Java Streams, and a series of functions such as splitAt, headAndTail, splitBy, partition for partitioning. \r\n\r\nTo window a Stream into a Stream of nested Streams of size 30 you can use the window method.\r\n\r\nTo the OPs point, in Streaming terms, splitting a Stream into multiple Streams of a given size is a Windowing operation (rather than a Partitioning operation). \r\n\r\n      Stream&lt;Streamable&lt;Integer&gt;&gt; streamOfStreams = StreamUtils.window(stream,30);\r\n\r\nThere is a Stream extension class called [ReactiveSeq](http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-FINAL/com/aol/cyclops/control/ReactiveSeq.html) that extends [jool.Seq](http://www.jooq.org/products/jOO%CE%BB/javadoc/0.9.7/org/jooq/lambda/Seq.html) and adds Windowing functionality, that may make the code a little cleaner.\r\n\r\n      ReactiveSeq&lt;Integer&gt; seq;\r\n      ReactiveSeq&lt;ListX&lt;Integer&gt;&gt; streamOfLists = seq.grouped(30);\r\n\r\n\r\n\r\nAs Tagir points out above though, this isn&#39;t suitable for parallel Streams. If you want to window or batch a Stream you wish to executed in a multithreaded fashion. LazyFutureStream in [cyclops-react](https://github.com/aol/cyclops-react)might be useful (Windowing is on the to-do list, but plain old batching is available now).\r\n\r\nIn this case data will be passed from the multiple threads executing the Stream to a Multi-Producer/Single-Consumer wait-free Queue and the sequential data from that queue can be windowed before being distributed to threads again. \r\n\r\n      Stream&lt;List&lt;Data&gt;&gt; batched = new LazyReact().range(0,1000)\r\n                                                  .grouped(30)\r\n                                                  .map(this::process);\r\n                                      \r\n","title":"Partition a Java 8 Stream","body":"<p>Provided you want to use the Stream sequentially, it is possible to partition a Stream (as well as perform related functions such as windowing - which I think is what you really want in this case). \nTwo libraries that will support partitoning for standard Streams are <a href=\"https://github.com/aol/cyclops-react\" rel=\"noreferrer\">cyclops-react</a> (I am the author) and <a href=\"https://github.com/jOOQ/jOOL\" rel=\"noreferrer\">jOOλ</a> which cyclops-react extends (to add functionality such as Windowing).</p>\n\n<p>cyclops-streams has a collection of static functions <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-FINAL/com/aol/cyclops/control/StreamUtils.html\" rel=\"noreferrer\">StreamUtils</a> for operating on Java Streams, and a series of functions such as splitAt, headAndTail, splitBy, partition for partitioning. </p>\n\n<p>To window a Stream into a Stream of nested Streams of size 30 you can use the window method.</p>\n\n<p>To the OPs point, in Streaming terms, splitting a Stream into multiple Streams of a given size is a Windowing operation (rather than a Partitioning operation). </p>\n\n<pre><code>  Stream&lt;Streamable&lt;Integer&gt;&gt; streamOfStreams = StreamUtils.window(stream,30);\n</code></pre>\n\n<p>There is a Stream extension class called <a href=\"http://static.javadoc.io/com.aol.simplereact/cyclops-react/1.0.0-FINAL/com/aol/cyclops/control/ReactiveSeq.html\" rel=\"noreferrer\">ReactiveSeq</a> that extends <a href=\"http://www.jooq.org/products/jOO%CE%BB/javadoc/0.9.7/org/jooq/lambda/Seq.html\" rel=\"noreferrer\">jool.Seq</a> and adds Windowing functionality, that may make the code a little cleaner.</p>\n\n<pre><code>  ReactiveSeq&lt;Integer&gt; seq;\n  ReactiveSeq&lt;ListX&lt;Integer&gt;&gt; streamOfLists = seq.grouped(30);\n</code></pre>\n\n<p>As Tagir points out above though, this isn't suitable for parallel Streams. If you want to window or batch a Stream you wish to executed in a multithreaded fashion. LazyFutureStream in <a href=\"https://github.com/aol/cyclops-react\" rel=\"noreferrer\">cyclops-react</a>might be useful (Windowing is on the to-do list, but plain old batching is available now).</p>\n\n<p>In this case data will be passed from the multiple threads executing the Stream to a Multi-Producer/Single-Consumer wait-free Queue and the sequential data from that queue can be windowed before being distributed to threads again. </p>\n\n<pre><code>  Stream&lt;List&lt;Data&gt;&gt; batched = new LazyReact().range(0,1000)\n                                              .grouped(30)\n                                              .map(this::process);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673587145,"creation_date":1480576511,"answer_id":40904641,"question_id":32434592,"body_markdown":"Here is quick solution by [abacus-common][1]\r\n\r\n    \r\n    IntStream.range(0, Integer.MAX_VALUE).split(size).forEach(s -&gt; N.println(s.toArray()));\r\n\r\nDisclaimer：I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Partition a Java 8 Stream","body":"<p>Here is quick solution by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>IntStream.range(0, Integer.MAX_VALUE).split(size).forEach(s -&gt; N.println(s.toArray()));\n</code></pre>\n<p>Disclaimer：I'm the developer of abacus-common.</p>\n"},{"tags":[],"owner":{"account_id":12931671,"reputation":144,"user_id":9350512,"display_name":"rloeffel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1518688987,"creation_date":1518688987,"answer_id":48804437,"question_id":32434592,"body_markdown":"The most elegant and pure java 8 solution for this problem i found:\r\n\r\n    public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partition(final List&lt;T&gt; list, int batchSize) {\r\n    return IntStream.range(0, getNumberOfPartitions(list, batchSize))\r\n                    .mapToObj(i -&gt; list.subList(i * batchSize, Math.min((i + 1) * batchSize, list.size())))\r\n                    .collect(toList());\r\n    }\r\n\r\n    //https://stackoverflow.com/questions/23246983/get-the-next-higher-integer-value-in-java\r\n    private static &lt;T&gt; int getNumberOfPartitions(List&lt;T&gt; list, int batchSize) {\r\n        return (list.size() + batchSize- 1) / batchSize;\r\n    }","title":"Partition a Java 8 Stream","body":"<p>The most elegant and pure java 8 solution for this problem i found:</p>\n\n<pre><code>public static &lt;T&gt; List&lt;List&lt;T&gt;&gt; partition(final List&lt;T&gt; list, int batchSize) {\nreturn IntStream.range(0, getNumberOfPartitions(list, batchSize))\n                .mapToObj(i -&gt; list.subList(i * batchSize, Math.min((i + 1) * batchSize, list.size())))\n                .collect(toList());\n}\n\n//https://stackoverflow.com/questions/23246983/get-the-next-higher-integer-value-in-java\nprivate static &lt;T&gt; int getNumberOfPartitions(List&lt;T&gt; list, int batchSize) {\n    return (list.size() + batchSize- 1) / batchSize;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14519142,"reputation":61,"user_id":10487274,"display_name":"Hei"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539227195,"creation_date":1539226750,"answer_id":52751502,"question_id":32434592,"body_markdown":"This is a pure Java solution that&#39;s evaluated lazily instead of using List.\r\n\r\n    public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; partition(Stream&lt;T&gt; stream, int batchSize){\r\n        List&lt;List&lt;T&gt;&gt; currentBatch = new ArrayList&lt;List&lt;T&gt;&gt;(); //just to make it mutable \r\n        currentBatch.add(new ArrayList&lt;T&gt;(batchSize));\r\n        return Stream.concat(stream\r\n          .sequential()                   \r\n          .map(new Function&lt;T, List&lt;T&gt;&gt;(){\r\n              public List&lt;T&gt; apply(T t){\r\n                  currentBatch.get(0).add(t);\r\n                  return currentBatch.get(0).size() == batchSize ? currentBatch.set(0,new ArrayList&lt;&gt;(batchSize)): null;\r\n                }\r\n          }), Stream.generate(()-&gt;currentBatch.get(0).isEmpty()?null:currentBatch.get(0))\r\n                    .limit(1)\r\n        ).filter(Objects::nonNull);\r\n    }\r\n\r\nThe method returns `Stream&lt;List&lt;T&gt;&gt;` for flexibility. You can convert it to `Stream&lt;Stream&lt;T&gt;&gt;` easily by `partition(something, 10).map(List::stream)`.","title":"Partition a Java 8 Stream","body":"<p>This is a pure Java solution that's evaluated lazily instead of using List.</p>\n\n<pre><code>public static &lt;T&gt; Stream&lt;List&lt;T&gt;&gt; partition(Stream&lt;T&gt; stream, int batchSize){\n    List&lt;List&lt;T&gt;&gt; currentBatch = new ArrayList&lt;List&lt;T&gt;&gt;(); //just to make it mutable \n    currentBatch.add(new ArrayList&lt;T&gt;(batchSize));\n    return Stream.concat(stream\n      .sequential()                   \n      .map(new Function&lt;T, List&lt;T&gt;&gt;(){\n          public List&lt;T&gt; apply(T t){\n              currentBatch.get(0).add(t);\n              return currentBatch.get(0).size() == batchSize ? currentBatch.set(0,new ArrayList&lt;&gt;(batchSize)): null;\n            }\n      }), Stream.generate(()-&gt;currentBatch.get(0).isEmpty()?null:currentBatch.get(0))\n                .limit(1)\n    ).filter(Objects::nonNull);\n}\n</code></pre>\n\n<p>The method returns <code>Stream&lt;List&lt;T&gt;&gt;</code> for flexibility. You can convert it to <code>Stream&lt;Stream&lt;T&gt;&gt;</code> easily by <code>partition(something, 10).map(List::stream)</code>.</p>\n"},{"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":8,"creation_date":1557821856,"post_id":55271147,"comment_id":98883594,"body_markdown":"Iterables comes from Guava: https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Iterables.java Some developers may have good reasons not to use it. You should mention the third party libraries you use.","body":"Iterables comes from Guava: <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/collect/Iterables.java\" rel=\"nofollow noreferrer\">github.com/google/guava/blob/master/guava/src/com/google/com&zwnj;&#8203;mon/&hellip;</a> Some developers may have good reasons not to use it. You should mention the third party libraries you use."}],"tags":[],"owner":{"account_id":131311,"reputation":638,"user_id":331212,"accept_rate":75,"display_name":"WarGoth"},"comment_count":1,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1567362977,"creation_date":1553121207,"answer_id":55271147,"question_id":32434592,"body_markdown":"I found an elegant solution: `Iterable parts = Iterables.partition(stream::iterator, size)`","title":"Partition a Java 8 Stream","body":"<p>I found an elegant solution: <code>Iterable parts = Iterables.partition(stream::iterator, size)</code></p>\n"},{"tags":[],"owner":{"account_id":1379443,"reputation":649,"user_id":1312780,"display_name":"domax"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590096585,"creation_date":1590096585,"answer_id":61944157,"question_id":32434592,"body_markdown":"Here is a pure Java 8 solution - both sequential and parallel:\r\n\r\n```java\r\n  public &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; chunk(Collection&lt;T&gt; collection, int chunkSize) {\r\n    final AtomicInteger index = new AtomicInteger();\r\n    return collection.stream()\r\n        .map(v -&gt; new SimpleImmutableEntry&lt;&gt;(index.getAndIncrement() / chunkSize, v))\r\n        // LinkedHashMap is used here just to preserve order\r\n        .collect(groupingBy(Entry::getKey, LinkedHashMap::new, mapping(Entry::getValue, toList())))\r\n        .values();\r\n  }\r\n\r\n  public &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; chunkParallel(Collection&lt;T&gt; collection, int chunkSize) {\r\n    final AtomicInteger index = new AtomicInteger();\r\n    return collection.parallelStream()\r\n        .map(v -&gt; new SimpleImmutableEntry&lt;&gt;(index.getAndIncrement() / chunkSize, v))\r\n        // So far it is parallel processing ordering cannot be preserved,\r\n        // but we have to make it thread safe - using e.g. ConcurrentHashMap\r\n        .collect(groupingBy(Entry::getKey, ConcurrentHashMap::new, mapping(Entry::getValue, toList())))\r\n        .values();\r\n  }\r\n```\r\n","title":"Partition a Java 8 Stream","body":"<p>Here is a pure Java 8 solution - both sequential and parallel:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>  public &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; chunk(Collection&lt;T&gt; collection, int chunkSize) {\n    final AtomicInteger index = new AtomicInteger();\n    return collection.stream()\n        .map(v -&gt; new SimpleImmutableEntry&lt;&gt;(index.getAndIncrement() / chunkSize, v))\n        // LinkedHashMap is used here just to preserve order\n        .collect(groupingBy(Entry::getKey, LinkedHashMap::new, mapping(Entry::getValue, toList())))\n        .values();\n  }\n\n  public &lt;T&gt; Collection&lt;List&lt;T&gt;&gt; chunkParallel(Collection&lt;T&gt; collection, int chunkSize) {\n    final AtomicInteger index = new AtomicInteger();\n    return collection.parallelStream()\n        .map(v -&gt; new SimpleImmutableEntry&lt;&gt;(index.getAndIncrement() / chunkSize, v))\n        // So far it is parallel processing ordering cannot be preserved,\n        // but we have to make it thread safe - using e.g. ConcurrentHashMap\n        .collect(groupingBy(Entry::getKey, ConcurrentHashMap::new, mapping(Entry::getValue, toList())))\n        .values();\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8807027,"reputation":242,"user_id":6581303,"display_name":"ModHu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612428976,"creation_date":1612428976,"answer_id":66042276,"question_id":32434592,"body_markdown":"   This is a performant way\r\n\r\n\r\n\r\n    import java.util.AbstractList;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public final class Partition&lt;T&gt; extends AbstractList&lt;List&lt;T&gt;&gt; {\r\n\r\n    private final List&lt;T&gt; list;\r\n    private final int chunkSize;\r\n\r\n    public Partition(List&lt;T&gt; list, int chunkSize) {\r\n        this.list = new ArrayList&lt;&gt;(list);\r\n        this.chunkSize = chunkSize;\r\n    }\r\n\r\n    public static &lt;T&gt; Partition&lt;T&gt; ofSize(List&lt;T&gt; list, int chunkSize) {\r\n        return new Partition&lt;&gt;(list, chunkSize);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;T&gt; get(int index) {\r\n        int start = index * chunkSize;\r\n        int end = Math.min(start + chunkSize, list.size());\r\n\r\n        if (start &gt; end) {\r\n            throw new IndexOutOfBoundsException(&quot;Index &quot; + index + &quot; is out of the list range &lt;0,&quot; + (size() - 1) + &quot;&gt;&quot;);\r\n        }\r\n\r\n        return new ArrayList&lt;&gt;(list.subList(start, end));\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n        return (int) Math.ceil((double) list.size() / (double) chunkSize);\r\n    }\r\n}\r\n\r\n\r\nUsage \r\n\r\n    Partition&lt;String&gt; partition = Partition.ofSize(paCustomerCodes, chunkSize);\r\n    \r\n    for (List&lt;String&gt; strings : partition) {\r\n    }","title":"Partition a Java 8 Stream","body":"<p>This is a performant way</p>\n<pre><code>import java.util.AbstractList;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic final class Partition&lt;T&gt; extends AbstractList&lt;List&lt;T&gt;&gt; {\n\nprivate final List&lt;T&gt; list;\nprivate final int chunkSize;\n\npublic Partition(List&lt;T&gt; list, int chunkSize) {\n    this.list = new ArrayList&lt;&gt;(list);\n    this.chunkSize = chunkSize;\n}\n\npublic static &lt;T&gt; Partition&lt;T&gt; ofSize(List&lt;T&gt; list, int chunkSize) {\n    return new Partition&lt;&gt;(list, chunkSize);\n}\n\n@Override\npublic List&lt;T&gt; get(int index) {\n    int start = index * chunkSize;\n    int end = Math.min(start + chunkSize, list.size());\n\n    if (start &gt; end) {\n        throw new IndexOutOfBoundsException(&quot;Index &quot; + index + &quot; is out of the list range &lt;0,&quot; + (size() - 1) + &quot;&gt;&quot;);\n    }\n\n    return new ArrayList&lt;&gt;(list.subList(start, end));\n}\n\n@Override\npublic int size() {\n    return (int) Math.ceil((double) list.size() / (double) chunkSize);\n}\n</code></pre>\n<p>}</p>\n<p>Usage</p>\n<pre><code>Partition&lt;String&gt; partition = Partition.ofSize(paCustomerCodes, chunkSize);\n\nfor (List&lt;String&gt; strings : partition) {\n}\n</code></pre>\n"}],"owner":{"account_id":226458,"reputation":974,"user_id":487516,"display_name":"Trader001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61218,"favorite_count":0,"down_vote_count":0,"up_vote_count":74,"accepted_answer_id":32435407,"answer_count":10,"score":74,"last_activity_date":1673587145,"creation_date":1441615858,"question_id":32434592,"body_markdown":"How to implement &quot;partition&quot; operation on Java 8 Stream? By partition I mean, divide a stream into sub-streams of a given size. Somehow it will be identical to Guava [Iterators.partition()][1] method, just it&#39;s desirable that the partitions are lazily-evaluated Streams rather than List&#39;s.\r\n\r\n\r\n  [1]:https://google.github.io/guava/releases/20.0/api/docs/com/google/common/collect/Iterators.html#partition-java.util.Iterator-int-","title":"Partition a Java 8 Stream","body":"<p>How to implement \"partition\" operation on Java 8 Stream? By partition I mean, divide a stream into sub-streams of a given size. Somehow it will be identical to Guava <a href=\"https://google.github.io/guava/releases/20.0/api/docs/com/google/common/collect/Iterators.html#partition-java.util.Iterator-int-\" rel=\"noreferrer\">Iterators.partition()</a> method, just it's desirable that the partitions are lazily-evaluated Streams rather than List's.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"score":0,"creation_date":1480551747,"post_id":40900567,"comment_id":69015011,"body_markdown":"Your question is how to get the values from the arraylist? Use [`ArrayList#get(int index)`](https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#get(int)). For example `System.out.print(myArray.get(0).name);`.","body":"Your question is how to get the values from the arraylist? Use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#get(int)\" rel=\"nofollow noreferrer\"><code>ArrayList#get(int index)</code></a>. For example <code>System.out.print(myArray.get(0).name);</code>."},{"owner":{"account_id":9717033,"reputation":33,"user_id":7207042,"accept_rate":100,"display_name":"Marwan El Sharkawy"},"score":0,"creation_date":1480551873,"post_id":40900567,"comment_id":69015045,"body_markdown":"I tried it and it prints out only the last name in the list","body":"I tried it and it prints out only the last name in the list"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1480552451,"post_id":40900567,"comment_id":69015204,"body_markdown":"so the printing code that you have tried.  Also why is `st` static?","body":"so the printing code that you have tried.  Also why is <code>st</code> static?"},{"owner":{"account_id":6781150,"reputation":2228,"user_id":5221346,"accept_rate":60,"display_name":"RaminS"},"score":0,"creation_date":1480552506,"post_id":40900567,"comment_id":69015220,"body_markdown":"It prints out the name of the first student in the list. Obviously I can&#39;t solve your problem, because you haven&#39;t explained exactly what the problem is. Your question is unclear.","body":"It prints out the name of the first student in the list. Obviously I can&#39;t solve your problem, because you haven&#39;t explained exactly what the problem is. Your question is unclear."}],"answers":[{"tags":[],"owner":{"account_id":7412110,"reputation":237,"user_id":5639169,"accept_rate":50,"display_name":"recurf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480559145,"creation_date":1480558797,"answer_id":40901580,"question_id":40900567,"body_markdown":"I would do it like this    \r\n\r\n   \r\n\r\n     for(st s: myArray){\r\n             System.out.println(s.gender+&quot; &quot;+s.name)}\r\n         ","title":"How to get certain string from custom ArrayList in Java?","body":"<p>I would do it like this    </p>\n\n<pre><code> for(st s: myArray){\n         System.out.println(s.gender+\" \"+s.name)}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673587134,"creation_date":1480574940,"answer_id":40904247,"question_id":40900567,"body_markdown":"Here is code by [abacus-common][1]\r\n\r\n    \r\n    Stream.of(IOUtil.readLines(new File(filePath)))\r\n        .map(line -&gt; Splitter.with(&quot; &quot;).trim(true).splitToArray(line))\r\n        .groupBy(a -&gt; a[1], a -&gt; a[0], (a, b) -&gt; a + &quot;, &quot; + b)\r\n        .forEach(N::println);\r\n    // output:\r\n    // female=Julia, Mia\r\n    // male=Marwan, John, William\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"How to get certain string from custom ArrayList in Java?","body":"<p>Here is code by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>Stream.of(IOUtil.readLines(new File(filePath)))\n    .map(line -&gt; Splitter.with(&quot; &quot;).trim(true).splitToArray(line))\n    .groupBy(a -&gt; a[1], a -&gt; a[0], (a, b) -&gt; a + &quot;, &quot; + b)\n    .forEach(N::println);\n// output:\n// female=Julia, Mia\n// male=Marwan, John, William\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"}],"owner":{"account_id":9717033,"reputation":33,"user_id":7207042,"accept_rate":100,"display_name":"Marwan El Sharkawy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":40904247,"answer_count":2,"score":-1,"last_activity_date":1673587134,"creation_date":1480551457,"question_id":40900567,"body_markdown":"I want to read the content of a file and store each line of the file into a custom ArrayList. The content of the file is like:\r\n\r\n\t1 Marwan male 22\r\n\t\r\n\t2 Julia female 18\r\n\r\n\t3 John male 19\r\n\r\n\t4 William male 21\r\n\r\n\t5 Mia female 20\r\n\r\nThis is what I did so far:\r\n\r\n\tpublic static ArrayList&lt;st&gt; myArray = new ArrayList&lt;st&gt;();\r\n\tpublic static st s = new st();\r\n\r\n\ts.id=lineScan.next();\r\n\ts.name=lineScan.next();\r\n\ts.gender=lineScan.next();\r\n\ts.age=lineScan.nextInt();\r\n\tmyArray.add(s);\r\n\r\n    class st {\r\n        String id;\r\n    \tString name; \r\n    \tString gender; \r\n    \tint age; \r\n    }\r\n\r\nI want to get the s.name string for every time the gender is male and print them out together, and do the same with the female gender, but I don&#39;t know how to get certain strings from the array list.","title":"How to get certain string from custom ArrayList in Java?","body":"<p>I want to read the content of a file and store each line of the file into a custom ArrayList. The content of the file is like:</p>\n\n<pre><code>1 Marwan male 22\n\n2 Julia female 18\n\n3 John male 19\n\n4 William male 21\n\n5 Mia female 20\n</code></pre>\n\n<p>This is what I did so far:</p>\n\n<pre><code>public static ArrayList&lt;st&gt; myArray = new ArrayList&lt;st&gt;();\npublic static st s = new st();\n\ns.id=lineScan.next();\ns.name=lineScan.next();\ns.gender=lineScan.next();\ns.age=lineScan.nextInt();\nmyArray.add(s);\n\nclass st {\n    String id;\n    String name; \n    String gender; \n    int age; \n}\n</code></pre>\n\n<p>I want to get the s.name string for every time the gender is male and print them out together, and do the same with the female gender, but I don't know how to get certain strings from the array list.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1480555027,"post_id":40901017,"comment_id":69015835,"body_markdown":"seems pointless to have threads and then try to block it from running due to `synchronized`. although what is `this` in this case?  If you want to prevent it from re-processing already found lines, then maybe remove it from the `map`","body":"seems pointless to have threads and then try to block it from running due to <code>synchronized</code>. although what is <code>this</code> in this case?  If you want to prevent it from re-processing already found lines, then maybe remove it from the <code>map</code>"},{"owner":{"account_id":424533,"reputation":3290,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"score":0,"creation_date":1480555547,"post_id":40901017,"comment_id":69015975,"body_markdown":"It is not clear to me what you mean by simple thread.  Java Threads do not have indexes (such as you see in OpenCL/Cuda) so you would need to extend the functionality of threads if you want to give them indexes though your runable COULD hold the index. Your logic in this application is also flawed since the number of threads you are creating won&#39;t always match the number of items you are processing. Minimally I would change your for loop from `x&lt;n` to `x &lt; n &amp;&amp; x &lt; fileMap.size()`","body":"It is not clear to me what you mean by simple thread.  Java Threads do not have indexes (such as you see in OpenCL/Cuda) so you would need to extend the functionality of threads if you want to give them indexes though your runable COULD hold the index. Your logic in this application is also flawed since the number of threads you are creating won&#39;t always match the number of items you are processing. Minimally I would change your for loop from <code>x&lt;n</code> to <code>x &lt; n &amp;&amp; x &lt; fileMap.size()</code>"},{"owner":{"account_id":2192403,"reputation":113,"user_id":1939042,"accept_rate":100,"display_name":"Tao"},"score":0,"creation_date":1480626163,"post_id":40901017,"comment_id":69052850,"body_markdown":"@RalphRitoch Excuse my English. I meant &#39;do this using simply threads&#39; and not through ExecutorService or any other package. Just threads along with maybe Maps/ConcurrentHashMaps","body":"@RalphRitoch Excuse my English. I meant &#39;do this using simply threads&#39; and not through ExecutorService or any other package. Just threads along with maybe Maps/ConcurrentHashMaps"}],"answers":[{"comments":[{"owner":{"account_id":2192403,"reputation":113,"user_id":1939042,"accept_rate":100,"display_name":"Tao"},"score":0,"creation_date":1480626038,"post_id":40901505,"comment_id":69052778,"body_markdown":"Thanks. This works perfectly and what I was looking for. But can you let me know why we need to create Map.Entry[ ][ ]?","body":"Thanks. This works perfectly and what I was looking for. But can you let me know why we need to create Map.Entry[ ][ ]?"},{"owner":{"account_id":2192403,"reputation":113,"user_id":1939042,"accept_rate":100,"display_name":"Tao"},"score":0,"creation_date":1480626230,"post_id":40901505,"comment_id":69052879,"body_markdown":"I got it. Its going to the array for later being processed, correct?","body":"I got it. Its going to the array for later being processed, correct?"},{"owner":{"account_id":424533,"reputation":3290,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"score":0,"creation_date":1480646928,"post_id":40901505,"comment_id":69059680,"body_markdown":"Correct, it is a mirror of how GPU processing works. First you set the data into global memory and then you process the items using the index to ensure that shaders aren&#39;t doing the same work. Final arrays are a good way to mimic global (shared) memory in java.","body":"Correct, it is a mirror of how GPU processing works. First you set the data into global memory and then you process the items using the index to ensure that shaders aren&#39;t doing the same work. Final arrays are a good way to mimic global (shared) memory in java."}],"tags":[],"owner":{"account_id":424533,"reputation":3290,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1480559095,"creation_date":1480558298,"answer_id":40901505,"question_id":40901017,"body_markdown":"Here is a solution to your problem. This parses the thread name to provide the index and uses final arrays to handle passing data into the threads.\r\n\r\n\r\n    Map&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\r\n    fileMap.put(&quot;Age&quot;, &quot;Age is not remotely associated with it.&quot;);\r\n    fileMap.put(&quot;Gender&quot;, &quot;Gender plays a role but not that important.&quot;);\r\n    fileMap.put(&quot;Money&quot;, &quot;People do not believe but this is the only factor that matters.&quot;);\r\n    \r\n    \r\n    final int[] tgSize = new int[]{0};\r\n    final Map.Entry[][] entryArr = new Map.Entry[1][];\r\n    \r\n    Runnable myRunnable = new Runnable(){\r\n        public void run(){\r\n    \t\tInteger index = Integer.valueOf(Thread.currentThread().getName().substring(8));\r\n    \t\t\r\n    \t\tfor(int i = index; i &lt; fileMap.size(); i += tgSize[0]) {\r\n                int counter = 0;\r\n    \t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\t\tMap.Entry&lt;String, String&gt; entry = entryArr[0][i];\r\n                Pattern p = Pattern.compile(&quot;not&quot;);\r\n                Matcher m = p.matcher(entry.getValue());\r\n                while (m.find()) {\r\n    \t\t\t\tcounter++;\r\n                }\r\n    \t\t\tsynchronized(this) {\r\n    \t\t\t\tSystem.out.println(&quot;File Name: &quot; + entry.getKey());\r\n    \t\t\t\tSystem.out.println(&quot;Count: &quot; + counter);\r\n    \t\t\t\tSystem.out.println(Thread.currentThread().getName());            \r\n    \t\t\t}\r\n            }\r\n        }    \r\n    };\r\n    \r\n    int n = Integer.parseInt(args[0]);\r\n    \r\n    tgSize[0] = n &lt; fileMap.size() ? n : fileMap.size();\r\n    entryArr[0] = fileMap.entrySet().toArray(new Map.Entry[fileMap.size()]);\r\n    \r\n    \r\n    for (int x=0; x&lt;n &amp;&amp; x &lt; fileMap.size(); x++)\r\n    {\r\n        Thread temp= new Thread(myRunnable, &quot;Thread #&quot; + x);\r\n        temp.start();\r\n        System.out.println(&quot;Started Thread:&quot; + x);\r\n    }","title":"Multithreading/Parallelizing each item of for loop JAVA","body":"<p>Here is a solution to your problem. This parses the thread name to provide the index and uses final arrays to handle passing data into the threads.</p>\n\n<pre><code>Map&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\nfileMap.put(\"Age\", \"Age is not remotely associated with it.\");\nfileMap.put(\"Gender\", \"Gender plays a role but not that important.\");\nfileMap.put(\"Money\", \"People do not believe but this is the only factor that matters.\");\n\n\nfinal int[] tgSize = new int[]{0};\nfinal Map.Entry[][] entryArr = new Map.Entry[1][];\n\nRunnable myRunnable = new Runnable(){\n    public void run(){\n        Integer index = Integer.valueOf(Thread.currentThread().getName().substring(8));\n\n        for(int i = index; i &lt; fileMap.size(); i += tgSize[0]) {\n            int counter = 0;\n            @SuppressWarnings(\"unchecked\")\n            Map.Entry&lt;String, String&gt; entry = entryArr[0][i];\n            Pattern p = Pattern.compile(\"not\");\n            Matcher m = p.matcher(entry.getValue());\n            while (m.find()) {\n                counter++;\n            }\n            synchronized(this) {\n                System.out.println(\"File Name: \" + entry.getKey());\n                System.out.println(\"Count: \" + counter);\n                System.out.println(Thread.currentThread().getName());            \n            }\n        }\n    }    \n};\n\nint n = Integer.parseInt(args[0]);\n\ntgSize[0] = n &lt; fileMap.size() ? n : fileMap.size();\nentryArr[0] = fileMap.entrySet().toArray(new Map.Entry[fileMap.size()]);\n\n\nfor (int x=0; x&lt;n &amp;&amp; x &lt; fileMap.size(); x++)\n{\n    Thread temp= new Thread(myRunnable, \"Thread #\" + x);\n    temp.start();\n    System.out.println(\"Started Thread:\" + x);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":424533,"reputation":3290,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"score":0,"creation_date":1480559385,"post_id":40901650,"comment_id":69016868,"body_markdown":"Nice library but he did say in the question that he wanted to use &quot;simple&quot; threads. He also didn&#39;t define what he means by simple.","body":"Nice library but he did say in the question that he wanted to use &quot;simple&quot; threads. He also didn&#39;t define what he means by simple."},{"owner":{"account_id":424533,"reputation":3290,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"score":0,"creation_date":1480559486,"post_id":40901650,"comment_id":69016904,"body_markdown":"Is your library on maven?","body":"Is your library on maven?"},{"owner":{"account_id":6410016,"reputation":7025,"user_id":4970079,"accept_rate":76,"display_name":"GOXR3PLUS"},"score":0,"creation_date":1480559857,"post_id":40901650,"comment_id":69016997,"body_markdown":"Hey i really like this library you mentioned!","body":"Hey i really like this library you mentioned!"},{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1480565669,"post_id":40901650,"comment_id":69018402,"body_markdown":"@Ralph, I edit the answer based on your comments. and yes, it&#39;s on Maven","body":"@Ralph, I edit the answer based on your comments. and yes, it&#39;s on Maven"},{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1480565712,"post_id":40901650,"comment_id":69018412,"body_markdown":"@GOXR3PLUS, glad to know you like it","body":"@GOXR3PLUS, glad to know you like it"},{"owner":{"account_id":424533,"reputation":3290,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"score":0,"creation_date":1480566967,"post_id":40901650,"comment_id":69018732,"body_markdown":"@user3380739 you should review my solution. Synchronizing on an iterator is interesting but will have a linear performance reduction as the number of threads is increased when there are enough processors for each thread. There is no performance improvement for having more threads than processors. This may be something to consider as you work on optimizing your library.","body":"@user3380739 you should review my solution. Synchronizing on an iterator is interesting but will have a linear performance reduction as the number of threads is increased when there are enough processors for each thread. There is no performance improvement for having more threads than processors. This may be something to consider as you work on optimizing your library."},{"owner":{"account_id":424533,"reputation":3290,"user_id":804575,"accept_rate":38,"display_name":"Ralph Ritoch"},"score":0,"creation_date":1480567548,"post_id":40901650,"comment_id":69018875,"body_markdown":"@user3380739 my solution is admittedly not optimized, ideally there wouldn&#39;t be any synchronization and the output would all go into an array for later processing.","body":"@user3380739 my solution is admittedly not optimized, ideally there wouldn&#39;t be any synchronization and the output would all go into an array for later processing."},{"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"score":0,"creation_date":1480572014,"post_id":40901650,"comment_id":69020331,"body_markdown":"The only thing i can say about performance is: it&#39;s better to test it out: you can increase the thread number to hundreds, even thousands. To simulate the real case, add sleep before while:\nThread.sleep(100);\nwhile (m.find()) {\n      counter++;\n}","body":"The only thing i can say about performance is: it&#39;s better to test it out: you can increase the thread number to hundreds, even thousands. To simulate the real case, add sleep before while: Thread.sleep(100); while (m.find()) {       counter++; }"},{"owner":{"account_id":2192403,"reputation":113,"user_id":1939042,"accept_rate":100,"display_name":"Tao"},"score":0,"creation_date":1480626308,"post_id":40901650,"comment_id":69052913,"body_markdown":"The library is easy to use. I found something for lambda. Thanks","body":"The library is easy to use. I found something for lambda. Thanks"}],"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673587120,"creation_date":1480559304,"answer_id":40901650,"question_id":40901017,"body_markdown":"It can be achieved by paralledStream by [abacus-common][1]\r\n\r\n    \r\n    final Pattern p = Pattern.compile(&quot;not&quot;);\r\n    \r\n    Stream.of(fileMap).parallel(threadNum).map(entry -&gt; {\r\n        Matcher m = p.matcher(entry.getValue());\r\n        int count = 0;\r\n        while (m.find()) {\r\n            count++;\r\n        }\r\n        return Pair.of(entry.getKey(), count);\r\n    }).forEach(entry -&gt; {\r\n        N.println(&quot;File Name: &quot; + entry.getKey() + &quot;, Count: &quot; + entry.getValue());\r\n    });\r\n\r\nIf you want to learn how to write multi-thread code by yourself. here is a simple sample:\r\n\r\n    final int threadNum = 3;\r\n    final ExecutorService executorService = Executors.newFixedThreadPool(threadNum);\r\n    final Iterator&lt;Entry&lt;String, String&gt;&gt; iter = fileMap.entrySet().iterator();\r\n\r\n    for (int i = 0; i &lt; threadNum; i++) {\r\n        executorService.execute(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                Entry&lt;String, String&gt; entry = null;\r\n                while (true) {\r\n                    synchronized (iter) {\r\n                        if (iter.hasNext() == false) {\r\n                            break;\r\n                        }\r\n                        entry = iter.next();\r\n                    }\r\n\r\n                    final Matcher m = p.matcher(entry.getValue());\r\n                    int count = 0;\r\n                    while (m.find()) {\r\n                        count++;\r\n                    }\r\n\r\n                    System.out.println(&quot;File Name: &quot; + entry.getKey() + &quot;, Count: &quot; + count + &quot;, thread: &quot; + Thread.currentThread().getName());\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nDeclaration： I&#39;m the developer of abacus-common.\r\n\r\n  [1]: https://github.com/landawn/abacus-common","title":"Multithreading/Parallelizing each item of for loop JAVA","body":"<p>It can be achieved by paralledStream by <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>final Pattern p = Pattern.compile(&quot;not&quot;);\n\nStream.of(fileMap).parallel(threadNum).map(entry -&gt; {\n    Matcher m = p.matcher(entry.getValue());\n    int count = 0;\n    while (m.find()) {\n        count++;\n    }\n    return Pair.of(entry.getKey(), count);\n}).forEach(entry -&gt; {\n    N.println(&quot;File Name: &quot; + entry.getKey() + &quot;, Count: &quot; + entry.getValue());\n});\n</code></pre>\n<p>If you want to learn how to write multi-thread code by yourself. here is a simple sample:</p>\n<pre><code>final int threadNum = 3;\nfinal ExecutorService executorService = Executors.newFixedThreadPool(threadNum);\nfinal Iterator&lt;Entry&lt;String, String&gt;&gt; iter = fileMap.entrySet().iterator();\n\nfor (int i = 0; i &lt; threadNum; i++) {\n    executorService.execute(new Runnable() {\n        @Override\n        public void run() {\n            Entry&lt;String, String&gt; entry = null;\n            while (true) {\n                synchronized (iter) {\n                    if (iter.hasNext() == false) {\n                        break;\n                    }\n                    entry = iter.next();\n                }\n\n                final Matcher m = p.matcher(entry.getValue());\n                int count = 0;\n                while (m.find()) {\n                    count++;\n                }\n\n                System.out.println(&quot;File Name: &quot; + entry.getKey() + &quot;, Count: &quot; + count + &quot;, thread: &quot; + Thread.currentThread().getName());\n            }\n        }\n    });\n}\n</code></pre>\n<p>Declaration： I'm the developer of abacus-common.</p>\n"},{"comments":[{"owner":{"account_id":2192403,"reputation":113,"user_id":1939042,"accept_rate":100,"display_name":"Tao"},"score":0,"creation_date":1480626372,"post_id":40902168,"comment_id":69052949,"body_markdown":"Thanks. I was trying to do it without creating another class. But the solution is simpler. Thank you","body":"Thanks. I was trying to do it without creating another class. But the solution is simpler. Thank you"}],"tags":[],"owner":{"account_id":9757161,"reputation":805,"user_id":7233489,"display_name":"Paul Buis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480563075,"creation_date":1480563075,"answer_id":40902168,"question_id":40901017,"body_markdown":"The standard way to parallelize a loop using raw threads iterating over an array is illustrated below using your problem.\r\n\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n\r\n    public class MyClass {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tMap&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\r\n\t\tfileMap.put(&quot;Age&quot;, &quot;Age is not remotely associated with it.&quot;);\r\n\t\tfileMap.put(&quot;Gender&quot;, &quot;Gender plays a role but not that important.&quot;);\r\n\t\tfileMap.put(&quot;Money&quot;, &quot;People do not believe but this is the only factor that matters.&quot;);\r\n\t\tString[] keys = fileMap.keySet().toArray(new String[fileMap.size()]);\r\n\t\t\r\n\t\tint n = 2; //Integer.parseInt(args[0]);\r\n\t\tfor (int x=0; x&lt;n; x++)\r\n\t\t{\r\n\t\t\tRunnable myRunnable = new MyRunnable(fileMap, keys, x, n);\r\n\t\t\tThread temp= new Thread(myRunnable);\r\n\t\t\ttemp.start();\r\n\t\t\t//System.out.println(&quot;Started Thread:&quot; + x);\r\n\t\t}\r\n\t}\r\n\r\n\t    private static class MyRunnable implements Runnable {\r\n\t\t    private Map&lt;String, String&gt; fileMap;\r\n\t\t    private String[] keys;\r\n\t\t    private int threadID;\r\n\t\t    private int threadCount;\r\n\t\t    Pattern p = Pattern.compile(&quot;not&quot;);\r\n\t\t    public MyRunnable(Map&lt;String, String&gt; fileMap, String[] keys, int threadID, int threadCount) {\r\n\t\t\t    this.fileMap = fileMap;\r\n\t\t\t    this.keys = keys;\r\n\t\t\t    this.threadID = threadID;\r\n\t\t\t    this.threadCount = threadCount;\r\n\t\t    }\r\n\t\t    public void run(){\r\n\t\t\t    for (int i=threadID; i&lt;keys.length; i+= threadCount) {\r\n\t\t\t\t    int counter = 0;\r\n\t\t\t\t    Matcher m = p.matcher(fileMap.get(keys[i]));\r\n\t\t\t\t    while (m.find()) {\r\n\t\t\t\t\t    counter++;\r\n\t\t\t\t    }\r\n\t\t\t\t    synchronized(MyClass.class){\r\n\t\t\t\t\t    System.out.println(&quot;File Name: &quot; + keys[i]);\r\n\t\t\t\t\t    System.out.println(&quot;Count: &quot; + counter);\r\n\t\t\t\t\t    System.out.println(&quot;ThreadID: &quot; + threadID);\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    }    \r\n\t    }\r\n        }","title":"Multithreading/Parallelizing each item of for loop JAVA","body":"<p>The standard way to parallelize a loop using raw threads iterating over an array is illustrated below using your problem.</p>\n\n<pre><code>import java.util.*;\nimport java.util.regex.*;\n\npublic class MyClass {\n\npublic static void main(String[] args) {\n    Map&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\n    fileMap.put(\"Age\", \"Age is not remotely associated with it.\");\n    fileMap.put(\"Gender\", \"Gender plays a role but not that important.\");\n    fileMap.put(\"Money\", \"People do not believe but this is the only factor that matters.\");\n    String[] keys = fileMap.keySet().toArray(new String[fileMap.size()]);\n\n    int n = 2; //Integer.parseInt(args[0]);\n    for (int x=0; x&lt;n; x++)\n    {\n        Runnable myRunnable = new MyRunnable(fileMap, keys, x, n);\n        Thread temp= new Thread(myRunnable);\n        temp.start();\n        //System.out.println(\"Started Thread:\" + x);\n    }\n}\n\n    private static class MyRunnable implements Runnable {\n        private Map&lt;String, String&gt; fileMap;\n        private String[] keys;\n        private int threadID;\n        private int threadCount;\n        Pattern p = Pattern.compile(\"not\");\n        public MyRunnable(Map&lt;String, String&gt; fileMap, String[] keys, int threadID, int threadCount) {\n            this.fileMap = fileMap;\n            this.keys = keys;\n            this.threadID = threadID;\n            this.threadCount = threadCount;\n        }\n        public void run(){\n            for (int i=threadID; i&lt;keys.length; i+= threadCount) {\n                int counter = 0;\n                Matcher m = p.matcher(fileMap.get(keys[i]));\n                while (m.find()) {\n                    counter++;\n                }\n                synchronized(MyClass.class){\n                    System.out.println(\"File Name: \" + keys[i]);\n                    System.out.println(\"Count: \" + counter);\n                    System.out.println(\"ThreadID: \" + threadID);\n                }\n            }\n        }    \n    }\n    }\n</code></pre>\n"}],"owner":{"account_id":2192403,"reputation":113,"user_id":1939042,"accept_rate":100,"display_name":"Tao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2992,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40901505,"answer_count":3,"score":4,"last_activity_date":1673587120,"creation_date":1480554617,"question_id":40901017,"body_markdown":"I am trying to have each thread access a single item of for loop while another thread accesses the next item. I want to do this using multiple threads and number of multiple threads created will be input by the user. I have done this using executorservice and streams. I want to do this using simple threads. Is the below correct? Is there a better way? \r\n\r\n\tMap&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\r\n\tfileMap.put(&quot;Age&quot;, &quot;Age is not remotely associated with it.&quot;);\r\n\tfileMap.put(&quot;Gender&quot;, &quot;Gender plays a role but not that important.&quot;);\r\n\tfileMap.put(&quot;Money&quot;, &quot;People do not believe but this is the only factor that matters.&quot;);\r\n\r\n\tRunnable myRunnable = new Runnable(){\r\n\t\tpublic void run(){\r\n\t\t\tfor (Map.Entry&lt;String, String&gt; entry : fileMap.entrySet()) {\r\n\t\t\t\tsynchronized(this){\r\n\t\t\t\t\tint counter = 0;\r\n\t\t\t\t\tPattern p = Pattern.compile(&quot;not&quot;);\r\n\t\t\t\t\tMatcher m = p.matcher(entry.getValue());\r\n\t\t\t\t\twhile (m.find()) {\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot;File Name: &quot; + entry.getKey());\r\n\t\t\t\t\tSystem.out.println(&quot;Count: &quot; + counter);\r\n\t\t\t\t\tSystem.out.println(Thread.currentThread().getName());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t \r\n\t};\r\n \r\n\tint n = Integer.parseInt(args[0]);\r\n\tfor (int x=0; x&lt;n; x++)\r\n    {\r\n        Thread temp= new Thread(myRunnable, &quot;Thread #&quot; + x);\r\n        temp.start();\r\n        System.out.println(&quot;Started Thread:&quot; + x);\r\n    }\r\n\t\r\nAlso, is it possible to have a thread not to go back to previous item since a previous thread has already computed the value? \r\nAny help would be appreciated. Thanks","title":"Multithreading/Parallelizing each item of for loop JAVA","body":"<p>I am trying to have each thread access a single item of for loop while another thread accesses the next item. I want to do this using multiple threads and number of multiple threads created will be input by the user. I have done this using executorservice and streams. I want to do this using simple threads. Is the below correct? Is there a better way? </p>\n\n<pre><code>Map&lt;String, String&gt; fileMap = new HashMap&lt;&gt;();\nfileMap.put(\"Age\", \"Age is not remotely associated with it.\");\nfileMap.put(\"Gender\", \"Gender plays a role but not that important.\");\nfileMap.put(\"Money\", \"People do not believe but this is the only factor that matters.\");\n\nRunnable myRunnable = new Runnable(){\n    public void run(){\n        for (Map.Entry&lt;String, String&gt; entry : fileMap.entrySet()) {\n            synchronized(this){\n                int counter = 0;\n                Pattern p = Pattern.compile(\"not\");\n                Matcher m = p.matcher(entry.getValue());\n                while (m.find()) {\n                    counter++;\n                }\n                System.out.println(\"File Name: \" + entry.getKey());\n                System.out.println(\"Count: \" + counter);\n                System.out.println(Thread.currentThread().getName());\n            }\n        }\n    }    \n};\n\nint n = Integer.parseInt(args[0]);\nfor (int x=0; x&lt;n; x++)\n{\n    Thread temp= new Thread(myRunnable, \"Thread #\" + x);\n    temp.start();\n    System.out.println(\"Started Thread:\" + x);\n}\n</code></pre>\n\n<p>Also, is it possible to have a thread not to go back to previous item since a previous thread has already computed the value? \nAny help would be appreciated. Thanks</p>\n"},{"tags":["java","html","image","web-scraping"],"owner":{"account_id":20536370,"reputation":83,"user_id":15072365,"display_name":"madmonkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673586246,"creation_date":1673586246,"question_id":75105056,"body_markdown":"I&#39;m building a scraper to grab some Yugioh card images from the official Konami card database. The HTML surrounding card images is as such: `&lt;img id=&quot;card_image_0_1&quot; alt=&quot;Rescue-ACE Impulse&quot; title=&quot;Rescue-ACE Impulse&quot; class=&quot;none ui-draggable ui-draggable-handle&quot; style=&quot;position: relative; display: inline;&quot; src=&quot;/yugiohdb/get_image.action?type=1&amp;osplang=1&amp;cid=17991&amp;ciid=1&amp;;enc=_eYdjsTOl-_0X1rcfo6YwA&quot;&gt;`\r\n\r\nThe base url is: `https://www.db.yugioh-card.com`\r\n\r\nHowever, if I visit: `https://www.db.yugioh-card.com/yugiohdb/get_image.action?type=1&amp;osplang=1&amp;cid=17991&amp;ciid=1&amp;;enc=_eYdjsTOl-_0X1rcfo6YwA`, I get no image. It seems that this type of url is related to a Java framework, but regardless, I should be able to access the images since they are obvioulsy rendering client side, no? Forgive me, I haven&#39;t encountered this when scraping before.\r\n\r\nCould anyone shed some light on these types of urls, and if possible, how to access the image directly?\r\n\r\nThanks,\r\n","title":"Explain HTML img src urls","body":"<p>I'm building a scraper to grab some Yugioh card images from the official Konami card database. The HTML surrounding card images is as such: <code>&lt;img id=&quot;card_image_0_1&quot; alt=&quot;Rescue-ACE Impulse&quot; title=&quot;Rescue-ACE Impulse&quot; class=&quot;none ui-draggable ui-draggable-handle&quot; style=&quot;position: relative; display: inline;&quot; src=&quot;/yugiohdb/get_image.action?type=1&amp;osplang=1&amp;cid=17991&amp;ciid=1&amp;;enc=_eYdjsTOl-_0X1rcfo6YwA&quot;&gt;</code></p>\n<p>The base url is: <code>https://www.db.yugioh-card.com</code></p>\n<p>However, if I visit: <code>https://www.db.yugioh-card.com/yugiohdb/get_image.action?type=1&amp;osplang=1&amp;cid=17991&amp;ciid=1&amp;;enc=_eYdjsTOl-_0X1rcfo6YwA</code>, I get no image. It seems that this type of url is related to a Java framework, but regardless, I should be able to access the images since they are obvioulsy rendering client side, no? Forgive me, I haven't encountered this when scraping before.</p>\n<p>Could anyone shed some light on these types of urls, and if possible, how to access the image directly?</p>\n<p>Thanks,</p>\n"},{"tags":["java","arrays","math","proof","equation-solving"],"comments":[{"owner":{"account_id":2396163,"reputation":675,"user_id":2094911,"display_name":"Dorota Kadłubowska"},"score":0,"creation_date":1673601589,"post_id":75104990,"comment_id":132540444,"body_markdown":"Have You referenced any math books/publications about it?","body":"Have You referenced any math books/publications about it?"}],"owner":{"account_id":27516373,"reputation":1,"user_id":20997247,"display_name":"champ2291"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673585705,"creation_date":1673585705,"question_id":75104990,"body_markdown":"For leetcode problem https://leetcode.com/problems/walls-and-gates/solution/ \r\n\r\nThe BFS solution has \r\n```\r\n.......\r\nprivate static final List&lt;int[]&gt; DIRECTIONS = Arrays.asList(\r\n        new int[] { 1,  0},\r\n        new int[] {-1,  0},\r\n        new int[] { 0,  1},\r\n        new int[] { 0, -1}\r\n);\r\n.....\r\n```\r\nThis is to take turn right while traversing the matrix.  Does anyone know how to derive these vectors without memorizing them?  \r\n\r\nMy understanding is you do a cross product with (x,y,0) X (0,0,1) which gives R = yX -xY + 0Z.\r\nI think you take a partial derivative here but I&#39;m unsure of the math proof which gives the directions.\r\n\r\nPlease explain mathematically how to get vectors ```{1,0} , {-1, 0}, {0,1} , {0,-1}```\r\n\r\n\r\nMy understanding is you do a cross product with (x,y,0) X (0,0,1) which gives R = yX -xY + 0Z.\r\nI think you take a partial derivative here but I&#39;m unsure of the math proof which gives the directions.\r\n","title":"How to derive multidimensional array direction vectors?","body":"<p>For leetcode problem <a href=\"https://leetcode.com/problems/walls-and-gates/solution/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/walls-and-gates/solution/</a></p>\n<p>The BFS solution has</p>\n<pre><code>.......\nprivate static final List&lt;int[]&gt; DIRECTIONS = Arrays.asList(\n        new int[] { 1,  0},\n        new int[] {-1,  0},\n        new int[] { 0,  1},\n        new int[] { 0, -1}\n);\n.....\n</code></pre>\n<p>This is to take turn right while traversing the matrix.  Does anyone know how to derive these vectors without memorizing them?</p>\n<p>My understanding is you do a cross product with (x,y,0) X (0,0,1) which gives R = yX -xY + 0Z.\nI think you take a partial derivative here but I'm unsure of the math proof which gives the directions.</p>\n<p>Please explain mathematically how to get vectors <code>{1,0} , {-1, 0}, {0,1} , {0,-1}</code></p>\n<p>My understanding is you do a cross product with (x,y,0) X (0,0,1) which gives R = yX -xY + 0Z.\nI think you take a partial derivative here but I'm unsure of the math proof which gives the directions.</p>\n"},{"tags":["java","spring-boot","rest","intellij-idea","backend"],"comments":[{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1673576692,"post_id":75104261,"comment_id":132535964,"body_markdown":"So which part of it do you not understand: the produce/consume part, or the application/json part? Actually, take a step back first: in your own words, what **is** an API, and how do you use it? Also, please read [How much research effort is expected of Stack Overflow users?](https://meta.stackoverflow.com/questions/261592).","body":"So which part of it do you not understand: the produce/consume part, or the application/json part? Actually, take a step back first: in your own words, what <b>is</b> an API, and how do you use it? Also, please read <a href=\"https://meta.stackoverflow.com/questions/261592\">How much research effort is expected of Stack Overflow users?</a>."},{"owner":{"account_id":248321,"reputation":62668,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1673576860,"post_id":75104261,"comment_id":132535985,"body_markdown":"Does https://stackoverflow.com/questions/24661302/ answer your question? I found it by copying and pasting your question title into a search engine.","body":"Does <a href=\"https://stackoverflow.com/questions/24661302/\">stackoverflow.com/questions/24661302</a> answer your question? I found it by copying and pasting your question title into a search engine."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1673587256,"post_id":75104261,"comment_id":132537215,"body_markdown":"The duplink is slightly different in that it is asking about &quot;consuming an API&quot; versus an &quot;API that consumes something&quot;.  But the meaning of the words &quot;produce&quot; and &quot;consume&quot; are (respectively) almost identical in the two contexts.  (Looking them up in an English dictionary would probably help you too.)","body":"The duplink is slightly different in that it is asking about &quot;consuming an API&quot; versus an &quot;API that consumes something&quot;.  But the meaning of the words &quot;produce&quot; and &quot;consume&quot; are (respectively) almost identical in the two contexts.  (Looking them up in an English dictionary would probably help you too.)"}],"answers":[{"tags":[],"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673585570,"creation_date":1673585570,"answer_id":75104976,"question_id":75104261,"body_markdown":"I&#39;d like to explain what consume means, it means if you send a POST request with JSON as the content type, your service should be able to accept it and doesn&#39;t reject it.\r\n\r\nThe service sample code is here:\r\n\r\n```java\r\n\r\nimport com.fishpro.restcontroller.domain.UserDO;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@RestController\r\n@RequestMapping(&quot;user2&quot;)\r\npublic class UserRestController {\r\n\r\n    @PostMapping(&quot;/update&quot;)\r\n    @ResponseBody\r\n    public Object update(@RequestBody User user){\r\n        Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();\r\n        if(null==user){\r\n\r\n            map.put(&quot;status&quot;,3);\r\n            map.put(&quot;message&quot;,&quot;Empty Content&quot;);\r\n            return  map;\r\n        }\r\n        //更新逻辑\r\n        map.put(&quot;status&quot;,0);\r\n        return  map;\r\n    }\r\n}\r\n\r\n// The entity class\r\npublic class User {\r\n    private Integer userId;\r\n    private String userName;\r\n\r\n    public Integer getUserId() {\r\n        return userId;\r\n    }\r\n\r\n    public void setUserId(Integer userId) {\r\n        this.userId = userId;\r\n    }\r\n\r\n    public String getUserName() {\r\n        return userName;\r\n    }\r\n\r\n    public void setUserName(String userName) {\r\n        this.userName = userName;\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nLet&#39;s take look at an example(you can use IDEA HTTP Client to execute it https://www.jetbrains.com/help/idea/2022.3/http-client-in-product-code-editor.html#open-requests-collection ) :\r\n\r\nDo post to a Restful Service:\r\n\r\nPOST http://localhost:8087/user2/update, the request:\r\n\r\n```\r\nPOST /user2/update HTTP/1.1\r\nContent-Type: application/json\r\nHost: localhost:8087\r\n\r\n{\r\n  &quot;userId&quot;: 1,\r\n  &quot;userName&quot;: &quot;userName_txxhs&quot;\r\n}\r\n\r\n```\r\n\r\nAnd the response:\r\n```http request\r\nHTTP/1.1 200 \r\nContent-Type: application/json;charset=UTF-8\r\nTransfer-Encoding: chunked\r\nDate: Fri, 13 Jan 2023 04:09:57 GMT\r\n\r\n{&quot;status&quot;:0}\r\n\r\n```\r\n\r\nIt works because the HTTP client sends the correct content type and the server accepts it and produces the right one.\r\n\r\nSo in case we change the service annotation and force the client to use another Content-Type: application/text:\r\n\r\n```\r\n// ...\r\n    @PostMapping(value=&quot;/update&quot;, consumes = {&quot;application/text&quot;}, produces = {&quot;application/json&quot;})\r\n    @ResponseBody\r\n    public Object update(@ModelAttribute User user){\r\n// ...\r\n\r\n```\r\n\r\nThen the response will say that it can&#39;t consume (support) this content type:\r\n\r\n```http request\r\nHTTP/1.1 415\r\nContent-Type: application/json;charset=UTF-8\r\nTransfer-Encoding: chunked\r\nDate: Fri, 13 Jan 2023 04:41:46 GMT\r\nConnection: close\r\n\r\n{&quot;timestamp&quot;:&quot;2023-01-13T04:41:46.278+0000&quot;,&quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media Type&quot;,&quot;message&quot;:&quot;Content type &#39;application/json&#39; not supported&quot;,&quot;path&quot;:&quot;/user2/update&quot;}\r\n\r\n```\r\n\r\nSo the request has to change the `content type` and then the response will work:\r\n\r\n```http request\r\nPOST /user2/update HTTP/1.1\r\nContent-Type: application/text\r\nHost: localhost:8087\r\nConnection: close\r\nUser-Agent: RapidAPI/4.1.1 (Macintosh; OS X/13.1.0) GCDHTTPRequest\r\nContent-Length: 50\r\n\r\n{\r\n  &quot;userId&quot;: 1,\r\n  &quot;userName&quot;: &quot;userName_txxhs&quot;\r\n}\r\n\r\n```\r\n\r\nIt&#39;s much simple for the annotation `produces`,  just simply change the `Content-Type` header of the response, and yes that your Spring boot application should provide logic to convert any object to that content type.\r\n\r\nI hope this will help you to understand it, and you may find the HTTP resources and specifications helpful:\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTTP/Resources_and_specifications\r\n\r\n","title":"What does it mean to say &#39;API should be implemented which is consuming and producing “application/json”&#39;?","body":"<p>I'd like to explain what consume means, it means if you send a POST request with JSON as the content type, your service should be able to accept it and doesn't reject it.</p>\n<p>The service sample code is here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport com.fishpro.restcontroller.domain.UserDO;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@RestController\n@RequestMapping(&quot;user2&quot;)\npublic class UserRestController {\n\n    @PostMapping(&quot;/update&quot;)\n    @ResponseBody\n    public Object update(@RequestBody User user){\n        Map&lt;String,Object&gt; map=new HashMap&lt;&gt;();\n        if(null==user){\n\n            map.put(&quot;status&quot;,3);\n            map.put(&quot;message&quot;,&quot;Empty Content&quot;);\n            return  map;\n        }\n        //更新逻辑\n        map.put(&quot;status&quot;,0);\n        return  map;\n    }\n}\n\n// The entity class\npublic class User {\n    private Integer userId;\n    private String userName;\n\n    public Integer getUserId() {\n        return userId;\n    }\n\n    public void setUserId(Integer userId) {\n        this.userId = userId;\n    }\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n}\n\n\n</code></pre>\n<p>Let's take look at an example(you can use IDEA HTTP Client to execute it <a href=\"https://www.jetbrains.com/help/idea/2022.3/http-client-in-product-code-editor.html#open-requests-collection\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/2022.3/http-client-in-product-code-editor.html#open-requests-collection</a> ) :</p>\n<p>Do post to a Restful Service:</p>\n<p>POST http://localhost:8087/user2/update, the request:</p>\n<pre><code>POST /user2/update HTTP/1.1\nContent-Type: application/json\nHost: localhost:8087\n\n{\n  &quot;userId&quot;: 1,\n  &quot;userName&quot;: &quot;userName_txxhs&quot;\n}\n\n</code></pre>\n<p>And the response:</p>\n<pre class=\"lang-http prettyprint-override\"><code>HTTP/1.1 200 \nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nDate: Fri, 13 Jan 2023 04:09:57 GMT\n\n{&quot;status&quot;:0}\n\n</code></pre>\n<p>It works because the HTTP client sends the correct content type and the server accepts it and produces the right one.</p>\n<p>So in case we change the service annotation and force the client to use another Content-Type: application/text:</p>\n<pre><code>// ...\n    @PostMapping(value=&quot;/update&quot;, consumes = {&quot;application/text&quot;}, produces = {&quot;application/json&quot;})\n    @ResponseBody\n    public Object update(@ModelAttribute User user){\n// ...\n\n</code></pre>\n<p>Then the response will say that it can't consume (support) this content type:</p>\n<pre class=\"lang-http prettyprint-override\"><code>HTTP/1.1 415\nContent-Type: application/json;charset=UTF-8\nTransfer-Encoding: chunked\nDate: Fri, 13 Jan 2023 04:41:46 GMT\nConnection: close\n\n{&quot;timestamp&quot;:&quot;2023-01-13T04:41:46.278+0000&quot;,&quot;status&quot;:415,&quot;error&quot;:&quot;Unsupported Media Type&quot;,&quot;message&quot;:&quot;Content type 'application/json' not supported&quot;,&quot;path&quot;:&quot;/user2/update&quot;}\n\n</code></pre>\n<p>So the request has to change the <code>content type</code> and then the response will work:</p>\n<pre class=\"lang-http prettyprint-override\"><code>POST /user2/update HTTP/1.1\nContent-Type: application/text\nHost: localhost:8087\nConnection: close\nUser-Agent: RapidAPI/4.1.1 (Macintosh; OS X/13.1.0) GCDHTTPRequest\nContent-Length: 50\n\n{\n  &quot;userId&quot;: 1,\n  &quot;userName&quot;: &quot;userName_txxhs&quot;\n}\n\n</code></pre>\n<p>It's much simple for the annotation <code>produces</code>,  just simply change the <code>Content-Type</code> header of the response, and yes that your Spring boot application should provide logic to convert any object to that content type.</p>\n<p>I hope this will help you to understand it, and you may find the HTTP resources and specifications helpful:</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Resources_and_specifications\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Resources_and_specifications</a></p>\n"}],"owner":{"account_id":17774746,"reputation":128,"user_id":12907379,"display_name":"mdaabis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1673587070,"accepted_answer_id":75104976,"answer_count":1,"score":0,"last_activity_date":1673585570,"creation_date":1673576493,"question_id":75104261,"body_markdown":"I am aware what an API is but I do not actually understand what it means when we say consumes or produces application/json in the context of a REST API. I have found several sources explaining how to do it but not what it actually is. I am using Java with SpringBoot in IntelliJ, so any examples relevant to that would be greatly appreciated.","title":"What does it mean to say &#39;API should be implemented which is consuming and producing “application/json”&#39;?","body":"<p>I am aware what an API is but I do not actually understand what it means when we say consumes or produces application/json in the context of a REST API. I have found several sources explaining how to do it but not what it actually is. I am using Java with SpringBoot in IntelliJ, so any examples relevant to that would be greatly appreciated.</p>\n"},{"tags":["java","floating-point","precision","floating-accuracy"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673538135,"post_id":75098720,"comment_id":132526275,"body_markdown":"What is the result of `(1+sqrt(5))/2`.... is it an `int`? And is that `int` in fact `1`?","body":"What is the result of <code>(1+sqrt(5))&#47;2</code>.... is it an <code>int</code>? And is that <code>int</code> in fact <code>1</code>?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1673538396,"post_id":75098720,"comment_id":132526358,"body_markdown":"@ElliottFrisch, no of course not, it&#39;s defined to be a `double` by the Java specification. Java&#39;s `Math.sqrt` always returns `double`, and every other number gets promoted to double because it takes part in an operation involving a `double`.","body":"@ElliottFrisch, no of course not, it&#39;s defined to be a <code>double</code> by the Java specification. Java&#39;s <code>Math.sqrt</code> always returns <code>double</code>, and every other number gets promoted to double because it takes part in an operation involving a <code>double</code>."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1673538451,"post_id":75098720,"comment_id":132526377,"body_markdown":"So `sqrt` is `Math.sqrt`? Some reason you aren&#39;t logging the values?","body":"So <code>sqrt</code> is <code>Math.sqrt</code>? Some reason you aren&#39;t logging the values?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1673538621,"post_id":75098720,"comment_id":132526434,"body_markdown":"@ElliottFrisch I wrote this test after printing out the values returned by `f(variety_of_doubles)` and seeing that it always completes (never goes into infinite loop) and always returns 1.618....","body":"@ElliottFrisch I wrote this test after printing out the values returned by <code>f(variety_of_doubles)</code> and seeing that it always completes (never goes into infinite loop) and always returns 1.618...."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":1,"creation_date":1673538654,"post_id":75098720,"comment_id":132526456,"body_markdown":"This is a great example of the sad paradox of floating-point arithmetic.  It&#39;s not perfect, meaning it does have some problems, and people always notice problems, so they loom large, and plenty of people get the — rather badly mistaken — impression that floating point arithmetic is &quot;always inaccurate&quot; or &quot;terrible&quot; or &quot;broken&quot;.  But in fact, the IEEE-754 standard was written very carefully, and it&#39;s designed to always  give you the best possible results you can, within certain immovable constraints.  And it *does* often work very well, as your code demonstrates!","body":"This is a great example of the sad paradox of floating-point arithmetic.  It&#39;s not perfect, meaning it does have some problems, and people always notice problems, so they loom large, and plenty of people get the — rather badly mistaken — impression that floating point arithmetic is &quot;always inaccurate&quot; or &quot;terrible&quot; or &quot;broken&quot;.  But in fact, the IEEE-754 standard was written very carefully, and it&#39;s designed to always  give you the best possible results you can, within certain immovable constraints.  And it <i>does</i> often work very well, as your code demonstrates!"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":1,"creation_date":1673538658,"post_id":75098720,"comment_id":132526459,"body_markdown":"Although, with that said, it doesn&#39;t *always* work perfectly, which is why you can&#39;t always expect an exactly-equal result such as you get here.  (Also I think Java isn&#39;t exactly defined to use strict IEEE-754, so my argument breaks down a little.)","body":"Although, with that said, it doesn&#39;t <i>always</i> work perfectly, which is why you can&#39;t always expect an exactly-equal result such as you get here.  (Also I think Java isn&#39;t exactly defined to use strict IEEE-754, so my argument breaks down a little.)"},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":3,"creation_date":1673538778,"post_id":75098720,"comment_id":132526507,"body_markdown":"I think the bottom line is that you — perhaps accidentally — picked a good algorithm, that was guaranteed to converge, and that never ended up oscillating.  Most of the time, when you&#39;re computing a result via an infinite sequence like this, you do need to use an approximately-equal termination test, otherwise your loop may run forever if it ends up oscillating through values that are alternately a little above and a little below the &quot;true&quot; result.","body":"I think the bottom line is that you — perhaps accidentally — picked a good algorithm, that was guaranteed to converge, and that never ended up oscillating.  Most of the time, when you&#39;re computing a result via an infinite sequence like this, you do need to use an approximately-equal termination test, otherwise your loop may run forever if it ends up oscillating through values that are alternately a little above and a little below the &quot;true&quot; result."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1673538948,"post_id":75098720,"comment_id":132526576,"body_markdown":"@SteveSummit As of JEP-306 and Java 17, Java is back to using strict IEEE-754 even on Intel. https://howtodoinjava.com/java/new-features/","body":"@SteveSummit As of JEP-306 and Java 17, Java is back to using strict IEEE-754 even on Intel. <a href=\"https://howtodoinjava.com/java/new-features/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/new-features</a>"},{"owner":{"account_id":967624,"reputation":10828,"user_id":990750,"accept_rate":50,"display_name":"Tarik"},"score":0,"creation_date":1673597687,"post_id":75098720,"comment_id":132539300,"body_markdown":"@SteveSummit Could you put an answer out of your comments. I would love to upvote.","body":"@SteveSummit Could you put an answer out of your comments. I would love to upvote."}],"answers":[{"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1673538851,"post_id":75098968,"comment_id":132526539,"body_markdown":"I know, but the real question is &quot;why was I lucky&quot;? I would have expected exact results if I was dealing with numbers that can be exactly represented in floating-point binary, such as negative powers of 2. But in fact this number is an irrational number.","body":"I know, but the real question is &quot;why was I lucky&quot;? I would have expected exact results if I was dealing with numbers that can be exactly represented in floating-point binary, such as negative powers of 2. But in fact this number is an irrational number."},{"owner":{"account_id":4865492,"reputation":45981,"user_id":3923896,"accept_rate":69,"display_name":"Steve Summit"},"score":3,"creation_date":1673538994,"post_id":75098968,"comment_id":132526600,"body_markdown":"Yes, phi is irrational, but it turns out that phi′, which is the floating-point value (as computed by your program) that&#39;s closest to phi, is exactly equal to phi′. :-)","body":"Yes, phi is irrational, but it turns out that phi′, which is the floating-point value (as computed by your program) that&#39;s closest to phi, is exactly equal to phi′. :-)"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1673539981,"post_id":75098968,"comment_id":132527015,"body_markdown":"@SteveSummit true. But I was surprised that two very different ways of calculating phi came to the exact same approximation. I guess I shouldn&#39;t have been, since there is only one possible value that is &quot;closest to phi&quot;.","body":"@SteveSummit true. But I was surprised that two very different ways of calculating phi came to the exact same approximation. I guess I shouldn&#39;t have been, since there is only one possible value that is &quot;closest to phi&quot;."}],"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673539558,"creation_date":1673538655,"answer_id":75098968,"question_id":75098720,"body_markdown":"You were just lucky, in general you don&#39;t get exact equality. Try this for example:\r\n\r\n    public static void main(String[] args) {\r\n        var s = 0.0;\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            s += 0.1;\r\n        }\r\n        System.out.println(s == 1.0);\r\n    }\r\n\r\nIn your concrete example one would have to do a careful analysis to prove that your iteration always converges to the floating point number closest to phi. If sqrt also returns the closest floating point number to the exact root we would get exact equality.","title":"Floating-point equality unexpectedly working","body":"<p>You were just lucky, in general you don't get exact equality. Try this for example:</p>\n<pre><code>public static void main(String[] args) {\n    var s = 0.0;\n    for (int i = 0; i &lt; 10; i++) {\n        s += 0.1;\n    }\n    System.out.println(s == 1.0);\n}\n</code></pre>\n<p>In your concrete example one would have to do a careful analysis to prove that your iteration always converges to the floating point number closest to phi. If sqrt also returns the closest floating point number to the exact root we would get exact equality.</p>\n"},{"tags":[],"owner":{"account_id":2802349,"reputation":146437,"user_id":2410359,"accept_rate":87,"display_name":"chux - Reinstate Monica"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673585546,"creation_date":1673584773,"answer_id":75104901,"question_id":75098720,"body_markdown":"&gt; ... and to my surprise it seems to always work:\r\n\r\nNot _always_.\r\n\r\nWhen I tried `f(-1/1.6180339887498949)`, the `x` and `y` values oscillated between two floating point values that differed in the last few bits [@Steve Summit](https://stackoverflow.com/questions/75098720/floating-point-equality-unexpectedly-working/75104901#comment132526507_75098720). Thus an infinite loop.\r\n\r\n    x:-0.61803398874989490  y:-0.61803398874989468   // Decimal notation\r\n    x:-0x1.3c6ef372fe950p-1 y:-0x1.3c6ef372fe94ep-1  // Hex notation\r\n    \r\n    x:-0.61803398874989479  y:-0.6180339887498949\r\n    x:-0x1.3c6ef372fe94fp-1 y:-0x1.3c6ef372fe950p-1\r\n    \r\n    x:-0.61803398874989490  y:-0.61803398874989468\r\n    x:-0x1.3c6ef372fe950p-1 y:-0x1.3c6ef372fe94ep-1\r\n\r\n`f(some_starting_x)` generally converges to render an `x`, such that `1 + 1 / x` is `x` again and so meeting the stopping condition.\r\n\r\nBetter routines can prove that if `x` is reasonably close, the `while` loop will eventually get close to the desired answer, yet even then, an oscillation, as shown above is possible.  Thus using an **iteration limit** or **close enough test** is needed.  Usually the 2 oscillation values, when close, they are _massaged_ (e.g. averaged)  to form the best answer.  If not close, the looping simply failed to find a stable answer.\r\n\r\n----\r\n\r\n&gt; Can anyone tell me why I never come across a situation where the two floating-point numbers are different by a very small amount?\r\n\r\nInadequate testing.\r\n\r\n----\r\n\r\n**Morale of the story**:\r\n\r\nDo not rely on only floating point equality, except in select cases.  \r\n`f()` was not a select case and deserved additional stopping code.\r\n\r\n----\r\n\r\nRef: Two `x` with math property: `x = 1 + 1/x`: \r\n\r\n    x1 = 1.6180339887498948482045868343656...\r\n    x2 = -0.61803398874989484820458683436564...\r\n\r\nNote `x1*x2 == -1`.  `x1` is the [Golden_ratio φ](https://en.wikipedia.org/wiki/Golden_ratio).","title":"Floating-point equality unexpectedly working","body":"<blockquote>\n<p>... and to my surprise it seems to always work:</p>\n</blockquote>\n<p>Not <em>always</em>.</p>\n<p>When I tried <code>f(-1/1.6180339887498949)</code>, the <code>x</code> and <code>y</code> values oscillated between two floating point values that differed in the last few bits <a href=\"https://stackoverflow.com/questions/75098720/floating-point-equality-unexpectedly-working/75104901#comment132526507_75098720\">@Steve Summit</a>. Thus an infinite loop.</p>\n<pre><code>x:-0.61803398874989490  y:-0.61803398874989468   // Decimal notation\nx:-0x1.3c6ef372fe950p-1 y:-0x1.3c6ef372fe94ep-1  // Hex notation\n\nx:-0.61803398874989479  y:-0.6180339887498949\nx:-0x1.3c6ef372fe94fp-1 y:-0x1.3c6ef372fe950p-1\n\nx:-0.61803398874989490  y:-0.61803398874989468\nx:-0x1.3c6ef372fe950p-1 y:-0x1.3c6ef372fe94ep-1\n</code></pre>\n<p><code>f(some_starting_x)</code> generally converges to render an <code>x</code>, such that <code>1 + 1 / x</code> is <code>x</code> again and so meeting the stopping condition.</p>\n<p>Better routines can prove that if <code>x</code> is reasonably close, the <code>while</code> loop will eventually get close to the desired answer, yet even then, an oscillation, as shown above is possible.  Thus using an <strong>iteration limit</strong> or <strong>close enough test</strong> is needed.  Usually the 2 oscillation values, when close, they are <em>massaged</em> (e.g. averaged)  to form the best answer.  If not close, the looping simply failed to find a stable answer.</p>\n<hr />\n<blockquote>\n<p>Can anyone tell me why I never come across a situation where the two floating-point numbers are different by a very small amount?</p>\n</blockquote>\n<p>Inadequate testing.</p>\n<hr />\n<p><strong>Morale of the story</strong>:</p>\n<p>Do not rely on only floating point equality, except in select cases.<br />\n<code>f()</code> was not a select case and deserved additional stopping code.</p>\n<hr />\n<p>Ref: Two <code>x</code> with math property: <code>x = 1 + 1/x</code>:</p>\n<pre><code>x1 = 1.6180339887498948482045868343656...\nx2 = -0.61803398874989484820458683436564...\n</code></pre>\n<p>Note <code>x1*x2 == -1</code>.  <code>x1</code> is the <a href=\"https://en.wikipedia.org/wiki/Golden_ratio\" rel=\"nofollow noreferrer\">Golden_ratio φ</a>.</p>\n"}],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75104901,"answer_count":2,"score":3,"last_activity_date":1673585546,"creation_date":1673537462,"question_id":75098720,"body_markdown":"We are often taught that floating-point numbers should not be compared for exact equality. However, the following function, which returns the Golden Ratio when passed any positive number, does in fact compare doubles for equality and to my surprise it seems to always work:\r\n\r\n    public static double f(double x) {\r\n        double y;\r\n        while ((y = 1 + 1 / x) != x)\r\n            x = (x + y) / 2;\r\n        return x;\r\n    }\r\n\r\n    @Test\r\n    void test() {\r\n        assertEquals((1 + sqrt(5)) / 2, f(1.0));  // Passes!\r\n    }\r\n\r\n\r\nI thought that maybe it works for some input arguments but not others. But even if I use JQwik&#39;s property testing, it still works!\r\n\r\n    @Property\r\n    void test2(@ForAll @Positive double x) {\r\n        assertEquals((1 + sqrt(5)) / 2, f(x));  // Always passes!\r\n    }\r\n\r\nCan anyone tell me why I never come across a situation where the two floating-point numbers are different by a very small amount?","title":"Floating-point equality unexpectedly working","body":"<p>We are often taught that floating-point numbers should not be compared for exact equality. However, the following function, which returns the Golden Ratio when passed any positive number, does in fact compare doubles for equality and to my surprise it seems to always work:</p>\n<pre><code>public static double f(double x) {\n    double y;\n    while ((y = 1 + 1 / x) != x)\n        x = (x + y) / 2;\n    return x;\n}\n\n@Test\nvoid test() {\n    assertEquals((1 + sqrt(5)) / 2, f(1.0));  // Passes!\n}\n</code></pre>\n<p>I thought that maybe it works for some input arguments but not others. But even if I use JQwik's property testing, it still works!</p>\n<pre><code>@Property\nvoid test2(@ForAll @Positive double x) {\n    assertEquals((1 + sqrt(5)) / 2, f(x));  // Always passes!\n}\n</code></pre>\n<p>Can anyone tell me why I never come across a situation where the two floating-point numbers are different by a very small amount?</p>\n"},{"tags":["java","asynchronous","concurrency","nonblocking"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1673576845,"post_id":75104229,"comment_id":132535980,"body_markdown":"do something akin to multithreading non-blocking I/O, I think it&#39;s high performance.","body":"do something akin to multithreading non-blocking I/O, I think it&#39;s high performance."},{"owner":{"account_id":23533277,"reputation":1,"user_id":17578581,"display_name":"Andrew Law"},"score":0,"creation_date":1673577126,"post_id":75104229,"comment_id":132536003,"body_markdown":"But the time for a single calling is so short. Multithreading needs context switch, and it&#39;s high overhead right?","body":"But the time for a single calling is so short. Multithreading needs context switch, and it&#39;s high overhead right?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1673613454,"post_id":75104229,"comment_id":132544131,"body_markdown":"*But the time for a single calling is so short.* - If this means that the workload is not heavy that it is worth to create multiple threads, then you can consider using a single thread with a task queue such as single thread `ExecutorService` or you have tried it?","body":"<i>But the time for a single calling is so short.</i> - If this means that the workload is not heavy that it is worth to create multiple threads, then you can consider using a single thread with a task queue such as single thread <code>ExecutorService</code> or you have tried it?"}],"owner":{"account_id":23533277,"reputation":1,"user_id":17578581,"display_name":"Andrew Law"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673585084,"creation_date":1673576111,"question_id":75104229,"body_markdown":"Suppose I&#39;ve got a RESTful API `/getDivision/dID=?`, the **?** need to be replaced with the actual division ID. \r\n\r\nAssuming the dID=1, it return a JSON like below:\r\n\r\n```JSON\r\n{\r\n    &quot;division&quot;: 1\r\n    &quot;subdivisions&quot;: &quot;2,3,4,5&quot;,\r\n    &quot;status&quot;: true\r\n}\r\n```\r\n\r\n\r\nThe return JSON contains the subdivision IDs of the dID=1 split by commas. \r\n\r\nNote that a subdivision also has its own subdivisions and the top division id is 1. So it is a hierarchical API calling.\r\n\r\n\r\nNow, in Java, I want to collect all the division IDs in a thread-safe collection. How can I run the routine concurrently and efficiently?\r\n\r\nI&#39;ve tried multithreading, but I think it&#39;s high performance overhead. Can I do something akin to non-blocking I/O?","title":"How to call plenty of hierarchical RESTful APIs simultaneously and efficiently in Java","body":"<p>Suppose I've got a RESTful API <code>/getDivision/dID=?</code>, the <strong>?</strong> need to be replaced with the actual division ID.</p>\n<p>Assuming the dID=1, it return a JSON like below:</p>\n<pre><code>{\n    &quot;division&quot;: 1\n    &quot;subdivisions&quot;: &quot;2,3,4,5&quot;,\n    &quot;status&quot;: true\n}\n</code></pre>\n<p>The return JSON contains the subdivision IDs of the dID=1 split by commas.</p>\n<p>Note that a subdivision also has its own subdivisions and the top division id is 1. So it is a hierarchical API calling.</p>\n<p>Now, in Java, I want to collect all the division IDs in a thread-safe collection. How can I run the routine concurrently and efficiently?</p>\n<p>I've tried multithreading, but I think it's high performance overhead. Can I do something akin to non-blocking I/O?</p>\n"},{"tags":["java","spring-boot","concurrency","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":7023209,"reputation":980,"user_id":5381672,"display_name":"Sridhar Patnaik"},"score":0,"creation_date":1673583574,"post_id":75103005,"comment_id":132536755,"body_markdown":"Did you tried using cyclic barrier?","body":"Did you tried using cyclic barrier?"}],"answers":[{"comments":[{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1673584821,"post_id":75103832,"comment_id":132536881,"body_markdown":"giving this a try!","body":"giving this a try!"}],"tags":[],"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673571869,"creation_date":1673571492,"answer_id":75103832,"question_id":75103005,"body_markdown":"I think you are best off creating a service layer with an async method.\r\n```Java\r\nimport org.springframework.data.repository.Repository;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.scheduling.annotation.AsyncResult;\r\n\r\n@Service\r\npublic class MyPojoPersister {\r\n\r\n  @Async\r\n  @CompletableFuture&lt;MyPojo&gt; savePojo(Repository repo, MyPojo pojo) {\r\n    return CompletableFuture.completedFuture(repo.save(pojo));\r\n  }\r\n}\r\n```\r\nThen your controller would look something like this:\r\n```Java\r\n@RestController\r\npublic class SaveController {\r\n\r\n    @Autowired\r\n    MyElasticRepository myElasticRepository;\r\n    @Autowired\r\n    MyMongoRepository myMongoRepository;\r\n    @Autowired\r\n    MyAARepository myAARepository;\r\n    \r\n    //@Autowired MyBBRepository, MyCCRepository, ... MyYYRepository\r\n    \r\n    @Autowired\r\n    MyZZRepository myZZRepository;\r\n\r\n    @Autowired MyPojoPersister myPojoPersister;\r\n\r\n    @GetMapping(&quot;/saveSequential&quot;)\r\n    public String saveSequential(@RequestBody MyPojo myPojo) {\r\n        var futureList = Stream.of(myElasticRepository, myMongoRepository, myAARepository, myZZRepository)\r\n          .map(repo -&gt; myPojoPersister.savePojo(repo, myPojo))\r\n          .collect(Collectors.toList());\r\n        CompletableFuture.allOf(futureList.toArray(new CompletableFuture[list.size()])).join();\r\n\r\n        var someString = futureList.stream()\r\n          .map(CompletableFuture::get())\r\n          .map(MyPojo::getId())\r\n          .collect(Collectors.joining(&quot;,&quot;));      \r\n  \r\n        return someString;\r\n    }\r\n}\r\n```\r\nI added some assumptions that you want to return a comma separated list of the ids of the pojos since they would presumably be different for each repo. But do whatever you need to with the values of the futures.\r\n\r\nDon&#39;t forget to enable asynchronicity!\r\n```Java\r\n@SpringBootApplication\r\n@EnableAsync\r\npublic class MyPojoApplication {\r\n  public static void main(String[] args) {\r\n    SpringApplication.run(AsyncMethodApplication.class, args).close();\r\n  }\r\n}\r\n```","title":"Spring Boot + Spring Data: Concurrent/parallel save/insert into databases","body":"<p>I think you are best off creating a service layer with an async method.</p>\n<pre><code>import org.springframework.data.repository.Repository;\nimport java.util.concurrent.CompletableFuture;\nimport org.springframework.stereotype.Service;\nimport org.springframework.scheduling.annotation.AsyncResult;\n\n@Service\npublic class MyPojoPersister {\n\n  @Async\n  @CompletableFuture&lt;MyPojo&gt; savePojo(Repository repo, MyPojo pojo) {\n    return CompletableFuture.completedFuture(repo.save(pojo));\n  }\n}\n</code></pre>\n<p>Then your controller would look something like this:</p>\n<pre><code>@RestController\npublic class SaveController {\n\n    @Autowired\n    MyElasticRepository myElasticRepository;\n    @Autowired\n    MyMongoRepository myMongoRepository;\n    @Autowired\n    MyAARepository myAARepository;\n    \n    //@Autowired MyBBRepository, MyCCRepository, ... MyYYRepository\n    \n    @Autowired\n    MyZZRepository myZZRepository;\n\n    @Autowired MyPojoPersister myPojoPersister;\n\n    @GetMapping(&quot;/saveSequential&quot;)\n    public String saveSequential(@RequestBody MyPojo myPojo) {\n        var futureList = Stream.of(myElasticRepository, myMongoRepository, myAARepository, myZZRepository)\n          .map(repo -&gt; myPojoPersister.savePojo(repo, myPojo))\n          .collect(Collectors.toList());\n        CompletableFuture.allOf(futureList.toArray(new CompletableFuture[list.size()])).join();\n\n        var someString = futureList.stream()\n          .map(CompletableFuture::get())\n          .map(MyPojo::getId())\n          .collect(Collectors.joining(&quot;,&quot;));      \n  \n        return someString;\n    }\n}\n</code></pre>\n<p>I added some assumptions that you want to return a comma separated list of the ids of the pojos since they would presumably be different for each repo. But do whatever you need to with the values of the futures.</p>\n<p>Don't forget to enable asynchronicity!</p>\n<pre><code>@SpringBootApplication\n@EnableAsync\npublic class MyPojoApplication {\n  public static void main(String[] args) {\n    SpringApplication.run(AsyncMethodApplication.class, args).close();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1673584793,"creation_date":1673562999,"question_id":75103005,"body_markdown":"Small question regarding SpringBoot and SpringData, and how to save a pojo into many databases concurrently, in parallel please.\r\n\r\nI have a very simple SpringBoot application which does nothing but expose a rest endpoint to save a pojo:\r\n\r\n```\r\n@RestController\r\npublic class SaveController {\r\n\r\n    @Autowired\r\n    MyElasticRepository myElasticRepository;\r\n    @Autowired\r\n    MyMongoRepository myMongoRepository;\r\n    @Autowired\r\n    MyAARepository myAARepository;\r\n    \r\n    //@Autowired MyBBRepository, MyCCRepository, ... MyYYRepository\r\n    \r\n    @Autowired\r\n    MyZZRepository myZZRepository;\r\n\r\n    @GetMapping(&quot;/saveSequential&quot;)\r\n    public String saveSequential(@RequestBody MyPojo myPojo) {\r\n        MyPojo myPojoFromElastic = myElasticRepository.save(myPojo);\r\n        MyPojo myPojoFromMongo = myMongoRepository.save(myPojo);\r\n        MyPojo myPojoFromAA = myAARepository.save(myPojo);\r\n        // myBBRepository.save(myPojo) myCCRepository.save(myPojo) ... myYYRepository.save(myPojo)\r\n        MyPojo myPojoFromZZ = myZZRepository.save(myPojo);\r\n        return ...;\r\n    }\r\n}\r\n```\r\n\r\nHowever, the pojo needs to be saved in many databases, by many, imagine a good dozens of different databases.\r\n\r\nAs of now, as you can see from the code, the pojo is saved in each of the databases sequentially. I timed the application, as well as monitoring the DBs, the inserts come one after another.\r\n\r\nHypothetically, if one save takes one second, and I have 20 DB, the rest endpoints takes 20ish seconds to complete.\r\n\r\nSince the operation is not dependent of any others, i.e. saving the pojo in Mongo, has no dependency on the data saved in Oracle, etc... I would like to optimize the performance by doing the operation in parallel. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nI.e, if each save takes one second, and I have 20 DBs, to parallel the save, which should still take something like oneish second. (I am exaggerating)\r\n\r\nFor the sake of the question, let us imagine the machine doing the save has many cores, is a very good machine, etc.\r\n\r\n\r\nWhat I tried:\r\n\r\nI tried using the ```@Async``` annotation on the repository, such as:\r\n\r\n```\r\n@Async\r\n@Repository\r\npublic interface MyElasticRepository extends ElasticsearchRepository&lt;MyPojo, String&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\nBut unfortunately, timing the endpoint, it still takes a sequential time.\r\n\r\nMay I ask how to achieve this parallel, concurrent save please?\r\nIf possible, I would like to leverage existing features of Spring Framework, and not having to rewrite boiler plate concurrency code.\r\n\r\nThank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vKObd.png","title":"Spring Boot + Spring Data: Concurrent/parallel save/insert into databases","body":"<p>Small question regarding SpringBoot and SpringData, and how to save a pojo into many databases concurrently, in parallel please.</p>\n<p>I have a very simple SpringBoot application which does nothing but expose a rest endpoint to save a pojo:</p>\n<pre><code>@RestController\npublic class SaveController {\n\n    @Autowired\n    MyElasticRepository myElasticRepository;\n    @Autowired\n    MyMongoRepository myMongoRepository;\n    @Autowired\n    MyAARepository myAARepository;\n    \n    //@Autowired MyBBRepository, MyCCRepository, ... MyYYRepository\n    \n    @Autowired\n    MyZZRepository myZZRepository;\n\n    @GetMapping(&quot;/saveSequential&quot;)\n    public String saveSequential(@RequestBody MyPojo myPojo) {\n        MyPojo myPojoFromElastic = myElasticRepository.save(myPojo);\n        MyPojo myPojoFromMongo = myMongoRepository.save(myPojo);\n        MyPojo myPojoFromAA = myAARepository.save(myPojo);\n        // myBBRepository.save(myPojo) myCCRepository.save(myPojo) ... myYYRepository.save(myPojo)\n        MyPojo myPojoFromZZ = myZZRepository.save(myPojo);\n        return ...;\n    }\n}\n</code></pre>\n<p>However, the pojo needs to be saved in many databases, by many, imagine a good dozens of different databases.</p>\n<p>As of now, as you can see from the code, the pojo is saved in each of the databases sequentially. I timed the application, as well as monitoring the DBs, the inserts come one after another.</p>\n<p>Hypothetically, if one save takes one second, and I have 20 DB, the rest endpoints takes 20ish seconds to complete.</p>\n<p>Since the operation is not dependent of any others, i.e. saving the pojo in Mongo, has no dependency on the data saved in Oracle, etc... I would like to optimize the performance by doing the operation in parallel.</p>\n<p><a href=\"https://i.stack.imgur.com/vKObd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vKObd.png\" alt=\"enter image description here\" /></a></p>\n<p>I.e, if each save takes one second, and I have 20 DBs, to parallel the save, which should still take something like oneish second. (I am exaggerating)</p>\n<p>For the sake of the question, let us imagine the machine doing the save has many cores, is a very good machine, etc.</p>\n<p>What I tried:</p>\n<p>I tried using the <code>@Async</code> annotation on the repository, such as:</p>\n<pre><code>@Async\n@Repository\npublic interface MyElasticRepository extends ElasticsearchRepository&lt;MyPojo, String&gt; {\n\n}\n\n</code></pre>\n<p>But unfortunately, timing the endpoint, it still takes a sequential time.</p>\n<p>May I ask how to achieve this parallel, concurrent save please?\nIf possible, I would like to leverage existing features of Spring Framework, and not having to rewrite boiler plate concurrency code.</p>\n<p>Thank you!</p>\n"},{"tags":["java","maven","pom.xml","versioning","cicd"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673593891,"post_id":75103540,"comment_id":132538332,"body_markdown":"On the consuming side you should go and do automatically upgrading those dependencies like Dependabot/Renovate do... that will remove the burden to upgrade manually ...","body":"On the consuming side you should go and do automatically upgrading those dependencies like Dependabot/Renovate do... that will remove the burden to upgrade manually ..."}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673583360,"creation_date":1673583360,"answer_id":75104805,"question_id":75103540,"body_markdown":"In general, what you are asking/talking about sounds so obvious, that there is nothing to discuss. My two cents:\r\n\r\n1. most probably, the idea about releasing new version upon integrating pull request into branch won&#39;t work, the reasoning is following:\r\n\r\n   in order to release new version you need to change the value `&lt;version&gt;` of element in `pom.xml`, `maven-release-plugin` performs that in two commits: first one changes `-SNAPSHOT` (current development version) to &quot;release&quot; and the second one changes &quot;release&quot; to `-SNAPSHOT` (next development version), such behaviour of `maven-release-plugin` is reasonable, however, you may face with the following &quot;issues&quot;:\r\n   - a lot of noise in commit history from `maven-release-plugin`\r\n   - `maven-release-plugin` will conflict with simultaneous integrations, basically it will fail to commit into stale branch \r\n\r\n   we prefer to release intermediate versions (`pre-release`/`build` in semver terms) for such cases (either automatically or on demand), something like:\r\n\r\n```shell\r\n mvn -e --batch-mode -Prelease release:clean release:prepare \\\r\n  -Darguments=&#39;-DaltReleaseDeploymentRepository=... -DaltSnapshotDeploymentRepository=... -DskipTests=true&#39; \\ \r\n  -DreleaseVersion=X.Y.Z-BUILDNO \\\r\n  -DdevelopmentVersion=X.Y.Z-SNAPSHOT \\\r\n  -DpushChanges=false \\\r\n  -DpreparationGoals=&quot;clean deploy&quot;\r\n```\r\n\r\n2. the most challenging part is actually a branching strategy: say, the current development version in `develop`/`main` branch is `X.Y.Z-SNAPSHOT`, the question is: &quot;if we are going to release new version of our software what would be the next development version?&quot; (`maven-release-plugin` by default suggests `X.Y.(Z+1)-SNAPSHOT`, however in that case you will fail to release `bugfix` release due to other (possibly conflicting/undesirable) changes in `develop`/`main` branch)","title":"Maven dependency versioning for internal java dependencies","body":"<p>In general, what you are asking/talking about sounds so obvious, that there is nothing to discuss. My two cents:</p>\n<ol>\n<li><p>most probably, the idea about releasing new version upon integrating pull request into branch won't work, the reasoning is following:</p>\n<p>in order to release new version you need to change the value <code>&lt;version&gt;</code> of element in <code>pom.xml</code>, <code>maven-release-plugin</code> performs that in two commits: first one changes <code>-SNAPSHOT</code> (current development version) to &quot;release&quot; and the second one changes &quot;release&quot; to <code>-SNAPSHOT</code> (next development version), such behaviour of <code>maven-release-plugin</code> is reasonable, however, you may face with the following &quot;issues&quot;:</p>\n<ul>\n<li>a lot of noise in commit history from <code>maven-release-plugin</code></li>\n<li><code>maven-release-plugin</code> will conflict with simultaneous integrations, basically it will fail to commit into stale branch</li>\n</ul>\n<p>we prefer to release intermediate versions (<code>pre-release</code>/<code>build</code> in semver terms) for such cases (either automatically or on demand), something like:</p>\n</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code> mvn -e --batch-mode -Prelease release:clean release:prepare \\\n  -Darguments='-DaltReleaseDeploymentRepository=... -DaltSnapshotDeploymentRepository=... -DskipTests=true' \\ \n  -DreleaseVersion=X.Y.Z-BUILDNO \\\n  -DdevelopmentVersion=X.Y.Z-SNAPSHOT \\\n  -DpushChanges=false \\\n  -DpreparationGoals=&quot;clean deploy&quot;\n</code></pre>\n<ol start=\"2\">\n<li>the most challenging part is actually a branching strategy: say, the current development version in <code>develop</code>/<code>main</code> branch is <code>X.Y.Z-SNAPSHOT</code>, the question is: &quot;if we are going to release new version of our software what would be the next development version?&quot; (<code>maven-release-plugin</code> by default suggests <code>X.Y.(Z+1)-SNAPSHOT</code>, however in that case you will fail to release <code>bugfix</code> release due to other (possibly conflicting/undesirable) changes in <code>develop</code>/<code>main</code> branch)</li>\n</ol>\n"}],"owner":{"account_id":27514822,"reputation":11,"user_id":20995981,"display_name":"Dave"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673583360,"creation_date":1673567903,"question_id":75103540,"body_markdown":"# Versioning of Internally Developed Dependencies\r\n\r\nI&#39;m looking for some examples/ best practices of how other teams are covering this in their projects. \r\n\r\nI have a medium sized development team/s who are developing Java applications using Maven as a build tool.\r\n\r\nWe have a number of dependencies developed in house used by one or more other applications; all using a CI tool to do all the good stuff of running tests and building etc.\r\n\r\nMy question is around the best practice of the versioning of the internal dependencies in the application POM files. \r\n\r\nMy instinct is that the CI should build the dependency and tag the git repo when a change has been merged into its main branch and the semver of the package bumped, and if a developer and their application requires that version, then the POM file should be updated as such and the application built with that baked in, using the CI.\r\n\r\nThat of course would add a greater overhead, rather than just using the latest version of dependencies each time the application build but at least you&#39;re targeting exactly what you want for each application; albeit they all may be running different versions of the dependency.\r\n\r\nAside from pushing out security updates, that may not be too undesirable?\r\n\r\nMy fear is that if two developers are independently developing a feature on the same application and a dependency that there may be a possibility of introducing a regression of a version. Though I imagine this would be caught as a conflict in git or at least should be visible as a change, and it would be the developers responsibility to check the version they are merging isn&#39;t older than the current one in the main branch.\r\n\r\n\r\nI guess I&#39;m just after some pointers on what others are doing with multiple devs changing apps and their devs concurrently.\r\n\r\n\r\nGenerally after some examples of what others are doing. ","title":"Maven dependency versioning for internal java dependencies","body":"<h1>Versioning of Internally Developed Dependencies</h1>\n<p>I'm looking for some examples/ best practices of how other teams are covering this in their projects.</p>\n<p>I have a medium sized development team/s who are developing Java applications using Maven as a build tool.</p>\n<p>We have a number of dependencies developed in house used by one or more other applications; all using a CI tool to do all the good stuff of running tests and building etc.</p>\n<p>My question is around the best practice of the versioning of the internal dependencies in the application POM files.</p>\n<p>My instinct is that the CI should build the dependency and tag the git repo when a change has been merged into its main branch and the semver of the package bumped, and if a developer and their application requires that version, then the POM file should be updated as such and the application built with that baked in, using the CI.</p>\n<p>That of course would add a greater overhead, rather than just using the latest version of dependencies each time the application build but at least you're targeting exactly what you want for each application; albeit they all may be running different versions of the dependency.</p>\n<p>Aside from pushing out security updates, that may not be too undesirable?</p>\n<p>My fear is that if two developers are independently developing a feature on the same application and a dependency that there may be a possibility of introducing a regression of a version. Though I imagine this would be caught as a conflict in git or at least should be visible as a change, and it would be the developers responsibility to check the version they are merging isn't older than the current one in the main branch.</p>\n<p>I guess I'm just after some pointers on what others are doing with multiple devs changing apps and their devs concurrently.</p>\n<p>Generally after some examples of what others are doing.</p>\n"},{"tags":["java","amazon-web-services","sdk","queue","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":33299,"reputation":12487,"user_id":93161,"accept_rate":89,"display_name":"Robert Love"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673581322,"creation_date":1673581322,"answer_id":75104658,"question_id":75100693,"body_markdown":"Then you need to use java try catch block, to hide the other errors.   Although this concept does seem risky as ANY coding error you could lose data. \r\n\r\nSince the deletion policy is on success it will automatically remove message from SQS.\r\n\r\n\r\n```\r\n@SqsListener(value = &quot;/MyQueueURL&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS )\r\npublic void getMessageFromSqs(MyMessage message) {\r\n  try {      \r\n    log.info(&quot;message: {}&quot;, message);\r\n\r\n        // Ignore other exceptions\r\n\r\n        if(somecondition) {\r\n            throw new MyCustomException(&quot;Retry it&quot;); //&lt;--- Fail only on this exception\r\n        }\r\n        \r\n        log.info(&quot;Success&quot;);\r\n    } catch(Exception e) {\r\n        log.info(&quot;error&quot;)\r\n        if (e instanceOf MyCustomException) {\r\n          throw e\r\n        }\r\n    }\r\n}\r\n```","title":"AWS - SQS deletionPolicy on specific custom exception","body":"<p>Then you need to use java try catch block, to hide the other errors.   Although this concept does seem risky as ANY coding error you could lose data.</p>\n<p>Since the deletion policy is on success it will automatically remove message from SQS.</p>\n<pre><code>@SqsListener(value = &quot;/MyQueueURL&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS )\npublic void getMessageFromSqs(MyMessage message) {\n  try {      \n    log.info(&quot;message: {}&quot;, message);\n\n        // Ignore other exceptions\n\n        if(somecondition) {\n            throw new MyCustomException(&quot;Retry it&quot;); //&lt;--- Fail only on this exception\n        }\n        \n        log.info(&quot;Success&quot;);\n    } catch(Exception e) {\n        log.info(&quot;error&quot;)\n        if (e instanceOf MyCustomException) {\n          throw e\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25115804,"reputation":85,"user_id":18964853,"display_name":"Madan Chaudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673581322,"creation_date":1673547413,"question_id":75100693,"body_markdown":"In AWS sqs i need to consider message as failed and retry it only on specific custom exception rather than on all runtime exception\r\n\r\n```\r\n    @SqsListener(value = &quot;/MyQueueURL&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS )\r\n    public void getMessageFromSqs(MyMessage message) {\r\n        \r\n        log.info(&quot;message: {}&quot;, message);\r\n\r\n        // Ignore other exceptions\r\n\r\n        if(somecondition) {\r\n            throw new MyCustomException(&quot;Retry it&quot;); //&lt;--- Fail only on this exception\r\n        }\r\n        \r\n        log.info(&quot;Success&quot;);\r\n    }\r\n```","title":"AWS - SQS deletionPolicy on specific custom exception","body":"<p>In AWS sqs i need to consider message as failed and retry it only on specific custom exception rather than on all runtime exception</p>\n<pre><code>    @SqsListener(value = &quot;/MyQueueURL&quot;, deletionPolicy = SqsMessageDeletionPolicy.ON_SUCCESS )\n    public void getMessageFromSqs(MyMessage message) {\n        \n        log.info(&quot;message: {}&quot;, message);\n\n        // Ignore other exceptions\n\n        if(somecondition) {\n            throw new MyCustomException(&quot;Retry it&quot;); //&lt;--- Fail only on this exception\n        }\n        \n        log.info(&quot;Success&quot;);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","saml-2.0"],"answers":[{"comments":[{"owner":{"account_id":16436502,"reputation":47,"user_id":11873958,"display_name":"ma66ot"},"score":0,"creation_date":1673599089,"post_id":75104604,"comment_id":132539699,"body_markdown":"already checked file paths. didn&#39;t solve anything on that regard. Weird thing is it works locally on a colleagues laptop. Pulled from Git it throws the error above on my laptop. When we deploy on our GCP server it throws the same error as on my laptop.","body":"already checked file paths. didn&#39;t solve anything on that regard. Weird thing is it works locally on a colleagues laptop. Pulled from Git it throws the error above on my laptop. When we deploy on our GCP server it throws the same error as on my laptop."}],"tags":[],"owner":{"account_id":951604,"reputation":3220,"user_id":977649,"display_name":"schtever"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673580642,"creation_date":1673580642,"answer_id":75104604,"question_id":75101421,"body_markdown":"The SAML stack can be difficult to debug!  Look at the last Exception in the stack trace: \r\n\r\n    Caused by: java.lang.NullPointerException: Cannot invoke \r\n      &quot;java.net.URL.getFile()&quot; because the return value of \r\n      &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\r\nLooks like an error locating `classpath:saml-certificate/cond2fa_256.xml`.  \r\n1. Check that the path `saml-certificate/cond2fa_256.xml` is spelled right.\r\n2. Check that the file `cond2fa_256.xml` does really appear within a directory named `saml-certificate` either in your file system or in a JAR file.\r\n    - If in your file system, `saml-certificate` should be a sub-directory of one of the entries in your CLASSPATH.\r\n    - If in a JAR file, then `saml-certificate` should be a top-level directory in that JAR file.\r\n","title":"Spring Security + SAML 2.0 Configuration --&gt; WebServerException: Unable to start embedded Tomcat","body":"<p>The SAML stack can be difficult to debug!  Look at the last Exception in the stack trace:</p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke \n  &quot;java.net.URL.getFile()&quot; because the return value of \n  &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n</code></pre>\n<p>Looks like an error locating <code>classpath:saml-certificate/cond2fa_256.xml</code>.</p>\n<ol>\n<li>Check that the path <code>saml-certificate/cond2fa_256.xml</code> is spelled right.</li>\n<li>Check that the file <code>cond2fa_256.xml</code> does really appear within a directory named <code>saml-certificate</code> either in your file system or in a JAR file.\n<ul>\n<li>If in your file system, <code>saml-certificate</code> should be a sub-directory of one of the entries in your CLASSPATH.</li>\n<li>If in a JAR file, then <code>saml-certificate</code> should be a top-level directory in that JAR file.</li>\n</ul>\n</li>\n</ol>\n"}],"owner":{"account_id":16436502,"reputation":47,"user_id":11873958,"display_name":"ma66ot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673580642,"creation_date":1673551845,"question_id":75101421,"body_markdown":"Trying to configure Spring Security + Saml 2.0 for our app. Without the Spring Security config the app runs fine. As soon as we activate Spring Security we get a Tomcat exception as follows:\r\n\r\n\r\n```\r\n2023-01-12 19:53:21.191  INFO 31028 --- [  restartedMain] com.atos.AerApp                          : Starting AerApp using Java 17.0.5 on LAPTOP-FRSNQQSJ with PID 31028 (C:\\Projects local\\AER-Backend\\backend\\build\\classes\\java\\main started by a882102 in C:\\Projects local\\AER-Backend\\backend)\r\n2023-01-12 19:53:21.192  INFO 31028 --- [  restartedMain] com.atos.AerApp                          : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-12 19:53:21.223  INFO 31028 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set &#39;spring.devtools.add-properties&#39; to &#39;false&#39; to disable\r\n2023-01-12 19:53:21.223  INFO 31028 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-01-12 19:53:21.776  INFO 31028 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-01-12 19:53:21.813  INFO 31028 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.\r\n2023-01-12 19:53:22.254  INFO 31028 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-01-12 19:53:22.260  INFO 31028 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-01-12 19:53:22.260  INFO 31028 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]\r\n2023-01-12 19:53:22.325  INFO 31028 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-01-12 19:53:22.325  INFO 31028 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1102 ms\r\n2023-01-12 19:53:22.334 ERROR 31028 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name &#39;metadata&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;metadata&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;relyingPartyRegistrationResolver&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;relyingPartyRegistrationResolver&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repository&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n2023-01-12 19:53:22.362  INFO 31028 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-01-12 19:53:22.368  WARN 31028 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n2023-01-12 19:53:22.373  INFO 31028 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-01-12 19:53:22.389 ERROR 31028 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat com.atos.AerApp.main(AerApp.java:18) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\r\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\t... 13 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;metadata&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;metadata&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;relyingPartyRegistrationResolver&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;relyingPartyRegistrationResolver&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repository&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:203) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:97) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.7.jar:2.7.7]\r\n\t... 18 common frames omitted\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;relyingPartyRegistrationResolver&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method &#39;relyingPartyRegistrationResolver&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repository&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 58 common frames omitted\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;repository&#39; defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 72 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method &#39;repository&#39; threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 86 common frames omitted\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\r\n\tat com.atos.config.SecurityConfig.repository(SecurityConfig.java:64) ~[main/:na]\r\n\tat com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de.CGLIB$repository$1(&lt;generated&gt;) ~[main/:na]\r\n\tat com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de$$FastClassBySpringCGLIB$$66e06ba2.invoke(&lt;generated&gt;) ~[main/:na]\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.24.jar:5.3.24]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.24.jar:5.3.24]\r\n\tat com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de.repository(&lt;generated&gt;) ~[main/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.24.jar:5.3.24]\r\n\t... 87 common frames omitted\r\n\r\n\r\nProcess finished with exit code 0\r\n```\r\n\r\nSpring Security + Saml Config\r\n\r\n```\r\n@Configuration\r\npublic class SecurityConfig {\r\n\r\n    @Bean\r\n    SecurityFilterChain app(HttpSecurity http) throws Exception {\r\n        // @formatter:off\r\n        http\r\n                .authorizeHttpRequests((authorize) -&gt; authorize\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .saml2Login(Customizer.withDefaults())\r\n                .saml2Logout(Customizer.withDefaults());\r\n        // @formatter:on\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    RelyingPartyRegistrationResolver relyingPartyRegistrationResolver(\r\n            RelyingPartyRegistrationRepository registrations) {\r\n        return new DefaultRelyingPartyRegistrationResolver((id) -&gt; registrations.findByRegistrationId(&quot;wac&quot;));\r\n    }\r\n\r\n    @Bean\r\n    Saml2AuthenticationTokenConverter authentication(RelyingPartyRegistrationResolver registrations) {\r\n        return new Saml2AuthenticationTokenConverter(registrations);\r\n    }\r\n\r\n    @Bean\r\n    FilterRegistrationBean&lt;Saml2MetadataFilter&gt; metadata(RelyingPartyRegistrationResolver registrations) {\r\n        Saml2MetadataFilter metadata = new Saml2MetadataFilter(registrations, new OpenSamlMetadataResolver());\r\n        FilterRegistrationBean&lt;Saml2MetadataFilter&gt; filter = new FilterRegistrationBean&lt;&gt;(metadata);\r\n        filter.setOrder(-101);\r\n        return filter;\r\n    }\r\n\r\n    @Bean\r\n    RelyingPartyRegistrationRepository repository() throws Exception{\r\n        ClassLoader classLoader = getClass().getClassLoader();\r\n        File verificationKey = new File(classLoader.getResource(&quot;saml-certificate/saml.crt&quot;).getFile());\r\n        X509Certificate certificate = X509Support.decodeCertificate(verificationKey);\r\n        Saml2X509Credential credential= Saml2X509Credential.verification(certificate);\r\n\r\n        RelyingPartyRegistration wac = RelyingPartyRegistrations\r\n                .fromMetadataLocation(&quot;classpath:saml-certificate/cond2fa_256.xml&quot;)\r\n                .registrationId(&quot;wac&quot;).assertingPartyDetails((details) -&gt; details.verificationX509Credentials(\r\n                        (c) -&gt; c.add(credential)\r\n                ).wantAuthnRequestsSigned(false))\r\n                .singleLogoutServiceLocation(&quot;http://localhost:8080/logout/saml2/slo&quot;).build();\r\n        return new InMemoryRelyingPartyRegistrationRepository(wac);\r\n    }\r\n\r\n}\r\n\r\n```\r\napplication.properties\r\n\r\n```\r\n# Configure connection pooling if needed\r\nspring.datasource.hikari.maximum-pool-size=10\r\n\r\n#H2\r\nspring.jpa.show-sql=false\r\nspring.jpa.properties.hibernate.format_sql=true\r\nspring.h2.console.enabled=true\r\nspring.h2.console.path=/h2-console\r\nspring.datasource.username=sa\r\nspring.datasource.password=pass\r\nspring.datasource.url=jdbc:h2:mem:testdb\r\n#spring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.generate-ddl=false\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\n\r\n```\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.7&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.atos&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\n\r\ndependencies {\r\n\t\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\timplementation group: &#39;org.modelmapper&#39;, name: &#39;modelmapper&#39;, version: &#39;3.1.1&#39;\r\n\timplementation &#39;org.springframework.security:spring-security-core:6.0.1&#39;\r\n\timplementation &#39;org.springframework.security:spring-security-saml2-service-provider&#39;\r\n\r\n\r\n\t//Swagger\r\n\timplementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-boot-starter:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger2:3.0.0&#39;\r\n\r\n\r\n\t// H2\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\ntasks.withType(Jar).all {\r\n\tduplicatesStrategy &#39;exclude&#39;\r\n}\r\n\r\n```\r\n\r\n\r\nTried a bunch of dependencies suggested on stackoverflow for similar problems, changing the tomcat port, changing project jdk from 17 to 11 nothing helped. I&#39;m still a junior dev btw.\r\n\r\nAppreciate your feedback.","title":"Spring Security + SAML 2.0 Configuration --&gt; WebServerException: Unable to start embedded Tomcat","body":"<p>Trying to configure Spring Security + Saml 2.0 for our app. Without the Spring Security config the app runs fine. As soon as we activate Spring Security we get a Tomcat exception as follows:</p>\n<pre><code>2023-01-12 19:53:21.191  INFO 31028 --- [  restartedMain] com.atos.AerApp                          : Starting AerApp using Java 17.0.5 on LAPTOP-FRSNQQSJ with PID 31028 (C:\\Projects local\\AER-Backend\\backend\\build\\classes\\java\\main started by a882102 in C:\\Projects local\\AER-Backend\\backend)\n2023-01-12 19:53:21.192  INFO 31028 --- [  restartedMain] com.atos.AerApp                          : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-12 19:53:21.223  INFO 31028 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable\n2023-01-12 19:53:21.223  INFO 31028 --- [  restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-01-12 19:53:21.776  INFO 31028 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-01-12 19:53:21.813  INFO 31028 --- [  restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 3 JPA repository interfaces.\n2023-01-12 19:53:22.254  INFO 31028 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-01-12 19:53:22.260  INFO 31028 --- [  restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-12 19:53:22.260  INFO 31028 --- [  restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.70]\n2023-01-12 19:53:22.325  INFO 31028 --- [  restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-01-12 19:53:22.325  INFO 31028 --- [  restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1102 ms\n2023-01-12 19:53:22.334 ERROR 31028 --- [  restartedMain] o.s.b.web.embedded.tomcat.TomcatStarter  : Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'metadata' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'metadata' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'relyingPartyRegistrationResolver' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'relyingPartyRegistrationResolver' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repository' defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n2023-01-12 19:53:22.362  INFO 31028 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-01-12 19:53:22.368  WARN 31028 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n2023-01-12 19:53:22.373  INFO 31028 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-01-12 19:53:22.389 ERROR 31028 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.7.jar:2.7.7]\n    at com.atos.AerApp.main(AerApp.java:18) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.7.jar:2.7.7]\nCaused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:479) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.7.jar:2.7.7]\n    ... 13 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'metadata' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'metadata' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'relyingPartyRegistrationResolver' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'relyingPartyRegistrationResolver' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repository' defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:212) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:203) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:97) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.ServletContextInitializerBeans.&lt;init&gt;(ServletContextInitializerBeans.java:86) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53) ~[spring-boot-2.7.7.jar:2.7.7]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5211) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1393) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1383) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:916) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:265) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:430) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:930) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.70.jar:9.0.70]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.7.7.jar:2.7.7]\n    ... 18 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'relyingPartyRegistrationResolver' defined in class path resource [com/atos/config/SecurityConfig.class]: Unsatisfied dependency expressed through method 'relyingPartyRegistrationResolver' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repository' defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 58 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'repository' defined in class path resource [com/atos/config/SecurityConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 72 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.saml2.provider.service.registration.RelyingPartyRegistrationRepository]: Factory method 'repository' threw exception; nested exception is java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.24.jar:5.3.24]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 86 common frames omitted\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;java.net.URL.getFile()&quot; because the return value of &quot;java.lang.ClassLoader.getResource(String)&quot; is null\n    at com.atos.config.SecurityConfig.repository(SecurityConfig.java:64) ~[main/:na]\n    at com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de.CGLIB$repository$1(&lt;generated&gt;) ~[main/:na]\n    at com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de$$FastClassBySpringCGLIB$$66e06ba2.invoke(&lt;generated&gt;) ~[main/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244) ~[spring-core-5.3.24.jar:5.3.24]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-5.3.24.jar:5.3.24]\n    at com.atos.config.SecurityConfig$$EnhancerBySpringCGLIB$$605b27de.repository(&lt;generated&gt;) ~[main/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.24.jar:5.3.24]\n    ... 87 common frames omitted\n\n\nProcess finished with exit code 0\n</code></pre>\n<p>Spring Security + Saml Config</p>\n<pre><code>@Configuration\npublic class SecurityConfig {\n\n    @Bean\n    SecurityFilterChain app(HttpSecurity http) throws Exception {\n        // @formatter:off\n        http\n                .authorizeHttpRequests((authorize) -&gt; authorize\n                        .anyRequest().authenticated()\n                )\n                .saml2Login(Customizer.withDefaults())\n                .saml2Logout(Customizer.withDefaults());\n        // @formatter:on\n\n        return http.build();\n    }\n\n    @Bean\n    RelyingPartyRegistrationResolver relyingPartyRegistrationResolver(\n            RelyingPartyRegistrationRepository registrations) {\n        return new DefaultRelyingPartyRegistrationResolver((id) -&gt; registrations.findByRegistrationId(&quot;wac&quot;));\n    }\n\n    @Bean\n    Saml2AuthenticationTokenConverter authentication(RelyingPartyRegistrationResolver registrations) {\n        return new Saml2AuthenticationTokenConverter(registrations);\n    }\n\n    @Bean\n    FilterRegistrationBean&lt;Saml2MetadataFilter&gt; metadata(RelyingPartyRegistrationResolver registrations) {\n        Saml2MetadataFilter metadata = new Saml2MetadataFilter(registrations, new OpenSamlMetadataResolver());\n        FilterRegistrationBean&lt;Saml2MetadataFilter&gt; filter = new FilterRegistrationBean&lt;&gt;(metadata);\n        filter.setOrder(-101);\n        return filter;\n    }\n\n    @Bean\n    RelyingPartyRegistrationRepository repository() throws Exception{\n        ClassLoader classLoader = getClass().getClassLoader();\n        File verificationKey = new File(classLoader.getResource(&quot;saml-certificate/saml.crt&quot;).getFile());\n        X509Certificate certificate = X509Support.decodeCertificate(verificationKey);\n        Saml2X509Credential credential= Saml2X509Credential.verification(certificate);\n\n        RelyingPartyRegistration wac = RelyingPartyRegistrations\n                .fromMetadataLocation(&quot;classpath:saml-certificate/cond2fa_256.xml&quot;)\n                .registrationId(&quot;wac&quot;).assertingPartyDetails((details) -&gt; details.verificationX509Credentials(\n                        (c) -&gt; c.add(credential)\n                ).wantAuthnRequestsSigned(false))\n                .singleLogoutServiceLocation(&quot;http://localhost:8080/logout/saml2/slo&quot;).build();\n        return new InMemoryRelyingPartyRegistrationRepository(wac);\n    }\n\n}\n\n</code></pre>\n<p>application.properties</p>\n<pre><code># Configure connection pooling if needed\nspring.datasource.hikari.maximum-pool-size=10\n\n#H2\nspring.jpa.show-sql=false\nspring.jpa.properties.hibernate.format_sql=true\nspring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\nspring.datasource.username=sa\nspring.datasource.password=pass\nspring.datasource.url=jdbc:h2:mem:testdb\n#spring.jpa.hibernate.ddl-auto=none\nspring.jpa.generate-ddl=false\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n\n\n</code></pre>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.7'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.atos'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\ndependencies {\n        implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    compileOnly 'org.projectlombok:lombok'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n    implementation group: 'org.modelmapper', name: 'modelmapper', version: '3.1.1'\n    implementation 'org.springframework.security:spring-security-core:6.0.1'\n    implementation 'org.springframework.security:spring-security-saml2-service-provider'\n\n\n    //Swagger\n    implementation 'io.springfox:springfox-swagger-ui:3.0.0'\n    implementation 'io.springfox:springfox-boot-starter:3.0.0'\n    implementation 'io.springfox:springfox-swagger2:3.0.0'\n\n\n    // H2\n    runtimeOnly 'com.h2database:h2'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\ntasks.withType(Jar).all {\n    duplicatesStrategy 'exclude'\n}\n\n</code></pre>\n<p>Tried a bunch of dependencies suggested on stackoverflow for similar problems, changing the tomcat port, changing project jdk from 17 to 11 nothing helped. I'm still a junior dev btw.</p>\n<p>Appreciate your feedback.</p>\n"},{"tags":["java","user-interface","combobox","rendering","zk"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1667578898,"post_id":74318292,"comment_id":131207364,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":25908430,"reputation":13,"user_id":19633126,"display_name":"danyashes"},"score":0,"creation_date":1667896888,"post_id":74342845,"comment_id":131270942,"body_markdown":"Thanks for a comprehensive answer! Marked best","body":"Thanks for a comprehensive answer! Marked best"}],"tags":[],"owner":{"account_id":897406,"reputation":897,"user_id":934373,"accept_rate":80,"display_name":"Hawk"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673580416,"creation_date":1667803433,"answer_id":74342845,"question_id":74318292,"body_markdown":"\r\nThe behavior you want &quot;clicking &#39;show more&#39; and keep the popup open&quot; is not supported by default. \r\nSo you have to override its js widget&#39;s `doClick_()`, please read \r\nhttps://www.zkoss.org/wiki/ZK_Client-side_Reference/General_Control/Widget_Customization\r\n\r\nhere is an example.\r\n\r\n    &lt;zscript&gt;&lt;![CDATA[\r\n    ListModelList fullModel = new ListModelList(Locale.getAvailableLocales());\r\n    ListModelList model1 = new ListModelList(fullModel.subList(0, 2));\r\n    model1.add(&quot;show more&quot;);\r\n    \r\n        ]]&gt;&lt;/zscript&gt;\r\n    &lt;combobox id=&quot;box&quot; model=&quot;${model1}&quot; readonly=&quot;true&quot; onSelect=&quot;loadAll()&quot;/&gt;\r\n    &lt;script src=&quot;comboitem-doclick.js&quot;/&gt;\r\n        &lt;zscript&gt;&lt;![CDATA[\r\n        public void loadAll(){\r\n            if (model1.getSelection().iterator().next().equals(&quot;show more&quot;)){\r\n                box.setModel(fullModel);\r\n                box.setValue(&quot;&quot;);\r\n            }\r\n        }\r\n        ]]&gt;&lt;/zscript&gt;\r\n\r\n\r\n\r\n```javascript\r\n/**\r\n * Purpose: when a user selects a specific item, keep the popup open.\r\n * Based on version: 9.6.3\r\n */\r\nzk.afterLoad(&#39;zul.inp&#39;, function() {\r\n    var exWidget = {};\r\n    zk.override(zul.inp.Comboitem.prototype, exWidget, {\r\n        doClick_: function doClick_(evt) {\r\n            if (!this._disabled) {\r\n                var cb = this.parent;\r\n\r\n                cb._select(this, {\r\n                  sendOnSelect: true,\r\n                  sendOnChange: true\r\n                });\r\n\r\n                this._updateHoverImage();\r\n                if (this.getLabel() != &#39;show more&#39;){\r\n                    cb.close({\r\n                      sendOnOpen: true,\r\n                      focus: true\r\n                    }); // Fixed the onFocus event is triggered too late in IE.\r\n                }\r\n\r\n                cb._shallClose = true;\r\n                if (zul.inp.InputCtrl.isPreservedFocus(this)) zk(cb.getInputNode()).focus();\r\n                evt.stop();\r\n            }\r\n        },\r\n    });\r\n});\r\n```","title":"ZK Combobox disable closing","body":"<p>The behavior you want &quot;clicking 'show more' and keep the popup open&quot; is not supported by default.\nSo you have to override its js widget's <code>doClick_()</code>, please read\n<a href=\"https://www.zkoss.org/wiki/ZK_Client-side_Reference/General_Control/Widget_Customization\" rel=\"nofollow noreferrer\">https://www.zkoss.org/wiki/ZK_Client-side_Reference/General_Control/Widget_Customization</a></p>\n<p>here is an example.</p>\n<pre><code>&lt;zscript&gt;&lt;![CDATA[\nListModelList fullModel = new ListModelList(Locale.getAvailableLocales());\nListModelList model1 = new ListModelList(fullModel.subList(0, 2));\nmodel1.add(&quot;show more&quot;);\n\n    ]]&gt;&lt;/zscript&gt;\n&lt;combobox id=&quot;box&quot; model=&quot;${model1}&quot; readonly=&quot;true&quot; onSelect=&quot;loadAll()&quot;/&gt;\n&lt;script src=&quot;comboitem-doclick.js&quot;/&gt;\n    &lt;zscript&gt;&lt;![CDATA[\n    public void loadAll(){\n        if (model1.getSelection().iterator().next().equals(&quot;show more&quot;)){\n            box.setModel(fullModel);\n            box.setValue(&quot;&quot;);\n        }\n    }\n    ]]&gt;&lt;/zscript&gt;\n</code></pre>\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * Purpose: when a user selects a specific item, keep the popup open.\n * Based on version: 9.6.3\n */\nzk.afterLoad('zul.inp', function() {\n    var exWidget = {};\n    zk.override(zul.inp.Comboitem.prototype, exWidget, {\n        doClick_: function doClick_(evt) {\n            if (!this._disabled) {\n                var cb = this.parent;\n\n                cb._select(this, {\n                  sendOnSelect: true,\n                  sendOnChange: true\n                });\n\n                this._updateHoverImage();\n                if (this.getLabel() != 'show more'){\n                    cb.close({\n                      sendOnOpen: true,\n                      focus: true\n                    }); // Fixed the onFocus event is triggered too late in IE.\n                }\n\n                cb._shallClose = true;\n                if (zul.inp.InputCtrl.isPreservedFocus(this)) zk(cb.getInputNode()).focus();\n                evt.stop();\n            }\n        },\n    });\n});\n</code></pre>\n"}],"owner":{"account_id":25908430,"reputation":13,"user_id":19633126,"display_name":"danyashes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74342845,"answer_count":1,"score":0,"last_activity_date":1673580416,"creation_date":1667570694,"question_id":74318292,"body_markdown":"I&#39;m struggling with ZK Framework Combobox UI rendering. I have a combobox with **2 logical lists** (1 is a short version of 2, with &quot;Show more&quot; option, and 2 is a list with all entries and no &quot;Show more&quot; option). I&#39;ve done some list swapping logic tracked by onClick event of &quot;Show more&quot; option. And when I click this option combobox **closes** and than I need to re-open it to see the full list. So my question is do anyone know a way how to keep combobox opened when I click this specific option (and furthermore, dynamically populate model by another list)? Maybe there are any other best practices of how to do the task more efficiently? Thanks everyone for help\r\n\r\nI have a thought about combobox that enables multiple choice — it doesn&#39;t close when some option is clicked, but I haven&#39;t found any related information. Maybe you could make your suggestions about it","title":"ZK Combobox disable closing","body":"<p>I'm struggling with ZK Framework Combobox UI rendering. I have a combobox with <strong>2 logical lists</strong> (1 is a short version of 2, with &quot;Show more&quot; option, and 2 is a list with all entries and no &quot;Show more&quot; option). I've done some list swapping logic tracked by onClick event of &quot;Show more&quot; option. And when I click this option combobox <strong>closes</strong> and than I need to re-open it to see the full list. So my question is do anyone know a way how to keep combobox opened when I click this specific option (and furthermore, dynamically populate model by another list)? Maybe there are any other best practices of how to do the task more efficiently? Thanks everyone for help</p>\n<p>I have a thought about combobox that enables multiple choice — it doesn't close when some option is clicked, but I haven't found any related information. Maybe you could make your suggestions about it</p>\n"},{"tags":["java","automation","appium"],"owner":{"account_id":11943898,"reputation":1,"user_id":8739724,"display_name":"Nagakiranmai Kumbha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673579426,"creation_date":1673579272,"question_id":75104477,"body_markdown":"I am new to Appium and i have to validate End user agreement content to make sure its typo free.\r\n\r\nbelow is the logic to get the list of element text from current view\r\n\r\nList&lt;WebElement&gt; listOfElements = driver.findElements(AppiumBy.className(&quot;android.widget.xxx&quot;));\r\n\t\t{\r\n\r\n\t\t\tfor (WebElement element : listOfElements) {\r\n\t\t\t\tString ActualContent = element.getText();\r\n\t\t\t\tSystem.out.println(ActualContent);\r\n\r\n\t\t\t}\r\n\r\n\r\n\r\n\r\nafter getting the actual content for each element one by one, i want to validate the content whether is type free or not \r\n\r\nwhat is the best way to approach it.","title":"I have to validate the user agreement content for a mobile application using selenium java","body":"<p>I am new to Appium and i have to validate End user agreement content to make sure its typo free.</p>\n<p>below is the logic to get the list of element text from current view</p>\n<p>List listOfElements = driver.findElements(AppiumBy.className(&quot;android.widget.xxx&quot;));\n{</p>\n<pre><code>        for (WebElement element : listOfElements) {\n            String ActualContent = element.getText();\n            System.out.println(ActualContent);\n\n        }\n</code></pre>\n<p>after getting the actual content for each element one by one, i want to validate the content whether is type free or not</p>\n<p>what is the best way to approach it.</p>\n"},{"tags":["java","naming-conventions"],"owner":{"account_id":18318740,"reputation":75,"user_id":13339986,"display_name":"BlockyPenguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1673579876,"answer_count":1,"score":0,"last_activity_date":1673579376,"creation_date":1673458066,"question_id":75086873,"body_markdown":"After Hard Forking a Java GitHub repo, should I keep the original package names, or change them to be under my own domain? What would be best practice?","title":"Java Package Naming Conventions after Hard Fork","body":"<p>After Hard Forking a Java GitHub repo, should I keep the original package names, or change them to be under my own domain? What would be best practice?</p>\n"},{"tags":["java","jtextfield","jtextarea"],"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1673467738,"post_id":75088113,"comment_id":132508478,"body_markdown":"Please show enough code as a minimum reproducible example.","body":"Please show enough code as a minimum reproducible example."},{"owner":{"account_id":26141365,"reputation":19,"user_id":19830690,"display_name":"Allan Murimi"},"score":0,"creation_date":1673543057,"post_id":75088113,"comment_id":132528064,"body_markdown":"hey I have added more code","body":"hey I have added more code"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1673543419,"post_id":75088113,"comment_id":132528207,"body_markdown":"hey next time format it as code instead of a quote","body":"hey next time format it as code instead of a quote"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":1,"creation_date":1673561114,"post_id":75088113,"comment_id":132533461,"body_markdown":"Have you tested your code? It breaks far from where setText/getText could come into play. You need to initialize your components and properly add them to the UI.","body":"Have you tested your code? It breaks far from where setText/getText could come into play. You need to initialize your components and properly add them to the UI."},{"owner":{"account_id":26141365,"reputation":19,"user_id":19830690,"display_name":"Allan Murimi"},"score":0,"creation_date":1673629347,"post_id":75088113,"comment_id":132549646,"body_markdown":"Am new in java do you mind explain a little bit more I would really appreciate","body":"Am new in java do you mind explain a little bit more I would really appreciate"}],"owner":{"account_id":26141365,"reputation":19,"user_id":19830690,"display_name":"Allan Murimi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":0,"score":0,"last_activity_date":1673579284,"creation_date":1673465388,"question_id":75088113,"body_markdown":"[this the GUI](https://i.stack.imgur.com/hA5U5.png)\r\nI am trying to display the the inputs of my Jtextfield onto the text area but the contents are not displaying\r\nthis is my code\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*; \r\nimport java.awt.event.ActionEvent; \r\nimport java.awt.event.ActionListener;\r\n \r\npublic class FUEL1 extends JDialog {\r\n    private JPanel panel1;\r\n    private JTextArea tADIS;\r\n    private JTextField TFcom;\r\n    private JTextField TFid;\r\n    private JTextField TFfuel;\r\n    private JButton btnAPP;\r\n    private JButton bTNPRINT;\r\n    private JPanel panel2;\r\n\r\n    String cid;\r\n    int amount;\r\n    int tax;\r\n\r\n    public void print() {\r\n        String name = TFcom.getText();\r\n        String cid = TFid.getText();\r\n        String amount = TFfuel.getText();\r\n\r\n        tADIS.setText(tADIS.getText() + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;TAX EXEMPTION REPORT&quot; + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;Customer id:&quot; + cid + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;Company name:&quot; + name + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;AMount in liters:&quot; + amount + &quot;\\n&quot;);\r\n        tADIS.setText(tADIS.getText() + &quot;tax exempted:&quot; + tax + &quot;\\n&quot;);\r\n    }\r\n\r\n    public FUEL1(JFrame parent) {\r\n        super(parent);\r\n        setTitle(&quot;home page&quot;);\r\n        setContentPane(panel1);\r\n        setMinimumSize(new Dimension(450, 450));\r\n        setModal(true);\r\n        setLocationRelativeTo(parent);\r\n        setVisible(true);\r\n        btnAPP.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                cid = TFid.getText();\r\n                amount = Integer.parseInt(TFfuel.getText());\r\n\r\n                if (amount&lt;100000) {\r\n                    tax = 10000;\r\n                } else if (amount &gt; 100000 &amp;&amp; amount &lt; 500000) {\r\n                    tax = 110000;\r\n                } else {\r\n                    tax = 200000;\r\n                }\r\n                print();\r\n            }\r\n        });\r\n    }\r\n\r\n    public static void main(String[]args) {\r\n        FUEL1 h = new FUEL1(null);\r\n    } \r\n}\r\n```\r\n\r\nI tried using settext and gettext expecting that the contents of the textfield will be displayed in the text area","title":"How to display jtextfield content on jtextarea","body":"<p><a href=\"https://i.stack.imgur.com/hA5U5.png\" rel=\"nofollow noreferrer\">this the GUI</a>\nI am trying to display the the inputs of my Jtextfield onto the text area but the contents are not displaying\nthis is my code</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*; \nimport java.awt.event.ActionEvent; \nimport java.awt.event.ActionListener;\n \npublic class FUEL1 extends JDialog {\n    private JPanel panel1;\n    private JTextArea tADIS;\n    private JTextField TFcom;\n    private JTextField TFid;\n    private JTextField TFfuel;\n    private JButton btnAPP;\n    private JButton bTNPRINT;\n    private JPanel panel2;\n\n    String cid;\n    int amount;\n    int tax;\n\n    public void print() {\n        String name = TFcom.getText();\n        String cid = TFid.getText();\n        String amount = TFfuel.getText();\n\n        tADIS.setText(tADIS.getText() + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;TAX EXEMPTION REPORT&quot; + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;Customer id:&quot; + cid + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;Company name:&quot; + name + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;AMount in liters:&quot; + amount + &quot;\\n&quot;);\n        tADIS.setText(tADIS.getText() + &quot;tax exempted:&quot; + tax + &quot;\\n&quot;);\n    }\n\n    public FUEL1(JFrame parent) {\n        super(parent);\n        setTitle(&quot;home page&quot;);\n        setContentPane(panel1);\n        setMinimumSize(new Dimension(450, 450));\n        setModal(true);\n        setLocationRelativeTo(parent);\n        setVisible(true);\n        btnAPP.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                cid = TFid.getText();\n                amount = Integer.parseInt(TFfuel.getText());\n\n                if (amount&lt;100000) {\n                    tax = 10000;\n                } else if (amount &gt; 100000 &amp;&amp; amount &lt; 500000) {\n                    tax = 110000;\n                } else {\n                    tax = 200000;\n                }\n                print();\n            }\n        });\n    }\n\n    public static void main(String[]args) {\n        FUEL1 h = new FUEL1(null);\n    } \n}\n</code></pre>\n<p>I tried using settext and gettext expecting that the contents of the textfield will be displayed in the text area</p>\n"},{"tags":["java","date","java-time","date-parsing","datetimeformatter"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1565179157,"post_id":57393902,"comment_id":101269525,"body_markdown":"What pattern did you try? When you tested it, what happened?","body":"What pattern did you try? When you tested it, what happened?"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1565179244,"post_id":57393902,"comment_id":101269575,"body_markdown":"I _think_ it should be possible with `DateTimeFormatterBuilder.appendValue()` and explicitely setting the min length of the field to 1 and maxlength to 2","body":"I <i>think</i> it should be possible with <code>DateTimeFormatterBuilder.appendValue()</code> and explicitely setting the min length of the field to 1 and maxlength to 2"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1565180026,"creation_date":1565179550,"answer_id":57394132,"question_id":57393902,"body_markdown":"This is trivial when you know it. One pattern letter, for example `d` or `M`, will accept either one or two digits (or for year up to 9 digits).\r\n\r\n\t\tDateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;d.M.u&quot;);\r\n\t\tSystem.out.println(LocalDate.parse(&quot;02.05.2019&quot;, dateFormatter));\r\n\t\tSystem.out.println(LocalDate.parse(&quot;3.5.2019&quot;, dateFormatter));\r\n\t\tSystem.out.println(LocalDate.parse(&quot;4.05.2019&quot;, dateFormatter));\r\n\t\tSystem.out.println(LocalDate.parse(&quot;06.5.2019&quot;, dateFormatter));\r\n\t\tSystem.out.println(LocalDate.parse(&quot;15.12.2019&quot;, dateFormatter));\r\n\r\nOutput:\r\n\r\n&gt;     2019-05-02\r\n&gt;     2019-05-03\r\n&gt;     2019-05-04\r\n&gt;     2019-05-06\r\n&gt;     2019-12-15\r\n\r\nI searched for this information in the documentation and didn’t find it readily. I don’t think it is well documented.","title":"How can I make a leading zero in DateTime-Pattern optional","body":"<p>This is trivial when you know it. One pattern letter, for example <code>d</code> or <code>M</code>, will accept either one or two digits (or for year up to 9 digits).</p>\n\n<pre><code>    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(\"d.M.u\");\n    System.out.println(LocalDate.parse(\"02.05.2019\", dateFormatter));\n    System.out.println(LocalDate.parse(\"3.5.2019\", dateFormatter));\n    System.out.println(LocalDate.parse(\"4.05.2019\", dateFormatter));\n    System.out.println(LocalDate.parse(\"06.5.2019\", dateFormatter));\n    System.out.println(LocalDate.parse(\"15.12.2019\", dateFormatter));\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n<pre><code>2019-05-02\n2019-05-03\n2019-05-04\n2019-05-06\n2019-12-15\n</code></pre>\n</blockquote>\n\n<p>I searched for this information in the documentation and didn’t find it readily. I don’t think it is well documented.</p>\n"},{"tags":[],"owner":{"account_id":13995571,"reputation":334,"user_id":10108444,"display_name":"Clint Munden"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565179678,"creation_date":1565179678,"answer_id":57394158,"question_id":57393902,"body_markdown":"You can create a DateTimeFormatter with a custom format like this\r\n\r\n    DateTimeFormatter.ofPattern(&quot;d.M.yyyy&quot;)\r\n\r\nThen you can parse dates if they provide 1 or 2 digits for the day and month.\r\n\r\n    String input = &quot;02.5.2019&quot;;\r\n    LocalDate date = LocalDate.parse(input, DateTimeFormatter.ofPattern(&quot;d.M.yyyy&quot;));\r\n\r\nI&#39;ve used LocalDate here from the new java.time package so I&#39;m assuming that your java version is recent.","title":"How can I make a leading zero in DateTime-Pattern optional","body":"<p>You can create a DateTimeFormatter with a custom format like this</p>\n\n<pre><code>DateTimeFormatter.ofPattern(\"d.M.yyyy\")\n</code></pre>\n\n<p>Then you can parse dates if they provide 1 or 2 digits for the day and month.</p>\n\n<pre><code>String input = \"02.5.2019\";\nLocalDate date = LocalDate.parse(input, DateTimeFormatter.ofPattern(\"d.M.yyyy\"));\n</code></pre>\n\n<p>I've used LocalDate here from the new java.time package so I'm assuming that your java version is recent.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1565180264,"post_id":57394204,"comment_id":101270125,"body_markdown":"The question mentions the pattern `dd.MM.uuuu`. I assume it’s `uuuu` for year, which means they can’t be using `SimpleDateFormat` (where lowercase `u` means *Day number of week*). Which is for the better since the `SimpleDateFormat` class is notoriously troublesome and long outdated.","body":"The question mentions the pattern <code>dd.MM.uuuu</code>. I assume it’s <code>uuuu</code> for year, which means they can’t be using <code>SimpleDateFormat</code> (where lowercase <code>u</code> means <i>Day number of week</i>). Which is for the better since the <code>SimpleDateFormat</code> class is notoriously troublesome and long outdated."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1565181668,"post_id":57394204,"comment_id":101270923,"body_markdown":"It’s interesting that it accepts 3 digits for day and month, which can never be more than 31 and 12, but rejects a leading zero in year, which can be up to 999 999 999. It should solve the questioner’’s issue though. Apparently when you say that year is 4 digits, it’s taken as exactly 4 digits, not three or five.","body":"It’s interesting that it accepts 3 digits for day and month, which can never be more than 31 and 12, but rejects a leading zero in year, which can be up to 999 999 999. It should solve the questioner’’s issue though. Apparently when you say that year is 4 digits, it’s taken as exactly 4 digits, not three or five."}],"tags":[],"owner":{"account_id":8258676,"reputation":973,"user_id":6210973,"display_name":"Mick"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565181133,"creation_date":1565179842,"answer_id":57394204,"question_id":57393902,"body_markdown":"Your suggested date format should work - just as this test:\r\n \r\n    @Test\r\n\tpublic void test() throws ParseException {\r\n\t\tSimpleDateFormat f = new SimpleDateFormat(&quot;d.M.yyyy&quot;);\r\n\t\tf.parse(&quot;7.8.2019&quot;);\r\n\t\tf.parse(&quot;07.08.2019&quot;);\r\n\t\tf.parse(&quot;007.008.002019&quot;);\r\n\t}\r\n\r\nThe DateTimeFormatter will not accept leading zeros for year in comparison, but leading zeros for day and month are not an issue:\r\n\r\n    @Test\r\n\tpublic void test2() throws ParseException {\r\n\t\tDateTimeFormatterBuilder builder = new DateTimeFormatterBuilder();\r\n\t\tDateTimeFormatter f = builder.appendPattern(&quot;d.M.yyyy&quot;).toFormatter();\r\n\t\tf.parse(&quot;7.8.2019&quot;);\r\n\t\tf.parse(&quot;07.08.2019&quot;);\r\n\t\tf.parse(&quot;007.008.2019&quot;);\r\n\t}","title":"How can I make a leading zero in DateTime-Pattern optional","body":"<p>Your suggested date format should work - just as this test:</p>\n\n<pre><code>@Test\npublic void test() throws ParseException {\n    SimpleDateFormat f = new SimpleDateFormat(\"d.M.yyyy\");\n    f.parse(\"7.8.2019\");\n    f.parse(\"07.08.2019\");\n    f.parse(\"007.008.002019\");\n}\n</code></pre>\n\n<p>The DateTimeFormatter will not accept leading zeros for year in comparison, but leading zeros for day and month are not an issue:</p>\n\n<pre><code>@Test\npublic void test2() throws ParseException {\n    DateTimeFormatterBuilder builder = new DateTimeFormatterBuilder();\n    DateTimeFormatter f = builder.appendPattern(\"d.M.yyyy\").toFormatter();\n    f.parse(\"7.8.2019\");\n    f.parse(\"07.08.2019\");\n    f.parse(\"007.008.2019\");\n}\n</code></pre>\n"}],"owner":{"account_id":14871720,"reputation":247,"user_id":10739055,"display_name":"John Du"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11203,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":57394132,"answer_count":3,"score":13,"last_activity_date":1673579161,"creation_date":1565178867,"question_id":57393902,"body_markdown":"I have a user input field and would like to parse his date, whatever he puts in.\r\n\r\nThe user might provide his date with a leading zero or without one, so I wanna be able to parse an input like this \r\n```\r\n02.05.2019\r\n```\r\nand also this\r\n```\r\n2.5.2019\r\n```\r\n\r\nBut as far as I can tell there is no way to make the leading zero optional, either always have 2 digits like 01, 03, 12 and so on, or only have the necessary digits like 1, 3, 12.\r\n\r\nSo apparently I have to decide whether to allow leading zeros or not, but is there seriously no way to make the leading zero optional ?\r\n\r\n\r\n---\r\nWell, I tested a pattern that included a leading zero dd.MM.uuuu and I tested a pattern that did not include a leading zero d.M.uuuu and when I parsed the wrong input with the wrong pattern exceptions were thrown.\r\n\r\nTherefore my question is if there is a way to make the leading zero optional.","title":"How can I make a leading zero in DateTime-Pattern optional","body":"<p>I have a user input field and would like to parse his date, whatever he puts in.</p>\n\n<p>The user might provide his date with a leading zero or without one, so I wanna be able to parse an input like this </p>\n\n<pre><code>02.05.2019\n</code></pre>\n\n<p>and also this</p>\n\n<pre><code>2.5.2019\n</code></pre>\n\n<p>But as far as I can tell there is no way to make the leading zero optional, either always have 2 digits like 01, 03, 12 and so on, or only have the necessary digits like 1, 3, 12.</p>\n\n<p>So apparently I have to decide whether to allow leading zeros or not, but is there seriously no way to make the leading zero optional ?</p>\n\n<hr>\n\n<p>Well, I tested a pattern that included a leading zero dd.MM.uuuu and I tested a pattern that did not include a leading zero d.M.uuuu and when I parsed the wrong input with the wrong pattern exceptions were thrown.</p>\n\n<p>Therefore my question is if there is a way to make the leading zero optional.</p>\n"},{"tags":["java","documentum"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1673500544,"post_id":75091870,"comment_id":132514384,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":4243441,"reputation":2491,"user_id":3472757,"accept_rate":47,"display_name":"Miki"},"score":0,"creation_date":1673518456,"post_id":75091870,"comment_id":132519129,"body_markdown":"use https://www.serfish.com/jar/ or similar sites for this kind of problems","body":"use <a href=\"https://www.serfish.com/jar/\" rel=\"nofollow noreferrer\">serfish.com/jar</a> or similar sites for this kind of problems"}],"owner":{"account_id":6062771,"reputation":1,"user_id":4734080,"display_name":"Sergey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673579135,"creation_date":1673500257,"question_id":75091870,"body_markdown":"I cannot load my page in browser. \r\nLog in application server show this: \r\n```\r\n12.01.23 09:56:03.149 ERROR [[ACTIVE] ExecuteThread: &#39;0&#39; for queue: &#39;weblogic.kernel.Default (self-tuning)&#39;] [com.documentum.web.common.Trace] - Errorhandler threw the following error\r\njava.lang.NoClassDefFoundError: com/documentum/web/security/exceptions/SecurityWrapperRuntimeException\r\n        at jsp_servlet._wdk.__errorhandler._jspService(__errorhandler.java:190)\r\n        at weblogic.servlet.jsp.JspBase.service(JspBase.java:34)\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\r\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\r\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:341)\r\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:238)\r\n        at weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:573)\r\n        at weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:272)\r\n        at weblogic.servlet.jsp.PageContextImpl.forward(PageContextImpl.java:158)\r\n        at weblogic.servlet.jsp.PageContextImpl.handlePageException(PageContextImpl.java:402)\r\n        at jsp_servlet._wdk.__redirect._jspService(__redirect.java:168)\r\n        at weblogic.servlet.jsp.JspBase.service(JspBase.java:34)\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\r\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\r\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\r\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:341)\r\n        at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\r\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n        at com.documentum.web.servlet.ResponseHeaderControlFilter.doFilter(Unknown Source)\r\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n        at com.documentum.web.servlet.CompressionFilter.doFilter(CompressionFilter.java:84)\r\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n        at com.documentum.web.env.WDKController.processRequest(Unknown Source)\r\n        at com.documentum.web.env.WDKController.doFilter(Unknown Source)\r\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\r\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3367)\r\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3333)\r\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\r\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\r\n        at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:57)\r\n        at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2220)\r\n        at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2146)\r\n        at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2124)\r\n        at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1564)\r\n        at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:254)\r\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:295)\r\n```\r\n\r\nI didn&#39;t find this class SecurityWrapperRuntimeException in the folder /WEB-INF/lib. What kind jar is it and where I can find it?\r\n\r\n\r\nStart application in browser. ","title":"Documentum 6.7: class not found exception","body":"<p>I cannot load my page in browser.\nLog in application server show this:</p>\n<pre><code>12.01.23 09:56:03.149 ERROR [[ACTIVE] ExecuteThread: '0' for queue: 'weblogic.kernel.Default (self-tuning)'] [com.documentum.web.common.Trace] - Errorhandler threw the following error\njava.lang.NoClassDefFoundError: com/documentum/web/security/exceptions/SecurityWrapperRuntimeException\n        at jsp_servlet._wdk.__errorhandler._jspService(__errorhandler.java:190)\n        at weblogic.servlet.jsp.JspBase.service(JspBase.java:34)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:341)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:238)\n        at weblogic.servlet.internal.RequestDispatcherImpl.invokeServlet(RequestDispatcherImpl.java:573)\n        at weblogic.servlet.internal.RequestDispatcherImpl.forward(RequestDispatcherImpl.java:272)\n        at weblogic.servlet.jsp.PageContextImpl.forward(PageContextImpl.java:158)\n        at weblogic.servlet.jsp.PageContextImpl.handlePageException(PageContextImpl.java:402)\n        at jsp_servlet._wdk.__redirect._jspService(__redirect.java:168)\n        at weblogic.servlet.jsp.JspBase.service(JspBase.java:34)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:280)\n        at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:254)\n        at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:136)\n        at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:341)\n        at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25)\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n        at com.documentum.web.servlet.ResponseHeaderControlFilter.doFilter(Unknown Source)\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n        at com.documentum.web.servlet.CompressionFilter.doFilter(CompressionFilter.java:84)\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n        at com.documentum.web.env.WDKController.processRequest(Unknown Source)\n        at com.documentum.web.env.WDKController.doFilter(Unknown Source)\n        at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:79)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3367)\n        at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3333)\n        at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:321)\n        at weblogic.security.service.SecurityManager.runAs(SecurityManager.java:120)\n        at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:57)\n        at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2220)\n        at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2146)\n        at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2124)\n        at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1564)\n        at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:254)\n        at weblogic.work.ExecuteThread.execute(ExecuteThread.java:295)\n</code></pre>\n<p>I didn't find this class SecurityWrapperRuntimeException in the folder /WEB-INF/lib. What kind jar is it and where I can find it?</p>\n<p>Start application in browser.</p>\n"},{"tags":["java","java-stream","google-directory-api"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":3,"creation_date":1673502442,"post_id":75092015,"comment_id":132514729,"body_markdown":"Streams are not a good usecase for pagination","body":"Streams are not a good usecase for pagination"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1673504631,"post_id":75092015,"comment_id":132515146,"body_markdown":"Avoiding imperative loops is not a sensible goal.  The goal should be to maximize readability ... and some tasks are not more readable (or efficient) if you try to shoe-horn them into a solution using the Stream&#39;s API.  Just because you have bought a new hammer doesn&#39;t mean you should use it for *all* of your woodworking tasks.","body":"Avoiding imperative loops is not a sensible goal.  The goal should be to maximize readability ... and some tasks are not more readable (or efficient) if you try to shoe-horn them into a solution using the Stream&#39;s API.  Just because you have bought a new hammer doesn&#39;t mean you should use it for <i>all</i> of your woodworking tasks."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1673505264,"post_id":75092015,"comment_id":132515276,"body_markdown":"Maybe I&#39;m wrong about this ... but shouldn&#39;t your code be using `setNextPageToken()` to advance to the next page?   As per https://stackoverflow.com/a/31260400/139985 ?","body":"Maybe I&#39;m wrong about this ... but shouldn&#39;t your code be using <code>setNextPageToken()</code> to advance to the next page?   As per <a href=\"https://stackoverflow.com/a/31260400/139985\">stackoverflow.com/a/31260400/139985</a> ?"},{"owner":{"account_id":20886137,"reputation":63,"user_id":15342690,"display_name":"Anjula Paulus"},"score":0,"creation_date":1673506560,"post_id":75092015,"comment_id":132515555,"body_markdown":"@StephenC You are right on this. Thanks for pointing that out.","body":"@StephenC You are right on this. Thanks for pointing that out."}],"owner":{"account_id":20886137,"reputation":63,"user_id":15342690,"display_name":"Anjula Paulus"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673579010,"creation_date":1673501787,"question_id":75092015,"body_markdown":"How to avoid imperative loops and use the Java&#39;s Streaming API for the below mentioned implementation for the google directory API?\r\n\r\n```\r\nList&lt;GroupMember&gt; groupMemberList = new ArrayList&lt;&gt;();\r\nDirectory.Members.List listRequest = getDirectoryApi().members().list(groupEmailAddress);\r\nMembers members;\r\ndo {\r\n    members = listRequest.execute();\r\n    members.getMembers().forEach(member -&gt; groupMemberList.add(new\r\n        GroupMember(member.getId(), member.getEmail())));\r\n} while (null != members.getNextPageToken());\r\nreturn groupMemberList;\r\n```","title":"How to use Streams instead of do while loop?","body":"<p>How to avoid imperative loops and use the Java's Streaming API for the below mentioned implementation for the google directory API?</p>\n<pre><code>List&lt;GroupMember&gt; groupMemberList = new ArrayList&lt;&gt;();\nDirectory.Members.List listRequest = getDirectoryApi().members().list(groupEmailAddress);\nMembers members;\ndo {\n    members = listRequest.execute();\n    members.getMembers().forEach(member -&gt; groupMemberList.add(new\n        GroupMember(member.getId(), member.getEmail())));\n} while (null != members.getNextPageToken());\nreturn groupMemberList;\n</code></pre>\n"},{"tags":["java","maven","gradle","dependencies"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1673548608,"post_id":75096897,"comment_id":132529928,"body_markdown":"If libs do a relocation correctly... you would get a warning during the build which shows the issue... And no there is no way to integrate Gradle with Maven... Either you do full or simply you don&#39;t...","body":"If libs do a relocation correctly... you would get a warning during the build which shows the issue... And no there is no way to integrate Gradle with Maven... Either you do full or simply you don&#39;t..."}],"owner":{"account_id":173621,"reputation":10596,"user_id":402428,"display_name":"michid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673578733,"creation_date":1673529398,"question_id":75096897,"body_markdown":"[Gradle][1] has a concept called [capabilities][2]. In a nutshell, libraries can declare the capabilities they provide (e.g. logging). Gradle will then detect when a project&#39;s dependencies contain conflicting dependencies and attempt to resolve them or fail the build. \r\nOne use case for this is to mediate between libraries whose coordinates changed (e.g. Java EE 8 vs. Jakarta EE 8). Gradle even offers a [plugin][3] for dealing with the the whole EE situation. \r\n\r\nNow I wonder how I can get similar functionality for my Maven builds:\r\n* does Maven offer something comparable out of the box? \r\n* is there a plugin or extension for Maven providing such functionality?\r\n* is there a way to integrate Gradle with Maven without having to migrate fully? \r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/userguide.html\r\n  [2]: https://docs.gradle.org/current/userguide/component_capabilities.html#capabilities_as_first_level_concept\r\n  [3]: https://github.com/gradlex-org/java-ecosystem-capabilities","title":"Capabilities and detecting capability conflicts with Maven","body":"<p><a href=\"https://docs.gradle.org/current/userguide/userguide.html\" rel=\"nofollow noreferrer\">Gradle</a> has a concept called <a href=\"https://docs.gradle.org/current/userguide/component_capabilities.html#capabilities_as_first_level_concept\" rel=\"nofollow noreferrer\">capabilities</a>. In a nutshell, libraries can declare the capabilities they provide (e.g. logging). Gradle will then detect when a project's dependencies contain conflicting dependencies and attempt to resolve them or fail the build.\nOne use case for this is to mediate between libraries whose coordinates changed (e.g. Java EE 8 vs. Jakarta EE 8). Gradle even offers a <a href=\"https://github.com/gradlex-org/java-ecosystem-capabilities\" rel=\"nofollow noreferrer\">plugin</a> for dealing with the the whole EE situation.</p>\n<p>Now I wonder how I can get similar functionality for my Maven builds:</p>\n<ul>\n<li>does Maven offer something comparable out of the box?</li>\n<li>is there a plugin or extension for Maven providing such functionality?</li>\n<li>is there a way to integrate Gradle with Maven without having to migrate fully?</li>\n</ul>\n"},{"tags":["java","postgresql","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1673557868,"post_id":75102227,"comment_id":132532672,"body_markdown":"It&#39;s a bad idea to have types that don&#39;t match, but see https://stackoverflow.com/questions/38719133/whats-the-equivalent-of-convert-in-hibernate-hbm-file","body":"It&#39;s a bad idea to have types that don&#39;t match, but see <a href=\"https://stackoverflow.com/questions/38719133/whats-the-equivalent-of-convert-in-hibernate-hbm-file\" title=\"whats the equivalent of convert in hibernate hbm file\">stackoverflow.com/questions/38719133/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":951604,"reputation":3220,"user_id":977649,"display_name":"schtever"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673578112,"creation_date":1673578112,"answer_id":75104385,"question_id":75102227,"body_markdown":"Untested, but from https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-column-read-and-write\r\n\r\n    &lt;property name=&quot;year&quot;&gt;\r\n        &lt;column \r\n          name=&quot;year&quot;\r\n          read=&quot;cast(year as varchar(8))&quot;\r\n          write=&quot;cast(? as smallint)&quot;\r\n        /&gt;\r\n    &lt;/property&gt;\r\n\r\nI picked 8 for the `varchar` size because it&#39;s a smallint.","title":"How to map a Java string to a PostgreSQL smallint column in hibernate XML?","body":"<p>Untested, but from <a href=\"https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-column-read-and-write\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/4.3/manual/en-US/html/ch05.html#mapping-column-read-and-write</a></p>\n<pre><code>&lt;property name=&quot;year&quot;&gt;\n    &lt;column \n      name=&quot;year&quot;\n      read=&quot;cast(year as varchar(8))&quot;\n      write=&quot;cast(? as smallint)&quot;\n    /&gt;\n&lt;/property&gt;\n</code></pre>\n<p>I picked 8 for the <code>varchar</code> size because it's a smallint.</p>\n"}],"owner":{"account_id":19251788,"reputation":3,"user_id":14069569,"display_name":"dunnofizzbuzz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75104385,"answer_count":1,"score":0,"last_activity_date":1673578112,"creation_date":1673557091,"question_id":75102227,"body_markdown":"I currently have a Java object that I am using HBM XML file to map to. The Java datatype of the property &quot;year&quot; is String, while the postgres column it corresponds to is of type smallint. I would like to map it to each other in my HBM XML, but am facing issues.\r\n\r\n\r\n```\r\n&lt;property name=&quot;year&quot; type=&quot;string&quot;&gt;\r\n   &lt;column name=&quot;year&quot; sql-type=&quot;short&quot; /&gt;\r\n&lt;/property&gt;\r\n\r\n```\r\n\r\nThis is what I was expecting to work, but I am getting an error when persisting a record into this table that says:\r\n\r\n\r\n```\r\nSqlExceptionHelper ERROR: column &quot;year&quot; is of type smallint but expression is of type character varying\r\n```\r\n\r\nI have also tried putting &quot;smallint&quot; in sql-type, but with same error.","title":"How to map a Java string to a PostgreSQL smallint column in hibernate XML?","body":"<p>I currently have a Java object that I am using HBM XML file to map to. The Java datatype of the property &quot;year&quot; is String, while the postgres column it corresponds to is of type smallint. I would like to map it to each other in my HBM XML, but am facing issues.</p>\n<pre><code>&lt;property name=&quot;year&quot; type=&quot;string&quot;&gt;\n   &lt;column name=&quot;year&quot; sql-type=&quot;short&quot; /&gt;\n&lt;/property&gt;\n\n</code></pre>\n<p>This is what I was expecting to work, but I am getting an error when persisting a record into this table that says:</p>\n<pre><code>SqlExceptionHelper ERROR: column &quot;year&quot; is of type smallint but expression is of type character varying\n</code></pre>\n<p>I have also tried putting &quot;smallint&quot; in sql-type, but with same error.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","gson"],"comments":[{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1673561644,"post_id":75102773,"comment_id":132533598,"body_markdown":"How are you supplying the name on the request when you invoke the function URL? Do you know for sure that the custom serialization variant of the Lambda function RequestHandler is actually supported for function URL invocation (vs. regular Lambda function invocation)?","body":"How are you supplying the name on the request when you invoke the function URL? Do you know for sure that the custom serialization variant of the Lambda function RequestHandler is actually supported for function URL invocation (vs. regular Lambda function invocation)?"},{"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"score":0,"creation_date":1673562913,"post_id":75102773,"comment_id":132533886,"body_markdown":"AFAIK it should work this way. I&#39;m sending the request from postman and have it set to JSON for request body.","body":"AFAIK it should work this way. I&#39;m sending the request from postman and have it set to JSON for request body."},{"owner":{"account_id":100740,"reputation":73227,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1673573268,"post_id":75102773,"comment_id":132535498,"body_markdown":"Could the problem be as simple as the fact that your `Request` POJO doesn&#39;t have a usable, non-default constructor or setName method?","body":"Could the problem be as simple as the fact that your <code>Request</code> POJO doesn&#39;t have a usable, non-default constructor or setName method?"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1673828200,"post_id":75102773,"comment_id":132578698,"body_markdown":"What do you mean by &quot;empty object&quot;? Is the `logging.log` call executed and is the result `Request{name=&#39;&#39;}`? For debugging you could first read the request to a String and log that as well to see what you are actually receiving before passing it to Gson. Not sure if that is relevant here, but in case you are using ProGuard or R8 or similar you also have to configure them to not remove fields from your classes or rename the fields.","body":"What do you mean by &quot;empty object&quot;? Is the <code>logging.log</code> call executed and is the result <code>Request{name=&#39;&#39;}</code>? For debugging you could first read the request to a String and log that as well to see what you are actually receiving before passing it to Gson. Not sure if that is relevant here, but in case you are using ProGuard or R8 or similar you also have to configure them to not remove fields from your classes or rename the fields."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1673828277,"post_id":75102773,"comment_id":132578706,"body_markdown":"As side note: When constructing the `InputStreamReader` you should also explicitly specify `UTF_8` as charset. And instead of `writer.write(gson.toJson(...))` you can directly call `gson.toJson(..., writer)`.","body":"As side note: When constructing the <code>InputStreamReader</code> you should also explicitly specify <code>UTF_8</code> as charset. And instead of <code>writer.write(gson.toJson(...))</code> you can directly call <code>gson.toJson(..., writer)</code>."}],"owner":{"account_id":11407057,"reputation":387,"user_id":8362224,"display_name":"LagSurfer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":407,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1673577589,"creation_date":1673561106,"question_id":75102773,"body_markdown":"I&#39;m trying to convert InputStream to JSON and parse it to POJO object. But there pojo is always an empty object. Do you see any issue with my method? I&#39;m using AWS lambda with function URL. Is there a better way to create a REST API in AWS lambda?\r\n\r\n\r\n    public class MyHandler implements RequestStreamHandler {\r\n\r\n    private final Gson gson = new Gson();\r\n\r\n    @Override\r\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\r\n\r\n        // reading json input\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n        Request request = gson.fromJson(reader, Request.class);\r\n\r\n        // getting logger\r\n        LambdaLogger logger = context.getLogger();\r\n\r\n        // logging input\r\n        logger.log(request.toString());\r\n\r\n        Response response = new Response(999);\r\n\r\n        // creating response\r\n        OutputStreamWriter writer = new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\r\n        writer.write(gson.toJson(response));\r\n        writer.close();\r\n       }\r\n    }\r\n\r\n\r\n    public class Request {\r\n    private String name;\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Request() {\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Request{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n       }\r\n     }","title":"AWS lambda with JSON input","body":"<p>I'm trying to convert InputStream to JSON and parse it to POJO object. But there pojo is always an empty object. Do you see any issue with my method? I'm using AWS lambda with function URL. Is there a better way to create a REST API in AWS lambda?</p>\n<pre><code>public class MyHandler implements RequestStreamHandler {\n\nprivate final Gson gson = new Gson();\n\n@Override\npublic void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\n\n    // reading json input\n    BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n    Request request = gson.fromJson(reader, Request.class);\n\n    // getting logger\n    LambdaLogger logger = context.getLogger();\n\n    // logging input\n    logger.log(request.toString());\n\n    Response response = new Response(999);\n\n    // creating response\n    OutputStreamWriter writer = new OutputStreamWriter(outputStream, StandardCharsets.UTF_8);\n    writer.write(gson.toJson(response));\n    writer.close();\n   }\n}\n\n\npublic class Request {\nprivate String name;\n\npublic String getName() {\n    return name;\n}\n\npublic Request() {\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\n@Override\npublic String toString() {\n    return &quot;Request{&quot; +\n            &quot;name='&quot; + name + '\\'' +\n            '}';\n   }\n }\n</code></pre>\n"},{"tags":["java","api","automation","cucumber","rest-assured"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":0,"creation_date":1673683261,"post_id":75100592,"comment_id":132556773,"body_markdown":"You can have a look at [this](https://ghchirp.online/4199/)","body":"You can have a look at <a href=\"https://ghchirp.online/4199/\" rel=\"nofollow noreferrer\">this</a>"}],"owner":{"account_id":27512601,"reputation":1,"user_id":20994216,"display_name":"samson rajkumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673577007,"creation_date":1673546877,"question_id":75100592,"body_markdown":"I have created a API automation framework and using cucumber extent report I could generate the HTML report with result status\r\n\r\n```\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features=&quot;postrequest.feature&quot;,plugin=&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;,glue={&quot;st&quot;},monochrome = true)\r\n```\r\n\r\nI have created a log file to capture request and response payload data in stepdef\r\n\r\n```java\r\nPrintStream log = new PrintStream(new FileOutputStream(&quot;payloadlog.txt&quot;));\r\n```\r\n\r\nQuestion \r\n\r\nit&#39;s possible tp  capture request and response payload data in cucumber HTML extent report 7?\r\n\r\n\r\n","title":"API automation - Cucumber extent report 7 - capture request and response log in HTML report","body":"<p>I have created a API automation framework and using cucumber extent report I could generate the HTML report with result status</p>\n<pre><code>@RunWith(Cucumber.class)\n@CucumberOptions(features=&quot;postrequest.feature&quot;,plugin=&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot;,glue={&quot;st&quot;},monochrome = true)\n</code></pre>\n<p>I have created a log file to capture request and response payload data in stepdef</p>\n<pre class=\"lang-java prettyprint-override\"><code>PrintStream log = new PrintStream(new FileOutputStream(&quot;payloadlog.txt&quot;));\n</code></pre>\n<p>Question</p>\n<p>it's possible tp  capture request and response payload data in cucumber HTML extent report 7?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"owner":{"account_id":27515609,"reputation":1,"user_id":20996626,"display_name":"최범진"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1673576743,"creation_date":1673576743,"question_id":75104278,"body_markdown":"```java\r\npublic class SSLConfig {\r\n\r\n    @Value(&quot;${server.port.http}&quot;)\r\n    private int httpPort;\r\n\r\n    @Value(&quot;${server.port}&quot;)\r\n    private int httpsPort;\r\n\r\n    @Bean\r\n    public ServletWebServerFactory serverFactory(){\r\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\r\n            @Override\r\n            protected void postProcessContext(Context context) {\r\n                SecurityConstraint securityConstraint = new SecurityConstraint();\r\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\r\n                SecurityCollection collection = new SecurityCollection();\r\n                collection.addPattern(&quot;/*&quot;);\r\n                securityConstraint.addCollection(collection);\r\n                context.addConstraint(securityConstraint);\r\n            }\r\n        };\r\n\r\n        tomcat.addAdditionalTomcatConnectors(createSslConnector());\r\n        return tomcat;\r\n    }\r\n\r\n    private Connector createSslConnector(){\r\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\r\n        connector.setPort(httpPort);\r\n        connector.setScheme(&quot;http&quot;);\r\n        connector.setSecure(false);\r\n        connector.setRedirectPort(httpsPort);\r\n        return connector;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe http to https redirect solution you are currently using. I&#39;d like to exclude certain url, for example, /member/\\* patterns that go in this way. Is there a way?\r\n\r\nA new context was added to exclude the URL, but it worked locally and did not work on the server.\r\nThe server will continue to be redirected to https.\r\n\r\n```java\r\n    SecurityConstraint ignoreConstraint = new SecurityConstraint();\r\n    SecurityCollection ignoreCollection = new SecurityCollection();\r\n    ignoreCollection.addPattern(&quot;/admin/*&quot;);\r\n    ignoreConstraint.addCollection(ignoreCollection);\r\n    context.addConstraint(ignoreConstraint);\r\n```","title":"Spring https redirect solution wants to exclude redirecting only certain URLs","body":"<pre class=\"lang-java prettyprint-override\"><code>public class SSLConfig {\n\n    @Value(&quot;${server.port.http}&quot;)\n    private int httpPort;\n\n    @Value(&quot;${server.port}&quot;)\n    private int httpsPort;\n\n    @Bean\n    public ServletWebServerFactory serverFactory(){\n        TomcatServletWebServerFactory tomcat = new TomcatServletWebServerFactory() {\n            @Override\n            protected void postProcessContext(Context context) {\n                SecurityConstraint securityConstraint = new SecurityConstraint();\n                securityConstraint.setUserConstraint(&quot;CONFIDENTIAL&quot;);\n                SecurityCollection collection = new SecurityCollection();\n                collection.addPattern(&quot;/*&quot;);\n                securityConstraint.addCollection(collection);\n                context.addConstraint(securityConstraint);\n            }\n        };\n\n        tomcat.addAdditionalTomcatConnectors(createSslConnector());\n        return tomcat;\n    }\n\n    private Connector createSslConnector(){\n        Connector connector = new Connector(&quot;org.apache.coyote.http11.Http11NioProtocol&quot;);\n        connector.setPort(httpPort);\n        connector.setScheme(&quot;http&quot;);\n        connector.setSecure(false);\n        connector.setRedirectPort(httpsPort);\n        return connector;\n    }\n\n}\n</code></pre>\n<p>The http to https redirect solution you are currently using. I'd like to exclude certain url, for example, /member/* patterns that go in this way. Is there a way?</p>\n<p>A new context was added to exclude the URL, but it worked locally and did not work on the server.\nThe server will continue to be redirected to https.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    SecurityConstraint ignoreConstraint = new SecurityConstraint();\n    SecurityCollection ignoreCollection = new SecurityCollection();\n    ignoreCollection.addPattern(&quot;/admin/*&quot;);\n    ignoreConstraint.addCollection(ignoreCollection);\n    context.addConstraint(ignoreConstraint);\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1673505249,"post_id":75092363,"comment_id":132515270,"body_markdown":"*NoSuchMethodError* if you use incompatible libraries","body":"<i>NoSuchMethodError</i> if you use incompatible libraries"}],"answers":[{"tags":[],"owner":{"account_id":24393192,"reputation":201,"user_id":18322863,"display_name":"Madray Haven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673576222,"creation_date":1673576222,"answer_id":75104239,"question_id":75092363,"body_markdown":"https://issuetracker.google.com/issues/140508065?pli=1\r\n\r\nSolution: add this line to `gradle.properties`\r\n\r\n```\r\nandroid.enableDexingArtifactTransform.desugaring=false\r\n```","title":"java.lang.NoSuchMethodError occurs when submodule access the static method in interface of dependences","body":"<p><a href=\"https://issuetracker.google.com/issues/140508065?pli=1\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/140508065?pli=1</a></p>\n<p>Solution: add this line to <code>gradle.properties</code></p>\n<pre><code>android.enableDexingArtifactTransform.desugaring=false\n</code></pre>\n"}],"owner":{"account_id":24393192,"reputation":201,"user_id":18322863,"display_name":"Madray Haven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75104239,"answer_count":1,"score":0,"last_activity_date":1673576222,"creation_date":1673504837,"question_id":75092363,"body_markdown":"I&#39;m doing something like this:\r\n\r\n+ Create a new Java Library, add an interface, which contains a static method, and package it as a jar.\r\n```java\r\npublic interface InterfaceTest {\r\n    static int test() {\r\n        return 0x16;\r\n    }\r\n}\r\n```\r\n+ Create a new Android Library and name it `sdk`, refer to the jar in step 1: `api files(&#39;libs/lib.jar&#39;)`.\r\n```\r\npublic class Main {\r\n    public static int create() {\r\n        return InterfaceTest.test();\r\n    }\r\n}\r\n```\r\n+ Create a new Android Application and directly reference the module in step 2: `implementation project(&#39;:sdk&#39;)`.\r\n```kotlin\r\nclass MainActivity : AppCompatActivity() {\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n        Toast.makeText(this, Main.create().toString(), Toast.LENGTH_SHORT).show()\r\n    }\r\n}\r\n```\r\n+ Use `assembleDebug` to package step 3, get `app-debug.apk`, install and start, the application crashes, and the error log is as follows:\r\n```\r\nFATAL EXCEPTION: main\r\n\tProcess: io.github.sgpublic.jartest, PID: 18931\r\n\tjava.lang.NoSuchMethodError: No static method test()I in class Lio/github/sgpublic/lib/InterfaceTest; or its super classes (declaration of &#39;io.github.sgpublic.lib.InterfaceTest&#39; appears in /data/app/~~YvfX66D6YZcRxdFMHi5zSg==/io.github.sgpublic.jartest-FIbOhcbOzGnvL9VwL_K9UA==/base.apk)\r\n\tat io.github.sgpublic.sdk.Main.create(Main.java:12)\r\n\tat io.github.sgpublic.jartest.MainActivity.onCreate(MainActivity.kt:12)\r\n\tat android.app.Activity.performCreate(Activity.java:8143)\r\n\tat android.app.Activity.performCreate(Activity.java:8114)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3513)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3700)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2136)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loop(Looper.java:236)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8060)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\r\n```\r\n\r\nI simplified the code to get this sample project: [sgpublic/JarTestApplication](https://github.com/sgpublic/JarTestApplication)，and I also post this question on [Google Issue tracker](https://issuetracker.google.com/issues/265195801)\r\n\r\nI&#39;m wondering if there is a temporary solution that will allow me to circumvent this problem temporarily, thank you!","title":"java.lang.NoSuchMethodError occurs when submodule access the static method in interface of dependences","body":"<p>I'm doing something like this:</p>\n<ul>\n<li>Create a new Java Library, add an interface, which contains a static method, and package it as a jar.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public interface InterfaceTest {\n    static int test() {\n        return 0x16;\n    }\n}\n</code></pre>\n<ul>\n<li>Create a new Android Library and name it <code>sdk</code>, refer to the jar in step 1: <code>api files('libs/lib.jar')</code>.</li>\n</ul>\n<pre><code>public class Main {\n    public static int create() {\n        return InterfaceTest.test();\n    }\n}\n</code></pre>\n<ul>\n<li>Create a new Android Application and directly reference the module in step 2: <code>implementation project(':sdk')</code>.</li>\n</ul>\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        Toast.makeText(this, Main.create().toString(), Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n<ul>\n<li>Use <code>assembleDebug</code> to package step 3, get <code>app-debug.apk</code>, install and start, the application crashes, and the error log is as follows:</li>\n</ul>\n<pre><code>FATAL EXCEPTION: main\n    Process: io.github.sgpublic.jartest, PID: 18931\n    java.lang.NoSuchMethodError: No static method test()I in class Lio/github/sgpublic/lib/InterfaceTest; or its super classes (declaration of 'io.github.sgpublic.lib.InterfaceTest' appears in /data/app/~~YvfX66D6YZcRxdFMHi5zSg==/io.github.sgpublic.jartest-FIbOhcbOzGnvL9VwL_K9UA==/base.apk)\n    at io.github.sgpublic.sdk.Main.create(Main.java:12)\n    at io.github.sgpublic.jartest.MainActivity.onCreate(MainActivity.kt:12)\n    at android.app.Activity.performCreate(Activity.java:8143)\n    at android.app.Activity.performCreate(Activity.java:8114)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1310)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3513)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3700)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:85)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2136)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loop(Looper.java:236)\n    at android.app.ActivityThread.main(ActivityThread.java:8060)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:656)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:967)\n</code></pre>\n<p>I simplified the code to get this sample project: <a href=\"https://github.com/sgpublic/JarTestApplication\" rel=\"nofollow noreferrer\">sgpublic/JarTestApplication</a>，and I also post this question on <a href=\"https://issuetracker.google.com/issues/265195801\" rel=\"nofollow noreferrer\">Google Issue tracker</a></p>\n<p>I'm wondering if there is a temporary solution that will allow me to circumvent this problem temporarily, thank you!</p>\n"},{"tags":["java","spring","spring-boot","enums"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":4,"creation_date":1672746181,"post_id":74992881,"comment_id":132339758,"body_markdown":"&quot;*I am looking for any alternate within the code (like loading from yaml file)*&quot; My suggestion is load from yaml file. Sorry but this question too broad. Stack Overflow is for *specific* programming questions (&quot;why does this code throw this exception?&quot; etc.). This basically boils down to &quot;recommend me an architecture&quot;. There are many, equally viable solutions, and different people will have different opinions about what&#39;s best.","body":"&quot;<i>I am looking for any alternate within the code (like loading from yaml file)</i>&quot; My suggestion is load from yaml file. Sorry but this question too broad. Stack Overflow is for <i>specific</i> programming questions (&quot;why does this code throw this exception?&quot; etc.). This basically boils down to &quot;recommend me an architecture&quot;. There are many, equally viable solutions, and different people will have different opinions about what&#39;s best."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1672746382,"post_id":74992881,"comment_id":132339821,"body_markdown":"Sure, you can add that mapping through code or configuration files. I&#39;d suggest providing a mapping of enum + system to system-specific status and maybe vice versa. Since this may be some complex code maybe try to move that to a separate class for separation of concerns: enum to represent the status and the other class to do the mapping/config loading.","body":"Sure, you can add that mapping through code or configuration files. I&#39;d suggest providing a mapping of enum + system to system-specific status and maybe vice versa. Since this may be some complex code maybe try to move that to a separate class for separation of concerns: enum to represent the status and the other class to do the mapping/config loading."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1672746388,"post_id":74992881,"comment_id":132339825,"body_markdown":"Exactly which aspect of the complexity of the enum do you hope to simplify?","body":"Exactly which aspect of the complexity of the enum do you hope to simplify?"},{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":1,"creation_date":1672749148,"post_id":74992881,"comment_id":132340721,"body_markdown":"[1/2]\nThe concern about the `enum` getting more and more complex is only valid if that complexity is accidental, not inherent.\nOtherwise, switching to a different approach would just move that complexity elsewhere (which kind of seems to be the case in your example).\n\nI think it makes sense keep the `enum` (even if it grows complex) iif the following conditions are met:\n- There is no reasonable scenario in which you would want/need to account for new statuses or new mappings (or drop existing ones) without changing the code.","body":"[1/2] The concern about the <code>enum</code> getting more and more complex is only valid if that complexity is accidental, not inherent. Otherwise, switching to a different approach would just move that complexity elsewhere (which kind of seems to be the case in your example).  I think it makes sense keep the <code>enum</code> (even if it grows complex) iif the following conditions are met: - There is no reasonable scenario in which you would want/need to account for new statuses or new mappings (or drop existing ones) without changing the code."},{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":1,"creation_date":1672749169,"post_id":74992881,"comment_id":132340725,"body_markdown":"[2/2]\n- You rely on at least some `enum` features available out of the box, so you would have to reimplement those by hand. E.g. `values()` listed in a determinate order, `valueOf()` used with canonical String labels, `ordinal()` to infer position, `compareTo()`, `name()`, serialization, etc..\n- You use the enum constants polymorphically (and maybe you need to alter the behavior for some of them without a full-fledged class hierarchy) or you want to leverage the compiler check for exhaustive case branches in switch expressions (with newer java versions).","body":"[2/2] - You rely on at least some <code>enum</code> features available out of the box, so you would have to reimplement those by hand. E.g. <code>values()</code> listed in a determinate order, <code>valueOf()</code> used with canonical String labels, <code>ordinal()</code> to infer position, <code>compareTo()</code>, <code>name()</code>, serialization, etc.. - You use the enum constants polymorphically (and maybe you need to alter the behavior for some of them without a full-fledged class hierarchy) or you want to leverage the compiler check for exhaustive case branches in switch expressions (with newer java versions)."},{"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"score":0,"creation_date":1672755298,"post_id":74992881,"comment_id":132342703,"body_markdown":"@Michael How is this question broader? I am asking for an alternate solution for the given use case. I have came across many such question within the community. This is very specific question which is to get the alternate/replace a complex enum in java.","body":"@Michael How is this question broader? I am asking for an alternate solution for the given use case. I have came across many such question within the community. This is very specific question which is to get the alternate/replace a complex enum in java."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1672756531,"post_id":74992881,"comment_id":132343168,"body_markdown":"@DarkCrow &quot;*I have came across many such question*&quot; Yep, you&#39;re right; there are many off-topic questions asked here. &quot;*This is very specific question*&quot; Nope. It isn&#39;t. This is a system design question, and there&#39;s an infinite number of possible solutions /answers. How to implement this is purely a matter of personal opinion. Opinion-based questions are specifically off-topic.","body":"@DarkCrow &quot;<i>I have came across many such question</i>&quot; Yep, you&#39;re right; there are many off-topic questions asked here. &quot;<i>This is very specific question</i>&quot; Nope. It isn&#39;t. This is a system design question, and there&#39;s an infinite number of possible solutions /answers. How to implement this is purely a matter of personal opinion. Opinion-based questions are specifically off-topic."}],"answers":[{"comments":[{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":0,"creation_date":1673575526,"post_id":75104164,"comment_id":132535840,"body_markdown":"I just pasted my old comment(s) as an answer now, to make them more readable (and because the writeup was originally concieved as an answer, but the question got closed while I was still typing). :)","body":"I just pasted my old comment(s) as an answer now, to make them more readable (and because the writeup was originally concieved as an answer, but the question got closed while I was still typing). :)"}],"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673575385,"creation_date":1673575385,"answer_id":75104164,"question_id":74992881,"body_markdown":"The concern about the enum getting more and more complex is only valid if that complexity is accidental, not inherent. Otherwise, switching to a different approach would just move that complexity elsewhere (which kind of seems to be the case in your example). I think it makes sense to keep the enum (even if it grows complex) iif the following conditions are met:\r\n\r\n- There is no reasonable scenario in which you would want/need to account for new statuses or new mappings (or drop existing ones) without changing the code.\r\n- You rely on at least some enum features available out of the box, so you would have to reimplement those by hand. E.g. values() listed in a determinate order, valueOf() used with canonical String labels, ordinal() to infer position, compareTo(), name(), serialization, etc.\r\n- You use the enum constants polymorphically (and maybe you need to alter the behavior for some of them without a full-fledged class hierarchy) or you want to leverage the compiler check for exhaustive case branches in switch expressions (with newer java versions).\r\n","title":"Is there any alternate way to replace complex enum?","body":"<p>The concern about the enum getting more and more complex is only valid if that complexity is accidental, not inherent. Otherwise, switching to a different approach would just move that complexity elsewhere (which kind of seems to be the case in your example). I think it makes sense to keep the enum (even if it grows complex) iif the following conditions are met:</p>\n<ul>\n<li>There is no reasonable scenario in which you would want/need to account for new statuses or new mappings (or drop existing ones) without changing the code.</li>\n<li>You rely on at least some enum features available out of the box, so you would have to reimplement those by hand. E.g. values() listed in a determinate order, valueOf() used with canonical String labels, ordinal() to infer position, compareTo(), name(), serialization, etc.</li>\n<li>You use the enum constants polymorphically (and maybe you need to alter the behavior for some of them without a full-fledged class hierarchy) or you want to leverage the compiler check for exhaustive case branches in switch expressions (with newer java versions).</li>\n</ul>\n"}],"owner":{"account_id":7691896,"reputation":793,"user_id":5827891,"accept_rate":50,"display_name":"DarkCrow"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1673575385,"creation_date":1672746088,"question_id":74992881,"body_markdown":"I have a complex enum class in my spring boot application which holds different status values for different systems.\r\n\r\n```\r\npackage com.foo;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\npublic enum Status {\r\n    FOO_STATUS(&quot;Status1&quot; ,&quot;status_1&quot;, &quot;STATUS_1&quot;, &quot;stat1&quot;),\r\n    BAR_STATUS(&quot;Status2&quot; ,&quot;status_2&quot;, &quot;STATUS_2&quot;, &quot;stat2&quot; ),\r\n    FOO1_STATUS(&quot;Status3&quot; ,&quot;status_3&quot;, &quot;STATUS_3&quot;, &quot;stat3&quot; ),\r\n    BAR1_STATUS(&quot;Status4&quot; ,&quot;status_4&quot;, &quot;STATUS_4&quot;, &quot;stat4&quot; ),\r\n    ....\r\n\t....\r\n\t....\r\n\r\n    private final String system1Status;\r\n    private final String system2Status;\r\n    private final String system3Status;\r\n    private final String system4Status;\r\n    private static Map&lt;String, String&gt; statusMap;\r\n\r\n    Status(String system1Status, String system2Status, String system3Status, String system4Status) {\r\n        this.system1Status = system1Status;\r\n        this.system2Status = system2Status;\r\n        this.system3Status = system3Status;\r\n        this.system4Status = system4Status;\r\n    }\r\n\r\n\r\n    public String getSystem1Status() {\r\n        return system1Status;\r\n    }\r\n\r\n    public String getSystem2Status() {\r\n        return system2Status;\r\n    }\r\n\r\n    public String getSystem3Status() { \r\n\t    return system3Status;\r\n    }\r\n\r\n    public String getSystem4Status() {\r\n        return system4Status;\r\n    }\r\n\r\n    private static void initializeMapping() {\r\n        statusMap = new HashMap&lt;&gt;();\r\n        for (Status map : Status.values()) {\r\n            statusMap.put(map.getSystem1Status(), map.getSystem2Status());\r\n        }\r\n    }\r\n\r\n    public static String getSystem2StatusForSytem1Status(String status) {\r\n        if (statusMap == null) {\r\n            initializeMapping();\r\n        }\r\n        if (statusMap.containsKey(status)) {\r\n            return statusMap.get(status);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static String getSystem3StatusForSytem1Status(String status) {\r\n        ....\r\n    }\r\n\r\n    public static String getSystem4StatusForSytem2Status(String status) {\r\n        ....\r\n    }\r\n\r\n    public static String getSystem3StatusForSytem2Status(String status) {\r\n        ....\r\n    }\r\n\t\r\n\t....\r\n\t\r\n\t....\r\n\r\n}\r\n```\r\n\r\nThe enum holds status string mapping for various systems. It also has methods to get different system status by supplying the current system status.\r\n\r\nEx: We can get System1 status by sending the System 2 status value.\r\n\r\nAs the enum is getting more complex , is there any alternate way to hold this static data?\r\n\r\nPS: I know this can be moved to a reference table in DB, But I am looking for any alternate within the code (like loading from yaml file).\r\n\r\n","title":"Is there any alternate way to replace complex enum?","body":"<p>I have a complex enum class in my spring boot application which holds different status values for different systems.</p>\n<pre><code>package com.foo;\n\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.Map;\nimport java.util.Set;\n\npublic enum Status {\n    FOO_STATUS(&quot;Status1&quot; ,&quot;status_1&quot;, &quot;STATUS_1&quot;, &quot;stat1&quot;),\n    BAR_STATUS(&quot;Status2&quot; ,&quot;status_2&quot;, &quot;STATUS_2&quot;, &quot;stat2&quot; ),\n    FOO1_STATUS(&quot;Status3&quot; ,&quot;status_3&quot;, &quot;STATUS_3&quot;, &quot;stat3&quot; ),\n    BAR1_STATUS(&quot;Status4&quot; ,&quot;status_4&quot;, &quot;STATUS_4&quot;, &quot;stat4&quot; ),\n    ....\n    ....\n    ....\n\n    private final String system1Status;\n    private final String system2Status;\n    private final String system3Status;\n    private final String system4Status;\n    private static Map&lt;String, String&gt; statusMap;\n\n    Status(String system1Status, String system2Status, String system3Status, String system4Status) {\n        this.system1Status = system1Status;\n        this.system2Status = system2Status;\n        this.system3Status = system3Status;\n        this.system4Status = system4Status;\n    }\n\n\n    public String getSystem1Status() {\n        return system1Status;\n    }\n\n    public String getSystem2Status() {\n        return system2Status;\n    }\n\n    public String getSystem3Status() { \n        return system3Status;\n    }\n\n    public String getSystem4Status() {\n        return system4Status;\n    }\n\n    private static void initializeMapping() {\n        statusMap = new HashMap&lt;&gt;();\n        for (Status map : Status.values()) {\n            statusMap.put(map.getSystem1Status(), map.getSystem2Status());\n        }\n    }\n\n    public static String getSystem2StatusForSytem1Status(String status) {\n        if (statusMap == null) {\n            initializeMapping();\n        }\n        if (statusMap.containsKey(status)) {\n            return statusMap.get(status);\n        }\n        return null;\n    }\n\n    public static String getSystem3StatusForSytem1Status(String status) {\n        ....\n    }\n\n    public static String getSystem4StatusForSytem2Status(String status) {\n        ....\n    }\n\n    public static String getSystem3StatusForSytem2Status(String status) {\n        ....\n    }\n    \n    ....\n    \n    ....\n\n}\n</code></pre>\n<p>The enum holds status string mapping for various systems. It also has methods to get different system status by supplying the current system status.</p>\n<p>Ex: We can get System1 status by sending the System 2 status value.</p>\n<p>As the enum is getting more complex , is there any alternate way to hold this static data?</p>\n<p>PS: I know this can be moved to a reference table in DB, But I am looking for any alternate within the code (like loading from yaml file).</p>\n"},{"tags":["java","freemarker"],"comments":[{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":1,"creation_date":1323250364,"post_id":8400123,"comment_id":10391330,"body_markdown":"What `cache_storage` and what `TemplateLoader` are you using? What does `${.version}` print? As of the question in bold, I distinctly remember a user had such issue, but I can&#39;t find the thread, and anyway AFAIR he was just gone and I couldn&#39;t reproduce this myself.","body":"What <code>cache_storage</code> and what <code>TemplateLoader</code> are you using? What does <code>${.version}</code> print? As of the question in bold, I distinctly remember a user had such issue, but I can&#39;t find the thread, and anyway AFAIR he was just gone and I couldn&#39;t reproduce this myself."},{"owner":{"account_id":26276,"reputation":1364,"user_id":68217,"accept_rate":71,"display_name":"Aaron Chambers"},"score":0,"creation_date":1326375444,"post_id":8400123,"comment_id":11032571,"body_markdown":"Not sure about the `cache_storage` mate, but using the standard Freemarker `TemplateLoader`.  Haven&#39;t experienced this issue again since I posted this question but it would be nice to find out what the issue was.","body":"Not sure about the <code>cache_storage</code> mate, but using the standard Freemarker <code>TemplateLoader</code>.  Haven&#39;t experienced this issue again since I posted this question but it would be nice to find out what the issue was."},{"owner":{"account_id":299854,"reputation":29886,"user_id":606679,"accept_rate":25,"display_name":"ddekany"},"score":1,"creation_date":1326474341,"post_id":8400123,"comment_id":11060686,"body_markdown":"There&#39;s no standard `TemplateLoader`. Anyway, if the VM starts to run out of heap space, depending on the cache used, it starts to discard templates from the cache, so they need to be reloaded from the file system when they are next needed. Would that fail, because of some resource shortage (like, even, running out of file handles), I can imagine it ends up like this. Nothing suspicious in the logs around the time of the failure?","body":"There&#39;s no standard <code>TemplateLoader</code>. Anyway, if the VM starts to run out of heap space, depending on the cache used, it starts to discard templates from the cache, so they need to be reloaded from the file system when they are next needed. Would that fail, because of some resource shortage (like, even, running out of file handles), I can imagine it ends up like this. Nothing suspicious in the logs around the time of the failure?"},{"owner":{"account_id":100259,"reputation":2880,"user_id":270349,"accept_rate":62,"display_name":"aalku"},"score":0,"creation_date":1380191610,"post_id":8400123,"comment_id":28112493,"body_markdown":"I noticed the class freemarker.cache.TemplateCache synchronizes accesses on some storages and does not on other ones but clear() method is always synchronized. That might be a bug since clear might be designed to be atomical but it might actually run concurrently with other non-synchronized accesses.","body":"I noticed the class freemarker.cache.TemplateCache synchronizes accesses on some storages and does not on other ones but clear() method is always synchronized. That might be a bug since clear might be designed to be atomical but it might actually run concurrently with other non-synchronized accesses."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1391282392,"post_id":8400123,"comment_id":32460498,"body_markdown":"If this is due to a bug in Freemarker, knowing thd precise version of Freemarker will be important.","body":"If this is due to a bug in Freemarker, knowing thd precise version of Freemarker will be important."}],"owner":{"account_id":26276,"reputation":1364,"user_id":68217,"accept_rate":71,"display_name":"Aaron Chambers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":976,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1673575049,"creation_date":1323175716,"question_id":8400123,"body_markdown":"We&#39;ve just rolled out some changes to our application and we experienced some Freemarker exceptions intermittently this morning.\r\n\r\nOur Freemarker template called `monitoring.ftl` includes `header.ftl` which in turn includes `header_setup.ftl`\r\n\r\nIn both dev and testing, we have not experienced this exception and since about 9:30 this morning, the exception has not occured in Prod (ie, the template exists and does work for the most part), but before that there was a number of times when the exception below was logged.  And this seemed to be during our peak load time.\r\n\r\nSo my question is, **has anyone experienced Freemarker intermittently not being able to find a template when under load?**\r\n\r\n\r\n    06-Dec-2011 08:10:11 freemarker.log.JDK14LoggerFactory$JDK14Logger error\r\n    SEVERE: Template processing error: &quot;Error reading included file WEB-INF/templates/includes/header_setup.ftl&quot;\r\n    \r\n    Error reading included file WEB-INF/templates/includes/header_setup.ftl\r\n    The problematic instruction:\r\n    ----------\r\n    ==&gt; include &quot;/WEB-INF/templates/includes/header_setup.ftl&quot; [on line 5, column 17 in WEB-INF/templates/includes/header.ftl]\r\n     in include &quot;/WEB-INF/templates/includes/header.ftl&quot; [on line 13, column 5 in WEB-INF/templates/monitoring/monitoring.ftl]\r\n    ----------\r\n    \r\n    Java backtrace for programmers:\r\n    ----------\r\n    freemarker.template.TemplateException: Error reading included file WEB-INF/templates/includes/header_setup.ftl\r\n            at freemarker.core.Include.accept(Include.java:167)\r\n            at freemarker.core.Environment.visit(Environment.java:221)\r\n            at freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n            at freemarker.core.Environment.visit(Environment.java:221)\r\n            at freemarker.core.Environment.include(Environment.java:1508)\r\n            at freemarker.core.Include.accept(Include.java:169)\r\n            at freemarker.core.Environment.visit(Environment.java:221)\r\n            at freemarker.core.MixedContent.accept(MixedContent.java:92)\r\n            at freemarker.core.Environment.visit(Environment.java:221)\r\n            at freemarker.core.Environment.process(Environment.java:199)\r\n            at freemarker.template.Template.process(Template.java:237)\r\n            at com.gorkana.gdm.jersey.viewprocessors.FreemarkerViewProcessor.writeTo(FreemarkerViewProcessor.java:96)\r\n            at com.gorkana.gdm.jersey.viewprocessors.FreemarkerViewProcessor.writeTo(FreemarkerViewProcessor.java:28)\r\n            at com.sun.jersey.spi.template.ResolvedViewable.writeTo(ResolvedViewable.java:103)\r\n            at com.sun.jersey.server.impl.template.ViewableMessageBodyWriter.writeTo(ViewableMessageBodyWriter.java:83)\r\n            at com.sun.jersey.server.impl.template.ViewableMessageBodyWriter.writeTo(ViewableMessageBodyWriter.java:62)\r\n            at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)\r\n            at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1437)\r\n            at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\r\n            at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\r\n            at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\r\n            at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\r\n            at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)\r\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n            at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:263)\r\n            at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:178)\r\n            at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:91)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:62)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.gorkana.gdm.guice.filters.MonitoringSecurityFilter.doFilter(MonitoringSecurityFilter.java:25)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n    at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.gorkana.gdm.guice.filters.PermissionsAndPreferencesFilter.doFilter(PermissionsAndPreferencesFilter.java:27)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.gorkana.gdm.guice.filters.LoggedInUserRequiredFilter.doFilter(LoggedInUserRequiredFilter.java:30)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\r\n            at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\r\n            at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:118)\r\n            at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:113)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n            at com.blacksunplc.durrants.dmm.servlets.ExceptionAlerterFilter.doFilter(ExceptionAlerterFilter.java:53)\r\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\r\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:185)\r\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\r\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151)\r\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n            at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\r\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\r\n            at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:269)\r\n            at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\r\n            at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n            at java.lang.Thread.run(Thread.java:662)\r\n    Caused by: java.io.FileNotFoundException: Template WEB-INF/templates/includes/header_setup.ftl not found.\r\n            at freemarker.template.Configuration.getTemplate(Configuration.java:495)\r\n    \r\n    at freemarker.core.Environment.getTemplateForInclusion(Environment.java:1490)\r\n            at freemarker.core.Include.accept(Include.java:157)\r\n            ... 83 more\r\n\r\n","title":"Intermittent Freemarker Template Exception, seemingly when under load","body":"<p>We've just rolled out some changes to our application and we experienced some Freemarker exceptions intermittently this morning.</p>\n\n<p>Our Freemarker template called <code>monitoring.ftl</code> includes <code>header.ftl</code> which in turn includes <code>header_setup.ftl</code></p>\n\n<p>In both dev and testing, we have not experienced this exception and since about 9:30 this morning, the exception has not occured in Prod (ie, the template exists and does work for the most part), but before that there was a number of times when the exception below was logged.  And this seemed to be during our peak load time.</p>\n\n<p>So my question is, <strong>has anyone experienced Freemarker intermittently not being able to find a template when under load?</strong></p>\n\n<pre><code>06-Dec-2011 08:10:11 freemarker.log.JDK14LoggerFactory$JDK14Logger error\nSEVERE: Template processing error: \"Error reading included file WEB-INF/templates/includes/header_setup.ftl\"\n\nError reading included file WEB-INF/templates/includes/header_setup.ftl\nThe problematic instruction:\n----------\n==&gt; include \"/WEB-INF/templates/includes/header_setup.ftl\" [on line 5, column 17 in WEB-INF/templates/includes/header.ftl]\n in include \"/WEB-INF/templates/includes/header.ftl\" [on line 13, column 5 in WEB-INF/templates/monitoring/monitoring.ftl]\n----------\n\nJava backtrace for programmers:\n----------\nfreemarker.template.TemplateException: Error reading included file WEB-INF/templates/includes/header_setup.ftl\n        at freemarker.core.Include.accept(Include.java:167)\n        at freemarker.core.Environment.visit(Environment.java:221)\n        at freemarker.core.MixedContent.accept(MixedContent.java:92)\n        at freemarker.core.Environment.visit(Environment.java:221)\n        at freemarker.core.Environment.include(Environment.java:1508)\n        at freemarker.core.Include.accept(Include.java:169)\n        at freemarker.core.Environment.visit(Environment.java:221)\n        at freemarker.core.MixedContent.accept(MixedContent.java:92)\n        at freemarker.core.Environment.visit(Environment.java:221)\n        at freemarker.core.Environment.process(Environment.java:199)\n        at freemarker.template.Template.process(Template.java:237)\n        at com.gorkana.gdm.jersey.viewprocessors.FreemarkerViewProcessor.writeTo(FreemarkerViewProcessor.java:96)\n        at com.gorkana.gdm.jersey.viewprocessors.FreemarkerViewProcessor.writeTo(FreemarkerViewProcessor.java:28)\n        at com.sun.jersey.spi.template.ResolvedViewable.writeTo(ResolvedViewable.java:103)\n        at com.sun.jersey.server.impl.template.ViewableMessageBodyWriter.writeTo(ViewableMessageBodyWriter.java:83)\n        at com.sun.jersey.server.impl.template.ViewableMessageBodyWriter.writeTo(ViewableMessageBodyWriter.java:62)\n        at com.sun.jersey.spi.container.ContainerResponse.write(ContainerResponse.java:306)\n        at com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1437)\n        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\n        at com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\n        at com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:537)\n        at com.sun.jersey.spi.container.servlet.ServletContainer.service(ServletContainer.java:708)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n        at com.google.inject.servlet.ServletDefinition.doService(ServletDefinition.java:263)\n        at com.google.inject.servlet.ServletDefinition.service(ServletDefinition.java:178)\n        at com.google.inject.servlet.ManagedServletPipeline.service(ManagedServletPipeline.java:91)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:62)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.gorkana.gdm.guice.filters.MonitoringSecurityFilter.doFilter(MonitoringSecurityFilter.java:25)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\nat com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.gorkana.gdm.guice.filters.PermissionsAndPreferencesFilter.doFilter(PermissionsAndPreferencesFilter.java:27)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.gorkana.gdm.guice.filters.LoggedInUserRequiredFilter.doFilter(LoggedInUserRequiredFilter.java:30)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:163)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.FilterDefinition.doFilter(FilterDefinition.java:168)\n        at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:58)\n        at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:118)\n        at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:113)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n        at com.blacksunplc.durrants.dmm.servlets.ExceptionAlerterFilter.doFilter(ExceptionAlerterFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:224)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:185)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:472)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:929)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:405)\n        at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:269)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:515)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:300)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:662)\nCaused by: java.io.FileNotFoundException: Template WEB-INF/templates/includes/header_setup.ftl not found.\n        at freemarker.template.Configuration.getTemplate(Configuration.java:495)\n\nat freemarker.core.Environment.getTemplateForInclusion(Environment.java:1490)\n        at freemarker.core.Include.accept(Include.java:157)\n        ... 83 more\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1422458535,"post_id":28195677,"comment_id":44758402,"body_markdown":"`ExtendedModelMap` is extending `ModelMap` and implementing `ModelMap`. When using the `Model` you can chain method calls as most methods return `Model` with a `Map` or `ModelMap` this isn&#39;t the case.","body":"<code>ExtendedModelMap</code> is extending <code>ModelMap</code> and implementing <code>ModelMap</code>. When using the <code>Model</code> you can chain method calls as most methods return <code>Model</code> with a <code>Map</code> or <code>ModelMap</code> this isn&#39;t the case."},{"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"score":0,"creation_date":1422459342,"post_id":28195677,"comment_id":44759012,"body_markdown":"thanks for `ExtendedModelMap`. AFAIK you can chain calls with `ModelMap` as well (in difference to `Map` that I have already noticed).","body":"thanks for <code>ExtendedModelMap</code>. AFAIK you can chain calls with <code>ModelMap</code> as well (in difference to <code>Map</code> that I have already noticed)."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1422466962,"post_id":28195677,"comment_id":44764087,"body_markdown":"Ah yes you are right. `ModelMap` also predates the `Model` interface. For that interface there are basically 2 implementations, the `ExtendedModelMap` and the `RedirectAttributesModelMap` (there is also the `BindingAwareModelMap` which is an extension the the `ExtendedModelMap`). For the usage in the request mapping methods it doesn&#39;t really matter which one to use, although I would probably suggest to use the `Model` interface instead one of the implementations. But that is highly opinionated :).","body":"Ah yes you are right. <code>ModelMap</code> also predates the <code>Model</code> interface. For that interface there are basically 2 implementations, the <code>ExtendedModelMap</code> and the <code>RedirectAttributesModelMap</code> (there is also the <code>BindingAwareModelMap</code> which is an extension the the <code>ExtendedModelMap</code>). For the usage in the request mapping methods it doesn&#39;t really matter which one to use, although I would probably suggest to use the <code>Model</code> interface instead one of the implementations. But that is highly opinionated :)."},{"owner":{"account_id":332757,"reputation":632,"user_id":658226,"display_name":"Laky"},"score":0,"creation_date":1518076844,"post_id":28195677,"comment_id":84357748,"body_markdown":"answer for a similar question can be found at https://stackoverflow.com/questions/18486660/what-are-the-differences-between-model-modelmap-and-modelandview","body":"answer for a similar question can be found at <a href=\"https://stackoverflow.com/questions/18486660/what-are-the-differences-between-model-modelmap-and-modelandview\" title=\"what are the differences between model modelmap and modelandview\">stackoverflow.com/questions/18486660/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":7244757,"reputation":850,"user_id":5527079,"display_name":"Nick Wills"},"score":5,"creation_date":1578287976,"post_id":48680506,"comment_id":105377745,"body_markdown":"Hi, \nThe sample code provided does not seem to demonstrate the ability &quot;to pass a collection of values&quot; .  \n\nWhen i look at the API for Model (not ModelMap), i notice that Model also provide api called add addAllAttributes, which also allow &quot;to pass a collection of values&quot;. \n\nSo ultimately, I still don&#39;t see the difference between modelMap and Model.","body":"Hi,  The sample code provided does not seem to demonstrate the ability &quot;to pass a collection of values&quot; .    When i look at the API for Model (not ModelMap), i notice that Model also provide api called add addAllAttributes, which also allow &quot;to pass a collection of values&quot;.   So ultimately, I still don&#39;t see the difference between modelMap and Model."}],"tags":[],"owner":{"account_id":332757,"reputation":632,"user_id":658226,"display_name":"Laky"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1518077278,"creation_date":1518077278,"answer_id":48680506,"question_id":28195677,"body_markdown":"`Model` - Java-5-specific interface that defines a holder for model attributes. Primarily designed for adding attributes to the model. Allows for accessing the overall model as a java.util.Map.\r\n\r\nSimply put, the model can supply attributes used for rendering views.\r\n\r\n\r\n----------\r\n\r\n\r\n`ModelMap` -  ModelMap class is basically a LinkedHashMap. It add some methods for convenience. Just like the **Model** interface above, **ModelMap** is also used to pass values to render a view.\r\n\r\nThe advantage of ModelMap is it gives us the ability to pass a collection of values and treat these values as if they were within a Map:\r\n\r\n    @GetMapping(&quot;/printViewPage&quot;)\r\n    public String passParametersWithModelMap(ModelMap map) {\r\n        map.addAttribute(&quot;welcomeMessage&quot;, &quot;welcome&quot;);\r\n        map.addAttribute(&quot;message&quot;, &quot;Baeldung&quot;);\r\n        return &quot;viewPage&quot;;\r\n    }\r\n\r\nreference;\r\n\r\n - https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html\r\n - https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html","title":"ModelMap vs Model in Spring MVC","body":"<p><code>Model</code> - Java-5-specific interface that defines a holder for model attributes. Primarily designed for adding attributes to the model. Allows for accessing the overall model as a java.util.Map.</p>\n\n<p>Simply put, the model can supply attributes used for rendering views.</p>\n\n<hr>\n\n<p><code>ModelMap</code> -  ModelMap class is basically a LinkedHashMap. It add some methods for convenience. Just like the <strong>Model</strong> interface above, <strong>ModelMap</strong> is also used to pass values to render a view.</p>\n\n<p>The advantage of ModelMap is it gives us the ability to pass a collection of values and treat these values as if they were within a Map:</p>\n\n<pre><code>@GetMapping(\"/printViewPage\")\npublic String passParametersWithModelMap(ModelMap map) {\n    map.addAttribute(\"welcomeMessage\", \"welcome\");\n    map.addAttribute(\"message\", \"Baeldung\");\n    return \"viewPage\";\n}\n</code></pre>\n\n<p>reference;</p>\n\n<ul>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html</a></li>\n<li><a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html</a></li>\n</ul>\n"}],"owner":{"account_id":1149899,"reputation":4675,"user_id":1131829,"accept_rate":60,"display_name":"sodik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4709,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":1,"score":11,"last_activity_date":1673574272,"creation_date":1422457916,"question_id":28195677,"body_markdown":"I am comparing [ModelMap][1] and [Model][2] from Spring MVC. Apart from obvious difference that first is a class and second an interface **is there any difference that make a usage of one or another preferable in different situations?**\r\n\r\nPrimarily they are used for same purpose (as from [spring MVC][3] documentation):\r\n\r\n&gt; java.util.Map / org.springframework.ui.Model /\r\n&gt; org.springframework.ui.ModelMap for enriching the implicit model that\r\n&gt; is exposed to the web view.\r\n\r\nOnly I have found out there it that `ModelMap` is enhanced `Map`, however difference to `Model` is still unclear.\r\n\r\nCan I conclude from ModelMap javadoc that &#39;Model&#39; is preferred for java 5?\r\n\r\n&gt; Check out the Model interface for a Java-5-based interface variant\r\n&gt; that serves the same purpose.\r\n\r\nHowever it does not seem that `ModelMap` would be deprecated or something. But why does `ModelMap` does not implement `Model`?\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html\r\n  [3]: http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html","title":"ModelMap vs Model in Spring MVC","body":"<p>I am comparing <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/ModelMap.html\" rel=\"noreferrer\">ModelMap</a> and <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/ui/Model.html\" rel=\"noreferrer\">Model</a> from Spring MVC. Apart from obvious difference that first is a class and second an interface <strong>is there any difference that make a usage of one or another preferable in different situations?</strong></p>\n\n<p>Primarily they are used for same purpose (as from <a href=\"http://docs.spring.io/spring/docs/3.2.x/spring-framework-reference/html/mvc.html\" rel=\"noreferrer\">spring MVC</a> documentation):</p>\n\n<blockquote>\n  <p>java.util.Map / org.springframework.ui.Model /\n  org.springframework.ui.ModelMap for enriching the implicit model that\n  is exposed to the web view.</p>\n</blockquote>\n\n<p>Only I have found out there it that <code>ModelMap</code> is enhanced <code>Map</code>, however difference to <code>Model</code> is still unclear.</p>\n\n<p>Can I conclude from ModelMap javadoc that 'Model' is preferred for java 5?</p>\n\n<blockquote>\n  <p>Check out the Model interface for a Java-5-based interface variant\n  that serves the same purpose.</p>\n</blockquote>\n\n<p>However it does not seem that <code>ModelMap</code> would be deprecated or something. But why does <code>ModelMap</code> does not implement <code>Model</code>?</p>\n"},{"tags":["java","spring","spring-mvc","asynchronous","timeout"],"comments":[{"owner":{"account_id":1920229,"reputation":3923,"user_id":1731935,"accept_rate":75,"display_name":"Manuel"},"score":2,"creation_date":1644682081,"post_id":64817390,"comment_id":125673591,"body_markdown":"Show us some code. What annotation did you use on your Controller?","body":"Show us some code. What annotation did you use on your Controller?"},{"owner":{"account_id":211446,"reputation":12681,"user_id":463623,"accept_rate":47,"display_name":"Euphoric"},"score":0,"creation_date":1644684062,"post_id":64817390,"comment_id":125674021,"body_markdown":"@Manuel Sorry, this was so long ago I neither remember, nor have access to the code anymore. If you know about annotation that would make this work, then please post an answer.","body":"@Manuel Sorry, this was so long ago I neither remember, nor have access to the code anymore. If you know about annotation that would make this work, then please post an answer."}],"owner":{"account_id":211446,"reputation":12681,"user_id":463623,"accept_rate":47,"display_name":"Euphoric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1328,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":0,"score":11,"last_activity_date":1673574140,"creation_date":1605254683,"question_id":64817390,"body_markdown":"I have a spring MVC endpoint returning `StreamingResponseBody` so I can stream big file instead of keeping it in memory.\r\n\r\nThe request can take a while to download so it is timing out. I can fix it by setting `spring.mvc.async.request-timeout=360000`, but I don&#39;t want this setting to apply globally to all endpoints.\r\n\r\nIs there way to set request-timeout only for this specific endpoint?\r\n\r\nI did find https://stackoverflow.com/questions/47025525/set-timeout-for-specific-async-request-in-spring-boot, but I don&#39;t think that applies to my code using `StreamingResponseBody`.\r\n\r\nI have also found https://stackoverflow.com/questions/61030650/spring-rest-endpoint-returning-streamingresponsebody-asyncrequesttimeoutexcepti, which doesn&#39;t have the desired effect.","title":"Request timeout for endpoint using StreamingResponseBody in Spring","body":"<p>I have a spring MVC endpoint returning <code>StreamingResponseBody</code> so I can stream big file instead of keeping it in memory.</p>\n<p>The request can take a while to download so it is timing out. I can fix it by setting <code>spring.mvc.async.request-timeout=360000</code>, but I don't want this setting to apply globally to all endpoints.</p>\n<p>Is there way to set request-timeout only for this specific endpoint?</p>\n<p>I did find <a href=\"https://stackoverflow.com/questions/47025525/set-timeout-for-specific-async-request-in-spring-boot\">Set timeout for specific async request in Spring-boot</a>, but I don't think that applies to my code using <code>StreamingResponseBody</code>.</p>\n<p>I have also found <a href=\"https://stackoverflow.com/questions/61030650/spring-rest-endpoint-returning-streamingresponsebody-asyncrequesttimeoutexcepti\">Spring REST endpoint returning StreamingResponseBody: AsyncRequestTimeoutException after 30 seconds</a>, which doesn't have the desired effect.</p>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1673572685,"post_id":75103903,"comment_id":132535411,"body_markdown":"No. What ends up in `Object value` is whatever `foo.bar()` evaluated to.","body":"No. What ends up in <code>Object value</code> is whatever <code>foo.bar()</code> evaluated to."},{"owner":{"account_id":21033286,"reputation":92,"user_id":15457175,"display_name":"Zhiqiang Guo"},"score":0,"creation_date":1673573796,"post_id":75103903,"comment_id":132535584,"body_markdown":"Does ```Thread.currentThread().getStackTrace()``` meet your demand?","body":"Does <code>Thread.currentThread().getStackTrace()</code> meet your demand?"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673573990,"creation_date":1673573990,"answer_id":75104049,"question_id":75103903,"body_markdown":"You can log where `capture` was called:\r\n```\r\npublic class Test {\r\n    public static void capture(Object value) {\r\n        Exception e = new Exception();\r\n        System.out.println(&quot;captured value &quot; + value + &quot; at &quot; + e.getStackTrace()[1]);\r\n    }\r\n\r\n    public static void someFunc() {\r\n        capture(&quot;alice&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        capture(&quot;fred&quot;);\r\n        someFunc();\r\n    }\r\n}\r\n```\r\n\r\nwhich prints:\r\n```\r\ncaptured value fred at Test.main(Test.java:25)\r\ncaptured value alice at Test.someFunc(Test.java:21)\r\n```\r\n","title":"How to get the method&#39;s parameter expression stack or string representation?","body":"<p>You can log where <code>capture</code> was called:</p>\n<pre><code>public class Test {\n    public static void capture(Object value) {\n        Exception e = new Exception();\n        System.out.println(&quot;captured value &quot; + value + &quot; at &quot; + e.getStackTrace()[1]);\n    }\n\n    public static void someFunc() {\n        capture(&quot;alice&quot;);\n    }\n\n    public static void main(String[] args) {\n        capture(&quot;fred&quot;);\n        someFunc();\n    }\n}\n</code></pre>\n<p>which prints:</p>\n<pre><code>captured value fred at Test.main(Test.java:25)\ncaptured value alice at Test.someFunc(Test.java:21)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1673573992,"creation_date":1673573992,"answer_id":75104051,"question_id":75103903,"body_markdown":"The only way you could use the stack to figure out something about the `foo.bar()` call is to run that `capture()` code from within the `bar()` method itself, i.e. some AOP framework or some `java.lang.reflect.Proxy`-based approach to inject your code into `bar()` itself.\r\n\r\nThe stack of `capture()` in your example can never hint at `foo.bar()`, but to whatever method called `capture`. If you make `foo.bar()` invoke it, you can get the `TypeOfFoo.bar()` information from `Thread.currentThread().getStackTrace()[1]`.\r\n\r\nHowever, there&#39;s no way to figure out the name `foo` (in your example), so you would have to live with `captured TypeOfFoo.bar() with value ...`","title":"How to get the method&#39;s parameter expression stack or string representation?","body":"<p>The only way you could use the stack to figure out something about the <code>foo.bar()</code> call is to run that <code>capture()</code> code from within the <code>bar()</code> method itself, i.e. some AOP framework or some <code>java.lang.reflect.Proxy</code>-based approach to inject your code into <code>bar()</code> itself.</p>\n<p>The stack of <code>capture()</code> in your example can never hint at <code>foo.bar()</code>, but to whatever method called <code>capture</code>. If you make <code>foo.bar()</code> invoke it, you can get the <code>TypeOfFoo.bar()</code> information from <code>Thread.currentThread().getStackTrace()[1]</code>.</p>\n<p>However, there's no way to figure out the name <code>foo</code> (in your example), so you would have to live with <code>captured TypeOfFoo.bar() with value ...</code></p>\n"}],"owner":{"account_id":1324957,"reputation":15152,"user_id":1270003,"accept_rate":87,"display_name":"SwiftMango"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75104051,"answer_count":2,"score":0,"last_activity_date":1673573992,"creation_date":1673572263,"question_id":75103903,"body_markdown":"I am writing a method for debugging and metrics capturing, such that:\r\n\r\n    void capture(Object value, String debugName) {\r\n      System.out.println(&quot;captured &quot; + debugName + &quot; with value &quot; + value);\r\n    }\r\n\r\nand calling it with:\r\n\r\n    capture(foo.bar(), &quot;foo.bar&quot;);\r\n\r\nIs there any way to get the value expression string directly, so I don&#39;t need to pass the debugName? Something like:\r\n\r\n    void capture(Object value) {\r\n      System.out.println(&quot;captured &quot; + getStack(value) + &quot; with value &quot; + value);\r\n    }","title":"How to get the method&#39;s parameter expression stack or string representation?","body":"<p>I am writing a method for debugging and metrics capturing, such that:</p>\n<pre><code>void capture(Object value, String debugName) {\n  System.out.println(&quot;captured &quot; + debugName + &quot; with value &quot; + value);\n}\n</code></pre>\n<p>and calling it with:</p>\n<pre><code>capture(foo.bar(), &quot;foo.bar&quot;);\n</code></pre>\n<p>Is there any way to get the value expression string directly, so I don't need to pass the debugName? Something like:</p>\n<pre><code>void capture(Object value) {\n  System.out.println(&quot;captured &quot; + getStack(value) + &quot; with value &quot; + value);\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1589716461,"post_id":61851166,"comment_id":109397759,"body_markdown":"`ComponentScan` will not pick up any of your classes. Move the classes/packages under the root package `com.example.demo` . eg : `com.example.demo.controller` . `@SpringBootApplication` annotation does a component scan considering the current package as the root package , unless otherwise specified.","body":"<code>ComponentScan</code> will not pick up any of your classes. Move the classes/packages under the root package <code>com.example.demo</code> . eg : <code>com.example.demo.controller</code> . <code>@SpringBootApplication</code> annotation does a component scan considering the current package as the root package , unless otherwise specified."},{"owner":{"account_id":966321,"reputation":803,"user_id":4573580,"display_name":"Dmitry Ionash"},"score":0,"creation_date":1589719097,"post_id":61851166,"comment_id":109398672,"body_markdown":"Or you can add all these beans in @ComponentScan(basePackageClasses = {model.Sample.class, repository.SampleRepository.clas, ...}). But it&#39;s not a good solution, project hierarchy much better.","body":"Or you can add all these beans in @ComponentScan(basePackageClasses = {model.Sample.class, repository.SampleRepository.clas, ...}). But it&#39;s not a good solution, project hierarchy much better."}],"answers":[{"tags":[],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589721151,"creation_date":1589721151,"answer_id":61852351,"question_id":61851166,"body_markdown":"You have to place the ```SampleController.java``` in ```com.example.demo.controller``` &amp; ```SampleRepository.java``` in ```com.example.demo.repository```. Or all the files should be in ```com.example.demo``` folder. \r\n\r\nBecause ```@SpringBootApplication``` has to scan all the components. Go through this doc for better understanding https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/html/using-boot-structuring-your-code.html.","title":"cant connect to mysql databse using spring boot","body":"<p>You have to place the <code>SampleController.java</code> in <code>com.example.demo.controller</code> &amp; <code>SampleRepository.java</code> in <code>com.example.demo.repository</code>. Or all the files should be in <code>com.example.demo</code> folder. </p>\n\n<p>Because <code>@SpringBootApplication</code> has to scan all the components. Go through this doc for better understanding <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/html/using-boot-structuring-your-code.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.0.RELEASE/reference/html/using-boot-structuring-your-code.html</a>.</p>\n"}],"owner":{"account_id":18606972,"reputation":1,"user_id":13560363,"display_name":"dali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1673573607,"creation_date":1589715553,"question_id":61851166,"body_markdown":"When I am hitting url(*http://localhost:8080/pjt/samples*) in Postman for json data,it shows the following error.\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2020-05-17T10:54:26.705+0000&quot;,\r\n        &quot;status&quot;: 404,\r\n        &quot;error&quot;: &quot;Not Found&quot;,\r\n        &quot;message&quot;: &quot;No message available&quot;,\r\n        &quot;path&quot;: &quot;/pjt/samples&quot;\r\n    }\r\n\r\n\r\n1)pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;samplepjt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;samplepjt&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n2)model:\r\n\r\n    package model;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;samples&quot;)\r\n    public class Sample {\r\n    \tprivate Long id ;\r\n    \tprivate String  name;\r\n    \tprivate String city;\r\n    \t\r\n    \tpublic Sample(String name, String city) {\r\n    \t\t\r\n    \t\tthis.name = name;\r\n    \t\tthis.city = city;\r\n    \t}\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.AUTO)\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t\r\n    \t@Column(name = &quot;name&quot;, nullable = false)\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \t\r\n    \t@Column(name = &quot;city&quot;, nullable = false)\r\n    \tpublic String getCity() {\r\n    \t\treturn city;\r\n    \t}\r\n    \tpublic void setCity(String city) {\r\n    \t\tthis.city = city;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n        public String toString() {\r\n            return &quot;Sample [id=&quot; + id + &quot;,name=&quot; + name + &quot;, city=&quot; + city +  &quot;]&quot;;\r\n        }\r\n    }\r\n\r\n3)repository\r\n\r\n    package repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import model.Sample;\r\n    \r\n    @Repository\r\n    public interface SampleRepository  extends JpaRepository&lt;Sample,Long&gt;{\r\n    \r\n    }\r\n\r\n4)controller\r\n\r\n    package controller;\r\n    \r\n    import java.util.List;\r\n    import javax.validation.Valid;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import model.Sample;\r\n    import repository.SampleRepository;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/pjt&quot;)\r\n    public class SampleController {\r\n    \t\r\n    \t@Autowired\r\n    \tprivate SampleRepository sampleRepository;\r\n    \t\r\n       \t @PostMapping(&quot;/samples&quot;)\r\n    \t    public Sample createSample(@Valid @RequestBody Sample sample) {\r\n    \t        return sampleRepository.save(sample);\r\n    \t    }\r\n    \t \r\n    \t @GetMapping(&quot;/samples&quot;)\r\n    \t    public List&lt;Sample&gt; getAllSample() {\r\n    \t        return sampleRepository.findAll();\r\n    \t    }\r\n        }\r\n\r\n5)main function\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SamplepjtApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SamplepjtApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n6)application.properties\r\n\r\n    spring.datasource.url = jdbc:mysql://localhost:3306/sampledb?useSSL=false\r\n    spring.datasource.username = root\r\n    spring.datasource.password = dali\r\n    \r\n    spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto = update\r\n\r\n .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.7.RELEASE)\r\n\r\n\r\n2020-05-17 16:47:56.159  INFO 3688 --- [           main] com.example.demo.SamplepjtApplication    : No active profile set, falling back to default profiles: default&lt;br /&gt;\r\n2020-05-17 16:47:58.395  INFO 3688 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.&lt;br /&gt;\r\n2020-05-17 16:47:58.476  INFO 3688 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49ms. Found 0 JPA repository interfaces.&lt;br /&gt;\r\n2020-05-17 16:48:00.119  INFO 3688 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)&lt;br /&gt;\r\n2020-05-17 16:48:00.142  INFO 3688 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]&lt;br /&gt;\r\n2020-05-17 16:48:00.143  INFO 3688 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.34]&lt;br /&gt;\r\n2020-05-17 16:48:00.496  INFO 3688 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext&lt;br /&gt;\r\n2020-05-17 16:48:00.497  INFO 3688 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4199 ms&lt;br /&gt;\r\n2020-05-17 16:48:00.980  INFO 3688 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]&lt;br /&gt;\r\n2020-05-17 16:48:01.156  INFO 3688 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final&lt;br /&gt;\r\n2020-05-17 16:48:01.579  INFO 3688 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}&lt;br /&gt;\r\n2020-05-17 16:48:01.898  INFO 3688 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...&lt;br /&gt;\r\n2020-05-17 16:48:02.714  INFO 3688 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.&lt;br /&gt;\r\n2020-05-17 16:48:02.771  INFO 3688 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect&lt;br /&gt;\r\n2020-05-17 16:48:03.635  INFO 3688 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation:[org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]&lt;br /&gt;\r\n2020-05-17 16:48:03.660  INFO 3688 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;&lt;br /&gt;\r\n2020-05-17 16:48:04.042  WARN 3688 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning&lt;br /&gt;\r\n2020-05-17 16:48:04.388  INFO 3688 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService &#39;applicationTaskExecutor&#39;&lt;br /&gt;\r\n2020-05-17 16:48:04.845  INFO 3688 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path &#39;&#39;&lt;br /&gt;\r\n2020-05-17 16:48:04.849  INFO 3688 --- [           main] com.example.demo.SamplepjtApplication    : Started SamplepjtApplication in 9.906 seconds (JVM running for 12.757)&lt;br /&gt;\r\n2020-05-17 16:48:13.367  INFO 3688 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;&lt;br /&gt;\r\n2020-05-17 16:48:13.369  INFO 3688 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;&lt;br /&gt;\r\n2020-05-17 16:48:13.395  INFO 3688 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 25 ms&lt;br /&gt;\r\n\r\nCan anyone help me to fix this issue?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"cant connect to mysql databse using spring boot","body":"<p>When I am hitting url(<em><a href=\"http://localhost:8080/pjt/samples\" rel=\"nofollow noreferrer\">http://localhost:8080/pjt/samples</a></em>) in Postman for json data,it shows the following error.</p>\n\n<pre><code>{\n    \"timestamp\": \"2020-05-17T10:54:26.705+0000\",\n    \"status\": 404,\n    \"error\": \"Not Found\",\n    \"message\": \"No message available\",\n    \"path\": \"/pjt/samples\"\n}\n</code></pre>\n\n<p>1)pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;samplepjt&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;samplepjt&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>2)model:</p>\n\n<pre><code>package model;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = \"samples\")\npublic class Sample {\n    private Long id ;\n    private String  name;\n    private String city;\n\n    public Sample(String name, String city) {\n\n        this.name = name;\n        this.city = city;\n    }\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    @Column(name = \"name\", nullable = false)\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    @Column(name = \"city\", nullable = false)\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n\n    @Override\n    public String toString() {\n        return \"Sample [id=\" + id + \",name=\" + name + \", city=\" + city +  \"]\";\n    }\n}\n</code></pre>\n\n<p>3)repository</p>\n\n<pre><code>package repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport model.Sample;\n\n@Repository\npublic interface SampleRepository  extends JpaRepository&lt;Sample,Long&gt;{\n\n}\n</code></pre>\n\n<p>4)controller</p>\n\n<pre><code>package controller;\n\nimport java.util.List;\nimport javax.validation.Valid;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport model.Sample;\nimport repository.SampleRepository;\n\n@RestController\n@RequestMapping(\"/pjt\")\npublic class SampleController {\n\n    @Autowired\n    private SampleRepository sampleRepository;\n\n     @PostMapping(\"/samples\")\n        public Sample createSample(@Valid @RequestBody Sample sample) {\n            return sampleRepository.save(sample);\n        }\n\n     @GetMapping(\"/samples\")\n        public List&lt;Sample&gt; getAllSample() {\n            return sampleRepository.findAll();\n        }\n    }\n</code></pre>\n\n<p>5)main function</p>\n\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SamplepjtApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SamplepjtApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>6)application.properties</p>\n\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/sampledb?useSSL=false\nspring.datasource.username = root\nspring.datasource.password = dali\n\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto = update\n</code></pre>\n\n<p>.   ____          _            __ _ _\n /\\ / <strong><em>'</em> __ _ <em>(</em>)_ __  __ _ \\ \\ \\ \\\n( ( )_</strong> | '_ | '<em>| | '</em> / <em>` | \\ \\ \\ \\\n \\/  <strong></em>)| |<em>)| | | | | || (</em>| |  ) ) ) )\n  '  |____| .</strong>|<em>| |</em>|<em>| |</em>__, | / / / /\n =========|_|==============|___/=/<em>/</em>/_/\n :: Spring Boot ::        (v2.2.7.RELEASE)</p>\n\n<p>2020-05-17 16:47:56.159  INFO 3688 --- [           main] com.example.demo.SamplepjtApplication    : No active profile set, falling back to default profiles: default<br />\n2020-05-17 16:47:58.395  INFO 3688 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.<br />\n2020-05-17 16:47:58.476  INFO 3688 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49ms. Found 0 JPA repository interfaces.<br />\n2020-05-17 16:48:00.119  INFO 3688 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8081 (http)<br />\n2020-05-17 16:48:00.142  INFO 3688 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]<br />\n2020-05-17 16:48:00.143  INFO 3688 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.34]<br />\n2020-05-17 16:48:00.496  INFO 3688 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext<br />\n2020-05-17 16:48:00.497  INFO 3688 --- [           main] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 4199 ms<br />\n2020-05-17 16:48:00.980  INFO 3688 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]<br />\n2020-05-17 16:48:01.156  INFO 3688 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.4.15.Final<br />\n2020-05-17 16:48:01.579  INFO 3688 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.0.Final}<br />\n2020-05-17 16:48:01.898  INFO 3688 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...<br />\n2020-05-17 16:48:02.714  INFO 3688 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.<br />\n2020-05-17 16:48:02.771  INFO 3688 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.MySQL5InnoDBDialect<br />\n2020-05-17 16:48:03.635  INFO 3688 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation:[org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]<br />\n2020-05-17 16:48:03.660  INFO 3688 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'<br />\n2020-05-17 16:48:04.042  WARN 3688 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning<br />\n2020-05-17 16:48:04.388  INFO 3688 --- [           main] o.s.s.concurrent.ThreadPoolTaskExecutor  : Initializing ExecutorService 'applicationTaskExecutor'<br />\n2020-05-17 16:48:04.845  INFO 3688 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8081 (http) with context path ''<br />\n2020-05-17 16:48:04.849  INFO 3688 --- [           main] com.example.demo.SamplepjtApplication    : Started SamplepjtApplication in 9.906 seconds (JVM running for 12.757)<br />\n2020-05-17 16:48:13.367  INFO 3688 --- [nio-8081-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'<br />\n2020-05-17 16:48:13.369  INFO 3688 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'<br />\n2020-05-17 16:48:13.395  INFO 3688 --- [nio-8081-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 25 ms<br /></p>\n\n<p>Can anyone help me to fix this issue?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9490,"page":733,"page_size":100}
